"use strict";(self.webpackChunkEmpathy=self.webpackChunkEmpathy||[]).push([[486],{6486:(Ce,S,c)=>{c.r(S),c.d(S,{DEV_MODE_PLUGIN_NAME:()=>K,RxDBDevModePlugin:()=>ye,areSelectorsSatisfiedByIndex:()=>N,checkFieldNameRegex:()=>U,checkMangoQuery:()=>$,checkPrimaryKey:()=>T,checkQuery:()=>J,checkSchema:()=>A,deepFreezeWhenDevMode:()=>G,disableWarnings:()=>fe,ensureCollectionNameValid:()=>q,ensureDatabaseNameIsValid:()=>I,ensureObjectDoesNotContainRegExp:()=>p,validateDatabaseName:()=>O,validateFieldsDeep:()=>E});var x,w,D,k=c(467),Q={UT1:"given name is no string or empty",UT2:"collection- and database-names must match the regex to be compatible with couchdb databases.\n    See https://neighbourhood.ie/blog/2020/10/13/everything-you-need-to-know-about-couchdb-database-names/\n    info: if your database-name specifies a folder, the name must contain the slash-char '/' or '\\'",UT3:"replication-direction must either be push or pull or both. But not none",UT4:"given leveldown is no valid adapter",UT5:"keyCompression is set to true in the schema but no key-compression handler is used in the storage",UT6:"schema contains encrypted fields but no encryption handler is used in the storage",UT7:"attachments.compression is enabled but no attachment-compression plugin is used",PL1:"Given plugin is not RxDB plugin.",PL3:"A plugin with the same name was already added but it was not the exact same JavaScript object",P2:"bulkWrite() cannot be called with an empty array",QU1:"RxQuery._execOverDatabase(): op not known",QU4:"RxQuery.regex(): You cannot use .regex() on the primary field",QU5:"RxQuery.sort(): does not work because key is not defined in the schema",QU6:"RxQuery.limit(): cannot be called on .findOne()",QU9:"throwIfMissing can only be used in findOne queries",QU10:"result empty and throwIfMissing: true",QU11:"RxQuery: no valid query params given",QU12:"Given index is not in schema",QU13:"A top level field of the query is not included in the schema",QU14:"Running a count() query in slow mode is now allowed. Either run a count() query with a selector that fully matches an index or set allowSlowCount=true when calling the createRxDatabase",QU15:"For count queries it is not allowed to use skip or limit",QU16:"$regex queries must be defined by a string, not an RegExp instance. This is because RegExp objects cannot be JSON stringified and also they are mutable which would be dangerous",QU17:"Chained queries cannot be used on findByIds() RxQuery instances",MQ1:"path must be a string or object",MQ2:"Invalid argument",MQ3:"Invalid sort() argument. Must be a string, object, or array",MQ4:"Invalid argument. Expected instanceof mquery or plain object",MQ5:"method must be used after where() when called with these arguments",MQ6:"Can't mix sort syntaxes. Use either array or object | .sort([['field', 1], ['test', -1]]) | .sort({ field: 1, test: -1 })",MQ7:"Invalid sort value",MQ8:"Can't mix sort syntaxes. Use either array or object",DB1:"RxDocument.prepare(): another instance on this adapter has a different password",DB2:"RxDatabase.addCollections(): collection-names cannot start with underscore _",DB3:"RxDatabase.addCollections(): collection already exists. use myDatabase[collectionName] to get it",DB4:"RxDatabase.addCollections(): schema is missing",DB5:"RxDatabase.addCollections(): collection-name not allowed",DB6:"RxDatabase.addCollections(): another instance created this collection with a different schema. Read this https://rxdb.info/questions-answers.html?console=qa#cant-change-the-schema ",DB8:"createRxDatabase(): A RxDatabase with the same name and adapter already exists.\nMake sure to use this combination only once or set ignoreDuplicate to true if you do this intentional-\nThis often happens in react projects with hot reload that reloads the code without reloading the process.",DB11:"createRxDatabase(): Invalid db-name, folder-paths must not have an ending slash",DB12:"RxDatabase.addCollections(): could not write to internal store",DB13:"createRxDatabase(): Invalid db-name or collection name, name contains the dollar sign",DB14:"no custom reactivity factory added on database creation",COL1:"RxDocument.insert() You cannot insert an existing document",COL2:"RxCollection.insert() fieldName ._id can only be used as primaryKey",COL3:"RxCollection.upsert() does not work without primary",COL4:"RxCollection.incrementalUpsert() does not work without primary",COL5:"RxCollection.find() if you want to search by _id, use .findOne(_id)",COL6:"RxCollection.findOne() needs a queryObject or string",COL7:"hook must be a function",COL8:"hooks-when not known",COL9:"RxCollection.addHook() hook-name not known",COL10:"RxCollection .postCreate-hooks cannot be async",COL11:"migrationStrategies must be an object",COL12:"A migrationStrategy is missing or too much",COL13:"migrationStrategy must be a function",COL14:"given static method-name is not a string",COL15:"static method-names cannot start with underscore _",COL16:"given static method is not a function",COL17:"RxCollection.ORM: statics-name not allowed",COL18:"collection-method not allowed because fieldname is in the schema",COL20:"Storage write error",COL21:"The RxCollection is destroyed or removed already, either from this JavaScript realm or from another, like a browser tab",CONFLICT:"Document update conflict. When changing a document you must work on the previous revision",DOC1:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",DOC2:"cannot observe primary path",DOC3:"final fields cannot be observed",DOC4:"RxDocument.get$ cannot observe a non-existed field",DOC5:"RxDocument.populate() cannot populate a non-existed field",DOC6:"RxDocument.populate() cannot populate because path has no ref",DOC7:"RxDocument.populate() ref-collection not in database",DOC8:"RxDocument.set(): primary-key cannot be modified",DOC9:"final fields cannot be modified",DOC10:"RxDocument.set(): cannot set childpath when rootPath not selected",DOC11:"RxDocument.save(): can't save deleted document",DOC13:"RxDocument.remove(): Document is already deleted",DOC14:"RxDocument.destroy() does not exist",DOC15:"query cannot be an array",DOC16:"Since version 8.0.0 RxDocument.set() can only be called on temporary RxDocuments",DOC17:"Since version 8.0.0 RxDocument.save() can only be called on non-temporary documents",DOC18:"Document property for composed primary key is missing",DOC19:"Value of primary key(s) cannot be changed",DOC20:"PrimaryKey missing",DOC21:"PrimaryKey must be equal to PrimaryKey.trim(). It cannot start or end with a whitespace",DOC22:"PrimaryKey must not contain a linebreak",DOC23:'PrimaryKey must not contain a double-quote ["]',DOC24:"Given document data could not be structured cloned. This happens if you pass non-plain-json data into it, like a Date() object or a Function. In vue.js this happens if you use ref() on the document data which transforms it into a Proxy object.",DM1:"migrate() Migration has already run",DM2:"migration of document failed final document does not match final schema",DM3:"migration already running",DM4:"Migration errored",DM5:"Cannot open database state with newer RxDB version. You have to migrate your database state first. See https://rxdb.info/migration-storage.html?console=storage ",AT1:"to use attachments, please define this in your schema",EN1:"password is not valid",EN2:"validatePassword: min-length of password not complied",EN3:"Schema contains encrypted properties but no password is given",EN4:"Password not valid",JD1:"You must create the collections before you can import their data",JD2:"RxCollection.importJSON(): the imported json relies on a different schema",JD3:"RxCollection.importJSON(): json.passwordHash does not match the own",LD1:"RxDocument.allAttachments$ can't use attachments on local documents",LD2:"RxDocument.get(): objPath must be a string",LD3:"RxDocument.get$ cannot get observable of in-array fields because order cannot be guessed",LD4:"cannot observe primary path",LD5:"RxDocument.set() id cannot be modified",LD6:"LocalDocument: Function is not usable on local documents",LD7:"Local document already exists",LD8:"localDocuments not activated. Set localDocuments=true on creation, when you want to store local documents on the RxDatabase or RxCollection.",RC1:"Replication: already added",RC2:"replicateCouchDB() query must be from the same RxCollection",RC4:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication when live: true",RC5:"RxCouchDBReplicationState.awaitInitialReplication() cannot await initial replication if multiInstance because the replication might run on another instance",RC6:"syncFirestore() serverTimestampField MUST NOT be part of the collections schema and MUST NOT be nested.",RC7:"SimplePeer requires to have process.nextTick() polyfilled, see https://rxdb.info/replication-webrtc.html?console=webrtc ",RC_PULL:"RxReplication pull handler threw an error - see .errors for more details",RC_STREAM:"RxReplication pull stream$ threw an error - see .errors for more details",RC_PUSH:"RxReplication push handler threw an error - see .errors for more details",RC_PUSH_NO_AR:"RxReplication push handler did not return an array with the conflicts",RC_WEBRTC_PEER:"RxReplication WebRTC Peer has error",RC_COUCHDB_1:"replicateCouchDB() url must end with a slash like 'https://example.com/mydatabase/'",RC_COUCHDB_2:"replicateCouchDB() did not get valid result with rows.",RC_OUTDATED:"Outdated client, update required. Replication was canceled",RC_UNAUTHORIZED:"Unauthorized client, update the replicationState.headers to set correct auth data",RC_FORBIDDEN:"Client behaves wrong so the replication was canceled. Mostly happens if the client tries to write data that it is not allowed to",SC1:"fieldnames do not match the regex",SC2:"SchemaCheck: name 'item' reserved for array-fields",SC3:"SchemaCheck: fieldname has a ref-array but items-type is not string",SC4:"SchemaCheck: fieldname has a ref but is not type string, [string,null] or array<string>",SC6:"SchemaCheck: primary can only be defined at top-level",SC7:"SchemaCheck: default-values can only be defined at top-level",SC8:"SchemaCheck: first level-fields cannot start with underscore _",SC10:"SchemaCheck: schema defines ._rev, this will be done automatically",SC11:"SchemaCheck: schema needs a number >=0 as version",SC13:"SchemaCheck: primary is always index, do not declare it as index",SC14:"SchemaCheck: primary is always unique, do not declare it as index",SC15:"SchemaCheck: primary cannot be encrypted",SC16:"SchemaCheck: primary must have type: string",SC17:"SchemaCheck: top-level fieldname is not allowed",SC18:"SchemaCheck: indexes must be an array",SC19:"SchemaCheck: indexes must contain strings or arrays of strings",SC20:"SchemaCheck: indexes.array must contain strings",SC21:"SchemaCheck: given index is not defined in schema",SC22:"SchemaCheck: given indexKey is not type:string",SC23:"SchemaCheck: fieldname is not allowed",SC24:"SchemaCheck: required fields must be set via array. See https://spacetelescope.github.io/understanding-json-schema/reference/object.html#required",SC25:"SchemaCheck: compoundIndexes needs to be specified in the indexes field",SC26:"SchemaCheck: indexes needs to be specified at collection schema level",SC27:"SchemaCheck: encrypted fields need to be specified at collection schema level",SC28:"SchemaCheck: encrypted fields is not defined in the schema",SC29:"SchemaCheck: missing object key 'properties'",SC30:"SchemaCheck: primaryKey is required",SC32:"SchemaCheck: primary field must have the type string/number/integer",SC33:"SchemaCheck: used primary key is not a property in the schema",SC34:"Fields of type string that are used in an index, must have set the maxLength attribute in the schema",SC35:"Fields of type number/integer that are used in an index, must have set the multipleOf attribute in the schema",SC36:"A field of this type cannot be used as index",SC37:"Fields of type number that are used in an index, must have set the minimum and maximum attribute in the schema",SC38:"Fields of type boolean that are used in an index, must be required in the schema",SC39:"The primary key must have the maxLength attribute set",SC40:"$ref fields in the schema are not allowed. RxDB cannot resolve related schemas because it would have a negative performance impact.It would have to run http requests on runtime. $ref fields should be resolved during build time.",SC41:"minimum, maximum and maxLength values for indexes must be real numbers, not Infinity or -Infinity",VD1:"Sub-schema not found, does the schemaPath exists in your schema?",VD2:"object does not match schema",S1:"You cannot create collections after calling RxDatabase.server()",GQL1:"GraphQL replication: cannot find sub schema by key",GQL3:"GraphQL replication: pull returns more documents then batchSize",CRDT1:"CRDT operations cannot be used because the crdt options are not set in the schema.",CRDT2:"RxDocument.incrementalModify() cannot be used when CRDTs are activated.",CRDT3:"To use CRDTs you MUST NOT set a conflictHandler because the default CRDT conflict handler must be used",SNH:"This should never happen"},n=c(7650),d=c(1885),m=c(720),f=c(7176),v=c(6434),y=c(1744),j=c(4395),L=c(7396),b=c(5908),re=new((0,b.cM)(b.ky));function P(){if(!D){var t=Object.getOwnPropertyNames(re),r=Object.getOwnPropertyNames(b.ky);D=[...t,...r,"deleted","synced"]}return D}function U(e){if("_deleted"!==e){if(["properties"].includes(e))throw(0,n.Br)("SC23",{fieldName:e});var t="^[a-zA-Z](?:[[a-zA-Z0-9_]*]?[a-zA-Z0-9])?$",r=new RegExp(t);if("_id"!==e&&!e.match(r))throw(0,n.Br)("SC1",{regex:t,fieldName:e})}}function E(e){var t=(0,d.xQ)(e.primaryKey);return function o(i,a){!i||"object"!=typeof i||Object.keys(i).forEach(l=>{var s=i[l];!i.properties&&s&&"object"==typeof s&&!Array.isArray(i)&&function r(i,a,l){if("string"==typeof i&&"object"==typeof a&&!Array.isArray(a)&&"patternProperties"!==l.split(".").pop()&&U(i),Object.prototype.hasOwnProperty.call(a,"item")&&"array"!==a.type)throw(0,n.Br)("SC2",{fieldName:i});if(Object.prototype.hasOwnProperty.call(a,"required")&&"boolean"==typeof a.required)throw(0,n.Br)("SC24",{fieldName:i});if(Object.prototype.hasOwnProperty.call(a,"$ref"))throw(0,n.Br)("SC40",{fieldName:i});if(Object.prototype.hasOwnProperty.call(a,"ref"))if(Array.isArray(a.type)){if(a.type.length>2||!a.type.includes("string")||!a.type.includes("null"))throw(0,n.Br)("SC4",{fieldName:i})}else switch(a.type){case"string":break;case"array":if(!a.items||!a.items.type||"string"!==a.items.type)throw(0,n.Br)("SC3",{fieldName:i});break;default:throw(0,n.Br)("SC4",{fieldName:i})}var s=l.split(".").length>=2;if(s&&a.default)throw(0,n.Br)("SC7",{path:l});if(!s){if("_id"===i&&"_id"!==t)throw(0,n.Br)("COL2",{fieldName:i});if("_"===i.charAt(0)){if("_id"===i||"_deleted"===i)return;throw(0,n.Br)("SC8",{fieldName:i})}}}(l,s,a);var u=a;"properties"!==l&&(u=u+"."+l),o(s,u)})}(e,""),!0}function T(e){if(!e.primaryKey)throw(0,n.Br)("SC30",{schema:e});function t(u){if(!u)throw(0,n.Br)("SC33",{schema:e});var h=u.type;if(!h||!["string","number","integer"].includes(h))throw(0,n.Br)("SC32",{schema:e,args:{schemaPart:u}})}if("string"==typeof e.primaryKey)t(e.properties[e.primaryKey]);else{var i=e.primaryKey;t((0,d.nT)(e,i.key)),i.fields.forEach(u=>{t((0,d.nT)(e,u))})}var l=(0,d.xQ)(e.primaryKey),s=e.properties[l];if(!s.maxLength)throw(0,n.Br)("SC39",{schema:e,args:{primaryPathSchemaPart:s}});if(!isFinite(s.maxLength))throw(0,n.Br)("SC41",{schema:e,args:{primaryPathSchemaPart:s}})}function M(e){for(var t=e.split("."),r="",o=0;o<t.length;o+=1)r=r.concat("[]"!==t[o]?".properties.".concat(t[o]):".items");return(0,m.L$)(r)}function A(e){if(!e.primaryKey)throw(0,n.Br)("SC30",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"properties"))throw(0,n.Br)("SC29",{schema:e});if(e.properties._rev)throw(0,n.Br)("SC10",{schema:e});if(!Object.prototype.hasOwnProperty.call(e,"version")||"number"!=typeof e.version||e.version<0)throw(0,n.Br)("SC11",{version:e.version});if(E(e),T(e),Object.keys(e.properties).forEach(t=>{var r=e.properties[t];if(t===e.primaryKey){if(e.indexes&&e.indexes.includes(t))throw(0,n.Br)("SC13",{value:r,schema:e});if(r.unique)throw(0,n.Br)("SC14",{value:r,schema:e});if(e.encrypted&&e.encrypted.includes(t))throw(0,n.Br)("SC15",{value:r,schema:e});if("string"!==r.type)throw(0,n.Br)("SC16",{value:r,schema:e})}if(P().includes(t))throw(0,n.Br)("SC17",{key:t,schema:e})}),e.indexes){if(!(0,f.k_)(e.indexes))throw(0,n.Br)("SC18",{indexes:e.indexes,schema:e});e.indexes.forEach(t=>{if("string"!=typeof t&&!Array.isArray(t))throw(0,n.Br)("SC19",{index:t,schema:e});if(Array.isArray(t))for(var r=0;r<t.length;r+=1)if("string"!=typeof t[r])throw(0,n.Br)("SC20",{index:t,schema:e});((0,f.k_)(t)?t:[t]).forEach(i=>{var a=(0,d.nT)(e,i);switch(a.type){case"string":if(!a.maxLength)throw(0,n.Br)("SC34",{index:t,field:i,schema:e});break;case"number":case"integer":if(!a.multipleOf)throw(0,n.Br)("SC35",{index:t,field:i,schema:e});var h=a.maximum,z=a.minimum;if(typeof h>"u"||typeof z>"u")throw(0,n.Br)("SC37",{index:t,field:i,schema:e});if(!isFinite(h)||!isFinite(z))throw(0,n.Br)("SC41",{index:t,field:i,schema:e});break;case"boolean":var B="",Y=i;if(i.includes(".")){var X=i.split(".");Y=X.pop(),B=X.join(".")}var Z=""===B?e:(0,d.nT)(e,B);if(!Z.required||!Z.required.includes(Y))throw(0,n.Br)("SC38",{index:t,field:i,schema:e});break;default:throw(0,n.Br)("SC36",{fieldName:i,type:a.type,schema:e})}})})}Object.keys((0,v.YO)(e)).map(t=>{var r=t.split(".");return r.pop(),r.join(".")}).filter(t=>""!==t).filter((t,r,o)=>o.indexOf(t)===r).filter(t=>{var r=(0,y.UU)(e,t);return r&&!!r.index}).forEach(t=>{throw t=(t=t.replace("properties.","")).replace(/\.properties\./g,"."),(0,n.Br)("SC26",{index:(0,m.L$)(t),schema:e})}),(e.indexes||[]).reduce((t,r)=>((0,f.k_)(r)?(0,f.Hb)(t,r):t.push(r),t),[]).filter((t,r,o)=>o.indexOf(t)===r).map(t=>{var r=M(t),o=(0,y.UU)(e,r);if(!o||"object"!=typeof o)throw(0,n.Br)("SC21",{index:t,schema:e});return{indexPath:t,schemaObj:o}}).filter(t=>"string"!==t.schemaObj.type&&"integer"!==t.schemaObj.type&&"number"!==t.schemaObj.type&&"boolean"!==t.schemaObj.type).forEach(t=>{throw(0,n.Br)("SC22",{key:t.indexPath,type:t.schemaObj.type,schema:e})}),Object.keys((0,v.YO)(e)).map(t=>{var r=t.split(".");return r.pop(),r.join(".")}).filter(t=>""!==t&&"attachments"!==t).filter((t,r,o)=>o.indexOf(t)===r).filter(t=>{var r=(0,y.UU)(e,t);return r&&!!r.encrypted}).forEach(t=>{throw t=(t=t.replace("properties.","")).replace(/\.properties\./g,"."),(0,n.Br)("SC27",{index:(0,m.L$)(t),schema:e})}),e.encrypted&&e.encrypted.forEach(t=>{var r=M(t),o=(0,y.UU)(e,r);if(!o||"object"!=typeof o)throw(0,n.Br)("SC28",{field:t,schema:e})})}function g(e){e&&Object.entries(e).forEach(([t,r])=>{if("string"!=typeof t)throw(0,n.JX)("COL14",{name:t});if(t.startsWith("_"))throw(0,n.JX)("COL15",{name:t});if("function"!=typeof r)throw(0,n.JX)("COL16",{name:t,type:typeof t});if(function _(){if(!x){var e=new j.wm,t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));x=[...t,...r]}return x}().includes(t)||P().includes(t))throw(0,n.Br)("COL17",{name:t})})}var oe=c(9182);function q(e){if(function ee(){if(!w){var e=new L.lB("pseudoInstance","memory"),t=Object.getOwnPropertyNames(e),r=Object.getOwnPropertyNames(Object.getPrototypeOf(e));w=[...t,...r],e.destroy()}return w}().includes(e.name))throw(0,n.Br)("DB5",{name:e.name});O(e.name)}function I(e){if(O(e.name),e.name.includes("$"))throw(0,n.Br)("DB13",{name:e.name});if((0,m.ky)(e.name)&&(e.name.endsWith("/")||e.name.endsWith("\\")))throw(0,n.Br)("DB11",{name:e.name})}var F="^[a-z][_$a-z0-9\\-]*$",ie=new RegExp(F);function O(e){if("string"!=typeof e||0===e.length)throw(0,n.JX)("UT1",{name:e});if((0,m.ky)(e))return!0;if(!e.match(ie)&&":memory:"!==e)throw(0,n.Br)("UT2",{regex:F,givenName:e});return!0}var se=c(6636),ce=c(5672);function J(e){if("[object Object]"!==Object.prototype.toString.call(e.queryObj))throw(0,n.JX)("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj});var r=["selector","limit","skip","sort","index"];if(Object.keys(e.queryObj).forEach(o=>{if(!r.includes(o))throw(0,n.JX)("QU11",{op:e.op,collection:e.collection.name,queryObj:e.queryObj,key:o,args:{validKeys:r}})}),"count"===e.op&&(e.queryObj.limit||e.queryObj.skip))throw(0,n.Br)("QU15",{collection:e.collection.name,query:e.queryObj});p(e.queryObj)}function $(e){var t=e.rxQuery.collection.schema.jsonSchema,r=e.mangoQuery.selector,o=Object.keys(t.properties);Object.keys(r).filter(s=>!s.startsWith("$")).filter(s=>!s.includes(".")).forEach(s=>{if(!o.includes(s))throw(0,n.Br)("QU13",{schema:t,field:s,query:e.mangoQuery})});var a=e.mangoQuery.index;if(a&&!(t.indexes?t.indexes:[]).find(s=>(0,se.b)(s,a)))throw(0,n.Br)("QU12",{collection:e.rxQuery.collection.name,query:e.mangoQuery,schema:t});if("count"===e.rxQuery.op&&!N(e.rxQuery.collection.schema.jsonSchema,e.mangoQuery)&&!e.rxQuery.collection.database.allowSlowCount)throw(0,n.Br)("QU14",{collection:e.rxQuery.collection,query:e.mangoQuery});e.mangoQuery.sort&&e.mangoQuery.sort.map(s=>Object.keys(s)[0]).filter(s=>!s.includes(".")).forEach(s=>{if(!o.includes(s))throw(0,n.Br)("QU13",{schema:t,field:s,query:e.mangoQuery})}),p(e.mangoQuery)}function N(e,t){return(0,ce.Ib)(e,t).queryPlan.selectorSatisfiedByIndex}function p(e){"object"==typeof e&&null!==e&&Object.keys(e).forEach(r=>{var o=e[r];if(o instanceof RegExp)throw(0,n.Br)("QU16",{field:r,query:e});Array.isArray(o)?o.forEach(i=>p(i)):p(o)})}function W(e){if("object"!=typeof e||null===e)return!1;for(var t in e)if(e.hasOwnProperty(t)&&(e[t]instanceof Date||"object"==typeof e[t]&&W(e[t])))return!0;return!1}function ue(e,t){var r=(0,d.xQ)(e.schema.primaryKey),o=function(a){a.document=(0,d.Nq)(r,e.schema,a.document),a.previous&&Object.keys(a.previous._meta).forEach(l=>{if(!Object.prototype.hasOwnProperty.call(a.document._meta,l))throw(0,n.Br)("SNH",{dataBefore:a.previous,dataAfter:a.document,args:{metaFieldName:l}})});try{"function"==typeof structuredClone?structuredClone(a):JSON.parse(JSON.stringify(a))}catch{throw(0,n.Br)("DOC24",{collection:e.collectionName,document:a.document})}if(W(a.document))throw(0,n.Br)("DOC24",{collection:e.collectionName,document:a.document})};for(var i of t)o(i)}var C=c(7014),de=c(6243),he=c(6052),H=!1;function R(){return(R=(0,k.A)(function*(e){if(!(H||typeof window>"u"||typeof location>"u")&&function pe(){return"localhost"===location.hostname||"127.0.0.1"===location.hostname||"0.0.0.0"===location.hostname||"[::1]"===location.hostname}()&&(!C.P.premium||"string"!=typeof C.P.premium||(yield(0,de.V0)(C.P.premium))!==C.Y)&&(yield(0,L.NI)(e))){H=!0;var r=document.createElement("iframe");r.style.display="none",r.src="https://rxdb.info/html/dev-mode-iframe.html?version="+he.o,document.body.appendChild(r)}})).apply(this,arguments)}var V=!0;function fe(){V=!1}function G(e){return e&&"string"!=typeof e&&"number"!=typeof e?(0,v.ol)(e):e}var e,K="dev-mode",ye={name:K,rxdb:!0,init:()=>{V&&console.warn(["-------------- RxDB dev-mode warning -------------------------------","you are seeing this because you use the RxDB dev-mode plugin https://rxdb.info/dev-mode.html?console=dev-mode ","This is great in development mode, because it will run many checks to ensure","that you use RxDB correct. If you see this in production mode,","you did something wrong because the dev-mode plugin will decrease the performance.","","\u{1f917} Hint: To get the most out of RxDB, check out the Premium Plugins","to get access to faster storages and more professional features: https://rxdb.info/premium?console=dev-mode ","","You can disable this warning by calling disableWarnings() from the dev-mode plugin.","---------------------------------------------------------------------"].join("\n"))},overwritable:{isDevMode:()=>!0,deepFreezeWhenDevMode:G,tunnelErrorMessage(e){if(!Q[e])throw console.error("RxDB: Error-Code not known: "+e),new Error("Error-Code "+e+" not known, contact the maintainer");return Q[e]}},hooks:{preCreateRxSchema:{after:A},preCreateRxDatabase:{after:function(e){I(e)}},createRxDatabase:{after:(e=(0,k.A)(function*(t){!function me(e){R.apply(this,arguments)}(t.database)}),function(r){return e.apply(this,arguments)})},preCreateRxCollection:{after:function(e){if(q(e),function ne(e,t){var r=Object.keys(e.properties);t&&Object.keys(t).filter(o=>r.includes(o)).forEach(o=>{throw(0,n.Br)("COL18",{funName:o})})}(e.schema,e.methods),"_"===e.name.charAt(0))throw(0,n.Br)("DB2",{name:e.name});if(!e.schema)throw(0,n.Br)("DB4",{name:e.name,args:e})}},createRxDocument:{before:function(e){!function le(e,t){if(!e)throw(0,n.Br)("DOC20",{primaryKey:e,document:t});if(e!==e.trim())throw(0,n.Br)("DOC21",{primaryKey:e,document:t});if(e.includes("\r")||e.includes("\n"))throw(0,n.Br)("DOC22",{primaryKey:e,document:t});if(e.includes('"'))throw(0,n.Br)("DOC23",{primaryKey:e,document:t})}(e.primary,e.toJSON(!0))}},preCreateRxQuery:{after:function(e){J(e)}},prePrepareQuery:{after:e=>{$(e)}},preStorageWrite:{before:e=>{ue(e.storageInstance,e.rows)}},createRxCollection:{after:e=>{g(e.creator.statics),g(e.creator.methods),g(e.creator.attachments),e.creator.schema&&e.creator.migrationStrategies&&function ae(e,t){if("object"!=typeof t||Array.isArray(t))throw(0,n.JX)("COL11",{schema:e});var r=(0,oe.NP)(e);if(r.length!==Object.keys(t).length)throw(0,n.Br)("COL12",{have:Object.keys(t),should:r});r.map(o=>({v:o,s:t[o+1]})).filter(o=>"function"!=typeof o.s).forEach(o=>{throw(0,n.JX)("COL13",{version:o.v,type:typeof o,schema:e})})}(e.creator.schema,e.creator.migrationStrategies)}}}}}}]);