(self.webpackChunkEmpathy=self.webpackChunkEmpathy||[]).push([[792],{6011:(Bt,et,k)=>{"use strict";var J=k(1985),ne=k(8359),pe=k(7707);!function ae(n){n.__load_patch("rxjs",(t,e,i)=>{const r=e.__symbol__,p=Object.defineProperties;i.patchMethod(J.c.prototype,"lift",U=>(K,me)=>{const fe=U.apply(K,me);return fe.operator&&(fe.operator._zone=e.current,i.patchMethod(fe.operator,"call",he=>(ht,vt)=>ht._zone&&ht._zone!==e.current?ht._zone.run(he,ht,vt):he.apply(ht,vt))),fe}),function(){const U=J.c.prototype,me=U[r("_subscribe")]=U._subscribe;p(J.c.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneSource:{value:null,writable:!0,configurable:!0},_zoneSubscribe:{value:null,writable:!0,configurable:!0},source:{configurable:!0,get:function(){return this._zoneSource},set:function(fe){this._zone=e.current,this._zoneSource=fe}},_subscribe:{configurable:!0,get:function(){if(this._zoneSubscribe)return this._zoneSubscribe;if(this.constructor===J.c)return me;const fe=Object.getPrototypeOf(this);return fe&&fe._subscribe},set:function(fe){this._zone=e.current,this._zoneSubscribe=fe?function(){if(this._zone&&this._zone!==e.current){const he=this._zone.run(fe,this,arguments);if("function"==typeof he){const ht=this._zone;return function(){return ht!==e.current?ht.run(he,this,arguments):he.apply(this,arguments)}}return he}return fe.apply(this,arguments)}:fe}},subjectFactory:{get:function(){return this._zoneSubjectFactory},set:function(fe){const he=this._zone;this._zoneSubjectFactory=function(){return he&&he!==e.current?he.run(fe,this,arguments):fe.apply(this,arguments)}}}})}(),p(ne.yU.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneUnsubscribe:{value:null,writable:!0,configurable:!0},_unsubscribe:{get:function(){if(this._zoneUnsubscribe||this._zoneUnsubscribeCleared)return this._zoneUnsubscribe;const U=Object.getPrototypeOf(this);return U&&U._unsubscribe},set:function(U){this._zone=e.current,U?(this._zoneUnsubscribeCleared=!1,this._zoneUnsubscribe=function(){return this._zone&&this._zone!==e.current?this._zone.run(U,this,arguments):U.apply(this,arguments)}):(this._zoneUnsubscribe=U,this._zoneUnsubscribeCleared=!0)}}}),function(){const U=pe.vU.prototype.next,K=pe.vU.prototype.error,me=pe.vU.prototype.complete;Object.defineProperty(pe.vU.prototype,"destination",{configurable:!0,get:function(){return this._zoneDestination},set:function(fe){this._zone=e.current,this._zoneDestination=fe}}),pe.vU.prototype.next=function(){const he=this._zone;return he&&he!==e.current?he.run(U,this,arguments,"rxjs.Subscriber.next"):U.apply(this,arguments)},pe.vU.prototype.error=function(){const he=this._zone;return he&&he!==e.current?he.run(K,this,arguments,"rxjs.Subscriber.error"):K.apply(this,arguments)},pe.vU.prototype.complete=function(){const he=this._zone;return he&&he!==e.current?he.run(me,this,arguments,"rxjs.Subscriber.complete"):me.call(this)}}()})}(Zone);var A=k(467),a=k(3953),De=k(8071);var Be=k(6648),Ue=k(9326);function Y(...n){const t=(0,Ue.lI)(n);return(0,Be.H)(n,t)}var Me=k(4412);const{isArray:Ne}=Array,{getPrototypeOf:oe,prototype:Ge,keys:Re}=Object;function Oe(n){if(1===n.length){const t=n[0];if(Ne(t))return{args:t,keys:null};if(function ge(n){return n&&"object"==typeof n&&oe(n)===Ge}(t)){const e=Re(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Fe=k(3669),Ae=k(6354);const{isArray:xe}=Array;function Ie(n){return(0,Ae.T)(t=>function We(n,t){return xe(t)?n(...t):n(t)}(n,t))}function st(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Qe=k(4360),_e=k(5225);function ue(...n){const t=(0,Ue.lI)(n),e=(0,Ue.ms)(n),{args:i,keys:r}=Oe(n);if(0===i.length)return(0,Be.H)([],t);const l=new J.c(function Q(n,t,e=Fe.D){return i=>{pt(t,()=>{const{length:r}=n,l=new Array(r);let d=r,f=r;for(let p=0;p<r;p++)pt(t,()=>{const E=(0,Be.H)(n[p],t);let x=!1;E.subscribe((0,Qe._)(i,R=>{l[p]=R,x||(x=!0,f--),f||i.next(e(l.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>st(r,d):Fe.D));return e?l.pipe(Ie(e)):l}function pt(n,t,e){n?(0,_e.N)(e,n,t):t()}var Dt=k(9350),xt=k(8793),un=k(8750);function tn(n){return new J.c(t=>{(0,un.Tg)(n()).subscribe(t)})}var mn=k(1203);function Rn(n,t){const e=(0,De.T)(n)?n:()=>n,i=r=>r.error(e());return new J.c(t?r=>t.schedule(i,0,r):i)}var ze=k(983),se=k(9974);function be(){return(0,se.N)((n,t)=>{let e=null;n._refCount++;const i=(0,Qe._)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,l=e;e=null,r&&(!l||r===l)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class W extends J.c{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,se.S)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ne.yU;const e=this.getSubject();t.add(this.source.subscribe((0,Qe._)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ne.yU.EMPTY)}return t}refCount(){return be()(this)}}var B=k(1413);let $=null;function X(){return $}class re{}const Te=new a.nKC("");let It=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(Rt),providedIn:"platform"})}return n})();const Lt=new a.nKC("");let Rt=(()=>{class n extends It{constructor(){super(),this._doc=(0,a.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(e){const i=X().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=X().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ut(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function rn(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function sn(n){return n&&"?"!==n[0]?"?"+n:n}let ln=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(hn),providedIn:"root"})}return n})();const Ht=new a.nKC("");let hn=(()=>{class n extends ln{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ut(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+sn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,l){const d=this.prepareExternalUrl(r+sn(l));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,l){const d=this.prepareExternalUrl(r+sn(l));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(It),a.KVO(Ht,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),on=(()=>{class n extends ln{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ut(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,l){let d=this.prepareExternalUrl(r+sn(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,l){let d=this.prepareExternalUrl(r+sn(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(It),a.KVO(Ht,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})(),Nn=(()=>{class n{constructor(e){this._subject=new a.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Bi(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(rn(to(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+sn(i))}normalize(e){return n.stripTrailingSlash(function eo(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,to(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sn(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=sn;static#t=this.joinWithSlash=Ut;static#n=this.stripTrailingSlash=rn;static#i=this.\u0275fac=function(i){return new(i||n)(a.KVO(ln))};static#r=this.\u0275prov=a.jDH({token:n,factory:()=>function Cn(){return new Nn((0,a.KVO)(ln))}(),providedIn:"root"})}return n})();function to(n){return n.replace(/\/index.html$/,"")}const Ji=/\s+/,Oo=[];let Ls=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=Oo,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Ji):Oo}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Ji):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Ji).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.sFG))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})(),Qc=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.c1b))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.OA$]})}return n})();function or(n,t){return new a.wOt(2100,!1)}class ja{createSubscription(t,e){return(0,a.O8t)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,a.O8t)(()=>t.unsubscribe())}}class ga{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Mu=new ga,Nl=new ja;let Ii=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.jNT)(e))return Mu;if((0,a.zjR)(e))return Nl;throw or()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.gRc,16))};static#t=this.\u0275pipe=a.EJ8({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Ri=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let th=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw or();return e.replace(Ri,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=a.EJ8({name:"titlecase",type:n,pure:!0,standalone:!0})}return n})(),vo=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();const mm="browser";function sh(n){return n===mm}function ro(n){return"server"===n}let Qg=(()=>{class n{static#e=this.\u0275prov=(0,a.jDH)({token:n,providedIn:"root",factory:()=>sh((0,a.WQX)(a.Agw))?new Yg((0,a.WQX)(Te),window):new hc})}return n})();class Yg{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function oo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const l=r.shadowRoot;if(l){const d=l.getElementById(t)||l.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(i-l[0],r-l[1])}}class hc{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}function pr(n,t){return(0,se.N)((e,i)=>{let r=null,l=0,d=!1;const f=()=>d&&!r&&i.complete();e.subscribe((0,Qe._)(i,p=>{r?.unsubscribe();let E=0;const x=l++;(0,un.Tg)(n(p,x)).subscribe(r=(0,Qe._)(i,R=>i.next(t?t(p,R,x,E++):R),()=>{r=null,f()}))},()=>{d=!0,f()}))})}function Xi(n){return n<=0?()=>ze.w:(0,se.N)((t,e)=>{let i=0;t.subscribe((0,Qe._)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}var bo=k(9172),On=k(5964),Pr=k(1397);function uh(n){return(0,se.N)((t,e)=>{let i=!1;t.subscribe((0,Qe._)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function i_(n=vm){return(0,se.N)((t,e)=>{let i=!1;t.subscribe((0,Qe._)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function vm(){return new Dt.G}function el(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,On.p)((r,l)=>n(r,l,i)):Fe.D,Xi(1),e?uh(t):i_(()=>new Dt.G))}function ju(n,t){return(0,De.T)(t)?(0,Pr.Z)(n,t,1):(0,Pr.Z)(n,1)}function gi(n,t,e){const i=(0,De.T)(n)||t||e?{next:n,error:t,complete:e}:n;return i?(0,se.N)((r,l)=>{var d;null===(d=i.subscribe)||void 0===d||d.call(i);let f=!0;r.subscribe((0,Qe._)(l,p=>{var E;null===(E=i.next)||void 0===E||E.call(i,p),l.next(p)},()=>{var p;f=!1,null===(p=i.complete)||void 0===p||p.call(i),l.complete()},p=>{var E;f=!1,null===(E=i.error)||void 0===E||E.call(i,p),l.error(p)},()=>{var p,E;f&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(E=i.finalize)||void 0===E||E.call(i)}))}):Fe.D}function jl(n){return(0,se.N)((t,e)=>{let l,i=null,r=!1;i=t.subscribe((0,Qe._)(e,void 0,void 0,d=>{l=(0,un.Tg)(n(d,jl(n)(t))),i?(i.unsubscribe(),i=null,l.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,l.subscribe(e))})}function dh(n){return n<=0?()=>ze.w:(0,se.N)((t,e)=>{let i=[];t.subscribe((0,Qe._)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function g0(n){return(0,Ae.T)(()=>n)}function hh(n){return(0,se.N)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var r_=k(5343);function _i(n){return(0,se.N)((t,e)=>{(0,un.Tg)(n).subscribe((0,Qe._)(e,()=>e.complete(),r_.l)),!e.closed&&t.subscribe(e)})}var fh=k(6365);class _0 extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class o_ extends _0{static makeCurrent(){!function Z(n){$??=n}(new o_)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function s_(){return mh=mh||document.querySelector("base"),mh?mh.getAttribute("href"):null}();return null==e?null:function a_(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){mh=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Zi(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,l]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(l)}return null}(document.cookie,t)}}let mh=null,c_=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();const Bn=new a.nKC("");let Ir=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(l=>l.supports(e)),!i)throw new a.wOt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Bn),a.KVO(a.SKi))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();class Nr{constructor(t){this._doc=t}}const Ka="ng-app-id";let Hr=(()=>{class n{constructor(e,i,r,l={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ro(l),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Ka}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const l=r.get(e);return l.usage+=i,l.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,l=r?.get(i);if(l?.parentNode===e)return r.delete(i),l.removeAttribute(Ka),l;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=i,this.platformIsServer&&d.setAttribute(Ka,this.appId),e.appendChild(d),d}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),l=this.styleRef,d=l.get(i)?.elements;d?d.push(r):l.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Te),a.KVO(a.sZ2),a.KVO(a.BIS,8),a.KVO(a.Agw))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();const ym={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},bm=/%COMP%/g,aT=new a.nKC("",{providedIn:"root",factory:()=>!0});function _h(n,t){return t.map(e=>e.replace(bm,n))}let b0=(()=>{class n{constructor(e,i,r,l,d,f,p,E=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=l,this.doc=d,this.platformId=f,this.ngZone=p,this.nonce=E,this.rendererByCompId=new Map,this.platformIsServer=ro(f),this.defaultRenderer=new vh(e,d,p,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===a.gXe.ShadowDom&&(i={...i,encapsulation:a.gXe.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof E0?r.applyToHost(e):r instanceof wa&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let l=r.get(i.id);if(!l){const d=this.doc,f=this.ngZone,p=this.eventManager,E=this.sharedStylesHost,x=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(i.encapsulation){case a.gXe.Emulated:l=new E0(p,E,i,this.appId,x,d,f,R);break;case a.gXe.ShadowDom:return new yh(p,E,e,i,d,f,this.nonce,R);default:l=new wa(p,E,i,x,d,f,R)}r.set(i.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Ir),a.KVO(Hr),a.KVO(a.sZ2),a.KVO(aT),a.KVO(Te),a.KVO(a.Agw),a.KVO(a.SKi),a.KVO(a.BIS))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();class vh{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(ym[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(wm(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(wm(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new a.wOt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const l=ym[r];l?t.setAttributeNS(l,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ym[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.czy.DashCase|a.czy.Important)?t.style.setProperty(e,i,r&a.czy.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.czy.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){null!=t&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=X().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function wm(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class yh extends vh{constructor(t,e,i,r,l,d,f,p){super(t,l,d,p),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const E=_h(r.id,r.styles);for(const x of E){const R=document.createElement("style");f&&R.setAttribute("nonce",f),R.textContent=x,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class wa extends vh{constructor(t,e,i,r,l,d,f,p){super(t,l,d,f),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=p?_h(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class E0 extends wa{constructor(t,e,i,r,l,d,f,p){const E=r+"-"+i.id;super(t,e,i,l,d,f,p,E),this.contentAttr=function l_(n){return"_ngcontent-%COMP%".replace(bm,n)}(E),this.hostAttr=function y0(n){return"_nghost-%COMP%".replace(bm,n)}(E)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let u_=(()=>{class n extends Nr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Te))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})(),Em=(()=>{class n extends Nr{constructor(e){super(e),this.delegate=(0,a.WQX)(a.zAP,{optional:!0})}supports(e){return!!this.delegate&&this.delegate.supports(e)}addEventListener(e,i,r){return this.delegate.addEventListener(e,i,r)}removeEventListener(e,i,r){return this.delegate.removeEventListener(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Te))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();const I0=["alt","control","meta","shift"],d_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Im={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $s=(()=>{class n extends Nr{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const l=n.parseEventName(i),d=n.eventCallback(l.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>X().onAndCancel(e,l.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const l=n._normalizeKey(i.pop());let d="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),d="code."),I0.forEach(E=>{const x=i.indexOf(E);x>-1&&(i.splice(x,1),d+=E+".")}),d+=l,0!=i.length||0===l.length)return null;const p={};return p.domEventName=r,p.fullKey=d,p}static matchEventFullKeyCode(e,i){let r=d_[e.key]||e.key,l="";return i.indexOf("code.")>-1&&(r=e.code,l="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),I0.forEach(d=>{d!==r&&(0,Im[d])(e)&&(l+=d+".")}),l+=r,l===i)}static eventCallback(e,i,r){return l=>{n.matchEventFullKeyCode(l,e)&&r.runGuarded(()=>i(l))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Te))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();function Cm(n){return{appProviders:[...g_,...n?.providers??[]],platformProviders:D0}}const D0=[{provide:a.Agw,useValue:mm},{provide:a.PLl,useValue:function f_(){o_.makeCurrent()},multi:!0},{provide:Te,useFactory:function C0(){return(0,a.TL$)(document),document},deps:[]}],g_=[{provide:a.H8p,useValue:"root"},{provide:a.zcH,useFactory:function $l(){return new a.zcH},deps:[]},{provide:Bn,useClass:u_,multi:!0,deps:[Te,a.SKi,a.Agw]},{provide:Bn,useClass:$s,multi:!0,deps:[Te]},{provide:Bn,useClass:Em,multi:!0},b0,Hr,Ir,{provide:a._9s,useExisting:b0},{provide:class ah{},useClass:c_,deps:[]},[]];let T0=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Te))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:function(i){let r=null;return r=i?new(i||n):a.KVO(D),r},providedIn:"root"})}return n})(),D=(()=>{class n extends b{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.WPN.NONE:return i;case a.WPN.HTML:return(0,a.ZF7)(i,"HTML")?(0,a.rcV)(i):(0,a.h9k)(this._doc,String(i)).toString();case a.WPN.STYLE:return(0,a.ZF7)(i,"Style")?(0,a.rcV)(i):i;case a.WPN.SCRIPT:if((0,a.ZF7)(i,"Script"))return(0,a.rcV)(i);throw new a.wOt(5200,!1);case a.WPN.URL:return(0,a.ZF7)(i,"URL")?(0,a.rcV)(i):(0,a.$MX)(String(i));case a.WPN.RESOURCE_URL:if((0,a.ZF7)(i,"ResourceURL"))return(0,a.rcV)(i);throw new a.wOt(5201,!1);default:throw new a.wOt(5202,!1)}}bypassSecurityTrustHtml(e){return(0,a.Kcf)(e)}bypassSecurityTrustStyle(e){return(0,a.cWb)(e)}bypassSecurityTrustScript(e){return(0,a.UyX)(e)}bypassSecurityTrustUrl(e){return(0,a.osQ)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.e5t)(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Te))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const At="primary",Jt=Symbol("RouteTitle");class pn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Mn(n){return new pn(n)}function Jn(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let l=0;l<i.length;l++){const d=i[l],f=n[l];if(":"===d[0])r[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ci(n,t){const e=n?No(n):void 0,i=t?No(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let l=0;l<e.length;l++)if(r=e[l],!ki(n[r],t[r]))return!1;return!0}function No(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ki(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,l)=>i[l]===r)}return n===t}function ao(n){return n.length>0?n[n.length-1]:null}function ar(n){return function lt(n){return!!n&&(n instanceof J.c||(0,De.T)(n.lift)&&(0,De.T)(n.subscribe))}(n)?n:(0,a.jNT)(n)?(0,Be.H)(Promise.resolve(n)):Y(n)}const dn={exact:function tl(n,t,e){if(!wo(n.segments,t.segments)||!xi(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!tl(n.children[i],t.children[i],e))return!1;return!0},subset:Hi},wh={exact:function Yo(n,t){return Ci(n,t)},subset:function gc(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>ki(n[e],t[e]))},ignored:()=>!0};function Fo(n,t,e){return dn[e.paths](n.root,t.root,e.matrixParams)&&wh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Hi(n,t,e){return nl(n,t,t.segments,e)}function nl(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!wo(r,e)||t.hasChildren()||!xi(r,e,i))}if(n.segments.length===e.length){if(!wo(n.segments,e)||!xi(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Hi(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),l=e.slice(n.segments.length);return!!(wo(n.segments,r)&&xi(n.segments,r,i)&&n.children[At])&&nl(n.children[At],t,l,i)}}function xi(n,t,e){return t.every((i,r)=>wh[e](n[r].parameters,i.parameters))}class Ni{constructor(t=new Di([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Mn(this.queryParams),this._queryParamMap}toString(){return R0.serialize(this)}}class Di{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Am(this)}}class qa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Mn(this.parameters),this._parameterMap}toString(){return yO(this)}}function wo(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Eh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>new y_,providedIn:"root"})}return n})();class y_{parse(t){const e=new N$(t);return new Ni(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Sm(t.root,!0)}`,i=function S$(n){const t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${k0(e)}=${k0(r)}`).join("&"):`${k0(e)}=${k0(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function x$(n){return encodeURI(n)}(t.fragment)}`:""}`}}const R0=new y_;function Am(n){return n.segments.map(t=>yO(t)).join("/")}function Sm(n,t){if(!n.hasChildren())return Am(n);if(t){const e=n.children[At]?Sm(n.children[At],!1):"",i=[];return Object.entries(n.children).forEach(([r,l])=>{r!==At&&i.push(`${r}:${Sm(l,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function xm(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===At&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==At&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===At?[Sm(n.children[At],!1)]:[`${r}:${Sm(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[At]?`${Am(n)}/${e[0]}`:`${Am(n)}/(${e.join("//")})`}}function b_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function k0(n){return b_(n).replace(/%3B/gi,";")}function gT(n){return b_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function O0(n){return decodeURIComponent(n)}function vO(n){return O0(n.replace(/\+/g,"%20"))}function yO(n){return`${gT(n.path)}${function A$(n){return Object.entries(n).map(([t,e])=>`;${gT(t)}=${gT(e)}`).join("")}(n.parameters)}`}const M$=/^[^\/()?;#]+/;function _T(n){const t=n.match(M$);return t?t[0]:""}const R$=/^[^\/()?;=#]+/,vT=/^[^=?&#]+/,O$=/^[^&#]+/;class N${constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Di([],{}):new Di([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[At]=new Di(t,e)),i}parseSegment(){const t=_T(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.wOt(4009,!1);return this.capture(t),new qa(O0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function k$(n){const t=n.match(R$);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=_T(this.remaining);r&&(i=r,this.capture(i))}t[O0(e)]=O0(i)}parseQueryParam(t){const e=function yT(n){const t=n.match(vT);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function P$(n){const t=n.match(O$);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=vO(e),l=vO(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(l)}else t[r]=l}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=_T(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.wOt(4010,!1);let l;i.indexOf(":")>-1?(l=i.slice(0,i.indexOf(":")),this.capture(l),this.capture(":")):t&&(l=At);const d=this.parseChildren();e[l]=1===Object.keys(d).length?d[At]:new Di([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.wOt(4011,!1)}}function bO(n){return n.segments.length>0?new Di([],{[At]:n}):n}function bT(n){const t={};for(const[i,r]of Object.entries(n.children)){const l=bT(r);if(i===At&&0===l.segments.length&&l.hasChildren())for(const[d,f]of Object.entries(l.children))t[d]=f;else(l.segments.length>0||l.hasChildren())&&(t[i]=l)}return function wT(n){if(1===n.numberOfChildren&&n.children[At]){const t=n.children[At];return new Di(n.segments.concat(t.segments),t.children)}return n}(new Di(n.segments,t))}function il(n){return n instanceof Ni}function IT(n){let t;const r=bO(function e(l){const d={};for(const p of l.children){const E=e(p);d[p.outlet]=E}const f=new Di(l.url,d);return l===n&&(t=f),f}(n.root));return t??r}function CT(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return P0(r,r,r,e,i);const l=function _c(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new DT(!0,0,n);let t=0,e=!1;const i=n.reduce((r,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return Object.entries(l.outlets).forEach(([p,E])=>{f[p]="string"==typeof E?E.split("/"):E}),[...r,{outlets:f}]}if(l.segmentPath)return[...r,l.segmentPath]}return"string"!=typeof l?[...r,l]:0===d?(l.split("/").forEach((f,p)=>{0==p&&"."===f||(0==p&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,l]},[]);return new DT(e,t,i)}(t);if(l.toRoot())return P0(r,r,new Di([],{}),e,i);const d=function TT(n,t,e){if(n.isAbsolute)return new Rm(t,!0,0);if(!e)return new Rm(t,!1,NaN);if(null===e.parent)return new Rm(e,!0,0);const i=Mm(n.commands[0])?0:1;return function ai(n,t,e){let i=n,r=t,l=e;for(;l>r;){if(l-=r,i=i.parent,!i)throw new a.wOt(4005,!1);r=i.segments.length}return new Rm(i,!1,r-l)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(l,r,n),f=d.processChildren?zr(d.segmentGroup,d.index,l.commands):Ch(d.segmentGroup,d.index,l.commands);return P0(r,d.segmentGroup,f,e,i)}function Mm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ih(n){return"object"==typeof n&&null!=n&&n.outlets}function P0(n,t,e,i,r){let d,l={};i&&Object.entries(i).forEach(([p,E])=>{l[p]=Array.isArray(E)?E.map(x=>`${x}`):`${E}`}),d=n===t?e:w_(n,t,e);const f=bO(bT(d));return new Ni(f,l,r)}function w_(n,t,e){const i={};return Object.entries(n.children).forEach(([r,l])=>{i[r]=l===t?e:w_(l,t,e)}),new Di(n.segments,i)}class DT{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Mm(i[0]))throw new a.wOt(4003,!1);const r=i.find(Ih);if(r&&r!==ao(i))throw new a.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rm{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Ch(n,t,e){if(n??=new Di([],{}),0===n.segments.length&&n.hasChildren())return zr(n,t,e);const i=function wO(n,t,e){let i=0,r=t;const l={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return l;const d=n.segments[r],f=e[i];if(Ih(f))break;const p=`${f}`,E=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&E&&"object"==typeof E&&void 0===E.outlets){if(!xT(p,E,d))return l;i+=2}else{if(!xT(p,{},d))return l;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const l=new Di(n.segments.slice(0,i.pathIndex),{});return l.children[At]=new Di(n.segments.slice(i.pathIndex),n.children),zr(l,0,r)}return i.match&&0===r.length?new Di(n.segments,{}):i.match&&!n.hasChildren()?Hu(n,t,e):i.match?zr(n,0,r):Hu(n,t,e)}function zr(n,t,e){if(0===e.length)return new Di(n.segments,{});{const i=function N0(n){return Ih(n[0])?n[0].outlets:{[At]:n}}(e),r={};if(Object.keys(i).some(l=>l!==At)&&n.children[At]&&1===n.numberOfChildren&&0===n.children[At].segments.length){const l=zr(n.children[At],t,e);return new Di(n.segments,l.children)}return Object.entries(i).forEach(([l,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(r[l]=Ch(n.children[l],t,d))}),Object.entries(n.children).forEach(([l,d])=>{void 0===i[l]&&(r[l]=d)}),new Di(n.segments,r)}}function Hu(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const l=e[r];if(Ih(l)){const p=zu(l.outlets);return new Di(i,p)}if(0===r&&Mm(e[0])){i.push(new qa(n.segments[t].path,bs(e[0]))),r++;continue}const d=Ih(l)?l.outlets[At]:`${l}`,f=r<e.length-1?e[r+1]:null;d&&f&&Mm(f)?(i.push(new qa(d,bs(f))),r+=2):(i.push(new qa(d,{})),r++)}return new Di(i,{})}function zu(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=Hu(new Di([],{}),0,i))}),t}function bs(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function xT(n,t,e){return n==e.path&&Ci(t,e.parameters)}const Gu="imperative";var ei=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ei||{});class Dr{constructor(t,e){this.id=t,this.url=e}}class km extends Dr{constructor(t,e,i="imperative",r=null){super(t,e),this.type=ei.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vc extends Dr{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=ei.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ws=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ws||{}),zl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(zl||{});class rl extends Dr{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=ei.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ol extends Dr{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=ei.NavigationSkipped}}class Dh extends Dr{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=ei.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class E_ extends Dr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sl extends Dr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An extends Dr{constructor(t,e,i,r,l){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=l,this.type=ei.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class I_ extends Dr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class F0 extends Dr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AT{constructor(t){this.route=t,this.type=ei.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class F${constructor(t){this.route=t,this.type=ei.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class EO{constructor(t){this.snapshot=t,this.type=ei.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IO{constructor(t){this.snapshot=t,this.type=ei.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CO{constructor(t){this.snapshot=t,this.type=ei.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ST{constructor(t){this.snapshot=t,this.type=ei.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gl{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=ei.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class L0{}class C_{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function Tr(n){return n.outlet||At}function Wu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class kT{get injector(){return Wu(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new D_(this.rootInjector),this.attachRef=null}}let D_=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new kT(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(a.uvJ))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class xO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=T_(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=T_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=x_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return x_(t,this._root).map(e=>e.value)}}function T_(n,t){if(n===t.value)return t;for(const e of t.children){const i=T_(n,e);if(i)return i}return null}function x_(n,t){if(n===t.value)return[t];for(const e of t.children){const i=x_(n,e);if(i.length)return i.unshift(t),i}return[]}class Ea{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fr(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class yc extends xO{constructor(t,e){super(t),this.snapshot=e,U0(this,t)}toString(){return this.snapshot.toString()}}function B0(n){const t=function Xa(n){const l=new Pm([],{},{},"",{},At,n,null,{});return new OT("",new Ea(l,[]))}(n),e=new Me.t([new qa("",{})]),i=new Me.t({}),r=new Me.t({}),l=new Me.t({}),d=new Me.t(""),f=new Es(e,i,l,d,r,At,n,t.root);return f.snapshot=t.root,new yc(new Ea(f,[]),t)}class Es{constructor(t,e,i,r,l,d,f,p){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=l,this.outlet=d,this.component=f,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,Ae.T)(E=>E[Jt]))??Y(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Ae.T)(t=>Mn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Ae.T)(t=>Mn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function A_(n,t,e="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===t||"always"!==e&&""!==r?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...r?.data,...n._resolvedData}},r&&Lm(r)&&(i.resolve[Jt]=r.title),i}class Pm{get title(){return this.data?.[Jt]}constructor(t,e,i,r,l,d,f,p,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=l,this.outlet=d,this.component=f,this.routeConfig=p,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OT extends xO{constructor(t,e){super(e),this.url=t,U0(this,e)}toString(){return S_(this._root)}}function U0(n,t){t.value._routerState=n,t.children.forEach(e=>U0(n,e))}function S_(n){const t=n.children.length>0?` { ${n.children.map(S_).join(", ")} } `:"";return`${n.value}${t}`}function Nm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ci(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ci(t.params,e.params)||n.paramsSubject.next(e.params),function vi(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ci(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ci(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Fm(n,t){const e=Ci(n.params,t.params)&&function v_(n,t){return wo(n,t)&&n.every((e,i)=>Ci(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Fm(n.parent,t.parent))}function Lm(n){return"string"==typeof n.title||null===n.title}let Vm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new a.bkB,this.deactivateEvents=new a.bkB,this.attachEvents=new a.bkB,this.detachEvents=new a.bkB,this.parentContexts=(0,a.WQX)(D_),this.location=(0,a.WQX)(a.c1b),this.changeDetector=(0,a.WQX)(a.gRc),this.inputBinder=(0,a.WQX)(Th,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new a.wOt(4013,!1);this._activatedRoute=e;const r=this.location,d=e.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,p=new M_(e,f,r.injector);this.activated=r.createComponent(d,{index:r.length,injector:p,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.OA$]})}return n})();class M_{__ngOutletInjector(t){return new M_(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Es?this.route:t===D_?this.childContexts:this.parent.get(t,e)}}const Th=new a.nKC("");let j0=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=ue([i.queryParams,i.params,i.data]).pipe(pr(([l,d,f],p)=>(f={...l,...d,...f},0===p?Y(f):Promise.resolve(f)))).subscribe(l=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const d=(0,a.HJs)(i.component);if(d)for(const{templateName:f}of d.inputs)e.activatedComponentRef.setInput(f,l[f]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();function xh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function NT(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return xh(n,i,r);return xh(n,i)})}(n,t,e);return new Ea(i,r)}{if(n.shouldAttach(t.value)){const l=n.retrieve(t.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(f=>xh(n,f)),d}}const i=function $0(n){return new Es(new Me.t(n.url),new Me.t(n.params),new Me.t(n.queryParams),new Me.t(n.fragment),new Me.t(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(l=>xh(n,l));return new Ea(i,r)}}class H0{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const co="ngNavigationCancelingError";function bc(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=il(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Fi(!1,ws.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Fi(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[co]=!0,e.cancellationCode=t,e}function LT(n){return!!n&&n[co]}class VT{constructor(t,e,i,r,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=l}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Nm(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Fr(e);t.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,r[d],i),delete r[d]}),Object.values(r).forEach(l=>{this.deactivateRouteAndItsChildren(l,i)})}deactivateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(r===l)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else l&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=Fr(t);for(const d of Object.values(l))this.deactivateRouteAndItsChildren(d,r);if(i&&i.outlet){const d=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,l=Fr(t);for(const d of Object.values(l))this.deactivateRouteAndItsChildren(d,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Fr(e);t.children.forEach(l=>{this.activateRoutes(l,r[l.value.outlet],i),this.forwardEvent(new ST(l.value.snapshot))}),t.children.length&&this.forwardEvent(new IO(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,l=e?e.value:null;if(Nm(r),r===l)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Nm(f.route.value),this.activateChildRoutes(t,null,d.children)}else d.attachRef=null,d.route=r,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}else this.activateChildRoutes(t,null,i)}}class z0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Wl{constructor(t,e){this.component=t,this.route=e}}function wc(n,t,e){const i=n._root;return Kl(i,t?t._root:null,e,[i.value])}function al(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,a.LfX)(n)?t.get(n):n:i}function Kl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=Fr(t);return n.children.forEach(d=>{(function R_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const p=function G0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!wo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!wo(n.url,t.url)||!Ci(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fm(n,t)||!Ci(n.queryParams,t.queryParams);default:return!Fm(n,t)}}(d,l,l.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new z0(i)):(l.data=d.data,l._resolvedData=d._resolvedData),Kl(n,t,l.component?f?f.children:null:e,i,r),p&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Wl(f.outlet.component,d))}else d&&Ah(t,f,r),r.canActivateChecks.push(new z0(i)),Kl(n,null,l.component?f?f.children:null:e,i,r)})(d,l[d.value.outlet],e,i.concat([d.value]),r),delete l[d.value.outlet]}),Object.entries(l).forEach(([d,f])=>Ah(f,e.getContext(d),r)),r}function Ah(n,t,e){const i=Fr(n),r=n.value;Object.entries(i).forEach(([l,d])=>{Ah(d,r.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new Wl(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Sh(n){return"function"==typeof n}function UT(n){return n instanceof Dt.G||"EmptyError"===n?.name}const k_=Symbol("INITIAL_VALUE");function Um(){return pr(n=>ue(n.map(t=>t.pipe(Xi(1),(0,bo.Z)(k_)))).pipe((0,Ae.T)(t=>{for(const e of t)if(!0!==e){if(e===k_)return k_;if(!1===e||B$(e))return e}return!0}),(0,On.p)(t=>t!==k_),Xi(1)))}function B$(n){return il(n)||n instanceof H0}function NO(n){return(0,mn.F)(gi(t=>{if("boolean"!=typeof t)throw bc(0,t)}),(0,Ae.T)(t=>!0===t))}class P_{constructor(t){this.segmentGroup=t||null}}class N_ extends Error{constructor(t){super(),this.urlTree=t}}function Zo(n){return Rn(new P_(n))}class $T{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Y(i);if(r.numberOfChildren>1||!r.children[At])return Rn(new a.wOt(4e3,!1));r=r.children[At]}}applyRedirectCommands(t,e,i,r,l){if("string"!=typeof e){const f=e,{queryParams:p,fragment:E,routeConfig:x,url:R,outlet:U,params:K,data:me,title:fe}=r,he=(0,a.N4e)(l,()=>f({params:K,data:me,queryParams:p,fragment:E,routeConfig:x,url:R,outlet:U,title:fe}));if(he instanceof Ni)throw new N_(he);e=he}const d=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if("/"===e[0])throw new N_(d);return d}applyRedirectCreateUrlTree(t,e,i,r){const l=this.createSegmentGroup(t,e.root,i,r);return new Ni(l,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,l])=>{if("string"==typeof l&&":"===l[0]){const f=l.substring(1);i[r]=e[f]}else i[r]=l}),i}createSegmentGroup(t,e,i,r){const l=this.createSegments(t,e.segments,i,r);let d={};return Object.entries(e.children).forEach(([f,p])=>{d[f]=this.createSegmentGroup(t,p,i,r)}),new Di(l,d)}createSegments(t,e,i,r){return e.map(l=>":"===l.path[0]?this.findPosParam(t,l,r):this.findOrReturn(l,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new a.wOt(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const Rh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Y0(n,t,e,i,r){const l=Z0(n,t,e);return l.matched?(i=function DO(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.Ol2)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function jT(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Y(r.map(d=>{const f=al(d,n);return ar(function BT(n){return n&&Sh(n.canMatch)}(f)?f.canMatch(t,e):(0,a.N4e)(n,()=>f(t,e)))})).pipe(Um(),NO()):Y(!0)}(i,t,e).pipe((0,Ae.T)(d=>!0===d?l:{...Rh}))):Y(l)}function Z0(n,t,e){if("**"===t.path)return function HT(n){return{matched:!0,parameters:n.length>0?ao(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Rh}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Jn)(e,n,t);if(!r)return{...Rh};const l={};Object.entries(r.posParams??{}).forEach(([f,p])=>{l[f]=p.path});const d=r.consumed.length>0?{...l,...r.consumed[r.consumed.length-1].parameters}:l;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function J0(n,t,e,i){return e.length>0&&function FO(n,t,e){return e.some(i=>Ec(n,t,i)&&Tr(i)!==At)}(n,e,i)?{segmentGroup:new Di(t,GT(i,new Di(e,n.children))),slicedSegments:[]}:0===e.length&&function L_(n,t,e){return e.some(i=>Ec(n,t,i))}(n,e,i)?{segmentGroup:new Di(n.segments,zT(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Di(n.segments,n.children),slicedSegments:e}}function zT(n,t,e,i){const r={};for(const l of e)if(Ec(n,t,l)&&!i[Tr(l)]){const d=new Di([],{});r[Tr(l)]=d}return{...i,...r}}function GT(n,t){const e={};e[At]=t;for(const i of n)if(""===i.path&&Tr(i)!==At){const r=new Di([],{});e[Tr(i)]=r}return e}function Ec(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class KT{}class Gr{constructor(t,e,i,r,l,d,f){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=l,this.paramsInheritanceStrategy=d,this.urlSerializer=f,this.applyRedirects=new $T(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new a.wOt(4002,`'${t.segmentGroup}'`)}recognize(){const t=J0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe((0,Ae.T)(({children:e,rootSnapshot:i})=>{const r=new Ea(i,e),l=new OT("",r),d=function ET(n,t,e=null,i=null){return CT(IT(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,l.url=this.urlSerializer.serialize(d),{state:l,tree:d}}))}match(t){const e=new Pm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),At,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,At,e).pipe((0,Ae.T)(i=>({children:i,rootSnapshot:e})),jl(i=>{if(i instanceof N_)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof P_?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,l){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i,l):this.processSegment(t,e,i,i.segments,r,!0,l).pipe((0,Ae.T)(d=>d instanceof Ea?[d]:[]))}processChildren(t,e,i,r){const l=[];for(const d of Object.keys(i.children))"primary"===d?l.unshift(d):l.push(d);return(0,Be.H)(l).pipe(ju(d=>{const f=i.children[d],p=function V0(n,t){const e=n.filter(i=>Tr(i)===t);return e.push(...n.filter(i=>Tr(i)!==t)),e}(e,d);return this.processSegmentGroup(t,p,f,d,r)}),function rT(n,t){return(0,se.N)(function p0(n,t,e,i,r){return(l,d)=>{let f=e,p=t,E=0;l.subscribe((0,Qe._)(d,x=>{const R=E++;p=f?n(p,x,R):(f=!0,x),i&&d.next(p)},r&&(()=>{f&&d.next(p),d.complete()})))}}(n,t,arguments.length>=2,!0))}((d,f)=>(d.push(...f),d)),uh(null),function Qo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,On.p)((r,l)=>n(r,l,i)):Fe.D,dh(1),e?uh(t):i_(()=>new Dt.G))}(),(0,Pr.Z)(d=>{if(null===d)return Zo(i);const f=V_(d);return function VO(n){n.sort((t,e)=>t.value.outlet===At?-1:e.value.outlet===At?1:t.value.outlet.localeCompare(e.value.outlet))}(f),Y(f)}))}processSegment(t,e,i,r,l,d,f){return(0,Be.H)(e).pipe(ju(p=>this.processSegmentAgainstRoute(p._injector??t,e,p,i,r,l,d,f).pipe(jl(E=>{if(E instanceof P_)return Y(null);throw E}))),el(p=>!!p),jl(p=>{if(UT(p))return function WT(n,t,e){return 0===t.length&&!n.children[e]}(i,r,l)?Y(new KT):Zo(i);throw p}))}processSegmentAgainstRoute(t,e,i,r,l,d,f,p){return function LO(n,t,e,i){return!!(Tr(n)===i||i!==At&&Ec(t,e,n))&&Z0(t,n,e).matched}(i,r,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,l,d,p):this.allowRedirects&&f?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,l,d,p):Zo(r):Zo(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,l,d,f){const{matched:p,parameters:E,consumedSegments:x,positionalParamSegments:R,remainingSegments:U}=Z0(e,r,l);if(!p)return Zo(e);"string"==typeof r.redirectTo&&"/"===r.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const K=new Pm(l,E,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ew(r),Tr(r),r.component??r._loadedComponent??null,r,Hm(r)),me=A_(K,f,this.paramsInheritanceStrategy);K.params=Object.freeze(me.params),K.data=Object.freeze(me.data);const fe=this.applyRedirects.applyRedirectCommands(x,r.redirectTo,R,K,t);return this.applyRedirects.lineralizeSegments(r,fe).pipe((0,Pr.Z)(he=>this.processSegment(t,i,e,he.concat(U),d,!1,f)))}matchSegmentAgainstRoute(t,e,i,r,l,d){const f=Y0(e,i,r,t);return"**"===i.path&&(e.children={}),f.pipe(pr(p=>p.matched?this.getChildConfig(t=i._injector??t,i,r).pipe(pr(({routes:E})=>{const x=i._loadedInjector??t,{parameters:R,consumedSegments:U,remainingSegments:K}=p,me=new Pm(U,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ew(i),Tr(i),i.component??i._loadedComponent??null,i,Hm(i)),fe=A_(me,d,this.paramsInheritanceStrategy);me.params=Object.freeze(fe.params),me.data=Object.freeze(fe.data);const{segmentGroup:he,slicedSegments:ht}=J0(e,U,K,E);if(0===ht.length&&he.hasChildren())return this.processChildren(x,E,he,me).pipe((0,Ae.T)(wt=>new Ea(me,wt)));if(0===E.length&&0===ht.length)return Y(new Ea(me,[]));const vt=Tr(i)===l;return this.processSegment(x,E,he,ht,vt?At:l,!0,me).pipe((0,Ae.T)(wt=>new Ea(me,wt instanceof Ea?[wt]:[])))})):Zo(e)))}getChildConfig(t,e,i){return e.children?Y({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Y({routes:e._loadedRoutes,injector:e._loadedInjector}):function O_(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Y(!0):Y(r.map(d=>{const f=al(d,n);return ar(function Mh(n){return n&&Sh(n.canLoad)}(f)?f.canLoad(t,e):(0,a.N4e)(n,()=>f(t,e)))})).pipe(Um(),NO())}(t,e,i).pipe((0,Pr.Z)(r=>r?this.configLoader.loadChildren(t,e).pipe(gi(l=>{e._loadedRoutes=l.routes,e._loadedInjector=l.injector})):function Q0(n){return Rn(Fi(!1,ws.GuardRejected))}())):Y({routes:[],injector:t})}}function qT(n){const t=n.value.routeConfig;return t&&""===t.path}function V_(n){const t=[],e=new Set;for(const i of n){if(!qT(i)){t.push(i);continue}const r=t.find(l=>i.value.routeConfig===l.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=V_(i.children);t.push(new Ea(i.value,r))}return t.filter(i=>!e.has(i))}function ew(n){return n.data||{}}function Hm(n){return n.resolve||{}}function B_(n){const t=n.children.map(e=>B_(e)).flat();return[n,...t]}function tw(n){return pr(t=>{const e=n(t);return e?(0,Be.H)(e).pipe((0,Ae.T)(()=>t)):Y(t)})}let YT=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(l=>l.outlet===At);return i}getResolvedTitleForRoute(e){return e.data[Jt]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(ZT),providedIn:"root"})}return n})(),ZT=(()=>{class n extends YT{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(T0))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ph=new a.nKC("",{providedIn:"root",factory:()=>({})});let nw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.aNF],decls:1,vars:0,template:function(i,r){1&i&&a.nrm(0,"router-outlet")},dependencies:[Vm],encapsulation:2})}return n})();function iw(n){const t=n.children&&n.children.map(iw),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==At&&(e.component=nw),e}const Nh=new a.nKC("");let JT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.WQX)(a.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Y(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ar(e.loadComponent()).pipe((0,Ae.T)(Lr),gi(l=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=l}),hh(()=>{this.componentLoaders.delete(e)})),r=new W(i,()=>new B.B).pipe(be());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const l=function ex(n,t,e,i){return ar(n.loadChildren()).pipe((0,Ae.T)(Lr),(0,Pr.Z)(r=>r instanceof a.Co$||Array.isArray(r)?Y(r):(0,Be.H)(t.compileModuleAsync(r))),(0,Ae.T)(r=>{i&&i(n);let l,d,f=!1;return Array.isArray(r)?(d=r,!0):(l=r.create(e).injector,d=l.get(Nh,[],{optional:!0,self:!0}).flat()),{routes:d.map(iw),injector:l}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(hh(()=>{this.childrenLoaders.delete(i)})),d=new W(l,()=>new B.B).pipe(be());return this.childrenLoaders.set(i,d),d}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lr(n){return function tx(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let nx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(jO),providedIn:"root"})}return n})(),jO=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $O=new a.nKC(""),rw=new a.nKC("");function $$(n,t,e){const i=n.get(rw),r=n.get(Te);return n.get(a.SKi).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(E=>setTimeout(E));let l;const d=new Promise(E=>{l=E}),f=r.startViewTransition(()=>(l(),function ow(n){return new Promise(t=>{(0,a.mal)({read:()=>setTimeout(t)},{injector:n})})}(n))),{onViewTransitionCreated:p}=i;return p&&(0,a.N4e)(n,()=>p({transition:f,from:t,to:e})),d})}const Ia=new a.nKC("");let zm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new B.B,this.transitionAbortSubject=new B.B,this.configLoader=(0,a.WQX)(JT),this.environmentInjector=(0,a.WQX)(a.uvJ),this.urlSerializer=(0,a.WQX)(Eh),this.rootContexts=(0,a.WQX)(D_),this.location=(0,a.WQX)(Nn),this.inputBindingEnabled=null!==(0,a.WQX)(Th,{optional:!0}),this.titleStrategy=(0,a.WQX)(YT),this.options=(0,a.WQX)(Ph,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,a.WQX)(nx),this.createViewTransition=(0,a.WQX)($O,{optional:!0}),this.navigationErrorHandler=(0,a.WQX)(Ia,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new F$(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new AT(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new Me.t({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Gu,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,On.p)(l=>0!==l.id),(0,Ae.T)(l=>({...l,extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),pr(l=>{let d=!1,f=!1;return Y(l).pipe(pr(p=>{if(this.navigationId>l.id)return this.cancelNavigationTransition(l,"",ws.SupersededByNewNavigation),ze.w;this.currentTransition=l,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:"string"==typeof p.extras.browserUrl?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const E=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!E&&"reload"!==(p.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const R="";return this.events.next(new ol(p.id,this.urlSerializer.serialize(p.rawUrl),R,zl.IgnoredSameUrlNavigation)),p.resolve(!1),ze.w}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Y(p).pipe(pr(R=>{const U=this.transitions?.getValue();return this.events.next(new km(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),U!==this.transitions?.getValue()?ze.w:Promise.resolve(R)}),function BO(n,t,e,i,r,l){return(0,Pr.Z)(d=>function kh(n,t,e,i,r,l,d="emptyOnly"){return new Gr(n,t,e,i,r,d,l).recognize()}(n,t,e,i,d.extractedUrl,r,l).pipe((0,Ae.T)(({state:f,tree:p})=>({...d,targetSnapshot:f,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),gi(R=>{l.targetSnapshot=R.targetSnapshot,l.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const U=new E_(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(U)}));if(E&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:R,extractedUrl:U,source:K,restoredState:me,extras:fe}=p,he=new km(R,this.urlSerializer.serialize(U),K,me);this.events.next(he);const ht=B0(this.rootComponentType).snapshot;return this.currentTransition=l={...p,targetSnapshot:ht,urlAfterRedirects:U,extras:{...fe,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=U,Y(l)}{const R="";return this.events.next(new ol(p.id,this.urlSerializer.serialize(p.extractedUrl),R,zl.IgnoredByUrlHandlingStrategy)),p.resolve(!1),ze.w}}),gi(p=>{const E=new sl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(E)}),(0,Ae.T)(p=>(this.currentTransition=l={...p,guards:wc(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},l)),function K0(n,t){return(0,Pr.Z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:l,canDeactivateChecks:d}}=e;return 0===d.length&&0===l.length?Y({...e,guardsResult:!0}):function Ku(n,t,e,i){return(0,Be.H)(n).pipe((0,Pr.Z)(r=>function X0(n,t,e,i,r){const l=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return l&&0!==l.length?Y(l.map(f=>{const p=Wu(t)??r,E=al(f,p);return ar(function W0(n){return n&&Sh(n.canDeactivate)}(E)?E.canDeactivate(n,t,e,i):(0,a.N4e)(p,()=>E(n,t,e,i))).pipe(el())})).pipe(Um()):Y(!0)}(r.component,r.route,e,t,i)),el(r=>!0!==r,!0))}(d,i,r,n).pipe((0,Pr.Z)(f=>f&&function RO(n){return"boolean"==typeof n}(f)?function q0(n,t,e,i){return(0,Be.H)(t).pipe(ju(r=>(0,xt.x)(function OO(n,t){return null!==n&&t&&t(new EO(n)),Y(!0)}(r.route.parent,i),function jm(n,t){return null!==n&&t&&t(new CO(n)),Y(!0)}(r.route,i),function PO(n,t,e){const i=t[t.length-1],l=t.slice(0,t.length-1).reverse().map(d=>function MO(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>tn(()=>Y(d.guards.map(p=>{const E=Wu(d.node)??e,x=al(p,E);return ar(function kO(n){return n&&Sh(n.canActivateChild)}(x)?x.canActivateChild(i,n):(0,a.N4e)(E,()=>x(i,n))).pipe(el())})).pipe(Um())));return Y(l).pipe(Um())}(n,r.path,e),function $m(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Y(!0);const r=i.map(l=>tn(()=>{const d=Wu(t)??e,f=al(l,d);return ar(function Bm(n){return n&&Sh(n.canActivate)}(f)?f.canActivate(t,n):(0,a.N4e)(d,()=>f(t,n))).pipe(el())}));return Y(r).pipe(Um())}(n,r.route,e))),el(r=>!0!==r,!0))}(i,l,n,t):Y(f)),(0,Ae.T)(f=>({...e,guardsResult:f})))})}(this.environmentInjector,p=>this.events.next(p)),gi(p=>{if(l.guardsResult=p.guardsResult,p.guardsResult&&"boolean"!=typeof p.guardsResult)throw bc(0,p.guardsResult);const E=new An(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(E)}),(0,On.p)(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",ws.GuardRejected),!1)),tw(p=>{if(p.guards.canActivateChecks.length)return Y(p).pipe(gi(E=>{const x=new I_(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(x)}),pr(E=>{let x=!1;return Y(E).pipe(function XT(n,t){return(0,Pr.Z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Y(e);const l=new Set(r.map(p=>p.route)),d=new Set;for(const p of l)if(!d.has(p))for(const E of B_(p))d.add(E);let f=0;return(0,Be.H)(d).pipe(ju(p=>l.has(p)?function U_(n,t,e,i){const r=n.routeConfig,l=n._resolve;return void 0!==r?.title&&!Lm(r)&&(l[Jt]=r.title),function QT(n,t,e,i){const r=No(n);if(0===r.length)return Y({});const l={};return(0,Be.H)(r).pipe((0,Pr.Z)(d=>function UO(n,t,e,i){const r=Wu(t)??i,l=al(n,r);return ar(l.resolve?l.resolve(t,e):(0,a.N4e)(r,()=>l(t,e)))}(n[d],t,e,i).pipe(el(),gi(f=>{if(f instanceof H0)throw bc(new y_,f);l[d]=f}))),dh(1),g0(l),jl(d=>UT(d)?ze.w:Rn(d)))}(l,n,t,i).pipe((0,Ae.T)(d=>(n._resolvedData=d,n.data=A_(n,n.parent,e).resolve,null)))}(p,i,n,t):(p.data=A_(p,p.parent,n).resolve,Y(void 0))),gi(()=>f++),dh(1),(0,Pr.Z)(p=>f===d.size?Y(e):ze.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),gi({next:()=>x=!0,complete:()=>{x||this.cancelNavigationTransition(E,"",ws.NoDataFromResolver)}}))}),gi(E=>{const x=new F0(E.id,this.urlSerializer.serialize(E.extractedUrl),this.urlSerializer.serialize(E.urlAfterRedirects),E.targetSnapshot);this.events.next(x)}))}),tw(p=>{const E=x=>{const R=[];x.routeConfig?.loadComponent&&!x.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(x.routeConfig).pipe(gi(U=>{x.component=U}),(0,Ae.T)(()=>{})));for(const U of x.children)R.push(...E(U));return R};return ue(E(p.targetSnapshot.root)).pipe(uh(null),Xi(1))}),tw(()=>this.afterPreactivation()),pr(()=>{const{currentSnapshot:p,targetSnapshot:E}=l,x=this.createViewTransition?.(this.environmentInjector,p.root,E.root);return x?(0,Be.H)(x).pipe((0,Ae.T)(()=>l)):Y(l)}),(0,Ae.T)(p=>{const E=function PT(n,t,e){const i=xh(n,t._root,e?e._root:void 0);return new yc(i,t)}(e.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=l={...p,targetRouterState:E},this.currentNavigation.targetRouterState=E,l}),gi(()=>{this.events.next(new L0)}),((n,t,e,i)=>(0,Ae.T)(r=>(new VT(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Xi(1),gi({next:p=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vc(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{d=!0}}),_i(this.transitionAbortSubject.pipe(gi(p=>{throw p}))),hh(()=>{!d&&!f&&this.cancelNavigationTransition(l,"",ws.SupersededByNewNavigation),this.currentTransition?.id===l.id&&(this.currentNavigation=null,this.currentTransition=null)}),jl(p=>{if(f=!0,LT(p))this.events.next(new rl(l.id,this.urlSerializer.serialize(l.extractedUrl),p.message,p.cancellationCode)),function FT(n){return LT(n)&&il(n.url)}(p)?this.events.next(new C_(p.url,p.navigationBehaviorOptions)):l.resolve(!1);else{const E=new Dh(l.id,this.urlSerializer.serialize(l.extractedUrl),p,l.targetSnapshot??void 0);try{const x=(0,a.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(E));if(x instanceof H0){const{message:R,cancellationCode:U}=bc(0,x);this.events.next(new rl(l.id,this.urlSerializer.serialize(l.extractedUrl),R,U)),this.events.next(new C_(x.redirectTo,x.navigationBehaviorOptions))}else{this.events.next(E);const R=e.errorHandler(p);l.resolve(!!R)}}catch(x){this.options.resolveNavigationPromiseOnError?l.resolve(!1):l.reject(x)}}return ze.w}))}))}cancelNavigationTransition(e,i,r){const l=new rl(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(l),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Gm(n){return n!==Gu}let HO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(ix),providedIn:"root"})}return n})();class zO{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let ix=(()=>{class n extends zO{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(H$),providedIn:"root"})}return n})(),H$=(()=>{class n extends GO{constructor(){super(...arguments),this.location=(0,a.WQX)(Nn),this.urlSerializer=(0,a.WQX)(Eh),this.options=(0,a.WQX)(Ph,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,a.WQX)(nx),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ni,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=B0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof km)this.stateMemento=this.createStateMemento();else if(e instanceof ol)this.rawUrlTree=i.initialUrl;else if(e instanceof E_){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof L0?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof rl&&(e.code===ws.GuardRejected||e.code===ws.NoDataFromResolver)?this.restoreHistory(i):e instanceof Dh?this.restoreHistory(i,!0):e instanceof vc&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const r=e instanceof Ni?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const d={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",d)}else{const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",l)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===e.finalUrl&&0===l&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var j_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(j_||{});function WO(n,t){n.events.pipe((0,On.p)(e=>e instanceof vc||e instanceof rl||e instanceof Dh||e instanceof ol),(0,Ae.T)(e=>e instanceof vc||e instanceof ol?j_.COMPLETE:e instanceof rl&&(e.code===ws.Redirect||e.code===ws.SupersededByNewNavigation)?j_.REDIRECTING:j_.FAILED),(0,On.p)(e=>e!==j_.REDIRECTING),Xi(1)).subscribe(()=>{t()})}function z$(n){throw n}const KO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Fh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,a.WQX)(a.H3F),this.stateManager=(0,a.WQX)(GO),this.options=(0,a.WQX)(Ph,{optional:!0})||{},this.pendingTasks=(0,a.WQX)(a.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,a.WQX)(zm),this.urlSerializer=(0,a.WQX)(Eh),this.location=(0,a.WQX)(Nn),this.urlHandlingStrategy=(0,a.WQX)(nx),this._events=new B.B,this.errorHandler=this.options.errorHandler||z$,this.navigated=!1,this.routeReuseStrategy=(0,a.WQX)(HO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,a.WQX)(Nh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,a.WQX)(Th,{optional:!0}),this.eventsSubscription=new ne.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,l=this.navigationTransitions.currentNavigation;if(null!==r&&null!==l)if(this.stateManager.handleRouterEvent(i,l),i instanceof rl&&i.code!==ws.Redirect&&i.code!==ws.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof vc)this.navigated=!0;else if(i instanceof C_){const d=i.navigationBehaviorOptions,f=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),p={browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Gm(r.source),...d};this.scheduleNavigation(f,Gu,null,p,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function qu(n){return!(n instanceof L0||n instanceof C_)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Gu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){const l={replaceUrl:!0},d=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(l.state=p)}const f=this.parseUrl(e);this.scheduleNavigation(f,i,d,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(iw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:l,fragment:d,queryParamsHandling:f,preserveFragment:p}=i,E=p?this.currentUrlTree.fragment:d;let R,x=null;switch(f){case"merge":x={...this.currentUrlTree.queryParams,...l};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=l||null}null!==x&&(x=this.removeEmptyProps(x));try{R=IT(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),R=this.currentUrlTree.root}return CT(R,e,x,E??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=il(e)?e:this.parseUrl(e),l=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(l,Gu,null,i)}navigate(e,i={skipLocationChange:!1}){return function rx(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new a.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(r=!0===i?{...KO}:!1===i?{...Fh}:i,il(e))return Fo(this.currentUrlTree,e,r);const l=this.parseUrl(e);return Fo(this.currentUrlTree,l,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,l])=>(null!=l&&(i[r]=l),i),{})}scheduleNavigation(e,i,r,l,d){if(this.disposed)return Promise.resolve(!1);let f,p,E;d?(f=d.resolve,p=d.reject,E=d.promise):E=new Promise((R,U)=>{f=R,p=U});const x=this.pendingTasks.add();return WO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(x))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:l,resolve:f,reject:p,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(R=>Promise.reject(R))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Hs=(()=>{class n{constructor(e,i,r,l,d,f){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=l,this.el=d,this.locationStrategy=f,this.href=null,this.onChanges=new B.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const p=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=e.events.subscribe(E=>{E instanceof vc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null==e?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=il(e)||Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,l,d){const f=this.urlTree;return!!(null===f||this.isAnchorElement&&(0!==e||i||r||l||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(f,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const i=null===this.href?null:(0,a.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){const r=this.renderer,l=this.el.nativeElement;null!==i?r.setAttribute(l,e,i):r.removeAttribute(l,e)}get urlTree(){return null===this.routerLinkInput?null:il(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(gr),a.rXU(Es),a.kS0("tabindex"),a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(ln))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&a.bIt("click",function(d){return r.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&i&&a.BMQ("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",a.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",a.L39],replaceUrl:[2,"replaceUrl","replaceUrl",a.L39],routerLink:"routerLink"},standalone:!0,features:[a.GFd,a.OA$]})}return n})();class ox{}let XO=(()=>{class n{constructor(e,i,r,l,d){this.router=e,this.injector=r,this.preloadingStrategy=l,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe((0,On.p)(e=>e instanceof vc),ju(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const l of i){l.providers&&!l._injector&&(l._injector=(0,a.Ol2)(l.providers,e,`Route: ${l.path}`));const d=l._injector??e,f=l._loadedInjector??d;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&r.push(this.preloadConfig(d,l)),(l.children||l._loadedRoutes)&&r.push(this.processRoutes(f,l.children??l._loadedRoutes))}return(0,Be.H)(r).pipe((0,fh.U)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Y(null);const l=r.pipe((0,Pr.Z)(d=>null===d?Y(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,Be.H)([l,d]).pipe((0,fh.U)())}return l})}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(gr),a.KVO(a.Ql9),a.KVO(a.uvJ),a.KVO(ox),a.KVO(JT))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const H_=new a.nKC("");let aw=(()=>{class n{constructor(e,i,r,l,d={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=l,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,a.WQX)(a.uvJ),d.scrollPositionRestoration||="disabled",d.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof km?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof vc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof ol&&e.code===zl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Gl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){var r=this;this.zone.runOutsideAngular((0,A.A)(function*(){yield new Promise(l=>{setTimeout(()=>{l()}),(0,a.mal)(()=>{l()},{injector:r.environmentInjector})}),r.zone.run(()=>{r.transitions.events.next(new Gl(e,"popstate"===r.lastSource?r.store[r.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){a.QTQ()};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();function Wm(n){return n.routerState.root}function Ca(n,t){return{\u0275kind:n,\u0275providers:t}}function sx(){const n=(0,a.WQX)(a.zZn);return t=>{const e=n.get(a.o8S);if(t!==e.components[0])return;const i=n.get(gr),r=n.get(ax);1===n.get(Lo)&&i.initialNavigation(),n.get(ZO,null,a.$GK.Optional)?.setUpPreloading(),n.get(H_,null,a.$GK.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const ax=new a.nKC("",{factory:()=>new B.B}),Lo=new a.nKC("",{providedIn:"root",factory:()=>1}),ZO=new a.nKC("");function K$(n){return Ca(0,[{provide:ZO,useExisting:XO},{provide:ox,useExisting:n}])}function uw(){return Ca(8,[j0,{provide:Th,useExisting:j0}])}function eP(n){return Ca(9,[{provide:$O,useValue:$$},{provide:rw,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const lx=new a.nKC("ROUTER_FORROOT_GUARD"),ux=[Nn,{provide:Eh,useClass:y_},gr,D_,{provide:Es,useFactory:Wm,deps:[gr]},JT,[]];let qm=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[ux,[],{provide:Nh,multi:!0,useValue:e},{provide:lx,useFactory:rP,deps:[[gr,new a.Xx1,new a.kdw]]},{provide:Ph,useValue:i||{}},i?.useHash?{provide:ln,useClass:on}:{provide:ln,useClass:hn},{provide:H_,useFactory:()=>{const n=(0,a.WQX)(Qg),t=(0,a.WQX)(a.SKi),e=(0,a.WQX)(Ph),i=(0,a.WQX)(zm),r=(0,a.WQX)(Eh);return e.scrollOffset&&n.setOffset(e.scrollOffset),new aw(r,i,n,t,e)}},i?.preloadingStrategy?K$(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?oP(i):[],i?.bindToComponentInputs?uw().\u0275providers:[],i?.enableViewTransitions?eP().\u0275providers:[],[{provide:dw,useFactory:sx},{provide:a.iLQ,multi:!0,useExisting:dw}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Nh,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(lx,8))};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();function rP(n){return"guarded"}function oP(n){return["disabled"===n.initialNavigation?Ca(3,[{provide:a.hnV,multi:!0,useFactory:()=>{const t=(0,a.WQX)(gr);return()=>{t.setUpLocationChangeListener()}}},{provide:Lo,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ca(2,[{provide:Lo,useValue:0},{provide:a.hnV,multi:!0,deps:[a.zZn],useFactory:t=>{const e=t.get(Lt,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(gr),l=t.get(ax);WO(r,()=>{i(!0)}),t.get(zm).afterPreactivation=()=>(i(!0),l.closed?Y(void 0):l),r.initialNavigation()}))}}]).\u0275providers:[]]}const dw=new a.nKC("");let fw;try{fw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fw=!1}let Lh,zi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?sh(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!fw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(a.Agw))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mw=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function dP(){if(Lh)return Lh;if("object"!=typeof document||!document)return Lh=new Set(mw),Lh;let n=document.createElement("input");return Lh=new Set(mw.filter(t=>(n.setAttribute("type",t),n.type===t))),Lh}let Vh;function Bh(n){return function hP(){if(null==Vh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Vh=!0}))}finally{Vh=Vh||!1}return Vh}()?n:!!n.capture}var cl=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(cl||{});let G_,ql,Cc;function W_(){if(null==ql){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return ql=!1,ql;if("scrollBehavior"in document.documentElement.style)ql=!0;else{const n=Element.prototype.scrollTo;ql=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return ql}function Xm(){if("object"!=typeof document||!document)return cl.NORMAL;if(null==G_){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),G_=cl.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,G_=0===n.scrollLeft?cl.NEGATED:cl.INVERTED),n.remove()}return G_}function Qm(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Da(n){return n.composedPath?n.composedPath()[0]:n.target}function fx(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Ta(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class BP extends ne.yU{constructor(t,e){super()}schedule(t,e=0){return this}}const tv={setInterval(n,t,...e){const{delegate:i}=tv;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=tv;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var Mx=k(7908);class Rx extends BP{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,l=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(l,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(l,this.id,e),this}requestAsyncId(t,e,i=0){return tv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&tv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(l){i=!0,r=l||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Mx.o)(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}var R4=k(6129);class dl{constructor(t,e=dl.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}dl.now=R4.U.now;class Tw extends dl{constructor(t,e=dl.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const nv=new Tw(Rx),UP=nv;function iv(n,t=nv){return(0,se.N)((e,i)=>{let r=null,l=null,d=null;const f=()=>{if(r){r.unsubscribe(),r=null;const E=l;l=null,i.next(E)}};function p(){const E=d+n,x=t.now();if(x<E)return r=this.schedule(void 0,E-x),void i.add(r);f()}e.subscribe((0,Qe._)(i,E=>{l=E,d=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{l=r=null}))})}function kx(n){return(0,On.p)((t,e)=>n<=e)}var Ox=k(3294);function zs(n){return null!=n&&"false"!=`${n}`}function rv(n,t=0){return function jP(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function ov(n){return Array.isArray(n)?n:[n]}function _r(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Zl(n){return n instanceof a.aKT?n.nativeElement:n}let $P=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),k4=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map,this._ngZone=(0,a.WQX)(a.SKi)}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Zl(e);return new J.c(r=>{const d=this._observeElement(i).pipe((0,Ae.T)(f=>f.filter(p=>!function xw(n){if("characterData"===n.type&&n.target instanceof Comment)return!0;if("childList"===n.type){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}(p))),(0,On.p)(f=>!!f.length)).subscribe(f=>{this._ngZone.run(()=>{r.next(f)})});return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new B.B,r=this._mutationObserverFactory.create(l=>i.next(l));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO($P))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HP=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=rv(e),this._subscribe()}constructor(e,i){this._contentObserver=e,this._elementRef=i,this.event=new a.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(iv(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(k4),a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",a.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[a.GFd]})}return n})(),Px=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[$P]})}return n})();const Nx=new Set;let Tc,sv=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Lx}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function Fx(n,t){if(!Nx.has(n))try{Tc||(Tc=document.createElement("style"),t&&Tc.setAttribute("nonce",t),Tc.setAttribute("type","text/css"),document.head.appendChild(Tc)),Tc.sheet&&(Tc.sheet.insertRule(`@media ${n} {body{ }}`,0),Nx.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(zi),a.KVO(a.BIS,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lx(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Aw=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new B.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Vx(ov(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let l=ue(Vx(ov(e)).map(d=>this._registerQuery(d).observable));return l=(0,xt.x)(l.pipe(Xi(1)),l.pipe(kx(1),iv(0))),l.pipe((0,Ae.T)(d=>{const f={matches:!1,breakpoints:{}};return d.forEach(({matches:p,query:E})=>{f.matches=f.matches||p,f.breakpoints[E]=p}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),l={observable:new J.c(d=>{const f=p=>this._zone.run(()=>d.next(p));return i.addListener(f),()=>{i.removeListener(f)}}).pipe((0,bo.Z)(i),(0,Ae.T)(({matches:d})=>({query:e,matches:d})),_i(this._destroySubject)),mql:i};return this._queries.set(e,l),l}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(sv),a.KVO(a.SKi))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vx(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Is(n,t,e){const i=es(n,t);e=e.trim();const r=i.filter(l=>l!==e);r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function es(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}class qP{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new B.B,this._typeaheadSubscription=ne.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new B.B,this.change=new B.B,t instanceof a.rOR?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):(0,a.Hps)(t)&&(this._effectRef=(0,a.QZP)(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(gi(e=>this._pressedLetters.push(e)),iv(t),(0,On.p)(()=>this._pressedLetters.length>0),(0,Ae.T)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const l=(this._activeItemIndex+r)%i.length,d=i[l];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(l);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(l=>!t[l]||this._allowedModifierKeys.indexOf(l)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const l=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(l>0?l:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const l=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(l<d?l:d-1,-1);break}return;default:return void((r||Ta(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return(0,a.Hps)(this._items)?this._items():this._items instanceof a.rOR?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){const e=t.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}}}class av extends qP{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Gh extends qP{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Mw=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Rw(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function Wh(n){try{return n.frameElement}catch{return null}}(function Pw(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===jx(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),l=jx(e);return e.hasAttribute("contenteditable")?-1!==l:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function YP(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==l:"video"===r?-1!==l&&(null!==l||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function $x(n){return!function kw(n){return function XP(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Ux(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function cv(n){return function QP(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Ow(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(zi))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ow(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function jx(n){if(!Ow(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Kh{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,l=!1,d){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=d,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,l||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?(0,a.mal)(t,{injector:this._injector}):setTimeout(t)}}let ep=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._injector=(0,a.WQX)(a.zZn),this._document=r}create(e,i=!1){return new Kh(e,this._checker,this._ngZone,this._document,i,this._injector)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Mw),a.KVO(a.SKi),a.KVO(Te))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lv(n){return 0===n.buttons||0===n.detail}function uv(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const JP=new a.nKC("cdk-input-modality-detector-options"),V4={ignoreKeys:[18,17,224,91,16]},Xh=Bh({passive:!0,capture:!0});let Gx=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,l){this._platform=e,this._mostRecentTarget=null,this._modality=new Me.t(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(f=>f===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Da(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lv(d)?"keyboard":"mouse"),this._mostRecentTarget=Da(d))},this._onTouchstart=d=>{uv(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Da(d))},this._options={...V4,...l},this.modalityDetected=this._modality.pipe(kx(1)),this.modalityChanged=this.modalityDetected.pipe((0,Ox.F)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Xh),r.addEventListener("mousedown",this._onMousedown,Xh),r.addEventListener("touchstart",this._onTouchstart,Xh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Xh),document.removeEventListener("mousedown",this._onMousedown,Xh),document.removeEventListener("touchstart",this._onTouchstart,Xh))}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(zi),a.KVO(a.SKi),a.KVO(Te),a.KVO(JP,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Wx=new a.nKC("liveAnnouncerElement",{providedIn:"root",factory:function Kx(){return null}}),Nw=new a.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let qx=0,np=(()=>{class n{constructor(e,i,r,l){this._ngZone=i,this._defaultOptions=l,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let l,d;return 1===i.length&&"number"==typeof i[0]?d=i[0]:[l,d]=i,this.clear(),clearTimeout(this._previousTimeout),l||(l=r&&r.politeness?r.politeness:"polite"),null==d&&r&&(d=r.duration),this._liveElement.setAttribute("aria-live",l),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let l=0;l<i.length;l++)i[l].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+qx++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const l=i[r],d=l.getAttribute("aria-owns");d?-1===d.indexOf(e)&&l.setAttribute("aria-owns",d+" "+e):l.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Wx,8),a.KVO(a.SKi),a.KVO(Te),a.KVO(Nw,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rp=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(rp||{});const Fw=new a.nKC("cdk-focus-monitor-default-options"),Jl=Bh({passive:!0,capture:!0});let xc=(()=>{class n{constructor(e,i,r,l,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new B.B,this._rootNodeFocusAndBlurListener=f=>{for(let E=Da(f);E;E=E.parentElement)"focus"===f.type?this._onFocus(f,E):this._onBlur(f,E)},this._document=l,this._detectionMode=d?.detectionMode||rp.IMMEDIATE}monitor(e,i=!1){const r=Zl(e);if(!this._platform.isBrowser||1!==r.nodeType)return Y();const l=function fP(n){if(function K_(){if(null==Cc){const n=typeof document<"u"?document.head:null;Cc=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Cc}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const f={checkChildren:i,subject:new B.B,rootNode:l};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=Zl(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const l=Zl(e);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([f,p])=>this._originChanged(f,i,p)):(this._setOrigin(i),"function"==typeof l.focus&&l.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===rp.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,this._detectionMode===rp.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),l=Da(e);!r||!r.checkChildren&&i!==l||this._originChanged(i,this._getFocusOrigin(l),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jl),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jl)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_i(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jl),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jl),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,l)=>{(l===e||r.checkChildren&&l.contains(e))&&i.push([l,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const l=e.labels;if(l)for(let d=0;d<l.length;d++)if(l[d].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(a.SKi),a.KVO(zi),a.KVO(Gx),a.KVO(Te,8),a.KVO(Fw,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ac=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Ac||{});const Qx="cdk-high-contrast-black-on-white",Lw="cdk-high-contrast-white-on-black",Vw="cdk-high-contrast-active";let Yx=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,a.WQX)(Aw).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ac.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,l=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ac.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ac.BLACK_ON_WHITE}return Ac.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Vw,Qx,Lw),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===Ac.BLACK_ON_WHITE?e.add(Vw,Qx):i===Ac.WHITE_ON_BLACK&&e.add(Vw,Lw)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(zi),a.KVO(Te))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eN=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Yx))};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[Px]})}return n})();const Zx=new a.nKC("cdk-dir-doc",{providedIn:"root",factory:function Jx(){return(0,a.WQX)(Te)}}),Pn=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ya=(()=>{class n{constructor(e){this.value="ltr",this.change=new a.bkB,e&&(this.value=function eA(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Pn.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Zx,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();const Qu=["text"],jw=[[["mat-icon"]],"*"],sp=["mat-icon","*"];function tA(n,t){if(1&n&&a.nrm(0,"mat-pseudo-checkbox",1),2&n){const e=a.XpG();a.Y8G("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function $w(n,t){if(1&n&&a.nrm(0,"mat-pseudo-checkbox",3),2&n){const e=a.XpG();a.Y8G("disabled",e.disabled)}}function Hw(n,t){if(1&n&&(a.j41(0,"span",4),a.EFF(1),a.k0s()),2&n){const e=a.XpG();a.R7$(),a.SpI("(",e.group.label,")")}}const zw=["mat-internal-form-field",""],nA=["*"],iA=new a.nKC("mat-sanity-checks",{providedIn:"root",factory:function tN(){return!0}});let yi=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!fx()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Yx),a.KVO(iA,8),a.KVO(Te))};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[Qh,Qh]})}return n})();class Eo{constructor(t,e,i,r,l){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=l,this.errorState=!1}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,l=i?.isErrorState(r,e)??!1;l!==t&&(this.errorState=l,this._stateChanges.next())}}let hv=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var xa=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(xa||{});class sN{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=xa.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ww=Bh({passive:!0,capture:!0});class cA{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Da(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(l=>l.handleEvent(t))})}}addHandler(t,e,i,r){const l=this._events.get(e);if(l){const d=l.get(i);d?d.add(r):l.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,Ww)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const l=r.get(e);l&&(l.delete(i),0===l.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,Ww)))}}const ap={enterDuration:225,exitDuration:150},aN=Bh({passive:!0,capture:!0}),qw=["mousedown","touchstart"],Xw=["mouseup","mouseleave","touchend","touchcancel"];class Yh{static#e=this._eventManager=new cA;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Zl(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),l={...ap,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=i.radius||function fv(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),f=t-r.left,p=e-r.top,E=l.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=f-d+"px",x.style.top=p-d+"px",x.style.height=2*d+"px",x.style.width=2*d+"px",null!=i.color&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${E}ms`,this._containerElement.appendChild(x);const R=window.getComputedStyle(x),K=R.transitionDuration,me="none"===R.transitionProperty||"0s"===K||"0s, 0s"===K||0===r.width&&0===r.height,fe=new sN(this,x,i,me);x.style.transform="scale3d(1, 1, 1)",fe.state=xa.FADING_IN,i.persistent||(this._mostRecentTransientRipple=fe);let he=null;return!me&&(E||l.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ht=()=>{he&&(he.fallbackTimer=null),clearTimeout(wt),this._finishRippleTransition(fe)},vt=()=>this._destroyRipple(fe),wt=setTimeout(vt,E+100);x.addEventListener("transitionend",ht),x.addEventListener("transitioncancel",vt),he={onTransitionEnd:ht,onTransitionCancel:vt,fallbackTimer:wt}}),this._activeRipples.set(fe,he),(me||!E)&&this._finishRippleTransition(fe),fe}fadeOutRipple(t){if(t.state===xa.FADING_OUT||t.state===xa.HIDDEN)return;const e=t.element,i={...ap,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=xa.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Zl(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,qw.forEach(i=>{Yh._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Xw.forEach(e=>{this._triggerElement.addEventListener(e,this,aN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===xa.FADING_IN?this._startFadeOutTransition(t):t.state===xa.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=xa.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=xa.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=lv(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!uv(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===xa.VISIBLE||t.config.terminateOnPointerUp&&t.state===xa.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(qw.forEach(e=>Yh._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(Xw.forEach(e=>t.removeEventListener(e,this,aN)),this._pointerUpEventsRegistered=!1))}}const hl=new a.nKC("mat-ripple-global-options");let Aa=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,l,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new Yh(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(zi),a.rXU(hl,8),a.rXU(a.bc$,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&a.AVh("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),cp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[yi,yi]})}return n})(),cN=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&a.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[a.aNF],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),mv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[yi]})}return n})();const lA=new a.nKC("MAT_OPTION_PARENT_COMPONENT"),Qw=new a.nKC("MatOptgroup");let Jh=0;class Yw{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Yu=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,l){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=l,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Jh++,this.onSelectionChange=new a.bkB,this._stateChanges=new B.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ta(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Yw(this,e))}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.gRc),a.rXU(lA,8),a.rXU(Qw,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&a.GBs(Qu,7),2&i){let l;a.mGM(l=a.lsd())&&(r._text=l.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&a.bIt("click",function(){return r._selectViaInteraction()})("keydown",function(d){return r._handleKeydown(d)}),2&i&&(a.Mr5("id",r.id),a.BMQ("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),a.AVh("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",a.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[a.GFd,a.aNF],ngContentSelectors:sp,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){1&i&&(a.NAR(jw),a.DNE(0,tA,1,2,"mat-pseudo-checkbox",1),a.SdG(1),a.j41(2,"span",2,0),a.SdG(4,1),a.k0s(),a.DNE(5,$w,1,1,"mat-pseudo-checkbox",3)(6,Hw,2,1,"span",4),a.nrm(7,"div",5)),2&i&&(a.vxM(r.multiple?0:-1),a.R7$(5),a.vxM(r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),a.R7$(),a.vxM(r.group&&r.group._inert?6:-1),a.R7$(),a.Y8G("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[cN,Aa],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),hA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[cp,yi,mv]})}return n})();const fA={capture:!0},mA=["focus","mousedown","mouseenter","touchstart"],Zw="mat-ripple-loader-uninitialized",Jw="mat-ripple-loader-class-name",pA="mat-ripple-loader-centered",up="mat-ripple-loader-disabled";let gA=(()=>{class n{constructor(){this._document=(0,a.WQX)(Te,{optional:!0}),this._animationMode=(0,a.WQX)(a.bc$,{optional:!0}),this._globalRippleOptions=(0,a.WQX)(hl,{optional:!0}),this._platform=(0,a.WQX)(zi),this._ngZone=(0,a.WQX)(a.SKi),this._hosts=new Map,this._onInteraction=e=>{const i=Da(e);if(i instanceof HTMLElement){const r=i.closest(`[${Zw}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(const e of mA)this._document?.addEventListener(e,this._onInteraction,fA)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of mA)this._document?.removeEventListener(i,this._onInteraction,fA)}configureRipple(e,i){e.setAttribute(Zw,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(Jw))&&e.setAttribute(Jw,i.className||""),i.centered&&e.setAttribute(pA,""),i.disabled&&e.setAttribute(up,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(up,""):e.removeAttribute(up)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(Jw)),e.append(r);const l=new Aa(new a.aKT(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return l._isInitialized=!0,l.trigger=e,l.centered=e.hasAttribute(pA),l.disabled=e.hasAttribute(up),this.attachRipple(e,l),l}attachRipple(e,i){e.removeAttribute(Zw),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){2&i&&a.AVh("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[a.aNF],attrs:zw,ngContentSelectors:nA,decls:1,vars:0,template:function(i,r){1&i&&(a.NAR(),a.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return n})();const lN=["*",[["mat-toolbar-row"]]],_A=["*","mat-toolbar-row"];let uN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),vA=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(zi),a.rXU(Te))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,l){if(1&i&&a.wni(l,uN,5),2&i){let d;a.mGM(d=a.lsd())&&(r._toolbarRows=d)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[a.aNF],ngContentSelectors:_A,decls:2,vars:0,template:function(i,r){1&i&&(a.NAR(lN),a.SdG(0),a.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),dN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[yi,yi]})}return n})();function eE(...n){const t=(0,Ue.ms)(n),{args:e,keys:i}=Oe(n),r=new J.c(l=>{const{length:d}=e;if(!d)return void l.complete();const f=new Array(d);let p=d,E=d;for(let x=0;x<d;x++){let R=!1;(0,un.Tg)(e[x]).subscribe((0,Qe._)(l,U=>{R||(R=!0,E--),f[x]=U},()=>p--,void 0,()=>{(!p||!R)&&(E||l.next(i?st(i,f):f),l.complete())}))}});return t?r.pipe(Ie(t)):r}var tE=k(7647);class gv{}class Gs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),l=r.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(r,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Gs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Gs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Gs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const l=t.value;if(l){let d=this.headers.get(e);if(!d)return;d=d.filter(f=>-1===l.indexOf(f)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(l=>l.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class hN{encodeKey(t){return yv(t)}encodeValue(t){return yv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const mN=/%(\d[a-f0-9])/gi,vv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function yv(n){return encodeURIComponent(n).replace(mN,(t,e)=>vv[e]??t)}function bv(n){return`${n}`}class Ju{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new hN,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function fN(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const l=r.indexOf("="),[d,f]=-1==l?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,l)),t.decodeValue(r.slice(l+1))],p=e.get(d)||[];p.push(f),e.set(d,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(bv):[bv(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(l=>{e.push({param:i,value:l,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Ju({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(bv(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(bv(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class pN{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function _N(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yA(n){return typeof Blob<"u"&&n instanceof Blob}function vN(n){return typeof FormData<"u"&&n instanceof FormData}class dp{constructor(t,e,i,r){let l;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function gN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,l=r):l=i,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params),this.transferCache=l.transferCache),this.headers??=new Gs,this.context??=new pN,this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+d}}else this.params=new Ju,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||_N(this.body)||yA(this.body)||vN(this.body)||function yN(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Ju?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vN(this.body)?null:yA(this.body)?this.body.type||null:_N(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ju?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,l=t.transferCache??this.transferCache,d=void 0!==t.body?t.body:this.body,f=t.withCredentials??this.withCredentials,p=t.reportProgress??this.reportProgress;let E=t.headers||this.headers,x=t.params||this.params;const R=t.context??this.context;return void 0!==t.setHeaders&&(E=Object.keys(t.setHeaders).reduce((U,K)=>U.set(K,t.setHeaders[K]),E)),t.setParams&&(x=Object.keys(t.setParams).reduce((U,K)=>U.set(K,t.setParams[K]),x)),new dp(e,i,d,{params:x,headers:E,context:R,reportProgress:p,responseType:r,withCredentials:f,transferCache:l})}}var nE=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(nE||{});class hp{constructor(t,e=200,i="OK"){this.headers=t.headers||new Gs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ed extends hp{constructor(t={}){super(t),this.type=nE.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ed({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function rE(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let td=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let l;if(e instanceof dp)l=e;else{let p,E;p=r.headers instanceof Gs?r.headers:new Gs(r.headers),r.params&&(E=r.params instanceof Ju?r.params:new Ju({fromObject:r.params})),l=new dp(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:E,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const d=Y(l).pipe(ju(p=>this.handler.handle(p)));if(e instanceof dp||"events"===r.observe)return d;const f=d.pipe((0,On.p)(p=>p instanceof ed));switch(r.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,Ae.T)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return f.pipe((0,Ae.T)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return f.pipe((0,Ae.T)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return f.pipe((0,Ae.T)(p=>p.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Ju).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,rE(r,i))}post(e,i,r={}){return this.request("POST",e,rE(r,i))}put(e,i,r={}){return this.request("PUT",e,rE(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(gv))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();const rd=["*"];let Sc;function Sv(n){return function pp(){if(void 0===Sc&&(Sc=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Sc=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Sc}()?.createHTML(n)||n}function hE(n){return Error(`Unable to find icon with the name "${n}"`)}function fE(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function LA(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class eu{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let mE=(()=>{class n{constructor(e,i,r,l){this._httpClient=e,this._sanitizer=i,this._errorHandler=l,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,l){return this._addSvgIconConfig(e,i,new eu(r,null,l))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,l){const d=this._sanitizer.sanitize(a.WPN.HTML,r);if(!d)throw LA(r);const f=Sv(d);return this._addSvgIconConfig(e,i,new eu("",f,l))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new eu(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const l=this._sanitizer.sanitize(a.WPN.HTML,i);if(!l)throw LA(i);const d=Sv(l);return this._addSvgIconSetConfig(e,new eu("",d,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.WPN.RESOURCE_URL,e);if(!i)throw fE(e);const r=this._cachedIconsByUrl.get(i);return r?Y(rf(r)):this._loadSvgIconFromConfig(new eu(e,null)).pipe(gi(l=>this._cachedIconsByUrl.set(i,l)),(0,Ae.T)(l=>rf(l)))}getNamedSvgIcon(e,i=""){const r=VA(i,e);let l=this._svgIconConfigs.get(r);if(l)return this._getSvgFromConfig(l);if(l=this._getIconConfigFromResolvers(i,e),l)return this._svgIconConfigs.set(r,l),this._getSvgFromConfig(l);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):Rn(hE(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Y(rf(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ae.T)(i=>rf(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Y(r):eE(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(jl(f=>{const E=`Loading icon set URL: ${this._sanitizer.sanitize(a.WPN.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(E)),Y(null)})))).pipe((0,Ae.T)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw hE(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const l=i[r];if(l.svgText&&l.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(l),f=this._extractSvgIconFromSet(d,e,l.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(gi(i=>e.svgText=i),(0,Ae.T)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Y(null):this._fetchIcon(e).pipe(gi(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const l=e.querySelector(`[id="${i}"]`);if(!l)return null;const d=l.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const f=this._svgElementFromString(Sv("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Sv("<svg></svg>")),r=e.attributes;for(let l=0;l<r.length;l++){const{name:d,value:f}=r[l];"id"!==d&&i.setAttribute(d,f)}for(let l=0;l<e.childNodes.length;l++)e.childNodes[l].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[l].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,l=r?.withCredentials??!1;if(!this._httpClient)throw function VN(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const d=this._sanitizer.sanitize(a.WPN.RESOURCE_URL,i);if(!d)throw fE(i);const f=this._inProgressUrlFetches.get(d);if(f)return f;const p=this._httpClient.get(d,{responseType:"text",withCredentials:l}).pipe((0,Ae.T)(E=>Sv(E)),hh(()=>this._inProgressUrlFetches.delete(d)),(0,tE.u)());return this._inProgressUrlFetches.set(d,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(VA(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const l=this._resolvers[r](i,e);if(l)return UN(l)?new eu(l.url,null,l.options):new eu(l,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(td,8),a.KVO(b),a.KVO(Te,8),a.KVO(a.zcH))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rf(n){return n.cloneNode(!0)}function VA(n,t){return n+":"+t}function UN(n){return!(!n.url||!n.options)}const jN=new a.nKC("MAT_ICON_DEFAULT_OPTIONS"),EH=new a.nKC("mat-icon-location",{providedIn:"root",factory:function BA(){const n=(0,a.WQX)(Te),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Io=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],UA=Io.map(n=>`[${n}]`).join(", "),jA=/^url\(['"]?#(.*?)['"]?\)$/;let Vo=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,l,d,f){this._elementRef=e,this._iconRegistry=i,this._location=l,this._errorHandler=d,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ne.yU.EMPTY,f&&(f.color&&(this.color=this._defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,l)=>{r.forEach(d=>{l.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(UA),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let l=0;l<i.length;l++)Io.forEach(d=>{const f=i[l],p=f.getAttribute(d),E=p?p.match(jA):null;if(E){let x=r.get(f);x||(x=[],r.set(f,x)),x.push({name:d,value:E[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Xi(1)).subscribe(l=>this._setSvgElement(l),l=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${l.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(mE),a.kS0("aria-hidden"),a.rXU(EH),a.rXU(a.zcH),a.rXU(jN,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(a.BMQ("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[2,"inline","inline",a.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[a.GFd,a.aNF],ngContentSelectors:rd,decls:1,vars:0,template:function(i,r){1&i&&(a.NAR(),a.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),ts=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[yi,yi]})}return n})();const Gi=["mat-button",""],Rv=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],sf=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],$A=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",kv=["mat-fab",""],pE=["mat-icon-button",""],zN=["*"],zA=new a.nKC("MAT_BUTTON_CONFIG"),ns=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let gp=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,r,l){this._elementRef=e,this._platform=i,this._ngZone=r,this._animationMode=l,this._focusMonitor=(0,a.WQX)(xc),this._rippleLoader=(0,a.WQX)(gA),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const d=(0,a.WQX)(zA,{optional:!0}),f=e.nativeElement,p=f.classList;this.disabledInteractive=d?.disabledInteractive??!1,this.color=d?.color??null,this._rippleLoader?.configureRipple(f,{className:"mat-mdc-button-ripple"});for(const{attribute:E,mdcClasses:x}of ns)f.hasAttribute(E)&&p.add(...x)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){a.QTQ()};static#t=this.\u0275dir=a.FsC({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",a.L39],disabled:[2,"disabled","disabled",a.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",a.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",a.L39]},features:[a.GFd]})}return n})(),WA=(()=>{class n extends gp{constructor(e,i,r,l){super(e,i,r,l),this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(i){a.QTQ()};static#t=this.\u0275dir=a.FsC({type:n,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,a.Udg)(e)]},features:[a.GFd,a.Vt3]})}return n})(),tu=(()=>{class n extends gp{constructor(e,i,r,l){super(e,i,r,l)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(zi),a.rXU(a.SKi),a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(a.BMQ("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[a.Vt3,a.aNF],attrs:Gi,ngContentSelectors:sf,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.NAR(Rv),a.nrm(0,"span",0),a.SdG(1),a.j41(2,"span",1),a.SdG(3,1),a.k0s(),a.SdG(4,2),a.nrm(5,"span",2)(6,"span",3)),2&i&&a.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),GN=(()=>{class n extends WA{constructor(e,i,r,l){super(e,i,r,l)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(zi),a.rXU(a.SKi),a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(i,r){2&i&&(a.BMQ("disabled",r._getDisabledAttribute())("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-disabled",r._getDisabledAttribute()),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[a.Vt3,a.aNF],attrs:Gi,ngContentSelectors:sf,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.NAR(Rv),a.nrm(0,"span",0),a.SdG(1),a.j41(2,"span",1),a.SdG(3,1),a.k0s(),a.SdG(4,2),a.nrm(5,"span",2)(6,"span",3)),2&i&&a.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',$A],encapsulation:2,changeDetection:0})}return n})();const gE=new a.nKC("mat-mdc-fab-default-options",{providedIn:"root",factory:KA});function KA(){return{color:"accent"}}const Ov=KA();let is=(()=>{class n extends gp{constructor(e,i,r,l,d){super(e,i,r,l),this._options=d,this._isFab=!0,this._options=this._options||Ov,this.color=this._options.color||Ov.color}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(zi),a.rXU(a.SKi),a.rXU(a.bc$,8),a.rXU(gE,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(i,r){2&i&&(a.BMQ("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{extended:[2,"extended","extended",a.L39]},exportAs:["matButton"],standalone:!0,features:[a.GFd,a.Vt3,a.aNF],attrs:kv,ngContentSelectors:sf,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.NAR(Rv),a.nrm(0,"span",0),a.SdG(1),a.j41(2,"span",1),a.SdG(3,1),a.k0s(),a.SdG(4,2),a.nrm(5,"span",2)(6,"span",3)),2&i&&a.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),pl=(()=>{class n extends GN{constructor(e,i,r,l,d){super(e,i,r,l),this._options=d,this._isFab=!0,this._options=this._options||Ov,this.color=this._options.color||Ov.color}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(zi),a.rXU(a.SKi),a.rXU(a.bc$,8),a.rXU(gE,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["a","mat-fab",""]],hostVars:19,hostBindings:function(i,r){2&i&&(a.BMQ("disabled",r._getDisabledAttribute())("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-disabled",r._getDisabledAttribute()),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{extended:[2,"extended","extended",a.L39]},exportAs:["matButton","matAnchor"],standalone:!0,features:[a.GFd,a.Vt3,a.aNF],attrs:kv,ngContentSelectors:sf,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.NAR(Rv),a.nrm(0,"span",0),a.SdG(1),a.j41(2,"span",1),a.SdG(3,1),a.k0s(),a.SdG(4,2),a.nrm(5,"span",2)(6,"span",3)),2&i&&a.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),XA=(()=>{class n extends gp{constructor(e,i,r,l){super(e,i,r,l),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(zi),a.rXU(a.SKi),a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(a.BMQ("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[a.Vt3,a.aNF],attrs:pE,ngContentSelectors:zN,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.NAR(),a.nrm(0,"span",0),a.SdG(1),a.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',$A],encapsulation:2,changeDetection:0})}return n})(),Wr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[yi,cp,yi]})}return n})();var Bo=k(7786);let Nv,vE=1;const Za={};function af(n){return n in Za&&(delete Za[n],!0)}const DH={setImmediate(n){const t=vE++;return Za[t]=!0,Nv||(Nv=Promise.resolve()),Nv.then(()=>af(t)&&n()),t},clearImmediate(n){af(n)}},{setImmediate:QA,clearImmediate:YA}=DH,Fv={setImmediate(...n){const{delegate:t}=Fv;return(t?.setImmediate||QA)(...n)},clearImmediate(n){const{delegate:t}=Fv;return(t?.clearImmediate||YA)(n)},delegate:void 0},bE=new class WN extends Tw{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class _p extends Rx{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Fv.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:l}=t;null!=e&&(null===(r=l[l.length-1])||void 0===r?void 0:r.id)!==e&&(Fv.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function ZA(n,t){return t?e=>(0,xt.x)(t.pipe(Xi(1),function KN(){return(0,se.N)((n,t)=>{n.subscribe((0,Qe._)(t,r_.l))})}()),e.pipe(ZA(n))):(0,Pr.Z)((e,i)=>(0,un.Tg)(n(e,i)).pipe(Xi(1),g0(e)))}var qN=k(9470);function JA(n=0,t,e=UP){let i=-1;return null!=t&&((0,qN.m)(t)?e=t:i=t),new J.c(r=>{let l=function XN(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;l<0&&(l=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},l)})}function cf(n,t=nv){const e=JA(n,t);return ZA(()=>e)}class wE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class lf extends wE{constructor(t,e,i,r,l){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=l}}class nu extends wE{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class tS extends wE{constructor(t){super(),this.element=t instanceof a.aKT?t.nativeElement:t}}class vp{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof lf?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof nu?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof tS?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class JN extends vp{constructor(t,e,i,r,l){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const f=d.element,p=this._document.createComment("dom-portal");f.parentNode.insertBefore(p,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(f,p)})},this._document=l}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||a.zZn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let od=(()=>{class n extends vp{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.bkB,this.attachDomPortal=l=>{const d=l.element,f=this._document.createComment("dom-portal");l.setAttachedHost(this),d.parentNode.insertBefore(f,d),this._getRootNode().appendChild(d),this._attachedPortal=l,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,l=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(l,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.OM3),a.rXU(a.c1b),a.rXU(Te))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[a.Vt3]})}return n})(),sd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();var en=k(9969),eF=k(7441);const tF=["addListener","removeListener"],oS=["addEventListener","removeEventListener"],EE=["on","off"];function iu(n,t,e,i){if((0,De.T)(e)&&(i=e,e=void 0),i)return iu(n,t,e).pipe(Ie(i));const[r,l]=function nF(n){return(0,De.T)(n.addEventListener)&&(0,De.T)(n.removeEventListener)}(n)?oS.map(d=>f=>n[d](t,f,e)):function sS(n){return(0,De.T)(n.addListener)&&(0,De.T)(n.removeListener)}(n)?tF.map(IE(n,t)):function aS(n){return(0,De.T)(n.on)&&(0,De.T)(n.off)}(n)?EE.map(IE(n,t)):[];if(!r&&(0,eF.X)(n))return(0,Pr.Z)(d=>iu(d,t,e))((0,un.Tg)(n));if(!r)throw new TypeError("Invalid event target");return new J.c(d=>{const f=(...p)=>d.next(1<p.length?p:p[0]);return r(f),()=>l(f)})}function IE(n,t){return e=>i=>n[e](t,i)}const uf={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=uf;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(l=>{e=void 0,n(l)});return new ne.yU(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=uf;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=uf;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class CE extends Tw{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class iF extends Rx{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=uf.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:l}=t;null!=e&&(null===(r=l[l.length-1])||void 0===r?void 0:r.id)!==e&&(uf.cancelAnimationFrame(e),t._scheduled=void 0)}});function rF(n,t=nv){return function kH(n){return(0,se.N)((t,e)=>{let i=!1,r=null,l=null,d=!1;const f=()=>{if(l?.unsubscribe(),l=null,i){i=!1;const E=r;r=null,e.next(E)}d&&e.complete()},p=()=>{l=null,d&&e.complete()};t.subscribe((0,Qe._)(e,E=>{i=!0,r=E,l||(0,un.Tg)(n(E)).subscribe(l=(0,Qe._)(e,f,p))},()=>{d=!0,(!i||!l||l.closed)&&e.complete()}))})}(()=>JA(n,t))}let DE=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new B.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new J.c(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(rF(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe((0,On.p)(l=>!l||r.indexOf(l)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,l)=>{this._scrollableContainsElement(l,e)&&i.push(l)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Zl(i),l=e.getElementRef().nativeElement;do{if(r==l)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>iu(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(a.SKi),a.KVO(zi),a.KVO(Te,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uF=(()=>{class n{constructor(e,i,r,l){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=l,this._destroyed=new B.B,this._elementScrolled=new J.c(d=>this.ngZone.runOutsideAngular(()=>iu(this.elementRef.nativeElement,"scroll").pipe(_i(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&Xm()!=cl.NORMAL?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),Xm()==cl.INVERTED?e.left=e.right:Xm()==cl.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;W_()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",l=this.elementRef.nativeElement;if("top"==e)return l.scrollTop;if("bottom"==e)return l.scrollHeight-l.clientHeight-l.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?r:i:"end"==e&&(e=d?i:r),d&&Xm()==cl.INVERTED?e==i?l.scrollWidth-l.clientWidth-l.scrollLeft:l.scrollLeft:d&&Xm()==cl.NEGATED?e==i?l.scrollLeft+l.scrollWidth-l.clientWidth:-l.scrollLeft:e==i?l.scrollLeft:l.scrollWidth-l.clientWidth-l.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(DE),a.rXU(a.SKi),a.rXU(Ya,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),hS=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new B.B,this._changeListener=l=>{this._change.next(l)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,l=r.getBoundingClientRect();return{top:-l.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-l.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(rF(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(zi),a.KVO(a.SKi),a.KVO(Te,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TE=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})(),mF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[Qh,TE,Qh,TE]})}return n})();const pF=W_();class LH{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_r(-this._previousScrollPosition.left),t.style.top=_r(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,l=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),pF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),pF&&(i.scrollBehavior=l,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class VH{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe((0,On.p)(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class gF{enable(){}disable(){}attach(){}}function xE(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function ad(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class yp{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();xE(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let _F=(()=>{class n{constructor(e,i,r,l){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new gF,this.close=d=>new VH(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new LH(this._viewportRuler,this._document),this.reposition=d=>new yp(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=l}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(DE),a.KVO(hS),a.KVO(a.SKi),a.KVO(Te))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Lv{constructor(t){if(this.scrollStrategy=new gF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class UH{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let fS=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Te))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vv=(()=>{class n extends fS{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const l=this._attachedOverlays;for(let d=l.length-1;d>-1;d--)if(l[d]._keydownEvents.observers.length>0){const f=l[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Te),a.KVO(a.SKi,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mS=(()=>{class n extends fS{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Da(l)},this._clickListener=l=>{const d=Da(l),f="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let E=p.length-1;E>-1;E--){const x=p[E];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(pS(x.overlayElement,d)||pS(x.overlayElement,f))break;const R=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(l)):R.next(l)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Te),a.KVO(zi),a.KVO(a.SKi,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pS(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}let bp=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||fx()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let l=0;l<r.length;l++)r[l].remove()}const i=this._document.createElement("div");i.classList.add(e),fx()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Te),a.KVO(zi))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class AE{constructor(t,e,i,r,l,d,f,p,E,x=!1,R){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=l,this._keyboardDispatcher=d,this._document=f,this._location=p,this._outsideClickDispatcher=E,this._animationsDisabled=x,this._injector=R,this._backdropElement=null,this._backdropClick=new B.B,this._attachments=new B.B,this._detachments=new B.B,this._locationChanges=ne.yU.EMPTY,this._backdropClickHandler=U=>this._backdropClick.next(U),this._backdropTransitionendHandler=U=>{this._disposeBackdrop(U.target)},this._keydownEvents=new B.B,this._outsidePointerEvents=new B.B,this._renders=new B.B,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=(0,a.O8t)(()=>(0,a.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,a.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=_r(this._config.width),t.height=_r(this._config.height),t.minWidth=_r(this._config.minWidth),t.minHeight=_r(this._config.minHeight),t.maxWidth=_r(this._config.maxWidth),t.maxHeight=_r(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=ov(e||[]).filter(l=>!!l);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(_i((0,Bo.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const SE="cdk-overlay-connected-position-bounding-box",HH=/([A-Za-z%]+)$/;class yF{get positions(){return this._preferredPositions}constructor(t,e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new B.B,this._resizeSubscription=ne.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(SE),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,l=[];let d;for(let f of this._preferredPositions){let p=this._getOriginPoint(t,r,f),E=this._getOverlayPoint(p,e,f),x=this._getOverlayFit(E,e,i,f);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,p);this._canFitWithFlexibleDimensions(x,E,i)?l.push({position:f,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,f)}):(!d||d.overlayFit.visibleArea<x.visibleArea)&&(d={overlayFit:x,overlayPoint:E,originPoint:p,position:f,overlayRect:e})}if(l.length){let f=null,p=-1;for(const E of l){const x=E.boundingBoxRect.width*E.boundingBoxRect.height*(E.position.weight||1);x>p&&(p=x,f=E)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ru(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(SE),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,l;if("center"==i.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==i.originX?d:f}return e.left<0&&(r-=e.left),l="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(l-=e.top),{x:r,y:l}}_getOverlayPoint(t,e,i){let r,l;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,l="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+l}}_getOverlayFit(t,e,i,r){const l=gS(e);let{x:d,y:f}=t,p=this._getOffset(r,"x"),E=this._getOffset(r,"y");p&&(d+=p),E&&(f+=E);let U=0-f,K=f+l.height-i.height,me=this._subtractOverflows(l.width,0-d,d+l.width-i.width),fe=this._subtractOverflows(l.height,U,K),he=me*fe;return{visibleArea:he,isCompletelyWithinViewport:l.width*l.height===he,fitsInViewportVertically:fe===l.height,fitsInViewportHorizontally:me==l.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,l=i.right-e.x,d=Bv(this._overlayRef.getConfig().minHeight),f=Bv(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=d&&d<=r)&&(t.fitsInViewportHorizontally||null!=f&&f<=l)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=gS(e),l=this._viewportRect,d=Math.max(t.x+r.width-l.width,0),f=Math.max(t.y+r.height-l.height,0),p=Math.max(l.top-i.top-t.y,0),E=Math.max(l.left-i.left-t.x,0);let x=0,R=0;return x=r.width<=l.width?E||-d:t.x<this._viewportMargin?l.left-i.left-t.x:0,R=r.height<=l.height?p||-f:t.y<this._viewportMargin?l.top-i.top-t.y:0,this._previousPushAmount={x,y:R},{x:t.x+x,y:t.y+R}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function bF(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new UH(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let l=0;l<e.length;l++)e[l].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let l,d,f,x,R,U;if("top"===e.overlayY)d=t.y,l=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,l=i.height-f+this._viewportMargin;else{const K=Math.min(i.bottom-t.y+i.top,t.y),me=this._lastBoundingBoxSize.height;l=2*K,d=t.y-K,l>me&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-me/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)U=i.width-t.x+2*this._viewportMargin,x=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)R=t.x,x=i.right-t.x;else{const K=Math.min(i.right-t.x+i.left,t.x),me=this._lastBoundingBoxSize.width;x=2*K,R=t.x-K,x>me&&!this._isInitialRender&&!this._growAfterOpen&&(R=t.x-me/2)}return{top:d,left:R,bottom:f,right:U,width:x,height:l}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const l=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=_r(i.height),r.top=_r(i.top),r.bottom=_r(i.bottom),r.width=_r(i.width),r.left=_r(i.left),r.right=_r(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",l&&(r.maxHeight=_r(l)),d&&(r.maxWidth=_r(d))}this._lastBoundingBoxSize=i,ru(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ru(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ru(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),l=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const x=this._viewportRuler.getViewportScrollPosition();ru(i,this._getExactOverlayY(e,t,x)),ru(i,this._getExactOverlayX(e,t,x))}else i.position="static";let f="",p=this._getOffset(e,"x"),E=this._getOffset(e,"y");p&&(f+=`translateX(${p}px) `),E&&(f+=`translateY(${E}px)`),i.transform=f.trim(),d.maxHeight&&(r?i.maxHeight=_r(d.maxHeight):l&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=_r(d.maxWidth):l&&(i.maxWidth="")),ru(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(l.y+this._overlayRect.height)+"px":r.top=_r(l.y),r}_getExactOverlayX(t,e,i){let d,r={left:"",right:""},l=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(l=this._pushOverlayOnScreen(l,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(l.x+this._overlayRect.width)+"px":r.left=_r(l.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ad(t,i),isOriginOutsideView:xE(t,i),isOverlayClipped:ad(e,i),isOverlayOutsideView:xE(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&ov(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.aKT)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function ru(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Bv(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(HH);return e&&"px"!==e?null:parseFloat(t)}return n||null}function gS(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const _S="cdk-global-overlay-wrapper";class wF{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(_S),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:l,maxWidth:d,maxHeight:f}=i,p=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),E=!("100%"!==l&&"100vh"!==l||f&&"100%"!==f&&"100vh"!==f),x=this._xPosition,R=this._xOffset,U="rtl"===this._overlayRef.getConfig().direction;let K="",me="",fe="";p?fe="flex-start":"center"===x?(fe="center",U?me=R:K=R):U?"left"===x||"end"===x?(fe="flex-end",K=R):("right"===x||"start"===x)&&(fe="flex-start",me=R):"left"===x||"start"===x?(fe="flex-start",K=R):("right"===x||"end"===x)&&(fe="flex-end",me=R),t.position=this._cssPosition,t.marginLeft=p?"0":K,t.marginTop=E?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":me,e.justifyContent=fe,e.alignItems=E?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(_S),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let EF=(()=>{class n{constructor(e,i,r,l){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=l}global(){return new wF}flexibleConnectedTo(e){return new yF(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(hS),a.KVO(Te),a.KVO(zi),a.KVO(bp))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),IF=0,Uo=(()=>{class n{constructor(e,i,r,l,d,f,p,E,x,R,U,K){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=l,this._keyboardDispatcher=d,this._injector=f,this._ngZone=p,this._document=E,this._directionality=x,this._location=R,this._outsideClickDispatcher=U,this._animationsModuleType=K}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),l=this._createPortalOutlet(r),d=new Lv(e);return d.direction=d.direction||this._directionality.value,new AE(l,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(a.uvJ))}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+IF++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.o8S)),new JN(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(_F),a.KVO(bp),a.KVO(a.OM3),a.KVO(EF),a.KVO(Vv),a.KVO(a.zZn),a.KVO(a.SKi),a.KVO(Te),a.KVO(Ya),a.KVO(Nn),a.KVO(mS),a.KVO(a.bc$,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vS=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],RE=new a.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(Uo);return()=>n.scrollStrategies.reposition()}});let wp=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),yS=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,i,r,l,d){this._overlay=e,this._dir=d,this._backdropSubscription=ne.yU.EMPTY,this._attachSubscription=ne.yU.EMPTY,this._detachSubscription=ne.yU.EMPTY,this._positionSubscription=ne.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,a.WQX)(a.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new a.bkB,this.positionChange=new a.bkB,this.attach=new a.bkB,this.detach=new a.bkB,this.overlayKeydown=new a.bkB,this.overlayOutsideClick=new a.bkB,this._templatePortal=new nu(i,r),this._scrollStrategyFactory=l,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=vS);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ta(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{const r=this._getOriginElement(),l=Da(i);(!r||r!==l&&!r.contains(l))&&this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Lv({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof wp?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof wp?this.origin.elementRef.nativeElement:this.origin instanceof a.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function FH(n,t=!1){return(0,se.N)((e,i)=>{let r=0;e.subscribe((0,Qe._)(i,l=>{const d=n(l,r++);(d||t)&&i.next(l),!d&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Uo),a.rXU(a.C4Q),a.rXU(a.c1b),a.rXU(RE),a.rXU(Ya,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",a.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",a.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",a.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",a.L39],push:[2,"cdkConnectedOverlayPush","push",a.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",a.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[a.GFd,a.OA$]})}return n})();const bS={provide:RE,deps:[Uo],useFactory:function GH(n){return()=>n.scrollStrategies.reposition()}};let Ep=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[Uo,bS],imports:[Qh,sd,mF,mF]})}return n})();const wS=["mat-menu-item",""],CF=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],WH=["mat-icon, [matMenuItemIcon]","*"];function kE(n,t){1&n&&(a.qSk(),a.j41(0,"svg",2),a.nrm(1,"polygon",3),a.k0s())}const OE=["*"];function DF(n,t){if(1&n){const e=a.RV6();a.j41(0,"div",0),a.bIt("keydown",function(r){a.eBV(e);const l=a.XpG();return a.Njj(l._handleKeydown(r))})("click",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.closed.emit("click"))})("@transformMenu.start",function(r){a.eBV(e);const l=a.XpG();return a.Njj(l._onAnimationStart(r))})("@transformMenu.done",function(r){a.eBV(e);const l=a.XpG();return a.Njj(l._onAnimationDone(r))}),a.j41(1,"div",1),a.SdG(2),a.k0s()()}if(2&n){const e=a.XpG();a.HbH(e._classList),a.Y8G("id",e.panelId)("@transformMenu",e._panelAnimationState),a.BMQ("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Uv=new a.nKC("MAT_MENU_PANEL");let hf=(()=>{class n{constructor(e,i,r,l,d){this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=l,this._changeDetectorRef=d,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new B.B,this._focused=new B.B,this._highlighted=!1,this._triggersSubmenu=!1,l?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(Te),a.rXU(xc),a.rXU(Uv,8),a.rXU(a.gRc))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&a.bIt("click",function(d){return r._checkDisabled(d)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(a.BMQ("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),a.AVh("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",a.L39],disableRipple:[2,"disableRipple","disableRipple",a.L39]},exportAs:["matMenuItem"],standalone:!0,features:[a.GFd,a.aNF],attrs:wS,ngContentSelectors:WH,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(a.NAR(CF),a.SdG(0),a.j41(1,"span",0),a.SdG(2,1),a.k0s(),a.nrm(3,"div",1),a.DNE(4,kE,2,0,":svg:svg",2)),2&i&&(a.R7$(3),a.Y8G("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),a.R7$(),a.vxM(r._triggersSubmenu?4:-1))},dependencies:[Aa],encapsulation:2,changeDetection:0})}return n})();const TF=new a.nKC("MatMenuContent"),ff={transformMenu:(0,en.hZ)("transformMenu",[(0,en.wk)("void",(0,en.iF)({opacity:0,transform:"scale(0.8)"})),(0,en.kY)("void => enter",(0,en.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,en.iF)({opacity:1,transform:"scale(1)"}))),(0,en.kY)("* => void",(0,en.i0)("100ms 25ms linear",(0,en.iF)({opacity:0})))]),fadeInItems:(0,en.hZ)("fadeInItems",[(0,en.wk)("showing",(0,en.iF)({opacity:1})),(0,en.kY)("void => *",[(0,en.iF)({opacity:0}),(0,en.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ip=0;const xr=new a.nKC("mat-menu-default-options",{providedIn:"root",factory:function cd(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let ou=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){const i=this._previousPanelClass,r={...this._classList};i&&i.length&&i.split(" ").forEach(l=>{r[l]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(l=>{r[l]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,l){this._elementRef=e,this._changeDetectorRef=l,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new a.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new B.B,this.closed=new a.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+Ip++,this._injector=(0,a.WQX)(a.zZn),this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this.overlapTrigger=r.overlapTrigger,this.hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Gh(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,bo.Z)(this._directDescendantItems),pr(e=>(0,Bo.h)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),l=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[l]&&!r[l].disabled?i.setActiveItem(l):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,bo.Z)(this._directDescendantItems),pr(i=>(0,Bo.h)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Ta(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,a.mal)(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(null===this._baseElevation){const f=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(f)}const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,l=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));if(!l||l===this._previousElevation){const d={...this._classList};this._previousElevation&&(d[this._previousElevation]=!1),d[r]=!0,this._previousElevation=r,this._classList=d}}setPositionClasses(e=this.xPosition,i=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===e,"mat-menu-after":"after"===e,"mat-menu-above":"above"===i,"mat-menu-below":"below"===i},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,bo.Z)(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(xr),a.rXU(a.gRc))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-menu"]],contentQueries:function(i,r,l){if(1&i&&(a.wni(l,TF,5),a.wni(l,hf,5),a.wni(l,hf,4)),2&i){let d;a.mGM(d=a.lsd())&&(r.lazyContent=d.first),a.mGM(d=a.lsd())&&(r._allItems=d),a.mGM(d=a.lsd())&&(r.items=d)}},viewQuery:function(i,r){if(1&i&&a.GBs(a.C4Q,5),2&i){let l;a.mGM(l=a.lsd())&&(r.templateRef=l.first)}},hostVars:3,hostBindings:function(i,r){2&i&&a.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",a.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>null==e?null:(0,a.L39)(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[a.Jv_([{provide:Uv,useExisting:n}]),a.GFd,a.aNF],ngContentSelectors:OE,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(a.NAR(),a.DNE(0,DF,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[ff.transformMenu,ff.fadeInItems]},changeDetection:0})}return n})();const Ws=new a.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(Uo);return()=>n.scrollStrategies.reposition()}}),xF={provide:Ws,deps:[Uo],useFactory:function mf(n){return()=>n.scrollStrategies.reposition()}},pf=Bh({passive:!0});let IS=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,l,d,f,p,E,x){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=f,this._dir=p,this._focusMonitor=E,this._ngZone=x,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ne.yU.EMPTY,this._hoverSubscription=ne.yU.EMPTY,this._menuCloseSubscription=ne.yU.EMPTY,this._changeDetectorRef=(0,a.WQX)(a.gRc),this._handleTouchStart=R=>{uv(R)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=l,this._parentMaterialMenu=d instanceof ou?d:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,pf)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,pf),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),l=r.positionStrategy;this._setPosition(e,l),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof ou&&(e._startAnimation(),e._directDescendantItems.changes.pipe(_i(e.close)).subscribe(()=>{l.withLockedPosition(!1).reapplyLastPosition(),l.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof ou?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe((0,On.p)(r=>"void"===r.toState),Xi(1),_i(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Lv({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const l="start"===r.connectionPair.overlayX?"after":"before",d="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(l,d)):e.setPositionClasses(l,d)})}_setPosition(e,i){let[r,l]="before"===e.xPosition?["end","start"]:["start","end"],[d,f]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[p,E]=[d,f],[x,R]=[r,l],U=0;if(this.triggersSubmenu()){if(R=r="before"===e.xPosition?"start":"end",l=x="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const K=this._parentMaterialMenu.items.first;this._parentInnerPadding=K?K._getHostElement().offsetTop:0}U="bottom"===d?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(p="top"===d?"bottom":"top",E="top"===f?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:x,overlayY:d,offsetY:U},{originX:l,originY:p,overlayX:R,overlayY:d,offsetY:U},{originX:r,originY:E,overlayX:x,overlayY:f,offsetY:-U},{originX:l,originY:E,overlayX:R,overlayY:f,offsetY:-U}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Y(),l=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,On.p)(d=>d!==this._menuItemInstance),(0,On.p)(()=>this._menuOpen)):Y();return(0,Bo.h)(e,r,l,i)}_handleMousedown(e){lv(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,On.p)(e=>e===this._menuItemInstance&&!e.disabled),cf(0,bE)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof ou&&this.menu._isAnimating?this.menu._animationDone.pipe(Xi(1),cf(0,bE),_i(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new nu(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Uo),a.rXU(a.aKT),a.rXU(a.c1b),a.rXU(Ws),a.rXU(Uv,8),a.rXU(hf,10),a.rXU(Ya,8),a.rXU(xc),a.rXU(a.SKi))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){1&i&&a.bIt("click",function(d){return r._handleClick(d)})("mousedown",function(d){return r._handleMousedown(d)})("keydown",function(d){return r._handleKeydown(d)}),2&i&&a.BMQ("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return n})(),CS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[xF],imports:[vo,cp,yi,Ep,TE,yi]})}return n})();const FE=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},vr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const l=n[r],d=r+1<n.length,f=d?n[r+1]:0,p=r+2<n.length,E=p?n[r+2]:0;let U=(15&f)<<2|E>>6,K=63&E;p||(K=64,d||(U=64)),i.push(e[l>>2],e[(3&l)<<4|f>>4],e[U],e[K])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(FE(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const l=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&l)}else if(r>239&&r<365){const p=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(1023&p))}else{const l=n[e++],d=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&l)<<6|63&d)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const l=e[n.charAt(r++)],f=r<n.length?e[n.charAt(r)]:0;++r;const E=r<n.length?e[n.charAt(r)]:64;++r;const R=r<n.length?e[n.charAt(r)]:64;if(++r,null==l||null==f||null==E||null==R)throw new Cp;i.push(l<<2|f>>4),64!==E&&(i.push(f<<4&240|E>>2),64!==R&&i.push(E<<6&192|R))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Cp extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ld=function(n){return function(n){const t=FE(n);return vr.encodeByteArray(t,!0)}(n).replace(/\./g,"")},su=function(n){try{return vr.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},ud=()=>{try{return function TS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&su(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},au=n=>{var t,e;return null===(e=null===(t=ud())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]},Ds=()=>{var n;return null===(n=ud())||void 0===n?void 0:n.config},AS=n=>{var t;return null===(t=ud())||void 0===t?void 0:t[`_${n}`]};class SS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function cr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Mc extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Mc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dp.prototype.create)}}class Dp{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,l=this.errors[t],d=l?function FF(n,t){return n.replace(vf,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(l,i):"Error";return new Mc(r,`${this.serviceName}: ${d} (${r}).`,i)}}const vf=/\{\$([^}]+)}/g;function yf(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const l=n[r],d=t[r];if(PS(l)&&PS(d)){if(!yf(l,d))return!1}else if(l!==d)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function PS(n){return null!==n&&"object"==typeof n}function Tp(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function xp(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,l]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(l)}}),t}function Ap(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}class UF{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function jF(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=GE),void 0===r.error&&(r.error=GE),void 0===r.complete&&(r.complete=GE);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),l}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GE(){}function ui(n){return n&&n._delegate?n._delegate:n}class cu{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Sa="[DEFAULT]";class qE{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new SS;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function wf(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Sa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const l=this.getOrInitializeService({instanceIdentifier:r});i.resolve(l)}catch{}}}}clearInstance(t=Sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,A.A)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Sa){return this.instances.has(t)}getOptions(t=Sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[l,d]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(l)&&d.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),l=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;l.add(t),this.onInitCallbacks.set(r,l);const d=this.instances.get(r);return d&&t(d,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===Sa?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(t=Sa){return this.component?this.component.multipleInstances?t:Sa:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ef{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new qE(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const lu=[];var Un=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Un||{});const fd={debug:Un.DEBUG,verbose:Un.VERBOSE,info:Un.INFO,warn:Un.WARN,error:Un.ERROR,silent:Un.SILENT},If=Un.INFO,Cf={[Un.DEBUG]:"log",[Un.VERBOSE]:"log",[Un.INFO]:"info",[Un.WARN]:"warn",[Un.ERROR]:"error"},Df=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=Cf[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class Wv{constructor(t){this.name=t,this._logLevel=If,this._logHandler=Df,this._userLogHandler=null,lu.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Un))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?fd[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Un.DEBUG,...t),this._logHandler(this,Un.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Un.VERBOSE,...t),this._logHandler(this,Un.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Un.INFO,...t),this._logHandler(this,Un.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Un.WARN,...t),this._logHandler(this,Un.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Un.ERROR,...t),this._logHandler(this,Un.ERROR,...t)}}const VS=(n,t)=>t.some(e=>n instanceof e);let XE,QE;const YE=new WeakMap,Tf=new WeakMap,_l=new WeakMap,ZE=new WeakMap,JE=new WeakMap;let Sp={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return Tf.get(n);if("objectStoreNames"===t)return n.objectStoreNames||_l.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return pd(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function s3(n){return"function"==typeof n?function tI(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function US(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(nI(this),t),pd(YE.get(this))}:function(...t){return pd(n.apply(nI(this),t))}:function(t,...e){const i=n.call(nI(this),t,...e);return _l.set(i,t.sort?t.sort():[t]),pd(i)}}(n):(n instanceof IDBTransaction&&function md(n){if(Tf.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",d),n.removeEventListener("abort",d)},l=()=>{e(),r()},d=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",l),n.addEventListener("error",d),n.addEventListener("abort",d)});Tf.set(n,t)}(n),VS(n,function BS(){return XE||(XE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Sp):n)}function pd(n){if(n instanceof IDBRequest)return function eI(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",l),n.removeEventListener("error",d)},l=()=>{e(pd(n.result)),r()},d=()=>{i(n.error),r()};n.addEventListener("success",l),n.addEventListener("error",d)});return t.then(e=>{e instanceof IDBCursor&&YE.set(e,n)}).catch(()=>{}),JE.set(t,n),t}(n);if(ZE.has(n))return ZE.get(n);const t=s3(n);return t!==n&&(ZE.set(n,t),JE.set(t,n)),t}const nI=n=>JE.get(n),ZF=["get","getKey","getAll","getAllKeys","count"],Kr=["put","add","delete","clear"],Kv=new Map;function jS(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(Kv.get(t))return Kv.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Kr.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!ZF.includes(e))return;const l=function(){var d=(0,A.A)(function*(f,...p){const E=this.transaction(f,r?"readwrite":"readonly");let x=E.store;return i&&(x=x.index(p.shift())),(yield Promise.all([x[e](...p),r&&E.done]))[0]});return function(p){return d.apply(this,arguments)}}();return Kv.set(t,l),l}!function XF(n){Sp=n(Sp)}(n=>({...n,get:(t,e,i)=>jS(t,e)||n.get(t,e,i),has:(t,e)=>!!jS(t,e)||n.has(t,e)}));class JF{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function $S(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const qv="@firebase/app",uu=new Wv("@firebase/app"),Rp="[DEFAULT]",lL={[qv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},gd=new Map,Af=new Map,Sf=new Map;function kp(n,t){try{n.container.addComponent(t)}catch(e){uu.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function _d(n){const t=n.name;if(Sf.has(t))return uu.debug(`There were multiple attempts to register component ${t}.`),!1;Sf.set(t,n);for(const e of gd.values())kp(e,n);for(const e of Af.values())kp(e,n);return!0}function Op(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ts(n){return void 0!==n.settings}const Ma=new Dp("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class qS{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new cu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}const Mf="10.12.4";function XS(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:Rp,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw Ma.create("bad-app-name",{appName:String(r)});if(e||(e=Ds()),!e)throw Ma.create("no-options");const l=gd.get(r);if(l){if(yf(e,l.options)&&yf(i,l.config))return l;throw Ma.create("duplicate-app",{appName:r})}const d=new Ef(r);for(const p of Sf.values())d.addComponent(p);const f=new qS(e,i,d);return gd.set(r,f),f}function fL(n=Rp){const t=gd.get(n);if(!t&&n===Rp&&Ds())return XS();if(!t)throw Ma.create("no-app",{appName:n});return t}function Oc(n,t,e){var i;let r=null!==(i=lL[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const l=r.match(/\s|\//),d=t.match(/\s|\//);if(l||d){const f=[`Unable to register library "${r}" with version "${t}":`];return l&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&d&&f.push("and"),d&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void uu.warn(f.join(" "))}_d(new cu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const gL="firebase-heartbeat-database",YS=1,Pp="firebase-heartbeat-store";let lI=null;function uI(){return lI||(lI=function QF(n,t,{blocked:e,upgrade:i,blocking:r,terminated:l}={}){const d=indexedDB.open(n,t),f=pd(d);return i&&d.addEventListener("upgradeneeded",p=>{i(pd(d.result),p.oldVersion,p.newVersion,pd(d.transaction),p)}),e&&d.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),r&&p.addEventListener("versionchange",E=>r(E.oldVersion,E.newVersion,E))}).catch(()=>{}),f}(gL,YS,{upgrade:(n,t)=>{if(0===t)try{n.createObjectStore(Pp)}catch(e){console.warn(e)}}}).catch(n=>{throw Ma.create("idb-open",{originalErrorMessage:n.message})})),lI}function ZS(){return(ZS=(0,A.A)(function*(n){try{const e=(yield uI()).transaction(Pp),i=yield e.objectStore(Pp).get(Np(n));return yield e.done,i}catch(t){if(t instanceof Mc)uu.warn(t.message);else{const e=Ma.create("idb-get",{originalErrorMessage:t?.message});uu.warn(e.message)}}})).apply(this,arguments)}function JS(n,t){return Yv.apply(this,arguments)}function Yv(){return(Yv=(0,A.A)(function*(n,t){try{const i=(yield uI()).transaction(Pp,"readwrite");yield i.objectStore(Pp).put(t,Np(n)),yield i.done}catch(e){if(e instanceof Mc)uu.warn(e.message);else{const i=Ma.create("idb-set",{originalErrorMessage:e?.message});uu.warn(i.message)}}})).apply(this,arguments)}function Np(n){return`${n.name}!${n.options.appId}`}class dI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Jv(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return(0,A.A)(function*(){var e,i;const l=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=eM();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==d&&!t._heartbeatsCache.heartbeats.some(f=>f.date===d))return t._heartbeatsCache.heartbeats.push({date:d,agent:l}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return(0,A.A)(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=eM(),{heartbeatsToSend:r,unsentEntries:l}=function Zv(n,t=1024){const e=[];let i=n.slice();for(const r of n){const l=e.find(d=>d.agent===r.agent);if(l){if(l.dates.push(r.date),ey(e)>t){l.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),ey(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),d=ld(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(t._heartbeatsCache.heartbeats=l,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),d})()}}function eM(){return(new Date).toISOString().substring(0,10)}class Jv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,A.A)(function*(){return!!function Hv(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function $E(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var l;t((null===(l=r.error)||void 0===l?void 0:l.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,A.A)(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function h3(n){return ZS.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return(0,A.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const l=yield e.read();return JS(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return(0,A.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const l=yield e.read();return JS(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}})()}}function ey(n){return ld(JSON.stringify({version:2,heartbeats:n})).length}!function tM(n){_d(new cu("platform-logger",t=>new JF(t),"PRIVATE")),_d(new cu("heartbeat",t=>new dI(t),"PRIVATE")),Oc(qv,"0.10.7",n),Oc(qv,"0.10.7","esm2017"),Oc("fire-js","")}("");var hI=k(1635);const oM=function rM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ty=new Dp("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pc=new Wv("@firebase/auth");function ny(n,...t){Pc.logLevel<=Un.ERROR&&Pc.error(`Auth (${Mf}): ${n}`,...t)}function qr(n,...t){throw iy(n,...t)}function xs(n,...t){return iy(n,...t)}function Fp(n,t,e){const i=Object.assign(Object.assign({},oM()),{[t]:e});return new Dp("auth","Firebase",i).create(t,{appName:n.name})}function Co(n){return Fp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vd(n,t,e){if(!(t instanceof e))throw e.name!==t.constructor.name&&qr(n,"argument-error"),Fp(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iy(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return ty.create(n,...t)}function Wt(n,t,...e){if(!n)throw iy(t,...e)}function rs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ny(t),new Error(t)}function vl(n,t){n||rs(t)}function Lp(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function yd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function EL(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function mI(){return"http:"===yd()||"https:"===yd()}()||function $v(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class du{constructor(t,e){this.shortDelay=t,this.longDelay=e,vl(e>t,"Short delay should be less than long delay!"),this.isMobile=function MS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())}()||function jE(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return EL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jo(n,t){vl(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class pI{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},IL=new du(3e4,6e4);function Ai(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function Si(n,t,e,i){return gI.apply(this,arguments)}function gI(){return(gI=(0,A.A)(function*(n,t,e,i,r={}){return aM(n,r,(0,A.A)(function*(){let l={},d={};i&&("GET"===t?d=i:l={body:JSON.stringify(i)});const f=Tp(Object.assign({key:n.config.apiKey},d)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),pI.fetch()(cM(n,n.config.apiHost,e,f),Object.assign({method:t,headers:p,referrerPolicy:"no-referrer"},l))}))})).apply(this,arguments)}function aM(n,t,e){return oy.apply(this,arguments)}function oy(){return(oy=(0,A.A)(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},sM),t);try{const r=new lM(n),l=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const d=yield l.json();if("needConfirmation"in d)throw Rf(n,"account-exists-with-different-credential",d);if(l.ok&&!("errorMessage"in d))return d;{const f=l.ok?d.errorMessage:d.error.message,[p,E]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===p)throw Rf(n,"credential-already-in-use",d);if("EMAIL_EXISTS"===p)throw Rf(n,"email-already-in-use",d);if("USER_DISABLED"===p)throw Rf(n,"user-disabled",d);const x=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(E)throw Fp(n,x,E);qr(n,x)}}catch(r){if(r instanceof Mc)throw r;qr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function Ks(n,t,e,i){return _I.apply(this,arguments)}function _I(){return(_I=(0,A.A)(function*(n,t,e,i,r={}){const l=yield Si(n,t,e,i,r);return"mfaPendingCredential"in l&&qr(n,"multi-factor-auth-required",{_serverResponse:l}),l})).apply(this,arguments)}function cM(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?jo(n.config,r):`${n.config.apiScheme}://${r}`}function CL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lM{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(xs(this.auth,"network-request-failed")),IL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Rf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=xs(n,t,i);return r.customData._tokenResponse=e,r}function uM(n){return void 0!==n&&void 0!==n.enterprise}class yI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return CL(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}}function TL(n,t){return hM.apply(this,arguments)}function hM(){return(hM=(0,A.A)(function*(n,t){return Si(n,"GET","/v2/recaptchaConfig",Ai(n,t))})).apply(this,arguments)}function sy(){return(sy=(0,A.A)(function*(n,t){return Si(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function fM(n,t){return cy.apply(this,arguments)}function cy(){return(cy=(0,A.A)(function*(n,t){return Si(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function yl(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function wI(){return(wI=(0,A.A)(function*(n,t=!1){const e=ui(n),i=yield e.getIdToken(t),r=II(i);Wt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const l="object"==typeof r.firebase?r.firebase:void 0,d=l?.sign_in_provider;return{claims:r,token:i,authTime:yl(EI(r.auth_time)),issuedAtTime:yl(EI(r.iat)),expirationTime:yl(EI(r.exp)),signInProvider:d||null,signInSecondFactor:l?.sign_in_second_factor||null}})).apply(this,arguments)}function EI(n){return 1e3*Number(n)}function II(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return ny("JWT malformed, contained fewer than 3 sections"),null;try{const r=su(e);return r?JSON.parse(r):(ny("Failed to decode base64 JWT payload"),null)}catch(r){return ny("Caught error parsing JWT payload as JSON",r?.toString()),null}}function mM(n){const t=II(n);return Wt(t,"internal-error"),Wt(typeof t.exp<"u","internal-error"),Wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Nc(n,t){return CI.apply(this,arguments)}function CI(){return(CI=(0,A.A)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof Mc&&function AL({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Vp{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout((0,A.A)(function*(){yield e.iteration()}),i)}iteration(){var t=this;return(0,A.A)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class DI{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=yl(this.lastLoginAt),this.creationTime=yl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kf(n){return ly.apply(this,arguments)}function ly(){return(ly=(0,A.A)(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield Nc(n,fM(e,{idToken:i}));Wt(r?.users.length,e,"internal-error");const l=r.users[0];n._notifyReloadListener(l);const d=null!==(t=l.providerUserInfo)&&void 0!==t&&t.length?dy(l.providerUserInfo):[],f=function ML(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,d),x=!!n.isAnonymous&&!(n.email&&l.passwordHash||f?.length),R={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new DI(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(n,R)})).apply(this,arguments)}function uy(){return(uy=(0,A.A)(function*(n){const t=ui(n);yield kf(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function dy(n){return n.map(t=>{var{providerId:e}=t,i=(0,hI.Tt)(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function hy(){return(hy=(0,A.A)(function*(n,t){const e=yield aM(n,{},(0,A.A)(function*(){const i=Tp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:l}=n.config,d=cM(n,r,"/v1/token",`key=${l}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",pI.fetch()(d,{method:"POST",headers:f,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function TI(){return(TI=(0,A.A)(function*(n,t){return Si(n,"POST","/v2/accounts:revokeToken",Ai(n,t))})).apply(this,arguments)}class Of{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Wt(t.idToken,"internal-error"),Wt(typeof t.idToken<"u","internal-error"),Wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Wt(0!==t.length,"internal-error");const e=mM(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){var i=this;return(0,A.A)(function*(){return e||!i.accessToken||i.isExpired?(Wt(i.refreshToken,t,"user-token-expired"),i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null):i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return(0,A.A)(function*(){const{accessToken:r,refreshToken:l,expiresIn:d}=yield function RL(n,t){return hy.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,l,Number(d))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:l}=e,d=new Of;return i&&(Wt("string"==typeof i,"internal-error",{appName:t}),d.refreshToken=i),r&&(Wt("string"==typeof r,"internal-error",{appName:t}),d.accessToken=r),l&&(Wt("number"==typeof l,"internal-error",{appName:t}),d.expirationTime=l),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Of,this.toJSON())}_performRefresh(){return rs("not implemented")}}function hu(n,t){Wt("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class tc{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,l=(0,hI.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vp(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new DI(l.createdAt||void 0,l.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,A.A)(function*(){const i=yield Nc(e,e.stsTokenManager.getToken(e.auth,t));return Wt(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function xL(n){return wI.apply(this,arguments)}(this,t)}reload(){return function SL(n){return uy.apply(this,arguments)}(this)}_assign(t){this!==t&&(Wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new tc(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return(0,A.A)(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield kf(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return(0,A.A)(function*(){if(Ts(t.auth.app))return Promise.reject(Co(t.auth));const e=yield t.getIdToken();return yield Nc(t,function g3(n,t){return sy.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,l,d,f,p,E,x;const R=null!==(i=e.displayName)&&void 0!==i?i:void 0,U=null!==(r=e.email)&&void 0!==r?r:void 0,K=null!==(l=e.phoneNumber)&&void 0!==l?l:void 0,me=null!==(d=e.photoURL)&&void 0!==d?d:void 0,fe=null!==(f=e.tenantId)&&void 0!==f?f:void 0,he=null!==(p=e._redirectEventId)&&void 0!==p?p:void 0,ht=null!==(E=e.createdAt)&&void 0!==E?E:void 0,vt=null!==(x=e.lastLoginAt)&&void 0!==x?x:void 0,{uid:wt,emailVerified:zt,isAnonymous:vn,providerData:cn,stsTokenManager:Ve}=e;Wt(wt&&Ve,t,"internal-error");const le=Of.fromJSON(this.name,Ve);Wt("string"==typeof wt,t,"internal-error"),hu(R,t.name),hu(U,t.name),Wt("boolean"==typeof zt,t,"internal-error"),Wt("boolean"==typeof vn,t,"internal-error"),hu(K,t.name),hu(me,t.name),hu(fe,t.name),hu(he,t.name),hu(ht,t.name),hu(vt,t.name);const Ee=new tc({uid:wt,auth:t,email:U,emailVerified:zt,displayName:R,isAnonymous:vn,photoURL:me,phoneNumber:K,tenantId:fe,stsTokenManager:le,createdAt:ht,lastLoginAt:vt});return cn&&Array.isArray(cn)&&(Ee.providerData=cn.map(je=>Object.assign({},je))),he&&(Ee._redirectEventId=he),Ee}static _fromIdTokenResponse(t,e,i=!1){return(0,A.A)(function*(){const r=new Of;r.updateFromServerResponse(e);const l=new tc({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield kf(l),l})()}static _fromGetAccountInfoResponse(t,e,i){return(0,A.A)(function*(){const r=e.users[0];Wt(void 0!==r.localId,"internal-error");const l=void 0!==r.providerUserInfo?dy(r.providerUserInfo):[],d=!(r.email&&r.passwordHash||l?.length),f=new Of;f.updateFromIdToken(i);const p=new tc({uid:r.localId,auth:t,stsTokenManager:f,isAnonymous:d}),E={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new DI(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||l?.length)};return Object.assign(p,E),p})()}}const gM=new Map;function Fc(n){vl(n instanceof Function,"Expected a class definition");let t=gM.get(n);return t?(vl(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,gM.set(n,t),t)}const _M=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,A.A)(function*(){return!0})()}_set(e,i){var r=this;return(0,A.A)(function*(){r.storage[e]=i})()}_get(e){var i=this;return(0,A.A)(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return(0,A.A)(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function fy(n,t,e){return`firebase:${n}:${t}:${e}`}class Pf{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:l}=this.auth;this.fullUserKey=fy(this.userKey,r.apiKey,l),this.fullPersistenceKey=fy("persistence",r.apiKey,l),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,A.A)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?tc._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,A.A)(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return(0,A.A)(function*(){if(!e.length)return new Pf(Fc(_M),t,i);const r=(yield Promise.all(e.map(function(){var E=(0,A.A)(function*(x){if(yield x._isAvailable())return x});return function(x){return E.apply(this,arguments)}}()))).filter(E=>E);let l=r[0]||Fc(_M);const d=fy(i,t.config.apiKey,t.name);let f=null;for(const E of e)try{const x=yield E._get(d);if(x){const R=tc._fromJSON(t,x);E!==l&&(f=R),l=E;break}}catch{}const p=r.filter(E=>E._shouldAllowMigration);return l._shouldAllowMigration&&p.length?(l=p[0],f&&(yield l._set(d,f.toJSON())),yield Promise.all(e.map(function(){var E=(0,A.A)(function*(x){if(x!==l)try{yield x._remove(d)}catch{}});return function(x){return E.apply(this,arguments)}}())),new Pf(l,t,i)):new Pf(l,t,i)})()}}function vM(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(AI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(yM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wM(t))return"Blackberry";if(EM(t))return"Webos";if(xI(t))return"Safari";if((t.includes("chrome/")||bM(t))&&!t.includes("edge/"))return"Chrome";if(SI(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function yM(n=cr()){return/firefox\//i.test(n)}function xI(n=cr()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function bM(n=cr()){return/crios\//i.test(n)}function AI(n=cr()){return/iemobile/i.test(n)}function SI(n=cr()){return/android/i.test(n)}function wM(n=cr()){return/blackberry/i.test(n)}function EM(n=cr()){return/webos/i.test(n)}function Bp(n=cr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function my(n=cr()){return Bp(n)||SI(n)||EM(n)||wM(n)||/windows phone/i.test(n)||AI(n)}function py(n,t=[]){let e;switch(n){case"Browser":e=vM(cr());break;case"Worker":e=`${vM(cr())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Mf}/${i}`}class OL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=l=>new Promise((d,f)=>{try{d(t(l))}catch(p){f(p)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,A.A)(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function gy(){return(gy=(0,A.A)(function*(n,t={}){return Si(n,"GET","/v2/passwordPolicy",Ai(n,t))})).apply(this,arguments)}class b3{constructor(t){var e,i,r,l;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=d.minPasswordLength)&&void 0!==e?e:6,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),void 0!==d.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),void 0!==d.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),void 0!==d.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),void 0!==d.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(l=t.forceUpgradeOnSignin)&&void 0!==l&&l,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,l,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=null===(e=p.meetsMinPasswordLength)||void 0===e||e),p.isValid&&(p.isValid=null===(i=p.meetsMaxPasswordLength)||void 0===i||i),p.isValid&&(p.isValid=null===(r=p.containsLowercaseLetter)||void 0===r||r),p.isValid&&(p.isValid=null===(l=p.containsUppercaseLetter)||void 0===l||l),p.isValid&&(p.isValid=null===(d=p.containsNumericCharacter)||void 0===d||d),p.isValid&&(p.isValid=null===(f=p.containsNonAlphanumericCharacter)||void 0===f||f),p}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,l){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=l))}}class DM{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kI(this),this.idTokenSubscription=new kI(this),this.beforeStateQueue=new OL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ty,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=Fc(e)),this._initializationPromise=this.queue((0,A.A)(function*(){var r,l;if(!i._deleted&&(i.persistenceManager=yield Pf.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(l=i.currentUser)||void 0===l?void 0:l.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,A.A)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUserFromIdToken(t){var e=this;return(0,A.A)(function*(){try{const i=yield fM(e,{idToken:t}),r=yield tc._fromGetAccountInfoResponse(e,i,t);yield e.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield e.directlySetCurrentUser(null)}})()}initializeCurrentUser(t){var e=this;return(0,A.A)(function*(){var i;if(Ts(e.app)){const f=e.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>e.initializeCurrentUserFromIdToken(f).then(p,p))}):e.directlySetCurrentUser(null)}const r=yield e.assertedPersistence.getCurrentUser();let l=r,d=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const f=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,p=l?._redirectEventId,E=yield e.tryRedirectSignIn(t);(!f||f===p)&&E?.user&&(l=E.user,d=!0)}if(!l)return e.directlySetCurrentUser(null);if(!l._redirectEventId){if(d)try{yield e.beforeStateQueue.runMiddleware(l)}catch(f){l=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(f))}return l?e.reloadAndSetCurrentUserOrClear(l):e.directlySetCurrentUser(null)}return Wt(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===l._redirectEventId?e.directlySetCurrentUser(l):e.reloadAndSetCurrentUserOrClear(l)})()}tryRedirectSignIn(t){var e=this;return(0,A.A)(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,A.A)(function*(){try{yield kf(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function ry(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,A.A)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,A.A)(function*(){if(Ts(e.app))return Promise.reject(Co(e));const i=t?ui(t):null;return i&&Wt(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return(0,A.A)(function*(){if(!i._deleted)return t&&Wt(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue((0,A.A)(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,A.A)(function*(){return Ts(t.app)?Promise.reject(Co(t)):(yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0))})()}setPersistence(t){var e=this;return Ts(this.app)?Promise.reject(Co(this)):this.queue((0,A.A)(function*(){yield e.assertedPersistence.setPersistence(Fc(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return(0,A.A)(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return(0,A.A)(function*(){const e=yield function RI(n){return gy.apply(this,arguments)}(t),i=new b3(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Dp("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return(0,A.A)(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function pM(n,t){return TI.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return(0,A.A)(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,A.A)(function*(){if(!e.redirectPersistenceManager){const i=t&&Fc(t)||e._popupRedirectResolver;Wt(i,e,"argument-error"),e.redirectPersistenceManager=yield Pf.create(e,[Fc(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,A.A)(function*(){var i,r;return e._isInitialized&&(yield e.queue((0,A.A)(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,A.A)(function*(){if(t===e.currentUser)return e.queue((0,A.A)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const l="function"==typeof e?e:e.next.bind(e);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(f,this,"internal-error"),f.then(()=>{d||l(this.currentUser)}),"function"==typeof e){const p=t.addObserver(e,i,r);return()=>{d=!0,p()}}{const p=t.addObserver(e);return()=>{d=!0,p()}}}directlySetCurrentUser(t){var e=this;return(0,A.A)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=py(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,A.A)(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const l=yield t._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i})()}_getAppCheckToken(){var t=this;return(0,A.A)(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function wL(n,...t){Pc.logLevel<=Un.WARN&&Pc.warn(`Auth (${Mf}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Sr(n){return ui(n)}class kI{constructor(t){this.auth=t,this.observer=null,this.addObserver=function BF(n,t){const e=new UF(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nf={loadJS:()=>(0,A.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _y(n){return Nf.loadJS(n)}function PI(n){return`__${n}${Math.floor(1e6*Math.random())}`}class NI{constructor(t){this.type="recaptcha-enterprise",this.auth=Sr(t)}verify(t="verify",e=!1){var i=this;return(0,A.A)(function*(){function l(){return l=(0,A.A)(function*(f){if(!e){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var p=(0,A.A)(function*(E,x){TL(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(R=>{if(void 0!==R.recaptchaKey){const U=new yI(R);return null==f.tenantId?f._agentRecaptchaConfig=U:f._tenantRecaptchaConfigs[f.tenantId]=U,E(U.siteKey)}x(new Error("recaptcha Enterprise site key undefined"))}).catch(R=>{x(R)})});return function(E,x){return p.apply(this,arguments)}}())}),l.apply(this,arguments)}function d(f,p,E){const x=window.grecaptcha;uM(x)?x.enterprise.ready(()=>{x.enterprise.execute(f,{action:t}).then(R=>{p(R)}).catch(()=>{p("NO_RECAPTCHA")})}):E(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,p)=>{(function r(f){return l.apply(this,arguments)})(i.auth).then(E=>{if(!e&&uM(window.grecaptcha))d(E,f,p);else{if(typeof window>"u")return void p(new Error("RecaptchaVerifier is only supported in browser"));let x=function TM(){return Nf.recaptchaEnterpriseScript}();0!==x.length&&(x+=E),_y(x).then(()=>{d(E,f,p)}).catch(R=>{p(R)})}}).catch(E=>{p(E)})})})()}}function FI(n,t,e){return vy.apply(this,arguments)}function vy(){return(vy=(0,A.A)(function*(n,t,e,i=!1){const r=new NI(n);let l;try{l=yield r.verify(e)}catch{l=yield r.verify(e,!0)}const d=Object.assign({},t);return Object.assign(d,i?{captchaResp:l}:{captchaResponse:l}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d})).apply(this,arguments)}function Ff(n,t,e,i){return yy.apply(this,arguments)}function yy(){return yy=(0,A.A)(function*(n,t,e,i){var r;if(null!==(r=n._getRecaptchaConfig())&&void 0!==r&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=yield FI(n,t,e,"getOobCode"===e);return i(n,l)}return i(n,t).catch(function(){var l=(0,A.A)(function*(d){if("auth/missing-recaptcha-token"===d.code){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=yield FI(n,t,e,"getOobCode"===e);return i(n,f)}return Promise.reject(d)});return function(d){return l.apply(this,arguments)}}())}),yy.apply(this,arguments)}function wy(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function PM(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}class Up{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return rs("not implemented")}_getIdTokenResponse(t){return rs("not implemented")}_linkToIdToken(t,e){return rs("not implemented")}_getReauthenticationResolver(t){return rs("not implemented")}}function VI(){return(VI=(0,A.A)(function*(n,t){return Si(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function VL(n,t){return BI.apply(this,arguments)}function BI(){return(BI=(0,A.A)(function*(n,t){return Si(n,"POST","/v1/accounts:signUp",t)})).apply(this,arguments)}function LM(n,t){return Iy.apply(this,arguments)}function Iy(){return(Iy=(0,A.A)(function*(n,t){return Ks(n,"POST","/v1/accounts:signInWithPassword",Ai(n,t))})).apply(this,arguments)}function jp(n,t){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,A.A)(function*(n,t){return Si(n,"POST","/v1/accounts:sendOobCode",Ai(n,t))})).apply(this,arguments)}function Dy(){return(Dy=(0,A.A)(function*(n,t){return jp(n,t)})).apply(this,arguments)}function BM(n,t){return Ty.apply(this,arguments)}function Ty(){return(Ty=(0,A.A)(function*(n,t){return jp(n,t)})).apply(this,arguments)}function Hp(){return(Hp=(0,A.A)(function*(n,t){return Ks(n,"POST","/v1/accounts:signInWithEmailLink",Ai(n,t))})).apply(this,arguments)}function Ay(){return(Ay=(0,A.A)(function*(n,t){return Ks(n,"POST","/v1/accounts:signInWithEmailLink",Ai(n,t))})).apply(this,arguments)}class Lf extends Up{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Lf(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Lf(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if(e?.email&&e?.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,A.A)(function*(){switch(e.signInMethod){case"password":return Ff(t,{returnSecureToken:!0,email:e._email,password:e._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",LM);case"emailLink":return function xy(n,t){return Hp.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:qr(t,"internal-error")}})()}_linkToIdToken(t,e){var i=this;return(0,A.A)(function*(){switch(i.signInMethod){case"password":return Ff(t,{idToken:e,returnSecureToken:!0,email:i._email,password:i._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VL);case"emailLink":return function jI(n,t){return Ay.apply(this,arguments)}(t,{idToken:e,email:i._email,oobCode:i._password});default:qr(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Lc(n,t){return Sy.apply(this,arguments)}function Sy(){return(Sy=(0,A.A)(function*(n,t){return Ks(n,"POST","/v1/accounts:signInWithIdp",Ai(n,t))})).apply(this,arguments)}class bd extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new bd(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):qr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,l=(0,hI.Tt)(e,["providerId","signInMethod"]);if(!i||!r)return null;const d=new bd(i,r);return d.idToken=l.idToken||void 0,d.accessToken=l.accessToken||void 0,d.secret=l.secret,d.nonce=l.nonce,d.pendingToken=l.pendingToken||null,d}_getIdTokenResponse(t){return Lc(t,this.buildRequest())}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Lc(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Lc(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Tp(e)}return t}}class Gp{constructor(t){var e,i,r,l,d,f;const p=xp(Ap(t)),E=null!==(e=p.apiKey)&&void 0!==e?e:null,x=null!==(i=p.oobCode)&&void 0!==i?i:null,R=function GM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=p.mode)&&void 0!==r?r:null);Wt(E&&x&&R,"argument-error"),this.apiKey=E,this.operation=R,this.code=x,this.continueUrl=null!==(l=p.continueUrl)&&void 0!==l?l:null,this.languageCode=null!==(d=p.languageCode)&&void 0!==d?d:null,this.tenantId=null!==(f=p.tenantId)&&void 0!==f?f:null}static parseLink(t){const e=function zI(n){const t=xp(Ap(n)).link,e=t?xp(Ap(t)).deep_link_id:null,i=xp(Ap(n)).deep_link_id;return(i?xp(Ap(i)).link:null)||i||e||t||n}(t);try{return new Gp(e)}catch{return null}}}let Wp=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,i){return Lf._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Gp.parseLink(i);return Wt(r,"argument-error"),Lf._fromEmailAndCode(e,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class bl{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class GI extends bl{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}let ky=(()=>{class n extends GI{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return bd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();function WI(n,t){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,A.A)(function*(n,t){return Ks(n,"POST","/v1/accounts:signUp",Ai(n,t))})).apply(this,arguments)}class qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,r=!1){return(0,A.A)(function*(){const l=yield tc._fromIdTokenResponse(t,i,r),d=KI(i);return new qs({user:l,providerId:d,_tokenResponse:i,operationType:e})})()}static _forOperation(t,e,i){return(0,A.A)(function*(){yield t._updateTokensIfNecessary(i,!0);const r=KI(i);return new qs({user:t,providerId:r,_tokenResponse:i,operationType:e})})()}}function KI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function qI(){return(qI=(0,A.A)(function*(n){var t;if(Ts(n.app))return Promise.reject(Co(n));const e=Sr(n);if(yield e._initializationPromise,null!==(t=e.currentUser)&&void 0!==t&&t.isAnonymous)return new qs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=yield WI(e,{returnSecureToken:!0}),r=yield qs._fromIdTokenResponse(e,"signIn",i,!0);return yield e._updateCurrentUser(r.user),r})).apply(this,arguments)}class Fy extends Mc{constructor(t,e,i,r){var l;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Fy.prototype),this.customData={appName:t.name,tenantId:null!==(l=t.tenantId)&&void 0!==l?l:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Fy(t,e,i,r)}}function KM(n,t,e,i){return("reauthenticate"===t?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(l=>{throw"auth/multi-factor-auth-required"===l.code?Fy._fromErrorAndOperation(n,l,t,i):l})}function Ly(){return(Ly=(0,A.A)(function*(n,t,e=!1){const i=yield Nc(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return qs._forOperation(n,"link",i)})).apply(this,arguments)}function QI(n,t){return By.apply(this,arguments)}function By(){return(By=(0,A.A)(function*(n,t,e=!1){const{auth:i}=n;if(Ts(i.app))return Promise.reject(Co(i));const r="reauthenticate";try{const l=yield Nc(n,KM(i,r,t,n),e);Wt(l.idToken,i,"internal-error");const d=II(l.idToken);Wt(d,i,"internal-error");const{sub:f}=d;return Wt(n.uid===f,i,"user-mismatch"),qs._forOperation(n,r,l)}catch(l){throw"auth/user-not-found"===l?.code&&qr(i,"user-mismatch"),l}})).apply(this,arguments)}function YI(n,t){return ZI.apply(this,arguments)}function ZI(){return(ZI=(0,A.A)(function*(n,t,e=!1){if(Ts(n.app))return Promise.reject(Co(n));const i="signIn",r=yield KM(n,i,t),l=yield qs._fromIdTokenResponse(n,i,r);return e||(yield n._updateCurrentUser(l.user)),l})).apply(this,arguments)}function XM(n,t){return QM.apply(this,arguments)}function QM(){return(QM=(0,A.A)(function*(n,t){return YI(Sr(n),t)})).apply(this,arguments)}function ZM(n,t){return eC.apply(this,arguments)}function eC(){return(eC=(0,A.A)(function*(n,t){return QI(ui(n),t)})).apply(this,arguments)}function Uy(n,t,e){var i;Wt((null===(i=e.url)||void 0===i?void 0:i.length)>0,n,"invalid-continue-uri"),Wt(typeof e.dynamicLinkDomain>"u"||e.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),t.continueUrl=e.url,t.dynamicLinkDomain=e.dynamicLinkDomain,t.canHandleCodeInApp=e.handleCodeInApp,e.iOS&&(Wt(e.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),t.iOSBundleId=e.iOS.bundleId),e.android&&(Wt(e.android.packageName.length>0,n,"missing-android-pkg-name"),t.androidInstallApp=e.android.installApp,t.androidMinimumVersionCode=e.android.minimumVersion,t.androidPackageName=e.android.packageName)}function nC(n){return JM.apply(this,arguments)}function JM(){return(JM=(0,A.A)(function*(n){const t=Sr(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})).apply(this,arguments)}function Cd(){return(Cd=(0,A.A)(function*(n,t,e){const i=Sr(n),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};e&&Uy(i,r,e),yield Ff(i,r,"getOobCode",BM)})).apply(this,arguments)}function rC(){return(rC=(0,A.A)(function*(n,t,e){if(Ts(n.app))return Promise.reject(Co(n));const i=Sr(n),d=yield Ff(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WI).catch(p=>{throw"auth/password-does-not-meet-requirements"===p.code&&nC(n),p}),f=yield qs._fromIdTokenResponse(i,"signIn",d);return yield i._updateCurrentUser(f.user),f})).apply(this,arguments)}function sC(){return sC=(0,A.A)(function*(n,t){const e=ui(n),r={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};t&&Uy(e.auth,r,t);const{email:l}=yield function VM(n,t){return Dy.apply(this,arguments)}(e.auth,r);l!==n.email&&(yield n.reload())}),sC.apply(this,arguments)}function zy(){return(zy=(0,A.A)(function*(n,t){return Si(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Gy(){return Gy=(0,A.A)(function*(n,{displayName:t,photoURL:e}){if(void 0===t&&void 0===e)return;const i=ui(n),l={idToken:yield i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},d=yield Nc(i,function iR(n,t){return zy.apply(this,arguments)}(i.auth,l));i.displayName=d.displayName||null,i.photoURL=d.photoUrl||null;const f=i.providerData.find(({providerId:p})=>"password"===p);f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),yield i._updateTokensIfNecessary(d)}),Gy.apply(this,arguments)}function oR(n,t,e){return Wy.apply(this,arguments)}function Wy(){return Wy=(0,A.A)(function*(n,t,e){const{auth:i}=n,l={idToken:yield n.getIdToken(),returnSecureToken:!0};t&&(l.email=t),e&&(l.password=e);const d=yield Nc(n,function LL(n,t){return VI.apply(this,arguments)}(i,l));yield n._updateTokensIfNecessary(d,!0)}),Wy.apply(this,arguments)}function Ky(){return(Ky=(0,A.A)(function*(n){return ui(n).delete()})).apply(this,arguments)}const qy="__sak";class lR{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(qy,"1"),this.storage.removeItem(qy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const uV=(()=>{class n extends lR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function aV(){const n=cr();return xI(n)||Bp(n)}()&&function MI(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=my(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&e(i,l,r)}}onStorageEvent(e,i=!1){if(!e.key)return void this.forAllChangedKeys((f,p,E)=>{this.notifyListeners(f,E)});const r=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(r);if(e.newValue!==f)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!i)return}const l=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},d=this.storage.getItem(r);!function IM(){return function _f(){const n=cr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||d===e.newValue||e.newValue===e.oldValue?l():setTimeout(l,10)}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,i){var r=()=>super._set,l=this;return(0,A.A)(function*(){yield r().call(l,e,i),l.localCache[e]=JSON.stringify(i)})()}_get(e){var i=()=>super._get,r=this;return(0,A.A)(function*(){const l=yield i().call(r,e);return r.localCache[e]=JSON.stringify(l),l})()}_remove(e){var i=()=>super._remove,r=this;return(0,A.A)(function*(){yield i().call(r,e),delete r.localCache[e]})()}}return n.type="LOCAL",n})(),uR=(()=>{class n extends lR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})();let hV=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(l=>l.isListeningto(e));if(i)return i;const r=new n(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var i=this;return(0,A.A)(function*(){const r=e,{eventId:l,eventType:d,data:f}=r.data,p=i.handlersMap[d];if(!p?.size)return;r.ports[0].postMessage({status:"ack",eventId:l,eventType:d});const E=Array.from(p).map(function(){var R=(0,A.A)(function*(U){return U(r.origin,f)});return function(U){return R.apply(this,arguments)}}()),x=yield function dV(n){return Promise.all(n.map(function(){var t=(0,A.A)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(i){return{fulfilled:!1,reason:i}}});return function(e){return t.apply(this,arguments)}}()))}(E);r.ports[0].postMessage({status:"done",eventId:l,eventType:d,response:x})})()}_subscribe(e,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Xy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(10*Math.random());return n+e}class fV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){var r=this;return(0,A.A)(function*(){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let d,f;return new Promise((p,E)=>{const x=Xy("",20);l.port1.start();const R=setTimeout(()=>{E(new Error("unsupported_event"))},i);f={messageChannel:l,onMessage(U){const K=U;if(K.data.eventId===x)switch(K.data.status){case"ack":clearTimeout(R),d=setTimeout(()=>{E(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),p(K.data.response);break;default:clearTimeout(R),clearTimeout(d),E(new Error("invalid_response"))}}},r.handlers.add(f),l.port1.addEventListener("message",f.onMessage),r.target.postMessage({eventType:t,eventId:x,data:e},[l.port2])}).finally(()=>{f&&r.removeMessageHandler(f)})})()}}function Mr(){return window}function fC(){return typeof Mr().WorkerGlobalScope<"u"&&"function"==typeof Mr().importScripts}function Qy(){return(Qy=(0,A.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const gV="firebaseLocalStorageDb",Zp="firebaseLocalStorage",mC="fbase_key";class Jp{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function eg(n,t){return n.transaction([Zp],t?"readwrite":"readonly").objectStore(Zp)}function tg(){const n=indexedDB.open(gV,1);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Zp,{keyPath:mC})}catch(r){e(r)}}),n.addEventListener("success",(0,A.A)(function*(){const i=n.result;i.objectStoreNames.contains(Zp)?t(i):(i.close(),yield function vV(){const n=indexedDB.deleteDatabase(gV);return new Jp(n).toPromise()}(),t(yield tg()))}))})}function Yy(n,t,e){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,A.A)(function*(n,t,e){const i=eg(n,!0).put({[mC]:t,value:e});return new Jp(i).toPromise()})).apply(this,arguments)}function ng(){return(ng=(0,A.A)(function*(n,t){const e=eg(n,!1).get(t),i=yield new Jp(e).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function ig(n,t){const e=eg(n,!0).delete(t);return new Jp(e).toPromise()}const U3=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,A.A)(function*(){return e.db||(e.db=yield tg()),e.db})()}_withRetries(e){var i=this;return(0,A.A)(function*(){let r=0;for(;;)try{const l=yield i._openDb();return yield e(l)}catch(l){if(r++>3)throw l;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,A.A)(function*(){return fC()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,A.A)(function*(){e.receiver=hV._getInstance(function dR(){return fC()?self:null}()),e.receiver._subscribe("keyChanged",function(){var i=(0,A.A)(function*(r,l){return{keyProcessed:(yield e._poll()).includes(l.key)}});return function(r,l){return i.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var i=(0,A.A)(function*(r,l){return["keyChanged"]});return function(r,l){return i.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,A.A)(function*(){var i,r;if(e.activeServiceWorker=yield function mV(){return Qy.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new fV(e.activeServiceWorker);const l=yield e.sender._send("ping",{},800);l&&null!==(i=l[0])&&void 0!==i&&i.fulfilled&&null!==(r=l[0])&&void 0!==r&&r.value.includes("keyChanged")&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var i=this;return(0,A.A)(function*(){if(i.sender&&i.activeServiceWorker&&function pV(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:e},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,A.A)(function*(){try{if(!indexedDB)return!1;const e=yield tg();return yield Yy(e,qy,"1"),yield ig(e,qy),!0}catch{}return!1})()}_withPendingWrite(e){var i=this;return(0,A.A)(function*(){i.pendingWrites++;try{yield e()}finally{i.pendingWrites--}})()}_set(e,i){var r=this;return(0,A.A)(function*(){return r._withPendingWrite((0,A.A)(function*(){return yield r._withRetries(l=>Yy(l,e,i)),r.localCache[e]=i,r.notifyServiceWorker(e)}))})()}_get(e){var i=this;return(0,A.A)(function*(){const r=yield i._withRetries(l=>function hR(n,t){return ng.apply(this,arguments)}(l,e));return i.localCache[e]=r,r})()}_remove(e){var i=this;return(0,A.A)(function*(){return i._withPendingWrite((0,A.A)(function*(){return yield i._withRetries(r=>ig(r,e)),delete i.localCache[e],i.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,A.A)(function*(){const i=yield e._withRetries(d=>{const f=eg(d,!1).getAll();return new Jp(f).toPromise()});if(!i)return[];if(0!==e.pendingWrites)return[];const r=[],l=new Set;if(0!==i.length)for(const{fbase_key:d,value:f}of i)l.add(d),JSON.stringify(e.localCache[d])!==JSON.stringify(f)&&(e.notifyListeners(d,f),r.push(d));for(const d of Object.keys(e.localCache))e.localCache[d]&&!l.has(d)&&(e.notifyListeners(d,null),r.push(d));return r})()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const l of Array.from(r))l(i)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,A.A)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function jf(n,t){return t?Fc(t):(Wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}PI("rcb"),new du(3e4,6e4);class CR extends Up{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Lc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Lc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Lc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function AV(n){return YI(n.auth,new CR(n),n.bypassAuthState)}function _C(n){const{auth:t,user:e}=n;return Wt(e,t,"internal-error"),QI(e,new CR(n),n.bypassAuthState)}function DR(n){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,A.A)(function*(n){const{auth:t,user:e}=n;return Wt(e,t,"internal-error"),function Ed(n,t){return Ly.apply(this,arguments)}(e,new CR(n),n.bypassAuthState)})).apply(this,arguments)}class vC{constructor(t,e,i,r,l=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,A.A)(function*(i,r){t.pendingPromise={resolve:i,reject:r};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(l){t.reject(l)}});return function(i,r){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,A.A)(function*(){const{urlResponse:i,sessionId:r,postBody:l,tenantId:d,error:f,type:p}=t;if(f)return void e.reject(f);const E={auth:e.auth,requestUri:i,sessionId:r,tenantId:d||void 0,postBody:l||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(p)(E))}catch(x){e.reject(x)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return AV;case"linkViaPopup":case"linkViaRedirect":return DR;case"reauthViaPopup":case"reauthViaRedirect":return _C;default:qr(this.auth,"internal-error")}}resolve(t){vl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){vl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const SV=new du(2e3,1e4);function eb(){return(eb=(0,A.A)(function*(n,t,e){if(Ts(n.app))return Promise.reject(xs(n,"operation-not-supported-in-this-environment"));const i=Sr(n);vd(n,t,bl);const r=jf(i,e);return new tb(i,"signInViaPopup",t,r).executeNotNull()})).apply(this,arguments)}function og(){return(og=(0,A.A)(function*(n,t,e){const i=ui(n);if(Ts(i.auth.app))return Promise.reject(xs(i.auth,"operation-not-supported-in-this-environment"));vd(i.auth,t,bl);const r=jf(i.auth,e);return new tb(i.auth,"reauthViaPopup",t,r,i).executeNotNull()})).apply(this,arguments)}let tb=(()=>{class n extends vC{constructor(e,i,r,l,d){super(e,i,l,d),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var e=this;return(0,A.A)(function*(){const i=yield e.execute();return Wt(i,e.auth,"internal-error"),i})()}onExecution(){var e=this;return(0,A.A)(function*(){vl(1===e.filter.length,"Popup operations only handle one event");const i=Xy();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],i),e.authWindow.associatedEvent=i,e.resolver._originValidation(e.auth).catch(r=>{e.reject(r)}),e.resolver._isIframeWebStorageSupported(e.auth,r=>{r||e.reject(xs(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;this.pollId=null!==(r=null===(i=this.authWindow)||void 0===i?void 0:i.window)&&void 0!==r&&r.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(e,SV.get())};e()}}return n.currentPopupAction=null,n})();const G3="pendingRedirect",nb=new Map;class W3 extends vC{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,A.A)(function*(){let i=nb.get(e.auth._key());if(!i){try{const l=(yield function RV(n,t){return TR.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;i=()=>Promise.resolve(l)}catch(r){i=()=>Promise.reject(r)}nb.set(e.auth._key(),i)}return e.bypassAuthState||nb.set(e.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,i=this;return(0,A.A)(function*(){if("signInViaRedirect"===t.type)return e().call(i,t);if("unknown"!==t.type){if(t.eventId){const r=yield i.auth._redirectUserForId(t.eventId);if(r)return i.user=r,e().call(i,t);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return(0,A.A)(function*(){})()}cleanUp(){}}function TR(){return(TR=(0,A.A)(function*(n,t){const e=function RR(n){return fy(G3,n.config.apiKey,n.name)}(t),i=function MR(n){return Fc(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(e));return yield i._remove(e),r})).apply(this,arguments)}function SR(n,t){nb.set(n._key(),t)}function EC(n,t){return sg.apply(this,arguments)}function sg(){return(sg=(0,A.A)(function*(n,t,e=!1){if(Ts(n.app))return Promise.reject(Co(n));const i=Sr(n),r=jf(i,t),d=yield new W3(i,r,e).execute();return d&&!e&&(delete d.user._redirectEventId,yield i._persistUserIfCurrent(d.user),yield i._setRedirectUser(null,t)),d})).apply(this,arguments)}class DC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function X3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NV(n);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!NV(t)){const r=(null===(i=t.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";e.onError(xs(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ag(t))}saveEventToCache(t){this.cachedEventUids.add(ag(t)),this.lastProcessedEventTime=Date.now()}}function ag(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function NV({type:n,error:t}){return"unknown"===n&&"auth/no-auth-event"===t?.code}function ob(){return(ob=(0,A.A)(function*(n,t={}){return Si(n,"GET","/v1/projects",t)})).apply(this,arguments)}const FV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LV=/^https?/;function TC(){return TC=(0,A.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:t}=yield function Q3(n){return ob.apply(this,arguments)}(n);for(const e of t)try{if(OR(e))return}catch{}qr(n,"unauthorized-domain")}),TC.apply(this,arguments)}function OR(n){const t=Lp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const d=new URL(n);return""===d.hostname&&""===i?"chrome-extension:"===e&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&d.hostname===i}if(!LV.test(e))return!1;if(FV.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const PR=new du(3e4,6e4);function xC(){const n=Mr().___jsl;if(n?.H)for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}let sb=null;const AC=new du(5e3,15e3),Y3="__/auth/iframe",FR="emulator/auth/iframe",SC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},UV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jV(n){const t=n.config;Wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?jo(t,FR):`https://${n.config.authDomain}/${Y3}`,i={apiKey:t.apiKey,appName:n.name,v:Mf},r=UV.get(n.config.apiHost);r&&(i.eid=r);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${e}?${Tp(i).slice(1)}`}function LR(){return LR=(0,A.A)(function*(n){const t=yield function NR(n){return sb=sb||function BV(n){return new Promise((t,e)=>{var i,r,l;function d(){xC(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{xC(),e(xs(n,"network-request-failed"))},timeout:PR.get()})}if(null!==(r=null===(i=Mr().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(l=Mr().gapi)||void 0===l||!l.load){const f=PI("iframefcb");return Mr()[f]=()=>{gapi.load?d():e(xs(n,"network-request-failed"))},_y(`${function xM(){return Nf.gapiScript}()}?onload=${f}`).catch(p=>e(p))}d()}}).catch(t=>{throw sb=null,t})}(n),sb}(n),e=Mr().gapi;return Wt(e,n,"internal-error"),t.open({where:document.body,url:jV(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SC,dontclear:!0},i=>new Promise(function(){var r=(0,A.A)(function*(l,d){yield i.restyle({setHideOnLeave:!1});const f=xs(n,"network-request-failed"),p=Mr().setTimeout(()=>{d(f)},AC.get());function E(){Mr().clearTimeout(p),l(i)}i.ping(E).then(E,()=>{d(f)})});return function(l,d){return r.apply(this,arguments)}}()))}),LR.apply(this,arguments)}const J3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lg{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const nz="__/auth/handler",$V="emulator/auth/handler",iz=encodeURIComponent("fac");function HV(n,t,e,i,r,l){return ug.apply(this,arguments)}function ug(){return(ug=(0,A.A)(function*(n,t,e,i,r,l){Wt(n.config.authDomain,n,"auth-domain-config-required"),Wt(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Mf,eventId:r};if(t instanceof bl){t.setDefaultLanguage(n.languageCode),d.providerId=t.providerId||"",function zE(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[x,R]of Object.entries(l||{}))d[x]=R}if(t instanceof GI){const x=t.getScopes().filter(R=>""!==R);x.length>0&&(d.scopes=x.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const x of Object.keys(f))void 0===f[x]&&delete f[x];const p=yield n._getAppCheckToken(),E=p?`#${iz}=${encodeURIComponent(p)}`:"";return`${function zV({config:n}){return n.emulator?jo(n,$V):`https://${n.authDomain}/${nz}`}(n)}?${Tp(f).slice(1)}${E}`})).apply(this,arguments)}const cb="webStorageSupport",UR=class BR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uR,this._completeRedirectFn=EC,this._overrideRedirectResult=SR}_openPopup(t,e,i,r){var l=this;return(0,A.A)(function*(){var d;vl(null===(d=l.eventManagers[t._key()])||void 0===d?void 0:d.manager,"_initialize() not called before _openPopup()");const f=yield HV(t,e,i,Lp(),r);return function ab(n,t,e,i=500,r=600){const l=Math.max((window.screen.availHeight-r)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},J3),{width:i.toString(),height:r.toString(),top:l,left:d}),E=cr().toLowerCase();e&&(f=bM(E)?"_blank":e),yM(E)&&(t=t||"http://localhost",p.scrollbars="yes");const x=Object.entries(p).reduce((U,[K,me])=>`${U}${K}=${me},`,"");if(function kL(n=cr()){var t;return Bp(n)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(E)&&"_self"!==f)return function VR(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}(t||"",f),new lg(null);const R=window.open(t||"",f,x);Wt(R,n,"popup-blocked");try{R.focus()}catch{}return new lg(R)}(t,f,Xy())})()}_openRedirect(t,e,i,r){var l=this;return(0,A.A)(function*(){return yield l._originValidation(t),function hC(n){Mr().location.href=n}(yield HV(t,e,i,Lp(),r)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:l}=this.eventManagers[e];return r?Promise.resolve(r):(vl(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){var e=this;return(0,A.A)(function*(){const i=yield function Z3(n){return LR.apply(this,arguments)}(t),r=new DC(t);return i.register("authEvent",l=>(Wt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:r},e.iframes[t._key()]=i,r})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(cb,{type:cb},r=>{var l;const d=null===(l=r?.[0])||void 0===l?void 0:l[cb];void 0!==d&&e(!!d),qr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function VV(n){return TC.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return my()||xI()||Bp()}};var $f="@firebase/auth";class $R{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,A.A)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const az=AS("authIdTokenMaxAge")||300;let zR=null;const WV=n=>function(){var t=(0,A.A)(function*(e){const i=e&&(yield e.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>az)return;const l=i?.token;zR!==l&&(zR=l,yield fetch(n,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))});return function(e){return t.apply(this,arguments)}}();function cz(n=fL()){const t=Op(n,"auth");if(t.isInitialized())return t.getImmediate();const e=function RM(n,t){const e=Op(n,"auth");if(e.isInitialized()){const r=e.getImmediate();if(yf(e.getOptions(),t??{}))return r;qr(r,"already-initialized")}return e.initialize({options:t})}(n,{popupRedirectResolver:UR,persistence:[U3,uV,uR]}),i=AS("authTokenSyncURL");if(i&&"boolean"==typeof isSecureContext&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const d=WV(l.toString());(function O3(n,t,e){ui(n).beforeAuthStateChanged(t,e)})(e,d,()=>d(e.currentUser)),function k3(n,t,e,i){ui(n).onIdTokenChanged(t,e,i)}(e,f=>d(f))}}const r=au("auth");return r&&function kM(n,t,e){const i=Sr(n);Wt(i._canInitEmulator,i,"emulator-config-failed"),Wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!e?.disableWarnings,l=wy(t),{host:d,port:f}=function OM(n){const t=wy(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const l=r[1];return{host:l,port:PM(i.substr(l.length+1))}}{const[l,d]=i.split(":");return{host:l,port:PM(d)}}}(t);i.config.emulator={url:`${l}//${d}${null===f?"":`:${f}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:d,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function FL(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(e,`http://${r}`),e}(function PL(n){Nf=n})({loadJS:n=>new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const l=xs("internal-error");l.customData=r,e(l)},i.type="text/javascript",i.charset="UTF-8",function GR(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function oz(n){_d(new cu("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),l=t.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=i.options;Wt(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:py(n)},E=new DM(i,r,l,p);return function NL(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Fc);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(E,e),E},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),_d(new cu("auth-internal",t=>{const e=Sr(t.getProvider("auth").getImmediate());return new $R(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oc($f,"1.7.5",function HR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Oc($f,"1.7.5","esm2017")}("Browser"),Oc("firebase","10.12.4","app");var Hf,qV,hg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},KV={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(Ve,le,Ee){Ee||(Ee=0);var je=Array(16);if("string"==typeof le)for(var Ke=0;16>Ke;++Ke)je[Ke]=le.charCodeAt(Ee++)|le.charCodeAt(Ee++)<<8|le.charCodeAt(Ee++)<<16|le.charCodeAt(Ee++)<<24;else for(Ke=0;16>Ke;++Ke)je[Ke]=le[Ee++]|le[Ee++]<<8|le[Ee++]<<16|le[Ee++]<<24;var rt=Ve.g[3],Ce=(le=Ve.g[0])+(rt^(Ee=Ve.g[1])&((Ke=Ve.g[2])^rt))+je[0]+3614090360&4294967295;Ce=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=(Ee=(Ke=(rt=(le=Ee+(Ce<<7&4294967295|Ce>>>25))+((Ce=rt+(Ke^le&(Ee^Ke))+je[1]+3905402710&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(Ee^rt&(le^Ee))+je[2]+606105819&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ee+(le^Ke&(rt^le))+je[3]+3250441966&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(rt^Ee&(Ke^rt))+je[4]+4118548399&4294967295)<<7&4294967295|Ce>>>25))+((Ce=rt+(Ke^le&(Ee^Ke))+je[5]+1200080426&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(Ee^rt&(le^Ee))+je[6]+2821735955&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ee+(le^Ke&(rt^le))+je[7]+4249261313&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(rt^Ee&(Ke^rt))+je[8]+1770035416&4294967295)<<7&4294967295|Ce>>>25))+((Ce=rt+(Ke^le&(Ee^Ke))+je[9]+2336552879&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(Ee^rt&(le^Ee))+je[10]+4294925233&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ee+(le^Ke&(rt^le))+je[11]+2304563134&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(rt^Ee&(Ke^rt))+je[12]+1804603682&4294967295)<<7&4294967295|Ce>>>25))+((Ce=rt+(Ke^le&(Ee^Ke))+je[13]+4254626195&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(Ee^rt&(le^Ee))+je[14]+2792965006&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ee+(le^Ke&(rt^le))+je[15]+1236535329&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(Ke^rt&(Ee^Ke))+je[1]+4129170786&4294967295)<<5&4294967295|Ce>>>27))+((Ce=rt+(Ee^Ke&(le^Ee))+je[6]+3225465664&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^Ee&(rt^le))+je[11]+643717713&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ee+(rt^le&(Ke^rt))+je[0]+3921069994&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(Ke^rt&(Ee^Ke))+je[5]+3593408605&4294967295)<<5&4294967295|Ce>>>27))+((Ce=rt+(Ee^Ke&(le^Ee))+je[10]+38016083&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^Ee&(rt^le))+je[15]+3634488961&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ee+(rt^le&(Ke^rt))+je[4]+3889429448&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(Ke^rt&(Ee^Ke))+je[9]+568446438&4294967295)<<5&4294967295|Ce>>>27))+((Ce=rt+(Ee^Ke&(le^Ee))+je[14]+3275163606&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^Ee&(rt^le))+je[3]+4107603335&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ee+(rt^le&(Ke^rt))+je[8]+1163531501&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(Ke^rt&(Ee^Ke))+je[13]+2850285829&4294967295)<<5&4294967295|Ce>>>27))+((Ce=rt+(Ee^Ke&(le^Ee))+je[2]+4243563512&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^Ee&(rt^le))+je[7]+1735328473&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ee+(rt^le&(Ke^rt))+je[12]+2368359562&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(Ee^Ke^rt)+je[5]+4294588738&4294967295)<<4&4294967295|Ce>>>28))+((Ce=rt+(le^Ee^Ke)+je[8]+2272392833&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(rt^le^Ee)+je[11]+1839030562&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ee+(Ke^rt^le)+je[14]+4259657740&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(Ee^Ke^rt)+je[1]+2763975236&4294967295)<<4&4294967295|Ce>>>28))+((Ce=rt+(le^Ee^Ke)+je[4]+1272893353&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(rt^le^Ee)+je[7]+4139469664&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ee+(Ke^rt^le)+je[10]+3200236656&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(Ee^Ke^rt)+je[13]+681279174&4294967295)<<4&4294967295|Ce>>>28))+((Ce=rt+(le^Ee^Ke)+je[0]+3936430074&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(rt^le^Ee)+je[3]+3572445317&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ee+(Ke^rt^le)+je[6]+76029189&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(Ee^Ke^rt)+je[9]+3654602809&4294967295)<<4&4294967295|Ce>>>28))+((Ce=rt+(le^Ee^Ke)+je[12]+3873151461&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(rt^le^Ee)+je[15]+530742520&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ee+(Ke^rt^le)+je[2]+3299628645&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(Ke^(Ee|~rt))+je[0]+4096336452&4294967295)<<6&4294967295|Ce>>>26))+((Ce=rt+(Ee^(le|~Ke))+je[7]+1126891415&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(le^(rt|~Ee))+je[14]+2878612391&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ee+(rt^(Ke|~le))+je[5]+4237533241&4294967295)<<21&4294967295|Ce>>>11))+((Ce=le+(Ke^(Ee|~rt))+je[12]+1700485571&4294967295)<<6&4294967295|Ce>>>26))+((Ce=rt+(Ee^(le|~Ke))+je[3]+2399980690&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(le^(rt|~Ee))+je[10]+4293915773&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ee+(rt^(Ke|~le))+je[1]+2240044497&4294967295)<<21&4294967295|Ce>>>11))+((Ce=le+(Ke^(Ee|~rt))+je[8]+1873313359&4294967295)<<6&4294967295|Ce>>>26))+((Ce=rt+(Ee^(le|~Ke))+je[15]+4264355552&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(le^(rt|~Ee))+je[6]+2734768916&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ee+(rt^(Ke|~le))+je[13]+1309151649&4294967295)<<21&4294967295|Ce>>>11))+((rt=(le=Ee+((Ce=le+(Ke^(Ee|~rt))+je[4]+4149444226&4294967295)<<6&4294967295|Ce>>>26))+((Ce=rt+(Ee^(le|~Ke))+je[11]+3174756917&4294967295)<<10&4294967295|Ce>>>22))^((Ke=rt+((Ce=Ke+(le^(rt|~Ee))+je[2]+718787259&4294967295)<<15&4294967295|Ce>>>17))|~le))+je[9]+3951481745&4294967295,Ve.g[0]=Ve.g[0]+le&4294967295,Ve.g[1]=Ve.g[1]+(Ke+(Ce<<21&4294967295|Ce>>>11))&4294967295,Ve.g[2]=Ve.g[2]+Ke&4294967295,Ve.g[3]=Ve.g[3]+rt&4294967295}function d(Ve,le){this.h=le;for(var Ee=[],je=!0,Ke=Ve.length-1;0<=Ke;Ke--){var rt=0|Ve[Ke];je&&rt==le||(Ee[Ke]=rt,je=!1)}this.g=Ee}(function t(Ve,le){function Ee(){}Ee.prototype=le.prototype,Ve.D=le.prototype,Ve.prototype=new Ee,Ve.prototype.constructor=Ve,Ve.C=function(je,Ke,rt){for(var Ce=Array(arguments.length-2),hi=2;hi<arguments.length;hi++)Ce[hi-2]=arguments[hi];return le.prototype[Ke].apply(je,Ce)}})(i,function e(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(Ve,le){void 0===le&&(le=Ve.length);for(var Ee=le-this.blockSize,je=this.B,Ke=this.h,rt=0;rt<le;){if(0==Ke)for(;rt<=Ee;)r(this,Ve,rt),rt+=this.blockSize;if("string"==typeof Ve){for(;rt<le;)if(je[Ke++]=Ve.charCodeAt(rt++),Ke==this.blockSize){r(this,je),Ke=0;break}}else for(;rt<le;)if(je[Ke++]=Ve[rt++],Ke==this.blockSize){r(this,je),Ke=0;break}}this.h=Ke,this.o+=le},i.prototype.v=function(){var Ve=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ve[0]=128;for(var le=1;le<Ve.length-8;++le)Ve[le]=0;var Ee=8*this.o;for(le=Ve.length-8;le<Ve.length;++le)Ve[le]=255&Ee,Ee/=256;for(this.u(Ve),Ve=Array(16),le=Ee=0;4>le;++le)for(var je=0;32>je;je+=8)Ve[Ee++]=this.g[le]>>>je&255;return Ve};var f={};function p(Ve){return-128<=Ve&&128>Ve?function l(Ve,le){var Ee=f;return Object.prototype.hasOwnProperty.call(Ee,Ve)?Ee[Ve]:Ee[Ve]=le(Ve)}(Ve,function(le){return new d([0|le],0>le?-1:0)}):new d([0|Ve],0>Ve?-1:0)}function E(Ve){if(isNaN(Ve)||!isFinite(Ve))return R;if(0>Ve)return he(E(-Ve));for(var le=[],Ee=1,je=0;Ve>=Ee;je++)le[je]=Ve/Ee|0,Ee*=4294967296;return new d(le,0)}var R=p(0),U=p(1),K=p(16777216);function me(Ve){if(0!=Ve.h)return!1;for(var le=0;le<Ve.g.length;le++)if(0!=Ve.g[le])return!1;return!0}function fe(Ve){return-1==Ve.h}function he(Ve){for(var le=Ve.g.length,Ee=[],je=0;je<le;je++)Ee[je]=~Ve.g[je];return new d(Ee,~Ve.h).add(U)}function ht(Ve,le){return Ve.add(he(le))}function vt(Ve,le){for(;(65535&Ve[le])!=Ve[le];)Ve[le+1]+=Ve[le]>>>16,Ve[le]&=65535,le++}function wt(Ve,le){this.g=Ve,this.h=le}function zt(Ve,le){if(me(le))throw Error("division by zero");if(me(Ve))return new wt(R,R);if(fe(Ve))return le=zt(he(Ve),le),new wt(he(le.g),he(le.h));if(fe(le))return le=zt(Ve,he(le)),new wt(he(le.g),le.h);if(30<Ve.g.length){if(fe(Ve)||fe(le))throw Error("slowDivide_ only works with positive integers.");for(var Ee=U,je=le;0>=je.l(Ve);)Ee=vn(Ee),je=vn(je);var Ke=cn(Ee,1),rt=cn(je,1);for(je=cn(je,2),Ee=cn(Ee,2);!me(je);){var Ce=rt.add(je);0>=Ce.l(Ve)&&(Ke=Ke.add(Ee),rt=Ce),je=cn(je,1),Ee=cn(Ee,1)}return le=ht(Ve,Ke.j(le)),new wt(Ke,le)}for(Ke=R;0<=Ve.l(le);){for(Ee=Math.max(1,Math.floor(Ve.m()/le.m())),je=48>=(je=Math.ceil(Math.log(Ee)/Math.LN2))?1:Math.pow(2,je-48),Ce=(rt=E(Ee)).j(le);fe(Ce)||0<Ce.l(Ve);)Ce=(rt=E(Ee-=je)).j(le);me(rt)&&(rt=U),Ke=Ke.add(rt),Ve=ht(Ve,Ce)}return new wt(Ke,Ve)}function vn(Ve){for(var le=Ve.g.length+1,Ee=[],je=0;je<le;je++)Ee[je]=Ve.i(je)<<1|Ve.i(je-1)>>>31;return new d(Ee,Ve.h)}function cn(Ve,le){var Ee=le>>5;le%=32;for(var je=Ve.g.length-Ee,Ke=[],rt=0;rt<je;rt++)Ke[rt]=0<le?Ve.i(rt+Ee)>>>le|Ve.i(rt+Ee+1)<<32-le:Ve.i(rt+Ee);return new d(Ke,Ve.h)}(n=d.prototype).m=function(){if(fe(this))return-he(this).m();for(var Ve=0,le=1,Ee=0;Ee<this.g.length;Ee++){var je=this.i(Ee);Ve+=(0<=je?je:4294967296+je)*le,le*=4294967296}return Ve},n.toString=function(Ve){if(2>(Ve=Ve||10)||36<Ve)throw Error("radix out of range: "+Ve);if(me(this))return"0";if(fe(this))return"-"+he(this).toString(Ve);for(var le=E(Math.pow(Ve,6)),Ee=this,je="";;){var Ke=zt(Ee,le).g,rt=((0<(Ee=ht(Ee,Ke.j(le))).g.length?Ee.g[0]:Ee.h)>>>0).toString(Ve);if(me(Ee=Ke))return rt+je;for(;6>rt.length;)rt="0"+rt;je=rt+je}},n.i=function(Ve){return 0>Ve?0:Ve<this.g.length?this.g[Ve]:this.h},n.l=function(Ve){return fe(Ve=ht(this,Ve))?-1:me(Ve)?0:1},n.abs=function(){return fe(this)?he(this):this},n.add=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),Ee=[],je=0,Ke=0;Ke<=le;Ke++){var rt=je+(65535&this.i(Ke))+(65535&Ve.i(Ke)),Ce=(rt>>>16)+(this.i(Ke)>>>16)+(Ve.i(Ke)>>>16);je=Ce>>>16,Ee[Ke]=(Ce&=65535)<<16|(rt&=65535)}return new d(Ee,-2147483648&Ee[Ee.length-1]?-1:0)},n.j=function(Ve){if(me(this)||me(Ve))return R;if(fe(this))return fe(Ve)?he(this).j(he(Ve)):he(he(this).j(Ve));if(fe(Ve))return he(this.j(he(Ve)));if(0>this.l(K)&&0>Ve.l(K))return E(this.m()*Ve.m());for(var le=this.g.length+Ve.g.length,Ee=[],je=0;je<2*le;je++)Ee[je]=0;for(je=0;je<this.g.length;je++)for(var Ke=0;Ke<Ve.g.length;Ke++){var rt=this.i(je)>>>16,Ce=65535&this.i(je),hi=Ve.i(Ke)>>>16,Rs=65535&Ve.i(Ke);Ee[2*je+2*Ke]+=Ce*Rs,vt(Ee,2*je+2*Ke),Ee[2*je+2*Ke+1]+=rt*Rs,vt(Ee,2*je+2*Ke+1),Ee[2*je+2*Ke+1]+=Ce*hi,vt(Ee,2*je+2*Ke+1),Ee[2*je+2*Ke+2]+=rt*hi,vt(Ee,2*je+2*Ke+2)}for(je=0;je<le;je++)Ee[je]=Ee[2*je+1]<<16|Ee[2*je];for(je=le;je<2*le;je++)Ee[je]=0;return new d(Ee,0)},n.A=function(Ve){return zt(this,Ve).h},n.and=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),Ee=[],je=0;je<le;je++)Ee[je]=this.i(je)&Ve.i(je);return new d(Ee,this.h&Ve.h)},n.or=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),Ee=[],je=0;je<le;je++)Ee[je]=this.i(je)|Ve.i(je);return new d(Ee,this.h|Ve.h)},n.xor=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),Ee=[],je=0;je<le;je++)Ee[je]=this.i(je)^Ve.i(je);return new d(Ee,this.h^Ve.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,qV=KV.Md5=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=E,d.fromString=function x(Ve,le){if(0==Ve.length)throw Error("number format error: empty string");if(2>(le=le||10)||36<le)throw Error("radix out of range: "+le);if("-"==Ve.charAt(0))return he(x(Ve.substring(1),le));if(0<=Ve.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ee=E(Math.pow(le,8)),je=R,Ke=0;Ke<Ve.length;Ke+=8){var rt=Math.min(8,Ve.length-Ke),Ce=parseInt(Ve.substring(Ke,Ke+rt),le);8>rt?(rt=E(Math.pow(le,rt)),je=je.j(rt).add(E(Ce))):je=(je=je.j(Ee)).add(E(Ce))}return je},Hf=KV.Integer=d}).apply(typeof hg<"u"?hg:typeof self<"u"?self:typeof window<"u"?window:{});var XV,KR,fg,QV,mg,OC,YV,qR,PC,lb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mu={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(_,M,L){return _==Array.prototype||_==Object.prototype||(_[M]=L.value),_},i=function e(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof lb&&lb];for(var M=0;M<_.length;++M){var L=_[M];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}(this);!function r(_,M){if(M)e:{var L=i;_=_.split(".");for(var q=0;q<_.length-1;q++){var at=_[q];if(!(at in L))break e;L=L[at]}(M=M(q=L[_=_[_.length-1]]))!=q&&null!=M&&t(L,_,{configurable:!0,writable:!0,value:M})}}("Array.prototype.values",function(_){return _||function(){return function l(_,M){_ instanceof String&&(_+="");var L=0,q=!1,at={next:function(){if(!q&&L<_.length){var gt=L++;return{value:M(gt,_[gt]),done:!1}}return q=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}(this,function(M,L){return L})}});var d=d||{},f=this||self;function p(_){var M=typeof _;return"array"==(M="object"!=M?M:_?Array.isArray(_)?"array":M:"null")||"object"==M&&"number"==typeof _.length}function E(_){var M=typeof _;return"object"==M&&null!=_||"function"==M}function x(_,M,L){return _.call.apply(_.bind,arguments)}function R(_,M,L){if(!_)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,q),_.apply(M,at)}}return function(){return _.apply(M,arguments)}}function U(_,M,L){return(U=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?x:R).apply(null,arguments)}function K(_,M){var L=Array.prototype.slice.call(arguments,1);return function(){var q=L.slice();return q.push.apply(q,arguments),_.apply(this,q)}}function me(_,M){function L(){}L.prototype=M.prototype,_.aa=M.prototype,_.prototype=new L,_.prototype.constructor=_,_.Qb=function(q,at,gt){for(var Zt=Array(arguments.length-2),Yi=2;Yi<arguments.length;Yi++)Zt[Yi-2]=arguments[Yi];return M.prototype[at].apply(q,Zt)}}function fe(_){const M=_.length;if(0<M){const L=Array(M);for(let q=0;q<M;q++)L[q]=_[q];return L}return[]}function he(_,M){for(let L=1;L<arguments.length;L++){const q=arguments[L];if(p(q)){const at=_.length||0,gt=q.length||0;_.length=at+gt;for(let Zt=0;Zt<gt;Zt++)_[at+Zt]=q[Zt]}else _.push(q)}}function vt(_){return/^[\s\xa0]*$/.test(_)}function wt(){var _=f.navigator;return _&&(_=_.userAgent)?_:""}function zt(_){return zt[" "](_),_}zt[" "]=function(){};var vn=!(-1==wt().indexOf("Gecko")||-1!=wt().toLowerCase().indexOf("webkit")&&-1==wt().indexOf("Edge")||-1!=wt().indexOf("Trident")||-1!=wt().indexOf("MSIE")||-1!=wt().indexOf("Edge"));function cn(_,M,L){for(const q in _)M.call(L,_[q],q,_)}function le(_){const M={};for(const L in _)M[L]=_[L];return M}const Ee="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(_,M){let L,q;for(let at=1;at<arguments.length;at++){for(L in q=arguments[at],q)_[L]=q[L];for(let gt=0;gt<Ee.length;gt++)L=Ee[gt],Object.prototype.hasOwnProperty.call(q,L)&&(_[L]=q[L])}}function Ke(_){var M=1;_=_.split(":");const L=[];for(;0<M&&_.length;)L.push(_.shift()),M--;return _.length&&L.push(_.join(":")),L}function rt(_){f.setTimeout(()=>{throw _},0)}function Ce(){var _=Br;let M=null;return _.g&&(M=_.g,_.g=_.g.next,_.g||(_.h=null),M.next=null),M}var Rs=new class ht{constructor(M,L){this.i=M,this.j=L,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}(()=>new ds,_=>_.reset());class ds{constructor(){this.next=this.g=this.h=null}set(M,L){this.h=M,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let Jr,nr=!1,Br=new class hi{constructor(){this.h=this.g=null}add(M,L){const q=Rs.get();q.set(M,L),this.h?this.h.next=q:this.g=q,this.h=q}},zo=()=>{const _=f.Promise.resolve(void 0);Jr=()=>{_.then(na)}};var na=()=>{for(var _;_=Ce();){try{_.h.call(_.g)}catch(L){rt(L)}var M=Rs;M.j(_),100>M.h&&(M.h++,_.next=M.g,M.g=_)}nr=!1};function ci(){this.s=this.s,this.C=this.C}function ir(_,M){this.type=_,this.g=this.target=M,this.defaultPrevented=!1}ci.prototype.s=!1,ci.prototype.ma=function(){this.s||(this.s=!0,this.N())},ci.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ir.prototype.h=function(){this.defaultPrevented=!0};var q1=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var _=!1,M=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const L=()=>{};f.addEventListener("test",L,M),f.removeEventListener("test",L,M)}catch{}return _}();function VD(_,M){if(ir.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var L=this.type=_.type,q=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=M,M=_.relatedTarget){if(vn){e:{try{zt(M.nodeName);var at=!0;break e}catch{}at=!1}at||(M=null)}}else"mouseover"==L?M=_.fromElement:"mouseout"==L&&(M=_.toElement);this.relatedTarget=M,q?(this.clientX=void 0!==q.clientX?q.clientX:q.pageX,this.clientY=void 0!==q.clientY?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:Pre[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&VD.aa.h.call(this)}}me(VD,ir);var Pre={2:"touch",3:"pen",4:"mouse"};VD.prototype.h=function(){VD.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var BD="closure_listenable_"+(1e6*Math.random()|0),Nre=0;function Fre(_,M,L,q,at){this.listener=_,this.proxy=null,this.src=M,this.type=L,this.capture=!!q,this.ha=at,this.key=++Nre,this.da=this.fa=!1}function X1(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Q1(_){this.src=_,this.g={},this.h=0}function t$(_,M){var L=M.type;if(L in _.g){var gt,q=_.g[L],at=Array.prototype.indexOf.call(q,M,void 0);(gt=0<=at)&&Array.prototype.splice.call(q,at,1),gt&&(X1(M),0==_.g[L].length&&(delete _.g[L],_.h--))}}function n$(_,M,L,q){for(var at=0;at<_.length;++at){var gt=_[at];if(!gt.da&&gt.listener==M&&gt.capture==!!L&&gt.ha==q)return at}return-1}Q1.prototype.add=function(_,M,L,q,at){var gt=_.toString();(_=this.g[gt])||(_=this.g[gt]=[],this.h++);var Zt=n$(_,M,q,at);return-1<Zt?(M=_[Zt],L||(M.fa=!1)):((M=new Fre(M,this.src,gt,!!q,at)).fa=L,_.push(M)),M};var i$="closure_lm_"+(1e6*Math.random()|0),r$={};function G9(_,M,L,q,at){if(q&&q.once)return K9(_,M,L,q,at);if(Array.isArray(M)){for(var gt=0;gt<M.length;gt++)G9(_,M[gt],L,q,at);return null}return L=c$(L),_&&_[BD]?_.K(M,L,E(q)?!!q.capture:!!q,at):W9(_,M,L,!1,q,at)}function W9(_,M,L,q,at,gt){if(!M)throw Error("Invalid event type");var Zt=E(at)?!!at.capture:!!at,Yi=s$(_);if(Yi||(_[i$]=Yi=new Q1(_)),(L=Yi.add(M,L,q,Zt,gt)).proxy)return L;if(q=function Lre(){const M=Vre;return function _(L){return M.call(_.src,_.listener,L)}}(),L.proxy=q,q.src=_,q.listener=L,_.addEventListener)q1||(at=Zt),void 0===at&&(at=!1),_.addEventListener(M.toString(),q,at);else if(_.attachEvent)_.attachEvent(X9(M.toString()),q);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(q)}return L}function K9(_,M,L,q,at){if(Array.isArray(M)){for(var gt=0;gt<M.length;gt++)K9(_,M[gt],L,q,at);return null}return L=c$(L),_&&_[BD]?_.L(M,L,E(q)?!!q.capture:!!q,at):W9(_,M,L,!0,q,at)}function q9(_,M,L,q,at){if(Array.isArray(M))for(var gt=0;gt<M.length;gt++)q9(_,M[gt],L,q,at);else q=E(q)?!!q.capture:!!q,L=c$(L),_&&_[BD]?(_=_.i,(M=String(M).toString())in _.g&&-1<(L=n$(gt=_.g[M],L,q,at))&&(X1(gt[L]),Array.prototype.splice.call(gt,L,1),0==gt.length&&(delete _.g[M],_.h--))):_&&(_=s$(_))&&(M=_.g[M.toString()],_=-1,M&&(_=n$(M,L,q,at)),(L=-1<_?M[_]:null)&&o$(L))}function o$(_){if("number"!=typeof _&&_&&!_.da){var M=_.src;if(M&&M[BD])t$(M.i,_);else{var L=_.type,q=_.proxy;M.removeEventListener?M.removeEventListener(L,q,_.capture):M.detachEvent?M.detachEvent(X9(L),q):M.addListener&&M.removeListener&&M.removeListener(q),(L=s$(M))?(t$(L,_),0==L.h&&(L.src=null,M[i$]=null)):X1(_)}}}function X9(_){return _ in r$?r$[_]:r$[_]="on"+_}function Vre(_,M){if(_.da)_=!0;else{M=new VD(M,this);var L=_.listener,q=_.ha||_.src;_.fa&&o$(_),_=L.call(q,M)}return _}function s$(_){return(_=_[i$])instanceof Q1?_:null}var a$="__closure_events_fn_"+(1e9*Math.random()>>>0);function c$(_){return"function"==typeof _?_:(_[a$]||(_[a$]=function(M){return _.handleEvent(M)}),_[a$])}function ks(){ci.call(this),this.i=new Q1(this),this.M=this,this.F=null}function ia(_,M){var L,q=_.F;if(q)for(L=[];q;q=q.F)L.push(q);if(_=_.M,q=M.type||M,"string"==typeof M)M=new ir(M,_);else if(M instanceof ir)M.target=M.target||_;else{var at=M;je(M=new ir(q,_),at)}if(at=!0,L)for(var gt=L.length-1;0<=gt;gt--){var Zt=M.g=L[gt];at=Y1(Zt,q,!0,M)&&at}if(at=Y1(Zt=M.g=_,q,!0,M)&&at,at=Y1(Zt,q,!1,M)&&at,L)for(gt=0;gt<L.length;gt++)at=Y1(Zt=M.g=L[gt],q,!1,M)&&at}function Y1(_,M,L,q){if(!(M=_.i.g[String(M)]))return!0;M=M.concat();for(var at=!0,gt=0;gt<M.length;++gt){var Zt=M[gt];if(Zt&&!Zt.da&&Zt.capture==L){var Yi=Zt.listener,hs=Zt.ha||Zt.src;Zt.fa&&t$(_.i,Zt),at=!1!==Yi.call(hs,q)&&at}}return at&&!q.defaultPrevented}function Q9(_,M,L){if("function"==typeof _)L&&(_=U(_,L));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=U(_.handleEvent,_)}return 2147483647<Number(M)?-1:f.setTimeout(_,M||0)}function Y9(_){_.g=Q9(()=>{_.g=null,_.i&&(_.i=!1,Y9(_))},_.l);const M=_.h;_.h=null,_.m.apply(null,M)}me(ks,ci),ks.prototype[BD]=!0,ks.prototype.removeEventListener=function(_,M,L,q){q9(this,_,M,L,q)},ks.prototype.N=function(){if(ks.aa.N.call(this),this.i){var M,_=this.i;for(M in _.g){for(var L=_.g[M],q=0;q<L.length;q++)X1(L[q]);delete _.g[M],_.h--}}this.F=null},ks.prototype.K=function(_,M,L,q){return this.i.add(String(_),M,!1,L,q)},ks.prototype.L=function(_,M,L,q){return this.i.add(String(_),M,!0,L,q)};class Bre extends ci{constructor(M,L){super(),this.m=M,this.l=L,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:Y9(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function UD(_){ci.call(this),this.h=_,this.g={}}me(UD,ci);var Z9=[];function J9(_){cn(_.g,function(M,L){this.g.hasOwnProperty(L)&&o$(M)},_),_.g={}}UD.prototype.N=function(){UD.aa.N.call(this),J9(this)},UD.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var l$=f.JSON.stringify,Ure=f.JSON.parse,jre=class{stringify(_){return f.JSON.stringify(_,void 0)}parse(_){return f.JSON.parse(_,void 0)}};function u$(){}function tK(){}u$.prototype.h=null;var jD={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function d$(){ir.call(this,"d")}function h$(){ir.call(this,"c")}me(d$,ir),me(h$,ir);var Gg={},nK=null;function Z1(){return nK=nK||new ks}function iK(_){ir.call(this,Gg.La,_)}function $D(_){const M=Z1();ia(M,new iK(M))}function rK(_,M){ir.call(this,Gg.STAT_EVENT,_),this.stat=M}function ra(_){const M=Z1();ia(M,new rK(M,_))}function oK(_,M){ir.call(this,Gg.Ma,_),this.size=M}function HD(_,M){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){_()},M)}function zD(){this.g=!0}function t0(_,M,L,q){_.info(function(){return"XMLHTTP TEXT ("+M+"): "+function Gre(_,M){if(!_.g)return M;if(!M)return null;try{var L=JSON.parse(M);if(L)for(_=0;_<L.length;_++)if(Array.isArray(L[_])){var q=L[_];if(!(2>q.length)){var at=q[1];if(Array.isArray(at)&&!(1>at.length)){var gt=at[0];if("noop"!=gt&&"stop"!=gt&&"close"!=gt)for(var Zt=1;Zt<at.length;Zt++)at[Zt]=""}}}return l$(L)}catch{return M}}(_,L)+(q?" "+q:"")})}Gg.La="serverreachability",me(iK,ir),Gg.STAT_EVENT="statevent",me(rK,ir),Gg.Ma="timingevent",me(oK,ir),zD.prototype.xa=function(){this.g=!1},zD.prototype.info=function(){};var f$,J1={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sK={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function eO(){}function lm(_,M,L,q){this.j=_,this.i=M,this.l=L,this.R=q||1,this.U=new UD(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new aK}function aK(){this.i=null,this.g="",this.h=!1}me(eO,u$),eO.prototype.g=function(){return new XMLHttpRequest},eO.prototype.i=function(){return{}},f$=new eO;var cK={},m$={};function p$(_,M,L){_.L=1,_.v=rO(Zd(M)),_.m=L,_.P=!0,lK(_,null)}function lK(_,M){_.F=Date.now(),tO(_),_.A=Zd(_.v);var L=_.A,q=_.R;Array.isArray(q)||(q=[String(q)]),IK(L.i,"t",q),_.C=0,L=_.j.J,_.h=new aK,_.g=jK(_.j,L?M:null,!_.m),0<_.O&&(_.M=new Bre(U(_.Y,_,_.g),_.O)),M=_.U,L=_.g,q=_.ca;var at="readystatechange";Array.isArray(at)||(at&&(Z9[0]=at.toString()),at=Z9);for(var gt=0;gt<at.length;gt++){var Zt=G9(L,at[gt],q||M.handleEvent,!1,M.h||M);if(!Zt)break;M.g[Zt.key]=Zt}M=_.H?le(_.H):{},_.m?(_.u||(_.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,M)):(_.u="GET",_.g.ea(_.A,_.u,null,M)),$D(),function $re(_,M,L,q,at,gt){_.info(function(){if(_.g)if(gt)for(var Zt="",Yi=gt.split("&"),hs=0;hs<Yi.length;hs++){var Ti=Yi[hs].split("=");if(1<Ti.length){var Os=Ti[0];Ti=Ti[1];var Ps=Os.split("_");Zt=2<=Ps.length&&"type"==Ps[1]?Zt+(Os+"=")+Ti+"&":Zt+(Os+"=redacted&")}}else Zt=null;else Zt=gt;return"XMLHTTP REQ ("+q+") [attempt "+at+"]: "+M+"\n"+L+"\n"+Zt})}(_.i,_.u,_.A,_.l,_.R,_.m)}function uK(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function Wre(_,M){var L=_.C,q=M.indexOf("\n",L);return-1==q?m$:(L=Number(M.substring(L,q)),isNaN(L)?cK:(q+=1)+L>M.length?m$:(M=M.slice(q,q+L),_.C=q+L,M))}function tO(_){_.S=Date.now()+_.I,dK(_,_.I)}function dK(_,M){if(null!=_.B)throw Error("WatchDog timer not null");_.B=HD(U(_.ba,_),M)}function g$(_){_.B&&(f.clearTimeout(_.B),_.B=null)}function GD(_){0==_.j.G||_.J||LK(_.j,_)}function Wg(_){g$(_);var M=_.M;M&&"function"==typeof M.ma&&M.ma(),_.M=null,J9(_.U),_.g&&(M=_.g,_.g=null,M.abort(),M.ma())}function _$(_,M){try{var L=_.j;if(0!=L.G&&(L.g==_||v$(L.h,_)))if(!_.K&&v$(L.h,_)&&3==L.G){try{var q=L.Da.g.parse(M)}catch{q=null}if(Array.isArray(q)&&3==q.length){var at=q;if(0==at[0]){e:if(!L.u){if(L.g){if(!(L.g.F+3e3<_.F))break e;lO(L),aO(L)}E$(L),ra(18)}}else L.za=at[1],0<L.za-L.T&&37500>at[2]&&L.F&&0==L.v&&!L.C&&(L.C=HD(U(L.Za,L),6e3));if(1>=mK(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else qg(L,11)}else if((_.K||L.g==_)&&lO(L),!vt(M))for(at=L.Da.g.parse(M),M=0;M<at.length;M++){let Ti=at[M];if(L.T=Ti[0],Ti=Ti[1],2==L.G)if("c"==Ti[0]){L.K=Ti[1],L.ia=Ti[2];const Os=Ti[3];null!=Os&&(L.la=Os,L.j.info("VER="+L.la));const Ps=Ti[4];null!=Ps&&(L.Aa=Ps,L.j.info("SVER="+L.Aa));const o0=Ti[5];null!=o0&&"number"==typeof o0&&0<o0&&(L.L=q=1.5*o0,L.j.info("backChannelRequestTimeoutMs_="+q)),q=L;const Sl=_.g;if(Sl){const dO=Sl.g?Sl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dO){var gt=q.h;gt.g||-1==dO.indexOf("spdy")&&-1==dO.indexOf("quic")&&-1==dO.indexOf("h2")||(gt.j=gt.l,gt.g=new Set,gt.h&&(y$(gt,gt.h),gt.h=null))}if(q.D){const C$=Sl.g?Sl.g.getResponseHeader("X-HTTP-Session-Id"):null;C$&&(q.ya=C$,ur(q.I,q.D,C$))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-_.F,L.j.info("Handshake RTT: "+L.R+"ms"));var Zt=_;if((q=L).qa=UK(q,q.J?q.ia:null,q.W),Zt.K){pK(q.h,Zt);var Yi=Zt,hs=q.L;hs&&(Yi.I=hs),Yi.B&&(g$(Yi),tO(Yi)),q.g=Zt}else NK(q);0<L.i.length&&cO(L)}else"stop"!=Ti[0]&&"close"!=Ti[0]||qg(L,7);else 3==L.G&&("stop"==Ti[0]||"close"==Ti[0]?"stop"==Ti[0]?qg(L,7):w$(L):"noop"!=Ti[0]&&L.l&&L.l.ta(Ti),L.v=0)}$D()}catch{}}lm.prototype.ca=function(_){_=_.target;const M=this.M;M&&3==Jd(_)?M.j():this.Y(_)},lm.prototype.Y=function(_){try{if(_==this.g)e:{const Ps=Jd(this.g);var M=this.g.Ba();if(this.g.Z(),!(3>Ps)&&(3!=Ps||this.g&&(this.h.h||this.g.oa()||MK(this.g)))){this.J||4!=Ps||7==M||$D(),g$(this);var L=this.g.Z();this.X=L;t:if(uK(this)){var q=MK(this.g);_="";var at=q.length,gt=4==Jd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wg(this),GD(this);var Zt="";break t}this.h.i=new f.TextDecoder}for(M=0;M<at;M++)this.h.h=!0,_+=this.h.i.decode(q[M],{stream:!(gt&&M==at-1)});q.length=0,this.h.g+=_,this.C=0,Zt=this.h.g}else Zt=this.g.oa();if(this.o=200==L,function Hre(_,M,L,q,at,gt,Zt){_.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+at+"]: "+M+"\n"+L+"\n"+gt+" "+Zt})}(this.i,this.u,this.A,this.l,this.R,Ps,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Yi,hs=this.g;if((Yi=hs.g?hs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(Yi)){var Ti=Yi;break t}}Ti=null}if(!(L=Ti)){this.o=!1,this.s=3,ra(12),Wg(this),GD(this);break e}t0(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_$(this,L)}if(this.P){let Sl;for(L=!0;!this.J&&this.C<Zt.length;){if(Sl=Wre(this,Zt),Sl==m$){4==Ps&&(this.s=4,ra(14),L=!1),t0(this.i,this.l,null,"[Incomplete Response]");break}if(Sl==cK){this.s=4,ra(15),t0(this.i,this.l,Zt,"[Invalid Chunk]"),L=!1;break}t0(this.i,this.l,Sl,null),_$(this,Sl)}if(uK(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ps||0!=Zt.length||this.h.h||(this.s=1,ra(16),L=!1),this.o=this.o&&L,L){if(0<Zt.length&&!this.W){this.W=!0;var Os=this.j;Os.g==this&&Os.ba&&!Os.M&&(Os.j.info("Great, no buffering proxy detected. Bytes received: "+Zt.length),I$(Os),Os.M=!0,ra(11))}}else t0(this.i,this.l,Zt,"[Invalid Chunked Response]"),Wg(this),GD(this)}else t0(this.i,this.l,Zt,null),_$(this,Zt);4==Ps&&Wg(this),this.o&&!this.J&&(4==Ps?LK(this.j,this):(this.o=!1,tO(this)))}else(function loe(_){const M={};_=(_.g&&2<=Jd(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let q=0;q<_.length;q++){if(vt(_[q]))continue;var L=Ke(_[q]);const at=L[0];if("string"!=typeof(L=L[1]))continue;L=L.trim();const gt=M[at]||[];M[at]=gt,gt.push(L)}!function Ve(_,M){for(const L in _)M.call(void 0,_[L],L,_)}(M,function(q){return q.join(", ")})})(this.g),400==L&&0<Zt.indexOf("Unknown SID")?(this.s=3,ra(12)):(this.s=0,ra(13)),Wg(this),GD(this)}}}catch{}},lm.prototype.cancel=function(){this.J=!0,Wg(this)},lm.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function zre(_,M){_.info(function(){return"TIMEOUT: "+M})}(this.i,this.A),2!=this.L&&($D(),ra(17)),Wg(this),this.s=2,GD(this)):dK(this,this.S-_)};var Kre=class{constructor(_,M){this.g=_,this.map=M}};function hK(_){this.l=_||10,_=f.PerformanceNavigationTiming?0<(_=f.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fK(_){return!!_.h||!!_.g&&_.g.size>=_.j}function mK(_){return _.h?1:_.g?_.g.size:0}function v$(_,M){return _.h?_.h==M:!!_.g&&_.g.has(M)}function y$(_,M){_.g?_.g.add(M):_.h=M}function pK(_,M){_.h&&_.h==M?_.h=null:_.g&&_.g.has(M)&&_.g.delete(M)}function gK(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let M=_.i;for(const L of _.g.values())M=M.concat(L.D);return M}return fe(_.i)}function _K(_,M){if(_.forEach&&"function"==typeof _.forEach)_.forEach(M,void 0);else if(p(_)||"string"==typeof _)Array.prototype.forEach.call(_,M,void 0);else for(var L=function Xre(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(p(_)||"string"==typeof _){var M=[];_=_.length;for(var L=0;L<_;L++)M.push(L);return M}M=[],L=0;for(const q in _)M[L++]=q;return M}}}(_),q=function qre(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(p(_)){for(var M=[],L=_.length,q=0;q<L;q++)M.push(_[q]);return M}for(q in M=[],L=0,_)M[L++]=_[q];return M}(_),at=q.length,gt=0;gt<at;gt++)M.call(void 0,q[gt],L&&L[gt],_)}hK.prototype.cancel=function(){if(this.i=gK(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var vK=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kg(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Kg){this.h=_.h,nO(this,_.j),this.o=_.o,this.g=_.g,iO(this,_.s),this.l=_.l;var M=_.i,L=new qD;L.i=M.i,M.g&&(L.g=new Map(M.g),L.h=M.h),yK(this,L),this.m=_.m}else _&&(M=String(_).match(vK))?(this.h=!1,nO(this,M[1]||"",!0),this.o=WD(M[2]||""),this.g=WD(M[3]||"",!0),iO(this,M[4]),this.l=WD(M[5]||"",!0),yK(this,M[6]||"",!0),this.m=WD(M[7]||"")):(this.h=!1,this.i=new qD(null,this.h))}function Zd(_){return new Kg(_)}function nO(_,M,L){_.j=L?WD(M,!0):M,_.j&&(_.j=_.j.replace(/:$/,""))}function iO(_,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);_.s=M}else _.s=null}function yK(_,M,L){M instanceof qD?(_.i=M,function noe(_,M){M&&!_.j&&(um(_),_.i=null,_.g.forEach(function(L,q){var at=q.toLowerCase();q!=at&&(wK(this,q),IK(this,at,L))},_)),_.j=M}(_.i,_.h)):(L||(M=KD(M,eoe)),_.i=new qD(M,_.h))}function ur(_,M,L){_.i.set(M,L)}function rO(_){return ur(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function WD(_,M){return _?M?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function KD(_,M,L){return"string"==typeof _?(_=encodeURI(_).replace(M,Yre),L&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Yre(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}Kg.prototype.toString=function(){var _=[],M=this.j;M&&_.push(KD(M,bK,!0),":");var L=this.g;return(L||"file"==M)&&(_.push("//"),(M=this.o)&&_.push(KD(M,bK,!0),"@"),_.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(L=this.s)&&_.push(":",String(L))),(L=this.l)&&(this.g&&"/"!=L.charAt(0)&&_.push("/"),_.push(KD(L,"/"==L.charAt(0)?Jre:Zre,!0))),(L=this.i.toString())&&_.push("?",L),(L=this.m)&&_.push("#",KD(L,toe)),_.join("")};var bK=/[#\/\?@]/g,Zre=/[#\?:]/g,Jre=/[#\?]/g,eoe=/[#\?@]/g,toe=/#/g;function qD(_,M){this.h=this.g=null,this.i=_||null,this.j=!!M}function um(_){_.g||(_.g=new Map,_.h=0,_.i&&function Qre(_,M){if(_){_=_.split("&");for(var L=0;L<_.length;L++){var q=_[L].indexOf("="),at=null;if(0<=q){var gt=_[L].substring(0,q);at=_[L].substring(q+1)}else gt=_[L];M(gt,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}(_.i,function(M,L){_.add(decodeURIComponent(M.replace(/\+/g," ")),L)}))}function wK(_,M){um(_),M=n0(_,M),_.g.has(M)&&(_.i=null,_.h-=_.g.get(M).length,_.g.delete(M))}function EK(_,M){return um(_),M=n0(_,M),_.g.has(M)}function IK(_,M,L){wK(_,M),0<L.length&&(_.i=null,_.g.set(n0(_,M),fe(L)),_.h+=L.length)}function n0(_,M){return M=String(M),_.j&&(M=M.toLowerCase()),M}function dm(_,M,L,q,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),q(L)}catch{}}function ooe(){this.g=new jre}function soe(_,M,L){const q=L||"";try{_K(_,function(at,gt){let Zt=at;E(at)&&(Zt=l$(at)),M.push(q+gt+"="+encodeURIComponent(Zt))})}catch(at){throw M.push(q+"type="+encodeURIComponent("_badmap")),at}}function XD(_){this.l=_.Ub||null,this.j=_.eb||!1}function oO(_,M){ks.call(this),this.D=_,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function CK(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function QD(_){_.readyState=4,_.l=null,_.j=null,_.v=null,YD(_)}function YD(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function DK(_){let M="";return cn(_,function(L,q){M+=q,M+=":",M+=L,M+="\r\n"}),M}function b$(_,M,L){e:{for(q in L){var q=!1;break e}q=!0}q||(L=DK(L),"string"==typeof _?null!=L&&encodeURIComponent(String(L)):ur(_,M,L))}function Ur(_){ks.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=qD.prototype).add=function(_,M){um(this),this.i=null,_=n0(this,_);var L=this.g.get(_);return L||this.g.set(_,L=[]),L.push(M),this.h+=1,this},n.forEach=function(_,M){um(this),this.g.forEach(function(L,q){L.forEach(function(at){_.call(M,at,q,this)},this)},this)},n.na=function(){um(this);const _=Array.from(this.g.values()),M=Array.from(this.g.keys()),L=[];for(let q=0;q<M.length;q++){const at=_[q];for(let gt=0;gt<at.length;gt++)L.push(M[q])}return L},n.V=function(_){um(this);let M=[];if("string"==typeof _)EK(this,_)&&(M=M.concat(this.g.get(n0(this,_))));else{_=Array.from(this.g.values());for(let L=0;L<_.length;L++)M=M.concat(_[L])}return M},n.set=function(_,M){return um(this),this.i=null,EK(this,_=n0(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[M]),this.h+=1,this},n.get=function(_,M){return _&&0<(_=this.V(_)).length?String(_[0]):M},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],M=Array.from(this.g.keys());for(var L=0;L<M.length;L++){var q=M[L];const gt=encodeURIComponent(String(q)),Zt=this.V(q);for(q=0;q<Zt.length;q++){var at=gt;""!==Zt[q]&&(at+="="+encodeURIComponent(String(Zt[q]))),_.push(at)}}return this.i=_.join("&")},me(XD,u$),XD.prototype.g=function(){return new oO(this.l,this.j)},XD.prototype.i=function(_){return function(){return _}}({}),me(oO,ks),(n=oO.prototype).open=function(_,M){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=M,this.readyState=1,YD(this)},n.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(M.body=_),(this.D||f).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,QD(this)),this.readyState=0},n.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,YD(this)),this.g&&(this.readyState=3,YD(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;CK(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var M=_.value?_.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!_.done}))&&(this.response=this.responseText+=M)}_.done?QD(this):YD(this),3==this.readyState&&CK(this)}},n.Ra=function(_){this.g&&(this.response=this.responseText=_,QD(this))},n.Qa=function(_){this.g&&(this.response=_,QD(this))},n.ga=function(){this.g&&QD(this)},n.setRequestHeader=function(_,M){this.u.append(_,M)},n.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],M=this.h.entries();for(var L=M.next();!L.done;)_.push((L=L.value)[0]+": "+L[1]),L=M.next();return _.join("\r\n")},Object.defineProperty(oO.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),me(Ur,ks);var aoe=/^https?$/i,coe=["POST","PUT"];function TK(_,M){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=M,_.m=5,xK(_),sO(_)}function xK(_){_.A||(_.A=!0,ia(_,"complete"),ia(_,"error"))}function AK(_){if(_.h&&typeof d<"u"&&(!_.v[1]||4!=Jd(_)||2!=_.Z()))if(_.u&&4==Jd(_))Q9(_.Ea,0,_);else if(ia(_,"readystatechange"),4==Jd(_)){_.h=!1;try{const Zt=_.Z();e:switch(Zt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var L;if(!(L=M)){var q;if(q=0===Zt){var at=String(_.D).match(vK)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),q=!aoe.test(at?at.toLowerCase():"")}L=q}if(L)ia(_,"complete"),ia(_,"success");else{_.m=6;try{var gt=2<Jd(_)?_.g.statusText:""}catch{gt=""}_.l=gt+" ["+_.Z()+"]",xK(_)}}finally{sO(_)}}}function sO(_,M){if(_.g){SK(_);const L=_.g,q=_.v[0]?()=>{}:null;_.g=null,_.v=null,M||ia(_,"ready");try{L.onreadystatechange=q}catch{}}}function SK(_){_.I&&(f.clearTimeout(_.I),_.I=null)}function Jd(_){return _.g?_.g.readyState:0}function MK(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function ZD(_,M,L){return L&&L.internalChannelParams&&L.internalChannelParams[_]||M}function RK(_){this.Aa=0,this.i=[],this.j=new zD,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ZD("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ZD("baseRetryDelayMs",5e3,_),this.cb=ZD("retryDelaySeedMs",1e4,_),this.Wa=ZD("forwardChannelMaxRetries",2,_),this.wa=ZD("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new hK(_&&_.concurrentRequestLimit),this.Da=new ooe,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function w$(_){if(kK(_),3==_.G){var M=_.U++,L=Zd(_.I);if(ur(L,"SID",_.K),ur(L,"RID",M),ur(L,"TYPE","terminate"),JD(_,L),(M=new lm(_,_.j,M)).L=2,M.v=rO(Zd(L)),L=!1,f.navigator&&f.navigator.sendBeacon)try{L=f.navigator.sendBeacon(M.v.toString(),"")}catch{}!L&&f.Image&&((new Image).src=M.v,L=!0),L||(M.g=jK(M.j,null),M.g.ea(M.v)),M.F=Date.now(),tO(M)}BK(_)}function aO(_){_.g&&(I$(_),_.g.cancel(),_.g=null)}function kK(_){aO(_),_.u&&(f.clearTimeout(_.u),_.u=null),lO(_),_.h.cancel(),_.s&&("number"==typeof _.s&&f.clearTimeout(_.s),_.s=null)}function cO(_){if(!fK(_.h)&&!_.s){_.s=!0;var M=_.Ga;Jr||zo(),nr||(Jr(),nr=!0),Br.add(M,_),_.B=0}}function OK(_,M){var L;L=M?M.l:_.U++;const q=Zd(_.I);ur(q,"SID",_.K),ur(q,"RID",L),ur(q,"AID",_.T),JD(_,q),_.m&&_.o&&b$(q,_.m,_.o),L=new lm(_,_.j,L,_.B+1),null===_.m&&(L.H=_.o),M&&(_.i=M.D.concat(_.i)),M=PK(_,L,1e3),L.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),y$(_.h,L),p$(L,q,M)}function JD(_,M){_.H&&cn(_.H,function(L,q){ur(M,q,L)}),_.l&&_K({},function(L,q){ur(M,q,L)})}function PK(_,M,L){L=Math.min(_.i.length,L);var q=_.l?U(_.l.Na,_.l,_):null;e:{var at=_.i;let gt=-1;for(;;){const Zt=["count="+L];-1==gt?0<L?(gt=at[0].g,Zt.push("ofs="+gt)):gt=0:Zt.push("ofs="+gt);let Yi=!0;for(let hs=0;hs<L;hs++){let Ti=at[hs].g;const Os=at[hs].map;if(Ti-=gt,0>Ti)gt=Math.max(0,at[hs].g-100),Yi=!1;else try{soe(Os,Zt,"req"+Ti+"_")}catch{q&&q(Os)}}if(Yi){q=Zt.join("&");break e}}}return _=_.i.splice(0,L),M.D=_,q}function NK(_){if(!_.g&&!_.u){_.Y=1;var M=_.Fa;Jr||zo(),nr||(Jr(),nr=!0),Br.add(M,_),_.v=0}}function E$(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=HD(U(_.Fa,_),VK(_,_.v)),_.v++,0))}function I$(_){null!=_.A&&(f.clearTimeout(_.A),_.A=null)}function FK(_){_.g=new lm(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var M=Zd(_.qa);ur(M,"RID","rpc"),ur(M,"SID",_.K),ur(M,"AID",_.T),ur(M,"CI",_.F?"0":"1"),!_.F&&_.ja&&ur(M,"TO",_.ja),ur(M,"TYPE","xmlhttp"),JD(_,M),_.m&&_.o&&b$(M,_.m,_.o),_.L&&(_.g.I=_.L);var L=_.g;_=_.ia,L.L=1,L.v=rO(Zd(M)),L.m=null,L.P=!0,lK(L,_)}function lO(_){null!=_.C&&(f.clearTimeout(_.C),_.C=null)}function LK(_,M){var L=null;if(_.g==M){lO(_),I$(_),_.g=null;var q=2}else{if(!v$(_.h,M))return;L=M.D,pK(_.h,M),q=1}if(0!=_.G)if(M.o)if(1==q){L=M.m?M.m.length:0,M=Date.now()-M.F;var at=_.B;ia(q=Z1(),new oK(q,L)),cO(_)}else NK(_);else if(3==(at=M.s)||0==at&&0<M.X||!(1==q&&function uoe(_,M){return!(mK(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=M.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=HD(U(_.Ga,_,M),VK(_,_.B)),_.B++,0)))}(_,M)||2==q&&E$(_)))switch(L&&0<L.length&&(M=_.h,M.i=M.i.concat(L)),at){case 1:qg(_,5);break;case 4:qg(_,10);break;case 3:qg(_,6);break;default:qg(_,2)}}function VK(_,M){let L=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(L*=2),L*M}function qg(_,M){if(_.j.info("Error code "+M),2==M){var L=U(_.fb,_),q=_.Xa;const at=!q;q=new Kg(q||"//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||nO(q,"https"),rO(q),at?function ioe(_,M){const L=new zD;if(f.Image){const q=new Image;q.onload=K(dm,L,"TestLoadImage: loaded",!0,M,q),q.onerror=K(dm,L,"TestLoadImage: error",!1,M,q),q.onabort=K(dm,L,"TestLoadImage: abort",!1,M,q),q.ontimeout=K(dm,L,"TestLoadImage: timeout",!1,M,q),f.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=_}else M(!1)}(q.toString(),L):function roe(_,M){new zD;const q=new AbortController,at=setTimeout(()=>{q.abort(),dm(0,0,!1,M)},1e4);fetch(_,{signal:q.signal}).then(gt=>{clearTimeout(at),dm(0,0,!!gt.ok,M)}).catch(()=>{clearTimeout(at),dm(0,0,!1,M)})}(q.toString(),L)}else ra(2);_.G=0,_.l&&_.l.sa(M),BK(_),kK(_)}function BK(_){if(_.G=0,_.ka=[],_.l){const M=gK(_.h);(0!=M.length||0!=_.i.length)&&(he(_.ka,M),he(_.ka,_.i),_.h.i.length=0,fe(_.i),_.i.length=0),_.l.ra()}}function UK(_,M,L){var q=L instanceof Kg?Zd(L):new Kg(L);if(""!=q.g)M&&(q.g=M+"."+q.g),iO(q,q.s);else{var at=f.location;q=at.protocol,M=M?M+"."+at.hostname:at.hostname,at=+at.port;var gt=new Kg(null);q&&nO(gt,q),M&&(gt.g=M),at&&iO(gt,at),L&&(gt.l=L),q=gt}return M=_.ya,(L=_.D)&&M&&ur(q,L,M),ur(q,"VER",_.la),JD(_,q),q}function jK(_,M,L){if(M&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(M=new Ur(_.Ca&&!_.pa?new XD({eb:L}):_.pa)).Ha(_.J),M}function $K(){}function uO(){}function rc(_,M){ks.call(this),this.g=new RK(M),this.l=_,this.h=M&&M.messageUrlParams||null,_=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(_?_["X-WebChannel-Content-Type"]=M.messageContentType:_={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(_?_["X-WebChannel-Client-Profile"]=M.va:_={"X-WebChannel-Client-Profile":M.va}),this.g.S=_,(_=M&&M.Sb)&&!vt(_)&&(this.g.m=_),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!vt(M)&&(this.g.D=M,null!==(_=this.h)&&M in _&&M in(_=this.h)&&delete _[M]),this.j=new r0(this)}function HK(_){d$.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var M=_.__sm__;if(M){e:{for(const L in M){_=L;break e}_=void 0}(this.i=_)&&(_=this.i,M=null!==M&&_ in M?M[_]:void 0),this.data=M}else this.data=_}function zK(){h$.call(this),this.status=1}function r0(_){this.g=_}(n=Ur.prototype).Ha=function(_){this.J=_},n.ea=function(_,M,L,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);M=M?M.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():f$.g(),this.v=function eK(_){return _.h||(_.h=_.i())}(this.o?this.o:f$),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(M,String(_),!0),this.B=!1}catch(gt){return void TK(this,gt)}if(_=L||"",L=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var at in q)L.set(at,q[at]);else{if("function"!=typeof q.keys||"function"!=typeof q.get)throw Error("Unknown input type for opt_headers: "+String(q));for(const gt of q.keys())L.set(gt,q.get(gt))}q=Array.from(L.keys()).find(gt=>"content-type"==gt.toLowerCase()),at=f.FormData&&_ instanceof f.FormData,!(0<=Array.prototype.indexOf.call(coe,M,void 0))||q||at||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[gt,Zt]of L)this.g.setRequestHeader(gt,Zt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{SK(this),this.u=!0,this.g.send(_),this.u=!1}catch(gt){TK(this,gt)}},n.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,ia(this,"complete"),ia(this,"abort"),sO(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),sO(this,!0)),Ur.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?AK(this):this.bb())},n.bb=function(){AK(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Jd(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(_){if(this.g){var M=this.g.responseText;return _&&0==M.indexOf(_)&&(M=M.substring(_.length)),Ure(M)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=RK.prototype).la=8,n.G=1,n.connect=function(_,M,L,q){ra(0),this.W=_,this.H=M||{},L&&void 0!==q&&(this.H.OSID=L,this.H.OAID=q),this.F=this.X,this.I=UK(this,null,this.W),cO(this)},n.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const at=new lm(this,this.j,_);let gt=this.o;if(this.S&&(gt?(gt=le(gt),je(gt,this.S)):gt=this.S),null!==this.m||this.O||(at.H=gt,gt=null),this.P)e:{for(var M=0,L=0;L<this.i.length;L++){var q=this.i[L];if(void 0===(q="__data__"in q.map&&"string"==typeof(q=q.map.__data__)?q.length:void 0))break;if(4096<(M+=q)){M=L;break e}if(4096===M||L===this.i.length-1){M=L+1;break e}}M=1e3}else M=1e3;M=PK(this,at,M),ur(L=Zd(this.I),"RID",_),ur(L,"CVER",22),this.D&&ur(L,"X-HTTP-Session-Id",this.D),JD(this,L),gt&&(this.O?M="headers="+encodeURIComponent(String(DK(gt)))+"&"+M:this.m&&b$(L,this.m,gt)),y$(this.h,at),this.Ua&&ur(L,"TYPE","init"),this.P?(ur(L,"$req",M),ur(L,"SID","null"),at.T=!0,p$(at,L,null)):p$(at,L,M),this.G=2}}else 3==this.G&&(_?OK(this,_):0==this.i.length||fK(this.h)||OK(this))},n.Fa=function(){if(this.u=null,FK(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=HD(U(this.ab,this),_)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ra(10),aO(this),FK(this))},n.Za=function(){null!=this.C&&(this.C=null,aO(this),E$(this),ra(19))},n.fb=function(_){_?(this.j.info("Successfully pinged google.com"),ra(2)):(this.j.info("Failed to ping google.com"),ra(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=$K.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},uO.prototype.g=function(_,M){return new rc(_,M)},me(rc,ks),rc.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rc.prototype.close=function(){w$(this.g)},rc.prototype.o=function(_){var M=this.g;if("string"==typeof _){var L={};L.__data__=_,_=L}else this.u&&((L={}).__data__=l$(_),_=L);M.i.push(new Kre(M.Ya++,_)),3==M.G&&cO(M)},rc.prototype.N=function(){this.g.l=null,delete this.j,w$(this.g),delete this.g,rc.aa.N.call(this)},me(HK,d$),me(zK,h$),me(r0,$K),r0.prototype.ua=function(){ia(this.g,"a")},r0.prototype.ta=function(_){ia(this.g,new HK(_))},r0.prototype.sa=function(_){ia(this.g,new zK)},r0.prototype.ra=function(){ia(this.g,"b")},uO.prototype.createWebChannel=uO.prototype.g,rc.prototype.send=rc.prototype.o,rc.prototype.open=rc.prototype.m,rc.prototype.close=rc.prototype.close,PC=mu.createWebChannelTransport=function(){return new uO},qR=mu.getStatEventTarget=function(){return Z1()},YV=mu.Event=Gg,OC=mu.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},J1.NO_ERROR=0,J1.TIMEOUT=8,J1.HTTP_ERROR=6,mg=mu.ErrorCode=J1,sK.COMPLETE="complete",QV=mu.EventType=sK,tK.EventType=jD,jD.OPEN="a",jD.CLOSE="b",jD.ERROR="c",jD.MESSAGE="d",ks.prototype.listen=ks.prototype.K,fg=mu.WebChannel=tK,KR=mu.FetchXmlHttpFactory=XD,Ur.prototype.listenOnce=Ur.prototype.L,Ur.prototype.getLastError=Ur.prototype.Ka,Ur.prototype.getLastErrorCode=Ur.prototype.Ba,Ur.prototype.getStatus=Ur.prototype.Z,Ur.prototype.getResponseJson=Ur.prototype.Oa,Ur.prototype.getResponseText=Ur.prototype.oa,Ur.prototype.send=Ur.prototype.ea,Ur.prototype.setWithCredentials=Ur.prototype.Ha,XV=mu.XhrIo=Ur}).apply(typeof lb<"u"?lb:typeof self<"u"?self:typeof window<"u"?window:{});const ZV="@firebase/firestore";class lo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}lo.UNAUTHENTICATED=new lo(null),lo.GOOGLE_CREDENTIALS=new lo("google-credentials-uid"),lo.FIRST_PARTY=new lo("first-party-uid"),lo.MOCK_USER=new lo("mock-user");let zf="10.12.3";const pu=new Wv("@firebase/firestore");function Rd(){return pu.logLevel}function kt(n,...t){if(pu.logLevel<=Un.DEBUG){const e=t.map(pg);pu.debug(`Firestore (${zf}): ${n}`,...e)}}function yr(n,...t){if(pu.logLevel<=Un.ERROR){const e=t.map(pg);pu.error(`Firestore (${zf}): ${n}`,...e)}}function Xs(n,...t){if(pu.logLevel<=Un.WARN){const e=t.map(pg);pu.warn(`Firestore (${zf}): ${n}`,...e)}}function pg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function nn(n="Unexpected state"){const t=`FIRESTORE (${zf}) INTERNAL ASSERTION FAILED: `+n;throw yr(t),new Error(t)}function fn(n,t){n||nn()}function qt(n,t){return n}const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends Mc{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class uo{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class XR{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class e2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(lo.UNAUTHENTICATED))}shutdown(){}}class t2{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class n2{constructor(t){this.t=t,this.currentUser=lo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const l=E=>this.i!==r?(r=this.i,e(E)):Promise.resolve();let d=new uo;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new uo,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const E=d;t.enqueueRetryable((0,A.A)(function*(){yield E.promise,yield l(i.currentUser)}))},p=E=>{kt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=E,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(E=>p(E)),setTimeout(()=>{if(!this.auth){const E=this.t.getImmediate({optional:!0});E?p(E):(kt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new uo)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(kt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fn("string"==typeof i.accessToken),new XR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return fn(null===t||"string"==typeof t),new lo(t)}}class QR{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=lo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class YR{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new QR(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(lo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ZR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=l=>{null!=l.error&&kt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const d=l.token!==this.R;return this.R=l.token,kt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(l.token):Promise.resolve()};this.o=l=>{t.enqueueRetryable(()=>i(l))};const r=l=>{kt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>r(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?r(l):kt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(fn("string"==typeof e.token),this.R=e.token,new ZR(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dz(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class ek{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=dz(40);for(let l=0;l<r.length;++l)i.length<20&&r[l]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[l]%62))}return i}}function Tn(n,t){return n<t?-1:n>t?1:0}function gu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class er{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return er.fromMillis(Date.now())}static fromDate(t){return er.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new er(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Tn(this.nanoseconds,t.nanoseconds):Tn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new gn(t)}static min(){return new gn(new er(0,0))}static max(){return new gn(new er(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class _u{constructor(t,e,i){void 0===e?e=0:e>t.length&&nn(),void 0===i?i=t.length-e:i>t.length-e&&nn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===_u.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof _u?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const l=t.get(r),d=e.get(r);if(l<d)return-1;if(l>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Qn extends _u{construct(t,e,i){return new Qn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Mt(mt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Qn(e)}static emptyPath(){return new Qn([])}}const o2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qi extends _u{construct(t,e,i){return new Qi(t,e,i)}static isValidIdentifier(t){return o2.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const l=()=>{if(0===i.length)throw new Mt(mt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let d=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new Mt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Mt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===f?(d=!d,r++):"."!==f||d?(i+=f,r++):(l(),r++)}if(l(),d)throw new Mt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qi(e)}static emptyPath(){return new Qi([])}}class Yt{constructor(t){this.path=t}static fromPath(t){return new Yt(Qn.fromString(t))}static fromName(t){return new Yt(Qn.fromString(t).popFirst(5))}static empty(){return new Yt(Qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Qn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Qn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Yt(new Qn(t.slice()))}}class Ra{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ra(gn.min(),Yt.empty(),-1)}static max(){return new Ra(gn.max(),Yt.empty(),-1)}}function LC(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Yt.comparator(n.documentKey,t.documentKey),0!==e?e:Tn(n.largestBatchId,t.largestBatchId))}const nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ik{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Pd(n){return rk.apply(this,arguments)}function rk(){return(rk=(0,A.A)(function*(n){if(n.code!==mt.FAILED_PRECONDITION||n.message!==nk)throw n;kt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ut((i,r)=>{this.nextCallback=l=>{this.wrapSuccess(t,l).next(i,r)},this.catchCallback=l=>{this.wrapFailure(e,l).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ut?e:ut.resolve(e)}catch(e){return ut.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.reject(e)}static resolve(t){return new ut((e,i)=>{e(t)})}static reject(t){return new ut((e,i)=>{i(t)})}static waitFor(t){return new ut((e,i)=>{let r=0,l=0,d=!1;t.forEach(f=>{++r,f.next(()=>{++l,d&&l===r&&e()},p=>i(p))}),d=!0,l===r&&e()})}static or(t){let e=ut.resolve(!1);for(const i of t)e=e.next(r=>r?ut.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,l)=>{i.push(e.call(this,r,l))}),this.waitFor(i)}static mapArray(t,e){return new ut((i,r)=>{const l=t.length,d=new Array(l);let f=0;for(let p=0;p<l;p++){const E=p;e(t[E]).next(x=>{d[E]=x,++f,f===l&&i(d)},x=>r(x))}})}static doWhile(t,e){return new ut((i,r)=>{const l=()=>{!0===t()?e().next(()=>{l()},r):i()};l()})}}function Nd(n){return"IndexedDbTransactionError"===n.name}let Qs=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function Gf(n){return null==n}function db(n){return 0===n&&1/n==-1/0}function gz(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Wf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function vz(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class tr{constructor(t,e){this.comparator=t,this.root=e||as.EMPTY}insert(t,e){return new tr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,as.BLACK,null,null))}remove(t){return new tr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,as.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ck(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ck(this.root,t,this.comparator,!1)}getReverseIterator(){return new ck(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ck(this.root,t,this.comparator,!0)}}class ck{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,e&&r&&(l*=-1),l<0)t=this.isReverse?t.left:t.right;else{if(0===l){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class as{constructor(t,e,i,r,l){this.key=t,this.value=e,this.color=i??as.RED,this.left=r??as.EMPTY,this.right=l??as.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,l){return new as(t??this.key,e??this.value,i??this.color,r??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const l=i(t,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===l?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return as.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return as.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,as.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,as.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const t=this.left.check();if(t!==this.right.check())throw nn();return t+(this.isRed()?0:1)}}as.EMPTY=null,as.RED=!0,as.BLACK=!1,as.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(t,e,i,r,l){return this}insert(t,e,i){return new as(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wi{constructor(t){this.comparator=t,this.data=new tr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new yz(this.data.getIterator())}getIteratorFrom(t){return new yz(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Wi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(0!==this.comparator(r,l))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Wi(this.comparator);return e.data=t,e}}class yz{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ka{constructor(t){this.fields=t,t.sort(Qi.comparator)}static empty(){return new ka([])}unionWith(t){let e=new Wi(Qi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ka(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return gu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class bz extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class To{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new bz("Invalid base64 string: "+l):l}}(t);return new To(e)}static fromUint8Array(t){const e=function(r){let l="";for(let d=0;d<r.length;++d)l+=String.fromCharCode(r[d]);return l}(t);return new To(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Tn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}To.EMPTY_BYTE_STRING=new To("");const Iq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vd(n){if(fn(!!n),"string"==typeof n){let t=0;const e=Iq.exec(n);if(fn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Vr(n.seconds),nanos:Vr(n.nanos)}}function Vr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bd(n){return"string"==typeof n?To.fromBase64String(n):To.fromUint8Array(n)}function lk(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function uk(n){const t=n.mapValue.fields.__previous_value__;return lk(t)?uk(t):t}function jC(n){const t=Vd(n.mapValue.fields.__local_write_time__.timestampValue);return new er(t.seconds,t.nanos)}class Cq{constructor(t,e,i,r,l,d,f,p,E){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=E}}class vg{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new vg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof vg&&t.projectId===this.projectId&&t.database===this.database}}const Kf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lk(n)?4:Cz(n)?9007199254740991:10:nn()}function vu(n,t){if(n===t)return!0;const e=qf(n);if(e!==qf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return jC(n).isEqual(jC(t));case 3:return function(r,l){if("string"==typeof r.timestampValue&&"string"==typeof l.timestampValue&&r.timestampValue.length===l.timestampValue.length)return r.timestampValue===l.timestampValue;const d=Vd(r.timestampValue),f=Vd(l.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return l=t,Bd(n.bytesValue).isEqual(Bd(l.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,l){return Vr(r.geoPointValue.latitude)===Vr(l.geoPointValue.latitude)&&Vr(r.geoPointValue.longitude)===Vr(l.geoPointValue.longitude)}(n,t);case 2:return function(r,l){if("integerValue"in r&&"integerValue"in l)return Vr(r.integerValue)===Vr(l.integerValue);if("doubleValue"in r&&"doubleValue"in l){const d=Vr(r.doubleValue),f=Vr(l.doubleValue);return d===f?db(d)===db(f):isNaN(d)&&isNaN(f)}return!1}(n,t);case 9:return gu(n.arrayValue.values||[],t.arrayValue.values||[],vu);case 10:return function(r,l){const d=r.mapValue.fields||{},f=l.mapValue.fields||{};if(gz(d)!==gz(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(void 0===f[p]||!vu(d[p],f[p])))return!1;return!0}(n,t);default:return nn()}var l}function $C(n,t){return void 0!==(n.values||[]).find(e=>vu(e,t))}function Xf(n,t){if(n===t)return 0;const e=qf(n),i=qf(t);if(e!==i)return Tn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Tn(n.booleanValue,t.booleanValue);case 2:return function(l,d){const f=Vr(l.integerValue||l.doubleValue),p=Vr(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,t);case 3:return wz(n.timestampValue,t.timestampValue);case 4:return wz(jC(n),jC(t));case 5:return Tn(n.stringValue,t.stringValue);case 6:return function(l,d){const f=Bd(l),p=Bd(d);return f.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(l,d){const f=l.split("/"),p=d.split("/");for(let E=0;E<f.length&&E<p.length;E++){const x=Tn(f[E],p[E]);if(0!==x)return x}return Tn(f.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(l,d){const f=Tn(Vr(l.latitude),Vr(d.latitude));return 0!==f?f:Tn(Vr(l.longitude),Vr(d.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(l,d){const f=l.values||[],p=d.values||[];for(let E=0;E<f.length&&E<p.length;++E){const x=Xf(f[E],p[E]);if(x)return x}return Tn(f.length,p.length)}(n.arrayValue,t.arrayValue);case 10:return function(l,d){if(l===Kf.mapValue&&d===Kf.mapValue)return 0;if(l===Kf.mapValue)return 1;if(d===Kf.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),E=d.fields||{},x=Object.keys(E);p.sort(),x.sort();for(let R=0;R<p.length&&R<x.length;++R){const U=Tn(p[R],x[R]);if(0!==U)return U;const K=Xf(f[p[R]],E[x[R]]);if(0!==K)return K}return Tn(p.length,x.length)}(n.mapValue,t.mapValue);default:throw nn()}}function wz(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Tn(n,t);const e=Vd(n),i=Vd(t),r=Tn(e.seconds,i.seconds);return 0!==r?r:Tn(e.nanos,i.nanos)}function fb(n){return d2(n)}function d2(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Vd(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bd(n.bytesValue).toBase64():"referenceValue"in n?Yt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const l of e.values||[])r?r=!1:i+=",",i+=d2(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",l=!0;for(const d of i)l?l=!1:r+=",",r+=`${d}:${d2(e.fields[d])}`;return r+"}"}(n.mapValue):nn()}function yg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function h2(n){return!!n&&"integerValue"in n}function HC(n){return!!n&&"arrayValue"in n}function Ez(n){return!!n&&"nullValue"in n}function Iz(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function fk(n){return!!n&&"mapValue"in n}function zC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Wf(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=zC(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=zC(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Cz(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class cs{constructor(t){this.value=t}static empty(){return new cs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!fk(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=zC(e)}setAll(t){let e=Qi.emptyPath(),i={},r=[];t.forEach((d,f)=>{if(!e.isImmediateParentOf(f)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=f.popLast()}d?i[f.lastSegment()]=zC(d):r.push(f.lastSegment())});const l=this.getFieldsMap(e);this.applyChanges(l,i,r)}delete(t){const e=this.field(t.popLast());fk(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return vu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];fk(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Wf(e,(r,l)=>t[r]=l);for(const r of i)delete t[r]}clone(){return new cs(zC(this.value))}}function xz(n){const t=[];return Wf(n.fields,(e,i)=>{const r=new Qi([e]);if(fk(i)){const l=xz(i.mapValue).fields;if(0===l.length)t.push(r);else for(const d of l)t.push(r.child(d))}else t.push(r)}),new ka(t)}class lr{constructor(t,e,i,r,l,d,f){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=l,this.data=d,this.documentState=f}static newInvalidDocument(t){return new lr(t,0,gn.min(),gn.min(),gn.min(),cs.empty(),0)}static newFoundDocument(t,e,i,r){return new lr(t,1,e,gn.min(),i,r,0)}static newNoDocument(t,e){return new lr(t,2,e,gn.min(),gn.min(),cs.empty(),0)}static newUnknownDocument(t,e){return new lr(t,3,e,gn.min(),gn.min(),cs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(gn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof lr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qf{constructor(t,e){this.position=t,this.inclusive=e}}function Az(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const l=t[r],d=n.position[r];if(i=l.field.isKeyField()?Yt.comparator(Yt.fromName(d.referenceValue),e.key):Xf(d,e.data.field(l.field)),"desc"===l.dir&&(i*=-1),0!==i)break}return i}function Sz(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!vu(n.position[e],t.position[e]))return!1;return!0}class GC{constructor(t,e="asc"){this.field=t,this.dir=e}}function xq(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Mz{}class ii extends Mz{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new Aq(t,e,i):"array-contains"===e?new Rq(t,i):"in"===e?new Fz(t,i):"not-in"===e?new kq(t,i):"array-contains-any"===e?new Oq(t,i):new ii(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new Sq(t,i):new Mq(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Xf(e,this.value)):null!==e&&qf(this.value)===qf(e)&&this.matchesComparison(Xf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends Mz{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Li(t,e)}matches(t){return mb(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mb(n){return"and"===n.op}function m2(n){return function Rz(n){for(const t of n.filters)if(t instanceof Li)return!1;return!0}(n)&&mb(n)}function p2(n){if(n instanceof ii)return n.field.canonicalString()+n.op.toString()+fb(n.value);if(m2(n))return n.filters.map(t=>p2(t)).join(",");{const t=n.filters.map(e=>p2(e)).join(",");return`${n.op}(${t})`}}function kz(n,t){return n instanceof ii?(i=n,(r=t)instanceof ii&&i.op===r.op&&i.field.isEqual(r.field)&&vu(i.value,r.value)):n instanceof Li?function(i,r){return r instanceof Li&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((l,d,f)=>l&&kz(d,r.filters[f]),!0)}(n,t):void nn();var i,r}function Pz(n){return n instanceof ii?`${(e=n).field.canonicalString()} ${e.op} ${fb(e.value)}`:n instanceof Li?function(e){return e.op.toString()+" {"+e.getFilters().map(Pz).join(" ,")+"}"}(n):"Filter";var e}class Aq extends ii{constructor(t,e,i){super(t,e,i),this.key=Yt.fromName(i.referenceValue)}matches(t){const e=Yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class Sq extends ii{constructor(t,e){super(t,"in",e),this.keys=Nz(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Mq extends ii{constructor(t,e){super(t,"not-in",e),this.keys=Nz(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Nz(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Yt.fromName(i.referenceValue))}class Rq extends ii{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return HC(e)&&$C(e.arrayValue,this.value)}}class Fz extends ii{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&$C(this.value.arrayValue,e)}}class kq extends ii{constructor(t,e){super(t,"not-in",e)}matches(t){if($C(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!$C(this.value.arrayValue,e)}}class Oq extends ii{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!HC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>$C(this.value.arrayValue,i))}}class Pq{constructor(t,e=null,i=[],r=[],l=null,d=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=l,this.startAt=d,this.endAt=f,this.ue=null}}function g2(n,t=null,e=[],i=[],r=null,l=null,d=null){return new Pq(n,t,e,i,r,l,d)}function bg(n){const t=qt(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>p2(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(l=i).field.canonicalString()+l.dir;var l}).join(","),Gf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>fb(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>fb(i)).join(",")),t.ue=e}return t.ue}function WC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!xq(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!kz(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!Sz(n.startAt,t.startAt)&&Sz(n.endAt,t.endAt)}function mk(n){return Yt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Ud{constructor(t,e=null,i=[],r=[],l=null,d="F",f=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null}}function pb(n){return new Ud(n)}function Uz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function _2(n){return null!==n.collectionGroup}function gb(n){const t=qt(n);if(null===t.ce){t.ce=[];const e=new Set;for(const l of t.explicitOrderBy)t.ce.push(l),e.add(l.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new Wi(Qi.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(E=>{E.isInequality()&&(f=f.add(E.field))})}),f})(t).forEach(l=>{e.has(l.canonicalString())||l.isKeyField()||t.ce.push(new GC(l,i))}),e.has(Qi.keyField().canonicalString())||t.ce.push(new GC(Qi.keyField(),i))}return t.ce}function As(n){const t=qt(n);return t.le||(t.le=function $z(n,t){if("F"===n.limitType)return g2(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new GC(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Qf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Qf(n.startAt.position,n.startAt.inclusive):null;return g2(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,gb(n))),t.le}function v2(n,t){const e=n.filters.concat([t]);return new Ud(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function gk(n,t,e){return new Ud(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function KC(n,t){return WC(As(n),As(t))&&n.limitType===t.limitType}function Hz(n){return`${bg(As(n))}|lt:${n.limitType}`}function _b(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>Pz(r)).join(", ")}]`),Gf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(d=r).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>fb(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>fb(r)).join(",")),`Target(${i})`}(As(n))}; limitType=${n.limitType})`}function qC(n,t){return t.isFoundDocument()&&function(i,r){const l=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Yt.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,t)&&function(i,r){for(const l of gb(i))if(!l.field.isKeyField()&&null===r.data.field(l.field))return!1;return!0}(n,t)&&function(i,r){for(const l of i.filters)if(!l.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(d,f,p){const E=Az(d,f,p);return d.inclusive?E<=0:E<0}(i.startAt,gb(i),r)||i.endAt&&!function(d,f,p){const E=Az(d,f,p);return d.inclusive?E>=0:E>0}(i.endAt,gb(i),r)));var i,r}function Gz(n){return(t,e)=>{let i=!1;for(const r of gb(n)){const l=Nq(r,t,e);if(0!==l)return l;i=i||r.field.isKeyField()}return 0}}function Nq(n,t,e){const i=n.field.isKeyField()?Yt.comparator(t.key,e.key):function(l,d,f){const p=d.data.field(l),E=f.data.field(l);return null!==p&&null!==E?Xf(p,E):nn()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return nn()}}class jd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,l]of i)if(this.equalsFn(r,t))return l}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return void(r[l]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Wf(this.inner,(e,i)=>{for(const[r,l]of i)t(r,l)})}isEmpty(){return vz(this.inner)}size(){return this.innerSize}}const Fq=new tr(Yt.comparator);function Oa(){return Fq}const Wz=new tr(Yt.comparator);function XC(...n){let t=Wz;for(const e of n)t=t.insert(e.key,e);return t}function Kz(n){let t=Wz;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function yu(){return QC()}function qz(){return QC()}function QC(){return new jd(n=>n.toString(),(n,t)=>n.isEqual(t))}const Lq=new tr(Yt.comparator),Vq=new Wi(Yt.comparator);function $n(...n){let t=Vq;for(const e of n)t=t.add(e);return t}const Bq=new Wi(Tn);function Xz(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:db(t)?"-0":t}}function Qz(n){return{integerValue:""+n}}function Yz(n,t){return function ak(n){return"number"==typeof n&&Number.isInteger(n)&&!db(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?Qz(t):Xz(n,t)}class _k{constructor(){this._=void 0}}function Uq(n,t,e){return n instanceof vb?function(r,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return l&&lk(l)&&(l=uk(l)),l&&(d.fields.__previous_value__=l),{mapValue:d}}(e,t):n instanceof wg?Jz(n,t):n instanceof Eg?e5(n,t):function(r,l){const d=Zz(r,l),f=t5(d)+t5(r.Pe);return h2(d)&&h2(r.Pe)?Qz(f):Xz(r.serializer,f)}(n,t)}function jq(n,t,e){return n instanceof wg?Jz(n,t):n instanceof Eg?e5(n,t):e}function Zz(n,t){return n instanceof yb?h2(i=t)||(l=i)&&"doubleValue"in l?t:{integerValue:0}:null;var i,l}class vb extends _k{}class wg extends _k{constructor(t){super(),this.elements=t}}function Jz(n,t){const e=n5(t);for(const i of n.elements)e.some(r=>vu(r,i))||e.push(i);return{arrayValue:{values:e}}}class Eg extends _k{constructor(t){super(),this.elements=t}}function e5(n,t){let e=n5(t);for(const i of n.elements)e=e.filter(r=>!vu(r,i));return{arrayValue:{values:e}}}class yb extends _k{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function t5(n){return Vr(n.integerValue||n.doubleValue)}function n5(n){return HC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class YC{constructor(t,e){this.field=t,this.transform=e}}class Hq{constructor(t,e){this.version=t,this.transformResults=e}}class br{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new br}static exists(t){return new br(void 0,t)}static updateTime(t){return new br(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function vk(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class yk{}function i5(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new wb(n.key,br.none()):new bb(n.key,n.data,br.none());{const e=n.data,i=cs.empty();let r=new Wi(Qi.comparator);for(let l of t.fields)if(!r.has(l)){let d=e.field(l);null===d&&l.length>1&&(l=l.popLast(),d=e.field(l)),null===d?i.delete(l):i.set(l,d),r=r.add(l)}return new $d(n.key,i,new ka(r.toArray()),br.none())}}function zq(n,t,e){n instanceof bb?function(r,l,d){const f=r.value.clone(),p=s5(r.fieldTransforms,l,d.transformResults);f.setAll(p),l.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(n,t,e):n instanceof $d?function(r,l,d){if(!vk(r.precondition,l))return void l.convertToUnknownDocument(d.version);const f=s5(r.fieldTransforms,l,d.transformResults),p=l.data;p.setAll(o5(r)),p.setAll(f),l.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function ZC(n,t,e,i){return n instanceof bb?function(l,d,f,p){if(!vk(l.precondition,d))return f;const E=l.value.clone(),x=a5(l.fieldTransforms,p,d);return E.setAll(x),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),null}(n,t,e,i):n instanceof $d?function(l,d,f,p){if(!vk(l.precondition,d))return f;const E=a5(l.fieldTransforms,p,d),x=d.data;return x.setAll(o5(l)),x.setAll(E),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),null===f?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(R=>R.field))}(n,t,e,i):(f=e,vk(n.precondition,d=t)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f);var d,f}function Gq(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),l=Zz(i.transform,r||null);null!=l&&(null===e&&(e=cs.empty()),e.set(i.field,l))}return e||null}function r5(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&gu(i,r,(l,d)=>function $q(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof wg&&r instanceof wg||i instanceof Eg&&r instanceof Eg?gu(i.elements,r.elements,vu):i instanceof yb&&r instanceof yb?vu(i.Pe,r.Pe):i instanceof vb&&r instanceof vb);var i,r}(l,d))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class bb extends yk{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $d extends yk{constructor(t,e,i,r,l=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function o5(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function s5(n,t,e){const i=new Map;fn(n.length===e.length);for(let r=0;r<e.length;r++){const l=n[r],d=l.transform,f=t.data.field(l.field);i.set(l.field,jq(d,f,e[r]))}return i}function a5(n,t,e){const i=new Map;for(const r of n){const l=r.transform,d=e.data.field(r.field);i.set(r.field,Uq(l,d,t))}return i}class wb extends yk{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class b2 extends yk{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class w2{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(t.key)&&zq(l,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=ZC(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=ZC(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=qz();return this.mutations.forEach(r=>{const l=t.get(r.key),d=l.overlayedDocument;let f=this.applyToLocalView(d,l.mutatedFields);f=e.has(r.key)?null:f;const p=i5(d,f);null!==p&&i.set(r.key,p),d.isValidDocument()||d.convertToNoDocument(gn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),$n())}isEqual(t){return this.batchId===t.batchId&&gu(this.mutations,t.mutations,(e,i)=>r5(e,i))&&gu(this.baseMutations,t.baseMutations,(e,i)=>r5(e,i))}}class E2{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){fn(t.mutations.length===i.length);let r=function(){return Lq}();const l=t.mutations;for(let d=0;d<l.length;d++)r=r.insert(l[d].key,i[d].version);return new E2(t,e,i,r)}}class I2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Wq{constructor(t,e){this.count=t,this.unchangedNames=e}}var ho,di;function l5(n){switch(n){default:return nn();case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0}}function u5(n){if(void 0===n)return yr("GRPC error has no .code"),mt.UNKNOWN;switch(n){case ho.OK:return mt.OK;case ho.CANCELLED:return mt.CANCELLED;case ho.UNKNOWN:return mt.UNKNOWN;case ho.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case ho.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case ho.INTERNAL:return mt.INTERNAL;case ho.UNAVAILABLE:return mt.UNAVAILABLE;case ho.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case ho.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case ho.NOT_FOUND:return mt.NOT_FOUND;case ho.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case ho.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case ho.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case ho.ABORTED:return mt.ABORTED;case ho.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case ho.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case ho.DATA_LOSS:return mt.DATA_LOSS;default:return nn()}}(di=ho||(ho={}))[di.OK=0]="OK",di[di.CANCELLED=1]="CANCELLED",di[di.UNKNOWN=2]="UNKNOWN",di[di.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",di[di.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",di[di.NOT_FOUND=5]="NOT_FOUND",di[di.ALREADY_EXISTS=6]="ALREADY_EXISTS",di[di.PERMISSION_DENIED=7]="PERMISSION_DENIED",di[di.UNAUTHENTICATED=16]="UNAUTHENTICATED",di[di.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",di[di.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",di[di.ABORTED=10]="ABORTED",di[di.OUT_OF_RANGE=11]="OUT_OF_RANGE",di[di.UNIMPLEMENTED=12]="UNIMPLEMENTED",di[di.INTERNAL=13]="INTERNAL",di[di.UNAVAILABLE=14]="UNAVAILABLE",di[di.DATA_LOSS=15]="DATA_LOSS";const Kq=new Hf([4294967295,4294967295],0);function h5(n){const t=function d5(){return new TextEncoder}().encode(n),e=new qV;return e.update(t),new Uint8Array(e.digest())}function f5(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),l=t.getUint32(12,!0);return[new Hf([e,i],0),new Hf([r,l],0)]}class C2{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new JC(`Invalid padding: ${e}`);if(i<0)throw new JC(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new JC(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new JC(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=Hf.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(Hf.fromNumber(i)));return 1===r.compare(Kq)&&(r=new Hf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=h5(t),[i,r]=f5(e);for(let l=0;l<this.hashCount;l++){const d=this.Ee(i,r,l);if(!this.de(d))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,l=new Uint8Array(Math.ceil(t/8)),d=new C2(l,r,e);return i.forEach(f=>d.insert(f)),d}insert(t){if(0===this.Ie)return;const e=h5(t),[i,r]=f5(e);for(let l=0;l<this.hashCount;l++){const d=this.Ee(i,r,l);this.Ae(d)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class JC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class eD{constructor(t,e,i,r,l){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,tD.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new eD(gn.min(),r,new tr(Tn),Oa(),$n())}}class tD{constructor(t,e,i,r,l){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new tD(i,e,$n(),$n(),$n())}}class wk{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}}class m5{constructor(t,e){this.targetId=t,this.me=e}}class p5{constructor(t,e,i=To.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class g5{constructor(){this.fe=0,this.ge=v5(),this.pe=To.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=$n(),e=$n(),i=$n();return this.ge.forEach((r,l)=>{switch(l){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:nn()}}),new tD(this.pe,this.ye,t,e,i)}ve(){this.we=!1,this.ge=v5()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,fn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class qq{constructor(t){this.Le=t,this.Be=new Map,this.ke=Oa(),this.qe=_5(),this.Qe=new tr(Tn)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:nn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){const e=t.targetId,i=t.me.count,r=this.Je(e);if(r){const l=r.target;if(mk(l))if(0===i){const d=new Yt(l.path);this.Ue(e,d,lr.newNoDocument(d,gn.min()))}else fn(1===i);else{const d=this.Ye(e);if(d!==i){const f=this.Ze(t),p=f?this.Xe(f,t,d):1;0!==p&&(this.je(e),this.Qe=this.Qe.insert(e,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:l=0}=e;let d,f;try{d=Bd(i).toUint8Array()}catch(p){if(p instanceof bz)return Xs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new C2(d,r,l)}catch(p){return Xs(p instanceof JC?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return 0===f.Ie?null:f}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(l=>{const d=this.Le.tt(),f=`projects/${d.projectId}/databases/${d.database}/documents/${l.path.canonicalString()}`;t.mightContain(f)||(this.Ue(e,l,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((l,d)=>{const f=this.Je(d);if(f){if(l.current&&mk(f.target)){const p=new Yt(f.target.path);null!==this.ke.get(p)||this.it(d,p)||this.Ue(d,p,lr.newNoDocument(p,t))}l.be&&(e.set(d,l.Ce()),l.ve())}});let i=$n();this.qe.forEach((l,d)=>{let f=!0;d.forEachWhile(p=>{const E=this.Je(p);return!E||"TargetPurposeLimboResolution"===E.purpose||(f=!1,!1)}),f&&(i=i.add(l))}),this.ke.forEach((l,d)=>d.setReadTime(t));const r=new eD(t,e,this.Qe,this.ke,i);return this.ke=Oa(),this.qe=_5(),this.Qe=new tr(Tn),r}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new g5,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Wi(Tn),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||kt("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new g5),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function _5(){return new tr(Yt.comparator)}function v5(){return new tr(Yt.comparator)}const Xq={asc:"ASCENDING",desc:"DESCENDING"},Qq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yq={and:"AND",or:"OR"};class Zq{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function D2(n,t){return n.useProto3Json||Gf(t)?t:{value:t}}function Eb(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function y5(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Jq(n,t){return Eb(n,t.toTimestamp())}function Yr(n){return fn(!!n),gn.fromTimestamp(function(e){const i=Vd(e);return new er(i.seconds,i.nanos)}(n))}function T2(n,t){return x2(n,t).canonicalString()}function x2(n,t){const e=(r=n,new Qn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function b5(n){const t=Qn.fromString(n);return fn(R5(t)),t}function nD(n,t){return T2(n.databaseId,t.path)}function bu(n,t){const e=b5(t);if(e.get(1)!==n.databaseId.projectId)throw new Mt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Mt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Yt(I5(e))}function w5(n,t){return T2(n.databaseId,t)}function A2(n){return new Qn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function I5(n){return fn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function C5(n,t,e){return{name:nD(n,t),fields:e.value.mapValue.fields}}function iD(n,t){let e;if(t instanceof bb)e={update:C5(n,t.key,t.value)};else if(t instanceof wb)e={delete:nD(n,t.key)};else if(t instanceof $d)e={update:C5(n,t.key,t.data),updateMask:a7(t.fieldMask)};else{if(!(t instanceof b2))return nn();e={verify:nD(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(l,d){const f=d.transform;if(f instanceof vb)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof wg)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Eg)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof yb)return{fieldPath:d.field.canonicalString(),increment:f.Pe};throw nn()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(l=t.precondition).updateTime?{updateTime:Jq(n,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:nn()),e;var l}function T5(n,t){return{documents:[w5(n,t.path)]}}function Ek(n,t){const e={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=w5(n,r);const l=function(E){if(0!==E.length)return M5(Li.create(E,"and"))}(t.filters);l&&(e.structuredQuery.where=l);const d=function(E){if(0!==E.length)return E.map(x=>{return{field:Yf((U=x).field),direction:r7(U.dir)};var U})}(t.orderBy);d&&(e.structuredQuery.orderBy=d);const f=D2(n,t.limit);return null!==f&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt={before:(E=t.startAt).inclusive,values:E.position}),t.endAt&&(e.structuredQuery.endAt=function(E){return{before:!E.inclusive,values:E.position}}(t.endAt)),{_t:e,parent:r};var E}function A5(n){let t=function E5(n){const t=b5(n);return 4===t.length?Qn.emptyPath():I5(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){fn(1===i);const x=e.from[0];x.allDescendants?r=x.collectionId:t=t.child(x.collectionId)}let l=[];e.where&&(l=function(R){const U=S5(R);return U instanceof Li&&m2(U)?U.getFilters():[U]}(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(U=>{return new GC(Ib((me=U).field),function(he){switch(he){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(me.direction));var me}));let f=null;e.limit&&(f=function(R){let U;return U="object"==typeof R?R.value:R,Gf(U)?null:U}(e.limit));let p=null;var R;e.startAt&&(p=new Qf((R=e.startAt).values||[],!!R.before));let E=null;return e.endAt&&(E=function(R){return new Qf(R.values||[],!R.before)}(e.endAt)),function Bz(n,t,e,i,r,l,d,f){return new Ud(n,t,e,i,r,l,d,f)}(t,r,d,l,f,"F",p,E)}function S5(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Ib(e.unaryFilter.field);return ii.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ib(e.unaryFilter.field);return ii.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ib(e.unaryFilter.field);return ii.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ib(e.unaryFilter.field);return ii.create(d,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}(n):void 0!==n.fieldFilter?ii.create(Ib((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Li.create(e.compositeFilter.filters.map(i=>S5(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return nn()}}(e.compositeFilter.op))}(n):nn();var e}function r7(n){return Xq[n]}function o7(n){return Qq[n]}function s7(n){return Yq[n]}function Yf(n){return{fieldPath:n.canonicalString()}}function Ib(n){return Qi.fromServerFormat(n.fieldPath)}function M5(n){return n instanceof ii?function(e){if("=="===e.op){if(Iz(e.value))return{unaryFilter:{field:Yf(e.field),op:"IS_NAN"}};if(Ez(e.value))return{unaryFilter:{field:Yf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Iz(e.value))return{unaryFilter:{field:Yf(e.field),op:"IS_NOT_NAN"}};if(Ez(e.value))return{unaryFilter:{field:Yf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Yf(e.field),op:o7(e.op),value:e.value}}}(n):n instanceof Li?function(e){const i=e.getFilters().map(r=>M5(r));return 1===i.length?i[0]:{compositeFilter:{op:s7(e.op),filters:i}}}(n):nn()}function a7(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function R5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Hd{constructor(t,e,i,r,l=gn.min(),d=gn.min(),f=To.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(t){return new Hd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Hd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class k5{constructor(t){this.ct=t}}function M2(n){const t=A5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?gk(t,t.limit,"L"):t}class Tg{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(Vr(t.integerValue));else if("doubleValue"in t){const i=Vr(t.doubleValue);isNaN(i)?this.Et(e,13):(this.Et(e,15),db(i)?e.dt(0):e.dt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Et(e,20),"string"==typeof i&&(i=Vd(i)),e.At(`${i.seconds||""}`),e.dt(i.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Bd(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Et(e,45),e.dt(i.latitude||0),e.dt(i.longitude||0)}else"mapValue"in t?Cz(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):nn()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const i=t.fields||{};this.Et(e,55);for(const r of Object.keys(i))this.Rt(r,e),this.It(i[r],e)}wt(t,e){const i=t.values||[];this.Et(e,50);for(const r of i)this.It(r,e)}gt(t,e){this.Et(e,37),Yt.fromName(t).path.forEach(i=>{this.Et(e,60),this.St(i,e)})}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}Tg.bt=new Tg;class p7{constructor(){this._n=new F2}addToCollectionParentIndex(t,e){return this._n.add(e),ut.resolve()}getCollectionParents(t,e){return ut.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return ut.resolve()}deleteFieldIndex(t,e){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,e){return ut.resolve()}getDocumentsMatchingTarget(t,e){return ut.resolve(null)}getIndexType(t,e){return ut.resolve(0)}getFieldIndexes(t,e){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,e){return ut.resolve(Ra.min())}getMinOffsetFromCollectionGroup(t,e){return ut.resolve(Ra.min())}updateCollectionGroup(t,e,i){return ut.resolve()}updateIndexEntries(t,e){return ut.resolve()}}class F2{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Wi(Qn.comparator),l=!r.has(i);return this.index[e]=r.add(i),l}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Wi(Qn.comparator)).toArray()}}new Uint8Array(0);class Ss{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ss(t,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ss.DEFAULT_COLLECTION_PERCENTILE=10,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ss.DEFAULT=new Ss(41943040,Ss.DEFAULT_COLLECTION_PERCENTILE,Ss.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ss.DISABLED=new Ss(-1,0,0);class Ag{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Ag(0)}static Ln(){return new Ag(-1)}}class tG{constructor(){this.changes=new jd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,lr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ut.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class I7{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class sG{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&ZC(i.mutation,r,ka.empty(),er.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,$n()).next(()=>i))}getLocalViewOfDocuments(t,e,i=$n()){const r=yu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(l=>{let d=XC();return l.forEach((f,p)=>{d=d.insert(f,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const i=yu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,$n()))}populateOverlays(t,e,i){const r=[];return i.forEach(l=>{e.has(l)||r.push(l)}),this.documentOverlayCache.getOverlays(t,r).next(l=>{l.forEach((d,f)=>{e.set(d,f)})})}computeViews(t,e,i,r){let l=Oa();const d=QC(),f=QC();return e.forEach((p,E)=>{const x=i.get(E.key);r.has(E.key)&&(void 0===x||x.mutation instanceof $d)?l=l.insert(E.key,E):void 0!==x?(d.set(E.key,x.mutation.getFieldMask()),ZC(x.mutation,E,x.mutation.getFieldMask(),er.now())):d.set(E.key,ka.empty())}),this.recalculateAndSaveOverlays(t,l).next(p=>(p.forEach((E,x)=>d.set(E,x)),e.forEach((E,x)=>{var R;return f.set(E,new I7(x,null!==(R=d.get(E))&&void 0!==R?R:null))}),f))}recalculateAndSaveOverlays(t,e){const i=QC();let r=new tr((d,f)=>d-f),l=$n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const f of d)f.keys().forEach(p=>{const E=e.get(p);if(null===E)return;let x=i.get(p)||ka.empty();x=f.applyToLocalView(E,x),i.set(p,x);const R=(r.get(f.batchId)||$n()).add(p);r=r.insert(f.batchId,R)})}).next(()=>{const d=[],f=r.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),E=p.key,x=p.value,R=qz();x.forEach(U=>{if(!l.has(U)){const K=i5(e.get(U),i.get(U));null!==K&&R.set(U,K),l=l.add(U)}}),d.push(this.documentOverlayCache.saveOverlays(t,E,R))}return ut.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return Yt.isDocumentKey((d=e).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):_2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var d}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(l=>{const d=r-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-l.size):ut.resolve(yu());let f=-1,p=l;return d.next(E=>ut.forEach(E,(x,R)=>(f<R.largestBatchId&&(f=R.largestBatchId),l.get(x)?ut.resolve():this.remoteDocumentCache.getEntry(t,x).next(U=>{p=p.insert(x,U)}))).next(()=>this.populateOverlays(t,E,l)).next(()=>this.computeViews(t,p,E,$n())).next(x=>({batchId:f,changes:Kz(x)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Yt(e)).next(i=>{let r=XC();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const l=e.collectionGroup;let d=XC();return this.indexManager.getCollectionParents(t,l).next(f=>ut.forEach(f,p=>{const E=(R=e,U=p.child(l),new Ud(U,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt));var R,U;return this.getDocumentsMatchingCollectionQuery(t,E,i,r).next(x=>{x.forEach((R,U)=>{d=d.insert(R,U)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,e,i,r){let l;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(d=>(l=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,l,r))).next(d=>{l.forEach((p,E)=>{const x=E.getKey();null===d.get(x)&&(d=d.insert(x,lr.newInvalidDocument(x)))});let f=XC();return d.forEach((p,E)=>{const x=l.get(p);void 0!==x&&ZC(x.mutation,E,ka.empty(),er.now()),qC(e,E)&&(f=f.insert(p,E))}),f})}}class C7{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return ut.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,{id:(r=e).id,version:r.version,createTime:Yr(r.createTime)}),ut.resolve();var r}getNamedQuery(t,e){return ut.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,{name:(r=e).name,query:M2(r.bundledQuery),readTime:Yr(r.readTime)}),ut.resolve();var r}}class D7{constructor(){this.overlays=new tr(Yt.comparator),this.hr=new Map}getOverlay(t,e){return ut.resolve(this.overlays.get(e))}getOverlays(t,e){const i=yu();return ut.forEach(e,r=>this.getOverlay(t,r).next(l=>{null!==l&&i.set(r,l)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,l)=>{this.ht(t,e,l)}),ut.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.hr.get(i);return void 0!==r&&(r.forEach(l=>this.overlays=this.overlays.remove(l)),this.hr.delete(i)),ut.resolve()}getOverlaysForCollection(t,e,i){const r=yu(),l=e.length+1,d=new Yt(e.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,E=p.getKey();if(!e.isPrefixOf(E.path))break;E.path.length===l&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ut.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let l=new tr((E,x)=>E-x);const d=this.overlays.getIterator();for(;d.hasNext();){const E=d.getNext().value;if(E.getKey().getCollectionGroup()===e&&E.largestBatchId>i){let x=l.get(E.largestBatchId);null===x&&(x=yu(),l=l.insert(E.largestBatchId,x)),x.set(E.getKey(),E)}}const f=yu(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((E,x)=>f.set(E,x)),!(f.size()>=r)););return ut.resolve(f)}ht(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const d=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new I2(e,i));let l=this.hr.get(e);void 0===l&&(l=$n(),this.hr.set(e,l)),this.hr.set(e,l.add(i.key))}}class L2{constructor(){this.Pr=new Wi(Ho.Ir),this.Tr=new Wi(Ho.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const i=new Ho(t,e);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ar(new Ho(t,e))}Rr(t,e){t.forEach(i=>this.removeReference(i,e))}Vr(t){const e=new Yt(new Qn([])),i=new Ho(e,t),r=new Ho(e,t+1),l=[];return this.Tr.forEachInRange([i,r],d=>{this.Ar(d),l.push(d.key)}),l}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new Yt(new Qn([])),i=new Ho(e,t),r=new Ho(e,t+1);let l=$n();return this.Tr.forEachInRange([i,r],d=>{l=l.add(d.key)}),l}containsKey(t){const e=new Ho(t,0),i=this.Pr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ho{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return Yt.comparator(t.key,e.key)||Tn(t.pr,e.pr)}static Er(t,e){return Tn(t.pr,e.pr)||Yt.comparator(t.key,e.key)}}class T7{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new Wi(Ho.Ir)}checkEmpty(t){return ut.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const l=this.yr;this.yr++;const d=new w2(l,e,i,r);this.mutationQueue.push(d);for(const f of r)this.wr=this.wr.add(new Ho(f.key,l)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return ut.resolve(d)}lookupMutationBatch(t,e){return ut.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.br(e+1),l=r<0?0:r;return ut.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ho(e,0),r=new Ho(e,Number.POSITIVE_INFINITY),l=[];return this.wr.forEachInRange([i,r],d=>{const f=this.Sr(d.pr);l.push(f)}),ut.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Wi(Tn);return e.forEach(r=>{const l=new Ho(r,0),d=new Ho(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([l,d],f=>{i=i.add(f.pr)})}),ut.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let l=i;Yt.isDocumentKey(l)||(l=l.child(""));const d=new Ho(new Yt(l),0);let f=new Wi(Tn);return this.wr.forEachWhile(p=>{const E=p.key.path;return!!i.isPrefixOf(E)&&(E.length===r&&(f=f.add(p.pr)),!0)},d),ut.resolve(this.Dr(f))}Dr(t){const e=[];return t.forEach(i=>{const r=this.Sr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){fn(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.wr;return ut.forEach(e.mutations,r=>{const l=new Ho(r.key,e.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=i})}Mn(t){}containsKey(t,e){const i=new Ho(e,0),r=this.wr.firstAfterOrEqual(i);return ut.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ut.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class x7{constructor(t){this.vr=t,this.docs=new tr(Yt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),l=r?r.size:0,d=this.vr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:d}),this.size+=d-l,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ut.resolve(i?i.document.mutableCopy():lr.newInvalidDocument(e))}getEntries(t,e){let i=Oa();return e.forEach(r=>{const l=this.docs.get(r);i=i.insert(r,l?l.document.mutableCopy():lr.newInvalidDocument(r))}),ut.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let l=Oa();const d=e.path,f=new Yt(d.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:E,value:{document:x}}=p.getNext();if(!d.isPrefixOf(E.path))break;E.path.length>d.length+1||LC(new Ra((n=x).readTime,n.key,-1),i)<=0||(r.has(x.key)||qC(e,x))&&(l=l.insert(x.key,x.mutableCopy()))}var n;return ut.resolve(l)}getAllFromCollectionGroup(t,e,i,r){nn()}Fr(t,e){return ut.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new A7(this)}getSize(t){return ut.resolve(this.size)}}class A7 extends tG{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.ar.addEntry(t,r)):this.ar.removeEntry(i)}),ut.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class S7{constructor(t){this.persistence=t,this.Mr=new jd(e=>bg(e),WC),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new L2,this.targetCount=0,this.Lr=Ag.Nn()}forEachTarget(t,e){return this.Mr.forEach((i,r)=>e(r)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Or&&(this.Or=e),ut.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new Ag(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,ut.resolve()}updateTargetData(t,e){return this.qn(e),ut.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,e,i){let r=0;const l=[];return this.Mr.forEach((d,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.Mr.delete(d),l.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),ut.waitFor(l).next(()=>r)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,e){const i=this.Mr.get(e)||null;return ut.resolve(i)}addMatchingKeys(t,e,i){return this.Nr.dr(e,i),ut.resolve()}removeMatchingKeys(t,e,i){this.Nr.Rr(e,i);const r=this.persistence.referenceDelegate,l=[];return r&&e.forEach(d=>{l.push(r.markPotentiallyOrphaned(t,d))}),ut.waitFor(l)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),ut.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Nr.gr(e);return ut.resolve(i)}containsKey(t,e){return ut.resolve(this.Nr.containsKey(e))}}class V2{constructor(t,e){this.Br={},this.overlays={},this.kr=new Qs(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new S7(this),this.indexManager=new p7,this.remoteDocumentCache=new x7(i=>this.referenceDelegate.Kr(i)),this.serializer=new k5(e),this.$r=new C7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new D7,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new T7(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,i){kt("MemoryPersistence","Starting transaction:",t);const r=new M7(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(l=>this.referenceDelegate.Wr(r).next(()=>l)).toPromise().then(l=>(r.raiseOnCommittedEvent(),l))}Gr(t,e){return ut.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class M7 extends ik{constructor(t){super(),this.currentSequenceNumber=t}}class Mk{constructor(t){this.persistence=t,this.zr=new L2,this.jr=null}static Hr(t){return new Mk(t)}get Jr(){if(this.jr)return this.jr;throw nn()}addReference(t,e,i){return this.zr.addReference(i,e),this.Jr.delete(i.toString()),ut.resolve()}removeReference(t,e,i){return this.zr.removeReference(i,e),this.Jr.add(i.toString()),ut.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),ut.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(l=>this.Jr.add(l.toString()))}).next(()=>i.removeTargetData(t,e))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.Jr,i=>{const r=Yt.fromPath(i);return this.Yr(t,r).next(l=>{l||e.removeEntry(r,gn.min())})}).next(()=>(this.jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Yr(t,e).next(i=>{i?this.Jr.delete(e.toString()):this.Jr.add(e.toString())})}Kr(t){return 0}Yr(t,e){return ut.or([()=>ut.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class $2{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.qi=i,this.Qi=r}static Ki(t,e){let i=$n(),r=$n();for(const l of e.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new $2(t,e.fromCache,i,r)}}class k7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cG{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function dd(){return!function RF(){var n;const t=null===(n=ud())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function ok(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}(cr())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,i,r){const l={result:null};return this.ji(t,e).next(d=>{l.result=d}).next(()=>{if(!l.result)return this.Hi(t,e,r,i).next(d=>{l.result=d})}).next(()=>{if(l.result)return;const d=new k7;return this.Ji(t,e,d).next(f=>{if(l.result=f,this.Ui)return this.Yi(t,e,d,f.size)})}).next(()=>l.result)}Yi(t,e,i,r){return i.documentReadCount<this.Wi?(Rd()<=Un.DEBUG&&kt("QueryEngine","SDK will not create cache indexes for query:",_b(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ut.resolve()):(Rd()<=Un.DEBUG&&kt("QueryEngine","Query:",_b(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Rd()<=Un.DEBUG&&kt("QueryEngine","The SDK decides to create cache indexes for query:",_b(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,As(e))):ut.resolve())}ji(t,e){if(Uz(e))return ut.resolve(null);let i=As(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=gk(e,null,"F"),i=As(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(l=>{const d=$n(...l);return this.zi.getDocuments(t,d).next(f=>this.indexManager.getMinOffset(t,i).next(p=>{const E=this.Zi(e,f);return this.Xi(e,E,d,p.readTime)?this.ji(t,gk(e,null,"F")):this.es(t,E,e,p)}))})))}Hi(t,e,i,r){return Uz(e)||r.isEqual(gn.min())?ut.resolve(null):this.zi.getDocuments(t,i).next(l=>{const d=this.Zi(e,l);return this.Xi(e,d,i,r)?ut.resolve(null):(Rd()<=Un.DEBUG&&kt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),_b(e)),this.es(t,d,e,function s2(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=gn.fromTimestamp(1e9===i?new er(e+1,0):new er(e,i));return new Ra(r,Yt.empty(),t)}(r,-1)).next(f=>f))})}Zi(t,e){let i=new Wi(Gz(t));return e.forEach((r,l)=>{qC(t,l)&&(i=i.add(l))}),i}Xi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const l="F"===t.limitType?e.last():e.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}Ji(t,e,i){return Rd()<=Un.DEBUG&&kt("QueryEngine","Using full collection scan to execute query:",_b(e)),this.zi.getDocumentsMatchingQuery(t,e,Ra.min(),i)}es(t,e,i,r){return this.zi.getDocumentsMatchingQuery(t,i,r).next(l=>(e.forEach(d=>{l=l.insert(d.key,d)}),l))}}class O7{constructor(t,e,i,r){this.persistence=t,this.ts=e,this.serializer=r,this.ns=new tr(Tn),this.rs=new jd(l=>bg(l),WC),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(i)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sG(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ns))}}function uG(n,t){return H2.apply(this,arguments)}function H2(){return(H2=(0,A.A)(function*(n,t){const e=qt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(l=>(r=l,e._s(t),e.mutationQueue.getAllMutationBatches(i))).next(l=>{const d=[],f=[];let p=$n();for(const E of r){d.push(E.batchId);for(const x of E.mutations)p=p.add(x.key)}for(const E of l){f.push(E.batchId);for(const x of E.mutations)p=p.add(x.key)}return e.localDocuments.getDocuments(i,p).next(E=>({us:E,removedBatchIds:d,addedBatchIds:f}))})})})).apply(this,arguments)}function dG(n){const t=qt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function F7(n,t){const e=qt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Sb(n,t,e){return z2.apply(this,arguments)}function z2(){return(z2=(0,A.A)(function*(n,t,e){const i=qt(n),r=i.ns.get(t),l=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",l,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!Nd(d))throw d;kt("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}i.ns=i.ns.remove(t),i.rs.delete(r.target)})).apply(this,arguments)}function Ok(n,t,e){const i=qt(n);let r=gn.min(),l=$n();return i.persistence.runTransaction("Execute query","readwrite",d=>function(p,E,x){const R=qt(p),U=R.rs.get(x);return void 0!==U?ut.resolve(R.ns.get(U)):R.Qr.getTargetData(E,x)}(i,d,As(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(d,f.targetId).next(p=>{l=p})}).next(()=>i.ts.getDocumentsMatchingQuery(d,t,e?r:gn.min(),e?l:$n())).next(f=>(function pG(n,t,e){let i=n.ss.get(t)||gn.min();e.forEach((r,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ss.set(t,i)}(i,function zz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),f),{documents:f,hs:l})))}class X2{constructor(){this.activeTargetIds=function y2(){return Bq}()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class vG{constructor(){this.no=new X2,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,i){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new X2,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class B7{io(t){}shutdown(){}}class yG{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){kt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){kt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Fk=null;function Y2(){return null===Fk?Fk=268435456+Math.round(2147483648*Math.random()):Fk++,"0x"+Fk.toString(16)}const U7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class j7{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const Ms="WebChannelConnection";class $7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+e.host,this.So=`projects/${r}/databases/${l}`,this.bo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${l}`}get Do(){return!1}Co(e,i,r,l,d){const f=Y2(),p=this.vo(e,i.toUriEncodedString());kt("RestConnection",`Sending RPC '${e}' ${f}:`,p,r);const E={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(E,l,d),this.Mo(e,p,E,r).then(x=>(kt("RestConnection",`Received RPC '${e}' ${f}: `,x),x),x=>{throw Xs("RestConnection",`RPC '${e}' ${f} failed with error: `,x,"url: ",p,"request:",r),x})}xo(e,i,r,l,d,f){return this.Co(e,i,r,l,d)}Fo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+zf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,d)=>e[d]=l),r&&r.headers.forEach((l,d)=>e[d]=l)}vo(e,i){return`${this.wo}/v1/${i}:${U7[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,e,i,r){const l=Y2();return new Promise((d,f)=>{const p=new XV;p.setWithCredentials(!0),p.listenOnce(QV.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case mg.NO_ERROR:const x=p.getResponseJson();kt(Ms,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(x)),d(x);break;case mg.TIMEOUT:kt(Ms,`RPC '${t}' ${l} timed out`),f(new Mt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case mg.HTTP_ERROR:const R=p.getStatus();if(kt(Ms,`RPC '${t}' ${l} failed with status:`,R,"response text:",p.getResponseText()),R>0){let U=p.getResponseJson();Array.isArray(U)&&(U=U[0]);const K=U?.error;if(K&&K.status&&K.message){const me=function(he){const ht=he.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(ht)>=0?ht:mt.UNKNOWN}(K.status);f(new Mt(me,K.message))}else f(new Mt(mt.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Mt(mt.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{kt(Ms,`RPC '${t}' ${l} completed.`)}});const E=JSON.stringify(r);kt(Ms,`RPC '${t}' ${l} sending request:`,r),p.send(e,"POST",E,i,15)})}Oo(t,e,i){const r=Y2(),l=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=PC(),f=qR(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},E=this.longPollingOptions.timeoutSeconds;void 0!==E&&(p.longPollingTimeout=Math.round(1e3*E)),this.useFetchStreams&&(p.xmlHttpFactory=new KR({})),this.Fo(p.initMessageHeaders,e,i),p.encodeInitMessageHeaders=!0;const x=l.join("");kt(Ms,`Creating RPC '${t}' stream ${r}: ${x}`,p);const R=d.createWebChannel(x,p);let U=!1,K=!1;const me=new j7({lo:he=>{K?kt(Ms,`Not sending because RPC '${t}' stream ${r} is closed:`,he):(U||(kt(Ms,`Opening RPC '${t}' stream ${r} transport.`),R.open(),U=!0),kt(Ms,`RPC '${t}' stream ${r} sending:`,he),R.send(he))},ho:()=>R.close()}),fe=(he,ht,vt)=>{he.listen(ht,wt=>{try{vt(wt)}catch(zt){setTimeout(()=>{throw zt},0)}})};return fe(R,fg.EventType.OPEN,()=>{K||(kt(Ms,`RPC '${t}' stream ${r} transport opened.`),me.mo())}),fe(R,fg.EventType.CLOSE,()=>{K||(K=!0,kt(Ms,`RPC '${t}' stream ${r} transport closed`),me.po())}),fe(R,fg.EventType.ERROR,he=>{K||(K=!0,Xs(Ms,`RPC '${t}' stream ${r} transport errored:`,he),me.po(new Mt(mt.UNAVAILABLE,"The operation could not be completed")))}),fe(R,fg.EventType.MESSAGE,he=>{var ht;if(!K){const vt=he.data[0];fn(!!vt);const zt=vt.error||(null===(ht=vt[0])||void 0===ht?void 0:ht.error);if(zt){kt(Ms,`RPC '${t}' stream ${r} received error:`,zt);const vn=zt.status;let cn=function(Ee){const je=ho[Ee];if(void 0!==je)return u5(je)}(vn),Ve=zt.message;void 0===cn&&(cn=mt.INTERNAL,Ve="Unknown error status: "+vn+" with message "+zt.message),K=!0,me.po(new Mt(cn,Ve)),R.close()}else kt(Ms,`RPC '${t}' stream ${r} received:`,vt),me.yo(vt)}}),fe(f,YV.STAT_EVENT,he=>{he.stat===OC.PROXY?kt(Ms,`RPC '${t}' stream ${r} detected buffering proxy`):he.stat===OC.NOPROXY&&kt(Ms,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{me.fo()},0),me}}function Lk(){return typeof document<"u"?document:null}function dD(n){return new Zq(n,!0)}class Z2{constructor(t,e,i=1e3,r=1.5,l=6e4){this.oi=t,this.timerId=e,this.No=i,this.Lo=r,this.Bo=l,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const e=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,e-i);r>0&&kt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class wG{constructor(t,e,i,r,l,d,f,p){this.oi=t,this.Go=i,this.zo=r,this.connection=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Z2(t,e)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var t=this;return(0,A.A)(function*(){t.Zo()&&(yield t.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){var t=this;return(0,A.A)(function*(){if(t.Xo())return t.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,e){var i=this;return(0,A.A)(function*(){i.s_(),i.o_(),i.Yo.cancel(),i.jo++,4!==t?i.Yo.reset():e&&e.code===mt.RESOURCE_EXHAUSTED?(yr(e.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),i.Yo.Ko()):e&&e.code===mt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.__(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ao(e)})()}__(){}auth(){this.state=1;const t=this.a_(this.jo),e=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===e&&this.u_(i,r)},i=>{t(()=>{const r=new Mt(mt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(t,e){const i=this.a_(this.jo);this.stream=this.l_(t,e),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){var t=this;this.state=5,this.Yo.$o((0,A.A)(function*(){t.state=0,t.start()}))}c_(t){return kt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return e=>{this.oi.enqueueAndForget(()=>this.jo===t?e():(kt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H7 extends wG{constructor(t,e,i,r,l,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,d),this.serializer=l}l_(t,e){return this.connection.Oo("Listen",t,e)}onMessage(t){this.Yo.reset();const e=function t7(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(E=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===E?1:"REMOVE"===E?2:"CURRENT"===E?3:"RESET"===E?4:nn(),r=t.targetChange.targetIds||[],l=function(E,x){return E.useProto3Json?(fn(void 0===x||"string"==typeof x),To.fromBase64String(x||"")):(fn(void 0===x||x instanceof Buffer||x instanceof Uint8Array),To.fromUint8Array(x||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,f=d&&function(E){const x=void 0===E.code?mt.UNKNOWN:u5(E.code);return new Mt(x,E.message||"")}(d);e=new p5(i,r,l,f||null)}else if("documentChange"in t){const i=t.documentChange,r=bu(n,i.document.name),l=Yr(i.document.updateTime),d=i.document.createTime?Yr(i.document.createTime):gn.min(),f=new cs({mapValue:{fields:i.document.fields}}),p=lr.newFoundDocument(r,l,d,f);e=new wk(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in t){const i=t.documentDelete,r=bu(n,i.document),l=i.readTime?Yr(i.readTime):gn.min(),d=lr.newNoDocument(r,l);e=new wk([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const i=t.documentRemove,r=bu(n,i.document);e=new wk([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return nn();{const i=t.filter,{count:r=0,unchangedNames:l}=i,d=new Wq(r,l);e=new m5(i.targetId,d)}}var E;return e}(this.serializer,t),i=function(l){if(!("targetChange"in l))return gn.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?gn.min():d.readTime?Yr(d.readTime):gn.min()}(t);return this.listener.h_(e,i)}P_(t){const e={};e.database=A2(this.serializer),e.addTarget=function(l,d){let f;const p=d.target;if(f=mk(p)?{documents:T5(l,p)}:{query:Ek(l,p)._t},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=y5(l,d.resumeToken);const E=D2(l,d.expectedCount);null!==E&&(f.expectedCount=E)}else if(d.snapshotVersion.compareTo(gn.min())>0){f.readTime=Eb(l,d.snapshotVersion.toTimestamp());const E=D2(l,d.expectedCount);null!==E&&(f.expectedCount=E)}return f}(this.serializer,t);const i=function i7(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.i_(e)}I_(t){const e={};e.database=A2(this.serializer),e.removeTarget=t,this.i_(e)}}class z7 extends wG{constructor(t,e,i,r,l,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,d),this.serializer=l,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,e){return this.connection.Oo("Write",t,e)}onMessage(t){if(fn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const e=function n7(n,t){return n&&n.length>0?(fn(void 0!==t),n.map(e=>function(r,l){let d=Yr(r.updateTime?r.updateTime:l);return d.isEqual(gn.min())&&(d=Yr(l)),new Hq(d,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Yr(t.commitTime);return this.listener.A_(i,e)}return fn(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=A2(this.serializer),this.i_(t)}d_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>iD(this.serializer,i))};this.i_(e)}}class G7 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Mt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,e,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.Co(t,x2(e,i),r,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Mt(mt.UNKNOWN,l.toString())})}xo(t,e,i,r,l){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.xo(t,x2(e,i),r,d,f,l)).catch(d=>{throw"FirebaseError"===d.name?(d.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Mt(mt.UNKNOWN,d.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class W7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(yr(e),this.y_=!1):kt("OnlineStateTracker",e)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class K7{constructor(t,e,i,r,l){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=l,this.O_.io(f=>{i.enqueueAndForget((0,A.A)(function*(){var p;tm(d)&&(kt("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,A.A)(function*(x){const R=qt(x);R.M_.add(4),yield Mb(R),R.N_.set("Unknown"),R.M_.delete(4),yield hD(R)}),function E(x){return p.apply(this,arguments)})(d))}))}),this.N_=new W7(i,r)}}function hD(n){return J2.apply(this,arguments)}function J2(){return(J2=(0,A.A)(function*(n){if(tm(n))for(const t of n.x_)yield t(!0)})).apply(this,arguments)}function Mb(n){return eB.apply(this,arguments)}function eB(){return(eB=(0,A.A)(function*(n){for(const t of n.x_)yield t(!1)})).apply(this,arguments)}function Vk(n,t){const e=qt(n);e.F_.has(t.targetId)||(e.F_.set(t.targetId,t),iB(e)?nB(e):Ob(e).Xo()&&tB(e,t))}function Rb(n,t){const e=qt(n),i=Ob(e);e.F_.delete(t),i.Xo()&&EG(e,t),0===e.F_.size&&(i.Xo()?i.n_():tm(e)&&e.N_.set("Unknown"))}function tB(n,t){if(n.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Ob(n).P_(t)}function EG(n,t){n.L_.xe(t),Ob(n).I_(t)}function nB(n){n.L_=new qq({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.F_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),Ob(n).start(),n.N_.w_()}function iB(n){return tm(n)&&!Ob(n).Zo()&&n.F_.size>0}function tm(n){return 0===qt(n).M_.size}function IG(n){n.L_=void 0}function q7(n){return rB.apply(this,arguments)}function rB(){return(rB=(0,A.A)(function*(n){n.N_.set("Online")})).apply(this,arguments)}function X7(n){return oB.apply(this,arguments)}function oB(){return(oB=(0,A.A)(function*(n){n.F_.forEach((t,e)=>{tB(n,t)})})).apply(this,arguments)}function Q7(n,t){return sB.apply(this,arguments)}function sB(){return(sB=(0,A.A)(function*(n,t){IG(n),iB(n)?(n.N_.D_(t),nB(n)):n.N_.set("Unknown")})).apply(this,arguments)}function Y7(n,t,e){return aB.apply(this,arguments)}function aB(){return aB=(0,A.A)(function*(n,t,e){if(n.N_.set("Online"),t instanceof p5&&2===t.state&&t.cause)try{yield(i=(0,A.A)(function*(l,d){const f=d.cause;for(const p of d.targetIds)l.F_.has(p)&&(yield l.remoteSyncer.rejectListen(p,f),l.F_.delete(p),l.L_.removeTarget(p))}),function r(l,d){return i.apply(this,arguments)})(n,t)}catch(i){kt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield Bk(n,i)}else if(t instanceof wk?n.L_.Ke(t):t instanceof m5?n.L_.He(t):n.L_.We(t),!e.isEqual(gn.min()))try{const i=yield dG(n.localStore);e.compareTo(i)>=0&&(yield function(l,d){const f=l.L_.rt(d);return f.targetChanges.forEach((p,E)=>{if(p.resumeToken.approximateByteSize()>0){const x=l.F_.get(E);x&&l.F_.set(E,x.withResumeToken(p.resumeToken,d))}}),f.targetMismatches.forEach((p,E)=>{const x=l.F_.get(p);if(!x)return;l.F_.set(p,x.withResumeToken(To.EMPTY_BYTE_STRING,x.snapshotVersion)),EG(l,p);const R=new Hd(x.target,p,E,x.sequenceNumber);tB(l,R)}),l.remoteSyncer.applyRemoteEvent(f)}(n,e))}catch(i){kt("RemoteStore","Failed to raise snapshot:",i),yield Bk(n,i)}var i}),aB.apply(this,arguments)}function Bk(n,t,e){return cB.apply(this,arguments)}function cB(){return(cB=(0,A.A)(function*(n,t,e){if(!Nd(t))throw t;n.M_.add(1),yield Mb(n),n.N_.set("Offline"),e||(e=()=>dG(n.localStore)),n.asyncQueue.enqueueRetryable((0,A.A)(function*(){kt("RemoteStore","Retrying IndexedDB access"),yield e(),n.M_.delete(1),yield hD(n)}))})).apply(this,arguments)}function CG(n,t){return t().catch(e=>Bk(n,e,t))}function kb(n){return lB.apply(this,arguments)}function lB(){return(lB=(0,A.A)(function*(n){const t=qt(n),e=nm(t);let i=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Z7(t);)try{const r=yield F7(t.localStore,i);if(null===r){0===t.v_.length&&e.n_();break}i=r.batchId,J7(t,r)}catch(r){yield Bk(t,r)}DG(t)&&TG(t)})).apply(this,arguments)}function Z7(n){return tm(n)&&n.v_.length<10}function J7(n,t){n.v_.push(t);const e=nm(n);e.Xo()&&e.E_&&e.d_(t.mutations)}function DG(n){return tm(n)&&!nm(n).Zo()&&n.v_.length>0}function TG(n){nm(n).start()}function eX(n){return uB.apply(this,arguments)}function uB(){return(uB=(0,A.A)(function*(n){nm(n).V_()})).apply(this,arguments)}function tX(n){return dB.apply(this,arguments)}function dB(){return(dB=(0,A.A)(function*(n){const t=nm(n);for(const e of n.v_)t.d_(e.mutations)})).apply(this,arguments)}function nX(n,t,e){return hB.apply(this,arguments)}function hB(){return(hB=(0,A.A)(function*(n,t,e){const i=n.v_.shift(),r=E2.from(i,t,e);yield CG(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield kb(n)})).apply(this,arguments)}function iX(n,t){return fB.apply(this,arguments)}function fB(){return fB=(0,A.A)(function*(n,t){var e;t&&nm(n).E_&&(yield(e=(0,A.A)(function*(r,l){if(l5(f=l.code)&&f!==mt.ABORTED){const d=r.v_.shift();nm(r).t_(),yield CG(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,l)),yield kb(r)}var f}),function i(r,l){return e.apply(this,arguments)})(n,t)),DG(n)&&TG(n)}),fB.apply(this,arguments)}function xG(n,t){return mB.apply(this,arguments)}function mB(){return(mB=(0,A.A)(function*(n,t){const e=qt(n);e.asyncQueue.verifyOperationInProgress(),kt("RemoteStore","RemoteStore received new credentials");const i=tm(e);e.M_.add(3),yield Mb(e),i&&e.N_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.M_.delete(3),yield hD(e)})).apply(this,arguments)}function pB(n,t){return gB.apply(this,arguments)}function gB(){return(gB=(0,A.A)(function*(n,t){const e=qt(n);t?(e.M_.delete(2),yield hD(e)):t||(e.M_.add(2),yield Mb(e),e.N_.set("Unknown"))})).apply(this,arguments)}function Ob(n){return n.B_||(n.B_=function(e,i,r){const l=qt(e);return l.f_(),new H7(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,r)}(n.datastore,n.asyncQueue,{Po:q7.bind(null,n),To:X7.bind(null,n),Ao:Q7.bind(null,n),h_:Y7.bind(null,n)}),n.x_.push(function(){var t=(0,A.A)(function*(e){e?(n.B_.t_(),iB(n)?nB(n):n.N_.set("Unknown")):(yield n.B_.stop(),IG(n))});return function(e){return t.apply(this,arguments)}}())),n.B_}function nm(n){return n.k_||(n.k_=function(e,i,r){const l=qt(e);return l.f_(),new z7(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,r)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:eX.bind(null,n),Ao:iX.bind(null,n),R_:tX.bind(null,n),A_:nX.bind(null,n)}),n.x_.push(function(){var t=(0,A.A)(function*(e){e?(n.k_.t_(),yield kb(n)):(yield n.k_.stop(),n.v_.length>0&&(kt("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(e){return t.apply(this,arguments)}}())),n.k_}class _B{constructor(t,e,i,r,l){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=l,this.deferred=new uo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,l){const d=Date.now()+i,f=new _B(t,e,d,r,l);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mt(mt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pb(n,t){if(yr("AsyncQueue",`${t}: ${n}`),Nd(n))return new Mt(mt.UNAVAILABLE,`${t}: ${n}`);throw n}class Nb{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Yt.comparator(e.key,i.key):(e,i)=>Yt.comparator(e.key,i.key),this.keyedMap=XC(),this.sortedSet=new tr(this.comparator)}static emptySet(t){return new Nb(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Nb)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,l=i.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Nb;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class AG{constructor(){this.q_=new tr(Yt.comparator)}track(t){const e=t.doc.key,i=this.q_.get(e);i?0!==t.type&&3===i.type?this.q_=this.q_.insert(e,t):3===t.type&&1!==i.type?this.q_=this.q_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.q_=this.q_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.q_=this.q_.remove(e):1===t.type&&2===i.type?this.q_=this.q_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):nn():this.q_=this.q_.insert(e,t)}Q_(){const t=[];return this.q_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Fb{constructor(t,e,i,r,l,d,f,p,E){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=E}static fromInitialDocuments(t,e,i,r,l){const d=[];return e.forEach(f=>{d.push({type:0,doc:f})}),new Fb(t,e,Nb.emptySet(e),d,i,r,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&KC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class rX{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class oX{constructor(){this.queries=new jd(t=>Hz(t),KC),this.onlineState="Unknown",this.z_=new Set}}function vB(n,t){return yB.apply(this,arguments)}function yB(){return(yB=(0,A.A)(function*(n,t){const e=qt(n);let i=3;const r=t.query;let l=e.queries.get(r);l?!l.W_()&&t.G_()&&(i=2):(l=new rX,i=t.G_()?0:1);try{switch(i){case 0:l.K_=yield e.onListen(r,!0);break;case 1:l.K_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(d){const f=Pb(d,`Initialization of query '${_b(t.query)}' failed`);return void t.onError(f)}e.queries.set(r,l),l.U_.push(t),t.j_(e.onlineState),l.K_&&t.H_(l.K_)&&EB(e)})).apply(this,arguments)}function bB(n,t){return wB.apply(this,arguments)}function wB(){return(wB=(0,A.A)(function*(n,t){const e=qt(n),i=t.query;let r=3;const l=e.queries.get(i);if(l){const d=l.U_.indexOf(t);d>=0&&(l.U_.splice(d,1),0===l.U_.length?r=t.G_()?0:1:!l.W_()&&t.G_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function sX(n,t){const e=qt(n);let i=!1;for(const r of t){const d=e.queries.get(r.query);if(d){for(const f of d.U_)f.H_(r)&&(i=!0);d.K_=r}}i&&EB(e)}function aX(n,t,e){const i=qt(n),r=i.queries.get(t);if(r)for(const l of r.U_)l.onError(e);i.queries.delete(t)}function EB(n){n.z_.forEach(t=>{t.next()})}var IB,SG;(SG=IB||(IB={})).J_="default",SG.Cache="cache";class CB{constructor(t,e,i){this.query=t,this.Y_=e,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Fb(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),e=!0):this.ta(t,this.onlineState)&&(this.na(t),e=!0),this.X_=t,e}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let e=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),e=!0),e}ta(t,e){return!t.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ea(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(t){t=Fb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==IB.Cache}}class kG{constructor(t){this.key=t}}class OG{constructor(t){this.key=t}}class PG{constructor(t,e){this.query=t,this.la=e,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=$n(),this.mutatedKeys=$n(),this.Ia=Gz(t),this.Ta=new Nb(this.Ia)}get Ea(){return this.la}da(t,e){const i=e?e.Aa:new AG,r=e?e.Ta:this.Ta;let l=e?e.mutatedKeys:this.mutatedKeys,d=r,f=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,E="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((x,R)=>{const U=r.get(x),K=qC(this.query,R)?R:null,me=!!U&&this.mutatedKeys.has(U.key),fe=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let he=!1;U&&K?U.data.isEqual(K.data)?me!==fe&&(i.track({type:3,doc:K}),he=!0):this.Ra(U,K)||(i.track({type:2,doc:K}),he=!0,(p&&this.Ia(K,p)>0||E&&this.Ia(K,E)<0)&&(f=!0)):!U&&K?(i.track({type:0,doc:K}),he=!0):U&&!K&&(i.track({type:1,doc:U}),he=!0,(p||E)&&(f=!0)),he&&(K?(d=d.add(K),l=fe?l.add(x):l.delete(x)):(d=d.delete(x),l=l.delete(x)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const x="F"===this.query.limitType?d.last():d.first();d=d.delete(x.key),l=l.delete(x.key),i.track({type:1,doc:x})}return{Ta:d,Aa:i,Xi:f,mutatedKeys:l}}Ra(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const l=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const d=t.Aa.Q_();d.sort((x,R)=>function(K,me){const fe=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return fe(K)-fe(me)}(x.type,R.type)||this.Ia(x.doc,R.doc)),this.Va(i),r=null!=r&&r;const f=e&&!r?this.ma():[],p=0===this.Pa.size&&this.current&&!r?1:0,E=p!==this.ha;return this.ha=p,0!==d.length||E?{snapshot:new Fb(this.query,t.Ta,l,d,t.mutatedKeys,0===p,E,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:f}:{fa:f}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new AG,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(e=>this.la=this.la.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.la=this.la.delete(e)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=$n(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const e=[];return t.forEach(i=>{this.Pa.has(i)||e.push(new OG(i))}),this.Pa.forEach(i=>{t.has(i)||e.push(new kG(i))}),e}pa(t){this.la=t.hs,this.Pa=$n();const e=this.da(t.documents);return this.applyChanges(e,!0)}ya(){return Fb.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class uX{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class dX{constructor(t){this.key=t,this.wa=!1}}class hX{constructor(t,e,i,r,l,d){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Sa={},this.ba=new jd(f=>Hz(f),KC),this.Da=new Map,this.Ca=new Set,this.va=new tr(Yt.comparator),this.Fa=new Map,this.Ma=new L2,this.xa={},this.Oa=new Map,this.Na=Ag.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function fX(n,t){return DB.apply(this,arguments)}function DB(){return(DB=(0,A.A)(function*(n,t,e=!0){const i=Uk(n);let r;const l=i.ba.get(t);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),r=l.view.ya()):r=yield NG(i,t,e,!0),r})).apply(this,arguments)}function mX(n,t){return TB.apply(this,arguments)}function TB(){return(TB=(0,A.A)(function*(n,t){const e=Uk(n);yield NG(e,t,!0,!1)})).apply(this,arguments)}function NG(n,t,e,i){return xB.apply(this,arguments)}function xB(){return(xB=(0,A.A)(function*(n,t,e,i){const r=yield function Ab(n,t){const e=qt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Qr.getTargetData(i,t).next(l=>l?(r=l,ut.resolve(r)):e.Qr.allocateTargetId(i).next(d=>(r=new Hd(t,d,"TargetPurposeListen",i.currentSequenceNumber),e.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ns.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ns=e.ns.insert(i.targetId,i),e.rs.set(t,i.targetId)),i})}(n.localStore,As(t)),l=r.targetId,d=e?n.sharedClientState.addLocalQueryTarget(l):"not-current";let f;return i&&(f=yield function AB(n,t,e,i,r){return SB.apply(this,arguments)}(n,t,l,"current"===d,r.resumeToken)),n.isPrimaryClient&&e&&Vk(n.remoteStore,r),f})).apply(this,arguments)}function SB(){return SB=(0,A.A)(function*(n,t,e,i,r){n.Ba=(R,U,K)=>{return(me=(0,A.A)(function*(he,ht,vt,wt){let zt=ht.view.da(vt);zt.Xi&&(zt=yield Ok(he.localStore,ht.query,!1).then(({documents:le})=>ht.view.da(le,zt)));const vn=wt&&wt.targetChanges.get(ht.targetId),cn=wt&&null!=wt.targetMismatches.get(ht.targetId),Ve=ht.view.applyChanges(zt,he.isPrimaryClient,vn,cn);return UB(he,ht.targetId,Ve.fa),Ve.snapshot}),function fe(he,ht,vt,wt){return me.apply(this,arguments)})(n,R,U,K);var me};const l=yield Ok(n.localStore,t,!0),d=new PG(t,l.hs),f=d.da(l.documents),p=tD.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),E=d.applyChanges(f,n.isPrimaryClient,p);UB(n,e,E.fa);const x=new uX(t,e,d);return n.ba.set(t,x),n.Da.has(e)?n.Da.get(e).push(t):n.Da.set(e,[t]),E.snapshot}),SB.apply(this,arguments)}function pX(n,t,e){return MB.apply(this,arguments)}function MB(){return(MB=(0,A.A)(function*(n,t,e){const i=qt(n),r=i.ba.get(t),l=i.Da.get(r.targetId);if(l.length>1)return i.Da.set(r.targetId,l.filter(d=>!KC(d,t))),void i.ba.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Sb(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&Rb(i.remoteStore,r.targetId),Lb(i,r.targetId)}).catch(Pd))):(Lb(i,r.targetId),yield Sb(i.localStore,r.targetId,!0))})).apply(this,arguments)}function gX(n,t){return RB.apply(this,arguments)}function RB(){return(RB=(0,A.A)(function*(n,t){const e=qt(n),i=e.ba.get(t),r=e.Da.get(i.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Rb(e.remoteStore,i.targetId))})).apply(this,arguments)}function kB(){return(kB=(0,A.A)(function*(n,t,e){const i=function YB(n){const t=qt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=yX.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=bX.bind(null,t),t}(n);try{const r=yield function(d,f){const p=qt(d),E=er.now(),x=f.reduce((K,me)=>K.add(me.key),$n());let R,U;return p.persistence.runTransaction("Locally write mutations","readwrite",K=>{let me=Oa(),fe=$n();return p.os.getEntries(K,x).next(he=>{me=he,me.forEach((ht,vt)=>{vt.isValidDocument()||(fe=fe.add(ht))})}).next(()=>p.localDocuments.getOverlayedDocuments(K,me)).next(he=>{R=he;const ht=[];for(const vt of f){const wt=Gq(vt,R.get(vt.key).overlayedDocument);null!=wt&&ht.push(new $d(vt.key,wt,xz(wt.value.mapValue),br.exists(!0)))}return p.mutationQueue.addMutationBatch(K,E,ht,f)}).next(he=>{U=he;const ht=he.applyToLocalDocumentSet(R,fe);return p.documentOverlayCache.saveOverlays(K,he.batchId,ht)})}).then(()=>({batchId:U.batchId,changes:Kz(R)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(d,f,p){let E=d.xa[d.currentUser.toKey()];E||(E=new tr(Tn)),E=E.insert(f,p),d.xa[d.currentUser.toKey()]=E}(i,r.batchId,e),yield zd(i,r.changes),yield kb(i.remoteStore)}catch(r){const l=Pb(r,"Failed to persist write");e.reject(l)}})).apply(this,arguments)}function FG(n,t){return OB.apply(this,arguments)}function OB(){return(OB=(0,A.A)(function*(n,t){const e=qt(n);try{const i=yield function N7(n,t){const e=qt(n),i=t.snapshotVersion;let r=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=e.os.newChangeBuffer({trackRemovals:!0});r=e.ns;const f=[];t.targetChanges.forEach((x,R)=>{const U=r.get(R);if(!U)return;f.push(e.Qr.removeMatchingKeys(l,x.removedDocuments,R).next(()=>e.Qr.addMatchingKeys(l,x.addedDocuments,R)));let K=U.withSequenceNumber(l.currentSequenceNumber);var fe,he,ht;null!==t.targetMismatches.get(R)?K=K.withResumeToken(To.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):x.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(x.resumeToken,i)),r=r.insert(R,K),he=K,ht=x,(0===(fe=U).resumeToken.approximateByteSize()||he.snapshotVersion.toMicroseconds()-fe.snapshotVersion.toMicroseconds()>=3e8||ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0)&&f.push(e.Qr.updateTargetData(l,K))});let p=Oa(),E=$n();if(t.documentUpdates.forEach(x=>{t.resolvedLimboDocuments.has(x)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(l,x))}),f.push(function hG(n,t,e){let i=$n(),r=$n();return e.forEach(l=>i=i.add(l)),t.getEntries(n,i).next(l=>{let d=Oa();return e.forEach((f,p)=>{const E=l.get(f);p.isFoundDocument()!==E.isFoundDocument()&&(r=r.add(f)),p.isNoDocument()&&p.version.isEqual(gn.min())?(t.removeEntry(f,p.readTime),d=d.insert(f,p)):!E.isValidDocument()||p.version.compareTo(E.version)>0||0===p.version.compareTo(E.version)&&E.hasPendingWrites?(t.addEntry(p),d=d.insert(f,p)):kt("LocalStore","Ignoring outdated watch update for ",f,". Current version:",E.version," Watch version:",p.version)}),{cs:d,ls:r}})}(l,d,t.documentUpdates).next(x=>{p=x.cs,E=x.ls})),!i.isEqual(gn.min())){const x=e.Qr.getLastRemoteSnapshotVersion(l).next(R=>e.Qr.setTargetsMetadata(l,l.currentSequenceNumber,i));f.push(x)}return ut.waitFor(f).next(()=>d.apply(l)).next(()=>e.localDocuments.getLocalViewOfDocuments(l,p,E)).next(()=>p)}).then(l=>(e.ns=r,l))}(e.localStore,t);t.targetChanges.forEach((r,l)=>{const d=e.Fa.get(l);d&&(fn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.wa=!0:r.modifiedDocuments.size>0?fn(d.wa):r.removedDocuments.size>0&&(fn(d.wa),d.wa=!1))}),yield zd(e,i,t)}catch(i){yield Pd(i)}})).apply(this,arguments)}function LG(n,t,e){const i=qt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ba.forEach((l,d)=>{const f=d.view.j_(t);f.snapshot&&r.push(f.snapshot)}),function(d,f){const p=qt(d);p.onlineState=f;let E=!1;p.queries.forEach((x,R)=>{for(const U of R.U_)U.j_(f)&&(E=!0)}),E&&EB(p)}(i.eventManager,t),r.length&&i.Sa.h_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function vX(n,t,e){return PB.apply(this,arguments)}function PB(){return(PB=(0,A.A)(function*(n,t,e){const i=qt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Fa.get(t),l=r&&r.key;if(l){let d=new tr(Yt.comparator);d=d.insert(l,lr.newNoDocument(l,gn.min()));const f=$n().add(l),p=new eD(gn.min(),new Map,new tr(Tn),d,f);yield FG(i,p),i.va=i.va.remove(l),i.Fa.delete(t),jB(i)}else yield Sb(i.localStore,t,!1).then(()=>Lb(i,t,e)).catch(Pd)})).apply(this,arguments)}function yX(n,t){return NB.apply(this,arguments)}function NB(){return(NB=(0,A.A)(function*(n,t){const e=qt(n),i=t.batch.batchId;try{const r=yield function P7(n,t){const e=qt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),l=e.os.newChangeBuffer({trackRemovals:!0});return function(f,p,E,x){const R=E.batch,U=R.keys();let K=ut.resolve();return U.forEach(me=>{K=K.next(()=>x.getEntry(p,me)).next(fe=>{const he=E.docVersions.get(me);fn(null!==he),fe.version.compareTo(he)<0&&(R.applyToRemoteDocument(fe,E),fe.isValidDocument()&&(fe.setReadTime(E.commitVersion),x.addEntry(fe)))})}),K.next(()=>f.mutationQueue.removeMutationBatch(p,R))}(e,i,t,l).next(()=>l.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=$n();for(let E=0;E<f.mutationResults.length;++E)f.mutationResults[E].transformResults.length>0&&(p=p.add(f.batch.mutations[E].key));return p}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);BB(e,i,null),VB(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield zd(e,r)}catch(r){yield Pd(r)}})).apply(this,arguments)}function bX(n,t,e){return FB.apply(this,arguments)}function FB(){return(FB=(0,A.A)(function*(n,t,e){const i=qt(n);try{const r=yield function(d,f){const p=qt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",E=>{let x;return p.mutationQueue.lookupMutationBatch(E,f).next(R=>(fn(null!==R),x=R.keys(),p.mutationQueue.removeMutationBatch(E,R))).next(()=>p.mutationQueue.performConsistencyCheck(E)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(E,x,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(E,x)).next(()=>p.localDocuments.getDocuments(E,x))})}(i.localStore,t);BB(i,t,e),VB(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield zd(i,r)}catch(r){yield Pd(r)}})).apply(this,arguments)}function LB(){return(LB=(0,A.A)(function*(n,t){const e=qt(n);tm(e.remoteStore)||kt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(d){const f=qt(d);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>f.mutationQueue.getHighestUnacknowledgedBatchId(p))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Oa.get(i)||[];r.push(t),e.Oa.set(i,r)}catch(i){const r=Pb(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function VB(n,t){(n.Oa.get(t)||[]).forEach(e=>{e.resolve()}),n.Oa.delete(t)}function BB(n,t,e){const i=qt(n);let r=i.xa[i.currentUser.toKey()];if(r){const l=r.get(t);l&&(e?l.reject(e):l.resolve(),r=r.remove(t)),i.xa[i.currentUser.toKey()]=r}}function Lb(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Da.get(t))n.ba.delete(i),e&&n.Sa.ka(i,e);n.Da.delete(t),n.isPrimaryClient&&n.Ma.Vr(t).forEach(i=>{n.Ma.containsKey(i)||VG(n,i)})}function VG(n,t){n.Ca.delete(t.path.canonicalString());const e=n.va.get(t);null!==e&&(Rb(n.remoteStore,e),n.va=n.va.remove(t),n.Fa.delete(e),jB(n))}function UB(n,t,e){for(const i of e)i instanceof kG?(n.Ma.addReference(i.key,t),EX(n,i)):i instanceof OG?(kt("SyncEngine","Document no longer in limbo: "+i.key),n.Ma.removeReference(i.key,t),n.Ma.containsKey(i.key)||VG(n,i.key)):nn()}function EX(n,t){const e=t.key,i=e.path.canonicalString();n.va.get(e)||n.Ca.has(i)||(kt("SyncEngine","New document in limbo: "+e),n.Ca.add(i),jB(n))}function jB(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const t=n.Ca.values().next().value;n.Ca.delete(t);const e=new Yt(Qn.fromString(t)),i=n.Na.next();n.Fa.set(i,new dX(e)),n.va=n.va.insert(e,i),Vk(n.remoteStore,new Hd(As(pb(e.path)),i,"TargetPurposeLimboResolution",Qs.oe))}}function zd(n,t,e){return $B.apply(this,arguments)}function $B(){return $B=(0,A.A)(function*(n,t,e){const i=qt(n),r=[],l=[],d=[];var f;i.ba.isEmpty()||(i.ba.forEach((f,p)=>{d.push(i.Ba(p,t,e).then(E=>{var x;if((E||e)&&i.isPrimaryClient){const R=E?!E.fromCache:null===(x=e?.targetChanges.get(p.targetId))||void 0===x?void 0:x.current;i.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(E){r.push(E);const R=$2.Ki(p.targetId,E);l.push(R)}}))}),yield Promise.all(d),i.Sa.h_(r),yield(f=(0,A.A)(function*(E,x){const R=qt(E);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>ut.forEach(x,K=>ut.forEach(K.qi,me=>R.persistence.referenceDelegate.addReference(U,K.targetId,me)).next(()=>ut.forEach(K.Qi,me=>R.persistence.referenceDelegate.removeReference(U,K.targetId,me)))))}catch(U){if(!Nd(U))throw U;kt("LocalStore","Failed to update sequence numbers: "+U)}for(const U of x){const K=U.targetId;if(!U.fromCache){const me=R.ns.get(K),he=me.withLastLimboFreeSnapshotVersion(me.snapshotVersion);R.ns=R.ns.insert(K,he)}}}),function p(E,x){return f.apply(this,arguments)})(i.localStore,l))}),$B.apply(this,arguments)}function IX(n,t){return HB.apply(this,arguments)}function HB(){return(HB=(0,A.A)(function*(n,t){const e=qt(n);if(!e.currentUser.isEqual(t)){kt("SyncEngine","User change. New user:",t.toKey());const i=yield uG(e.localStore,t);e.currentUser=t,(l=e).Oa.forEach(f=>{f.forEach(p=>{p.reject(new Mt(mt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Oa.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield zd(e,i.us)}var l})).apply(this,arguments)}function CX(n,t){const e=qt(n),i=e.Fa.get(t);if(i&&i.wa)return $n().add(i.key);{let r=$n();const l=e.Da.get(t);if(!l)return r;for(const d of l){const f=e.ba.get(d);r=r.unionWith(f.view.Ea)}return r}}function Uk(n){const t=qt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=FG.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=CX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=vX.bind(null,t),t.Sa.h_=sX.bind(null,t.eventManager),t.Sa.ka=aX.bind(null,t.eventManager),t}class Vb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,A.A)(function*(){e.serializer=dD(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function lG(n,t,e,i){return new O7(n,t,e,i)}(this.persistence,new cG,t.initialUser,this.serializer)}createPersistence(t){return new V2(Mk.Hr,this.serializer)}createSharedClientState(t){return new vG}terminate(){var t=this;return(0,A.A)(function*(){var e,i;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Bb{initialize(t,e){var i=this;return(0,A.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>LG(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=IX.bind(null,i.syncEngine),yield pB(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new oX}createDatastore(t){const e=dD(t.databaseInfo.databaseId),i=new $7(t.databaseInfo);return new G7(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,l=t.asyncQueue,d=e=>LG(this.syncEngine,e,0),f=yG.D()?new yG:new B7,new K7(i,r,l,d,f);var i,r,l,d,f}createSyncEngine(t,e){return function(r,l,d,f,p,E,x){const R=new hX(r,l,d,f,p,E);return x&&(R.La=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,A.A)(function*(){var e,i;yield(i=(0,A.A)(function*(l){const d=qt(l);kt("RemoteStore","RemoteStore shutting down."),d.M_.add(5),yield Mb(d),d.O_.shutdown(),d.N_.set("Unknown")}),function r(l){return i.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate()})()}}class jk{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):yr("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class NX{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,A.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Mt(mt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const i=yield(r=(0,A.A)(function*(d,f){const p=qt(d),E={documents:f.map(K=>nD(p.serializer,K))},x=yield p.xo("BatchGetDocuments",p.serializer.databaseId,Qn.emptyPath(),E,f.length),R=new Map;x.forEach(K=>{const me=function e7(n,t){return"found"in t?function(i,r){fn(!!r.found);const l=bu(i,r.found.name),d=Yr(r.found.updateTime),f=r.found.createTime?Yr(r.found.createTime):gn.min(),p=new cs({mapValue:{fields:r.found.fields}});return lr.newFoundDocument(l,d,f,p)}(n,t):"missing"in t?function(i,r){fn(!!r.missing),fn(!!r.readTime);const l=bu(i,r.missing),d=Yr(r.readTime);return lr.newNoDocument(l,d)}(n,t):nn()}(p.serializer,K);R.set(me.key.toString(),me)});const U=[];return f.forEach(K=>{const me=R.get(K.toString());fn(!!me),U.push(me)}),U}),function l(d,f){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new wb(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,A.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const l=Yt.fromPath(r);t.mutations.push(new b2(l,t.precondition(l)))}),yield(i=(0,A.A)(function*(l,d){const f=qt(l),p={writes:d.map(E=>iD(f.serializer,E))};yield f.Co("Commit",f.serializer.databaseId,Qn.emptyPath(),p)}),function r(l,d){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw nn();e=gn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Mt(mt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(gn.min())?br.exists(!1):br.updateTime(e):br.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(gn.min()))throw new Mt(mt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return br.updateTime(e)}return br.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class FX{constructor(t,e,i,r,l){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=l,this.Za=i.maxAttempts,this.Yo=new Z2(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var t=this;this.Yo.$o((0,A.A)(function*(){const e=new NX(t.datastore),i=t.tu(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(l=>{t.nu(l)}))}).catch(r=>{t.nu(r)})}))}tu(t){try{const e=this.updateFunction(t);return!Gf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!l5(e)}return!1}}class LX{constructor(t,e,i,r){var l=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=lo.UNAUTHENTICATED,this.clientId=ek.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,A.A)(function*(f){kt("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(kt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new uo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,A.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Pb(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function $k(n,t){return JB.apply(this,arguments)}function JB(){return JB=(0,A.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),kt("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,A.A)(function*(l){i.isEqual(l)||(yield uG(t.localStore,l),i=l)});return function(l){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),JB.apply(this,arguments)}function eU(n,t){return tU.apply(this,arguments)}function tU(){return(tU=(0,A.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function nU(n){return iU.apply(this,arguments)}(n);kt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>xG(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>xG(t.remoteStore,r)),n._onlineComponents=t})).apply(this,arguments)}function iU(){return(iU=(0,A.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){kt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $k(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function HG(n){return"FirebaseError"===n.name?n.code===mt.FAILED_PRECONDITION||n.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;Xs("Error using user provided cache. Falling back to memory cache: "+e),yield $k(n,new Vb)}}else kt("FirestoreClient","Using default OfflineComponentProvider"),yield $k(n,new Vb);return n._offlineComponents})).apply(this,arguments)}function Hk(n){return rU.apply(this,arguments)}function rU(){return(rU=(0,A.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(kt("FirestoreClient","Using user provided OnlineComponentProvider"),yield eU(n,n._uninitializedComponentsProvider._online)):(kt("FirestoreClient","Using default OnlineComponentProvider"),yield eU(n,new Bb))),n._onlineComponents})).apply(this,arguments)}function oU(n){return Hk(n).then(t=>t.syncEngine)}function jb(n){return sU.apply(this,arguments)}function sU(){return(sU=(0,A.A)(function*(n){const t=yield Hk(n),e=t.eventManager;return e.onListen=fX.bind(null,t.syncEngine),e.onUnlisten=pX.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=mX.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=gX.bind(null,t.syncEngine),e})).apply(this,arguments)}function XG(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const QG=new Map;function aU(n,t,e){if(!e)throw new Mt(mt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function YG(n){if(!Yt.isDocumentKey(n))throw new Mt(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZG(n){if(Yt.isDocumentKey(n))throw new Mt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zk(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":nn()}function Yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Mt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=zk(n);throw new Mt(mt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class e8{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Mt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function XX(n,t,e,i){if(!0===t&&!0===i)throw new Mt(mt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=XG(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(l){if(void 0!==l.timeoutSeconds){if(isNaN(l.timeoutSeconds))throw new Mt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Mt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Mt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class fD{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e8({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Mt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e8(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new e2;switch(i.type){case"firstParty":return new YR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Mt(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=QG.get(e);i&&(kt("ComponentProvider","Removing Datastore"),QG.delete(e),i.terminate())}(this),Promise.resolve()}}class ls{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ls(this.firestore,t,this._query)}}class Zr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zr(this.firestore,t,this._key)}}class wu extends ls{constructor(t,e,i){super(t,e,pb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zr(this.firestore,null,new Yt(t))}withConverter(t){return new wu(this.firestore,t,this._path)}}class ZX{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Z2(this,"async_queue_retry"),this.hu=()=>{const e=Lk();e&&kt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const t=Lk();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const e=Lk();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const e=new uo;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){var t=this;return(0,A.A)(function*(){if(0!==t.su.length){try{yield t.su[0](),t.su.shift(),t.Yo.reset()}catch(e){if(!Nd(e))throw e;kt("AsyncQueue","Operation failed with retryable error: "+e)}t.su.length>0&&t.Yo.$o(()=>t.Tu())}})()}Iu(t){const e=this.iu.then(()=>(this.uu=!0,t().catch(i=>{throw this.au=i,this.uu=!1,yr("INTERNAL UNHANDLED ERROR: ",function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),f}(i)),i}).then(i=>(this.uu=!1,i))));return this.iu=e,e}enqueueAfterDelay(t,e,i){this.Pu(),this.lu.indexOf(t)>-1&&(e=0);const r=_B.createAndSchedule(this,t,e,i,l=>this.Eu(l));return this._u.push(r),r}Pu(){this.au&&nn()}verifyOperationInProgress(){}du(){var t=this;return(0,A.A)(function*(){let e;do{e=t.iu,yield e}while(e!==t.iu)})()}Au(t){for(const e of this._u)if(e.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this._u)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const e=this._u.indexOf(t);this._u.splice(e,1)}}function cU(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const l of["next","error","complete"])if(l in r&&"function"==typeof r[l])return!0;return!1}(n)}class Ki extends fD{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new ZX,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||i8(this),this._firestoreClient.terminate()}}function eQ(n,t){const i="string"==typeof n?n:t||"(default)",r=Op("object"==typeof n?n:fL(),"firestore").getImmediate({identifier:i});if(!r._initialized){const l=(n=>{const t=au("firestore");if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),i]:[t.substring(0,e),i]})();l&&function QX(n,t,e,i={}){var r;const l=(n=Yn(n,fD))._getSettings(),d=`${t}:${e}`;if("firestore.googleapis.com"!==l.host&&l.host!==d&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:d,ssl:!1})),i.mockUserToken){let f,p;if("string"==typeof i.mockUserToken)f=i.mockUserToken,p=lo.MOCK_USER;else{f=function UE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[ld(JSON.stringify({alg:"none",type:"JWT"})),ld(JSON.stringify(d)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const E=i.mockUserToken.sub||i.mockUserToken.user_id;if(!E)throw new Mt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new lo(E)}n._authCredentials=new t2(new XR(f,p))}}(r,...l)}return r}function Rr(n){return n._firestoreClient||i8(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function i8(n){var t,e,i;const r=n._freezeSettings(),l=(p=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Cq(n._databaseId,p,n._persistenceKey,(x=r).host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,XG(x.experimentalLongPollingOptions),x.useFetchStreams));var p,x;n._firestoreClient=new LX(n._authCredentials,n._appCheckCredentials,n._queue,l),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function lU(n){return function(e){const i=new uo;return e.asyncQueue.enqueueAndForget((0,A.A)(function*(){return function wX(n,t){return LB.apply(this,arguments)}(yield oU(e),i)})),i.promise}(Rr(n=Yn(n,Ki)))}class Mg{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Mg(To.fromBase64String(t))}catch(e){throw new Mt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Mg(To.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Rg{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Mt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class kg{constructor(t){this._methodName=t}}class uU{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Mt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Mt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Tn(this._lat,t._lat)||Tn(this._long,t._long)}}const iQ=/^__.*__$/;class rQ{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new $d(t,this.data,this.fieldMask,e,this.fieldTransforms):new bb(t,this.data,e,this.fieldTransforms)}}class s8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new $d(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function a8(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class Gk{constructor(t,e,i,r,l,d){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===l&&this.mu(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new Gk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.gu({path:i,yu:!1});return r.wu(t),r}Su(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return qk(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(a8(this.fu)&&iQ.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class oQ{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||dD(t)}Fu(t,e,i,r=!1){return new Gk({fu:t,methodName:e,vu:i,path:Qi.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Og(n){const t=n._freezeSettings(),e=dD(n._databaseId);return new oQ(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Wk(n,t,e,i,r,l={}){const d=n.Fu(l.merge||l.mergeFields?2:0,t,e,r);_U("Data must be an object, but it was:",d,i);const f=u8(i,d);let p,E;if(l.merge)p=new ka(d.fieldMask),E=d.fieldTransforms;else if(l.mergeFields){const x=[];for(const R of l.mergeFields){const U=gD(t,R,e);if(!d.contains(U))throw new Mt(mt.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);h8(x,U)||x.push(U)}p=new ka(x),E=d.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,E=d.fieldTransforms;return new rQ(new cs(f),p,E)}class pD extends kg{_toFieldTransform(t){if(2!==t.fu)throw t.Du(1===t.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof pD}}class dU extends kg{_toFieldTransform(t){return new YC(t.path,new vb)}isEqual(t){return t instanceof dU}}function pU(n,t,e,i){const r=n.Fu(1,t,e);_U("Data must be an object, but it was:",r,i);const l=[],d=cs.empty();Wf(i,(p,E)=>{const x=Kk(t,p,e);E=ui(E);const R=r.Su(x);if(E instanceof pD)l.push(x);else{const U=Pg(E,R);null!=U&&(l.push(x),d.set(x,U))}});const f=new ka(l);return new s8(d,f,r.fieldTransforms)}function gU(n,t,e,i,r,l){const d=n.Fu(1,t,e),f=[gD(t,i,e)],p=[r];if(l.length%2!=0)throw new Mt(mt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<l.length;U+=2)f.push(gD(t,l[U])),p.push(l[U+1]);const E=[],x=cs.empty();for(let U=f.length-1;U>=0;--U)if(!h8(E,f[U])){const K=f[U];let me=p[U];me=ui(me);const fe=d.Su(K);if(me instanceof pD)E.push(K);else{const he=Pg(me,fe);null!=he&&(E.push(K),x.set(K,he))}}const R=new ka(E);return new s8(x,R,d.fieldTransforms)}function Pg(n,t){if(d8(n=ui(n)))return _U("Unsupported field value:",t,n),u8(n,t);if(n instanceof kg)return function(i,r){if(!a8(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(r);l&&r.fieldTransforms.push(l)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(i,r){const l=[];let d=0;for(const f of i){let p=Pg(f,r.bu(d));null==p&&(p={nullValue:"NULL_VALUE"}),l.push(p),d++}return{arrayValue:{values:l}}}(n,t)}return function(i,r){if(null===(i=ui(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return Yz(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const l=er.fromDate(i);return{timestampValue:Eb(r.serializer,l)}}if(i instanceof er){const l=new er(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Eb(r.serializer,l)}}if(i instanceof uU)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Mg)return{bytesValue:y5(r.serializer,i._byteString)};if(i instanceof Zr){const l=r.databaseId,d=i.firestore._databaseId;if(!d.isEqual(l))throw r.Du(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:T2(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${zk(i)}`)}(n,t)}function u8(n,t){const e={};return vz(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wf(n,(i,r)=>{const l=Pg(r,t.pu(i));null!=l&&(e[i]=l)}),{mapValue:{fields:e}}}function d8(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof er||n instanceof uU||n instanceof Mg||n instanceof Zr||n instanceof kg)}function _U(n,t,e){if(!d8(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=zk(e);throw t.Du("an object"===i?n+" a custom object":n+" "+i)}var r}function gD(n,t,e){if((t=ui(t))instanceof Rg)return t._internalPath;if("string"==typeof t)return Kk(n,t);throw qk("Field path arguments must be of type string or ",n,!1,void 0,e)}const sQ=new RegExp("[~\\*/\\[\\]]");function Kk(n,t,e){if(t.search(sQ)>=0)throw qk(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Rg(...t.split("."))._internalPath}catch{throw qk(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function qk(n,t,e,i,r){const l=i&&!i.isEmpty(),d=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||d)&&(p+=" (found",l&&(p+=` in field ${i}`),d&&(p+=` in document ${r}`),p+=")"),new Mt(mt.INVALID_ARGUMENT,f+n+p)}function h8(n,t){return n.some(e=>e.isEqual(t))}class _D{constructor(t,e,i,r,l){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new aQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Xk("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class aQ extends _D{data(){return super.data()}}function Xk(n,t){return"string"==typeof t?Kk(n,t):t instanceof Rg?t._internalPath:t._delegate._internalPath}function f8(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Mt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vU{}class vD extends vU{}function $b(n,t,...e){let i=[];t instanceof vU&&i.push(t),i=i.concat(e),function(l){const d=l.filter(p=>p instanceof Hb).length,f=l.filter(p=>p instanceof yD).length;if(d>1||d>0&&f>0)throw new Mt(mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class yD extends vD{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new yD(t,e,i)}_apply(t){const e=this._parse(t);return _8(t._query,e),new ls(t.firestore,t.converter,v2(t._query,e))}_parse(t){const e=Og(t.firestore);return function(l,d,f,p,E,x,R){let U;if(E.isKeyField()){if("array-contains"===x||"array-contains-any"===x)throw new Mt(mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if("in"===x||"not-in"===x){g8(R,x);const K=[];for(const me of R)K.push(p8(p,l,me));U={arrayValue:{values:K}}}else U=p8(p,l,R)}else"in"!==x&&"not-in"!==x&&"array-contains-any"!==x||g8(R,x),U=function l8(n,t,e,i=!1){return Pg(e,n.Fu(i?4:3,t))}(f,"where",R,"in"===x||"not-in"===x);return ii.create(E,x,U)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function Qk(n,t,e){const i=t,r=Xk("where",n);return yD._create(r,i,e)}class Hb extends vU{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Hb(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Li.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,l){let d=r;const f=l.getFlattenedFilters();for(const p of f)_8(d,p),d=v2(d,p)}(t._query,e),new ls(t.firestore,t.converter,v2(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yU extends vD{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new yU(t,e)}_apply(t){const e=function(r,l,d){if(null!==r.startAt)throw new Mt(mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Mt(mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new GC(l,d)}(t._query,this._field,this._direction);return new ls(t.firestore,t.converter,function(r,l){const d=r.explicitOrderBy.concat([l]);return new Ud(r.path,r.collectionGroup,d,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}function Yk(n,t="asc"){const e=t,i=Xk("orderBy",n);return yU._create(i,e)}class Zk extends vD{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new Zk(t,e,i)}_apply(t){return new ls(t.firestore,t.converter,gk(t._query,this._limit,this._limitType))}}function Jk(n){return function JG(n,t){if(t<=0)throw new Mt(mt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}("limit",n),Zk._create("limit",n,"F")}function p8(n,t,e){if("string"==typeof(e=ui(e))){if(""===e)throw new Mt(mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_2(t)&&-1!==e.indexOf("/"))throw new Mt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Qn.fromString(e));if(!Yt.isDocumentKey(i))throw new Mt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return yg(n,new Yt(i))}if(e instanceof Zr)return yg(n,e._key);throw new Mt(mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zk(e)}.`)}function g8(n,t){if(!Array.isArray(n)||0===n.length)throw new Mt(mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function _8(n,t){const e=function(r,l){for(const d of r)for(const f of d.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Mt(mt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class y8{convertValue(t,e="none"){switch(qf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Vr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Bd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw nn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Wf(t,(r,l)=>{i[r]=this.convertValue(l,e)}),i}convertGeoPoint(t){return new uU(Vr(t.latitude),Vr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=uk(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(jC(t));default:return null}}convertTimestamp(t){const e=Vd(t);return new er(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Qn.fromString(t);fn(R5(i));const r=new vg(i.get(1),i.get(3)),l=new Yt(i.popFirst(5));return r.isEqual(e)||yr(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),l}}function n1(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class cQ extends y8{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mg(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zr(this.firestore,null,e)}}class Ng{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class zb extends _D{constructor(t,e,i,r,l,d){super(t,e,i,r,d),this._firestore=t,this._firestoreImpl=t,this.metadata=l}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new r1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Xk("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class r1 extends zb{data(t={}){return super.data(t)}}class Gb{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ng(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new r1(this._firestore,this._userDataWriter,i.key,i,new Ng(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Mt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,l){if(r._snapshot.oldDocs.isEmpty()){let d=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new r1(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Ng(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:d++}))}{let d=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>l||3!==f.type).map(f=>{const p=new r1(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Ng(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let E=-1,x=-1;return 0!==f.type&&(E=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),1!==f.type&&(d=d.add(f.doc),x=d.indexOf(f.doc.key)),{type:uQ(f.type),doc:p,oldIndex:E,newIndex:x}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function uQ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}class im extends y8{constructor(t){super(),this.firestore=t}convertBytes(t){return new Mg(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zr(this.firestore,null,e)}}function bU(n){n=Yn(n,ls);const t=Yn(n.firestore,Ki),e=Rr(t),i=new im(t);return f8(n._query),function qG(n,t,e={}){const i=new uo;return n.asyncQueue.enqueueAndForget((0,A.A)(function*(){return function(l,d,f,p,E){const x=new jk({next:U=>{d.enqueueAndForget(()=>bB(l,R)),U.fromCache&&"server"===p.source?E.reject(new Mt(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):E.resolve(U)},error:U=>E.reject(U)}),R=new CB(f,x,{includeMetadataChanges:!0,ra:!0});return vB(l,R)}(yield jb(n),n.asyncQueue,t,e,i)})),i.promise}(e,n._query).then(r=>new Gb(t,i,n,r))}const bQ={maxAttempts:5};class wQ{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Og(t)}set(t,e,i){this._verifyNotCommitted();const r=rm(t,this._firestore),l=n1(r.converter,e,i),d=Wk(this._dataReader,"WriteBatch.set",r._key,l,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,br.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const l=rm(t,this._firestore);let d;return d="string"==typeof(e=ui(e))||e instanceof Rg?gU(this._dataReader,"WriteBatch.update",l._key,e,i,r):pU(this._dataReader,"WriteBatch.update",l._key,e),this._mutations.push(d.toMutation(l._key,br.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=rm(t,this._firestore);return this._mutations=this._mutations.concat(new wb(e._key,br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Mt(mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rm(n,t){if((n=ui(n)).firestore!==t)throw new Mt(mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class EQ extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Og(e)}get(e){const i=rm(e,this._firestore),r=new cQ(this._firestore);return this._transaction.lookup([i._key]).then(l=>{if(!l||1!==l.length)return nn();const d=l[0];if(d.isFoundDocument())return new _D(this._firestore,r,d.key,d,i.converter);if(d.isNoDocument())return new _D(this._firestore,r,i._key,null,i.converter);throw nn()})}set(e,i,r){const l=rm(e,this._firestore),d=n1(l.converter,i,r),f=Wk(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,r);return this._transaction.set(l._key,f),this}update(e,i,r,...l){const d=rm(e,this._firestore);let f;return f="string"==typeof(i=ui(i))||i instanceof Rg?gU(this._dataReader,"Transaction.update",d._key,i,r,l):pU(this._dataReader,"Transaction.update",d._key,i),this._transaction.update(d._key,f),this}delete(e){const i=rm(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=rm(t,this._firestore),i=new im(this._firestore);return super.get(t).then(r=>new zb(this._firestore,i,e._key,r._document,new Ng(!1,!1),e.converter))}}function b8(n,t,e){n=Yn(n,Ki);const i=Object.assign(Object.assign({},bQ),e);return function(l){if(l.maxAttempts<1)throw new Mt(mt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(l,d,f){const p=new uo;return l.asyncQueue.enqueueAndForget((0,A.A)(function*(){const E=yield function WG(n){return Hk(n).then(t=>t.datastore)}(l);new FX(l.asyncQueue,E,f,d,p).Xa()})),p.promise}(Rr(n),r=>t(new EQ(n,r)),i)}!function(t,e=!0){zf=Mf,_d(new cu("firestore",(i,{instanceIdentifier:r,options:l})=>{const d=i.getProvider("app").getImmediate(),f=new Ki(new n2(i.getProvider("auth-internal")),new JR(i.getProvider("app-check-internal")),function(E,x){if(!Object.prototype.hasOwnProperty.apply(E.options,["projectId"]))throw new Mt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vg(E.options.projectId,x)}(d,r),d);return l=Object.assign({useFetchStreams:e},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Oc(ZV,"4.6.4",t),Oc(ZV,"4.6.4","esm2017")}();var wr=function(n){return n.USER_STATE="user_state",n.STORIES="stories",n.CHAPTERS="chapters",n}(wr||{});const MQ={user_state:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},chapters:{type:"array"}},required:["id","name"]}},stories:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},languages:{type:"array"},description:{type:"string"}},required:["id","name","languages"]}},chapters:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},chapter_number:{type:"number"},story_id:{type:"string"},name:{type:"string"},language:{type:"string"},is_premium:{type:"boolean"},author:{type:"string"},pages:{type:"array"},description:{type:"string"},empathy_name:{type:"string"},sympathy_name:{type:"string"}},required:["id","chapter_number","story_id","name","language","empathy_name","sympathy_name"]}}},C8={apiKey:"AIzaSyBnagIv1jnnkGEMASLY3bJIrc5Iuz-Syks",authDomain:"empathy-7224d.firebaseapp.com",projectId:"empathy-7224d",storageBucket:"empathy-7224d.appspot.com",messagingSenderId:"957387697152",appId:"1:957387697152:web:a2fd71b0ac7fc060703ce5",measurementId:"G-WBFW0YBS26"};var kQ=k(6719),ic=k(7176),kr=k(8663),Ys=k(6434),IU=k(203);Promise.resolve(!1);var PQ=Promise.resolve(!0),Gd=Promise.resolve();function Fg(n,t){return n||(n=0),new Promise(function(e){return setTimeout(function(){return e(t)},n)})}function wD(){return Math.random().toString(36).substring(2)}var CU=0;function ED(){var n=1e3*Date.now();return n<=CU&&(n=CU+1),CU=n,n}var UQ="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)?function VQ(n){process.on("exit",function(){return n()}),process.on("beforeExit",function(){return n().then(function(){return process.exit()})}),process.on("SIGINT",function(){return n().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return n().then(function(){console.trace(t),process.exit(101)})})}:function LQ(n){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return n(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){n()},!0),window.addEventListener("unload",function(){n()},!0)}},Lg=new Set,D8=!1;function HQ(){var n=[];return Lg.forEach(function(t){n.push(t()),Lg.delete(t)}),Promise.all(n)}function Vg(n,t){return n.broadcastChannel.postInternal({context:"leader",action:t,token:n.token})}function T8(n){n.isLeader=!0,n._hasLeader=!0;var t=function $Q(n){if(function jQ(){D8||(D8=!0,UQ(HQ))}(),"function"!=typeof n)throw new Error("Listener is no function");return Lg.add(n),{remove:function(){return Lg.delete(n)},run:function(){return Lg.delete(n),n()}}}(function(){return n.die()});n._unl.push(t);var e=function(r){"leader"===r.context&&"apply"===r.action&&Vg(n,"tell"),"leader"===r.context&&"tell"===r.action&&!n._dpLC&&(n._dpLC=!0,n._dpL(),Vg(n,"tell"))};return n.broadcastChannel.addEventListener("internal",e),n._lstns.push(e),Vg(n,"tell")}var x8=function(t,e){var i=this;this.broadcastChannel=t,t._befC.push(function(){return i.die()}),this._options=e,this.isLeader=!1,this.isDead=!1,this.token=wD(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};x8.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(e){var i=e.held?e.held.filter(function(r){return r.name===t.lN}):[];return!!(i&&i.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var e=new Promise(function(i,r){t._wKMC.res=i,t._wKMC.rej=r});this._wLMP=new Promise(function(i){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,T8(t),i(),e}).catch(function(){})})}return this._wLMP},set onduplicate(n){},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),Vg(this,"death")}};var A8=function(t,e){var i=this;this.broadcastChannel=t,this._options=e,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=wD(),this._aplQ=Gd,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var r=function(d){"leader"===d.context&&("death"===d.action&&(i._hasLeader=!1),"tell"===d.action&&(i._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",r),this._lstns.push(r)};A8.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var e=this;return this.isLeader?Fg(0,!0):this.isDead?Fg(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return function(){if(e.isLeader)return PQ;var d,l=!1,f=new Promise(function(x){d=function(){l=!0,x()}}),p=function(R){"leader"===R.context&&R.token!=e.token&&("apply"===R.action&&R.token>e.token&&d(),"tell"===R.action&&(d(),e._hasLeader=!0))};e.broadcastChannel.addEventListener("internal",p);var E=t?4*e._options.responseTime:e._options.responseTime;return Vg(e,"apply").then(function(){return Promise.race([Fg(E),f.then(function(){return Promise.reject(new Error)})])}).then(function(){return Vg(e,"apply")}).then(function(){return Promise.race([Fg(E),f.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return e.broadcastChannel.removeEventListener("internal",p),!l&&T8(e).then(function(){return!0})})}()}).then(function(){e._aplQC=e._aplQC-1}),this._aplQ.then(function(){return e.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function zQ(n){return n.isLeader?Gd:new Promise(function(t){var e=!1;function i(){e||(e=!0,n.broadcastChannel.removeEventListener("internal",l),t(!0))}n.applyOnce().then(function(){n.isLeader&&i()}),function d(){return Fg(n._options.fallbackInterval).then(function(){if(!n.isDead&&!e){if(!n.isLeader)return n.applyOnce(!0).then(function(){n.isLeader?i():d()});i()}})}();var l=function(f){"leader"===f.context&&"death"===f.action&&(n._hasLeader=!1,n.applyOnce().then(function(){n.isLeader&&i()}))};n.broadcastChannel.addEventListener("internal",l),n._lstns.push(l)})}(this)),this._aLP},set onduplicate(n){this._dpL=n},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,Vg(this,"death")}};const{isArray:KQ}=Array;var oY={create:function JQ(n){var t={time:ED(),messagesCallback:null,bc:new BroadcastChannel(n),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function eY(n){n.bc.close(),n.subFns=[]},onMessage:function nY(n,t){n.messagesCallback=t},postMessage:function tY(n,t){try{return n.bc.postMessage(t,!1),Gd}catch(e){return Promise.reject(e)}},canBeUsed:function iY(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&"function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function rY(){return 150},microSeconds:ED},S8=k(9556);function DU(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(n));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),n.idb&&"function"==typeof n.idb.onclose&&(t.idb.onclose=n.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),n.methods&&(t.methods=n.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var Il="messages",ID={durability:"relaxed"};function M8(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function s1(n){n.commit&&n.commit()}function R8(n){n.closed||k8(n).then(function(){return Fg(n.options.idb.fallbackInterval)}).then(function(){return R8(n)})}function k8(n){return n.closed||!n.messagesCallback?Gd:function dY(n,t){var e=n.transaction(Il,"readonly",ID),i=e.objectStore(Il),r=[],l=IDBKeyRange.bound(t+1,1/0);if(i.getAll){var d=i.getAll(l);return new Promise(function(p,E){d.onerror=function(x){return E(x)},d.onsuccess=function(x){p(x.target.result)}})}return new Promise(function(p,E){var x=function f(){try{return l=IDBKeyRange.bound(t+1,1/0),i.openCursor(l)}catch{return i.openCursor()}}();x.onerror=function(R){return E(R)},x.onsuccess=function(R){var U=R.target.result;U?U.value.id<t+1?U.continue(t+1):(r.push(U.value),U.continue()):(s1(e),p(r))}})}(n.db,n.lastCursorId).then(function(t){var e=t.filter(function(i){return!!i}).map(function(i){return i.id>n.lastCursorId&&(n.lastCursorId=i.id),i}).filter(function(i){return function gY(n,t){return!(n.uuid===t.uuid||t.eMIs.has(n.id)||n.data.time<t.messagesCallbackTime)}(i,n)}).sort(function(i,r){return i.time-r.time});return e.forEach(function(i){n.messagesCallback&&(n.eMIs.add(i.id),n.messagesCallback(i.data))}),Gd})}var EY={create:function pY(n,t){return t=DU(t),function lY(n){var i=M8().open("pubkey.broadcast-channel-0-"+n);return i.onupgradeneeded=function(r){r.target.result.createObjectStore(Il,{keyPath:"id",autoIncrement:!0})},new Promise(function(r,l){i.onerror=function(d){return l(d)},i.onsuccess=function(){r(i.result)}})}(n).then(function(e){var i={closed:!1,lastCursorId:0,channelName:n,options:t,uuid:wD(),eMIs:new S8.p4(2*t.idb.ttl),writeBlockPromise:Gd,messagesCallback:null,readQueuePromises:[],db:e};return e.onclose=function(){i.closed=!0,t.idb.onclose&&t.idb.onclose()},R8(i),i})},close:function _Y(n){n.closed=!0,n.db.close()},onMessage:function yY(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t,k8(n)},postMessage:function vY(n,t){return n.writeBlockPromise=n.writeBlockPromise.then(function(){return function uY(n,t,e){var r={uuid:t,time:Date.now(),data:e},l=n.transaction([Il],"readwrite",ID);return new Promise(function(d,f){l.oncomplete=function(){return d()},l.onerror=function(E){return f(E)},l.objectStore(Il).add(r),s1(l)})}(n.db,n.uuid,t)}).then(function(){0===function NQ(n,t){return Math.floor(Math.random()*(t-n+1)+n)}(0,10)&&function mY(n){return function fY(n,t){var e=Date.now()-t,i=n.transaction(Il,"readonly",ID),r=i.objectStore(Il),l=[];return new Promise(function(d){r.openCursor().onsuccess=function(f){var p=f.target.result;if(p){var E=p.value;E.time<e?(l.push(E),p.continue()):(s1(i),d(l))}else d(l)}})}(n.db,n.options.idb.ttl).then(function(t){return function hY(n,t){if(n.closed)return Promise.resolve([]);var i=n.db.transaction(Il,"readwrite",ID).objectStore(Il);return Promise.all(t.map(function(r){var l=i.delete(r);return new Promise(function(d){l.onsuccess=function(){return d()}})}))}(n,t.map(function(e){return e.id}))})}(n)}),n.writeBlockPromise},canBeUsed:function bY(){return!!M8()},type:"idb",averageResponseTime:function wY(n){return 2*n.idb.fallbackInterval},microSeconds:ED};function O8(){var n;if(typeof window>"u")return null;try{n=window.localStorage,n=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return n}function P8(n){return"pubkey.broadcastChannel-"+n}function N8(){var n=O8();if(!n)return!1;try{var t="__broadcastchannel_check";n.setItem(t,"works"),n.removeItem(t)}catch{return!1}return!0}var OY={create:function SY(n,t){if(t=DU(t),!N8())throw new Error("BroadcastChannel: localstorage cannot be used");var e=wD(),i=new S8.p4(t.localstorage.removeTimeout),r={channelName:n,uuid:e,eMIs:i};return r.listener=function xY(n,t){var e=P8(n),i=function(l){l.key===e&&t(JSON.parse(l.newValue))};return window.addEventListener("storage",i),i}(n,function(l){r.messagesCallback&&l.uuid!==e&&(!l.token||i.has(l.token)||l.data.time&&l.data.time<r.messagesCallbackTime||(i.add(l.token),r.messagesCallback(l.data)))}),r},close:function MY(n){!function AY(n){window.removeEventListener("storage",n)}(n.listener)},onMessage:function RY(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t},postMessage:function TY(n,t){return new Promise(function(e){Fg().then(function(){var i=P8(n.channelName),r={token:wD(),time:Date.now(),data:t,uuid:n.uuid},l=JSON.stringify(r);O8().setItem(i,l);var d=document.createEvent("Event");d.initEvent("storage",!0,!0),d.key=i,d.newValue=l,window.dispatchEvent(d),e()})})},canBeUsed:N8,type:"localstorage",averageResponseTime:function kY(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:ED},F8=ED,TU=new Set,jY={create:function NY(n){var t={time:F8(),name:n,messagesCallback:null};return TU.add(t),t},close:function FY(n){TU.delete(n)},onMessage:function VY(n,t){n.messagesCallback=t},postMessage:function LY(n,t){return new Promise(function(e){return setTimeout(function(){Array.from(TU).forEach(function(r){r.name===n.name&&r!==n&&r.messagesCallback&&r.time<t.time&&r.messagesCallback(t)}),e()},5)})},canBeUsed:function BY(){return!0},type:"simulate",averageResponseTime:function UY(){return 5},microSeconds:F8},V8=[oY,EY,OY],B8=new Set,HY=0,xU=function(t,e){this.id=HY++,B8.add(this),this.name=t,this.options=DU(e),this.method=function $Y(n){var t=[].concat(n.methods,V8).filter(Boolean);if(n.type){if("simulate"===n.type)return jY;var e=t.find(function(r){return r.type===n.type});if(e)return e;throw new Error("method-type "+n.type+" not found")}n.webWorkerSupport||(t=t.filter(function(r){return"idb"!==r.type}));var i=t.find(function(r){return r.canBeUsed()});if(i)return i;throw new Error("No usable method found in "+JSON.stringify(V8.map(function(r){return r.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function zY(n){var t=n.method.create(n.name,n.options);!function OQ(n){return n&&"function"==typeof n.then}(t)?n._state=t:(n._prepP=t,t.then(function(e){n._state=e}))}(this)};function U8(n,t,e){var r={time:n.method.microSeconds(),type:t,data:e};return(n._prepP?n._prepP:Gd).then(function(){var d=n.method.postMessage(n._state,r);return n._uMP.add(d),d.catch().then(function(){return n._uMP.delete(d)}),d})}function j8(n){return n._addEL.message.length>0||n._addEL.internal.length>0}function $8(n,t,e){n._addEL[t].push(e),function GY(n){if(!n._iL&&j8(n)){var t=function(r){n._addEL[r.type].forEach(function(l){r.time>=l.time&&l.fn(r.data)})},e=n.method.microSeconds();n._prepP?n._prepP.then(function(){n._iL=!0,n.method.onMessage(n._state,t,e)}):(n._iL=!0,n.method.onMessage(n._state,t,e))}}(n)}function H8(n,t,e){n._addEL[t]=n._addEL[t].filter(function(i){return i!==e}),function WY(n){if(n._iL&&!j8(n)){n._iL=!1;var t=n.method.microSeconds();n.method.onMessage(n._state,null,t)}}(n)}xU._pubkey=!0,xU.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return U8(this,"message",t)},postInternal:function(t){return U8(this,"internal",t)},set onmessage(n){var e={time:this.method.microSeconds(),fn:n};H8(this,"message",this._onML),n&&"function"==typeof n?(this._onML=e,$8(this,"message",e)):this._onML=null},addEventListener:function(t,e){$8(this,t,{time:this.method.microSeconds(),fn:e})},removeEventListener:function(t,e){H8(this,t,this._addEL[t].find(function(r){return r.fn===e}))},close:function(){var t=this;if(!this.closed){B8.delete(this),this.closed=!0;var e=this._prepP?this._prepP:Gd;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(i){return i()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var a1=new Map;function z8(n,t,e,i){var r=a1.get(t);return r||(r={bc:new xU(["RxDB:",n,e].join("|")),refs:new Set},a1.set(t,r)),r.refs.add(i),r.bc}function SU(n,t){var e=a1.get(n);if(e&&(e.refs.delete(t),0===e.refs.size))return a1.delete(n),e.bc.close()}function KY(n,t,e,i){if(t.multiInstance){var r=i||z8(n,t.databaseInstanceToken,e.databaseName,e),l=new B.B,d=U=>{U.storageName===n&&U.databaseName===t.databaseName&&U.collectionName===t.collectionName&&U.version===t.schema.version&&l.next(U.eventBulk)};r.addEventListener("message",d);var f=e.changeStream(),p=!1,E=f.subscribe(U=>{p||r.postMessage({storageName:n,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:U})});e.changeStream=function(){return l.asObservable().pipe(function QQ(...n){return function XQ(...n){const t=(0,Ue.lI)(n),e=(0,Ue.R0)(n,1/0);return n=function qQ(n){return 1===n.length&&KQ(n[0])?n[0]:n}(n),(0,se.N)((i,r)=>{(0,fh.U)(e)((0,Be.H)([i,...n],t)).subscribe(r)})}(...n)}(f))};var x=e.close.bind(e);e.close=(0,A.A)(function*(){return p=!0,E.unsubscribe(),r.removeEventListener("message",d),i||(yield SU(t.databaseInstanceToken,e)),x()});var R=e.remove.bind(e);e.remove=(0,A.A)(function*(){return p=!0,E.unsubscribe(),r.removeEventListener("message",d),i||(yield SU(t.databaseInstanceToken,e)),R()})}}var MU=k(9403),Zs=k(5520),G8=new WeakMap,qY=new WeakMap;function W8(n){return(0,MU.q)(qY,n,()=>function WQ(n,t){if(n._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function GQ(n,t){return n||(n={}),(n=JSON.parse(JSON.stringify(n))).fallbackInterval||(n.fallbackInterval=3e3),n.responseTime||(n.responseTime=t.method.averageResponseTime(t.options)),n}(t,n);var e=function FQ(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&"function"==typeof navigator.locks.request}()?new x8(n,t):new A8(n,t);return n._befC.push(function(){return e.die()}),n._leaderElector=e,e}(n))}function XY(){var n=z8(this.storage.name,this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return SU(this.token,this),t()};var e=W8(n);return e||(e=W8(n),G8.set(this,e)),this.leaderElector=()=>e,e}function QY(){return!this.multiInstance||this.leaderElector().isLeader}function YY(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):Zs.Ms}var K8={name:"leader-election",rxdb:!0,prototypes:{RxDatabase:n=>{n.leaderElector=XY,n.isLeader=QY,n.waitForLeadership=YY}},hooks:{preDestroyRxDatabase:{after:function ZY(n){var t=G8.get(n);t&&t.die()}}}},Bc=k(1885),Js=k(6893),CD=k(2060),Wb=k(4552),Bg=k(6568);function q8(n,t){return n.input.metaInstance.findDocumentsById(t.map(e=>(0,Bc.U)(n.input.metaInstance.schema,{itemId:e,isCheckpoint:"0"})),!0).then(e=>{var i={};return Object.values(e).forEach(r=>{i[r.itemId]={docData:r.docData,metaDocument:r}}),i})}function c1(n,t,e,i){return RU.apply(this,arguments)}function RU(){return(RU=(0,A.A)(function*(n,t,e,i){var r=t[n.primaryPath],l=e?(0,Js.C9)(e):{id:"",isCheckpoint:"0",itemId:r,docData:t,_attachments:{},_deleted:!1,_rev:(0,CD.Fq)(),_meta:{lwt:0}};return l.docData=t,i&&(l.isResolvedConflict=i),l._meta.lwt=(0,Wb.t)(),l.id=(0,Bc.U)(n.input.metaInstance.schema,l),l._rev=(0,Bg.CM)(yield n.checkpointKey,e),{previous:e,document:l}})).apply(this,arguments)}var l1=k(4843);function u1(n,t){return kU.apply(this,arguments)}function kU(){return(kU=(0,A.A)(function*(n,t){var e=(0,Bc.U)(n.input.metaInstance.schema,{isCheckpoint:"1",itemId:t}),r=(yield n.input.metaInstance.findDocumentsById([e],!1))[0];if(n.lastCheckpointDoc[t]=r,r)return r.checkpointData})).apply(this,arguments)}function d1(n,t,e){return OU.apply(this,arguments)}function OU(){return(OU=(0,A.A)(function*(n,t,e){n.checkpointQueue=n.checkpointQueue.then((0,A.A)(function*(){var i=n.lastCheckpointDoc[t];if(e&&!n.events.canceled.getValue()&&(!i||JSON.stringify(i.checkpointData)!==JSON.stringify(e))){var r={id:"",isCheckpoint:"1",itemId:t,_deleted:!1,_attachments:{},checkpointData:e,_meta:(0,CD.o4)(),_rev:(0,CD.Fq)()};for(r.id=(0,Bc.U)(n.input.metaInstance.schema,r);!n.events.canceled.getValue();){if(i&&(r.checkpointData=(0,Js.Mu)([i.checkpointData,r.checkpointData])),r._meta.lwt=(0,Wb.t)(),r._rev=(0,Bg.CM)(yield n.checkpointKey,i),n.events.canceled.getValue())return;var l=[{previous:i,document:r}],d=yield n.input.metaInstance.bulkWrite(l,"replication-set-checkpoint"),f=(0,Js.YN)(n.primaryPath,l,d)[0];if(f)return void(n.lastCheckpointDoc[t]=f);var p=d.error[0];if(409!==p.status)throw p;i=(0,kr.ZN)(p.documentInDb),r._rev=(0,Bg.CM)(yield n.checkpointKey,i)}}})),yield n.checkpointQueue})).apply(this,arguments)}function PU(){return(PU=(0,A.A)(function*(n){return"rx_storage_replication_"+(yield n.hashFunction([n.identifier,n.forkInstance.databaseName,n.forkInstance.collectionName].join("||")))})).apply(this,arguments)}var Eu=k(7650);function X8(n,t,e){var i=(0,Ys.FD)(n);return t||delete i._attachments,e||(delete i._meta,delete i._rev),i}function NU(n,t){return n.hasAttachments?t.map(e=>{var i=(0,Ys.o8)(e.document);return i.docData=(0,Js.on)(i.docData),{document:i,previous:e.previous}}):t}function Q8(n){for(;;){if(!n.underlyingPersistentStorage)return n;n=n.underlyingPersistentStorage}}function FU(){return FU=(0,A.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.downstream&&((yield u1(n,"down"))||(yield d1(n,"down",n.input.initialCheckpoint.downstream)));var e=yield n.input.hashFunction(n.input.identifier),i=n.input.replicationHandler,r=0,l=[];function d(fe){n.stats.down.addNewTask=n.stats.down.addNewTask+1;var he={time:r++,task:fe};l.push(he),n.streamQueue.down=n.streamQueue.down.then(()=>{for(var ht=[];l.length>0;){n.events.active.down.next(!0);var vt=(0,kr.ZN)(l.shift());if(!(vt.time<p)){if("RESYNC"===vt.task){if(0===ht.length){ht.push(vt.task);break}break}ht.push(vt.task)}}if(0!==ht.length)return"RESYNC"===ht[0]?function E(){return x.apply(this,arguments)}():function R(fe){n.stats.down.downstreamProcessChanges=n.stats.down.downstreamProcessChanges+1;var he=[],ht=null;return fe.forEach(vt=>{if("RESYNC"===vt)throw new Error("SNH");(0,ic.Hb)(he,vt.documents),ht=(0,Js.Mu)([ht,vt.checkpoint])}),me(he,(0,kr.ZN)(ht))}(ht)}).then(()=>{n.events.active.down.next(!1),!n.firstSyncDone.down.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.down.next(!0)})}if(d("RESYNC"),!n.events.canceled.getValue()){var f=i.masterChangeStream$.pipe((0,Pr.Z)(function(){var fe=(0,A.A)(function*(he){return yield(0,l1._)(n.events.active.up.pipe((0,On.p)(ht=>!ht))),he});return function(he){return fe.apply(this,arguments)}}())).subscribe(fe=>{n.stats.down.masterChangeStreamEmit=n.stats.down.masterChangeStreamEmit+1,d(fe)});(0,l1._)(n.events.canceled.pipe((0,On.p)(fe=>!!fe))).then(()=>f.unsubscribe())}var p=-1;function x(){return(x=(0,A.A)(function*(){if(n.stats.down.downstreamResyncOnce=n.stats.down.downstreamResyncOnce+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>u1(n,"down"));for(var fe=yield n.checkpointQueue,he=[];!n.events.canceled.getValue();){p=r++;var ht=yield i.masterChangesSince(fe,n.input.pullBatchSize);if(0===ht.documents.length||(fe=(0,Js.Mu)([fe,ht.checkpoint]),he.push(me(ht.documents,fe)),ht.documents.length<n.input.pullBatchSize))break}yield Promise.all(he)}})).apply(this,arguments)}var U=Zs.em,K={docs:{}};function me(fe,he){var ht=n.primaryPath;return n.stats.down.persistFromMaster=n.stats.down.persistFromMaster+1,fe.forEach(vt=>{K.docs[vt[ht]]=vt}),K.checkpoint=he,U=U.then(()=>{var vt=K.docs;K.docs={};var wt=K.checkpoint,zt=Object.keys(vt);if(n.events.canceled.getValue()||0===zt.length)return Zs.em;var vn=[],cn={},Ve={},le=[];return Promise.all([n.input.forkInstance.findDocumentsById(zt,!0),q8(n,zt)]).then(([Ee,je])=>{var Ke=new Map;return Ee.forEach(rt=>Ke.set(rt[ht],rt)),Promise.all(zt.map(function(){var rt=(0,A.A)(function*(Ce){var hi=Ke.get(Ce),Rs=hi?X8(hi,n.hasAttachments,!1):void 0,ds=vt[Ce],Jr=je[Ce];Jr&&hi&&Jr.metaDocument.isResolvedConflict===hi._rev&&(yield n.streamQueue.up);var nr=!(!Jr||!Rs)&&(yield n.input.conflictHandler({realMasterState:Jr.docData,newDocumentState:Rs},"downstream-check-if-equal-0").then(ir=>ir.isEqual));if(!nr&&Jr&&Jr.docData._rev&&hi&&hi._meta[n.input.identifier]&&(0,Bg.Wg)(hi._rev)===hi._meta[n.input.identifier]&&(nr=!0),hi&&Jr&&!1===nr||hi&&!Jr)return Zs.em;var Br=!!Rs&&(yield n.input.conflictHandler({realMasterState:ds,newDocumentState:Rs},"downstream-check-if-equal-1").then(ir=>ir.isEqual));if(Rs&&Br)return(!Jr||!1===nr)&&le.push(yield c1(n,Rs,Jr?Jr.metaDocument:void 0)),Zs.em;var zo=Object.assign({},ds,hi?{_meta:(0,Ys.FD)(hi._meta),_attachments:n.hasAttachments&&ds._attachments?ds._attachments:{},_rev:(0,CD.Fq)()}:{_meta:{lwt:(0,Wb.t)()},_rev:(0,CD.Fq)(),_attachments:n.hasAttachments&&ds._attachments?ds._attachments:{}});if(ds._rev){var na=hi?(0,Bg.Wg)(hi._rev)+1:1;zo._meta[n.input.identifier]=na,n.input.keepMeta&&(zo._rev=ds._rev)}n.input.keepMeta&&ds._meta&&(zo._meta=ds._meta);var ci={previous:hi,document:zo};ci.document._rev=ci.document._rev?ci.document._rev:(0,Bg.CM)(e,ci.previous),vn.push(ci),cn[Ce]=ci,Ve[Ce]=yield c1(n,ds,Jr?Jr.metaDocument:void 0)});return function(Ce){return rt.apply(this,arguments)}}()))}).then((0,A.A)(function*(){if(vn.length>0)return n.input.forkInstance.bulkWrite(vn,yield n.downstreamBulkWriteFlag).then(Ee=>{(0,Js.YN)(n.primaryPath,vn,Ee).forEach(Ke=>{var rt=Ke[ht];n.events.processed.down.next(cn[rt]),le.push(Ve[rt])}),Ee.error.forEach(Ke=>{409!==Ke.status&&n.events.error.next((0,Eu.Br)("RC_PULL",{writeError:Ke}))})})})).then(()=>{if(le.length>0)return n.input.metaInstance.bulkWrite(NU(n,le),"replication-down-write-meta").then(Ee=>{Ee.error.forEach(je=>{n.events.error.next((0,Eu.Br)("RC_PULL",{id:je.documentId,writeError:je}))})})}).then(()=>{d1(n,"down",wt)})}).catch(vt=>n.events.error.next(vt)),U}}),FU.apply(this,arguments)}var oZ=k(327);function LU(){return LU=(0,A.A)(function*(n,t,e,i){if(!e._attachments||i&&!i._attachments)throw new Error("_attachments missing");var r=e[n],l=new Set(i&&i._attachments?Object.keys(i._attachments):[]);return yield Promise.all(Object.entries(e._attachments).map(function(){var d=(0,A.A)(function*([f,p]){if((!l.has(f)||i&&(0,kr.ZN)(i._attachments)[f].digest!==p.digest)&&!p.data){var E=yield t.getAttachmentData(r,f,p.digest);p.data=E}});return function(f){return d.apply(this,arguments)}}())),e}),LU.apply(this,arguments)}function VU(){return VU=(0,A.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.upstream&&((yield u1(n,"up"))||(yield d1(n,"up",n.input.initialCheckpoint.upstream)));var e=n.input.replicationHandler;n.streamQueue.up=n.streamQueue.up.then(()=>E().then(()=>{R()}));var i=0,r=-1,l=[],d=Zs.Dr,f={docs:{}},p=n.input.forkInstance.changeStream().subscribe(function(){var K=(0,A.A)(function*(me){if(me.context!==(yield n.downstreamBulkWriteFlag))return n.stats.up.forkChangeStreamEmit=n.stats.up.forkChangeStreamEmit+1,l.push({task:me,time:i++}),n.events.active.up.getValue()||n.events.active.up.next(!0),n.input.waitBeforePersist?n.input.waitBeforePersist().then(()=>R()):R()});return function(me){return K.apply(this,arguments)}}());function E(){return x.apply(this,arguments)}function x(){return x=(0,A.A)(function*(){if(n.stats.up.upstreamInitialSync=n.stats.up.upstreamInitialSync+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>u1(n,"up"));for(var K=yield n.checkpointQueue,me=new Set,fe=function(){var vt=(0,A.A)(function*(){r=i++,me.size>3&&(yield Promise.race(Array.from(me)));var wt=yield(0,Js.p0)(n.input.forkInstance,n.input.pushBatchSize,K);if(0===wt.documents.length)return 1;K=(0,Js.Mu)([K,wt.checkpoint]);var zt=U(wt.documents,(0,kr.ZN)(K));me.add(zt),zt.catch().then(()=>me.delete(zt))});return function(){return vt.apply(this,arguments)}}();!n.events.canceled.getValue()&&!(yield fe()););(yield Promise.all(me)).find(vt=>!!vt)?yield E():!n.firstSyncDone.up.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.up.next(!0)}}),x.apply(this,arguments)}function R(){n.events.canceled.getValue()||0===l.length?n.events.active.up.next(!1):(n.stats.up.processTasks=n.stats.up.processTasks+1,n.events.active.up.next(!0),n.streamQueue.up=n.streamQueue.up.then(()=>{for(var K=[],me={};l.length>0;){var fe=(0,kr.ZN)(l.shift());fe.time<r||((0,ic.Hb)(K,fe.task.events.map(ht=>ht.documentData)),me=(0,Js.Mu)([me,fe.task.checkpoint]))}return(0===K.length?Zs.Dr:U(K,me)).then(()=>{0===l.length?n.events.active.up.next(!1):R()})}))}function U(K,me){return n.stats.up.persistToMaster=n.stats.up.persistToMaster+1,K.forEach(fe=>{f.docs[fe[n.primaryPath]]=fe}),f.checkpoint=me,d=d.then((0,A.A)(function*(){if(n.events.canceled.getValue())return!1;var fe=f.docs;f.docs={};var he=f.checkpoint,ht=Object.keys(fe);if(0===ht.length)return!1;var vt=yield q8(n,ht),wt={},zt=[],vn={},cn={};if(yield Promise.all(ht.map(function(){var nr=(0,A.A)(function*(Br){var zo=fe[Br];cn[Br]=zo;var na=X8(zo,n.hasAttachments,!!n.input.keepMeta),ci=vt[Br];ci&&ci.metaDocument.isResolvedConflict!==zo._rev&&(yield n.input.conflictHandler({realMasterState:ci.docData,newDocumentState:na},"upstream-check-if-equal")).isEqual||ci&&ci.docData._rev&&(0,Bg.Wg)(zo._rev)===zo._meta[n.input.identifier]||(zt.push(Br),wt[Br]={assumedMasterState:ci?ci.docData:void 0,newDocumentState:na},vn[Br]=yield c1(n,na,ci?ci.metaDocument:void 0))});return function(Br){return nr.apply(this,arguments)}}())),0===zt.length)return!1;var Ve=Object.values(wt),le=new Set,Ee={},je=(0,ic.Aj)(Ve,n.input.pushBatchSize);yield Promise.all(je.map(function(){var nr=(0,A.A)(function*(Br){n.hasAttachments&&(yield Promise.all(Br.map(function(){var na=(0,A.A)(function*(ci){ci.newDocumentState=yield function sZ(n,t,e,i){return LU.apply(this,arguments)}(n.primaryPath,n.input.forkInstance,(0,Ys.o8)(ci.newDocumentState),ci.assumedMasterState)});return function(ci){return na.apply(this,arguments)}}()))),(yield e.masterWrite(Br)).forEach(na=>{var ci=na[n.primaryPath];le.add(ci),Ee[ci]=na})});return function(Br){return nr.apply(this,arguments)}}()));var Ke=[];if(zt.forEach(nr=>{le.has(nr)||(n.events.processed.up.next(wt[nr]),Ke.push(vn[nr]))}),n.events.canceled.getValue())return!1;Ke.length>0&&(yield n.input.metaInstance.bulkWrite(NU(n,Ke),"replication-up-write-meta"));var rt=!1;if(le.size>0){n.stats.up.persistToMasterHadConflicts=n.stats.up.persistToMasterHadConflicts+1;var Ce=[],hi={};if(yield Promise.all(Object.entries(Ee).map(([nr,Br])=>{var zo=wt[nr],na={newDocumentState:zo.newDocumentState,assumedMasterState:zo.assumedMasterState,realMasterState:Br};return(0,oZ.r)(n,na,cn[nr]).then(function(){var ci=(0,A.A)(function*(ir){if(ir){n.events.resolvedConflicts.next({input:na,output:ir.output}),Ce.push({previous:cn[nr],document:ir.resolvedDoc});var q1=vt[nr];hi[nr]=yield c1(n,(0,kr.ZN)(Br),q1?q1.metaDocument:void 0,ir.resolvedDoc._rev)}});return function(ir){return ci.apply(this,arguments)}}())})),Ce.length>0){rt=!0,n.stats.up.persistToMasterConflictWrites=n.stats.up.persistToMasterConflictWrites+1;var Rs=yield n.input.forkInstance.bulkWrite(Ce,"replication-up-write-conflict"),ds=[];(0,Js.YN)(n.primaryPath,Ce,Rs).forEach(nr=>{ds.push(hi[nr[n.primaryPath]])}),ds.length>0&&(yield n.input.metaInstance.bulkWrite(NU(n,ds),"replication-up-write-conflict-meta"))}}return d1(n,"up",he),rt})).catch(fe=>(n.events.error.next(fe),!1)),d}(0,l1._)(n.events.canceled.pipe((0,On.p)(K=>!!K))).then(()=>p.unsubscribe())}),VU.apply(this,arguments)}function h1(n){return(0,l1._)(ue([n.firstSyncDone.down.pipe((0,On.p)(t=>!!t)),n.firstSyncDone.up.pipe((0,On.p)(t=>!!t))])).then(()=>{})}function Y8(n){return Promise.all([n.streamQueue.up,n.streamQueue.down,n.checkpointQueue])}function UU(){return(UU=(0,A.A)(function*(n){n.events.canceled.next(!0),n.events.active.up.complete(),n.events.active.down.complete(),n.events.processed.up.complete(),n.events.processed.down.complete(),n.events.resolvedConflicts.complete(),n.events.canceled.complete(),yield n.checkpointQueue})).apply(this,arguments)}var Z8=n=>Promise.resolve(n);function J8(n,t){return"_deleted"===n||((t=(0,Ys.FD)(t))[n]=!!t._deleted,delete t._deleted),t}function jU(n,t,e){return e.map(i=>{var r=(0,Ys.FD)(i);return"_deleted"!==t?(r._deleted=!!r[t],delete r[t]):r._deleted=!!r._deleted,r[n.schema.primaryPath]=(0,Bc.U)(n.schema.jsonSchema,r),r})}function e6(n,t){if(typeof window>"u"||"object"!=typeof window||typeof window.addEventListener>"u"||navigator.onLine)return n.promiseWait(t);var e,i=new Promise(r=>{e=()=>{window.removeEventListener("online",e),r()},window.addEventListener("online",e)});return Promise.race([i,n.promiseWait(t)]).then(()=>{window.removeEventListener("online",e)})}var t6=k(2104),n6=k(3896),DD=k(2284),$U=new WeakMap,i6=function(){function n(e,i,r,l,d,f,p,E){var x=this;this.subs=[],this.subjects={received:new B.B,sent:new B.B,error:new B.B,canceled:new Me.t(!1),active:new Me.t(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.onCancel=[],this.callOnStart=void 0,this.remoteEvents$=new B.B,this.replicationIdentifier=e,this.collection=i,this.deletedField=r,this.pull=l,this.push=d,this.live=f,this.retryTime=p,this.autoStart=E,this.metaInfoPromise=(0,A.A)(function*(){var K="rx-replication-meta-"+(yield i.database.hashFunction([x.collection.name,x.replicationIdentifier].join("-"))),me=function nZ(n,t){var e=(0,Bc.Hq)(n),i={title:"RxReplicationProtocolMetaData",primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:n.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:e+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:e>4?e:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:n.properties},isResolvedConflict:{type:"string"}},keyCompression:n.keyCompression,required:["id","isCheckpoint","itemId"]};return t&&(i.encrypted=["docData"]),(0,Bc.Ud)(i)}(x.collection.schema.jsonSchema,(0,Js.ME)(x.collection.schema.jsonSchema));return{collectionName:K,schema:me}})(),(0,MU.q)($U,i,()=>[]).push(this),this.collection.onDestroy.push(()=>this.cancel()),Object.keys(this.subjects).forEach(K=>{Object.defineProperty(this,K+"$",{get:function(){return this.subjects[K].asObservable()}})});var U=new Promise(K=>{this.callOnStart=K});this.startPromise=U}var t=n.prototype;return t.start=function(){var e=(0,A.A)(function*(){var x,r=this;if(!this.isStopped()){var l=this.pull&&this.pull.modifier?this.pull.modifier:Z8,d=this.push&&this.push.modifier?this.push.modifier:Z8,f=this.collection.database,p=yield this.metaInfoPromise,[E]=yield Promise.all([this.collection.database.storage.createStorageInstance({databaseName:f.name,collectionName:p.collectionName,databaseInstanceToken:f.token,multiInstance:f.multiInstance,options:{},schema:p.schema,password:f.password,devMode:n6.h.isDevMode()}),(0,t6.vV)(this.collection,p.collectionName,p.schema)]);this.metaInstance=E,this.internalReplicationState=function cZ(n){(n=(0,Ys.FD)(n)).forkInstance=Q8(n.forkInstance),n.metaInstance=Q8(n.metaInstance);var t=function iZ(n){return PU.apply(this,arguments)}(n),e={primaryPath:(0,Bc.xQ)(n.forkInstance.schema.primaryKey),hasAttachments:!!n.forkInstance.schema.attachments,input:n,checkpointKey:t,downstreamBulkWriteFlag:t.then(i=>"replication-downstream-"+i),events:{canceled:new Me.t(!1),active:{down:new Me.t(!0),up:new Me.t(!0)},processed:{down:new B.B,up:new B.B},resolvedConflicts:new B.B,error:new B.B},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new Me.t(!1),up:new Me.t(!1)},streamQueue:{down:Zs.em,up:Zs.em},checkpointQueue:Zs.em,lastCheckpointDoc:{}};return function rZ(n){FU.apply(this,arguments)}(e),function aZ(n){VU.apply(this,arguments)}(e),e}({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:f.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe((0,On.p)(x=>!!this.pull),(0,Pr.Z)(function(){var x=(0,A.A)(function*(R){if("RESYNC"===R)return R;var U=(0,Ys.FD)(R);return U.documents=jU(r.collection,r.deletedField,U.documents),U.documents=yield Promise.all(U.documents.map(K=>l(K))),U});return function(R){return x.apply(this,arguments)}}())),masterChangesSince:(x=(0,A.A)(function*(R,U){if(!r.pull)return{checkpoint:null,documents:[]};for(var K=!1,me={};!K&&!r.isStopped();)try{me=yield r.pull.handler(R,U),K=!0}catch(ht){var fe=(0,Eu.Br)("RC_PULL",{checkpoint:R,errors:(0,ic.$r)(ht).map(vt=>(0,IU.S)(vt)),direction:"pull"});r.subjects.error.next(fe),yield e6(r.collection,(0,kr.ZN)(r.retryTime))}if(r.isStopped())return{checkpoint:null,documents:[]};var he=(0,Ys.FD)(me);return he.documents=jU(r.collection,r.deletedField,he.documents),he.documents=yield Promise.all(he.documents.map(ht=>l(ht))),he}),function(U,K){return x.apply(this,arguments)}),masterWrite:function(){var x=(0,A.A)(function*(R){if(!r.push)return[];var U=!1;yield(0,DD.FX)("preReplicationMasterWrite",{rows:R,collection:r.collection});var K=yield Promise.all(R.map(function(){var vt=(0,A.A)(function*(wt){return wt.newDocumentState=yield d(wt.newDocumentState),null===wt.newDocumentState?null:(wt.assumedMasterState&&(wt.assumedMasterState=yield d(wt.assumedMasterState)),"_deleted"!==r.deletedField&&(wt.newDocumentState=J8(r.deletedField,wt.newDocumentState),wt.assumedMasterState&&(wt.assumedMasterState=J8(r.deletedField,wt.assumedMasterState))),wt)});return function(wt){return vt.apply(this,arguments)}}())),me=K.filter(ic.S7),fe=null;for(0===me.length&&(U=!0,fe=[]);!U&&!r.isStopped();)try{if(fe=yield r.push.handler(me),!Array.isArray(fe))throw(0,Eu.Br)("RC_PUSH_NO_AR",{pushRows:R,direction:"push",args:{result:fe}});U=!0}catch(vt){var he=vt.rxdb?vt:(0,Eu.Br)("RC_PUSH",{pushRows:R,errors:(0,ic.$r)(vt).map(wt=>(0,IU.S)(wt)),direction:"push"});r.subjects.error.next(he),yield e6(r.collection,(0,kr.ZN)(r.retryTime))}return r.isStopped()?[]:(yield(0,DD.FX)("preReplicationMasterWriteDocumentsHandle",{result:fe,collection:r.collection}),jU(r.collection,r.deletedField,(0,kr.ZN)(fe)))});return function(U){return x.apply(this,arguments)}}()}}),this.subs.push(this.internalReplicationState.events.error.subscribe(x=>{this.subjects.error.next(x)}),this.internalReplicationState.events.processed.down.subscribe(x=>this.subjects.received.next(x.document)),this.internalReplicationState.events.processed.up.subscribe(x=>{this.subjects.sent.next(x.newDocumentState)}),ue([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([x,R])=>{this.subjects.active.next(x||R)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:x=>{this.remoteEvents$.next(x)},error:x=>{this.subjects.error.next(x)}})),this.live||(yield h1(this.internalReplicationState),yield Y8(this.internalReplicationState),yield this.cancel()),this.callOnStart()}});return function i(){return e.apply(this,arguments)}}(),t.isStopped=function(){return!!this.subjects.canceled.getValue()},t.awaitInitialReplication=function(){var e=(0,A.A)(function*(){return yield this.startPromise,h1((0,kr.ZN)(this.internalReplicationState))});return function i(){return e.apply(this,arguments)}}(),t.awaitInSync=function(){var e=(0,A.A)(function*(){yield this.startPromise,yield h1((0,kr.ZN)(this.internalReplicationState));for(var r=2;r>0;)r--,yield this.collection.database.requestIdlePromise(),yield Y8((0,kr.ZN)(this.internalReplicationState));return!0});return function i(){return e.apply(this,arguments)}}(),t.reSync=function(){this.remoteEvents$.next("RESYNC")},t.emitEvent=function(i){this.remoteEvents$.next(i)},t.cancel=function(){var e=(0,A.A)(function*(){if(this.isStopped())return Zs.Dr;var r=this.onCancel.map(l=>(0,Zs.hq)(l()));return this.internalReplicationState&&(yield function lZ(n){return UU.apply(this,arguments)}(this.internalReplicationState)),this.metaInstance&&r.push((0,kr.ZN)(this.internalReplicationState).checkpointQueue.then(()=>(0,kr.ZN)(this.metaInstance).close())),this.subs.forEach(l=>l.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(r)});return function i(){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,A.A)(function*(){yield(0,kr.ZN)(this.metaInstance).remove();var r=yield this.metaInfoPromise;yield this.cancel(),yield(0,t6.bD)(this.collection,r.collectionName,r.schema)});return function i(){return e.apply(this,arguments)}}(),n}();var uZ=k(9182),dZ=k(5908),hZ=k(5672),fZ=k(4395),o6=k(7396),mZ={RxSchema:uZ.wJ.prototype,RxDocument:dZ.ky,RxQuery:hZ.Mh.prototype,RxCollection:fZ.wm.prototype,RxDatabase:o6.lB.prototype},HU=new Set,s6=new Set;function f1(n){if((0,DD.Xi)("preAddRxPlugin",{plugin:n,plugins:HU}),!HU.has(n)){if(s6.has(n.name))throw(0,Eu.Br)("PL3",{name:n.name,plugin:n});if(HU.add(n),s6.add(n.name),!n.rxdb)throw(0,Eu.JX)("PL1",{plugin:n});n.init&&n.init(),n.prototypes&&Object.entries(n.prototypes).forEach(([t,e])=>e(mZ[t])),n.overwritable&&Object.assign(n6.h,n.overwritable),n.hooks&&Object.entries(n.hooks).forEach(([t,e])=>{e.after&&DD.r[t].push(e.after),e.before&&DD.r[t].unshift(e.before)})}}function a6(n,t){var e=(0,Ys.FD)(t);return delete e[n],e}function pZ(n,t){return t[n].toDate().toISOString()}function c6(n,t){return delete(t=(0,Ys.FD)(t))[n],t}var yZ=function(n){function t(e,i,r,l,d,f=!0,p=5e3,E=!0){var x;return(x=n.call(this,i,r,"_deleted",l,d,f,p,E)||this).firestore=e,x.replicationIdentifierHash=i,x.collection=r,x.pull=l,x.push=d,x.live=f,x.retryTime=p,x.autoStart=E,x}return(0,kQ.A)(t,n),t}(i6);function bZ(n){var t=n.collection;f1(K8);var i,e=new B.B;n.live=typeof n.live>"u"||n.live,n.waitForLeadership=typeof n.waitForLeadership>"u"||n.waitForLeadership;var r=typeof n.serverTimestampField>"u"?"serverTimestamp":n.serverTimestampField;n.serverTimestampField=r;var l=t.schema.primaryPath;if((0,Bc.nT)(t.schema.jsonSchema,r)||r.includes("."))throw(0,Eu.Br)("RC6",{field:r,schema:t.schema.jsonSchema});var E,f=void 0!==n.pull?.filter?(0,ic.$r)(n.pull.filter):[],p=$b(n.firestore.collection,...f);if(n.pull&&(i={handler:(me,fe)=>(0,A.A)(function*(){var he,ht;if(me){var vt=function gZ(n){var t=new Date(n);return er.fromDate(t)}(me.serverTimestamp);he=$b(p,Qk(r,">",vt),Yk(r,"asc"),Jk(fe)),ht=$b(p,Qk(r,"==",vt),Qk(l,">",me.id),Yk(l,"asc"),Jk(fe))}else he=$b(p,Yk(r,"asc"),Jk(fe));for(var wt=!0,zt=[];wt;)yield lU(n.firestore.database),yield b8(n.firestore.database,function(){var Ee=(0,A.A)(function*(je){zt=[];var[Ke,rt]=yield Promise.all([bU(he),ht?bU(ht):void 0]);if(!(Ke.metadata.hasPendingWrites||ht&&(0,kr.ZN)(rt).metadata.hasPendingWrites)){wt=!1,ht&&(zt=(0,kr.ZN)(rt).docs);var Ce=fe-zt.length;if(Ce>0){var hi=Ke.docs.slice(0,Ce).filter(Rs=>!!Rs);(0,ic.Hb)(zt,hi)}}});return function(je){return Ee.apply(this,arguments)}}());if(0===zt.length)return{checkpoint:me??null,documents:[]};var vn=(0,kr.ZN)((0,ic.dG)(zt)),cn=zt.map(Ee=>function _Z(n,t,e){var i=a6(n,e.data());return i[t]=e.id,i}(r,l,Ee));return{documents:cn,checkpoint:{id:vn.id,serverTimestamp:pZ(r,vn.data())}}})(),batchSize:(0,kr.ZN)(n.pull).batchSize,modifier:(0,kr.ZN)(n.pull).modifier,stream$:e.asObservable()}),n.push){var x=n.push?.filter;E={handler:me=>(0,A.A)(function*(){void 0!==x&&(me=yield(0,ic.j7)(me,vt=>x(vt.newDocumentState)));var fe={},he=me.map(vt=>{var wt=vt.newDocumentState[l];return fe[wt]=vt,wt});yield lU(n.firestore.database);var ht=[];return yield b8(n.firestore.database,function(){var vt=(0,A.A)(function*(wt){ht=[];var vn=yield function vZ(n,t){for(var e=[];n.length;){var i=n.splice(0,10);e.push(t(i))}return Promise.all(e).then(r=>r.map(l=>l.docs).flat())}(he,Ee=>bU($b(n.firestore.collection,Qk(function nQ(){return new Rg("__name__")}(),"in",Ee)))),cn={};vn.forEach(Ee=>{var je=a6(r,Ee.data()),Ke=Ee.id;je[l]=Ke,cn[Ke]=je});var Ve=function CQ(n){return Rr(n=Yn(n,Ki)),new wQ(n,t=>function bD(n,t){return function(i,r){const l=new uo;return i.asyncQueue.enqueueAndForget((0,A.A)(function*(){return function _X(n,t,e){return kB.apply(this,arguments)}(yield oU(i),r,l)})),l.promise}(Rr(n),t)}(n,t))}(n.firestore.database),le=!1;yield Promise.all(Object.entries(fe).map(function(){var Ee=(0,A.A)(function*([je,Ke]){var rt=cn[je];if(!rt||Ke.assumedMasterState&&!1!==(yield t.conflictHandler({newDocumentState:rt,realMasterState:Ke.assumedMasterState},"replication-firestore-push")).isEqual){le=!0;var Ce=function t8(n,t,...e){if(n=ui(n),1===arguments.length&&(t=ek.newId()),aU("doc","path",t),n instanceof fD){const i=Qn.fromString(t,...e);return YG(i),new Zr(n,null,new Yt(i))}{if(!(n instanceof Zr||n instanceof wu))throw new Mt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qn.fromString(t,...e));return YG(i),new Zr(n.firestore,n instanceof wu?n.converter:null,new Yt(i))}}(n.firestore.collection,je),hi=(0,Ys.FD)(Ke.newDocumentState);hi[r]=function IQ(){return new dU("serverTimestamp")}(),rt?Ve.update(Ce,c6(l,hi)):Ve.set(Ce,c6(l,hi))}else ht.push(rt)});return function(je){return Ee.apply(this,arguments)}}())),le&&(yield Ve.commit())});return function(wt){return vt.apply(this,arguments)}}()),yield lU(n.firestore.database),ht})(),batchSize:n.push.batchSize,modifier:n.push.modifier}}var R=new yZ(n.firestore,n.replicationIdentifier,t,i,E,n.live,n.retryTime,n.autoStart);if(n.live&&n.pull){var U=R.start.bind(R),K=R.cancel.bind(R);R.start=()=>{var fe=function dQ(n,...t){var e,i,r;n=ui(n);let l={includeMetadataChanges:!1,source:"default"},d=0;"object"!=typeof t[d]||cU(t[d])||(l=t[d],d++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(cU(t[d])){const R=t[d];t[d]=null===(e=R.next)||void 0===e?void 0:e.bind(R),t[d+1]=null===(i=R.error)||void 0===i?void 0:i.bind(R),t[d+2]=null===(r=R.complete)||void 0===r?void 0:r.bind(R)}let p,E,x;if(n instanceof Zr)E=Yn(n.firestore,Ki),x=pb(n._key.path),p={next:R=>{t[d]&&t[d](function wU(n,t,e){const i=e.docs.get(t._key),r=new im(n);return new zb(n,r,t._key,i,new Ng(e.hasPendingWrites,e.fromCache),t.converter)}(E,n,R))},error:t[d+1],complete:t[d+2]};else{const R=Yn(n,ls);E=Yn(R.firestore,Ki),x=R._query;const U=new im(E);p={next:K=>{t[d]&&t[d](new Gb(E,U,R,K))},error:t[d+1],complete:t[d+2]},f8(n._query)}return function(U,K,me,fe){const he=new jk(fe),ht=new CB(K,he,me);return U.asyncQueue.enqueueAndForget((0,A.A)(function*(){return vB(yield jb(U),ht)})),()=>{he.$a(),U.asyncQueue.enqueueAndForget((0,A.A)(function*(){return bB(yield jb(U),ht)}))}}(Rr(E),x,f,p)}($b(p,Yk(r,"desc"),Jk(1)),he=>{R.reSync()},he=>{R.subjects.error.next((0,Eu.Br)("RC_STREAM",{error:(0,IU.S)(he)}))});return R.cancel=()=>(fe(),K()),U()}}return function r6(n,t){return(n&&t.collection.database.multiInstance?t.collection.database.waitForLeadership():Zs.Ms).then(()=>{t.isStopped()||t.autoStart&&t.start()})}(n.waitForLeadership,R),R}let l6=(()=>{class n{constructor(){this.firebaseApp=XS(C8)}replicateCollection(e,i){var r=this;return(0,A.A)(function*(){const l=eQ(r.firebaseApp),d=function YX(n,t,...e){if(n=ui(n),aU("collection","path",t),n instanceof fD){const i=Qn.fromString(t,...e);return ZG(i),new wu(n,null,i)}{if(!(n instanceof Zr||n instanceof wu))throw new Mt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qn.fromString(t,...e));return ZG(i),new wu(n.firestore,null,i)}}(l,e),f=bZ({collection:i,firestore:{projectId:C8.projectId,database:l,collection:d},pull:{},push:{},live:!0,replicationIdentifier:"Empathy-to-firebase"});return console.log(`LOL: REPLICATION for COLEECTION: ${e}: ${f.replicationIdentifier}`),f})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uc=(()=>{class n{constructor(e){this.remoteDbService=e,this.googleProvider=new ky,this.auth=cz(this.remoteDbService.firebaseApp),this.user$=this.observeAuthState(this.auth)}observeAuthState(e){return new J.c(r=>{e.onAuthStateChanged(l=>r.next(l||null),l=>r.error(l),()=>r.complete())})}anonymousLogin(){var e=this;return(0,A.A)(function*(){return yield function HL(n){return qI.apply(this,arguments)}(e.auth).then(i=>(console.log(`LOL: Logging in for USER: ${i.user.uid}, PROV: ${i.providerId}, OP: ${i.operationType}`),i)).catch(i=>{const r=i.code,l=i.message;throw console.log(`LOL: error on sign in: ${r} MESS: ${l}`),new Error(`LOL: error on sign in: ${r} MESS: ${l}`)})})()}googleLogin(){var e=this;return(0,A.A)(function*(){return yield function z3(n,t,e){return eb.apply(this,arguments)}(e.auth,e.googleProvider).then(i=>(ky.credentialFromResult(i),console.log(`LOL: Logging in for USER: ${i.user.uid}, PROV: ${i.user.providerId}, OP: ${i.operationType} `),i)).catch(i=>{const r=i.code,l=i.message;throw ky.credentialFromError(i),console.log(`LOL: error on google sign in: ${r} MESS: ${l}`),new Error(`LOL: error on google sign in: ${r} MESS: ${l}`)})})()}registerUser(e,i){var r=this;return(0,A.A)(function*(){return yield function eR(n,t,e){return rC.apply(this,arguments)}(r.auth,e,i).then(l=>(console.log(`LOL: Successfully created account for email: ${l.user.email}`),l)).catch(l=>{const d=l.code,f=l.message;throw"auth/email-already-in-use"===d&&console.log("LOL:: Email already in use"),console.log(`LOL: error on creating account for email: ${e}: ${d} MESS: ${f}`),new Error(`LOL: error on creating account for email: ${e}: ${d} MESS: ${f}`)})})()}loginWithEmail(e,i){var r=this;return(0,A.A)(function*(){return function $y(n,t,e){return Ts(n.app)?Promise.reject(Co(n)):XM(ui(n),Wp.credential(t,e)).catch(function(){var i=(0,A.A)(function*(r){throw"auth/password-does-not-meet-requirements"===r.code&&nC(n),r});return function(r){return i.apply(this,arguments)}}())}(r.auth,e,i).then(l=>(console.log(`LOL: Logging in for USER: ${l.user.uid}, PROV: ${l.user.providerId}, OP: ${l.operationType} `),l)).catch(l=>{const d=l.code,f=l.message;throw console.log(`LOL: error on email sign in: ${d} MESS: ${f}`),new Error(`LOL: error on email sign in: ${d} MESS: ${f}`)})})()}updateUserProfile(e,i){var r=this;return(0,A.A)(function*(){if(!r.auth.currentUser)throw new Error("LOL: Error on updating user profile - no user");yield function XL(n,t){return Gy.apply(this,arguments)}(r.auth.currentUser,{displayName:e,photoURL:i}).then(()=>{console.log(`LOL: User succesfully updated: ${e}`)}).catch(l=>{throw console.log(`LOL: Error on updating the user: ${l}`),new Error(`LOL: Error on updating the user: ${l}`)})})()}resetPassword(e){var i=this;return(0,A.A)(function*(){yield function D3(n,t,e){return Cd.apply(this,arguments)}(i.auth,e).then(()=>{console.log(`LOL: Password reset email sent to: ${e}`)}).catch(r=>{throw console.log(`LOL: Error on resetting password for email: ${e}`),new Error(`LOL: Error on resetting password for email: ${e}`)})})()}changeUserEmail(e,i){var r=this;return(0,A.A)(function*(){if(!r.auth.currentUser)throw new Error("LOL: Error on changing user email - no user");yield r.reauthenticate(r.auth.currentUser,"password",i).catch(l=>{throw console.log(`LOL: error on reauth for email change: ${l}`),new Error(`LOL: error on reauth for email change: ${l}`)}),yield function rR(n,t){const e=ui(n);return Ts(e.auth.app)?Promise.reject(Co(e.auth)):oR(e,t,null)}(r.auth.currentUser,e).then(()=>{console.log(`LOL: Email succesfully updated for ${r.auth.currentUser?.uid}`)}).catch(l=>{throw new Error(`LOL: Error on changing email for user: ${r.auth.currentUser?.uid}: ${l}`)})})()}changeUserPassword(e,i){var r=this;return(0,A.A)(function*(){if(!r.auth.currentUser)throw new Error("LOL: Error on changing user password - no user");return yield r.reauthenticate(r.auth.currentUser,"password",i).catch(l=>{throw console.log(`LOL: error on reauth for password change: ${l}`),new Error(`LOL: error on reauth for password change: ${l}`)}),yield function QL(n,t){return oR(ui(n),null,t)}(r.auth.currentUser,e).then(()=>{console.log(`LOL: Password succesfully updated for ${r.auth.currentUser?.uid}`)}).catch(l=>{throw new Error(`LOL: Error on changing password for user: ${r.auth.currentUser?.uid}: ${l}`)})})()}verifyEmail(){var e=this;return(0,A.A)(function*(){if(!e.auth.currentUser)throw new Error("No current user!");if(e.auth.currentUser.emailVerified)throw new Error("User email already verified");return yield function M3(n,t){return sC.apply(this,arguments)}(e.auth.currentUser).then(()=>(console.log(`Verification email sent for user email ${e.auth.currentUser?.email}`),e.auth.currentUser?.email||null))})()}reauthenticate(e,i,r){var l=this;return(0,A.A)(function*(){return yield l.reauthenticateForProvider(e,i,r).then(d=>(console.log(`LOL: User ${e?.uid} successfully reidentified`),d)).catch(d=>{throw console.log(`LOL: Error on reauthentification of user: ${e?.uid}: ${d}`),new Error(`LOL: Error on reauthentification of user: ${e?.uid}`)})})()}reauthenticateForProvider(e,i,r){return(0,A.A)(function*(){switch(i){case"password":{if(!e?.email||!r)throw new Error(`LOL: Error on reauthentification for ${i} - Missing email or password`);const l=Wp.credential(e.email,r);if(!l)throw new Error(`LOL: Error on reauthentification for ${i} - missing credential`);return ZM(e,l)}case"google.com":return yield function MV(n,t,e){return og.apply(this,arguments)}(e,new ky)}})()}deleteAccount(e,i){var r=this;return(0,A.A)(function*(){if(!r.auth.currentUser)throw new Error("LOL: Error on deleting account - no user");return yield r.reauthenticate(r.auth.currentUser,e,i).then((0,A.A)(function*(){console.log(`LOL: User ${r.auth.currentUser?.uid} successfully reathenticated`)})).catch(l=>{throw console.log(`LOL: error on reauth for account deletion: ${l}`),new Error(`LOL: error on reauth for account deletion: ${l}`)}),yield function P3(n){return Ky.apply(this,arguments)}(r.auth.currentUser)})()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(l6))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wZ(n,t){if(1&n&&(a.j41(0,"button",4)(1,"span",9),a.EFF(2),a.nI1(3,"async"),a.k0s()()),2&n){const e=a.XpG();a.R7$(2),a.JRh(a.bMT(3,1,e.userName$))}}function EZ(n,t){if(1&n&&(a.j41(0,"button",5)(1,"span",9),a.EFF(2),a.nI1(3,"async"),a.k0s()()),2&n){const e=a.XpG();a.R7$(2),a.JRh(a.bMT(3,1,e.userName$))}}function IZ(n,t){1&n&&(a.j41(0,"button",8)(1,"span",10),a.EFF(2,"Editor"),a.k0s()())}let CZ=(()=>{class n{constructor(e){this.authService=e,this.userName$=this.authService.user$.pipe((0,Ae.T)(i=>i?i.isAnonymous?"Guest":i?.displayName||i.email:"Signed Out")),this.isKnownUser$=this.authService.user$.pipe((0,Ae.T)(i=>i&&!i.isAnonymous||(0,a.naY)()))}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Uc))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["main-bar"]],standalone:!0,features:[a.aNF],decls:17,vars:7,consts:[["menu","matMenu"],["routerLink","/library"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","","routerLink","/profile"],["mat-menu-item","","routerLink",""],["mat-menu-item","","routerLink","/library"],["data-test-id","library-entry"],["mat-menu-item","","routerLink","/editor"],["data-test-id","user-entry"],["data-test-id","editor-entry"]],template:function(i,r){if(1&i&&(a.j41(0,"mat-toolbar")(1,"span",1),a.EFF(2,"Empathy"),a.k0s(),a.nrm(3,"span",2),a.j41(4,"button",3)(5,"mat-icon"),a.EFF(6,"menu"),a.k0s()(),a.j41(7,"mat-menu",null,0),a.DNE(9,wZ,4,3,"button",4),a.nI1(10,"async"),a.DNE(11,EZ,4,3,"button",5),a.j41(12,"button",6)(13,"span",7),a.EFF(14,"Library"),a.k0s()(),a.DNE(15,IZ,3,0,"button",8),a.nI1(16,"async"),a.k0s()()),2&i){const l=a.sdS(8);a.R7$(4),a.Y8G("matMenuTriggerFor",l),a.R7$(5),a.vxM(a.bMT(10,3,r.isKnownUser$)?9:11),a.R7$(6),a.vxM(a.bMT(16,5,r.isKnownUser$)?15:-1)}},dependencies:[vo,Ii,Hs,dN,vA,ts,Vo,Wr,XA,CS,ou,hf,IS],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background:var(--sys-background)}"]})}return n})(),DZ=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["app-root"]],standalone:!0,features:[a.aNF],decls:3,vars:0,consts:[[1,"container"]],template:function(i,r){1&i&&(a.nrm(0,"main-bar"),a.j41(1,"div",0),a.nrm(2,"router-outlet"),a.k0s())},dependencies:[CZ,Vm],styles:[".container[_ngcontent-%COMP%] {margin:auto;width:85%}"]})}return n})(),xZ=(()=>{class n{constructor(e,i,r,l,d){this.doc=e,this.delegate=i,this.zone=r,this.animationType=l,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=(0,a.WQX)(a.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??k.e(8).then(k.bind(k,8008)).then(i=>i)).catch(i=>{throw new a.wOt(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:r})=>{this._engine=i(this.animationType,this.doc);const l=new r(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(0===r.\u0275type)return r;"boolean"==typeof r.throwOnSyntheticProps&&(r.throwOnSyntheticProps=!1);const l=new AZ(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{const f=d.createRenderer(e,i);l.use(f),this.scheduler?.notify(9)}).catch(d=>{l.use(r)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(i){a.QTQ()};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();class AZ{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,null!==this.replay){for(const e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,r){this.delegate.insertBefore(t,e,i,r)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i)),this.delegate.listen(t,e,i)}shouldReplay(t){return null!==this.replay&&t.startsWith("@")}}var zU=k(5505);const u6=Symbol.for("Dexie"),m1=globalThis[u6]||(globalThis[u6]=zU);if(zU.semVer!==m1.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${zU.semVer} and ${m1.semVer}`);var p1=k(1744),g1="docs",d6="attachments",f6=new Map,_1=new Map;function GU(){return(GU=(0,A.A)(function*(n){var t=yield n,i=_1.get(n)-1;0===i?(t.dexieDb.close(),_1.delete(n)):_1.set(n,i)})).apply(this,arguments)}var WU="__";function TD(n){var t=n.split(".");if(t.length>1)return t.map(i=>TD(i)).join(".");if(n.startsWith("|")){var e=n.substring(1);return WU+e}return n}function m6(n){var t=n.split(".");return t.length>1?t.map(i=>m6(i)).join("."):n.startsWith(WU)?"|"+n.substring(WU.length):n}function OZ(n,t){return t&&(t=KU(t=(0,Ys.FD)(t)),n.forEach(e=>{var i=(0,p1.UU)(t,e);(0,p1.oq)(t,e,i?"1":"0")}),t)}function p6(n,t){return t&&(t=qU(t=(0,Ys.FD)(t)),n.forEach(e=>{var i=(0,p1.UU)(t,e);(0,p1.oq)(t,e,"1"===i)}),t)}function KU(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>KU(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,i])=>{"object"==typeof i&&(i=KU(i)),t[TD(e)]=i}),t}}function qU(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>qU(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,i])=>{("object"==typeof i||Array.isArray(n))&&(i=qU(i)),t[m6(e)]=i}),t}}function PZ(n){var t=[],e=(0,Bc.xQ)(n.primaryKey);t.push([e]),t.push(["_deleted",e]),n.indexes&&n.indexes.forEach(l=>{var d=(0,ic.$r)(l);t.push(d)}),t.push(["_meta.lwt",e]),t.push(["_meta.lwt"]);var i=(t=t.map(l=>l.map(d=>TD(d)))).map(l=>1===l.length?l[0]:"["+l.join("+")+"]");return(i=i.filter((l,d,f)=>f.indexOf(l)===d)).join(", ")}function g6(n,t){return XU.apply(this,arguments)}function XU(){return(XU=(0,A.A)(function*(n,t){var e=yield n;return(yield e.dexieTable.bulkGet(t)).map(r=>p6(e.booleanIndexes,r))})).apply(this,arguments)}function v1(n,t){return n+"||"+t}function NZ(n){var t=new Set,e=[];return n.indexes?(n.indexes.forEach(i=>{(0,ic.$r)(i).forEach(l=>{t.has(l)||(t.add(l),"boolean"===(0,Bc.nT)(n,l).type&&e.push(l))})}),e.push("_deleted"),(0,ic.jw)(e)):e}var y1=k(7014),FZ=k(6243),_6=k(997),v6=k(5365);function y6(n){return n===_6.OK?-1/0:n}function b6(n,t,e){return n.includes(t)?e===_6.g0||!0===e?"1":"0":e}function w6(n,t,e){if(!e){if(typeof window>"u")throw new Error("IDBKeyRange missing");e=window.IDBKeyRange}var i=t.startKeys.map((d,f)=>b6(n,t.index[f],d)).map(y6),r=t.endKeys.map((d,f)=>b6(n,t.index[f],d)).map(y6);return e.bound(i,r,!t.inclusiveStart,!t.inclusiveEnd)}function E6(n,t){return QU.apply(this,arguments)}function QU(){return QU=(0,A.A)(function*(n,t){var e=yield n.internals,i=t.query,r=i.skip?i.skip:0,d=r+(i.limit?i.limit:1/0),f=t.queryPlan,p=!1;f.selectorSatisfiedByIndex||(p=(0,v6.Lr)(n.schema,t.query));var E=w6(e.booleanIndexes,f,e.dexieDb._options.IDBKeyRange),x=f.index,R=[];if(yield e.dexieDb.transaction("r",e.dexieTable,function(){var K=(0,A.A)(function*(me){var vt,he=me.idbtrans.objectStore(g1);vt="["+x.map(zt=>TD(zt)).join("+")+"]";var wt=he.index(vt).openCursor(E);yield new Promise(zt=>{wt.onsuccess=function(vn){var cn=vn.target.result;if(cn){var Ve=p6(e.booleanIndexes,cn.value);(!p||p(Ve))&&R.push(Ve),f.sortSatisfiedByIndex&&R.length===d?zt():cn.continue()}else zt()}})});return function(me){return K.apply(this,arguments)}}()),!f.sortSatisfiedByIndex){var U=(0,v6.Xw)(n.schema,t.query);R=R.sort(U)}return{documents:R=R.slice(r,d)}}),QU.apply(this,arguments)}function YU(){return YU=(0,A.A)(function*(n,t){var e=yield n.internals,i=t.queryPlan,r=i.index,l=w6(e.booleanIndexes,i,e.dexieDb._options.IDBKeyRange),d=-1;return yield e.dexieDb.transaction("r",e.dexieTable,function(){var f=(0,A.A)(function*(p){var U,x=p.idbtrans.objectStore(g1);U="["+r.map(me=>TD(me)).join("+")+"]";var K=x.index(U).count(l);d=yield new Promise((me,fe)=>{K.onsuccess=function(){me(K.result)},K.onerror=he=>fe(he)})});return function(p){return f.apply(this,arguments)}}()),d}),YU.apply(this,arguments)}var VZ=(0,Wb.t)(),ZU=!1,BZ=function(){function n(e,i,r,l,d,f,p,E){this.changes$=new B.B,this.instanceId=VZ++,this.storage=e,this.databaseName=i,this.collectionName=r,this.schema=l,this.internals=d,this.options=f,this.settings=p,this.devMode=E,this.primaryPath=(0,Bc.xQ)(this.schema.primaryKey)}var t=n.prototype;return t.bulkWrite=function(){var e=(0,A.A)(function*(r,l){var d=this;Ug(this),!ZU&&(!y1.P.premium||"string"!=typeof y1.P.premium||(yield(0,FZ.V0)(y1.P.premium))!==y1.Y)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join("\n")),ZU=!0,r.forEach(U=>{if(!U.document._rev||U.previous&&!U.previous._rev)throw(0,Eu.Br)("SNH",{args:{row:U}})});var f=yield this.internals,p={error:[]};this.devMode&&(r=r.map(U=>{var K=(0,Js.C9)(U.document);return{previous:U.previous,document:K}}));var x,E=r.map(U=>U.document[this.primaryPath]);if(yield f.dexieDb.transaction("rw",f.dexieTable,f.dexieAttachmentsTable,(0,A.A)(function*(){var U=new Map;(yield g6(d.internals,E)).forEach(he=>{var ht=he;return ht&&U.set(ht[d.primaryPath],ht),ht}),x=(0,Js.gi)(d,d.primaryPath,U,r,l),p.error=x.errors;var me=[];x.bulkInsertDocs.forEach(he=>{me.push(he.document)}),x.bulkUpdateDocs.forEach(he=>{me.push(he.document)}),(me=me.map(he=>OZ(f.booleanIndexes,he))).length>0&&(yield f.dexieTable.bulkPut(me));var fe=[];x.attachmentsAdd.forEach(he=>{fe.push({id:v1(he.documentId,he.attachmentId),data:he.attachmentData.data})}),x.attachmentsUpdate.forEach(he=>{fe.push({id:v1(he.documentId,he.attachmentId),data:he.attachmentData.data})}),yield f.dexieAttachmentsTable.bulkPut(fe),yield f.dexieAttachmentsTable.bulkDelete(x.attachmentsRemove.map(he=>v1(he.documentId,he.attachmentId)))})),(x=(0,kr.ZN)(x)).eventBulk.events.length>0){var R=(0,kr.ZN)(x.newestRow).document;x.eventBulk.checkpoint={id:R[this.primaryPath],lwt:R._meta.lwt},x.eventBulk.endTime=(0,Wb.t)(),this.changes$.next(x.eventBulk)}return p});return function i(r,l){return e.apply(this,arguments)}}(),t.findDocumentsById=function(){var e=(0,A.A)(function*(r,l){var d=this;Ug(this);var f=yield this.internals,p=[];return yield f.dexieDb.transaction("r",f.dexieTable,(0,A.A)(function*(){(yield g6(d.internals,r)).forEach(x=>{x&&(!x._deleted||l)&&p.push(x)})})),p});return function i(r,l){return e.apply(this,arguments)}}(),t.query=function(i){return Ug(this),E6(this,i)},t.count=function(){var e=(0,A.A)(function*(r){if(r.queryPlan.selectorSatisfiedByIndex){var l=yield function LZ(n,t){return YU.apply(this,arguments)}(this,r);return{count:l,mode:"fast"}}return{count:(yield E6(this,r)).documents.length,mode:"slow"}});return function i(r){return e.apply(this,arguments)}}(),t.changeStream=function(){return Ug(this),this.changes$.asObservable()},t.cleanup=function(){var e=(0,A.A)(function*(r){var l=this;Ug(this);var d=yield this.internals;return yield d.dexieDb.transaction("rw",d.dexieTable,(0,A.A)(function*(){var f=(0,Wb.t)()-r,p=yield d.dexieTable.where("_meta.lwt").below(f).toArray(),E=[];p.forEach(x=>{"1"===x._deleted&&E.push(x[l.primaryPath])}),yield d.dexieTable.bulkDelete(E)})),!0});return function i(r){return e.apply(this,arguments)}}(),t.getAttachmentData=function(){var e=(0,A.A)(function*(r,l,d){Ug(this);var f=yield this.internals,p=v1(r,l);return yield f.dexieDb.transaction("r",f.dexieAttachmentsTable,(0,A.A)(function*(){var E=yield f.dexieAttachmentsTable.get(p);if(E)return E.data;throw new Error("attachment missing documentId: "+r+" attachmentId: "+l)}))});return function i(r,l,d){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,A.A)(function*(){Ug(this);var r=yield this.internals;return yield r.dexieTable.clear(),this.close()});return function i(){return e.apply(this,arguments)}}(),t.close=function(){var i=this;return this.closed||(this.closed=(0,A.A)(function*(){i.changes$.complete(),yield function kZ(n){return GU.apply(this,arguments)}(i.internals)})()),this.closed},t.conflictResultionTasks=function(){return new B.B},t.resolveConflictResultionTask=function(){var e=(0,A.A)(function*(r){});return function i(r){return e.apply(this,arguments)}}(),n}();function JU(){return(JU=(0,A.A)(function*(n,t,e){var i=function RZ(n,t,e,i){var r="rxdb-dexie-"+n+"--"+i.version+"--"+t,l=(0,MU.q)(f6,r,()=>{var d=(0,A.A)(function*(){var f=(0,Ys.FD)(e);f.autoOpen=!1;var p=new m1(r,f),E={[g1]:PZ(i),changes:"++sequence, id",[d6]:"id"};return p.version(1).stores(E),yield p.open(),{dexieDb:p,dexieTable:p[g1],dexieAttachmentsTable:p[d6],booleanIndexes:NZ(i)}})();return f6.set(r,l),_1.set(l,0),d});return l}(t.databaseName,t.collectionName,e,t.schema),r=new BZ(n,t.databaseName,t.collectionName,t.schema,i,t.options,e,t.devMode);return yield KY("dexie",t,r),Promise.resolve(r)})).apply(this,arguments)}function Ug(n){if(n.closed)throw new Error("RxStorageInstanceDexie is closed "+n.databaseName+"-"+n.collectionName)}var jZ=k(6052),$Z=function(){function n(e){this.name="dexie",this.rxdbVersion=jZ.o,this.settings=e}return n.prototype.createStorageInstance=function(i){return(0,Js.pZ)(i),function UZ(n,t,e){return JU.apply(this,arguments)}(this,i,this.settings)},n}();function HZ(n={}){return new $Z(n)}var ej={minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0},tj=Zs.Ms;function nj(){return nj=(0,A.A)(function*(n){var t=n.database,e=Object.assign({},ej,t.cleanupPolicy?t.cleanupPolicy:{});yield I6(n,e),!n.destroyed&&(yield C6(n,e),yield function GZ(n,t){return oj.apply(this,arguments)}(n,e))}),nj.apply(this,arguments)}function I6(n,t){return ij.apply(this,arguments)}function ij(){return(ij=(0,A.A)(function*(n,t){yield n.promiseWait(t.minimumCollectionAge),!n.destroyed&&t.waitForLeadership&&(yield n.database.waitForLeadership())})).apply(this,arguments)}function C6(n,t){return rj.apply(this,arguments)}function rj(){return(rj=(0,A.A)(function*(n,t){for(var e=n.database,i=n.storageInstance,r=!1;!r&&!n.destroyed;){if(t.awaitReplicationsInSync){var l=$U.get(n);l&&(yield Promise.all(l.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(n.destroyed)return;tj=tj.then((0,A.A)(function*(){return!!n.destroyed||(yield e.requestIdlePromise(),i.cleanup(t.minimumDeletedTime))})),r=yield tj}})).apply(this,arguments)}function oj(){return(oj=(0,A.A)(function*(n,t){for(;!n.destroyed;){if(yield n.promiseWait(t.runEach),n.destroyed)return;yield C6(n,t)}})).apply(this,arguments)}var sj=Zs.Ms;function aj(){return aj=(0,A.A)(function*(n){var t=n.collection,e=t.database,i=Object.assign({},ej,e.cleanupPolicy?e.cleanupPolicy:{});yield I6(t,i),!t.destroyed&&(yield D6(n,i),yield function KZ(n,t){return lj.apply(this,arguments)}(n,i))}),aj.apply(this,arguments)}function D6(n,t){return cj.apply(this,arguments)}function cj(){return(cj=(0,A.A)(function*(n,t){for(var e=n.collection,i=e.database,r=!1;!r&&!e.destroyed;){if(t.awaitReplicationsInSync){var l=$U.get(e);l&&(yield Promise.all(l.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(e.destroyed)return;sj=sj.then((0,A.A)(function*(){return!!e.destroyed||(yield i.requestIdlePromise(),n._cleanup())})),r=yield sj}})).apply(this,arguments)}function lj(){return(lj=(0,A.A)(function*(n,t){for(var e=n.collection;!e.destroyed;){if(yield e.promiseWait(t.runEach),e.destroyed)return;yield D6(n,t)}})).apply(this,arguments)}var qZ={name:"cleanup",rxdb:!0,prototypes:{RxCollection:n=>{n.cleanup=function(){var t=(0,A.A)(function*(e){var i=Object.assign({},ej,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof e>"u"&&(e=i.minimumDeletedTime);for(var r=!1;!r&&!this.destroyed;)r=yield this.storageInstance.cleanup(e)});return function(e){return t.apply(this,arguments)}}()}},hooks:{createRxCollection:{after:n=>{!function zZ(n){nj.apply(this,arguments)}(n.collection)}},createRxState:{after:n=>{!function WZ(n){aj.apply(this,arguments)}(n.state)}}}};const T6={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var b1,QZ=new Uint8Array(16);function YZ(){if(!b1&&!(b1=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return b1(QZ)}for(var us=[],uj=0;uj<256;++uj)us.push((uj+256).toString(16).slice(1));const JZ=function ZZ(n,t,e){if(T6.randomUUID&&!t&&!n)return T6.randomUUID();var i=(n=n||{}).random||(n.rng||YZ)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(var r=0;r<16;++r)t[e+r]=i[r];return t}return function x6(n,t=0){return(us[n[t+0]]+us[n[t+1]]+us[n[t+2]]+us[n[t+3]]+"-"+us[n[t+4]]+us[n[t+5]]+"-"+us[n[t+6]]+us[n[t+7]]+"-"+us[n[t+8]]+us[n[t+9]]+"-"+us[n[t+10]]+us[n[t+11]]+us[n[t+12]]+us[n[t+13]]+us[n[t+14]]+us[n[t+15]]).toLowerCase()}(i)};let Cl=(()=>{class n{constructor(e){this.remoteDbService=e,this.localDb=this.setupLocalDb("local_db",MQ)}setupLocalDb(e,i){return(0,A.A)(function*(){(0,a.naY)()&&(yield k.e(486).then(k.bind(k,6486)).then(l=>f1(l.RxDBDevModePlugin))),f1(K8),f1(qZ);const r=yield(0,o6.uh)({name:e,storage:HZ(),eventReduce:!0,cleanupPolicy:{minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0}});return yield r.addCollections(i),r})()}addDocument(e,i,r){return this.localDb.then(l=>{const d={...i,id:r||JZ()};return l[e].insert(d)}).catch(l=>{throw console.log(`LOL: Error on adding document into ${e}: ${l}`),new Error(`LOL: Error on adding document into ${e}: ${l}`)})}getDocumentsByIds(e,i){return this.localDb.then(r=>r[e].findByIds(i).$).catch(r=>{throw console.log(`LOL: Error on getting document from ${e}: ${r}`),new Error(`LOL: Error on getting document from ${e}: ${r}`)})}getDocumentById(e,i){var r=this;return(0,A.A)(function*(){return(yield r.getDocumentsByIds(e,[i])).pipe((0,Ae.T)(d=>d.get(i)))})()}getAllCollectionDocs(e){return this.localDb.then(i=>i[e].find().$).catch(i=>{throw console.log(`LOL: Error on getting document from ${e}: ${i}`),new Error(`LOL: Error on getting document from ${e}: ${i}`)})}updateDocument(e,i,r){var l=this;return(0,A.A)(function*(){return(yield l.localDb)[e].findByIds([i]).exec().then(f=>f.get(i)).then(f=>f.patch(r)).catch(f=>{throw console.log(`LOL: Error on updating document id: ${i} in collection ${e}: ${f}`),new Error(`LOL: Error on updating document id: ${i} in collection ${e}: ${f}`)})})()}deleteDocument(e,i){var r=this;return(0,A.A)(function*(){return(yield r.localDb)[e].findByIds([i]).exec().then(d=>d.get(i)).then(d=>d.remove()).catch(d=>{throw console.log(`LOL: Error on removing document id: ${i} from collection: ${e}`),new Error(`LOL: Error on removing document id: ${i} from collection: ${e}`)})})()}cleanupCollection(e){var i=this;return(0,A.A)(function*(){yield(yield i.localDb)[e].cleanup(0)})()}replicateCollection(e){var i=this;return(0,A.A)(function*(){const r=(yield i.localDb).collections[e];i.remoteDbService.replicateCollection(e,r)})()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(l6))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const eJ=["*"],iJ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],rJ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],oJ=new a.nKC("MAT_CARD_CONFIG");let xD=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(oJ,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&a.AVh("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[a.aNF],ngContentSelectors:eJ,decls:1,vars:0,template:function(i,r){1&i&&(a.NAR(),a.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),dj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return n})(),AD=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return n})(),A6=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return n})(),hj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[a.aNF],ngContentSelectors:rJ,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(a.NAR(iJ),a.SdG(0),a.j41(1,"div",0),a.SdG(2,1),a.k0s(),a.SdG(3,2))},encapsulation:2,changeDetection:0})}return n})(),fj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return n})(),SD=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[yi,vo,yi]})}return n})(),S6=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.sFG),a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n})}return n})(),jg=(()=>{class n extends S6{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,features:[a.Vt3]})}return n})();const Pa=new a.nKC(""),lJ={provide:Pa,useExisting:(0,a.Rfq)(()=>jc),multi:!0},dJ=new a.nKC("");let jc=(()=>{class n extends S6{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uJ(){const n=X()?X().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(dJ,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&a.bIt("input",function(d){return r._handleInput(d.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(d){return r._compositionEnd(d.target.value)})},features:[a.Jv_([lJ]),a.Vt3]})}return n})();function om(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function R6(n){return null!=n&&"number"==typeof n.length}const xo=new a.nKC(""),sm=new a.nKC(""),hJ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vi{static min(t){return function k6(n){return t=>{if(om(t.value)||om(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function O6(n){return t=>{if(om(t.value)||om(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function P6(n){return om(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function N6(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function F6(n){return om(n.value)||hJ.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function L6(n){return t=>om(t.value)||!R6(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function V6(n){return t=>R6(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function B6(n){if(!n)return w1;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(om(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return G6(t)}static composeAsync(t){return W6(t)}}function w1(n){return null}function U6(n){return null!=n}function j6(n){return(0,a.jNT)(n)?(0,Be.H)(n):n}function $6(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function H6(n,t){return t.map(e=>e(n))}function z6(n){return n.map(t=>function fJ(n){return!n.validate}(t)?t:e=>t.validate(e))}function G6(n){if(!n)return null;const t=n.filter(U6);return 0==t.length?null:function(e){return $6(H6(e,t))}}function mj(n){return null!=n?G6(z6(n)):null}function W6(n){if(!n)return null;const t=n.filter(U6);return 0==t.length?null:function(e){return eE(H6(e,t).map(j6)).pipe((0,Ae.T)($6))}}function pj(n){return null!=n?W6(z6(n)):null}function K6(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function q6(n){return n._rawValidators}function X6(n){return n._rawAsyncValidators}function gj(n){return n?Array.isArray(n)?n:[n]:[]}function E1(n,t){return Array.isArray(n)?n.includes(t):n===t}function Q6(n,t){const e=gj(t);return gj(n).forEach(r=>{E1(e,r)||e.push(r)}),e}function Y6(n,t){return gj(t).filter(e=>!E1(n,e))}class Z6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=mj(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=pj(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ea extends Z6{get formDirective(){return null}get path(){return null}}class Dl extends Z6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class J6{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Iu=(()=>{class n extends J6{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Dl,2))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&a.AVh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.Vt3]})}return n})(),Cu=(()=>{class n extends J6{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(ea,10))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&a.AVh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.Vt3]})}return n})();const MD="VALID",C1="INVALID",Kb="PENDING",RD="DISABLED";class qb{}class tW extends qb{constructor(t,e){super(),this.value=t,this.source=e}}class yj extends qb{constructor(t,e){super(),this.pristine=t,this.source=e}}class bj extends qb{constructor(t,e){super(),this.touched=t,this.source=e}}class D1 extends qb{constructor(t,e){super(),this.status=t,this.source=e}}class vJ extends qb{constructor(t){super(),this.source=t}}class yJ extends qb{constructor(t){super(),this.source=t}}function wj(n){return(T1(n)?n.validators:n)||null}function Ej(n,t){return(T1(t)?t.asyncValidators:n)||null}function T1(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function nW(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.wOt(1e3,"");if(!i[e])throw new a.wOt(1001,"")}function iW(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.wOt(1002,"")})}class x1{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,a.EWP)(()=>this.statusReactive()),this.statusReactive=(0,a.vPA)(void 0),this._pristine=(0,a.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,a.vPA)(!0),this._touched=(0,a.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,a.vPA)(!1),this._events=new B.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return(0,a.O8t)(this.statusReactive)}set status(t){(0,a.O8t)(()=>this.statusReactive.set(t))}get valid(){return this.status===MD}get invalid(){return this.status===C1}get pending(){return this.status==Kb}get disabled(){return this.status===RD}get enabled(){return this.status!==RD}get pristine(){return(0,a.O8t)(this.pristineReactive)}set pristine(t){(0,a.O8t)(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return(0,a.O8t)(this.touchedReactive)}set touched(t){(0,a.O8t)(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Q6(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Q6(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Y6(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Y6(t,this._rawAsyncValidators))}hasValidator(t){return E1(this._rawValidators,t)}hasAsyncValidator(t){return E1(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new bj(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&!1!==t.emitEvent&&this._events.next(new bj(!1,i))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new yj(!1,i))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&!1!==t.emitEvent&&this._events.next(new yj(!0,i))}markAsPending(t={}){this.status=Kb;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new D1(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=RD,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue();const i=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new tW(this.value,i)),this._events.next(new D1(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=MD,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===MD||this.status===Kb)&&this._runAsyncValidator(i,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new tW(this.value,e)),this._events.next(new D1(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?RD:MD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Kb,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const i=j6(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new D1(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new a.bkB,this.statusChanges=new a.bkB}_calculateStatus(){return this._allControlsDisabled()?RD:this.errors?C1:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kb)?Kb:this._anyControlsHaveStatus(C1)?C1:MD}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new yj(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new bj(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){T1(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function bJ(n){return Array.isArray(n)?mj(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function wJ(n){return Array.isArray(n)?pj(n):n||null}(this._rawAsyncValidators)}}class kD extends x1{constructor(t,e,i){super(wj(e),Ej(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){iW(this,0,t),Object.keys(t).forEach(i=>{nW(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,l)=>{i=e(i,r,l)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class rW extends kD{}const Xb=new a.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>A1}),A1="always";function OD(n,t,e=A1){Ij(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function IJ(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&oW(n,t)})}(n,t),function DJ(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function CJ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&oW(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function EJ(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function M1(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),k1(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function R1(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ij(n,t){const e=q6(n);null!==t.validator?n.setValidators(K6(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=X6(n);null!==t.asyncValidator?n.setAsyncValidators(K6(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();R1(t._rawValidators,r),R1(t._rawAsyncValidators,r)}function k1(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=q6(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==t.validator);l.length!==r.length&&(e=!0,n.setValidators(l))}}if(null!==t.asyncValidator){const r=X6(n);if(Array.isArray(r)&&r.length>0){const l=r.filter(d=>d!==t.asyncValidator);l.length!==r.length&&(e=!0,n.setAsyncValidators(l))}}}const i=()=>{};return R1(t._rawValidators,i),R1(t._rawAsyncValidators,i),e}function oW(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sW(n,t){Ij(n,t)}function aW(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const MJ={provide:ea,useExisting:(0,a.Rfq)(()=>Qb)},PD=Promise.resolve();let Qb=(()=>{class n extends ea{get submitted(){return(0,a.O8t)(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=(0,a.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,a.vPA)(!1),this._directives=new Set,this.ngSubmit=new a.bkB,this.form=new kD({},mj(e),pj(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){PD.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),OD(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){PD.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){PD.then(()=>{const i=this._findContainer(e.path),r=new kD({});sW(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){PD.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){PD.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),aW(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(xo,10),a.rXU(sm,10),a.rXU(Xb,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&a.bIt("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([MJ]),a.Vt3]})}return n})();function cW(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function lW(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ND=class extends x1{constructor(t=null,e,i){super(wj(e),Ej(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),T1(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=lW(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){cW(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){cW(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){lW(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};Promise.resolve();let Du=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const PJ={provide:Pa,useExisting:(0,a.Rfq)(()=>xj),multi:!0};let xj=(()=>{class n extends jg{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&a.bIt("input",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},features:[a.Jv_([PJ]),a.Vt3]})}return n})();const Aj=new a.nKC(""),BJ={provide:ea,useExisting:(0,a.Rfq)(()=>ta)};let ta=(()=>{class n extends ea{get submitted(){return(0,a.O8t)(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=(0,a.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,a.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.bkB,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(k1(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return OD(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){M1(e.control||null,e,!1),function SJ(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),aW(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new vJ(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new yJ(this.form))}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(M1(i||null,e),(n=>n instanceof ND)(r)&&(OD(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);sW(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function TJ(n,t){return k1(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ij(this.form,this),this._oldForm&&k1(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(xo,10),a.rXU(sm,10),a.rXU(Xb,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&a.bIt("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([BJ]),a.Vt3,a.OA$]})}return n})();const $J={provide:Dl,useExisting:(0,a.Rfq)(()=>Tl)};let Tl=(()=>{class n extends Dl{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new a.bkB,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Tj(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(l=>{l.constructor===jc?e=l:function AJ(n){return Object.getPrototypeOf(n.constructor)===jg}(l)?i=l:r=l}),r||i||e||null}(0,l)}ngOnChanges(e){this._added||this._setUpControl(),function Dj(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function S1(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(a.rXU(ea,13),a.rXU(xo,10),a.rXU(sm,10),a.rXU(Pa,10),a.rXU(Aj,8))};static#n=this.\u0275dir=a.FsC({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[a.Jv_([$J]),a.Vt3,a.OA$]})}return n})(),iee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();class AW extends x1{constructor(t,e,i){super(wj(e),Ej(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){iW(this,0,t),t.forEach((i,r)=>{nW(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function SW(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let ree=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let l={};return SW(i)?l=i:null!==i&&(l.validators=i.validator,l.asyncValidators=i.asyncValidator),new kD(r,l)}record(e,i=null){const r=this._reduceControls(e);return new rW(r,i)}control(e,i,r){let l={};return this.useNonNullable?(SW(i)?l=i:(l.validators=i,l.asyncValidators=r),new ND(e,{...l,nonNullable:!0})):new ND(e,i,r)}array(e,i,r){const l=e.map(d=>this._createControl(d));return new AW(l,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof ND||e instanceof x1?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(ree).nonNullable,providedIn:"root"})}return n})(),Kd=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Aj,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Xb,useValue:e.callSetDisabledState??A1}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[iee]})}return n})();var oee=k(6496);class see{constructor(t){this._box=t,this._destroyed=new B.B,this._resizeSubject=new B.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new J.c(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe((0,On.p)(e=>e.some(i=>i.target===t)),(0,oee.t)({bufferSize:1,refCount:!0}),_i(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let aee=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,a.WQX)(a.SKi)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new see(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const cee=["notch"],lee=["matFormFieldNotchedOutline",""],uee=["*"],dee=["textField"],hee=["iconPrefixContainer"],fee=["textPrefixContainer"],mee=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],pee=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function gee(n,t){1&n&&a.nrm(0,"span",19)}function _ee(n,t){if(1&n&&(a.j41(0,"label",18),a.SdG(1,1),a.DNE(2,gee,1,0,"span",19),a.k0s()),2&n){const e=a.XpG(2);a.Y8G("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),a.BMQ("for",e._control.disableAutomaticLabeling?null:e._control.id),a.R7$(2),a.vxM(!e.hideRequiredMarker&&e._control.required?2:-1)}}function vee(n,t){if(1&n&&a.DNE(0,_ee,3,5,"label",18),2&n){const e=a.XpG();a.vxM(e._hasFloatingLabel()?0:-1)}}function yee(n,t){1&n&&a.nrm(0,"div",5)}function bee(n,t){}function wee(n,t){if(1&n&&a.DNE(0,bee,0,0,"ng-template",11),2&n){a.XpG(2);const e=a.sdS(1);a.Y8G("ngTemplateOutlet",e)}}function Eee(n,t){if(1&n&&(a.j41(0,"div",7),a.DNE(1,wee,1,1,null,11),a.k0s()),2&n){const e=a.XpG();a.Y8G("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),a.R7$(),a.vxM(e._forceDisplayInfixLabel()?-1:1)}}function Iee(n,t){1&n&&(a.j41(0,"div",8,2),a.SdG(2,2),a.k0s())}function Cee(n,t){1&n&&(a.j41(0,"div",9,3),a.SdG(2,3),a.k0s())}function Dee(n,t){}function Tee(n,t){if(1&n&&a.DNE(0,Dee,0,0,"ng-template",11),2&n){a.XpG();const e=a.sdS(1);a.Y8G("ngTemplateOutlet",e)}}function xee(n,t){1&n&&(a.j41(0,"div",12),a.SdG(1,4),a.k0s())}function Aee(n,t){1&n&&(a.j41(0,"div",13),a.SdG(1,5),a.k0s())}function See(n,t){1&n&&a.nrm(0,"div",14)}function Mee(n,t){if(1&n&&(a.j41(0,"div",16),a.SdG(1,6),a.k0s()),2&n){const e=a.XpG();a.Y8G("@transitionMessages",e._subscriptAnimationState)}}function Ree(n,t){if(1&n&&(a.j41(0,"mat-hint",20),a.EFF(1),a.k0s()),2&n){const e=a.XpG(2);a.Y8G("id",e._hintLabelId),a.R7$(),a.JRh(e.hintLabel)}}function kee(n,t){if(1&n&&(a.j41(0,"div",17),a.DNE(1,Ree,2,2,"mat-hint",20),a.SdG(2,7),a.nrm(3,"div",21),a.SdG(4,8),a.k0s()),2&n){const e=a.XpG();a.Y8G("@transitionMessages",e._subscriptAnimationState),a.R7$(),a.vxM(e.hintLabel?1:-1)}}let xl=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-label"]],standalone:!0})}return n})(),Oee=0;const MW=new a.nKC("MatError");let Yb=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+Oee++,e||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(a.kS0("aria-live"),a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&a.Mr5("id",r.id)},inputs:{id:"id"},standalone:!0,features:[a.Jv_([{provide:MW,useExisting:n}])]})}return n})(),Pee=0,RW=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Pee++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(a.Mr5("id",r.id),a.BMQ("align",null),a.AVh("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}return n})();const Nee=new a.nKC("MatPrefix"),kW=new a.nKC("MatSuffix");let Fee=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[a.Jv_([{provide:kW,useExisting:n}])]})}return n})();const OW=new a.nKC("FloatingLabelParent");let PW=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,a.WQX)(aee),this._ngZone=(0,a.WQX)(a.SKi),this._parent=(0,a.WQX)(OW),this._resizeSubscription=new ne.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Lee(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&a.AVh("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return n})();const NW="mdc-line-ripple--active",O1="mdc-line-ripple--deactivating";let FW=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const l=this._elementRef.nativeElement.classList,d=l.contains(O1);"opacity"===r.propertyName&&d&&l.remove(NW,O1)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(O1),e.add(NW)}deactivate(){this._elementRef.nativeElement.classList.add(O1)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return n})(),LW=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&a.GBs(cee,5),2&i){let l;a.mGM(l=a.lsd())&&(r._notch=l.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&a.AVh("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[a.aNF],attrs:lee,ngContentSelectors:uee,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(a.NAR(),a.nrm(0,"div",1),a.j41(1,"div",2,0),a.SdG(3),a.k0s(),a.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const Vee={transitionMessages:(0,en.hZ)("transitionMessages",[(0,en.wk)("enter",(0,en.iF)({opacity:1,transform:"translateY(0%)"})),(0,en.kY)("void => enter",[(0,en.iF)({opacity:0,transform:"translateY(-5px)"}),(0,en.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let P1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n})}return n})();const N1=new a.nKC("MatFormField"),Bee=new a.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let VW=0,qd=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=zs(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,l,d,f,p,E){this._elementRef=e,this._changeDetectorRef=i,this._dir=l,this._platform=d,this._defaults=f,this._animationMode=p,this._labelChild=(0,a.sbv)(xl),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+VW++,this._hintLabelId="mat-mdc-hint-"+VW++,this._subscriptAnimationState="",this._destroyed=new B.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,a.WQX)(a.zZn),this.getLabelId=(0,a.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,a.EWP)(()=>!!this._labelChild()),f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=!!f?.hideRequiredMarker,f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(_i(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Bo.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,a.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(_i(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,r=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,l=i?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${l+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.gRc),a.rXU(a.SKi),a.rXU(Ya),a.rXU(zi),a.rXU(Bee,8),a.rXU(a.bc$,8),a.rXU(Te))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,l){if(1&i&&(a.C6U(l,r._labelChild,xl,5),a.wni(l,P1,5),a.wni(l,Nee,5),a.wni(l,kW,5),a.wni(l,MW,5),a.wni(l,RW,5)),2&i){let d;a.NyB(),a.mGM(d=a.lsd())&&(r._formFieldControl=d.first),a.mGM(d=a.lsd())&&(r._prefixChildren=d),a.mGM(d=a.lsd())&&(r._suffixChildren=d),a.mGM(d=a.lsd())&&(r._errorChildren=d),a.mGM(d=a.lsd())&&(r._hintChildren=d)}},viewQuery:function(i,r){if(1&i&&(a.GBs(dee,5),a.GBs(hee,5),a.GBs(fee,5),a.GBs(PW,5),a.GBs(LW,5),a.GBs(FW,5)),2&i){let l;a.mGM(l=a.lsd())&&(r._textField=l.first),a.mGM(l=a.lsd())&&(r._iconPrefixContainer=l.first),a.mGM(l=a.lsd())&&(r._textPrefixContainer=l.first),a.mGM(l=a.lsd())&&(r._floatingLabel=l.first),a.mGM(l=a.lsd())&&(r._notchedOutline=l.first),a.mGM(l=a.lsd())&&(r._lineRipple=l.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&a.AVh("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[a.Jv_([{provide:N1,useExisting:n},{provide:OW,useExisting:n}]),a.aNF],ngContentSelectors:pee,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const l=a.RV6();a.NAR(mee),a.DNE(0,vee,1,1,"ng-template",null,0,a.C5r),a.j41(2,"div",4,1),a.bIt("click",function(f){return a.eBV(l),a.Njj(r._control.onContainerClick(f))}),a.DNE(4,yee,1,0,"div",5),a.j41(5,"div",6),a.DNE(6,Eee,2,2,"div",7)(7,Iee,3,0,"div",8)(8,Cee,3,0,"div",9),a.j41(9,"div",10),a.DNE(10,Tee,1,1,null,11),a.SdG(11),a.k0s(),a.DNE(12,xee,2,0,"div",12)(13,Aee,2,0,"div",13),a.k0s(),a.DNE(14,See,1,0,"div",14),a.k0s(),a.j41(15,"div",15),a.DNE(16,Mee,2,1,"div",16)(17,kee,5,2,"div",17),a.k0s()}if(2&i){let l;a.R7$(2),a.AVh("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),a.R7$(2),a.vxM(r._hasOutline()||r._control.disabled?-1:4),a.R7$(2),a.vxM(r._hasOutline()?6:-1),a.R7$(),a.vxM(r._hasIconPrefix?7:-1),a.R7$(),a.vxM(r._hasTextPrefix?8:-1),a.R7$(2),a.vxM(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),a.R7$(2),a.vxM(r._hasTextSuffix?12:-1),a.R7$(),a.vxM(r._hasIconSuffix?13:-1),a.R7$(),a.vxM(r._hasOutline()?-1:14),a.R7$(),a.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),a.R7$(),a.vxM("error"===(l=r._getDisplayedMessages())?16:"hint"===l?17:-1)}},dependencies:[PW,LW,Qc,FW,RW],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Vee.transitionMessages]},changeDetection:0})}return n})(),Al=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[yi,vo,Px,yi]})}return n})();const jW=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],$W=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function $ee(n,t){1&n&&(a.j41(0,"span",3),a.SdG(1,1),a.k0s())}function Hee(n,t){1&n&&(a.j41(0,"span",6),a.SdG(1,2),a.k0s())}const Nj=["*"],F1=new a.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),Fj=new a.nKC("MatChipAvatar"),Lj=new a.nKC("MatChipTrailingIcon"),Vj=new a.nKC("MatChipRemove"),L1=new a.nKC("MatChip");let Zb=(()=>{class n{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=e}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,i){this._elementRef=e,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(L1))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,r){1&i&&a.bIt("click",function(d){return r._handleClick(d)})("keydown",function(d){return r._handleKeydown(d)}),2&i&&(a.BMQ("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),a.AVh("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",a.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?-1:(0,a.Udg)(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[a.GFd]})}return n})(),rte=0,am=(()=>{class n{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,i,r,l,d,f,p,E){this._changeDetectorRef=e,this._elementRef=i,this._ngZone=r,this._focusMonitor=l,this._globalRippleOptions=p,this._onFocus=new B.B,this._onBlur=new B.B,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+rte++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new a.bkB,this.destroyed=new a.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,a.WQX)(gA),this._injector=(0,a.WQX)(a.zZn),this._document=d,this._animationsDisabled="NoopAnimations"===f,null!=E&&(this.tabIndex=parseInt(E)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,Bo.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode&&!e.repeat||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=null!==e;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):(0,a.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(xc),a.rXU(Te),a.rXU(a.bc$,8),a.rXU(hl,8),a.kS0("tabindex"))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,l){if(1&i&&(a.wni(l,Fj,5),a.wni(l,Lj,5),a.wni(l,Vj,5),a.wni(l,Fj,5),a.wni(l,Lj,5),a.wni(l,Vj,5)),2&i){let d;a.mGM(d=a.lsd())&&(r.leadingIcon=d.first),a.mGM(d=a.lsd())&&(r.trailingIcon=d.first),a.mGM(d=a.lsd())&&(r.removeIcon=d.first),a.mGM(d=a.lsd())&&(r._allLeadingIcons=d),a.mGM(d=a.lsd())&&(r._allTrailingIcons=d),a.mGM(d=a.lsd())&&(r._allRemoveIcons=d)}},viewQuery:function(i,r){if(1&i&&a.GBs(Zb,5),2&i){let l;a.mGM(l=a.lsd())&&(r.primaryAction=l.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(i,r){1&i&&a.bIt("keydown",function(d){return r._handleKeydown(d)}),2&i&&(a.Mr5("id",r.id),a.BMQ("role",r.role)("tabindex",r._getTabIndex())("aria-label",r.ariaLabel),a.HbH("mat-"+(r.color||"primary")),a.AVh("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",a.L39],highlighted:[2,"highlighted","highlighted",a.L39],disableRipple:[2,"disableRipple","disableRipple",a.L39],disabled:[2,"disabled","disabled",a.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,a.Udg)(e)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[a.Jv_([{provide:L1,useExisting:n}]),a.GFd,a.aNF],ngContentSelectors:$W,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(a.NAR(jW),a.nrm(0,"span",0),a.j41(1,"span",1)(2,"span",2),a.DNE(3,$ee,2,0,"span",3),a.j41(4,"span",4),a.SdG(5),a.nrm(6,"span",5),a.k0s()()(),a.DNE(7,Hee,2,0,"span",6)),2&i&&(a.R7$(2),a.Y8G("isInteractive",!1),a.R7$(),a.vxM(r.leadingIcon?3:-1),a.R7$(4),a.vxM(r._hasTrailingIcon()?7:-1))},dependencies:[Zb],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),FD=(()=>{class n{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,i,r){this._elementRef=e,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new B.B,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new a.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=e,this._changeDetectorRef.markForCheck()})}}_getChipStream(e){return this._chips.changes.pipe((0,bo.Z)(null),pr(()=>(0,Bo.h)(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,bo.Z)(this._chips)).subscribe(e=>{const i=[];e.forEach(r=>r._getActions().forEach(l=>i.push(l))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new Gh(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(_i(this._destroyed)).subscribe(({chip:e})=>{const i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(_i(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,bo.Z)(null),_i(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(_i(this._destroyed)).subscribe(e=>{const r=this._chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.gRc),a.rXU(Ya,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,l){if(1&i&&a.wni(l,am,5),2&i){let d;a.mGM(d=a.lsd())&&(r._chips=d)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){1&i&&a.bIt("keydown",function(d){return r._handleKeydown(d)}),2&i&&a.BMQ("role",r.role)},inputs:{disabled:[2,"disabled","disabled",a.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,a.Udg)(e)]},standalone:!0,features:[a.GFd,a.aNF],ngContentSelectors:Nj,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(a.NAR(),a.j41(0,"div",0),a.SdG(1),a.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),Bj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[hv,{provide:F1,useValue:{separatorKeyCodes:[13]}}],imports:[yi,cp,yi]})}return n})(),ute=(()=>{class n{constructor(){this.dbService=(0,a.WQX)(Cl)}replicate(){this.dbService.replicateCollection(wr.STORIES),this.dbService.replicateCollection(wr.CHAPTERS)}cleanup(){this.dbService.cleanupCollection(wr.STORIES),this.dbService.cleanupCollection(wr.CHAPTERS),console.log(`LOL: Running ceanup for collections: ${wr.STORIES}, ${wr.CHAPTERS}`)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["editor"]],standalone:!0,features:[a.aNF],decls:11,vars:0,consts:[[1,"flex-container"],["mat-fab","","extended","",3,"click"],[1,"outlet-container"]],template:function(i,r){1&i&&(a.j41(0,"div",0)(1,"button",1),a.bIt("click",function(){return r.cleanup()}),a.j41(2,"mat-icon"),a.EFF(3,"cleaning_services"),a.k0s(),a.EFF(4," Cleanup "),a.k0s(),a.j41(5,"button",1),a.bIt("click",function(){return r.replicate()}),a.j41(6,"mat-icon"),a.EFF(7,"sync"),a.k0s(),a.EFF(8," Replicate "),a.k0s()(),a.j41(9,"div",2),a.nrm(10,"router-outlet"),a.k0s())},dependencies:[vo,qm,Vm,SD,ts,Vo,Wr,is,Bj],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;row-gap:15px;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;width:150px}.outlet-container[_ngcontent-%COMP%]{margin-top:15px}"]})}return n})();const dte=(n,t)=>t.id,hte=(n,t)=>["/library/story",n,"gameboard",t];function fte(n,t){1&n&&(a.j41(0,"h2",0),a.EFF(1),a.k0s()),2&n&&(a.R7$(),a.JRh(t.name))}function mte(n,t){1&n&&(a.j41(0,"mat-icon"),a.EFF(1,"star"),a.k0s())}function pte(n,t){if(1&n&&(a.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),a.EFF(3),a.DNE(4,mte,2,0,"mat-icon"),a.k0s(),a.j41(5,"mat-card-subtitle"),a.EFF(6),a.k0s()(),a.j41(7,"mat-card-content"),a.EFF(8),a.k0s()()),2&n){const e=t.$implicit,i=a.XpG();a.Y8G("routerLink",a.l_i(6,hte,i.storyId,e.id)),a.R7$(3),a.Lme(" ",e.chapter_number,": ",e.name," "),a.R7$(),a.vxM(e.is_premium?4:-1),a.R7$(2),a.JRh(e.author),a.R7$(2),a.JRh(e.description)}}let gte=(()=>{class n{constructor(){this.dbService=(0,a.WQX)(Cl),this.story$=this.getStory()}ngOnInit(){this.story$=this.getStory()}getStory(){var e=this;return(0,A.A)(function*(){return yield e.dbService.getDocumentById(wr.STORIES,e.storyId)})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["story"]],inputs:{storyId:"storyId",chapters$:"chapters$"},standalone:!0,features:[a.aNF],decls:6,vars:7,consts:[[1,"title"],["appearance","outlined",3,"routerLink"]],template:function(i,r){if(1&i&&(a.DNE(0,fte,2,1,"h2",0),a.nI1(1,"async"),a.nI1(2,"async"),a.Z7z(3,pte,9,9,"mat-card",1,dte),a.nI1(5,"async")),2&i){let l;a.vxM((l=a.bMT(2,3,a.bMT(1,1,r.story$)))?0:-1,l),a.R7$(3),a.Dyx(a.bMT(5,5,r.chapters$))}},dependencies:[vo,Ii,qm,Hs,SD,xD,AD,hj,A6,dj,ts,Vo],styles:[".title[_ngcontent-%COMP%]{margin-bottom:15px}"]})}return n})();function _te(n,t){1&n&&a.nrm(0,"div",2)}const vte=new a.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let bte=(()=>{class n{constructor(e,i,r,l,d){this._elementRef=e,this._ngZone=i,this._changeDetectorRef=r,this._animationMode=l,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new a.bkB,this._mode="determinate",this._transitionendHandler=f=>{0===this.animationEnd.observers.length||!f.target||!f.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===l,d&&(d.color&&(this.color=this._defaultColor=d.color),this.mode=d.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=qW(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=qW(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(a.gRc),a.rXU(a.bc$,8),a.rXU(vte,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,r){2&i&&(a.BMQ("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),a.HbH("mat-"+r.color),a.AVh("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",a.Udg],bufferValue:[2,"bufferValue","bufferValue",a.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[a.GFd,a.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){1&i&&(a.j41(0,"div",0),a.nrm(1,"div",1),a.DNE(2,_te,1,0,"div",2),a.k0s(),a.j41(3,"div",3),a.nrm(4,"span",4),a.k0s(),a.j41(5,"div",5),a.nrm(6,"span",4),a.k0s()),2&i&&(a.R7$(),a.xc7("flex-basis",r._getBufferBarFlexBasis()),a.R7$(),a.vxM("buffer"===r.mode?2:-1),a.R7$(),a.xc7("transform",r._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color);border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape)}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color)}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return n})();function qW(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let wte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[yi]})}return n})(),Ete=(()=>{class n{constructor(){this.el=(0,a.WQX)(a.aKT),this.renderer=(0,a.WQX)(a.sFG),this.listeners=[]}ngAfterViewInit(){this.createInteractiveText(this.text)}ngOnDestroy(){this.listeners.forEach(e=>{e&&e()})}createInteractiveText(e){let r=`${e}`;[...r.matchAll(/[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}/g)].forEach(d=>{const f=r.indexOf(d[0]),p=f+d[0].length,E=r.slice(0,f);this.addText(E);const x=r.slice(f,p);this.addRef(x),r=r.slice(p)}),this.addText(r)}addText(e){const i=this.renderer.createText(e);this.renderer.appendChild(this.el.nativeElement,i)}addRef(e){const i=this.renderer.createText(e),r=this.renderer.createElement("span");this.renderer.addClass(r,"ref"),this.renderer.appendChild(r,i),this.renderer.appendChild(this.el.nativeElement,r);const l=this.renderer.listen(r,"click",d=>{console.log(`LOL: Event ${d} for ID: ${e}`)});this.listeners.push(l)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["game-text"]],inputs:{text:"text"},standalone:!0,features:[a.aNF],decls:0,vars:0,template:function(i,r){},styles:[".ref[_ngcontent-%COMP%]{color:red;cursor:pointer}.ref[_ngcontent-%COMP%]:hover{color:green}"]})}return n})();function Ite(n,t){if(1&n&&(a.j41(0,"div",1),a.EFF(1),a.nI1(2,"titlecase"),a.nrm(3,"mat-progress-bar",5),a.EFF(4),a.nI1(5,"titlecase"),a.nrm(6,"mat-progress-bar",5),a.k0s()),2&n){const e=t;a.R7$(),a.SpI(" ",a.bMT(2,8,e.empathy_name),": 65 "),a.R7$(2),a.Y8G("mode","determinate")("value",65)("bufferValue",100),a.R7$(),a.SpI(" ",a.bMT(5,10,e.sympathy_name),": 100 "),a.R7$(2),a.Y8G("mode","determinate")("value",100)("bufferValue",100)}}let Cte=(()=>{class n{constructor(){this.dbService=(0,a.WQX)(Cl),this.chapter$=this.dbService.getDocumentById(wr.CHAPTERS,this.chapterId),this.text="This defines 5e0f2bd0-2b43-4df3-9542-1d4969e24f87 the ability for a flex item to grow if necessary. It accepts a unitless value that serves as a proportion. It dictates what amount of the available space inside the flex container the item should take up.\n\nIf all items have flex-grow set to 1, the fb506849-9ef5-4771-a1c0-508460bf16ce remaining space in the container will be distributed equally to all children. If one of the children has a value of 2, that child would take up twice as much of the space as either one of the others (or it will try, at least)."}ngOnInit(){this.chapter$=this.dbService.getDocumentById(wr.CHAPTERS,this.chapterId)}lol(e){return()=>console.log(`LOL pipe ${e}`)}buildRefs(e){return()=>{}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["app-gameboard"]],inputs:{chapterId:"chapterId"},standalone:!0,features:[a.aNF],decls:14,vars:6,consts:[[1,"game-container"],[1,"stats-area"],[1,"text-area",3,"text"],[1,"button-area"],["mat-fab","","extended",""],[3,"mode","value","bufferValue"]],template:function(i,r){if(1&i&&(a.j41(0,"div",0),a.DNE(1,Ite,7,12,"div",1),a.nI1(2,"async"),a.nI1(3,"async"),a.nrm(4,"game-text",2),a.j41(5,"div",3)(6,"button",4),a.EFF(7," Inventory "),a.j41(8,"mat-icon"),a.EFF(9,"business_center"),a.k0s()(),a.j41(10,"button",4),a.EFF(11," Info "),a.j41(12,"mat-icon"),a.EFF(13,"menu_book"),a.k0s()()()()),2&i){let l;a.R7$(),a.vxM((l=a.bMT(3,4,a.bMT(2,2,r.chapter$)))?1:-1,l),a.R7$(3),a.Y8G("text",r.text)}},dependencies:[vo,Ii,th,Wr,is,ts,Vo,wte,bte,Ete],styles:[".game-container[_ngcontent-%COMP%]{height:90vh;display:flex;flex-direction:column;align-content:stretch;justify-content:space-between}.stats-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1}.stats-area[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px}.text-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:7;outline:2px solid white;padding:15px;font-size:18px;line-height:25px}.button-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:2;display:flex;flex-wrap:wrap;align-content:center;justify-content:space-around;row-gap:15px}.button-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:70px}"]})}return n})(),Dte=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}guestLogin(){this.authService.anonymousLogin().then(()=>{console.log("LOL: Logging in as guest"),this.router.navigate(["/library"])})}googleLogin(){this.authService.googleLogin().then(()=>{console.log("LOL: Login via google"),this.router.navigate(["/library"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Uc),a.rXU(gr))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["start"]],standalone:!0,features:[a.aNF],decls:9,vars:0,consts:[[1,"start-container"],["src","assets/interface/Detective.jpg","alt","Detective"],["mat-fab","","extended","",3,"click"],["mat-fab","","extended","","routerLink","/signin"]],template:function(i,r){1&i&&(a.j41(0,"div",0)(1,"div"),a.nrm(2,"img",1),a.k0s(),a.j41(3,"button",2),a.bIt("click",function(){return r.guestLogin()}),a.EFF(4,"Sign in as Guest"),a.k0s(),a.j41(5,"button",3),a.EFF(6,"Sign in via email"),a.k0s(),a.j41(7,"button",2),a.bIt("click",function(){return r.googleLogin()}),a.EFF(8,"Sign in via Google"),a.k0s()())},dependencies:[Hs,Wr,is],styles:[".start-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:90vh;align-items:center;justify-content:space-around}.start-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:300px}"]})}return n})();const Tte=(n,t)=>t.id,xte=n=>["/library/story",n];function Ate(n,t){if(1&n&&(a.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),a.EFF(3),a.k0s()(),a.j41(4,"mat-card-content"),a.EFF(5),a.k0s()()),2&n){const e=t.$implicit,i=t.$index;a.Y8G("routerLink",a.eq3(4,xte,e.id)),a.R7$(3),a.Lme("",i," ",e.name,""),a.R7$(2),a.SpI(" ",e.description," ")}}let Ste=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["library"]],inputs:{stories$:"stories$"},standalone:!0,features:[a.aNF],decls:6,vars:2,consts:[["appearance","outlined",3,"routerLink"]],template:function(i,r){1&i&&(a.j41(0,"h3"),a.EFF(1,"Stories"),a.k0s(),a.nrm(2,"router-outlet"),a.Z7z(3,Ate,6,6,"mat-card",0,Tte),a.nI1(5,"async")),2&i&&(a.R7$(3),a.Dyx(a.bMT(5,0,r.stories$)))},dependencies:[vo,Ii,qm,Vm,Hs,SD,xD,AD,hj,dj],styles:[".mat-mdc-card-content[_ngcontent-%COMP%]:hover{color:red}"]})}return n})();function Mte(n,t){}class B1{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let XW=(()=>{class n extends vp{constructor(e,i,r,l,d,f,p,E){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=l,this._interactivityChecker=d,this._ngZone=f,this._overlayRef=p,this._focusMonitor=E,this._platform=(0,a.WQX)(zi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,a.WQX)(a.gRc),this._injector=(0,a.WQX)(a.zZn),this._isDestroyed=!1,this.attachDomPortal=x=>{this._portalOutlet.hasAttached();const R=this._portalOutlet.attachDomPortal(x);return this._contentAttached(),R},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||(0,a.mal)(()=>{const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Qm(),l=this._elementRef.nativeElement;(!r||r===this._document.body||r===l||l.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Qm();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Qm()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(ep),a.rXU(Te,8),a.rXU(B1),a.rXU(Mw),a.rXU(a.SKi),a.rXU(AE),a.rXU(xc))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&a.GBs(od,7),2&i){let l;a.mGM(l=a.lsd())&&(r._portalOutlet=l.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&a.BMQ("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[a.Vt3,a.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&a.DNE(0,Mte,0,0,"ng-template",0)},dependencies:[od],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class Uj{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new B.B,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ta(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const QW=new a.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(Uo);return()=>n.scrollStrategies.block()}}),Rte=new a.nKC("DialogData"),kte=new a.nKC("DefaultDialogConfig");let Pte=0,YW=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,l,d,f){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=l,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new B.B,this._afterOpenedAtThisLevel=new B.B,this._ariaHiddenElements=new Map,this.afterAllClosed=tn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,bo.Z)(void 0))),this._scrollStrategy=f}open(e,i){(i={...this._defaultOptions||new B1,...i}).id=i.id||"cdk-dialog-"+Pte++,i.id&&this.getDialogById(i.id);const l=this._getOverlayConfig(i),d=this._overlay.create(l),f=new Uj(d,i),p=this._attachContainer(d,f,i);return f.containerInstance=p,this._attachDialogContent(e,f,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){jj(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){jj(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),jj(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Lv({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const l=r.injector||r.viewContainerRef?.injector,d=[{provide:B1,useValue:r},{provide:Uj,useValue:i},{provide:AE,useValue:e}];let f;r.container?"function"==typeof r.container?f=r.container:(f=r.container.type,d.push(...r.container.providers(r))):f=XW;const p=new lf(f,r.viewContainerRef,a.zZn.create({parent:l||this._injector,providers:d}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,l){if(e instanceof a.C4Q){const d=this._createInjector(l,i,r,void 0);let f={$implicit:l.data,dialogRef:i};l.templateContext&&(f={...f,..."function"==typeof l.templateContext?l.templateContext():l.templateContext}),r.attachTemplatePortal(new nu(e,null,f,d))}else{const d=this._createInjector(l,i,r,this._injector),f=r.attachComponentPortal(new lf(e,l.viewContainerRef,d,l.componentFactoryResolver));i.componentRef=f,i.componentInstance=f.instance}}_createInjector(e,i,r,l){const d=e.injector||e.viewContainerRef?.injector,f=[{provide:Rte,useValue:e.data},{provide:Uj,useValue:i}];return e.providers&&("function"==typeof e.providers?f.push(...e.providers(i,e,r)):f.push(...e.providers)),e.direction&&(!d||!d.get(Ya,null,{optional:!0}))&&f.push({provide:Ya,useValue:{value:e.direction,change:Y()}}),a.zZn.create({parent:d||l,providers:f})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,d)=>{l?d.setAttribute("aria-hidden",l):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const l=i[r];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Uo),a.KVO(a.zZn),a.KVO(kte,8),a.KVO(n,12),a.KVO(bp),a.KVO(QW))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jj(n,t){let e=n.length;for(;e--;)t(n[e])}let Nte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[YW],imports:[Ep,sd,eN,sd]})}return n})();function Fte(n,t){}class $j{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Hj="mdc-dialog--open",ZW="mdc-dialog--opening",JW="mdc-dialog--closing";let e9=(()=>{class n extends XW{constructor(e,i,r,l,d,f,p,E,x){super(e,i,r,l,d,f,p,x),this._animationMode=E,this._animationStateChanged=new a.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?n9(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?n9(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(t9,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(ZW,Hj)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Hj),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Hj),this._animationsEnabled?(this._hostElement.style.setProperty(t9,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(JW)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(ZW,JW)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(ep),a.rXU(Te,8),a.rXU($j),a.rXU(Mw),a.rXU(a.SKi),a.rXU(AE),a.rXU(a.bc$,8),a.rXU(xc))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(a.Mr5("id",r._config.id),a.BMQ("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),a.AVh("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[a.Vt3,a.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(a.j41(0,"div",0)(1,"div",1),a.DNE(2,Fte,0,0,"ng-template",2),a.k0s()())},dependencies:[od],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return n})();const t9="--mat-dialog-transition-duration";function n9(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?rv(n.substring(0,n.length-2)):n.endsWith("s")?1e3*rv(n.substring(0,n.length-1)):"0"===n?0:null}var U1=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(U1||{});class zj{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new B.B,this._beforeClosed=new B.B,this._state=U1.OPEN,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe((0,On.p)(r=>"opened"===r.state),Xi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,On.p)(r=>"closed"===r.state),Xi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Bo.h)(this.backdropClick(),this.keydownEvents().pipe((0,On.p)(r=>27===r.keyCode&&!this.disableClose&&!Ta(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),i9(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe((0,On.p)(e=>"closing"===e.state),Xi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=U1.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=U1.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function i9(n,t,e){return n._closeInteractionType=t,n.close(e)}const j1=new a.nKC("MatMdcDialogData"),Bte=new a.nKC("mat-mdc-dialog-default-options"),r9=new a.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(Uo);return()=>n.scrollStrategies.block()}});let jte=0,Hg=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,l,d,f,p,E){this._overlay=e,this._defaultOptions=l,this._scrollStrategy=d,this._parentDialog=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new B.B,this._afterOpenedAtThisLevel=new B.B,this.dialogConfigClass=$j,this.afterAllClosed=tn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,bo.Z)(void 0))),this._dialog=i.get(YW),this._dialogRefConstructor=zj,this._dialogContainerType=e9,this._dialogDataToken=j1}open(e,i){let r;(i={...this._defaultOptions||new $j,...i}).id=i.id||"mat-mdc-dialog-"+jte++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const l=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:B1,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(d,f,p)=>(r=new this._dialogRefConstructor(d,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=l.componentRef,r.componentInstance=l.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(r);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Uo),a.KVO(a.zZn),a.KVO(Nn,8),a.KVO(Bte,8),a.KVO(r9),a.KVO(n,12),a.KVO(bp),a.KVO(a.bc$,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$te=0,$1=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=s9(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){i9(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(zj,8),a.rXU(a.aKT),a.rXU(Hg))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&a.bIt("click",function(d){return r._onButtonClick(d)}),2&i&&a.BMQ("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[a.OA$]})}return n})(),o9=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=s9(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(zj,8),a.rXU(a.aKT),a.rXU(Hg))};static#t=this.\u0275dir=a.FsC({type:n,standalone:!0})}return n})(),H1=(()=>{class n extends o9{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+$te++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&a.Mr5("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[a.Vt3]})}return n})(),z1=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[a.nM4([uF])]})}return n})(),G1=(()=>{class n extends o9{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){2&i&&a.AVh("mat-mdc-dialog-actions-align-start","start"===r.align)("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"},standalone:!0,features:[a.Vt3]})}return n})();function s9(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let Hte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[Hg],imports:[Nte,Ep,sd,yi,yi]})}return n})(),c9=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(j1))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["delete-confirmation"]],standalone:!0,features:[a.aNF],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""],["mat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(i,r){1&i&&(a.j41(0,"h2",0),a.EFF(1,"Delete element"),a.k0s(),a.j41(2,"mat-dialog-content"),a.EFF(3),a.k0s(),a.j41(4,"mat-dialog-actions")(5,"button",1),a.EFF(6,"No"),a.k0s(),a.j41(7,"button",2),a.bIt("click",function(){return r.data.deleteFunction()}),a.EFF(8,"Ok"),a.k0s()()),2&i&&(a.R7$(3),a.E5c(" Do you want to delete ",r.data.name," (ID: ",r.data.id,") from ",r.data.collection,"? "))},dependencies:[Wr,tu,H1,z1,G1,$1],changeDetection:0})}return n})();const zte=(n,t)=>t.id,Gte=()=>["/editor/stories",null],Wte=n=>["/editor/stories",n],Kte=n=>["/editor/stories",n,"chapters"];function qte(n,t){if(1&n){const e=a.RV6();a.j41(0,"mat-card",3)(1,"mat-card-content"),a.EFF(2),a.k0s(),a.j41(3,"mat-card-footer",4)(4,"mat-chip-set",5)(5,"mat-chip",6)(6,"mat-icon"),a.EFF(7,"edit"),a.k0s(),a.EFF(8," Edit "),a.k0s(),a.j41(9,"mat-chip",7),a.bIt("click",function(){const r=a.eBV(e).$implicit,l=a.XpG();return a.Njj(l.delete(r))}),a.j41(10,"mat-icon"),a.EFF(11,"delete"),a.k0s(),a.EFF(12," Delete "),a.k0s(),a.j41(13,"mat-chip",6)(14,"mat-icon"),a.EFF(15,"edit_square"),a.k0s(),a.EFF(16," Chapters "),a.k0s()()()()}if(2&n){const e=t.$implicit,i=t.$index;a.R7$(2),a.Lme("",i," ",e.name,""),a.R7$(3),a.Y8G("routerLink",a.eq3(4,Wte,e.id)),a.R7$(8),a.Y8G("routerLink",a.eq3(6,Kte,e.id))}}let Xte=(()=>{class n{constructor(){this.dbService=(0,a.WQX)(Cl),this.dialog=(0,a.WQX)(Hg),this.stories$=this.getStories()}getStories(){var e=this;return(0,A.A)(function*(){return yield e.dbService.getAllCollectionDocs(wr.STORIES)})()}addStory(e){return this.dbService.addDocument(wr.STORIES,e)}delete(e){this.dialog.open(c9,{data:{id:e.id,name:e.name,collection:wr.STORIES,deleteFunction:()=>this.deleteStory(e)}})}deleteStory(e){console.log(`LOL: Deleting story: ${e.name}: ${e.id}`),this.dbService.deleteDocument(wr.STORIES,e.id)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["editor-stories"]],standalone:!0,features:[a.aNF],decls:10,vars:6,consts:[[1,"edit-stories-container"],["mat-fab","","extended","",1,"button-container",3,"routerLink"],[1,"stories"],["appearance","outlined"],[1,"card-footer"],["aria-label","Story-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(i,r){1&i&&(a.j41(0,"div",0)(1,"a",1)(2,"mat-icon"),a.EFF(3,"add"),a.k0s(),a.EFF(4," Add story "),a.k0s(),a.j41(5,"div",2),a.Z7z(6,qte,17,8,"mat-card",3,zte),a.nI1(8,"async"),a.nI1(9,"async"),a.k0s()()),2&i&&(a.R7$(),a.Y8G("routerLink",a.lJ4(5,Gte)),a.R7$(5),a.Dyx(a.bMT(9,3,a.bMT(8,1,r.stories$))))},dependencies:[vo,Ii,qm,Hs,SD,xD,AD,fj,ts,Vo,Wr,pl,Bj,am,FD],styles:[".edit-stories-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-stories-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin-top:15px}.stories[_ngcontent-%COMP%]{height:70vh;overflow-y:auto;margin-top:15px}.card-footer[_ngcontent-%COMP%]{padding:15px}"]})}return n})();const Qte=(n,t)=>t.id,Yte=n=>["/editor/stories",n,"chapters",null],Zte=(n,t)=>["/editor/stories",n,"chapters",t];function Jte(n,t){1&n&&(a.j41(0,"h3"),a.EFF(1),a.nI1(2,"titlecase"),a.k0s()),2&n&&(a.R7$(),a.SpI("",a.bMT(2,1,t.name)," chapters"))}function ene(n,t){if(1&n){const e=a.RV6();a.j41(0,"mat-card",3)(1,"mat-card-content"),a.EFF(2),a.k0s(),a.j41(3,"mat-card-footer",4)(4,"mat-chip-set",5)(5,"mat-chip",6)(6,"mat-icon"),a.EFF(7,"edit"),a.k0s(),a.EFF(8," Edit "),a.k0s(),a.j41(9,"mat-chip",7),a.bIt("click",function(){const r=a.eBV(e).$implicit,l=a.XpG();return a.Njj(l.delete(r))}),a.j41(10,"mat-icon"),a.EFF(11,"delete"),a.k0s(),a.EFF(12," Delete "),a.k0s()()()()}if(2&n){const e=t.$implicit,i=t.$index,r=a.XpG();a.R7$(2),a.Lme("",i," ",e.name,""),a.R7$(3),a.Y8G("routerLink",a.l_i(3,Zte,r.storyId,e.id))}}let tne=(()=>{class n{constructor(){this.dbService=(0,a.WQX)(Cl),this.dialog=(0,a.WQX)(Hg)}delete(e){var i=this;return(0,A.A)(function*(){i.dialog.open(c9,{data:{id:e.id,name:e.name,collection:wr.CHAPTERS,deleteFunction:()=>i.deleteChapter(e)}})})()}deleteChapter(e){console.log(`LOL: Deleting chapter: ${e.name}: ${e.id}`),this.dbService.deleteDocument(wr.CHAPTERS,e.id)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["editor-chapters"]],inputs:{storyId:"storyId",chapters$:"chapters$",story$:"story$"},standalone:!0,features:[a.aNF],decls:14,vars:8,consts:[[1,"flex-container"],["mat-fab","","extended","",1,"button-container",3,"routerLink"],["mat-fab","","extended","","routerLink","/editor/stories",1,"button-container"],["appearance","outlined"],[1,"card-footer"],["aria-label","chapter-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(i,r){if(1&i&&(a.j41(0,"div",0)(1,"a",1)(2,"mat-icon"),a.EFF(3,"add"),a.k0s(),a.EFF(4," Add chapter "),a.k0s(),a.j41(5,"a",2)(6,"mat-icon"),a.EFF(7,"arrow_back"),a.k0s(),a.EFF(8," Stories "),a.k0s()(),a.DNE(9,Jte,3,3,"h3"),a.nI1(10,"async"),a.Z7z(11,ene,13,6,"mat-card",3,Qte),a.nI1(13,"async")),2&i){let l;a.R7$(),a.Y8G("routerLink",a.eq3(6,Yte,r.storyId)),a.R7$(8),a.vxM((l=a.bMT(10,2,r.story$))?9:-1,l),a.R7$(2),a.Dyx(a.bMT(13,4,r.chapters$))}},dependencies:[vo,Ii,th,qm,Hs,SD,xD,AD,fj,ts,Vo,Wr,pl,Bj,am,FD],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;row-gap:15px;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .flex-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;width:150px}"]})}return n})();class Gj{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new B.B,e&&e.length&&(t?e.forEach(l=>this._markSelected(l)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(l=>this._markSelected(l)),e.filter(l=>!i.has(this._getConcreteValue(l,i))).forEach(l=>this._unmarkSelected(l));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}return t}}let l9=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ine=["trigger"],rne=["panel"],one=[[["mat-select-trigger"]],"*"],sne=["mat-select-trigger","*"];function ane(n,t){if(1&n&&(a.j41(0,"span",4),a.EFF(1),a.k0s()),2&n){const e=a.XpG();a.R7$(),a.JRh(e.placeholder)}}function cne(n,t){1&n&&a.SdG(0)}function lne(n,t){if(1&n&&(a.j41(0,"span",11),a.EFF(1),a.k0s()),2&n){const e=a.XpG(2);a.R7$(),a.JRh(e.triggerValue)}}function une(n,t){if(1&n&&(a.j41(0,"span",5),a.DNE(1,cne,1,0)(2,lne,2,1,"span",11),a.k0s()),2&n){const e=a.XpG();a.R7$(),a.vxM(e.customTrigger?1:2)}}function dne(n,t){if(1&n){const e=a.RV6();a.j41(0,"div",12,1),a.bIt("@transformPanel.done",function(r){a.eBV(e);const l=a.XpG();return a.Njj(l._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){a.eBV(e);const l=a.XpG();return a.Njj(l._handleKeydown(r))}),a.SdG(2,1),a.k0s()}if(2&n){const e=a.XpG();a.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),a.Y8G("ngClass",e.panelClass)("@transformPanel","showing"),a.BMQ("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const hne={transformPanelWrap:(0,en.hZ)("transformPanelWrap",[(0,en.kY)("* => void",(0,en.P)("@transformPanel",[(0,en.MA)()],{optional:!0}))]),transformPanel:(0,en.hZ)("transformPanel",[(0,en.wk)("void",(0,en.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,en.kY)("void => showing",(0,en.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,en.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,en.kY)("* => void",(0,en.i0)("100ms linear",(0,en.iF)({opacity:0})))])};let u9=0;const d9=new a.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(Uo);return()=>n.scrollStrategies.reposition()}}),mne=new a.nKC("MAT_SELECT_CONFIG"),pne={provide:d9,deps:[Uo],useFactory:function fne(n){return()=>n.scrollStrategies.reposition()}},gne=new a.nKC("MatSelectTrigger");class _ne{constructor(t,e){this.source=t,this.value=e}}let h9=(()=>{class n{_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,l=function uA(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),l=0;for(let d=0;d<n+1;d++)i[d].group&&i[d].group===r[l]&&l++;return l}return 0}(e,this.options,this.optionGroups),d=i._getHostElement();r.scrollTop=0===e&&1===l?0:function dA(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(d.offsetTop,d.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new _ne(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Vi.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,l,d,f,p,E,x,R,U,K,me,fe){this._viewportRuler=e,this._changeDetectorRef=i,this._elementRef=d,this._dir=f,this._parentFormField=x,this.ngControl=R,this._liveAnnouncer=me,this._defaultOptions=fe,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(he,ht)=>he===ht,this._uid="mat-select-"+u9++,this._triggerAriaLabelledBy=null,this._destroy=new B.B,this.stateChanges=new B.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+u9++,this._panelDoneAnimatingStream=new B.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new B.B,this.optionSelectionChanges=tn(()=>{const he=this.options;return he?he.changes.pipe((0,bo.Z)(he),pr(()=>(0,Bo.h)(...he.map(ht=>ht.onSelectionChange)))):this._initialized.pipe(pr(()=>this.optionSelectionChanges))}),this.openedChange=new a.bkB,this._openedStream=this.openedChange.pipe((0,On.p)(he=>he),(0,Ae.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,On.p)(he=>!he),(0,Ae.T)(()=>{})),this.selectionChange=new a.bkB,this.valueChange=new a.bkB,this._trackedModal=null,this._skipPredicate=he=>!this.panelOpen&&he.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=fe?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=fe.typeaheadDebounceInterval),this._errorStateTracker=new Eo(l,R,E,p,this.stateChanges),this._scrollStrategyFactory=K,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(U)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Gj(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,Ox.F)(),_i(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(_i(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(_i(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe((0,bo.Z)(null),_i(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&Is(this._trackedModal,"aria-owns",i),function zh(n,t,e){const i=es(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(" ")))}(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(Is(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,l=13===i||32===i,d=this._keyManager;if(!d.isTyping()&&l&&!Ta(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;d.onKeydown(e);const p=this.selected;p&&f!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,l=40===r||38===r,d=i.isTyping();if(l&&e.altKey)e.preventDefault(),this.close();else if(d||13!==r&&32!==r||!i.activeItem||Ta(e))if(!d&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const f=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(f?p.select():p.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(e),this._multiple&&l&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Xi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof wp?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new av(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Bo.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(_i(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Bo.h)(...this.options.map(i=>i._stateChanges)).pipe(_i(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(hS),a.rXU(a.gRc),a.rXU(a.SKi),a.rXU(hv),a.rXU(a.aKT),a.rXU(Ya,8),a.rXU(Qb,8),a.rXU(ta,8),a.rXU(N1,8),a.rXU(Dl,10),a.kS0("tabindex"),a.rXU(d9),a.rXU(np),a.rXU(mne,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,l){if(1&i&&(a.wni(l,gne,5),a.wni(l,Yu,5),a.wni(l,Qw,5)),2&i){let d;a.mGM(d=a.lsd())&&(r.customTrigger=d.first),a.mGM(d=a.lsd())&&(r.options=d),a.mGM(d=a.lsd())&&(r.optionGroups=d)}},viewQuery:function(i,r){if(1&i&&(a.GBs(ine,5),a.GBs(rne,5),a.GBs(yS,5)),2&i){let l;a.mGM(l=a.lsd())&&(r.trigger=l.first),a.mGM(l=a.lsd())&&(r.panel=l.first),a.mGM(l=a.lsd())&&(r._overlayDir=l.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&a.bIt("keydown",function(d){return r._handleKeydown(d)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(a.BMQ("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),a.AVh("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",a.L39],disableRipple:[2,"disableRipple","disableRipple",a.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,a.Udg)(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",a.L39],placeholder:"placeholder",required:[2,"required","required",a.L39],multiple:[2,"multiple","multiple",a.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",a.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",a.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[a.Jv_([{provide:P1,useExisting:n},{provide:lA,useExisting:n}]),a.GFd,a.OA$,a.aNF],ngContentSelectors:sne,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(1&i){const l=a.RV6();a.NAR(one),a.j41(0,"div",2,0),a.bIt("click",function(){return a.eBV(l),a.Njj(r.open())}),a.j41(3,"div",3),a.DNE(4,ane,2,1,"span",4)(5,une,3,1,"span",5),a.k0s(),a.j41(6,"div",6)(7,"div",7),a.qSk(),a.j41(8,"svg",8),a.nrm(9,"path",9),a.k0s()()()(),a.DNE(10,dne,3,9,"ng-template",10),a.bIt("backdropClick",function(){return a.eBV(l),a.Njj(r.close())})("attach",function(){return a.eBV(l),a.Njj(r._onAttached())})("detach",function(){return a.eBV(l),a.Njj(r.close())})}if(2&i){const l=a.sdS(1);a.R7$(3),a.BMQ("id",r._valueId),a.R7$(),a.vxM(r.empty?4:5),a.R7$(6),a.Y8G("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||l)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[wp,yS,Ls],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[hne.transformPanel]},changeDetection:0})}return n})(),f9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[pne],imports:[vo,Ep,hA,yi,TE,Al,hA,yi]})}return n})();const m9=Bh({passive:!0});let vne=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ze.w;const i=Zl(e),r=this._monitoredElements.get(i);if(r)return r.subject;const l=new B.B,d="cdk-text-field-autofilled",f=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>l.next({target:p.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>l.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,m9),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:l,unlisten:()=>{i.removeEventListener("animationstart",f,m9)}}),l}stopMonitoring(e){const i=Zl(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(zi),a.KVO(a.SKi))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();const bne=new a.nKC("MAT_INPUT_VALUE_ACCESSOR"),wne=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Ene=0,Xd=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=zs(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Vi.required)??!1}set required(e){this._required=zs(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&dP().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=zs(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,l,d,f,p,E,x,R){this._elementRef=e,this._platform=i,this.ngControl=r,this._autofillMonitor=E,this._formField=R,this._uid="mat-input-"+Ene++,this.focused=!1,this.stateChanges=new B.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(me=>dP().has(me)),this._iOSKeyupListener=me=>{const fe=me.target;!fe.value&&0===fe.selectionStart&&0===fe.selectionEnd&&(fe.setSelectionRange(1,1),fe.setSelectionRange(0,0))};const U=this._elementRef.nativeElement,K=U.nodeName.toLowerCase();this._inputValueAccessor=p||U,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&x.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new Eo(f,r,d,l,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=U.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){wne.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(zi),a.rXU(Dl,10),a.rXU(Qb,8),a.rXU(ta,8),a.rXU(hv),a.rXU(bne,10),a.rXU(vne),a.rXU(a.SKi),a.rXU(N1,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&a.bIt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(a.Mr5("id",r.id)("disabled",r.disabled)("required",r.required),a.BMQ("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),a.AVh("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[a.Jv_([{provide:P1,useExisting:n}]),a.OA$]})}return n})(),Qd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[yi,Al,Al,yne,yi]})}return n})();var Yd=function(n){return n.ENGLISH="en",n.POLISH="pl",n}(Yd||{});function Ine(n,t){if(1&n&&(a.j41(0,"mat-option",5),a.EFF(1),a.k0s()),2&n){const e=t.$implicit;a.Y8G("value",e),a.R7$(),a.JRh(e)}}let Cne=(()=>{class n{constructor(){this.availableLanguages=Object.values(Yd),this.story=null,this.formBuilder=(0,a.WQX)(Wd),this.dbService=(0,a.WQX)(Cl),this.router=(0,a.WQX)(gr),this.storySubscription=null,this.storyEditForm=this.formBuilder.group({id:[""],name:["",Vi.required],languages:[[],Vi.required],description:[""]})}ngOnInit(){this.setupStory()}ngOnDestroy(){this.storySubscription&&this.storySubscription.unsubscribe()}setupStory(){console.log(`LOL: StoryID: ${this.storyId}`),this.storyId&&(this.storySubscription=this.story$.subscribe(e=>{console.log(`LOL: Story: ${JSON.stringify(e)}`),this.story=e,this.storyEditForm.patchValue({id:this.story?.id,name:this.story?.name,languages:this.story?.languages,description:this.story?.description})}))}save(){var e=this;return(0,A.A)(function*(){const i=yield e.saveStory();e.updateInterface(i,!e.story?.id)})()}saveStory(){var e=this;return(0,A.A)(function*(){const i=e.storyEditForm.value;if(!i.name||!i.languages?.length)throw new Error("LOL Error on saving the story because of the missing required values");const r={name:i.name,languages:i.languages.map(l=>Yd[Object.keys(Yd)[Object.values(Yd).indexOf(l)]]),description:i.description};if(e.story?.id){const l={...r,id:e.story.id};return yield e.editStory(e.story.id,l)}return yield e.addStory(r)})()}addStory(e){return this.dbService.addDocument(wr.STORIES,e)}editStory(e,i){return this.dbService.updateDocument(wr.STORIES,e,i)}updateInterface(e,i=!1){this.story={...this.story,...e,id:e.id},i&&(this.router.navigate(["/editor/stories",e.id]),this.storyEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["story-edit-form"]],inputs:{storyId:"storyId",story$:"story$"},standalone:!0,features:[a.aNF],decls:28,vars:2,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly","","placeholder","Save story to add id"],["matInput","","type","text","formControlName","name"],["multiple","","formControlName","languages"],[3,"value"],["matInput","","placeholder","A short description of the story content","formControlName","description"],[1,"button-container"],["mat-fab","","extended","","routerLink","/editor"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(i,r){1&i&&(a.j41(0,"form",0),a.bIt("ngSubmit",function(){return r.save()}),a.j41(1,"mat-form-field",1)(2,"mat-label"),a.EFF(3,"Story id"),a.k0s(),a.nrm(4,"input",2),a.k0s(),a.j41(5,"mat-form-field")(6,"mat-label"),a.EFF(7,"Story name"),a.k0s(),a.nrm(8,"input",3),a.k0s(),a.j41(9,"mat-form-field")(10,"mat-label"),a.EFF(11,"Languages"),a.k0s(),a.j41(12,"mat-select",4),a.Z7z(13,Ine,2,2,"mat-option",5,a.Vm6),a.k0s()(),a.j41(15,"mat-form-field")(16,"mat-label"),a.EFF(17,"Description"),a.k0s(),a.nrm(18,"textarea",6),a.k0s(),a.j41(19,"div",7)(20,"button",8)(21,"mat-icon"),a.EFF(22,"arrow_back"),a.k0s(),a.EFF(23," Back "),a.k0s(),a.j41(24,"button",9)(25,"mat-icon"),a.EFF(26,"save"),a.k0s(),a.EFF(27," Save story "),a.k0s()()()),2&i&&(a.Y8G("formGroup",r.storyEditForm),a.R7$(13),a.Dyx(r.availableLanguages),a.R7$(11),a.Y8G("disabled",!r.storyEditForm.valid))},dependencies:[Hs,Kd,Du,jc,Iu,Cu,ta,Tl,f9,qd,xl,h9,Yu,Qd,Xd,Al,ts,Vo,Wr,is],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between}"]})}return n})();const Dne=["switch"],Tne=["*"];function xne(n,t){1&n&&(a.j41(0,"div",10),a.qSk(),a.j41(1,"svg",12),a.nrm(2,"path",13),a.k0s(),a.j41(3,"svg",14),a.nrm(4,"path",15),a.k0s()())}const Ane=new a.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Sne={provide:Pa,useExisting:(0,a.Rfq)(()=>Wj),multi:!0};class p9{constructor(t,e){this.source=t,this.checked=e}}let Mne=0,Wj=(()=>{class n{_createChangeEvent(e){return new p9(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,l,d,f){this._elementRef=e,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=d,this._onChange=p=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new a.bkB,this.toggleChange=new a.bkB,this.tabIndex=parseInt(l)||0,this.color=d.color||"accent",this._noopAnimations="NoopAnimations"===f,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++Mne,this.hideIcon=d.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&!0!==e.value?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new p9(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(xc),a.rXU(a.gRc),a.kS0("tabindex"),a.rXU(Ane),a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&a.GBs(Dne,5),2&i){let l;a.mGM(l=a.lsd())&&(r._switchElement=l.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){2&i&&(a.Mr5("id",r.id),a.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",a.L39],color:"color",disabled:[2,"disabled","disabled",a.L39],disableRipple:[2,"disableRipple","disableRipple",a.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,a.Udg)(e)],checked:[2,"checked","checked",a.L39],hideIcon:[2,"hideIcon","hideIcon",a.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[a.Jv_([Sne,{provide:xo,useExisting:n,multi:!0}]),a.GFd,a.OA$,a.aNF],ngContentSelectors:Tne,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i){const l=a.RV6();a.NAR(),a.j41(0,"div",1)(1,"button",2,0),a.bIt("click",function(){return a.eBV(l),a.Njj(r._handleClick())}),a.nrm(3,"div",3),a.j41(4,"div",4)(5,"div",5)(6,"div",6),a.nrm(7,"div",7),a.k0s(),a.j41(8,"div",8),a.nrm(9,"div",9),a.k0s(),a.DNE(10,xne,5,0,"div",10),a.k0s()()(),a.j41(11,"label",11),a.bIt("click",function(f){return a.eBV(l),a.Njj(f.stopPropagation())}),a.SdG(12),a.k0s()()}if(2&i){const l=a.sdS(2);a.Y8G("labelPosition",r.labelPosition),a.R7$(),a.AVh("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),a.Y8G("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),a.BMQ("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),a.R7$(8),a.Y8G("matRippleTrigger",l)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.R7$(),a.vxM(r.hideIcon?-1:10),a.R7$(),a.Y8G("for",r.buttonId),a.BMQ("id",r._labelId)}},dependencies:[Aa,pv],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return n})(),One=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[Wj,yi,yi]})}return n})();const Pne=n=>["/editor/stories",n,"chapters"];function Nne(n,t){if(1&n&&(a.j41(0,"mat-option",4),a.EFF(1),a.k0s()),2&n){const e=t.$implicit;a.Y8G("value",e.id),a.R7$(),a.JRh(e.name)}}function Fne(n,t){if(1&n&&(a.j41(0,"mat-option",4),a.EFF(1),a.k0s()),2&n){const e=t.$implicit;a.Y8G("value",e),a.R7$(),a.JRh(e)}}let Lne=(()=>{class n{constructor(){this.chapter=null,this.availableLanguages=Object.values(Yd),this.formBuilder=(0,a.WQX)(Wd),this.dbService=(0,a.WQX)(Cl),this.router=(0,a.WQX)(gr),this.chapterSubscription=null,this.chapterEditForm=this.formBuilder.group({id:[""],name:["",Vi.required],story:["",Vi.required],chapterNo:[0,Vi.required],language:["",Vi.required],author:[""],isPremium:[!1],description:[""],empathyName:["",Vi.required],sympathyName:["",Vi.required]})}ngOnInit(){this.setupChapter()}ngOnDestroy(){}setupChapter(){console.log(`LOL: ChapterID: ${this.chapterId}, stroryId: ${this.storyId}`),this.chapterSubscription=this.chapter$.subscribe(e=>{this.chapter=e,this.chapterEditForm.patchValue({id:this.chapter?.id,name:this.chapter?.name,story:this.chapter?.story_id||this.storyId,chapterNo:this.chapter?.chapter_number,language:this.chapter?.language,author:this.chapter?.author,isPremium:this.chapter?.is_premium,description:this.chapter?.description,empathyName:this.chapter?.empathy_name||"empathy",sympathyName:this.chapter?.sympathy_name||"sympathy"})})}save(){var e=this;return(0,A.A)(function*(){const i=!e.chapter?.id||e.storyId!=e.chapterEditForm.value.story,r=yield e.saveChapter();e.updateInterface(r,i),console.log(`LOL: Saving chapter: ${JSON.stringify(e.chapterEditForm.value)}`)})()}saveChapter(){var e=this;return(0,A.A)(function*(){const i=e.chapterEditForm.value;if(!(i.name&&i.story&&i.chapterNo&&i.language&&i.empathyName&&i.sympathyName))throw new Error("LOL Error on saving the chapter because of the missing required values");const r={name:i.name,story_id:i.story,chapter_number:i.chapterNo,language:Yd[Object.keys(Yd)[Object.values(Yd).indexOf(i.language)]],author:i.author,is_premium:i.isPremium,description:i.description,empathy_name:i.empathyName,sympathy_name:i.sympathyName};if(e.chapter?.id){const l={id:e.chapter.id,...r};return yield e.dbService.updateDocument(wr.CHAPTERS,e.chapter.id,l)}return yield e.dbService.addDocument(wr.CHAPTERS,r)})()}updateInterface(e,i=!1){this.chapter={...this.chapter,...e,id:e.id},i&&(this.router.navigate(["/editor/stories",this.chapterEditForm.value.story,"chapters",e.id]),this.chapterEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["chapter-edit-form"]],inputs:{storyId:"storyId",chapterId:"chapterId",chapter$:"chapter$",stories$:"stories$"},standalone:!0,features:[a.aNF],decls:53,vars:7,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly","","placeholder","Save chapter to add id"],["formControlName","story"],[3,"value"],["matInput","","type","text","formControlName","name"],[1,"example-full-width"],["matInput","","type","number","formControlName","chapterNo"],["formControlName","language"],["matInput","","type","text","formControlName","empathyName"],["matInput","","type","text","formControlName","sympathyName"],["matInput","","type","text","formControlName","author"],["matInput","","placeholder","A short description of the chapter content","formControlName","description"],["labelPosition","before","formControlName","isPremium"],[1,"button-container"],["mat-fab","","extended","",3,"routerLink"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(i,r){1&i&&(a.j41(0,"form",0),a.bIt("ngSubmit",function(){return r.save()}),a.j41(1,"mat-form-field",1)(2,"mat-label"),a.EFF(3,"Chapter id"),a.k0s(),a.nrm(4,"input",2),a.k0s(),a.j41(5,"mat-form-field")(6,"mat-label"),a.EFF(7,"Story"),a.k0s(),a.j41(8,"mat-select",3),a.Z7z(9,Nne,2,2,"mat-option",4,a.Vm6),a.nI1(11,"async"),a.k0s()(),a.j41(12,"mat-form-field")(13,"mat-label"),a.EFF(14,"Chapter name"),a.k0s(),a.nrm(15,"input",5),a.k0s(),a.j41(16,"mat-form-field",6)(17,"mat-label"),a.EFF(18,"Chapter number"),a.k0s(),a.nrm(19,"input",7),a.k0s(),a.j41(20,"mat-form-field")(21,"mat-label"),a.EFF(22,"Language"),a.k0s(),a.j41(23,"mat-select",8),a.Z7z(24,Fne,2,2,"mat-option",4,a.Vm6),a.k0s()(),a.j41(26,"mat-form-field")(27,"mat-label"),a.EFF(28,"Empathy name"),a.k0s(),a.nrm(29,"input",9),a.k0s(),a.j41(30,"mat-form-field")(31,"mat-label"),a.EFF(32,"Sympathy name"),a.k0s(),a.nrm(33,"input",10),a.k0s(),a.j41(34,"mat-form-field")(35,"mat-label"),a.EFF(36,"Author"),a.k0s(),a.nrm(37,"input",11),a.k0s(),a.j41(38,"mat-form-field")(39,"mat-label"),a.EFF(40,"Description"),a.k0s(),a.nrm(41,"textarea",12),a.k0s(),a.j41(42,"mat-slide-toggle",13),a.EFF(43,"Premium: "),a.k0s(),a.j41(44,"div",14)(45,"button",15)(46,"mat-icon"),a.EFF(47,"arrow_back"),a.k0s(),a.EFF(48," Back to chapters "),a.k0s(),a.j41(49,"button",16)(50,"mat-icon"),a.EFF(51,"save"),a.k0s(),a.EFF(52," Save chapter "),a.k0s()()()),2&i&&(a.Y8G("formGroup",r.chapterEditForm),a.R7$(9),a.Dyx(a.bMT(11,3,r.stories$)),a.R7$(15),a.Dyx(r.availableLanguages),a.R7$(21),a.Y8G("routerLink",a.eq3(5,Pne,r.storyId)),a.R7$(4),a.Y8G("disabled",!r.chapterEditForm.valid))},dependencies:[vo,Ii,Hs,Kd,Du,jc,xj,Iu,Cu,ta,Tl,f9,qd,xl,h9,Yu,Qd,Xd,Al,ts,Vo,Wr,is,One,Wj],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between;margin-top:15px}"]})}return n})();const g9=function(){var n=(0,A.A)(function*(t,e){const i=(0,a.WQX)(Cl),r=t.paramMap.get("storyId");return console.log(`LOL: Running chapters resolver for StoryId: ${r}`),(yield i.getAllCollectionDocs(wr.CHAPTERS)).pipe((0,Ae.T)(d=>d.filter(f=>f.story_id==r).sort((f,p)=>f.chapter_number-p.chapter_number)))});return function(e,i){return n.apply(this,arguments)}}(),jne=function(){var n=(0,A.A)(function*(t,e){const i=(0,a.WQX)(Cl),r=t.paramMap.get("chapterId");return console.log(`LOL: Running chapter resolver for chapterId: ${r}`),r?yield i.getDocumentById(wr.CHAPTERS,r):null});return function(e,i){return n.apply(this,arguments)}}(),_9=function(){var n=(0,A.A)(function*(t,e){const i=(0,a.WQX)(Cl),r=t.paramMap.get("storyId");return console.log(`LOL: Running story resolver for StoryId: ${r}`),r?yield i.getDocumentById(wr.STORIES,r):null});return function(e,i){return n.apply(this,arguments)}}(),v9=function(){var n=(0,A.A)(function*(t,e){const i=(0,a.WQX)(Cl);return console.log("LOL: Running stories resolver"),yield i.getAllCollectionDocs(wr.STORIES)});return function(e,i){return n.apply(this,arguments)}}();function $ne(n,t){if(1&n){const e=a.RV6();a.j41(0,"div",1)(1,"button",2),a.bIt("click",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.action())}),a.EFF(2),a.k0s()()}if(2&n){const e=a.XpG();a.R7$(2),a.SpI(" ",e.data.action," ")}}const Hne=["label"];function zne(n,t){}const Gne=Math.pow(2,31)-1;class Kj{constructor(t,e){this._overlayRef=e,this._afterDismissed=new B.B,this._afterOpened=new B.B,this._onAction=new B.B,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Gne))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const y9=new a.nKC("MatSnackBarData");class W1{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let b9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return n})(),w9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return n})(),E9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return n})(),Wne=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Kj),a.rXU(y9))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[a.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(a.j41(0,"div",0),a.EFF(1),a.k0s(),a.DNE(2,$ne,3,1,"div",1)),2&i&&(a.R7$(),a.SpI(" ",r.data.message,"\n"),a.R7$(),a.vxM(r.hasAction?2:-1))},dependencies:[tu,b9,w9,E9],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const Kne={snackBarState:(0,en.hZ)("state",[(0,en.wk)("void, hidden",(0,en.iF)({transform:"scale(0.8)",opacity:0})),(0,en.wk)("visible",(0,en.iF)({transform:"scale(1)",opacity:1})),(0,en.kY)("* => visible",(0,en.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,en.kY)("* => void, * => hidden",(0,en.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,en.iF)({opacity:0})))])};let qne=0,I9=(()=>{class n extends vp{constructor(e,i,r,l,d){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=l,this.snackBarConfig=d,this._document=(0,a.WQX)(Te),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new B.B,this._onExit=new B.B,this._onEnter=new B.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+qne++,this.attachDomPortal=f=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(f);return this._afterPortalAttached(),p},this._live="assertive"!==d.politeness||d.announcementMessage?"off"===d.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(d=>e.classList.add(d)):e.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,l="mdc-snackbar__label";r.classList.toggle(l,!r.querySelector(`.${l}`))}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const l=i[r],d=l.getAttribute("aria-owns");this._trackedModals.add(l),d?-1===d.indexOf(e)&&l.setAttribute("aria-owns",d+" "+e):l.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.SKi),a.rXU(a.aKT),a.rXU(a.gRc),a.rXU(zi),a.rXU(W1))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&(a.GBs(od,7),a.GBs(Hne,7)),2&i){let l;a.mGM(l=a.lsd())&&(r._portalOutlet=l.first),a.mGM(l=a.lsd())&&(r._label=l.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(i,r){1&i&&a.Kam("@state.done",function(d){return r.onAnimationEnd(d)}),2&i&&a.zvX("@state",r._animationState)},standalone:!0,features:[a.Vt3,a.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(a.j41(0,"div",1)(1,"div",2,0)(3,"div",3),a.DNE(4,zne,0,0,"ng-template",4),a.k0s(),a.nrm(5,"div"),a.k0s()()),2&i&&(a.R7$(5),a.BMQ("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[od],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color);border-radius:var(--mdc-snackbar-container-shape);background-color:var(--mdc-snackbar-container-color)}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font);font-size:var(--mdc-snackbar-supporting-text-size);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[Kne.snackBarState]}})}return n})();const Qne=new a.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function Xne(){return new W1}});let zg=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,l,d,f){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=l,this._parentSnackBar=d,this._defaultConfig=f,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=Wne,this.snackBarContainerComponent=I9,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const l={...this._defaultConfig,...r};return l.data={message:e,action:i},l.announcementMessage===e&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const l=a.zZn.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:W1,useValue:i}]}),d=new lf(this.snackBarContainerComponent,i.viewContainerRef,l),f=e.attach(d);return f.instance.snackBarConfig=i,f.instance}_attach(e,i){const r={...new W1,...this._defaultConfig,...i},l=this._createOverlay(r),d=this._attachSnackBarContainer(l,r),f=new Kj(d,l);if(e instanceof a.C4Q){const p=new nu(e,null,{$implicit:r.data,snackBarRef:f});f.instance=d.attachTemplatePortal(p)}else{const p=this._createInjector(r,f),E=new lf(e,void 0,p),x=d.attachComponentPortal(E);f.instance=x.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(_i(l.detachments())).subscribe(p=>{l.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&d._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(f,r),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Lv;i.direction=e.direction;let r=this._overlay.position().global();const l="rtl"===e.direction,d="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!l||"end"===e.horizontalPosition&&l,f=!d&&"center"!==e.horizontalPosition;return d?r.left("0"):f?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return a.zZn.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Kj,useValue:i},{provide:y9,useValue:e.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Uo),a.KVO(np),a.KVO(a.zZn),a.KVO(Aw),a.KVO(n,12),a.KVO(Qne))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yne(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Email is required"),a.k0s())}function Zne(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Not a valid email"),a.k0s())}let Jne=(()=>{class n{constructor(){this.hide=!0,this.formBuilder=(0,a.WQX)(Wd),this.authService=(0,a.WQX)(Uc),this.snackBar=(0,a.WQX)(zg),this.router=(0,a.WQX)(gr),this.loginForm=this.formBuilder.group({email:["",[Vi.required,Vi.email]],password:["",Vi.required]})}login(){var e=this;return(0,A.A)(function*(){if(!e.loginForm.value.email||!e.loginForm.value.password)throw new Error("LOL: Error on login: Missing email or password");yield e.authService.loginWithEmail(e.loginForm.value.email,e.loginForm.value.password).then(i=>{console.log(`LOL: Signed in user: ${i.user.email}`),e.router.navigate(["/library"])}).catch(i=>{console.log(`LOL: Error on login: ${i}`),e.snackBar.open("Incorrect email or password","Dismiss")})})()}resetPassword(){var e=this;return(0,A.A)(function*(){e.loginForm.value.email&&!e.loginForm.get("email")?.errors?(yield e.authService.resetPassword(e.loginForm.value.email),e.snackBar.open(`Password reset email sent to ${e.loginForm.value.email}`,"Dismiss")):e.snackBar.open("Enter correct email","Dismiss")})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["sign-in"]],standalone:!0,features:[a.aNF],decls:29,vars:6,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["matInput","","type","email","formControlName","email"],[1,"password-container"],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["mat-button","",3,"click"],["mat-fab","","extended","","type","submit",3,"disabled"],["mat-stroked-button","","routerLink","/register"],["mat-button","","routerLink",""]],template:function(i,r){if(1&i&&(a.j41(0,"div",0)(1,"form",1),a.bIt("ngSubmit",function(){return r.login()}),a.j41(2,"h3"),a.EFF(3,"Sign In"),a.k0s(),a.j41(4,"mat-form-field")(5,"mat-label"),a.EFF(6,"Email"),a.k0s(),a.nrm(7,"input",2),a.DNE(8,Yne,2,0,"mat-error")(9,Zne,2,0,"mat-error"),a.k0s(),a.j41(10,"div",3)(11,"mat-form-field")(12,"mat-label"),a.EFF(13,"Password"),a.k0s(),a.nrm(14,"input",4),a.k0s(),a.j41(15,"mat-icon",5),a.bIt("click",function(){return r.hide=!r.hide}),a.EFF(16),a.k0s()(),a.j41(17,"button",6),a.bIt("click",function(){return r.resetPassword()}),a.EFF(18,"Reset password"),a.k0s(),a.j41(19,"button",7)(20,"mat-icon"),a.EFF(21,"login"),a.k0s(),a.EFF(22," Sign in "),a.k0s()(),a.j41(23,"button",8),a.EFF(24,"Register"),a.k0s(),a.j41(25,"button",9)(26,"mat-icon"),a.EFF(27,"arrow_back"),a.k0s(),a.EFF(28," Back to start "),a.k0s()()),2&i){let l,d;a.R7$(),a.Y8G("formGroup",r.loginForm),a.R7$(7),a.vxM(null!=(l=r.loginForm.get("email"))&&l.hasError("required")?8:-1),a.R7$(),a.vxM(null!=(d=r.loginForm.get("email"))&&d.hasError("email")?9:-1),a.R7$(5),a.Y8G("type",r.hide?"password":"text"),a.R7$(2),a.JRh(r.hide?"visibility_off":"visibility"),a.R7$(3),a.Y8G("disabled",!r.loginForm.valid)}},dependencies:[Hs,Kd,Du,jc,Iu,Cu,ta,Tl,Qd,Xd,qd,xl,Yb,Fee,Al,ts,Vo,Wr,tu,is],styles:[".login-container[_ngcontent-%COMP%] {display:flex;flex-direction:column;height:90vh;align-content:space-around;flex-wrap:wrap;justify-content:space-evenly}form[_ngcontent-%COMP%] {display:flex;flex-direction:column}.password-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.password-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:16px;margin-left:16px}"]})}return n})(),eie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[yi,yi]})}return n})();const C9=["*"],T9=["unscopedContent"],tie=["text"],nie=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],iie=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],x9=new a.nKC("ListOption");let qj=(()=>{class n{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return n})(),Xj=(()=>{class n{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return n})(),wie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return n})(),A9=(()=>{class n{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(x9,8))};static#t=this.\u0275dir=a.FsC({type:n,hostVars:4,hostBindings:function(i,r){2&i&&a.AVh("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())},standalone:!0})}return n})(),Eie=(()=>{class n extends A9{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[a.Vt3]})}return n})(),Iie=(()=>{class n extends A9{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[a.Vt3]})}return n})();const Cie=new a.nKC("MAT_LIST_CONFIG");let Jb=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,a.WQX)(Cie,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=zs(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=zs(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,hostVars:1,hostBindings:function(i,r){2&i&&a.BMQ("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return n})(),Qj=(()=>{class n{set lines(e){this._explicitLines=rv(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=zs(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=zs(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,r,l,d,f){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=l,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new ne.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=d||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===f,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Yh(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Bo.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const l=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",l),r.classList.toggle("mdc-list-item__secondary-text",!l)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(Jb,8),a.rXU(zi),a.rXU(hl,8),a.rXU(a.bc$,8))};static#t=this.\u0275dir=a.FsC({type:n,contentQueries:function(i,r,l){if(1&i&&(a.wni(l,Eie,4),a.wni(l,Iie,4)),2&i){let d;a.mGM(d=a.lsd())&&(r._avatars=d),a.mGM(d=a.lsd())&&(r._icons=d)}},hostVars:4,hostBindings:function(i,r){2&i&&(a.BMQ("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),a.AVh("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return n})(),S9=(()=>{class n extends Jb{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[a.Jv_([{provide:Jb,useExisting:n}]),a.Vt3,a.aNF],ngContentSelectors:C9,decls:1,vars:0,template:function(i,r){1&i&&(a.NAR(),a.SdG(0))},styles:['.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color);font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color);font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color);opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color);opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}'],encapsulation:2,changeDetection:0})}return n})(),M9=(()=>{class n extends Qj{get activated(){return this._activated}set activated(e){this._activated=zs(e)}constructor(e,i,r,l,d,f){super(e,i,r,l,d,f),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(Jb,8),a.rXU(zi),a.rXU(hl,8),a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,l){if(1&i&&(a.wni(l,Xj,5),a.wni(l,qj,5),a.wni(l,wie,5)),2&i){let d;a.mGM(d=a.lsd())&&(r._lines=d),a.mGM(d=a.lsd())&&(r._titles=d),a.mGM(d=a.lsd())&&(r._meta=d)}},viewQuery:function(i,r){if(1&i&&(a.GBs(T9,5),a.GBs(tie,5)),2&i){let l;a.mGM(l=a.lsd())&&(r._unscopedContent=l.first),a.mGM(l=a.lsd())&&(r._itemText=l.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,r){2&i&&(a.BMQ("aria-current",r._getAriaCurrent()),a.AVh("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[a.Vt3,a.aNF],ngContentSelectors:iie,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(i,r){if(1&i){const l=a.RV6();a.NAR(nie),a.SdG(0),a.j41(1,"span",1),a.SdG(2,1),a.SdG(3,2),a.j41(4,"span",2,0),a.bIt("cdkObserveContent",function(){return a.eBV(l),a.Njj(r._updateItemLines(!0))}),a.SdG(6,3),a.k0s()(),a.SdG(7,4),a.SdG(8,5),a.nrm(9,"div",3)}},dependencies:[HP],encapsulation:2,changeDetection:0})}return n})(),k9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[Px,vo,yi,cp,mv,eie]})}return n})(),Sie=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(j1))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["password-requirements-dialog"]],standalone:!0,features:[a.aNF],decls:19,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["role","list"],["role","listitem"],["align","end"],["mat-button","","mat-dialog-close",""]],template:function(i,r){1&i&&(a.j41(0,"h2",0),a.EFF(1,"Password requirements"),a.k0s(),a.j41(2,"mat-dialog-content",1)(3,"mat-list",2)(4,"mat-list-item",3),a.EFF(5),a.k0s(),a.j41(6,"mat-list-item",3),a.EFF(7),a.k0s(),a.j41(8,"mat-list-item",3),a.EFF(9,"At least one uppercase letter"),a.k0s(),a.j41(10,"mat-list-item",3),a.EFF(11,"At least one lowercase letter"),a.k0s(),a.j41(12,"mat-list-item",3),a.EFF(13,"At least one number"),a.k0s(),a.j41(14,"mat-list-item",3),a.EFF(15,"At least one special character (e.g., !, @, #, $)"),a.k0s()()(),a.j41(16,"mat-dialog-actions",4)(17,"button",5),a.EFF(18,"Ok"),a.k0s()()),2&i&&(a.R7$(5),a.SpI("Minimum ",r.data.min," characters"),a.R7$(2),a.SpI("Maximum ",r.data.max," characters"))},dependencies:[Hte,$1,H1,G1,z1,k9,S9,M9,Wr,tu]})}return n})();function Mie(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Password is required"),a.k0s())}function Rie(n,t){if(1&n&&(a.j41(0,"mat-error"),a.EFF(1),a.k0s()),2&n){let e;const i=a.XpG();a.R7$(),a.SpI("Minimum ",null==(e=i.createPasswordForm.get("password1"))?null:e.getError("minlength").requiredLength," characters")}}function kie(n,t){if(1&n&&(a.j41(0,"mat-error"),a.EFF(1),a.k0s()),2&n){let e;const i=a.XpG();a.R7$(),a.SpI("Maximum ",null==(e=i.createPasswordForm.get("password1"))?null:e.getError("maxlength").requiredLength," characters")}}function Oie(n,t){if(1&n){const e=a.RV6();a.j41(0,"mat-error"),a.EFF(1,"Not meeting "),a.j41(2,"span",3),a.bIt("click",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.showRequirements())}),a.EFF(3,"requirements"),a.k0s()()}}function Pie(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Confirmation is required"),a.k0s())}function Nie(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Passwords have to match"),a.k0s())}const Fie=n=>n.value.password1===n.value.password2?null:{PasswordNoMatch:!0},Lie=/^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\D*\d).{8,}$/,Yj={min:8,max:20};let O9=(()=>{class n{constructor(){this.formBuilder=(0,a.WQX)(Wd),this.dialog=(0,a.WQX)(Hg),this.createPasswordForm=this.formBuilder.group({password1:["",[Vi.required,Vi.minLength(Yj.min),Vi.maxLength(Yj.max),Vi.pattern(Lie)]],password2:["",Vi.required]},{validators:[Fie]}),this.onTouched=()=>{},this.onChangeSubs=[]}ngOnDestroy(){this.onChangeSubs.forEach(e=>{e.unsubscribe()})}validate(e){if(this.createPasswordForm.valid)return null;let i={};return this.createPasswordForm.errors&&(i={...this.createPasswordForm.errors}),this.createPasswordForm.get("password1")?.errors&&(i={...this.createPasswordForm.get("password1")?.errors}),this.createPasswordForm.get("password2")?.errors&&(i={...this.createPasswordForm.get("password2")?.errors}),i}writeValue(e){e&&this.createPasswordForm.setValue(e,{emitEvent:!1})}registerOnChange(e){const i=this.createPasswordForm.valueChanges.subscribe(e);this.onChangeSubs.push(i)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.createPasswordForm.disable():this.createPasswordForm.enable()}showRequirements(){this.dialog.open(Sie,{data:{...Yj}})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["create-password-form-fragment"]],standalone:!0,features:[a.Jv_([{provide:Pa,multi:!0,useExisting:n},{provide:xo,multi:!0,useExisting:n}]),a.aNF],decls:15,vars:7,consts:[[3,"formGroup"],["matInput","","type","text","formControlName","password1"],["matInput","","type","text","formControlName","password2"],[3,"click"]],template:function(i,r){if(1&i&&(a.j41(0,"form",0)(1,"mat-form-field")(2,"mat-label"),a.EFF(3,"Password"),a.k0s(),a.nrm(4,"input",1),a.DNE(5,Mie,2,0,"mat-error")(6,Rie,2,1,"mat-error")(7,kie,2,1,"mat-error")(8,Oie,4,0,"mat-error"),a.k0s(),a.j41(9,"mat-form-field")(10,"mat-label"),a.EFF(11,"Confirm password"),a.k0s(),a.nrm(12,"input",2),a.DNE(13,Pie,2,0,"mat-error"),a.k0s(),a.DNE(14,Nie,2,0,"mat-error"),a.k0s()),2&i){let l,d,f,p,E;a.Y8G("formGroup",r.createPasswordForm),a.R7$(5),a.vxM(null!=(l=r.createPasswordForm.get("password1"))&&l.hasError("required")?5:-1),a.R7$(),a.vxM(null!=(d=r.createPasswordForm.get("password1"))&&d.hasError("minlength")?6:-1),a.R7$(),a.vxM(null!=(f=r.createPasswordForm.get("password1"))&&f.hasError("maxlength")?7:-1),a.R7$(),a.vxM(null!=(p=r.createPasswordForm.get("password1"))&&p.hasError("pattern")?8:-1),a.R7$(5),a.vxM(null!=(E=r.createPasswordForm.get("password2"))&&E.hasError("required")?13:-1),a.R7$(),a.vxM(r.createPasswordForm.hasError("PasswordNoMatch")?14:-1)}},dependencies:[Kd,Du,jc,Iu,Cu,ta,Tl,Qd,Xd,qd,xl,Yb,Al,ts,Wr],styles:["form[_ngcontent-%COMP%] {display:flex;flex-direction:column}"]})}return n})();function Vie(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Email is required"),a.k0s())}function Bie(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Not a valid email"),a.k0s())}let Uie=(()=>{class n{constructor(){this.formBuilder=(0,a.WQX)(Wd),this.authService=(0,a.WQX)(Uc),this.snackBar=(0,a.WQX)(zg),this.router=(0,a.WQX)(gr),this.registerForm=this.formBuilder.group({email:["",[Vi.required,Vi.email]],password:[{password1:"",password2:""}]})}register(){var e=this;return(0,A.A)(function*(){if(!e.registerForm.value.email||!e.registerForm.value.password?.password1)throw new Error("LOL: Error on registration: Missing email.");e.authService.registerUser(e.registerForm.value.email,e.registerForm.value.password.password1).then(i=>{console.log(`LOL: User registered: ${i.user.email}`),e.snackBar.open("User registered.","Dismiss"),e.router.navigate(["/library"])}).catch(i=>{console.log(`LOL: Error on registration: ${i}`),e.snackBar.open("Failed to register the user","Dismiss")})})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["registration"]],standalone:!0,features:[a.aNF],decls:21,vars:4,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["matInput","","type","email","formControlName","email"],["formControlName","password"],["mat-fab","","extended","","type","submit",3,"disabled"],["mat-stroked-button","","routerLink","/signin"],["mat-button","","routerLink",""]],template:function(i,r){if(1&i&&(a.j41(0,"div",0)(1,"form",1),a.bIt("ngSubmit",function(){return r.register()}),a.j41(2,"h3"),a.EFF(3,"Register"),a.k0s(),a.j41(4,"mat-form-field")(5,"mat-label"),a.EFF(6,"Email"),a.k0s(),a.nrm(7,"input",2),a.DNE(8,Vie,2,0,"mat-error")(9,Bie,2,0,"mat-error"),a.k0s(),a.nrm(10,"create-password-form-fragment",3),a.j41(11,"button",4)(12,"mat-icon"),a.EFF(13,"person_edit"),a.k0s(),a.EFF(14," Register "),a.k0s()(),a.j41(15,"button",5),a.EFF(16,"Sign In"),a.k0s(),a.j41(17,"button",6)(18,"mat-icon"),a.EFF(19,"arrow_back"),a.k0s(),a.EFF(20," Back to start "),a.k0s()()),2&i){let l,d;a.R7$(),a.Y8G("formGroup",r.registerForm),a.R7$(7),a.vxM(null!=(l=r.registerForm.get("email"))&&l.hasError("required")?8:-1),a.R7$(),a.vxM(null!=(d=r.registerForm.get("email"))&&d.hasError("email")?9:-1),a.R7$(2),a.Y8G("disabled",!r.registerForm.valid)}},dependencies:[Hs,Kd,Du,jc,Iu,Cu,ta,Tl,Qd,Xd,qd,xl,Yb,Al,ts,Vo,Wr,tu,is,O9],styles:[".login-container[_ngcontent-%COMP%] {display:flex;flex-direction:column;height:90vh;align-content:space-around;flex-wrap:wrap;justify-content:space-evenly}form[_ngcontent-%COMP%] {display:flex;flex-direction:column}mat-error[_ngcontent-%COMP%]{margin-bottom:15px}mat-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;cursor:pointer}"]})}return n})(),jie=0;const Zj=new a.nKC("CdkAccordion");let $ie=(()=>{class n{constructor(){this._stateChanges=new B.B,this._openCloseAllActions=new B.B,this.id="cdk-accordion-"+jie++,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",a.L39]},exportAs:["cdkAccordion"],standalone:!0,features:[a.Jv_([{provide:Zj,useExisting:n}]),a.GFd,a.OA$]})}return n})(),Hie=0,zie=(()=>{class n{get expanded(){return this._expanded}set expanded(e){this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=ne.yU.EMPTY,this.closed=new a.bkB,this.opened=new a.bkB,this.destroyed=new a.bkB,this.expandedChange=new a.bkB,this.id="cdk-accordion-child-"+Hie++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((l,d)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===d&&this.id!==l&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Zj,12),a.rXU(a.gRc),a.rXU(l9))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",a.L39],disabled:[2,"disabled","disabled",a.L39]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[a.Jv_([{provide:Zj,useValue:void 0}]),a.GFd]})}return n})(),Gie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();const Wie=["body"],Kie=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],qie=["mat-expansion-panel-header","*","mat-action-row"];function Xie(n,t){}const Qie=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],Yie=["mat-panel-title","mat-panel-description","*"];function Zie(n,t){if(1&n&&(a.j41(0,"span",1),a.qSk(),a.j41(1,"svg",2),a.nrm(2,"path",3),a.k0s()()),2&n){const e=a.XpG();a.Y8G("@indicatorRotate",e._getExpandedState())}}const Jj=new a.nKC("MAT_ACCORDION"),P9="225ms cubic-bezier(0.4,0.0,0.2,1)",N9={indicatorRotate:(0,en.hZ)("indicatorRotate",[(0,en.wk)("collapsed, void",(0,en.iF)({transform:"rotate(0deg)"})),(0,en.wk)("expanded",(0,en.iF)({transform:"rotate(180deg)"})),(0,en.kY)("expanded <=> collapsed, void => collapsed",(0,en.i0)(P9))]),bodyExpansion:(0,en.hZ)("bodyExpansion",[(0,en.wk)("collapsed, void",(0,en.iF)({height:"0px",visibility:"hidden"})),(0,en.wk)("expanded",(0,en.iF)({height:"*",visibility:""})),(0,en.kY)("expanded <=> collapsed, void => collapsed",(0,en.i0)(P9))])},F9=new a.nKC("MAT_EXPANSION_PANEL");let Jie=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.C4Q),a.rXU(F9,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}return n})(),ere=0;const L9=new a.nKC("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let V9=(()=>{class n extends zie{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,l,d,f,p){super(e,i,r),this._viewContainerRef=l,this._animationMode=f,this._hideToggle=!1,this.afterExpand=new a.bkB,this.afterCollapse=new a.bkB,this._inputChanges=new B.B,this._headerId="mat-expansion-panel-header-"+ere++,this.accordion=e,this._document=d,this._animationsDisabled="NoopAnimations"===f,p&&(this.hideToggle=p.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,bo.Z)(null),(0,On.p)(()=>this.expanded&&!this._portal),Xi(1)).subscribe(()=>{this._portal=new nu(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_animationStarted(e){!B9(e)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(e){B9(e)||("expanded"===e.toState?this.afterExpand.emit():"collapsed"===e.toState&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Jj,12),a.rXU(a.gRc),a.rXU(l9),a.rXU(a.c1b),a.rXU(Te),a.rXU(a.bc$,8),a.rXU(L9,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,l){if(1&i&&a.wni(l,Jie,5),2&i){let d;a.mGM(d=a.lsd())&&(r._lazyContent=d.first)}},viewQuery:function(i,r){if(1&i&&a.GBs(Wie,5),2&i){let l;a.mGM(l=a.lsd())&&(r._body=l.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&a.AVh("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",a.L39],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[a.Jv_([{provide:Jj,useValue:void 0},{provide:F9,useExisting:n}]),a.GFd,a.Vt3,a.OA$,a.aNF],ngContentSelectors:qie,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){if(1&i){const l=a.RV6();a.NAR(Kie),a.SdG(0),a.j41(1,"div",1,0),a.bIt("@bodyExpansion.start",function(f){return a.eBV(l),a.Njj(r._animationStarted(f))})("@bodyExpansion.done",function(f){return a.eBV(l),a.Njj(r._animationDone(f))}),a.j41(3,"div",2),a.SdG(4,1),a.DNE(5,Xie,0,0,"ng-template",3),a.k0s(),a.SdG(6,2),a.k0s()}2&i&&(a.R7$(),a.Y8G("@bodyExpansion",r._getExpandedState())("id",r.id),a.BMQ("aria-labelledby",r._headerId),a.R7$(4),a.Y8G("cdkPortalOutlet",r._portal))},dependencies:[od],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[N9.bodyExpansion]},changeDetection:0})}return n})();function B9(n){return"void"===n.fromState}let U9=(()=>{class n{constructor(e,i,r,l,d,f,p){this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=l,this._animationMode=f,this._parentChangeSubscription=ne.yU.EMPTY,this.tabIndex=0;const E=e.accordion?e.accordion._stateChanges.pipe((0,On.p)(x=>!(!x.hideToggle&&!x.togglePosition))):ze.w;this.tabIndex=parseInt(p||"")||0,this._parentChangeSubscription=(0,Bo.h)(e.opened,e.closed,E,e._inputChanges.pipe((0,On.p)(x=>!!(x.hideToggle||x.disabled||x.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe((0,On.p)(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),d&&(this.expandedHeight=d.expandedHeight,this.collapsedHeight=d.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Ta(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(V9,1),a.rXU(a.aKT),a.rXU(xc),a.rXU(a.gRc),a.rXU(L9,8),a.rXU(a.bc$,8),a.kS0("tabindex"))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&a.bIt("click",function(){return r._toggle()})("keydown",function(d){return r._keydown(d)}),2&i&&(a.BMQ("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),a.xc7("height",r._getHeaderHeight()),a.AVh("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,a.Udg)(e)]},standalone:!0,features:[a.GFd,a.aNF],ngContentSelectors:Yie,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){1&i&&(a.NAR(Qie),a.j41(0,"span",0),a.SdG(1),a.SdG(2,1),a.SdG(3,2),a.k0s(),a.DNE(4,Zie,3,1,"span",1)),2&i&&(a.AVh("mat-content-hide-toggle",!r._showToggle()),a.R7$(4),a.vxM(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[N9.indicatorRotate]},changeDetection:0})}return n})(),tre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}return n})(),nre=(()=>{class n extends $ie{constructor(){super(...arguments),this._ownHeaders=new a.rOR,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe((0,bo.Z)(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Gh(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,r,l){if(1&i&&a.wni(l,U9,5),2&i){let d;a.mGM(d=a.lsd())&&(r._headers=d)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,r){2&i&&a.AVh("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",a.L39],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[a.Jv_([{provide:Jj,useExisting:n}]),a.GFd,a.Vt3]})}return n})(),ire=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[yi,Gie,sd]})}return n})();function rre(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Can't be empty"),a.k0s())}function ore(n,t){if(1&n&&(a.j41(0,"mat-error"),a.EFF(1),a.k0s()),2&n){let e;const i=a.XpG();a.R7$(),a.SpI("Minimum ",null==(e=i.displayNameForm.get("displayName"))?null:e.getError("minlength").requiredLength," characters")}}function sre(n,t){if(1&n&&(a.j41(0,"mat-error"),a.EFF(1),a.k0s()),2&n){let e;const i=a.XpG();a.R7$(),a.SpI("Minimum ",null==(e=i.displayNameForm.get("displayName"))?null:e.getError("maxlength").requiredLength," characters")}}let are=(()=>{class n{constructor(){this.formBuilder=(0,a.WQX)(Wd),this.authService=(0,a.WQX)(Uc),this.snackBar=(0,a.WQX)(zg),this.displayNameForm=this.formBuilder.group({displayName:["",[Vi.required,Vi.minLength(5),Vi.maxLength(20)]]})}changeDisplayName(){var e=this;return(0,A.A)(function*(){e.displayNameForm.value.displayName&&(yield e.authService.updateUserProfile(e.displayNameForm.value.displayName).then(()=>{console.log(`LOL: Changed display name to: ${e.displayNameForm.value.displayName}`),e.snackBar.open("Display name changed.","Ok")}).catch(i=>{e.snackBar.open("Failed to update display name.","Ok"),console.log(`LOL: Error on setting display name: ${i}`)}))})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["display-name-form"]],standalone:!0,features:[a.aNF],decls:12,vars:5,consts:[[3,"ngSubmit","formGroup"],["matInput","","type","text","formControlName","displayName"],["mat-fab","","extended","","type","submit",3,"disabled"]],template:function(i,r){if(1&i&&(a.j41(0,"form",0),a.bIt("ngSubmit",function(){return r.changeDisplayName()}),a.j41(1,"mat-form-field")(2,"mat-label"),a.EFF(3,"Display name"),a.k0s(),a.nrm(4,"input",1),a.DNE(5,rre,2,0,"mat-error")(6,ore,2,1,"mat-error")(7,sre,2,1,"mat-error"),a.k0s(),a.j41(8,"button",2)(9,"mat-icon"),a.EFF(10,"check"),a.k0s(),a.EFF(11,"Set "),a.k0s()()),2&i){let l,d,f;a.Y8G("formGroup",r.displayNameForm),a.R7$(5),a.vxM(null!=(l=r.displayNameForm.get("displayName"))&&l.getError("required")?5:-1),a.R7$(),a.vxM(null!=(d=r.displayNameForm.get("displayName"))&&d.getError("minlength")?6:-1),a.R7$(),a.vxM(null!=(f=r.displayNameForm.get("displayName"))&&f.getError("maxlength")?7:-1),a.R7$(),a.Y8G("disabled",!r.displayNameForm.valid)}},dependencies:[Kd,Du,jc,Iu,Cu,ta,Tl,Al,qd,xl,Yb,ts,Vo,Qd,Xd,Wr,is],styles:["form[_ngcontent-%COMP%] {display:flex;flex-direction:column}"]})}return n})(),cre=(()=>{class n{constructor(){this.authService=(0,a.WQX)(Uc),this.formBuilder=(0,a.WQX)(Wd),this.snackBar=(0,a.WQX)(zg),this.changePasswordForm=this.formBuilder.group({currentPassword:["",Vi.required],newPassword:[{password1:"",password2:""}]})}changePassword(){var e=this;return(0,A.A)(function*(){e.changePasswordForm.value.newPassword&&e.changePasswordForm.value.currentPassword&&(yield e.authService.changeUserPassword(e.changePasswordForm.value.newPassword.password1,e.changePasswordForm.value.currentPassword).then(()=>{console.log(`LOL: Password changed succesfully for user: ${e.email}`),e.changePasswordForm.patchValue({currentPassword:"",newPassword:{password1:"",password2:""}}),e.snackBar.open("Password succesfully changed","Ok")}).catch(i=>{console.log(`LOL: Error on password change: ${i}`),e.snackBar.open("Failed to change the password","Ok")}))})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["change-password-form"]],inputs:{email:"email"},standalone:!0,features:[a.aNF],decls:10,vars:2,consts:[[3,"ngSubmit","formGroup"],["matInput","","type","text","formControlName","currentPassword"],["formControlName","newPassword"],["mat-fab","","extended","","type","submit",3,"disabled"]],template:function(i,r){1&i&&(a.j41(0,"form",0),a.bIt("ngSubmit",function(){return r.changePassword()}),a.j41(1,"mat-form-field")(2,"mat-label"),a.EFF(3,"Current password"),a.k0s(),a.nrm(4,"input",1),a.k0s(),a.nrm(5,"create-password-form-fragment",2),a.j41(6,"button",3)(7,"mat-icon"),a.EFF(8,"check"),a.k0s(),a.EFF(9,"Change password "),a.k0s()()),2&i&&(a.Y8G("formGroup",r.changePasswordForm),a.R7$(6),a.Y8G("disabled",!r.changePasswordForm.valid))},dependencies:[Kd,Du,jc,Iu,Cu,ta,Tl,Al,qd,xl,ts,Vo,Qd,Xd,Wr,is,O9],styles:["form[_ngcontent-%COMP%] {display:flex;flex-direction:column}"]})}return n})();function lre(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Email is required"),a.k0s())}function ure(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Not a valid email"),a.k0s())}function dre(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Password is required"),a.k0s())}let hre=(()=>{class n{constructor(){this.formBuilder=(0,a.WQX)(Wd),this.authService=(0,a.WQX)(Uc),this.snackBar=(0,a.WQX)(zg),this.changeEmailForm=this.formBuilder.group({email:["",[Vi.required,Vi.email]],password:["",Vi.required]})}changeEmail(){var e=this;return(0,A.A)(function*(){if(!e.changeEmailForm.value.email||!e.changeEmailForm.value.password)throw new Error("LOL: Error on email change - missing new email or password");yield e.authService.changeUserEmail(e.changeEmailForm.value.email,e.changeEmailForm.value.password).then(()=>{console.log("LOL: Email soccesfully changed"),e.snackBar.open("Email succesfully changed","Ok")}).catch(i=>{console.log(`LOL: Error on email change: ${i}`),e.snackBar.open("Failed to change the email","Ok")})})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["change-email-form"]],standalone:!0,features:[a.aNF],decls:16,vars:5,consts:[[3,"ngSubmit","formGroup"],["matInput","","type","email","formControlName","email"],["matInput","","type","password","formControlName","password"],["mat-fab","","extended","","type","submit",3,"disabled"]],template:function(i,r){if(1&i&&(a.j41(0,"form",0),a.bIt("ngSubmit",function(){return r.changeEmail()}),a.j41(1,"mat-form-field")(2,"mat-label"),a.EFF(3,"New email"),a.k0s(),a.nrm(4,"input",1),a.DNE(5,lre,2,0,"mat-error")(6,ure,2,0,"mat-error"),a.k0s(),a.j41(7,"mat-form-field")(8,"mat-label"),a.EFF(9,"Password"),a.k0s(),a.nrm(10,"input",2),a.DNE(11,dre,2,0,"mat-error"),a.k0s(),a.j41(12,"button",3)(13,"mat-icon"),a.EFF(14,"check"),a.k0s(),a.EFF(15,"Change email "),a.k0s()()),2&i){let l,d,f;a.Y8G("formGroup",r.changeEmailForm),a.R7$(5),a.vxM(null!=(l=r.changeEmailForm.get("email"))&&l.hasError("required")?5:-1),a.R7$(),a.vxM(null!=(d=r.changeEmailForm.get("email"))&&d.hasError("email")?6:-1),a.R7$(5),a.vxM(null!=(f=r.changeEmailForm.get("password"))&&f.hasError("required")?11:-1),a.R7$(),a.Y8G("disabled",!r.changeEmailForm.valid)}},dependencies:[Kd,Du,jc,Iu,Cu,ta,Tl,Al,qd,xl,Yb,ts,Vo,Qd,Xd,Wr,is],styles:["form[_ngcontent-%COMP%] {display:flex;flex-direction:column}"]})}return n})(),fre=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(j1))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["account-delete-confirmation"]],standalone:!0,features:[a.aNF],decls:11,vars:0,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""],["mat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(i,r){1&i&&(a.j41(0,"h2",0),a.EFF(1,"Delete account"),a.k0s(),a.j41(2,"mat-dialog-content"),a.EFF(3," Are you sure you want to permanently delete your account? "),a.j41(4,"p"),a.EFF(5,"All your saved data will be permanently lost!"),a.k0s()(),a.j41(6,"mat-dialog-actions")(7,"button",1),a.EFF(8,"No"),a.k0s(),a.j41(9,"button",2),a.bIt("click",function(){return r.data.deleteFunction()}),a.EFF(10,"Ok"),a.k0s()())},dependencies:[Wr,tu,H1,z1,G1,$1],styles:["mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red}"],changeDetection:0})}return n})();function mre(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Password is required"),a.k0s())}function pre(n,t){if(1&n){const e=a.RV6();a.j41(0,"form",2),a.bIt("ngSubmit",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.showDeleteDialog())}),a.j41(1,"mat-form-field")(2,"mat-label"),a.EFF(3,"Password"),a.k0s(),a.nrm(4,"input",3),a.DNE(5,mre,2,0,"mat-error"),a.k0s(),a.j41(6,"button",4)(7,"mat-icon"),a.EFF(8,"delete_forever"),a.k0s(),a.EFF(9,"Delete account "),a.k0s()()}if(2&n){let e;const i=a.XpG();a.Y8G("formGroup",i.deleteAccountForm),a.R7$(5),a.vxM(null!=(e=i.deleteAccountForm.get("password"))&&e.hasError("required")?5:-1),a.R7$(),a.Y8G("disabled",!i.deleteAccountForm.valid)}}function gre(n,t){if(1&n){const e=a.RV6();a.j41(0,"button",5),a.bIt("click",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.showDeleteDialog())}),a.j41(1,"mat-icon"),a.EFF(2,"delete_forever"),a.k0s(),a.EFF(3,"Delete account "),a.k0s()}}let _re=(()=>{class n{constructor(){this.authService=(0,a.WQX)(Uc),this.formBuilder=(0,a.WQX)(Wd),this.dialog=(0,a.WQX)(Hg),this.snackBar=(0,a.WQX)(zg),this.router=(0,a.WQX)(gr),this.deleteAccountForm=this.formBuilder.group({password:["",Vi.required]})}showDeleteDialog(){this.dialog.open(fre,{data:{deleteFunction:()=>this.deleteAccount()}})}deleteAccount(){var e=this;return(0,A.A)(function*(){if("password"===e.provider&&!e.deleteAccountForm.value.password)throw new Error("LOL: Error on deleting account - missing password");yield e.authService.deleteAccount(e.provider,e.deleteAccountForm.value.password).then(()=>{console.log("LOL: Delete account"),e.router.navigate([""]),e.snackBar.open("Account succesfully deleted","Ok")}).catch(i=>{console.log(`LOL: There was an arror on account deletion: ${i}`),e.snackBar.open("Failed to delete account","Ok")})})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["delete-account-form"]],inputs:{provider:"provider"},standalone:!0,features:[a.aNF],decls:2,vars:1,consts:[[3,"formGroup"],["mat-fab","","extended",""],[3,"ngSubmit","formGroup"],["matInput","","type","password","formControlName","password"],["mat-fab","","extended","","type","submit",3,"disabled"],["mat-fab","","extended","",3,"click"]],template:function(i,r){1&i&&a.DNE(0,pre,10,3,"form",0)(1,gre,4,0,"button",1),2&i&&a.vxM("password"===r.provider?0:1)},dependencies:[Kd,Du,jc,Iu,Cu,ta,Tl,Wr,is,ts,Vo,Qd,Xd,qd,xl,Yb],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})}return n})();function vre(n,t){if(1&n){const e=a.RV6();a.j41(0,"button",6),a.bIt("click",function(){a.eBV(e);const r=a.XpG(2);return a.Njj(r.verifyEmail())}),a.EFF(1,"Verify email"),a.k0s()}}function yre(n,t){if(1&n&&(a.j41(0,"div",0)(1,"mat-accordion")(2,"mat-expansion-panel",2)(3,"mat-expansion-panel-header")(4,"mat-panel-title"),a.EFF(5,"Display name: "),a.j41(6,"span"),a.EFF(7),a.k0s()()(),a.nrm(8,"display-name-form"),a.k0s(),a.j41(9,"mat-expansion-panel",2)(10,"mat-expansion-panel-header")(11,"mat-panel-title"),a.EFF(12,"Email: "),a.j41(13,"span"),a.EFF(14),a.k0s()()(),a.nrm(15,"change-email-form"),a.k0s(),a.j41(16,"mat-expansion-panel",2)(17,"mat-expansion-panel-header")(18,"mat-panel-title"),a.EFF(19,"Verified: "),a.j41(20,"mat-icon"),a.EFF(21),a.k0s()()(),a.DNE(22,vre,2,0,"button",3),a.k0s(),a.j41(23,"mat-expansion-panel",2)(24,"mat-expansion-panel-header")(25,"mat-panel-title"),a.EFF(26,"Change password"),a.k0s()(),a.nrm(27,"change-password-form",4),a.k0s(),a.j41(28,"mat-expansion-panel",2)(29,"mat-expansion-panel-header")(30,"mat-panel-title"),a.EFF(31,"Delete account"),a.k0s()(),a.nrm(32,"delete-account-form",5),a.k0s()()()),2&n){const e=a.XpG();a.R7$(7),a.JRh((null==e.authUser?null:e.authUser.displayName)||"Not set"),a.R7$(7),a.JRh(null==e.authUser?null:e.authUser.email),a.R7$(7),a.JRh(null!=e.authUser&&e.authUser.emailVerified?"mark_email_read":"do_not_disturb_on"),a.R7$(),a.vxM(null!=e.authUser&&e.authUser.emailVerified?-1:22),a.R7$(5),a.Y8G("email",(null==e.authUser?null:e.authUser.email)||null),a.R7$(5),a.Y8G("provider",e.provider)}}function bre(n,t){if(1&n&&(a.j41(0,"div",10),a.nrm(1,"delete-account-form",5),a.k0s()),2&n){const e=a.XpG(2);a.R7$(),a.Y8G("provider",e.provider)}}function wre(n,t){if(1&n){const e=a.RV6();a.j41(0,"mat-list")(1,"mat-list-item")(2,"span",7),a.EFF(3),a.k0s(),a.j41(4,"span",8),a.EFF(5,"Verified email"),a.k0s()(),a.j41(6,"mat-list-item")(7,"span",7),a.EFF(8),a.k0s(),a.j41(9,"span"),a.EFF(10,"Display name"),a.k0s()(),a.j41(11,"mat-list-item",9),a.bIt("click",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.showDeleteForm=!r.showDeleteForm)}),a.j41(12,"span",7),a.EFF(13,"Delete account"),a.k0s(),a.nrm(14,"span"),a.k0s()(),a.DNE(15,bre,2,1,"div",10)}if(2&n){const e=a.XpG();a.R7$(3),a.JRh(null==e.authUser?null:e.authUser.email),a.R7$(5),a.JRh(null==e.authUser?null:e.authUser.displayName),a.R7$(7),a.vxM(e.showDeleteForm?15:-1)}}const Ere=[{path:"library/story/:storyId/gameboard/:chapterId",component:Cte},{path:"library/story/:storyId",component:gte,resolve:{chapters$:g9}},{path:"library",component:Ste,title:"Library",resolve:{stories$:v9}},{path:"editor",component:ute,title:"Editor",canActivateChild:[(n,t)=>{const e=(0,a.WQX)(Uc),i=(0,a.WQX)(gr);return e.user$.pipe((0,Ae.T)(r=>r&&!r.isAnonymous||(0,a.naY)()||i.createUrlTree(["/library"])))}],children:[{path:"",redirectTo:"stories",pathMatch:"full"},{path:"stories/:storyId/chapters/:chapterId",component:Lne,resolve:{stories$:v9,chapter$:jne}},{path:"stories/:storyId/chapters",component:tne,resolve:{chapters$:g9,story$:_9}},{path:"stories/:storyId",component:Cne,resolve:{story$:_9}},{path:"stories",component:Xte}]},{path:"signin",component:Jne,title:"SignIn"},{path:"register",component:Uie,title:"Register"},{path:"profile",component:(()=>{class n{constructor(){this.showDeleteForm=!1,this.authService=(0,a.WQX)(Uc),this.snackBar=(0,a.WQX)(zg),this.provider=null}ngOnInit(){this.provider=this.authUser?.providerData[0].providerId||null,console.log(`LOL provider: ${this.provider}`)}verifyEmail(){var e=this;return(0,A.A)(function*(){yield e.authService.verifyEmail().then(i=>{console.log(`LOL: Verification email sent to ${i}`),e.snackBar.open(`Verification email sent to ${i}`,"Ok")}).catch(i=>{console.log(`LOL: Error on sending verification email: ${i}`),e.snackBar.open("Failed sending verification email","Ok")})})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["user-profile"]],inputs:{authUser:"authUser"},standalone:!0,features:[a.aNF],decls:6,vars:1,consts:[[1,"profile-edit"],["mat-button","","routerLink",""],["hideToggle",""],["mat-fab","","extended",""],[3,"email"],[3,"provider"],["mat-fab","","extended","",3,"click"],["matListItemTitle",""],["matListItemLine",""],[3,"click"],[1,"deleteForm"]],template:function(i,r){1&i&&(a.j41(0,"h2"),a.EFF(1,"Profile"),a.k0s(),a.DNE(2,yre,33,6,"div",0)(3,wre,16,3),a.j41(4,"button",1),a.EFF(5,"Sign in as different user"),a.k0s()),2&i&&(a.R7$(2),a.vxM("password"===r.provider?2:"google.com"===r.provider?3:-1))},dependencies:[vo,Hs,Wr,tu,is,nre,ire,V9,U9,tre,ts,Vo,k9,S9,M9,Xj,qj,are,cre,hre,_re],styles:[".profile-edit[_ngcontent-%COMP%]{margin-top:15px}mat-panel-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;padding-left:15px}mat-panel-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:15px}.deleteForm[_ngcontent-%COMP%]{padding-left:16px}"]})}return n})(),title:"Profile",canActivate:[()=>{const n=(0,a.WQX)(Uc),t=(0,a.WQX)(gr);return n.user$.pipe((0,Ae.T)(e=>e&&!e.isAnonymous||t.createUrlTree([""])))}],resolve:{authUser:()=>{const n=(0,a.WQX)(Uc);return console.log("LOL: Running authUser resolver"),n.user$}}},{path:"",component:Dte,title:"Start"}],e0=new J.c(r_.l),Cre={connector:()=>new B.B};function j9(n,t=Cre){const{connector:e}=t;return(0,se.N)((i,r)=>{const l=e();(0,un.Tg)(n(function Ire(n){return new J.c(t=>n.subscribe(t))}(l))).subscribe(r),r.add(i.subscribe(l))})}const LD="Service workers are disabled or not supported by this browser";class K1{constructor(t){if(this.serviceWorker=t,t){const i=iu(t,"controllerchange").pipe((0,Ae.T)(()=>t.controller)),r=tn(()=>Y(t.controller)),l=(0,xt.x)(r,i);this.worker=l.pipe((0,On.p)(x=>!!x)),this.registration=this.worker.pipe(pr(()=>t.getRegistration()));const E=iu(t,"message").pipe((0,Ae.T)(x=>x.data)).pipe((0,On.p)(x=>x&&x.type)).pipe(function Tre(n){return n?t=>j9(n)(t):t=>function Dre(n,t){const e=(0,De.T)(n)?n:()=>n;return(0,De.T)(t)?j9(t,{connector:e}):i=>new W(i,e)}(new B.B)(t)}());E.connect(),this.events=E}else this.worker=this.events=this.registration=function xre(n){return tn(()=>Rn(new Error(n)))}(LD)}postMessage(t,e){return this.worker.pipe(Xi(1),gi(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),l=this.postMessage(t,e);return Promise.all([l,r]).then(([,d])=>d)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe((0,On.p)(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Xi(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,On.p)(e=>e.nonce===t),Xi(1),(0,Ae.T)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Are=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new B.B,!e.isEnabled)return this.messages=e0,this.notificationClicks=e0,void(this.subscription=e0);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Ae.T)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Ae.T)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,Ae.T)(r=>r.pushManager));const i=this.pushManager.pipe(pr(r=>r.getSubscription()));this.subscription=(0,Bo.h)(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(LD));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),l=new Uint8Array(new ArrayBuffer(r.length));for(let d=0;d<r.length;d++)l[d]=r.charCodeAt(d);return i.applicationServerKey=l,this.pushManager.pipe(pr(d=>d.subscribe(i)),Xi(1)).toPromise().then(d=>(this.subscriptionChanges.next(d),d))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Xi(1),pr(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(LD))}decodeBase64(e){return atob(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(K1))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})(),Sre=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=e0,void(this.unrecoverable=e0);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(LD));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(LD));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(K1))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();const $9=new a.nKC("");function Mre(n,t,e,i){return()=>{if(!sh(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;const r=n.get(a.SKi),l=n.get(a.o8S);let d;if(r.runOutsideAngular(()=>{const f=navigator.serviceWorker,p=()=>f.controller?.postMessage({action:"INITIALIZE"});f.addEventListener("controllerchange",p),l.onDestroy(()=>{f.removeEventListener("controllerchange",p)})}),"function"==typeof e.registrationStrategy)d=e.registrationStrategy();else{const[f,...p]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(f){case"registerImmediately":d=Y(null);break;case"registerWithDelay":d=H9(+p[0]||0);break;case"registerWhenStable":d=p[0]?(0,Bo.h)(z9(n),H9(+p[0])):z9(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}r.runOutsideAngular(()=>d.pipe(Xi(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(f=>console.error("Service worker registration failed with:",f))))}}function H9(n){return Y(null).pipe(cf(n))}function z9(n){return n.get(a.o8S).isStable.pipe((0,On.p)(e=>e))}function Rre(n,t){return new K1(sh(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class e${}(function $u(n,t){return(0,a.TL3)({rootComponent:n,...Cm(t)})})(DZ,{providers:[function z_(n,...t){return(0,a.EmA)([{provide:Nh,multi:!0,useValue:n},[],{provide:Es,useFactory:Wm,deps:[gr]},{provide:a.iLQ,multi:!0,useFactory:sx},t.map(e=>e.\u0275providers)])}(Ere,uw()),function kre(n,t={}){return(0,a.EmA)([Are,Sre,{provide:$9,useValue:n},{provide:e$,useValue:t},{provide:K1,useFactory:Rre,deps:[e$,a.Agw]},{provide:a.hnV,useFactory:Mre,deps:[a.zZn,$9,e$,a.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,a.naY)(),registrationStrategy:"registerWhenStable:3000"}),function SZ(n="animations"){return(0,a.ngT)("NgAsyncAnimations"),(0,a.EmA)([{provide:a._9s,useFactory:(t,e,i)=>new xZ(t,e,i,n),deps:[Te,b0,a.SKi]},{provide:a.bc$,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}()]}).catch(n=>console.error(n))},5505:function(Bt){Bt.exports=function(){"use strict";var et=function(v,C){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,N){S.__proto__=N}||function(S,N){for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&(S[V]=N[V])})(v,C)},k=function(){return(k=Object.assign||function(v){for(var C,S=1,N=arguments.length;S<N;S++)for(var V in C=arguments[S])Object.prototype.hasOwnProperty.call(C,V)&&(v[V]=C[V]);return v}).apply(this,arguments)};function J(v,C,S){if(S||2===arguments.length)for(var N,V=0,H=C.length;V<H;V++)!N&&V in C||((N=N||Array.prototype.slice.call(C,0,V))[V]=C[V]);return v.concat(N||Array.prototype.slice.call(C))}var ne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pe=Object.keys,ae=Array.isArray;function A(v,C){return"object"!=typeof C||pe(C).forEach(function(S){v[S]=C[S]}),v}typeof Promise>"u"||ne.Promise||(ne.Promise=Promise);var a=Object.getPrototypeOf,De={}.hasOwnProperty;function lt(v,C){return De.call(v,C)}function Be(v,C){"function"==typeof C&&(C=C(a(v))),(typeof Reflect>"u"?pe:Reflect.ownKeys)(C).forEach(function(S){Y(v,S,C[S])})}var Ue=Object.defineProperty;function Y(v,C,S,N){Ue(v,C,A(S&&lt(S,"get")&&"function"==typeof S.get?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},N))}function Me(v){return{from:function(C){return v.prototype=Object.create(C.prototype),Y(v.prototype,"constructor",v),{extend:Be.bind(null,v.prototype)}}}}var Ne=Object.getOwnPropertyDescriptor,oe=[].slice;function Ge(v,C,S){return oe.call(v,C,S)}function Re(v,C){return C(v)}function Oe(v){if(!v)throw new Error("Assertion Failed")}function ge(v){ne.setImmediate?setImmediate(v):setTimeout(v,0)}function Fe(v,C){if("string"==typeof C&&lt(v,C))return v[C];if(!C)return v;if("string"!=typeof C){for(var S=[],N=0,V=C.length;N<V;++N){var H=Fe(v,C[N]);S.push(H)}return S}var ee=C.indexOf(".");if(-1!==ee){var ye=v[C.substr(0,ee)];return null==ye?void 0:Fe(ye,C.substr(ee+1))}}function Ae(v,C,S){if(v&&void 0!==C&&(!("isFrozen"in Object)||!Object.isFrozen(v)))if("string"!=typeof C&&"length"in C){Oe("string"!=typeof S&&"length"in S);for(var N=0,V=C.length;N<V;++N)Ae(v,C[N],S[N])}else{var H,ee,ye=C.indexOf(".");-1!==ye?(H=C.substr(0,ye),""===(ee=C.substr(ye+1))?void 0===S?ae(v)&&!isNaN(parseInt(H))?v.splice(H,1):delete v[H]:v[H]=S:Ae(ye=(ye=v[H])&&lt(v,H)?ye:v[H]={},ee,S)):void 0===S?ae(v)&&!isNaN(parseInt(C))?v.splice(C,1):delete v[C]:v[C]=S}}function xe(v){var C,S={};for(C in v)lt(v,C)&&(S[C]=v[C]);return S}var We=[].concat;function Ie(v){return We.apply([],v)}var ko="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ie([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(C){return C+v+"Array"})}))).filter(function(v){return ne[v]}),st=new Set(ko.map(function(v){return ne[v]})),Qe=null;function _e(v){return Qe=new WeakMap,v=function C(S){if(!S||"object"!=typeof S)return S;var N=Qe.get(S);if(N)return N;if(ae(S)){Qe.set(S,N=[]);for(var V=0,H=S.length;V<H;++V)N.push(C(S[V]))}else if(st.has(S.constructor))N=S;else{var ee,ye=a(S);for(ee in N=ye===Object.prototype?{}:Object.create(ye),Qe.set(S,N),S)lt(S,ee)&&(N[ee]=C(S[ee]))}return N}(v),Qe=null,v}var ue={}.toString;function Q(v){return ue.call(v).slice(8,-1)}var pt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Dt="symbol"==typeof pt?function(v){var C;return null!=v&&(C=v[pt])&&C.apply(v)}:function(){return null};function xt(v,C){return 0<=(C=v.indexOf(C))&&v.splice(C,1),0<=C}var un={};function tn(v){var C,S,N,V;if(1===arguments.length){if(ae(v))return v.slice();if(this===un&&"string"==typeof v)return[v];if(V=Dt(v)){for(S=[];!(N=V.next()).done;)S.push(N.value);return S}if(null==v)return[v];if("number"!=typeof(C=v.length))return[v];for(S=new Array(C);C--;)S[C]=v[C];return S}for(C=arguments.length,S=new Array(C);C--;)S[C]=arguments[C];return S}var mn=typeof Symbol<"u"?function(v){return"AsyncFunction"===v[Symbol.toStringTag]}:function(){return!1},so=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Cn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),Rn={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ze(v,C){this.name=v,this.message=C}function se(v,C){return v+". Errors: "+Object.keys(C).map(function(S){return C[S].toString()}).filter(function(S,N,V){return V.indexOf(S)===N}).join("\n")}function be(v,C,S,N){this.failures=C,this.failedKeys=N,this.successCount=S,this.message=se(v,C)}function W(v,C){this.name="BulkError",this.failures=Object.keys(C).map(function(S){return C[S]}),this.failuresByPos=C,this.message=se(v,this.failures)}Me(ze).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Me(be).from(ze),Me(W).from(ze);var B=so.reduce(function(v,C){return v[C]=C+"Error",v},{}),$=ze,X=so.reduce(function(v,C){var S=C+"Error";function N(V,H){this.name=S,V?"string"==typeof V?(this.message="".concat(V).concat(H?"\n "+H:""),this.inner=H||null):"object"==typeof V&&(this.message="".concat(V.name," ").concat(V.message),this.inner=V):(this.message=Rn[C]||S,this.inner=null)}return Me(N).from($),v[C]=N,v},{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var Z=Cn.reduce(function(v,C){return v[C+"Error"]=X[C],v},{}),re=so.reduce(function(v,C){return-1===["Syntax","Type","Range"].indexOf(C)&&(v[C+"Error"]=X[C]),v},{});function ce(){}function Te(v){return v}function It(v,C){return null==v||v===Te?C:function(S){return C(v(S))}}function Lt(v,C){return function(){v.apply(this,arguments),C.apply(this,arguments)}}function Rt(v,C){return v===ce?C:function(){var S=v.apply(this,arguments);void 0!==S&&(arguments[0]=S);var N=this.onsuccess,V=this.onerror;this.onsuccess=null,this.onerror=null;var H=C.apply(this,arguments);return N&&(this.onsuccess=this.onsuccess?Lt(N,this.onsuccess):N),V&&(this.onerror=this.onerror?Lt(V,this.onerror):V),void 0!==H?H:S}}function Ut(v,C){return v===ce?C:function(){v.apply(this,arguments);var S=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,C.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?Lt(S,this.onsuccess):S),N&&(this.onerror=this.onerror?Lt(N,this.onerror):N)}}function rn(v,C){return v===ce?C:function(S){var N=v.apply(this,arguments);A(S,N);var V=this.onsuccess,H=this.onerror;return this.onsuccess=null,this.onerror=null,S=C.apply(this,arguments),V&&(this.onsuccess=this.onsuccess?Lt(V,this.onsuccess):V),H&&(this.onerror=this.onerror?Lt(H,this.onerror):H),void 0===N?void 0===S?void 0:S:A(N,S)}}function sn(v,C){return v===ce?C:function(){return!1!==C.apply(this,arguments)&&v.apply(this,arguments)}}function ln(v,C){return v===ce?C:function(){var S=v.apply(this,arguments);if(S&&"function"==typeof S.then){for(var N=this,V=arguments.length,H=new Array(V);V--;)H[V]=arguments[V];return S.then(function(){return C.apply(N,H)})}return C.apply(this,arguments)}}re.ModifyError=be,re.DexieError=ze,re.BulkError=W;var Ht=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function hn(v){Ht=v}var Cn,on={},Nn=100,eo=(so=(so=(ko=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,a(v),v];var C=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[C,a(C),v]}())[1])&&so.then,(Cn=ko[0])&&Cn.constructor),to=!!(ko=ko[2]),Bi=function(v,C){Go.push([v,C]),bi&&(queueMicrotask(rr),bi=!1)},Gt=!0,bi=!0,fi=[],Zn=[],Hn=Te,ri={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ce,pgp:!1,env:{},finalize:ce},jt=ri,Go=[],Ao=0,oa=[];function Ot(v){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var C=this._PSD=jt;if("function"!=typeof v){if(v!==on)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&aa(this,this._value))}this._state=null,this._value=null,++C.ref,function S(N,V){try{V(function(H){if(null===N._state){if(H===N)throw new TypeError("A promise cannot be resolved with itself.");var ee=N._lib&&wi();H&&"function"==typeof H.then?S(N,function(ye,$e){H instanceof Ot?H._then(ye,$e):H.then(ye,$e)}):(N._state=!0,N._value=H,oc(N)),ee&&dr()}},aa.bind(null,N))}catch(H){aa(N,H)}}(this,v)}var Wo={get:function(){var v=jt,C=la;function S(N,V){var H=this,ee=!v.global&&(v!==jt||C!==la),ye=ee&&!Or(),$e=new Ot(function(Pe,tt){no(H,new sa(fo(N,v,ee,ye),fo(V,v,ee,ye),Pe,tt,v))});return this._consoleTask&&($e._consoleTask=this._consoleTask),$e}return S.prototype=on,S},set:function(v){Y(this,"then",v&&v.prototype===on?Wo:{get:function(){return v},set:Wo.set})}};function sa(v,C,S,N,V){this.onFulfilled="function"==typeof v?v:null,this.onRejected="function"==typeof C?C:null,this.resolve=S,this.reject=N,this.psd=V}function aa(v,C){var S,N;Zn.push(C),null===v._state&&(S=v._lib&&wi(),C=Hn(C),v._state=!1,v._value=C,N=v,fi.some(function(V){return V._value===N._value})||fi.push(N),oc(v),S&&dr())}function oc(v){var C=v._listeners;v._listeners=[];for(var S=0,N=C.length;S<N;++S)no(v,C[S]);var V=v._PSD;--V.ref||V.finalize(),0===Ao&&(++Ao,Bi(function(){0==--Ao&&So()},[]))}function no(v,C){if(null!==v._state){var S=v._state?C.onFulfilled:C.onRejected;if(null===S)return(v._state?C.resolve:C.reject)(v._value);++C.psd.ref,++Ao,Bi(Ui,[S,v,C])}else v._listeners.push(C)}function Ui(v,C,S){try{var N,V=C._value;!C._state&&Zn.length&&(Zn=[]),N=Ht&&C._consoleTask?C._consoleTask.run(function(){return v(V)}):v(V),C._state||-1!==Zn.indexOf(V)||function(H){for(var ee=fi.length;ee;)if(fi[--ee]._value===H._value)return fi.splice(ee,1)}(C),S.resolve(N)}catch(H){S.reject(H)}finally{0==--Ao&&So(),--S.psd.ref||S.psd.finalize()}}function rr(){hr(ri,function(){wi()&&dr()})}function wi(){var v=Gt;return bi=Gt=!1,v}function dr(){var v,C,S;do{for(;0<Go.length;)for(v=Go,Go=[],S=v.length,C=0;C<S;++C){var N=v[C];N[0].apply(null,N[1])}}while(0<Go.length);bi=Gt=!0}function So(){var v=fi;fi=[],v.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)});for(var C=oa.slice(0),S=C.length;S;)C[--S]()}function sc(v){return new Ot(on,!1,v)}function yn(v,C){var S=jt;return function(){var N=wi(),V=jt;try{return ms(S,!0),v.apply(this,arguments)}catch(H){C&&C(H)}finally{ms(V,!1),N&&dr()}}}Be(Ot.prototype,{then:Wo,_then:function(v,C){no(this,new sa(null,null,v,C,jt))},catch:function(v){if(1===arguments.length)return this.then(null,v);var C=v,S=arguments[1];return this.then(null,"function"==typeof C?function(N){return(N instanceof C?S:sc)(N)}:function(N){return(N&&N.name===C?S:sc)(N)})},finally:function(v){return this.then(function(C){return Ot.resolve(v()).then(function(){return C})},function(C){return Ot.resolve(v()).then(function(){return sc(C)})})},timeout:function(v,C){var S=this;return v<1/0?new Ot(function(N,V){var H=setTimeout(function(){return V(new X.Timeout(C))},v);S.then(N,V).finally(clearTimeout.bind(null,H))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Y(Ot.prototype,Symbol.toStringTag,"Dexie.Promise"),ri.env=ps(),Be(Ot,{all:function(){var v=tn.apply(null,arguments).map(Na);return new Ot(function(C,S){0===v.length&&C([]);var N=v.length;v.forEach(function(V,H){return Ot.resolve(V).then(function(ee){v[H]=ee,--N||C(v)},S)})})},resolve:function(v){return v instanceof Ot?v:v&&"function"==typeof v.then?new Ot(function(C,S){v.then(C,S)}):new Ot(on,!0,v)},reject:sc,race:function(){var v=tn.apply(null,arguments).map(Na);return new Ot(function(C,S){v.map(function(N){return Ot.resolve(N).then(C,S)})})},PSD:{get:function(){return jt},set:function(v){return jt=v}},totalEchoes:{get:function(){return la}},newPSD:Kn,usePSD:hr,scheduler:{get:function(){return Bi},set:function(v){Bi=v}},rejectionMapper:{get:function(){return Hn},set:function(v){Hn=v}},follow:function(v,C){return new Ot(function(S,N){return Kn(function(V,H){var ee=jt;ee.unhandleds=[],ee.onunhandled=H,ee.finalize=Lt(function(){var ye,$e=this;ye=function(){0===$e.unhandleds.length?V():H($e.unhandleds[0])},oa.push(function Pe(){ye(),oa.splice(oa.indexOf(Pe),1)}),++Ao,Bi(function(){0==--Ao&&So()},[])},ee.finalize),v()},C,S,N)})}}),eo&&(eo.allSettled&&Y(Ot,"allSettled",function(){var v=tn.apply(null,arguments).map(Na);return new Ot(function(C){0===v.length&&C([]);var S=v.length,N=new Array(S);v.forEach(function(V,H){return Ot.resolve(V).then(function(ee){return N[H]={status:"fulfilled",value:ee}},function(ee){return N[H]={status:"rejected",reason:ee}}).then(function(){return--S||C(N)})})})}),eo.any&&typeof AggregateError<"u"&&Y(Ot,"any",function(){var v=tn.apply(null,arguments).map(Na);return new Ot(function(C,S){0===v.length&&S(new AggregateError([]));var N=v.length,V=new Array(N);v.forEach(function(H,ee){return Ot.resolve(H).then(function(ye){return C(ye)},function(ye){V[ee]=ye,--N||S(new AggregateError(V))})})})}));var mi={awaits:0,echoes:0,id:0},fs=0,ca=[],Mo=0,la=0,$c=0;function Kn(v,C,S,N){var V=jt,H=Object.create(V);return H.parent=V,H.ref=0,H.global=!1,H.id=++$c,H.env=to?{Promise:Ot,PromiseProp:{value:Ot,configurable:!0,writable:!0},all:Ot.all,race:Ot.race,allSettled:Ot.allSettled,any:Ot.any,resolve:Ot.resolve,reject:Ot.reject}:{},C&&A(H,C),++V.ref,H.finalize=function(){--this.parent.ref||this.parent.finalize()},N=hr(H,v,S,N),0===H.ref&&H.finalize(),N}function Ko(){return mi.id||(mi.id=++fs),++mi.awaits,mi.echoes+=Nn,mi.id}function Or(){return!!mi.awaits&&(0==--mi.awaits&&(mi.id=0),mi.echoes=mi.awaits*Nn,!0)}function Na(v){return mi.echoes&&v&&v.constructor===eo?(Ko(),v.then(function(C){return Or(),C},function(C){return Or(),_n(C)})):v}function Ml(){var v=ca[ca.length-1];ca.pop(),ms(v,!1)}function ms(v,C){var S,N=jt;(C?!mi.echoes||Mo++&&v===jt:!Mo||--Mo&&v===jt)||queueMicrotask(C?function(V){++la,mi.echoes&&0!=--mi.echoes||(mi.echoes=mi.awaits=mi.id=0),ca.push(jt),ms(V,!0)}.bind(null,v):Ml),v!==jt&&(jt=v,N===ri&&(ri.env=ps()),to&&(S=ri.env.Promise,C=v.env,(N.global||v.global)&&(Object.defineProperty(ne,"Promise",C.PromiseProp),S.all=C.all,S.race=C.race,S.resolve=C.resolve,S.reject=C.reject,C.allSettled&&(S.allSettled=C.allSettled),C.any&&(S.any=C.any))))}function ps(){var v=ne.Promise;return to?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(ne,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function hr(v,C,S,N,V){var H=jt;try{return ms(v,!0),C(S,N,V)}finally{ms(H,!1)}}function fo(v,C,S,N){return"function"!=typeof v?v:function(){var V=jt;S&&Ko(),ms(C,!0);try{return v.apply(this,arguments)}finally{ms(V,!1),N&&queueMicrotask(Or)}}}function Fn(v){Promise===eo&&0===mi.echoes?0===Mo?v():enqueueNativeMicroTask(v):setTimeout(v,0)}-1===(""+so).indexOf("[native code]")&&(Ko=Or=ce);var _n=Ot.reject,fr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",_s="String expected.",Ns=[],Er="__dbnames",ac="readonly",ji="readwrite";function ua(v,C){return v?C?function(){return v.apply(this,arguments)&&C.apply(this,arguments)}:v:C}var Ei={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function cc(v){return"string"!=typeof v||/\./.test(v)?function(C){return C}:function(C){return void 0===C[v]&&v in C&&delete(C=_e(C))[v],C}}function Ro(){throw X.Type()}function zn(v,C){try{var S=Fs(v),N=Fs(C);if(S!==N)return"Array"===S?1:"Array"===N?-1:"binary"===S?1:"binary"===N?-1:"string"===S?1:"string"===N?-1:"Date"===S?1:"Date"!==N?NaN:-1;switch(S){case"number":case"Date":case"string":return C<v?1:v<C?-1:0;case"binary":return function(V,H){for(var ee=V.length,ye=H.length,$e=ee<ye?ee:ye,Pe=0;Pe<$e;++Pe)if(V[Pe]!==H[Pe])return V[Pe]<H[Pe]?-1:1;return ee===ye?0:ee<ye?-1:1}(Rl(v),Rl(C));case"Array":return function(V,H){for(var ee=V.length,ye=H.length,$e=ee<ye?ee:ye,Pe=0;Pe<$e;++Pe){var tt=zn(V[Pe],H[Pe]);if(0!==tt)return tt}return ee===ye?0:ee<ye?-1:1}(v,C)}}catch{}return NaN}function Fs(v){var C=typeof v;return"object"!=C?C:ArrayBuffer.isView(v)||"ArrayBuffer"===(v=Q(v))?"binary":v}function Rl(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var jr=(oi.prototype._trans=function(v,C,S){var N=this._tx||jt.trans,V=this.name,H=Ht&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===v?"read":"write"," ").concat(this.name));function ee(Pe,tt,Se){if(!Se.schema[V])throw new X.NotFound("Table "+V+" not part of transaction");return C(Se.idbtrans,Se)}var ye=wi();try{var $e=N&&N.db._novip===this.db._novip?N===jt.trans?N._promise(v,ee,S):Kn(function(){return N._promise(v,ee,S)},{trans:N,transless:jt.transless||jt}):function Pe(tt,Se,nt,Le){if(tt.idbdb&&(tt._state.openComplete||jt.letThrough||tt._vip)){var Xe=tt._createTransaction(Se,nt,tt._dbSchema);try{Xe.create(),tt._state.PR1398_maxLoop=3}catch(Ye){return Ye.name===B.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return Pe(tt,Se,nt,Le)})):_n(Ye)}return Xe._promise(Se,function(Ye,He){return Kn(function(){return jt.trans=Xe,Le(Ye,He,Xe)})}).then(function(Ye){if("readwrite"===Se)try{Xe.idbtrans.commit()}catch{}return"readonly"===Se?Ye:Xe._completion.then(function(){return Ye})})}if(tt._state.openComplete)return _n(new X.DatabaseClosed(tt._state.dbOpenError));if(!tt._state.isBeingOpened){if(!tt._state.autoOpen)return _n(new X.DatabaseClosed);tt.open().catch(ce)}return tt._state.dbReadyPromise.then(function(){return Pe(tt,Se,nt,Le)})}(this.db,v,[this.name],ee);return H&&($e._consoleTask=H,$e=$e.catch(function(Pe){return console.trace(Pe),_n(Pe)})),$e}finally{ye&&dr()}},oi.prototype.get=function(v,C){var S=this;return v&&v.constructor===Object?this.where(v).first(C):null==v?_n(new X.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return S.core.get({trans:N,key:v}).then(function(V){return S.hook.reading.fire(V)})}).then(C)},oi.prototype.where=function(v){if("string"==typeof v)return new this.db.WhereClause(this,v);if(ae(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var C=pe(v);if(1===C.length)return this.where(C[0]).equals(v[C[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function($e){if($e.compound&&C.every(function(tt){return 0<=$e.keyPath.indexOf(tt)})){for(var Pe=0;Pe<C.length;++Pe)if(-1===C.indexOf($e.keyPath[Pe]))return!1;return!0}return!1}).sort(function($e,Pe){return $e.keyPath.length-Pe.keyPath.length})[0];if(S&&"\uffff"!==this.db._maxKey){var ee=S.keyPath.slice(0,C.length);return this.where(ee).equals(ee.map(function(Pe){return v[Pe]}))}!S&&Ht&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(C.join("+"),"]"));var N=this.schema.idxByName,V=this.db._deps.indexedDB;function H($e,Pe){return 0===V.cmp($e,Pe)}ee=(ye=C.reduce(function(nt,Pe){var tt=nt[0],Se=nt[1],Le=(nt=N[Pe],v[Pe]);return[tt||nt,tt||!nt?ua(Se,nt&&nt.multi?function(Xe){return Xe=Fe(Xe,Pe),ae(Xe)&&Xe.some(function(Ye){return H(Le,Ye)})}:function(Xe){return H(Le,Fe(Xe,Pe))}):Se]},[null,null]))[0];var ye=ye[1];return ee?this.where(ee.name).equals(v[ee.keyPath]).filter(ye):S?this.filter(ye):this.where(C).equals("")},oi.prototype.filter=function(v){return this.toCollection().and(v)},oi.prototype.count=function(v){return this.toCollection().count(v)},oi.prototype.offset=function(v){return this.toCollection().offset(v)},oi.prototype.limit=function(v){return this.toCollection().limit(v)},oi.prototype.each=function(v){return this.toCollection().each(v)},oi.prototype.toArray=function(v){return this.toCollection().toArray(v)},oi.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},oi.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,ae(v)?"[".concat(v.join("+"),"]"):v))},oi.prototype.reverse=function(){return this.toCollection().reverse()},oi.prototype.mapToClass=function(v){var C,S=this.db,N=this.name;function V(){return null!==C&&C.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof Ro&&(function($e,Pe){if("function"!=typeof Pe&&null!==Pe)throw new TypeError("Class extends value "+String(Pe)+" is not a constructor or null");function tt(){this.constructor=$e}et($e,Pe),$e.prototype=null===Pe?Object.create(Pe):(tt.prototype=Pe.prototype,new tt)}(V,C=v),Object.defineProperty(V.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),V.prototype.table=function(){return N},v=V);for(var H=new Set,ee=v.prototype;ee;ee=a(ee))Object.getOwnPropertyNames(ee).forEach(function($e){return H.add($e)});function ye($e){if(!$e)return $e;var Pe,tt=Object.create(v.prototype);for(Pe in $e)if(!H.has(Pe))try{tt[Pe]=$e[Pe]}catch{}return tt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ye,this.hook("reading",ye),v},oi.prototype.defineClass=function(){return this.mapToClass(function(v){A(this,v)})},oi.prototype.add=function(v,C){var S=this,N=this.schema.primKey,H=N.keyPath,ee=v;return H&&N.auto&&(ee=cc(H)(v)),this._trans("readwrite",function(ye){return S.core.mutate({trans:ye,type:"add",keys:null!=C?[C]:null,values:[ee]})}).then(function(ye){return ye.numFailures?Ot.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if(H)try{Ae(v,H,ye)}catch{}return ye})},oi.prototype.update=function(v,C){return"object"!=typeof v||ae(v)?this.where(":id").equals(v).modify(C):void 0===(v=Fe(v,this.schema.primKey.keyPath))?_n(new X.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(C)},oi.prototype.put=function(v,C){var S=this,N=this.schema.primKey,H=N.keyPath,ee=v;return H&&N.auto&&(ee=cc(H)(v)),this._trans("readwrite",function(ye){return S.core.mutate({trans:ye,type:"put",values:[ee],keys:null!=C?[C]:null})}).then(function(ye){return ye.numFailures?Ot.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if(H)try{Ae(v,H,ye)}catch{}return ye})},oi.prototype.delete=function(v){var C=this;return this._trans("readwrite",function(S){return C.core.mutate({trans:S,type:"delete",keys:[v]})}).then(function(S){return S.numFailures?Ot.reject(S.failures[0]):void 0})},oi.prototype.clear=function(){var v=this;return this._trans("readwrite",function(C){return v.core.mutate({trans:C,type:"deleteRange",range:Ei})}).then(function(C){return C.numFailures?Ot.reject(C.failures[0]):void 0})},oi.prototype.bulkGet=function(v){var C=this;return this._trans("readonly",function(S){return C.core.getMany({keys:v,trans:S}).then(function(N){return N.map(function(V){return C.hook.reading.fire(V)})})})},oi.prototype.bulkAdd=function(v,C,S){var N=this,V=Array.isArray(C)?C:void 0,H=(S=S||(V?void 0:C))?S.allKeys:void 0;return this._trans("readwrite",function(ee){var ye=(Pe=N.schema.primKey).auto;if((Pe=Pe.keyPath)&&V)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var $e=v.length,Pe=Pe&&ye?v.map(cc(Pe)):v;return N.core.mutate({trans:ee,type:"add",keys:V,values:Pe,wantResults:H}).then(function(Xe){var Se=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===Se)return H?nt:Le;throw new W("".concat(N.name,".bulkAdd(): ").concat(Se," of ").concat($e," operations failed"),Xe)})})},oi.prototype.bulkPut=function(v,C,S){var N=this,V=Array.isArray(C)?C:void 0,H=(S=S||(V?void 0:C))?S.allKeys:void 0;return this._trans("readwrite",function(ee){var ye=(Pe=N.schema.primKey).auto;if((Pe=Pe.keyPath)&&V)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var $e=v.length,Pe=Pe&&ye?v.map(cc(Pe)):v;return N.core.mutate({trans:ee,type:"put",keys:V,values:Pe,wantResults:H}).then(function(Xe){var Se=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===Se)return H?nt:Le;throw new W("".concat(N.name,".bulkPut(): ").concat(Se," of ").concat($e," operations failed"),Xe)})})},oi.prototype.bulkUpdate=function(v){var C=this,S=this.core,N=v.map(function(ee){return ee.key}),V=v.map(function(ee){return ee.changes}),H=[];return this._trans("readwrite",function(ee){return S.getMany({trans:ee,keys:N,cache:"clone"}).then(function(ye){var $e=[],Pe=[];v.forEach(function(Se,nt){var Le=Se.key,Xe=Se.changes,Ye=ye[nt];if(Ye){for(var He=0,ft=Object.keys(Xe);He<ft.length;He++){var qe=ft[He],it=Xe[qe];if(qe===C.schema.primKey.keyPath){if(0!==zn(it,Le))throw new X.Constraint("Cannot update primary key in bulkUpdate()")}else Ae(Ye,qe,it)}H.push(nt),$e.push(Le),Pe.push(Ye)}});var tt=$e.length;return S.mutate({trans:ee,type:"put",keys:$e,values:Pe,updates:{keys:N,changeSpecs:V}}).then(function(Se){var nt=Se.numFailures,Le=Se.failures;if(0===nt)return tt;for(var Xe=0,Ye=Object.keys(Le);Xe<Ye.length;Xe++){var He,ft=Ye[Xe],qe=H[Number(ft)];null!=qe&&(He=Le[ft],delete Le[ft],Le[qe]=He)}throw new W("".concat(C.name,".bulkUpdate(): ").concat(nt," of ").concat(tt," operations failed"),Le)})})})},oi.prototype.bulkDelete=function(v){var C=this,S=v.length;return this._trans("readwrite",function(N){return C.core.mutate({trans:N,type:"delete",keys:v})}).then(function(ee){var V=ee.numFailures,H=ee.lastResult;if(ee=ee.failures,0===V)return H;throw new W("".concat(C.name,".bulkDelete(): ").concat(V," of ").concat(S," operations failed"),ee)})},oi);function oi(){}function vs(v){function C(ee,ye){if(ye){for(var $e=arguments.length,Pe=new Array($e-1);--$e;)Pe[$e-1]=arguments[$e];return S[ee].subscribe.apply(null,Pe),v}if("string"==typeof ee)return S[ee]}var S={};C.addEventType=H;for(var N=1,V=arguments.length;N<V;++N)H(arguments[N]);return C;function H(ee,ye,$e){if("object"!=typeof ee){var Pe;ye=ye||sn;var tt={subscribers:[],fire:$e=$e||ce,subscribe:function(Se){-1===tt.subscribers.indexOf(Se)&&(tt.subscribers.push(Se),tt.fire=ye(tt.fire,Se))},unsubscribe:function(Se){tt.subscribers=tt.subscribers.filter(function(nt){return nt!==Se}),tt.fire=tt.subscribers.reduce(ye,$e)}};return S[ee]=C[ee]=tt}pe(Pe=ee).forEach(function(Se){var nt=Pe[Se];if(ae(nt))H(Se,Pe[Se][0],Pe[Se][1]);else{if("asap"!==nt)throw new X.InvalidArgument("Invalid event config");var Le=H(Se,Te,function(){for(var Xe=arguments.length,Ye=new Array(Xe);Xe--;)Ye[Xe]=arguments[Xe];Le.subscribers.forEach(function(He){ge(function(){He.apply(null,Ye)})})})}})}}function da(v,C){return Me(C).from({prototype:v}),C}function Fa(v,C){return!(v.filter||v.algorithm||v.or)&&(C?v.justLimit:!v.replayFilter)}function Hc(v,C){v.filter=ua(v.filter,C)}function La(v,C,S){var N=v.replayFilter;v.replayFilter=N?function(){return ua(N(),C())}:C,v.justLimit=S&&!N}function Va(v,C){if(v.isPrimKey)return C.primaryKey;var S=C.getIndexByKeyPath(v.index);if(!S)throw new X.Schema("KeyPath "+v.index+" on object store "+C.name+" is not indexed");return S}function zc(v,C,S){var N=Va(v,C.schema);return C.openCursor({trans:S,values:!v.keysOnly,reverse:"prev"===v.dir,unique:!!v.unique,query:{index:N,range:v.range}})}function kl(v,C,S,N){var V=v.replayFilter?ua(v.filter,v.replayFilter()):v.filter;if(v.or){var H={},ee=function(ye,$e,Pe){var tt,Se;V&&!V($e,Pe,function(nt){return $e.stop(nt)},function(nt){return $e.fail(nt)})||("[object ArrayBuffer]"==(Se=""+(tt=$e.primaryKey))&&(Se=""+new Uint8Array(tt)),lt(H,Se)||(H[Se]=!0,C(ye,$e,Pe)))};return Promise.all([v.or._iterate(ee,S),Ba(zc(v,N,S),v.algorithm,ee,!v.keysOnly&&v.valueMapper)])}return Ba(zc(v,N,S),ua(v.algorithm,V),C,!v.keysOnly&&v.valueMapper)}function Ba(v,C,S,N){var V=yn(N?function(H,ee,ye){return S(N(H),ee,ye)}:S);return v.then(function(H){if(H)return H.start(function(){var ee=function(){return H.continue()};C&&!C(H,function(ye){return ee=ye},function(ye){H.stop(ye),ee=ce},function(ye){H.fail(ye),ee=ce})||V(H.value,H,function(ye){return ee=ye}),ee()})})}ko=Symbol();var ha=(Gc.prototype.execute=function(v){if(void 0!==this.add){var C=this.add;if(ae(C))return J(J([],ae(v)?v:[],!0),C,!0).sort();if("number"==typeof C)return(Number(v)||0)+C;if("bigint"==typeof C)try{return BigInt(v)+C}catch{return BigInt(0)+C}throw new TypeError("Invalid term ".concat(C))}if(void 0!==this.remove){var S=this.remove;if(ae(S))return ae(v)?v.filter(function(N){return!S.includes(N)}).sort():[];if("number"==typeof S)return Number(v)-S;if("bigint"==typeof S)try{return BigInt(v)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return(C=null===(C=this.replacePrefix)||void 0===C?void 0:C[0])&&"string"==typeof v&&v.startsWith(C)?this.replacePrefix[1]+v.substring(C.length):v},Gc);function Gc(v){Object.assign(this,v)}var Wc=(Gn.prototype._read=function(v,C){var S=this._ctx;return S.error?S.table._trans(null,_n.bind(null,S.error)):S.table._trans("readonly",v).then(C)},Gn.prototype._write=function(v){var C=this._ctx;return C.error?C.table._trans(null,_n.bind(null,C.error)):C.table._trans("readwrite",v,"locked")},Gn.prototype._addAlgorithm=function(v){var C=this._ctx;C.algorithm=ua(C.algorithm,v)},Gn.prototype._iterate=function(v,C){return kl(this._ctx,v,C,this._ctx.table.core)},Gn.prototype.clone=function(v){var C=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return v&&A(S,v),C._ctx=S,C},Gn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Gn.prototype.each=function(v){var C=this._ctx;return this._read(function(S){return kl(C,v,S,C.table.core)})},Gn.prototype.count=function(v){var C=this;return this._read(function(S){var N=C._ctx,V=N.table.core;if(Fa(N,!0))return V.count({trans:S,query:{index:Va(N,V.schema),range:N.range}}).then(function(ee){return Math.min(ee,N.limit)});var H=0;return kl(N,function(){return++H,!1},S,V).then(function(){return H})}).then(v)},Gn.prototype.sortBy=function(v,C){var S=v.split(".").reverse(),N=S[0],V=S.length-1;function H($e,Pe){return Pe?H($e[S[Pe]],Pe-1):$e[N]}var ee="next"===this._ctx.dir?1:-1;function ye($e,Pe){return($e=H($e,V))<(Pe=H(Pe,V))?-ee:Pe<$e?ee:0}return this.toArray(function($e){return $e.sort(ye)}).then(C)},Gn.prototype.toArray=function(v){var C=this;return this._read(function(S){var N=C._ctx;if("next"===N.dir&&Fa(N,!0)&&0<N.limit){var V=N.valueMapper,H=Va(N,N.table.core.schema);return N.table.core.query({trans:S,limit:N.limit,values:!0,query:{index:H,range:N.range}}).then(function(ye){return ye=ye.result,V?ye.map(V):ye})}var ee=[];return kl(N,function(ye){return ee.push(ye)},S,N.table.core).then(function(){return ee})},v)},Gn.prototype.offset=function(v){var C=this._ctx;return v<=0||(C.offset+=v,Fa(C)?La(C,function(){var S=v;return function(N,V){return 0===S||(1===S?--S:V(function(){N.advance(S),S=0}),!1)}}):La(C,function(){var S=v;return function(){return--S<0}})),this},Gn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),La(this._ctx,function(){var C=v;return function(S,N,V){return--C<=0&&N(V),0<=C}},!0),this},Gn.prototype.until=function(v,C){return Hc(this._ctx,function(S,N,V){return!v(S.value)||(N(V),C)}),this},Gn.prototype.first=function(v){return this.limit(1).toArray(function(C){return C[0]}).then(v)},Gn.prototype.last=function(v){return this.reverse().first(v)},Gn.prototype.filter=function(v){var C;return Hc(this._ctx,function(S){return v(S.value)}),(C=this._ctx).isMatch=ua(C.isMatch,v),this},Gn.prototype.and=function(v){return this.filter(v)},Gn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},Gn.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Gn.prototype.desc=function(){return this.reverse()},Gn.prototype.eachKey=function(v){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(S,N){v(N.key,N)})},Gn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},Gn.prototype.eachPrimaryKey=function(v){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(S,N){v(N.primaryKey,N)})},Gn.prototype.keys=function(v){var C=this._ctx;C.keysOnly=!C.isMatch;var S=[];return this.each(function(N,V){S.push(V.key)}).then(function(){return S}).then(v)},Gn.prototype.primaryKeys=function(v){var C=this._ctx;if("next"===C.dir&&Fa(C,!0)&&0<C.limit)return this._read(function(N){var V=Va(C,C.table.core.schema);return C.table.core.query({trans:N,values:!1,limit:C.limit,query:{index:V,range:C.range}})}).then(function(N){return N.result}).then(v);C.keysOnly=!C.isMatch;var S=[];return this.each(function(N,V){S.push(V.primaryKey)}).then(function(){return S}).then(v)},Gn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},Gn.prototype.firstKey=function(v){return this.limit(1).keys(function(C){return C[0]}).then(v)},Gn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},Gn.prototype.distinct=function(){var v;if(!(v=(v=this._ctx).index&&v.table.schema.idxByName[v.index])||!v.multi)return this;var C={};return Hc(this._ctx,function(V){var N=V.primaryKey.toString();return V=lt(C,N),C[N]=!0,!V}),this},Gn.prototype.modify=function(v){var C=this,S=this._ctx;return this._write(function(N){var V,H,ee;function ye(He,it){var qe=it.failures;Xe+=He-(it=it.numFailures);for(var Et=0,Ft=pe(qe);Et<Ft.length;Et++)Le.push(qe[Ft[Et]])}ee="function"==typeof v?v:(V=pe(v),H=V.length,function(He){for(var ft=!1,qe=0;qe<H;++qe){var it=V[qe],Et=v[it],Ft=Fe(He,it);Et instanceof ha?(Ae(He,it,Et.execute(Ft)),ft=!0):Ft!==Et&&(Ae(He,it,Et),ft=!0)}return ft});var $e=S.table.core,Pe=$e.schema.primaryKey,tt=Pe.outbound,Se=Pe.extractKey,nt=C.db._options.modifyChunkSize||200,Le=[],Xe=0,Ye=[];return C.clone().primaryKeys().then(function(He){var qe=Fa(S)&&S.limit===1/0&&("function"!=typeof v||v===lc)&&{index:S.index,range:S.range};return function ft(it){var Et=Math.min(nt,He.length-it);return $e.getMany({trans:N,keys:He.slice(it,it+Et),cache:"immutable"}).then(function(Ft){for(var St=[],Vt=[],Kt=tt?[]:null,Xt=[],yt=0;yt<Et;++yt){var Sn=Ft[yt],kn={value:_e(Sn),primKey:He[it+yt]};!1!==ee.call(kn,kn.value,kn)&&(null==kn.value?Xt.push(He[it+yt]):tt||0===zn(Se(Sn),Se(kn.value))?(Vt.push(kn.value),tt&&Kt.push(He[it+yt])):(Xt.push(He[it+yt]),St.push(kn.value)))}return Promise.resolve(0<St.length&&$e.mutate({trans:N,type:"add",values:St}).then(function(En){for(var Vn in En.failures)Xt.splice(parseInt(Vn),1);ye(St.length,En)})).then(function(){return(0<Vt.length||qe&&"object"==typeof v)&&$e.mutate({trans:N,type:"put",keys:Kt,values:Vt,criteria:qe,changeSpec:"function"!=typeof v&&v,isAdditionalChunk:0<it}).then(function(En){return ye(Vt.length,En)})}).then(function(){return(0<Xt.length||qe&&v===lc)&&$e.mutate({trans:N,type:"delete",keys:Xt,criteria:qe,isAdditionalChunk:0<it}).then(function(En){return ye(Xt.length,En)})}).then(function(){return He.length>it+Et&&ft(it+nt)})})}(0).then(function(){if(0<Le.length)throw new be("Error modifying one or more objects",Le,Xe,Ye);return He.length})})})},Gn.prototype.delete=function(){var v=this._ctx,C=v.range;return Fa(v)&&(v.isPrimKey||3===C.type)?this._write(function(S){var V=C;return v.table.core.count({trans:S,query:{index:v.table.core.schema.primaryKey,range:V}}).then(function(H){return v.table.core.mutate({trans:S,type:"deleteRange",range:V}).then(function(ee){var ye=ee.failures;if(ee=ee.numFailures)throw new be("Could not delete some values",Object.keys(ye).map(function($e){return ye[$e]}),H-ee);return H-ee})})}):this.modify(lc)},Gn);function Gn(){}var lc=function(v,C){return C.value=null};function Ol(v,C){return v<C?-1:v===C?0:1}function Tu(v,C){return C<v?-1:v===C?0:1}function mo(v,C,S){return(v=v instanceof ke?new v.Collection(v):v)._ctx.error=new(S||TypeError)(C),v}function io(v){return new v.Collection(v,function(){return z("")}).limit(0)}function uc(v,C,S,N){var V,H,ee,ye,$e,Pe,tt,Se=S.length;if(!S.every(function(Xe){return"string"==typeof Xe}))return mo(v,_s);function nt(Xe){V="next"===Xe?function(He){return He.toUpperCase()}:function(He){return He.toLowerCase()},H="next"===Xe?function(He){return He.toLowerCase()}:function(He){return He.toUpperCase()},ee="next"===Xe?Ol:Tu;var Ye=S.map(function(He){return{lower:H(He),upper:V(He)}}).sort(function(He,ft){return ee(He.lower,ft.lower)});ye=Ye.map(function(He){return He.upper}),$e=Ye.map(function(He){return He.lower}),tt="next"===(Pe=Xe)?"":N}nt("next"),(v=new v.Collection(v,function(){return ys(ye[0],$e[Se-1]+N)}))._ondirectionchange=function(Xe){nt(Xe)};var Le=0;return v._addAlgorithm(function(Xe,Ye,He){var ft=Xe.key;if("string"!=typeof ft)return!1;var qe=H(ft);if(C(qe,$e,Le))return!0;for(var it=null,Et=Le;Et<Se;++Et){var Ft=function(St,Vt,Kt,Xt,yt,Sn){for(var kn=Math.min(St.length,Xt.length),En=-1,Vn=0;Vn<kn;++Vn){var ya=Vt[Vn];if(ya!==Xt[Vn])return yt(St[Vn],Kt[Vn])<0?St.substr(0,Vn)+Kt[Vn]+Kt.substr(Vn+1):yt(St[Vn],Xt[Vn])<0?St.substr(0,Vn)+Xt[Vn]+Kt.substr(Vn+1):0<=En?St.substr(0,En)+Vt[En]+Kt.substr(En+1):null;yt(St[Vn],ya)<0&&(En=Vn)}return kn<Xt.length&&"next"===Sn?St+Kt.substr(St.length):kn<St.length&&"prev"===Sn?St.substr(0,Kt.length):En<0?null:St.substr(0,En)+Xt[En]+Kt.substr(En+1)}(ft,qe,ye[Et],$e[Et],ee,Pe);null===Ft&&null===it?Le=Et+1:(null===it||0<ee(it,Ft))&&(it=Ft)}return Ye(null!==it?function(){Xe.continue(it+tt)}:He),!1}),v}function ys(v,C,S,N){return{type:2,lower:v,upper:C,lowerOpen:S,upperOpen:N}}function z(v){return{type:1,lower:v,upper:v}}var ke=(Object.defineProperty(Je.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Je.prototype.between=function(v,C,S,N){S=!1!==S,N=!0===N;try{return 0<this._cmp(v,C)||0===this._cmp(v,C)&&(S||N)&&(!S||!N)?io(this):new this.Collection(this,function(){return ys(v,C,!S,!N)})}catch{return mo(this,fr)}},Je.prototype.equals=function(v){return null==v?mo(this,fr):new this.Collection(this,function(){return z(v)})},Je.prototype.above=function(v){return null==v?mo(this,fr):new this.Collection(this,function(){return ys(v,void 0,!0)})},Je.prototype.aboveOrEqual=function(v){return null==v?mo(this,fr):new this.Collection(this,function(){return ys(v,void 0,!1)})},Je.prototype.below=function(v){return null==v?mo(this,fr):new this.Collection(this,function(){return ys(void 0,v,!1,!0)})},Je.prototype.belowOrEqual=function(v){return null==v?mo(this,fr):new this.Collection(this,function(){return ys(void 0,v)})},Je.prototype.startsWith=function(v){return"string"!=typeof v?mo(this,_s):this.between(v,v+"\uffff",!0,!0)},Je.prototype.startsWithIgnoreCase=function(v){return""===v?this.startsWith(v):uc(this,function(C,S){return 0===C.indexOf(S[0])},[v],"\uffff")},Je.prototype.equalsIgnoreCase=function(v){return uc(this,function(C,S){return C===S[0]},[v],"")},Je.prototype.anyOfIgnoreCase=function(){var v=tn.apply(un,arguments);return 0===v.length?io(this):uc(this,function(C,S){return-1!==S.indexOf(C)},v,"")},Je.prototype.startsWithAnyOfIgnoreCase=function(){var v=tn.apply(un,arguments);return 0===v.length?io(this):uc(this,function(C,S){return S.some(function(N){return 0===C.indexOf(N)})},v,"\uffff")},Je.prototype.anyOf=function(){var v=this,C=tn.apply(un,arguments),S=this._cmp;try{C.sort(S)}catch{return mo(this,fr)}if(0===C.length)return io(this);var N=new this.Collection(this,function(){return ys(C[0],C[C.length-1])});N._ondirectionchange=function(H){C.sort(S="next"===H?v._ascending:v._descending)};var V=0;return N._addAlgorithm(function(H,ee,ye){for(var $e=H.key;0<S($e,C[V]);)if(++V===C.length)return ee(ye),!1;return 0===S($e,C[V])||(ee(function(){H.continue(C[V])}),!1)}),N},Je.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Je.prototype.noneOf=function(){var v=tn.apply(un,arguments);if(0===v.length)return new this.Collection(this);try{v.sort(this._ascending)}catch{return mo(this,fr)}var C=v.reduce(function(S,N){return S?S.concat([[S[S.length-1][1],N]]):[[-1/0,N]]},null);return C.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(C,{includeLowers:!1,includeUppers:!1})},Je.prototype.inAnyRange=function(ft,C){var S=this,N=this._cmp,V=this._ascending,H=this._descending,ee=this._min,ye=this._max;if(0===ft.length)return io(this);if(!ft.every(function(qe){return void 0!==qe[0]&&void 0!==qe[1]&&V(qe[0],qe[1])<=0}))return mo(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);var tt,$e=!C||!1!==C.includeLowers,Pe=C&&!0===C.includeUppers,Se=V;function nt(qe,it){return Se(qe[0],it[0])}try{(tt=ft.reduce(function(qe,it){for(var Et=0,Ft=qe.length;Et<Ft;++Et){var St=qe[Et];if(N(it[0],St[1])<0&&0<N(it[1],St[0])){St[0]=ee(St[0],it[0]),St[1]=ye(St[1],it[1]);break}}return Et===Ft&&qe.push(it),qe},[])).sort(nt)}catch{return mo(this,fr)}var Le=0,Xe=Pe?function(qe){return 0<V(qe,tt[Le][1])}:function(qe){return 0<=V(qe,tt[Le][1])},Ye=$e?function(qe){return 0<H(qe,tt[Le][0])}:function(qe){return 0<=H(qe,tt[Le][0])},He=Xe;return(ft=new this.Collection(this,function(){return ys(tt[0][0],tt[tt.length-1][1],!$e,!Pe)}))._ondirectionchange=function(qe){Se="next"===qe?(He=Xe,V):(He=Ye,H),tt.sort(nt)},ft._addAlgorithm(function(qe,it,Et){for(var Ft,St=qe.key;He(St);)if(++Le===tt.length)return it(Et),!1;return!Xe(Ft=St)&&!Ye(Ft)||(0===S._cmp(St,tt[Le][1])||0===S._cmp(St,tt[Le][0])||it(function(){qe.continue(Se===V?tt[Le][0]:tt[Le][1])}),!1)}),ft},Je.prototype.startsWithAnyOf=function(){var v=tn.apply(un,arguments);return v.every(function(C){return"string"==typeof C})?0===v.length?io(this):this.inAnyRange(v.map(function(C){return[C,C+"\uffff"]})):mo(this,"startsWithAnyOf() only works with strings")},Je);function Je(){}function dt(v){return yn(function(C){return Nt(C),v(C.target.error),!1})}function Nt(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var Dn="storagemutated",Ln="x-storagemutated-1",Xn=vs(null,Dn),pi=($i.prototype._lock=function(){return Oe(!jt.global),++this._reculock,1!==this._reculock||jt.global||(jt.lockOwnerFor=this),this},$i.prototype._unlock=function(){if(Oe(!jt.global),0==--this._reculock)for(jt.global||(jt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{hr(v[1],v[0])}catch{}}return this},$i.prototype._locked=function(){return this._reculock&&jt.lockOwnerFor!==this},$i.prototype.create=function(v){var C=this;if(!this.mode)return this;var S=this.db.idbdb,N=this.db._state.dbOpenError;if(Oe(!this.idbtrans),!v&&!S)switch(N&&N.name){case"DatabaseClosedError":throw new X.DatabaseClosed(N);case"MissingAPIError":throw new X.MissingAPI(N.message,N);default:throw new X.OpenFailed(N)}if(!this.active)throw new X.TransactionInactive;return Oe(null===this._completion._state),(v=this.idbtrans=v||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=yn(function(V){Nt(V),C._reject(v.error)}),v.onabort=yn(function(V){Nt(V),C.active&&C._reject(new X.Abort(v.error)),C.active=!1,C.on("abort").fire(V)}),v.oncomplete=yn(function(){C.active=!1,C._resolve(),"mutatedParts"in v&&Xn.storagemutated.fire(v.mutatedParts)}),this},$i.prototype._promise=function(v,C,S){var N=this;if("readwrite"===v&&"readwrite"!==this.mode)return _n(new X.ReadOnly("Transaction is readonly"));if(!this.active)return _n(new X.TransactionInactive);if(this._locked())return new Ot(function(H,ee){N._blockedFuncs.push([function(){N._promise(v,C,S).then(H,ee)},jt])});if(S)return Kn(function(){var H=new Ot(function(ee,ye){N._lock();var $e=C(ee,ye,N);$e&&$e.then&&$e.then(ee,ye)});return H.finally(function(){return N._unlock()}),H._lib=!0,H});var V=new Ot(function(H,ee){var ye=C(H,ee,N);ye&&ye.then&&ye.then(H,ee)});return V._lib=!0,V},$i.prototype._root=function(){return this.parent?this.parent._root():this},$i.prototype.waitFor=function(v){var C,S=this._root(),N=Ot.resolve(v);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return N}):(S._waitingFor=N,S._waitingQueue=[],C=S.idbtrans.objectStore(S.storeNames[0]),function H(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(C.get(-1/0).onsuccess=H)}());var V=S._waitingFor;return new Ot(function(H,ee){N.then(function(ye){return S._waitingQueue.push(yn(H.bind(null,ye)))},function(ye){return S._waitingQueue.push(yn(ee.bind(null,ye)))}).finally(function(){S._waitingFor===V&&(S._waitingFor=null)})})},$i.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))},$i.prototype.table=function(v){var C=this._memoizedTables||(this._memoizedTables={});if(lt(C,v))return C[v];var S=this.schema[v];if(!S)throw new X.NotFound("Table "+v+" not part of transaction");return(S=new this.db.Table(v,S,this)).core=this.db.core.table(v),C[v]=S},$i);function $i(){}function Zi(v,C,S,N,V,H,ee){return{name:v,keyPath:C,unique:S,multi:N,auto:V,compound:H,src:(S&&!ee?"&":"")+(N?"*":"")+(V?"++":"")+Ji(C)}}function Ji(v){return"string"==typeof v?v:v?"["+[].join.call(v,"+")+"]":""}function Oo(v,C,S){return{name:v,primKey:C,indexes:S,mappedClass:null,idxByName:(N=function(V){return[V.name,V]},S.reduce(function(V,H,ee){return(ee=N(H))&&(V[ee[0]]=ee[1]),V},{}))};var N}var Ls=function(v){try{return v.only([[]]),Ls=function(){return[[]]},[[]]}catch{return Ls=function(){return"\uffff"},"\uffff"}};function po(v){return null==v?function(){}:"string"==typeof v?1===(C=v).split(".").length?function(S){return S[C]}:function(S){return Fe(S,C)}:function(S){return Fe(S,v)};var C}function Po(v){return[].slice.call(v)}var fa=0;function ma(v){return null==v?":id":"string"==typeof v?v:"[".concat(v.join("+"),"]")}function go(v,C,$e){function N(He){if(3===He.type)return null;if(4===He.type)throw new Error("Cannot convert never type to IDBKeyRange");var Le=He.lower,Xe=He.upper,Ye=He.lowerOpen;return He=He.upperOpen,void 0===Le?void 0===Xe?null:C.upperBound(Xe,!!He):void 0===Xe?C.lowerBound(Le,!!Ye):C.bound(Le,Xe,!!Ye,!!He)}var H,ee,ye,Pe=(ee=$e,ye=Po((H=v).objectStoreNames),tt={schema:{name:H.name,tables:ye.map(function(nt){return ee.objectStore(nt)}).map(function(nt){var Le=nt.keyPath,He=nt.autoIncrement,Xe=ae(Le),Ye={};return He={name:nt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==Le,compound:Xe,keyPath:Le,autoIncrement:He,unique:!0,extractKey:po(Le)},indexes:Po(nt.indexNames).map(function(ft){return nt.index(ft)}).map(function(Et){var it=Et.unique,Ft=Et.multiEntry;return Ft={name:Et.name,compound:ae(Et=Et.keyPath),keyPath:Et,unique:it,multiEntry:Ft,extractKey:po(Et)},Ye[ma(Et)]=Ft}),getIndexByKeyPath:function(ft){return Ye[ma(ft)]}},Ye[":id"]=He.primaryKey,null!=Le&&(Ye[ma(Le)]=He.primaryKey),He})},hasGetAll:0<ye.length&&"getAll"in ee.objectStore(ye[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,tt=($e=tt.schema).tables.map(function V(nt){var Le,Xe=nt.name;return{name:Xe,schema:nt,mutate:function(Ye){var He=Ye.trans,ft=Ye.type,qe=Ye.keys,it=Ye.values,Et=Ye.range;return new Promise(function(Ft,St){Ft=yn(Ft);var Vt=He.objectStore(Xe),Kt=null==Vt.keyPath,Xt="put"===ft||"add"===ft;if(!Xt&&"delete"!==ft&&"deleteRange"!==ft)throw new Error("Invalid operation type: "+ft);var yt,Sn=(qe||it||{length:1}).length;if(qe&&it&&qe.length!==it.length)throw new Error("Given keys array must have same length as given values array.");if(0===Sn)return Ft({numFailures:0,failures:{},results:[],lastResult:void 0});function kn($r){++ya,Nt($r)}var En=[],Vn=[],ya=0;if("deleteRange"===ft){if(4===Et.type)return Ft({numFailures:ya,failures:Vn,results:[],lastResult:void 0});En.push(yt=3===Et.type?Vt.clear():Vt.delete(N(Et)))}else{var jn=(Kt=Xt?Kt?[it,qe]:[it,null]:[qe,null])[0],mr=Kt[1];if(Xt)for(var sr=0;sr<Sn;++sr)En.push(yt=mr&&void 0!==mr[sr]?Vt[ft](jn[sr],mr[sr]):Vt[ft](jn[sr])),yt.onerror=kn;else for(sr=0;sr<Sn;++sr)En.push(yt=Vt[ft](jn[sr])),yt.onerror=kn}function Ga($r){$r=$r.target.result,En.forEach(function(Us,fc){return null!=Us.error&&(Vn[fc]=Us.error)}),Ft({numFailures:ya,failures:Vn,results:"delete"===ft?qe:En.map(function(Us){return Us.result}),lastResult:$r})}yt.onerror=function($r){kn($r),Ga($r)},yt.onsuccess=Ga})},getMany:function(Ye){var He=Ye.trans,ft=Ye.keys;return new Promise(function(qe,it){qe=yn(qe);for(var Et,Ft=He.objectStore(Xe),St=ft.length,Vt=new Array(St),Kt=0,Xt=0,yt=function(En){Vt[(En=En.target)._pos]=En.result,++Xt===Kt&&qe(Vt)},Sn=dt(it),kn=0;kn<St;++kn)null!=ft[kn]&&((Et=Ft.get(ft[kn]))._pos=kn,Et.onsuccess=yt,Et.onerror=Sn,++Kt);0===Kt&&qe(Vt)})},get:function(Ye){var He=Ye.trans,ft=Ye.key;return new Promise(function(qe,it){qe=yn(qe);var Et=He.objectStore(Xe).get(ft);Et.onsuccess=function(Ft){return qe(Ft.target.result)},Et.onerror=dt(it)})},query:(Le=Pe,function(Ye){return new Promise(function(He,ft){He=yn(He);var qe,it,Et,Ft=Ye.values,St=Ye.limit,Vt=St===1/0?void 0:St,Xt=(yt=Ye.query).index,yt=yt.range,Kt=(Kt=Ye.trans).objectStore(Xe);if(Xt=Xt.isPrimaryKey?Kt:Kt.index(Xt.name),yt=N(yt),0===St)return He({result:[]});Le?((Vt=Ft?Xt.getAll(yt,Vt):Xt.getAllKeys(yt,Vt)).onsuccess=function(Sn){return He({result:Sn.target.result})},Vt.onerror=dt(ft)):(qe=0,it=!Ft&&"openKeyCursor"in Xt?Xt.openKeyCursor(yt):Xt.openCursor(yt),Et=[],it.onsuccess=function(Sn){var kn=it.result;return kn?(Et.push(Ft?kn.value:kn.primaryKey),++qe===St?He({result:Et}):void kn.continue()):He({result:Et})},it.onerror=dt(ft))})}),openCursor:function(Ye){var He=Ye.trans,ft=Ye.values,qe=Ye.query,it=Ye.reverse,Et=Ye.unique;return new Promise(function(Ft,St){Ft=yn(Ft);var Xt=qe.index,Vt=qe.range,Kt=He.objectStore(Xe),yt=(Kt=Xt.isPrimaryKey?Kt:Kt.index(Xt.name),Xt=it?Et?"prevunique":"prev":Et?"nextunique":"next",!ft&&"openKeyCursor"in Kt?Kt.openKeyCursor(N(Vt),Xt):Kt.openCursor(N(Vt),Xt));yt.onerror=dt(St),yt.onsuccess=yn(function(Sn){var kn,En,Vn,ya,jn=yt.result;jn?(jn.___id=++fa,jn.done=!1,kn=jn.continue.bind(jn),En=(En=jn.continuePrimaryKey)&&En.bind(jn),Vn=jn.advance.bind(jn),ya=function(){throw new Error("Cursor not stopped")},jn.trans=He,jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=function(){throw new Error("Cursor not started")},jn.fail=yn(St),jn.next=function(){var mr=this,sr=1;return this.start(function(){return sr--?mr.continue():mr.stop()}).then(function(){return mr})},jn.start=function(mr){function sr(){if(yt.result)try{mr()}catch($r){jn.fail($r)}else jn.done=!0,jn.start=function(){throw new Error("Cursor behind last entry")},jn.stop()}var Ga=new Promise(function($r,Us){$r=yn($r),yt.onerror=dt(Us),jn.fail=Us,jn.stop=function(fc){jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=ya,$r(fc)}});return yt.onsuccess=yn(function($r){yt.onsuccess=sr,sr()}),jn.continue=kn,jn.continuePrimaryKey=En,jn.advance=Vn,sr(),Ga},Ft(jn)):Ft(null)},St)})},count:function(Ye){var He=Ye.query,ft=Ye.trans,qe=He.index,it=He.range;return new Promise(function(Et,Ft){var St=ft.objectStore(Xe),Vt=qe.isPrimaryKey?St:St.index(qe.name);(Vt=(St=N(it))?Vt.count(St):Vt.count()).onsuccess=yn(function(Kt){return Et(Kt.target.result)}),Vt.onerror=dt(Ft)})}}}),Se={};return tt.forEach(function(nt){return Se[nt.name]=nt}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(nt){if(!Se[nt])throw new Error("Table '".concat(nt,"' not found"));return Se[nt]},MIN_KEY:-1/0,MAX_KEY:Ls(C),schema:$e}}function Kc(v,N){N=function dc(v,C,S,N){return{dbcore:(N=go(C,S.IDBKeyRange,N),v.dbcore.reduce(function(H,ee){return ee=ee.create,k(k({},H),ee(H))},N))}}(v._middlewares,N.db,v._deps,N),v.core=N.dbcore,v.tables.forEach(function(V){var H=V.name;v.core.schema.tables.some(function(ee){return ee.name===H})&&(V.core=v.core.table(H),v[H]instanceof v.Table&&(v[H].core=V.core))})}function Pl(v,C,S,N){S.forEach(function(V){var H=N[V];C.forEach(function(ee){var ye=function $e(Pe,tt){return Ne(Pe,tt)||(Pe=a(Pe))&&$e(Pe,tt)}(ee,V);(!ye||"value"in ye&&void 0===ye.value)&&(ee===v.Transaction.prototype||ee instanceof v.Transaction?Y(ee,V,{get:function(){return this.table(V)},set:function($e){Ue(this,V,{value:$e,writable:!0,configurable:!0,enumerable:!0})}}):ee[V]=new v.Table(V,H))})})}function qc(v,C){C.forEach(function(S){for(var N in S)S[N]instanceof v.Table&&delete S[N]})}function xu(v,C){return v._cfg.version-C._cfg.version}function Qt(v,C){var S,N={del:[],add:[],change:[]};for(S in v)C[S]||N.del.push(S);for(S in C){var V=v[S],H=C[S];if(V){var ee={name:S,def:H,recreate:!1,del:[],add:[],change:[]};if(""+(V.primKey.keyPath||"")!=""+(H.primKey.keyPath||"")||V.primKey.auto!==H.primKey.auto)ee.recreate=!0,N.change.push(ee);else{var ye=V.idxByName,$e=H.idxByName,Pe=void 0;for(Pe in ye)$e[Pe]||ee.del.push(Pe);for(Pe in $e){var tt=ye[Pe],Se=$e[Pe];tt?tt.src!==Se.src&&ee.change.push(Se):ee.add.push(Se)}(0<ee.del.length||0<ee.add.length||0<ee.change.length)&&N.change.push(ee)}}else N.add.push([S,H])}return N}function pa(v,C,S,N){var V=v.db.createObjectStore(C,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return N.forEach(function(H){return Xc(V,H)}),V}function Ua(v,C){pe(v).forEach(function(S){C.db.objectStoreNames.contains(S)||(Ht&&console.debug("Dexie: Creating missing table",S),pa(C,S,v[S].primKey,v[S].indexes))})}function Xc(v,C){v.createIndex(C.name,C.keyPath,{unique:C.unique,multiEntry:C.multi})}function Au(v,C,S){var N={};return Ge(C.objectStoreNames,0).forEach(function(V){for(var H=S.objectStore(V),ee=Zi(Ji(Pe=H.keyPath),Pe||"",!0,!1,!!H.autoIncrement,Pe&&"string"!=typeof Pe,!0),ye=[],$e=0;$e<H.indexNames.length;++$e){var Pe=(tt=H.index(H.indexNames[$e])).keyPath,tt=Zi(tt.name,Pe,!!tt.unique,!!tt.multiEntry,!1,Pe&&"string"!=typeof Pe,!1);ye.push(tt)}N[V]=Oo(V,ee,ye)}),N}function Su(v,C,S){for(var N=S.db.objectStoreNames,V=0;V<N.length;++V){var H=N[V],ee=S.objectStore(H);v._hasGetAll="getAll"in ee;for(var ye=0;ye<ee.indexNames.length;++ye){var $e=ee.indexNames[ye],Pe=ee.index($e).keyPath,tt="string"==typeof Pe?Pe:"["+Ge(Pe).join("+")+"]";!C[H]||(Pe=C[H].idxByName[tt])&&(Pe.name=$e,delete C[H].idxByName[tt],C[H].idxByName[$e]=Pe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ne.WorkerGlobalScope&&ne instanceof ne.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function Qc(v){return v.split(",").map(function(C,S){var N=(C=C.trim()).replace(/([&*]|\+\+)/g,""),V=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return Zi(N,V||null,/\&/.test(C),/\*/.test(C),/\+\+/.test(C),ae(V),0===S)})}var Vs=(or.prototype._parseStoresSpec=function(v,C){pe(v).forEach(function(S){if(null!==v[S]){var N=Qc(v[S]),V=N.shift();if(V.unique=!0,V.multi)throw new X.Schema("Primary key cannot be multi-valued");N.forEach(function(H){if(H.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!H.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")}),C[S]=Oo(S,V,N)}})},or.prototype.stores=function(S){var C=this.db;this._cfg.storesSource=this._cfg.storesSource?A(this._cfg.storesSource,S):S;var N={},V={};return(S=C._versions).forEach(function(H){A(N,H._cfg.storesSource),V=H._cfg.dbschema={},H._parseStoresSpec(N,V)}),C._dbSchema=V,qc(C,[C._allTables,C,C.Transaction.prototype]),Pl(C,[C._allTables,C,C.Transaction.prototype,this._cfg.tables],pe(V),V),C._storeNames=pe(V),this},or.prototype.upgrade=function(v){return this._cfg.contentUpgrade=ln(this._cfg.contentUpgrade||ce,v),this},or);function or(){}function ja(v,C){var S=v._dbNamesDB;return S||(S=v._dbNamesDB=new _a(Er,{addons:[],indexedDB:v,IDBKeyRange:C})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function ga(v){return v&&"function"==typeof v.databases}function Mu(v){return Kn(function(){return jt.letThrough=!0,v()})}function Nl(v){return!("from"in v)}var Ii=function(v,C){if(!this){var S=new Ii;return v&&"d"in v&&A(S,v),S}A(this,arguments.length?{d:1,from:v,to:1<arguments.length?C:v}:{d:0})};function Ru(v,C,S){var N=zn(C,S);if(!isNaN(N)){if(0<N)throw RangeError();if(Nl(v))return A(v,{from:C,to:S,d:1});var V=v.l;if(N=v.r,zn(S,v.from)<0)return V?Ru(V,C,S):v.l={from:C,to:S,d:1,l:null,r:null},si(v);if(0<zn(C,v.to))return N?Ru(N,C,S):v.r={from:C,to:S,d:1,l:null,r:null},si(v);zn(C,v.from)<0&&(v.from=C,v.l=null,v.d=N?N.d+1:1),0<zn(S,v.to)&&(v.to=S,v.r=null,v.d=v.l?v.l.d+1:1),S=!v.r,V&&!v.l&&Ri(v,V),N&&S&&Ri(v,N)}}function Ri(v,C){Nl(C)||function S(N,$e){var H=$e.from,ee=$e.to,ye=$e.l;$e=$e.r,Ru(N,H,ee),ye&&S(N,ye),$e&&S(N,$e)}(v,C)}function th(v,C){var S=nh(C),N=S.next();if(N.done)return!1;for(var V=N.value,H=nh(v),ee=H.next(V.from),ye=ee.value;!N.done&&!ee.done;){if(zn(ye.from,V.to)<=0&&0<=zn(ye.to,V.from))return!0;zn(V.from,ye.from)<0?V=(N=S.next(ye.from)).value:ye=(ee=H.next(V.from)).value}return!1}function nh(v){var C=Nl(v)?null:{s:0,n:v};return{next:function(S){for(var N=0<arguments.length;C;)switch(C.s){case 0:if(C.s=1,N)for(;C.n.l&&zn(S,C.n.from)<0;)C={up:C,n:C.n.l,s:1};else for(;C.n.l;)C={up:C,n:C.n.l,s:1};case 1:if(C.s=2,!N||zn(S,C.n.to)<=0)return{value:C.n,done:!1};case 2:if(C.n.r){C.s=3,C={up:C,n:C.n.r,s:0};continue}case 3:C=C.up}return{done:!0}}}}function si(v){var C,S,N=((null===(C=v.r)||void 0===C?void 0:C.d)||0)-((null===(S=v.l)||void 0===S?void 0:S.d)||0),V=1<N?"r":N<-1?"l":"";V&&(C="r"==V?"l":"r",S=k({},v),v.from=(N=v[V]).from,v.to=N.to,v[V]=N[V],S[V]=N[C],(v[C]=S).d=fm(S)),v.d=fm(v)}function fm(S){var C=S.r;return S=S.l,(C?S?Math.max(C.d,S.d):C.d:S?S.d:0)+1}function qi(v,C){return pe(C).forEach(function(S){v[S]?Ri(v[S],C[S]):v[S]=function N(V){var H,ee,ye={};for(H in V)lt(V,H)&&(ye[H]=!(ee=V[H])||"object"!=typeof ee||st.has(ee.constructor)?ee:N(ee));return ye}(C[S])}),v}function Fl(v,C){return v.all||C.all||Object.keys(v).some(function(S){return C[S]&&th(C[S],v[S])})}Be(Ii.prototype,((so={add:function(v){return Ri(this,v),this},addKey:function(v){return Ru(this,v,v),this},addKeys:function(v){var C=this;return v.forEach(function(S){return Ru(C,S,S)}),this},hasKey:function(v){var C=nh(this).next(v).value;return C&&zn(C.from,v)<=0&&0<=zn(C.to,v)}})[pt]=function(){return nh(this)},so));var Yc={},ih={},Zc=!1;function bn(v){qi(ih,v),Zc||(Zc=!0,setTimeout(function(){Zc=!1,Jc(ih,!(ih={}))},0))}function Jc(v,C){void 0===C&&(C=!1);var S=new Set;if(v.all)for(var N=0,V=Object.values(Yc);N<V.length;N++)_o(ee=V[N],v,S,C);else for(var H in v){var ee,ye=/^idb\:\/\/(.*)\/(.*)\//.exec(H);ye&&(H=ye[1],ye=ye[2],(ee=Yc["idb://".concat(H,"/").concat(ye)])&&_o(ee,v,S,C))}S.forEach(function($e){return $e()})}function _o(v,C,S,N){for(var V=[],H=0,ee=Object.entries(v.queries.query);H<ee.length;H++){for(var ye=ee[H],$e=ye[0],Pe=[],tt=0,Se=ye[1];tt<Se.length;tt++){var nt=Se[tt];Fl(C,nt.obsSet)?nt.subscribers.forEach(function(He){return S.add(He)}):N&&Pe.push(nt)}N&&V.push([$e,Pe])}if(N)for(var Le=0,Xe=V;Le<Xe.length;Le++){var Ye=Xe[Le];v.queries.query[$e=Ye[0]]=Pe=Ye[1]}}function Xg(v){var C=v._state,S=v._deps.indexedDB;if(C.isBeingOpened||v.idbdb)return C.dbReadyPromise.then(function(){return C.dbOpenError?_n(C.dbOpenError):v});C.isBeingOpened=!0,C.dbOpenError=null,C.openComplete=!1;var N=C.openCanceller,V=Math.round(10*v.verno),H=!1;function ee(){if(C.openCanceller!==N)throw new X.DatabaseClosed("db.open() was cancelled")}var $e,Pe=C.dbReadyResolve,tt=null,Se=!1;return Ot.race([N,(typeof navigator>"u"?Ot.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(nt){function Le(){return indexedDB.databases().finally(nt)}$e=setInterval(Le,100),Le()}).finally(function(){return clearInterval($e)}):Promise.resolve()).then(function ye(){return new Ot(function(nt,Le){if(ee(),!S)throw new X.MissingAPI;var Xe=v.name,Ye=C.autoSchema||!V?S.open(Xe):S.open(Xe,V);if(!Ye)throw new X.MissingAPI;Ye.onerror=dt(Le),Ye.onblocked=yn(v._fireOnBlocked),Ye.onupgradeneeded=yn(function(He){var ft;tt=Ye.transaction,C.autoSchema&&!v._options.allowEmptyDB?(Ye.onerror=Nt,tt.abort(),Ye.result.close(),(ft=S.deleteDatabase(Xe)).onsuccess=ft.onerror=yn(function(){Le(new X.NoSuchDatabase("Database ".concat(Xe," doesnt exist")))})):(tt.onerror=dt(Le),He=He.oldVersion>Math.pow(2,62)?0:He.oldVersion,Se=He<1,v.idbdb=Ye.result,H&&function eh(v,C){Ua(v._dbSchema,C),C.db.version%10!=0||C.objectStoreNames.contains("$meta")||C.db.createObjectStore("$meta").add(Math.ceil(C.db.version/10-1),"version");var S=Au(0,v.idbdb,C);Su(v,v._dbSchema,C);for(var N=0,V=Qt(S,v._dbSchema).change;N<V.length;N++){var H=function(ee){if(ee.change.length||ee.recreate)return console.warn("Unable to patch indexes of table ".concat(ee.name," because it has changes on the type of index or primary key.")),{value:void 0};var ye=C.objectStore(ee.name);ee.add.forEach(function($e){Ht&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ee.name,".").concat($e.src)),Xc(ye,$e)})}(V[N]);if("object"==typeof H)return H.value}}(v,tt),function hm(v,C,S,N){var V=v._dbSchema;S.objectStoreNames.contains("$meta")&&!V.$meta&&(V.$meta=Oo("$meta",Qc("")[0],[]),v._storeNames.push("$meta"));var H=v._createTransaction("readwrite",v._storeNames,V);H.create(S),H._completion.catch(N);var ee=H._reject.bind(H),ye=jt.transless||jt;Kn(function(){return jt.trans=H,jt.transless=ye,0!==C?(Kc(v,S),Pe=C,(($e=H).storeNames.includes("$meta")?$e.table("$meta").get("version").then(function(tt){return tt??Pe}):Ot.resolve(Pe)).then(function(tt){return nt=tt,Le=H,Ye=[],tt=(Se=v)._versions,He=Se._dbSchema=Au(0,Se.idbdb,Xe=S),0!==(tt=tt.filter(function(ft){return ft._cfg.version>=nt})).length?(tt.forEach(function(ft){Ye.push(function(){var qe=He,it=ft._cfg.dbschema;Su(Se,qe,Xe),Su(Se,it,Xe),He=Se._dbSchema=it;var Et=Qt(qe,it);Et.add.forEach(function(Xt){pa(Xe,Xt[0],Xt[1].primKey,Xt[1].indexes)}),Et.change.forEach(function(Xt){if(Xt.recreate)throw new X.Upgrade("Not yet support for changing primary key");var yt=Xe.objectStore(Xt.name);Xt.add.forEach(function(Sn){return Xc(yt,Sn)}),Xt.change.forEach(function(Sn){yt.deleteIndex(Sn.name),Xc(yt,Sn)}),Xt.del.forEach(function(Sn){return yt.deleteIndex(Sn)})});var Ft=ft._cfg.contentUpgrade;if(Ft&&ft._cfg.version>nt){Kc(Se,Xe),Le._memoizedTables={};var St=xe(it);Et.del.forEach(function(Xt){St[Xt]=qe[Xt]}),qc(Se,[Se.Transaction.prototype]),Pl(Se,[Se.Transaction.prototype],pe(St),St),Le.schema=St;var Vt,Kt=mn(Ft);return Kt&&Ko(),Et=Ot.follow(function(){var Xt;(Vt=Ft(Le))&&Kt&&(Xt=Or.bind(null,null),Vt.then(Xt,Xt))}),Vt&&"function"==typeof Vt.then?Ot.resolve(Vt):Et.then(function(){return Vt})}}),Ye.push(function(qe){var it,Et;it=ft._cfg.dbschema,[].slice.call((Et=qe).db.objectStoreNames).forEach(function(St){return null==it[St]&&Et.db.deleteObjectStore(St)}),qc(Se,[Se.Transaction.prototype]),Pl(Se,[Se.Transaction.prototype],Se._storeNames,Se._dbSchema),Le.schema=Se._dbSchema}),Ye.push(function(qe){Se.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Se.idbdb.version/10)===ft._cfg.version?(Se.idbdb.deleteObjectStore("$meta"),delete Se._dbSchema.$meta,Se._storeNames=Se._storeNames.filter(function(it){return"$meta"!==it})):qe.objectStore("$meta").put(ft._cfg.version,"version"))})}),function ft(){return Ye.length?Ot.resolve(Ye.shift()(Le.idbtrans)).then(ft):Ot.resolve()}().then(function(){Ua(He,Xe)})):Ot.resolve();var Se,nt,Le,Xe,Ye,He}).catch(ee)):(pe(V).forEach(function(tt){pa(S,tt,V[tt].primKey,V[tt].indexes)}),Kc(v,S),void Ot.follow(function(){return v.on.populate.fire(H)}).catch(ee));var $e,Pe})}(v,He/10,tt,Le))},Le),Ye.onsuccess=yn(function(){tt=null;var He,ft,qe,it,Et,Ft=v.idbdb=Ye.result,St=Ge(Ft.objectStoreNames);if(0<St.length)try{var Vt=Ft.transaction(1===(it=St).length?it[0]:it,"readonly");if(C.autoSchema)qe=Vt,(He=v).verno=(ft=Ft).version/10,qe=He._dbSchema=Au(0,ft,qe),He._storeNames=Ge(ft.objectStoreNames,0),Pl(He,[He._allTables],pe(qe),qe);else if(Su(v,v._dbSchema,Vt),((Et=Qt(Au(0,(Et=v).idbdb,Vt),Et._dbSchema)).add.length||Et.change.some(function(Kt){return Kt.add.length||Kt.change.length}))&&!H)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ft.close(),V=Ft.version+1,H=!0,nt(ye());Kc(v,Vt)}catch{}Ns.push(v),Ft.onversionchange=yn(function(Kt){C.vcFired=!0,v.on("versionchange").fire(Kt)}),Ft.onclose=yn(function(Kt){v.on("close").fire(Kt)}),Se&&(Vt=Xe,Ft=(Et=v._deps).indexedDB,Et=Et.IDBKeyRange,ga(Ft)||Vt===Er||ja(Ft,Et).put({name:Vt}).catch(ce)),nt()},Le)}).catch(function(nt){switch(nt?.name){case"UnknownError":if(0<C.PR1398_maxLoop)return C.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ye();break;case"VersionError":if(0<V)return V=0,ye()}return Ot.reject(nt)})})]).then(function(){return ee(),C.onReadyBeingFired=[],Ot.resolve(Mu(function(){return v.on.ready.fire(v.vip)})).then(function nt(){if(0<C.onReadyBeingFired.length){var Le=C.onReadyBeingFired.reduce(ln,ce);return C.onReadyBeingFired=[],Ot.resolve(Mu(function(){return Le(v.vip)})).then(nt)}})}).finally(function(){C.openCanceller===N&&(C.onReadyBeingFired=null,C.isBeingOpened=!1)}).catch(function(nt){C.dbOpenError=nt;try{tt&&tt.abort()}catch{}return N===C.openCanceller&&v._close(),_n(nt)}).finally(function(){C.openComplete=!0,Pe()}).then(function(){var nt;return Se&&(nt={},v.tables.forEach(function(Le){Le.schema.indexes.forEach(function(Xe){Xe.name&&(nt["idb://".concat(v.name,"/").concat(Le.name,"/").concat(Xe.name)]=new Ii(-1/0,[[[]]]))}),nt["idb://".concat(v.name,"/").concat(Le.name,"/")]=nt["idb://".concat(v.name,"/").concat(Le.name,"/:dels")]=new Ii(-1/0,[[[]]])}),Xn(Dn).fire(nt),Jc(nt,!0)),v})}function rh(v){function C(H){return v.next(H)}var S=V(C),N=V(function(H){return v.throw(H)});function V(H){return function($e){var ye=H($e);return $e=ye.value,ye.done?$e:$e&&"function"==typeof $e.then?$e.then(S,N):ae($e)?Promise.all($e).then(S,N):S($e)}}return V(C)()}function oh(v,C,S){for(var N=ae(v)?v.slice():[v],V=0;V<S;++V)N.push(C);return N}var $a={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return k(k({},v),{table:function(C){var S=v.table(C),N=S.schema,V={},H=[];function ee(Se,nt,Le){var Xe=ma(Se),Ye=V[Xe]=V[Xe]||[],He=null==Se?0:"string"==typeof Se?1:Se.length,ft=0<nt;return ft=k(k({},Le),{name:ft?"".concat(Xe,"(virtual-from:").concat(Le.name,")"):Le.name,lowLevelIndex:Le,isVirtual:ft,keyTail:nt,keyLength:He,extractKey:po(Se),unique:!ft&&Le.unique}),Ye.push(ft),ft.isPrimaryKey||H.push(ft),1<He&&ee(2===He?Se[0]:Se.slice(0,He-1),nt+1,Le),Ye.sort(function(qe,it){return qe.keyTail-it.keyTail}),ft}C=ee(N.primaryKey.keyPath,0,N.primaryKey),V[":id"]=[C];for(var ye=0,$e=N.indexes;ye<$e.length;ye++){var Pe=$e[ye];ee(Pe.keyPath,0,Pe)}function tt(Se){var nt,Le=Se.query.index;return Le.isVirtual?k(k({},Se),{query:{index:Le.lowLevelIndex,range:(nt=Se.query.range,Le=Le.keyTail,{type:1===nt.type?2:nt.type,lower:oh(nt.lower,nt.lowerOpen?v.MAX_KEY:v.MIN_KEY,Le),lowerOpen:!0,upper:oh(nt.upper,nt.upperOpen?v.MIN_KEY:v.MAX_KEY,Le),upperOpen:!0})}}):Se}return k(k({},S),{schema:k(k({},N),{primaryKey:C,indexes:H,getIndexByKeyPath:function(Se){return(Se=V[ma(Se)])&&Se[0]}}),count:function(Se){return S.count(tt(Se))},query:function(Se){return S.query(tt(Se))},openCursor:function(Se){var nt=Se.query.index,Le=nt.keyTail,Ye=nt.keyLength;return nt.isVirtual?S.openCursor(tt(Se)).then(function(ft){return ft&&function He(ft){return Object.create(ft,{continue:{value:function(qe){null!=qe?ft.continue(oh(qe,Se.reverse?v.MAX_KEY:v.MIN_KEY,Le)):Se.unique?ft.continue(ft.key.slice(0,Ye).concat(Se.reverse?v.MIN_KEY:v.MAX_KEY,Le)):ft.continue()}},continuePrimaryKey:{value:function(qe,it){ft.continuePrimaryKey(oh(qe,v.MAX_KEY,Le),it)}},primaryKey:{get:function(){return ft.primaryKey}},key:{get:function(){var qe=ft.key;return 1===Ye?qe[0]:qe.slice(0,Ye)}},value:{get:function(){return ft.value}}})}(ft)}):S.openCursor(Se)}})}})}};function ku(v,C,S,N){return S=S||{},N=N||"",pe(v).forEach(function(V){var H,ee,ye;lt(C,V)?(ee=C[V],"object"==typeof(H=v[V])&&"object"==typeof ee&&H&&ee?(ye=Q(H))!==Q(ee)?S[N+V]=C[V]:"Object"===ye?ku(H,ee,S,N+V+"."):H!==ee&&(S[N+V]=C[V]):H!==ee&&(S[N+V]=C[V])):S[N+V]=void 0}),pe(C).forEach(function(V){lt(v,V)||(S[N+V]=C[V])}),S}function Ou(v,C){return"delete"===C.type?C.keys:C.keys||C.values.map(v.extractKey)}var eT={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return k(k({},v),{table:function(C){var S=v.table(C),N=S.schema.primaryKey;return k(k({},S),{mutate:function(V){var H=jt.trans,ee=H.table(C).hook,ye=ee.deleting,$e=ee.creating,Pe=ee.updating;switch(V.type){case"add":if($e.fire===ce)break;return H._promise("readwrite",function(){return tt(V)},!0);case"put":if($e.fire===ce&&Pe.fire===ce)break;return H._promise("readwrite",function(){return tt(V)},!0);case"delete":if(ye.fire===ce)break;return H._promise("readwrite",function(){return tt(V)},!0);case"deleteRange":if(ye.fire===ce)break;return H._promise("readwrite",function(){return function Se(nt,Le,Xe){return S.query({trans:nt,values:!1,query:{index:N,range:Le},limit:Xe}).then(function(Ye){var He=Ye.result;return tt({type:"delete",keys:He,trans:nt}).then(function(ft){return 0<ft.numFailures?Promise.reject(ft.failures[0]):He.length<Xe?{failures:[],numFailures:0,lastResult:void 0}:Se(nt,k(k({},Le),{lower:He[He.length-1],lowerOpen:!0}),Xe)})})}(V.trans,V.range,1e4)},!0)}return S.mutate(V);function tt(Se){var nt,Le,Xe,Ye=jt.trans,He=Se.keys||Ou(N,Se);if(!He)throw new Error("Keys missing");return"delete"!==(Se="add"===Se.type||"put"===Se.type?k(k({},Se),{keys:He}):k({},Se)).type&&(Se.values=J([],Se.values,!0)),Se.keys&&(Se.keys=J([],Se.keys,!0)),nt=S,Xe=He,("add"===(Le=Se).type?Promise.resolve([]):nt.getMany({trans:Le.trans,keys:Xe,cache:"immutable"})).then(function(ft){var qe=He.map(function(it,Et){var Ft,St,Vt,Kt=ft[Et],Xt={onerror:null,onsuccess:null};return"delete"===Se.type?ye.fire.call(Xt,it,Kt,Ye):"add"===Se.type||void 0===Kt?(Ft=$e.fire.call(Xt,it,Se.values[Et],Ye),null==it&&null!=Ft&&(Se.keys[Et]=it=Ft,N.outbound||Ae(Se.values[Et],N.keyPath,it))):(Ft=ku(Kt,Se.values[Et]),(St=Pe.fire.call(Xt,Ft,it,Kt,Ye))&&(Vt=Se.values[Et],Object.keys(St).forEach(function(yt){lt(Vt,yt)?Vt[yt]=St[yt]:Ae(Vt,yt,St[yt])}))),Xt});return S.mutate(Se).then(function(it){for(var Et=it.failures,Ft=it.results,St=it.numFailures,Vt=(it=it.lastResult,0);Vt<He.length;++Vt){var Kt=(Ft||He)[Vt],Xt=qe[Vt];null==Kt?Xt.onerror&&Xt.onerror(Et[Vt]):Xt.onsuccess&&Xt.onsuccess("put"===Se.type&&ft[Vt]?Se.values[Vt]:Kt)}return{failures:Et,results:Ft,numFailures:St,lastResult:it}}).catch(function(it){return qe.forEach(function(Et){return Et.onerror&&Et.onerror(it)}),Promise.reject(it)})})}}})}})}};function s0(v,C,S){try{if(!C||C.keys.length<v.length)return null;for(var N=[],V=0,H=0;V<C.keys.length&&H<v.length;++V)0===zn(C.keys[V],v[H])&&(N.push(S?_e(C.values[V]):C.values[V]),++H);return N.length===v.length?N:null}catch{return null}}var vo={stack:"dbcore",level:-1,create:function(v){return{table:function(C){var S=v.table(C);return k(k({},S),{getMany:function(N){if(!N.cache)return S.getMany(N);var V=s0(N.keys,N.trans._cache,"clone"===N.cache);return V?Ot.resolve(V):S.getMany(N).then(function(H){return N.trans._cache={keys:N.keys,values:"clone"===N.cache?_e(H):H},H})},mutate:function(N){return"add"!==N.type&&(N.trans._cache=null),S.mutate(N)}})}}}};function mm(v,C){return"readonly"===v.trans.mode&&!!v.subscr&&!v.trans.explicit&&"disabled"!==v.trans.db._options.cache&&!C.schema.primaryKey.outbound}function pm(v,C){switch(v){case"query":return C.values&&!C.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var sh={stack:"dbcore",level:0,name:"Observability",create:function(v){var C=v.schema.name,S=new Ii(v.MIN_KEY,v.MAX_KEY);return k(k({},v),{transaction:function(N,V,H){if(jt.subscr&&"readonly"!==V)throw new X.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(jt.querier));return v.transaction(N,V,H)},table:function(N){var V=v.table(N),H=V.schema,ee=H.primaryKey,Se=H.indexes,ye=ee.extractKey,$e=ee.outbound,Pe=ee.autoIncrement&&Se.filter(function(Le){return Le.compound&&Le.keyPath.includes(ee.keyPath)}),tt=k(k({},V),{mutate:function(Le){function Xe(yt){return yt="idb://".concat(C,"/").concat(N,"/").concat(yt),it[yt]||(it[yt]=new Ii)}var Ye,He,ft,qe=Le.trans,it=Le.mutatedParts||(Le.mutatedParts={}),Et=Xe(""),Ft=Xe(":dels"),St=Le.type,Vt=(Xt="deleteRange"===Le.type?[Le.range]:"delete"===Le.type?[Le.keys]:Le.values.length<50?[Ou(ee,Le).filter(function(yt){return yt}),Le.values]:[])[0],Kt=Xt[1],Xt=Le.trans._cache;return ae(Vt)?(Et.addKeys(Vt),(Xt="delete"===St||Vt.length===Kt.length?s0(Vt,Xt):null)||Ft.addKeys(Vt),(Xt||Kt)&&(Ye=Xe,He=Xt,ft=Kt,H.indexes.forEach(function(yt){var Sn=Ye(yt.name||"");function kn(Vn){return null!=Vn?yt.extractKey(Vn):null}function En(Vn){return yt.multiEntry&&ae(Vn)?Vn.forEach(function(ya){return Sn.addKey(ya)}):Sn.addKey(Vn)}(He||ft).forEach(function(Vn,mr){var jn=He&&kn(He[mr]);0!==zn(jn,mr=ft&&kn(ft[mr]))&&(null!=jn&&En(jn),null!=mr&&En(mr))})}))):Vt?(Ft.add(Kt={from:Vt.lower,to:Vt.upper}),Et.add(Kt)):(Et.add(S),Ft.add(S),H.indexes.forEach(function(yt){return Xe(yt.name).add(S)})),V.mutate(Le).then(function(yt){return!Vt||"add"!==Le.type&&"put"!==Le.type||(Et.addKeys(yt.results),Pe&&Pe.forEach(function(Sn){var kn=Le.values.map(function(Vn){return Sn.extractKey(Vn)}),En=Sn.keyPath.findIndex(function(Vn){return Vn===ee.keyPath});yt.results.forEach(function(Vn){return kn[En]=Vn}),Xe(Sn.name).addKeys(kn)})),qe.mutatedParts=qi(qe.mutatedParts||{},it),yt})}}),nt={get:function(Le){return[ee,new Ii(Le.key)]},getMany:function(Le){return[ee,(new Ii).addKeys(Le.keys)]},count:Se=function(Xe){var Ye;return[Xe=(Ye=Xe.query).index,new Ii(null!==(Xe=(Ye=Ye.range).lower)&&void 0!==Xe?Xe:v.MIN_KEY,null!==(Ye=Ye.upper)&&void 0!==Ye?Ye:v.MAX_KEY)]},query:Se,openCursor:Se};return pe(nt).forEach(function(Le){tt[Le]=function(Xe){var He=!!(Ye=jt.subscr),ft=mm(jt,V)&&pm(Le,Xe)?Xe.obsSet={}:Ye;if(He){var qe=function(Kt){return Kt="idb://".concat(C,"/").concat(N,"/").concat(Kt),ft[Kt]||(ft[Kt]=new Ii)},it=qe(""),Et=qe(":dels"),Ye=(He=(Ye=nt[Le](Xe))[0],Ye[1]);if(("query"===Le&&He.isPrimaryKey&&!Xe.values?Et:qe(He.name||"")).add(Ye),!He.isPrimaryKey){if("count"!==Le){var Ft="query"===Le&&$e&&Xe.values&&V.query(k(k({},Xe),{values:!1}));return V[Le].apply(this,arguments).then(function(Kt){if("query"===Le){if($e&&Xe.values)return Ft.then(function(kn){return it.addKeys(kn=kn.result),Kt});var Xt=Xe.values?Kt.result.map(ye):Kt.result;(Xe.values?it:Et).addKeys(Xt)}else if("openCursor"===Le){var yt=Kt,Sn=Xe.values;return yt&&Object.create(yt,{key:{get:function(){return Et.addKey(yt.primaryKey),yt.key}},primaryKey:{get:function(){var kn=yt.primaryKey;return Et.addKey(kn),kn}},value:{get:function(){return Sn&&it.addKey(yt.primaryKey),yt.value}}})}return Kt})}Et.add(S)}}return V[Le].apply(this,arguments)}}),tt}})}};function ro(v,C,S){return 0===S.numFailures?C:"deleteRange"===C.type||S.numFailures===(C.keys?C.keys.length:"values"in C&&C.values?C.values.length:1)?null:(C=k({},C),ae(C.keys)&&(C.keys=C.keys.filter(function(V,H){return!(H in S.failures)})),"values"in C&&ae(C.values)&&(C.values=C.values.filter(function(V,H){return!(H in S.failures)})),C)}function wn(v,C){return S=v,(void 0===(N=C).lower||(N.lowerOpen?0<zn(S,N.lower):0<=zn(S,N.lower)))&&(void 0===C.upper||(C.upperOpen?zn(v,C.upper)<0:zn(v,C.upper)<=0));var S,N}function Qg(v,C,nt,N,V,H){if(!nt||0===nt.length)return v;var ee=C.query.index,ye=ee.multiEntry,$e=C.query.range,Pe=N.schema.primaryKey.extractKey,tt=ee.extractKey,Se=(ee.lowLevelIndex||ee).extractKey;return(nt=nt.reduce(function(Le,Xe){var Ye=Le,He=[];if("add"===Xe.type||"put"===Xe.type)for(var ft=new Ii,qe=Xe.values.length-1;0<=qe;--qe){var it,Et=Xe.values[qe],Ft=Pe(Et);ft.hasKey(Ft)||(it=tt(Et),(ye&&ae(it)?it.some(function(Xt){return wn(Xt,$e)}):wn(it,$e))&&(ft.addKey(Ft),He.push(Et)))}switch(Xe.type){case"add":Ye=Le.concat(C.values?He:He.map(function(yt){return Pe(yt)}));break;case"put":var St=(new Ii).addKeys(Xe.values.map(function(yt){return Pe(yt)}));Ye=Le.filter(function(yt){return!St.hasKey(C.values?Pe(yt):yt)}).concat(C.values?He:He.map(function(yt){return Pe(yt)}));break;case"delete":var Vt=(new Ii).addKeys(Xe.keys);Ye=Le.filter(function(yt){return!Vt.hasKey(C.values?Pe(yt):yt)});break;case"deleteRange":var Kt=Xe.range;Ye=Le.filter(function(yt){return!wn(Pe(yt),Kt)})}return Ye},v))===v?v:(nt.sort(function(Le,Xe){return zn(Se(Le),Se(Xe))||zn(Pe(Le),Pe(Xe))}),C.limit&&C.limit<1/0&&(nt.length>C.limit?nt.length=C.limit:v.length===C.limit&&nt.length<C.limit&&(V.dirty=!0)),H?Object.freeze(nt):nt)}function Yg(v,C){return 0===zn(v.lower,C.lower)&&0===zn(v.upper,C.upper)&&!!v.lowerOpen==!!C.lowerOpen&&!!v.upperOpen==!!C.upperOpen}var ah={stack:"dbcore",level:0,name:"Cache",create:function(v){var C=v.schema.name;return k(k({},v),{transaction:function(S,N,V){var H,ee,ye=v.transaction(S,N,V);return"readwrite"===N&&(ee=(H=new AbortController).signal,ye.addEventListener("abort",(V=function($e){return function(){if(H.abort(),"readwrite"===N){for(var Pe=new Set,tt=0,Se=S;tt<Se.length;tt++){var nt=Se[tt],Le=Yc["idb://".concat(C,"/").concat(nt)];if(Le){var Xe=v.table(nt),Ye=Le.optimisticOps.filter(function(Sn){return Sn.trans===ye});if(ye._explicit&&$e&&ye.mutatedParts)for(var He=0,ft=Object.values(Le.queries.query);He<ft.length;He++)for(var qe=0,it=(St=ft[He]).slice();qe<it.length;qe++)Fl((Vt=it[qe]).obsSet,ye.mutatedParts)&&(xt(St,Vt),Vt.subscribers.forEach(function(Sn){return Pe.add(Sn)}));else if(0<Ye.length){Le.optimisticOps=Le.optimisticOps.filter(function(Sn){return Sn.trans!==ye});for(var Et=0,Ft=Object.values(Le.queries.query);Et<Ft.length;Et++)for(var St,Vt,Kt,Xt=0,yt=(St=Ft[Et]).slice();Xt<yt.length;Xt++)null!=(Vt=yt[Xt]).res&&ye.mutatedParts&&($e&&!Vt.dirty?(Kt=Object.isFrozen(Vt.res),Kt=Qg(Vt.res,Vt.req,Ye,Xe,Vt,Kt),Vt.dirty?(xt(St,Vt),Vt.subscribers.forEach(function(Sn){return Pe.add(Sn)})):Kt!==Vt.res&&(Vt.res=Kt,Vt.promise=Ot.resolve({result:Kt}))):(Vt.dirty&&xt(St,Vt),Vt.subscribers.forEach(function(Sn){return Pe.add(Sn)})))}}}Pe.forEach(function(Sn){return Sn()})}}})(!1),{signal:ee}),ye.addEventListener("error",V(!1),{signal:ee}),ye.addEventListener("complete",V(!0),{signal:ee})),ye},table:function(S){var N=v.table(S),V=N.schema.primaryKey;return k(k({},N),{mutate:function(H){var ee=jt.trans;if(V.outbound||"disabled"===ee.db._options.cache||ee.explicit)return N.mutate(H);var ye=Yc["idb://".concat(C,"/").concat(S)];return ye?(ee=N.mutate(H),"add"!==H.type&&"put"!==H.type||!(50<=H.values.length||Ou(V,H).some(function($e){return null==$e}))?(ye.optimisticOps.push(H),H.mutatedParts&&bn(H.mutatedParts),ee.then(function($e){0<$e.numFailures&&(xt(ye.optimisticOps,H),($e=ro(0,H,$e))&&ye.optimisticOps.push($e),H.mutatedParts&&bn(H.mutatedParts))}),ee.catch(function(){xt(ye.optimisticOps,H),H.mutatedParts&&bn(H.mutatedParts)})):ee.then(function($e){var Pe=ro(0,k(k({},H),{values:H.values.map(function(Le,Se){var nt;return Ae(Le=null!==(nt=V.keyPath)&&void 0!==nt&&nt.includes(".")?_e(Le):k({},Le),V.keyPath,$e.results[Se]),Le})}),$e);ye.optimisticOps.push(Pe),queueMicrotask(function(){return H.mutatedParts&&bn(H.mutatedParts)})}),ee):N.mutate(H)},query:function(H){if(!mm(jt,N)||!pm("query",H))return N.query(H);var ee="immutable"===(null===(Pe=jt.trans)||void 0===Pe?void 0:Pe.db._options.cache),ye=(Se=jt).requery,$e=Se.signal,Pe=function(Xe,Ye,He,ft){var qe=Yc["idb://".concat(Xe,"/").concat(Ye)];if(!qe)return[];if(!(Ye=qe.queries.query))return[null,!1,qe,null];var it=Ye[(ft.query?ft.query.index.name:null)||""];if(!it)return[null,!1,qe,null];var Et=it.find(function(Ft){return Ft.req.limit===ft.limit&&Ft.req.values===ft.values&&Yg(Ft.req.query.range,ft.query.range)});return Et?[Et,!0,qe,it]:[it.find(function(Ft){return("limit"in Ft.req?Ft.req.limit:1/0)>=ft.limit&&(!ft.values||Ft.req.values)&&function oo(v,C){return function(S,N,V,H){if(void 0===S)return void 0!==N?-1:0;if(void 0===N)return 1;if(0===(N=zn(S,N))){if(V&&H)return 0;if(V)return 1;if(H)return-1}return N}(v.lower,C.lower,v.lowerOpen,C.lowerOpen)<=0&&0<=function(S,N,V,H){if(void 0===S)return void 0!==N?1:0;if(void 0===N)return-1;if(0===(N=zn(S,N))){if(V&&H)return 0;if(V)return-1;if(H)return 1}return N}(v.upper,C.upper,v.upperOpen,C.upperOpen)}(Ft.req.query.range,ft.query.range)}),!1,qe,it]}(C,S,0,H),tt=Pe[0],Se=Pe[1],nt=Pe[2],Le=Pe[3];return tt&&Se?tt.obsSet=H.obsSet:(Se=N.query(H).then(function(Xe){var Ye=Xe.result;if(tt&&(tt.res=Ye),ee){for(var He=0,ft=Ye.length;He<ft;++He)Object.freeze(Ye[He]);Object.freeze(Ye)}else Xe.result=_e(Ye);return Xe}).catch(function(Xe){return Le&&tt&&xt(Le,tt),Promise.reject(Xe)}),tt={obsSet:H.obsSet,promise:Se,subscribers:new Set,type:"query",req:H,dirty:!1},Le?Le.push(tt):(Le=[tt],(nt=nt||(Yc["idb://".concat(C,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[H.query.index.name||""]=Le)),function hc(v,C,S,N){v.subscribers.add(S),N.addEventListener("abort",function(){var V,H;v.subscribers.delete(S),0===v.subscribers.size&&(V=v,H=C,setTimeout(function(){0===V.subscribers.size&&xt(H,V)},3e3))})}(tt,Le,ye,$e),tt.promise.then(function(Xe){return{result:Qg(Xe.result,H,nt?.optimisticOps,N,tt,ee)}})}})}})}};function qn(v,C){return new Proxy(v,{get:function(S,N,V){return"db"===N?C:Reflect.get(S,N,V)}})}var _a=(li.prototype.version=function(v){if(isNaN(v)||v<.1)throw new X.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var C=this._versions,S=C.filter(function(N){return N._cfg.version===v})[0];return S||(S=new this.Version(v),C.push(S),C.sort(xu),S.stores({}),this._state.autoSchema=!1,S)},li.prototype._whenReady=function(v){var C=this;return this.idbdb&&(this._state.openComplete||jt.letThrough||this._vip)?v():new Ot(function(S,N){if(C._state.openComplete)return N(new X.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return void N(new X.DatabaseClosed);C.open().catch(ce)}C._state.dbReadyPromise.then(S,N)}).then(v)},li.prototype.use=function(v){var C=v.stack,S=v.create,N=v.level,V=v.name;return V&&this.unuse({stack:C,name:V}),(v=this._middlewares[C]||(this._middlewares[C]=[])).push({stack:C,create:S,level:N??10,name:V}),v.sort(function(H,ee){return H.level-ee.level}),this},li.prototype.unuse=function(v){var C=v.stack,S=v.name,N=v.create;return C&&this._middlewares[C]&&(this._middlewares[C]=this._middlewares[C].filter(function(V){return N?V.create!==N:!!S&&V.name!==S})),this},li.prototype.open=function(){var v=this;return hr(ri,function(){return Xg(v)})},li.prototype._close=function(){var v=this._state,C=Ns.indexOf(this);if(0<=C&&Ns.splice(C,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new Ot(function(S){v.dbReadyResolve=S}),v.openCanceller=new Ot(function(S,N){v.cancelOpen=N}))},li.prototype.close=function(S){var C=(void 0===S?{disableAutoOpen:!0}:S).disableAutoOpen;S=this._state,C?(S.isBeingOpened&&S.cancelOpen(new X.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new X.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},li.prototype.delete=function(v){var C=this;void 0===v&&(v={disableAutoOpen:!0});var S=0<arguments.length&&"object"!=typeof arguments[0],N=this._state;return new Ot(function(V,H){function ee(){C.close(v);var ye=C._deps.indexedDB.deleteDatabase(C.name);ye.onsuccess=yn(function(){var $e,Pe,tt;Pe=C.name,tt=($e=C._deps).indexedDB,$e=$e.IDBKeyRange,ga(tt)||Pe===Er||ja(tt,$e).delete(Pe).catch(ce),V()}),ye.onerror=dt(H),ye.onblocked=C._fireOnBlocked}if(S)throw new X.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then(ee):ee()})},li.prototype.backendDB=function(){return this.idbdb},li.prototype.isOpen=function(){return null!==this.idbdb},li.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&"DatabaseClosed"===v.name},li.prototype.hasFailed=function(){return null!==this._state.dbOpenError},li.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(li.prototype,"tables",{get:function(){var v=this;return pe(this._allTables).map(function(C){return v._allTables[C]})},enumerable:!1,configurable:!0}),li.prototype.transaction=function(){var v=function(C,S,N){var V=arguments.length;if(V<2)throw new X.InvalidArgument("Too few arguments");for(var H=new Array(V-1);--V;)H[V-1]=arguments[V];return N=H.pop(),[C,Ie(H),N]}.apply(this,arguments);return this._transaction.apply(this,v)},li.prototype._transaction=function(v,C,S){var N=this,V=jt.trans;V&&V.db===this&&-1===v.indexOf("!")||(V=null);var H,ee,ye=-1!==v.indexOf("?");v=v.replace("!","").replace("?","");try{if(ee=C.map(function(Pe){if("string"!=typeof(Pe=Pe instanceof N.Table?Pe.name:Pe))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Pe}),"r"==v||v===ac)H=ac;else{if("rw"!=v&&v!=ji)throw new X.InvalidArgument("Invalid transaction mode: "+v);H=ji}if(V){if(V.mode===ac&&H===ji){if(!ye)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");V=null}V&&ee.forEach(function(Pe){if(V&&-1===V.storeNames.indexOf(Pe)){if(!ye)throw new X.SubTransaction("Table "+Pe+" not included in parent transaction.");V=null}}),ye&&V&&!V.active&&(V=null)}}catch(Pe){return V?V._promise(null,function(tt,Se){Se(Pe)}):_n(Pe)}var $e=function Pe(tt,Se,nt,Le,Xe){return Ot.resolve().then(function(){var Ye=jt.transless||jt,He=tt._createTransaction(Se,nt,tt._dbSchema,Le);if(He.explicit=!0,Ye={trans:He,transless:Ye},Le)He.idbtrans=Le.idbtrans;else try{He.create(),He.idbtrans._explicit=!0,tt._state.PR1398_maxLoop=3}catch(it){return it.name===B.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return Pe(tt,Se,nt,null,Xe)})):_n(it)}var ft,qe=mn(Xe);return qe&&Ko(),Ye=Ot.follow(function(){var it;(ft=Xe.call(He,He))&&(qe?(it=Or.bind(null,null),ft.then(it,it)):"function"==typeof ft.next&&"function"==typeof ft.throw&&(ft=rh(ft)))},Ye),(ft&&"function"==typeof ft.then?Ot.resolve(ft).then(function(it){return He.active?it:_n(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ye.then(function(){return ft})).then(function(it){return Le&&He._resolve(),He._completion.then(function(){return it})}).catch(function(it){return He._reject(it),_n(it)})})}.bind(null,this,H,ee,V,S);return V?V._promise(H,$e,"lock"):jt.trans?hr(jt.transless,function(){return N._whenReady($e)}):this._whenReady($e)},li.prototype.table=function(v){if(!lt(this._allTables,v))throw new X.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},li);function li(v,C){var S=this;this._middlewares={},this.verno=0;var N=li.dependencies;this._options=C=k({addons:li.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},C),this._deps={indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange},N=C.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var V,H,ee,ye,$e,Pe={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ce,dbReadyPromise:null,cancelOpen:ce,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:C.autoOpen};Pe.dbReadyPromise=new Ot(function(Se){Pe.dbReadyResolve=Se}),Pe.openCanceller=new Ot(function(Se,nt){Pe.cancelOpen=nt}),this._state=Pe,this.name=v,this.on=vs(this,"populate","blocked","versionchange","close",{ready:[ln,ce]}),this.on.ready.subscribe=Re(this.on.ready.subscribe,function(Se){return function(nt,Le){li.vip(function(){var Xe,Ye=S._state;Ye.openComplete?(Ye.dbOpenError||Ot.resolve().then(nt),Le&&Se(nt)):Ye.onReadyBeingFired?(Ye.onReadyBeingFired.push(nt),Le&&Se(nt)):(Se(nt),Xe=S,Le||Se(function He(){Xe.on.ready.unsubscribe(nt),Xe.on.ready.unsubscribe(He)}))})}}),this.Collection=(V=this,da(Wc.prototype,function(ft,He){this.db=V;var Le=Ei,Xe=null;if(He)try{Le=He()}catch(qe){Xe=qe}var Ye=ft._ctx;this._ctx={table:He=Ye.table,index:Ye.index,isPrimKey:!Ye.index||He.schema.primKey.keyPath&&Ye.index===He.schema.primKey.name,range:Le,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Xe,or:Ye.or,valueMapper:(ft=He.hook.reading.fire)!==Te?ft:null}})),this.Table=(H=this,da(jr.prototype,function(Se,nt,Le){this.db=H,this._tx=Le,this.name=Se,this.schema=nt,this.hook=H._allTables[Se]?H._allTables[Se].hook:vs(null,{creating:[Rt,ce],reading:[It,Te],updating:[rn,ce],deleting:[Ut,ce]})})),this.Transaction=(ee=this,da(pi.prototype,function(Se,nt,Le,Xe,Ye){var He=this;this.db=ee,this.mode=Se,this.storeNames=nt,this.schema=Le,this.chromeTransactionDurability=Xe,this.idbtrans=null,this.on=vs(this,"complete","error","abort"),this.parent=Ye||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ot(function(ft,qe){He._resolve=ft,He._reject=qe}),this._completion.then(function(){He.active=!1,He.on.complete.fire()},function(ft){var qe=He.active;return He.active=!1,He.on.error.fire(ft),He.parent?He.parent._reject(ft):qe&&He.idbtrans&&He.idbtrans.abort(),_n(ft)})})),this.Version=(ye=this,da(Vs.prototype,function(Se){this.db=ye,this._cfg={version:Se,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=($e=this,da(ke.prototype,function(Se,nt,Le){if(this.db=$e,this._ctx={table:Se,index:":id"===nt?null:nt,or:Le},this._cmp=this._ascending=zn,this._descending=function(Xe,Ye){return zn(Ye,Xe)},this._max=function(Xe,Ye){return 0<zn(Xe,Ye)?Xe:Ye},this._min=function(Xe,Ye){return zn(Xe,Ye)<0?Xe:Ye},this._IDBKeyRange=$e._deps.IDBKeyRange,!this._IDBKeyRange)throw new X.MissingAPI})),this.on("versionchange",function(Se){0<Se.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(Se){!Se.newVersion||Se.newVersion<Se.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(Se.oldVersion/10))}),this._maxKey=Ls(C.IDBKeyRange),this._createTransaction=function(Se,nt,Le,Xe){return new S.Transaction(Se,nt,Le,S._options.chromeTransactionDurability,Xe)},this._fireOnBlocked=function(Se){S.on("blocked").fire(Se),Ns.filter(function(nt){return nt.name===S.name&&nt!==S&&!nt._state.vcFired}).map(function(nt){return nt.on("versionchange").fire(Se)})},this.use(vo),this.use(ah),this.use(sh),this.use($a),this.use(eT);var tt=new Proxy(this,{get:function(Se,nt,Le){if("_vip"===nt)return!0;if("table"===nt)return function(Ye){return qn(S.table(Ye),tt)};var Xe=Reflect.get(Se,nt,Le);return Xe instanceof jr?qn(Xe,tt):"tables"===nt?Xe.map(function(Ye){return qn(Ye,tt)}):"_createTransaction"===nt?function(){return qn(Xe.apply(this,arguments),tt)}:Xe}});this.vip=tt,N.forEach(function(Se){return Se(S)})}so=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var Ha,Pu=(Ll.prototype.subscribe=function(v,C,S){return this._subscribe(v&&"function"!=typeof v?v:{next:v,error:C,complete:S})},Ll.prototype[so]=function(){return this},Ll);function Ll(v){this._subscribe=v}try{Ha={indexedDB:ne.indexedDB||ne.mozIndexedDB||ne.webkitIndexedDB||ne.msIndexedDB,IDBKeyRange:ne.IDBKeyRange||ne.webkitIDBKeyRange}}catch{Ha={indexedDB:null,IDBKeyRange:null}}function Bs(v){var C,S=!1,N=new Pu(function(V){var ee,H=mn(v),ye=!1,$e={},Pe={},tt={get closed(){return ye},unsubscribe:function(){ye||(ye=!0,ee&&ee.abort(),Se&&Xn.storagemutated.unsubscribe(Le))}};V.start&&V.start(tt);var Se=!1,nt=function(){return Fn(Xe)},Le=function(Ye){qi($e,Ye),Fl(Pe,$e)&&nt()},Xe=function(){var Ye,He,ft;!ye&&Ha.indexedDB&&($e={},Ye={},ee&&ee.abort(),ee=new AbortController,ft=function(qe){var it=wi();try{H&&Ko();var Et=Kn(v,qe);return Et=H?Et.finally(Or):Et}finally{it&&dr()}}(He={subscr:Ye,signal:ee.signal,requery:nt,querier:v,trans:null}),Promise.resolve(ft).then(function(qe){S=!0,C=qe,ye||He.signal.aborted||($e={},function(it){for(var Et in it)if(lt(it,Et))return;return 1}(Pe=Ye)||Se||(Xn(Dn,Le),Se=!0),Fn(function(){return!ye&&V.next&&V.next(qe)}))},function(qe){S=!1,["DatabaseClosedError","AbortError"].includes(qe?.name)||ye||Fn(function(){ye||V.error&&V.error(qe)})}))};return setTimeout(nt,0),tt});return N.hasValue=function(){return S},N.getValue=function(){return C},N}var qo=_a;function Vl(v){var C=va;try{va=!0,Xn.storagemutated.fire(v),Jc(v,!0)}finally{va=C}}Be(qo,k(k({},re),{delete:function(v){return new qo(v,{addons:[]}).delete()},exists:function(v){return new qo(v,{addons:[]}).open().then(function(C){return C.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return S=(C=qo.dependencies).indexedDB,C=C.IDBKeyRange,(ga(S)?Promise.resolve(S.databases()).then(function(N){return N.map(function(V){return V.name}).filter(function(V){return V!==Er})}):ja(S,C).toCollection().primaryKeys()).then(v)}catch{return _n(new X.MissingAPI)}var C,S},defineClass:function(){return function(v){A(this,v)}},ignoreTransaction:function(v){return jt.trans?hr(jt.transless,v):v()},vip:Mu,async:function(v){return function(){try{var C=rh(v.apply(this,arguments));return C&&"function"==typeof C.then?C:Ot.resolve(C)}catch(S){return _n(S)}}},spawn:function(v,C,S){try{var N=rh(v.apply(S,C||[]));return N&&"function"==typeof N.then?N:Ot.resolve(N)}catch(V){return _n(V)}},currentTransaction:{get:function(){return jt.trans||null}},waitFor:function(v,C){return C=Ot.resolve("function"==typeof v?qo.ignoreTransaction(v):v).timeout(C||6e4),jt.trans?jt.trans.waitFor(C):C},Promise:Ot,debug:{get:function(){return Ht},set:function(v){hn(v)}},derive:Me,extend:A,props:Be,override:Re,Events:vs,on:Xn,liveQuery:Bs,extendObservabilitySet:qi,getByKeyPath:Fe,setByKeyPath:Ae,delByKeyPath:function(v,C){"string"==typeof C?Ae(v,C,void 0):"length"in C&&[].map.call(C,function(S){Ae(v,S,void 0)})},shallowClone:xe,deepClone:_e,getObjectDiff:ku,cmp:zn,asap:ge,minKey:-1/0,addons:[],connections:Ns,errnames:B,dependencies:Ha,cache:Yc,semVer:"4.0.8",version:"4.0.8".split(".").map(function(v){return parseInt(v)}).reduce(function(v,C,S){return v+C/Math.pow(10,2*S)})})),qo.maxKey=Ls(qo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Xn(Dn,function(v){va||(v=new CustomEvent(Ln,{detail:v}),va=!0,dispatchEvent(v),va=!1)}),addEventListener(Ln,function(v){v=v.detail,va||Vl(v)}));var za,va=!1,xn=function(){};return typeof BroadcastChannel<"u"&&((xn=function(){(za=new BroadcastChannel(Ln)).onmessage=function(v){return v.data&&Vl(v.data)}})(),"function"==typeof za.unref&&za.unref(),Xn(Dn,function(v){va||za.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!_a.disableBfCache&&v.persisted){Ht&&console.debug("Dexie: handling persisted pagehide"),za?.close();for(var C=0,S=Ns;C<S.length;C++)S[C].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!_a.disableBfCache&&v.persisted&&(Ht&&console.debug("Dexie: handling persisted pageshow"),xn(),Vl({all:new Ii(-1/0,[[]])}))})),Ot.rejectionMapper=function(v,C){return!v||v instanceof ze||v instanceof TypeError||v instanceof SyntaxError||!v.name||!Z[v.name]?v:(C=new Z[v.name](C||v.message,v),"stack"in v&&Y(C,"stack",{get:function(){return this.inner.stack}}),C)},hn(Ht),k(_a,Object.freeze({__proto__:null,Dexie:_a,liveQuery:Bs,Entity:Ro,cmp:zn,PropModSymbol:ko,PropModification:ha,replacePrefix:function(v,C){return new ha({replacePrefix:[v,C]})},add:function(v){return new ha({add:v})},remove:function(v){return new ha({remove:v})},default:_a,RangeSet:Ii,mergeRanges:Ri,rangesOverlap:th}),{default:_a}),_a}()},4412:(Bt,et,k)=>{"use strict";k.d(et,{t:()=>ne});var J=k(1413);class ne extends J.B{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const A=super._subscribe(ae);return!A.closed&&ae.next(this._value),A}getValue(){const{hasError:ae,thrownError:A,_value:a}=this;if(ae)throw A;return this._throwIfClosed(),a}next(ae){super.next(this._value=ae)}}},1985:(Bt,et,k)=>{"use strict";k.d(et,{c:()=>lt});var J=k(7707),ne=k(8359),pe=k(3494),ae=k(1203),A=k(1026),a=k(8071),De=k(9786);let lt=(()=>{class Me{constructor(oe){oe&&(this._subscribe=oe)}lift(oe){const Ge=new Me;return Ge.source=this,Ge.operator=oe,Ge}subscribe(oe,Ge,Re){const Oe=function Y(Me){return Me&&Me instanceof J.vU||function Ue(Me){return Me&&(0,a.T)(Me.next)&&(0,a.T)(Me.error)&&(0,a.T)(Me.complete)}(Me)&&(0,ne.Uv)(Me)}(oe)?oe:new J.Ms(oe,Ge,Re);return(0,De.Y)(()=>{const{operator:ge,source:Fe}=this;Oe.add(ge?ge.call(Oe,Fe):Fe?this._subscribe(Oe):this._trySubscribe(Oe))}),Oe}_trySubscribe(oe){try{return this._subscribe(oe)}catch(Ge){oe.error(Ge)}}forEach(oe,Ge){return new(Ge=Be(Ge))((Re,Oe)=>{const ge=new J.Ms({next:Fe=>{try{oe(Fe)}catch(Ae){Oe(Ae),ge.unsubscribe()}},error:Oe,complete:Re});this.subscribe(ge)})}_subscribe(oe){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(oe)}[pe.s](){return this}pipe(...oe){return(0,ae.m)(oe)(this)}toPromise(oe){return new(oe=Be(oe))((Ge,Re)=>{let Oe;this.subscribe(ge=>Oe=ge,ge=>Re(ge),()=>Ge(Oe))})}}return Me.create=Ne=>new Me(Ne),Me})();function Be(Me){var Ne;return null!==(Ne=Me??A.$.Promise)&&void 0!==Ne?Ne:Promise}},1413:(Bt,et,k)=>{"use strict";k.d(et,{B:()=>De});var J=k(1985),ne=k(8359);const ae=(0,k(1853).L)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var A=k(7908),a=k(9786);let De=(()=>{class Be extends J.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const Me=new lt(this,this);return Me.operator=Y,Me}_throwIfClosed(){if(this.closed)throw new ae}next(Y){(0,a.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(Y)}})}error(Y){(0,a.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:Me}=this;for(;Me.length;)Me.shift().error(Y)}})}complete(){(0,a.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:Me,isStopped:Ne,observers:oe}=this;return Me||Ne?ne.Kn:(this.currentObservers=null,oe.push(Y),new ne.yU(()=>{this.currentObservers=null,(0,A.o)(oe,Y)}))}_checkFinalizedStatuses(Y){const{hasError:Me,thrownError:Ne,isStopped:oe}=this;Me?Y.error(Ne):oe&&Y.complete()}asObservable(){const Y=new J.c;return Y.source=this,Y}}return Be.create=(Ue,Y)=>new lt(Ue,Y),Be})();class lt extends De{constructor(Ue,Y){super(),this.destination=Ue,this.source=Y}next(Ue){var Y,Me;null===(Me=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===Me||Me.call(Y,Ue)}error(Ue){var Y,Me;null===(Me=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===Me||Me.call(Y,Ue)}complete(){var Ue,Y;null===(Y=null===(Ue=this.destination)||void 0===Ue?void 0:Ue.complete)||void 0===Y||Y.call(Ue)}_subscribe(Ue){var Y,Me;return null!==(Me=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(Ue))&&void 0!==Me?Me:ne.Kn}}},7707:(Bt,et,k)=>{"use strict";k.d(et,{Ms:()=>Re,vU:()=>Me});var J=k(8071),ne=k(8359),pe=k(1026),ae=k(5334),A=k(5343);const a=Be("C",void 0,void 0);function Be(xe,We,Ie){return{kind:xe,value:We,error:Ie}}var Ue=k(9270),Y=k(9786);class Me extends ne.yU{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,ne.Uv)(We)&&We.add(this)):this.destination=Ae}static create(We,Ie,st){return new Re(We,Ie,st)}next(We){this.isStopped?Fe(function lt(xe){return Be("N",xe,void 0)}(We),this):this._next(We)}error(We){this.isStopped?Fe(function De(xe){return Be("E",void 0,xe)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?Fe(a,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function oe(xe,We){return Ne.call(xe,We)}class Ge{constructor(We){this.partialObserver=We}next(We){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(We)}catch(st){Oe(st)}}error(We){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(We)}catch(st){Oe(st)}else Oe(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(Ie){Oe(Ie)}}}class Re extends Me{constructor(We,Ie,st){let Qe;if(super(),(0,J.T)(We)||!We)Qe={next:We??void 0,error:Ie??void 0,complete:st??void 0};else{let _e;this&&pe.$.useDeprecatedNextContext?(_e=Object.create(We),_e.unsubscribe=()=>this.unsubscribe(),Qe={next:We.next&&oe(We.next,_e),error:We.error&&oe(We.error,_e),complete:We.complete&&oe(We.complete,_e)}):Qe=We}this.destination=new Ge(Qe)}}function Oe(xe){pe.$.useDeprecatedSynchronousErrorHandling?(0,Y.l)(xe):(0,ae.m)(xe)}function Fe(xe,We){const{onStoppedNotification:Ie}=pe.$;Ie&&Ue.f.setTimeout(()=>Ie(xe,We))}const Ae={closed:!0,next:A.l,error:function ge(xe){throw xe},complete:A.l}},8359:(Bt,et,k)=>{"use strict";k.d(et,{Kn:()=>a,yU:()=>A,Uv:()=>De});var J=k(8071);const pe=(0,k(1853).L)(Be=>function(Y){Be(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((Me,Ne)=>`${Ne+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var ae=k(7908);class A{constructor(Ue){this.initialTeardown=Ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ue;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const oe of Y)oe.remove(this);else Y.remove(this);const{initialTeardown:Me}=this;if((0,J.T)(Me))try{Me()}catch(oe){Ue=oe instanceof pe?oe.errors:[oe]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const oe of Ne)try{lt(oe)}catch(Ge){Ue=Ue??[],Ge instanceof pe?Ue=[...Ue,...Ge.errors]:Ue.push(Ge)}}if(Ue)throw new pe(Ue)}}add(Ue){var Y;if(Ue&&Ue!==this)if(this.closed)lt(Ue);else{if(Ue instanceof A){if(Ue.closed||Ue._hasParent(this))return;Ue._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(Ue)}}_hasParent(Ue){const{_parentage:Y}=this;return Y===Ue||Array.isArray(Y)&&Y.includes(Ue)}_addParent(Ue){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(Ue),Y):Y?[Y,Ue]:Ue}_removeParent(Ue){const{_parentage:Y}=this;Y===Ue?this._parentage=null:Array.isArray(Y)&&(0,ae.o)(Y,Ue)}remove(Ue){const{_finalizers:Y}=this;Y&&(0,ae.o)(Y,Ue),Ue instanceof A&&Ue._removeParent(this)}}A.EMPTY=(()=>{const Be=new A;return Be.closed=!0,Be})();const a=A.EMPTY;function De(Be){return Be instanceof A||Be&&"closed"in Be&&(0,J.T)(Be.remove)&&(0,J.T)(Be.add)&&(0,J.T)(Be.unsubscribe)}function lt(Be){(0,J.T)(Be)?Be():Be.unsubscribe()}},1026:(Bt,et,k)=>{"use strict";k.d(et,{$:()=>J});const J={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4843:(Bt,et,k)=>{"use strict";k.d(et,{_:()=>pe});var J=k(9350),ne=k(7707);function pe(ae,A){const a="object"==typeof A;return new Promise((De,lt)=>{const Be=new ne.Ms({next:Ue=>{De(Ue),Be.unsubscribe()},error:lt,complete:()=>{a?De(A.defaultValue):lt(new J.G)}});ae.subscribe(Be)})}},8793:(Bt,et,k)=>{"use strict";k.d(et,{x:()=>A});var J=k(6365),pe=k(9326),ae=k(6648);function A(...a){return function ne(){return(0,J.U)(1)}()((0,ae.H)(a,(0,pe.lI)(a)))}},983:(Bt,et,k)=>{"use strict";k.d(et,{w:()=>ne});const ne=new(k(1985).c)(A=>A.complete())},6648:(Bt,et,k)=>{"use strict";k.d(et,{H:()=>st});var J=k(8750),ne=k(5225),pe=k(9974),ae=k(4360);function A(Qe,_e=0){return(0,pe.N)((ue,Q)=>{ue.subscribe((0,ae._)(Q,pt=>(0,ne.N)(Q,Qe,()=>Q.next(pt),_e),()=>(0,ne.N)(Q,Qe,()=>Q.complete(),_e),pt=>(0,ne.N)(Q,Qe,()=>Q.error(pt),_e)))})}function a(Qe,_e=0){return(0,pe.N)((ue,Q)=>{Q.add(Qe.schedule(()=>ue.subscribe(Q),_e))})}var Be=k(1985),Y=k(4761),Me=k(8071);function oe(Qe,_e){if(!Qe)throw new Error("Iterable cannot be null");return new Be.c(ue=>{(0,ne.N)(ue,_e,()=>{const Q=Qe[Symbol.asyncIterator]();(0,ne.N)(ue,_e,()=>{Q.next().then(pt=>{pt.done?ue.complete():ue.next(pt.value)})},0,!0)})})}var Ge=k(5055),Re=k(9858),Oe=k(7441),ge=k(5397),Fe=k(7953),Ae=k(591),xe=k(5196);function st(Qe,_e){return _e?function Ie(Qe,_e){if(null!=Qe){if((0,Ge.l)(Qe))return function De(Qe,_e){return(0,J.Tg)(Qe).pipe(a(_e),A(_e))}(Qe,_e);if((0,Oe.X)(Qe))return function Ue(Qe,_e){return new Be.c(ue=>{let Q=0;return _e.schedule(function(){Q===Qe.length?ue.complete():(ue.next(Qe[Q++]),ue.closed||this.schedule())})})}(Qe,_e);if((0,Re.y)(Qe))return function lt(Qe,_e){return(0,J.Tg)(Qe).pipe(a(_e),A(_e))}(Qe,_e);if((0,Fe.T)(Qe))return oe(Qe,_e);if((0,ge.x)(Qe))return function Ne(Qe,_e){return new Be.c(ue=>{let Q;return(0,ne.N)(ue,_e,()=>{Q=Qe[Y.l](),(0,ne.N)(ue,_e,()=>{let pt,Dt;try{({value:pt,done:Dt}=Q.next())}catch(xt){return void ue.error(xt)}Dt?ue.complete():ue.next(pt)},0,!0)}),()=>(0,Me.T)(Q?.return)&&Q.return()})}(Qe,_e);if((0,xe.U)(Qe))return function We(Qe,_e){return oe((0,xe.C)(Qe),_e)}(Qe,_e)}throw(0,Ae.L)(Qe)}(Qe,_e):(0,J.Tg)(Qe)}},8750:(Bt,et,k)=>{"use strict";k.d(et,{Tg:()=>Ne});var J=k(1635),ne=k(7441),pe=k(9858),ae=k(1985),A=k(5055),a=k(7953),De=k(591),lt=k(5397),Be=k(5196),Ue=k(8071),Y=k(5334),Me=k(3494);function Ne(xe){if(xe instanceof ae.c)return xe;if(null!=xe){if((0,A.l)(xe))return function oe(xe){return new ae.c(We=>{const Ie=xe[Me.s]();if((0,Ue.T)(Ie.subscribe))return Ie.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,ne.X)(xe))return function Ge(xe){return new ae.c(We=>{for(let Ie=0;Ie<xe.length&&!We.closed;Ie++)We.next(xe[Ie]);We.complete()})}(xe);if((0,pe.y)(xe))return function Re(xe){return new ae.c(We=>{xe.then(Ie=>{We.closed||(We.next(Ie),We.complete())},Ie=>We.error(Ie)).then(null,Y.m)})}(xe);if((0,a.T)(xe))return ge(xe);if((0,lt.x)(xe))return function Oe(xe){return new ae.c(We=>{for(const Ie of xe)if(We.next(Ie),We.closed)return;We.complete()})}(xe);if((0,Be.U)(xe))return function Fe(xe){return ge((0,Be.C)(xe))}(xe)}throw(0,De.L)(xe)}function ge(xe){return new ae.c(We=>{(function Ae(xe,We){var Ie,st,Qe,_e;return(0,J.sH)(this,void 0,void 0,function*(){try{for(Ie=(0,J.xN)(xe);!(st=yield Ie.next()).done;)if(We.next(st.value),We.closed)return}catch(ue){Qe={error:ue}}finally{try{st&&!st.done&&(_e=Ie.return)&&(yield _e.call(Ie))}finally{if(Qe)throw Qe.error}}We.complete()})})(xe,We).catch(Ie=>We.error(Ie))})}},7786:(Bt,et,k)=>{"use strict";k.d(et,{h:()=>a});var J=k(6365),ne=k(8750),pe=k(983),ae=k(9326),A=k(6648);function a(...De){const lt=(0,ae.lI)(De),Be=(0,ae.R0)(De,1/0),Ue=De;return Ue.length?1===Ue.length?(0,ne.Tg)(Ue[0]):(0,J.U)(Be)((0,A.H)(Ue,lt)):pe.w}},4360:(Bt,et,k)=>{"use strict";k.d(et,{_:()=>ne});var J=k(7707);function ne(ae,A,a,De,lt){return new pe(ae,A,a,De,lt)}class pe extends J.vU{constructor(A,a,De,lt,Be,Ue){super(A),this.onFinalize=Be,this.shouldUnsubscribe=Ue,this._next=a?function(Y){try{a(Y)}catch(Me){A.error(Me)}}:super._next,this._error=lt?function(Y){try{lt(Y)}catch(Me){A.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(Y){A.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var A;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:a}=this;super.unsubscribe(),!a&&(null===(A=this.onFinalize)||void 0===A||A.call(this))}}}},3294:(Bt,et,k)=>{"use strict";k.d(et,{F:()=>ae});var J=k(3669),ne=k(9974),pe=k(4360);function ae(a,De=J.D){return a=a??A,(0,ne.N)((lt,Be)=>{let Ue,Y=!0;lt.subscribe((0,pe._)(Be,Me=>{const Ne=De(Me);(Y||!a(Ue,Ne))&&(Y=!1,Ue=Ne,Be.next(Me))}))})}function A(a,De){return a===De}},5964:(Bt,et,k)=>{"use strict";k.d(et,{p:()=>pe});var J=k(9974),ne=k(4360);function pe(ae,A){return(0,J.N)((a,De)=>{let lt=0;a.subscribe((0,ne._)(De,Be=>ae.call(A,Be,lt++)&&De.next(Be)))})}},6354:(Bt,et,k)=>{"use strict";k.d(et,{T:()=>pe});var J=k(9974),ne=k(4360);function pe(ae,A){return(0,J.N)((a,De)=>{let lt=0;a.subscribe((0,ne._)(De,Be=>{De.next(ae.call(A,Be,lt++))}))})}},6365:(Bt,et,k)=>{"use strict";k.d(et,{U:()=>pe});var J=k(1397),ne=k(3669);function pe(ae=1/0){return(0,J.Z)(ne.D,ae)}},1397:(Bt,et,k)=>{"use strict";k.d(et,{Z:()=>lt});var J=k(6354),ne=k(8750),pe=k(9974),ae=k(5225),A=k(4360),De=k(8071);function lt(Be,Ue,Y=1/0){return(0,De.T)(Ue)?lt((Me,Ne)=>(0,J.T)((oe,Ge)=>Ue(Me,oe,Ne,Ge))((0,ne.Tg)(Be(Me,Ne))),Y):("number"==typeof Ue&&(Y=Ue),(0,pe.N)((Me,Ne)=>function a(Be,Ue,Y,Me,Ne,oe,Ge,Re){const Oe=[];let ge=0,Fe=0,Ae=!1;const xe=()=>{Ae&&!Oe.length&&!ge&&Ue.complete()},We=st=>ge<Me?Ie(st):Oe.push(st),Ie=st=>{oe&&Ue.next(st),ge++;let Qe=!1;(0,ne.Tg)(Y(st,Fe++)).subscribe((0,A._)(Ue,_e=>{Ne?.(_e),oe?We(_e):Ue.next(_e)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(ge--;Oe.length&&ge<Me;){const _e=Oe.shift();Ge?(0,ae.N)(Ue,Ge,()=>Ie(_e)):Ie(_e)}xe()}catch(_e){Ue.error(_e)}}))};return Be.subscribe((0,A._)(Ue,We,()=>{Ae=!0,xe()})),()=>{Re?.()}}(Me,Ne,Be,Y)))}},7647:(Bt,et,k)=>{"use strict";k.d(et,{u:()=>A});var J=k(8750),ne=k(1413),pe=k(7707),ae=k(9974);function A(De={}){const{connector:lt=(()=>new ne.B),resetOnError:Be=!0,resetOnComplete:Ue=!0,resetOnRefCountZero:Y=!0}=De;return Me=>{let Ne,oe,Ge,Re=0,Oe=!1,ge=!1;const Fe=()=>{oe?.unsubscribe(),oe=void 0},Ae=()=>{Fe(),Ne=Ge=void 0,Oe=ge=!1},xe=()=>{const We=Ne;Ae(),We?.unsubscribe()};return(0,ae.N)((We,Ie)=>{Re++,!ge&&!Oe&&Fe();const st=Ge=Ge??lt();Ie.add(()=>{Re--,0===Re&&!ge&&!Oe&&(oe=a(xe,Y))}),st.subscribe(Ie),!Ne&&Re>0&&(Ne=new pe.Ms({next:Qe=>st.next(Qe),error:Qe=>{ge=!0,Fe(),oe=a(Ae,Be,Qe),st.error(Qe)},complete:()=>{Oe=!0,Fe(),oe=a(Ae,Ue),st.complete()}}),(0,J.Tg)(We).subscribe(Ne))})(Me)}}function a(De,lt,...Be){if(!0===lt)return void De();if(!1===lt)return;const Ue=new pe.Ms({next:()=>{Ue.unsubscribe(),De()}});return(0,J.Tg)(lt(...Be)).subscribe(Ue)}},6496:(Bt,et,k)=>{"use strict";k.d(et,{t:()=>A});var J=k(1413),ne=k(6129);class pe extends J.B{constructor(De=1/0,lt=1/0,Be=ne.U){super(),this._bufferSize=De,this._windowTime=lt,this._timestampProvider=Be,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=lt===1/0,this._bufferSize=Math.max(1,De),this._windowTime=Math.max(1,lt)}next(De){const{isStopped:lt,_buffer:Be,_infiniteTimeWindow:Ue,_timestampProvider:Y,_windowTime:Me}=this;lt||(Be.push(De),!Ue&&Be.push(Y.now()+Me)),this._trimBuffer(),super.next(De)}_subscribe(De){this._throwIfClosed(),this._trimBuffer();const lt=this._innerSubscribe(De),{_infiniteTimeWindow:Be,_buffer:Ue}=this,Y=Ue.slice();for(let Me=0;Me<Y.length&&!De.closed;Me+=Be?1:2)De.next(Y[Me]);return this._checkFinalizedStatuses(De),lt}_trimBuffer(){const{_bufferSize:De,_timestampProvider:lt,_buffer:Be,_infiniteTimeWindow:Ue}=this,Y=(Ue?1:2)*De;if(De<1/0&&Y<Be.length&&Be.splice(0,Be.length-Y),!Ue){const Me=lt.now();let Ne=0;for(let oe=1;oe<Be.length&&Be[oe]<=Me;oe+=2)Ne=oe;Ne&&Be.splice(0,Ne+1)}}}var ae=k(7647);function A(a,De,lt){let Be,Ue=!1;return a&&"object"==typeof a?({bufferSize:Be=1/0,windowTime:De=1/0,refCount:Ue=!1,scheduler:lt}=a):Be=a??1/0,(0,ae.u)({connector:()=>new pe(Be,De,lt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}},9172:(Bt,et,k)=>{"use strict";k.d(et,{Z:()=>ae});var J=k(8793),ne=k(9326),pe=k(9974);function ae(...A){const a=(0,ne.lI)(A);return(0,pe.N)((De,lt)=>{(a?(0,J.x)(A,De,a):(0,J.x)(A,De)).subscribe(lt)})}},6129:(Bt,et,k)=>{"use strict";k.d(et,{U:()=>J});const J={now:()=>(J.delegate||Date).now(),delegate:void 0}},9270:(Bt,et,k)=>{"use strict";k.d(et,{f:()=>J});const J={setTimeout(ne,pe,...ae){const{delegate:A}=J;return A?.setTimeout?A.setTimeout(ne,pe,...ae):setTimeout(ne,pe,...ae)},clearTimeout(ne){const{delegate:pe}=J;return(pe?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},4761:(Bt,et,k)=>{"use strict";k.d(et,{l:()=>ne});const ne=function J(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Bt,et,k)=>{"use strict";k.d(et,{s:()=>J});const J="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Bt,et,k)=>{"use strict";k.d(et,{G:()=>ne});const ne=(0,k(1853).L)(pe=>function(){pe(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Bt,et,k)=>{"use strict";k.d(et,{R0:()=>a,lI:()=>A,ms:()=>ae});var J=k(8071),ne=k(9470);function pe(De){return De[De.length-1]}function ae(De){return(0,J.T)(pe(De))?De.pop():void 0}function A(De){return(0,ne.m)(pe(De))?De.pop():void 0}function a(De,lt){return"number"==typeof pe(De)?De.pop():lt}},7908:(Bt,et,k)=>{"use strict";function J(ne,pe){if(ne){const ae=ne.indexOf(pe);0<=ae&&ne.splice(ae,1)}}k.d(et,{o:()=>J})},1853:(Bt,et,k)=>{"use strict";function J(ne){const ae=ne(A=>{Error.call(A),A.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}k.d(et,{L:()=>J})},9786:(Bt,et,k)=>{"use strict";k.d(et,{Y:()=>pe,l:()=>ae});var J=k(1026);let ne=null;function pe(A){if(J.$.useDeprecatedSynchronousErrorHandling){const a=!ne;if(a&&(ne={errorThrown:!1,error:null}),A(),a){const{errorThrown:De,error:lt}=ne;if(ne=null,De)throw lt}}else A()}function ae(A){J.$.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=A)}},5225:(Bt,et,k)=>{"use strict";function J(ne,pe,ae,A=0,a=!1){const De=pe.schedule(function(){ae(),a?ne.add(this.schedule(null,A)):this.unsubscribe()},A);if(ne.add(De),!a)return De}k.d(et,{N:()=>J})},3669:(Bt,et,k)=>{"use strict";function J(ne){return ne}k.d(et,{D:()=>J})},7441:(Bt,et,k)=>{"use strict";k.d(et,{X:()=>J});const J=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},7953:(Bt,et,k)=>{"use strict";k.d(et,{T:()=>ne});var J=k(8071);function ne(pe){return Symbol.asyncIterator&&(0,J.T)(pe?.[Symbol.asyncIterator])}},8071:(Bt,et,k)=>{"use strict";function J(ne){return"function"==typeof ne}k.d(et,{T:()=>J})},5055:(Bt,et,k)=>{"use strict";k.d(et,{l:()=>pe});var J=k(3494),ne=k(8071);function pe(ae){return(0,ne.T)(ae[J.s])}},5397:(Bt,et,k)=>{"use strict";k.d(et,{x:()=>pe});var J=k(4761),ne=k(8071);function pe(ae){return(0,ne.T)(ae?.[J.l])}},9858:(Bt,et,k)=>{"use strict";k.d(et,{y:()=>ne});var J=k(8071);function ne(pe){return(0,J.T)(pe?.then)}},5196:(Bt,et,k)=>{"use strict";k.d(et,{C:()=>pe,U:()=>ae});var J=k(1635),ne=k(8071);function pe(A){return(0,J.AQ)(this,arguments,function*(){const De=A.getReader();try{for(;;){const{value:lt,done:Be}=yield(0,J.N3)(De.read());if(Be)return yield(0,J.N3)(void 0);yield yield(0,J.N3)(lt)}}finally{De.releaseLock()}})}function ae(A){return(0,ne.T)(A?.getReader)}},9470:(Bt,et,k)=>{"use strict";k.d(et,{m:()=>ne});var J=k(8071);function ne(pe){return pe&&(0,J.T)(pe.schedule)}},9974:(Bt,et,k)=>{"use strict";k.d(et,{N:()=>pe,S:()=>ne});var J=k(8071);function ne(ae){return(0,J.T)(ae?.lift)}function pe(ae){return A=>{if(ne(A))return A.lift(function(a){try{return ae(a,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Bt,et,k)=>{"use strict";function J(){}k.d(et,{l:()=>J})},1203:(Bt,et,k)=>{"use strict";k.d(et,{F:()=>ne,m:()=>pe});var J=k(3669);function ne(...ae){return pe(ae)}function pe(ae){return 0===ae.length?J.D:1===ae.length?ae[0]:function(a){return ae.reduce((De,lt)=>lt(De),a)}}},5334:(Bt,et,k)=>{"use strict";k.d(et,{m:()=>pe});var J=k(1026),ne=k(9270);function pe(ae){ne.f.setTimeout(()=>{const{onUnhandledError:A}=J.$;if(!A)throw ae;A(ae)})}},591:(Bt,et,k)=>{"use strict";function J(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}k.d(et,{L:()=>J})},9969:(Bt,et,k)=>{"use strict";k.d(et,{FX:()=>_e,If:()=>J,K2:()=>a,MA:()=>Me,Os:()=>A,P:()=>oe,hZ:()=>pe,i0:()=>ae,iF:()=>De,kY:()=>Ue,kp:()=>ne,sf:()=>st,ui:()=>Qe,wk:()=>lt});var J=function(ue){return ue[ue.State=0]="State",ue[ue.Transition=1]="Transition",ue[ue.Sequence=2]="Sequence",ue[ue.Group=3]="Group",ue[ue.Animate=4]="Animate",ue[ue.Keyframes=5]="Keyframes",ue[ue.Style=6]="Style",ue[ue.Trigger=7]="Trigger",ue[ue.Reference=8]="Reference",ue[ue.AnimateChild=9]="AnimateChild",ue[ue.AnimateRef=10]="AnimateRef",ue[ue.Query=11]="Query",ue[ue.Stagger=12]="Stagger",ue}(J||{});const ne="*";function pe(ue,Q){return{type:J.Trigger,name:ue,definitions:Q,options:{}}}function ae(ue,Q=null){return{type:J.Animate,styles:Q,timings:ue}}function A(ue,Q=null){return{type:J.Group,steps:ue,options:Q}}function a(ue,Q=null){return{type:J.Sequence,steps:ue,options:Q}}function De(ue){return{type:J.Style,styles:ue,offset:null}}function lt(ue,Q,pt){return{type:J.State,name:ue,styles:Q,options:pt}}function Ue(ue,Q,pt=null){return{type:J.Transition,expr:ue,animation:Q,options:pt}}function Me(ue=null){return{type:J.AnimateChild,options:ue}}function oe(ue,Q,pt=null){return{type:J.Query,selector:ue,animation:Q,options:pt}}class st{constructor(Q=0,pt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Q+pt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}onStart(Q){this._originalOnStartFns.push(Q),this._onStartFns.push(Q)}onDone(Q){this._originalOnDoneFns.push(Q),this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Q=>Q()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Q){this._position=this.totalTime?Q*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Q){const pt="start"==Q?this._onStartFns:this._onDoneFns;pt.forEach(Dt=>Dt()),pt.length=0}}class Qe{constructor(Q){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Q;let pt=0,Dt=0,xt=0;const un=this.players.length;0==un?queueMicrotask(()=>this._onFinish()):this.players.forEach(tn=>{tn.onDone(()=>{++pt==un&&this._onFinish()}),tn.onDestroy(()=>{++Dt==un&&this._onDestroy()}),tn.onStart(()=>{++xt==un&&this._onStart()})}),this.totalTime=this.players.reduce((tn,mn)=>Math.max(tn,mn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}init(){this.players.forEach(Q=>Q.init())}onStart(Q){this._onStartFns.push(Q)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Q=>Q()),this._onStartFns=[])}onDone(Q){this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Q=>Q.play())}pause(){this.players.forEach(Q=>Q.pause())}restart(){this.players.forEach(Q=>Q.restart())}finish(){this._onFinish(),this.players.forEach(Q=>Q.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Q=>Q.destroy()),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this.players.forEach(Q=>Q.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Q){const pt=Q*this.totalTime;this.players.forEach(Dt=>{const xt=Dt.totalTime?Math.min(1,pt/Dt.totalTime):1;Dt.setPosition(xt)})}getPosition(){const Q=this.players.reduce((pt,Dt)=>null===pt||Dt.totalTime>pt.totalTime?Dt:pt,null);return null!=Q?Q.getPosition():0}beforeDestroy(){this.players.forEach(Q=>{Q.beforeDestroy&&Q.beforeDestroy()})}triggerCallback(Q){const pt="start"==Q?this._onStartFns:this._onDoneFns;pt.forEach(Dt=>Dt()),pt.length=0}}const _e="!"},3953:(Bt,et,k)=>{"use strict";function J(o,s){return Object.is(o,s)}k.d(et,{bc$:()=>X$,iLQ:()=>ig,sZ2:()=>K_,hnV:()=>hR,o8S:()=>nc,BIS:()=>mx,gRc:()=>SR,Ql9:()=>pC,OM3:()=>Mv,Ocv:()=>H3,Z63:()=>Wa,aKT:()=>gr,uvJ:()=>$s,zcH:()=>Ia,bkB:()=>Ic,$GK:()=>yt,nKC:()=>xn,zZn:()=>Lr,_q3:()=>AC,MKu:()=>SC,xe9:()=>Uf,Co$:()=>wS,Vns:()=>df,SKi:()=>Gi,Xx1:()=>gm,Agw:()=>Da,PLl:()=>Qm,rOR:()=>sw,sFG:()=>VA,_9s:()=>rf,czy:()=>av,WPN:()=>Hh,kdw:()=>e_,C4Q:()=>_v,NYb:()=>Jp,giA:()=>eg,RxE:()=>tV,c1b:()=>cf,gXe:()=>ba,mal:()=>tu,Tzd:()=>WA,L39:()=>nk,EWP:()=>Fd,sbv:()=>NH,Ol2:()=>hf,w6W:()=>CF,QZP:()=>Gf,Rfq:()=>Zc,WQX:()=>an,naY:()=>RV,Hps:()=>lS,QuC:()=>Ka,EmA:()=>gh,Udg:()=>ik,HJs:()=>ak,N4e:()=>p_,vPA:()=>oF,O8t:()=>sk,An2:()=>Sc,H3F:()=>Ky,zAP:()=>nn,H8p:()=>u_,KH2:()=>rs,TgB:()=>qu,wOt:()=>Qt,WHO:()=>Zp,e01:()=>mC,lNU:()=>eh,h9k:()=>NP,$MX:()=>Cw,ZF7:()=>Jm,Kcf:()=>h4,e5t:()=>g4,UyX:()=>m4,cWb:()=>f4,osQ:()=>p4,H5H:()=>Fp,mq5:()=>vd,JZv:()=>Ri,TL3:()=>pu,LfX:()=>so,plB:()=>pl,jNT:()=>Yy,zjR:()=>Zy,ngT:()=>Io,TL$:()=>Xm,Tbb:()=>qi,rcV:()=>Ql,nM4:()=>vS,Vt3:()=>Bv,GFd:()=>Ep,OA$:()=>il,Jv_:()=>GI,aNF:()=>$L,R7$:()=>eA,BMQ:()=>qE,HbH:()=>GS,ZvI:()=>Op,AVh:()=>sI,vxM:()=>pL,wni:()=>Ff,C6U:()=>RM,VBU:()=>_0,FsC:()=>v0,jDH:()=>qn,G2t:()=>li,$C:()=>s_,EJ8:()=>c_,rXU:()=>op,nrm:()=>ey,k0s:()=>Jv,j41:()=>Zv,RV6:()=>oM,xGo:()=>qT,Mr5:()=>ty,KVO:()=>yo,kS0:()=>Hm,QTQ:()=>Qh,bIt:()=>MI,lsd:()=>by,joV:()=>AO,qSk:()=>FT,XpG:()=>DM,nI1:()=>YI,bMT:()=>YM,SdG:()=>Nf,NAR:()=>kI,Y8G:()=>iI,lJ4:()=>Ny,eq3:()=>qs,l_i:()=>KI,NyB:()=>kM,mGM:()=>MM,sdS:()=>OM,Dyx:()=>Yv,Z7z:()=>uI,Vm6:()=>YS,Njj:()=>MT,eBV:()=>TO,n$t:()=>Mx,xc7:()=>oI,Kam:()=>py,zvX:()=>fI,DNE:()=>ES,C5r:()=>GL,EFF:()=>Ty,JRh:()=>$p,SpI:()=>xy,Lme:()=>Hp,E5c:()=>jI,GBs:()=>yy});let ne=null,pe=!1,ae=1;const A=Symbol("SIGNAL");function a(o){const s=ne;return ne=o,s}const Ue={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Y(o){if(pe)throw new Error("");if(null===ne)return;ne.consumerOnSignalRead(o);const s=ne.nextProducerIndex++;st(ne),s<ne.producerNode.length&&ne.producerNode[s]!==o&&Ie(ne)&&We(ne.producerNode[s],ne.producerIndexOfThis[s]),ne.producerNode[s]!==o&&(ne.producerNode[s]=o,ne.producerIndexOfThis[s]=Ie(ne)?xe(o,ne,s):0),ne.producerLastReadVersion[s]=o.version}function Ne(o){if((!Ie(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==ae)){if(!o.producerMustRecompute(o)&&!Fe(o))return o.dirty=!1,void(o.lastCleanEpoch=ae);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=ae}}function oe(o){if(void 0===o.liveConsumerNode)return;const s=pe;pe=!0;try{for(const c of o.liveConsumerNode)c.dirty||Re(c)}finally{pe=s}}function Ge(){return!1!==ne?.consumerAllowSignalWrites}function Re(o){o.dirty=!0,oe(o),o.consumerMarkedDirty?.(o)}function Oe(o){return o&&(o.nextProducerIndex=0),a(o)}function ge(o,s){if(a(s),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(Ie(o))for(let c=o.nextProducerIndex;c<o.producerNode.length;c++)We(o.producerNode[c],o.producerIndexOfThis[c]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Fe(o){st(o);for(let s=0;s<o.producerNode.length;s++){const c=o.producerNode[s],u=o.producerLastReadVersion[s];if(u!==c.version||(Ne(c),u!==c.version))return!0}return!1}function Ae(o){if(st(o),Ie(o))for(let s=0;s<o.producerNode.length;s++)We(o.producerNode[s],o.producerIndexOfThis[s]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function xe(o,s,c){if(Qe(o),0===o.liveConsumerNode.length&&_e(o))for(let u=0;u<o.producerNode.length;u++)o.producerIndexOfThis[u]=xe(o.producerNode[u],o,u);return o.liveConsumerIndexOfThis.push(c),o.liveConsumerNode.push(s)-1}function We(o,s){if(Qe(o),1===o.liveConsumerNode.length&&_e(o))for(let u=0;u<o.producerNode.length;u++)We(o.producerNode[u],o.producerIndexOfThis[u]);const c=o.liveConsumerNode.length-1;if(o.liveConsumerNode[s]=o.liveConsumerNode[c],o.liveConsumerIndexOfThis[s]=o.liveConsumerIndexOfThis[c],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,s<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[s],h=o.liveConsumerNode[s];st(h),h.producerIndexOfThis[u]=s}}function Ie(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function st(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function Qe(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function _e(o){return void 0!==o.producerNode}function ue(o){const s=Object.create(xt);s.computation=o;const c=()=>{if(Ne(s),Y(s),s.value===Dt)throw s.error;return s.value};return c[A]=s,c}const Q=Symbol("UNSET"),pt=Symbol("COMPUTING"),Dt=Symbol("ERRORED"),xt={...Ue,value:Q,dirty:!0,error:null,equal:J,producerMustRecompute:o=>o.value===Q||o.value===pt,producerRecomputeValue(o){if(o.value===pt)throw new Error("Detected cycle in computations.");const s=o.value;o.value=pt;const c=Oe(o);let u;try{u=o.computation()}catch(h){u=Dt,o.error=h}finally{ge(o,c)}s!==Q&&s!==Dt&&u!==Dt&&o.equal(s,u)?o.value=s:(o.value=u,o.version++)}};let tn=function un(){throw new Error};function mn(){tn()}let ze=null;function B(o,s){Ge()||mn(),o.equal(o.value,s)||(o.value=s,function re(o){o.version++,function Me(){ae++}(),oe(o),ze?.()}(o))}const Z={...Ue,equal:J,value:void 0};const Te=()=>{},It={...Ue,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:Te};var Rt=k(4412),Ut=k(1413),rn=k(8359),sn=k(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const eh="https://g.co/ng/security#xss";class Qt extends Error{constructor(s,c){super(function pa(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,c)),this.code=s}}function Vs(o){return{toString:o}.toString()}const ja="__parameters__";function Ii(o,s,c){return Vs(()=>{const u=function Nl(o){return function(...c){if(o){const u=o(...c);for(const h in u)this[h]=u[h]}}}(s);function h(...m){if(this instanceof h)return u.apply(this,m),this;const g=new h(...m);return w.annotation=g,w;function w(T,O,F){const G=T.hasOwnProperty(ja)?T[ja]:Object.defineProperty(T,ja,{value:[]})[ja];for(;G.length<=F;)G.push(null);return(G[F]=G[F]||[]).push(g),T}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}const Ri=globalThis;function si(o){for(let s in o)if(o[s]===si)return s;throw Error("Could not find renamed property on target object.")}function fm(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function qi(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(qi).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function Fl(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const ih=si({__forward_ref__:si});function Zc(o){return o.__forward_ref__=Zc,o.toString=function(){return qi(this())},o}function bn(o){return Jc(o)?o():o}function Jc(o){return"function"==typeof o&&o.hasOwnProperty(ih)&&o.__forward_ref__===Zc}function qn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function li(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ha(o){return Pu(o,qo)||Pu(o,za)}function so(o){return null!==Ha(o)}function Pu(o,s){return o.hasOwnProperty(s)?o[s]:null}function Bs(o){return o&&(o.hasOwnProperty(Vl)||o.hasOwnProperty(va))?o[Vl]:null}const qo=si({\u0275prov:si}),Vl=si({\u0275inj:si}),za=si({ngInjectableDef:si}),va=si({ngInjectorDef:si});class xn{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=qn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function tt(o){return o&&!!o.\u0275providers}const Se=si({\u0275cmp:si}),nt=si({\u0275dir:si}),Le=si({\u0275pipe:si}),Xe=si({\u0275mod:si}),Ye=si({\u0275fac:si}),He=si({__NG_ELEMENT_ID__:si}),ft=si({__NG_ENV_ID__:si});function qe(o){return"string"==typeof o?o:null==o?"":String(o)}function Xt(o,s){throw new Qt(-201,!1)}var yt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(yt||{});let Sn;function kn(){return Sn}function En(o){const s=Sn;return Sn=o,s}function Vn(o,s,c){const u=Ha(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&yt.Optional?null:void 0!==s?s:void Xt()}const mr={},sr="__NG_DI_FLAG__",Ga="ngTempTokenPath",Us=/\n/gm,Zg="__source";let Nu;function mc(o){const s=Nu;return Nu=o,s}function hO(o,s=yt.Default){if(void 0===Nu)throw new Qt(-203,!1);return null===Nu?Vn(o,void 0,s):Nu.get(o,s&yt.Optional?null:void 0,s)}function yo(o,s=yt.Default){return(kn()||hO)(bn(o),s)}function an(o,s=yt.Default){return yo(o,Fu(s))}function Fu(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function ch(o){const s=[];for(let c=0;c<o.length;c++){const u=bn(o[c]);if(Array.isArray(u)){if(0===u.length)throw new Qt(900,!1);let h,m=yt.Default;for(let g=0;g<u.length;g++){const w=u[g],T=Jg(w);"number"==typeof T?-1===T?h=w.token:m|=T:h=w}s.push(yo(h,m))}else s.push(yo(u))}return s}function Lu(o,s){return o[sr]=s,o.prototype[sr]=s,o}function Jg(o){return o[sr]}const gm=Lu(Ii("Optional"),8),e_=Lu(Ii("SkipSelf"),4);function Vu(o,s){return o.hasOwnProperty(Ye)?o[Ye]:null}function Bu(o,s){o.forEach(c=>Array.isArray(c)?Bu(c,s):s(c))}function u0(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function t_(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function js(o,s,c){let u=lh(o,s);return u>=0?o[1|u]=c:(u=~u,function h0(o,s,c,u){let h=o.length;if(h==s)o.push(c,u);else if(1===h)o.push(u,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=c,o[s+1]=u}}(o,u,s,c)),u}function f0(o,s){const c=lh(o,s);if(c>=0)return o[1|c]}function lh(o,s){return function nT(o,s,c){let u=0,h=o.length>>c;for(;h!==u;){const m=u+(h-u>>1),g=o[m<<c];if(s===g)return m<<c;g>s?h=m:u=m+1}return~(h<<c)}(o,s,1)}const pc={},ti=[],Wa=new xn(""),iT=new xn("",-1),m0=new xn("");class Uu{get(s,c=mr){if(c===mr){const u=new Error(`NullInjectorError: No provider for ${qi(s)}!`);throw u.name="NullInjectorError",u}return c}}var n_=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(n_||{}),ba=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(ba||{}),Ul=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(Ul||{});function _O(o,s,c){let u=o.length;for(;;){const h=o.indexOf(s,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=s.length;if(h+m===u||o.charCodeAt(h+m)<=32)return h}c=h+1}}function pr(o,s,c){let u=0;for(;u<c.length;){const h=c[u];if("number"==typeof h){if(0!==h)break;u++;const m=c[u++],g=c[u++],w=c[u++];o.setAttribute(s,g,w,m)}else{const m=h,g=c[++u];bo(m)?o.setProperty(s,m,g):o.setAttribute(s,m,g),u++}}return u}function Xi(o){return 3===o||4===o||6===o}function bo(o){return 64===o.charCodeAt(0)}function On(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?c=h:0===c||Pr(o,c,h,null,-1===c||2===c?s[++u]:null)}}return o}function Pr(o,s,c,u,h){let m=0,g=o.length;if(-1===s)g=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===s){g=-1;break}if(w>s){g=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===c){if(null===u)return void(null!==h&&(o[m+1]=h));if(u===o[m+1])return void(o[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==g&&(o.splice(g,0,s),m=g+1),o.splice(m++,0,c),null!==u&&o.splice(m++,0,u),null!==h&&o.splice(m++,0,h)}const uh="ng-template";function i_(o,s,c,u){let h=0;if(u){for(;h<s.length&&"string"==typeof s[h];h+=2)if("class"===s[h]&&-1!==_O(s[h+1].toLowerCase(),c,0))return!0}else if(vm(o))return!1;if(h=s.indexOf(1,h),h>-1){let m;for(;++h<s.length&&"string"==typeof(m=s[h]);)if(m.toLowerCase()===c)return!0}return!1}function vm(o){return 4===o.type&&o.value!==uh}function el(o,s,c){return s===(4!==o.type||c?o.value:uh)}function ju(o,s,c){let u=4;const h=o.attrs,m=null!==h?function dh(o){for(let s=0;s<o.length;s++)if(Xi(o[s]))return s;return o.length}(h):0;let g=!1;for(let w=0;w<s.length;w++){const T=s[w];if("number"!=typeof T){if(!g)if(4&u){if(u=2|1&u,""!==T&&!el(o,T,c)||""===T&&1===s.length){if(gi(u))return!1;g=!0}}else if(8&u){if(null===h||!i_(o,h,T,c)){if(gi(u))return!1;g=!0}}else{const O=s[++w],F=jl(T,h,vm(o),c);if(-1===F){if(gi(u))return!1;g=!0;continue}if(""!==O){let G;if(G=F>m?"":h[F+1].toLowerCase(),2&u&&O!==G){if(gi(u))return!1;g=!0}}}}else{if(!g&&!gi(u)&&!gi(T))return!1;if(g&&gi(T))continue;g=!1,u=T|1&u}}return gi(u)||g}function gi(o){return!(1&o)}function jl(o,s,c,u){if(null===s)return-1;let h=0;if(u||!c){let m=!1;for(;h<s.length;){const g=s[h];if(g===o)return h;if(3===g||6===g)m=!0;else{if(1===g||2===g){let w=s[++h];for(;"string"==typeof w;)w=s[++h];continue}if(4===g)break;if(0===g){h+=4;continue}}h+=m?1:2}return-1}return function Qo(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===s)return c;c++}return-1}(s,o)}function p0(o,s,c=!1){for(let u=0;u<s.length;u++)if(ju(o,s[u],c))return!0;return!1}function g0(o,s){e:for(let c=0;c<s.length;c++){const u=s[c];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function hh(o,s){return o?":not("+s.trim()+")":s}function r_(o){let s=o[0],c=1,u=2,h="",m=!1;for(;c<o.length;){let g=o[c];if("string"==typeof g)if(2&u){const w=o[++c];h+="["+g+(w.length>0?'="'+w+'"':"")+"]"}else 8&u?h+="."+g:4&u&&(h+=" "+g);else""!==h&&!gi(g)&&(s+=hh(m,h),h=""),u=g,m=m||!gi(u);c++}return""!==h&&(s+=hh(m,h)),s}function _0(o){return Vs(()=>{const s=ym(o),c={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===n_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||ba.Emulated,styles:o.styles||ti,_:null,schemas:o.schemas||null,tView:null,id:""};bm(c);const u=o.dependencies;return c.directiveDefs=ph(u,!1),c.pipeDefs=ph(u,!0),c.id=function sT(o){let s=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of c)s=Math.imul(31,s)+h.charCodeAt(0)|0;return s+=2147483648,"c"+s}(c),c})}function o_(o){return Bn(o)||Ir(o)}function mh(o){return null!==o}function s_(o){return Vs(()=>({type:o.type,bootstrap:o.bootstrap||ti,declarations:o.declarations||ti,imports:o.imports||ti,exports:o.exports||ti,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function a_(o,s){if(null==o)return pc;const c={};for(const u in o)if(o.hasOwnProperty(u)){const h=o[u];let m,g,w=Ul.None;Array.isArray(h)?(w=h[0],m=h[1],g=h[2]??m):(m=h,g=h),s?(c[m]=w!==Ul.None?[u,w]:u,s[m]=g):c[m]=u}return c}function v0(o){return Vs(()=>{const s=ym(o);return bm(s),s})}function c_(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Bn(o){return o[Se]||null}function Ir(o){return o[nt]||null}function Nr(o){return o[Le]||null}function Ka(o){const s=Bn(o)||Ir(o)||Nr(o);return null!==s&&s.standalone}function Hr(o,s){const c=o[Xe]||null;if(!c&&!0===s)throw new Error(`Type ${qi(o)} does not have '\u0275mod' property.`);return c}function ym(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:o.inputs||pc,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||ti,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:a_(o.inputs,s),outputs:a_(o.outputs),debugInfo:null}}function bm(o){o.features?.forEach(s=>s(o))}function ph(o,s){if(!o)return null;const c=s?Nr:o_;return()=>("function"==typeof o?o():o).map(u=>c(u)).filter(mh)}function gh(o){return{\u0275providers:o}}function aT(...o){return{\u0275providers:l_(0,o),\u0275fromNgModule:!0}}function l_(o,...s){const c=[],u=new Set;let h;const m=g=>{c.push(g)};return Bu(s,g=>{const w=g;_h(w,m,[],u)&&(h||=[],h.push(w))}),void 0!==h&&y0(h,m),c}function y0(o,s){for(let c=0;c<o.length;c++){const{ngModule:u,providers:h}=o[c];vh(h,m=>{s(m,u)})}}function _h(o,s,c,u){if(!(o=bn(o)))return!1;let h=null,m=Bs(o);const g=!m&&Bn(o);if(m||g){if(g&&!g.standalone)return!1;h=o}else{const T=o.ngModule;if(m=Bs(T),!m)return!1;h=T}const w=u.has(h);if(g){if(w)return!1;if(u.add(h),g.dependencies){const T="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const O of T)_h(O,s,c,u)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let O;u.add(h);try{Bu(m.imports,F=>{_h(F,s,c,u)&&(O||=[],O.push(F))})}finally{}void 0!==O&&y0(O,s)}if(!w){const O=Vu(h)||(()=>new h);s({provide:h,useFactory:O,deps:ti},h),s({provide:m0,useValue:h,multi:!0},h),s({provide:Wa,useValue:()=>yo(h),multi:!0},h)}const T=m.providers;if(null!=T&&!w){const O=o;vh(T,F=>{s(F,O)})}}}return h!==o&&void 0!==o.providers}function vh(o,s){for(let c of o)tt(c)&&(c=c.\u0275providers),Array.isArray(c)?vh(c,s):s(c)}const cT=si({provide:String,useValue:si});function w0(o){return null!==o&&"object"==typeof o&&cT in o}function wa(o){return"function"==typeof o}const u_=new xn(""),Em={},I0={};let d_;function Im(){return void 0===d_&&(d_=new Uu),d_}class $s{}class $u extends $s{get destroyed(){return this._destroyed}constructor(s,c,u,h){super(),this.parent=c,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,m_(s,g=>this.processProvider(g)),this.records.set(iT,$l(void 0,this)),h.has("environment")&&this.records.set($s,$l(void 0,this));const m=this.records.get(u_);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(m0,ti,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=a(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const c=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of c)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),a(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const c=mc(this),u=En(void 0);try{return s()}finally{mc(c),En(u)}}get(s,c=mr,u=yt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ft))return s[ft](this);u=Fu(u);const m=mc(this),g=En(void 0);try{if(!(u&yt.SkipSelf)){let T=this.records.get(s);if(void 0===T){const O=function uT(o){return"function"==typeof o||"object"==typeof o&&o instanceof xn}(s)&&Ha(s);T=O&&this.injectableDefInScope(O)?$l(h_(s),Em):null,this.records.set(s,T)}if(null!=T)return this.hydrate(s,T)}return(u&yt.Self?Im():this.parent).get(s,c=u&yt.Optional&&c===mr?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[Ga]=w[Ga]||[]).unshift(qi(s)),m)throw w;return function Bl(o,s,c,u){const h=o[Ga];throw s[Zg]&&h.unshift(s[Zg]),o.message=function tT(o,s,c,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=qi(s);if(Array.isArray(s))h=s.map(qi).join(" -> ");else if("object"==typeof s){let m=[];for(let g in s)if(s.hasOwnProperty(g)){let w=s[g];m.push(g+":"+("string"==typeof w?JSON.stringify(w):qi(w)))}h=`{${m.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${o.replace(Us,"\n  ")}`}("\n"+o.message,h,c,u),o.ngTokenPath=h,o[Ga]=null,o}(w,s,"R3InjectorError",this.source)}throw w}finally{En(g),mc(m)}}resolveInjectorInitializers(){const s=a(null),c=mc(this),u=En(void 0);try{const m=this.get(Wa,ti,yt.Self);for(const g of m)g()}finally{mc(c),En(u),a(s)}}toString(){const s=[],c=this.records;for(const u of c.keys())s.push(qi(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qt(205,!1)}processProvider(s){let c=wa(s=bn(s))?s:bn(s&&s.provide);const u=function lT(o){return w0(o)?$l(void 0,o.useValue):$l(f_(o),Em)}(s);if(!wa(s)&&!0===s.multi){let h=this.records.get(c);h||(h=$l(void 0,Em,!0),h.factory=()=>ch(h.multi),this.records.set(c,h)),c=s,h.multi.push(s)}this.records.set(c,u)}hydrate(s,c){const u=a(null);try{return c.value===Em&&(c.value=I0,c.value=c.factory()),"object"==typeof c.value&&c.value&&function D0(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}finally{a(u)}}injectableDefInScope(s){if(!s.providedIn)return!1;const c=bn(s.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(s){const c=this._onDestroyHooks.indexOf(s);-1!==c&&this._onDestroyHooks.splice(c,1)}}function h_(o){const s=Ha(o),c=null!==s?s.factory:Vu(o);if(null!==c)return c;if(o instanceof xn)throw new Qt(204,!1);if(o instanceof Function)return function Cm(o){if(o.length>0)throw new Qt(204,!1);const c=function Ll(o){return o&&(o[qo]||o[za])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Qt(204,!1)}function f_(o,s,c){let u;if(wa(o)){const h=bn(o);return Vu(h)||h_(h)}if(w0(o))u=()=>bn(o.useValue);else if(function yh(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...ch(o.deps||[]));else if(function wm(o){return!(!o||!o.useExisting)}(o))u=()=>yo(bn(o.useExisting));else{const h=bn(o&&(o.useClass||o.provide));if(!function C0(o){return!!o.deps}(o))return Vu(h)||h_(h);u=()=>new h(...ch(o.deps))}return u}function $l(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function m_(o,s){for(const c of o)Array.isArray(c)?m_(c,s):c&&tt(c)?m_(c.\u0275providers,s):s(c)}function p_(o,s){o instanceof $u&&o.assertNotDestroyed();const u=mc(o),h=En(void 0);try{return s()}finally{mc(u),En(h)}}function g_(){return void 0!==kn()||null!=function a0(){return Nu}()}function Dm(o){if(!g_())throw new Qt(-203,!1)}const Pi=0,y=1,b=2,D=3,I=4,P=5,j=6,te=7,ie=8,we=9,ct=10,ot=11,Tt=12,At=13,Jt=14,pn=15,Mn=16,Jn=17,vi=18,Ci=19,No=20,ki=21,ao=22,ar=23,dn=25,wh=1,Yo=7,gc=9,Hi=10;var nl=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(nl||{});function xi(o){return Array.isArray(o)&&"object"==typeof o[wh]}function Ni(o){return Array.isArray(o)&&!0===o[wh]}function Di(o){return!!(4&o.flags)}function qa(o){return o.componentOffset>-1}function v_(o){return!(1&~o.flags)}function wo(o){return!!o.template}function xm(o){return!!(512&o[b])}class bT{constructor(s,c,u){this.previousValue=s,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function wT(o,s,c,u){null!==s?s.applyValueToInputSignal(s,u):o[c]=u}function il(){return ET}function ET(o){return o.type.prototype.ngOnChanges&&(o.setInput=CT),IT}function IT(){const o=Ih(this),s=o?.current;if(s){const c=o.previous;if(c===pc)o.previous=s;else for(let u in s)c[u]=s[u];o.current=null,this.ngOnChanges(s)}}function CT(o,s,c,u,h){const m=this.declaredInputs[u],g=Ih(o)||function P0(o,s){return o[Mm]=s}(o,{previous:pc,current:null}),w=g.current||(g.current={}),T=g.previous,O=T[m];w[m]=new bT(O&&O.currentValue,c,T===pc),wT(o,s,h,c)}il.ngInherit=!0;const Mm="__ngSimpleChanges__";function Ih(o){return o[Mm]||null}const _c=function(o,s,c){},Rm="svg";function ai(o){for(;Array.isArray(o);)o=o[Pi];return o}function Ch(o,s){return ai(s[o])}function zr(o,s){return ai(s[o.index])}function Hu(o,s){return o.data[s]}function zu(o,s){return o[s]}function bs(o,s){const c=s[o];return xi(c)?c:c[Pi]}function Gu(o){return!(128&~o[b])}function Dr(o,s){return null==s?null:o[s]}function km(o){o[Jn]=0}function vc(o){1024&o[b]||(o[b]|=1024,Gu(o)&&ol(o))}function zl(o){return!!(9216&o[b]||o[ar]?.dirty)}function rl(o){o[ct].changeDetectionScheduler?.notify(7),64&o[b]&&(o[b]|=1024),zl(o)&&ol(o)}function ol(o){o[ct].changeDetectionScheduler?.notify(0);let s=sl(o);for(;null!==s&&!(8192&s[b])&&(s[b]|=8192,Gu(s));)s=sl(s)}function Dh(o,s){if(!(256&~o[b]))throw new Qt(911,!1);null===o[ki]&&(o[ki]=[]),o[ki].push(s)}function sl(o){const s=o[D];return Ni(s)?s[D]:s}const An={lFrame:PT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let AT=!1;function ST(){return An.bindingsEnabled}function Gl(){return null!==An.skipHydrationRootTNode}function bt(){return An.lFrame.lView}function Wn(){return An.lFrame.tView}function TO(o){return An.lFrame.contextLView=o,o[ie]}function MT(o){return An.lFrame.contextLView=null,o}function Oi(){let o=RT();for(;null!==o&&64===o.type;)o=o.parent;return o}function RT(){return An.lFrame.currentTNode}function Tr(o,s){const c=An.lFrame;c.currentTNode=o,c.isParent=s}function V0(){return An.lFrame.isParent}function Wu(){An.lFrame.isParent=!1}function x_(){return AT}function Ea(o){AT=o}function Fr(){const o=An.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function yc(){return An.lFrame.bindingIndex}function Xa(){return An.lFrame.bindingIndex++}function Es(o){const s=An.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}function OT(o,s){const c=An.lFrame;c.bindingIndex=c.bindingRootIndex=o,S_(s)}function S_(o){An.lFrame.currentDirectiveIndex=o}function Nm(o){const s=An.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}function Fm(){return An.lFrame.currentQueryIndex}function Lm(o){An.lFrame.currentQueryIndex=o}function Vm(o){const s=o[y];return 2===s.type?s.declTNode:1===s.type?o[P]:null}function M_(o,s,c){if(c&yt.SkipSelf){let h=s,m=o;for(;!(h=h.parent,null!==h||c&yt.Host||(h=Vm(m),null===h||(m=m[Jt],10&h.type))););if(null===h)return!1;s=h,o=m}const u=An.lFrame=j0();return u.currentTNode=s,u.lView=o,!0}function Th(o){const s=j0(),c=o[y];An.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function j0(){const o=An.lFrame,s=null===o?null:o.child;return null===s?PT(o):s}function PT(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function xh(){const o=An.lFrame;return An.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const NT=xh;function $0(){const o=xh();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function co(){return An.lFrame.selectedIndex}function bc(o){An.lFrame.selectedIndex=o}function Fi(){const o=An.lFrame;return Hu(o.tView,o.selectedIndex)}function FT(){An.lFrame.currentNamespace=Rm}function AO(){!function SO(){An.lFrame.currentNamespace=null}()}let z0=!0;function Wl(){return z0}function wc(o){z0=o}function al(o,s){for(let c=s.directiveStart,u=s.directiveEnd;c<u;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:w,ngAfterViewInit:T,ngAfterViewChecked:O,ngOnDestroy:F}=m;g&&(o.contentHooks??=[]).push(-c,g),w&&((o.contentHooks??=[]).push(c,w),(o.contentCheckHooks??=[]).push(c,w)),T&&(o.viewHooks??=[]).push(-c,T),O&&((o.viewHooks??=[]).push(c,O),(o.viewCheckHooks??=[]).push(c,O)),null!=F&&(o.destroyHooks??=[]).push(c,F)}}function Kl(o,s,c){Ah(o,s,3,c)}function R_(o,s,c,u){(3&o[b])===c&&Ah(o,s,c,u)}function G0(o,s){let c=o[b];(3&c)===s&&(c&=16383,c+=1,o[b]=c)}function Ah(o,s,c,u){const m=u??-1,g=s.length-1;let w=0;for(let T=void 0!==u?65535&o[Jn]:0;T<g;T++)if("number"==typeof s[T+1]){if(w=s[T],null!=u&&w>=u)break}else s[T]<0&&(o[Jn]+=65536),(w<m||-1==m)&&(RO(o,c,s,T),o[Jn]=(4294901760&o[Jn])+T+2),T++}function Sh(o,s){_c(4,o,s);const c=a(null);try{s.call(o)}finally{a(c),_c(5,o,s)}}function RO(o,s,c,u){const h=c[u]<0,m=c[u+1],w=o[h?-c[u]:c[u]];h?o[b]>>14<o[Jn]>>16&&(3&o[b])===s&&(o[b]+=16384,Sh(w,m)):Sh(w,m)}const Mh=-1;class Bm{constructor(s,c,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}const K0={};class Ku{constructor(s,c){this.injector=s,this.parentInjector=c}get(s,c,u){u=Fu(u);const h=this.injector.get(s,K0,u);return h!==K0||c===K0?h:this.parentInjector.get(s,c,u)}}function q0(o){return o!==Mh}function jm(o){return 32767&o}function $m(o,s){let c=function OO(o){return o>>16}(o),u=s;for(;c>0;)u=u[Jt],c--;return u}let X0=!0;function O_(o){const s=X0;return X0=o,s}const jT=255,P_=5;let N_=0;const Zo={};function F_(o,s){const c=$T(o,s);if(-1!==c)return c;const u=s[y];u.firstCreatePass&&(o.injectorIndex=s.length,Q0(u.data,o),Q0(s,null),Q0(u.blueprint,null));const h=Rh(o,s),m=o.injectorIndex;if(q0(h)){const g=jm(h),w=$m(h,s),T=w[y].data;for(let O=0;O<8;O++)s[m+O]=w[g+O]|T[g+O]}return s[m+8]=h,m}function Q0(o,s){o.push(0,0,0,0,0,0,0,0,s)}function $T(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Rh(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,h=s;for(;null!==h;){if(u=ew(h),null===u)return Mh;if(c++,h=h[Jt],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return Mh}function Y0(o,s,c){!function U$(o,s,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(He)&&(u=c[He]),null==u&&(u=c[He]=N_++);const h=u&jT;s.data[o+(h>>P_)]|=1<<h}(o,s,c)}function HT(o,s,c){if(c&yt.Optional||void 0!==o)return o;Xt()}function J0(o,s,c,u){if(c&yt.Optional&&void 0===u&&(u=null),!(c&(yt.Self|yt.Host))){const h=o[we],m=En(void 0);try{return h?h.get(s,u,c&yt.Optional):Vn(s,u,c&yt.Optional)}finally{En(m)}}return HT(u,0,c)}function zT(o,s,c,u=yt.Default,h){if(null!==o){if(2048&s[b]&&!(u&yt.Self)){const g=function j$(o,s,c,u,h){let m=o,g=s;for(;null!==m&&null!==g&&2048&g[b]&&!(512&g[b]);){const w=GT(m,g,c,u|yt.Self,Zo);if(w!==Zo)return w;let T=m.parent;if(!T){const O=g[No];if(O){const F=O.get(c,Zo,u);if(F!==Zo)return F}T=ew(g),g=g[Jt]}m=T}return h}(o,s,c,u,Zo);if(g!==Zo)return g}const m=GT(o,s,c,u,Zo);if(m!==Zo)return m}return J0(s,c,u,h)}function GT(o,s,c,u,h){const m=function LO(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(He)?o[He]:void 0;return"number"==typeof s?s>=0?s&jT:VO:s}(c);if("function"==typeof m){if(!M_(s,o,u))return u&yt.Host?HT(h,0,u):J0(s,c,u,h);try{let g;if(g=m(u),null!=g||u&yt.Optional)return g;Xt()}finally{NT()}}else if("number"==typeof m){let g=null,w=$T(o,s),T=Mh,O=u&yt.Host?s[pn][P]:null;for((-1===w||u&yt.SkipSelf)&&(T=-1===w?Rh(o,s):s[w+8],T!==Mh&&KT(u,!1)?(g=s[y],w=jm(T),s=$m(T,s)):w=-1);-1!==w;){const F=s[y];if(WT(m,w,F.data)){const G=FO(w,s,c,g,u,O);if(G!==Zo)return G}T=s[w+8],T!==Mh&&KT(u,s[y].data[w+8]===O)&&WT(m,w,s)?(g=F,w=jm(T),s=$m(T,s)):w=-1}}return h}function FO(o,s,c,u,h,m){const g=s[y],w=g.data[o+8],F=L_(w,g,c,null==u?qa(w)&&X0:u!=g&&!!(3&w.type),h&yt.Host&&m===w);return null!==F?Ec(s,g,F,w):Zo}function L_(o,s,c,u,h){const m=o.providerIndexes,g=s.data,w=1048575&m,T=o.directiveStart,F=m>>20,de=h?w+F:o.directiveEnd;for(let ve=u?w:w+F;ve<de;ve++){const Ze=g[ve];if(ve<T&&c===Ze||ve>=T&&Ze.type===c)return ve}if(h){const ve=g[T];if(ve&&wo(ve)&&ve.type===c)return T}return null}function Ec(o,s,c,u){let h=o[c];const m=s.data;if(function kO(o){return o instanceof Bm}(h)){const g=h;g.resolving&&function St(o,s){throw s&&s.join(" > "),new Qt(-200,o)}(function it(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():qe(o)}(m[c]));const w=O_(g.canSeeViewProviders);g.resolving=!0;const O=g.injectImpl?En(g.injectImpl):null;M_(o,u,yt.Default);try{h=o[c]=g.factory(void 0,m,o,u),s.firstCreatePass&&c>=u.directiveStart&&function MO(o,s,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=s.type.prototype;if(u){const g=ET(s);(c.preOrderHooks??=[]).push(o,g),(c.preOrderCheckHooks??=[]).push(o,g)}h&&(c.preOrderHooks??=[]).push(0-o,h),m&&((c.preOrderHooks??=[]).push(o,m),(c.preOrderCheckHooks??=[]).push(o,m))}(c,m[c],s)}finally{null!==O&&En(O),O_(w),g.resolving=!1,NT()}}return h}function WT(o,s,c){return!!(c[s+(o>>P_)]&1<<o)}function KT(o,s){return!(o&yt.Self||o&yt.Host&&s)}class Gr{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,u){return zT(this._tNode,this._lView,s,Fu(u),c)}}function VO(){return new Gr(Oi(),bt())}function qT(o){return Vs(()=>{const s=o.prototype.constructor,c=s[Ye]||V_(s),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const m=h[Ye]||V_(h);if(m&&m!==c)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function V_(o){return Jc(o)?()=>{const s=V_(bn(o));return s&&s()}:Vu(o)}function ew(o){const s=o[y],c=s.type;return 2===c?s.declTNode:1===c?o[P]:null}function Hm(o){return function Z0(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const m=c[h];if(Xi(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(m===s)return c[h+1];h+=2}}}return null}(Oi(),o)}function ex(o,s=null,c=null,u){const h=tx(o,s,c,u);return h.resolveInjectorInitializers(),h}function tx(o,s=null,c=null,u,h=new Set){const m=[c||ti,aT(o)];return u=u||("object"==typeof o?void 0:qi(o)),new $u(m,s||Im(),u||null,h)}class Lr{static#e=this.THROW_IF_NOT_FOUND=mr;static#t=this.NULL=new Uu;static create(s,c){if(Array.isArray(s))return ex({name:""},c,s,"");{const u=s.name??"";return ex({name:u},s.parent,s.providers,u)}}static#n=this.\u0275prov=qn({token:Lr,providedIn:"any",factory:()=>yo(iT)});static#i=this.__NG_ELEMENT_ID__=-1}new xn("").__NG_ELEMENT_ID__=o=>{const s=Oi();if(null===s)throw new Qt(204,!1);if(2&s.type)return s.value;if(o&yt.Optional)return null;throw new Qt(204,!1)};function ow(o){return o.ngOriginalError}class Ia{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s);this._console.error("ERROR",s),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(s){let c=s&&ow(s);for(;c&&ow(c);)c=ow(c);return c||null}}const zm=new xn("",{providedIn:"root",factory:()=>an(Ia).handleError.bind(void 0)});let Gm=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=zO;static#t=this.__NG_ENV_ID__=c=>c}return o})();class HO extends Gm{constructor(s){super(),this._lView=s}onDestroy(s){return Dh(this._lView,s),()=>function E_(o,s){if(null===o[ki])return;const c=o[ki].indexOf(s);-1!==c&&o[ki].splice(c,1)}(this._lView,s)}}function zO(){return new HO(bt())}function KO(){return Fh(Oi(),bt())}function Fh(o,s){return new gr(zr(o,s))}let gr=(()=>{class o{constructor(c){this.nativeElement=c}static#e=this.__NG_ELEMENT_ID__=KO}return o})();function rx(o){return o instanceof gr?o.nativeElement:o}let qu=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Rt.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const c=this.taskId++;return this.pendingTasks.add(c),c}remove(c){this.pendingTasks.delete(c),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:()=>new o})}return o})();const Ic=class qO extends Ut.B{constructor(s=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=s,g_()&&(this.destroyRef=an(Gm,{optional:!0})??void 0,this.pendingTasks=an(qu,{optional:!0})??void 0)}emit(s){const c=a(null);try{super.next(s)}finally{a(c)}}subscribe(s,c,u){let h=s,m=c||(()=>null),g=u;if(s&&"object"==typeof s){const T=s;h=T.next?.bind(T),m=T.error?.bind(T),g=T.complete?.bind(T)}this.__isAsync&&(m=this.wrapInTimeout(m),h&&(h=this.wrapInTimeout(h)),g&&(g=this.wrapInTimeout(g)));const w=super.subscribe({next:h,error:m,complete:g});return s instanceof rn.yU&&s.add(w),w}wrapInTimeout(s){return c=>{const u=this.pendingTasks?.add();setTimeout(()=>{s(c),void 0!==u&&this.pendingTasks?.remove(u)})}}};function ox(){return this._results[Symbol.iterator]()}class sw{static#e=Symbol.iterator;get changes(){return this._changes??=new Ic}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const c=sw.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=ox)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){this.dirty=!1;const u=function Xo(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function pO(o,s,c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],m=s[u];if(c&&(h=c(h),m=c(m)),m!==h)return!1}return!0}(this._results,u,c))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function z_(o){return!(128&~o.flags)}const Ca=new Map;let QO=0;const lw="__ngContext__";function Jo(o,s){xi(s)?(o[lw]=s[Ci],function W$(o){Ca.set(o[Ci],o)}(s)):o[lw]=s}function dw(o){return sP(o[Tt])}function hx(o){return sP(o[I])}function sP(o){for(;null!==o&&!Ni(o);)o=o[I];return o}let W_;function Xm(o){W_=o}const K_=new xn("",{providedIn:"root",factory:()=>fP}),fP="ng",Qm=new xn(""),Da=new xn("",{providedIn:"platform",factory:()=>"unknown"}),X$=new xn(""),mx=new xn("",{providedIn:"root",factory:()=>function Cc(){if(void 0!==W_)return W_;if(typeof document<"u")return document;throw new Qt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vx=()=>null;function yx(o,s,c=!1){return vx(o,s,c)}const IP=new xn("",{providedIn:"root",factory:()=>!1});let Ew,Iw;function Zm(o){return function Ix(){if(void 0===Ew&&(Ew=null,Ri.trustedTypes))try{Ew=Ri.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Ew}()?.createHTML(o)||o}function TP(o){return function Cx(){if(void 0===Iw&&(Iw=null,Ri.trustedTypes))try{Iw=Ri.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Iw}()?.createScriptURL(o)||o}class $h{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${eh})`}}class s4 extends $h{getTypeName(){return"HTML"}}class a4 extends $h{getTypeName(){return"Style"}}class c4 extends $h{getTypeName(){return"Script"}}class l4 extends $h{getTypeName(){return"URL"}}class u4 extends $h{getTypeName(){return"ResourceURL"}}function Ql(o){return o instanceof $h?o.changingThisBreaksApplicationSecurity:o}function Jm(o,s){const c=function d4(o){return o instanceof $h&&o.getTypeName()||null}(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see ${eh})`)}return c===s}function h4(o){return new s4(o)}function f4(o){return new a4(o)}function m4(o){return new c4(o)}function p4(o){return new l4(o)}function g4(o){return new u4(o)}class _4{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(Zm(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch{return null}}}class v4{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const c=this.inertDocument.createElement("template");return c.innerHTML=Zm(s),c}}const b4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Cw(o){return(o=String(o)).match(b4)?o:"unsafe:"+o}function Yl(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function ev(...o){const s={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(s[u]=!0);return s}const AP=Yl("area,br,col,hr,img,wbr"),SP=Yl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),MP=Yl("rp,rt"),xx=ev(AP,ev(SP,Yl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ev(MP,Yl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ev(MP,SP)),Ax=Yl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),RP=ev(Ax,Yl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),w4=Yl("script,style,template");class E4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,u=!0,h=[];for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)h.push(c),c=D4(c);else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let m=C4(c);if(m){c=m;break}c=h.pop()}return this.buf.join("")}startElement(s){const c=kP(s).toLowerCase();if(!xx.hasOwnProperty(c))return this.sanitizedSomething=!0,!w4.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=s.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),g=m.name,w=g.toLowerCase();if(!RP.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let T=m.value;Ax[w]&&(T=Cw(T)),this.buf.push(" ",g,'="',PP(T),'"')}return this.buf.push(">"),!0}endElement(s){const c=kP(s).toLowerCase();xx.hasOwnProperty(c)&&!AP.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(PP(s))}}function C4(o){const s=o.nextSibling;if(s&&o!==s.previousSibling)throw OP(s);return s}function D4(o){const s=o.firstChild;if(s&&function I4(o,s){return(o.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,s))throw OP(s);return s}function kP(o){const s=o.nodeName;return"string"==typeof s?s:"FORM"}function OP(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const T4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x4=/([^\#-~ |!])/g;function PP(o){return o.replace(/&/g,"&amp;").replace(T4,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(x4,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Dw;function NP(o,s){let c=null;try{Dw=Dw||function xP(o){const s=new v4(o);return function y4(){try{return!!(new window.DOMParser).parseFromString(Zm(""),"text/html")}catch{return!1}}()?new _4(s):s}(o);let u=s?String(s):"";c=Dw.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=c.innerHTML,c=Dw.getInertBodyElement(u)}while(u!==m);return Zm((new E4).sanitizeChildren(Sx(c)||c))}finally{if(c){const u=Sx(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Sx(o){return"content"in o&&function A4(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Hh=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Hh||{});function FP(o){const s=dl();return s?s.sanitize(Hh.URL,o)||"":Jm(o,"URL")?Ql(o):Cw(qe(o))}function LP(o){const s=dl();if(s)return TP(s.sanitize(Hh.RESOURCE_URL,o)||"");if(Jm(o,"ResourceURL"))return TP(Ql(o));throw new Qt(904,!1)}function Mx(o,s,c){return function tv(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?LP:FP}(s,c)(o)}function dl(){const o=bt();return o&&o[ct].sanitizer}function Is(o){return o instanceof Function?o():o}function es(o){return"browser"===(o??an(Lr)).get(Da)}var av=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(av||{});let Gh;function Bx(o,s){return Gh(o,s)}function Wh(o,s,c,u,h){if(null!=u){let m,g=!1;Ni(u)?m=u:xi(u)&&(g=!0,u=u[Pi]);const w=ai(u);0===o&&null!==c?null==h?lv(s,c,w):qh(s,c,w,h||null,!0):1===o&&null!==c?qh(s,c,w,h||null,!0):2===o?function Jl(o,s,c){const u=tp(o,s);u&&function JP(o,s,c,u){o.removeChild(s,c,u)}(o,u,s,c)}(s,w,g):3===o&&s.destroyNode(w),null!=m&&function Vw(o,s,c,u,h){const m=c[Yo];m!==ai(c)&&Wh(s,o,u,m,h);for(let w=Hi;w<c.length;w++){const T=c[w];Ac(T[y],T,o,s,u,m)}}(s,o,m,c,h)}}function cv(o,s,c){return o.createElement(s,c)}function Ow(o,s){s[ct].changeDetectionScheduler?.notify(8),Ac(o,s,s[ot],2,null,null)}function $x(o,s){const c=o[gc],u=s[D];(xi(u)||s[pn]!==u[D][pn])&&(o[b]|=nl.HasTransplantedViews),null===c?o[gc]=[s]:c.push(s)}function Pw(o,s){const c=o[gc],u=c.indexOf(s);c.splice(u,1)}function Kh(o,s){if(o.length<=Hi)return;const c=Hi+s,u=o[c];if(u){const h=u[Mn];null!==h&&h!==o&&Pw(h,u),s>0&&(o[c-1][I]=u[I]);const m=t_(o,Hi+s);!function XP(o,s){Ow(o,s),s[Pi]=null,s[P]=null}(u[y],u);const g=m[vi];null!==g&&g.detachView(m[y]),u[D]=null,u[I]=null,u[b]&=-129}return u}function ep(o,s){if(!(256&s[b])){const c=s[ot];c.destroyNode&&Ac(o,s,c,3,null,null),function jx(o){let s=o[Tt];if(!s)return Hx(o[y],o);for(;s;){let c=null;if(xi(s))c=s[Tt];else{const u=s[Hi];u&&(c=u)}if(!c){for(;s&&!s[I]&&s!==o;)xi(s)&&Hx(s[y],s),s=s[D];null===s&&(s=o),xi(s)&&Hx(s[y],s),c=s&&s[I]}s=c}}(s)}}function Hx(o,s){if(256&s[b])return;const c=a(null);try{s[b]&=-129,s[b]|=256,s[ar]&&Ae(s[ar]),function L4(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const h=s[c[u]];if(!(h instanceof Bm)){const m=c[u+1];if(Array.isArray(m))for(let g=0;g<m.length;g+=2){const w=h[m[g]],T=m[g+1];_c(4,w,T);try{T.call(w)}finally{_c(5,w,T)}}else{_c(4,h,m);try{m.call(h)}finally{_c(5,h,m)}}}}}(o,s),function F4(o,s){const c=o.cleanup,u=s[te];if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const g=c[m+3];g>=0?u[g]():u[-g].unsubscribe(),m+=2}else c[m].call(u[c[m+1]]);null!==u&&(s[te]=null);const h=s[ki];if(null!==h){s[ki]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(o,s),1===s[y].type&&s[ot].destroy();const u=s[Mn];if(null!==u&&Ni(s[D])){u!==s[D]&&Pw(u,s);const h=s[vi];null!==h&&h.detachView(o)}!function sx(o){Ca.delete(o[Ci])}(s)}finally{a(c)}}function zx(o,s,c){return function ZP(o,s,c){let u=s;for(;null!==u&&168&u.type;)u=(s=u).parent;if(null===u)return c[Pi];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:m}=o.data[u.directiveStart+h];if(m===ba.None||m===ba.Emulated)return null}return zr(u,c)}}(o,s.parent,c)}function qh(o,s,c,u,h){o.insertBefore(s,c,u,h)}function lv(o,s,c){o.appendChild(s,c)}function uv(o,s,c,u,h){null!==u?qh(o,s,c,u,h):lv(o,s,c)}function tp(o,s){return o.parentNode(s)}function Gx(o,s,c){return Kx(o,s,c)}let Nw,Kx=function Wx(o,s,c){return 40&o.type?zr(o,c):null};function np(o,s,c,u){const h=zx(o,u,s),m=s[ot],w=Gx(u.parent||s[P],u,s);if(null!=h)if(Array.isArray(c))for(let T=0;T<c.length;T++)uv(m,h,c[T],w,!1);else uv(m,h,c,w,!1);void 0!==Nw&&Nw(m,u,s,c,h)}function ip(o,s){if(null!==s){const c=s.type;if(3&c)return zr(s,o);if(4&c)return Fw(-1,o[s.index]);if(8&c){const u=s.child;if(null!==u)return ip(o,u);{const h=o[s.index];return Ni(h)?Fw(-1,h):ai(h)}}if(32&c)return Bx(s,o)()||ai(o[s.index]);{const u=rp(o,s);return null!==u?Array.isArray(u)?u[0]:ip(sl(o[pn]),u):ip(o,s.next)}}return null}function rp(o,s){return null!==s?o[pn][P].projection[s.projection]:null}function Fw(o,s){const c=Hi+o+1;if(c<s.length){const u=s[c],h=u[y].firstChild;if(null!==h)return ip(u,h)}return s[Yo]}function Xx(o,s,c,u,h,m,g){for(;null!=c;){if(128===c.type){c=c.next;continue}const w=u[c.index],T=c.type;if(g&&0===s&&(w&&Jo(ai(w),u),c.flags|=2),32&~c.flags)if(8&T)Xx(o,s,c.child,u,h,m,!1),Wh(s,o,h,w,m);else if(32&T){const O=Bx(c,u);let F;for(;F=O();)Wh(s,o,h,F,m);Wh(s,o,h,w,m)}else 16&T?Lw(o,s,u,c,h,m):Wh(s,o,h,w,m);c=g?c.projectionNext:c.next}}function Ac(o,s,c,u,h,m){Xx(c,u,o.firstChild,s,h,m,!1)}function Lw(o,s,c,u,h,m){const g=c[pn],T=g[P].projection[u.projection];if(Array.isArray(T))for(let O=0;O<T.length;O++)Wh(s,o,h,T[O],m);else{let O=T;const F=g[D];z_(u)&&(O.flags|=128),Xx(o,s,O,F,h,m,!0)}}function Zx(o,s,c){""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c)}function Jx(o,s,c){const{mergedAttrs:u,classes:h,styles:m}=c;null!==u&&pr(o,s,u),null!==h&&Zx(o,s,h),null!==m&&function eN(o,s,c){o.setAttribute(s,"style",c)}(o,s,m)}const Pn={};function eA(o=1){Ya(Wn(),bt(),co()+o,!1)}function Ya(o,s,c,u){if(!u)if(3&~s[b]){const m=o.preOrderHooks;null!==m&&R_(s,m,0,c)}else{const m=o.preOrderCheckHooks;null!==m&&Kl(s,m,c)}bc(c)}function op(o,s=yt.Default){const c=bt();return null===c?yo(o,s):zT(Oi(),c,bn(o),s)}function Qh(){throw new Error("invalid")}function Bw(o,s,c,u,h,m){const g=a(null);try{let w=null;h&Ul.SignalBased&&(w=s[u][A]),null!==w&&void 0!==w.transformFn&&(m=w.transformFn(m)),h&Ul.HasDecoratorInputTransform&&(m=o.inputTransforms[u].call(s,m)),null!==o.setInput?o.setInput(s,w,m,c,u):wT(s,w,u,m)}finally{a(g)}}function Uw(o,s,c,u,h,m,g,w,T,O,F){const G=s.blueprint.slice();return G[Pi]=h,G[b]=204|u,(null!==O||o&&2048&o[b])&&(G[b]|=2048),km(G),G[D]=G[Jt]=o,G[ie]=c,G[ct]=g||o&&o[ct],G[ot]=w||o&&o[ot],G[we]=T||o&&o[we]||null,G[P]=m,G[Ci]=function G$(){return QO++}(),G[j]=F,G[No]=O,G[pn]=2==s.type?o[pn]:G,G}function Qu(o,s,c,u,h){let m=o.data[s];if(null===m)m=function jw(o,s,c,u,h){const m=RT(),g=V0(),T=o.data[s]=function z4(o,s,c,u,h,m){let g=s?s.injectorIndex:-1,w=0;return Gl()&&(w|=128),{type:c,index:u,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?m:m&&m.parent,c,s,u,h);return null===o.firstChild&&(o.firstChild=T),null!==m&&(g?null==m.child&&null!==T.parent&&(m.child=T):null===m.next&&(m.next=T,T.prev=m)),T}(o,s,c,u,h),function A_(){return An.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=u,m.attrs=h;const g=function Om(){const o=An.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();m.injectorIndex=null===g?-1:g.injectorIndex}return Tr(m,!0),m}function sp(o,s,c,u){if(0===c)return-1;const h=s.length;for(let m=0;m<c;m++)s.push(u),o.blueprint.push(u),o.data.push(null);return h}function tA(o,s,c,u,h){const m=co(),g=2&u;try{bc(-1),g&&s.length>dn&&Ya(o,s,dn,!1),_c(g?2:0,h),c(u,h)}finally{bc(m),_c(g?3:1,h)}}function $w(o,s,c){if(Di(s)){const u=a(null);try{const m=s.directiveEnd;for(let g=s.directiveStart;g<m;g++){const w=o.data[g];w.contentQueries&&w.contentQueries(1,c[g],g)}}finally{a(u)}}}function Hw(o,s,c){ST()&&(function Q4(o,s,c,u){const h=c.directiveStart,m=c.directiveEnd;qa(c)&&function tH(o,s,c){const u=zr(s,o),h=nA(c);let g=16;c.signals?g=4096:c.onPush&&(g=64);const w=ap(o,Uw(o,h,null,g,u,s,null,o[ct].rendererFactory.createRenderer(u,c),null,null,null));o[s.index]=w}(s,c,o.data[h+c.componentOffset]),o.firstCreatePass||F_(c,s),Jo(u,s);const g=c.initialInputs;for(let w=h;w<m;w++){const T=o.data[w],O=Ec(s,o,w,c);Jo(O,s),null!==g&&xa(0,w-h,O,T,0,g),wo(T)&&(bs(c.index,s)[ie]=Ec(s,o,w,c))}}(o,s,c,zr(c,s)),!(64&~c.flags)&&oA(o,s,c))}function zw(o,s,c=zr){const u=s.localNames;if(null!==u){let h=s.index+1;for(let m=0;m<u.length;m+=2){const g=u[m+1],w=-1===g?c(s,o):o[g];o[h++]=w}}}function nA(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=dv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):s}function dv(o,s,c,u,h,m,g,w,T,O,F){const G=dn+u,de=G+h,ve=function U4(o,s){const c=[];for(let u=0;u<s;u++)c.push(u<o?null:Pn);return c}(G,de),Ze="function"==typeof O?O():O;return ve[y]={type:o,blueprint:ve,template:c,queries:null,viewQuery:w,declTNode:s,data:ve.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:T,consts:Ze,incompleteFirstPass:!1,ssrId:F}}let iA=()=>null;function nN(o,s,c,u,h){for(let m in s){if(!s.hasOwnProperty(m))continue;const g=s[m];if(void 0===g)continue;u??={};let w,T=Ul.None;Array.isArray(g)?(w=g[0],T=g[1]):w=g;let O=m;if(null!==h){if(!h.hasOwnProperty(m))continue;O=h[m]}0===o?iN(u,c,O,w,T):iN(u,c,O,w)}return u}function iN(o,s,c,u,h){let m;o.hasOwnProperty(c)?(m=o[c]).push(s,u):m=o[c]=[s,u],void 0!==h&&m.push(h)}function Eo(o,s,c,u,h,m,g,w){const T=zr(s,c);let F,O=s.inputs;!w&&null!=O&&(F=O[u])?(hl(o,c,F,u,h),qa(s)&&function K4(o,s){const c=bs(s,o);16&c[b]||(c[b]|=64)}(c,s.index)):3&s.type&&(u=function W4(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=g?g(h,s.value||"",u):h,m.setProperty(T,u,h))}function Gw(o,s,c,u){if(ST()){const h=null===u?null:{"":-1},m=function Y4(o,s){const c=o.directiveRegistry;let u=null,h=null;if(c)for(let m=0;m<c.length;m++){const g=c[m];if(p0(s,g.selectors,!1))if(u||(u=[]),wo(g))if(null!==g.findHostDirectiveDefs){const w=[];h=h||new Map,g.findHostDirectiveDefs(g,w,h),u.unshift(...w,g),sA(o,s,w.length)}else u.unshift(g),sA(o,s,0);else h=h||new Map,g.findHostDirectiveDefs?.(g,u,h),u.push(g)}return null===u?null:[u,h]}(o,c);let g,w;null===m?g=w=null:[g,w]=m,null!==g&&rA(o,s,c,g,h,w),h&&function Z4(o,s,c){if(s){const u=o.localNames=[];for(let h=0;h<s.length;h+=2){const m=c[s[h+1]];if(null==m)throw new Qt(-301,!1);u.push(s[h],m)}}}(c,u,h)}c.mergedAttrs=On(c.mergedAttrs,c.attrs)}function rA(o,s,c,u,h,m){for(let O=0;O<u.length;O++)Y0(F_(c,s),o,u[O].type);!function hv(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}(c,o.data.length,u.length);for(let O=0;O<u.length;O++){const F=u[O];F.providersResolver&&F.providersResolver(F)}let g=!1,w=!1,T=sp(o,s,u.length,null);for(let O=0;O<u.length;O++){const F=u[O];c.mergedAttrs=On(c.mergedAttrs,F.hostAttrs),eH(o,c,s,T,F),J4(T,F,h),null!==F.contentQueries&&(c.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(c.flags|=64);const G=F.type.prototype;!g&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),g=!0),!w&&(G.ngOnChanges||G.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),w=!0),T++}!function G4(o,s,c){const h=s.directiveEnd,m=o.data,g=s.attrs,w=[];let T=null,O=null;for(let F=s.directiveStart;F<h;F++){const G=m[F],de=c?c.get(G):null,Ze=de?de.outputs:null;T=nN(0,G.inputs,F,T,de?de.inputs:null),O=nN(1,G.outputs,F,O,Ze);const _t=null===T||null===g||vm(s)?null:sN(T,F,g);w.push(_t)}null!==T&&(T.hasOwnProperty("class")&&(s.flags|=8),T.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=w,s.inputs=T,s.outputs=O}(o,c,m)}function oA(o,s,c){const u=c.directiveStart,h=c.directiveEnd,m=c.index,g=function U0(){return An.lFrame.currentDirectiveIndex}();try{bc(m);for(let w=u;w<h;w++){const T=o.data[w],O=s[w];S_(w),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&oN(T,O)}}finally{bc(-1),S_(g)}}function oN(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function sA(o,s,c){s.componentOffset=c,(o.components??=[]).push(s.index)}function J4(o,s,c){if(c){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)c[s.exportAs[u]]=o;wo(s)&&(c[""]=o)}}function eH(o,s,c,u,h){o.data[u]=h;const m=h.factory||(h.factory=Vu(h.type)),g=new Bm(m,wo(h),op);o.blueprint[u]=g,c[u]=g,function rN(o,s,c,u,h){const m=h.hostBindings;if(m){let g=o.hostBindingOpCodes;null===g&&(g=o.hostBindingOpCodes=[]);const w=~s.index;(function X4(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(g)!=w&&g.push(w),g.push(c,u,m)}}(o,s,u,sp(o,c,h.hostVars,Pn),h)}function Cs(o,s,c,u,h,m){const g=zr(o,s);!function aA(o,s,c,u,h,m,g){if(null==m)o.removeAttribute(s,h,c);else{const w=null==g?qe(m):g(m,u||"",h);o.setAttribute(s,h,w,c)}}(s[ot],g,m,o.value,c,u,h)}function xa(o,s,c,u,h,m){const g=m[s];if(null!==g)for(let w=0;w<g.length;)Bw(u,c,g[w++],g[w++],g[w++],g[w++])}function sN(o,s,c){let u=null,h=0;for(;h<c.length;){const m=c[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===u&&(u=[]);const g=o[m];for(let w=0;w<g.length;w+=3)if(g[w]===s){u.push(m,g[w+1],g[w+2],c[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function Ww(o,s,c,u){return[o,!0,0,s,null,u,null,c,null,null]}function cA(o,s){const c=o.contentQueries;if(null!==c){const u=a(null);try{for(let h=0;h<c.length;h+=2){const g=c[h+1];if(-1!==g){const w=o.data[g];Lm(c[h]),w.contentQueries(2,s[g],g)}}}finally{a(u)}}}function ap(o,s){return o[Tt]?o[At][I]=s:o[Tt]=s,o[At]=s,s}function Kw(o,s,c){Lm(0);const u=a(null);try{s(o,c)}finally{a(u)}}function qw(o){return o[te]??=[]}function Xw(o){return o.cleanup??=[]}function Yh(o,s,c){return(null===o||wo(o))&&(c=function N0(o){for(;Array.isArray(o);){if("object"==typeof o[wh])return o;o=o[Pi]}return null}(c[s.index])),c[ot]}function fv(o,s){const c=o[we],u=c?c.get(Ia,null):null;u&&u.handleError(s)}function hl(o,s,c,u,h){for(let m=0;m<c.length;){const g=c[m++],w=c[m++],T=c[m++];Bw(o.data[g],s[g],u,w,T,h)}}function Aa(o,s,c){const u=Ch(s,o);!function Ux(o,s,c){o.setValue(s,c)}(o[ot],u,c)}function cp(o,s){const c=bs(s,o),u=c[y];!function cN(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])}(u,c);const h=c[Pi];null!==h&&null===c[j]&&(c[j]=yx(h,c[we])),mv(u,c,c[ie])}function mv(o,s,c){Th(s);try{const u=o.viewQuery;null!==u&&Kw(1,u,c);const h=o.template;null!==h&&tA(o,s,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),s[vi]?.finishViewCreation(o),o.staticContentQueries&&cA(o,s),o.staticViewQueries&&Kw(2,o.viewQuery,c);const m=o.components;null!==m&&function lA(o,s){for(let c=0;c<s.length;c++)cp(o,s[c])}(s,m)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[b]&=-5,$0()}}function lp(o,s,c,u){const h=a(null);try{const m=s.tView,T=Uw(o,m,c,4096&o[b]?4096:16,null,s,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);T[Mn]=o[s.index];const F=o[vi];return null!==F&&(T[vi]=F.createEmbeddedView(m)),mv(m,T,c),T}finally{a(h)}}function Qw(o,s){const c=Hi+s;if(c<o.length)return o[c]}function Zh(o,s){return!s||null===s.firstChild||z_(o)}function Jh(o,s,c,u=!0){const h=s[y];if(function YP(o,s,c,u){const h=Hi+u,m=c.length;u>0&&(c[h-1][I]=s),u<m-Hi?(s[I]=c[h],u0(c,Hi+u,s)):(c.push(s),s[I]=null),s[D]=c;const g=s[Mn];null!==g&&c!==g&&$x(g,s);const w=s[vi];null!==w&&w.insertView(o),rl(s),s[b]|=128}(h,s,o,c),u){const g=Fw(c,o),w=s[ot],T=tp(w,o[Yo]);null!==T&&function QP(o,s,c,u,h,m){u[Pi]=h,u[P]=s,Ac(o,u,c,1,h,m)}(h,o[P],w,s,T,g)}const m=s[j];null!==m&&null!==m.firstChild&&(m.firstChild=null)}function Yw(o,s){const c=Kh(o,s);return void 0!==c&&ep(c[y],c),c}function Yu(o,s,c,u,h=!1){for(;null!==c;){if(128===c.type){c=h?c.projectionNext:c.next;continue}const m=s[c.index];null!==m&&u.push(ai(m)),Ni(m)&&uA(m,u);const g=c.type;if(8&g)Yu(o,s,c.child,u);else if(32&g){const w=Bx(c,s);let T;for(;T=w();)u.push(T)}else if(16&g){const w=rp(s,c);if(Array.isArray(w))u.push(...w);else{const T=sl(s[pn]);Yu(T[y],T,w,u,!0)}}c=h?c.projectionNext:c.next}return u}function uA(o,s){for(let c=Hi;c<o.length;c++){const u=o[c],h=u[y].firstChild;null!==h&&Yu(u[y],u,h,s)}o[Yo]!==o[Pi]&&s.push(o[Yo])}let dA=[];const Zw={...Ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{ol(o.lView)},consumerOnSignalRead(){this.lView[ar]=this}},pA={...Ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let s=sl(o.lView);for(;s&&!up(s[y]);)s=sl(s);s&&vc(s)},consumerOnSignalRead(){this.lView[ar]=this}};function up(o){return 2!==o.type}const gA=100;function pv(o,s=!0,c=0){const u=o[ct],h=u.rendererFactory;h.begin?.();try{!function lN(o,s){const c=x_();try{Ea(!0),tE(o,s);let u=0;for(;zl(o);){if(u===gA)throw new Qt(103,!1);u++,tE(o,1)}}finally{Ea(c)}}(o,c)}catch(g){throw s&&fv(o,g),g}finally{h.end?.(),u.inlineEffectRunner?.flush()}}function uN(o,s,c,u){const h=s[b];if(!(256&~h))return;s[ct].inlineEffectRunner?.flush(),Th(s);let w=!0,T=null,O=null;up(o)?(O=function hA(o){return o[ar]??function fA(o){const s=dA.pop()??Object.create(Zw);return s.lView=o,s}(o)}(s),T=Oe(O)):null===function De(){return ne}()?(w=!1,O=function Jw(o){const s=o[ar]??Object.create(pA);return s.lView=o,s}(s),T=Oe(O)):s[ar]&&(Ae(s[ar]),s[ar]=null);try{km(s),function B0(o){return An.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&tA(o,s,c,2,u);const F=!(3&~h);if(F){const ve=o.preOrderCheckHooks;null!==ve&&Kl(s,ve,null)}else{const ve=o.preOrderHooks;null!==ve&&R_(s,ve,0,null),G0(s,0)}if(function nH(o){for(let s=dw(o);null!==s;s=hx(s)){if(!(s[b]&nl.HasTransplantedViews))continue;const c=s[gc];for(let u=0;u<c.length;u++)vc(c[u])}}(s),vA(s,0),null!==o.contentQueries&&cA(o,s),F){const ve=o.contentCheckHooks;null!==ve&&Kl(s,ve)}else{const ve=o.contentHooks;null!==ve&&R_(s,ve,1),G0(s,1)}!function B4(o,s){const c=o.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const h=c[u];if(h<0)bc(~h);else{const m=h,g=c[++u],w=c[++u];OT(g,m),w(2,s[m])}}}finally{bc(-1)}}(o,s);const G=o.components;null!==G&&gv(s,G,0);const de=o.viewQuery;if(null!==de&&Kw(2,de,u),F){const ve=o.viewCheckHooks;null!==ve&&Kl(s,ve)}else{const ve=o.viewHooks;null!==ve&&R_(s,ve,2),G0(s,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[ao]){for(const ve of s[ao])ve();s[ao]=null}s[b]&=-73}catch(F){throw ol(s),F}finally{null!==O&&(ge(O,T),w&&function mA(o){o.lView[ar]!==o&&(o.lView=null,dA.push(o))}(O)),$0()}}function vA(o,s){for(let c=dw(o);null!==c;c=hx(c))for(let u=Hi;u<c.length;u++)eE(c[u],s)}function dN(o,s,c){eE(bs(s,o),c)}function eE(o,s){Gu(o)&&tE(o,s)}function tE(o,s){const u=o[y],h=o[b],m=o[ar];let g=!!(0===s&&16&h);if(g||=!!(64&h&&0===s),g||=!!(1024&h),g||=!(!m?.dirty||!Fe(m)),g||=!1,m&&(m.dirty=!1),o[b]&=-9217,g)uN(u,o,u.template,o[ie]);else if(8192&h){vA(o,1);const w=u.components;null!==w&&gv(o,w,1)}}function gv(o,s,c){for(let u=0;u<s.length;u++)dN(o,s[u],c)}function Zu(o,s){const c=x_()?64:1088;for(o[ct].changeDetectionScheduler?.notify(s);o;){o[b]|=c;const u=sl(o);if(xm(o)&&!u)return o;o=u}return null}class Gs{get rootNodes(){const s=this._lView,c=s[y];return Yu(c,s,c.firstChild,[])}constructor(s,c,u=!0){this._lView=s,this._cdRefInjectingView=c,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ie]}set context(s){this._lView[ie]=s}get destroyed(){return!(256&~this._lView[b])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[D];if(Ni(s)){const c=s[8],u=c?c.indexOf(this):-1;u>-1&&(Kh(s,u),t_(c,u))}this._attachedToViewContainer=!1}ep(this._lView[y],this._lView)}onDestroy(s){Dh(this._lView,s)}markForCheck(){Zu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[b]&=-129}reattach(){rl(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,pv(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const s=xm(this._lView),c=this._lView[Mn];null!==c&&!s&&Pw(c,this._lView),Ow(this._lView[y],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Qt(902,!1);this._appRef=s;const c=xm(this._lView),u=this._lView[Mn];null!==u&&!c&&$x(u,this._lView),rl(this._lView)}}let _v=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=mN}return o})();const hN=_v,fN=class extends hN{constructor(s,c,u){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,c){return this.createEmbeddedViewImpl(s,c)}createEmbeddedViewImpl(s,c,u){const h=lp(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:c,dehydratedView:u});return new Gs(h)}};function mN(){return vv(Oi(),bt())}function vv(o,s){return 4&o.type?new fN(s,o,Fh(o,s)):null}let FN=()=>null;function rd(o,s){return FN(o,s)}class Sc{}const pp=new xn("",{providedIn:"root",factory:()=>!1}),hE=new xn("");class VN{}class fE{}class BN{resolveComponentFactory(s){throw function LA(o){const s=Error(`No component factory found for ${qi(o)}.`);return s.ngComponent=o,s}(s)}}class Mv{static#e=this.NULL=new BN}class rf{}let VA=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function UN(){const o=bt(),c=bs(Oi().index,o);return(xi(c)?c:o)[ot]}()}return o})(),jN=(()=>{class o{static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:()=>null})}return o})();const BA=new Set;function Io(o){BA.has(o)||(BA.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function UA(o){let s=!0;return setTimeout(()=>{s&&(s=!1,o())}),"function"==typeof Ri.requestAnimationFrame&&Ri.requestAnimationFrame(()=>{s&&(s=!1,o())}),()=>{s=!1}}function jA(o){let s=!0;return queueMicrotask(()=>{s&&o()}),()=>{s=!1}}function Vo(...o){}class Gi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ic(!1),this.onMicrotaskEmpty=new Ic(!1),this.onStable=new Ic(!1),this.onError=new Ic(!1),typeof Zone>"u")throw new Qt(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.callbackScheduled=!1,function $A(o){const s=()=>{!function $N(o){o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,Zone.root.run(()=>{UA(()=>{o.callbackScheduled=!1,kv(o),o.isCheckStableRunning=!0,sf(o),o.isCheckStableRunning=!1})}),kv(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,m,g,w)=>{if(function zN(o){return zA(o,"__ignore_ng_zone__")}(w))return c.invokeTask(h,m,g,w);try{return HN(o),c.invokeTask(h,m,g,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&s(),HA(o)}},onInvoke:(c,u,h,m,g,w,T)=>{try{return HN(o),c.invoke(h,m,g,w,T)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function IH(o){return zA(o,"__scheduler_tick__")}(w)&&s(),HA(o)}},onHasTask:(c,u,h,m)=>{c.hasTask(h,m),u===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,kv(o),sf(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,u,h,m)=>(c.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Gi.isInAngularZone())throw new Qt(909,!1)}static assertNotInAngularZone(){if(Gi.isInAngularZone())throw new Qt(909,!1)}run(s,c,u){return this._inner.run(s,c,u)}runTask(s,c,u,h){const m=this._inner,g=m.scheduleEventTask("NgZoneEvent: "+h,s,Rv,Vo,Vo);try{return m.runTask(g,c,u)}finally{m.cancelTask(g)}}runGuarded(s,c,u){return this._inner.runGuarded(s,c,u)}runOutsideAngular(s){return this._outer.run(s)}}const Rv={};function sf(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function kv(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function HN(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function HA(o){o._nesting--,sf(o)}class pE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ic,this.onMicrotaskEmpty=new Ic,this.onStable=new Ic,this.onError=new Ic}run(s,c,u){return s.apply(c,u)}runGuarded(s,c,u){return s.apply(c,u)}runOutsideAngular(s){return s()}runTask(s,c,u,h){return s.apply(c,u)}}function zA(o,s){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[s]}var ns=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(ns||{});const gp={destroy(){}};function WA(o,s){!s&&Dm();const c=s?.injector??an(Lr);return es(c)?(Io("NgAfterRender"),gE(o,c,!1,s?.phase??ns.MixedReadWrite)):gp}function tu(o,s){!s&&Dm();const c=s?.injector??an(Lr);return es(c)?(Io("NgAfterNextRender"),gE(o,c,!0,s?.phase??ns.MixedReadWrite)):gp}function gE(o,s,c,u){const h=function GN(o,s){if(o instanceof Function)switch(s){case ns.EarlyRead:return{earlyRead:o};case ns.Write:return{write:o};case ns.MixedReadWrite:return{mixedReadWrite:o};case ns.Read:return{read:o}}return o}(o,u),m=s.get(is),g=m.handler??=new Ov,w=[],T=[],O=()=>{for(const ve of T)g.unregister(ve);F()},F=s.get(Gm).onDestroy(O);let G=0;const de=(ve,Ze)=>{if(!Ze)return;const _t=c?(...$t)=>{G--,G<1&&O(),Ze(...$t)}:Ze,Pt=p_(s,()=>new KA(ve,w,_t));g.register(Pt),T.push(Pt),G++};return de(ns.EarlyRead,h.earlyRead),de(ns.Write,h.write),de(ns.MixedReadWrite,h.mixedReadWrite),de(ns.Read,h.read),{destroy:O}}class KA{constructor(s,c,u){this.phase=s,this.pipelinedArgs=c,this.callbackFn=u,this.zone=an(Gi),this.errorHandler=an(Ia,{optional:!0}),an(Sc,{optional:!0})?.notify(6)}invoke(){try{const s=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,s)}catch(s){this.errorHandler?.handleError(s)}}}class Ov{constructor(){this.executingCallbacks=!1,this.buckets={[ns.EarlyRead]:new Set,[ns.Write]:new Set,[ns.MixedReadWrite]:new Set,[ns.Read]:new Set},this.deferredCallbacks=new Set}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const c of s)c.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let is=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const c=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of c)u()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:()=>new o})}return o})();function pl(o){return!!Hr(o)}function yE(o,s,c){let u=c?o.styles:null,h=c?o.classes:null,m=0;if(null!==s)for(let g=0;g<s.length;g++){const w=s[g];"number"==typeof w?m=w:1==m?h=Fl(h,w):2==m&&(u=Fl(u,w+": "+s[++g]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=h:o.classesWithoutHost=h}class QA extends Mv{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=Bn(s);return new _p(c,this.ngModule)}}function YA(o,s){const c=[];for(const u in o){if(!o.hasOwnProperty(u))continue;const h=o[u];if(void 0===h)continue;const m=Array.isArray(h),g=m?h[0]:h;c.push(s?{propName:g,templateName:u,isSignal:!!((m?h[1]:Ul.None)&Ul.SignalBased)}:{propName:g,templateName:u})}return c}class _p extends fE{get inputs(){const s=this.componentDef,c=s.inputTransforms,u=YA(s.inputs,!0);if(null!==c)for(const h of u)c.hasOwnProperty(h.propName)&&(h.transform=c[h.propName]);return u}get outputs(){return YA(this.componentDef.outputs,!1)}constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=function _i(o){return o.map(r_).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}create(s,c,u,h){const m=a(null);try{let g=(h=h||this.ngModule)instanceof $s?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const w=g?new Ku(s,g):s,T=w.get(rf,null);if(null===T)throw new Qt(407,!1);const O=w.get(jN,null),de={rendererFactory:T,sanitizer:O,inlineEffectRunner:null,afterRenderEventManager:w.get(is,null),changeDetectionScheduler:w.get(Sc,null)},ve=T.createRenderer(null,this.componentDef),Ze=this.componentDef.selectors[0][0]||"div",_t=u?function j4(o,s,c,u){const m=u.get(IP,!1)||c===ba.ShadowDom,g=o.selectRootElement(s,m);return function tN(o){iA(o)}(g),g}(ve,u,this.componentDef.encapsulation,w):cv(ve,Ze,function Fv(o){const s=o.toLowerCase();return"svg"===s?Rm:"math"===s?"math":null}(Ze));let Pt=512;this.componentDef.signals?Pt|=4096:this.componentDef.onPush||(Pt|=16);let $t=null;null!==_t&&($t=yx(_t,w,!0));const Ct=dv(0,null,null,1,0,null,null,null,null,null,null),In=Uw(null,Ct,null,Pt,null,null,de,ve,w,null,$t);let ni,Mi;Th(In);try{const Qr=this.componentDef;let ss,Ld=null;Qr.findHostDirectiveDefs?(ss=[],Ld=new Map,Qr.findHostDirectiveDefs(Qr,ss,Ld),ss.push(Qr)):ss=[Qr];const UC=function bE(o,s){const c=o[y],u=dn;return o[u]=s,Qu(c,u,2,"#host",null)}(In,_t),l2=function TH(o,s,c,u,h,m,g){const w=h[y];!function KN(o,s,c,u){for(const h of o)s.mergedAttrs=On(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(yE(s,s.mergedAttrs,!0),null!==c&&Jx(u,c,s))}(u,o,s,g);let T=null;null!==s&&(T=yx(s,h[we]));const O=m.rendererFactory.createRenderer(s,c);let F=16;c.signals?F=4096:c.onPush&&(F=64);const G=Uw(h,nA(c),null,F,h[o.index],o,m,O,null,null,T);return w.firstCreatePass&&sA(w,o,u.length-1),ap(h,G),h[o.index]=G}(UC,_t,Qr,ss,In,de,ve);Mi=Hu(Ct,dn),_t&&function qN(o,s,c,u){if(u)pr(o,c,["ng-version","18.1.1"]);else{const{attrs:h,classes:m}=function fh(o){const s=[],c=[];let u=1,h=2;for(;u<o.length;){let m=o[u];if("string"==typeof m)2===h?""!==m&&s.push(m,o[++u]):8===h&&c.push(m);else{if(!gi(h))break;h=m}u++}return{attrs:s,classes:c}}(s.selectors[0]);h&&pr(o,c,h),m&&m.length>0&&Zx(o,c,m.join(" "))}}(ve,Qr,_t,u),void 0!==c&&function XN(o,s,c){const u=o.projection=[];for(let h=0;h<s.length;h++){const m=c[h];u.push(null!=m?Array.from(m):null)}}(Mi,this.ngContentSelectors,c),ni=function ZA(o,s,c,u,h,m){const g=Oi(),w=h[y],T=zr(g,h);rA(w,h,g,c,null,u);for(let F=0;F<c.length;F++)Jo(Ec(h,w,g.directiveStart+F,g),h);oA(w,h,g),T&&Jo(T,h);const O=Ec(h,w,g.directiveStart+g.componentOffset,g);if(o[ie]=h[ie]=O,null!==m)for(const F of m)F(O,s);return $w(w,g,h),O}(l2,Qr,ss,Ld,In,[JA]),mv(Ct,In,null)}finally{$0()}return new WN(this.componentType,ni,Fh(Mi,In),In,Mi)}finally{a(m)}}}class WN extends VN{constructor(s,c,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new Gs(h,void 0,!1),this.componentType=s}setInput(s,c){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),c))return;const m=this._rootLView;hl(m[y],m,h,s,c),this.previousInputValues.set(s,c),Zu(bs(this._tNode.index,m),1)}}get injector(){return new Gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function JA(){const o=Oi();al(bt()[y],o)}let cf=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=xH}return o})();function xH(){return ZN(Oi(),bt())}const AH=cf,QN=class extends AH{constructor(s,c,u){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=u}get element(){return Fh(this._hostTNode,this._hostLView)}get injector(){return new Gr(this._hostTNode,this._hostLView)}get parentInjector(){const s=Rh(this._hostTNode,this._hostLView);if(q0(s)){const c=$m(s,this._hostLView),u=jm(s);return new Gr(c[y].data[u+8],c)}return new Gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=YN(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-Hi}createEmbeddedView(s,c,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const g=rd(this._lContainer,s.ssrId),w=s.createEmbeddedViewImpl(c||{},m,g);return this.insertImpl(w,h,Zh(this._hostTNode,g)),w}createComponent(s,c,u,h,m){const g=s&&!function Hl(o){return"function"==typeof o}(s);let w;if(g)w=c;else{const Ze=c||{};w=Ze.index,u=Ze.injector,h=Ze.projectableNodes,m=Ze.environmentInjector||Ze.ngModuleRef}const T=g?s:new _p(Bn(s)),O=u||this.parentInjector;if(!m&&null==T.ngModule){const _t=(g?O:this.parentInjector).get($s,null);_t&&(m=_t)}const F=Bn(T.componentType??{}),G=rd(this._lContainer,F?.id??null),ve=T.create(O,h,G?.firstChild??null,m);return this.insertImpl(ve.hostView,w,Zh(this._hostTNode,G)),ve}insert(s,c){return this.insertImpl(s,c,!0)}insertImpl(s,c,u){const h=s._lView;if(function ei(o){return Ni(o[D])}(h)){const w=this.indexOf(s);if(-1!==w)this.detach(w);else{const T=h[D],O=new QN(T,T[P],T[D]);O.detach(O.indexOf(s))}}const m=this._adjustIndex(c),g=this._lContainer;return Jh(g,h,m,u),s.attachToViewContainerRef(),u0(eS(g),m,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=YN(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),u=Kh(this._lContainer,c);u&&(t_(eS(this._lContainer),c),ep(u[y],u))}detach(s){const c=this._adjustIndex(s,-1),u=Kh(this._lContainer,c);return u&&null!=t_(eS(this._lContainer),c)?new Gs(u):null}_adjustIndex(s,c=0){return s??this.length+c}};function YN(o){return o[8]}function eS(o){return o[8]||(o[8]=[])}function ZN(o,s){let c;const u=s[o.index];return Ni(u)?c=u:(c=Ww(u,s,null,o),s[o.index]=c,ap(s,c)),lf(c,s,o,u),new QN(c,o,s)}let lf=function vp(o,s,c,u){if(o[Yo])return;let h;h=8&c.type?ai(u):function wE(o,s){const c=o[ot],u=c.createComment(""),h=zr(s,o);return qh(c,tp(c,h),u,function Xh(o,s){return o.nextSibling(s)}(c,h),!1),u}(s,c),o[Yo]=h},nu=()=>!1;class nS{constructor(s){this.queryList=s,this.matches=null}clone(){return new nS(this.queryList)}setDirty(){this.queryList.setDirty()}}class iS{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const u=null!==s.contentQueries?s.contentQueries[0]:c.length,h=[];for(let m=0;m<u;m++){const g=c.getByIndex(m);h.push(this.queries[g.indexInDeclarationView].clone())}return new iS(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==CE(s,c).matches&&this.queries[c].setDirty()}}class od{constructor(s,c,u=null){this.flags=c,this.read=u,this.predicate="string"==typeof s?function nF(o){return o.split(",").map(s=>s.trim())}(s):s}}class rS{constructor(s=[]){this.queries=s}elementStart(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,m=this.getByIndex(u).embeddedTView(s,h);m&&(m.indexInDeclarationView=u,null!==c?c.push(m):c=[m])}return null!==c?new rS(c):null}template(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class sd{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new sd(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const c=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(s,c,RH(c,m)),this.matchTNodeWithReadOption(s,c,L_(c,s,m,!1,!1))}else u===_v?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,L_(c,s,u,!1,!1))}matchTNodeWithReadOption(s,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===gr||h===cf||h===_v&&4&c.type)this.addMatch(c.index,-2);else{const m=L_(c,s,h,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,u)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function RH(o,s){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===s)return c[u+1];return null}function eF(o,s,c,u){return-1===c?function en(o,s){return 11&o.type?Fh(o,s):4&o.type?vv(o,s):null}(s,o):-2===c?function tF(o,s,c){return c===gr?Fh(s,o):c===_v?vv(s,o):c===cf?ZN(s,o):void 0}(o,s,u):Ec(o,o[y],c,s)}function oS(o,s,c,u){const h=s[vi].queries[u];if(null===h.matches){const m=o.data,g=c.matches,w=[];for(let T=0;null!==g&&T<g.length;T+=2){const O=g[T];w.push(O<0?null:eF(s,m[O],g[T+1],c.metadata.read))}h.matches=w}return h.matches}function EE(o,s,c,u){const h=o.queries.getByIndex(c),m=h.matches;if(null!==m){const g=oS(o,s,h,c);for(let w=0;w<m.length;w+=2){const T=m[w];if(T>0)u.push(g[w/2]);else{const O=m[w+1],F=s[-T];for(let G=Hi;G<F.length;G++){const de=F[G];de[Mn]===de[D]&&EE(de[y],de,O,u)}if(null!==F[gc]){const G=F[gc];for(let de=0;de<G.length;de++){const ve=G[de];EE(ve[y],ve,O,u)}}}}}return u}function iu(o,s){return o[vi].queries[s].queryList}function IE(o,s,c){const u=new sw(!(4&~c));return function H4(o,s,c,u){const h=qw(s);h.push(c),o.firstCreatePass&&Xw(o).push(u,h.length-1)}(o,s,u,u.destroy),(s[vi]??=new iS).queries.push(new nS(u))-1}function aS(o,s,c,u){const h=Wn();if(h.firstCreatePass){const m=Oi();uf(h,new od(s,c,u),m.index),function iF(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(h,o),!(2&~c)&&(h.staticContentQueries=!0)}return IE(h,bt(),c)}function uf(o,s,c){null===o.queries&&(o.queries=new rS),o.queries.track(new sd(s,c))}function CE(o,s){return o.queries.getByIndex(s)}function cS(o,s){const c=o[y],u=CE(c,s);return u.crossesNgTemplate?EE(c,o,s,[]):oS(c,o,u,s)}function lS(o){return"function"==typeof o&&void 0!==o[A]}function oF(o,s){Io("NgSignals");const c=function se(o){const s=Object.create(Z);s.value=o;const c=()=>(Y(s),s.value);return c[A]=s,c}(o),u=c[A];return s?.equal&&(u.equal=s.equal),c.set=h=>B(u,h),c.update=h=>function $(o,s){Ge()||mn(),B(o,s(o.value))}(u,h),c.asReadonly=sF.bind(c),c}function sF(){const o=this[A];if(void 0===o.readonlyFn){const s=()=>this();s[A]=o,o.readonlyFn=s}return o.readonlyFn}function uS(o,s){let c;const u=ue(()=>{c._dirtyCounter();const h=function uF(o,s){const c=o._lView,u=o._queryIndex;if(void 0===c||void 0===u||4&c[b])return s?void 0:ti;const h=iu(c,u),m=cS(c,u);return h.reset(m,rx),s?h.first:h._changesDetected||void 0===o._flatValue?o._flatValue=h.toArray():o._flatValue}(c,o);if(s&&void 0===h)throw new Qt(-951,!1);return h});return c=u[A],c._dirtyCounter=oF(0),c._flatValue=void 0,u}function dF(o,s){return function cF(){return uS(!0,!1)}()}const NH=(dF.required=function PH(o,s){return function lF(){return uS(!0,!0)}()},dF);function Bv(o){let s=function ru(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;s;){let h;if(wo(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Qt(903,!1);h=s.\u0275dir}if(h){if(c){u.push(h);const g=o;g.inputs=ME(o.inputs),g.inputTransforms=ME(o.inputTransforms),g.declaredInputs=ME(o.declaredInputs),g.outputs=ME(o.outputs);const w=h.hostBindings;w&&wF(o,w);const T=h.viewQuery,O=h.contentQueries;if(T&&zH(o,T),O&&_S(o,O),gS(o,h),fm(o.outputs,h.outputs),wo(h)&&h.data.animation){const F=o.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let g=0;g<m.length;g++){const w=m[g];w&&w.ngInherit&&w(o),w===Bv&&(c=!1)}}s=Object.getPrototypeOf(s)}!function bF(o){let s=0,c=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=s+=h.hostVars,h.hostAttrs=On(h.hostAttrs,c=On(c,h.hostAttrs))}}(u)}function gS(o,s){for(const c in s.inputs){if(!s.inputs.hasOwnProperty(c)||o.inputs.hasOwnProperty(c))continue;const u=s.inputs[c];if(void 0!==u&&(o.inputs[c]=u,o.declaredInputs[c]=s.declaredInputs[c],null!==s.inputTransforms)){const h=Array.isArray(u)?u[0]:u;if(!s.inputTransforms.hasOwnProperty(h))continue;o.inputTransforms??={},o.inputTransforms[h]=s.inputTransforms[h]}}}function ME(o){return o===pc?{}:o===ti?[]:o}function zH(o,s){const c=o.viewQuery;o.viewQuery=c?(u,h)=>{s(u,h),c(u,h)}:s}function _S(o,s){const c=o.contentQueries;o.contentQueries=c?(u,h,m)=>{s(u,h,m),c(u,h,m)}:s}function wF(o,s){const c=o.hostBindings;o.hostBindings=c?(u,h)=>{s(u,h),c(u,h)}:s}function vS(o){const s=c=>{const u=(Array.isArray(o)?o:o()).map(h=>"function"==typeof h?{directive:bn(h),inputs:pc,outputs:pc}:{directive:bn(h.directive),inputs:wp(h.inputs),outputs:wp(h.outputs)});null===c.hostDirectives?(c.findHostDirectiveDefs=RE,c.hostDirectives=u):c.hostDirectives.unshift(...u)};return s.ngInherit=!0,s}function RE(o,s,c){if(null!==o.hostDirectives)for(const u of o.hostDirectives){const h=Ir(u.directive);yS(h.declaredInputs,u.inputs),RE(h,s,c),c.set(h,u),s.push(h)}}function wp(o){if(void 0===o||0===o.length)return pc;const s={};for(let c=0;c<o.length;c+=2)s[o[c]]=o[c+1];return s}function yS(o,s){for(const c in s)s.hasOwnProperty(c)&&(o[s[c]]=o[c])}function Ep(o){const s=o.inputConfig,c={};for(const u in s)if(s.hasOwnProperty(u)){const h=s[u];Array.isArray(h)&&h[3]&&(c[u]=h[3])}o.inputTransforms=c}class df{}class wS{}function CF(o,s){return new kE(o,s??null,[])}class kE extends df{constructor(s,c,u){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new QA(this);const h=Hr(s);this._bootstrapComponents=Is(h.bootstrap),this._r3Injector=tx(s,c,[{provide:df,useValue:this},{provide:Mv,useValue:this.componentFactoryResolver},...u],qi(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class OE extends wS{constructor(s){super(),this.moduleType=s}create(s){return new kE(this.moduleType,s,[])}}class Uv extends df{constructor(s){super(),this.componentFactoryResolver=new QA(this),this.instance=null;const c=new $u([...s.providers,{provide:df,useValue:this},{provide:Mv,useValue:this.componentFactoryResolver}],s.parent||Im(),s.debugName,new Set(["environment"]));this.injector=c,s.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function hf(o,s,c=null){return new Uv({providers:o,parent:s,debugName:c,runEnvironmentInitializers:!0}).injector}function PE(o){return!!ff(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function ff(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function gl(o,s,c){return o[s]=c}function xr(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function cd(o,s,c,u){const h=xr(o,s,c);return xr(o,s+1,u)||h}function pf(o,s,c,u,h,m,g,w,T,O){const F=c+dn,G=s.firstCreatePass?function xF(o,s,c,u,h,m,g,w,T){const O=s.consts,F=Qu(s,o,4,g||null,w||null);Gw(s,c,F,Dr(O,T)),al(s,F);const G=F.tView=dv(2,F,u,h,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,O,null);return null!==s.queries&&(s.queries.template(s,F),G.queries=s.queries.embeddedTView(F)),F}(F,s,o,u,h,m,g,w,T):s.data[F];Tr(G,!1);const de=IS(s,o,G,c);Wl()&&np(s,o,de,G),Jo(de,o);const ve=Ww(de,o,de,G);return o[F]=ve,ap(o,ve),function tS(o,s,c){return nu(o,s,c)}(ve,G,o),v_(G)&&Hw(s,o,G),null!=T&&zw(o,G,O),G}function ES(o,s,c,u,h,m,g,w){const T=bt(),O=Wn();return pf(T,O,o,s,c,u,h,Dr(O.consts,m),g,w),ES}let IS=function CS(o,s,c,u){return wc(!0),s[ot].createComment("")};function qE(o,s,c,u){const h=bt();return xr(h,Xa(),s)&&(Wn(),Cs(Fi(),h,o,s,c,u)),qE}function wf(o,s,c,u){return xr(o,Xa(),c)?s+qe(c)+u:Pn}function lu(o,s,c,u,h,m,g,w){const O=function ou(o,s,c,u,h){const m=cd(o,s,c,u);return xr(o,s+2,h)||m}(o,yc(),c,h,g);return Es(3),O?s+qe(c)+u+qe(h)+m+qe(g)+w:Pn}function Tf(o,s){return o<<17|s<<2}function _l(o){return o>>17&32767}function eI(o){return 2|o}function md(o){return(131068&o)>>2}function Sp(o,s){return-131069&o|s<<2}function tI(o){return 1|o}function YF(o,s,c,u){const h=o[c+1],m=null===s;let g=u?_l(h):md(h),w=!1;for(;0!==g&&(!1===w||m);){const O=o[g+1];ZF(o[g],s)&&(w=!0,o[g+1]=u?tI(O):eI(O)),g=u?_l(O):md(O)}w&&(o[c+1]=u?eI(h):tI(h))}function ZF(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&lh(o,s)>=0}const Kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Kv(o){return o.substring(Kr.key,Kr.keyEnd)}function $S(o,s){const c=Kr.textEnd;return c===s?-1:(s=Kr.keyEnd=function eL(o,s,c){for(;s<c&&o.charCodeAt(s)>32;)s++;return s}(o,Kr.key=s,c),xf(o,s,c))}function xf(o,s,c){for(;s<c&&o.charCodeAt(s)<=32;)s++;return s}function iI(o,s,c){const u=bt();return xr(u,Xa(),s)&&Eo(Wn(),Fi(),u,o,s,u[ot],c,!1),iI}function rI(o,s,c,u,h){const g=h?"class":"style";hl(o,c,s.inputs[g],g,u)}function oI(o,s,c){return Ja(o,s,c,!1),oI}function sI(o,s){return Ja(o,s,null,!0),sI}function GS(o){ec(lL,kc,o,!0)}function kc(o,s){for(let c=function JF(o){return function uu(o){Kr.key=0,Kr.keyEnd=0,Kr.value=0,Kr.valueEnd=0,Kr.textEnd=o.length}(o),$S(o,xf(o,0,Kr.textEnd))}(s);c>=0;c=$S(s,c))js(o,Kv(s),!0)}function Ja(o,s,c,u){const h=bt(),m=Wn(),g=Es(2);m.firstUpdatePass&&KS(m,o,g,u),s!==Pn&&xr(h,g,s)&&Af(m,m.data[co()],h,h[ot],o,h[g+1]=function c3(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=qi(Ql(o)))),o}(s,c),u,g)}function ec(o,s,c,u){const h=Wn(),m=Es(2);h.firstUpdatePass&&KS(h,null,m,u);const g=bt();if(c!==Pn&&xr(g,m,c)){const w=h.data[co()];if(_d(w,u)&&!WS(h,m)){let T=u?w.classesWithoutHost:w.stylesWithoutHost;null!==T&&(c=Fl(T,c||"")),rI(h,w,g,c,u)}else!function gd(o,s,c,u,h,m,g,w){h===Pn&&(h=ti);let T=0,O=0,F=0<h.length?h[0]:null,G=0<m.length?m[0]:null;for(;null!==F||null!==G;){const de=T<h.length?h[T+1]:void 0,ve=O<m.length?m[O+1]:void 0;let _t,Ze=null;F===G?(T+=2,O+=2,de!==ve&&(Ze=G,_t=ve)):null===G||null!==F&&F<G?(T+=2,Ze=F):(O+=2,Ze=G,_t=ve),null!==Ze&&Af(o,s,c,u,Ze,_t,g,w),F=T<h.length?h[T]:null,G=O<m.length?m[O]:null}}(h,w,g,g[ot],g[m+1],g[m+1]=function cL(o,s,c){if(null==c||""===c)return ti;const u=[],h=Ql(c);if(Array.isArray(h))for(let m=0;m<h.length;m++)o(u,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&o(u,m,h[m]);else"string"==typeof h&&s(u,h);return u}(o,s,c),u,m)}}function WS(o,s){return s>=o.expandoStartIndex}function KS(o,s,c,u){const h=o.data;if(null===h[c+1]){const m=h[co()],g=WS(o,c);_d(m,u)&&null===s&&!g&&(s=!1),s=function rL(o,s,c,u){const h=Nm(o);let m=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(c=Mp(c=aI(null,o,s,c,u),s.attrs,u),m=null);else{const g=s.directiveStylingLast;if(-1===g||o[g]!==h)if(c=aI(h,o,s,c,u),null===m){let T=function oL(o,s,c){const u=c?s.classBindings:s.styleBindings;if(0!==md(u))return o[_l(u)]}(o,s,u);void 0!==T&&Array.isArray(T)&&(T=aI(null,o,s,T[1],u),T=Mp(T,s.attrs,u),function sL(o,s,c,u){o[_l(c?s.classBindings:s.styleBindings)]=u}(o,s,u,T))}else m=function aL(o,s,c){let u;const h=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<h;m++)u=Mp(u,o[m].hostAttrs,c);return Mp(u,s.attrs,c)}(o,s,u)}return void 0!==m&&(u?s.residualClasses=m:s.residualStyles=m),c}(h,m,s,u),function nI(o,s,c,u,h,m){let g=m?s.classBindings:s.styleBindings,w=_l(g),T=md(g);o[u]=c;let F,O=!1;if(Array.isArray(c)?(F=c[1],(null===F||lh(c,F)>0)&&(O=!0)):F=c,h)if(0!==T){const de=_l(o[w+1]);o[u+1]=Tf(de,w),0!==de&&(o[de+1]=Sp(o[de+1],u)),o[w+1]=function JE(o,s){return 131071&o|s<<17}(o[w+1],u)}else o[u+1]=Tf(w,0),0!==w&&(o[w+1]=Sp(o[w+1],u)),w=u;else o[u+1]=Tf(T,0),0===w?w=u:o[T+1]=Sp(o[T+1],u),T=u;O&&(o[u+1]=eI(o[u+1])),YF(o,F,u,!0),YF(o,F,u,!1),function QF(o,s,c,u,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof s&&lh(m,s)>=0&&(c[u+1]=tI(c[u+1]))}(s,F,o,u,m),g=Tf(w,T),m?s.classBindings=g:s.styleBindings=g}(h,m,s,c,g,u)}}function aI(o,s,c,u,h){let m=null;const g=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<g&&(m=s[w],u=Mp(u,m.hostAttrs,h),m!==o);)w++;return null!==o&&(c.directiveStylingLast=w),u}function Mp(o,s,c){const u=c?1:2;let h=-1;if(null!==s)for(let m=0;m<s.length;m++){const g=s[m];"number"==typeof g?h=g:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),js(o,g,!!c||s[++m]))}return void 0===o?null:o}function lL(o,s,c){const u=String(s);""!==u&&!u.includes(" ")&&js(o,u,c)}function Af(o,s,c,u,h,m,g,w){if(!(3&s.type))return;const T=o.data,O=T[w+1],F=function XF(o){return!(1&~o)}(O)?Sf(T,s,c,h,md(O),g):void 0;kp(F)||(kp(m)||function ZE(o){return!(2&~o)}(O)&&(m=Sf(T,null,c,h,w,g)),function Yx(o,s,c,u,h){if(s)h?o.addClass(c,u):o.removeClass(c,u);else{let m=-1===u.indexOf("-")?void 0:av.DashCase;null==h?o.removeStyle(c,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=av.Important),o.setStyle(c,u,h,m))}}(u,g,Ch(co(),c),h,m))}function Sf(o,s,c,u,h,m){const g=null===s;let w;for(;h>0;){const T=o[h],O=Array.isArray(T),F=O?T[1]:T,G=null===F;let de=c[h+1];de===Pn&&(de=G?ti:void 0);let ve=G?f0(de,u):F===u?de:void 0;if(O&&!kp(ve)&&(ve=f0(T,u)),kp(ve)&&(w=ve,g))return w;const Ze=o[h+1];h=g?_l(Ze):md(Ze)}if(null!==s){let T=m?s.residualClasses:s.residualStyles;null!=T&&(w=f0(T,u))}return w}function kp(o){return void 0!==o}function _d(o,s){return!!(o.flags&(s?8:16))}function Op(o,s,c){ec(js,kc,wf(bt(),o,s,c),!0)}class XS{destroy(s){}updateValue(s,c){}swap(s,c){const u=Math.min(s,c),h=Math.max(s,c),m=this.detach(h);if(h-u>1){const g=this.detach(u);this.attach(u,m),this.attach(h,g)}else this.attach(u,m)}move(s,c){this.attach(c,this.detach(s))}}function QS(o,s,c,u,h){return o===c&&Object.is(s,u)?1:Object.is(h(o,s),h(c,u))?-1:0}function cI(o,s,c,u){return!(void 0===s||!s.has(u)||(o.attach(c,s.get(u)),s.delete(u),0))}function Qv(o,s,c,u,h){if(cI(o,s,u,c(u,h)))o.updateValue(u,h);else{const m=o.create(u,h);o.attach(u,m)}}function Oc(o,s,c,u){const h=new Set;for(let m=s;m<=c;m++)h.add(u(m,o.at(m)));return h}class mL{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const c=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(c)?(this.kvMap.set(s,this._vMap.get(c)),this._vMap.delete(c)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,c){if(this.kvMap.has(s)){let u=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const h=this._vMap;for(;h.has(u);)u=h.get(u);h.set(u,c)}else this.kvMap.set(s,c)}forEach(s){for(let[c,u]of this.kvMap)if(s(u,c),void 0!==this._vMap){const h=this._vMap;for(;h.has(u);)u=h.get(u),s(u,c)}}}function pL(o,s){Io("NgControlFlow");const c=bt(),u=Xa(),h=c[u]!==Pn?c[u]:-1,m=-1!==h?Np(c,dn+h):void 0;if(xr(c,u,o)){const w=a(null);try{if(void 0!==m&&Yw(m,0),-1!==o){const T=dn+o,O=Np(c,T),F=dI(c[y],T),G=rd(O,F.tView.ssrId);Jh(O,lp(c,F,s,{dehydratedView:G}),0,Zh(F,G))}}finally{a(w)}}else if(void 0!==m){const w=Qw(m,0);void 0!==w&&(w[ie]=s)}}class gL{constructor(s,c,u){this.lContainer=s,this.$implicit=c,this.$index=u}get $count(){return this.lContainer.length-Hi}}function YS(o){return o}class lI{constructor(s,c,u){this.hasEmptyBlock=s,this.trackByFn=c,this.liveCollection=u}}function uI(o,s,c,u,h,m,g,w,T,O,F,G,de){Io("NgControlFlow");const ve=bt(),Ze=Wn(),_t=void 0!==T,Pt=bt(),$t=w?g.bind(Pt[pn][ie]):g,Ct=new lI(_t,$t);Pt[dn+o]=Ct,pf(ve,Ze,o+1,s,c,u,h,Dr(Ze.consts,m)),_t&&pf(ve,Ze,o+2,T,O,F,G,Dr(Ze.consts,de))}class JS extends XS{constructor(s,c,u){super(),this.lContainer=s,this.hostLView=c,this.templateTNode=u,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Hi}at(s){return this.getLView(s)[ie].$implicit}attach(s,c){const u=c[j];this.needsIndexUpdate||=s!==this.length,Jh(this.lContainer,c,s,Zh(this.templateTNode,u))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function _L(o,s){return Kh(o,s)}(this.lContainer,s)}create(s,c){const u=rd(this.lContainer,this.templateTNode.tView.ssrId),h=lp(this.hostLView,this.templateTNode,new gL(this.lContainer,c,s),{dehydratedView:u});return this.operationsCounter?.recordCreate(),h}destroy(s){ep(s[y],s),this.operationsCounter?.recordDestroy()}updateValue(s,c){this.getLView(s)[ie].$implicit=c}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[ie].$index=s}getLView(s){return function vL(o,s){return Qw(o,s)}(this.lContainer,s)}}function Yv(o){const s=a(null),c=co();try{const u=bt(),h=u[y],m=u[c],g=c+1,w=Np(u,g);if(void 0===m.liveCollection){const O=dI(h,g);m.liveCollection=new JS(w,u,O)}else m.liveCollection.reset();const T=m.liveCollection;if(function d3(o,s,c){let u,h,m=0,g=o.length-1;if(Array.isArray(s)){let T=s.length-1;for(;m<=g&&m<=T;){const O=o.at(m),F=s[m],G=QS(m,O,m,F,c);if(0!==G){G<0&&o.updateValue(m,F),m++;continue}const de=o.at(g),ve=s[T],Ze=QS(g,de,T,ve,c);if(0!==Ze){Ze<0&&o.updateValue(g,ve),g--,T--;continue}const _t=c(m,O),Pt=c(g,de),$t=c(m,F);if(Object.is($t,Pt)){const Ct=c(T,ve);Object.is(Ct,_t)?(o.swap(m,g),o.updateValue(g,ve),T--,g--):o.move(g,m),o.updateValue(m,F),m++}else if(u??=new mL,h??=Oc(o,m,g,c),cI(o,u,m,$t))o.updateValue(m,F),m++,g++;else if(h.has($t))u.set(_t,o.detach(m)),g--;else{const Ct=o.create(m,s[m]);o.attach(m,Ct),m++,g++}}for(;m<=T;)Qv(o,u,c,m,s[m]),m++}else if(null!=s){const T=s[Symbol.iterator]();let O=T.next();for(;!O.done&&m<=g;){const F=o.at(m),G=O.value,de=QS(m,F,m,G,c);if(0!==de)de<0&&o.updateValue(m,G),m++,O=T.next();else{u??=new mL,h??=Oc(o,m,g,c);const ve=c(m,G);if(cI(o,u,m,ve))o.updateValue(m,G),m++,g++,O=T.next();else if(h.has(ve)){const Ze=c(m,F);u.set(Ze,o.detach(m)),g--}else o.attach(m,o.create(m,G)),m++,g++,O=T.next()}}for(;!O.done;)Qv(o,u,c,o.length,O.value),O=T.next()}for(;m<=g;)o.destroy(o.detach(g--));u?.forEach(T=>{o.destroy(T)})}(T,o,m.trackByFn),T.updateIndexes(),m.hasEmptyBlock){const O=Xa(),F=0===T.length;if(xr(u,O,F)){const G=c+2,de=Np(u,G);if(F){const ve=dI(h,G),Ze=rd(de,ve.tView.ssrId);Jh(de,lp(u,ve,void 0,{dehydratedView:Ze}),0,Zh(ve,Ze))}else Yw(de,0)}}}finally{a(s)}}function Np(o,s){return o[s]}function dI(o,s){return Hu(o,s)}function Zv(o,s,c,u){const h=bt(),m=Wn(),g=dn+o,w=h[ot],T=m.firstCreatePass?function eM(o,s,c,u,h,m){const g=s.consts,T=Qu(s,o,2,u,Dr(g,h));return Gw(s,c,T,Dr(g,m)),null!==T.attrs&&yE(T,T.attrs,!1),null!==T.mergedAttrs&&yE(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(g,m,h,s,c,u):m.data[g],O=tM(m,h,T,w,s,o);h[g]=O;const F=v_(T);return Tr(T,!0),Jx(w,O,T),!function mf(o){return!(32&~o.flags)}(T)&&Wl()&&np(m,h,O,T),0===function EO(){return An.lFrame.elementDepthCount}()&&Jo(O,h),function IO(){An.lFrame.elementDepthCount++}(),F&&(Hw(m,h,T),$w(m,T,h)),null!==u&&zw(h,T),Zv}function Jv(){let o=Oi();V0()?Wu():(o=o.parent,Tr(o,!1));const s=o;(function L0(o){return An.skipHydrationRootTNode===o})(s)&&function V$(){An.skipHydrationRootTNode=null}(),function CO(){An.lFrame.elementDepthCount--}();const c=Wn();return c.firstCreatePass&&(al(c,o),Di(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function UT(o){return!!(8&o.flags)}(s)&&rI(c,s,bt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function k_(o){return!!(16&o.flags)}(s)&&rI(c,s,bt(),s.stylesWithoutHost,!1),Jv}function ey(o,s,c,u){return Zv(o,s,c,u),Jv(),ey}let tM=(o,s,c,u,h,m)=>(wc(!0),cv(u,h,function VT(){return An.lFrame.currentNamespace}()));function oM(){return bt()}function ty(o,s,c){const u=bt();return xr(u,Xa(),s)&&Eo(Wn(),Fi(),u,o,s,u[ot],c,!0),ty}function fI(o,s,c){const u=bt();if(xr(u,Xa(),s)){const m=Wn(),g=Fi();Eo(m,g,u,o,s,Yh(Nm(m.data),g,u),c,!0)}return fI}const Pc=void 0;var ny=["en",[["a","p"],["AM","PM"],Pc],[["AM","PM"],Pc,Pc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pc,"{1} 'at' {0}",Pc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wL(o){const c=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===u?1:5}];let qr={};function Fp(o){const s=function vl(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=iy(s);if(c)return c;const u=s.split("-")[0];if(c=iy(u),c)return c;if("en"===u)return ny;throw new Qt(701,!1)}function vd(o){return Fp(o)[rs.PluralCase]}function iy(o){return o in qr||(qr[o]=Ri.ng&&Ri.ng.common&&Ri.ng.common.locales&&Ri.ng.common.locales[o]),qr[o]}var rs=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(rs||{});const yd="en-US";let pI=yd;let IM=(o,s,c)=>{};function MI(o,s,c,u){const h=bt(),m=Wn(),g=Oi();return RI(m,h,h[ot],g,o,s,u),MI}function py(o,s){const c=Oi(),u=bt(),h=Wn();return RI(h,u,Yh(Nm(h.data),c,u),c,o,s),py}function RI(o,s,c,u,h,m,g){const w=v_(u),O=o.firstCreatePass&&Xw(o),F=s[ie],G=qw(s);let de=!0;if(3&u.type||g){const _t=zr(u,s),Pt=g?g(_t):_t,$t=G.length,Ct=g?ni=>g(ai(ni[u.index])):u.index;let In=null;if(!g&&w&&(In=function OL(o,s,c,u){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const g=h[m];if(g===c&&h[m+1]===u){const w=s[te],T=h[m+2];return w.length>T?w[T]:null}"string"==typeof g&&(m+=2)}return null}(o,s,h,u.index)),null!==In)(In.__ngLastListenerFn__||In).__ngNextListenerFn__=m,In.__ngLastListenerFn__=m,de=!1;else{m=CM(u,s,F,m),IM(_t,h,m);const ni=c.listen(Pt,h,m);G.push(m,ni),O&&O.push(h,Ct,$t,$t+1)}}else m=CM(u,s,F,m);const ve=u.outputs;let Ze;if(de&&null!==ve&&(Ze=ve[h])){const _t=Ze.length;if(_t)for(let Pt=0;Pt<_t;Pt+=2){const Mi=s[Ze[Pt]][Ze[Pt+1]].subscribe(m),Qr=G.length;G.push(m,Mi),O&&O.push(h,u.index,Qr,-(Qr+1))}}}function gy(o,s,c,u){const h=a(null);try{return _c(6,s,c),!1!==c(u)}catch(m){return fv(o,m),!1}finally{_c(7,s,c),a(h)}}function CM(o,s,c,u){return function h(m){if(m===Function)return u;Zu(o.componentOffset>-1?bs(o.index,s):s,5);let w=gy(s,c,u,m),T=h.__ngNextListenerFn__;for(;T;)w=gy(s,c,T,m)&&w,T=T.__ngNextListenerFn__;return w}}function DM(o=1){return function H0(o){return(An.lFrame.contextLView=function ws(o,s){for(;o>0;)s=s[Jt],o--;return s}(o,An.lFrame.contextLView))[ie]}(o)}function Sr(o,s){let c=null;const u=function rT(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(!(1&c))return s[c+1]}return null}(o);for(let h=0;h<s.length;h++){const m=s[h];if("*"!==m){if(null===u?p0(o,m,!0):g0(u,m))return h}else c=h}return c}function kI(o){const s=bt()[pn][P];if(!s.projection){const u=s.projection=function _m(o,s){const c=[];for(let u=0;u<o;u++)c.push(s);return c}(o?o.length:1,null),h=u.slice();let m=s.child;for(;null!==m;){if(128!==m.type){const g=o?Sr(m,o):0;null!==g&&(h[g]?h[g].projectionNext=m:u[g]=m,h[g]=m)}m=m.next}}}function Nf(o,s=0,c,u,h,m){const g=bt(),w=Wn(),T=u?o+1:null;null!==T&&pf(g,w,T,u,h,m,null,c);const O=Qu(w,dn+o,16,null,c||null);null===O.projection&&(O.projection=s),Wu();const G=!g[j]||Gl();null===g[pn][P].projection[O.projection]&&null!==T?function PL(o,s,c){const u=dn+c,h=s.data[u],m=o[u],g=rd(m,h.tView.ssrId);Jh(m,lp(o,h,void 0,{dehydratedView:g}),0,Zh(h,g))}(g,w,T):G&&32&~O.flags&&function Qx(o,s,c){Lw(s[ot],0,s,c,zx(o,c,s),Gx(c.parent||s[P],c,s))}(w,g,O)}function Ff(o,s,c,u){aS(o,s,c,u)}function yy(o,s,c){!function sS(o,s,c){const u=Wn();return u.firstCreatePass&&(uf(u,new od(o,s,c),-1),!(2&~s)&&(u.staticViewQueries=!0)),IE(u,bt(),s)}(o,s,c)}function MM(o){const s=bt(),c=Wn(),u=Fm();Lm(u+1);const h=CE(c,u);if(o.dirty&&function xT(o){return!(4&~o[b])}(s)===!(2&~h.metadata.flags)){if(null===h.matches)o.reset([]);else{const m=cS(s,u);o.reset(m,rx),o.notifyOnChanges()}return!0}return!1}function by(){return iu(bt(),Fm())}function RM(o,s,c,u,h){!function DE(o,s){const c=o[A];c._lView=bt(),c._queryIndex=s,c._queryList=iu(c._lView,s),c._queryList.onDirty(()=>c._dirtyCounter.update(u=>u+1))}(s,aS(o,c,u,h))}function kM(o=1){Lm(Fm()+o)}function OM(o){return zu(function kT(){return An.lFrame.contextLView}(),dn+o)}function Ty(o,s=""){const c=bt(),u=Wn(),h=o+dn,m=u.firstCreatePass?Qu(u,h,1,s,null):u.data[h],g=UM(u,c,m,s,o);c[h]=g,Wl()&&np(u,c,g,m),Tr(m,!1)}let UM=(o,s,c,u,h)=>(wc(!0),function Rw(o,s){return o.createText(s)}(s[ot],u));function $p(o){return xy("",o,""),$p}function xy(o,s,c){const u=bt(),h=wf(u,o,s,c);return h!==Pn&&Aa(u,co(),h),xy}function Hp(o,s,c,u,h){const m=bt(),g=function Ef(o,s,c,u,h,m){const w=cd(o,yc(),c,h);return Es(2),w?s+qe(c)+u+qe(h)+m:Pn}(m,o,s,c,u,h);return g!==Pn&&Aa(m,co(),g),Hp}function jI(o,s,c,u,h,m,g){const w=bt(),T=lu(w,o,s,c,u,h,m,g);return T!==Pn&&Aa(w,co(),T),jI}function zp(o,s,c,u,h){if(o=bn(o),Array.isArray(o))for(let m=0;m<o.length;m++)zp(o[m],s,c,u,h);else{const m=Wn(),g=bt(),w=Oi();let T=wa(o)?o:bn(o.provide);const O=f_(o),F=1048575&w.providerIndexes,G=w.directiveStart,de=w.providerIndexes>>20;if(wa(o)||!o.multi){const ve=new Bm(O,h,op),Ze=zI(T,s,h?F:F+de,G);-1===Ze?(Y0(F_(w,g),m,T),wd(m,o,s.length),s.push(T),w.directiveStart++,w.directiveEnd++,h&&(w.providerIndexes+=1048576),c.push(ve),g.push(ve)):(c[Ze]=ve,g[Ze]=ve)}else{const ve=zI(T,s,F+de,G),Ze=zI(T,s,F,F+de),Pt=Ze>=0&&c[Ze];if(h&&!Pt||!h&&!(ve>=0&&c[ve])){Y0(F_(w,g),m,T);const $t=function bl(o,s,c,u,h){const m=new Bm(o,c,op);return m.multi=[],m.index=s,m.componentProviders=0,GM(m,h,u&&!c),m}(h?w3:Gp,c.length,h,u,O);!h&&Pt&&(c[Ze].providerFactory=$t),wd(m,o,s.length,0),s.push(T),w.directiveStart++,w.directiveEnd++,h&&(w.providerIndexes+=1048576),c.push($t),g.push($t)}else wd(m,o,ve>-1?ve:Ze,GM(c[h?Ze:ve],O,!h&&u));!h&&u&&Pt&&c[Ze].componentProviders++}}}function wd(o,s,c,u){const h=wa(s),m=function E0(o){return!!o.useClass}(s);if(h||m){const T=(m?bn(s.useClass):s).prototype.ngOnDestroy;if(T){const O=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const F=O.indexOf(c);-1===F?O.push(c,[u,T]):O[F+1].push(u,T)}else O.push(c,T)}}}function GM(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function zI(o,s,c,u){for(let h=c;h<u;h++)if(s[h]===o)return h;return-1}function Gp(o,s,c,u){return Wp(this.multi,[])}function w3(o,s,c,u){const h=this.multi;let m;if(this.providerFactory){const g=this.providerFactory.componentProviders,w=Ec(c,c[y],this.providerFactory.index,u);m=w.slice(0,g),Wp(h,m);for(let T=g;T<w.length;T++)m.push(w[T])}else m=[],Wp(h,m);return m}function Wp(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function GI(o,s=[]){return c=>{c.providersResolver=(u,h)=>function jL(o,s,c){const u=Wn();if(u.firstCreatePass){const h=wo(o);zp(c,u.data,u.blueprint,h,!0),zp(s,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,s)}}let Ry=(()=>{class o{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c)){const u=l_(0,c.type),h=u.length>0?hf([u],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c,h)}return this.cachedInjectors.get(c)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=qn({token:o,providedIn:"environment",factory:()=>new o(yo($s))})}return o})();function $L(o){Io("NgStandalone"),o.getStandaloneInjector=s=>s.get(Ry).getOrCreateStandaloneInjector(o)}function Ny(o,s,c){const u=Fr()+o,h=bt();return h[u]===Pn?gl(h,u,c?s.call(c):s()):function Ip(o,s){return o[s]}(h,u)}function qs(o,s,c,u){return Ly(bt(),Fr(),o,s,c,u)}function KI(o,s,c,u,h){return function Kp(o,s,c,u,h,m,g){const w=s+c;return cd(o,w,h,m)?gl(o,w+2,g?u.call(g,h,m):u(h,m)):Ed(o,w+2)}(bt(),Fr(),o,s,c,u,h)}function Ed(o,s){const c=o[s];return c===Pn?void 0:c}function Ly(o,s,c,u,h,m){const g=s+c;return xr(o,g,h)?gl(o,g+1,m?u.call(m,h):u(h)):Ed(o,g+1)}function YI(o,s){const c=Wn();let u;const h=o+dn;c.firstCreatePass?(u=function ZI(o,s){if(s)for(let c=s.length-1;c>=0;c--){const u=s[c];if(o===u.name)return u}}(s,c.pipeRegistry),c.data[h]=u,u.onDestroy&&(c.destroyHooks??=[]).push(h,u.onDestroy)):u=c.data[h];const m=u.factory||(u.factory=Vu(u.type)),w=En(op);try{const T=O_(!1),O=m();return O_(T),function wy(o,s,c,u){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),s[c]=u}(c,bt(),h,O),O}finally{En(w)}}function YM(o,s,c){const u=o+dn,h=bt(),m=zu(h,u);return function Id(o,s){return o[y].data[s].pure}(h,u)?Ly(h,Fr(),s,m.transform,c,m):m.transform(c)}function GL(o,s){return vv(o,s)}class tV{constructor(s){this.full=s;const c=s.split(".");this.major=c[0],this.minor=c[1],this.patch=c.slice(2).join(".")}}let Ky=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const Zp=new xn(""),mC=new xn("");let tg,Jp=(()=>{class o{constructor(c,u,h){this._ngZone=c,this.registry=u,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,tg||(function vV(o){tg=o}(h),h.addToWindow(u)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Gi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb()}});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==m),c()},u)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,u,h){return[]}static#e=this.\u0275fac=function(u){return new(u||o)(yo(Gi),yo(eg),yo(mC))};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac})}return o})(),eg=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return tg?.findTestabilityInTree(this,c,u)??null}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function Yy(o){return!!o&&"function"==typeof o.then}function Zy(o){return!!o&&"function"==typeof o.subscribe}const hR=new xn("");let ng=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,u)=>{this.resolve=c,this.reject=u}),this.appInits=an(hR,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const c=[];for(const h of this.appInits){const m=h();if(Yy(m))c.push(m);else if(Zy(m)){const g=new Promise((w,T)=>{m.subscribe({complete:w,error:T})});c.push(g)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const ig=new xn("");let nc=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=an(zm),this.afterRenderEffectManager=an(is),this.zonelessEnabled=an(pp),this.externalTestViews=new Set,this.beforeRender=new Ut.B,this.afterTick=new Ut.B,this.componentTypes=[],this.components=[],this.isStable=an(qu).hasPendingTasks.pipe((0,sn.T)(c=>!c)),this._injector=an($s)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,u){const h=c instanceof fE;if(!this._injector.get(ng).done)throw!h&&Ka(c),new Qt(405,!1);let g;g=h?c:this._injector.get(Mv).resolveComponentFactory(c),this.componentTypes.push(g.componentType);const w=function B3(o){return o.isBoundToModule}(g)?void 0:this._injector.get(df),O=g.create(Lr.NULL,[],u||g.selector,w),F=O.location.nativeElement,G=O.injector.get(Zp,null);return G?.registerApplication(F),O.onDestroy(()=>{this.detachView(O.hostView),Jy(this.components,O),G?.unregisterApplication(F)}),this._loadComponent(O),O}tick(){this._tick(!0)}_tick(c){if(this._runningTick)throw new Qt(101,!1);const u=a(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(c)}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1,a(u),this.afterTick.next()}}detectChangesInAttachedViews(c){let u=null;this._injector.destroyed||(u=this._injector.get(rf,null,{optional:!0}));let h=0;const m=this.afterRenderEffectManager;for(;h<10;){const g=0===h;if(c||!g){this.beforeRender.next(g);for(let{_lView:w,notifyErrorHandler:T}of this._views)bV(w,T,g,this.zonelessEnabled)}else u?.begin?.(),u?.end?.();if(h++,m.executeInternalCallbacks(),!this.allViews.some(({_lView:w})=>zl(w))&&(m.execute(),!this.allViews.some(({_lView:w})=>zl(w))))break}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;Jy(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c);const u=this._injector.get(ig,[]);[...this._bootstrapListeners,...u].forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Jy(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Qt(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Jy(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}function bV(o,s,c,u){(c||zl(o))&&pv(o,s,c&&!u?0:1)}class wV{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}let pC=(()=>{class o{compileModuleSync(c){return new OE(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const u=this.compileModuleSync(c),m=Is(Hr(c).declarations).reduce((g,w)=>{const T=Bn(w);return T&&g.push(new _p(T)),g},[]);return new wV(u,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),vR=(()=>{class o{constructor(){this.zone=an(Gi),this.changeDetectionScheduler=an(Sc),this.applicationRef=an(nc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function yR({ngZoneFactory:o,ignoreChangesOutsideZone:s}){return o??=()=>new Gi(function wR(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}()),[{provide:Gi,useFactory:o},{provide:Wa,multi:!0,useFactory:()=>{const c=an(vR,{optional:!0});return()=>c.initialize()}},{provide:Wa,multi:!0,useFactory:()=>{const c=an(gC);return()=>{c.initialize()}}},{provide:zm,useFactory:DV},!0===s?{provide:hE,useValue:!0}:[]]}function DV(){const o=an(Gi),s=an(Ia);return c=>o.runOutsideAngular(()=>s.handleError(c))}let gC=(()=>{class o{constructor(){this.subscription=new rn.yU,this.initialized=!1,this.zone=an(Gi),this.pendingTasks=an(qu)}initialize(){if(this.initialized)return;this.initialized=!0;let c=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(c=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Gi.assertNotInAngularZone(),queueMicrotask(()=>{null!==c&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(c),c=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Gi.assertInAngularZone(),c??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Sd=(()=>{class o{constructor(){this.appRef=an(nc),this.taskService=an(qu),this.ngZone=an(Gi),this.zonelessEnabled=an(pp),this.disableScheduling=an(hE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new rn.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof pE||!this.zoneIsDefined)}notify(c){if(!this.zonelessEnabled&&5===c)return;switch(c){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const u=this.useMicrotaskScheduler?jA:UA;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Gi.isInAngularZone())}tick(c){if(this.runningTick||this.appRef.destroyed)return;const u=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(c)},void 0,this.schedulerTickApplyArgs)}catch(h){throw this.taskService.remove(u),h}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(u)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const c=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(c)}}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Uf=new xn("",{providedIn:"root",factory:()=>an(Uf,yt.Optional|yt.SkipSelf)||function $3(){return typeof $localize<"u"&&$localize.locale||yd}()}),H3=new xn("",{providedIn:"root",factory:()=>"USD"}),_C=new xn("");let Vc=null;function RV(){return!1}let SR=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=MR}return o})();function MR(o){return function RR(o,s,c){if(qa(o)&&!c){const u=bs(o.index,s);return new Gs(u,u)}return 175&o.type?new Gs(s[pn],s):null}(Oi(),bt(),!(16&~o))}class ob{constructor(){}supports(s){return PE(s)}create(s){return new LV(s)}}const FV=(o,s)=>s;class LV{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||FV}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,u=this._removalsHead,h=0,m=null;for(;c||u;){const g=!u||c&&c.currentIndex<PR(u,h,m)?c:u,w=PR(g,h,m),T=g.currentIndex;if(g===u)h--,u=u._nextRemoved;else if(c=c._next,null==g.previousIndex)h++;else{m||(m=[]);const O=w-h,F=T-h;if(O!=F){for(let de=0;de<O;de++){const ve=de<m.length?m[de]:m[de]=0,Ze=ve+de;F<=Ze&&Ze<O&&(m[de]=ve+1)}m[g.previousIndex]=F-O}}w!==T&&s(g,w,T)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!PE(s))throw new Qt(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,m,g,c=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let w=0;w<this.length;w++)m=s[w],g=this._trackByFn(w,m),null!==c&&Object.is(c.trackById,g)?(u&&(c=this._verifyReinsertion(c,m,g,w)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,g,w),u=!0),c=c._next}else h=0,function qH(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Symbol.iterator]();let u;for(;!(u=c.next()).done;)s(u.value)}}(s,w=>{g=this._trackByFn(h,w),null!==c&&Object.is(c.trackById,g)?(u&&(c=this._verifyReinsertion(c,w,g,h)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,g,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,u,h){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,m,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,m,h)):s=this._addAfter(new VV(c,u),m,h),s}_verifyReinsertion(s,c,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?s=this._reinsertAfter(m,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,m=s._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(s,c,u),this._addToMoves(s,u),s}_moveAfter(s,c,u){return this._unlink(s),this._insertAfter(s,c,u),this._addToMoves(s,u),s}_addAfter(s,c,u){return this._insertAfter(s,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,u){const h=null===c?this._itHead:c._next;return s._next=h,s._prev=c,null===h?this._itTail=s:h._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new OR),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,u=s._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OR),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class VV{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class TC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const c=s._prevDup,u=s._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class OR{constructor(){this.map=new Map}put(s){const c=s.trackById;let u=this.map.get(c);u||(u=new TC,this.map.set(c,u)),u.add(s)}get(s,c){const h=this.map.get(s);return h?h.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PR(o,s,c){const u=o.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+s+h}class xC{constructor(){}supports(s){return s instanceof Map||ff(s)}create(){return new BV}}class BV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||ff(s)))throw new Qt(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const u=s._prev;return c._next=s,c._prev=u,s._prev=c,u&&(u._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,c);const m=h._prev,g=h._next;return m&&(m._next=g),g&&(g._prev=m),h._next=null,h._prev=null,h}const u=new sb(s);return this._records.set(s,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(u=>c(s[u],u))}}class sb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function NR(){return new AC([new ob])}let AC=(()=>{class o{static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:NR});constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||NR()),deps:[[o,new e_,new gm]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new Qt(901,!1)}}return o})();function FR(){return new SC([new xC])}let SC=(()=>{class o{static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:FR});constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||FR()),deps:[[o,new e_,new gm]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new Qt(901,!1)}}return o})();function pu(o){try{const{rootComponent:s,appProviders:c,platformProviders:u}=o,h=function yC(o=[]){if(Vc)return Vc;const s=function eb(o=[],s){return Lr.create({name:s,providers:[{provide:u_,useValue:"platform"},{provide:_C,useValue:new Set([()=>Vc=null])},...o]})}(o);return Vc=s,function fR(){!function Rn(o){tn=o}(()=>{throw new Qt(600,!1)})}(),function tb(o){o.get(Qm,null)?.forEach(c=>c())}(s),s}(u),m=[yR({}),{provide:Sc,useExisting:Sd},...c||[]],w=new Uv({providers:m,parent:h,debugName:"",runEnvironmentInitializers:!1}).injector,T=w.get(Gi);return T.run(()=>{w.resolveInjectorInitializers();const O=w.get(Ia,null);let F;T.runOutsideAngular(()=>{F=T.onError.subscribe({next:ve=>{O.handleError(ve)}})});const G=()=>w.destroy(),de=h.get(_C);return de.add(G),w.onDestroy(()=>{F.unsubscribe(),de.delete(G)}),function mR(o,s,c){try{const u=c();return Yy(u)?u.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(O,T,()=>{const ve=w.get(ng);return ve.runInitializers(),ve.donePromise.then(()=>{!function sM(o){"string"==typeof o&&(pI=o.toLowerCase().replace(/_/g,"-"))}(w.get(Uf,yd)||yd);const _t=w.get(nc);return void 0!==s&&_t.bootstrap(s),_t})})})}catch(s){return Promise.reject(s)}}const nn=new xn("");function nk(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function ik(o,s=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?s:Number(o)}function Fd(o,s){Io("NgSignals");const c=ue(o);return s?.equal&&(c[A].equal=s.equal),c}function sk(o){const s=a(null);try{return o()}finally{a(s)}}const BC=new xn("",{providedIn:"root",factory:()=>an(a2)});let a2=(()=>{class o{static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:()=>new c2})}return o})();class c2{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=an(qu),this.taskId=null}scheduleEffect(s){if(this.enqueue(s),null===this.taskId){const c=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(c),this.taskId=null})}}enqueue(s){const c=s.creationZone;this.queues.has(c)||this.queues.set(c,new Set);const u=this.queues.get(c);u.has(s)||(this.queuedEffectCount++,u.add(s))}flush(){for(;this.queuedEffectCount>0;)for(const[s,c]of this.queues)null===s?this.flushQueue(c):s.run(()=>this.flushQueue(c))}flushQueue(s){for(const c of s)s.delete(c),this.queuedEffectCount--,c.run()}}class Qs{constructor(s,c,u,h,m,g){this.scheduler=s,this.effectFn=c,this.creationZone=u,this.injector=m,this.watcher=function ce(o,s,c){const u=Object.create(It);c&&(u.consumerAllowSignalWrites=!0),u.fn=o,u.schedule=s;const h=T=>{u.cleanupFn=T};return u.ref={notify:()=>Re(u),run:()=>{if(null===u.fn)return;if(function lt(){return pe}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(u.dirty=!1,u.hasRun&&!Fe(u))return;u.hasRun=!0;const T=Oe(u);try{u.cleanupFn(),u.cleanupFn=Te,u.fn(h)}finally{ge(u,T)}},cleanup:()=>u.cleanupFn(),destroy:()=>function g(T){(function m(T){return null===T.fn&&null===T.schedule})(T)||(Ae(T),T.cleanupFn(),T.fn=null,T.schedule=null,T.cleanupFn=Te)}(u),[A]:u},u.ref}(w=>this.runEffect(w),()=>this.schedule(),g),this.unregisterOnDestroy=h?.onDestroy(()=>this.destroy())}runEffect(s){try{this.effectFn(s)}catch(c){this.injector.get(Ia,null,{optional:!0})?.handleError(c)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Gf(o,s){Io("NgSignals"),!s?.injector&&Dm();const c=s?.injector??an(Lr),u=!0!==s?.manualCleanup?c.get(Gm):null,h=new Qs(c.get(BC),o,typeof Zone>"u"?null:Zone.current,u,c,s?.allowSignalWrites??!1),m=c.get(SR,null,{optional:!0});return m&&8&m._lView[b]?(m._lView[ao]??=[]).push(h.watcher.notify):h.watcher.notify(),h}function ak(o){const s=Bn(o);if(!s)return null;const c=new _p(s);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},9556:(Bt,et,k)=>{"use strict";k.d(et,{p4:()=>J});class J{ttl;map=new Map;_to=!1;constructor(A){this.ttl=A}has(A){return this.map.has(A)}add(A){this.map.set(A,pe()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,function ne(ae){const A=pe()-ae.ttl,a=ae.map[Symbol.iterator]();for(;;){const De=a.next().value;if(!De)return;if(!(De[1]<A))return;ae.map.delete(De[0])}}(this)},0))}clear(){this.map.clear()}}function pe(){return Date.now()}},9825:(Bt,et,k)=>{"use strict";k.d(et,{K:()=>De,X:()=>Be});var J=k(6126),ne=k(5520),pe=k(9403),ae=k(6434),A=k(6568),a=k(3896),De=function(){function oe(Re,Oe,ge){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry="function"==typeof FinalizationRegistry?new FinalizationRegistry(Fe=>{var Ae=Fe.docId,xe=this.cacheItemByDocId.get(Ae);xe&&(xe[0].delete(Fe.revisionHeight),0===xe[0].size&&this.cacheItemByDocId.delete(Ae))}):void 0,this.primaryPath=Re,this.changes$=Oe,this.documentCreator=ge,Oe.subscribe(Fe=>{this.tasks.add(()=>{for(var Ae=this.cacheItemByDocId,xe=0;xe<Fe.length;xe++){var We=Fe[xe],Ie=Ae.get(We.documentId);if(Ie){var st=We.documentData;st||(st=We.previousDocumentData),Ie[1]=st}}}),this.tasks.size<=1&&(0,ne.vN)().then(()=>{this.processTasks()})})}var Ge=oe.prototype;return Ge.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(ge=>ge()),this.tasks.clear())},Ge.getLatestDocumentData=function(Oe){return this.processTasks(),(0,pe.m)(this.cacheItemByDocId,Oe)[1]},Ge.getLatestDocumentDataIfExists=function(Oe){this.processTasks();var ge=this.cacheItemByDocId.get(Oe);if(ge)return ge[1]},(0,J.A)(oe,[{key:"getCachedRxDocuments",get:function(){var Re=lt(this);return(0,ae.Ns)(this,"getCachedRxDocuments",Re)}},{key:"getCachedRxDocument",get:function(){var Re=lt(this);return(0,ae.Ns)(this,"getCachedRxDocument",Oe=>Re([Oe])[0])}}])}();function lt(oe){var Ge=oe.primaryPath,Re=oe.cacheItemByDocId,Oe=oe.registry,ge=a.h.deepFreezeWhenDevMode,Fe=oe.documentCreator;return xe=>{for(var We=new Array(xe.length),Ie=[],st=0;st<xe.length;st++){var Qe=xe[st],_e=Qe[Ge],ue=(0,A.Wg)(Qe._rev),Q=void 0,pt=void 0,Dt=Re.get(_e);Dt?pt=(Q=Dt[0]).get(ue):Re.set(_e,Dt=[Q=new Map,Qe]);var xt=pt?pt.deref():void 0;xt||(Qe=ge(Qe),xt=Fe(Qe),Q.set(ue,Y(xt)),Oe&&Ie.push(xt)),We[st]=xt}return Ie.length>0&&Oe&&(oe.tasks.add(()=>{for(var un=0;un<Ie.length;un++){var tn=Ie[un];Oe.register(tn,{docId:tn.primary,revisionHeight:(0,A.Wg)(tn.revision)})}}),oe.tasks.size<=1&&(0,ne.vN)().then(()=>{oe.processTasks()})),We}}function Be(oe,Ge){return(0,oe.getCachedRxDocuments)(Ge)}var Y="function"==typeof WeakRef?function Me(oe){return new WeakRef(oe)}:function Ne(oe){return{deref:()=>oe}}},2284:(Bt,et,k)=>{"use strict";k.d(et,{FX:()=>pe,Xi:()=>ne,r:()=>J});var J={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function ne(A,a){J[A].length>0&&J[A].forEach(De=>De(a))}function pe(A,a){return Promise.all(J[A].map(De=>De(a)))}},6706:(Bt,et,k)=>{"use strict";k.d(et,{Hl:()=>Ue,N6:()=>Be});var J=k(467),ne=k(7650),pe=k(9403),ae=k(8663),A=k(6434),a=k(2060),De=k(6568),lt=k(6893),Be=function(){function Me(oe,Ge,Re,Oe){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=oe,this.primaryPath=Ge,this.preWrite=Re,this.postWrite=Oe}var Ne=Me.prototype;return Ne.addWrite=function(Ge,Re){var ge=(0,pe.q)(this.queueByDocId,Ge[this.primaryPath],()=>[]);return new Promise((Ae,xe)=>{var We={lastKnownDocumentState:Ge,modifier:Re,resolve:Ae,reject:xe};(0,ae.ZN)(ge).push(We),this.triggerRun()})},Ne.triggerRun=function(){var oe=(0,J.A)(function*(){var Re=this;if(!0!==this.isRunning&&0!==this.queueByDocId.size){this.isRunning=!0;var Oe=[],ge=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(ge.entries()).map(function(){var Ae=(0,J.A)(function*([xe,We]){var Ie=function Y(Me){var Ne=Me[0],oe=(0,De.Wg)(Ne._rev);return Me.forEach(Ge=>{var Re=(0,De.Wg)(Ge._rev);Re>oe&&(Ne=Ge,oe=Re)}),Ne}(We.map(_e=>_e.lastKnownDocumentState)),st=Ie;for(var Qe of We)try{st=yield Qe.modifier((0,A.o8)(st))}catch(_e){Qe.reject(_e),Qe.reject=()=>{},Qe.resolve=()=>{}}try{yield Re.preWrite(st,Ie)}catch(_e){return void We.forEach(ue=>ue.reject(_e))}Oe.push({previous:Ie,document:st})});return function(xe){return Ae.apply(this,arguments)}}()));var Fe=Oe.length>0?yield this.storageInstance.bulkWrite(Oe,"incremental-write"):{error:[]};return yield Promise.all((0,lt.YN)(this.primaryPath,Oe,Fe).map(Ae=>{var xe=Ae[this.primaryPath];this.postWrite(Ae),(0,pe.m)(ge,xe).forEach(Ie=>Ie.resolve(Ae))})),Fe.error.forEach(Ae=>{var xe=Ae.documentId,We=(0,pe.m)(ge,xe),Ie=(0,ne.sX)(Ae);if(Ie){var st=(0,pe.q)(this.queueByDocId,xe,()=>[]);We.reverse().forEach(_e=>{_e.lastKnownDocumentState=(0,ae.ZN)(Ie.documentInDb),(0,ae.ZN)(st).unshift(_e)})}else{var Qe=(0,ne.cg)(Ae);We.forEach(_e=>_e.reject(Qe))}}),this.isRunning=!1,this.triggerRun()}});return function Ge(){return oe.apply(this,arguments)}}(),Me}();function Ue(Me){var Ne=function(){var oe=(0,J.A)(function*(Ge){var Re=(0,a.Xz)(Ge);Re._deleted=Ge._deleted;var Oe=yield Me(Re),ge=Object.assign({},Oe,{_meta:Ge._meta,_attachments:Ge._attachments,_rev:Ge._rev,_deleted:typeof Oe._deleted<"u"?Oe._deleted:Ge._deleted});return typeof ge._deleted>"u"&&(ge._deleted=!1),ge});return function(Re){return oe.apply(this,arguments)}}();return Ne}},3896:(Bt,et,k)=>{"use strict";k.d(et,{h:()=>J});var J={isDevMode:()=>!1,deepFreezeWhenDevMode:ne=>ne,tunnelErrorMessage:ne=>"RxDB Error-Code "+ne+".\n        Error messages are not included in RxDB core to reduce build size.\n        "}},7176:(Bt,et,k)=>{"use strict";k.d(et,{$r:()=>A,Aj:()=>a,Hb:()=>Re,S7:()=>Ue,Sd:()=>Y,dG:()=>ne,j7:()=>Me,jw:()=>Oe,k_:()=>lt});var J=k(467);function ne(ge){return ge[ge.length-1]}function A(ge){return Array.isArray(ge)?ge.slice(0):[ge]}function a(ge,Fe){ge=ge.slice(0);for(var Ae=[];ge.length;){var xe=ge.splice(0,Fe);Ae.push(xe)}return Ae}function lt(ge){return Array.isArray(ge)}function Ue(ge){return null!=ge}function Y(ge,Fe){var Ae=0,xe=-1;for(var We of ge){if(!Fe(We,xe+=1))break;Ae+=1}return Ae}function Me(ge,Fe){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,J.A)(function*(ge,Fe){var Ae=yield Promise.all(ge.map(Fe));return ge.filter((...[,xe])=>Ae[xe])})).apply(this,arguments)}function Re(ge,Fe){var Ae=Fe.length;if(0!==Ae){var xe=ge.length;ge.length=xe+Fe.length;for(var We=0;We<Ae;++We)ge[xe+We]=Fe[We]}}function Oe(ge){return ge.filter(function(Fe,Ae,xe){return xe.indexOf(Fe)===Ae})}},2060:(Bt,et,k)=>{"use strict";k.d(et,{Fq:()=>pe,MC:()=>J,Xz:()=>ae,YL:()=>A,o4:()=>ne});var J=1;function ne(){return{lwt:J}}function pe(){return""}function ae(Be){return Object.assign({},Be,{_meta:void 0,_deleted:void 0,_rev:void 0})}function A(Be,Ue,Y){if(Ue.length!==Y.length)return!1;for(var Me=0,Ne=Ue.length;Me<Ne;){var oe=Ue[Me],Ge=Y[Me];if(Me++,oe._rev!==Ge._rev||oe[Be]!==Ge[Be])return!1}return!0}},203:(Bt,et,k)=>{"use strict";k.d(et,{S:()=>pe,u:()=>ne});var J=k(720);function ne(ae){var A=ae.split("-"),a="RxDB";return A.forEach(De=>{a+=(0,J.Z2)(De)}),a+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+a+" } from 'rxdb/plugins/"+ae+"';\n            addRxPlugin("+a+");\n        ")}function pe(ae){return{name:ae.name,message:ae.message,rxdb:ae.rxdb,parameters:ae.parameters,extensions:ae.extensions,code:ae.code,url:ae.url,stack:ae.stack?ae.stack.replace(/\n/g," \n "):void 0}}},7014:(Bt,et,k)=>{"use strict";k.d(et,{P:()=>J,Y:()=>ne});var J={},ne="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93"},6243:(Bt,et,k)=>{"use strict";k.d(et,{V0:()=>Rn});var J=k(467);Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0}),Object.freeze(["prototype","__proto__","constructor"]);class Be{constructor(be,W){be=this.words=be||[],this.sigBytes=void 0===W?4*be.length:W}toString(be){return(be||Ue).stringify(this)}concat(be){if(this.clamp(),this.sigBytes%4)for(let W=0;W<be.sigBytes;W++)this.words[this.sigBytes+W>>>2]|=(be.words[W>>>2]>>>24-W%4*8&255)<<24-(this.sigBytes+W)%4*8;else for(let W=0;W<be.sigBytes;W+=4)this.words[this.sigBytes+W>>>2]=be.words[W>>>2];return this.sigBytes+=be.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Be([...this.words])}}const Ue={stringify(se){const be=[];for(let W=0;W<se.sigBytes;W++){const B=se.words[W>>>2]>>>24-W%4*8&255;be.push((B>>>4).toString(16),(15&B).toString(16))}return be.join("")}},Me={parse(se){const be=se.length,W=[];for(let B=0;B<be;B++)W[B>>>2]|=(255&se.charCodeAt(B))<<24-B%4*8;return new Be(W,be)}},Ne_parse=se=>Me.parse(unescape(encodeURIComponent(se)));class oe{constructor(){this._data=new Be,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=16}reset(){this._data=new Be,this._nDataBytes=0}_append(be){"string"==typeof be&&(be=Ne_parse(be)),this._data.concat(be),this._nDataBytes+=be.sigBytes}_doProcessBlock(be,W){}_process(be){let W,B=this._data.sigBytes/(4*this.blockSize);B=be?Math.ceil(B):Math.max((0|B)-this._minBufferSize,0);const $=B*this.blockSize,X=Math.min(4*$,this._data.sigBytes);if($){for(let Z=0;Z<$;Z+=this.blockSize)this._doProcessBlock(this._data.words,Z);W=this._data.words.splice(0,$),this._data.sigBytes-=X}return new Be(W,X)}}class Ge extends oe{update(be){return this._append(be),this._process(),this}finalize(be){be&&this._append(be)}}const Re=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Oe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ge=[];class Fe extends Ge{constructor(){super(...arguments),this._hash=new Be([...Re])}reset(){super.reset(),this._hash=new Be([...Re])}_doProcessBlock(be,W){const B=this._hash.words;let $=B[0],X=B[1],Z=B[2],re=B[3],ce=B[4],Te=B[5],It=B[6],Lt=B[7];for(let Rt=0;Rt<64;Rt++){if(Rt<16)ge[Rt]=0|be[W+Rt];else{const on=ge[Rt-15],Cn=ge[Rt-2];ge[Rt]=((on<<25|on>>>7)^(on<<14|on>>>18)^on>>>3)+ge[Rt-7]+((Cn<<15|Cn>>>17)^(Cn<<13|Cn>>>19)^Cn>>>10)+ge[Rt-16]}const rn=$&X^$&Z^X&Z,Ht=Lt+((ce<<26|ce>>>6)^(ce<<21|ce>>>11)^(ce<<7|ce>>>25))+(ce&Te^~ce&It)+Oe[Rt]+ge[Rt];Lt=It,It=Te,Te=ce,ce=re+Ht|0,re=Z,Z=X,X=$,$=Ht+((($<<30|$>>>2)^($<<19|$>>>13)^($<<10|$>>>22))+rn)|0}B[0]=B[0]+$|0,B[1]=B[1]+X|0,B[2]=B[2]+Z|0,B[3]=B[3]+re|0,B[4]=B[4]+ce|0,B[5]=B[5]+Te|0,B[6]=B[6]+It|0,B[7]=B[7]+Lt|0}finalize(be){super.finalize(be);const W=8*this._nDataBytes,B=8*this._data.sigBytes;return this._data.words[B>>>5]|=128<<24-B%32,this._data.words[14+(B+64>>>9<<4)]=Math.floor(W/4294967296),this._data.words[15+(B+64>>>9<<4)]=W,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function tn(){return(tn=(0,J.A)(function*(se){var be=(new TextEncoder).encode(se),W=yield crypto.subtle.digest("SHA-256",be);return Array.prototype.map.call(new Uint8Array(W),$=>("00"+$.toString(16)).slice(-2)).join("")})).apply(this,arguments)}var Rn=typeof crypto<"u"&&typeof crypto.subtle<"u"&&"function"==typeof crypto.subtle.digest?function un(se){return tn.apply(this,arguments)}:function xt(se){return Promise.resolve(function Ae(se){return(new Fe).finalize(se).toString()}(se))}},9403:(Bt,et,k)=>{"use strict";function J(pe,ae){var A=pe.get(ae);if(typeof A>"u")throw new Error("missing value from map "+ae);return A}function ne(pe,ae,A,a){var De=pe.get(ae);return typeof De>"u"?(De=A(),pe.set(ae,De)):a&&a(De),De}k.d(et,{m:()=>J,q:()=>ne})},6636:(Bt,et,k)=>{"use strict";function J(ne,pe){if(ne===pe)return!0;if(ne&&pe&&"object"==typeof ne&&"object"==typeof pe){if(ne.constructor!==pe.constructor)return!1;var ae,A;if(Array.isArray(ne)){if((ae=ne.length)!==pe.length)return!1;for(A=ae;0!=A--;)if(!J(ne[A],pe[A]))return!1;return!0}if(ne.constructor===RegExp)return ne.source===pe.source&&ne.flags===pe.flags;if(ne.valueOf!==Object.prototype.valueOf)return ne.valueOf()===pe.valueOf();if(ne.toString!==Object.prototype.toString)return ne.toString()===pe.toString();var a=Object.keys(ne);if((ae=a.length)!==Object.keys(pe).length)return!1;for(A=ae;0!=A--;)if(!Object.prototype.hasOwnProperty.call(pe,a[A]))return!1;for(A=ae;0!=A--;){var De=a[A];if(!J(ne[De],pe[De]))return!1}return!0}return ne!=ne&&pe!=pe}k.d(et,{b:()=>J})},1744:(Bt,et,k)=>{"use strict";k.d(et,{UU:()=>De,oq:()=>lt});var J=Re=>{var Oe=typeof Re;return null!==Re&&("object"===Oe||"function"===Oe)},ne=new Set(["__proto__","prototype","constructor"]),pe=new Set("0123456789");function ae(Re){var Oe=[],ge="",Fe="start",Ae=!1;for(var xe of Re)switch(xe){case"\\":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");Ae&&(ge+=xe),Fe="property",Ae=!Ae;break;case".":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="property";break}if(Ae){Ae=!1,ge+=xe;break}if(ne.has(ge))return[];Oe.push(ge),ge="",Fe="property";break;case"[":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="index";break}if(Ae){Ae=!1,ge+=xe;break}if("property"===Fe){if(ne.has(ge))return[];Oe.push(ge),ge=""}Fe="index";break;case"]":if("index"===Fe){Oe.push(Number.parseInt(ge,10)),ge="",Fe="indexEnd";break}if("indexEnd"===Fe)throw new Error("Invalid character after an index");default:if("index"===Fe&&!pe.has(xe))throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");"start"===Fe&&(Fe="property"),Ae&&(Ae=!1,ge+="\\"),ge+=xe}switch(Ae&&(ge+="\\"),Fe){case"property":if(ne.has(ge))return[];Oe.push(ge);break;case"index":throw new Error("Index was not closed");case"start":Oe.push("")}return Oe}function A(Re,Oe){if("number"!=typeof Oe&&Array.isArray(Re)){var ge=Number.parseInt(Oe,10);return Number.isInteger(ge)&&Re[ge]===Re[Oe]}return!1}function a(Re,Oe){if(A(Re,Oe))throw new Error("Cannot use string index")}function De(Re,Oe,ge){if(Array.isArray(Oe)&&(Oe=Oe.join(".")),!Oe.includes(".")&&!Oe.includes("["))return Re[Oe];if(!J(Re)||"string"!=typeof Oe)return void 0===ge?Re:ge;var Fe=ae(Oe);if(0===Fe.length)return ge;for(var Ae=0;Ae<Fe.length;Ae++){var xe=Fe[Ae];if(null==(Re=A(Re,xe)?Ae===Fe.length-1?void 0:null:Re[xe])){if(Ae!==Fe.length-1)return ge;break}}return void 0===Re?ge:Re}function lt(Re,Oe,ge){if(Array.isArray(Oe)&&(Oe=Oe.join(".")),!J(Re)||"string"!=typeof Oe)return Re;for(var Fe=Re,Ae=ae(Oe),xe=0;xe<Ae.length;xe++){var We=Ae[xe];a(Re,We),xe===Ae.length-1?Re[We]=ge:J(Re[We])||(Re[We]="number"==typeof Ae[xe+1]?[]:{}),Re=Re[We]}return Fe}},6434:(Bt,et,k)=>{"use strict";function J(Ne){return Object.freeze(Ne),Object.getOwnPropertyNames(Ne).forEach(function(oe){Object.prototype.hasOwnProperty.call(Ne,oe)&&null!==Ne[oe]&&("object"==typeof Ne[oe]||"function"==typeof Ne[oe])&&!Object.isFrozen(Ne[oe])&&J(Ne[oe])}),Ne}function ne(Ne){var oe=Ne.split("."),Ge=oe.length;return 1===Ge?Re=>Re[Ne]:Re=>{for(var Oe=Re,ge=0;ge<Ge;++ge)if(typeof(Oe=Oe[oe[ge]])>"u")return Oe;return Oe}}function ae(Ne){var oe={};for(var Ge in Ne)if(Object.prototype.hasOwnProperty.call(Ne,Ge))if("object"==typeof Ne[Ge]){var Re=ae(Ne[Ge]);for(var Oe in Re)Object.prototype.hasOwnProperty.call(Re,Oe)&&(oe[Ge+"."+Oe]=Re[Oe])}else oe[Ge]=Ne[Ge];return oe}function A(Ne){return Object.assign({},Ne)}function a(Ne){return Object.keys(Ne)[0]}function lt(Ne,oe=!1){if(!Ne)return Ne;if(!oe&&Array.isArray(Ne))return Ne.sort((Re,Oe)=>"string"==typeof Re&&"string"==typeof Oe?Re.localeCompare(Oe):"object"==typeof Re?1:-1).map(Re=>lt(Re,oe));if("object"==typeof Ne&&!Array.isArray(Ne)){var Ge={};return Object.keys(Ne).sort((Re,Oe)=>Re.localeCompare(Oe)).forEach(Re=>{Ge[Re]=lt(Ne[Re],oe)}),Ge}return Ne}k.d(et,{FD:()=>A,Ln:()=>a,Ns:()=>Y,SQ:()=>ne,YO:()=>ae,mf:()=>lt,o8:()=>Ue,ol:()=>J});var Ue=function Be(Ne){if(!Ne||null===Ne||"object"!=typeof Ne)return Ne;if(Array.isArray(Ne)){for(var oe=new Array(Ne.length),Ge=oe.length;Ge--;)oe[Ge]=Be(Ne[Ge]);return oe}var Re={};for(var Oe in Ne)Re[Oe]=Be(Ne[Oe]);return Re};function Y(Ne,oe,Ge){return Object.defineProperty(Ne,oe,{get:function(){return Ge}}),Ge}},8663:(Bt,et,k)=>{"use strict";function ne(A,a){if(!A)throw a||(a=""),new Error("ensureNotFalsy() is falsy: "+a);return A}k.d(et,{ZN:()=>ne,bz:()=>ae});var ae={bufferSize:1,refCount:!0}},5520:(Bt,et,k)=>{"use strict";function J(){return new Promise(oe=>setTimeout(oe,0))}function pe(oe){return oe&&"function"==typeof oe.then?oe:Promise.resolve(oe)}k.d(et,{$A:()=>De,Dr:()=>a,Ms:()=>A,Ve:()=>Y,dY:()=>J,em:()=>lt,h$:()=>Ne,hq:()=>pe,vN:()=>Be});var A=Promise.resolve(!0),a=Promise.resolve(!1),De=Promise.resolve(null),lt=Promise.resolve();function Be(oe=1e4){return"function"==typeof requestIdleCallback?new Promise(Ge=>{requestIdleCallback(()=>Ge(),{timeout:oe})}):function ne(oe=0){return new Promise(Ge=>setTimeout(Ge,oe))}(0)}var Ue=lt;function Y(oe=void 0){return Ue=Ue.then(()=>Be(oe))}function Ne(oe,Ge){return oe.reduce((Re,Oe)=>Re.then(Oe),Promise.resolve(Ge))}},6568:(Bt,et,k)=>{"use strict";function ne(ae){for(var A="",a=0;a<ae.length;a++){var De=ae[a];if("-"===De)return parseInt(A,10);A+=De}throw new Error("malformatted revision: "+ae)}function pe(ae,A){return(A?ne(A._rev)+1:1)+"-"+ae}k.d(et,{CM:()=>pe,Wg:()=>ne})},6052:(Bt,et,k)=>{"use strict";k.d(et,{o:()=>J});var J="15.28.1"},720:(Bt,et,k)=>{"use strict";k.d(et,{L$:()=>A,Z2:()=>ae,ky:()=>De,z3:()=>ne});var J="abcdefghijklmnopqrstuvwxyz";function ne(Y=10){for(var Me="",Ne=0;Ne<Y;Ne++)Me+=J.charAt(Math.floor(Math.random()*J.length));return Me}function ae(Y){return(Y+="").charAt(0).toUpperCase()+Y.substr(1)}function A(Y){for(;"."===Y.charAt(0);)Y=Y.substr(1);for(;"."===Y.slice(-1);)Y=Y.slice(0,-1);return Y}function De(Y){return!(!Y.includes("/")&&!Y.includes("\\"))}},4552:(Bt,et,k)=>{"use strict";k.d(et,{t:()=>ne});var J=0;function ne(){var pe=Date.now();(pe+=.01)<=J&&(pe=J+.01);var ae=parseFloat(pe.toFixed(2));return J=ae,ae}},6259:(Bt,et,k)=>{"use strict";k.d(et,{Cx:()=>Y,XA:()=>A,n9:()=>Ne});var J=k(9403),ne=k(4552),pe=k(5520),ae=function(){function oe(){this._map=new Map}return oe.prototype.getByQuery=function(Oe){var ge=Oe.toString();return(0,J.q)(this._map,ge,()=>Oe)},oe}();function A(){return new ae}function a(oe,Ge){Ge.uncached=!0;var Re=Ge.toString();oe._map.delete(Re)}function De(oe){return oe.refCount$.observers.length}var Y=(100,3e4,(Re,Oe)=>{if(!(Oe._map.size<100)){var ge=(0,ne.t)()-3e4,Fe=[],Ae=Array.from(Oe._map.values());for(var xe of Ae)if(!(De(xe)>0)){if(0===xe._lastEnsureEqual&&xe._creationTime<ge){a(Oe,xe);continue}Fe.push(xe)}var We=Fe.length-100;We<=0||Fe.sort((Qe,_e)=>Qe._lastEnsureEqual-_e._lastEnsureEqual).slice(0,We).forEach(Qe=>a(Oe,Qe))}}),Me=new WeakSet;function Ne(oe){Me.has(oe)||(Me.add(oe),(0,pe.dY)().then(()=>(0,pe.Ve)(200)).then(()=>{oe.destroyed||oe.cacheReplacementPolicy(oe,oe._queryCache),Me.delete(oe)}))}},997:(Bt,et,k)=>{"use strict";k.d(et,{Cf:()=>De,OK:()=>A,g0:()=>ae,sk:()=>a});var J=k(7176),ne=k(7650),pe=k(1885),ae="\uffff",A=Number.MIN_SAFE_INTEGER;function a(Ne,oe){var Ge=oe.selector,Re=Ne.indexes?Ne.indexes.slice(0):[];oe.index&&(Re=[oe.index]);var Oe=!!oe.sort.find(Ie=>"desc"===Object.values(Ie)[0]),ge=new Set;Object.keys(Ge).forEach(Ie=>{var st=(0,pe.nT)(Ne,Ie);st&&"boolean"===st.type&&Object.prototype.hasOwnProperty.call(Ge[Ie],"$eq")&&ge.add(Ie)});var We,Ae=oe.sort.map(Ie=>Object.keys(Ie)[0]).filter(Ie=>!ge.has(Ie)).join(","),xe=-1;if(Re.forEach(Ie=>{var st=!0,Qe=!0,_e=Ie.map(xt=>{var un=Ge[xt],tn=un?Object.keys(un):[],mn={};return un&&tn.length?tn.forEach(ze=>{if(De.has(ze)){var be=function Y(Ne,oe){switch(Ne){case"$eq":return{startKey:oe,endKey:oe,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:oe,inclusiveEnd:!0};case"$gte":return{startKey:oe,inclusiveStart:!0};case"$lt":return{endKey:oe,inclusiveEnd:!1};case"$gt":return{startKey:oe,inclusiveStart:!1};default:throw new Error("SNH")}}(ze,un[ze]);mn=Object.assign(mn,be)}}):mn={startKey:Qe?A:ae,endKey:st?ae:A,inclusiveStart:!0,inclusiveEnd:!0},typeof mn.startKey>"u"&&(mn.startKey=A),typeof mn.endKey>"u"&&(mn.endKey=ae),typeof mn.inclusiveStart>"u"&&(mn.inclusiveStart=!0),typeof mn.inclusiveEnd>"u"&&(mn.inclusiveEnd=!0),Qe&&!mn.inclusiveStart&&(Qe=!1),st&&!mn.inclusiveEnd&&(st=!1),mn}),ue=_e.map(xt=>xt.startKey),Q=_e.map(xt=>xt.endKey),pt={index:Ie,startKeys:ue,endKeys:Q,inclusiveEnd:st,inclusiveStart:Qe,sortSatisfiedByIndex:!Oe&&Ae===Ie.filter(xt=>!ge.has(xt)).join(","),selectorSatisfiedByIndex:Ue(Ie,oe.selector,ue,Q)},Dt=function Me(Ne,oe,Ge){var Re=0,Oe=Ie=>{Ie>0&&(Re+=Ie)},Fe=(0,J.Sd)(Ge.startKeys,Ie=>Ie!==A&&Ie!==ae);Oe(10*Fe);var Ae=(0,J.Sd)(Ge.startKeys,Ie=>Ie!==ae&&Ie!==A);Oe(10*Ae);var xe=(0,J.Sd)(Ge.startKeys,(Ie,st)=>Ie===Ge.endKeys[st]);return Oe(10*xe*1.5),Oe(Ge.sortSatisfiedByIndex?5:0),Re}(0,0,pt);(Dt>=xe||oe.index)&&(xe=Dt,We=pt)}),!We)throw(0,ne.Br)("SNH",{query:oe});return We}var De=new Set(["$eq","$gt","$gte","$lt","$lte"]),lt=new Set(["$eq","$gt","$gte"]),Be=new Set(["$eq","$lt","$lte"]);function Ue(Ne,oe,Ge,Re){if(Object.entries(oe).find(([ze,se])=>!Ne.includes(ze)||Object.entries(se).find(([W,B])=>!De.has(W)))||oe.$and||oe.$or)return!1;var Fe=[],Ae=new Set;for(var[xe,We]of Object.entries(oe)){if(!Ne.includes(xe))return!1;var Ie=Object.keys(We).filter(ze=>lt.has(ze));if(Ie.length>1)return!1;var st=Ie[0];if(st&&Ae.add(xe),"$eq"!==st){if(Fe.length>0)return!1;Fe.push(st)}}var Qe=[],_e=new Set;for(var[ue,Q]of Object.entries(oe)){if(!Ne.includes(ue))return!1;var pt=Object.keys(Q).filter(ze=>Be.has(ze));if(pt.length>1)return!1;var Dt=pt[0];if(Dt&&_e.add(ue),"$eq"!==Dt){if(Qe.length>0)return!1;Qe.push(Dt)}}var xt=0;for(var un of Ne){for(var tn of[Ae,_e]){if(!tn.has(un)&&tn.size>0)return!1;tn.delete(un)}if(Ge[xt]!==Re[xt]&&Ae.size>0&&_e.size>0)return!1;xt++}return!0}},327:(Bt,et,k)=>{"use strict";k.d(et,{a:()=>lt,r:()=>Be});var J=k(467),ne=k(6636),pe=k(6434),ae=k(2060),A=k(4552),a=k(6568),De=k(6893),lt=function(Y,Me){var Ne=(0,De.on)(Y.newDocumentState),oe=(0,De.on)(Y.realMasterState);return(0,ne.b)(Ne,oe)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:Y.realMasterState})};function Be(Y,Me,Ne){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,J.A)(function*(Y,Me,Ne){var oe=Y.input.conflictHandler,Ge=yield oe(Me,"replication-resolve-conflict");if(!Ge.isEqual){var Re=Object.assign({},Ge.documentData,{_meta:(0,pe.FD)(Ne._meta),_rev:(0,ae.Fq)(),_attachments:(0,pe.FD)(Ne._attachments)});return Re._meta.lwt=(0,A.t)(),Re._rev=(0,a.CM)(yield Y.checkpointKey,Ne),{resolvedDoc:Re,output:Ge}}})).apply(this,arguments)}},312:(Bt,et,k)=>{"use strict";k.d(et,{_r:()=>pe,vk:()=>ne});var J=k(3896);function ne(A){return A.documentData?A.documentData:A.previousDocumentData}function pe(A){switch(A.operation){case"INSERT":return{operation:A.operation,id:A.documentId,doc:A.documentData,previous:null};case"UPDATE":return{operation:A.operation,id:A.documentId,doc:J.h.deepFreezeWhenDevMode(A.documentData),previous:A.previousDocumentData?A.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:A.operation,id:A.documentId,doc:null,previous:A.previousDocumentData}}}},1318:(Bt,et,k)=>{"use strict";k.d(et,{JY:()=>Me,X3:()=>Oe,vK:()=>Ne,vM:()=>Ge});var J=k(467),ne=k(6434),pe=k(2060),ae=k(4552),A=k(6568),a=k(1885),De=k(2284),lt=k(2104),Be=k(6893),Ue=k(3896),Y=k(7650);function Me(ge,Fe){return Fe=(0,ne.FD)(Fe),Fe=(0,a.pA)(ge,Fe),"string"!=typeof ge.jsonSchema.primaryKey&&(Fe=(0,a.Nq)(ge.primaryPath,ge.jsonSchema,Fe)),Fe._meta=(0,pe.o4)(),Object.prototype.hasOwnProperty.call(Fe,"_deleted")||(Fe._deleted=!1),Object.prototype.hasOwnProperty.call(Fe,"_attachments")||(Fe._attachments={}),Object.prototype.hasOwnProperty.call(Fe,"_rev")||(Fe._rev=(0,pe.Fq)()),Fe}function Ne(ge,Fe){return oe.apply(this,arguments)}function oe(){return(oe=(0,J.A)(function*(ge,Fe){return Fe.multiInstance=ge.multiInstance,yield ge.storage.createStorageInstance(Fe)})).apply(this,arguments)}function Ge(ge,Fe,Ae,xe,We,Ie,st){return Re.apply(this,arguments)}function Re(){return Re=(0,J.A)(function*(ge,Fe,Ae,xe,We,Ie,st){var _e=(yield(0,lt.WY)(Fe)).filter(Dt=>Dt.data.name===We),ue=[];_e.forEach(Dt=>{ue.push({collectionName:Dt.data.name,schema:Dt.data.schema,isCollection:!0}),Dt.data.connectedStorages.forEach(xt=>ue.push({collectionName:xt.collectionName,isCollection:!1,schema:xt.schema}))});var Q=new Set;if(ue=ue.filter(Dt=>{var xt=Dt.collectionName+"||"+Dt.schema.version;return!Q.has(xt)&&(Q.add(xt),!0)}),yield Promise.all(ue.map(function(){var Dt=(0,J.A)(function*(xt){var un=yield ge.createStorageInstance({collectionName:xt.collectionName,databaseInstanceToken:Ae,databaseName:xe,multiInstance:!1,options:{},schema:xt.schema,password:Ie,devMode:Ue.h.isDevMode()});yield un.remove(),xt.isCollection&&(yield(0,De.FX)("postRemoveRxCollection",{storage:ge,databaseName:xe,collectionName:We}))});return function(xt){return Dt.apply(this,arguments)}}())),st){var pt=_e.map(Dt=>{var xt=(0,Be.C9)(Dt);return xt._deleted=!0,xt._meta.lwt=(0,ae.t)(),xt._rev=(0,A.CM)(Ae,Dt),{previous:Dt,document:xt}});yield Fe.bulkWrite(pt,"rx-database-remove-collection-all")}}),Re.apply(this,arguments)}function Oe(ge){if(ge.destroyed)throw(0,Y.Br)("COL21",{collection:ge.name,version:ge.schema.version})}},4395:(Bt,et,k)=>{"use strict";k.d(et,{wm:()=>mn,dN:()=>be});var J=k(467),ne=k(6126),pe=k(5964),ae=k(1397),A=k(6354),a=k(5520),De=k(203),lt=k(8663),Be=k(6434),Ue=k(9403),Y=k(720),Me=k(1318),Ne=k(5672),oe=k(7650),Ge=k(9825),Re=k(6259),Oe=k(7176),ge=function(){function B(X){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=X,this.subs.push(this.collection.database.eventBulks$.pipe((0,pe.p)(Z=>Z.collectionName===this.collection.name),(0,pe.p)(Z=>!Z.events[0].isLocal)).subscribe(Z=>{this.tasks.add(()=>this._handleChangeEvents(Z.events)),this.tasks.size<=1&&(0,a.vN)().then(()=>{this.processTasks()})}))}var $=B.prototype;return $.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(re=>re()),this.tasks.clear())},$._handleChangeEvents=function(Z){var re=this.counter;this.counter=this.counter+Z.length,Z.length>this.limit?this.buffer=Z.slice(-1*Z.length):((0,Oe.Hb)(this.buffer,Z),this.buffer=this.buffer.slice(-1*this.limit));for(var ce=re+1,Te=this.eventCounterMap,It=0;It<Z.length;It++)Te.set(Z[It],ce+It)},$.getCounter=function(){return this.processTasks(),this.counter},$.getBuffer=function(){return this.processTasks(),this.buffer},$.getArrayIndexByPointer=function(Z){this.processTasks();var ce=this.eventCounterMap.get(this.buffer[0]);return Z<ce?null:Z-ce},$.getFrom=function(Z){this.processTasks();var re=[],ce=this.getArrayIndexByPointer(Z);if(null===ce)return null;for(;;){var Te=this.buffer[ce];if(ce++,!Te)return re;re.push(Te)}},$.runFrom=function(Z,re){this.processTasks();var ce=this.getFrom(Z);if(null===ce)throw new Error("out of bounds");ce.forEach(Te=>re(Te))},$.reduceByLastOfDoc=function(Z){return this.processTasks(),Z.slice(0)},$.destroy=function(){this.tasks.clear(),this.subs.forEach(Z=>Z.unsubscribe())},B}(),Ae=k(2284),xe=k(5908),We=k(3896),Ie=new WeakMap;var Q=k(6893),pt=k(327),Dt=k(6706),xt=["pre","post"],un=["insert","save","remove","create"],tn=!1,mn=function(){function B(X,Z,re,ce,Te={},It={},Lt={},Rt={},Ut={},rn=Re.Cx,sn={},ln=pt.a){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=(0,Re.XA)(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=X,this.name=Z,this.schema=re,this.internalStorageInstance=ce,this.instanceCreationOptions=Te,this.migrationStrategies=It,this.methods=Lt,this.attachments=Rt,this.options=Ut,this.cacheReplacementPolicy=rn,this.statics=sn,this.conflictHandler=ln,function Rn(B){if(!tn){tn=!0;var $=Object.getPrototypeOf(B);un.forEach(X=>{xt.map(Z=>{var re=Z+(0,Y.Z2)(X);$[re]=function(ce,Te){return this.addHook(Z,X,ce,Te)}})})}}(this.asRxCollection)}var $=B.prototype;return $.prepare=function(){var X=(0,J.A)(function*(){var re=this;this.storageInstance=(0,Q.AM)(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Dt.N6(this.storageInstance,this.schema.primaryPath,(Ut,rn)=>(0,xe.Lt)(this,Ut,rn),Ut=>this._runHooks("post","save",Ut));var Te,ce=this.database.eventBulks$.pipe((0,pe.p)(Ut=>Ut.collectionName===this.name));this.$=ce.pipe((0,ae.Z)(Ut=>Ut.events)),this.checkpoint$=ce.pipe((0,A.T)(Ut=>Ut.checkpoint)),this._changeEventBuffer=function Fe(B){return new ge(B)}(this.asRxCollection),this._docCache=new Ge.K(this.schema.primaryPath,this.database.eventBulks$.pipe((0,pe.p)(Ut=>Ut.collectionName===this.name&&!Ut.events[0].isLocal),(0,A.T)(Ut=>Ut.events)),Ut=>(Te||(Te=function Qe(B){return(0,Ue.q)(Ie,B,()=>(0,xe.cM)(function st(B){var $=B.schema.getDocumentPrototype(),X=function ue(B){var $={};return Object.entries(B.methods).forEach(([X,Z])=>{$[X]=Z}),$}(B),re={};return[$,X,xe.ky].forEach(ce=>{Object.getOwnPropertyNames(ce).forEach(It=>{var Lt=Object.getOwnPropertyDescriptor(ce,It),Rt=!0;(It.startsWith("_")||It.endsWith("_")||It.startsWith("$")||It.endsWith("$"))&&(Rt=!1),"function"==typeof Lt.value?Object.defineProperty(re,It,{get(){return Lt.value.bind(this)},enumerable:Rt,configurable:!1}):(Lt.enumerable=Rt,Lt.configurable=!1,Lt.writable&&(Lt.writable=!1),Object.defineProperty(re,It,Lt))})}),re}(B)))}(this.asRxCollection)),function _e(B,$,X){var Z=(0,xe.Zb)($,B,We.h.deepFreezeWhenDevMode(X));return B._runHooksSync("post","create",X,Z),(0,Ae.Xi)("postCreateRxDocument",Z),Z}(this.asRxCollection,Te,Ut)));var It=this.database.internalStore.changeStream().pipe((0,pe.p)(Ut=>{var rn=this.name+"-"+this.schema.version;return!!Ut.events.find(ln=>"collection"===ln.documentData.context&&ln.documentData.key===rn&&"DELETE"===ln.operation)})).subscribe((0,J.A)(function*(){yield re.destroy(),yield Promise.all(re.onRemove.map(Ut=>Ut()))}));this._subs.push(It);var Lt=yield this.database.storageToken,Rt=this.storageInstance.changeStream().subscribe(Ut=>{for(var rn=new Array(Ut.events.length),sn=Ut.events,ln=this.name,Ht=We.h.deepFreezeWhenDevMode,hn=0;hn<sn.length;hn++){var on=sn[hn];rn[hn]={documentId:on.documentId,collectionName:ln,isLocal:!1,operation:on.operation,documentData:Ht(on.documentData),previousDocumentData:Ht(on.previousDocumentData)}}this.database.$emit({id:Ut.id,internal:!1,collectionName:this.name,storageToken:Lt,events:rn,databaseToken:this.database.token,checkpoint:Ut.checkpoint,context:Ut.context,endTime:Ut.endTime,startTime:Ut.startTime})});return this._subs.push(Rt),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(Ut=>{this.conflictHandler(Ut.input,Ut.context).then(rn=>{this.storageInstance.resolveConflictResultionTask({id:Ut.id,output:rn})})})),a.em});return function Z(){return X.apply(this,arguments)}}(),$.cleanup=function(Z){throw(0,Me.X3)(this),(0,De.u)("cleanup")},$.migrationNeeded=function(){throw(0,De.u)("migration-schema")},$.getMigrationState=function(){throw(0,De.u)("migration-schema")},$.startMigration=function(Z=10){return(0,Me.X3)(this),this.getMigrationState().startMigration(Z)},$.migratePromise=function(Z=10){return this.getMigrationState().migratePromise(Z)},$.insert=function(){var X=(0,J.A)(function*(re){(0,Me.X3)(this);var ce=yield this.bulkInsert([re]);return(0,Q.WX)(this,re[this.schema.primaryPath],re,ce.error[0]),(0,lt.ZN)(ce.success[0])});return function Z(re){return X.apply(this,arguments)}}(),$.bulkInsert=function(){var X=(0,J.A)(function*(re){if((0,Me.X3)(this),0===re.length)return{success:[],error:[]};var Te,ce=this.schema.primaryPath;if(this.hasHooks("pre","insert"))Te=yield Promise.all(re.map(on=>{var Nn=(0,Me.JY)(this.schema,on);return this._runHooks("pre","insert",Nn).then(()=>({document:Nn}))}));else{Te=new Array(re.length);for(var It=this.schema,Lt=0;Lt<re.length;Lt++){var Ut=(0,Me.JY)(It,re[Lt]);Te[Lt]={document:Ut}}}var sn,rn=yield this.storageInstance.bulkWrite(Te,"rx-collection-bulk-insert"),ln=this,Ht={get success(){if(!sn){var on=(0,Q.YN)(ln.schema.primaryPath,Te,rn);sn=(0,Ge.X)(ln._docCache,on)}return sn},error:rn.error};if(this.hasHooks("post","insert")){var hn=new Map;Te.forEach(on=>{var Nn=on.document;hn.set(Nn[ce],Nn)}),yield Promise.all(Ht.success.map(on=>this._runHooks("post","insert",hn.get(on.primary),on)))}return Ht});return function Z(re){return X.apply(this,arguments)}}(),$.bulkRemove=function(){var X=(0,J.A)(function*(re){(0,Me.X3)(this);var ce=this.schema.primaryPath;if(0===re.length)return{success:[],error:[]};var Te=yield this.findByIds(re).exec(),It=[],Lt=new Map;Array.from(Te.values()).forEach(Ht=>{var hn=Ht.toMutableJSON(!0);It.push(hn),Lt.set(Ht.primary,hn)}),yield Promise.all(It.map(Ht=>this._runHooks("pre","remove",Ht,Te.get(Ht[this.schema.primaryPath]))));var Rt=It.map(Ht=>{var hn=(0,Be.FD)(Ht);return hn._deleted=!0,{previous:Ht,document:hn}}),Ut=yield this.storageInstance.bulkWrite(Rt,"rx-collection-bulk-remove"),sn=(0,Q.YN)(this.schema.primaryPath,Rt,Ut).map(Ht=>Ht[ce]);return yield Promise.all(sn.map(Ht=>this._runHooks("post","remove",Lt.get(Ht),Te.get(Ht)))),{success:sn.map(Ht=>(0,Ue.m)(Te,Ht)),error:Ut.error}});return function Z(re){return X.apply(this,arguments)}}(),$.bulkUpsert=function(){var X=(0,J.A)(function*(re){var ce=this;(0,Me.X3)(this);var Te=[],It=new Map;re.forEach(rn=>{var sn=(0,Me.JY)(this.schema,rn),ln=sn[this.schema.primaryPath];if(!ln)throw(0,oe.Br)("COL3",{primaryPath:this.schema.primaryPath,data:sn,schema:this.schema.jsonSchema});It.set(ln,sn),Te.push(sn)});var Lt=yield this.bulkInsert(Te),Rt=Lt.success.slice(0),Ut=[];return yield Promise.all(Lt.error.map(function(){var rn=(0,J.A)(function*(sn){if(409!==sn.status)Ut.push(sn);else{var Ht=(0,Ue.m)(It,sn.documentId),hn=(0,lt.ZN)(sn.documentInDb),on=ce._docCache.getCachedRxDocuments([hn])[0],Nn=yield on.incrementalModify(()=>Ht);Rt.push(Nn)}});return function(sn){return rn.apply(this,arguments)}}())),{error:Ut,success:Rt}});return function Z(re){return X.apply(this,arguments)}}(),$.upsert=function(){var X=(0,J.A)(function*(re){(0,Me.X3)(this);var ce=yield this.bulkUpsert([re]);return(0,Q.WX)(this.asRxCollection,re[this.schema.primaryPath],re,ce.error[0]),ce.success[0]});return function Z(re){return X.apply(this,arguments)}}(),$.incrementalUpsert=function(Z){(0,Me.X3)(this);var re=(0,Me.JY)(this.schema,Z),ce=re[this.schema.primaryPath];if(!ce)throw(0,oe.Br)("COL4",{data:Z});var Te=this._incrementalUpsertQueues.get(ce);return Te||(Te=a.em),Te=Te.then(()=>function se(B,$,X){var Z=B._docCache.getLatestDocumentDataIfExists($);return Z?Promise.resolve({doc:B._docCache.getCachedRxDocuments([Z])[0],inserted:!1}):B.findOne($).exec().then(re=>re?{doc:re,inserted:!1}:B.insert(X).then(ce=>({doc:ce,inserted:!0})))}(this,ce,re)).then(It=>It.inserted?It.doc:function ze(B,$){return B.incrementalModify(X=>$)}(It.doc,re)),this._incrementalUpsertQueues.set(ce,Te),Te},$.find=function(Z){if((0,Me.X3)(this),"string"==typeof Z)throw(0,oe.Br)("COL5",{queryObj:Z});return Z||(Z=(0,Ne.XX)()),(0,Ne.nd)("find",Z,this)},$.findOne=function(Z){if((0,Me.X3)(this),"number"==typeof Z||Array.isArray(Z))throw(0,oe.JX)("COL6",{queryObj:Z});var re;if("string"==typeof Z)re=(0,Ne.nd)("findOne",{selector:{[this.schema.primaryPath]:Z},limit:1},this);else{if(Z||(Z=(0,Ne.XX)()),Z.limit)throw(0,oe.Br)("QU6");(Z=(0,Be.FD)(Z)).limit=1,re=(0,Ne.nd)("findOne",Z,this)}return re},$.count=function(Z){return(0,Me.X3)(this),Z||(Z=(0,Ne.XX)()),(0,Ne.nd)("count",Z,this)},$.findByIds=function(Z){(0,Me.X3)(this);var re={selector:{[this.schema.primaryPath]:{$in:Z.slice(0)}}};return(0,Ne.nd)("findByIds",re,this)},$.exportJSON=function(){throw(0,De.u)("json-dump")},$.importJSON=function(Z){throw(0,De.u)("json-dump")},$.insertCRDT=function(Z){throw(0,De.u)("crdt")},$.addHook=function(Z,re,ce,Te=!1){if("function"!=typeof ce)throw(0,oe.JX)("COL7",{key:re,when:Z});if(!xt.includes(Z))throw(0,oe.JX)("COL8",{key:re,when:Z});if(!un.includes(re))throw(0,oe.Br)("COL9",{key:re});if("post"===Z&&"create"===re&&!0===Te)throw(0,oe.Br)("COL10",{when:Z,key:re,parallel:Te});var It=ce.bind(this),Lt=Te?"parallel":"series";this.hooks[re]=this.hooks[re]||{},this.hooks[re][Z]=this.hooks[re][Z]||{series:[],parallel:[]},this.hooks[re][Z][Lt].push(It)},$.getHooks=function(Z,re){return this.hooks[re]&&this.hooks[re][Z]?this.hooks[re][Z]:{series:[],parallel:[]}},$.hasHooks=function(Z,re){if(!this.hooks[re]||!this.hooks[re][Z])return!1;var ce=this.getHooks(Z,re);return!!ce&&(ce.series.length>0||ce.parallel.length>0)},$._runHooks=function(Z,re,ce,Te){var It=this.getHooks(Z,re);if(!It)return a.em;var Lt=It.series.map(Rt=>()=>Rt(ce,Te));return(0,a.h$)(Lt).then(()=>Promise.all(It.parallel.map(Rt=>Rt(ce,Te))))},$._runHooksSync=function(Z,re,ce,Te){if(this.hasHooks(Z,re)){var It=this.getHooks(Z,re);It&&It.series.forEach(Lt=>Lt(ce,Te))}},$.promiseWait=function(Z){return new Promise(ce=>{var Te=setTimeout(()=>{this.timeouts.delete(Te),ce()},Z);this.timeouts.add(Te)})},$.destroy=function(){var X=(0,J.A)(function*(){return this.destroyed?a.Dr:(yield Promise.all(this.onDestroy.map(re=>re())),this.destroyed=!0,Array.from(this.timeouts).forEach(re=>clearTimeout(re)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(re=>re.unsubscribe()),delete this.database.collections[this.name],(0,Ae.FX)("postDestroyRxCollection",this).then(()=>!0))))});return function Z(){return X.apply(this,arguments)}}(),$.remove=function(){var X=(0,J.A)(function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(re=>re())),yield(0,Me.vM)(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)});return function Z(){return X.apply(this,arguments)}}(),(0,ne.A)(B,[{key:"insert$",get:function(){return this.$.pipe((0,pe.p)(X=>"INSERT"===X.operation))}},{key:"update$",get:function(){return this.$.pipe((0,pe.p)(X=>"UPDATE"===X.operation))}},{key:"remove$",get:function(){return this.$.pipe((0,pe.p)(X=>"DELETE"===X.operation))}},{key:"asRxCollection",get:function(){return this}}])}();function be({database:B,name:$,schema:X,instanceCreationOptions:Z={},migrationStrategies:re={},autoMigrate:ce=!0,statics:Te={},methods:It={},attachments:Lt={},options:Rt={},localDocuments:Ut=!1,cacheReplacementPolicy:rn=Re.Cx,conflictHandler:sn=pt.a}){var ln={databaseInstanceToken:B.token,databaseName:B.name,collectionName:$,schema:X.jsonSchema,options:Z,multiInstance:B.multiInstance,password:B.password,devMode:We.h.isDevMode()};return(0,Ae.Xi)("preCreateRxStorageInstance",ln),(0,Me.vK)(B,ln).then(Ht=>{var hn=new mn(B,$,X,Ht,Z,re,It,Lt,Rt,rn,Te,sn);return hn.prepare().then(()=>{Object.entries(Te).forEach(([Nn,Cn])=>{Object.defineProperty(hn,Nn,{get:()=>Cn.bind(hn)})});var on=a.em;return ce&&0!==hn.schema.version&&(on=hn.migratePromise()),on}).then(()=>((0,Ae.Xi)("createRxCollection",{collection:hn,creator:{name:$,schema:X,storageInstance:Ht,instanceCreationOptions:Z,migrationStrategies:re,methods:It,attachments:Lt,options:Rt,cacheReplacementPolicy:rn,localDocuments:Ut,statics:Te}}),hn)).catch(on=>Ht.close().then(()=>Promise.reject(on)))})}},2104:(Bt,et,k)=>{"use strict";k.d(et,{CC:()=>oe,Nu:()=>Ue,WY:()=>Re,bD:()=>Qe,bV:()=>ue,lz:()=>Ge,ol:()=>Ae,vV:()=>Ie});var J=k(467),ne=k(7650),pe=k(1885),ae=k(6893),A=k(720),a=k(2060),De=k(8663),lt=k(6434),Be=k(5672),Ue="collection",Y="storage-token",oe=(0,pe.Ud)({version:0,title:"RxInternalDocument",primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Ue,Y,"rx-migration-status","OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function Ge(Q,pt){return(0,pe.U)(oe,{key:Q,context:pt})}function Re(Q){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,J.A)(function*(Q){var pt=(0,Be.Ib)(Q.schema,{selector:{context:Ue,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0});return(yield Q.query(pt)).documents})).apply(this,arguments)}var ge="storageToken",Fe=Ge(ge,Y);function Ae(Q){return xe.apply(this,arguments)}function xe(){return(xe=(0,J.A)(function*(Q){var pt=(0,A.z3)(10),Dt=Q.password?yield Q.hashFunction(JSON.stringify(Q.password)):void 0,un=[{document:{id:Fe,context:Y,key:ge,data:{rxdbVersion:Q.rxdbVersion,token:pt,instanceToken:Q.token,passwordHash:Dt},_deleted:!1,_meta:(0,a.o4)(),_rev:(0,a.Fq)(),_attachments:{}}}],tn=yield Q.internalStore.bulkWrite(un,"internal-add-storage-token");if(!tn.error[0])return(0,ae.YN)("id",un,tn)[0];var mn=(0,De.ZN)(tn.error[0]);if(mn.isError&&(0,ne.sX)(mn)){var Rn=mn;if(!function We(Q,pt){return!(!Q||pt.includes("beta")&&pt!==Q)&&Q.split(".")[0]===pt.split(".")[0]}(Rn.documentInDb.data.rxdbVersion,Q.rxdbVersion))throw(0,ne.Br)("DM5",{args:{database:Q.name,databaseStateVersion:Rn.documentInDb.data.rxdbVersion,codeVersion:Q.rxdbVersion}});if(Dt&&Dt!==Rn.documentInDb.data.passwordHash)throw(0,ne.Br)("DB1",{passwordHash:Dt,existingPasswordHash:Rn.documentInDb.data.passwordHash});return(0,De.ZN)(Rn.documentInDb)}throw mn})).apply(this,arguments)}function Ie(Q,pt,Dt){return st.apply(this,arguments)}function st(){return(st=(0,J.A)(function*(Q,pt,Dt){if(Q.schema.version!==Dt.version)throw(0,ne.Br)("SNH",{schema:Dt,version:Q.schema.version,name:Q.name,collection:Q,args:{storageCollectionName:pt}});for(var un=Ge(ue(Q.name,Q.schema.jsonSchema),Ue);;){var tn=yield(0,ae.O5)(Q.database.internalStore,un),mn=(0,lt.o8)((0,De.ZN)(tn));if(mn.data.connectedStorages.find(ze=>ze.collectionName===pt&&ze.schema.version===Dt.version))return;mn.data.connectedStorages.push({collectionName:pt,schema:Dt});try{yield(0,ae.mQ)(Q.database.internalStore,{previous:(0,De.ZN)(tn),document:mn},"add-connected-storage-to-collection")}catch(ze){if(!(0,ne.sX)(ze))throw ze}}})).apply(this,arguments)}function Qe(Q,pt,Dt){return _e.apply(this,arguments)}function _e(){return(_e=(0,J.A)(function*(Q,pt,Dt){if(Q.schema.version!==Dt.version)throw(0,ne.Br)("SNH",{schema:Dt,version:Q.schema.version,name:Q.name,collection:Q,args:{storageCollectionName:pt}});for(var un=Ge(ue(Q.name,Q.schema.jsonSchema),Ue);;){var tn=yield(0,ae.O5)(Q.database.internalStore,un),mn=(0,lt.o8)((0,De.ZN)(tn));if(!mn.data.connectedStorages.find(ze=>ze.collectionName===pt&&ze.schema.version===Dt.version))return;mn.data.connectedStorages=mn.data.connectedStorages.filter(ze=>ze.collectionName!==pt);try{yield(0,ae.mQ)(Q.database.internalStore,{previous:(0,De.ZN)(tn),document:mn},"remove-connected-storage-from-collection")}catch(ze){if(!(0,ne.sX)(ze))throw ze}}})).apply(this,arguments)}function ue(Q,pt){return Q+"-"+pt.version}},7396:(Bt,et,k)=>{"use strict";k.d(et,{lB:()=>Q,uh:()=>un,NI:()=>se});var J=k(467),ne=k(6126),pe=function(){this._parallels=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function A($,X){if(X){if(X._timeoutObj&&clearTimeout(X._timeoutObj),$._pHM.has(X)){var Z=$._pHM.get(X);$._hPM.delete(Z),$._pHM.delete(X)}$._iC.delete(X)}}function a($){$._tryIR||0===$._iC.size||($._tryIR=!0,setTimeout(function(){$.isIdle()?setTimeout(function(){$.isIdle()?(function ae($){0!==$._iC.size&&($._iC.values().next().value._manRes(),setTimeout(function(){return a($)},0))}($),$._tryIR=!1):$._tryIR=!1},0):$._tryIR=!1},0))}pe.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,a(this)},wrapCall:function(X){var re,Z=this;this.lock();try{re=X()}catch(ce){throw this.unlock(),ce}return re.then&&"function"==typeof re.then?re.then(function(ce){return Z.unlock(),ce}).catch(function(ce){throw Z.unlock(),ce}):(this.unlock(),re)},requestIdlePromise:function(X){var Z=this;X=X||{};var re,ce=new Promise(function(Lt){return re=Lt});if(ce._manRes=function(){A(Z,ce),re()},X.timeout){var It=setTimeout(function(){ce._manRes()},X.timeout);ce._timeoutObj=It}return this._iC.add(ce),a(this),ce},cancelIdlePromise:function(X){A(this,X)},requestIdleCallback:function(X,Z){var re=this._lHN++,ce=this.requestIdlePromise(Z);return this._hPM.set(re,ce),this._pHM.set(ce,re),ce.then(function(){return X()}),re},cancelIdleCallback:function(X){var Z=this._hPM.get(X);this.cancelIdlePromise(Z)},clear:function(){var X=this;this._iC.forEach(function(Z){return A(X,Z)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var De=k(6052),lt=k(5520),Be=k(2060),Ue=k(6434),Y=k(8663),Me=k(203),Ne=k(6243),oe=k(720),Ge=k(7650),Re=k(9182),Oe=k(2284),ge=k(1413),Fe=k(1397),Ae=k(4395),xe=k(6893),We=k(9556),Ie=k(2104),st=k(1318),Qe=k(3896),_e=new Set,Q=function(){function $(Z,re,ce,Te,It,Lt,Rt=!1,Ut={},rn,sn,ln,Ht,hn){this.idleQueue=new pe,this.rxdbVersion=De.o,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new ge.B,this.observable$=this.eventBulks$.pipe((0,Fe.Z)(on=>on.events)),this.storageToken=lt.Dr,this.storageTokenDocument=lt.Dr,this.emittedEventBulkIds=new We.p4(6e4),this.name=Z,this.token=re,this.storage=ce,this.instanceCreationOptions=Te,this.password=It,this.multiInstance=Lt,this.eventReduce=Rt,this.options=Ut,this.internalStore=rn,this.hashFunction=sn,this.cleanupPolicy=ln,this.allowSlowCount=Ht,this.reactivity=hn,"pseudoInstance"!==this.name&&(this.internalStore=(0,xe.AM)(this.asRxDatabase,rn,Ie.CC),this.storageTokenDocument=(0,Ie.ol)(this.asRxDatabase).catch(on=>this.startupErrors.push(on)),this.storageToken=this.storageTokenDocument.then(on=>on.data.token).catch(on=>this.startupErrors.push(on)))}var X=$.prototype;return X.getReactivityFactory=function(){if(!this.reactivity)throw(0,Ge.Br)("DB14",{database:this.name});return this.reactivity},X.$emit=function(re){this.emittedEventBulkIds.has(re.id)||(this.emittedEventBulkIds.add(re.id),this.eventBulks$.next(re))},X.removeCollectionDoc=function(){var Z=(0,J.A)(function*(ce,Te){var It=yield(0,xe.O5)(this.internalStore,(0,Ie.lz)((0,Ie.bV)(ce,Te),Ie.Nu));if(!It)throw(0,Ge.Br)("SNH",{name:ce,schema:Te});var Lt=(0,xe.C9)(It);Lt._deleted=!0,yield this.internalStore.bulkWrite([{document:Lt,previous:It}],"rx-database-remove-collection")});return function re(ce,Te){return Z.apply(this,arguments)}}(),X.addCollections=function(){var Z=(0,J.A)(function*(ce){var Te=this,It={},Lt={},Rt=[],Ut={};yield Promise.all(Object.entries(ce).map(function(){var ln=(0,J.A)(function*([Ht,hn]){var on=Ht,Nn=hn.schema;It[on]=Nn;var Cn=(0,Re.Wq)(Nn,Te.hashFunction);if(Lt[on]=Cn,Te.collections[Ht])throw(0,Ge.Br)("DB3",{name:Ht});var eo=(0,Ie.bV)(Ht,Nn),to={id:(0,Ie.lz)(eo,Ie.Nu),key:eo,context:Ie.Nu,data:{name:on,schemaHash:yield Cn.hash,schema:Cn.jsonSchema,version:Cn.version,connectedStorages:[]},_deleted:!1,_meta:(0,Be.o4)(),_rev:(0,Be.Fq)(),_attachments:{}};Rt.push({document:to});var Bi=Object.assign({},hn,{name:on,schema:Cn,database:Te}),Gt=(0,Ue.FD)(hn);Gt.database=Te,Gt.name=Ht,(0,Oe.Xi)("preCreateRxCollection",Gt),Bi.conflictHandler=Gt.conflictHandler,Ut[on]=Bi});return function(Ht){return ln.apply(this,arguments)}}()));var rn=yield this.internalStore.bulkWrite(Rt,"rx-database-add-collection");yield function W($){return B.apply(this,arguments)}(this),yield Promise.all(rn.error.map(function(){var ln=(0,J.A)(function*(Ht){if(409!==Ht.status)throw(0,Ge.Br)("DB12",{database:Te.name,writeError:Ht});var hn=(0,Y.ZN)(Ht.documentInDb),on=hn.data.name,Nn=Lt[on];if(hn.data.schemaHash!==(yield Nn.hash))throw(0,Ge.Br)("DB6",{database:Te.name,collection:on,previousSchemaHash:hn.data.schemaHash,schemaHash:yield Nn.hash,previousSchema:hn.data.schema,schema:(0,Y.ZN)(It[on])})});return function(Ht){return ln.apply(this,arguments)}}()));var sn={};return yield Promise.all(Object.keys(ce).map(function(){var ln=(0,J.A)(function*(Ht){var hn=Ut[Ht],on=yield(0,Ae.dN)(hn);sn[Ht]=on,Te.collections[Ht]=on,Te[Ht]||Object.defineProperty(Te,Ht,{get:()=>Te.collections[Ht]})});return function(Ht){return ln.apply(this,arguments)}}())),sn});return function re(ce){return Z.apply(this,arguments)}}(),X.lockedRun=function(re){return this.idleQueue.wrapCall(re)},X.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},X.exportJSON=function(re){throw(0,Me.u)("json-dump")},X.addState=function(re){throw(0,Me.u)("state")},X.importJSON=function(re){throw(0,Me.u)("json-dump")},X.backup=function(re){throw(0,Me.u)("backup")},X.leaderElector=function(){throw(0,Me.u)("leader-election")},X.isLeader=function(){throw(0,Me.u)("leader-election")},X.waitForLeadership=function(){throw(0,Me.u)("leader-election")},X.migrationStates=function(){throw(0,Me.u)("migration-schema")},X.destroy=function(){var Z=(0,J.A)(function*(){return this.destroyed||(this.destroyed=!0,yield(0,Oe.FX)("preDestroyRxDatabase",this),this.eventBulks$.complete(),this._subs.map(ce=>ce.unsubscribe()),"pseudoInstance"===this.name)?lt.Dr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(ce=>ce()))).then(()=>Promise.all(Object.keys(this.collections).map(ce=>this.collections[ce]).map(ce=>ce.destroy()))).then(()=>this.internalStore.close()).then(()=>_e.delete(this.storage.name+"|"+this.name)).then(()=>!0)});return function re(){return Z.apply(this,arguments)}}(),X.remove=function(){return this.destroy().then(()=>function tn($,X,Z){return mn.apply(this,arguments)}(this.name,this.storage,this.password))},(0,ne.A)($,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function Dt($,X,Z,re,ce,Te){return xt.apply(this,arguments)}function xt(){return(xt=(0,J.A)(function*($,X,Z,re,ce,Te){return yield X.createStorageInstance({databaseInstanceToken:$,databaseName:Z,collectionName:xe.OG,schema:Ie.CC,options:re,multiInstance:ce,password:Te,devMode:Qe.h.isDevMode()})})).apply(this,arguments)}function un({storage:$,instanceCreationOptions:X,name:Z,password:re,multiInstance:ce=!0,eventReduce:Te=!0,ignoreDuplicate:It=!1,options:Lt={},cleanupPolicy:Rt,allowSlowCount:Ut=!1,localDocuments:rn=!1,hashFunction:sn=Ne.V0,reactivity:ln}){(0,Oe.Xi)("preCreateRxDatabase",{storage:$,instanceCreationOptions:X,name:Z,password:re,multiInstance:ce,eventReduce:Te,ignoreDuplicate:It,options:Lt,localDocuments:rn}),It||function pt($,X){if(_e.has(X.name+"|"+$))throw(0,Ge.Br)("DB8",{name:$,storage:X.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}(Z,$),_e.add($.name+"|"+Z);var Ht=(0,oe.z3)(10);return Dt(Ht,$,Z,X,ce,re).catch(hn=>{throw _e.delete($.name+"|"+Z),hn}).then(hn=>{var on=new Q(Z,Ht,$,X,re,ce,Te,Lt,hn,sn,Rt,Ut,ln);return(0,Oe.FX)("createRxDatabase",{database:on,creator:{storage:$,instanceCreationOptions:X,name:Z,password:re,multiInstance:ce,eventReduce:Te,ignoreDuplicate:It,options:Lt,localDocuments:rn}}).then(()=>on)})}function mn(){return(mn=(0,J.A)(function*($,X,Z){var re=(0,oe.z3)(10),ce=yield Dt(re,X,$,{},!1,Z),Te=yield(0,Ie.WY)(ce),It=new Set;Te.forEach(Rt=>It.add(Rt.data.name));var Lt=Array.from(It);return yield Promise.all(Lt.map(Rt=>(0,st.vM)(X,ce,re,$,Rt,Z))),yield(0,Oe.FX)("postRemoveRxDatabase",{databaseName:$,storage:X}),yield ce.remove(),Lt})).apply(this,arguments)}function se($){return be.apply(this,arguments)}function be(){return(be=(0,J.A)(function*($){return(yield $.storageTokenDocument).data.instanceToken===$.token})).apply(this,arguments)}function B(){return(B=(0,J.A)(function*($){if(yield $.storageToken,$.startupErrors[0])throw $.startupErrors[0]})).apply(this,arguments)}},5908:(Bt,et,k)=>{"use strict";k.d(et,{Lt:()=>Qe,Zb:()=>Ie,cM:()=>We,ky:()=>xe});var J=k(467),ne=k(6354),pe=k(5964),ae=k(9172),A=k(3294),a=k(6496),De=k(8663),lt=k(1744),Be=k(5520),Ue=k(9403),Y=k(6434),Me=k(720),Ne=k(203),oe=k(7650),Ge=k(2284),Re=k(312),Oe=k(3896),ge=k(1885),Fe=k(6893),Ae=k(6706),xe={get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){if(this.isInstanceOfRxDocument)return this._data[this.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this.$.pipe((0,ne.T)(ue=>ue._data._deleted))},get deleted$$(){return this.collection.database.getReactivityFactory().fromObservable(this.deleted$,this.getLatest().deleted,this.collection.database)},get deleted(){if(this.isInstanceOfRxDocument)return this._data._deleted},getLatest(){var _e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(_e)},get $(){return this.collection.$.pipe((0,pe.p)(ue=>!ue.isLocal),(0,pe.p)(ue=>ue.documentId===this.primary),(0,ne.T)(ue=>(0,Re.vk)(ue)),(0,ae.Z)(this.collection._docCache.getLatestDocumentData(this.primary)),(0,A.F)((ue,Q)=>ue._rev===Q._rev),(0,ne.T)(ue=>this.collection._docCache.getCachedRxDocument(ue)),(0,a.t)(De.bz))},get $$(){return this.collection.database.getReactivityFactory().fromObservable(this.$,this.getLatest()._data,this.collection.database)},get$(_e){if(Oe.h.isDevMode()){if(_e.includes(".item."))throw(0,oe.Br)("DOC1",{path:_e});if(_e===this.primaryPath)throw(0,oe.Br)("DOC2");if(this.collection.schema.finalFields.includes(_e))throw(0,oe.Br)("DOC3",{path:_e});if(!(0,ge.nT)(this.collection.schema.jsonSchema,_e))throw(0,oe.Br)("DOC4",{path:_e})}return this.$.pipe((0,ne.T)(Q=>(0,lt.UU)(Q,_e)),(0,A.F)())},get$$(_e){var ue=this.get$(_e);return this.collection.database.getReactivityFactory().fromObservable(ue,this.getLatest().get(_e),this.collection.database)},populate(_e){var ue=(0,ge.nT)(this.collection.schema.jsonSchema,_e),Q=this.get(_e);if(!Q)return Be.$A;if(!ue)throw(0,oe.Br)("DOC5",{path:_e});if(!ue.ref)throw(0,oe.Br)("DOC6",{path:_e,schemaObj:ue});var pt=this.collection.database.collections[ue.ref];if(!pt)throw(0,oe.Br)("DOC7",{ref:ue.ref,path:_e,schemaObj:ue});return"array"===ue.type?pt.findByIds(Q).exec().then(Dt=>{var xt=Dt.values();return Array.from(xt)}):pt.findOne(Q).exec()},get(_e){return(0,Ue.q)(this._propertyCache,_e,()=>{var ue=(0,lt.UU)(this._data,_e);if("object"!=typeof ue||null===ue||Array.isArray(ue))return Oe.h.deepFreezeWhenDevMode(ue);var Q=this;return new Proxy((0,Y.FD)(ue),{get(Dt,xt){if("string"!=typeof xt)return Dt[xt];var un=xt.charAt(xt.length-1);if(xt.endsWith("$$")){var tn=xt.slice(0,-2);return Q.get$$((0,Me.L$)(_e+"."+tn))}if("$"===un){var mn=xt.slice(0,-1);return Q.get$((0,Me.L$)(_e+"."+mn))}if("_"===un){var Rn=xt.slice(0,-1);return Q.populate((0,Me.L$)(_e+"."+Rn))}return Q.get((0,Me.L$)(_e+"."+xt))}})})},toJSON(_e=!1){if(_e)return Oe.h.deepFreezeWhenDevMode(this._data);var ue=(0,Y.FD)(this._data);return delete ue._rev,delete ue._attachments,delete ue._deleted,delete ue._meta,Oe.h.deepFreezeWhenDevMode(ue)},toMutableJSON(_e=!1){return(0,Y.o8)(this.toJSON(_e))},update(_e){throw(0,Ne.u)("update")},incrementalUpdate(_e){throw(0,Ne.u)("update")},updateCRDT(_e){throw(0,Ne.u)("crdt")},putAttachment(){throw(0,Ne.u)("attachments")},getAttachment(){throw(0,Ne.u)("attachments")},allAttachments(){throw(0,Ne.u)("attachments")},get allAttachments$(){throw(0,Ne.u)("attachments")},modify(_e,ue){var Q=this;return(0,J.A)(function*(){var pt=Q._data,Dt=yield(0,Ae.Hl)(_e)(pt);return Q._saveData(Dt,pt)})()},incrementalModify(_e,ue){return this.collection.incrementalWriteQueue.addWrite(this._data,(0,Ae.Hl)(_e)).then(Q=>this.collection._docCache.getCachedRxDocument(Q))},patch(_e){var ue=this._data,Q=(0,Y.o8)(ue);return Object.entries(_e).forEach(([pt,Dt])=>{Q[pt]=Dt}),this._saveData(Q,ue)},incrementalPatch(_e){return this.incrementalModify(ue=>(Object.entries(_e).forEach(([Q,pt])=>{ue[Q]=pt}),ue))},_saveData(_e,ue){var Q=this;return(0,J.A)(function*(){if(_e=(0,Y.FD)(_e),Q._data._deleted)throw(0,oe.Br)("DOC11",{id:Q.primary,document:Q});yield Qe(Q.collection,_e,ue);var pt=[{previous:ue,document:_e}],Dt=yield Q.collection.storageInstance.bulkWrite(pt,"rx-document-save-data");return(0,Fe.WX)(Q.collection,Q.primary,_e,Dt.error[0]),yield Q.collection._runHooks("post","save",_e,Q),Q.collection._docCache.getCachedRxDocument((0,Fe.YN)(Q.collection.schema.primaryPath,pt,Dt)[0])})()},remove(){var _e=this,ue=this.collection;if(this.deleted)return Promise.reject((0,oe.Br)("DOC13",{document:this,id:this.primary}));var pt,Q=(0,Y.FD)(this._data);return ue._runHooks("pre","remove",Q,this).then((0,J.A)(function*(){Q._deleted=!0;var Dt=[{previous:_e._data,document:Q}],xt=yield ue.storageInstance.bulkWrite(Dt,"rx-document-remove");return(0,Fe.WX)(ue,_e.primary,Q,xt.error[0]),(0,Fe.YN)(_e.collection.schema.primaryPath,Dt,xt)[0]})).then(Dt=>(pt=Dt,this.collection._runHooks("post","remove",Q,this))).then(()=>this.collection._docCache.getCachedRxDocument(pt))},incrementalRemove(){var _e=this;return this.incrementalModify(function(){var ue=(0,J.A)(function*(Q){return yield _e.collection._runHooks("pre","remove",Q,_e),Q._deleted=!0,Q});return function(Q){return ue.apply(this,arguments)}}()).then(function(){var ue=(0,J.A)(function*(Q){return yield _e.collection._runHooks("post","remove",Q._data,Q),Q});return function(Q){return ue.apply(this,arguments)}}())},destroy(){throw(0,oe.Br)("DOC14")}};function We(_e=xe){var ue=function(pt,Dt){this.collection=pt,this._data=Dt,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return ue.prototype=_e,ue}function Ie(_e,ue,Q){var pt=new _e(ue,Q);return(0,Ge.Xi)("createRxDocument",pt),pt}function Qe(_e,ue,Q){return ue._meta=Object.assign({},Q._meta,ue._meta),Oe.h.isDevMode()&&_e.schema.validateChange(Q,ue),_e._runHooks("pre","save",ue,Q)}},7650:(Bt,et,k)=>{"use strict";k.d(et,{sX:()=>ge,Br:()=>Re,JX:()=>Oe,cg:()=>Ae});var J=k(6126),ne=k(6719);function pe(xe){return(pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)})(xe)}var ae=k(4394);function a(){try{var xe=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!xe})()}function lt(xe){var We="function"==typeof Map?new Map:void 0;return lt=function(st){if(null===st||!function A(xe){try{return-1!==Function.toString.call(xe).indexOf("[native code]")}catch{return"function"==typeof xe}}(st))return st;if("function"!=typeof st)throw new TypeError("Super expression must either be null or a function");if(void 0!==We){if(We.has(st))return We.get(st);We.set(st,Qe)}function Qe(){return function De(xe,We,Ie){if(a())return Reflect.construct.apply(null,arguments);var st=[null];st.push.apply(st,We);var Qe=new(xe.bind.apply(xe,st));return Ie&&(0,ae.A)(Qe,Ie.prototype),Qe}(st,arguments,pe(this).constructor)}return Qe.prototype=Object.create(st.prototype,{constructor:{value:Qe,enumerable:!1,writable:!0,configurable:!0}}),(0,ae.A)(Qe,st)},lt(xe)}var Be=k(3896);function Y(xe,We,Ie){return"RxError ("+We+"):\n"+xe+"\n"+function Ue(xe){var We="";return 0===Object.keys(xe).length||(We+="Given parameters: {\n",We+=Object.keys(xe).map(Ie=>{var st="[object Object]";try{st="errors"===Ie?xe[Ie].map(Qe=>JSON.stringify(Qe,Object.getOwnPropertyNames(Qe))):JSON.stringify(xe[Ie],function(Qe,_e){return void 0===_e?null:_e},2)}catch{}return Ie+":"+st}).join("\n"),We+="}"),We}(Ie)}var Me=function(xe){function We(st,Qe,_e={}){var ue,Q=Y(Qe,st,_e);return(ue=xe.call(this,Q)||this).code=st,ue.message=Q,ue.url=oe(st),ue.parameters=_e,ue.rxdb=!0,ue}return(0,ne.A)(We,xe),We.prototype.toString=function(){return this.message},(0,J.A)(We,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(lt(Error)),Ne=function(xe){function We(st,Qe,_e={}){var ue,Q=Y(Qe,st,_e);return(ue=xe.call(this,Q)||this).code=st,ue.message=Q,ue.url=oe(st),ue.parameters=_e,ue.rxdb=!0,ue}return(0,ne.A)(We,xe),We.prototype.toString=function(){return this.message},(0,J.A)(We,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(lt(TypeError));function oe(xe){return"https://rxdb.info/errors.html?console=errors#"+xe}function Ge(xe){return"\n You can find out more about this error here: "+oe(xe)+" "}function Re(xe,We){return new Me(xe,Be.h.tunnelErrorMessage(xe)+Ge(xe),We)}function Oe(xe,We){return new Ne(xe,Be.h.tunnelErrorMessage(xe)+Ge(xe),We)}function ge(xe){return!(!xe||409!==xe.status)&&xe}var Fe={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function Ae(xe){return Re("COL20",{name:Fe[xe.status],document:xe.documentId,writeError:xe})}},5365:(Bt,et,k)=>{"use strict";k.d(et,{Lr:()=>__,Xw:()=>pT,_V:()=>mT,dx:()=>Tm});var J=k(467),ne=k(997),pe=k(1885),ae=k(6434),A=k(7176);class a extends Error{}const Be=Number.MAX_SAFE_INTEGER,Ue=Number.MIN_SAFE_INTEGER,Y=Symbol("missing"),Me=Object.freeze(new Error("mingo: cycle detected while processing object/array")),Ne=Object.getPrototypeOf([]),oe=Object.getPrototypeOf({}),Re=/^\[object ([a-zA-Z0-9]+)\]$/;class Oe{}class ge{}const Fe=y=>null===y?Oe:void 0===y?ge:y.constructor,Ae=y=>{const b=function to(y){const b=new Set,D=I=>{const P=Fe(I);if(Qe.has(P))return Qe.get(P)(I);const j=P===Object?"":P.name;if(Z(I.toJSON))return`${j}(${JSON.stringify(I)})`;if(b.has(I))throw Me;b.add(I);try{if(P===Array)return"["+I.map(D).join(",")+"]";if(P!==Object){const[ie,we]=Nn(I);if(be(I))return`${j}${D([...I,ie])}`;I=ie}const te=Object.keys(I);return te.sort(),`${j}{`+te.map(ie=>`${ie}:${D(I[ie])}`).join(",")+"}"}finally{b.delete(I)}};return D(y)}(y);let D=0,I=b.length;for(;I;)D=(D<<5)-D^b.charCodeAt(--I);return D>>>0},xe=new Set(["null","undefined","boolean","number","string","date","regexp"]),We=new Set([ge,Oe,Boolean,String,Number]),Ie=y=>y.toString(),st=y=>`${Fe(y).name}[${y.toString()}]`,Qe=new Map([[Number,Ie],[Boolean,Ie],[RegExp,Ie],[Function,Ie],[Symbol,Ie],[Date,y=>y.toISOString()],[String,JSON.stringify],[Oe,y=>"null"],[ge,y=>"undefined"],[Int8Array,st],[Uint8Array,st],[Uint8ClampedArray,st],[Int16Array,st],[Uint16Array,st],[Int32Array,st],[Uint32Array,st],[Float32Array,st],[Float64Array,st]]);typeof BigInt<"u"&&Qe.set(BigInt,y=>"0x"+y.toString(16)),typeof BigInt64Array<"u"&&Qe.set(BigInt64Array,st),typeof BigUint64Array<"u"&&Qe.set(BigUint64Array,st);const _e={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},ue=(y,b)=>{y===Y&&(y=void 0),b===Y&&(b=void 0);const[D,I]=[y,b].map(P=>_e[xt(P).toLowerCase()]);return D!==I?D-I:1===D||2===D||6===D?y<b?-1:y>b?1:0:Cn(y,b)?0:y<b?-1:y>b?1:0};function Q(y,b){if(!y)throw new a(b)}const Dt=y=>{if(We.has(Fe(y)))return y;const b=new Set,D=I=>{if(b.has(I))throw Me;const P=Fe(I);if(We.has(P))return I;try{if(be(I))return b.add(I),I.map(D);if(W(I)){b.add(I);const j={};for(const te in I)j[te]=D(I[te]);return j}}finally{b.delete(I)}return P===Date||P===RegExp||(y=>{const b=Object.getPrototypeOf(Fe(y));return b&&"TypedArray"===b.name})(I)?new P(I):I};return D(y)},xt=y=>Re.exec(Object.prototype.toString.call(y))[1],un=y=>"boolean"==typeof y,tn=y=>"string"==typeof y,Rn=y=>!isNaN(y)&&"number"==typeof y,be=Array.isArray,W=y=>{if(!y)return!1;const b=Object.getPrototypeOf(y);return(b===oe||null===b)&&"[object Object]"===Object.prototype.toString.call(y)},B=y=>y===Object(y),$=y=>y instanceof Date,X=y=>y instanceof RegExp,Z=y=>"function"==typeof y,re=y=>null==y,ce=(y,b)=>y.includes(b),Te=(y,b)=>!ce(y,b),Lt=y=>re(y)||tn(y)&&!y||y instanceof Array&&0===y.length||W(y)&&0===Object.keys(y).length,Rt=y=>y===Y,Ut=y=>y instanceof Array?y:[y],rn=(y,b)=>!!y&&Object.prototype.hasOwnProperty.call(y,b),sn=(y,b)=>W(y)&&W(b)||be(y)&&be(b);function ln(y,b,D){if(D=D||{flatten:!1},Rt(y)||re(y))return b;if(Rt(b)||re(b))return y;if(!sn(y,b)){if(D.skipValidation)return b||y;throw Error("mismatched types. must both be array or object")}if(D.skipValidation=!0,be(y)){const I=y,P=b;if(D.flatten){let j=0,te=0;for(;j<I.length&&te<P.length;)I[j]=ln(I[j++],P[te++],D);for(;te<P.length;)I.push(b[te++])}else Zn(I,P)}else for(const I in b)y[I]=ln(y[I],b[I],D);return y}function Ht(y,b=Ae){const D=new Map;return y.forEach((I,P)=>{const j=Bi(I,b);D.has(j)?D.get(j).some(te=>Cn(y[te],I))||D.get(j).push(P):D.set(j,[P])}),D}function hn(y,b=Ae){if(y.some(ie=>0==ie.length))return[];if(1===y.length)return Array.from(y);const D=function Gt(y,b,D=ue){if(Lt(y))return y;const I=new Array,P=new Array;for(let j=0;j<y.length;j++){const te=y[j],ie=b(te,j);re(ie)?P.push(te):I.push([ie,te])}return I.sort((j,te)=>D(j[0],te[0])),Zn(P,I.map(j=>j[1]))}(y.map((ie,we)=>[we,ie.length]),ie=>ie[1]),I=y[D[0][0]],P=Ht(I,b),j=new Map,te=new Array;return P.forEach((ie,we)=>{const ct=ie.map(Jt=>I[Jt]),ot=ct.map(Jt=>0),Tt=ct.map(Jt=>[D[0][0],0]);let At=!1;for(let Jt=1;Jt<y.length;Jt++){const[pn,Mn]=D[Jt],Jn=y[pn];if(j.has(Jt)||j.set(Jt,Ht(Jn)),j.get(Jt).has(we)){const vi=j.get(Jt).get(we).map(Ci=>Jn[Ci]);At=ct.map((Ci,No)=>vi.some((ki,ao)=>{const ar=ot[No];return Cn(Ci,ki)&&(ot[No]++,pn<Tt[No][0]&&(Tt[No]=[pn,j.get(Jt).get(we)[ao]])),ar<ot[No]})).some(Boolean)}if(!At)return}At&&Zn(te,ot.map((Jt,pn)=>Jt===y.length-1?[ct[pn],Tt[pn]]:Y).filter(Jt=>Jt!==Y))}),te.sort((ie,we)=>{const[ct,[ot,Tt]]=ie,[At,[Jt,pn]]=we,Mn=ue(ot,Jt);return 0!==Mn?Mn:ue(Tt,pn)}).map(ie=>ie[0])}function on(y,b=0){const D=new Array;return function I(P,j){for(let te=0,ie=P.length;te<ie;te++)be(P[te])&&(j>0||j<0)?I(P[te],Math.max(-1,j-1)):D.push(P[te])}(y,b),D}const Nn=y=>{let[b,D]=[Object.getPrototypeOf(y),Object.getOwnPropertyNames(y)],I=b;for(;!D.length&&b!==oe&&b!==Ne;)I=b,D=Object.getOwnPropertyNames(b),b=Object.getPrototypeOf(b);const P={};return D.forEach(j=>P[j]=y[j]),[P,I]};function Cn(y,b){const D=[[y,b]];for(;D.length>0;){if([y,b]=D.pop(),y===b)continue;const I=Fe(y);if(I!==Fe(b)||Z(y))return!1;if(Qe.has(I)){const P=Qe.get(I);if(P(y)!==P(b))return!1}else{if(I!==Array&&I!==Object)return!1;{const P=Object.keys(y),j=Object.keys(b);if(P.length!==j.length||new Set(P.concat(j)).size!=P.length)return!1;for(const te of P)D.push([y[te],b[te]])}}}return!D.length}function Bi(y,b){return b=b||Ae,re(y)?null:b(y).toString()}function bi(y,b,D=Ae){if(y.length<1)return new Map;const I=new Map,P=new Map;for(let j=0;j<y.length;j++){const te=y[j],ie=b(te,j),we=Bi(ie,D);if(null===we)P.has(null)?P.get(null).push(te):P.set(null,[te]);else{const ct=I.has(we)?I.get(we).find(ot=>Cn(ot,ie)):null;re(ct)?(P.set(ie,[te]),I.has(we)?I.get(we).push(ie):I.set(we,[ie])):P.get(ct).push(te)}}return P}const fi=5e4;function Zn(y,...b){return y instanceof Array?b.reduce((D,I)=>{let P=Math.ceil(I.length/fi),j=0;for(;P-- >0;)Array.prototype.push.apply(D,I.slice(j,j+fi)),j+=fi;return D},y):b.filter(B).reduce((D,I)=>(Object.assign(D,I),D),y)}function ri(y,b){return B(y)?y[b]:void 0}function Go(y,b,D){let I=0;const j=xe.has(xt(y).toLowerCase())?y:function P(te,ie){let we=te;for(let ct=0;ct<ie.length;ct++){const ot=ie[ct];if(null===/^\d+$/.exec(ot)&&we instanceof Array){if(0===ct&&I>0)break;I+=1;const At=ie.slice(ct);we=we.reduce((Jt,pn)=>{const Mn=P(pn,At);return void 0!==Mn&&Jt.push(Mn),Jt},[]);break}if(we=ri(we,ot),void 0===we)break}return we}(y,b.split("."));return j instanceof Array&&D?.unwrapArray?function jt(y,b){if(b<1)return y;for(;b--&&1===y.length;)y=y[0];return y}(j,I):j}function Ao(y,b,D){const I=b.split("."),P=I[0],j=I.slice(1).join("."),te=null!==/^\d+$/.exec(P),ie=I.length>1;let we,ct;if(y instanceof Array)if(te)we=ri(y,Number(P)),ie&&(we=Ao(we,j,D)),we=[we];else{we=[];for(const ot of y)ct=Ao(ot,b,D),D?.preserveMissing?(void 0===ct&&(ct=Y),we.push(ct)):void 0!==ct&&we.push(ct)}else{if(ct=ri(y,P),ie&&(ct=Ao(ct,j,D)),void 0===ct)return;we=D?.preserveKeys?Object.assign({},y):{},we[P]=ct}return we}function oa(y){if(y instanceof Array)for(let b=y.length-1;b>=0;b--)y[b]===Y?y.splice(b,1):oa(y[b]);else if(W(y))for(const b in y)rn(y,b)&&oa(y[b])}const Ot=/^\d+$/;function Wo(y,b,D,I){const P=b.split("."),j=P[0],te=P.slice(1).join(".");if(1===P.length)(W(y)||be(y)&&Ot.test(j))&&D(y,j);else{I?.buildGraph&&re(y[j])&&(y[j]={});const ie=y[j];if(!ie)return;const we=!!(P.length>1&&Ot.test(P[1]));ie instanceof Array&&I?.descendArray&&!we?ie.forEach(ct=>Wo(ct,te,D,I)):Wo(ie,te,D,I)}}function sa(y,b,D){Wo(y,b,(I,P)=>{I[P]=Z(D)?D(I[P]):D},{buildGraph:!0})}function aa(y,b,D){Wo(y,b,(I,P)=>{if(I instanceof Array){if(/^\d+$/.test(P))I.splice(parseInt(P),1);else if(D&&D.descendArray)for(const j of I)W(j)&&delete j[P]}else W(I)&&delete I[P]},D)}const oc=/^\$[a-zA-Z0-9_]+$/;function no(y){return oc.test(y)}function Ui(y){if(xe.has(xt(y).toLowerCase()))return X(y)?{$regex:y}:{$eq:y};if(B(y)){if(!Object.keys(y).some(no))return{$eq:y};if(rn(y,"$regex")){const D=Object.assign({},y);return D.$regex=new RegExp(y.$regex,y.$options),delete D.$options,D}}return y}var wi=k(7650),dr=function(y){return y.CLONE_ALL="CLONE_ALL",y.CLONE_INPUT="CLONE_INPUT",y.CLONE_OUTPUT="CLONE_OUTPUT",y.CLONE_OFF="CLONE_OFF",y}(dr||{});class So{constructor(b,D,I,P=Date.now()){this._opts=b,this._root=D,this._local=I,this.timestamp=P,this.update(D,I)}static init(b,D,I){return b instanceof So?new So(b._opts,re(b.root)?D:b.root,Object.assign({},b.local,I)):new So(b,D,I)}update(b,D){var I;return this._root=b,this._local=D&&Object.assign({},D,{variables:Object.assign({},null===(I=this._local)||void 0===I?void 0:I.variables,D?.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:mi.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collation}get processingMode(){var b;return(null===(b=this._opts)||void 0===b?void 0:b.processingMode)||dr.CLONE_OFF}get useStrictMode(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useStrictMode}get scriptEnabled(){var b;return null===(b=this._opts)||void 0===b?void 0:b.scriptEnabled}get useGlobalContext(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useGlobalContext}get hashFunction(){var b;return null===(b=this._opts)||void 0===b?void 0:b.hashFunction}get collectionResolver(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collectionResolver}get jsonSchemaValidator(){var b;return null===(b=this._opts)||void 0===b?void 0:b.jsonSchemaValidator}get variables(){var b;return null===(b=this._opts)||void 0===b?void 0:b.variables}get context(){var b;return null===(b=this._opts)||void 0===b?void 0:b.context}}function sc(y){return y instanceof So?y.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:dr.CLONE_OFF},y),{context:y?.context?mi.from(y?.context):mi.init({})}))}var yn=function(y){return y.ACCUMULATOR="accumulator",y.EXPRESSION="expression",y.PIPELINE="pipeline",y.PROJECTION="projection",y.QUERY="query",y.WINDOW="window",y}(yn||{});class mi{constructor(b){this.operators={[yn.ACCUMULATOR]:{},[yn.EXPRESSION]:{},[yn.PIPELINE]:{},[yn.PROJECTION]:{},[yn.QUERY]:{},[yn.WINDOW]:{}};for(const[D,I]of Object.entries(b))this.addOperators(D,I)}static init(b={}){return new mi(b)}static from(b){return new mi(b.operators)}addOperators(b,D){for(const[I,P]of Object.entries(D))this.getOperator(b,I)||(this.operators[b][I]=P);return this}addAccumulatorOps(b){return this.addOperators(yn.ACCUMULATOR,b)}addExpressionOps(b){return this.addOperators(yn.EXPRESSION,b)}addQueryOps(b){return this.addOperators(yn.QUERY,b)}addPipelineOps(b){return this.addOperators(yn.PIPELINE,b)}addProjectionOps(b){return this.addOperators(yn.PROJECTION,b)}addWindowOps(b){return this.addOperators(yn.WINDOW,b)}getOperator(b,D){return b in this.operators&&this.operators[b][D]||null}}const fs=mi.init();function ca(y,b){for(const[D,I]of Object.entries(b)){Q(Z(I)&&no(D),`'${D}' is not a valid operator`);const P=Mo(y,D,null);Q(!P||I===P,`${D} already exists for '${y}' operators. Cannot change operator function once registered.`)}switch(y){case yn.ACCUMULATOR:fs.addAccumulatorOps(b);break;case yn.EXPRESSION:fs.addExpressionOps(b);break;case yn.PIPELINE:fs.addPipelineOps(b);break;case yn.PROJECTION:fs.addProjectionOps(b);break;case yn.QUERY:fs.addQueryOps(b);break;case yn.WINDOW:fs.addWindowOps(b)}}function Mo(y,b,D){const{context:I,useGlobalContext:P}=D||{},j=I?I.getOperator(y,b):null;return!j&&P?fs.getOperator(y,b):j}const la={$$ROOT:(y,b,D)=>D.root,$$CURRENT:(y,b,D)=>y,$$REMOVE(y,b,D){},$$NOW:(y,b,D)=>new Date(D.timestamp)},$c={$$KEEP:(y,b,D)=>y,$$PRUNE(y,b,D){},$$DESCEND(y,b,D){if(!rn(b,"$cond"))return y;let I;for(const[P,j]of Object.entries(y))if(B(j)){if(j instanceof Array){const te=[];for(let ie of j)W(ie)&&(ie=Ko(ie,b,D.update(ie))),re(ie)||te.push(ie);I=te}else I=Ko(j,b,D.update(j));re(I)?delete y[P]:y[P]=I}return y}};function Kn(y,b,D,I){var P;const j=So.init(I,y);if(no(D=D||"")){const te=Mo(yn.EXPRESSION,D,I);if(te)return te(y,b,j);const ie=Mo(yn.ACCUMULATOR,D,I);if(ie)return y instanceof Array||(y=Kn(y,b,null,j),b=null),Q(y instanceof Array,`'${D}' target must be an array.`),ie(y,b,j.update(null,j.local));throw new a(`operator '${D}' is not registered`)}if(tn(b)&&b.length>0&&"$"===b[0]){if(rn($c,b))return b;let te=j.root;const ie=b.split(".");if(rn(la,ie[0]))te=la[ie[0]](y,null,j),b=b.slice(ie[0].length+1);else if("$$"===ie[0].slice(0,2)){te=Object.assign({},j.variables,{this:y},null===(P=j.local)||void 0===P?void 0:P.variables);const we=ie[0].slice(2);Q(rn(te,we),`Use of undefined variable: ${we}`),b=b.slice(2)}else b=b.slice(1);return""===b?te:Go(te,b)}if(be(b))return b.map(te=>Kn(y,te,null,j));if(W(b)){const te={};for(const[ie,we]of Object.entries(b))if(te[ie]=Kn(y,we,ie,j),[yn.EXPRESSION,yn.ACCUMULATOR].some(ct=>!!Mo(ct,ie,I)))return Q(1===Object.keys(b).length,"Invalid aggregation expression '"+JSON.stringify(b)+"'"),te[ie];return te}return b}function Ko(y,b,D){const I=Kn(y,b,null,D);return rn($c,I)?$c[I](y,b,D):I}function Or(y){return y instanceof Fn?y:new Fn(y)}function ms(y,b){const D=y.slice(b+1);y.splice(b),Array.prototype.push.apply(y,D)}const ps=new Error;var hr=function(y){return y[y.MAP=0]="MAP",y[y.FILTER=1]="FILTER",y[y.TAKE=2]="TAKE",y[y.DROP=3]="DROP",y}(hr||{});class Fn{constructor(b){let D;if(this.iteratees=[],this.yieldedValues=[],this.isDone=!1,b instanceof Function&&(b={next:b}),function Ml(y){return!!y&&"object"==typeof y&&y?.next instanceof Function}(b)){const I=b;D=()=>{const P=I.next();if(P.done)throw ps;return P.value}}else if(b instanceof Array){const I=b,P=b.length;let j=0;D=()=>{if(j<P)return I[j++];throw ps}}else if(!(b instanceof Function))throw new a("Lazy must be initialized with an array, generator, or function.");this.getNext=function fo(y,b,D){let I=!1,P=-1,j=0;return function(te){try{e:for(;!I;){let ie=y();P++;let we=-1;const ct=b.length;let ot=!1;for(;++we<ct;){const Tt=b[we];switch(Tt.action){case hr.MAP:ie=Tt.func(ie,P);break;case hr.FILTER:if(!Tt.func(ie,P))continue e;break;case hr.TAKE:--Tt.count,Tt.count||(ot=!0);break;case hr.DROP:--Tt.count,Tt.count||ms(b,we);continue e;default:break e}}if(I=ot,!te)return{value:ie,done:!1};D[j++]=ie}}catch(ie){if(ie!==ps)throw ie}return I=!0,{done:I}}}(D,this.iteratees,this.yieldedValues)}push(b,D){return"function"==typeof D?this.iteratees.push({action:b,func:D}):"number"==typeof D&&this.iteratees.push({action:b,count:D}),this}next(){return this.getNext()}map(b){return this.push(hr.MAP,b)}filter(b){return this.push(hr.FILTER,b)}take(b){return b>0?this.push(hr.TAKE,b):this}drop(b){return b>0?this.push(hr.DROP,b):this}transform(b){const D=this;let I;return Or(()=>(I||(I=Or(b(D.value()))),I.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(b){for(;;){const D=this.next();if(D.done)break;if(!1===b(D.value))return!1}return!0}reduce(b,D){let I=this.next();for(void 0===D&&!I.done&&(D=I.value,I=this.next());!I.done;)D=b(D,I.value),I=this.next();return D}size(){return this.reduce((b,D)=>++b,0)}[Symbol.iterator](){return this}}class _n{constructor(b,D){this.pipeline=b,this.options=sc(D)}stream(b){let D=Or(b);const I=this.options.processingMode;(I==dr.CLONE_ALL||I==dr.CLONE_INPUT)&&D.map(Dt);const P=new Array;if(!Lt(this.pipeline))for(const j of this.pipeline){const te=Object.keys(j),ie=te[0],we=Mo(yn.PIPELINE,ie,this.options);Q(1===te.length&&!!we,`invalid pipeline operator ${ie}`),P.push(ie),D=we(D,j[ie],this.options)}return(I==dr.CLONE_OUTPUT||I==dr.CLONE_ALL&&hn([["$group","$unwind"],P]).length)&&D.map(Dt),D}run(b){return this.stream(b).value()}}class gs{constructor(b,D,I,P){this.source=b,this.predicate=D,this.projection=I,this.options=P,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result||(W(this.projection)&&this.operators.push({$project:this.projection}),this.result=Or(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new _n(this.operators,this.options).stream(this.result))),this.result}fetchAll(){const b=Or([...this.buffer]);return this.buffer=[],function Na(...y){let b=0;return Or(()=>{for(;b<y.length;){const D=y[b].next();if(!D.done)return D;b++}return{done:!0}})}(b,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(b){return this.operators.push({$skip:b}),this}limit(b){return this.operators.push({$limit:b}),this}sort(b){return this.operators.push({$sort:b}),this}collation(b){return this.options=Object.assign(Object.assign({},this.options),{collation:b}),this}next(){if(this.buffer.length>0)return this.buffer.pop();const b=this.fetch().next();return b.done?void 0:b.value}hasNext(){if(this.buffer.length>0)return!0;const b=this.fetch().next();return!b.done&&(this.buffer.push(b.value),!0)}map(b){return this.all().map(b)}forEach(b){this.all().forEach(b)}[Symbol.iterator](){return this.fetchAll()}}class fr{constructor(b,D){this.condition=b,this.options=sc(D),this.compiled=[],this.compile()}compile(){Q(W(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);const b={};for(const[D,I]of Object.entries(this.condition)){if("$where"===D)Object.assign(b,{field:D,expr:I});else if(ce(["$and","$or","$nor","$expr","$jsonSchema"],D))this.processOperator(D,D,I);else{Q(!no(D),`unknown top level operator: ${D}`);for(const[P,j]of Object.entries(Ui(I)))this.processOperator(D,P,j)}b.field&&this.processOperator(b.field,b.field,b.expr)}}processOperator(b,D,I){const P=Mo(yn.QUERY,D,this.options);if(!P)throw new a(`unknown query operator ${D}`);const j=P(b,I,this.options);this.compiled.push(j)}test(b){for(let D=0,I=this.compiled.length;D<I;D++)if(!this.compiled[D](b))return!1;return!0}find(b,D){return new gs(b,I=>this.test(I),D||{},this.options)}remove(b){return b.reduce((D,I)=>(this.test(I)||D.push(I),D),[])}}const Au=(y,b,D)=>{if(Lt(b)||!W(b))return y;let I=ue;const P=D.collation;return W(P)&&tn(P.locale)&&(I=function Qc(y){const b={sensitivity:Su[y.strength||3],caseFirst:"off"===y.caseFirst?"false":y.caseFirst||"false",numeric:y.numericOrdering||!1,ignorePunctuation:"shifted"===y.alternate};!0===(y.caseLevel||!1)&&("base"===b.sensitivity&&(b.sensitivity="case"),"accent"===b.sensitivity&&(b.sensitivity="variant"));const D=new Intl.Collator(y.locale,b);return(I,P)=>{if(!tn(I)||!tn(P))return ue(I,P);const j=D.compare(I,P);return j<0?-1:j>0?1:0}}(P)),y.transform(j=>{const te=Object.keys(b);for(const ie of te.reverse()){const we=bi(j,ot=>Go(ot,ie),D.hashFunction),ct=Array.from(we.keys()).sort(I);-1===b[ie]&&ct.reverse(),ct.reduce((ot,Tt)=>Zn(ot,we.get(Tt)),j=[])}return j})},Su={1:"base",2:"accent",3:"variant"};function oo(y){const b=(D,I,P)=>{const j={unwrapArray:!0},te=Math.max(1,D.split(".").length-1);return ie=>{const we=Go(ie,D,j);return y(we,I,Object.assign(Object.assign({},P),{depth:te}))}};return b.op="query",b}function hc(y){return(b,D,I)=>{const P=Kn(b,D,null,I);return y(...P)}}function ah(y,b,D){if(Cn(y,b)||re(y)&&re(b))return!0;if(y instanceof Array){const I=Cn.bind(null,b);return y.some(I)||on(y,D?.depth).some(I)}return!1}function qn(y,b,D){return!ah(y,b,D)}function _a(y,b,D){return re(y)?b.some(I=>null===I):hn([Ut(y),b],D?.hashFunction).length>0}function li(y,b,D){return!_a(y,b,D)}function Ha(y,b,D){return ye(y,b,(I,P)=>ue(I,P)<0)}function so(y,b,D){return ye(y,b,(I,P)=>ue(I,P)<=0)}function Pu(y,b,D){return ye(y,b,(I,P)=>ue(I,P)>0)}function Ll(y,b,D){return ye(y,b,(I,P)=>ue(I,P)>=0)}function xn(y){return no(y)&&-1===["$and","$or","$nor"].indexOf(y)}function v(y,b,D){if(be(y)&&!Lt(y)){let I=te=>te,P=b;Object.keys(b).every(xn)&&(P={temp:b},I=te=>({temp:te}));const j=new fr(P,D);for(let te=0,ie=y.length;te<ie;te++)if(j.test(I(y[te])))return!0}return!1}const C=y=>null===y,S=y=>Rn(y)&&y>=-2147483648&&y<=2147483647&&-1===y.toString().indexOf("."),N=y=>Rn(y)&&y>=Ue&&y<=Be&&-1===y.toString().indexOf("."),V={array:be,bool:un,boolean:un,date:$,decimal:Rn,double:Rn,int:S,long:N,number:Rn,null:C,object:W,regex:X,regexp:X,string:tn,undefined:re,function:y=>{throw new a("unsupported type key `function`.")},1:Rn,2:tn,3:W,4:be,6:re,8:un,9:$,10:C,11:X,16:S,18:N,19:Rn};function H(y,b,D){const I=V[b];return!!I&&I(y)}function ye(y,b,D){return Ut(y).some(I=>xt(I)===xt(b)&&D(I,b))}hc(li);const He=(y,b)=>(D,I,P)=>{Q(be(I),`${y}: expression must be an array.`);const j=Kn(D,I,null,P);return j.some(re)?null:(Q(j.every(Rn),`${y}: expression must evalue to array of numbers.`),b(j))};He("$bitAnd",y=>y.reduce((b,D)=>b&D,-1)),He("$bitOr",y=>y.reduce((b,D)=>b|D,0)),He("$bitXor",y=>y.reduce((b,D)=>b^D,0)),hc(ah),hc(Pu),hc(Ll),hc(Ha),hc(so),hc(qn);const Zg=(y,b)=>{const D={};return y.split("").forEach((I,P)=>D[I]=b*(P+1)),D};Object.assign(Object.assign(Object.assign({},Zg("ABCDEFGHIKLM",1)),Zg("NOPQRSTUVWXY",-1)),{Z:0});const dh={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Qo(y,b=dh){const D=Object.assign({},dh,b),I=new Set(Object.keys(D));return(P,j,te)=>{const ie=Kn(P,j,null,te);if(I.has(`${ie}`)){const we=D[`${ie}`];if(we instanceof Error)throw new a(`cannot apply $${y.name} to -inf, value must in (-inf,inf)`);return we}return y(ie)}}Qo(Math.acos,{Infinity:1/0,0:new Error}),Qo(Math.acosh,{Infinity:1/0,0:new Error}),Qo(Math.asin),Qo(Math.asinh,{Infinity:1/0,"-Infinity":-1/0}),Qo(Math.atan),Qo(Math.atanh,{1:1/0,"-1":-1/0}),Qo(Math.cos),Qo(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const a_=Math.PI/180,c_=(Qo(y=>y*a_,{Infinity:1/0,"-Infinity":1/0}),180/Math.PI);Qo(y=>y*c_,{Infinity:1/0,"-Infinity":-1/0}),Qo(Math.sin),Qo(Math.sinh,{"-Infinity":-1/0,Infinity:1/0}),Qo(Math.tan),Error;const wm=(y,b,D)=>{if(Lt(b))return y;let I=Object.keys(b),P=!1;wa(b,D);const j=D.idKey;if(ce(I,j)){const ie=b[j];(0===ie||!1===ie)&&(I=I.filter(Te.bind(null,[j])),P=0==I.length)}else I.push(j);const te=So.init(D);return y.map(ie=>yh(ie,b,te.update(ie),I,P))};function yh(y,b,D,I,P){let j={},te=!1,ie=!1;const we=[];P&&we.push(D.idKey);for(const ct of I){let ot;const Tt=b[ct];if(ct!==D.idKey&&ce([0,!1],Tt)&&(ie=!0),ct===D.idKey&&Lt(Tt))ot=y[ct];else if(tn(Tt))ot=Kn(y,Tt,ct,D);else if(!ce([1,!0],Tt))if(Tt instanceof Array)ot=Tt.map(Jt=>{const pn=Kn(y,Jt,null,D);return re(pn)?null:pn});else{if(!W(Tt)){we.push(ct);continue}{const Jt=Tt,pn=Object.keys(Tt),Mn=1==pn.length?pn[0]:"",Jn=Mo(yn.PROJECTION,Mn,D);if(Jn)"$slice"===Mn?Ut(Jt[Mn]).every(Rn)?(ot=Jn(y,Jt[Mn],ct,D),te=!0):ot=Kn(y,Jt,ct,D):ot=Jn(y,Jt[Mn],ct,D);else if(no(Mn))ot=Kn(y,Jt[Mn],Mn,D);else if(rn(y,ct)){wa(Jt,D);let vi=y[ct];vi instanceof Array?ot=vi.map(Ci=>yh(Ci,Jt,D,pn,!1)):(vi=W(vi)?vi:y,ot=yh(vi,Jt,D,pn,!1))}else ot=Kn(y,Tt,null,D)}}const At=Ao(y,ct,{preserveMissing:!0});void 0!==At&&ln(j,At,{flatten:!0}),Te([0,1,!1,!0],Tt)&&(void 0===ot?aa(j,ct,{descendArray:!0}):sa(j,ct,ot))}if(oa(j),(te||ie||P)&&(j=Zn({},y,j),we.length>0))for(const ct of we)aa(j,ct,{descendArray:!0});return j}function wa(y,b){const D=[!1,!1];for(const[I,P]of Object.entries(y)){if(I===b?.idKey)return;0===P||!1===P?D[0]=!0:(1===P||!0===P)&&(D[1]=!0),Q(!(D[0]&&D[1]),"Projection cannot have a mix of inclusion and exclusion.")}}const h_=(y,b,D)=>{Q(be(b),"Invalid expression: $and expects value to be an Array.");const I=b.map(P=>new fr(P,D));return P=>I.every(j=>j.test(P))},Cm=(y,b,D)=>{Q(be(b),"Invalid expression. $or expects value to be an Array");const I=b.map(P=>new fr(P,D));return P=>I.some(j=>j.test(P))},lT=(y,b,D)=>{Q(be(b),"Invalid expression. $nor expects value to be an array.");const I=Cm("$or",b,D);return P=>!I(P)},f_=(y,b,D)=>{const I={};I[y]=Ui(b);const P=new fr(I,D);return j=>!P.test(j)},$l=oo(ah),C0=oo(Pu),D0=oo(Ll),uT=oo(_a),m_=oo(Ha),p_=oo(so),g_=oo(qn),Dm=oo(li),dT=oo(function Bs(y,b,D){return Ut(y).some(I=>2===b.length&&I%b[0]===b[1])}),T0=oo(function qo(y,b,D){const I=Ut(y),P=j=>tn(j)&&((y,b=!0)=>!!y||b&&""===y)(b.exec(j),D?.useStrictMode);return I.some(P)||on(I,1).some(P)});oo(function za(y,b,D){if(!(be(y)&&be(b)&&y.length&&b.length))return!1;let I=!0;for(const P of b){if(!I)break;I=W(P)&&ce(Object.keys(P),"$elemMatch")?v(y,P.$elemMatch,D):P instanceof RegExp?y.some(j=>"string"==typeof j&&P.test(j)):y.some(j=>Cn(P,j))}return I});const A0=oo(v),Hl=oo(function va(y,b,D){return Array.isArray(y)&&y.length===b}),hT=oo(function Vl(y,b,D){return(!1===b||0===b)&&void 0===y||(!0===b||1===b)&&void 0!==y}),fT=oo(function ee(y,b,D){return Array.isArray(b)?b.findIndex(I=>H(y,I))>=0:H(y,b)});var S0=!1;function mT(y,b){var D=(0,pe.xQ)(y.primaryKey);b=(0,ae.FD)(b);var I=(0,ae.o8)(b);if("number"!=typeof I.skip&&(I.skip=0),I.selector?(I.selector=I.selector,Object.entries(I.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot)&&(I.selector[ct]={$eq:ot})})):I.selector={},I.index){var P=(0,A.$r)(I.index);P.includes(D)||P.push(D),I.index=P}if(I.sort)I.sort.find(ct=>(0,ae.Ln)(ct)===D)||(I.sort=I.sort.slice(0),I.sort.push({[D]:"asc"}));else if(I.index)I.sort=I.index.map(ct=>({[ct]:"asc"}));else{if(y.indexes){var j=new Set;Object.entries(I.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot||Object.keys(ot).find(At=>ne.Cf.has(At)))&&j.add(ct)});var ie,te=-1;y.indexes.forEach(ct=>{var ot=(0,A.k_)(ct)?ct:[ct],Tt=ot.findIndex(At=>!j.has(At));Tt>0&&Tt>te&&(te=Tt,ie=ot)}),ie&&(I.sort=ie.map(ct=>({[ct]:"asc"})))}I.sort||(I.sort=[{[D]:"asc"}])}return I}function pT(y,b){if(!b.sort)throw(0,wi.Br)("SNH",{query:b});var D=[];return b.sort.forEach(P=>{var j=Object.keys(P)[0],te=Object.values(P)[0];D.push({key:j,direction:te,getValueFn:(0,ae.SQ)(j)})}),(P,j)=>{for(var te=0;te<D.length;++te){var ie=D[te],we=ie.getValueFn(P),ct=ie.getValueFn(j);if(we!==ct)return"asc"===ie.direction?ue(we,ct):ue(ct,we)}}}function __(y,b){if(!b.sort)throw(0,wi.Br)("SNH",{query:b});var D=function M0(y){return S0||(ca(yn.PIPELINE,{$sort:Au,$project:wm}),ca(yn.QUERY,{$and:h_,$eq:$l,$elemMatch:A0,$exists:hT,$gt:C0,$gte:D0,$in:uT,$lt:m_,$lte:p_,$ne:g_,$nin:Dm,$mod:dT,$nor:lT,$not:f_,$or:Cm,$regex:T0,$size:Hl,$type:fT}),S0=!0),new fr(y)}(b.selector);return P=>D.test(P)}function Tm(y,b){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,J.A)(function*(y,b){var D=yield y.exec();return D?Array.isArray(D)?Promise.all(D.map(P=>b(P))):yield b(D):null})).apply(this,arguments)}},5672:(Bt,et,k)=>{"use strict";k.d(et,{Mh:()=>ko,XX:()=>ha,nd:()=>Wc,Ib:()=>Tu});var J=k(467),ne=k(6126),pe=k(4412),ae=k(4843),A=k(7786),a=k(5964),De=k(9172),lt=k(1397),Be=k(6354),Ue=k(6496),Y=k(3294),Me=k(4552),Ne=k(5520),oe=k(8663),Ge=k(6434),Re=k(203),Oe=k(2060),ge=k(7176),Fe=k(7650),Ae=k(2284);const Ie=z=>{z.previousResults.unshift(z.changeEvent.doc),z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,z.changeEvent.doc)},st=z=>{z.previousResults.push(z.changeEvent.doc),z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,z.changeEvent.doc)},Qe=z=>{const ke=z.previousResults.shift();z.keyDocumentMap&&ke&&z.keyDocumentMap.delete(ke[z.queryParams.primaryKey])},_e=z=>{const ke=z.previousResults.pop();z.keyDocumentMap&&ke&&z.keyDocumentMap.delete(ke[z.queryParams.primaryKey])},xt=z=>{z.keyDocumentMap&&z.keyDocumentMap.delete(z.changeEvent.id);const ke=z.queryParams.primaryKey,Je=z.previousResults;for(let dt=0;dt<Je.length;dt++)if(Je[dt][ke]===z.changeEvent.id){Je.splice(dt,1);break}},mn=z=>{const ke=z.changeEvent.id,Je=z.changeEvent.doc;if(z.keyDocumentMap){if(z.keyDocumentMap.has(ke))return;z.keyDocumentMap.set(ke,Je)}else if(z.previousResults.find(Nt=>Nt[z.queryParams.primaryKey]===ke))return;!function xe(z,ke,Je,dt){var Xn,Nt=z.length,Dn=Nt-1,Ln=0;if(0===Nt)return z.push(ke),0;for(;dt<=Dn;)Je(Xn=z[Ln=dt+(Dn-dt>>1)],ke)<=0?dt=Ln+1:Dn=Ln-1;Je(Xn,ke)<=0&&Ln++,z.splice(Ln,0,ke)}(z.previousResults,Je,z.queryParams.sortComparator,0)},be=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],W={doNothing:z=>{},insertFirst:Ie,insertLast:st,removeFirstItem:Qe,removeLastItem:_e,removeFirstInsertLast:z=>{Qe(z),st(z)},removeLastInsertFirst:z=>{_e(z),Ie(z)},removeFirstInsertFirst:z=>{Qe(z),Ie(z)},removeLastInsertLast:z=>{_e(z),st(z)},removeExisting:xt,replaceExisting:z=>{const ke=z.changeEvent.doc,Je=z.queryParams.primaryKey,dt=z.previousResults;for(let Nt=0;Nt<dt.length;Nt++)if(dt[Nt][Je]===z.changeEvent.id){dt[Nt]=ke,z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,ke);break}},alwaysWrong:z=>{const ke={_id:"wrongHuman"+(new Date).getTime()};z.previousResults.length=0,z.previousResults.push(ke),z.keyDocumentMap&&(z.keyDocumentMap.clear(),z.keyDocumentMap.set(ke._id,ke))},insertAtSortPosition:mn,removeExistingAndInsertAtSortPosition:z=>{xt(z),mn(z)},runFullQueryAgain:z=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:z=>{throw new Error("Action unknownAction should never be called")}};function $(z){return z?"1":"0"}function Nn(z,ke){const Je=[];for(let dt=0,Nt=z.length;dt<Nt;dt+=ke)Je.push(z.substring(dt,dt+ke));return Je}!function re(z=6){let ke="";for(let Nt=0;Nt<z;Nt++)ke+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()))}(4);const Cn=40;function to(z){return z.charCodeAt(0)-Cn}function Hn(z){return z[z.length-1]}function wi(z,ke,Je){if(Array.isArray(ke)&&(ke=ke.join(".")),!function rr(z){const ke=typeof z;return null!==z&&("object"===ke||"function"===ke)}(z)||"string"!=typeof ke)return void 0===Je?z:Je;const dt=ke.split(".");if(0===dt.length)return Je;for(let Nt=0;Nt<dt.length;Nt++){const Dn=dt[Nt];if(null==(z=dr(z,Dn)?Nt===dt.length-1?void 0:null:z[Dn])){if(Nt!==dt.length-1)return Je;break}}return void 0===z?Je:z}function dr(z,ke){if("number"!=typeof ke&&Array.isArray(z)){const Je=Number.parseInt(ke,10);return Number.isInteger(Je)&&z[Je]===z[ke]}return!1}const So=z=>!!z.queryParams.limit,gs={0:z=>"INSERT"===z.changeEvent.operation,1:z=>"UPDATE"===z.changeEvent.operation,2:z=>"DELETE"===z.changeEvent.operation,3:So,4:z=>1===z.queryParams.limit,5:z=>!!(z.queryParams.skip&&z.queryParams.skip>0),6:z=>0===z.previousResults.length,7:z=>So(z)&&z.previousResults.length>=z.queryParams.limit,8:z=>{const ke=z.previousResults[0];return!(!ke||ke[z.queryParams.primaryKey]!==z.changeEvent.id)},9:z=>{const ke=Hn(z.previousResults);return!(!ke||ke[z.queryParams.primaryKey]!==z.changeEvent.id)},10:z=>{const ke=z.queryParams.sortFields,Je=z.changeEvent.previous,dt=z.changeEvent.doc;if(!dt)return!1;if(!Je)return!0;for(let Nt=0;Nt<ke.length;Nt++){const Dn=ke[Nt];if(wi(Je,Dn)!==wi(dt,Dn))return!0}return!1},11:z=>{const ke=z.changeEvent.id;if(z.keyDocumentMap)return z.keyDocumentMap.has(ke);{const Je=z.queryParams.primaryKey,dt=z.previousResults;for(let Nt=0;Nt<dt.length;Nt++)if(dt[Nt][Je]===ke)return!0;return!1}},12:z=>{const ke=z.changeEvent.previous;if(!ke)return!1;const Je=z.previousResults[0];return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(ke,Je)<0)},13:z=>{const ke=z.changeEvent.previous;if(!ke)return!1;const Je=Hn(z.previousResults);return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(ke,Je)>0)},14:z=>{const ke=z.changeEvent.doc;if(!ke)return!1;const Je=z.previousResults[0];return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(ke,Je)<0)},15:z=>{const ke=z.changeEvent.doc;if(!ke)return!1;const Je=Hn(z.previousResults);return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(ke,Je)>0)},16:z=>{const ke=z.changeEvent.previous;return!!ke&&z.queryParams.queryMatcher(ke)},17:z=>{const ke=z.changeEvent.doc;return!!ke&&z.queryParams.queryMatcher(ke)}};let ac;const ua=z=>function Zn(z,ke,Je){let dt=z,Nt=z.l;for(;;){if(dt=dt[$(ke[Nt](Je))],"number"==typeof dt||"string"==typeof dt)return dt;Nt=dt.l}}(function ji(){return ac||(ac=function fi(z){const ke=new Map,dt=2+2*parseInt(z.charAt(0)+z.charAt(1),10),Dn=Nn(z.substring(2,dt),2);for(let Po=0;Po<Dn.length;Po++){const fa=Dn[Po],ma=fa.charAt(0),go=to(fa.charAt(1));ke.set(ma,go)}const Xn=Nn(z.substring(dt,z.length-3),4);for(let Po=0;Po<Xn.length;Po++){const fa=Xn[Po],ma=fa.charAt(0),go=fa.charAt(1),dc=fa.charAt(2),Kc=to(fa.charAt(3));if(!ke.has(go))throw new Error("missing node with id "+go);if(!ke.has(dc))throw new Error("missing node with id "+dc);const Pl=ke.get(go),qc=ke.get(dc);ke.set(ma,{l:Kc,0:Pl,1:qc})}const pi=z.slice(-3),$i=pi.charAt(0),Zi=pi.charAt(1);return{l:to(pi.charAt(2)),0:ke.get($i),1:ke.get(Zi)}}("14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7fae9\xa1bf9\xa2bq9\xa3cg9\xa4ck9\xa5cn9\xa6nd9\xa7np9\xa8nq9\xa9nf9\xaang9\xabnm9\xacnk9\xadmr9\xaems9\xafmt9\xb0mj9\xb1mk9\xb2ml9\xb3mn9\xb4mc8\xb5\xb3{8\xb6\xaf}8\xb7\xb0\xa48\xb8\xb3\xa78\xb9mn8\xba\xb3\xab8\xbb\xb3m8\xbcm\xb44\xbdz\xb24\xbe\xb3w4\xbfz\xb54\xc0\xaf\xb64\xc1\xb0\xb74\xc2\xb3\xba4\xc3\xb3\xb84\xc4m\xb94\xc5v\xa47\xc6yn7\xc7\xc0\xc17\xc8~\x7f7\xc9\xa5\xa47\xca\xc3\xc47\xcb\xa8n7\xcc\xba\xb97\xcd\xad\xb07\xce\xaem7\xcf\xaf\xb07\xd0\xb1m7\xd1\xb3m7\xd2\xbcm5\xd3\xc4m5\xd4\xb9m5\xd5\xbd\xb05\xd6\xbem5\xd7\xbf\xb05\xd8\xc7\xcf5\xd9\xc2m5\xda\xca\xd15\xdb\xb1m5\xdc\xbam5\xdd\xcc\xd15\xde\xd5\xcd2\xdf|\x7f2\xe0\xa1u2\xe1\xa3\xc52\xe2\xd6\xce2\xe3\xa6\xc62\xe4\xa9x2\xe5\xaa\xc62\xe6\xd7\xd82\xe7|\xc82\xe8\xa1\xa22\xe9\xa3\xc92\xea\xa4\xa52\xeb\xd9\xda2\xec\xa6\xcb2\xed\xa9n2\xee\xaan2\xef\xdb\xd02\xf0\xdc\xdd2\xf1\xacn2\xf2\xd2\xd3/\xf3an/\xf4bn/\xf5cn/\xf6\xde\xe2/\xf7\xdf\xe3/\xf8\xe0\xe4/\xf9\xe1\xe5/\xfa\xe6\xeb/\xfb\xe7\xec/\xfc\xe8\xed/\xfd\xe9\xee/\xfe\xcd\xce/\xff\xcf\xd1/\u0100\xf2\xd4,\u0101cn,\u0102\xf6\xef,\u0103\xa4\xf1,\u0104\xfa\xf0,\u0105\xea\xf1,\u0106\xfe\xd0,\u0107\xff\xd1,\u0108ac0\u0109bc0\u010a\xf3\xf50\u010b\xf4\u01010\u010c\xdf\xe10\u010d\xe0\xa40\u010e\xe7\xe90\u010f\xe8\xea0\u0110\xf7\xf90\u0111\xf8\u01030\u0112\xfb\xfd0\u0113\xfc\u01050\u0114m\xd2-\u0115m\u0100-\u0116\xde\xe6-\u0117\u010c\u010e-\u0118\u010d\u010f-\u0119\u0102\u0104-\u011a\u0110\u0112-\u011b\u0111\u0113-\u011c\xb2\xbb-\u011d\xcd\xcf-\u011e\u0106\u0107-\u011f\xb2\xb3-\u0120\u0114\u01083\u0121\u0115\u010a3\u0122\u0116\u01173\u0123\u0119\u011a3\u0124\u0122\u011d(\u0125\u011c\u011f(\u0126\u0123\u011e(\u0127\u0120\u0121+\u0128\u0109\u010b+\u0129\u0124\u0126+\u012a\u0118\u011b+\u012b\u0127\u01281\u012c\u0129\u012a1\u012d\u012c\u012b*\u012e\u0125m*\u012d\u012e.")),ac}(),gs,z);var Fs=k(312),Rl=k(9403),jr=k(5365);function oi(z,ke){return ke.sort&&0!==ke.sort.length?ke.sort.map(Je=>Object.keys(Je)[0]):[z]}var vs=new WeakMap;function Fa(z,ke){if(!z.collection.database.eventReduce)return{runFullQueryAgain:!0};var Je=function da(z){return(0,Rl.q)(vs,z,()=>{var ke=z.collection,Je=(0,jr._V)(ke.storageInstance.schema,(0,Ge.o8)(z.mangoQuery)),dt=ke.schema.primaryPath,Nt=(0,jr.Xw)(ke.schema.jsonSchema,Je),Ln=(0,jr.Lr)(ke.schema.jsonSchema,Je);return{primaryKey:z.collection.schema.primaryPath,skip:Je.skip,limit:Je.limit,sortFields:oi(dt,Je),sortComparator:($i,Zi)=>{var Ji={docA:$i,docB:Zi,rxQuery:z};return Nt(Ji.docA,Ji.docB)},queryMatcher:$i=>Ln({doc:$i,rxQuery:z}.doc)}})}(z),dt=(0,oe.ZN)(z._result).docsData.slice(0),Nt=(0,oe.ZN)(z._result).docsDataMap,Dn=!1,Xn=ke.map(pi=>(0,Fs._r)(pi)).filter(ge.S7).find(pi=>{var Zi=function cc(z){const ke=ua(z);return be[ke]}({queryParams:Je,changeEvent:pi,previousResults:dt,keyDocumentMap:Nt});return"runFullQueryAgain"===Zi||("doNothing"!==Zi?(Dn=!0,function zn(z,ke,Je,dt,Nt){(0,W[z])({queryParams:ke,changeEvent:Je,previousResults:dt,keyDocumentMap:Nt})}(Zi,Je,pi,dt,Nt),!1):void 0)});return Xn?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:Dn,newResults:dt}}var Hc=k(6259),La=k(9825),Va=function(){return(0,ne.A)(function z(ke,Je,dt){this.time=(0,Me.t)(),this.collection=ke,this.count=dt,this.documents=(0,La.X)(this.collection._docCache,Je)},[{key:"docsData",get:function(){return(0,Ge.Ns)(this,"docsData",this.documents.map(ke=>ke._data))}},{key:"docsDataMap",get:function(){var ke=new Map;return this.documents.forEach(Je=>{ke.set(Je.primary,Je._data)}),(0,Ge.Ns)(this,"docsDataMap",ke)}},{key:"docsMap",get:function(){for(var ke=new Map,Je=this.documents,dt=0;dt<Je.length;dt++){var Nt=Je[dt];ke.set(Nt.primary,Nt)}return(0,Ge.Ns)(this,"docsMap",ke)}}])}(),zc=k(997),kl=0,ko=function(){function z(Je,dt,Nt,Dn={}){this.id=++kl,this._execOverDatabaseCount=0,this._creationTime=(0,Me.t)(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new pe.t(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Ne.Dr,this.op=Je,this.mangoQuery=dt,this.collection=Nt,this.other=Dn,dt||(this.mangoQuery={selector:{}}),this.isFindOneByIdQuery=function uc(z,ke){if(!ke.skip&&ke.selector&&1===Object.keys(ke.selector).length&&ke.selector[z]){var Je=ke.selector[z];if("string"==typeof Je)return Je;if(1===Object.keys(Je).length&&"string"==typeof Je.$eq||1===Object.keys(Je).length&&Array.isArray(Je.$eq)&&!Je.$eq.find(dt=>"string"!=typeof dt))return Je.$eq}return!1}(this.collection.schema.primaryPath,dt)}var ke=z.prototype;return ke._setResultData=function(dt){if("number"!=typeof dt){dt instanceof Map&&(dt=Array.from(dt.values()));var Nt=new Va(this.collection,dt,dt.length);this._result=Nt}else this._result=new Va(this.collection,[],dt)},ke._execOverDatabase=function(){var Je=(0,J.A)(function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=(0,Me.t)(),"count"===this.op){var Nt=this.getPreparedQuery(),Dn=yield this.collection.storageInstance.count(Nt);if("slow"===Dn.mode&&!this.collection.database.allowSlowCount)throw(0,Fe.Br)("QU14",{collection:this.collection,queryObj:this.mangoQuery});return Dn.count}if("findByIds"===this.op){var Ln=(0,oe.ZN)(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,Xn=new Map,pi=[];return Ln.forEach(Ji=>{var Oo=this.collection._docCache.getLatestDocumentDataIfExists(Ji);if(Oo){if(!Oo._deleted){var Ls=this.collection._docCache.getCachedRxDocument(Oo);Xn.set(Ji,Ls)}}else pi.push(Ji)}),pi.length>0&&(yield this.collection.storageInstance.findDocumentsById(pi,!1)).forEach(Ji=>{var Oo=this.collection._docCache.getCachedRxDocument(Ji);Xn.set(Oo.primary,Oo)}),Xn}var Zi=function mo(z){return io.apply(this,arguments)}(this);return Zi.then(Ji=>(this._lastExecEnd=(0,Me.t)(),Ji))});return function dt(){return Je.apply(this,arguments)}}(),ke.exec=function(dt){if(dt&&"findOne"!==this.op)throw(0,Fe.Br)("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return lc(this).then(()=>(0,ae._)(this.$)).then(Nt=>{if(!Nt&&dt)throw(0,Fe.Br)("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Nt})},ke.toString=function(){var dt=(0,Ge.mf)({op:this.op,query:this.mangoQuery,other:this.other},!0),Nt=JSON.stringify(dt);return this.toString=()=>Nt,Nt},ke.getPreparedQuery=function(){var dt={rxQuery:this,mangoQuery:(0,jr._V)(this.collection.schema.jsonSchema,this.mangoQuery)};dt.mangoQuery.selector._deleted={$eq:!1},dt.mangoQuery.index&&dt.mangoQuery.index.unshift("_deleted"),(0,Ae.Xi)("prePrepareQuery",dt);var Nt=Tu(this.collection.schema.jsonSchema,dt.mangoQuery);return this.getPreparedQuery=()=>Nt,Nt},ke.doesDocumentDataMatch=function(dt){return!dt._deleted&&this.queryMatcher(dt)},ke.remove=function(){return this.exec().then(dt=>Array.isArray(dt)?Promise.all(dt.map(Nt=>Nt.remove())):dt.remove())},ke.incrementalRemove=function(){return(0,jr.dx)(this.asRxQuery,dt=>dt.incrementalRemove())},ke.update=function(dt){throw(0,Re.u)("update")},ke.patch=function(dt){return(0,jr.dx)(this.asRxQuery,Nt=>Nt.patch(dt))},ke.incrementalPatch=function(dt){return(0,jr.dx)(this.asRxQuery,Nt=>Nt.incrementalPatch(dt))},ke.modify=function(dt){return(0,jr.dx)(this.asRxQuery,Nt=>Nt.modify(dt))},ke.incrementalModify=function(dt){return(0,jr.dx)(this.asRxQuery,Nt=>Nt.incrementalModify(dt))},ke.where=function(dt){throw(0,Re.u)("query-builder")},ke.sort=function(dt){throw(0,Re.u)("query-builder")},ke.skip=function(dt){throw(0,Re.u)("query-builder")},ke.limit=function(dt){throw(0,Re.u)("query-builder")},(0,ne.A)(z,[{key:"$",get:function(){if(!this._$){var Je=this.collection.$.pipe((0,a.p)(dt=>!dt.isLocal),(0,De.Z)(null),(0,lt.Z)(()=>lc(this)),(0,Be.T)(()=>this._result),(0,Ue.t)(oe.bz),(0,Y.F)((dt,Nt)=>!(!dt||dt.time!==(0,oe.ZN)(Nt).time)),(0,a.p)(dt=>!!dt),(0,Be.T)(dt=>{var Nt=(0,oe.ZN)(dt);return"count"===this.op?Nt.count:"findOne"===this.op?0===Nt.documents.length?null:Nt.documents[0]:"findByIds"===this.op?Nt.docsMap:Nt.documents.slice(0)}));this._$=(0,A.h)(Je,this.refCount$.pipe((0,a.p)(()=>!1)))}return this._$}},{key:"$$",get:function(){return this.collection.database.getReactivityFactory().fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var Je=this.collection.schema.jsonSchema,dt=(0,jr._V)(this.collection.schema.jsonSchema,this.mangoQuery);return(0,Ge.Ns)(this,"queryMatcher",(0,jr.Lr)(Je,dt))}},{key:"asRxQuery",get:function(){return this}}])}();function ha(){return{selector:{}}}function Wc(z,ke,Je,dt){(0,Ae.Xi)("preCreateRxQuery",{op:z,queryObj:ke,collection:Je,other:dt});var Nt=new ko(z,ke,Je,dt);return Nt=function Gc(z){return z.collection._queryCache.getByQuery(z)}(Nt),(0,Hc.n9)(Je),Nt}function Gn(z){var ke=z.asRxQuery.collection._changeEventBuffer.getCounter();return z._latestChangeEvent>=ke}function lc(z){return z.collection.database.destroyed||Gn(z)?Ne.Dr:(z._ensureEqualQueue=z._ensureEqualQueue.then(()=>function Ol(z){if(z._lastEnsureEqual=(0,Me.t)(),z.collection.database.destroyed||Gn(z))return Ne.Dr;var ke=!1,Je=!1;if(-1===z._latestChangeEvent&&(Je=!0),!Je){var dt=z.asRxQuery.collection._changeEventBuffer.getFrom(z._latestChangeEvent+1);if(null===dt)Je=!0;else{z._latestChangeEvent=z.asRxQuery.collection._changeEventBuffer.getCounter();var Nt=z.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(dt);if("count"===z.op){var Dn=(0,oe.ZN)(z._result).count,Ln=Dn;Nt.forEach(pi=>{var $i=pi.previousDocumentData&&z.doesDocumentDataMatch(pi.previousDocumentData),Zi=z.doesDocumentDataMatch(pi.documentData);!$i&&Zi&&Ln++,$i&&!Zi&&Ln--}),Ln!==Dn&&(ke=!0,z._setResultData(Ln))}else{var Xn=Fa(z,Nt);Xn.runFullQueryAgain?Je=!0:Xn.changed&&(ke=!0,z._setResultData(Xn.newResults))}}}return Je?z._execOverDatabase().then(pi=>(z._latestChangeEvent=z.collection._changeEventBuffer.getCounter(),"number"==typeof pi?((!z._result||pi!==z._result.count)&&(ke=!0,z._setResultData(pi)),ke):((!z._result||!(0,Oe.YL)(z.collection.schema.primaryPath,pi,z._result.docsData))&&(ke=!0,z._setResultData(pi)),ke))):Promise.resolve(ke)}(z)),z._ensureEqualQueue)}function Tu(z,ke){if(!ke.sort)throw(0,Fe.Br)("SNH",{query:ke});return{query:ke,queryPlan:(0,zc.sk)(z,ke)}}function io(){return(io=(0,J.A)(function*(z){var ke=[],Je=z.collection;if(z.isFindOneByIdQuery)if(Array.isArray(z.isFindOneByIdQuery)){var dt=z.isFindOneByIdQuery;if((dt=dt.filter(Zi=>{var Ji=z.collection._docCache.getLatestDocumentDataIfExists(Zi);return!Ji||(Ji._deleted||ke.push(Ji),!1)})).length>0){var Nt=yield Je.storageInstance.findDocumentsById(dt,!1);(0,ge.Hb)(ke,Nt)}}else{var Dn=z.isFindOneByIdQuery,Ln=z.collection._docCache.getLatestDocumentDataIfExists(Dn);if(!Ln){var Xn=yield Je.storageInstance.findDocumentsById([Dn],!1);Xn[0]&&(Ln=Xn[0])}Ln&&!Ln._deleted&&ke.push(Ln)}else{var pi=z.getPreparedQuery(),$i=yield Je.storageInstance.query(pi);ke=$i.documents}return ke})).apply(this,arguments)}},1885:(Bt,et,k)=>{"use strict";k.d(et,{pA:()=>xe,Nq:()=>Me,Ud:()=>ge,U:()=>Ge,uK:()=>Ae,Hq:()=>oe,xQ:()=>Ne,nT:()=>Y,d1:()=>Re});var J=k(7650),ne=/\./g,ae=k(720),A=k(1744),a=k(8663),De=k(6434),lt=k(7176);function Y(Ie,st){var Qe=st;return Qe=Qe.replace(ne,".properties."),Qe=(0,ae.L$)(Qe="properties."+Qe),(0,A.UU)(Ie,Qe)}function Me(Ie,st,Qe){if("string"==typeof st.primaryKey)return Qe;var _e=Ge(st,Qe),ue=Qe[Ie];if(ue&&ue!==_e)throw(0,J.Br)("DOC19",{args:{documentData:Qe,existingPrimary:ue,newPrimary:_e},schema:st});return Qe[Ie]=_e,Qe}function Ne(Ie){return"string"==typeof Ie?Ie:Ie.key}function oe(Ie){var Qe=Y(Ie,Ne(Ie.primaryKey));return(0,a.ZN)(Qe.maxLength)}function Ge(Ie,st){if("string"==typeof Ie.primaryKey)return st[Ie.primaryKey];var Qe=Ie.primaryKey;return Qe.fields.map(_e=>{var ue=(0,A.UU)(st,_e);if(typeof ue>"u")throw(0,J.Br)("DOC18",{args:{field:_e,documentData:st}});return ue}).join(Qe.separator)}function Re(Ie){return(0,De.mf)(Ie,!0)}function ge(Ie){var st=Ne((Ie=(0,De.FD)(Ie)).primaryKey);Ie.properties=(0,De.FD)(Ie.properties),Ie.additionalProperties=!1,Object.prototype.hasOwnProperty.call(Ie,"keyCompression")||(Ie.keyCompression=!1),Ie.indexes=Ie.indexes?Ie.indexes.slice(0):[],Ie.required=Ie.required?Ie.required.slice(0):[],Ie.encrypted=Ie.encrypted?Ie.encrypted.slice(0):[],Ie.properties._rev={type:"string",minLength:1},Ie.properties._attachments={type:"object"},Ie.properties._deleted={type:"boolean"},Ie.properties._meta=Fe,Ie.required=Ie.required?Ie.required.slice(0):[],Ie.required.push("_deleted"),Ie.required.push("_rev"),Ie.required.push("_meta"),Ie.required.push("_attachments");var Qe=Ae(Ie);(0,lt.Hb)(Ie.required,Qe),Ie.required=Ie.required.filter(Q=>!Q.includes(".")).filter((Q,pt,Dt)=>Dt.indexOf(Q)===pt),Ie.version=Ie.version||0;var _e=Ie.indexes.map(Q=>{var pt=(0,lt.k_)(Q)?Q.slice(0):[Q];return pt.includes(st)||pt.push(st),"_deleted"!==pt[0]&&pt.unshift("_deleted"),pt});0===_e.length&&_e.push(function Oe(Ie){return["_deleted",Ie]}(st)),_e.push(["_meta.lwt",st]),Ie.internalIndexes&&Ie.internalIndexes.map(Q=>{_e.push(Q)});var ue=new Set;return _e.filter(Q=>{var pt=Q.join(",");return!ue.has(pt)&&(ue.add(pt),!0)}),Ie.indexes=_e,Ie}var Fe={type:"object",properties:{lwt:{type:"number",minimum:k(2060).MC,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function Ae(Ie){var st=Object.keys(Ie.properties).filter(_e=>Ie.properties[_e].final),Qe=Ne(Ie.primaryKey);return st.push(Qe),"string"!=typeof Ie.primaryKey&&Ie.primaryKey.fields.forEach(_e=>st.push(_e)),st}function xe(Ie,st){for(var Qe=Object.keys(Ie.defaultValues),_e=0;_e<Qe.length;++_e){var ue=Qe[_e];(!Object.prototype.hasOwnProperty.call(st,ue)||typeof st[ue]>"u")&&(st[ue]=Ie.defaultValues[ue])}return st}},9182:(Bt,et,k)=>{"use strict";k.d(et,{NP:()=>Y,Wq:()=>Me,wJ:()=>Be});var J=k(6126),ne=k(6636),pe=k(6434),ae=k(7176),A=k(7650),a=k(2284),De=k(1885),lt=k(3896),Be=function(){function Ge(Oe,ge){this.jsonSchema=Oe,this.hashFunction=ge,this.indexes=function Ue(Ge){return(Ge.indexes||[]).map(Re=>(0,ae.k_)(Re)?Re:[Re])}(this.jsonSchema),this.primaryPath=(0,De.xQ)(this.jsonSchema.primaryKey),this.finalFields=(0,De.uK)(this.jsonSchema)}var Re=Ge.prototype;return Re.validateChange=function(ge,Fe){this.finalFields.forEach(Ae=>{if(!(0,ne.b)(ge[Ae],Fe[Ae]))throw(0,A.Br)("DOC9",{dataBefore:ge,dataAfter:Fe,fieldName:Ae,schema:this.jsonSchema})})},Re.getDocumentPrototype=function(){var ge={},Fe=(0,De.nT)(this.jsonSchema,"");return Object.keys(Fe).forEach(Ae=>{var xe=Ae;ge.__defineGetter__(Ae,function(){if(this.get&&"function"==typeof this.get)return this.get(xe)}),Object.defineProperty(ge,Ae+"$",{get:function(){return this.get$(xe)},enumerable:!1,configurable:!1}),Object.defineProperty(ge,Ae+"$$",{get:function(){return this.get$$(xe)},enumerable:!1,configurable:!1}),Object.defineProperty(ge,Ae+"_",{get:function(){return this.populate(xe)},enumerable:!1,configurable:!1})}),(0,pe.Ns)(this,"getDocumentPrototype",()=>ge),ge},Re.getPrimaryOfDocumentData=function(ge){return(0,De.U)(this.jsonSchema,ge)},(0,J.A)(Ge,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var Oe={};return Object.entries(this.jsonSchema.properties).filter(([,ge])=>Object.prototype.hasOwnProperty.call(ge,"default")).forEach(([ge,Fe])=>Oe[ge]=Fe.default),(0,pe.Ns)(this,"defaultValues",Oe)}},{key:"hash",get:function(){return(0,pe.Ns)(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function Y(Ge){var Oe=0;return new Array(Ge.version?Ge.version:0).fill(0).map(()=>Oe++)}function Me(Ge,Re,Oe=!0){Oe&&(0,a.Xi)("preCreateRxSchema",Ge);var ge=(0,De.Ud)(Ge);ge=(0,De.d1)(ge),lt.h.deepFreezeWhenDevMode(ge);var Fe=new Be(ge,Re);return(0,a.Xi)("createRxSchema",Fe),Fe}},6893:(Bt,et,k)=>{"use strict";k.d(et,{AM:()=>xt,C9:()=>pt,ME:()=>tn,Mu:()=>We,O5:()=>Oe,OG:()=>Ge,WX:()=>Ie,YN:()=>se,gi:()=>st,mQ:()=>Fe,on:()=>Q,p0:()=>Rn,pZ:()=>un});var J=k(467),ne=k(3896),pe=k(7650),ae=k(1885),A=k(720),a=k(4552),De=k(8663),lt=k(6434),Be=k(6568),Ue=k(7176),Y=k(2060),Me=k(5672),Ne=k(5365),oe=k(2284),Ge="_rxdb_internal";function Oe(W,B){return ge.apply(this,arguments)}function ge(){return(ge=(0,J.A)(function*(W,B){var X=(yield W.findDocumentsById([B],!1))[0];if(X)return X})).apply(this,arguments)}function Fe(W,B,$){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,J.A)(function*(W,B,$){var X=yield W.bulkWrite([B],$);if(X.error.length>0)throw X.error[0];return se((0,ae.xQ)(W.schema.primaryKey),[B],X)[0]})).apply(this,arguments)}function We(W){return Object.assign({},...W)}function Ie(W,B,$,X){if(X)throw 409===X.status?(0,pe.Br)("CONFLICT",{collection:W.name,id:B,writeError:X,data:$}):422===X.status?(0,pe.Br)("VD2",{collection:W.name,id:B,writeError:X,data:$}):X}function st(W,B,$,X,Z,re,ce){for(var Nn,Te=!!W.schema.attachments,It=[],Lt=[],Rt=[],rn={id:(0,A.z3)(10),events:[],checkpoint:null,context:Z,startTime:(0,a.t)(),endTime:0},sn=rn.events,ln=[],Ht=[],hn=[],on=$.size>0,Cn=X.length,eo=function(){var jt,Bi=X[to],Gt=Bi.document,bi=Bi.previous,fi=Gt[B],Zn=Gt._deleted,Hn=bi&&bi._deleted,ri=void 0;if(on&&(ri=$.get(fi)),ri){if(!bi||bi&&ri._rev!==bi._rev)return Rt.push({isError:!0,status:409,documentId:fi,writeRow:Bi,documentInDb:ri}),1;var Wo=Te?Qe(Bi):Bi;Te&&(Zn?bi&&Object.keys(bi._attachments).forEach(Ui=>{Ht.push({documentId:fi,attachmentId:Ui,digest:(0,De.ZN)(bi)._attachments[Ui].digest})}):(Object.entries(Gt._attachments).find(([Ui,rr])=>(!(bi?bi._attachments[Ui]:void 0)&&!rr.data&&(jt={documentId:fi,documentInDb:ri,isError:!0,status:510,writeRow:Bi,attachmentId:Ui}),!0)),jt||Object.entries(Gt._attachments).forEach(([Ui,rr])=>{var wi=bi?bi._attachments[Ui]:void 0;wi?rr.data&&wi.digest!==Wo.document._attachments[Ui].digest&&hn.push({documentId:fi,attachmentId:Ui,attachmentData:rr,digest:rr.digest}):ln.push({documentId:fi,attachmentId:Ui,attachmentData:rr,digest:rr.digest})}))),jt?Rt.push(jt):(Te?(Lt.push(Qe(Wo)),ce&&ce(Gt)):(Lt.push(Wo),ce&&ce(Gt)),Nn=Wo);var sa=null,aa=null,oc=null;if(Hn&&!Zn)oc="INSERT",sa=Te?Q(Gt):Gt;else if(!bi||Hn||Zn){if(!Zn)throw(0,pe.Br)("SNH",{args:{writeRow:Bi}});oc="DELETE",sa=(0,De.ZN)(Gt),aa=bi}else oc="UPDATE",sa=Te?Q(Gt):Gt,aa=bi;sn.push({documentId:fi,documentData:sa,previousDocumentData:aa,operation:oc})}else{var Go=!!Zn;if(Te&&Object.entries(Gt._attachments).forEach(([Ui,rr])=>{rr.data?ln.push({documentId:fi,attachmentId:Ui,attachmentData:rr,digest:rr.digest}):Rt.push(jt={documentId:fi,isError:!0,status:510,writeRow:Bi,attachmentId:Ui})}),jt||(Te?(It.push(Qe(Bi)),re&&re(Gt)):(It.push(Bi),re&&re(Gt)),Nn=Bi),!Go){var Ao={documentId:fi,operation:"INSERT",documentData:Te?Q(Gt):Gt,previousDocumentData:Te&&bi?Q(bi):bi};sn.push(Ao)}}},to=0;to<Cn;to++)eo();return{bulkInsertDocs:It,bulkUpdateDocs:Lt,newestRow:Nn,errors:Rt,eventBulk:rn,attachmentsAdd:ln,attachmentsRemove:Ht,attachmentsUpdate:hn}}function Qe(W){return{previous:W.previous,document:Q(W.document)}}function _e(W){return atob(W).length}function Q(W){if(!W._attachments||0===Object.keys(W._attachments).length)return W;var B=(0,lt.FD)(W);return B._attachments={},Object.entries(W._attachments).forEach(([$,X])=>{B._attachments[$]=function ue(W){var B=W.data;return B?{length:_e(B),digest:W.digest,type:W.type}:W}(X)}),B}function pt(W){return Object.assign({},W,{_meta:(0,lt.FD)(W._meta)})}var Dt=new WeakMap;function xt(W,B,$){ne.h.deepFreezeWhenDevMode($);var X=(0,ae.xQ)(B.schema.primaryKey),Z={originalStorageInstance:B,schema:B.schema,internals:B.internals,collectionName:B.collectionName,databaseName:B.databaseName,options:B.options,bulkWrite(re,ce){for(var Te=W.token,It=new Array(re.length),Lt=(0,a.t)(),Rt=0;Rt<re.length;Rt++){var Ut=re[Rt],rn=pt(Ut.document);rn._meta.lwt=Lt;var sn=Ut.previous;rn._rev=(0,Be.CM)(Te,sn),It[Rt]={document:rn,previous:sn}}return(0,oe.Xi)("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:It}),W.lockedRun(()=>B.bulkWrite(It,ce)).then(ln=>{var Ht={error:[]},hn=se(X,It,ln);Dt.set(Ht,hn);var on=0===ln.error.length?[]:ln.error.filter(Cn=>!(409!==Cn.status||Cn.writeRow.previous||Cn.writeRow.document._deleted||!(0,De.ZN)(Cn.documentInDb)._deleted)||(Ht.error.push(Cn),!1));if(on.length>0){var Nn=on.map(Cn=>({previous:Cn.documentInDb,document:Object.assign({},Cn.writeRow.document,{_rev:(0,Be.CM)(W.token,Cn.documentInDb)})}));return W.lockedRun(()=>B.bulkWrite(Nn,ce)).then(Cn=>{(0,Ue.Hb)(Ht.error,Cn.error);var eo=se(X,Nn,Cn);return(0,Ue.Hb)(hn,eo),Ht})}return Ht})},query:re=>W.lockedRun(()=>B.query(re)),count:re=>W.lockedRun(()=>B.count(re)),findDocumentsById:(re,ce)=>W.lockedRun(()=>B.findDocumentsById(re,ce)),getAttachmentData:(re,ce,Te)=>W.lockedRun(()=>B.getAttachmentData(re,ce,Te)),getChangedDocumentsSince:B.getChangedDocumentsSince?(re,ce)=>W.lockedRun(()=>B.getChangedDocumentsSince((0,De.ZN)(re),ce)):void 0,cleanup:re=>W.lockedRun(()=>B.cleanup(re)),remove:()=>(W.storageInstances.delete(Z),W.lockedRun(()=>B.remove())),close:()=>(W.storageInstances.delete(Z),W.lockedRun(()=>B.close())),changeStream:()=>B.changeStream(),conflictResultionTasks:()=>B.conflictResultionTasks(),resolveConflictResultionTask(re){if(re.output.isEqual)return B.resolveConflictResultionTask(re);var ce=Object.assign({},re.output.documentData,{_meta:(0,Y.o4)(),_rev:(0,Y.Fq)(),_attachments:{}}),Te=(0,lt.FD)(ce);return delete Te._meta,delete Te._rev,delete Te._attachments,B.resolveConflictResultionTask({id:re.id,output:{isEqual:!1,documentData:Te}})}};return W.storageInstances.add(Z),Z}function un(W){if(W.schema.keyCompression)throw(0,pe.Br)("UT5",{args:{params:W}});if(tn(W.schema))throw(0,pe.Br)("UT6",{args:{params:W}});if(W.schema.attachments&&W.schema.attachments.compression)throw(0,pe.Br)("UT7",{args:{params:W}})}function tn(W){return!!(W.encrypted&&W.encrypted.length>0||W.attachments&&W.attachments.encrypted)}function Rn(W,B,$){return ze.apply(this,arguments)}function ze(){return(ze=(0,J.A)(function*(W,B,$){if(W.getChangedDocumentsSince)return W.getChangedDocumentsSince(B,$);var X=(0,ae.xQ)(W.schema.primaryKey),Z=(0,Me.Ib)(W.schema,function mn(W,B,$){var X=(0,ae.xQ)(W.schema.primaryKey),Z=$?$.lwt:Y.MC;return(0,Ne._V)(W.schema,{selector:{$or:[{"_meta.lwt":{$gt:Z}},{"_meta.lwt":{$eq:Z},[X]:{$gt:$&&$?$.id:""}}],"_meta.lwt":{$gte:Z}},sort:[{"_meta.lwt":"asc"},{[X]:"asc"}],skip:0,limit:B})}(W,B,$)),ce=(yield W.query(Z)).documents,Te=(0,Ue.dG)(ce);return{documents:ce,checkpoint:Te?{id:Te[X],lwt:Te._meta.lwt}:$||{id:"",lwt:0}}})).apply(this,arguments)}function se(W,B,$){var X=Dt.get($);if(X)return X;var Z=[];if($.error.length>0){for(var re=new Set,ce=0;ce<$.error.length;ce++)re.add($.error[ce].documentId);for(var It=0;It<B.length;It++){var Lt=B[It].document;re.has(Lt[W])||Z.push(Q(Lt))}}else{Z.length=B.length-$.error.length;for(var Rt=0;Rt<B.length;Rt++)Z[Rt]=Q(B[Rt].document)}return Z}},467:(Bt,et,k)=>{"use strict";function J(pe,ae,A,a,De,lt,Be){try{var Ue=pe[lt](Be),Y=Ue.value}catch(Me){return void A(Me)}Ue.done?ae(Y):Promise.resolve(Y).then(a,De)}function ne(pe){return function(){var ae=this,A=arguments;return new Promise(function(a,De){var lt=pe.apply(ae,A);function Be(Y){J(lt,a,De,Be,Ue,"next",Y)}function Ue(Y){J(lt,a,De,Be,Ue,"throw",Y)}Be(void 0)})}}k.d(et,{A:()=>ne})},6126:(Bt,et,k)=>{"use strict";function J(a){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(De){return typeof De}:function(De){return De&&"function"==typeof Symbol&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De})(a)}function pe(a){var De=function ne(a,De){if("object"!=J(a)||!a)return a;var lt=a[Symbol.toPrimitive];if(void 0!==lt){var Be=lt.call(a,De||"default");if("object"!=J(Be))return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===De?String:Number)(a)}(a,"string");return"symbol"==J(De)?De:De+""}function ae(a,De){for(var lt=0;lt<De.length;lt++){var Be=De[lt];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(a,pe(Be.key),Be)}}function A(a,De,lt){return De&&ae(a.prototype,De),lt&&ae(a,lt),Object.defineProperty(a,"prototype",{writable:!1}),a}k.d(et,{A:()=>A})},6719:(Bt,et,k)=>{"use strict";k.d(et,{A:()=>ne});var J=k(4394);function ne(pe,ae){pe.prototype=Object.create(ae.prototype),pe.prototype.constructor=pe,(0,J.A)(pe,ae)}},4394:(Bt,et,k)=>{"use strict";function J(ne,pe){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,A){return ae.__proto__=A,ae})(ne,pe)}k.d(et,{A:()=>J})},1635:(Bt,et,k)=>{"use strict";function ae(ze,se){var be={};for(var W in ze)Object.prototype.hasOwnProperty.call(ze,W)&&se.indexOf(W)<0&&(be[W]=ze[W]);if(null!=ze&&"function"==typeof Object.getOwnPropertySymbols){var B=0;for(W=Object.getOwnPropertySymbols(ze);B<W.length;B++)se.indexOf(W[B])<0&&Object.prototype.propertyIsEnumerable.call(ze,W[B])&&(be[W[B]]=ze[W[B]])}return be}function Me(ze,se,be,W){return new(be||(be=Promise))(function($,X){function Z(Te){try{ce(W.next(Te))}catch(It){X(It)}}function re(Te){try{ce(W.throw(Te))}catch(It){X(It)}}function ce(Te){Te.done?$(Te.value):function B($){return $ instanceof be?$:new be(function(X){X($)})}(Te.value).then(Z,re)}ce((W=W.apply(ze,se||[])).next())})}function xe(ze){return this instanceof xe?(this.v=ze,this):new xe(ze)}function We(ze,se,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,W=be.apply(ze,se||[]),$=[];return B={},Z("next"),Z("throw"),Z("return",function X(Rt){return function(Ut){return Promise.resolve(Ut).then(Rt,It)}}),B[Symbol.asyncIterator]=function(){return this},B;function Z(Rt,Ut){W[Rt]&&(B[Rt]=function(rn){return new Promise(function(sn,ln){$.push([Rt,rn,sn,ln])>1||re(Rt,rn)})},Ut&&(B[Rt]=Ut(B[Rt])))}function re(Rt,Ut){try{!function ce(Rt){Rt.value instanceof xe?Promise.resolve(Rt.value.v).then(Te,It):Lt($[0][2],Rt)}(W[Rt](Ut))}catch(rn){Lt($[0][3],rn)}}function Te(Rt){re("next",Rt)}function It(Rt){re("throw",Rt)}function Lt(Rt,Ut){Rt(Ut),$.shift(),$.length&&re($[0][0],$[0][1])}}function st(ze){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,se=ze[Symbol.asyncIterator];return se?se.call(ze):(ze=function Re(ze){var se="function"==typeof Symbol&&Symbol.iterator,be=se&&ze[se],W=0;if(be)return be.call(ze);if(ze&&"number"==typeof ze.length)return{next:function(){return ze&&W>=ze.length&&(ze=void 0),{value:ze&&ze[W++],done:!ze}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(ze),be={},W("next"),W("throw"),W("return"),be[Symbol.asyncIterator]=function(){return this},be);function W($){be[$]=ze[$]&&function(X){return new Promise(function(Z,re){!function B($,X,Z,re){Promise.resolve(re).then(function(ce){$({value:ce,done:Z})},X)}(Z,re,(X=ze[$](X)).done,X.value)})}}}k.d(et,{AQ:()=>We,N3:()=>xe,Tt:()=>ae,sH:()=>Me,xN:()=>st}),"function"==typeof SuppressedError&&SuppressedError}},Bt=>{Bt(Bt.s=6011)}]);