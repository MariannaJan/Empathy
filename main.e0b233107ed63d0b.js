(self.webpackChunkEmpathy=self.webpackChunkEmpathy||[]).push([[792],{2603:(Bt,et,O)=>{"use strict";var J=O(1985),re=O(8359),me=O(7707);!function ae(n){n.__load_patch("rxjs",(t,e,r)=>{const i=e.__symbol__,m=Object.defineProperties;r.patchMethod(J.c.prototype,"lift",U=>(K,pe)=>{const fe=U.apply(K,pe);return fe.operator&&(fe.operator._zone=e.current,r.patchMethod(fe.operator,"call",he=>(ht,vt)=>ht._zone&&ht._zone!==e.current?ht._zone.run(he,ht,vt):he.apply(ht,vt))),fe}),function(){const U=J.c.prototype,pe=U[i("_subscribe")]=U._subscribe;m(J.c.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneSource:{value:null,writable:!0,configurable:!0},_zoneSubscribe:{value:null,writable:!0,configurable:!0},source:{configurable:!0,get:function(){return this._zoneSource},set:function(fe){this._zone=e.current,this._zoneSource=fe}},_subscribe:{configurable:!0,get:function(){if(this._zoneSubscribe)return this._zoneSubscribe;if(this.constructor===J.c)return pe;const fe=Object.getPrototypeOf(this);return fe&&fe._subscribe},set:function(fe){this._zone=e.current,this._zoneSubscribe=fe?function(){if(this._zone&&this._zone!==e.current){const he=this._zone.run(fe,this,arguments);if("function"==typeof he){const ht=this._zone;return function(){return ht!==e.current?ht.run(he,this,arguments):he.apply(this,arguments)}}return he}return fe.apply(this,arguments)}:fe}},subjectFactory:{get:function(){return this._zoneSubjectFactory},set:function(fe){const he=this._zone;this._zoneSubjectFactory=function(){return he&&he!==e.current?he.run(fe,this,arguments):fe.apply(this,arguments)}}}})}(),m(re.yU.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneUnsubscribe:{value:null,writable:!0,configurable:!0},_unsubscribe:{get:function(){if(this._zoneUnsubscribe||this._zoneUnsubscribeCleared)return this._zoneUnsubscribe;const U=Object.getPrototypeOf(this);return U&&U._unsubscribe},set:function(U){this._zone=e.current,U?(this._zoneUnsubscribeCleared=!1,this._zoneUnsubscribe=function(){return this._zone&&this._zone!==e.current?this._zone.run(U,this,arguments):U.apply(this,arguments)}):(this._zoneUnsubscribe=U,this._zoneUnsubscribeCleared=!0)}}}),function(){const U=me.vU.prototype.next,K=me.vU.prototype.error,pe=me.vU.prototype.complete;Object.defineProperty(me.vU.prototype,"destination",{configurable:!0,get:function(){return this._zoneDestination},set:function(fe){this._zone=e.current,this._zoneDestination=fe}}),me.vU.prototype.next=function(){const he=this._zone;return he&&he!==e.current?he.run(U,this,arguments,"rxjs.Subscriber.next"):U.apply(this,arguments)},me.vU.prototype.error=function(){const he=this._zone;return he&&he!==e.current?he.run(K,this,arguments,"rxjs.Subscriber.error"):K.apply(this,arguments)},me.vU.prototype.complete=function(){const he=this._zone;return he&&he!==e.current?he.run(pe,this,arguments,"rxjs.Subscriber.complete"):pe.call(this)}}()})}(Zone);var x=O(467),l=O(3953),De=O(8071);var Be=O(6648),Ue=O(9326);function Y(...n){const t=(0,Ue.lI)(n);return(0,Be.H)(n,t)}var Me=O(4412);const{isArray:Ne}=Array,{getPrototypeOf:oe,prototype:ze,keys:Re}=Object;function ke(n){if(1===n.length){const t=n[0];if(Ne(t))return{args:t,keys:null};if(function ge(n){return n&&"object"==typeof n&&oe(n)===ze}(t)){const e=Re(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var Fe=O(3669),xe=O(6354);const{isArray:Ae}=Array;function Ie(n){return(0,xe.T)(t=>function We(n,t){return Ae(t)?n(...t):n(t)}(n,t))}function st(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}var Qe=O(4360),_e=O(5225);function ue(...n){const t=(0,Ue.lI)(n),e=(0,Ue.ms)(n),{args:r,keys:i}=ke(n);if(0===r.length)return(0,Be.H)([],t);const c=new J.c(function Q(n,t,e=Fe.D){return r=>{mt(t,()=>{const{length:i}=n,c=new Array(i);let d=i,f=i;for(let m=0;m<i;m++)mt(t,()=>{const w=(0,Be.H)(n[m],t);let A=!1;w.subscribe((0,Qe._)(r,R=>{c[m]=R,A||(A=!0,f--),f||r.next(e(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,t,i?d=>st(i,d):Fe.D));return e?c.pipe(Ie(e)):c}function mt(n,t,e){n?(0,_e.N)(e,n,t):t()}var Dt=O(9350),At=O(8793),ln=O(8750);function en(n){return new J.c(t=>{(0,ln.Tg)(n()).subscribe(t)})}var pn=O(1203);function On(n,t){const e=(0,De.T)(n)?n:()=>n,r=i=>i.error(e());return new J.c(t?i=>t.schedule(r,0,i):r)}var Ge=O(983),se=O(9974);function be(){return(0,se.N)((n,t)=>{let e=null;n._refCount++;const r=(0,Qe._)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,c=e;e=null,i&&(!c||i===c)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class W extends J.c{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,se.S)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new re.yU;const e=this.getSubject();t.add(this.source.subscribe((0,Qe._)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=re.yU.EMPTY)}return t}refCount(){return be()(this)}}var B=O(1413);let $=null;function X(){return $}class ie{}const Te=new l.nKC("");let It=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(Rt),providedIn:"platform"})}return n})();const Lt=new l.nKC("");let Rt=(()=>{class n extends It{constructor(){super(),this._doc=(0,l.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(e){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ut(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function nn(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function on(n){return n&&"?"!==n[0]?"?"+n:n}let cn=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(hn),providedIn:"root"})}return n})();const Ht=new l.nKC("");let hn=(()=>{class n extends cn{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ut(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+on(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,c){const d=this.prepareExternalUrl(i+on(c));this._platformLocation.pushState(e,r,d)}replaceState(e,r,i,c){const d=this.prepareExternalUrl(i+on(c));this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(It),l.KVO(Ht,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rn=(()=>{class n extends cn{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ut(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,c){let d=this.prepareExternalUrl(i+on(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,r,d)}replaceState(e,r,i,c){let d=this.prepareExternalUrl(i+on(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(It),l.KVO(Ht,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),Pn=(()=>{class n{constructor(e){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function Vr(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(nn(no(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+on(r))}normalize(e){return n.stripTrailingSlash(function to(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,no(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+on(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+on(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static#e=this.normalizeQueryParams=on;static#t=this.joinWithSlash=Ut;static#n=this.stripTrailingSlash=nn;static#r=this.\u0275fac=function(r){return new(r||n)(l.KVO(cn))};static#i=this.\u0275prov=l.jDH({token:n,factory:()=>function Cn(){return new Pn((0,l.KVO)(cn))}(),providedIn:"root"})}return n})();function no(n){return n.replace(/\/index.html$/,"")}const Xr=/\s+/,xo=[];let Ss=(()=>{class n{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=xo,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Xr):xo}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Xr):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Xr).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.sFG))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})(),yl=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.c1b))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.OA$]})}return n})();function ni(n,t){return new l.wOt(2100,!1)}class Oa{createSubscription(t,e){return(0,l.O8t)(()=>t.subscribe({next:e,error:r=>{throw r}}))}dispose(t){(0,l.O8t)(()=>t.unsubscribe())}}class sa{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const Du=new sa,bl=new Oa;let wr=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,l.jNT)(e))return Du;if((0,l.zjR)(e))return bl;throw ni()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.gRc,16))};static#t=this.\u0275pipe=l.EJ8({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Sr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Fd=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw ni();return e.replace(Sr,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=l.EJ8({name:"titlecase",type:n,pure:!0,standalone:!0})}return n})(),Ho=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const jf="browser";function jd(n){return n===jf}function oo(n){return"server"===n}let yg=(()=>{class n{static#e=this.\u0275prov=(0,l.jDH)({token:n,providedIn:"root",factory:()=>jd((0,l.WQX)(l.Agw))?new bg((0,l.WQX)(Te),window):new ic})}return n})();class bg{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function so(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const c=i.shadowRoot;if(c){const d=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],i-c[1])}}class ic{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}function pi(n,t){return(0,se.N)((e,r)=>{let i=null,c=0,d=!1;const f=()=>d&&!i&&r.complete();e.subscribe((0,Qe._)(r,m=>{i?.unsubscribe();let w=0;const A=c++;(0,ln.Tg)(n(m,A)).subscribe(i=(0,Qe._)(r,R=>r.next(t?t(m,R,A,w++):R),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function Qr(n){return n<=0?()=>Ge.w:(0,se.N)((t,e)=>{let r=0;t.subscribe((0,Qe._)(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}var Wo=O(9172),Un=O(5964),ki=O(1397);function Gd(n){return(0,se.N)((t,e)=>{let r=!1;t.subscribe((0,Qe._)(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Tg(n=Gf){return(0,se.N)((t,e)=>{let r=!1;t.subscribe((0,Qe._)(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function Gf(){return new Dt.G}function Bc(n,t){const e=arguments.length>=2;return r=>r.pipe(n?(0,Un.p)((i,c)=>n(i,c,r)):Fe.D,Qr(1),e?Gd(t):Tg(()=>new Dt.G))}function Fu(n,t){return(0,De.T)(t)?(0,ki.Z)(n,t,1):(0,ki.Z)(n,1)}function gr(n,t,e){const r=(0,De.T)(n)||t||e?{next:n,error:t,complete:e}:n;return r?(0,se.N)((i,c)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let f=!0;i.subscribe((0,Qe._)(c,m=>{var w;null===(w=r.next)||void 0===w||w.call(r,m),c.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),c.complete()},m=>{var w;f=!1,null===(w=r.error)||void 0===w||w.call(r,m),c.error(m)},()=>{var m,w;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(w=r.finalize)||void 0===w||w.call(r)}))}):Fe.D}function Tl(n){return(0,se.N)((t,e)=>{let c,r=null,i=!1;r=t.subscribe((0,Qe._)(e,void 0,void 0,d=>{c=(0,ln.Tg)(n(d,Tl(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,c.subscribe(e))})}function Wd(n){return n<=0?()=>Ge.w:(0,se.N)((t,e)=>{let r=[];t.subscribe((0,Qe._)(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function a0(n){return(0,xe.T)(()=>n)}function Kd(n){return(0,se.N)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var Ag=O(5343);function Tr(n){return(0,se.N)((t,e)=>{(0,ln.Tg)(n).subscribe((0,Qe._)(e,()=>e.complete(),Ag.l)),!e.closed&&t.subscribe(e)})}var qd=O(6365);class c0 extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Sg extends c0{static makeCurrent(){!function Z(n){$??=n}(new Sg)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function xg(){return Xd=Xd||document.querySelector("base"),Xd?Xd.getAttribute("href"):null}();return null==e?null:function Mg(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){Xd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function qr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Xd=null,Rg=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const Vn=new l.nKC("");let Ei=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(c=>c.supports(e)),!r)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(e,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Vn),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class Pi{constructor(t){this._doc=t}}const Va="ng-app-id";let Wi=(()=>{class n{constructor(e,r,i,c={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=oo(c),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Va}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const c=i.get(e);return c.usage+=r,c.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,c=i?.get(r);if(c?.parentNode===e)return i.delete(r),c.removeAttribute(Va),c;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(Va,this.appId),e.appendChild(d),d}}addStyleToHost(e,r){const i=this.getStyleElement(e,r),c=this.styleRef,d=c.get(r)?.elements;d?d.push(i):c.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const Wf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Kf=/%COMP%/g,cT=new l.nKC("",{providedIn:"root",factory:()=>!0});function Zd(n,t){return t.map(e=>e.replace(Kf,n))}let d0=(()=>{class n{constructor(e,r,i,c,d,f,m,w=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=c,this.doc=d,this.platformId=f,this.ngZone=m,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=oo(f),this.defaultRenderer=new Jd(e,d,m,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===l.gXe.ShadowDom&&(r={...r,encapsulation:l.gXe.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof f0?i.applyToHost(e):i instanceof da&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let c=i.get(r.id);if(!c){const d=this.doc,f=this.ngZone,m=this.eventManager,w=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(r.encapsulation){case l.gXe.Emulated:c=new f0(m,w,r,this.appId,A,d,f,R);break;case l.gXe.ShadowDom:return new eh(m,w,e,r,d,f,this.nonce,R);default:c=new da(m,w,r,A,d,f,R)}i.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Ei),l.KVO(Wi),l.KVO(l.sZ2),l.KVO(cT),l.KVO(Te),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class Jd{constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Wf[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(qf(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(qf(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new l.wOt(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const c=Wf[i];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Wf[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(l.czy.DashCase|l.czy.Important)?t.style.setProperty(e,r,i&l.czy.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&l.czy.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){null!=t&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r){if("string"==typeof t&&!(t=X().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function qf(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class eh extends Jd{constructor(t,e,r,i,c,d,f,m){super(t,c,d,m),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=Zd(i.id,i.styles);for(const A of w){const R=document.createElement("style");f&&R.setAttribute("nonce",f),R.textContent=A,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class da extends Jd{constructor(t,e,r,i,c,d,f,m){super(t,c,d,f),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=m?Zd(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class f0 extends da{constructor(t,e,r,i,c,d,f,m){const w=i+"-"+r.id;super(t,e,r,c,d,f,m,w),this.contentAttr=function Og(n){return"_ngcontent-%COMP%".replace(Kf,n)}(w),this.hostAttr=function u0(n){return"_nghost-%COMP%".replace(Kf,n)}(w)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let kg=(()=>{class n extends Pi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),Xf=(()=>{class n extends Pi{constructor(e){super(e),this.delegate=(0,l.WQX)(l.zAP,{optional:!0})}supports(e){return!!this.delegate&&this.delegate.supports(e)}addEventListener(e,r,i){return this.delegate.addEventListener(e,r,i)}removeEventListener(e,r,i){return this.delegate.removeEventListener(e,r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const p0=["alt","control","meta","shift"],Pg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ks=(()=>{class n extends Pi{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>X().onAndCancel(e,c.domEventName,d))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),p0.forEach(w=>{const A=r.indexOf(w);A>-1&&(r.splice(A,1),d+=w+".")}),d+=c,0!=r.length||0===c.length)return null;const m={};return m.domEventName=i,m.fullKey=d,m}static matchEventFullKeyCode(e,r){let i=Pg[e.key]||e.key,c="";return r.indexOf("code.")>-1&&(i=e.code,c="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),p0.forEach(d=>{d!==i&&(0,Qf[d])(e)&&(c+=d+".")}),c+=i,c===r)}static eventCallback(e,r,i){return c=>{n.matchEventFullKeyCode(c,e)&&i.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function Yf(n){return{appProviders:[...Bg,...n?.providers??[]],platformProviders:g0}}const g0=[{provide:l.Agw,useValue:jf},{provide:l.PLl,useValue:function Fg(){Sg.makeCurrent()},multi:!0},{provide:Te,useFactory:function m0(){return(0,l.TL$)(document),document},deps:[]}],Bg=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function Al(){return new l.zcH},deps:[]},{provide:Vn,useClass:kg,multi:!0,deps:[Te,l.SKi,l.Agw]},{provide:Vn,useClass:ks,multi:!0,deps:[Te]},{provide:Vn,useClass:Xf,multi:!0},d0,Wi,Ei,{provide:l._9s,useExisting:d0},{provide:class $d{},useClass:Rg,deps:[]},[]];let _0=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:function(r){let i=null;return i=r?new(r||n):l.KVO(D),i},providedIn:"root"})}return n})(),D=(()=>{class n extends b{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case l.WPN.NONE:return r;case l.WPN.HTML:return(0,l.ZF7)(r,"HTML")?(0,l.rcV)(r):(0,l.h9k)(this._doc,String(r)).toString();case l.WPN.STYLE:return(0,l.ZF7)(r,"Style")?(0,l.rcV)(r):r;case l.WPN.SCRIPT:if((0,l.ZF7)(r,"Script"))return(0,l.rcV)(r);throw new l.wOt(5200,!1);case l.WPN.URL:return(0,l.ZF7)(r,"URL")?(0,l.rcV)(r):(0,l.$MX)(String(r));case l.WPN.RESOURCE_URL:if((0,l.ZF7)(r,"ResourceURL"))return(0,l.rcV)(r);throw new l.wOt(5201,!1);default:throw new l.wOt(5202,!1)}}bypassSecurityTrustHtml(e){return(0,l.Kcf)(e)}bypassSecurityTrustStyle(e){return(0,l.cWb)(e)}bypassSecurityTrustScript(e){return(0,l.UyX)(e)}bypassSecurityTrustUrl(e){return(0,l.osQ)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.e5t)(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const St="primary",Jt=Symbol("RouteTitle");class mn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function xn(n){return new mn(n)}function er(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let c=0;c<r.length;c++){const d=r[c],f=n[c];if(":"===d[0])i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ir(n,t){const e=n?Ro(n):void 0,r=t?Ro(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let c=0;c<e.length;c++)if(i=e[c],!xr(n[i],t[i]))return!1;return!0}function Ro(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xr(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,c)=>r[c]===i)}return n===t}function co(n){return n.length>0?n[n.length-1]:null}function ii(n){return function ut(n){return!!n&&(n instanceof J.c||(0,De.T)(n.lift)&&(0,De.T)(n.subscribe))}(n)?n:(0,l.jNT)(n)?(0,Be.H)(Promise.resolve(n)):Y(n)}const dn={exact:function Uc(n,t,e){if(!bo(n.segments,t.segments)||!Ar(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Uc(n.children[r],t.children[r],e))return!1;return!0},subset:$r},nh={exact:function qo(n,t){return Ir(n,t)},subset:function cc(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>xr(n[e],t[e]))},ignored:()=>!0};function Oo(n,t,e){return dn[e.paths](n.root,t.root,e.matrixParams)&&nh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function $r(n,t,e){return jc(n,t,t.segments,e)}function jc(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!bo(i,e)||t.hasChildren()||!Ar(i,e,r))}if(n.segments.length===e.length){if(!bo(n.segments,e)||!Ar(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!$r(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(bo(n.segments,i)&&Ar(n.segments,i,r)&&n.children[St])&&jc(n.children[St],t,c,r)}}function Ar(n,t,e){return t.every((r,i)=>nh[e](n[i].parameters,r.parameters))}class Pr{constructor(t=new Cr([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xn(this.queryParams),this._queryParamMap}toString(){return w0.serialize(this)}}class Cr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return tp(this)}}class Ba{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=xn(this.parameters),this._parameterMap}toString(){return gP(this)}}function bo(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let rh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>new $g,providedIn:"root"})}return n})();class $g{parse(t){const e=new h$(t);return new Pr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${np(t.root,!0)}`,r=function s$(n){const t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${I0(e)}=${I0(i)}`).join("&"):`${I0(e)}=${I0(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function i$(n){return encodeURI(n)}(t.fragment)}`:""}`}}const w0=new $g;function tp(n){return n.segments.map(t=>gP(t)).join("/")}function np(n,t){if(!n.hasChildren())return tp(n);if(t){const e=n.children[St]?np(n.children[St],!1):"",r=[];return Object.entries(n.children).forEach(([i,c])=>{i!==St&&r.push(`${i}:${np(c,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function ep(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===St&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==St&&(e=e.concat(t(i,r)))}),e}(n,(r,i)=>i===St?[np(n.children[St],!1)]:[`${i}:${np(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${tp(n)}/${e[0]}`:`${tp(n)}/(${e.join("//")})`}}function Hg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function I0(n){return Hg(n).replace(/%3B/gi,";")}function _T(n){return Hg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function C0(n){return decodeURIComponent(n)}function mP(n){return C0(n.replace(/\+/g,"%20"))}function gP(n){return`${_T(n.path)}${function o$(n){return Object.entries(n).map(([t,e])=>`;${_T(t)}=${_T(e)}`).join("")}(n.parameters)}`}const a$=/^[^\/()?;#]+/;function vT(n){const t=n.match(a$);return t?t[0]:""}const c$=/^[^\/()?;=#]+/,yT=/^[^=?&#]+/,u$=/^[^&#]+/;class h${constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cr([],{}):new Cr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[St]=new Cr(t,e)),r}parseSegment(){const t=vT(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(t),new Ba(C0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function l$(n){const t=n.match(c$);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=vT(this.remaining);i&&(r=i,this.capture(r))}t[C0(e)]=C0(r)}parseQueryParam(t){const e=function bT(n){const t=n.match(yT);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const d=function d$(n){const t=n.match(u$);return t?t[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=mP(e),c=mP(r);if(t.hasOwnProperty(i)){let d=t[i];Array.isArray(d)||(d=[d],t[i]=d),d.push(c)}else t[i]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=vT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.wOt(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=St);const d=this.parseChildren();e[c]=1===Object.keys(d).length?d[St]:new Cr([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.wOt(4011,!1)}}function _P(n){return n.segments.length>0?new Cr([],{[St]:n}):n}function ET(n){const t={};for(const[r,i]of Object.entries(n.children)){const c=ET(i);if(r===St&&0===c.segments.length&&c.hasChildren())for(const[d,f]of Object.entries(c.children))t[d]=f;else(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function wT(n){if(1===n.numberOfChildren&&n.children[St]){const t=n.children[St];return new Cr(n.segments.concat(t.segments),t.children)}return n}(new Cr(n.segments,t))}function $c(n){return n instanceof Pr}function CT(n){let t;const i=_P(function e(c){const d={};for(const m of c.children){const w=e(m);d[m.outlet]=w}const f=new Cr(c.url,d);return c===n&&(t=f),f}(n.root));return t??i}function DT(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(0===t.length)return D0(i,i,i,e,r);const c=function lc(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new TT(!0,0,n);let t=0,e=!1;const r=n.reduce((i,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return Object.entries(c.outlets).forEach(([m,w])=>{f[m]="string"==typeof w?w.split("/"):w}),[...i,{outlets:f}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===d?(c.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?t++:""!=f&&i.push(f))}),i):[...i,c]},[]);return new TT(e,t,r)}(t);if(c.toRoot())return D0(i,i,new Cr([],{}),e,r);const d=function AT(n,t,e){if(n.isAbsolute)return new ip(t,!0,0);if(!e)return new ip(t,!1,NaN);if(null===e.parent)return new ip(e,!0,0);const r=rp(n.commands[0])?0:1;return function cr(n,t,e){let r=n,i=t,c=e;for(;c>i;){if(c-=i,r=r.parent,!r)throw new l.wOt(4005,!1);i=r.segments.length}return new ip(r,!1,i-c)}(e,e.segments.length-1+r,n.numberOfDoubleDots)}(c,i,n),f=d.processChildren?Ki(d.segmentGroup,d.index,c.commands):oh(d.segmentGroup,d.index,c.commands);return D0(i,d.segmentGroup,f,e,r)}function rp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ih(n){return"object"==typeof n&&null!=n&&n.outlets}function D0(n,t,e,r,i){let d,c={};r&&Object.entries(r).forEach(([m,w])=>{c[m]=Array.isArray(w)?w.map(A=>`${A}`):`${w}`}),d=n===t?e:zg(n,t,e);const f=_P(ET(d));return new Pr(f,c,i)}function zg(n,t,e){const r={};return Object.entries(n.children).forEach(([i,c])=>{r[i]=c===t?e:zg(c,t,e)}),new Cr(n.segments,r)}class TT{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&rp(r[0]))throw new l.wOt(4003,!1);const i=r.find(ih);if(i&&i!==co(r))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ip{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function oh(n,t,e){if(n??=new Cr([],{}),0===n.segments.length&&n.hasChildren())return Ki(n,t,e);const r=function vP(n,t,e){let r=0,i=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return c;const d=n.segments[i],f=e[r];if(ih(f))break;const m=`${f}`,w=r<e.length-1?e[r+1]:null;if(i>0&&void 0===m)break;if(m&&w&&"object"==typeof w&&void 0===w.outlets){if(!ST(m,w,d))return c;r+=2}else{if(!ST(m,{},d))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Cr(n.segments.slice(0,r.pathIndex),{});return c.children[St]=new Cr(n.segments.slice(r.pathIndex),n.children),Ki(c,0,i)}return r.match&&0===i.length?new Cr(n.segments,{}):r.match&&!n.hasChildren()?Vu(n,t,e):r.match?Ki(n,0,i):Vu(n,t,e)}function Ki(n,t,e){if(0===e.length)return new Cr(n.segments,{});{const r=function T0(n){return ih(n[0])?n[0].outlets:{[St]:n}}(e),i={};if(Object.keys(r).some(c=>c!==St)&&n.children[St]&&1===n.numberOfChildren&&0===n.children[St].segments.length){const c=Ki(n.children[St],t,e);return new Cr(n.segments,c.children)}return Object.entries(r).forEach(([c,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(i[c]=oh(n.children[c],t,d))}),Object.entries(n.children).forEach(([c,d])=>{void 0===r[c]&&(i[c]=d)}),new Cr(n.segments,i)}}function Vu(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const c=e[i];if(ih(c)){const m=Bu(c.outlets);return new Cr(r,m)}if(0===i&&rp(e[0])){r.push(new Ba(n.segments[t].path,hs(e[0]))),i++;continue}const d=ih(c)?c.outlets[St]:`${c}`,f=i<e.length-1?e[i+1]:null;d&&f&&rp(f)?(r.push(new Ba(d,hs(f))),i+=2):(r.push(new Ba(d,{})),i++)}return new Cr(r,{})}function Bu(n){const t={};return Object.entries(n).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[e]=Vu(new Cr([],{}),0,r))}),t}function hs(n){const t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function ST(n,t,e){return n==e.path&&Ir(t,e.parameters)}const Uu="imperative";var tr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(tr||{});class Ii{constructor(t,e){this.id=t,this.url=e}}class op extends Ii{constructor(t,e,r="imperative",i=null){super(t,e),this.type=tr.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class uc extends Ii{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=tr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var fs=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(fs||{}),xl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(xl||{});class Hc extends Ii{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=tr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zc extends Ii{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=tr.NavigationSkipped}}class sh extends Ii{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=tr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gg extends Ii{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=tr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gc extends Ii{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=tr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An extends Ii{constructor(t,e,r,i,c){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c,this.type=tr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wg extends Ii{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=tr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class A0 extends Ii{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=tr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xT{constructor(t){this.route=t,this.type=tr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class f${constructor(t){this.route=t,this.type=tr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yP{constructor(t){this.snapshot=t,this.type=tr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bP{constructor(t){this.snapshot=t,this.type=tr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EP{constructor(t){this.snapshot=t,this.type=tr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class MT{constructor(t){this.snapshot=t,this.type=tr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ml{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=tr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class S0{}class Kg{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function Ci(n){return n.outlet||St}function ju(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class kT{get injector(){return ju(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new qg(this.rootInjector),this.attachRef=null}}let qg=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new kT(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.uvJ))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class CP{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xg(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Xg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Qg(t,this._root).map(e=>e.value)}}function Xg(n,t){if(n===t.value)return t;for(const e of t.children){const r=Xg(n,e);if(r)return r}return null}function Qg(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Qg(n,e);if(r.length)return r.unshift(t),r}return[]}class ha{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ni(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class dc extends CP{constructor(t,e){super(t),this.snapshot=e,R0(this,t)}toString(){return this.snapshot.toString()}}function M0(n){const t=function Ua(n){const c=new ap([],{},{},"",{},St,n,null,{});return new PT("",new ha(c,[]))}(n),e=new Me.t([new Ba("",{})]),r=new Me.t({}),i=new Me.t({}),c=new Me.t({}),d=new Me.t(""),f=new ps(e,r,c,d,i,St,n,t.root);return f.snapshot=t.root,new dc(new ha(f,[]),t)}class ps{constructor(t,e,r,i,c,d,f,m){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=c,this.outlet=d,this.component=f,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,xe.T)(w=>w[Jt]))??Y(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,xe.T)(t=>xn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,xe.T)(t=>xn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yg(n,t,e="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===t||"always"!==e&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...i?.data,...n._resolvedData}},i&&up(i)&&(r.resolve[Jt]=i.title),r}class ap{get title(){return this.data?.[Jt]}constructor(t,e,r,i,c,d,f,m,w){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=d,this.component=f,this.routeConfig=m,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PT extends CP{constructor(t,e){super(e),this.url=t,R0(this,e)}toString(){return Zg(this._root)}}function R0(n,t){t.value._routerState=n,t.children.forEach(e=>R0(n,e))}function Zg(n){const t=n.children.length>0?` { ${n.children.map(Zg).join(", ")} } `:"";return`${n.value}${t}`}function cp(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ir(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ir(t.params,e.params)||n.paramsSubject.next(e.params),function _r(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ir(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ir(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function lp(n,t){const e=Ir(n.params,t.params)&&function jg(n,t){return bo(n,t)&&n.every((e,r)=>Ir(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||lp(n.parent,t.parent))}function up(n){return"string"==typeof n.title||null===n.title}let dp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(qg),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.inputBinder=(0,l.WQX)(ah,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=e;const i=this.location,d=e.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new Jg(e,f,i.injector);this.activated=i.createComponent(d,{index:i.length,injector:m,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}return n})();class Jg{__ngOutletInjector(t){return new Jg(this.route,this.childContexts,t)}constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===ps?this.route:t===qg?this.childContexts:this.parent.get(t,e)}}const ah=new l.nKC("");let O0=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=ue([r.queryParams,r.params,r.data]).pipe(pi(([c,d,f],m)=>(f={...c,...d,...f},0===m?Y(f):Promise.resolve(f)))).subscribe(c=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const d=(0,l.HJs)(r.component);if(d)for(const{templateName:f}of d.inputs)e.activatedComponentRef.setInput(f,c[f]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function ch(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function FT(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ch(n,r,i);return ch(n,r)})}(n,t,e);return new ha(r,i)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(f=>ch(n,f)),d}}const r=function k0(n){return new ps(new Me.t(n.url),new Me.t(n.params),new Me.t(n.queryParams),new Me.t(n.fragment),new Me.t(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(c=>ch(n,c));return new ha(r,i)}}class P0{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const lo="ngNavigationCancelingError";function hc(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=$c(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Nr(!1,fs.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Nr(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[lo]=!0,e.cancellationCode=t,e}function VT(n){return!!n&&n[lo]}class BT{constructor(t,e,r,i,c){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=c}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),cp(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=Ni(e);t.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,i[d],r),delete i[d]}),Object.values(i).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const i=t.value,c=e?e.value:null;if(i===c)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,c=Ni(t);for(const d of Object.values(c))this.deactivateRouteAndItsChildren(d,i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,c=Ni(t);for(const d of Object.values(c))this.deactivateRouteAndItsChildren(d,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){const i=Ni(e);t.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new MT(c.value.snapshot))}),t.children.length&&this.forwardEvent(new bP(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,c=e?e.value:null;if(cp(i),i===c)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),cp(f.route.value),this.activateChildRoutes(t,null,d.children)}else d.attachRef=null,d.route=i,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(t,null,d.children)}else this.activateChildRoutes(t,null,r)}}class N0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Rl{constructor(t,e){this.component=t,this.route=e}}function fc(n,t,e){const r=n._root;return Ol(r,t?t._root:null,e,[r.value])}function Wc(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,l.LfX)(n)?t.get(n):n:r}function Ol(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ni(t);return n.children.forEach(d=>{(function e_(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const m=function F0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!bo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!bo(n.url,t.url)||!Ir(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lp(n,t)||!Ir(n.queryParams,t.queryParams);default:return!lp(n,t)}}(d,c,c.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new N0(r)):(c.data=d.data,c._resolvedData=d._resolvedData),Ol(n,t,c.component?f?f.children:null:e,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Rl(f.outlet.component,d))}else d&&lh(t,f,i),i.canActivateChecks.push(new N0(r)),Ol(n,null,c.component?f?f.children:null:e,r,i)})(d,c[d.value.outlet],e,r.concat([d.value]),i),delete c[d.value.outlet]}),Object.entries(c).forEach(([d,f])=>lh(f,e.getContext(d),i)),i}function lh(n,t,e){const r=Ni(n),i=n.value;Object.entries(r).forEach(([c,d])=>{lh(d,i.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Rl(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function uh(n){return"function"==typeof n}function jT(n){return n instanceof Dt.G||"EmptyError"===n?.name}const t_=Symbol("INITIAL_VALUE");function fp(){return pi(n=>ue(n.map(t=>t.pipe(Qr(1),(0,Wo.Z)(t_)))).pipe((0,xe.T)(t=>{for(const e of t)if(!0!==e){if(e===t_)return t_;if(!1===e||_$(e))return e}return!0}),(0,Un.p)(t=>t!==t_),Qr(1)))}function _$(n){return $c(n)||n instanceof P0}function RP(n){return(0,pn.F)(gr(t=>{if("boolean"!=typeof t)throw hc(0,t)}),(0,xe.T)(t=>!0===t))}class r_{constructor(t){this.segmentGroup=t||null}}class i_ extends Error{constructor(t){super(),this.urlTree=t}}function Xo(n){return On(new r_(n))}class HT{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[St])return On(new l.wOt(4e3,!1));i=i.children[St]}}applyRedirectCommands(t,e,r,i,c){if("string"!=typeof e){const f=e,{queryParams:m,fragment:w,routeConfig:A,url:R,outlet:U,params:K,data:pe,title:fe}=i,he=(0,l.N4e)(c,()=>f({params:K,data:pe,queryParams:m,fragment:w,routeConfig:A,url:R,outlet:U,title:fe}));if(he instanceof Pr)throw new i_(he);e=he}const d=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if("/"===e[0])throw new i_(d);return d}applyRedirectCreateUrlTree(t,e,r,i){const c=this.createSegmentGroup(t,e.root,r,i);return new Pr(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Object.entries(t).forEach(([i,c])=>{if("string"==typeof c&&":"===c[0]){const f=c.substring(1);r[i]=e[f]}else r[i]=c}),r}createSegmentGroup(t,e,r,i){const c=this.createSegments(t,e.segments,r,i);let d={};return Object.entries(e.children).forEach(([f,m])=>{d[f]=this.createSegmentGroup(t,m,r,i)}),new Cr(c,d)}createSegments(t,e,r,i){return e.map(c=>":"===c.path[0]?this.findPosParam(t,c,i):this.findOrReturn(c,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new l.wOt(4001,!1);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}const hh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $0(n,t,e,r,i){const c=H0(n,t,e);return c.matched?(r=function wP(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.Ol2)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,r),function $T(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?Y(i.map(d=>{const f=Wc(d,n);return ii(function UT(n){return n&&uh(n.canMatch)}(f)?f.canMatch(t,e):(0,l.N4e)(n,()=>f(t,e)))})).pipe(fp(),RP()):Y(!0)}(r,t,e).pipe((0,xe.T)(d=>!0===d?c:{...hh}))):Y(c)}function H0(n,t,e){if("**"===t.path)return function zT(n){return{matched:!0,parameters:n.length>0?co(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...hh}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||er)(e,n,t);if(!i)return{...hh};const c={};Object.entries(i.posParams??{}).forEach(([f,m])=>{c[f]=m.path});const d=i.consumed.length>0?{...c,...i.consumed[i.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function z0(n,t,e,r){return e.length>0&&function OP(n,t,e){return e.some(r=>pc(n,t,r)&&Ci(r)!==St)}(n,e,r)?{segmentGroup:new Cr(t,WT(r,new Cr(e,n.children))),slicedSegments:[]}:0===e.length&&function s_(n,t,e){return e.some(r=>pc(n,t,r))}(n,e,r)?{segmentGroup:new Cr(n.segments,GT(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new Cr(n.segments,n.children),slicedSegments:e}}function GT(n,t,e,r){const i={};for(const c of e)if(pc(n,t,c)&&!r[Ci(c)]){const d=new Cr([],{});i[Ci(c)]=d}return{...r,...i}}function WT(n,t){const e={};e[St]=t;for(const r of n)if(""===r.path&&Ci(r)!==St){const i=new Cr([],{});e[Ci(r)]=i}return e}function pc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class qT{}class qi{constructor(t,e,r,i,c,d,f){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=c,this.paramsInheritanceStrategy=d,this.urlSerializer=f,this.applyRedirects=new HT(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new l.wOt(4002,`'${t.segmentGroup}'`)}recognize(){const t=z0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe((0,xe.T)(({children:e,rootSnapshot:r})=>{const i=new ha(r,e),c=new PT("",i),d=function IT(n,t,e=null,r=null){return DT(CT(n),t,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(d),{state:c,tree:d}}))}match(t){const e=new ap([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),St,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,St,e).pipe((0,xe.T)(r=>({children:r,rootSnapshot:e})),Tl(r=>{if(r instanceof i_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof r_?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,c){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r,c):this.processSegment(t,e,r,r.segments,i,!0,c).pipe((0,xe.T)(d=>d instanceof ha?[d]:[]))}processChildren(t,e,r,i){const c=[];for(const d of Object.keys(r.children))"primary"===d?c.unshift(d):c.push(d);return(0,Be.H)(c).pipe(Fu(d=>{const f=r.children[d],m=function x0(n,t){const e=n.filter(r=>Ci(r)===t);return e.push(...n.filter(r=>Ci(r)!==t)),e}(e,d);return this.processSegmentGroup(t,m,f,d,i)}),function oT(n,t){return(0,se.N)(function s0(n,t,e,r,i){return(c,d)=>{let f=e,m=t,w=0;c.subscribe((0,Qe._)(d,A=>{const R=w++;m=f?n(m,A,R):(f=!0,A),r&&d.next(m)},i&&(()=>{f&&d.next(m),d.complete()})))}}(n,t,arguments.length>=2,!0))}((d,f)=>(d.push(...f),d)),Gd(null),function Ko(n,t){const e=arguments.length>=2;return r=>r.pipe(n?(0,Un.p)((i,c)=>n(i,c,r)):Fe.D,Wd(1),e?Gd(t):Tg(()=>new Dt.G))}(),(0,ki.Z)(d=>{if(null===d)return Xo(r);const f=a_(d);return function PP(n){n.sort((t,e)=>t.value.outlet===St?-1:e.value.outlet===St?1:t.value.outlet.localeCompare(e.value.outlet))}(f),Y(f)}))}processSegment(t,e,r,i,c,d,f){return(0,Be.H)(e).pipe(Fu(m=>this.processSegmentAgainstRoute(m._injector??t,e,m,r,i,c,d,f).pipe(Tl(w=>{if(w instanceof r_)return Y(null);throw w}))),Bc(m=>!!m),Tl(m=>{if(jT(m))return function KT(n,t,e){return 0===t.length&&!n.children[e]}(r,i,c)?Y(new qT):Xo(r);throw m}))}processSegmentAgainstRoute(t,e,r,i,c,d,f,m){return function kP(n,t,e,r){return!!(Ci(n)===r||r!==St&&pc(t,e,n))&&H0(t,n,e).matched}(r,i,c,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,c,d,m):this.allowRedirects&&f?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,c,d,m):Xo(i):Xo(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,c,d,f){const{matched:m,parameters:w,consumedSegments:A,positionalParamSegments:R,remainingSegments:U}=H0(e,i,c);if(!m)return Xo(e);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const K=new ap(c,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G0(i),Ci(i),i.component??i._loadedComponent??null,i,gp(i)),pe=Yg(K,f,this.paramsInheritanceStrategy);K.params=Object.freeze(pe.params),K.data=Object.freeze(pe.data);const fe=this.applyRedirects.applyRedirectCommands(A,i.redirectTo,R,K,t);return this.applyRedirects.lineralizeSegments(i,fe).pipe((0,ki.Z)(he=>this.processSegment(t,r,e,he.concat(U),d,!1,f)))}matchSegmentAgainstRoute(t,e,r,i,c,d){const f=$0(e,r,i,t);return"**"===r.path&&(e.children={}),f.pipe(pi(m=>m.matched?this.getChildConfig(t=r._injector??t,r,i).pipe(pi(({routes:w})=>{const A=r._loadedInjector??t,{parameters:R,consumedSegments:U,remainingSegments:K}=m,pe=new ap(U,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,G0(r),Ci(r),r.component??r._loadedComponent??null,r,gp(r)),fe=Yg(pe,d,this.paramsInheritanceStrategy);pe.params=Object.freeze(fe.params),pe.data=Object.freeze(fe.data);const{segmentGroup:he,slicedSegments:ht}=z0(e,U,K,w);if(0===ht.length&&he.hasChildren())return this.processChildren(A,w,he,pe).pipe((0,xe.T)(Et=>new ha(pe,Et)));if(0===w.length&&0===ht.length)return Y(new ha(pe,[]));const vt=Ci(r)===c;return this.processSegment(A,w,he,ht,vt?St:c,!0,pe).pipe((0,xe.T)(Et=>new ha(pe,Et instanceof ha?[Et]:[])))})):Xo(e)))}getChildConfig(t,e,r){return e.children?Y({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Y({routes:e._loadedRoutes,injector:e._loadedInjector}):function n_(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?Y(!0):Y(i.map(d=>{const f=Wc(d,n);return ii(function dh(n){return n&&uh(n.canLoad)}(f)?f.canLoad(t,e):(0,l.N4e)(n,()=>f(t,e)))})).pipe(fp(),RP())}(t,e,r).pipe((0,ki.Z)(i=>i?this.configLoader.loadChildren(t,e).pipe(gr(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function j0(n){return On(Nr(!1,fs.GuardRejected))}())):Y({routes:[],injector:t})}}function XT(n){const t=n.value.routeConfig;return t&&""===t.path}function a_(n){const t=[],e=new Set;for(const r of n){if(!XT(r)){t.push(r);continue}const i=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=a_(r.children);t.push(new ha(r.value,i))}return t.filter(r=>!e.has(r))}function G0(n){return n.data||{}}function gp(n){return n.resolve||{}}function c_(n){const t=n.children.map(e=>c_(e)).flat();return[n,...t]}function W0(n){return pi(t=>{const e=n(t);return e?(0,Be.H)(e).pipe((0,xe.T)(()=>t)):Y(t)})}let ZT=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(c=>c.outlet===St);return r}getResolvedTitleForRoute(e){return e.data[Jt]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(JT),providedIn:"root"})}return n})(),JT=(()=>{class n extends ZT{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(_0))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mh=new l.nKC("",{providedIn:"root",factory:()=>({})});let K0=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(r,i){1&r&&l.nrm(0,"router-outlet")},dependencies:[dp],encapsulation:2})}return n})();function q0(n){const t=n.children&&n.children.map(q0),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==St&&(e.component=K0),e}const gh=new l.nKC("");let eA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Y(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=ii(e.loadComponent()).pipe((0,xe.T)(Fi),gr(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),Kd(()=>{this.componentLoaders.delete(e)})),i=new W(r,()=>new B.B).pipe(be());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=function tA(n,t,e,r){return ii(n.loadChildren()).pipe((0,xe.T)(Fi),(0,ki.Z)(i=>i instanceof l.Co$||Array.isArray(i)?Y(i):(0,Be.H)(t.compileModuleAsync(i))),(0,xe.T)(i=>{r&&r(n);let c,d,f=!1;return Array.isArray(i)?(d=i,!0):(c=i.create(e).injector,d=c.get(gh,[],{optional:!0,self:!0}).flat()),{routes:d.map(q0),injector:c}}))}(r,this.compiler,e,this.onLoadEndListener).pipe(Kd(()=>{this.childrenLoaders.delete(r)})),d=new W(c,()=>new B.B).pipe(be());return this.childrenLoaders.set(r,d),d}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fi(n){return function nA(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let rA=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(LP),providedIn:"root"})}return n})(),LP=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const VP=new l.nKC(""),X0=new l.nKC("");function b$(n,t,e){const r=n.get(X0),i=n.get(Te);return n.get(l.SKi).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(w=>setTimeout(w));let c;const d=new Promise(w=>{c=w}),f=i.startViewTransition(()=>(c(),function Q0(n){return new Promise(t=>{(0,l.mal)({read:()=>setTimeout(t)},{injector:n})})}(n))),{onViewTransitionCreated:m}=r;return m&&(0,l.N4e)(n,()=>m({transition:f,from:t,to:e})),d})}const fa=new l.nKC("");let _p=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new B.B,this.transitionAbortSubject=new B.B,this.configLoader=(0,l.WQX)(eA),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(rh),this.rootContexts=(0,l.WQX)(qg),this.location=(0,l.WQX)(Pn),this.inputBindingEnabled=null!==(0,l.WQX)(ah,{optional:!0}),this.titleStrategy=(0,l.WQX)(ZT),this.options=(0,l.WQX)(mh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(rA),this.createViewTransition=(0,l.WQX)(VP,{optional:!0}),this.navigationErrorHandler=(0,l.WQX)(fa,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new f$(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new xT(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,i){return this.transitions=new Me.t({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Uu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Un.p)(c=>0!==c.id),(0,xe.T)(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),pi(c=>{let d=!1,f=!1;return Y(c).pipe(pi(m=>{if(this.navigationId>c.id)return this.cancelNavigationTransition(c,"",fs.SupersededByNewNavigation),Ge.w;this.currentTransition=c,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,targetBrowserUrl:"string"==typeof m.extras.browserUrl?this.urlSerializer.parse(m.extras.browserUrl):m.extras.browserUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const w=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!w&&"reload"!==(m.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const R="";return this.events.next(new zc(m.id,this.urlSerializer.serialize(m.rawUrl),R,xl.IgnoredSameUrlNavigation)),m.resolve(!1),Ge.w}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Y(m).pipe(pi(R=>{const U=this.transitions?.getValue();return this.events.next(new op(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),U!==this.transitions?.getValue()?Ge.w:Promise.resolve(R)}),function NP(n,t,e,r,i,c){return(0,ki.Z)(d=>function fh(n,t,e,r,i,c,d="emptyOnly"){return new qi(n,t,e,r,i,d,c).recognize()}(n,t,e,r,d.extractedUrl,i,c).pipe((0,xe.T)(({state:f,tree:m})=>({...d,targetSnapshot:f,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),gr(R=>{c.targetSnapshot=R.targetSnapshot,c.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const U=new Gg(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(U)}));if(w&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:R,extractedUrl:U,source:K,restoredState:pe,extras:fe}=m,he=new op(R,this.urlSerializer.serialize(U),K,pe);this.events.next(he);const ht=M0(this.rootComponentType).snapshot;return this.currentTransition=c={...m,targetSnapshot:ht,urlAfterRedirects:U,extras:{...fe,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=U,Y(c)}{const R="";return this.events.next(new zc(m.id,this.urlSerializer.serialize(m.extractedUrl),R,xl.IgnoredByUrlHandlingStrategy)),m.resolve(!1),Ge.w}}),gr(m=>{const w=new Gc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),(0,xe.T)(m=>(this.currentTransition=c={...m,guards:fc(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},c)),function V0(n,t){return(0,ki.Z)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:d}}=e;return 0===d.length&&0===c.length?Y({...e,guardsResult:!0}):function $u(n,t,e,r){return(0,Be.H)(n).pipe((0,ki.Z)(i=>function U0(n,t,e,r,i){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Y(c.map(f=>{const m=ju(t)??i,w=Wc(f,m);return ii(function L0(n){return n&&uh(n.canDeactivate)}(w)?w.canDeactivate(n,t,e,r):(0,l.N4e)(m,()=>w(n,t,e,r))).pipe(Bc())})).pipe(fp()):Y(!0)}(i.component,i.route,e,t,r)),Bc(i=>!0!==i,!0))}(d,r,i,n).pipe((0,ki.Z)(f=>f&&function AP(n){return"boolean"==typeof n}(f)?function B0(n,t,e,r){return(0,Be.H)(t).pipe(Fu(i=>(0,At.x)(function xP(n,t){return null!==n&&t&&t(new yP(n)),Y(!0)}(i.route.parent,r),function pp(n,t){return null!==n&&t&&t(new EP(n)),Y(!0)}(i.route,r),function MP(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(d=>function TP(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>en(()=>Y(d.guards.map(m=>{const w=ju(d.node)??e,A=Wc(m,w);return ii(function SP(n){return n&&uh(n.canActivateChild)}(A)?A.canActivateChild(r,n):(0,l.N4e)(w,()=>A(r,n))).pipe(Bc())})).pipe(fp())));return Y(c).pipe(fp())}(n,i.path,e),function mp(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(c=>en(()=>{const d=ju(t)??e,f=Wc(c,d);return ii(function hp(n){return n&&uh(n.canActivate)}(f)?f.canActivate(t,n):(0,l.N4e)(d,()=>f(t,n))).pipe(Bc())}));return Y(i).pipe(fp())}(n,i.route,e))),Bc(i=>!0!==i,!0))}(r,c,n,t):Y(f)),(0,xe.T)(f=>({...e,guardsResult:f})))})}(this.environmentInjector,m=>this.events.next(m)),gr(m=>{if(c.guardsResult=m.guardsResult,m.guardsResult&&"boolean"!=typeof m.guardsResult)throw hc(0,m.guardsResult);const w=new An(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(w)}),(0,Un.p)(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",fs.GuardRejected),!1)),W0(m=>{if(m.guards.canActivateChecks.length)return Y(m).pipe(gr(w=>{const A=new Wg(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(A)}),pi(w=>{let A=!1;return Y(w).pipe(function QT(n,t){return(0,ki.Z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Y(e);const c=new Set(i.map(m=>m.route)),d=new Set;for(const m of c)if(!d.has(m))for(const w of c_(m))d.add(w);let f=0;return(0,Be.H)(d).pipe(Fu(m=>c.has(m)?function l_(n,t,e,r){const i=n.routeConfig,c=n._resolve;return void 0!==i?.title&&!up(i)&&(c[Jt]=i.title),function YT(n,t,e,r){const i=Ro(n);if(0===i.length)return Y({});const c={};return(0,Be.H)(i).pipe((0,ki.Z)(d=>function FP(n,t,e,r){const i=ju(t)??r,c=Wc(n,i);return ii(c.resolve?c.resolve(t,e):(0,l.N4e)(i,()=>c(t,e)))}(n[d],t,e,r).pipe(Bc(),gr(f=>{if(f instanceof P0)throw hc(new $g,f);c[d]=f}))),Wd(1),a0(c),Tl(d=>jT(d)?Ge.w:On(d)))}(c,n,t,r).pipe((0,xe.T)(d=>(n._resolvedData=d,n.data=Yg(n,n.parent,e).resolve,null)))}(m,r,n,t):(m.data=Yg(m,m.parent,n).resolve,Y(void 0))),gr(()=>f++),Wd(1),(0,ki.Z)(m=>f===d.size?Y(e):Ge.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),gr({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(w,"",fs.NoDataFromResolver)}}))}),gr(w=>{const A=new A0(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(A)}))}),W0(m=>{const w=A=>{const R=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(A.routeConfig).pipe(gr(U=>{A.component=U}),(0,xe.T)(()=>{})));for(const U of A.children)R.push(...w(U));return R};return ue(w(m.targetSnapshot.root)).pipe(Gd(null),Qr(1))}),W0(()=>this.afterPreactivation()),pi(()=>{const{currentSnapshot:m,targetSnapshot:w}=c,A=this.createViewTransition?.(this.environmentInjector,m.root,w.root);return A?(0,Be.H)(A).pipe((0,xe.T)(()=>c)):Y(c)}),(0,xe.T)(m=>{const w=function NT(n,t,e){const r=ch(n,t._root,e?e._root:void 0);return new dc(r,t)}(e.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=c={...m,targetRouterState:w},this.currentNavigation.targetRouterState=w,c}),gr(()=>{this.events.next(new S0)}),((n,t,e,r)=>(0,xe.T)(i=>(new BT(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Qr(1),gr({next:m=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new uc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{d=!0}}),Tr(this.transitionAbortSubject.pipe(gr(m=>{throw m}))),Kd(()=>{!d&&!f&&this.cancelNavigationTransition(c,"",fs.SupersededByNewNavigation),this.currentTransition?.id===c.id&&(this.currentNavigation=null,this.currentTransition=null)}),Tl(m=>{if(f=!0,VT(m))this.events.next(new Hc(c.id,this.urlSerializer.serialize(c.extractedUrl),m.message,m.cancellationCode)),function LT(n){return VT(n)&&$c(n.url)}(m)?this.events.next(new Kg(m.url,m.navigationBehaviorOptions)):c.resolve(!1);else{const w=new sh(c.id,this.urlSerializer.serialize(c.extractedUrl),m,c.targetSnapshot??void 0);try{const A=(0,l.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(w));if(A instanceof P0){const{message:R,cancellationCode:U}=hc(0,A);this.events.next(new Hc(c.id,this.urlSerializer.serialize(c.extractedUrl),R,U)),this.events.next(new Kg(A.redirectTo,A.navigationBehaviorOptions))}else{this.events.next(w);const R=e.errorHandler(m);c.resolve(!!R)}}catch(A){this.options.resolveNavigationPromiseOnError?c.resolve(!1):c.reject(A)}}return Ge.w}))}))}cancelNavigationTransition(e,r,i){const c=new Hc(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(c),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vp(n){return n!==Uu}let BP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(iA),providedIn:"root"})}return n})();class UP{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let iA=(()=>{class n extends UP{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(E$),providedIn:"root"})}return n})(),E$=(()=>{class n extends jP{constructor(){super(...arguments),this.location=(0,l.WQX)(Pn),this.urlSerializer=(0,l.WQX)(rh),this.options=(0,l.WQX)(mh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(rA),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=M0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{"popstate"===r.type&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof op)this.stateMemento=this.createStateMemento();else if(e instanceof zc)this.rawUrlTree=r.initialUrl;else if(e instanceof Gg){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof S0?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof Hc&&(e.code===fs.GuardRejected||e.code===fs.NoDataFromResolver)?this.restoreHistory(r):e instanceof sh?this.restoreHistory(r,!0):e instanceof uc&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){const i=e instanceof Pr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",d)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",c)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===e.finalUrl&&0===c&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var u_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(u_||{});function $P(n,t){n.events.pipe((0,Un.p)(e=>e instanceof uc||e instanceof Hc||e instanceof sh||e instanceof zc),(0,xe.T)(e=>e instanceof uc||e instanceof zc?u_.COMPLETE:e instanceof Hc&&(e.code===fs.Redirect||e.code===fs.SupersededByNewNavigation)?u_.REDIRECTING:u_.FAILED),(0,Un.p)(e=>e!==u_.REDIRECTING),Qr(1)).subscribe(()=>{t()})}function w$(n){throw n}const HP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_h={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Li=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(jP),this.options=(0,l.WQX)(mh,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(_p),this.urlSerializer=(0,l.WQX)(rh),this.location=(0,l.WQX)(Pn),this.urlHandlingStrategy=(0,l.WQX)(rA),this._events=new B.B,this.errorHandler=this.options.errorHandler||w$,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(BP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,l.WQX)(gh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,l.WQX)(ah,{optional:!0}),this.eventsSubscription=new re.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(null!==i&&null!==c)if(this.stateManager.handleRouterEvent(r,c),r instanceof Hc&&r.code!==fs.Redirect&&r.code!==fs.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof uc)this.navigated=!0;else if(r instanceof Kg){const d=r.navigationBehaviorOptions,f=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),m={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||vp(i.source),...d};this.scheduleNavigation(f,Uu,null,m,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function Hu(n){return!(n instanceof S0||n instanceof Kg)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Uu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){const c={replaceUrl:!0},d=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(c.state=m)}const f=this.parseUrl(e);this.scheduleNavigation(f,r,d,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(q0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:i,queryParams:c,fragment:d,queryParamsHandling:f,preserveFragment:m}=r,w=m?this.currentUrlTree.fragment:d;let R,A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...c};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=c||null}null!==A&&(A=this.removeEmptyProps(A));try{R=CT(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),R=this.currentUrlTree.root}return DT(R,e,A,w??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=$c(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,Uu,null,r)}navigate(e,r={skipLocationChange:!1}){return function oA(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new l.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(i=!0===r?{...HP}:!1===r?{..._h}:r,$c(e))return Oo(this.currentUrlTree,e,i);const c=this.parseUrl(e);return Oo(this.currentUrlTree,c,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,c])=>(null!=c&&(r[i]=c),r),{})}scheduleNavigation(e,r,i,c,d){if(this.disposed)return Promise.resolve(!1);let f,m,w;d?(f=d.resolve,m=d.reject,w=d.promise):w=new Promise((R,U)=>{f=R,m=U});const A=this.pendingTasks.add();return $P(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:c,resolve:f,reject:m,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(R=>Promise.reject(R))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pa=(()=>{class n{constructor(e,r,i,c,d,f){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=c,this.el=d,this.locationStrategy=f,this.href=null,this.onChanges=new B.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const m=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=e.events.subscribe(w=>{w instanceof uc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null==e?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=$c(e)||Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,c,d){const f=this.urlTree;return!!(null===f||this.isAnchorElement&&(0!==e||r||i||c||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(f,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const r=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){const i=this.renderer,c=this.el.nativeElement;null!==r?i.setAttribute(c,e,r):i.removeAttribute(c,e)}get urlTree(){return null===this.routerLinkInput?null:$c(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Li),l.rXU(ps),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(cn))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&r&&l.BMQ("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",l.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",l.L39],replaceUrl:[2,"replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}return n})();class sA{}let GP=(()=>{class n{constructor(e,r,i,c,d){this.router=e,this.injector=i,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe((0,Un.p)(e=>e instanceof uc),Fu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,l.Ol2)(c.providers,e,`Route: ${c.path}`));const d=c._injector??e,f=c._loadedInjector??d;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&i.push(this.preloadConfig(d,c)),(c.children||c._loadedRoutes)&&i.push(this.processRoutes(f,c.children??c._loadedRoutes))}return(0,Be.H)(i).pipe((0,qd.U)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Y(null);const c=i.pipe((0,ki.Z)(d=>null===d?Y(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Be.H)([c,d]).pipe((0,qd.U)())}return c})}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Li),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(sA),l.KVO(eA))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const h_=new l.nKC("");let Z0=(()=>{class n{constructor(e,r,i,c,d={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=c,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,l.WQX)(l.uvJ),d.scrollPositionRestoration||="disabled",d.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof op?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof uc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof zc&&e.code===xl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ml&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){var i=this;this.zone.runOutsideAngular((0,x.A)(function*(){yield new Promise(c=>{setTimeout(()=>{c()}),(0,l.mal)(()=>{c()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new Ml(e,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function yp(n){return n.routerState.root}function ma(n,t){return{\u0275kind:n,\u0275providers:t}}function aA(){const n=(0,l.WQX)(l.zZn);return t=>{const e=n.get(l.o8S);if(t!==e.components[0])return;const r=n.get(Li),i=n.get(cA);1===n.get(ko)&&r.initialNavigation(),n.get(qP,null,l.$GK.Optional)?.setUpPreloading(),n.get(h_,null,l.$GK.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const cA=new l.nKC("",{factory:()=>new B.B}),ko=new l.nKC("",{providedIn:"root",factory:()=>1}),qP=new l.nKC("");function D$(n){return ma(0,[{provide:qP,useExisting:GP},{provide:sA,useExisting:n}])}function tE(){return ma(8,[O0,{provide:ah,useExisting:O0}])}function QP(n){return ma(9,[{provide:VP,useValue:b$},{provide:X0,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const uA=new l.nKC("ROUTER_FORROOT_GUARD"),dA=[Pn,{provide:rh,useClass:$g},Li,qg,{provide:ps,useFactory:yp,deps:[Li]},eA,[]];let Ep=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[dA,[],{provide:gh,multi:!0,useValue:e},{provide:uA,useFactory:e1,deps:[[Li,new l.Xx1,new l.kdw]]},{provide:mh,useValue:r||{}},r?.useHash?{provide:cn,useClass:rn}:{provide:cn,useClass:hn},{provide:h_,useFactory:()=>{const n=(0,l.WQX)(yg),t=(0,l.WQX)(l.SKi),e=(0,l.WQX)(mh),r=(0,l.WQX)(_p),i=(0,l.WQX)(rh);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Z0(i,r,n,t,e)}},r?.preloadingStrategy?D$(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?t1(r):[],r?.bindToComponentInputs?tE().\u0275providers:[],r?.enableViewTransitions?QP().\u0275providers:[],[{provide:nE,useFactory:aA},{provide:l.iLQ,multi:!0,useExisting:nE}]]}}static forChild(e){return{ngModule:n,providers:[{provide:gh,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(uA,8))};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();function e1(n){return"guarded"}function t1(n){return["disabled"===n.initialNavigation?ma(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const t=(0,l.WQX)(Li);return()=>{t.setUpLocationChangeListener()}}},{provide:ko,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ma(2,[{provide:ko,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:t=>{const e=t.get(Lt,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=t.get(Li),c=t.get(cA);$P(i,()=>{r(!0)}),t.get(_p).afterPreactivation=()=>(r(!0),c.closed?Y(void 0):c),i.initialNavigation()}))}}]).\u0275providers:[]]}const nE=new l.nKC("");let iE;try{iE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{iE=!1}let vh,oi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?jd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!iE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.Agw))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const oE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function c1(){if(vh)return vh;if("object"!=typeof document||!document)return vh=new Set(oE),vh;let n=document.createElement("input");return vh=new Set(oE.filter(t=>(n.setAttribute("type",t),n.type===t))),vh}let yh;function bh(n){return function l1(){if(null==yh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yh=!0}))}finally{yh=yh||!1}return yh}()?n:!!n.capture}var Kc=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Kc||{});let p_,kl,gc;function m_(){if(null==kl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return kl=!1,kl;if("scrollBehavior"in document.documentElement.style)kl=!0;else{const n=Element.prototype.scrollTo;kl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return kl}function wp(){if("object"!=typeof document||!document)return Kc.NORMAL;if(null==p_){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),p_=Kc.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,p_=0===n.scrollLeft?Kc.NEGATED:Kc.INVERTED),n.remove()}return p_}function __(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function ga(n){return n.composedPath?n.composedPath()[0]:n.target}function pA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function _c(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class F1 extends re.yU{constructor(t,e){super()}schedule(t,e=0){return this}}const D_={setInterval(n,t,...e){const{delegate:r}=D_;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=D_;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var OA=O(7908);class kA extends F1{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,c=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(c,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(c,this.id,e),this}requestAsyncId(t,e,r=0){return D_.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&D_.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(c){r=!0,i=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,OA.o)(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}var l4=O(6129);class Yc{constructor(t,e=Yc.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Yc.now=l4.U.now;class gE extends Yc{constructor(t,e=Yc.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const T_=new gE(kA),L1=T_;function _E(n,t=T_){return(0,se.N)((e,r)=>{let i=null,c=null,d=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=c;c=null,r.next(w)}};function m(){const w=d+n,A=t.now();if(A<w)return i=this.schedule(void 0,w-A),void r.add(i);f()}e.subscribe((0,Qe._)(r,w=>{c=w,d=t.now(),i||(i=t.schedule(m,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{c=i=null}))})}function PA(n){return(0,Un.p)((t,e)=>n<=e)}var NA=O(3294);function A_(n){return null!=n&&"false"!=`${n}`}function FA(n,t=0){return function V1(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function S_(n){return Array.isArray(n)?n:[n]}function mi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Gu(n){return n instanceof l.aKT?n.nativeElement:n}const B1=new Set;let Dh,u4=(()=>{class n{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):h4}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function d4(n,t){if(!B1.has(n))try{Dh||(Dh=document.createElement("style"),t&&Dh.setAttribute("nonce",t),Dh.setAttribute("type","text/css"),document.head.appendChild(Dh)),Dh.sheet&&(Dh.sheet.insertRule(`@media ${n} {body{ }}`,0),B1.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(oi),l.KVO(l.BIS,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function h4(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let VA=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new B.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Tp(S_(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let c=ue(Tp(S_(e)).map(d=>this._registerQuery(d).observable));return c=(0,At.x)(c.pipe(Qr(1)),c.pipe(PA(1),_E(0))),c.pipe((0,xe.T)(d=>{const f={matches:!1,breakpoints:{}};return d.forEach(({matches:m,query:w})=>{f.matches=f.matches||m,f.breakpoints[w]=m}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),c={observable:new J.c(d=>{const f=m=>this._zone.run(()=>d.next(m));return r.addListener(f),()=>{r.removeListener(f)}}).pipe((0,Wo.Z)(r),(0,xe.T)(({matches:d})=>({query:e,matches:d})),Tr(this._destroySubject)),mql:r};return this._queries.set(e,c),c}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(u4),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Tp(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function yE(n,t,e){const r=UA(n,t);e=e.trim();const i=r.filter(c=>c!==e);i.length?n.setAttribute(t,i.join(" ")):n.removeAttribute(t)}function UA(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}class $A{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new B.B,this._typeaheadSubscription=re.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this._pressedLetters=[],this.tabOut=new B.B,this.change=new B.B,t instanceof l.rOR?this._itemChangesSubscription=t.changes.subscribe(r=>this._itemsChanged(r.toArray())):(0,l.Hps)(t)&&(this._effectRef=(0,l.QZP)(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(gr(e=>this._pressedLetters.push(e)),_E(t),(0,Un.p)(()=>this._pressedLetters.length>0),(0,xe.T)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const c=(this._activeItemIndex+i)%r.length,d=r[c];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!t[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const c=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(c>0?c:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const c=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(c<d?c:d-1,-1);break}return;default:return void((i||_c(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return(0,l.Hps)(this._items)?this._items():this._items instanceof l.rOR?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){const e=t.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}}}class p4 extends $A{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class j1 extends $A{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let M_=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function R_(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function m4(n){try{return n.frameElement}catch{return null}}(function G1(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===O_(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),c=O_(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function k_(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==c:"video"===i?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function z1(n){return!function EE(n){return function Th(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function bE(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function H1(n){return function wE(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||IE(n))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(oi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function O_(n){if(!IE(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class CE{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,r,i,c=!1,d){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._injector=d,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?(0,l.mal)(t,{injector:this._injector}):setTimeout(t)}}let HA=(()=>{class n{constructor(e,r,i){this._checker=e,this._ngZone=r,this._injector=(0,l.WQX)(l.zZn),this._document=i}create(e,r=!1){return new CE(e,this._checker,this._ngZone,this._document,r,this._injector)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(M_),l.KVO(l.SKi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function TE(n){return 0===n.buttons||0===n.detail}function AE(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const SE=new l.nKC("cdk-input-modality-detector-options"),WA={ignoreKeys:[18,17,224,91,16]},Wu=bh({passive:!0,capture:!0});let KA=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,r,i,c){this._platform=e,this._mostRecentTarget=null,this._modality=new Me.t(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(f=>f===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ga(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(TE(d)?"keyboard":"mouse"),this._mostRecentTarget=ga(d))},this._onTouchstart=d=>{AE(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ga(d))},this._options={...WA,...c},this.modalityDetected=this._modality.pipe(PA(1)),this.modalityChanged=this.modalityDetected.pipe((0,NA.F)()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Wu),i.addEventListener("mousedown",this._onMousedown,Wu),i.addEventListener("touchstart",this._onTouchstart,Wu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Wu),document.removeEventListener("mousedown",this._onMousedown,Wu),document.removeEventListener("touchstart",this._onTouchstart,Wu))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(oi),l.KVO(l.SKi),l.KVO(Te),l.KVO(SE,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const K1=new l.nKC("liveAnnouncerElement",{providedIn:"root",factory:function _4(){return null}}),N_=new l.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let q1=0,xE=(()=>{class n{constructor(e,r,i,c){this._ngZone=r,this._defaultOptions=c,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...r){const i=this._defaultOptions;let c,d;return 1===r.length&&"number"==typeof r[0]?d=r[0]:[c,d]=r,this.clear(),clearTimeout(this._previousTimeout),c||(c=i&&i.politeness?i.politeness:"polite"),null==d&&i&&(d=i.duration),this._liveElement.setAttribute("aria-live",c),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let c=0;c<r.length;c++)r[c].remove();return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+q1++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(e){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const c=r[i],d=c.getAttribute("aria-owns");d?-1===d.indexOf(e)&&c.setAttribute("aria-owns",d+" "+e):c.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(K1,8),l.KVO(l.SKi),l.KVO(Te),l.KVO(N_,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sp=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Sp||{});const ME=new l.nKC("cdk-focus-monitor-default-options"),xp=bh({passive:!0,capture:!0});let ja=(()=>{class n{constructor(e,r,i,c,d){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new B.B,this._rootNodeFocusAndBlurListener=f=>{for(let w=ga(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=c,this._detectionMode=d?.detectionMode||Sp.IMMEDIATE}monitor(e,r=!1){const i=Gu(e);if(!this._platform.isBrowser||1!==i.nodeType)return Y();const c=function u1(n){if(function g_(){if(null==gc){const n=typeof document<"u"?document.head:null;gc=!(!n||!n.createShadowRoot&&!n.attachShadow)}return gc}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const f={checkChildren:r,subject:new B.B,rootNode:c};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const r=Gu(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const c=Gu(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([f,m])=>this._originChanged(f,r,m)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Sp.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,this._detectionMode===Sp.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),c=ga(e);!i||!i.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,xp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,xp)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Tr(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,c)=>{(c===e||i.checkChildren&&c.contains(e))&&r.push([c,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const c=e.labels;if(c)for(let d=0;d<c.length;d++)if(c[d].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.SKi),l.KVO(oi),l.KVO(KA),l.KVO(Te,8),l.KVO(ME,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bl=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Bl||{});const F_="cdk-high-contrast-black-on-white",Ah="cdk-high-contrast-white-on-black",L_="cdk-high-contrast-active";let RE=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,l.WQX)(VA).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Bl.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Bl.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Bl.BLACK_ON_WHITE}return Bl.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(L_,F_,Ah),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===Bl.BLACK_ON_WHITE?e.add(L_,F_):r===Bl.WHITE_ON_BLACK&&e.add(L_,Ah)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(oi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Q1=new l.nKC("cdk-dir-doc",{providedIn:"root",factory:function qA(){return(0,l.WQX)(Te)}}),Y1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let vc=(()=>{class n{constructor(e){this.value="ltr",this.change=new l.bkB,e&&(this.value=function Z1(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Y1.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Q1,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const xh=["text"],XA=[[["mat-icon"]],"*"],QA=["mat-icon","*"];function nN(n,t){if(1&n&&l.nrm(0,"mat-pseudo-checkbox",1),2&n){const e=l.XpG();l.Y8G("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function V_(n,t){if(1&n&&l.nrm(0,"mat-pseudo-checkbox",3),2&n){const e=l.XpG();l.Y8G("disabled",e.disabled)}}function Ku(n,t){if(1&n&&(l.j41(0,"span",4),l.EFF(1),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.SpI("(",e.group.label,")")}}const kE=["mat-internal-form-field",""],Rp=["*"],JA=new l.nKC("mat-sanity-checks",{providedIn:"root",factory:function NE(){return!0}});let Fr=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!pA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(RE),l.KVO(JA,8),l.KVO(Te))};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Sh,Sh]})}return n})();class B_{constructor(t,e,r,i,c){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=c,this.errorState=!1}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,c=r?.isErrorState(i,e)??!1;c!==t&&(this.errorState=c,this._stateChanges.next())}}let U_=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var _a=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(_a||{});class lN{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=_a.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const nS=bh({passive:!0,capture:!0});class yc{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=ga(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(c=>c.handleEvent(t))})}}addHandler(t,e,r,i){const c=this._events.get(e);if(c){const d=c.get(r);d?d.add(i):c.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,nS)})}removeHandler(t,e,r){const i=this._events.get(t);if(!i)return;const c=i.get(e);c&&(c.delete(r),0===c.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,nS)))}}const j_={enterDuration:225,exitDuration:150},rS=bh({passive:!0,capture:!0}),LE=["mousedown","touchstart"],VE=["mouseup","mouseleave","touchend","touchcancel"];class qu{static#e=this._eventManager=new yc;constructor(t,e,r,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Gu(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...j_,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const d=r.radius||function BE(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),f=t-i.left,m=e-i.top,w=c.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=f-d+"px",A.style.top=m-d+"px",A.style.height=2*d+"px",A.style.width=2*d+"px",null!=r.color&&(A.style.backgroundColor=r.color),A.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(A);const R=window.getComputedStyle(A),K=R.transitionDuration,pe="none"===R.transitionProperty||"0s"===K||"0s, 0s"===K||0===i.width&&0===i.height,fe=new lN(this,A,r,pe);A.style.transform="scale3d(1, 1, 1)",fe.state=_a.FADING_IN,r.persistent||(this._mostRecentTransientRipple=fe);let he=null;return!pe&&(w||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ht=()=>{he&&(he.fallbackTimer=null),clearTimeout(Et),this._finishRippleTransition(fe)},vt=()=>this._destroyRipple(fe),Et=setTimeout(vt,w+100);A.addEventListener("transitionend",ht),A.addEventListener("transitioncancel",vt),he={onTransitionEnd:ht,onTransitionCancel:vt,fallbackTimer:Et}}),this._activeRipples.set(fe,he),(pe||!w)&&this._finishRippleTransition(fe),fe}fadeOutRipple(t){if(t.state===_a.FADING_OUT||t.state===_a.HIDDEN)return;const e=t.element,r={...j_,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=_a.FADING_OUT,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Gu(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,LE.forEach(r=>{qu._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{VE.forEach(e=>{this._triggerElement.addEventListener(e,this,rS)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===_a.FADING_IN?this._startFadeOutTransition(t):t.state===_a.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=_a.VISIBLE,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=_a.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=TE(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!AE(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===_a.VISIBLE||t.config.terminateOnPointerUp&&t.state===_a.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(LE.forEach(e=>qu._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(VE.forEach(e=>t.removeEventListener(e,this,rS)),this._pointerUpEventsRegistered=!1))}}const UE=new l.nKC("mat-ripple-global-options");let kp=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,c,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new qu(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(oi),l.rXU(UE,8),l.rXU(l.bc$,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),Pp=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Fr]})}return n})(),iS=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){2&r&&l.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[l.aNF],decls:0,vars:0,template:function(r,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),$_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr]})}return n})();const H_=new l.nKC("MAT_OPTION_PARENT_COMPONENT"),oS=new l.nKC("MatOptgroup");let jE=0;class dN{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let jl=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,r,i,c){this._element=e,this._changeDetectorRef=r,this._parent=i,this.group=c,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+jE++,this.onSelectionChange=new l.bkB,this._stateChanges=new B.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!_c(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new dN(this,e))}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(H_,8),l.rXU(oS,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-option"]],viewQuery:function(r,i){if(1&r&&l.GBs(xh,7),2&r){let c;l.mGM(c=l.lsd())&&(i._text=c.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,i){1&r&&l.bIt("click",function(){return i._selectViaInteraction()})("keydown",function(d){return i._handleKeydown(d)}),2&r&&(l.Mr5("id",i.id),l.BMQ("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),l.AVh("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",l.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:QA,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,i){1&r&&(l.NAR(XA),l.DNE(0,nN,1,2,"mat-pseudo-checkbox",1),l.SdG(1),l.j41(2,"span",2,0),l.SdG(4,1),l.k0s(),l.DNE(5,V_,1,1,"mat-pseudo-checkbox",3)(6,Ku,2,1,"span",4),l.nrm(7,"div",5)),2&r&&(l.vxM(i.multiple?0:-1),l.R7$(5),l.vxM(i.multiple||!i.selected||i.hideSingleSelectionIndicator?-1:5),l.R7$(),l.vxM(i.group&&i.group._inert?6:-1),l.R7$(),l.Y8G("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[iS,kp],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),Qu=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Pp,Fr,$_]})}return n})();const z_={capture:!0},Mh=["focus","mousedown","mouseenter","touchstart"],G_="mat-ripple-loader-uninitialized",W_="mat-ripple-loader-class-name",aS="mat-ripple-loader-centered",K_="mat-ripple-loader-disabled";let cS=(()=>{class n{constructor(){this._document=(0,l.WQX)(Te,{optional:!0}),this._animationMode=(0,l.WQX)(l.bc$,{optional:!0}),this._globalRippleOptions=(0,l.WQX)(UE,{optional:!0}),this._platform=(0,l.WQX)(oi),this._ngZone=(0,l.WQX)(l.SKi),this._hosts=new Map,this._onInteraction=e=>{const r=ga(e);if(r instanceof HTMLElement){const i=r.closest(`[${G_}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}},this._ngZone.runOutsideAngular(()=>{for(const e of Mh)this._document?.addEventListener(e,this._onInteraction,z_)})}ngOnDestroy(){const e=this._hosts.keys();for(const r of e)this.destroyRipple(r);for(const r of Mh)this._document?.removeEventListener(r,this._onInteraction,z_)}configureRipple(e,r){e.setAttribute(G_,this._globalRippleOptions?.namespace??""),(r.className||!e.hasAttribute(W_))&&e.setAttribute(W_,r.className||""),r.centered&&e.setAttribute(aS,""),r.disabled&&e.setAttribute(K_,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,r){const i=this._hosts.get(e);i?i.disabled=r:r?e.setAttribute(K_,""):e.removeAttribute(K_)}_createRipple(e){if(!this._document)return;const r=this._hosts.get(e);if(r)return r;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(W_)),e.append(i);const c=new kp(new l.aKT(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return c._isInitialized=!0,c.trigger=e,c.centered=e.hasAttribute(aS),c.disabled=e.hasAttribute(K_),this.attachRipple(e,c),c}attachRipple(e,r){e.removeAttribute(G_),this._hosts.set(e,r)}destroyRipple(e){const r=this._hosts.get(e);r&&(r.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mdc-form-field--align-end","before"===i.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[l.aNF],attrs:kE,ngContentSelectors:Rp,decls:1,vars:0,template:function(r,i){1&r&&(l.NAR(),l.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return n})();const fN=["*",[["mat-toolbar-row"]]],pN=["*","mat-toolbar-row"];let lS=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),mN=(()=>{class n{constructor(e,r,i){this._elementRef=e,this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(oi),l.rXU(Te))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,i,c){if(1&r&&l.wni(c,lS,5),2&r){let d;l.mGM(d=l.lsd())&&(i._toolbarRows=d)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,i){2&r&&(l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[l.aNF],ngContentSelectors:pN,decls:2,vars:0,template:function(r,i){1&r&&(l.NAR(fN),l.SdG(0),l.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),gN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Fr]})}return n})();function HE(...n){const t=(0,Ue.ms)(n),{args:e,keys:r}=ke(n),i=new J.c(c=>{const{length:d}=e;if(!d)return void c.complete();const f=new Array(d);let m=d,w=d;for(let A=0;A<d;A++){let R=!1;(0,ln.Tg)(e[A]).subscribe((0,Qe._)(c,U=>{R||(R=!0,w--),f[A]=U},()=>m--,void 0,()=>{(!m||!R)&&(w||c.next(r?st(r,f):f),c.complete())}))}});return t?i.pipe(Ie(t)):i}var _N=O(7647);class q_{}class Zc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),c=i.toLowerCase(),d=e.slice(r+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const c=t.value;if(c){let d=this.headers.get(e);if(!d)return;d=d.filter(f=>-1===c.indexOf(f)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const r=(Array.isArray(e)?e:[e]).map(c=>c.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class GE{encodeKey(t){return Rh(t)}encodeValue(t){return Rh(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Np=/%(\d[a-f0-9])/gi,Fp={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Rh(n){return encodeURIComponent(n).replace(Np,(t,e)=>Fp[e]??t)}function X_(n){return`${n}`}class $l{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new GE,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function uS(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const c=i.indexOf("="),[d,f]=-1==c?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,c)),t.decodeValue(i.slice(c+1))],m=e.get(d)||[];m.push(f),e.set(d,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(X_):[X_(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new $l({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(X_(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(X_(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Q_{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function dS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function yN(n){return typeof Blob<"u"&&n instanceof Blob}function bN(n){return typeof FormData<"u"&&n instanceof FormData}class Lp{constructor(t,e,r,i){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function WE(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,c=i):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new Zc,this.context??=new Q_,this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+d}}else this.params=new $l,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||dS(this.body)||yN(this.body)||bN(this.body)||function EN(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof $l?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||bN(this.body)?null:yN(this.body)?this.body.type||null:dS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof $l?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,c=t.transferCache??this.transferCache,d=void 0!==t.body?t.body:this.body,f=t.withCredentials??this.withCredentials,m=t.reportProgress??this.reportProgress;let w=t.headers||this.headers,A=t.params||this.params;const R=t.context??this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((U,K)=>U.set(K,t.setHeaders[K]),w)),t.setParams&&(A=Object.keys(t.setParams).reduce((U,K)=>U.set(K,t.setParams[K]),A)),new Lp(e,r,d,{params:A,headers:w,context:R,reportProgress:m,responseType:i,withCredentials:f,transferCache:c})}}var hS=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(hS||{});class KE{constructor(t,e=200,r="OK"){this.headers=t.headers||new Zc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Vp extends KE{constructor(t={}){super(t),this.type=hS.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Vp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Up(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let Oh=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let c;if(e instanceof Lp)c=e;else{let m,w;m=i.headers instanceof Zc?i.headers:new Zc(i.headers),i.params&&(w=i.params instanceof $l?i.params:new $l({fromObject:i.params})),c=new Lp(e,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const d=Y(c).pipe(Fu(m=>this.handler.handle(m)));if(e instanceof Lp||"events"===i.observe)return d;const f=d.pipe((0,Un.p)(m=>m instanceof Vp));switch(i.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return f.pipe((0,xe.T)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,xe.T)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,xe.T)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,xe.T)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new $l).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Up(i,r))}post(e,r,i={}){return this.request("POST",e,Up(i,r))}put(e,r,i={}){return this.request("PUT",e,Up(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(q_))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const KN=["*"];let rv;function Gp(n){return function xS(){if(void 0===rv&&(rv=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(rv=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return rv}()?.createHTML(n)||n}function MS(n){return Error(`Unable to find icon with the name "${n}"`)}function Wl(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Fh(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Lh{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let Wp=(()=>{class n{constructor(e,r,i,c){this._httpClient=e,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,c){return this._addSvgIconConfig(e,r,new Lh(i,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,c){const d=this._sanitizer.sanitize(l.WPN.HTML,i);if(!d)throw Fh(i);const f=Gp(d);return this._addSvgIconConfig(e,r,new Lh("",f,c))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Lh(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const c=this._sanitizer.sanitize(l.WPN.HTML,r);if(!c)throw Fh(r);const d=Gp(c);return this._addSvgIconSetConfig(e,new Lh("",d,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(l.WPN.RESOURCE_URL,e);if(!r)throw Wl(e);const i=this._cachedIconsByUrl.get(r);return i?Y(iv(i)):this._loadSvgIconFromConfig(new Lh(e,null)).pipe(gr(c=>this._cachedIconsByUrl.set(r,c)),(0,xe.T)(c=>iv(c)))}getNamedSvgIcon(e,r=""){const i=tw(r,e);let c=this._svgIconConfigs.get(i);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,e),c)return this._svgIconConfigs.set(i,c),this._getSvgFromConfig(c);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(e,d):On(MS(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Y(iv(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,xe.T)(r=>iv(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?Y(i):HE(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Tl(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(l.WPN.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),Y(null)})))).pipe((0,xe.T)(()=>{const d=this._extractIconWithNameFromAnySet(e,r);if(!d)throw MS(e);return d}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const c=r[i];if(c.svgText&&c.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(c),f=this._extractSvgIconFromSet(d,e,c.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(gr(r=>e.svgText=r),(0,xe.T)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Y(null):this._fetchIcon(e).pipe(gr(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const c=e.querySelector(`[id="${r}"]`);if(!c)return null;const d=c.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,i);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),i);const f=this._svgElementFromString(Gp("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(Gp("<svg></svg>")),i=e.attributes;for(let c=0;c<i.length;c++){const{name:d,value:f}=i[c];"id"!==d&&r.setAttribute(d,f)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,c=i?.withCredentials??!1;if(!this._httpClient)throw function Yu(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(l.WPN.RESOURCE_URL,r);if(!d)throw Wl(r);const f=this._inProgressUrlFetches.get(d);if(f)return f;const m=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,xe.T)(w=>Gp(w)),Kd(()=>this._inProgressUrlFetches.delete(d)),(0,_N.u)());return this._inProgressUrlFetches.set(d,m),m}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(tw(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const c=this._resolvers[i](r,e);if(c)return K4(c)?new Lh(c.url,null,c.options):new Lh(c,null)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Oh,8),l.KVO(b),l.KVO(Te,8),l.KVO(l.zcH))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iv(n){return n.cloneNode(!0)}function tw(n,t){return n+":"+t}function K4(n){return!(!n.url||!n.options)}const QN=new l.nKC("MAT_ICON_DEFAULT_OPTIONS"),Kp=new l.nKC("mat-icon-location",{providedIn:"root",factory:function nw(){const n=(0,l.WQX)(Te),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),RS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],YN=RS.map(n=>`[${n}]`).join(", "),ZN=/^url\(['"]?#(.*?)['"]?\)$/;let Jc=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,c,d,f){this._elementRef=e,this._iconRegistry=r,this._location=c,this._errorHandler=d,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=re.yU.EMPTY,f&&(f.color&&(this.color=this._defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,c)=>{i.forEach(d=>{c.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(YN),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)RS.forEach(d=>{const f=r[c],m=f.getAttribute(d),w=m?m.match(ZN):null;if(w){let A=i.get(f);A||(A=[],i.set(f,A)),A.push({name:d,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Qr(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${c.message}`))})}}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(Wp),l.kS0("aria-hidden"),l.rXU(Kp),l.rXU(l.zcH),l.rXU(QN,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){2&r&&(l.BMQ("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:[2,"inline","inline",l.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:KN,decls:1,vars:0,template:function(r,i){1&r&&(l.NAR(),l.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),$a=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Fr]})}return n})();const Eo=["mat-button",""],qp=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Xp=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],JN=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Hr=["mat-fab",""],eF=["mat-icon-button",""],tF=["*"],PS=new l.nKC("MAT_BUTTON_CONFIG"),iw=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ov=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,r,i,c){this._elementRef=e,this._platform=r,this._ngZone=i,this._animationMode=c,this._focusMonitor=(0,l.WQX)(ja),this._rippleLoader=(0,l.WQX)(cS),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const d=(0,l.WQX)(PS,{optional:!0}),f=e.nativeElement,m=f.classList;this.disabledInteractive=d?.disabledInteractive??!1,this.color=d?.color??null,this._rippleLoader?.configureRipple(f,{className:"mat-mdc-button-ripple"});for(const{attribute:w,mdcClasses:A}of iw)f.hasAttribute(w)&&m.add(...A)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275dir=l.FsC({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",l.L39],disabled:[2,"disabled","disabled",l.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",l.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",l.L39]},features:[l.GFd]})}return n})(),NS=(()=>{class n extends ov{constructor(e,r,i,c){super(e,r,i,c),this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275dir=l.FsC({type:n,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,l.Udg)(e)]},features:[l.GFd,l.Vt3]})}return n})(),sv=(()=>{class n extends ov{constructor(e,r,i,c){super(e,r,i,c)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(oi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[l.Vt3,l.aNF],attrs:Eo,ngContentSelectors:Xp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(qp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Yo=(()=>{class n extends NS{constructor(e,r,i,c){super(e,r,i,c)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(oi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-disabled",i._getDisabledAttribute()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[l.Vt3,l.aNF],attrs:Eo,ngContentSelectors:Xp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(qp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',JN],encapsulation:2,changeDetection:0})}return n})();const ow=new l.nKC("mat-mdc-fab-default-options",{providedIn:"root",factory:av});function av(){return{color:"accent"}}const Qp=av();let Kl=(()=>{class n extends ov{constructor(e,r,i,c,d){super(e,r,i,c),this._options=d,this._isFab=!0,this._options=this._options||Qp,this.color=this._options.color||Qp.color}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(oi),l.rXU(l.SKi),l.rXU(l.bc$,8),l.rXU(ow,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{extended:[2,"extended","extended",l.L39]},exportAs:["matButton"],standalone:!0,features:[l.GFd,l.Vt3,l.aNF],attrs:Hr,ngContentSelectors:Xp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(qp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),sw=(()=>{class n extends Yo{constructor(e,r,i,c,d){super(e,r,i,c),this._options=d,this._isFab=!0,this._options=this._options||Qp,this.color=this._options.color||Qp.color}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(oi),l.rXU(l.SKi),l.rXU(l.bc$,8),l.rXU(ow,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["a","mat-fab",""]],hostVars:19,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-disabled",i._getDisabledAttribute()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{extended:[2,"extended","extended",l.L39]},exportAs:["matButton","matAnchor"],standalone:!0,features:[l.GFd,l.Vt3,l.aNF],attrs:Hr,ngContentSelectors:Xp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(qp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),rF=(()=>{class n extends ov{constructor(e,r,i,c){super(e,r,i,c),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(oi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[l.Vt3,l.aNF],attrs:eF,ngContentSelectors:tF,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(),l.nrm(0,"span",0),l.SdG(1),l.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',JN],encapsulation:2,changeDetection:0})}return n})(),Fs=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Pp,Fr]})}return n})();var Di=O(7786);let lv,cv=1;const ql={};function FS(n){return n in ql&&(delete ql[n],!0)}const iF={setImmediate(n){const t=cv++;return ql[t]=!0,lv||(lv=Promise.resolve()),lv.then(()=>FS(t)&&n()),t},clearImmediate(n){FS(n)}},{setImmediate:VS,clearImmediate:Xl}=iF,Ql={setImmediate(...n){const{delegate:t}=Ql;return(t?.setImmediate||VS)(...n)},clearImmediate(n){const{delegate:t}=Ql;return(t?.clearImmediate||Xl)(n)},delegate:void 0},dv=new class uv extends gE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class Z4 extends kA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Ql.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:c}=t;null!=e&&(null===(i=c[c.length-1])||void 0===i?void 0:i.id)!==e&&(Ql.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function Vh(n,t){return t?e=>(0,At.x)(t.pipe(Qr(1),function sF(){return(0,se.N)((n,t)=>{n.subscribe((0,Qe._)(t,Ag.l))})}()),e.pipe(Vh(n))):(0,ki.Z)((e,r)=>(0,ln.Tg)(n(e,r)).pipe(Qr(1),a0(e)))}var aF=O(9470);function BS(n=0,t,e=L1){let r=-1;return null!=t&&((0,aF.m)(t)?e=t:r=t),new J.c(i=>{let c=function cF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let d=0;return e.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},c)})}function cw(n,t=T_){const e=BS(n,t);return Vh(()=>e)}class uw{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Bh extends uw{constructor(t,e,r,i,c){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=c}}class Uh extends uw{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class dw extends uw{constructor(t){super(),this.element=t instanceof l.aKT?t.nativeElement:t}}class Yp{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Bh?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Uh?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof dw?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class US extends Yp{constructor(t,e,r,i,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=d=>{const f=d.element,m=this._document.createComment("dom-portal");f.parentNode.insertBefore(m,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(f,m)})},this._document=c}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||l.zZn.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Zp=(()=>{class n extends Yp{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.bkB,this.attachDomPortal=c=>{const d=c.element,f=this._document.createComment("dom-portal");c.setAttachedHost(this),d.parentNode.insertBefore(f,d),this._getRootNode().appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=r.createComponent(c,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.OM3),l.rXU(l.c1b),l.rXU(Te))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[l.Vt3]})}return n})(),dF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();var un=O(9969),HS=O(7441);const hw=["addListener","removeListener"],fw=["addEventListener","removeEventListener"],hF=["on","off"];function jh(n,t,e,r){if((0,De.T)(e)&&(r=e,e=void 0),r)return jh(n,t,e).pipe(Ie(r));const[i,c]=function pw(n){return(0,De.T)(n.addEventListener)&&(0,De.T)(n.removeEventListener)}(n)?fw.map(d=>f=>n[d](t,f,e)):function fF(n){return(0,De.T)(n.addListener)&&(0,De.T)(n.removeListener)}(n)?hw.map(zS(n,t)):function GS(n){return(0,De.T)(n.on)&&(0,De.T)(n.off)}(n)?hF.map(zS(n,t)):[];if(!i&&(0,HS.X)(n))return(0,ki.Z)(d=>jh(d,t,e))((0,ln.Tg)(n));if(!i)throw new TypeError("Invalid event target");return new J.c(d=>{const f=(...m)=>d.next(1<m.length?m:m[0]);return i(f),()=>c(f)})}function zS(n,t){return e=>r=>n[e](t,r)}const Zu={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Zu;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(c=>{e=void 0,n(c)});return new re.yU(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=Zu;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Zu;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class KS extends gE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class WS extends kA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Zu.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:c}=t;null!=e&&(null===(i=c[c.length-1])||void 0===i?void 0:i.id)!==e&&(Zu.cancelAnimationFrame(e),t._scheduled=void 0)}});function QS(n,t=T_){return function XS(n){return(0,se.N)((t,e)=>{let r=!1,i=null,c=null,d=!1;const f=()=>{if(c?.unsubscribe(),c=null,r){r=!1;const w=i;i=null,e.next(w)}d&&e.complete()},m=()=>{c=null,d&&e.complete()};t.subscribe((0,Qe._)(e,w=>{r=!0,i=w,c||(0,ln.Tg)(n(w)).subscribe(c=(0,Qe._)(e,f,m))},()=>{d=!0,(!r||!c||c.closed)&&e.complete()}))})}(()=>BS(n,t))}let mw=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new B.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new J.c(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(QS(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe((0,Un.p)(c=>!c||i.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Gu(r),c=e.getElementRef().nativeElement;do{if(i==c)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>jh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.SKi),l.KVO(oi),l.KVO(Te,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gw=(()=>{class n{constructor(e,r,i,c){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=i,this.dir=c,this._destroyed=new B.B,this._elementScrolled=new J.c(d=>this.ngZone.runOutsideAngular(()=>jh(this.elementRef.nativeElement,"scroll").pipe(Tr(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&wp()!=Kc.NORMAL?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),wp()==Kc.INVERTED?e.left=e.right:wp()==Kc.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;m_()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",i="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?i:r:"end"==e&&(e=d?r:i),d&&wp()==Kc.INVERTED?e==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:d&&wp()==Kc.NEGATED?e==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(mw),l.rXU(l.SKi),l.rXU(vc,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),hv=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new B.B,this._changeListener=c=>{this._change.next(c)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,c=i.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(QS(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(oi),l.KVO(l.SKi),l.KVO(Te,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})(),yF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Sh,fv,Sh,fv]})}return n})();const _w=m_();class lH{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=mi(-this._previousScrollPosition.left),t.style.top=mi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,c=r.scrollBehavior||"",d=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),_w&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_w&&(r.scrollBehavior=c,i.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class uH{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe((0,Un.p)(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class bF{enable(){}disable(){}attach(){}}function nx(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function EF(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class dH{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();nx(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let hH=(()=>{class n{constructor(e,r,i,c){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new bF,this.close=d=>new uH(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new lH(this._viewportRuler,this._document),this.reposition=d=>new dH(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=c}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(mw),l.KVO(hv),l.KVO(l.SKi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class pv{constructor(t){if(this.scrollStrategy=new bF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class em{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let vw=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wF=(()=>{class n extends vw{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const c=this._attachedOverlays;for(let d=c.length-1;d>-1;d--)if(c[d]._keydownEvents.observers.length>0){const f=c[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(l.SKi,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mH=(()=>{class n extends vw{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=ga(c)},this._clickListener=c=>{const d=ga(c),f="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let w=m.length-1;w>-1;w--){const A=m[w];if(A._outsidePointerEvents.observers.length<1||!A.hasAttached())continue;if(rx(A.overlayElement,d)||rx(A.overlayElement,f))break;const R=A._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(c)):R.next(c)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(oi),l.KVO(l.SKi,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rx(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let r=t;for(;r;){if(r===n)return!0;r=e&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}let mv=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||pA()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<i.length;c++)i[c].remove()}const r=this._document.createElement("div");r.classList.add(e),pA()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(oi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class gv{constructor(t,e,r,i,c,d,f,m,w,A=!1,R){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=c,this._keyboardDispatcher=d,this._document=f,this._location=m,this._outsideClickDispatcher=w,this._animationsDisabled=A,this._injector=R,this._backdropElement=null,this._backdropClick=new B.B,this._attachments=new B.B,this._detachments=new B.B,this._locationChanges=re.yU.EMPTY,this._backdropClickHandler=U=>this._backdropClick.next(U),this._backdropTransitionendHandler=U=>{this._disposeBackdrop(U.target)},this._keydownEvents=new B.B,this._outsidePointerEvents=new B.B,this._renders=new B.B,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=(0,l.O8t)(()=>(0,l.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,l.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=mi(this._config.width),t.height=mi(this._config.height),t.minWidth=mi(this._config.minWidth),t.minHeight=mi(this._config.minHeight),t.maxWidth=mi(this._config.maxWidth),t.maxHeight=mi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=S_(e||[]).filter(c=>!!c);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(Tr((0,Di.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const tm="cdk-overlay-connected-position-bounding-box",ix=/([A-Za-z%]+)$/;class IF{get positions(){return this._preferredPositions}constructor(t,e,r,i,c){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new B.B,this._resizeSubscription=re.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(tm),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,c=[];let d;for(let f of this._preferredPositions){let m=this._getOriginPoint(t,i,f),w=this._getOverlayPoint(m,e,f),A=this._getOverlayFit(w,e,r,f);if(A.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,m);this._canFitWithFlexibleDimensions(A,w,r)?c.push({position:f,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,f)}):(!d||d.overlayFit.visibleArea<A.visibleArea)&&(d={overlayFit:A,overlayPoint:w,originPoint:m,position:f,overlayRect:e})}if(c.length){let f=null,m=-1;for(const w of c){const A=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);A>m&&(m=A,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Yl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tm),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,c;if("center"==r.originX)i=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;i="start"==r.originX?d:f}return e.left<0&&(i-=e.left),c="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(c-=e.top),{x:i,y:c}}_getOverlayPoint(t,e,r){let i,c;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+c}}_getOverlayFit(t,e,r,i){const c=yw(e);let{x:d,y:f}=t,m=this._getOffset(i,"x"),w=this._getOffset(i,"y");m&&(d+=m),w&&(f+=w);let U=0-f,K=f+c.height-r.height,pe=this._subtractOverflows(c.width,0-d,d+c.width-r.width),fe=this._subtractOverflows(c.height,U,K),he=pe*fe;return{visibleArea:he,isCompletelyWithinViewport:c.width*c.height===he,fitsInViewportVertically:fe===c.height,fitsInViewportHorizontally:pe==c.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,c=r.right-e.x,d=CF(this._overlayRef.getConfig().minHeight),f=CF(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=d&&d<=i)&&(t.fitsInViewportHorizontally||null!=f&&f<=c)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=yw(e),c=this._viewportRect,d=Math.max(t.x+i.width-c.width,0),f=Math.max(t.y+i.height-c.height,0),m=Math.max(c.top-r.top-t.y,0),w=Math.max(c.left-r.left-t.x,0);let A=0,R=0;return A=i.width<=c.width?w||-d:t.x<this._viewportMargin?c.left-r.left-t.x:0,R=i.height<=c.height?m||-f:t.y<this._viewportMargin?c.top-r.top-t.y:0,this._previousPushAmount={x:A,y:R},{x:t.x+A,y:t.y+R}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function gH(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new em(t,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let c,d,f,A,R,U;if("top"===e.overlayY)d=t.y,c=r.height-d+this._viewportMargin;else if("bottom"===e.overlayY)f=r.height-t.y+2*this._viewportMargin,c=r.height-f+this._viewportMargin;else{const K=Math.min(r.bottom-t.y+r.top,t.y),pe=this._lastBoundingBoxSize.height;c=2*K,d=t.y-K,c>pe&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-pe/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)U=r.width-t.x+2*this._viewportMargin,A=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)R=t.x,A=r.right-t.x;else{const K=Math.min(r.right-t.x+r.left,t.x),pe=this._lastBoundingBoxSize.width;A=2*K,R=t.x-K,A>pe&&!this._isInitialRender&&!this._growAfterOpen&&(R=t.x-pe/2)}return{top:d,left:R,bottom:f,right:U,width:A,height:c}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;i.height=mi(r.height),i.top=mi(r.top),i.bottom=mi(r.bottom),i.width=mi(r.width),i.left=mi(r.left),i.right=mi(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(i.maxHeight=mi(c)),d&&(i.maxWidth=mi(d))}this._lastBoundingBoxSize=r,Yl(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Yl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Yl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),c=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(i){const A=this._viewportRuler.getViewportScrollPosition();Yl(r,this._getExactOverlayY(e,t,A)),Yl(r,this._getExactOverlayX(e,t,A))}else r.position="static";let f="",m=this._getOffset(e,"x"),w=this._getOffset(e,"y");m&&(f+=`translateX(${m}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),d.maxHeight&&(i?r.maxHeight=mi(d.maxHeight):c&&(r.maxHeight="")),d.maxWidth&&(i?r.maxWidth=mi(d.maxWidth):c&&(r.maxWidth="")),Yl(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":i.top=mi(c.y),i}_getExactOverlayX(t,e,r){let d,i={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?i.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":i.left=mi(c.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:EF(t,r),isOriginOutsideView:nx(t,r),isOverlayClipped:EF(e,r),isOverlayOutsideView:nx(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&S_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.aKT)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Yl(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function CF(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ix);return e&&"px"!==e?null:parseFloat(t)}return n||null}function yw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const _v="cdk-global-overlay-wrapper";class TF{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(_v),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:c,maxWidth:d,maxHeight:f}=r,m=!("100%"!==i&&"100vw"!==i||d&&"100%"!==d&&"100vw"!==d),w=!("100%"!==c&&"100vh"!==c||f&&"100%"!==f&&"100vh"!==f),A=this._xPosition,R=this._xOffset,U="rtl"===this._overlayRef.getConfig().direction;let K="",pe="",fe="";m?fe="flex-start":"center"===A?(fe="center",U?pe=R:K=R):U?"left"===A||"end"===A?(fe="flex-end",K=R):("right"===A||"start"===A)&&(fe="flex-start",pe=R):"left"===A||"start"===A?(fe="flex-start",K=R):("right"===A||"end"===A)&&(fe="flex-end",pe=R),t.position=this._cssPosition,t.marginLeft=m?"0":K,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":pe,e.justifyContent=fe,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(_v),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let AF=(()=>{class n{constructor(e,r,i,c){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=c}global(){return new TF}flexibleConnectedTo(e){return new IF(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(hv),l.KVO(Te),l.KVO(oi),l.KVO(mv))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vv=0,Po=(()=>{class n{constructor(e,r,i,c,d,f,m,w,A,R,U,K){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=c,this._keyboardDispatcher=d,this._injector=f,this._ngZone=m,this._document=w,this._directionality=A,this._location=R,this._outsideClickDispatcher=U,this._animationsModuleType=K}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),c=this._createPortalOutlet(i),d=new pv(e);return d.direction=d.direction||this._directionality.value,new gv(c,r,i,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(l.uvJ))}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+vv++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.o8S)),new US(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(hH),l.KVO(mv),l.KVO(l.OM3),l.KVO(AF),l.KVO(wF),l.KVO(l.zZn),l.KVO(l.SKi),l.KVO(Te),l.KVO(vc),l.KVO(Pn),l.KVO(mH),l.KVO(l.bc$,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const SF=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ox=new l.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Po);return()=>n.scrollStrategies.reposition()}});let yv=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),sx=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,r,i,c,d){this._overlay=e,this._dir=d,this._backdropSubscription=re.yU.EMPTY,this._attachSubscription=re.yU.EMPTY,this._detachSubscription=re.yU.EMPTY,this._positionSubscription=re.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,l.WQX)(l.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new l.bkB,this.positionChange=new l.bkB,this.attach=new l.bkB,this.detach=new l.bkB,this.overlayKeydown=new l.bkB,this.overlayOutsideClick=new l.bkB,this._templatePortal=new Uh(r,i),this._scrollStrategyFactory=c,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=SF);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!_c(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{const i=this._getOriginElement(),c=ga(r);(!i||i!==c&&!i.contains(c))&&this.overlayOutsideClick.next(r)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new pv({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof yv?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof yv?this.origin.elementRef.nativeElement:this.origin instanceof l.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function tx(n,t=!1){return(0,se.N)((e,r)=>{let i=0;e.subscribe((0,Qe._)(r,c=>{const d=n(c,i++);(d||t)&&r.next(c),!d&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Po),l.rXU(l.C4Q),l.rXU(l.c1b),l.rXU(ox),l.rXU(vc,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",l.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",l.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",l.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",l.L39],push:[2,"cdkConnectedOverlayPush","push",l.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",l.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[l.GFd,l.OA$]})}return n})();const ax={provide:ox,deps:[Po],useFactory:function xF(n){return()=>n.scrollStrategies.reposition()}};let bw=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[Po,ax],imports:[Sh,dF,yF,yF]})}return n})();const RF=["mat-menu-item",""],vH=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],cx=["mat-icon, [matMenuItemIcon]","*"];function lx(n,t){1&n&&(l.qSk(),l.j41(0,"svg",2),l.nrm(1,"polygon",3),l.k0s())}const Ju=["*"];function ux(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",0),l.bIt("keydown",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._handleKeydown(i))})("click",function(){l.eBV(e);const i=l.XpG();return l.Njj(i.closed.emit("click"))})("@transformMenu.start",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._onAnimationStart(i))})("@transformMenu.done",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._onAnimationDone(i))}),l.j41(1,"div",1),l.SdG(2),l.k0s()()}if(2&n){const e=l.XpG();l.HbH(e._classList),l.Y8G("id",e.panelId)("@transformMenu",e._panelAnimationState),l.BMQ("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Ew=new l.nKC("MAT_MENU_PANEL");let ww=(()=>{class n{constructor(e,r,i,c,d){this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=c,this._changeDetectorRef=d,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new B.B,this._focused=new B.B,this._highlighted=!1,this._triggersSubmenu=!1,c?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(Te),l.rXU(ja),l.rXU(Ew,8),l.rXU(l.gRc))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._checkDisabled(d)})("mouseenter",function(){return i._handleMouseEnter()}),2&r&&(l.BMQ("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),l.AVh("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39]},exportAs:["matMenuItem"],standalone:!0,features:[l.GFd,l.aNF],attrs:RF,ngContentSelectors:cx,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,i){1&r&&(l.NAR(vH),l.SdG(0),l.j41(1,"span",0),l.SdG(2,1),l.k0s(),l.nrm(3,"div",1),l.DNE(4,lx,2,0,":svg:svg",2)),2&r&&(l.R7$(3),l.Y8G("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.R7$(),l.vxM(i._triggersSubmenu?4:-1))},dependencies:[kp],encapsulation:2,changeDetection:0})}return n})();const fx=new l.nKC("MatMenuContent"),bv={transformMenu:(0,un.hZ)("transformMenu",[(0,un.wk)("void",(0,un.iF)({opacity:0,transform:"scale(0.8)"})),(0,un.kY)("void => enter",(0,un.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,un.iF)({opacity:1,transform:"scale(1)"}))),(0,un.kY)("* => void",(0,un.i0)("100ms 25ms linear",(0,un.iF)({opacity:0})))]),fadeInItems:(0,un.hZ)("fadeInItems",[(0,un.wk)("showing",(0,un.iF)({opacity:1})),(0,un.kY)("void => *",[(0,un.iF)({opacity:0}),(0,un.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let OF=0;const kF=new l.nKC("mat-menu-default-options",{providedIn:"root",factory:function Cw(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let nm=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){const r=this._previousPanelClass,i={...this._classList};r&&r.length&&r.split(" ").forEach(c=>{i[c]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(c=>{i[c]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,i,c){this._elementRef=e,this._changeDetectorRef=c,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new l.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new B.B,this.closed=new l.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+OF++,this._injector=(0,l.WQX)(l.zZn),this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this.overlapTrigger=i.overlapTrigger,this.hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new j1(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,Wo.Z)(this._directDescendantItems),pi(e=>(0,Di.h)(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=e.toArray(),c=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[c]&&!i[c].disabled?r.setActiveItem(c):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,Wo.Z)(this._directDescendantItems),pi(r=>(0,Di.h)(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:_c(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,l.mal)(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(null===this._baseElevation){const f=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(f)}const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,c=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));if(!c||c===this._previousElevation){const d={...this._classList};this._previousElevation&&(d[this._previousElevation]=!1),d[i]=!0,this._previousElevation=i,this._classList=d}}setPositionClasses(e=this.xPosition,r=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===e,"mat-menu-after":"after"===e,"mat-menu-above":"above"===r,"mat-menu-below":"below"===r},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,Wo.Z)(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(kF),l.rXU(l.gRc))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-menu"]],contentQueries:function(r,i,c){if(1&r&&(l.wni(c,fx,5),l.wni(c,ww,5),l.wni(c,ww,4)),2&r){let d;l.mGM(d=l.lsd())&&(i.lazyContent=d.first),l.mGM(d=l.lsd())&&(i._allItems=d),l.mGM(d=l.lsd())&&(i.items=d)}},viewQuery:function(r,i){if(1&r&&l.GBs(l.C4Q,5),2&r){let c;l.mGM(c=l.lsd())&&(i.templateRef=c.first)}},hostVars:3,hostBindings:function(r,i){2&r&&l.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",l.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>null==e?null:(0,l.L39)(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[l.Jv_([{provide:Ew,useExisting:n}]),l.GFd,l.aNF],ngContentSelectors:Ju,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(r,i){1&r&&(l.NAR(),l.DNE(0,ux,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[bv.transformMenu,bv.fadeInItems]},changeDetection:0})}return n})();const Ha=new l.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Po);return()=>n.scrollStrategies.reposition()}}),Ti={provide:Ha,deps:[Po],useFactory:function rm(n){return()=>n.scrollStrategies.reposition()}},Zl=bh({passive:!0});let va=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,i,c,d,f,m,w,A){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=f,this._dir=m,this._focusMonitor=w,this._ngZone=A,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=re.yU.EMPTY,this._hoverSubscription=re.yU.EMPTY,this._menuCloseSubscription=re.yU.EMPTY,this._changeDetectorRef=(0,l.WQX)(l.gRc),this._handleTouchStart=R=>{AE(R)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=d instanceof nm?d:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,Zl)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Zl),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),i=r.getConfig(),c=i.positionStrategy;this._setPosition(e,c),i.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof nm&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Tr(e.close)).subscribe(()=>{c.withLockedPosition(!1).reapplyLastPosition(),c.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof nm?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe((0,Un.p)(i=>"void"===i.toState),Qr(1),Tr(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new pv({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{const c="start"===i.connectionPair.overlayX?"after":"before",d="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(c,d)):e.setPositionClasses(c,d)})}_setPosition(e,r){let[i,c]="before"===e.xPosition?["end","start"]:["start","end"],[d,f]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[m,w]=[d,f],[A,R]=[i,c],U=0;if(this.triggersSubmenu()){if(R=i="before"===e.xPosition?"start":"end",c=A="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const K=this._parentMaterialMenu.items.first;this._parentInnerPadding=K?K._getHostElement().offsetTop:0}U="bottom"===d?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(m="top"===d?"bottom":"top",w="top"===f?"bottom":"top");r.withPositions([{originX:i,originY:m,overlayX:A,overlayY:d,offsetY:U},{originX:c,originY:m,overlayX:R,overlayY:d,offsetY:U},{originX:i,originY:w,overlayX:A,overlayY:f,offsetY:-U},{originX:c,originY:w,overlayX:R,overlayY:f,offsetY:-U}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:Y(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Un.p)(d=>d!==this._menuItemInstance),(0,Un.p)(()=>this._menuOpen)):Y();return(0,Di.h)(e,i,c,r)}_handleMousedown(e){TE(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Un.p)(e=>e===this._menuItemInstance&&!e.disabled),cw(0,dv)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof nm&&this.menu._isAnimating?this.menu._animationDone.pipe(Qr(1),cw(0,dv),Tr(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Uh(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Po),l.rXU(l.aKT),l.rXU(l.c1b),l.rXU(Ha),l.rXU(Ew,8),l.rXU(ww,10),l.rXU(vc,8),l.rXU(ja),l.rXU(l.SKi))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._handleClick(d)})("mousedown",function(d){return i._handleMousedown(d)})("keydown",function(d){return i._handleKeydown(d)}),2&r&&l.BMQ("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return n})(),$h=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[Ti],imports:[Ho,Pp,Fr,bw,fv,Fr]})}return n})();const Sw=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=63&i|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=63&i|128)}return t},gx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const c=n[i],d=i+1<n.length,f=d?n[i+1]:0,m=i+2<n.length,w=m?n[i+2]:0;let U=(15&f)<<2|w>>6,K=63&w;m||(K=64,d||(U=64)),r.push(e[c>>2],e[(3&c)<<4|f>>4],e[U],e[K])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Sw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,r=0;for(;e<n.length;){const i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const c=n[e++];t[r++]=String.fromCharCode((31&i)<<6|63&c)}else if(i>239&&i<365){const m=((7&i)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(1023&m))}else{const c=n[e++],d=n[e++];t[r++]=String.fromCharCode((15&i)<<12|(63&c)<<6|63&d)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const c=e[n.charAt(i++)],f=i<n.length?e[n.charAt(i)]:0;++i;const w=i<n.length?e[n.charAt(i)]:64;++i;const R=i<n.length?e[n.charAt(i)]:64;if(++i,null==c||null==f||null==w||null==R)throw new PF;r.push(c<<2|f>>4),64!==w&&(r.push(f<<4&240|w>>2),64!==R&&r.push(w<<6&192|R))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class PF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const om=function(n){return function(n){const t=Sw(n);return gx.encodeByteArray(t,!0)}(n).replace(/\./g,"")},Ev=function(n){try{return gx.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},am=()=>{try{return function wv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Ev(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},xw=n=>{var t,e;return null===(e=null===(t=am())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]},Dv=()=>{var n;return null===(n=am())||void 0===n?void 0:n.config},Mw=n=>{var t;return null===(t=am())||void 0===t?void 0:t[`_${n}`]};class cm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,r))}}}function gi(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class gs extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,td.prototype.create)}}class td{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},i=`${this.service}/${t}`,c=this.errors[t],d=c?function kw(n,t){return n.replace(Ex,(e,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(c,r):"Error";return new gs(i,`${this.serviceName}: ${d} (${i}).`,r)}}const Ex=/\{\$([^}]+)}/g;function Wh(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const i of e){if(!r.includes(i))return!1;const c=n[i],d=t[i];if(UF(c)&&UF(d)){if(!Wh(c,d))return!1}else if(c!==d)return!1}for(const i of r)if(!e.includes(i))return!1;return!0}function UF(n){return null!==n&&"object"==typeof n}function nd(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function rd(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,c]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(c)}}),t}function um(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}class $F{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");i=function HF(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:r},void 0===i.next&&(i.next=Nw),void 0===i.error&&(i.error=Nw),void 0===i.complete&&(i.complete=Nw);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),c}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nw(){}function Bi(n){return n&&n._delegate?n._delegate:n}class eu{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const tu="[DEFAULT]";class dm{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new cm;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(i)return null;throw c}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function Kh(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:tu})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const c=this.getOrInitializeService({instanceIdentifier:i});r.resolve(c)}catch{}}}}clearInstance(t=tu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,x.A)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=tu){return this.instances.has(t)}getOptions(t=tu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[c,d]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(c)&&d.resolve(i);return i}onInit(t,e){var r;const i=this.normalizeInstanceIdentifier(e),c=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;c.add(t),this.onInitCallbacks.set(i,c);const d=this.instances.get(i);return d&&t(d,i),()=>{c.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===tu?void 0:n),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(t=tu){return this.component?this.component.multipleInstances?t:tu:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ax{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new dm(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const nu=[];var qn=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(qn||{});const id={debug:qn.DEBUG,verbose:qn.VERBOSE,info:qn.INFO,warn:qn.WARN,error:qn.ERROR,silent:qn.SILENT},qh=qn.INFO,Xh={[qn.DEBUG]:"log",[qn.VERBOSE]:"log",[qn.INFO]:"info",[qn.WARN]:"warn",[qn.ERROR]:"error"},Qh=(n,t,...e)=>{if(t<n.logLevel)return;const r=(new Date).toISOString(),i=Xh[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${n.name}:`,...e)};class ru{constructor(t){this.name=t,this._logLevel=qh,this._logHandler=Qh,this._userLogHandler=null,nu.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?id[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qn.DEBUG,...t),this._logHandler(this,qn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qn.VERBOSE,...t),this._logHandler(this,qn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qn.INFO,...t),this._logHandler(this,qn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qn.WARN,...t),this._logHandler(this,qn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qn.ERROR,...t),this._logHandler(this,qn.ERROR,...t)}}const Yh=(n,t)=>t.some(e=>n instanceof e);let od,Vw;const Bw=new WeakMap,xv=new WeakMap,Uw=new WeakMap,Mv=new WeakMap,Rv=new WeakMap;let bc={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return xv.get(n);if("objectStoreNames"===t)return n.objectStoreNames||Uw.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return _s(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function jw(n){return"function"==typeof n?function WF(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xx(){return Vw||(Vw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(pm(this),t),_s(Bw.get(this))}:function(...t){return _s(n.apply(pm(this),t))}:function(t,...e){const r=n.call(pm(this),t,...e);return Uw.set(r,t.sort?t.sort():[t]),_s(r)}}(n):(n instanceof IDBTransaction&&function Ov(n){if(xv.has(n))return;const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{e(),i()},d=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});xv.set(n,t)}(n),Yh(n,function Sx(){return od||(od=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,bc):n)}function _s(n){if(n instanceof IDBRequest)return function Mx(n){const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{e(_s(n.result)),i()},d=()=>{r(n.error),i()};n.addEventListener("success",c),n.addEventListener("error",d)});return t.then(e=>{e instanceof IDBCursor&&Bw.set(e,n)}).catch(()=>{}),Rv.set(t,n),t}(n);if(Mv.has(n))return Mv.get(n);const t=jw(n);return t!==n&&(Mv.set(n,t),Rv.set(t,n)),t}const pm=n=>Rv.get(n),BH=["get","getKey","getAll","getAllKeys","count"],UH=["put","add","delete","clear"],$w=new Map;function Ox(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if($w.get(t))return $w.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,i=UH.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!BH.includes(e))return;const c=function(){var d=(0,x.A)(function*(f,...m){const w=this.transaction(f,i?"readwrite":"readonly");let A=w.store;return r&&(A=A.index(m.shift())),(yield Promise.all([A[e](...m),i&&w.done]))[0]});return function(m){return d.apply(this,arguments)}}();return $w.set(t,c),c}!function GF(n){bc=n(bc)}(n=>({...n,get:(t,e,r)=>Ox(t,e)||n.get(t,e,r),has:(t,e)=>!!Ox(t,e)||n.has(t,e)}));class kx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function qF(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}return null}).filter(e=>e).join(" ")}}const _i="@firebase/app",sd=new ru("@firebase/app"),Pv="[DEFAULT]",rL={[_i]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},el=new Map,tl=new Map,mm=new Map;function Kw(n,t){try{n.container.addComponent(t)}catch(e){sd.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Jh(n){const t=n.name;if(mm.has(t))return sd.debug(`There were multiple attempts to register component ${t}.`),!1;mm.set(t,n);for(const e of el.values())Kw(e,n);for(const e of tl.values())Kw(e,n);return!0}function gm(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ya(n){return void 0!==n.settings}const ba=new td("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Hx{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new eu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}const ef="10.12.4";function zx(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Pv,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw ba.create("bad-app-name",{appName:String(i)});if(e||(e=Dv()),!e)throw ba.create("no-options");const c=el.get(i);if(c){if(Wh(e,c.options)&&Wh(r,c.config))return c;throw ba.create("duplicate-app",{appName:i})}const d=new Ax(i);for(const m of mm.values())d.addComponent(m);const f=new Hx(e,r,d);return el.set(i,f),f}function Gx(n=Pv){const t=el.get(n);if(!t&&n===Pv&&Dv())return zx();if(!t)throw ba.create("no-app",{appName:n});return t}function Wa(n,t,e){var r;let i=null!==(r=rL[n])&&void 0!==r?r:n;e&&(i+=`-${e}`);const c=i.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const f=[`Unable to register library "${i}" with version "${t}":`];return c&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),c&&d&&f.push("and"),d&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void sd.warn(f.join(" "))}Jh(new eu(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Xw="firebase-heartbeat-database",Wx=1,tf="firebase-heartbeat-store";let Fv=null;function Qw(){return Fv||(Fv=function KF(n,t,{blocked:e,upgrade:r,blocking:i,terminated:c}={}){const d=indexedDB.open(n,t),f=_s(d);return r&&d.addEventListener("upgradeneeded",m=>{r(_s(d.result),m.oldVersion,m.newVersion,_s(d.transaction),m)}),e&&d.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),f.then(m=>{c&&m.addEventListener("close",()=>c()),i&&m.addEventListener("versionchange",w=>i(w.oldVersion,w.newVersion,w))}).catch(()=>{}),f}(Xw,Wx,{upgrade:(n,t)=>{if(0===t)try{n.createObjectStore(tf)}catch(e){console.warn(e)}}}).catch(n=>{throw ba.create("idb-open",{originalErrorMessage:n.message})})),Fv}function Lv(){return(Lv=(0,x.A)(function*(n){try{const e=(yield Qw()).transaction(tf),r=yield e.objectStore(tf).get(Zw(n));return yield e.done,r}catch(t){if(t instanceof gs)sd.warn(t.message);else{const e=ba.create("idb-get",{originalErrorMessage:t?.message});sd.warn(e.message)}}})).apply(this,arguments)}function Kx(n,t){return Yw.apply(this,arguments)}function Yw(){return(Yw=(0,x.A)(function*(n,t){try{const r=(yield Qw()).transaction(tf,"readwrite");yield r.objectStore(tf).put(t,Zw(n)),yield r.done}catch(e){if(e instanceof gs)sd.warn(e.message);else{const r=ba.create("idb-set",{originalErrorMessage:e?.message});sd.warn(r.message)}}})).apply(this,arguments)}function Zw(n){return`${n.name}!${n.options.appId}`}class lL{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new uL(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return(0,x.A)(function*(){var e,r;const c=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=Jw();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(r=t._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==d&&!t._heartbeatsCache.heartbeats.some(f=>f.date===d))return t._heartbeatsCache.heartbeats.push({date:d,agent:c}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return(0,x.A)(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const r=Jw(),{heartbeatsToSend:i,unsentEntries:c}=function Vv(n,t=1024){const e=[];let r=n.slice();for(const i of n){const c=e.find(d=>d.agent===i.agent);if(c){if(c.dates.push(i.date),qx(e)>t){c.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),qx(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}(t._heartbeatsCache.heartbeats),d=om(JSON.stringify({version:2,heartbeats:i}));return t._heartbeatsCache.lastSentHeartbeatDate=r,c.length>0?(t._heartbeatsCache.heartbeats=c,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),d})()}}function Jw(){return(new Date).toISOString().substring(0,10)}class uL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,x.A)(function*(){return!!function Av(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Gh(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var c;t((null===(c=i.error)||void 0===c?void 0:c.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,x.A)(function*(){if(yield t._canUseIndexedDBPromise){const r=yield function cL(n){return Lv.apply(this,arguments)}(t.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return(0,x.A)(function*(){var r;if(yield e._canUseIndexedDBPromise){const c=yield e.read();return Kx(e.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return(0,x.A)(function*(){var r;if(yield e._canUseIndexedDBPromise){const c=yield e.read();return Kx(e.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...t.heartbeats]})}})()}}function qx(n){return om(JSON.stringify({version:2,heartbeats:n})).length}!function eI(n){Jh(new eu("platform-logger",t=>new kx(t),"PRIVATE")),Jh(new eu("heartbeat",t=>new lL(t),"PRIVATE")),Wa(_i,"0.10.7",n),Wa(_i,"0.10.7","esm2017"),Wa("fire-js","")}("");var tI=O(1635);const iI=function Qx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},oI=new td("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Bv=new ru("@firebase/auth");function _m(n,...t){Bv.logLevel<=qn.ERROR&&Bv.error(`Auth (${ef}): ${n}`,...t)}function No(n,...t){throw iu(n,...t)}function wo(n,...t){return iu(n,...t)}function nl(n,t,e){const r=Object.assign(Object.assign({},iI()),{[t]:e});return new td("auth","Firebase",r).create(t,{appName:n.name})}function uo(n){return nl(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iu(n,...t){if("string"!=typeof n){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return oI.create(n,...t)}function Wt(n,t,...e){if(!n)throw iu(t,...e)}function Ea(n){const t="INTERNAL ASSERTION FAILED: "+n;throw _m(t),new Error(t)}function ou(n,t){n||Ea(t)}function rf(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function pL(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function sf(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Uv(){return"http:"===pL()||"https:"===pL()}()||function vx(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class vm{constructor(t,e){this.shortDelay=t,this.longDelay=e,ou(e>t,"Short delay should be less than long delay!"),this.isMobile=function Ls(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gi())}()||function yx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return sf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sI(n,t){ou(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class ad{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ea("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ea("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ea("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const gL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},jv=new vm(3e4,6e4);function Rr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function Xn(n,t,e,r){return $v.apply(this,arguments)}function $v(){return($v=(0,x.A)(function*(n,t,e,r,i={}){return aI(n,i,(0,x.A)(function*(){let c={},d={};r&&("GET"===t?d=r:c={body:JSON.stringify(r)});const f=nd(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),ad.fetch()(Zx(n,n.config.apiHost,e,f),Object.assign({method:t,headers:m,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function aI(n,t,e){return cI.apply(this,arguments)}function cI(){return(cI=(0,x.A)(function*(n,t,e){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},gL),t);try{const i=new Jx(n),c=yield Promise.race([e(),i.promise]);i.clearNetworkTimeout();const d=yield c.json();if("needConfirmation"in d)throw rl(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[m,w]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===m)throw rl(n,"credential-already-in-use",d);if("EMAIL_EXISTS"===m)throw rl(n,"email-already-in-use",d);if("USER_DISABLED"===m)throw rl(n,"user-disabled",d);const A=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw nl(n,A,w);No(n,A)}}catch(i){if(i instanceof gs)throw i;No(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Vs(n,t,e,r){return cd.apply(this,arguments)}function cd(){return(cd=(0,x.A)(function*(n,t,e,r,i={}){const c=yield Xn(n,t,e,r,i);return"mfaPendingCredential"in c&&No(n,"multi-factor-auth-required",{_serverResponse:c}),c})).apply(this,arguments)}function Zx(n,t,e,r){const i=`${t}${e}?${r}`;return n.config.emulator?sI(n.config,i):`${n.config.apiScheme}://${i}`}function _L(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Jx{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(wo(this.auth,"network-request-failed")),jv.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rl(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const i=wo(n,t,r);return i.customData._tokenResponse=e,i}function tM(n){return void 0!==n&&void 0!==n.enterprise}class nM{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return _L(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}}function lI(n,t){return uI.apply(this,arguments)}function uI(){return(uI=(0,x.A)(function*(n,t){return Xn(n,"GET","/v2/recaptchaConfig",Rr(n,t))})).apply(this,arguments)}function dI(){return(dI=(0,x.A)(function*(n,t){return Xn(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function vL(n,t){return sM.apply(this,arguments)}function sM(){return(sM=(0,x.A)(function*(n,t){return Xn(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function af(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function fI(){return(fI=(0,x.A)(function*(n,t=!1){const e=Bi(n),r=yield e.getIdToken(t),i=su(r);Wt(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const c="object"==typeof i.firebase?i.firebase:void 0,d=c?.sign_in_provider;return{claims:i,token:r,authTime:af(zv(i.auth_time)),issuedAtTime:af(zv(i.iat)),expirationTime:af(zv(i.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}})).apply(this,arguments)}function zv(n){return 1e3*Number(n)}function su(n){const[t,e,r]=n.split(".");if(void 0===t||void 0===e||void 0===r)return _m("JWT malformed, contained fewer than 3 sections"),null;try{const i=Ev(e);return i?JSON.parse(i):(_m("Failed to decode base64 JWT payload"),null)}catch(i){return _m("Caught error parsing JWT payload as JSON",i?.toString()),null}}function aM(n){const t=su(n);return Wt(t,"internal-error"),Wt(typeof t.exp<"u","internal-error"),Wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function il(n,t){return pI.apply(this,arguments)}function pI(){return(pI=(0,x.A)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(r){throw r instanceof gs&&function bL({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class YH{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout((0,x.A)(function*(){yield e.iteration()}),r)}iteration(){var t=this;return(0,x.A)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class mI{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=af(this.lastLoginAt),this.creationTime=af(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cf(n){return gI.apply(this,arguments)}function gI(){return(gI=(0,x.A)(function*(n){var t;const e=n.auth,r=yield n.getIdToken(),i=yield il(n,vL(e,{idToken:r}));Wt(i?.users.length,e,"internal-error");const c=i.users[0];n._notifyReloadListener(c);const d=null!==(t=c.providerUserInfo)&&void 0!==t&&t.length?_I(c.providerUserInfo):[],f=function wL(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(n.providerData,d),A=!!n.isAnonymous&&!(n.email&&c.passwordHash||f?.length),R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new mI(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(n,R)})).apply(this,arguments)}function ld(){return(ld=(0,x.A)(function*(n){const t=Bi(n);yield cf(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function _I(n){return n.map(t=>{var{providerId:e}=t,r=(0,tI.Tt)(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function vI(){return(vI=(0,x.A)(function*(n,t){const e=yield aI(n,{},(0,x.A)(function*(){const r=nd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:c}=n.config,d=Zx(n,i,"/v1/token",`key=${c}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",ad.fetch()(d,{method:"POST",headers:f,body:r})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function yI(){return(yI=(0,x.A)(function*(n,t){return Xn(n,"POST","/v2/accounts:revokeToken",Rr(n,t))})).apply(this,arguments)}class au{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Wt(t.idToken,"internal-error"),Wt(typeof t.idToken<"u","internal-error"),Wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):aM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Wt(0!==t.length,"internal-error");const e=aM(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){var r=this;return(0,x.A)(function*(){return e||!r.accessToken||r.isExpired?(Wt(r.refreshToken,t,"user-token-expired"),r.refreshToken?(yield r.refresh(t,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var r=this;return(0,x.A)(function*(){const{accessToken:i,refreshToken:c,expiresIn:d}=yield function cM(n,t){return vI.apply(this,arguments)}(t,e);r.updateTokensAndExpiration(i,c,Number(d))})()}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,e){const{refreshToken:r,accessToken:i,expirationTime:c}=e,d=new au;return r&&(Wt("string"==typeof r,"internal-error",{appName:t}),d.refreshToken=r),i&&(Wt("string"==typeof i,"internal-error",{appName:t}),d.accessToken=i),c&&(Wt("number"==typeof c,"internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new au,this.toJSON())}_performRefresh(){return Ea("not implemented")}}function cu(n,t){Wt("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class Ic{constructor(t){var{uid:e,auth:r,stsTokenManager:i}=t,c=(0,tI.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YH(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new mI(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,x.A)(function*(){const r=yield il(e,e.stsTokenManager.getToken(e.auth,t));return Wt(r,e.auth,"internal-error"),e.accessToken!==r&&(e.accessToken=r,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),r})()}getIdTokenResult(t){return function yL(n){return fI.apply(this,arguments)}(this,t)}reload(){return function EL(n){return ld.apply(this,arguments)}(this)}_assign(t){this!==t&&(Wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ic(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var r=this;return(0,x.A)(function*(){let i=!1;t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield cf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var t=this;return(0,x.A)(function*(){if(ya(t.auth.app))return Promise.reject(uo(t.auth));const e=yield t.getIdToken();return yield il(t,function iM(n,t){return dI.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,i,c,d,f,m,w,A;const R=null!==(r=e.displayName)&&void 0!==r?r:void 0,U=null!==(i=e.email)&&void 0!==i?i:void 0,K=null!==(c=e.phoneNumber)&&void 0!==c?c:void 0,pe=null!==(d=e.photoURL)&&void 0!==d?d:void 0,fe=null!==(f=e.tenantId)&&void 0!==f?f:void 0,he=null!==(m=e._redirectEventId)&&void 0!==m?m:void 0,ht=null!==(w=e.createdAt)&&void 0!==w?w:void 0,vt=null!==(A=e.lastLoginAt)&&void 0!==A?A:void 0,{uid:Et,emailVerified:zt,isAnonymous:vn,providerData:an,stsTokenManager:Ve}=e;Wt(Et&&Ve,t,"internal-error");const le=au.fromJSON(this.name,Ve);Wt("string"==typeof Et,t,"internal-error"),cu(R,t.name),cu(U,t.name),Wt("boolean"==typeof zt,t,"internal-error"),Wt("boolean"==typeof vn,t,"internal-error"),cu(K,t.name),cu(pe,t.name),cu(fe,t.name),cu(he,t.name),cu(ht,t.name),cu(vt,t.name);const we=new Ic({uid:Et,auth:t,email:U,emailVerified:zt,displayName:R,isAnonymous:vn,photoURL:pe,phoneNumber:K,tenantId:fe,stsTokenManager:le,createdAt:ht,lastLoginAt:vt});return an&&Array.isArray(an)&&(we.providerData=an.map(je=>Object.assign({},je))),he&&(we._redirectEventId=he),we}static _fromIdTokenResponse(t,e,r=!1){return(0,x.A)(function*(){const i=new au;i.updateFromServerResponse(e);const c=new Ic({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield cf(c),c})()}static _fromGetAccountInfoResponse(t,e,r){return(0,x.A)(function*(){const i=e.users[0];Wt(void 0!==i.localId,"internal-error");const c=void 0!==i.providerUserInfo?_I(i.providerUserInfo):[],d=!(i.email&&i.passwordHash||c?.length),f=new au;f.updateFromIdToken(r);const m=new Ic({uid:i.localId,auth:t,stsTokenManager:f,isAnonymous:d}),w={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new mI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||c?.length)};return Object.assign(m,w),m})()}}const bI=new Map;function ol(n){ou(n instanceof Function,"Expected a class definition");let t=bI.get(n);return t?(ou(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,bI.set(n,t),t)}const uM=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,x.A)(function*(){return!0})()}_set(e,r){var i=this;return(0,x.A)(function*(){i.storage[e]=r})()}_get(e){var r=this;return(0,x.A)(function*(){const i=r.storage[e];return void 0===i?null:i})()}_remove(e){var r=this;return(0,x.A)(function*(){delete r.storage[e]})()}_addListener(e,r){}_removeListener(e,r){}}return n.type="NONE",n})();function lf(n,t,e){return`firebase:${n}:${t}:${e}`}class uf{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:i,name:c}=this.auth;this.fullUserKey=lf(this.userKey,i.apiKey,c),this.fullPersistenceKey=lf("persistence",i.apiKey,c),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,x.A)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Ic._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,x.A)(function*(){if(e.persistence===t)return;const r=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,r?e.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,r="authUser"){return(0,x.A)(function*(){if(!e.length)return new uf(ol(uM),t,r);const i=(yield Promise.all(e.map(function(){var w=(0,x.A)(function*(A){if(yield A._isAvailable())return A});return function(A){return w.apply(this,arguments)}}()))).filter(w=>w);let c=i[0]||ol(uM);const d=lf(r,t.config.apiKey,t.name);let f=null;for(const w of e)try{const A=yield w._get(d);if(A){const R=Ic._fromJSON(t,A);w!==c&&(f=R),c=w;break}}catch{}const m=i.filter(w=>w._shouldAllowMigration);return c._shouldAllowMigration&&m.length?(c=m[0],f&&(yield c._set(d,f.toJSON())),yield Promise.all(e.map(function(){var w=(0,x.A)(function*(A){if(A!==c)try{yield A._remove(d)}catch{}});return function(A){return w.apply(this,arguments)}}())),new uf(c,t,r)):new uf(c,t,r)})()}}function EI(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(fM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(mM(t))return"Blackberry";if(gM(t))return"Webos";if(wI(t))return"Safari";if((t.includes("chrome/")||hM(t))&&!t.includes("edge/"))return"Chrome";if(pM(t))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function dM(n=gi()){return/firefox\//i.test(n)}function wI(n=gi()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function hM(n=gi()){return/crios\//i.test(n)}function fM(n=gi()){return/iemobile/i.test(n)}function pM(n=gi()){return/android/i.test(n)}function mM(n=gi()){return/blackberry/i.test(n)}function gM(n=gi()){return/webos/i.test(n)}function Gv(n=gi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vM(n=gi()){return Gv(n)||pM(n)||gM(n)||mM(n)||/windows phone/i.test(n)||fM(n)}function bM(n,t=[]){let e;switch(n){case"Browser":e=EI(gi());break;case"Worker":e=`${EI(gi())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ef}/${r}`}class DL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=c=>new Promise((d,f)=>{try{d(t(c))}catch(m){f(m)}});r.onAbort=e,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,x.A)(function*(){if(e.auth.currentUser===t)return;const r=[];try{for(const i of e.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const c of r)try{c()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function ym(){return(ym=(0,x.A)(function*(n,t={}){return Xn(n,"GET","/v2/passwordPolicy",Rr(n,t))})).apply(this,arguments)}class CI{constructor(t){var e,r,i,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=d.minPasswordLength)&&void 0!==e?e:6,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),void 0!==d.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),void 0!==d.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),void 0!==d.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),void 0!==d.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(c=t.forceUpgradeOnSignin)&&void 0!==c&&c,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,i,c,d,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=null===(e=m.meetsMinPasswordLength)||void 0===e||e),m.isValid&&(m.isValid=null===(r=m.meetsMaxPasswordLength)||void 0===r||r),m.isValid&&(m.isValid=null===(i=m.containsLowercaseLetter)||void 0===i||i),m.isValid&&(m.isValid=null===(c=m.containsUppercaseLetter)||void 0===c||c),m.isValid&&(m.isValid=null===(d=m.containsNumericCharacter)||void 0===d||d),m.isValid&&(m.isValid=null===(f=m.containsNonAlphanumericCharacter)||void 0===f||f),m}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){let r;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class TL{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DI(this),this.idTokenSubscription=new DI(this),this.beforeStateQueue=new DL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){var r=this;return e&&(this._popupRedirectResolver=ol(e)),this._initializationPromise=this.queue((0,x.A)(function*(){var i,c;if(!r._deleted&&(r.persistenceManager=yield uf.create(r,t),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(e),r.lastNotifiedUid=(null===(c=r.currentUser)||void 0===c?void 0:c.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,x.A)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUserFromIdToken(t){var e=this;return(0,x.A)(function*(){try{const r=yield vL(e,{idToken:t}),i=yield Ic._fromGetAccountInfoResponse(e,r,t);yield e.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield e.directlySetCurrentUser(null)}})()}initializeCurrentUser(t){var e=this;return(0,x.A)(function*(){var r;if(ya(e.app)){const f=e.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>e.initializeCurrentUserFromIdToken(f).then(m,m))}):e.directlySetCurrentUser(null)}const i=yield e.assertedPersistence.getCurrentUser();let c=i,d=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const f=null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId,m=c?._redirectEventId,w=yield e.tryRedirectSignIn(t);(!f||f===m)&&w?.user&&(c=w.user,d=!0)}if(!c)return e.directlySetCurrentUser(null);if(!c._redirectEventId){if(d)try{yield e.beforeStateQueue.runMiddleware(c)}catch(f){c=i,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(f))}return c?e.reloadAndSetCurrentUserOrClear(c):e.directlySetCurrentUser(null)}return Wt(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===c._redirectEventId?e.directlySetCurrentUser(c):e.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(t){var e=this;return(0,x.A)(function*(){let r=null;try{r=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,x.A)(function*(){try{yield cf(t)}catch(r){if("auth/network-request-failed"!==r?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function mL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,x.A)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,x.A)(function*(){if(ya(e.app))return Promise.reject(uo(e));const r=t?Bi(t):null;return r&&Wt(r.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(r&&r._clone(e))})()}_updateCurrentUser(t,e=!1){var r=this;return(0,x.A)(function*(){if(!r._deleted)return t&&Wt(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),e||(yield r.beforeStateQueue.runMiddleware(t)),r.queue((0,x.A)(function*(){yield r.directlySetCurrentUser(t),r.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,x.A)(function*(){return ya(t.app)?Promise.reject(uo(t)):(yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0))})()}setPersistence(t){var e=this;return ya(this.app)?Promise.reject(uo(this)):this.queue((0,x.A)(function*(){yield e.assertedPersistence.setPersistence(ol(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return(0,x.A)(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const r=e._getPasswordPolicyInternal();return r.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return(0,x.A)(function*(){const e=yield function EM(n){return ym.apply(this,arguments)}(t),r=new CI(e);null===t.tenantId?t._projectPasswordPolicy=r:t._tenantPasswordPolicies[t.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new td("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}revokeAccessToken(t){var e=this;return(0,x.A)(function*(){if(e.currentUser){const r=yield e.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};null!=e.tenantId&&(i.tenantId=e.tenantId),yield function lM(n,t){return yI.apply(this,arguments)}(e,i)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var r=this;return(0,x.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,x.A)(function*(){if(!e.redirectPersistenceManager){const r=t&&ol(t)||e._popupRedirectResolver;Wt(r,e,"argument-error"),e.redirectPersistenceManager=yield uf.create(e,[ol(r._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,x.A)(function*(){var r,i;return e._isInitialized&&(yield e.queue((0,x.A)(function*(){}))),(null===(r=e._currentUser)||void 0===r?void 0:r._redirectEventId)===t?e._currentUser:(null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,x.A)(function*(){if(t===e.currentUser)return e.queue((0,x.A)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};const c="function"==typeof e?e:e.next.bind(e);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),"function"==typeof e){const m=t.addObserver(e,r,i);return()=>{d=!0,m()}}{const m=t.addObserver(e);return()=>{d=!0,m()}}}directlySetCurrentUser(t){var e=this;return(0,x.A)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,x.A)(function*(){var e;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const c=yield t._getAppCheckToken();return c&&(r["X-Firebase-AppCheck"]=c),r})()}_getAppCheckToken(){var t=this;return(0,x.A)(function*(){var e;const r=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return r?.error&&function fL(n,...t){Bv.logLevel<=qn.WARN&&Bv.warn(`Auth (${ef}): ${n}`,...t)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function si(n){return Bi(n)}class DI{constructor(t){this.auth=t,this.observer=null,this.addObserver=function jF(n,t){const e=new $F(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let df={loadJS:()=>(0,x.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Wv(n){return df.loadJS(n)}function CM(n){return`__${n}${Math.floor(1e6*Math.random())}`}class AI{constructor(t){this.type="recaptcha-enterprise",this.auth=si(t)}verify(t="verify",e=!1){var r=this;return(0,x.A)(function*(){function c(){return c=(0,x.A)(function*(f){if(!e){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var m=(0,x.A)(function*(w,A){lI(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(R=>{if(void 0!==R.recaptchaKey){const U=new nM(R);return null==f.tenantId?f._agentRecaptchaConfig=U:f._tenantRecaptchaConfigs[f.tenantId]=U,w(U.siteKey)}A(new Error("recaptcha Enterprise site key undefined"))}).catch(R=>{A(R)})});return function(w,A){return m.apply(this,arguments)}}())}),c.apply(this,arguments)}function d(f,m,w){const A=window.grecaptcha;tM(A)?A.enterprise.ready(()=>{A.enterprise.execute(f,{action:t}).then(R=>{m(R)}).catch(()=>{m("NO_RECAPTCHA")})}):w(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,m)=>{(function i(f){return c.apply(this,arguments)})(r.auth).then(w=>{if(!e&&tM(window.grecaptcha))d(w,f,m);else{if(typeof window>"u")return void m(new Error("RecaptchaVerifier is only supported in browser"));let A=function wM(){return df.recaptchaEnterpriseScript}();0!==A.length&&(A+=w),Wv(A).then(()=>{d(w,f,m)}).catch(R=>{m(R)})}}).catch(w=>{m(w)})})})()}}function SI(n,t,e){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,x.A)(function*(n,t,e,r=!1){const i=new AI(n);let c;try{c=yield i.verify(e)}catch{c=yield i.verify(e,!0)}const d=Object.assign({},t);return Object.assign(d,r?{captchaResp:c}:{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d})).apply(this,arguments)}function hf(n,t,e,r){return qv.apply(this,arguments)}function qv(){return qv=(0,x.A)(function*(n,t,e,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=yield SI(n,t,e,"getOobCode"===e);return r(n,c)}return r(n,t).catch(function(){var c=(0,x.A)(function*(d){if("auth/missing-recaptcha-token"===d.code){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=yield SI(n,t,e,"getOobCode"===e);return r(n,f)}return Promise.reject(d)});return function(d){return c.apply(this,arguments)}}())}),qv.apply(this,arguments)}function xI(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function MI(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}class ff{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ea("not implemented")}_getIdTokenResponse(t){return Ea("not implemented")}_linkToIdToken(t,e){return Ea("not implemented")}_getReauthenticationResolver(t){return Ea("not implemented")}}function ML(n,t){return OI.apply(this,arguments)}function OI(){return(OI=(0,x.A)(function*(n,t){return Xn(n,"POST","/v1/accounts:signUp",t)})).apply(this,arguments)}function OL(n,t){return PI.apply(this,arguments)}function PI(){return(PI=(0,x.A)(function*(n,t){return Vs(n,"POST","/v1/accounts:signInWithPassword",Rr(n,t))})).apply(this,arguments)}function iy(){return(iy=(0,x.A)(function*(n,t){return Vs(n,"POST","/v1/accounts:signInWithEmailLink",Rr(n,t))})).apply(this,arguments)}function NI(){return(NI=(0,x.A)(function*(n,t){return Vs(n,"POST","/v1/accounts:signInWithEmailLink",Rr(n,t))})).apply(this,arguments)}class ud extends ff{constructor(t,e,r,i=null){super("password",r),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new ud(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new ud(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if(e?.email&&e?.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,x.A)(function*(){switch(e.signInMethod){case"password":return hf(t,{returnSecureToken:!0,email:e._email,password:e._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",OL);case"emailLink":return function NM(n,t){return iy.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:No(t,"internal-error")}})()}_linkToIdToken(t,e){var r=this;return(0,x.A)(function*(){switch(r.signInMethod){case"password":return hf(t,{idToken:e,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ML);case"emailLink":return function kL(n,t){return NI.apply(this,arguments)}(t,{idToken:e,email:r._email,oobCode:r._password});default:No(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function wa(n,t){return bm.apply(this,arguments)}function bm(){return(bm=(0,x.A)(function*(n,t){return Vs(n,"POST","/v1/accounts:signInWithIdp",Rr(n,t))})).apply(this,arguments)}class dd extends ff{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new dd(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):No("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:r,signInMethod:i}=e,c=(0,tI.Tt)(e,["providerId","signInMethod"]);if(!r||!i)return null;const d=new dd(r,i);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){return wa(t,this.buildRequest())}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,wa(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,wa(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=nd(e)}return t}}class Em{constructor(t){var e,r,i,c,d,f;const m=rd(um(t)),w=null!==(e=m.apiKey)&&void 0!==e?e:null,A=null!==(r=m.oobCode)&&void 0!==r?r:null,R=function NL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=m.mode)&&void 0!==i?i:null);Wt(w&&A&&R,"argument-error"),this.apiKey=w,this.operation=R,this.code=A,this.continueUrl=null!==(c=m.continueUrl)&&void 0!==c?c:null,this.languageCode=null!==(d=m.languageCode)&&void 0!==d?d:null,this.tenantId=null!==(f=m.tenantId)&&void 0!==f?f:null}static parseLink(t){const e=function FL(n){const t=rd(um(n)).link,e=t?rd(um(t)).deep_link_id:null,r=rd(um(n)).deep_link_id;return(r?rd(um(r)).link:null)||r||e||t||n}(t);try{return new Em(e)}catch{return null}}}let ly=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,r){return ud._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const i=Em.parseLink(r);return Wt(i,"argument-error"),ud._fromEmailAndCode(e,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Cc{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class uy extends Cc{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}let wm=(()=>{class n extends uy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return dd._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:i}=e;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();function Cm(n,t){return hy.apply(this,arguments)}function hy(){return(hy=(0,x.A)(function*(n,t){return Vs(n,"POST","/v1/accounts:signUp",Rr(n,t))})).apply(this,arguments)}class Zo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,r,i=!1){return(0,x.A)(function*(){const c=yield Ic._fromIdTokenResponse(t,r,i),d=LL(r);return new Zo({user:c,providerId:d,_tokenResponse:r,operationType:e})})()}static _forOperation(t,e,r){return(0,x.A)(function*(){yield t._updateTokensIfNecessary(r,!0);const i=LL(r);return new Zo({user:t,providerId:i,_tokenResponse:r,operationType:e})})()}}function LL(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function fy(){return(fy=(0,x.A)(function*(n){var t;if(ya(n.app))return Promise.reject(uo(n));const e=si(n);if(yield e._initializationPromise,null!==(t=e.currentUser)&&void 0!==t&&t.isAnonymous)return new Zo({user:e.currentUser,providerId:null,operationType:"signIn"});const r=yield Cm(e,{returnSecureToken:!0}),i=yield Zo._fromIdTokenResponse(e,"signIn",r,!0);return yield e._updateCurrentUser(i.user),i})).apply(this,arguments)}class Dm extends gs{constructor(t,e,r,i){var c;super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Dm.prototype),this.customData={appName:t.name,tenantId:null!==(c=t.tenantId)&&void 0!==c?c:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new Dm(t,e,r,i)}}function VI(n,t,e,r){return("reauthenticate"===t?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(c=>{throw"auth/multi-factor-auth-required"===c.code?Dm._fromErrorAndOperation(n,c,t,r):c})}function $I(){return($I=(0,x.A)(function*(n,t,e=!1){const r=yield il(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return Zo._forOperation(n,"link",r)})).apply(this,arguments)}function hd(){return(hd=(0,x.A)(function*(n,t,e=!1){const{auth:r}=n;if(ya(r.app))return Promise.reject(uo(r));const i="reauthenticate";try{const c=yield il(n,VI(r,i,t,n),e);Wt(c.idToken,r,"internal-error");const d=su(c.idToken);Wt(d,r,"internal-error");const{sub:f}=d;return Wt(n.uid===f,r,"user-mismatch"),Zo._forOperation(n,i,c)}catch(c){throw"auth/user-not-found"===c?.code&&No(r,"user-mismatch"),c}})).apply(this,arguments)}function zI(n,t){return my.apply(this,arguments)}function my(){return(my=(0,x.A)(function*(n,t,e=!1){if(ya(n.app))return Promise.reject(uo(n));const r="signIn",i=yield VI(n,r,t),c=yield Zo._fromIdTokenResponse(n,r,i);return e||(yield n._updateCurrentUser(c.user)),c})).apply(this,arguments)}function gy(n,t){return _y.apply(this,arguments)}function _y(){return(_y=(0,x.A)(function*(n,t){return zI(si(n),t)})).apply(this,arguments)}function KI(n){return qI.apply(this,arguments)}function qI(){return(qI=(0,x.A)(function*(n){const t=si(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})).apply(this,arguments)}function ZI(){return(ZI=(0,x.A)(function*(n,t,e){if(ya(n.app))return Promise.reject(uo(n));const r=si(n),d=yield hf(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cm).catch(m=>{throw"auth/password-does-not-meet-requirements"===m.code&&KI(n),m}),f=yield Zo._fromIdTokenResponse(r,"signIn",d);return yield r._updateCurrentUser(f.user),f})).apply(this,arguments)}const Iy="__sak";class iR{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Iy,"1"),this.storage.removeItem(Iy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const ZL=(()=>{class n extends iR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function QL(){const n=gi();return wI(n)||Gv(n)}()&&function yM(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),c=this.localCache[r];i!==c&&e(r,c,i)}}onStorageEvent(e,r=!1){if(!e.key)return void this.forAllChangedKeys((f,m,w)=>{this.notifyListeners(f,w)});const i=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(e.newValue!==f)null!==e.newValue?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!r)return}const c=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},d=this.storage.getItem(i);!function CL(){return function wH(){const n=gi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||d===e.newValue||e.newValue===e.oldValue?c():setTimeout(c,10)}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const c of Array.from(i))c(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,r){var i=()=>super._set,c=this;return(0,x.A)(function*(){yield i().call(c,e,r),c.localCache[e]=JSON.stringify(r)})()}_get(e){var r=()=>super._get,i=this;return(0,x.A)(function*(){const c=yield r().call(i,e);return i.localCache[e]=JSON.stringify(c),c})()}_remove(e){var r=()=>super._remove,i=this;return(0,x.A)(function*(){yield r().call(i,e),delete i.localCache[e]})()}}return n.type="LOCAL",n})(),sR=(()=>{class n extends iR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}return n.type="SESSION",n})();let eV=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(c=>c.isListeningto(e));if(r)return r;const i=new n(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}handleEvent(e){var r=this;return(0,x.A)(function*(){const i=e,{eventId:c,eventType:d,data:f}=i.data,m=r.handlersMap[d];if(!m?.size)return;i.ports[0].postMessage({status:"ack",eventId:c,eventType:d});const w=Array.from(m).map(function(){var R=(0,x.A)(function*(U){return U(i.origin,f)});return function(U){return R.apply(this,arguments)}}()),A=yield function JL(n){return Promise.all(n.map(function(){var t=(0,x.A)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(r){return{fulfilled:!1,reason:r}}});return function(e){return t.apply(this,arguments)}}()))}(w);i.ports[0].postMessage({status:"done",eventId:c,eventType:d,response:A})})()}_subscribe(e,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Cy(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(10*Math.random());return n+e}class tV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,r=50){var i=this;return(0,x.A)(function*(){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,f;return new Promise((m,w)=>{const A=Cy("",20);c.port1.start();const R=setTimeout(()=>{w(new Error("unsupported_event"))},r);f={messageChannel:c,onMessage(U){const K=U;if(K.data.eventId===A)switch(K.data.status){case"ack":clearTimeout(R),d=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),m(K.data.response);break;default:clearTimeout(R),clearTimeout(d),w(new Error("invalid_response"))}}},i.handlers.add(f),c.port1.addEventListener("message",f.onMessage),i.target.postMessage({eventType:t,eventId:A,data:e},[c.port2])}).finally(()=>{f&&i.removeMessageHandler(f)})})()}}function Ui(){return window}function cC(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function lC(){return(lC=(0,x.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cR="firebaseLocalStorageDb",Rm="firebaseLocalStorage",lR="fbase_key";class _f{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function dC(n,t){return n.transaction([Rm],t?"readwrite":"readonly").objectStore(Rm)}function Dy(){const n=indexedDB.open(cR,1);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Rm,{keyPath:lR})}catch(i){e(i)}}),n.addEventListener("success",(0,x.A)(function*(){const r=n.result;r.objectStoreNames.contains(Rm)?t(r):(r.close(),yield function oV(){const n=indexedDB.deleteDatabase(cR);return new _f(n).toPromise()}(),t(yield Dy()))}))})}function hC(n,t,e){return fC.apply(this,arguments)}function fC(){return(fC=(0,x.A)(function*(n,t,e){const r=dC(n,!0).put({[lR]:t,value:e});return new _f(r).toPromise()})).apply(this,arguments)}function pC(){return(pC=(0,x.A)(function*(n,t){const e=dC(n,!1).get(t),r=yield new _f(e).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Ty(n,t){const e=dC(n,!0).delete(t);return new _f(e).toPromise()}const gC=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,x.A)(function*(){return e.db||(e.db=yield Dy()),e.db})()}_withRetries(e){var r=this;return(0,x.A)(function*(){let i=0;for(;;)try{const c=yield r._openDb();return yield e(c)}catch(c){if(i++>3)throw c;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,x.A)(function*(){return cC()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,x.A)(function*(){e.receiver=eV._getInstance(function uC(){return cC()?self:null}()),e.receiver._subscribe("keyChanged",function(){var r=(0,x.A)(function*(i,c){return{keyProcessed:(yield e._poll()).includes(c.key)}});return function(i,c){return r.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var r=(0,x.A)(function*(i,c){return["keyChanged"]});return function(i,c){return r.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,x.A)(function*(){var r,i;if(e.activeServiceWorker=yield function rV(){return lC.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new tV(e.activeServiceWorker);const c=yield e.sender._send("ping",{},800);c&&null!==(r=c[0])&&void 0!==r&&r.fulfilled&&null!==(i=c[0])&&void 0!==i&&i.value.includes("keyChanged")&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var r=this;return(0,x.A)(function*(){if(r.sender&&r.activeServiceWorker&&function aR(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:e},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,x.A)(function*(){try{if(!indexedDB)return!1;const e=yield Dy();return yield hC(e,Iy,"1"),yield Ty(e,Iy),!0}catch{}return!1})()}_withPendingWrite(e){var r=this;return(0,x.A)(function*(){r.pendingWrites++;try{yield e()}finally{r.pendingWrites--}})()}_set(e,r){var i=this;return(0,x.A)(function*(){return i._withPendingWrite((0,x.A)(function*(){return yield i._withRetries(c=>hC(c,e,r)),i.localCache[e]=r,i.notifyServiceWorker(e)}))})()}_get(e){var r=this;return(0,x.A)(function*(){const i=yield r._withRetries(c=>function uR(n,t){return pC.apply(this,arguments)}(c,e));return r.localCache[e]=i,i})()}_remove(e){var r=this;return(0,x.A)(function*(){return r._withPendingWrite((0,x.A)(function*(){return yield r._withRetries(i=>Ty(i,e)),delete r.localCache[e],r.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,x.A)(function*(){const r=yield e._withRetries(d=>{const f=dC(d,!1).getAll();return new _f(f).toPromise()});if(!r)return[];if(0!==e.pendingWrites)return[];const i=[],c=new Set;if(0!==r.length)for(const{fbase_key:d,value:f}of r)c.add(d),JSON.stringify(e.localCache[d])!==JSON.stringify(f)&&(e.notifyListeners(d,f),i.push(d));for(const d of Object.keys(e.localCache))e.localCache[d]&&!c.has(d)&&(e.notifyListeners(d,null),i.push(d));return i})()}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const c of Array.from(i))c(r)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,x.A)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function qa(n,t){return t?ol(t):(Wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}CM("rcb"),new vm(3e4,6e4);class yR extends ff{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return wa(t,this._buildIdpRequest())}_linkToIdToken(t,e){return wa(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function hV(n){return zI(n.auth,new yR(n),n.bypassAuthState)}function ky(n){const{auth:t,user:e}=n;return Wt(e,t,"internal-error"),function HM(n,t){return hd.apply(this,arguments)}(e,new yR(n),n.bypassAuthState)}function fV(n){return bR.apply(this,arguments)}function bR(){return(bR=(0,x.A)(function*(n){const{auth:t,user:e}=n;return Wt(e,t,"internal-error"),function jI(n,t){return $I.apply(this,arguments)}(e,new yR(n),n.bypassAuthState)})).apply(this,arguments)}class pV{constructor(t,e,r,i,c=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,x.A)(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(c){t.reject(c)}});return function(r,i){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,x.A)(function*(){const{urlResponse:r,sessionId:i,postBody:c,tenantId:d,error:f,type:m}=t;if(f)return void e.reject(f);const w={auth:e.auth,requestUri:r,sessionId:i,tenantId:d||void 0,postBody:c||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(m)(w))}catch(A){e.reject(A)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return hV;case"linkViaPopup":case"linkViaRedirect":return fV;case"reauthViaPopup":case"reauthViaRedirect":return ky;default:No(this.auth,"internal-error")}}resolve(t){ou(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ou(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mV=new vm(2e3,1e4);function Py(){return(Py=(0,x.A)(function*(n,t,e){if(ya(n.app))return Promise.reject(wo(n,"operation-not-supported-in-this-environment"));const r=si(n);!function nf(n,t,e){if(!(t instanceof e))throw e.name!==t.constructor.name&&No(n,"argument-error"),nl(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,t,Cc);const i=qa(r,e);return new Fy(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}let Fy=(()=>{class n extends pV{constructor(e,r,i,c,d){super(e,r,c,d),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var e=this;return(0,x.A)(function*(){const r=yield e.execute();return Wt(r,e.auth,"internal-error"),r})()}onExecution(){var e=this;return(0,x.A)(function*(){ou(1===e.filter.length,"Popup operations only handle one event");const r=Cy();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],r),e.authWindow.associatedEvent=r,e.resolver._originValidation(e.auth).catch(i=>{e.reject(i)}),e.resolver._isIframeWebStorageSupported(e.auth,i=>{i||e.reject(wo(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(wo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(wo(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(e,mV.get())};e()}}return n.currentPopupAction=null,n})();const gV="pendingRedirect",gd=new Map;class I3 extends pV{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,x.A)(function*(){let r=gd.get(e.auth._key());if(!r){try{const c=(yield function _V(n,t){return Ly.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;r=()=>Promise.resolve(c)}catch(i){r=()=>Promise.reject(i)}gd.set(e.auth._key(),r)}return e.bypassAuthState||gd.set(e.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,r=this;return(0,x.A)(function*(){if("signInViaRedirect"===t.type)return e().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,e().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,x.A)(function*(){})()}cleanUp(){}}function Ly(){return(Ly=(0,x.A)(function*(n,t){const e=function bV(n){return lf(gV,n.config.apiKey,n.name)}(t),r=function yV(n){return ol(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(e));return yield r._remove(e),i})).apply(this,arguments)}function vV(n,t){gd.set(n._key(),t)}function km(n,t){return EC.apply(this,arguments)}function EC(){return(EC=(0,x.A)(function*(n,t,e=!1){if(ya(n.app))return Promise.reject(uo(n));const r=si(n),i=qa(r,t),d=yield new I3(r,i,e).execute();return d&&!e&&(delete d.user._redirectEventId,yield r._persistUserIfCurrent(d.user),yield r._setRedirectUser(null,t)),d})).apply(this,arguments)}class SR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function wV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $y(n);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!$y(t)){const i=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";e.onError(wo(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jy(t))}saveEventToCache(t){this.cachedEventUids.add(jy(t)),this.lastProcessedEventTime=Date.now()}}function jy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function $y({type:n,error:t}){return"unknown"===n&&"auth/no-auth-event"===t?.code}function Pm(){return(Pm=(0,x.A)(function*(n,t={}){return Xn(n,"GET","/v1/projects",t)})).apply(this,arguments)}const Hy=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T3=/^https?/;function xR(){return xR=(0,x.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:t}=yield function wC(n){return Pm.apply(this,arguments)}(n);for(const e of t)try{if(MR(e))return}catch{}No(n,"unauthorized-domain")}),xR.apply(this,arguments)}function MR(n){const t=rf(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const d=new URL(n);return""===d.hostname&&""===r?"chrome-extension:"===e&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&d.hostname===r}if(!T3.test(e))return!1;if(Hy.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const IV=new vm(3e4,6e4);function RR(){const n=Ui().___jsl;if(n?.H)for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}let zy=null;const kR=new vm(5e3,15e3),PR="__/auth/iframe",DV="emulator/auth/iframe",TV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IC(n){const t=n.config;Wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?sI(t,DV):`https://${n.config.authDomain}/${PR}`,r={apiKey:t.apiKey,appName:n.name,v:ef},i=NR.get(n.config.apiHost);i&&(r.eid=i);const c=n._getFrameworks();return c.length&&(r.fw=c.join(",")),`${e}?${nd(r).slice(1)}`}function Gy(){return Gy=(0,x.A)(function*(n){const t=yield function OR(n){return zy=zy||function CV(n){return new Promise((t,e)=>{var r,i,c;function d(){RR(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{RR(),e(wo(n,"network-request-failed"))},timeout:IV.get()})}if(null!==(i=null===(r=Ui().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(c=Ui().gapi)||void 0===c||!c.load){const f=CM("iframefcb");return Ui()[f]=()=>{gapi.load?d():e(wo(n,"network-request-failed"))},Wv(`${function IM(){return df.gapiScript}()}?onload=${f}`).catch(m=>e(m))}d()}}).catch(t=>{throw zy=null,t})}(n),zy}(n),e=Ui().gapi;return Wt(e,n,"internal-error"),t.open({where:document.body,url:IC(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:TV,dontclear:!0},r=>new Promise(function(){var i=(0,x.A)(function*(c,d){yield r.restyle({setHideOnLeave:!1});const f=wo(n,"network-request-failed"),m=Ui().setTimeout(()=>{d(f)},kR.get());function w(){Ui().clearTimeout(m),c(r)}r.ping(w).then(w,()=>{d(f)})});return function(c,d){return i.apply(this,arguments)}}()))}),Gy.apply(this,arguments)}const CC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xV{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xi="__/auth/handler",Nm="emulator/auth/handler",Wy=encodeURIComponent("fac");function Fm(n,t,e,r,i,c){return Ky.apply(this,arguments)}function Ky(){return(Ky=(0,x.A)(function*(n,t,e,r,i,c){Wt(n.config.authDomain,n,"auth-domain-config-required"),Wt(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:ef,eventId:i};if(t instanceof Cc){t.setDefaultLanguage(n.languageCode),d.providerId=t.providerId||"",function wx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,R]of Object.entries(c||{}))d[A]=R}if(t instanceof uy){const A=t.getScopes().filter(R=>""!==R);A.length>0&&(d.scopes=A.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const A of Object.keys(f))void 0===f[A]&&delete f[A];const m=yield n._getAppCheckToken(),w=m?`#${Wy}=${encodeURIComponent(m)}`:"";return`${function k3({config:n}){return n.emulator?sI(n,Nm):`https://${n.authDomain}/${Xi}`}(n)}?${nd(f).slice(1)}${w}`})).apply(this,arguments)}const DC="webStorageSupport",N3=class P3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sR,this._completeRedirectFn=km,this._overrideRedirectResult=vV}_openPopup(t,e,r,i){var c=this;return(0,x.A)(function*(){var d;ou(null===(d=c.eventManagers[t._key()])||void 0===d?void 0:d.manager,"_initialize() not called before _openPopup()");const f=yield Fm(t,e,r,rf(),i);return function R3(n,t,e,r=500,i=600){const c=Math.max((window.screen.availHeight-i)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},CC),{width:r.toString(),height:i.toString(),top:c,left:d}),w=gi().toLowerCase();e&&(f=hM(w)?"_blank":e),dM(w)&&(t=t||"http://localhost",m.scrollbars="yes");const A=Object.entries(m).reduce((U,[K,pe])=>`${U}${K}=${pe},`,"");if(function _M(n=gi()){var t;return Gv(n)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(w)&&"_self"!==f)return function O3(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}(t||"",f),new xV(null);const R=window.open(t||"",f,A);Wt(R,n,"popup-blocked");try{R.focus()}catch{}return new xV(R)}(t,f,Cy())})()}_openRedirect(t,e,r,i){var c=this;return(0,x.A)(function*(){return yield c._originValidation(t),function nV(n){Ui().location.href=n}(yield Fm(t,e,r,rf(),i)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:c}=this.eventManagers[e];return i?Promise.resolve(i):(ou(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}initAndGetManager(t){var e=this;return(0,x.A)(function*(){const r=yield function S3(n){return Gy.apply(this,arguments)}(t),i=new SR(t);return r.register("authEvent",c=>(Wt(c?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:i},e.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(DC,{type:DC},i=>{var c;const d=null===(c=i?.[0])||void 0===c?void 0:c[DC];void 0!==d&&e(!!d),No(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function A3(n){return xR.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return vM()||wI()||Gv()}};var LR="@firebase/auth";class OV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,x.A)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Zy=Mw("authIdTokenMaxAge")||300;let SC=null;const BR=n=>function(){var t=(0,x.A)(function*(e){const r=e&&(yield e.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Zy)return;const c=r?.token;SC!==c&&(SC=c,yield fetch(n,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))});return function(e){return t.apply(this,arguments)}}();function F3(n=Gx()){const t=gm(n,"auth");if(t.isInitialized())return t.getImmediate();const e=function AM(n,t){const e=gm(n,"auth");if(e.isInitialized()){const i=e.getImmediate();if(Wh(e.getOptions(),t??{}))return i;No(i,"already-initialized")}return e.initialize({options:t})}(n,{popupRedirectResolver:N3,persistence:[gC,ZL,sR]}),r=Mw("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=BR(c.toString());(function tR(n,t,e){Bi(n).beforeAuthStateChanged(t,e)})(e,d,()=>d(e.currentUser)),function f3(n,t,e,r){Bi(n).onIdTokenChanged(t,e,r)}(e,f=>d(f))}}const i=xw("auth");return i&&function xM(n,t,e){const r=si(n);Wt(r._canInitEmulator,r,"emulator-config-failed"),Wt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!e?.disableWarnings,c=xI(t),{host:d,port:f}=function MM(n){const t=xI(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const c=i[1];return{host:c,port:MI(r.substr(c.length+1))}}{const[c,d]=r.split(":");return{host:c,port:MI(d)}}}(t);r.config.emulator={url:`${c}//${d}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function SL(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(e,`http://${i}`),e}(function JH(n){df=n})({loadJS:n=>new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{const c=wo("internal-error");c.customData=i,e(c)},r.type="text/javascript",r.charset="UTF-8",function L3(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Yy(n){Jh(new eu("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=r.options;Wt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bM(n)},w=new TL(r,i,c,m);return function SM(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(ol);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}(w,e),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Jh(new eu("auth-internal",t=>{const e=si(t.getProvider("auth").getImmediate());return new OV(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Wa(LR,"1.7.5",function VR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Wa(LR,"1.7.5","esm2017")}("Browser"),Wa("firebase","10.12.4","app");var du,xC,UR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PV={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(Ve,le,we){we||(we=0);var je=Array(16);if("string"==typeof le)for(var Ke=0;16>Ke;++Ke)je[Ke]=le.charCodeAt(we++)|le.charCodeAt(we++)<<8|le.charCodeAt(we++)<<16|le.charCodeAt(we++)<<24;else for(Ke=0;16>Ke;++Ke)je[Ke]=le[we++]|le[we++]<<8|le[we++]<<16|le[we++]<<24;var it=Ve.g[3],Ce=(le=Ve.g[0])+(it^(we=Ve.g[1])&((Ke=Ve.g[2])^it))+je[0]+3614090360&4294967295;Ce=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=we+(Ce<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^le&(we^Ke))+je[1]+3905402710&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(le^we))+je[2]+606105819&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(le^Ke&(it^le))+je[3]+3250441966&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(it^we&(Ke^it))+je[4]+4118548399&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^le&(we^Ke))+je[5]+1200080426&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(le^we))+je[6]+2821735955&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(le^Ke&(it^le))+je[7]+4249261313&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(it^we&(Ke^it))+je[8]+1770035416&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^le&(we^Ke))+je[9]+2336552879&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(le^we))+je[10]+4294925233&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(le^Ke&(it^le))+je[11]+2304563134&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(it^we&(Ke^it))+je[12]+1804603682&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^le&(we^Ke))+je[13]+4254626195&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(le^we))+je[14]+2792965006&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(le^Ke&(it^le))+je[15]+1236535329&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(Ke^it&(we^Ke))+je[1]+4129170786&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(le^we))+je[6]+3225465664&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^we&(it^le))+je[11]+643717713&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^le&(Ke^it))+je[0]+3921069994&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(Ke^it&(we^Ke))+je[5]+3593408605&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(le^we))+je[10]+38016083&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^we&(it^le))+je[15]+3634488961&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^le&(Ke^it))+je[4]+3889429448&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(Ke^it&(we^Ke))+je[9]+568446438&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(le^we))+je[14]+3275163606&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^we&(it^le))+je[3]+4107603335&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^le&(Ke^it))+je[8]+1163531501&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(Ke^it&(we^Ke))+je[13]+2850285829&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(le^we))+je[2]+4243563512&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^we&(it^le))+je[7]+1735328473&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^le&(Ke^it))+je[12]+2368359562&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(we^Ke^it)+je[5]+4294588738&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(le^we^Ke)+je[8]+2272392833&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^le^we)+je[11]+1839030562&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^le)+je[14]+4259657740&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(we^Ke^it)+je[1]+2763975236&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(le^we^Ke)+je[4]+1272893353&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^le^we)+je[7]+4139469664&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^le)+je[10]+3200236656&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(we^Ke^it)+je[13]+681279174&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(le^we^Ke)+je[0]+3936430074&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^le^we)+je[3]+3572445317&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^le)+je[6]+76029189&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(we^Ke^it)+je[9]+3654602809&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(le^we^Ke)+je[12]+3873151461&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^le^we)+je[15]+530742520&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^le)+je[2]+3299628645&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(Ke^(we|~it))+je[0]+4096336452&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(le|~Ke))+je[7]+1126891415&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(le^(it|~we))+je[14]+2878612391&4294967295)<<15&4294967295|Ce>>>17))+((Ce=we+(it^(Ke|~le))+je[5]+4237533241&4294967295)<<21&4294967295|Ce>>>11))+((Ce=le+(Ke^(we|~it))+je[12]+1700485571&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(le|~Ke))+je[3]+2399980690&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(le^(it|~we))+je[10]+4293915773&4294967295)<<15&4294967295|Ce>>>17))+((Ce=we+(it^(Ke|~le))+je[1]+2240044497&4294967295)<<21&4294967295|Ce>>>11))+((Ce=le+(Ke^(we|~it))+je[8]+1873313359&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(le|~Ke))+je[15]+4264355552&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(le^(it|~we))+je[6]+2734768916&4294967295)<<15&4294967295|Ce>>>17))+((Ce=we+(it^(Ke|~le))+je[13]+1309151649&4294967295)<<21&4294967295|Ce>>>11))+((it=(le=we+((Ce=le+(Ke^(we|~it))+je[4]+4149444226&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(le|~Ke))+je[11]+3174756917&4294967295)<<10&4294967295|Ce>>>22))^((Ke=it+((Ce=Ke+(le^(it|~we))+je[2]+718787259&4294967295)<<15&4294967295|Ce>>>17))|~le))+je[9]+3951481745&4294967295,Ve.g[0]=Ve.g[0]+le&4294967295,Ve.g[1]=Ve.g[1]+(Ke+(Ce<<21&4294967295|Ce>>>11))&4294967295,Ve.g[2]=Ve.g[2]+Ke&4294967295,Ve.g[3]=Ve.g[3]+it&4294967295}function d(Ve,le){this.h=le;for(var we=[],je=!0,Ke=Ve.length-1;0<=Ke;Ke--){var it=0|Ve[Ke];je&&it==le||(we[Ke]=it,je=!1)}this.g=we}(function t(Ve,le){function we(){}we.prototype=le.prototype,Ve.D=le.prototype,Ve.prototype=new we,Ve.prototype.constructor=Ve,Ve.C=function(je,Ke,it){for(var Ce=Array(arguments.length-2),hr=2;hr<arguments.length;hr++)Ce[hr-2]=arguments[hr];return le.prototype[Ke].apply(je,Ce)}})(r,function e(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(Ve,le){void 0===le&&(le=Ve.length);for(var we=le-this.blockSize,je=this.B,Ke=this.h,it=0;it<le;){if(0==Ke)for(;it<=we;)i(this,Ve,it),it+=this.blockSize;if("string"==typeof Ve){for(;it<le;)if(je[Ke++]=Ve.charCodeAt(it++),Ke==this.blockSize){i(this,je),Ke=0;break}}else for(;it<le;)if(je[Ke++]=Ve[it++],Ke==this.blockSize){i(this,je),Ke=0;break}}this.h=Ke,this.o+=le},r.prototype.v=function(){var Ve=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ve[0]=128;for(var le=1;le<Ve.length-8;++le)Ve[le]=0;var we=8*this.o;for(le=Ve.length-8;le<Ve.length;++le)Ve[le]=255&we,we/=256;for(this.u(Ve),Ve=Array(16),le=we=0;4>le;++le)for(var je=0;32>je;je+=8)Ve[we++]=this.g[le]>>>je&255;return Ve};var f={};function m(Ve){return-128<=Ve&&128>Ve?function c(Ve,le){var we=f;return Object.prototype.hasOwnProperty.call(we,Ve)?we[Ve]:we[Ve]=le(Ve)}(Ve,function(le){return new d([0|le],0>le?-1:0)}):new d([0|Ve],0>Ve?-1:0)}function w(Ve){if(isNaN(Ve)||!isFinite(Ve))return R;if(0>Ve)return he(w(-Ve));for(var le=[],we=1,je=0;Ve>=we;je++)le[je]=Ve/we|0,we*=4294967296;return new d(le,0)}var R=m(0),U=m(1),K=m(16777216);function pe(Ve){if(0!=Ve.h)return!1;for(var le=0;le<Ve.g.length;le++)if(0!=Ve.g[le])return!1;return!0}function fe(Ve){return-1==Ve.h}function he(Ve){for(var le=Ve.g.length,we=[],je=0;je<le;je++)we[je]=~Ve.g[je];return new d(we,~Ve.h).add(U)}function ht(Ve,le){return Ve.add(he(le))}function vt(Ve,le){for(;(65535&Ve[le])!=Ve[le];)Ve[le+1]+=Ve[le]>>>16,Ve[le]&=65535,le++}function Et(Ve,le){this.g=Ve,this.h=le}function zt(Ve,le){if(pe(le))throw Error("division by zero");if(pe(Ve))return new Et(R,R);if(fe(Ve))return le=zt(he(Ve),le),new Et(he(le.g),he(le.h));if(fe(le))return le=zt(Ve,he(le)),new Et(he(le.g),le.h);if(30<Ve.g.length){if(fe(Ve)||fe(le))throw Error("slowDivide_ only works with positive integers.");for(var we=U,je=le;0>=je.l(Ve);)we=vn(we),je=vn(je);var Ke=an(we,1),it=an(je,1);for(je=an(je,2),we=an(we,2);!pe(je);){var Ce=it.add(je);0>=Ce.l(Ve)&&(Ke=Ke.add(we),it=Ce),je=an(je,1),we=an(we,1)}return le=ht(Ve,Ke.j(le)),new Et(Ke,le)}for(Ke=R;0<=Ve.l(le);){for(we=Math.max(1,Math.floor(Ve.m()/le.m())),je=48>=(je=Math.ceil(Math.log(we)/Math.LN2))?1:Math.pow(2,je-48),Ce=(it=w(we)).j(le);fe(Ce)||0<Ce.l(Ve);)Ce=(it=w(we-=je)).j(le);pe(it)&&(it=U),Ke=Ke.add(it),Ve=ht(Ve,Ce)}return new Et(Ke,Ve)}function vn(Ve){for(var le=Ve.g.length+1,we=[],je=0;je<le;je++)we[je]=Ve.i(je)<<1|Ve.i(je-1)>>>31;return new d(we,Ve.h)}function an(Ve,le){var we=le>>5;le%=32;for(var je=Ve.g.length-we,Ke=[],it=0;it<je;it++)Ke[it]=0<le?Ve.i(it+we)>>>le|Ve.i(it+we+1)<<32-le:Ve.i(it+we);return new d(Ke,Ve.h)}(n=d.prototype).m=function(){if(fe(this))return-he(this).m();for(var Ve=0,le=1,we=0;we<this.g.length;we++){var je=this.i(we);Ve+=(0<=je?je:4294967296+je)*le,le*=4294967296}return Ve},n.toString=function(Ve){if(2>(Ve=Ve||10)||36<Ve)throw Error("radix out of range: "+Ve);if(pe(this))return"0";if(fe(this))return"-"+he(this).toString(Ve);for(var le=w(Math.pow(Ve,6)),we=this,je="";;){var Ke=zt(we,le).g,it=((0<(we=ht(we,Ke.j(le))).g.length?we.g[0]:we.h)>>>0).toString(Ve);if(pe(we=Ke))return it+je;for(;6>it.length;)it="0"+it;je=it+je}},n.i=function(Ve){return 0>Ve?0:Ve<this.g.length?this.g[Ve]:this.h},n.l=function(Ve){return fe(Ve=ht(this,Ve))?-1:pe(Ve)?0:1},n.abs=function(){return fe(this)?he(this):this},n.add=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0,Ke=0;Ke<=le;Ke++){var it=je+(65535&this.i(Ke))+(65535&Ve.i(Ke)),Ce=(it>>>16)+(this.i(Ke)>>>16)+(Ve.i(Ke)>>>16);je=Ce>>>16,we[Ke]=(Ce&=65535)<<16|(it&=65535)}return new d(we,-2147483648&we[we.length-1]?-1:0)},n.j=function(Ve){if(pe(this)||pe(Ve))return R;if(fe(this))return fe(Ve)?he(this).j(he(Ve)):he(he(this).j(Ve));if(fe(Ve))return he(this.j(he(Ve)));if(0>this.l(K)&&0>Ve.l(K))return w(this.m()*Ve.m());for(var le=this.g.length+Ve.g.length,we=[],je=0;je<2*le;je++)we[je]=0;for(je=0;je<this.g.length;je++)for(var Ke=0;Ke<Ve.g.length;Ke++){var it=this.i(je)>>>16,Ce=65535&this.i(je),hr=Ve.i(Ke)>>>16,ws=65535&Ve.i(Ke);we[2*je+2*Ke]+=Ce*ws,vt(we,2*je+2*Ke),we[2*je+2*Ke+1]+=it*ws,vt(we,2*je+2*Ke+1),we[2*je+2*Ke+1]+=Ce*hr,vt(we,2*je+2*Ke+1),we[2*je+2*Ke+2]+=it*hr,vt(we,2*je+2*Ke+2)}for(je=0;je<le;je++)we[je]=we[2*je+1]<<16|we[2*je];for(je=le;je<2*le;je++)we[je]=0;return new d(we,0)},n.A=function(Ve){return zt(this,Ve).h},n.and=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<le;je++)we[je]=this.i(je)&Ve.i(je);return new d(we,this.h&Ve.h)},n.or=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<le;je++)we[je]=this.i(je)|Ve.i(je);return new d(we,this.h|Ve.h)},n.xor=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<le;je++)we[je]=this.i(je)^Ve.i(je);return new d(we,this.h^Ve.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,xC=PV.Md5=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=w,d.fromString=function A(Ve,le){if(0==Ve.length)throw Error("number format error: empty string");if(2>(le=le||10)||36<le)throw Error("radix out of range: "+le);if("-"==Ve.charAt(0))return he(A(Ve.substring(1),le));if(0<=Ve.indexOf("-"))throw Error('number format error: interior "-" character');for(var we=w(Math.pow(le,8)),je=R,Ke=0;Ke<Ve.length;Ke+=8){var it=Math.min(8,Ve.length-Ke),Ce=parseInt(Ve.substring(Ke,Ke+it),le);8>it?(it=w(Math.pow(le,it)),je=je.j(it).add(w(Ce))):je=(je=je.j(we)).add(w(Ce))}return je},du=PV.Integer=d}).apply(typeof UR<"u"?UR:typeof self<"u"?self:typeof window<"u"?window:{});var NV,FV,Jy,jR,RC,$R,HR,zR,LV,MC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ia={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(_,M,L){return _==Array.prototype||_==Object.prototype||(_[M]=L.value),_},r=function e(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof MC&&MC];for(var M=0;M<_.length;++M){var L=_[M];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}(this);!function i(_,M){if(M)e:{var L=r;_=_.split(".");for(var q=0;q<_.length-1;q++){var at=_[q];if(!(at in L))break e;L=L[at]}(M=M(q=L[_=_[_.length-1]]))!=q&&null!=M&&t(L,_,{configurable:!0,writable:!0,value:M})}}("Array.prototype.values",function(_){return _||function(){return function c(_,M){_ instanceof String&&(_+="");var L=0,q=!1,at={next:function(){if(!q&&L<_.length){var gt=L++;return{value:M(gt,_[gt]),done:!1}}return q=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}(this,function(M,L){return L})}});var d=d||{},f=this||self;function m(_){var M=typeof _;return"array"==(M="object"!=M?M:_?Array.isArray(_)?"array":M:"null")||"object"==M&&"number"==typeof _.length}function w(_){var M=typeof _;return"object"==M&&null!=_||"function"==M}function A(_,M,L){return _.call.apply(_.bind,arguments)}function R(_,M,L){if(!_)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,q),_.apply(M,at)}}return function(){return _.apply(M,arguments)}}function U(_,M,L){return(U=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?A:R).apply(null,arguments)}function K(_,M){var L=Array.prototype.slice.call(arguments,1);return function(){var q=L.slice();return q.push.apply(q,arguments),_.apply(this,q)}}function pe(_,M){function L(){}L.prototype=M.prototype,_.aa=M.prototype,_.prototype=new L,_.prototype.constructor=_,_.Qb=function(q,at,gt){for(var Yt=Array(arguments.length-2),Kr=2;Kr<arguments.length;Kr++)Yt[Kr-2]=arguments[Kr];return M.prototype[at].apply(q,Yt)}}function fe(_){const M=_.length;if(0<M){const L=Array(M);for(let q=0;q<M;q++)L[q]=_[q];return L}return[]}function he(_,M){for(let L=1;L<arguments.length;L++){const q=arguments[L];if(m(q)){const at=_.length||0,gt=q.length||0;_.length=at+gt;for(let Yt=0;Yt<gt;Yt++)_[at+Yt]=q[Yt]}else _.push(q)}}function vt(_){return/^[\s\xa0]*$/.test(_)}function Et(){var _=f.navigator;return _&&(_=_.userAgent)?_:""}function zt(_){return zt[" "](_),_}zt[" "]=function(){};var vn=!(-1==Et().indexOf("Gecko")||-1!=Et().toLowerCase().indexOf("webkit")&&-1==Et().indexOf("Edge")||-1!=Et().indexOf("Trident")||-1!=Et().indexOf("MSIE")||-1!=Et().indexOf("Edge"));function an(_,M,L){for(const q in _)M.call(L,_[q],q,_)}function le(_){const M={};for(const L in _)M[L]=_[L];return M}const we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(_,M){let L,q;for(let at=1;at<arguments.length;at++){for(L in q=arguments[at],q)_[L]=q[L];for(let gt=0;gt<we.length;gt++)L=we[gt],Object.prototype.hasOwnProperty.call(q,L)&&(_[L]=q[L])}}function Ke(_){var M=1;_=_.split(":");const L=[];for(;0<M&&_.length;)L.push(_.shift()),M--;return _.length&&L.push(_.join(":")),L}function it(_){f.setTimeout(()=>{throw _},0)}function Ce(){var _=$i;let M=null;return _.g&&(M=_.g,_.g=_.g.next,_.g||(_.h=null),M.next=null),M}var ws=new class ht{constructor(M,L){this.i=M,this.j=L,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}(()=>new rs,_=>_.reset());class rs{constructor(){this.next=this.g=this.h=null}set(M,L){this.h=M,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let eo,Jr=!1,$i=new class hr{constructor(){this.h=this.g=null}add(M,L){const q=ws.get();q.set(M,L),this.h?this.h.next=q:this.g=q,this.h=q}},Bo=()=>{const _=f.Promise.resolve(void 0);eo=()=>{_.then(Ws)}};var Ws=()=>{for(var _;_=Ce();){try{_.h.call(_.g)}catch(L){it(L)}var M=ws;M.j(_),100>M.h&&(M.h++,_.next=M.g,M.g=_)}Jr=!1};function lr(){this.s=this.s,this.C=this.C}function ei(_,M){this.type=_,this.g=this.target=M,this.defaultPrevented=!1}lr.prototype.s=!1,lr.prototype.ma=function(){this.s||(this.s=!0,this.N())},lr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ei.prototype.h=function(){this.defaultPrevented=!0};var Gk=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var _=!1,M=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const L=()=>{};f.addEventListener("test",L,M),f.removeEventListener("test",L,M)}catch{}return _}();function BD(_,M){if(ei.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var L=this.type=_.type,q=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=M,M=_.relatedTarget){if(vn){e:{try{zt(M.nodeName);var at=!0;break e}catch{}at=!1}at||(M=null)}}else"mouseover"==L?M=_.fromElement:"mouseout"==L&&(M=_.toElement);this.relatedTarget=M,q?(this.clientX=void 0!==q.clientX?q.clientX:q.pageX,this.clientY=void 0!==q.clientY?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:Une[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&BD.aa.h.call(this)}}pe(BD,ei);var Une={2:"touch",3:"pen",4:"mouse"};BD.prototype.h=function(){BD.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var UD="closure_listenable_"+(1e6*Math.random()|0),jne=0;function $ne(_,M,L,q,at){this.listener=_,this.proxy=null,this.src=M,this.type=L,this.capture=!!q,this.ha=at,this.key=++jne,this.da=this.fa=!1}function Wk(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Kk(_){this.src=_,this.g={},this.h=0}function Oj(_,M){var L=M.type;if(L in _.g){var gt,q=_.g[L],at=Array.prototype.indexOf.call(q,M,void 0);(gt=0<=at)&&Array.prototype.splice.call(q,at,1),gt&&(Wk(M),0==_.g[L].length&&(delete _.g[L],_.h--))}}function kj(_,M,L,q){for(var at=0;at<_.length;++at){var gt=_[at];if(!gt.da&&gt.listener==M&&gt.capture==!!L&&gt.ha==q)return at}return-1}Kk.prototype.add=function(_,M,L,q,at){var gt=_.toString();(_=this.g[gt])||(_=this.g[gt]=[],this.h++);var Yt=kj(_,M,q,at);return-1<Yt?(M=_[Yt],L||(M.fa=!1)):((M=new $ne(M,this.src,gt,!!q,at)).fa=L,_.push(M)),M};var Pj="closure_lm_"+(1e6*Math.random()|0),Nj={};function sK(_,M,L,q,at){if(q&&q.once)return cK(_,M,L,q,at);if(Array.isArray(M)){for(var gt=0;gt<M.length;gt++)sK(_,M[gt],L,q,at);return null}return L=Bj(L),_&&_[UD]?_.K(M,L,w(q)?!!q.capture:!!q,at):aK(_,M,L,!1,q,at)}function aK(_,M,L,q,at,gt){if(!M)throw Error("Invalid event type");var Yt=w(at)?!!at.capture:!!at,Kr=Lj(_);if(Kr||(_[Pj]=Kr=new Kk(_)),(L=Kr.add(M,L,q,Yt,gt)).proxy)return L;if(q=function Hne(){const M=zne;return function _(L){return M.call(_.src,_.listener,L)}}(),L.proxy=q,q.src=_,q.listener=L,_.addEventListener)Gk||(at=Yt),void 0===at&&(at=!1),_.addEventListener(M.toString(),q,at);else if(_.attachEvent)_.attachEvent(uK(M.toString()),q);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(q)}return L}function cK(_,M,L,q,at){if(Array.isArray(M)){for(var gt=0;gt<M.length;gt++)cK(_,M[gt],L,q,at);return null}return L=Bj(L),_&&_[UD]?_.L(M,L,w(q)?!!q.capture:!!q,at):aK(_,M,L,!0,q,at)}function lK(_,M,L,q,at){if(Array.isArray(M))for(var gt=0;gt<M.length;gt++)lK(_,M[gt],L,q,at);else q=w(q)?!!q.capture:!!q,L=Bj(L),_&&_[UD]?(_=_.i,(M=String(M).toString())in _.g&&-1<(L=kj(gt=_.g[M],L,q,at))&&(Wk(gt[L]),Array.prototype.splice.call(gt,L,1),0==gt.length&&(delete _.g[M],_.h--))):_&&(_=Lj(_))&&(M=_.g[M.toString()],_=-1,M&&(_=kj(M,L,q,at)),(L=-1<_?M[_]:null)&&Fj(L))}function Fj(_){if("number"!=typeof _&&_&&!_.da){var M=_.src;if(M&&M[UD])Oj(M.i,_);else{var L=_.type,q=_.proxy;M.removeEventListener?M.removeEventListener(L,q,_.capture):M.detachEvent?M.detachEvent(uK(L),q):M.addListener&&M.removeListener&&M.removeListener(q),(L=Lj(M))?(Oj(L,_),0==L.h&&(L.src=null,M[Pj]=null)):Wk(_)}}}function uK(_){return _ in Nj?Nj[_]:Nj[_]="on"+_}function zne(_,M){if(_.da)_=!0;else{M=new BD(M,this);var L=_.listener,q=_.ha||_.src;_.fa&&Fj(_),_=L.call(q,M)}return _}function Lj(_){return(_=_[Pj])instanceof Kk?_:null}var Vj="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bj(_){return"function"==typeof _?_:(_[Vj]||(_[Vj]=function(M){return _.handleEvent(M)}),_[Vj])}function Is(){lr.call(this),this.i=new Kk(this),this.M=this,this.F=null}function Ks(_,M){var L,q=_.F;if(q)for(L=[];q;q=q.F)L.push(q);if(_=_.M,q=M.type||M,"string"==typeof M)M=new ei(M,_);else if(M instanceof ei)M.target=M.target||_;else{var at=M;je(M=new ei(q,_),at)}if(at=!0,L)for(var gt=L.length-1;0<=gt;gt--){var Yt=M.g=L[gt];at=qk(Yt,q,!0,M)&&at}if(at=qk(Yt=M.g=_,q,!0,M)&&at,at=qk(Yt,q,!1,M)&&at,L)for(gt=0;gt<L.length;gt++)at=qk(Yt=M.g=L[gt],q,!1,M)&&at}function qk(_,M,L,q){if(!(M=_.i.g[String(M)]))return!0;M=M.concat();for(var at=!0,gt=0;gt<M.length;++gt){var Yt=M[gt];if(Yt&&!Yt.da&&Yt.capture==L){var Kr=Yt.listener,is=Yt.ha||Yt.src;Yt.fa&&Oj(_.i,Yt),at=!1!==Kr.call(is,q)&&at}}return at&&!q.defaultPrevented}function dK(_,M,L){if("function"==typeof _)L&&(_=U(_,L));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=U(_.handleEvent,_)}return 2147483647<Number(M)?-1:f.setTimeout(_,M||0)}function hK(_){_.g=dK(()=>{_.g=null,_.i&&(_.i=!1,hK(_))},_.l);const M=_.h;_.h=null,_.m.apply(null,M)}pe(Is,lr),Is.prototype[UD]=!0,Is.prototype.removeEventListener=function(_,M,L,q){lK(this,_,M,L,q)},Is.prototype.N=function(){if(Is.aa.N.call(this),this.i){var M,_=this.i;for(M in _.g){for(var L=_.g[M],q=0;q<L.length;q++)Wk(L[q]);delete _.g[M],_.h--}}this.F=null},Is.prototype.K=function(_,M,L,q){return this.i.add(String(_),M,!1,L,q)},Is.prototype.L=function(_,M,L,q){return this.i.add(String(_),M,!0,L,q)};class Gne extends lr{constructor(M,L){super(),this.m=M,this.l=L,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:hK(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jD(_){lr.call(this),this.h=_,this.g={}}pe(jD,lr);var fK=[];function pK(_){an(_.g,function(M,L){this.g.hasOwnProperty(L)&&Fj(M)},_),_.g={}}jD.prototype.N=function(){jD.aa.N.call(this),pK(this)},jD.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uj=f.JSON.stringify,Wne=f.JSON.parse,Kne=class{stringify(_){return f.JSON.stringify(_,void 0)}parse(_){return f.JSON.parse(_,void 0)}};function jj(){}function gK(){}jj.prototype.h=null;var $D={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $j(){ei.call(this,"d")}function Hj(){ei.call(this,"c")}pe($j,ei),pe(Hj,ei);var pg={},_K=null;function Xk(){return _K=_K||new Is}function vK(_){ei.call(this,pg.La,_)}function HD(_){const M=Xk();Ks(M,new vK(M))}function yK(_,M){ei.call(this,pg.STAT_EVENT,_),this.stat=M}function qs(_){const M=Xk();Ks(M,new yK(M,_))}function bK(_,M){ei.call(this,pg.Ma,_),this.size=M}function zD(_,M){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){_()},M)}function GD(){this.g=!0}function Wb(_,M,L,q){_.info(function(){return"XMLHTTP TEXT ("+M+"): "+function Yne(_,M){if(!_.g)return M;if(!M)return null;try{var L=JSON.parse(M);if(L)for(_=0;_<L.length;_++)if(Array.isArray(L[_])){var q=L[_];if(!(2>q.length)){var at=q[1];if(Array.isArray(at)&&!(1>at.length)){var gt=at[0];if("noop"!=gt&&"stop"!=gt&&"close"!=gt)for(var Yt=1;Yt<at.length;Yt++)at[Yt]=""}}}return Uj(L)}catch{return M}}(_,L)+(q?" "+q:"")})}pg.La="serverreachability",pe(vK,ei),pg.STAT_EVENT="statevent",pe(yK,ei),pg.Ma="timingevent",pe(bK,ei),GD.prototype.xa=function(){this.g=!1},GD.prototype.info=function(){};var zj,Qk={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},EK={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Yk(){}function Ff(_,M,L,q){this.j=_,this.i=M,this.l=L,this.R=q||1,this.U=new jD(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wK}function wK(){this.i=null,this.g="",this.h=!1}pe(Yk,jj),Yk.prototype.g=function(){return new XMLHttpRequest},Yk.prototype.i=function(){return{}},zj=new Yk;var IK={},Gj={};function Wj(_,M,L){_.L=1,_.v=tP(kd(M)),_.m=L,_.P=!0,CK(_,null)}function CK(_,M){_.F=Date.now(),Zk(_),_.A=kd(_.v);var L=_.A,q=_.R;Array.isArray(q)||(q=[String(q)]),VK(L.i,"t",q),_.C=0,L=_.j.J,_.h=new wK,_.g=n9(_.j,L?M:null,!_.m),0<_.O&&(_.M=new Gne(U(_.Y,_,_.g),_.O)),M=_.U,L=_.g,q=_.ca;var at="readystatechange";Array.isArray(at)||(at&&(fK[0]=at.toString()),at=fK);for(var gt=0;gt<at.length;gt++){var Yt=sK(L,at[gt],q||M.handleEvent,!1,M.h||M);if(!Yt)break;M.g[Yt.key]=Yt}M=_.H?le(_.H):{},_.m?(_.u||(_.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,M)):(_.u="GET",_.g.ea(_.A,_.u,null,M)),HD(),function qne(_,M,L,q,at,gt){_.info(function(){if(_.g)if(gt)for(var Yt="",Kr=gt.split("&"),is=0;is<Kr.length;is++){var Dr=Kr[is].split("=");if(1<Dr.length){var Cs=Dr[0];Dr=Dr[1];var Ds=Cs.split("_");Yt=2<=Ds.length&&"type"==Ds[1]?Yt+(Cs+"=")+Dr+"&":Yt+(Cs+"=redacted&")}}else Yt=null;else Yt=gt;return"XMLHTTP REQ ("+q+") [attempt "+at+"]: "+M+"\n"+L+"\n"+Yt})}(_.i,_.u,_.A,_.l,_.R,_.m)}function DK(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function Zne(_,M){var L=_.C,q=M.indexOf("\n",L);return-1==q?Gj:(L=Number(M.substring(L,q)),isNaN(L)?IK:(q+=1)+L>M.length?Gj:(M=M.slice(q,q+L),_.C=q+L,M))}function Zk(_){_.S=Date.now()+_.I,TK(_,_.I)}function TK(_,M){if(null!=_.B)throw Error("WatchDog timer not null");_.B=zD(U(_.ba,_),M)}function Kj(_){_.B&&(f.clearTimeout(_.B),_.B=null)}function WD(_){0==_.j.G||_.J||ZK(_.j,_)}function mg(_){Kj(_);var M=_.M;M&&"function"==typeof M.ma&&M.ma(),_.M=null,pK(_.U),_.g&&(M=_.g,_.g=null,M.abort(),M.ma())}function qj(_,M){try{var L=_.j;if(0!=L.G&&(L.g==_||Xj(L.h,_)))if(!_.K&&Xj(L.h,_)&&3==L.G){try{var q=L.Da.g.parse(M)}catch{q=null}if(Array.isArray(q)&&3==q.length){var at=q;if(0==at[0]){e:if(!L.u){if(L.g){if(!(L.g.F+3e3<_.F))break e;sP(L),iP(L)}Jj(L),qs(18)}}else L.za=at[1],0<L.za-L.T&&37500>at[2]&&L.F&&0==L.v&&!L.C&&(L.C=zD(U(L.Za,L),6e3));if(1>=xK(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else _g(L,11)}else if((_.K||L.g==_)&&sP(L),!vt(M))for(at=L.Da.g.parse(M),M=0;M<at.length;M++){let Dr=at[M];if(L.T=Dr[0],Dr=Dr[1],2==L.G)if("c"==Dr[0]){L.K=Dr[1],L.ia=Dr[2];const Cs=Dr[3];null!=Cs&&(L.la=Cs,L.j.info("VER="+L.la));const Ds=Dr[4];null!=Ds&&(L.Aa=Ds,L.j.info("SVER="+L.Aa));const Xb=Dr[5];null!=Xb&&"number"==typeof Xb&&0<Xb&&(L.L=q=1.5*Xb,L.j.info("backChannelRequestTimeoutMs_="+q)),q=L;const fl=_.g;if(fl){const cP=fl.g?fl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(cP){var gt=q.h;gt.g||-1==cP.indexOf("spdy")&&-1==cP.indexOf("quic")&&-1==cP.indexOf("h2")||(gt.j=gt.l,gt.g=new Set,gt.h&&(Qj(gt,gt.h),gt.h=null))}if(q.D){const t$=fl.g?fl.g.getResponseHeader("X-HTTP-Session-Id"):null;t$&&(q.ya=t$,li(q.I,q.D,t$))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-_.F,L.j.info("Handshake RTT: "+L.R+"ms"));var Yt=_;if((q=L).qa=t9(q,q.J?q.ia:null,q.W),Yt.K){MK(q.h,Yt);var Kr=Yt,is=q.L;is&&(Kr.I=is),Kr.B&&(Kj(Kr),Zk(Kr)),q.g=Yt}else QK(q);0<L.i.length&&oP(L)}else"stop"!=Dr[0]&&"close"!=Dr[0]||_g(L,7);else 3==L.G&&("stop"==Dr[0]||"close"==Dr[0]?"stop"==Dr[0]?_g(L,7):Zj(L):"noop"!=Dr[0]&&L.l&&L.l.ta(Dr),L.v=0)}HD()}catch{}}Ff.prototype.ca=function(_){_=_.target;const M=this.M;M&&3==Pd(_)?M.j():this.Y(_)},Ff.prototype.Y=function(_){try{if(_==this.g)e:{const Ds=Pd(this.g);var M=this.g.Ba();if(this.g.Z(),!(3>Ds)&&(3!=Ds||this.g&&(this.h.h||this.g.oa()||GK(this.g)))){this.J||4!=Ds||7==M||HD(),Kj(this);var L=this.g.Z();this.X=L;t:if(DK(this)){var q=GK(this.g);_="";var at=q.length,gt=4==Pd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mg(this),WD(this);var Yt="";break t}this.h.i=new f.TextDecoder}for(M=0;M<at;M++)this.h.h=!0,_+=this.h.i.decode(q[M],{stream:!(gt&&M==at-1)});q.length=0,this.h.g+=_,this.C=0,Yt=this.h.g}else Yt=this.g.oa();if(this.o=200==L,function Xne(_,M,L,q,at,gt,Yt){_.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+at+"]: "+M+"\n"+L+"\n"+gt+" "+Yt})}(this.i,this.u,this.A,this.l,this.R,Ds,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Kr,is=this.g;if((Kr=is.g?is.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(Kr)){var Dr=Kr;break t}}Dr=null}if(!(L=Dr)){this.o=!1,this.s=3,qs(12),mg(this),WD(this);break e}Wb(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qj(this,L)}if(this.P){let fl;for(L=!0;!this.J&&this.C<Yt.length;){if(fl=Zne(this,Yt),fl==Gj){4==Ds&&(this.s=4,qs(14),L=!1),Wb(this.i,this.l,null,"[Incomplete Response]");break}if(fl==IK){this.s=4,qs(15),Wb(this.i,this.l,Yt,"[Invalid Chunk]"),L=!1;break}Wb(this.i,this.l,fl,null),qj(this,fl)}if(DK(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ds||0!=Yt.length||this.h.h||(this.s=1,qs(16),L=!1),this.o=this.o&&L,L){if(0<Yt.length&&!this.W){this.W=!0;var Cs=this.j;Cs.g==this&&Cs.ba&&!Cs.M&&(Cs.j.info("Great, no buffering proxy detected. Bytes received: "+Yt.length),e$(Cs),Cs.M=!0,qs(11))}}else Wb(this.i,this.l,Yt,"[Invalid Chunked Response]"),mg(this),WD(this)}else Wb(this.i,this.l,Yt,null),qj(this,Yt);4==Ds&&mg(this),this.o&&!this.J&&(4==Ds?ZK(this.j,this):(this.o=!1,Zk(this)))}else(function mre(_){const M={};_=(_.g&&2<=Pd(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let q=0;q<_.length;q++){if(vt(_[q]))continue;var L=Ke(_[q]);const at=L[0];if("string"!=typeof(L=L[1]))continue;L=L.trim();const gt=M[at]||[];M[at]=gt,gt.push(L)}!function Ve(_,M){for(const L in _)M.call(void 0,_[L],L,_)}(M,function(q){return q.join(", ")})})(this.g),400==L&&0<Yt.indexOf("Unknown SID")?(this.s=3,qs(12)):(this.s=0,qs(13)),mg(this),WD(this)}}}catch{}},Ff.prototype.cancel=function(){this.J=!0,mg(this)},Ff.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function Qne(_,M){_.info(function(){return"TIMEOUT: "+M})}(this.i,this.A),2!=this.L&&(HD(),qs(17)),mg(this),this.s=2,WD(this)):TK(this,this.S-_)};var Jne=class{constructor(_,M){this.g=_,this.map=M}};function AK(_){this.l=_||10,_=f.PerformanceNavigationTiming?0<(_=f.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function SK(_){return!!_.h||!!_.g&&_.g.size>=_.j}function xK(_){return _.h?1:_.g?_.g.size:0}function Xj(_,M){return _.h?_.h==M:!!_.g&&_.g.has(M)}function Qj(_,M){_.g?_.g.add(M):_.h=M}function MK(_,M){_.h&&_.h==M?_.h=null:_.g&&_.g.has(M)&&_.g.delete(M)}function RK(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let M=_.i;for(const L of _.g.values())M=M.concat(L.D);return M}return fe(_.i)}function OK(_,M){if(_.forEach&&"function"==typeof _.forEach)_.forEach(M,void 0);else if(m(_)||"string"==typeof _)Array.prototype.forEach.call(_,M,void 0);else for(var L=function tre(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(m(_)||"string"==typeof _){var M=[];_=_.length;for(var L=0;L<_;L++)M.push(L);return M}M=[],L=0;for(const q in _)M[L++]=q;return M}}}(_),q=function ere(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(m(_)){for(var M=[],L=_.length,q=0;q<L;q++)M.push(_[q]);return M}for(q in M=[],L=0,_)M[L++]=_[q];return M}(_),at=q.length,gt=0;gt<at;gt++)M.call(void 0,q[gt],L&&L[gt],_)}AK.prototype.cancel=function(){if(this.i=RK(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var kK=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gg(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof gg){this.h=_.h,Jk(this,_.j),this.o=_.o,this.g=_.g,eP(this,_.s),this.l=_.l;var M=_.i,L=new XD;L.i=M.i,M.g&&(L.g=new Map(M.g),L.h=M.h),PK(this,L),this.m=_.m}else _&&(M=String(_).match(kK))?(this.h=!1,Jk(this,M[1]||"",!0),this.o=KD(M[2]||""),this.g=KD(M[3]||"",!0),eP(this,M[4]),this.l=KD(M[5]||"",!0),PK(this,M[6]||"",!0),this.m=KD(M[7]||"")):(this.h=!1,this.i=new XD(null,this.h))}function kd(_){return new gg(_)}function Jk(_,M,L){_.j=L?KD(M,!0):M,_.j&&(_.j=_.j.replace(/:$/,""))}function eP(_,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);_.s=M}else _.s=null}function PK(_,M,L){M instanceof XD?(_.i=M,function cre(_,M){M&&!_.j&&(Lf(_),_.i=null,_.g.forEach(function(L,q){var at=q.toLowerCase();q!=at&&(FK(this,q),VK(this,at,L))},_)),_.j=M}(_.i,_.h)):(L||(M=qD(M,sre)),_.i=new XD(M,_.h))}function li(_,M,L){_.i.set(M,L)}function tP(_){return li(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function KD(_,M){return _?M?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function qD(_,M,L){return"string"==typeof _?(_=encodeURI(_).replace(M,rre),L&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function rre(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}gg.prototype.toString=function(){var _=[],M=this.j;M&&_.push(qD(M,NK,!0),":");var L=this.g;return(L||"file"==M)&&(_.push("//"),(M=this.o)&&_.push(qD(M,NK,!0),"@"),_.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(L=this.s)&&_.push(":",String(L))),(L=this.l)&&(this.g&&"/"!=L.charAt(0)&&_.push("/"),_.push(qD(L,"/"==L.charAt(0)?ore:ire,!0))),(L=this.i.toString())&&_.push("?",L),(L=this.m)&&_.push("#",qD(L,are)),_.join("")};var NK=/[#\/\?@]/g,ire=/[#\?:]/g,ore=/[#\?]/g,sre=/[#\?@]/g,are=/#/g;function XD(_,M){this.h=this.g=null,this.i=_||null,this.j=!!M}function Lf(_){_.g||(_.g=new Map,_.h=0,_.i&&function nre(_,M){if(_){_=_.split("&");for(var L=0;L<_.length;L++){var q=_[L].indexOf("="),at=null;if(0<=q){var gt=_[L].substring(0,q);at=_[L].substring(q+1)}else gt=_[L];M(gt,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}(_.i,function(M,L){_.add(decodeURIComponent(M.replace(/\+/g," ")),L)}))}function FK(_,M){Lf(_),M=Kb(_,M),_.g.has(M)&&(_.i=null,_.h-=_.g.get(M).length,_.g.delete(M))}function LK(_,M){return Lf(_),M=Kb(_,M),_.g.has(M)}function VK(_,M,L){FK(_,M),0<L.length&&(_.i=null,_.g.set(Kb(_,M),fe(L)),_.h+=L.length)}function Kb(_,M){return M=String(M),_.j&&(M=M.toLowerCase()),M}function Vf(_,M,L,q,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),q(L)}catch{}}function dre(){this.g=new Kne}function hre(_,M,L){const q=L||"";try{OK(_,function(at,gt){let Yt=at;w(at)&&(Yt=Uj(at)),M.push(q+gt+"="+encodeURIComponent(Yt))})}catch(at){throw M.push(q+"type="+encodeURIComponent("_badmap")),at}}function QD(_){this.l=_.Ub||null,this.j=_.eb||!1}function nP(_,M){Is.call(this),this.D=_,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function BK(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function YD(_){_.readyState=4,_.l=null,_.j=null,_.v=null,ZD(_)}function ZD(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function UK(_){let M="";return an(_,function(L,q){M+=q,M+=":",M+=L,M+="\r\n"}),M}function Yj(_,M,L){e:{for(q in L){var q=!1;break e}q=!0}q||(L=UK(L),"string"==typeof _?null!=L&&encodeURIComponent(String(L)):li(_,M,L))}function Hi(_){Is.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=XD.prototype).add=function(_,M){Lf(this),this.i=null,_=Kb(this,_);var L=this.g.get(_);return L||this.g.set(_,L=[]),L.push(M),this.h+=1,this},n.forEach=function(_,M){Lf(this),this.g.forEach(function(L,q){L.forEach(function(at){_.call(M,at,q,this)},this)},this)},n.na=function(){Lf(this);const _=Array.from(this.g.values()),M=Array.from(this.g.keys()),L=[];for(let q=0;q<M.length;q++){const at=_[q];for(let gt=0;gt<at.length;gt++)L.push(M[q])}return L},n.V=function(_){Lf(this);let M=[];if("string"==typeof _)LK(this,_)&&(M=M.concat(this.g.get(Kb(this,_))));else{_=Array.from(this.g.values());for(let L=0;L<_.length;L++)M=M.concat(_[L])}return M},n.set=function(_,M){return Lf(this),this.i=null,LK(this,_=Kb(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[M]),this.h+=1,this},n.get=function(_,M){return _&&0<(_=this.V(_)).length?String(_[0]):M},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],M=Array.from(this.g.keys());for(var L=0;L<M.length;L++){var q=M[L];const gt=encodeURIComponent(String(q)),Yt=this.V(q);for(q=0;q<Yt.length;q++){var at=gt;""!==Yt[q]&&(at+="="+encodeURIComponent(String(Yt[q]))),_.push(at)}}return this.i=_.join("&")},pe(QD,jj),QD.prototype.g=function(){return new nP(this.l,this.j)},QD.prototype.i=function(_){return function(){return _}}({}),pe(nP,Is),(n=nP.prototype).open=function(_,M){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=M,this.readyState=1,ZD(this)},n.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(M.body=_),(this.D||f).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,YD(this)),this.readyState=0},n.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,ZD(this)),this.g&&(this.readyState=3,ZD(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;BK(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var M=_.value?_.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!_.done}))&&(this.response=this.responseText+=M)}_.done?YD(this):ZD(this),3==this.readyState&&BK(this)}},n.Ra=function(_){this.g&&(this.response=this.responseText=_,YD(this))},n.Qa=function(_){this.g&&(this.response=_,YD(this))},n.ga=function(){this.g&&YD(this)},n.setRequestHeader=function(_,M){this.u.append(_,M)},n.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],M=this.h.entries();for(var L=M.next();!L.done;)_.push((L=L.value)[0]+": "+L[1]),L=M.next();return _.join("\r\n")},Object.defineProperty(nP.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),pe(Hi,Is);var fre=/^https?$/i,pre=["POST","PUT"];function jK(_,M){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=M,_.m=5,$K(_),rP(_)}function $K(_){_.A||(_.A=!0,Ks(_,"complete"),Ks(_,"error"))}function HK(_){if(_.h&&typeof d<"u"&&(!_.v[1]||4!=Pd(_)||2!=_.Z()))if(_.u&&4==Pd(_))dK(_.Ea,0,_);else if(Ks(_,"readystatechange"),4==Pd(_)){_.h=!1;try{const Yt=_.Z();e:switch(Yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var L;if(!(L=M)){var q;if(q=0===Yt){var at=String(_.D).match(kK)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),q=!fre.test(at?at.toLowerCase():"")}L=q}if(L)Ks(_,"complete"),Ks(_,"success");else{_.m=6;try{var gt=2<Pd(_)?_.g.statusText:""}catch{gt=""}_.l=gt+" ["+_.Z()+"]",$K(_)}}finally{rP(_)}}}function rP(_,M){if(_.g){zK(_);const L=_.g,q=_.v[0]?()=>{}:null;_.g=null,_.v=null,M||Ks(_,"ready");try{L.onreadystatechange=q}catch{}}}function zK(_){_.I&&(f.clearTimeout(_.I),_.I=null)}function Pd(_){return _.g?_.g.readyState:0}function GK(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function JD(_,M,L){return L&&L.internalChannelParams&&L.internalChannelParams[_]||M}function WK(_){this.Aa=0,this.i=[],this.j=new GD,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=JD("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=JD("baseRetryDelayMs",5e3,_),this.cb=JD("retryDelaySeedMs",1e4,_),this.Wa=JD("forwardChannelMaxRetries",2,_),this.wa=JD("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new AK(_&&_.concurrentRequestLimit),this.Da=new dre,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Zj(_){if(KK(_),3==_.G){var M=_.U++,L=kd(_.I);if(li(L,"SID",_.K),li(L,"RID",M),li(L,"TYPE","terminate"),eT(_,L),(M=new Ff(_,_.j,M)).L=2,M.v=tP(kd(L)),L=!1,f.navigator&&f.navigator.sendBeacon)try{L=f.navigator.sendBeacon(M.v.toString(),"")}catch{}!L&&f.Image&&((new Image).src=M.v,L=!0),L||(M.g=n9(M.j,null),M.g.ea(M.v)),M.F=Date.now(),Zk(M)}e9(_)}function iP(_){_.g&&(e$(_),_.g.cancel(),_.g=null)}function KK(_){iP(_),_.u&&(f.clearTimeout(_.u),_.u=null),sP(_),_.h.cancel(),_.s&&("number"==typeof _.s&&f.clearTimeout(_.s),_.s=null)}function oP(_){if(!SK(_.h)&&!_.s){_.s=!0;var M=_.Ga;eo||Bo(),Jr||(eo(),Jr=!0),$i.add(M,_),_.B=0}}function qK(_,M){var L;L=M?M.l:_.U++;const q=kd(_.I);li(q,"SID",_.K),li(q,"RID",L),li(q,"AID",_.T),eT(_,q),_.m&&_.o&&Yj(q,_.m,_.o),L=new Ff(_,_.j,L,_.B+1),null===_.m&&(L.H=_.o),M&&(_.i=M.D.concat(_.i)),M=XK(_,L,1e3),L.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Qj(_.h,L),Wj(L,q,M)}function eT(_,M){_.H&&an(_.H,function(L,q){li(M,q,L)}),_.l&&OK({},function(L,q){li(M,q,L)})}function XK(_,M,L){L=Math.min(_.i.length,L);var q=_.l?U(_.l.Na,_.l,_):null;e:{var at=_.i;let gt=-1;for(;;){const Yt=["count="+L];-1==gt?0<L?(gt=at[0].g,Yt.push("ofs="+gt)):gt=0:Yt.push("ofs="+gt);let Kr=!0;for(let is=0;is<L;is++){let Dr=at[is].g;const Cs=at[is].map;if(Dr-=gt,0>Dr)gt=Math.max(0,at[is].g-100),Kr=!1;else try{hre(Cs,Yt,"req"+Dr+"_")}catch{q&&q(Cs)}}if(Kr){q=Yt.join("&");break e}}}return _=_.i.splice(0,L),M.D=_,q}function QK(_){if(!_.g&&!_.u){_.Y=1;var M=_.Fa;eo||Bo(),Jr||(eo(),Jr=!0),$i.add(M,_),_.v=0}}function Jj(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=zD(U(_.Fa,_),JK(_,_.v)),_.v++,0))}function e$(_){null!=_.A&&(f.clearTimeout(_.A),_.A=null)}function YK(_){_.g=new Ff(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var M=kd(_.qa);li(M,"RID","rpc"),li(M,"SID",_.K),li(M,"AID",_.T),li(M,"CI",_.F?"0":"1"),!_.F&&_.ja&&li(M,"TO",_.ja),li(M,"TYPE","xmlhttp"),eT(_,M),_.m&&_.o&&Yj(M,_.m,_.o),_.L&&(_.g.I=_.L);var L=_.g;_=_.ia,L.L=1,L.v=tP(kd(M)),L.m=null,L.P=!0,CK(L,_)}function sP(_){null!=_.C&&(f.clearTimeout(_.C),_.C=null)}function ZK(_,M){var L=null;if(_.g==M){sP(_),e$(_),_.g=null;var q=2}else{if(!Xj(_.h,M))return;L=M.D,MK(_.h,M),q=1}if(0!=_.G)if(M.o)if(1==q){L=M.m?M.m.length:0,M=Date.now()-M.F;var at=_.B;Ks(q=Xk(),new bK(q,L)),oP(_)}else QK(_);else if(3==(at=M.s)||0==at&&0<M.X||!(1==q&&function gre(_,M){return!(xK(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=M.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=zD(U(_.Ga,_,M),JK(_,_.B)),_.B++,0)))}(_,M)||2==q&&Jj(_)))switch(L&&0<L.length&&(M=_.h,M.i=M.i.concat(L)),at){case 1:_g(_,5);break;case 4:_g(_,10);break;case 3:_g(_,6);break;default:_g(_,2)}}function JK(_,M){let L=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(L*=2),L*M}function _g(_,M){if(_.j.info("Error code "+M),2==M){var L=U(_.fb,_),q=_.Xa;const at=!q;q=new gg(q||"//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Jk(q,"https"),tP(q),at?function lre(_,M){const L=new GD;if(f.Image){const q=new Image;q.onload=K(Vf,L,"TestLoadImage: loaded",!0,M,q),q.onerror=K(Vf,L,"TestLoadImage: error",!1,M,q),q.onabort=K(Vf,L,"TestLoadImage: abort",!1,M,q),q.ontimeout=K(Vf,L,"TestLoadImage: timeout",!1,M,q),f.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=_}else M(!1)}(q.toString(),L):function ure(_,M){new GD;const q=new AbortController,at=setTimeout(()=>{q.abort(),Vf(0,0,!1,M)},1e4);fetch(_,{signal:q.signal}).then(gt=>{clearTimeout(at),Vf(0,0,!!gt.ok,M)}).catch(()=>{clearTimeout(at),Vf(0,0,!1,M)})}(q.toString(),L)}else qs(2);_.G=0,_.l&&_.l.sa(M),e9(_),KK(_)}function e9(_){if(_.G=0,_.ka=[],_.l){const M=RK(_.h);(0!=M.length||0!=_.i.length)&&(he(_.ka,M),he(_.ka,_.i),_.h.i.length=0,fe(_.i),_.i.length=0),_.l.ra()}}function t9(_,M,L){var q=L instanceof gg?kd(L):new gg(L);if(""!=q.g)M&&(q.g=M+"."+q.g),eP(q,q.s);else{var at=f.location;q=at.protocol,M=M?M+"."+at.hostname:at.hostname,at=+at.port;var gt=new gg(null);q&&Jk(gt,q),M&&(gt.g=M),at&&eP(gt,at),L&&(gt.l=L),q=gt}return M=_.ya,(L=_.D)&&M&&li(q,L,M),li(q,"VER",_.la),eT(_,q),q}function n9(_,M,L){if(M&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(M=new Hi(_.Ca&&!_.pa?new QD({eb:L}):_.pa)).Ha(_.J),M}function r9(){}function aP(){}function Qa(_,M){Is.call(this),this.g=new WK(M),this.l=_,this.h=M&&M.messageUrlParams||null,_=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(_?_["X-WebChannel-Content-Type"]=M.messageContentType:_={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(_?_["X-WebChannel-Client-Profile"]=M.va:_={"X-WebChannel-Client-Profile":M.va}),this.g.S=_,(_=M&&M.Sb)&&!vt(_)&&(this.g.m=_),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!vt(M)&&(this.g.D=M,null!==(_=this.h)&&M in _&&M in(_=this.h)&&delete _[M]),this.j=new qb(this)}function i9(_){$j.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var M=_.__sm__;if(M){e:{for(const L in M){_=L;break e}_=void 0}(this.i=_)&&(_=this.i,M=null!==M&&_ in M?M[_]:void 0),this.data=M}else this.data=_}function o9(){Hj.call(this),this.status=1}function qb(_){this.g=_}(n=Hi.prototype).Ha=function(_){this.J=_},n.ea=function(_,M,L,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);M=M?M.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zj.g(),this.v=function mK(_){return _.h||(_.h=_.i())}(this.o?this.o:zj),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(M,String(_),!0),this.B=!1}catch(gt){return void jK(this,gt)}if(_=L||"",L=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var at in q)L.set(at,q[at]);else{if("function"!=typeof q.keys||"function"!=typeof q.get)throw Error("Unknown input type for opt_headers: "+String(q));for(const gt of q.keys())L.set(gt,q.get(gt))}q=Array.from(L.keys()).find(gt=>"content-type"==gt.toLowerCase()),at=f.FormData&&_ instanceof f.FormData,!(0<=Array.prototype.indexOf.call(pre,M,void 0))||q||at||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[gt,Yt]of L)this.g.setRequestHeader(gt,Yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zK(this),this.u=!0,this.g.send(_),this.u=!1}catch(gt){jK(this,gt)}},n.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Ks(this,"complete"),Ks(this,"abort"),rP(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rP(this,!0)),Hi.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?HK(this):this.bb())},n.bb=function(){HK(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Pd(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(_){if(this.g){var M=this.g.responseText;return _&&0==M.indexOf(_)&&(M=M.substring(_.length)),Wne(M)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=WK.prototype).la=8,n.G=1,n.connect=function(_,M,L,q){qs(0),this.W=_,this.H=M||{},L&&void 0!==q&&(this.H.OSID=L,this.H.OAID=q),this.F=this.X,this.I=t9(this,null,this.W),oP(this)},n.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const at=new Ff(this,this.j,_);let gt=this.o;if(this.S&&(gt?(gt=le(gt),je(gt,this.S)):gt=this.S),null!==this.m||this.O||(at.H=gt,gt=null),this.P)e:{for(var M=0,L=0;L<this.i.length;L++){var q=this.i[L];if(void 0===(q="__data__"in q.map&&"string"==typeof(q=q.map.__data__)?q.length:void 0))break;if(4096<(M+=q)){M=L;break e}if(4096===M||L===this.i.length-1){M=L+1;break e}}M=1e3}else M=1e3;M=XK(this,at,M),li(L=kd(this.I),"RID",_),li(L,"CVER",22),this.D&&li(L,"X-HTTP-Session-Id",this.D),eT(this,L),gt&&(this.O?M="headers="+encodeURIComponent(String(UK(gt)))+"&"+M:this.m&&Yj(L,this.m,gt)),Qj(this.h,at),this.Ua&&li(L,"TYPE","init"),this.P?(li(L,"$req",M),li(L,"SID","null"),at.T=!0,Wj(at,L,null)):Wj(at,L,M),this.G=2}}else 3==this.G&&(_?qK(this,_):0==this.i.length||SK(this.h)||qK(this))},n.Fa=function(){if(this.u=null,YK(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=zD(U(this.ab,this),_)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,qs(10),iP(this),YK(this))},n.Za=function(){null!=this.C&&(this.C=null,iP(this),Jj(this),qs(19))},n.fb=function(_){_?(this.j.info("Successfully pinged google.com"),qs(2)):(this.j.info("Failed to ping google.com"),qs(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=r9.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},aP.prototype.g=function(_,M){return new Qa(_,M)},pe(Qa,Is),Qa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qa.prototype.close=function(){Zj(this.g)},Qa.prototype.o=function(_){var M=this.g;if("string"==typeof _){var L={};L.__data__=_,_=L}else this.u&&((L={}).__data__=Uj(_),_=L);M.i.push(new Jne(M.Ya++,_)),3==M.G&&oP(M)},Qa.prototype.N=function(){this.g.l=null,delete this.j,Zj(this.g),delete this.g,Qa.aa.N.call(this)},pe(i9,$j),pe(o9,Hj),pe(qb,r9),qb.prototype.ua=function(){Ks(this.g,"a")},qb.prototype.ta=function(_){Ks(this.g,new i9(_))},qb.prototype.sa=function(_){Ks(this.g,new o9)},qb.prototype.ra=function(){Ks(this.g,"b")},aP.prototype.createWebChannel=aP.prototype.g,Qa.prototype.send=Qa.prototype.o,Qa.prototype.open=Qa.prototype.m,Qa.prototype.close=Qa.prototype.close,LV=Ia.createWebChannelTransport=function(){return new aP},zR=Ia.getStatEventTarget=function(){return Xk()},HR=Ia.Event=pg,$R=Ia.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qk.NO_ERROR=0,Qk.TIMEOUT=8,Qk.HTTP_ERROR=6,RC=Ia.ErrorCode=Qk,EK.COMPLETE="complete",jR=Ia.EventType=EK,gK.EventType=$D,$D.OPEN="a",$D.CLOSE="b",$D.ERROR="c",$D.MESSAGE="d",Is.prototype.listen=Is.prototype.K,Jy=Ia.WebChannel=gK,FV=Ia.FetchXmlHttpFactory=QD,Hi.prototype.listenOnce=Hi.prototype.L,Hi.prototype.getLastError=Hi.prototype.Ka,Hi.prototype.getLastErrorCode=Hi.prototype.Ba,Hi.prototype.getStatus=Hi.prototype.Z,Hi.prototype.getResponseJson=Hi.prototype.Oa,Hi.prototype.getResponseText=Hi.prototype.oa,Hi.prototype.send=Hi.prototype.ea,Hi.prototype.setWithCredentials=Hi.prototype.Ha,NV=Ia.XhrIo=Hi}).apply(typeof MC<"u"?MC:typeof self<"u"?self:typeof window<"u"?window:{});const OC="@firebase/firestore";class ho{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}ho.UNAUTHENTICATED=new ho(null),ho.GOOGLE_CREDENTIALS=new ho("google-credentials-uid"),ho.FIRST_PARTY=new ho("first-party-uid"),ho.MOCK_USER=new ho("mock-user");let Vm="10.12.3";const hu=new ru("@firebase/firestore");function vd(){return hu.logLevel}function Ot(n,...t){if(hu.logLevel<=qn.DEBUG){const e=t.map(eb);hu.debug(`Firestore (${Vm}): ${n}`,...e)}}function Si(n,...t){if(hu.logLevel<=qn.ERROR){const e=t.map(eb);hu.error(`Firestore (${Vm}): ${n}`,...e)}}function Bs(n,...t){if(hu.logLevel<=qn.WARN){const e=t.map(eb);hu.warn(`Firestore (${Vm}): ${n}`,...e)}}function eb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function tn(n="Unexpected state"){const t=`FIRESTORE (${Vm}) INTERNAL ASSERTION FAILED: `+n;throw Si(t),new Error(t)}function fn(n,t){n||tn()}function Xt(n,t){return n}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends gs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class GR{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(ho.UNAUTHENTICATED))}shutdown(){}}class BV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class KR{constructor(t){this.t=t,this.currentUser=ho.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const c=w=>this.i!==i?(i=this.i,e(w)):Promise.resolve();let d=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Qi,t.enqueueRetryable(()=>c(this.currentUser))};const f=()=>{const w=d;t.enqueueRetryable((0,x.A)(function*(){yield w.promise,yield c(r.currentUser)}))},m=w=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>m(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?m(w):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Qi)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fn("string"==typeof r.accessToken),new GR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return fn(null===t||"string"==typeof t),new ho(t)}}class B3{constructor(t,e,r){this.l=t,this.h=e,this.P=r,this.type="FirstParty",this.user=ho.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class UV{constructor(t,e,r){this.l=t,this.h=e,this.P=r}getToken(){return Promise.resolve(new B3(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(ho.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class jV{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const r=c=>{null!=c.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,Ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const i=c=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?i(c):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(fn("string"==typeof e.token),this.R=e.token,new qR(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function XR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class kC{static newId(){const e=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=XR(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<e&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[c]%62))}return r}}function Rn(n,t){return n<t?-1:n>t?1:0}function yd(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}class ai{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Mt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Mt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Mt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ai.fromMillis(Date.now())}static fromDate(t){return ai.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new ai(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Rn(this.nanoseconds,t.nanoseconds):Rn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new gn(t)}static min(){return new gn(new ai(0,0))}static max(){return new gn(new ai(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class sl{constructor(t,e,r){void 0===e?e=0:e>t.length&&tn(),void 0===r?r=t.length-e:r>t.length-e&&tn(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===sl.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof sl?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const c=t.get(i),d=e.get(i);if(c<d)return-1;if(c>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Qn extends sl{construct(t,e,r){return new Qn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Mt(pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new Qn(e)}static emptyPath(){return new Qn([])}}const QR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yr extends sl{construct(t,e,r){return new Yr(t,e,r)}static isValidIdentifier(t){return QR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yr(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const c=()=>{if(0===r.length)throw new Mt(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let d=!1;for(;i<t.length;){const f=t[i];if("\\"===f){if(i+1===t.length)throw new Mt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Mt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(c(),i++)}if(c(),d)throw new Mt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yr(e)}static emptyPath(){return new Yr([])}}class Zt{constructor(t){this.path=t}static fromPath(t){return new Zt(Qn.fromString(t))}static fromName(t){return new Zt(Qn.fromString(t).popFirst(5))}static empty(){return new Zt(Qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Qn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Qn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Zt(new Qn(t.slice()))}}class Us{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Us(gn.min(),Zt.empty(),-1)}static max(){return new Us(gn.max(),Zt.empty(),-1)}}function JR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Zt.comparator(n.documentKey,t.documentKey),0!==e?e:Rn(n.largestBatchId,t.largestBatchId))}const HV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function pu(n){return eO.apply(this,arguments)}function eO(){return(eO=(0,x.A)(function*(n){if(n.code!==pt.FAILED_PRECONDITION||n.message!==HV)throw n;Ot("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(e,c).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(e){return lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.reject(e)}static resolve(t){return new lt((e,r)=>{e(t)})}static reject(t){return new lt((e,r)=>{r(t)})}static waitFor(t){return new lt((e,r)=>{let i=0,c=0,d=!1;t.forEach(f=>{++i,f.next(()=>{++c,d&&c===i&&e()},m=>r(m))}),d=!0,c===i&&e()})}static or(t){let e=lt.resolve(!1);for(const r of t)e=e.next(i=>i?lt.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,c)=>{r.push(e.call(this,i,c))}),this.waitFor(r)}static mapArray(t,e){return new lt((r,i)=>{const c=t.length,d=new Array(c);let f=0;for(let m=0;m<c;m++){const w=m;e(t[w]).next(A=>{d[w]=A,++f,f===c&&r(d)},A=>i(A))}})}static doWhile(t,e){return new lt((r,i)=>{const c=()=>{!0===t()?e().next(()=>{c()},i):r()};c()})}}function Ed(n){return"IndexedDbTransactionError"===n.name}let js=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function Bm(n){return null==n}function Um(n){return 0===n&&1/n==-1/0}function Id(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ll(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function W3(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Zr{constructor(t,e){this.comparator=t,this.root=e||Jo.EMPTY}insert(t,e){return new Zr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Jo.BLACK,null,null))}remove(t){return new Zr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new oO(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new oO(this.root,t,this.comparator,!1)}getReverseIterator(){return new oO(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new oO(this.root,t,this.comparator,!0)}}class oO{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=e?r(t.key,e):1,e&&i&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jo{constructor(t,e,r,i,c){this.key=t,this.value=e,this.color=r??Jo.RED,this.left=i??Jo.EMPTY,this.right=c??Jo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,c){return new Jo(t??this.key,e??this.value,r??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const c=r(t,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===c?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Jo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tn();const t=this.left.check();if(t!==this.right.check())throw tn();return t+(this.isRed()?0:1)}}Jo.EMPTY=null,Jo.RED=!0,Jo.BLACK=!1,Jo.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(t,e,r,i,c){return this}insert(t,e,r){return new Jo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zr{constructor(t){this.comparator=t,this.data=new Zr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new K3(this.data.getIterator())}getIteratorFrom(t){return new K3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof zr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new zr(this.comparator);return e.data=t,e}}class K3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ca{constructor(t){this.fields=t,t.sort(Yr.comparator)}static empty(){return new Ca([])}unionWith(t){let e=new zr(Yr.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new Ca(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return yd(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class q3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Io{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new q3("Invalid base64 string: "+c):c}}(t);return new Io(e)}static fromUint8Array(t){const e=function(i){let c="";for(let d=0;d<i.length;++d)c+=String.fromCharCode(i[d]);return c}(t);return new Io(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Io.EMPTY_BYTE_STRING=new Io("");const z9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cd(n){if(fn(!!n),"string"==typeof n){let t=0;const e=z9.exec(n);if(fn(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ji(n.seconds),nanos:ji(n.nanos)}}function ji(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dd(n){return"string"==typeof n?Io.fromBase64String(n):Io.fromUint8Array(n)}function sO(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function aO(n){const t=n.mapValue.fields.__previous_value__;return sO(t)?aO(t):t}function VC(n){const t=Cd(n.mapValue.fields.__local_write_time__.timestampValue);return new ai(t.seconds,t.nanos)}class G9{constructor(t,e,r,i,c,d,f,m,w){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=w}}class jm{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new jm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof jm&&t.projectId===this.projectId&&t.database===this.database}}const bf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ef(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sO(n)?4:Z3(n)?9007199254740991:10:tn()}function mu(n,t){if(n===t)return!0;const e=Ef(n);if(e!==Ef(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return VC(n).isEqual(VC(t));case 3:return function(i,c){if("string"==typeof i.timestampValue&&"string"==typeof c.timestampValue&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const d=Cd(i.timestampValue),f=Cd(c.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return c=t,Dd(n.bytesValue).isEqual(Dd(c.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,c){return ji(i.geoPointValue.latitude)===ji(c.geoPointValue.latitude)&&ji(i.geoPointValue.longitude)===ji(c.geoPointValue.longitude)}(n,t);case 2:return function(i,c){if("integerValue"in i&&"integerValue"in c)return ji(i.integerValue)===ji(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const d=ji(i.doubleValue),f=ji(c.doubleValue);return d===f?Um(d)===Um(f):isNaN(d)&&isNaN(f)}return!1}(n,t);case 9:return yd(n.arrayValue.values||[],t.arrayValue.values||[],mu);case 10:return function(i,c){const d=i.mapValue.fields||{},f=c.mapValue.fields||{};if(Id(d)!==Id(f))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(void 0===f[m]||!mu(d[m],f[m])))return!1;return!0}(n,t);default:return tn()}var c}function BC(n,t){return void 0!==(n.values||[]).find(e=>mu(e,t))}function wf(n,t){if(n===t)return 0;const e=Ef(n),r=Ef(t);if(e!==r)return Rn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Rn(n.booleanValue,t.booleanValue);case 2:return function(c,d){const f=ji(c.integerValue||c.doubleValue),m=ji(d.integerValue||d.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,t);case 3:return X3(n.timestampValue,t.timestampValue);case 4:return X3(VC(n),VC(t));case 5:return Rn(n.stringValue,t.stringValue);case 6:return function(c,d){const f=Dd(c),m=Dd(d);return f.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(c,d){const f=c.split("/"),m=d.split("/");for(let w=0;w<f.length&&w<m.length;w++){const A=Rn(f[w],m[w]);if(0!==A)return A}return Rn(f.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(c,d){const f=Rn(ji(c.latitude),ji(d.latitude));return 0!==f?f:Rn(ji(c.longitude),ji(d.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(c,d){const f=c.values||[],m=d.values||[];for(let w=0;w<f.length&&w<m.length;++w){const A=wf(f[w],m[w]);if(A)return A}return Rn(f.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(c,d){if(c===bf.mapValue&&d===bf.mapValue)return 0;if(c===bf.mapValue)return 1;if(d===bf.mapValue)return-1;const f=c.fields||{},m=Object.keys(f),w=d.fields||{},A=Object.keys(w);m.sort(),A.sort();for(let R=0;R<m.length&&R<A.length;++R){const U=Rn(m[R],A[R]);if(0!==U)return U;const K=wf(f[m[R]],w[A[R]]);if(0!==K)return K}return Rn(m.length,A.length)}(n.mapValue,t.mapValue);default:throw tn()}}function X3(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Rn(n,t);const e=Cd(n),r=Cd(t),i=Rn(e.seconds,r.seconds);return 0!==i?i:Rn(e.nanos,r.nanos)}function ib(n){return qV(n)}function qV(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=Cd(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dd(n.bytesValue).toBase64():"referenceValue"in n?Zt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",i=!0;for(const c of e.values||[])i?i=!1:r+=",",r+=qV(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let i="{",c=!0;for(const d of r)c?c=!1:i+=",",i+=`${d}:${qV(e.fields[d])}`;return i+"}"}(n.mapValue):tn()}function $m(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function XV(n){return!!n&&"integerValue"in n}function UC(n){return!!n&&"arrayValue"in n}function Q3(n){return!!n&&"nullValue"in n}function Y3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function uO(n){return!!n&&"mapValue"in n}function jC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return ll(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=jC(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=jC(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Z3(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class es{constructor(t){this.value=t}static empty(){return new es({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!uO(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=jC(e)}setAll(t){let e=Yr.emptyPath(),r={},i=[];t.forEach((d,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,r,i),r={},i=[],e=f.popLast()}d?r[f.lastSegment()]=jC(d):i.push(f.lastSegment())});const c=this.getFieldsMap(e);this.applyChanges(c,r,i)}delete(t){const e=this.field(t.popLast());uO(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return mu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];uO(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){ll(e,(i,c)=>t[i]=c);for(const i of r)delete t[i]}clone(){return new es(jC(this.value))}}function tz(n){const t=[];return ll(n.fields,(e,r)=>{const i=new Yr([e]);if(uO(r)){const c=tz(r.mapValue).fields;if(0===c.length)t.push(i);else for(const d of c)t.push(i.child(d))}else t.push(i)}),new Ca(t)}class ci{constructor(t,e,r,i,c,d,f){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=c,this.data=d,this.documentState=f}static newInvalidDocument(t){return new ci(t,0,gn.min(),gn.min(),gn.min(),es.empty(),0)}static newFoundDocument(t,e,r,i){return new ci(t,1,e,gn.min(),r,i,0)}static newNoDocument(t,e){return new ci(t,2,e,gn.min(),gn.min(),es.empty(),0)}static newUnknownDocument(t,e){return new ci(t,3,e,gn.min(),gn.min(),es.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(gn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ci&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ci(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class If{constructor(t,e){this.position=t,this.inclusive=e}}function nz(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const c=t[i],d=n.position[i];if(r=c.field.isKeyField()?Zt.comparator(Zt.fromName(d.referenceValue),e.key):wf(d,e.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function rz(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!mu(n.position[e],t.position[e]))return!1;return!0}class $C{constructor(t,e="asc"){this.field=t,this.dir=e}}function q9(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class iz{}class ir extends iz{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,r):new X9(t,e,r):"array-contains"===e?new Z9(t,r):"in"===e?new uz(t,r):"not-in"===e?new J9(t,r):"array-contains-any"===e?new eq(t,r):new ir(t,e,r)}static createKeyFieldInFilter(t,e,r){return"in"===e?new Q9(t,r):new Y9(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(wf(e,this.value)):null!==e&&Ef(this.value)===Ef(e)&&this.matchesComparison(wf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends iz{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Lr(t,e)}matches(t){return ob(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ob(n){return"and"===n.op}function YV(n){return function oz(n){for(const t of n.filters)if(t instanceof Lr)return!1;return!0}(n)&&ob(n)}function ZV(n){if(n instanceof ir)return n.field.canonicalString()+n.op.toString()+ib(n.value);if(YV(n))return n.filters.map(t=>ZV(t)).join(",");{const t=n.filters.map(e=>ZV(e)).join(",");return`${n.op}(${t})`}}function sz(n,t){return n instanceof ir?(r=n,(i=t)instanceof ir&&r.op===i.op&&r.field.isEqual(i.field)&&mu(r.value,i.value)):n instanceof Lr?function(r,i){return i instanceof Lr&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((c,d,f)=>c&&sz(d,i.filters[f]),!0)}(n,t):void tn();var r,i}function cz(n){return n instanceof ir?`${(e=n).field.canonicalString()} ${e.op} ${ib(e.value)}`:n instanceof Lr?function(e){return e.op.toString()+" {"+e.getFilters().map(cz).join(" ,")+"}"}(n):"Filter";var e}class X9 extends ir{constructor(t,e,r){super(t,e,r),this.key=Zt.fromName(r.referenceValue)}matches(t){const e=Zt.comparator(t.key,this.key);return this.matchesComparison(e)}}class Q9 extends ir{constructor(t,e){super(t,"in",e),this.keys=lz(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class Y9 extends ir{constructor(t,e){super(t,"not-in",e),this.keys=lz(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function lz(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>Zt.fromName(r.referenceValue))}class Z9 extends ir{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return UC(e)&&BC(e.arrayValue,this.value)}}class uz extends ir{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&BC(this.value.arrayValue,e)}}class J9 extends ir{constructor(t,e){super(t,"not-in",e)}matches(t){if(BC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!BC(this.value.arrayValue,e)}}class eq extends ir{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!UC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>BC(this.value.arrayValue,r))}}class tq{constructor(t,e=null,r=[],i=[],c=null,d=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=d,this.endAt=f,this.ue=null}}function JV(n,t=null,e=[],r=[],i=null,c=null,d=null){return new tq(n,t,e,r,i,c,d)}function Hm(n){const t=Xt(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>ZV(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(c=r).field.canonicalString()+c.dir;var c}).join(","),Bm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>ib(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>ib(r)).join(",")),t.ue=e}return t.ue}function HC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!q9(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!sz(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!rz(n.startAt,t.startAt)&&rz(n.endAt,t.endAt)}function dO(n){return Zt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Td{constructor(t,e=null,r=[],i=[],c=null,d="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=m,this.ce=null,this.le=null,this.he=null}}function sb(n){return new Td(n)}function pz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function e2(n){return null!==n.collectionGroup}function ab(n){const t=Xt(n);if(null===t.ce){t.ce=[];const e=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),e.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new zr(Yr.comparator);return d.filters.forEach(m=>{m.getFlattenedFilters().forEach(w=>{w.isInequality()&&(f=f.add(w.field))})}),f})(t).forEach(c=>{e.has(c.canonicalString())||c.isKeyField()||t.ce.push(new $C(c,r))}),e.has(Yr.keyField().canonicalString())||t.ce.push(new $C(Yr.keyField(),r))}return t.ce}function ys(n){const t=Xt(n);return t.le||(t.le=function gz(n,t){if("F"===n.limitType)return JV(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(i=>new $C(i.field,"desc"===i.dir?"asc":"desc"));const e=n.endAt?new If(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new If(n.startAt.position,n.startAt.inclusive):null;return JV(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}(t,ab(n))),t.le}function t2(n,t){const e=n.filters.concat([t]);return new Td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function fO(n,t,e){return new Td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function zC(n,t){return HC(ys(n),ys(t))&&n.limitType===t.limitType}function _z(n){return`${Hm(ys(n))}|lt:${n.limitType}`}function cb(n){return`Query(target=${function(e){let r=e.path.canonicalString();return null!==e.collectionGroup&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(i=>cz(i)).join(", ")}]`),Bm(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(i=>{return`${(d=i).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>ib(i)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>ib(i)).join(",")),`Target(${r})`}(ys(n))}; limitType=${n.limitType})`}function GC(n,t){return t.isFoundDocument()&&function(r,i){const c=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Zt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(n,t)&&function(r,i){for(const c of ab(r))if(!c.field.isKeyField()&&null===i.data.field(c.field))return!1;return!0}(n,t)&&function(r,i){for(const c of r.filters)if(!c.matches(i))return!1;return!0}(n,t)&&(i=t,!((r=n).startAt&&!function(d,f,m){const w=nz(d,f,m);return d.inclusive?w<=0:w<0}(r.startAt,ab(r),i)||r.endAt&&!function(d,f,m){const w=nz(d,f,m);return d.inclusive?w>=0:w>0}(r.endAt,ab(r),i)));var r,i}function yz(n){return(t,e)=>{let r=!1;for(const i of ab(n)){const c=nq(i,t,e);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function nq(n,t,e){const r=n.field.isKeyField()?Zt.comparator(t.key,e.key):function(c,d,f){const m=d.data.field(c),w=f.data.field(c);return null!==m&&null!==w?wf(m,w):tn()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tn()}}class Ad{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,t))return c}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,e]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],t))return void(i[c]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){ll(this.inner,(e,r)=>{for(const[i,c]of r)t(i,c)})}isEmpty(){return W3(this.inner)}size(){return this.innerSize}}const rq=new Zr(Zt.comparator);function Da(){return rq}const bz=new Zr(Zt.comparator);function WC(...n){let t=bz;for(const e of n)t=t.insert(e.key,e);return t}function Ez(n){let t=bz;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function gu(){return KC()}function wz(){return KC()}function KC(){return new Ad(n=>n.toString(),(n,t)=>n.isEqual(t))}const iq=new Zr(Zt.comparator),oq=new zr(Zt.comparator);function jn(...n){let t=oq;for(const e of n)t=t.add(e);return t}const sq=new zr(Rn);function Iz(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Um(t)?"-0":t}}function Cz(n){return{integerValue:""+n}}function Dz(n,t){return function nO(n){return"number"==typeof n&&Number.isInteger(n)&&!Um(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?Cz(t):Iz(n,t)}class pO{constructor(){this._=void 0}}function aq(n,t,e){return n instanceof lb?function(i,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&sO(c)&&(c=aO(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(e,t):n instanceof zm?Az(n,t):n instanceof Gm?Sz(n,t):function(i,c){const d=Tz(i,c),f=xz(d)+xz(i.Pe);return XV(d)&&XV(i.Pe)?Cz(f):Iz(i.serializer,f)}(n,t)}function cq(n,t,e){return n instanceof zm?Az(n,t):n instanceof Gm?Sz(n,t):e}function Tz(n,t){return n instanceof ub?XV(r=t)||(c=r)&&"doubleValue"in c?t:{integerValue:0}:null;var r,c}class lb extends pO{}class zm extends pO{constructor(t){super(),this.elements=t}}function Az(n,t){const e=Mz(t);for(const r of n.elements)e.some(i=>mu(i,r))||e.push(r);return{arrayValue:{values:e}}}class Gm extends pO{constructor(t){super(),this.elements=t}}function Sz(n,t){let e=Mz(t);for(const r of n.elements)e=e.filter(i=>!mu(i,r));return{arrayValue:{values:e}}}class ub extends pO{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function xz(n){return ji(n.integerValue||n.doubleValue)}function Mz(n){return UC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class qC{constructor(t,e){this.field=t,this.transform=e}}class uq{constructor(t,e){this.version=t,this.transformResults=e}}class vi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function mO(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class gO{}function Rz(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new hb(n.key,vi.none()):new db(n.key,n.data,vi.none());{const e=n.data,r=es.empty();let i=new zr(Yr.comparator);for(let c of t.fields)if(!i.has(c)){let d=e.field(c);null===d&&c.length>1&&(c=c.popLast(),d=e.field(c)),null===d?r.delete(c):r.set(c,d),i=i.add(c)}return new Sd(n.key,r,new Ca(i.toArray()),vi.none())}}function dq(n,t,e){n instanceof db?function(i,c,d){const f=i.value.clone(),m=Pz(i.fieldTransforms,c,d.transformResults);f.setAll(m),c.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(n,t,e):n instanceof Sd?function(i,c,d){if(!mO(i.precondition,c))return void c.convertToUnknownDocument(d.version);const f=Pz(i.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(kz(i)),m.setAll(f),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function XC(n,t,e,r){return n instanceof db?function(c,d,f,m){if(!mO(c.precondition,d))return f;const w=c.value.clone(),A=Nz(c.fieldTransforms,m,d);return w.setAll(A),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),null}(n,t,e,r):n instanceof Sd?function(c,d,f,m){if(!mO(c.precondition,d))return f;const w=Nz(c.fieldTransforms,m,d),A=d.data;return A.setAll(kz(c)),A.setAll(w),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),null===f?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(n,t,e,r):(f=e,mO(n.precondition,d=t)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f);var d,f}function hq(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),c=Tz(r.transform,i||null);null!=c&&(null===e&&(e=es.empty()),e.set(r.field,c))}return e||null}function Oz(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&yd(r,i,(c,d)=>function lq(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(r=n.transform)instanceof zm&&i instanceof zm||r instanceof Gm&&i instanceof Gm?yd(r.elements,i.elements,mu):r instanceof ub&&i instanceof ub?mu(r.Pe,i.Pe):r instanceof lb&&i instanceof lb);var r,i}(c,d))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var r,i}class db extends gO{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Sd extends gO{constructor(t,e,r,i,c=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function kz(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function Pz(n,t,e){const r=new Map;fn(n.length===e.length);for(let i=0;i<e.length;i++){const c=n[i],d=c.transform,f=t.data.field(c.field);r.set(c.field,cq(d,f,e[i]))}return r}function Nz(n,t,e){const r=new Map;for(const i of n){const c=i.transform,d=e.data.field(i.field);r.set(i.field,aq(c,d,t))}return r}class hb extends gO{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r2 extends gO{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class o2{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(t.key)&&dq(c,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=XC(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=XC(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=wz();return this.mutations.forEach(i=>{const c=t.get(i.key),d=c.overlayedDocument;let f=this.applyToLocalView(d,c.mutatedFields);f=e.has(i.key)?null:f;const m=Rz(d,f);null!==m&&r.set(i.key,m),d.isValidDocument()||d.convertToNoDocument(gn.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),jn())}isEqual(t){return this.batchId===t.batchId&&yd(this.mutations,t.mutations,(e,r)=>Oz(e,r))&&yd(this.baseMutations,t.baseMutations,(e,r)=>Oz(e,r))}}class s2{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){fn(t.mutations.length===r.length);let i=function(){return iq}();const c=t.mutations;for(let d=0;d<c.length;d++)i=i.insert(c[d].key,r[d].version);return new s2(t,e,r,i)}}class a2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class fq{constructor(t,e){this.count=t,this.unchangedNames=e}}var fo,dr;function Lz(n){switch(n){default:return tn();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function Vz(n){if(void 0===n)return Si("GRPC error has no .code"),pt.UNKNOWN;switch(n){case fo.OK:return pt.OK;case fo.CANCELLED:return pt.CANCELLED;case fo.UNKNOWN:return pt.UNKNOWN;case fo.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case fo.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case fo.INTERNAL:return pt.INTERNAL;case fo.UNAVAILABLE:return pt.UNAVAILABLE;case fo.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case fo.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case fo.NOT_FOUND:return pt.NOT_FOUND;case fo.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case fo.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case fo.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case fo.ABORTED:return pt.ABORTED;case fo.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case fo.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case fo.DATA_LOSS:return pt.DATA_LOSS;default:return tn()}}(dr=fo||(fo={}))[dr.OK=0]="OK",dr[dr.CANCELLED=1]="CANCELLED",dr[dr.UNKNOWN=2]="UNKNOWN",dr[dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dr[dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dr[dr.NOT_FOUND=5]="NOT_FOUND",dr[dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",dr[dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",dr[dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",dr[dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dr[dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dr[dr.ABORTED=10]="ABORTED",dr[dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",dr[dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",dr[dr.INTERNAL=13]="INTERNAL",dr[dr.UNAVAILABLE=14]="UNAVAILABLE",dr[dr.DATA_LOSS=15]="DATA_LOSS";const pq=new du([4294967295,4294967295],0);function Uz(n){const t=function Bz(){return new TextEncoder}().encode(n),e=new xC;return e.update(t),new Uint8Array(e.digest())}function jz(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new du([e,r],0),new du([i,c],0)]}class c2{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new QC(`Invalid padding: ${e}`);if(r<0)throw new QC(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new QC(`Invalid hash count: ${r}`);if(0===t.length&&0!==e)throw new QC(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=du.fromNumber(this.Ie)}Ee(t,e,r){let i=t.add(e.multiply(du.fromNumber(r)));return 1===i.compare(pq)&&(i=new du([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=Uz(t),[r,i]=jz(e);for(let c=0;c<this.hashCount;c++){const d=this.Ee(r,i,c);if(!this.de(d))return!1}return!0}static create(t,e,r){const i=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new c2(c,i,e);return r.forEach(f=>d.insert(f)),d}insert(t){if(0===this.Ie)return;const e=Uz(t),[r,i]=jz(e);for(let c=0;c<this.hashCount;c++){const d=this.Ee(r,i,c);this.Ae(d)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class QC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class YC{constructor(t,e,r,i,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const i=new Map;return i.set(t,ZC.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new YC(gn.min(),i,new Zr(Rn),Da(),jn())}}class ZC{constructor(t,e,r,i,c){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new ZC(r,e,jn(),jn(),jn())}}class vO{constructor(t,e,r,i){this.Re=t,this.removedTargetIds=e,this.key=r,this.Ve=i}}class $z{constructor(t,e){this.targetId=t,this.me=e}}class Hz{constructor(t,e,r=Io.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class zz{constructor(){this.fe=0,this.ge=Wz(),this.pe=Io.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=jn(),e=jn(),r=jn();return this.ge.forEach((i,c)=>{switch(c){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:tn()}}),new ZC(this.pe,this.ye,t,e,r)}ve(){this.we=!1,this.ge=Wz()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,fn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class mq{constructor(t){this.Le=t,this.Be=new Map,this.ke=Da(),this.qe=Gz(),this.Qe=new Zr(Rn)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const r=this.Ge(e);switch(t.state){case 0:this.ze(e)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),r.De(t.resumeToken));break;default:tn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((r,i)=>{this.ze(i)&&e(i)})}He(t){const e=t.targetId,r=t.me.count,i=this.Je(e);if(i){const c=i.target;if(dO(c))if(0===r){const d=new Zt(c.path);this.Ue(e,d,ci.newNoDocument(d,gn.min()))}else fn(1===r);else{const d=this.Ye(e);if(d!==r){const f=this.Ze(t),m=f?this.Xe(f,t,d):1;0!==m&&(this.je(e),this.Qe=this.Qe.insert(e,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:c=0}=e;let d,f;try{d=Dd(r).toUint8Array()}catch(m){if(m instanceof q3)return Bs("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new c2(d,i,c)}catch(m){return Bs(m instanceof QC?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return 0===f.Ie?null:f}Xe(t,e,r){return e.me.count===r-this.nt(t,e.targetId)?0:2}nt(t,e){const r=this.Le.getRemoteKeysForTarget(e);let i=0;return r.forEach(c=>{const d=this.Le.tt(),f=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(f)||(this.Ue(e,c,null),i++)}),i}rt(t){const e=new Map;this.Be.forEach((c,d)=>{const f=this.Je(d);if(f){if(c.current&&dO(f.target)){const m=new Zt(f.target.path);null!==this.ke.get(m)||this.it(d,m)||this.Ue(d,m,ci.newNoDocument(m,t))}c.be&&(e.set(d,c.Ce()),c.ve())}});let r=jn();this.qe.forEach((c,d)=>{let f=!0;d.forEachWhile(m=>{const w=this.Je(m);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(r=r.add(c))}),this.ke.forEach((c,d)=>d.setReadTime(t));const i=new YC(t,e,this.Qe,this.ke,r);return this.ke=Da(),this.qe=Gz(),this.Qe=new Zr(Rn),i}$e(t,e){if(!this.ze(t))return;const r=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,r),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,e)?i.Fe(e,1):i.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),r&&(this.ke=this.ke.insert(e,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new zz,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new zr(Rn),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Ot("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new zz),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Gz(){return new Zr(Zt.comparator)}function Wz(){return new Zr(Zt.comparator)}const gq={asc:"ASCENDING",desc:"DESCENDING"},_q={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vq={and:"AND",or:"OR"};class yq{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function l2(n,t){return n.useProto3Json||Bm(t)?t:{value:t}}function fb(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Kz(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function bq(n,t){return fb(n,t.toTimestamp())}function Yi(n){return fn(!!n),gn.fromTimestamp(function(e){const r=Cd(e);return new ai(r.seconds,r.nanos)}(n))}function u2(n,t){return d2(n,t).canonicalString()}function d2(n,t){const e=(i=n,new Qn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===t?e:e.child(t)}function qz(n){const t=Qn.fromString(n);return fn(o5(t)),t}function JC(n,t){return u2(n.databaseId,t.path)}function _u(n,t){const e=qz(t);if(e.get(1)!==n.databaseId.projectId)throw new Mt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Mt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Zt(Yz(e))}function Xz(n,t){return u2(n.databaseId,t)}function h2(n){return new Qn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yz(n){return fn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Zz(n,t,e){return{name:JC(n,t),fields:e.value.mapValue.fields}}function eD(n,t){let e;if(t instanceof db)e={update:Zz(n,t.key,t.value)};else if(t instanceof hb)e={delete:JC(n,t.key)};else if(t instanceof Sd)e={update:Zz(n,t.key,t.data),updateMask:Sq(t.fieldMask)};else{if(!(t instanceof r2))return tn();e={verify:JC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(c,d){const f=d.transform;if(f instanceof lb)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof zm)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Gm)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ub)return{fieldPath:d.field.canonicalString(),increment:f.Pe};throw tn()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(c=t.precondition).updateTime?{updateTime:bq(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:tn()),e;var c}function e5(n,t){return{documents:[Xz(n,t.path)]}}function yO(n,t){const e={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=Xz(n,i);const c=function(w){if(0!==w.length)return i5(Lr.create(w,"and"))}(t.filters);c&&(e.structuredQuery.where=c);const d=function(w){if(0!==w.length)return w.map(A=>{return{field:Cf((U=A).field),direction:Dq(U.dir)};var U})}(t.orderBy);d&&(e.structuredQuery.orderBy=d);const f=l2(n,t.limit);return null!==f&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt={before:(w=t.startAt).inclusive,values:w.position}),t.endAt&&(e.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(t.endAt)),{_t:e,parent:i};var w}function n5(n){let t=function Qz(n){const t=qz(n);return 4===t.length?Qn.emptyPath():Yz(t)}(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){fn(1===r);const A=e.from[0];A.allDescendants?i=A.collectionId:t=t.child(A.collectionId)}let c=[];e.where&&(c=function(R){const U=r5(R);return U instanceof Lr&&YV(U)?U.getFilters():[U]}(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(U=>{return new $C(pb((pe=U).field),function(he){switch(he){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let f=null;e.limit&&(f=function(R){let U;return U="object"==typeof R?R.value:R,Bm(U)?null:U}(e.limit));let m=null;var R;e.startAt&&(m=new If((R=e.startAt).values||[],!!R.before));let w=null;return e.endAt&&(w=function(R){return new If(R.values||[],!R.before)}(e.endAt)),function fz(n,t,e,r,i,c,d,f){return new Td(n,t,e,r,i,c,d,f)}(t,i,d,c,f,"F",m,w)}function r5(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=pb(e.unaryFilter.field);return ir.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=pb(e.unaryFilter.field);return ir.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=pb(e.unaryFilter.field);return ir.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=pb(e.unaryFilter.field);return ir.create(d,"!=",{nullValue:"NULL_VALUE"});default:return tn()}}(n):void 0!==n.fieldFilter?ir.create(pb((e=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Lr.create(e.compositeFilter.filters.map(r=>r5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tn()}}(e.compositeFilter.op))}(n):tn();var e}function Dq(n){return gq[n]}function Tq(n){return _q[n]}function Aq(n){return vq[n]}function Cf(n){return{fieldPath:n.canonicalString()}}function pb(n){return Yr.fromServerFormat(n.fieldPath)}function i5(n){return n instanceof ir?function(e){if("=="===e.op){if(Y3(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NAN"}};if(Q3(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Y3(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NOT_NAN"}};if(Q3(e.value))return{unaryFilter:{field:Cf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cf(e.field),op:Tq(e.op),value:e.value}}}(n):n instanceof Lr?function(e){const r=e.getFilters().map(i=>i5(i));return 1===r.length?r[0]:{compositeFilter:{op:Aq(e.op),filters:r}}}(n):tn()}function Sq(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function o5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class xd{constructor(t,e,r,i,c=gn.min(),d=gn.min(),f=Io.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new xd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new xd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class s5{constructor(t){this.ct=t}}function p2(n){const t=n5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?fO(t,t.limit,"L"):t}class Xm{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(ji(t.integerValue));else if("doubleValue"in t){const r=ji(t.doubleValue);isNaN(r)?this.Et(e,13):(this.Et(e,15),Um(r)?e.dt(0):e.dt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Et(e,20),"string"==typeof r&&(r=Cd(r)),e.At(`${r.seconds||""}`),e.dt(r.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Dd(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.Et(e,45),e.dt(r.latitude||0),e.dt(r.longitude||0)}else"mapValue"in t?Z3(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):tn()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const r=t.fields||{};this.Et(e,55);for(const i of Object.keys(r))this.Rt(i,e),this.It(r[i],e)}wt(t,e){const r=t.values||[];this.Et(e,50);for(const i of r)this.It(i,e)}gt(t,e){this.Et(e,37),Zt.fromName(t).path.forEach(r=>{this.Et(e,60),this.St(r,e)})}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}Xm.bt=new Xm;class Fq{constructor(){this._n=new b2}addToCollectionParentIndex(t,e){return this._n.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return lt.resolve()}deleteFieldIndex(t,e){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,e){return lt.resolve()}getDocumentsMatchingTarget(t,e){return lt.resolve(null)}getIndexType(t,e){return lt.resolve(0)}getFieldIndexes(t,e){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,e){return lt.resolve(Us.min())}getMinOffsetFromCollectionGroup(t,e){return lt.resolve(Us.min())}updateCollectionGroup(t,e,r){return lt.resolve()}updateIndexEntries(t,e){return lt.resolve()}}class b2{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new zr(Qn.comparator),c=!i.has(r);return this.index[e]=i.add(r),c}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new zr(Qn.comparator)).toArray()}}new Uint8Array(0);class bs{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new bs(t,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs(41943040,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);class Ym{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Ym(0)}static Ln(){return new Ym(-1)}}class x5{constructor(){this.changes=new Ad(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ci.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?lt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class zq{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class P5{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(null!==r&&XC(r.mutation,i,Ca.empty(),ai.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,jn()).next(()=>r))}getLocalViewOfDocuments(t,e,r=jn()){const i=gu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(c=>{let d=WC();return c.forEach((f,m)=>{d=d.insert(f,m.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const r=gu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,jn()))}populateOverlays(t,e,r){const i=[];return r.forEach(c=>{e.has(c)||i.push(c)}),this.documentOverlayCache.getOverlays(t,i).next(c=>{c.forEach((d,f)=>{e.set(d,f)})})}computeViews(t,e,r,i){let c=Da();const d=KC(),f=KC();return e.forEach((m,w)=>{const A=r.get(w.key);i.has(w.key)&&(void 0===A||A.mutation instanceof Sd)?c=c.insert(w.key,w):void 0!==A?(d.set(w.key,A.mutation.getFieldMask()),XC(A.mutation,w,A.mutation.getFieldMask(),ai.now())):d.set(w.key,Ca.empty())}),this.recalculateAndSaveOverlays(t,c).next(m=>(m.forEach((w,A)=>d.set(w,A)),e.forEach((w,A)=>{var R;return f.set(w,new zq(A,null!==(R=d.get(w))&&void 0!==R?R:null))}),f))}recalculateAndSaveOverlays(t,e){const r=KC();let i=new Zr((d,f)=>d-f),c=jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const f of d)f.keys().forEach(m=>{const w=e.get(m);if(null===w)return;let A=r.get(m)||Ca.empty();A=f.applyToLocalView(w,A),r.set(m,A);const R=(i.get(f.batchId)||jn()).add(m);i=i.insert(f.batchId,R)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),w=m.key,A=m.value,R=wz();A.forEach(U=>{if(!c.has(U)){const K=Rz(e.get(U),r.get(U));null!==K&&R.set(U,K),c=c.add(U)}}),d.push(this.documentOverlayCache.saveOverlays(t,w,R))}return lt.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,i){return Zt.isDocumentKey((d=e).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):e2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i);var d}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(c=>{const d=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-c.size):lt.resolve(gu());let f=-1,m=c;return d.next(w=>lt.forEach(w,(A,R)=>(f<R.largestBatchId&&(f=R.largestBatchId),c.get(A)?lt.resolve():this.remoteDocumentCache.getEntry(t,A).next(U=>{m=m.insert(A,U)}))).next(()=>this.populateOverlays(t,w,c)).next(()=>this.computeViews(t,m,w,jn())).next(A=>({batchId:f,changes:Ez(A)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Zt(e)).next(r=>{let i=WC();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){const c=e.collectionGroup;let d=WC();return this.indexManager.getCollectionParents(t,c).next(f=>lt.forEach(f,m=>{const w=(R=e,U=m.child(c),new Td(U,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt));var R,U;return this.getDocumentsMatchingCollectionQuery(t,w,r,i).next(A=>{A.forEach((R,U)=>{d=d.insert(R,U)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,e,r,i){let c;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,c,i))).next(d=>{c.forEach((m,w)=>{const A=w.getKey();null===d.get(A)&&(d=d.insert(A,ci.newInvalidDocument(A)))});let f=WC();return d.forEach((m,w)=>{const A=c.get(m);void 0!==A&&XC(A.mutation,w,Ca.empty(),ai.now()),GC(e,w)&&(f=f.insert(m,w))}),f})}}class Gq{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return lt.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,{id:(i=e).id,version:i.version,createTime:Yi(i.createTime)}),lt.resolve();var i}getNamedQuery(t,e){return lt.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,{name:(i=e).name,query:p2(i.bundledQuery),readTime:Yi(i.readTime)}),lt.resolve();var i}}class Wq{constructor(){this.overlays=new Zr(Zt.comparator),this.hr=new Map}getOverlay(t,e){return lt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=gu();return lt.forEach(e,i=>this.getOverlay(t,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,c)=>{this.ht(t,e,c)}),lt.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.hr.delete(r)),lt.resolve()}getOverlaysForCollection(t,e,r){const i=gu(),c=e.length+1,d=new Zt(e.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const m=f.getNext().value,w=m.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===c&&m.largestBatchId>r&&i.set(m.getKey(),m)}return lt.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let c=new Zr((w,A)=>w-A);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>r){let A=c.get(w.largestBatchId);null===A&&(A=gu(),c=c.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const f=gu(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((w,A)=>f.set(w,A)),!(f.size()>=i)););return lt.resolve(f)}ht(t,e,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new a2(e,r));let c=this.hr.get(e);void 0===c&&(c=jn(),this.hr.set(e,c)),this.hr.set(e,c.add(r.key))}}class E2{constructor(){this.Pr=new zr(Lo.Ir),this.Tr=new zr(Lo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const r=new Lo(t,e);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Ar(new Lo(t,e))}Rr(t,e){t.forEach(r=>this.removeReference(r,e))}Vr(t){const e=new Zt(new Qn([])),r=new Lo(e,t),i=new Lo(e,t+1),c=[];return this.Tr.forEachInRange([r,i],d=>{this.Ar(d),c.push(d.key)}),c}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new Zt(new Qn([])),r=new Lo(e,t),i=new Lo(e,t+1);let c=jn();return this.Tr.forEachInRange([r,i],d=>{c=c.add(d.key)}),c}containsKey(t){const e=new Lo(t,0),r=this.Pr.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Lo{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return Zt.comparator(t.key,e.key)||Rn(t.pr,e.pr)}static Er(t,e){return Rn(t.pr,e.pr)||Zt.comparator(t.key,e.key)}}class Kq{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new zr(Lo.Ir)}checkEmpty(t){return lt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,i){const c=this.yr;this.yr++;const d=new o2(c,e,r,i);this.mutationQueue.push(d);for(const f of i)this.wr=this.wr.add(new Lo(f.key,c)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return lt.resolve(d)}lookupMutationBatch(t,e){return lt.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.br(e+1),c=i<0?0:i;return lt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Lo(e,0),i=new Lo(e,Number.POSITIVE_INFINITY),c=[];return this.wr.forEachInRange([r,i],d=>{const f=this.Sr(d.pr);c.push(f)}),lt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new zr(Rn);return e.forEach(i=>{const c=new Lo(i,0),d=new Lo(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([c,d],f=>{r=r.add(f.pr)})}),lt.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let c=r;Zt.isDocumentKey(c)||(c=c.child(""));const d=new Lo(new Zt(c),0);let f=new zr(Rn);return this.wr.forEachWhile(m=>{const w=m.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(m.pr)),!0)},d),lt.resolve(this.Dr(f))}Dr(t){const e=[];return t.forEach(r=>{const i=this.Sr(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){fn(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return lt.forEach(e.mutations,i=>{const c=new Lo(i.key,e.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,e){const r=new Lo(e,0),i=this.wr.firstAfterOrEqual(r);return lt.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return lt.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class qq{constructor(t){this.vr=t,this.docs=new Zr(Zt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),c=i?i.size:0,d=this.vr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return lt.resolve(r?r.document.mutableCopy():ci.newInvalidDocument(e))}getEntries(t,e){let r=Da();return e.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():ci.newInvalidDocument(i))}),lt.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let c=Da();const d=e.path,f=new Zt(d.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:w,value:{document:A}}=m.getNext();if(!d.isPrefixOf(w.path))break;w.path.length>d.length+1||JR(new Us((n=A).readTime,n.key,-1),r)<=0||(i.has(A.key)||GC(e,A))&&(c=c.insert(A.key,A.mutableCopy()))}var n;return lt.resolve(c)}getAllFromCollectionGroup(t,e,r,i){tn()}Fr(t,e){return lt.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new Xq(this)}getSize(t){return lt.resolve(this.size)}}class Xq extends x5{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),lt.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class Qq{constructor(t){this.persistence=t,this.Mr=new Ad(e=>Hm(e),HC),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new E2,this.targetCount=0,this.Lr=Ym.Nn()}forEachTarget(t,e){return this.Mr.forEach((r,i)=>e(i)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Or&&(this.Or=e),lt.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new Ym(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.qn(e),lt.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,r){let i=0;const c=[];return this.Mr.forEach((d,f)=>{f.sequenceNumber<=e&&null===r.get(f.targetId)&&(this.Mr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,f.targetId)),i++)}),lt.waitFor(c).next(()=>i)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const r=this.Mr.get(e)||null;return lt.resolve(r)}addMatchingKeys(t,e,r){return this.Nr.dr(e,r),lt.resolve()}removeMatchingKeys(t,e,r){this.Nr.Rr(e,r);const i=this.persistence.referenceDelegate,c=[];return i&&e.forEach(d=>{c.push(i.markPotentiallyOrphaned(t,d))}),lt.waitFor(c)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Nr.gr(e);return lt.resolve(r)}containsKey(t,e){return lt.resolve(this.Nr.containsKey(e))}}class w2{constructor(t,e){this.Br={},this.overlays={},this.kr=new js(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Qq(this),this.indexManager=new Fq,this.remoteDocumentCache=new qq(r=>this.referenceDelegate.Kr(r)),this.serializer=new s5(e),this.$r=new Gq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Wq,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.Br[t.toKey()];return r||(r=new Kq(e,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,r){Ot("MemoryPersistence","Starting transaction:",t);const i=new Yq(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(c=>this.referenceDelegate.Wr(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}Gr(t,e){return lt.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,e)))}}class Yq extends zV{constructor(t){super(),this.currentSequenceNumber=t}}class AO{constructor(t){this.persistence=t,this.zr=new E2,this.jr=null}static Hr(t){return new AO(t)}get Jr(){if(this.jr)return this.jr;throw tn()}addReference(t,e,r){return this.zr.addReference(r,e),this.Jr.delete(r.toString()),lt.resolve()}removeReference(t,e,r){return this.zr.removeReference(r,e),this.Jr.add(r.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),lt.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(c=>this.Jr.add(c.toString()))}).next(()=>r.removeTargetData(t,e))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.Jr,r=>{const i=Zt.fromPath(r);return this.Yr(t,i).next(c=>{c||e.removeEntry(i,gn.min())})}).next(()=>(this.jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Yr(t,e).next(r=>{r?this.Jr.delete(e.toString()):this.Jr.add(e.toString())})}Kr(t){return 0}Yr(t,e){return lt.or([()=>lt.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class T2{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.qi=r,this.Qi=i}static Ki(t,e){let r=jn(),i=jn();for(const c of e.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new T2(t,e.fromCache,r,i)}}class Jq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class F5{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function Tv(){return!function NF(){var n;const t=null===(n=am())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function GV(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}(gi())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,r,i){const c={result:null};return this.ji(t,e).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Hi(t,e,i,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Jq;return this.Ji(t,e,d).next(f=>{if(c.result=f,this.Ui)return this.Yi(t,e,d,f.size)})}).next(()=>c.result)}Yi(t,e,r,i){return r.documentReadCount<this.Wi?(vd()<=qn.DEBUG&&Ot("QueryEngine","SDK will not create cache indexes for query:",cb(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),lt.resolve()):(vd()<=qn.DEBUG&&Ot("QueryEngine","Query:",cb(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(vd()<=qn.DEBUG&&Ot("QueryEngine","The SDK decides to create cache indexes for query:",cb(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ys(e))):lt.resolve())}ji(t,e){if(pz(e))return lt.resolve(null);let r=ys(e);return this.indexManager.getIndexType(t,r).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=fO(e,null,"F"),r=ys(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const d=jn(...c);return this.zi.getDocuments(t,d).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const w=this.Zi(e,f);return this.Xi(e,w,d,m.readTime)?this.ji(t,fO(e,null,"F")):this.es(t,w,e,m)}))})))}Hi(t,e,r,i){return pz(e)||i.isEqual(gn.min())?lt.resolve(null):this.zi.getDocuments(t,r).next(c=>{const d=this.Zi(e,c);return this.Xi(e,d,r,i)?lt.resolve(null):(vd()<=qn.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cb(e)),this.es(t,d,e,function ZR(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=gn.fromTimestamp(1e9===r?new ai(e+1,0):new ai(e,r));return new Us(i,Zt.empty(),t)}(i,-1)).next(f=>f))})}Zi(t,e){let r=new zr(yz(t));return e.forEach((i,c)=>{GC(t,c)&&(r=r.add(c))}),r}Xi(t,e,r,i){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const c="F"===t.limitType?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Ji(t,e,r){return vd()<=qn.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",cb(e)),this.zi.getDocumentsMatchingQuery(t,e,Us.min(),r)}es(t,e,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(c=>(e.forEach(d=>{c=c.insert(d.key,d)}),c))}}class e7{constructor(t,e,r,i){this.persistence=t,this.ts=e,this.serializer=i,this.ns=new Zr(Rn),this.rs=new Ad(c=>Hm(c),HC),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new P5(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ns))}}function V5(n,t){return A2.apply(this,arguments)}function A2(){return(A2=(0,x.A)(function*(n,t){const e=Xt(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(c=>(i=c,e._s(t),e.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],f=[];let m=jn();for(const w of i){d.push(w.batchId);for(const A of w.mutations)m=m.add(A.key)}for(const w of c){f.push(w.batchId);for(const A of w.mutations)m=m.add(A.key)}return e.localDocuments.getDocuments(r,m).next(w=>({us:w,removedBatchIds:d,addedBatchIds:f}))})})})).apply(this,arguments)}function B5(n){const t=Xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function r7(n,t){const e=Xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function bb(n,t,e){return S2.apply(this,arguments)}function S2(){return(S2=(0,x.A)(function*(n,t,e){const r=Xt(n),i=r.ns.get(t),c=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Ed(d))throw d;Ot("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)})).apply(this,arguments)}function MO(n,t,e){const r=Xt(n);let i=gn.min(),c=jn();return r.persistence.runTransaction("Execute query","readwrite",d=>function(m,w,A){const R=Xt(m),U=R.rs.get(A);return void 0!==U?lt.resolve(R.ns.get(U)):R.Qr.getTargetData(w,A)}(r,d,ys(t)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(d,f.targetId).next(m=>{c=m})}).next(()=>r.ts.getDocumentsMatchingQuery(d,t,e?i:gn.min(),e?c:jn())).next(f=>(function H5(n,t,e){let r=n.ss.get(t)||gn.min();e.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.ss.set(t,r)}(r,function vz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),f),{documents:f,hs:c})))}class k2{constructor(){this.activeTargetIds=function n2(){return sq}()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class W5{constructor(){this.no=new k2,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,r){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new k2,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class s7{io(t){}shutdown(){}}class K5{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let kO=null;function N2(){return null===kO?kO=268435456+Math.round(2147483648*Math.random()):kO++,"0x"+kO.toString(16)}const a7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class c7{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const Es="WebChannelConnection";class l7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+e.host,this.So=`projects/${i}/databases/${c}`,this.bo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${c}`}get Do(){return!1}Co(e,r,i,c,d){const f=N2(),m=this.vo(e,r.toUriEncodedString());Ot("RestConnection",`Sending RPC '${e}' ${f}:`,m,i);const w={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(w,c,d),this.Mo(e,m,w,i).then(A=>(Ot("RestConnection",`Received RPC '${e}' ${f}: `,A),A),A=>{throw Bs("RestConnection",`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",i),A})}xo(e,r,i,c,d,f){return this.Co(e,r,i,c,d)}Fo(e,r,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((c,d)=>e[d]=c),i&&i.headers.forEach((c,d)=>e[d]=c)}vo(e,r){return`${this.wo}/v1/${r}:${a7[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,e,r,i){const c=N2();return new Promise((d,f)=>{const m=new NV;m.setWithCredentials(!0),m.listenOnce(jR.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case RC.NO_ERROR:const A=m.getResponseJson();Ot(Es,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case RC.TIMEOUT:Ot(Es,`RPC '${t}' ${c} timed out`),f(new Mt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case RC.HTTP_ERROR:const R=m.getStatus();if(Ot(Es,`RPC '${t}' ${c} failed with status:`,R,"response text:",m.getResponseText()),R>0){let U=m.getResponseJson();Array.isArray(U)&&(U=U[0]);const K=U?.error;if(K&&K.status&&K.message){const pe=function(he){const ht=he.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(ht)>=0?ht:pt.UNKNOWN}(K.status);f(new Mt(pe,K.message))}else f(new Mt(pt.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Mt(pt.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{Ot(Es,`RPC '${t}' ${c} completed.`)}});const w=JSON.stringify(i);Ot(Es,`RPC '${t}' ${c} sending request:`,i),m.send(e,"POST",w,r,15)})}Oo(t,e,r){const i=N2(),c=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=LV(),f=zR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(m.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(m.xmlHttpFactory=new FV({})),this.Fo(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const A=c.join("");Ot(Es,`Creating RPC '${t}' stream ${i}: ${A}`,m);const R=d.createWebChannel(A,m);let U=!1,K=!1;const pe=new c7({lo:he=>{K?Ot(Es,`Not sending because RPC '${t}' stream ${i} is closed:`,he):(U||(Ot(Es,`Opening RPC '${t}' stream ${i} transport.`),R.open(),U=!0),Ot(Es,`RPC '${t}' stream ${i} sending:`,he),R.send(he))},ho:()=>R.close()}),fe=(he,ht,vt)=>{he.listen(ht,Et=>{try{vt(Et)}catch(zt){setTimeout(()=>{throw zt},0)}})};return fe(R,Jy.EventType.OPEN,()=>{K||(Ot(Es,`RPC '${t}' stream ${i} transport opened.`),pe.mo())}),fe(R,Jy.EventType.CLOSE,()=>{K||(K=!0,Ot(Es,`RPC '${t}' stream ${i} transport closed`),pe.po())}),fe(R,Jy.EventType.ERROR,he=>{K||(K=!0,Bs(Es,`RPC '${t}' stream ${i} transport errored:`,he),pe.po(new Mt(pt.UNAVAILABLE,"The operation could not be completed")))}),fe(R,Jy.EventType.MESSAGE,he=>{var ht;if(!K){const vt=he.data[0];fn(!!vt);const zt=vt.error||(null===(ht=vt[0])||void 0===ht?void 0:ht.error);if(zt){Ot(Es,`RPC '${t}' stream ${i} received error:`,zt);const vn=zt.status;let an=function(we){const je=fo[we];if(void 0!==je)return Vz(je)}(vn),Ve=zt.message;void 0===an&&(an=pt.INTERNAL,Ve="Unknown error status: "+vn+" with message "+zt.message),K=!0,pe.po(new Mt(an,Ve)),R.close()}else Ot(Es,`RPC '${t}' stream ${i} received:`,vt),pe.yo(vt)}}),fe(f,HR.STAT_EVENT,he=>{he.stat===$R.PROXY?Ot(Es,`RPC '${t}' stream ${i} detected buffering proxy`):he.stat===$R.NOPROXY&&Ot(Es,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{pe.fo()},0),pe}}function PO(){return typeof document<"u"?document:null}function cD(n){return new yq(n,!0)}class F2{constructor(t,e,r=1e3,i=1.5,c=6e4){this.oi=t,this.timerId=e,this.No=r,this.Lo=i,this.Bo=c,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const e=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,e-r);i>0&&Ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class X5{constructor(t,e,r,i,c,d,f,m){this.oi=t,this.Go=r,this.zo=i,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new F2(t,e)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var t=this;return(0,x.A)(function*(){t.Zo()&&(yield t.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){var t=this;return(0,x.A)(function*(){if(t.Xo())return t.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,e){var r=this;return(0,x.A)(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==t?r.Yo.reset():e&&e.code===pt.RESOURCE_EXHAUSTED?(Si(e.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):e&&e.code===pt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Ao(e)})()}__(){}auth(){this.state=1;const t=this.a_(this.jo),e=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===e&&this.u_(r,i)},r=>{t(()=>{const i=new Mt(pt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(t,e){const r=this.a_(this.jo);this.stream=this.l_(t,e),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){var t=this;this.state=5,this.Yo.$o((0,x.A)(function*(){t.state=0,t.start()}))}c_(t){return Ot("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return e=>{this.oi.enqueueAndForget(()=>this.jo===t?e():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class u7 extends X5{constructor(t,e,r,i,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,d),this.serializer=c}l_(t,e){return this.connection.Oo("Listen",t,e)}onMessage(t){this.Yo.reset();const e=function wq(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(w=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:tn(),i=t.targetChange.targetIds||[],c=function(w,A){return w.useProto3Json?(fn(void 0===A||"string"==typeof A),Io.fromBase64String(A||"")):(fn(void 0===A||A instanceof Buffer||A instanceof Uint8Array),Io.fromUint8Array(A||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,f=d&&function(w){const A=void 0===w.code?pt.UNKNOWN:Vz(w.code);return new Mt(A,w.message||"")}(d);e=new Hz(r,i,c,f||null)}else if("documentChange"in t){const r=t.documentChange,i=_u(n,r.document.name),c=Yi(r.document.updateTime),d=r.document.createTime?Yi(r.document.createTime):gn.min(),f=new es({mapValue:{fields:r.document.fields}}),m=ci.newFoundDocument(i,c,d,f);e=new vO(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const r=t.documentDelete,i=_u(n,r.document),c=r.readTime?Yi(r.readTime):gn.min(),d=ci.newNoDocument(i,c);e=new vO([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const r=t.documentRemove,i=_u(n,r.document);e=new vO([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return tn();{const r=t.filter,{count:i=0,unchangedNames:c}=r,d=new fq(i,c);e=new $z(r.targetId,d)}}var w;return e}(this.serializer,t),r=function(c){if(!("targetChange"in c))return gn.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?gn.min():d.readTime?Yi(d.readTime):gn.min()}(t);return this.listener.h_(e,r)}P_(t){const e={};e.database=h2(this.serializer),e.addTarget=function(c,d){let f;const m=d.target;if(f=dO(m)?{documents:e5(c,m)}:{query:yO(c,m)._t},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=Kz(c,d.resumeToken);const w=l2(c,d.expectedCount);null!==w&&(f.expectedCount=w)}else if(d.snapshotVersion.compareTo(gn.min())>0){f.readTime=fb(c,d.snapshotVersion.toTimestamp());const w=l2(c,d.expectedCount);null!==w&&(f.expectedCount=w)}return f}(this.serializer,t);const r=function Cq(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.i_(e)}I_(t){const e={};e.database=h2(this.serializer),e.removeTarget=t,this.i_(e)}}class d7 extends X5{constructor(t,e,r,i,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,d),this.serializer=c,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,e){return this.connection.Oo("Write",t,e)}onMessage(t){if(fn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const e=function Iq(n,t){return n&&n.length>0?(fn(void 0!==t),n.map(e=>function(i,c){let d=Yi(i.updateTime?i.updateTime:c);return d.isEqual(gn.min())&&(d=Yi(c)),new uq(d,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Yi(t.commitTime);return this.listener.A_(r,e)}return fn(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=h2(this.serializer),this.i_(t)}d_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>eD(this.serializer,r))};this.i_(e)}}class h7 extends class{}{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Mt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,e,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(t,d2(e,r),i,c,d)).catch(c=>{throw"FirebaseError"===c.name?(c.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Mt(pt.UNKNOWN,c.toString())})}xo(t,e,r,i,c){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.xo(t,d2(e,r),i,d,f,c)).catch(d=>{throw"FirebaseError"===d.name?(d.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Mt(pt.UNKNOWN,d.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class f7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Si(e),this.y_=!1):Ot("OnlineStateTracker",e)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class p7{constructor(t,e,r,i,c){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=c,this.O_.io(f=>{r.enqueueAndForget((0,x.A)(function*(){var m;Sf(d)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,x.A)(function*(A){const R=Xt(A);R.M_.add(4),yield Eb(R),R.N_.set("Unknown"),R.M_.delete(4),yield lD(R)}),function w(A){return m.apply(this,arguments)})(d))}))}),this.N_=new f7(r,i)}}function lD(n){return L2.apply(this,arguments)}function L2(){return(L2=(0,x.A)(function*(n){if(Sf(n))for(const t of n.x_)yield t(!0)})).apply(this,arguments)}function Eb(n){return V2.apply(this,arguments)}function V2(){return(V2=(0,x.A)(function*(n){for(const t of n.x_)yield t(!1)})).apply(this,arguments)}function NO(n,t){const e=Xt(n);e.F_.has(t.targetId)||(e.F_.set(t.targetId,t),j2(e)?U2(e):Cb(e).Xo()&&B2(e,t))}function wb(n,t){const e=Xt(n),r=Cb(e);e.F_.delete(t),r.Xo()&&Q5(e,t),0===e.F_.size&&(r.Xo()?r.n_():Sf(e)&&e.N_.set("Unknown"))}function B2(n,t){if(n.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Cb(n).P_(t)}function Q5(n,t){n.L_.xe(t),Cb(n).I_(t)}function U2(n){n.L_=new mq({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.F_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),Cb(n).start(),n.N_.w_()}function j2(n){return Sf(n)&&!Cb(n).Zo()&&n.F_.size>0}function Sf(n){return 0===Xt(n).M_.size}function Y5(n){n.L_=void 0}function m7(n){return $2.apply(this,arguments)}function $2(){return($2=(0,x.A)(function*(n){n.N_.set("Online")})).apply(this,arguments)}function g7(n){return H2.apply(this,arguments)}function H2(){return(H2=(0,x.A)(function*(n){n.F_.forEach((t,e)=>{B2(n,t)})})).apply(this,arguments)}function _7(n,t){return z2.apply(this,arguments)}function z2(){return(z2=(0,x.A)(function*(n,t){Y5(n),j2(n)?(n.N_.D_(t),U2(n)):n.N_.set("Unknown")})).apply(this,arguments)}function v7(n,t,e){return G2.apply(this,arguments)}function G2(){return G2=(0,x.A)(function*(n,t,e){if(n.N_.set("Online"),t instanceof Hz&&2===t.state&&t.cause)try{yield(r=(0,x.A)(function*(c,d){const f=d.cause;for(const m of d.targetIds)c.F_.has(m)&&(yield c.remoteSyncer.rejectListen(m,f),c.F_.delete(m),c.L_.removeTarget(m))}),function i(c,d){return r.apply(this,arguments)})(n,t)}catch(r){Ot("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield FO(n,r)}else if(t instanceof vO?n.L_.Ke(t):t instanceof $z?n.L_.He(t):n.L_.We(t),!e.isEqual(gn.min()))try{const r=yield B5(n.localStore);e.compareTo(r)>=0&&(yield function(c,d){const f=c.L_.rt(d);return f.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const A=c.F_.get(w);A&&c.F_.set(w,A.withResumeToken(m.resumeToken,d))}}),f.targetMismatches.forEach((m,w)=>{const A=c.F_.get(m);if(!A)return;c.F_.set(m,A.withResumeToken(Io.EMPTY_BYTE_STRING,A.snapshotVersion)),Q5(c,m);const R=new xd(A.target,m,w,A.sequenceNumber);B2(c,R)}),c.remoteSyncer.applyRemoteEvent(f)}(n,e))}catch(r){Ot("RemoteStore","Failed to raise snapshot:",r),yield FO(n,r)}var r}),G2.apply(this,arguments)}function FO(n,t,e){return W2.apply(this,arguments)}function W2(){return(W2=(0,x.A)(function*(n,t,e){if(!Ed(t))throw t;n.M_.add(1),yield Eb(n),n.N_.set("Offline"),e||(e=()=>B5(n.localStore)),n.asyncQueue.enqueueRetryable((0,x.A)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield e(),n.M_.delete(1),yield lD(n)}))})).apply(this,arguments)}function Z5(n,t){return t().catch(e=>FO(n,e,t))}function Ib(n){return K2.apply(this,arguments)}function K2(){return(K2=(0,x.A)(function*(n){const t=Xt(n),e=xf(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;y7(t);)try{const i=yield r7(t.localStore,r);if(null===i){0===t.v_.length&&e.n_();break}r=i.batchId,b7(t,i)}catch(i){yield FO(t,i)}J5(t)&&eG(t)})).apply(this,arguments)}function y7(n){return Sf(n)&&n.v_.length<10}function b7(n,t){n.v_.push(t);const e=xf(n);e.Xo()&&e.E_&&e.d_(t.mutations)}function J5(n){return Sf(n)&&!xf(n).Zo()&&n.v_.length>0}function eG(n){xf(n).start()}function E7(n){return q2.apply(this,arguments)}function q2(){return(q2=(0,x.A)(function*(n){xf(n).V_()})).apply(this,arguments)}function w7(n){return X2.apply(this,arguments)}function X2(){return(X2=(0,x.A)(function*(n){const t=xf(n);for(const e of n.v_)t.d_(e.mutations)})).apply(this,arguments)}function I7(n,t,e){return Q2.apply(this,arguments)}function Q2(){return(Q2=(0,x.A)(function*(n,t,e){const r=n.v_.shift(),i=s2.from(r,t,e);yield Z5(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Ib(n)})).apply(this,arguments)}function C7(n,t){return Y2.apply(this,arguments)}function Y2(){return Y2=(0,x.A)(function*(n,t){var e;t&&xf(n).E_&&(yield(e=(0,x.A)(function*(i,c){if(Lz(f=c.code)&&f!==pt.ABORTED){const d=i.v_.shift();xf(i).t_(),yield Z5(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,c)),yield Ib(i)}var f}),function r(i,c){return e.apply(this,arguments)})(n,t)),J5(n)&&eG(n)}),Y2.apply(this,arguments)}function tG(n,t){return Z2.apply(this,arguments)}function Z2(){return(Z2=(0,x.A)(function*(n,t){const e=Xt(n);e.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const r=Sf(e);e.M_.add(3),yield Eb(e),r&&e.N_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.M_.delete(3),yield lD(e)})).apply(this,arguments)}function J2(n,t){return eB.apply(this,arguments)}function eB(){return(eB=(0,x.A)(function*(n,t){const e=Xt(n);t?(e.M_.delete(2),yield lD(e)):t||(e.M_.add(2),yield Eb(e),e.N_.set("Unknown"))})).apply(this,arguments)}function Cb(n){return n.B_||(n.B_=function(e,r,i){const c=Xt(e);return c.f_(),new u7(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{Po:m7.bind(null,n),To:g7.bind(null,n),Ao:_7.bind(null,n),h_:v7.bind(null,n)}),n.x_.push(function(){var t=(0,x.A)(function*(e){e?(n.B_.t_(),j2(n)?U2(n):n.N_.set("Unknown")):(yield n.B_.stop(),Y5(n))});return function(e){return t.apply(this,arguments)}}())),n.B_}function xf(n){return n.k_||(n.k_=function(e,r,i){const c=Xt(e);return c.f_(),new d7(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:E7.bind(null,n),Ao:C7.bind(null,n),R_:w7.bind(null,n),A_:I7.bind(null,n)}),n.x_.push(function(){var t=(0,x.A)(function*(e){e?(n.k_.t_(),yield Ib(n)):(yield n.k_.stop(),n.v_.length>0&&(Ot("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(e){return t.apply(this,arguments)}}())),n.k_}class tB{constructor(t,e,r,i,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,c){const d=Date.now()+r,f=new tB(t,e,d,i,c);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mt(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Db(n,t){if(Si("AsyncQueue",`${t}: ${n}`),Ed(n))return new Mt(pt.UNAVAILABLE,`${t}: ${n}`);throw n}class Tb{constructor(t){this.comparator=t?(e,r)=>t(e,r)||Zt.comparator(e.key,r.key):(e,r)=>Zt.comparator(e.key,r.key),this.keyedMap=WC(),this.sortedSet=new Zr(this.comparator)}static emptySet(t){return new Tb(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Tb)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Tb;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class nG{constructor(){this.q_=new Zr(Zt.comparator)}track(t){const e=t.doc.key,r=this.q_.get(e);r?0!==t.type&&3===r.type?this.q_=this.q_.insert(e,t):3===t.type&&1!==r.type?this.q_=this.q_.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.q_=this.q_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.q_=this.q_.remove(e):1===t.type&&2===r.type?this.q_=this.q_.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):tn():this.q_=this.q_.insert(e,t)}Q_(){const t=[];return this.q_.inorderTraversal((e,r)=>{t.push(r)}),t}}class Ab{constructor(t,e,r,i,c,d,f,m,w){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=w}static fromInitialDocuments(t,e,r,i,c){const d=[];return e.forEach(f=>{d.push({type:0,doc:f})}),new Ab(t,e,Tb.emptySet(e),d,r,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&zC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class D7{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class T7{constructor(){this.queries=new Ad(t=>_z(t),zC),this.onlineState="Unknown",this.z_=new Set}}function nB(n,t){return rB.apply(this,arguments)}function rB(){return(rB=(0,x.A)(function*(n,t){const e=Xt(n);let r=3;const i=t.query;let c=e.queries.get(i);c?!c.W_()&&t.G_()&&(r=2):(c=new D7,r=t.G_()?0:1);try{switch(r){case 0:c.K_=yield e.onListen(i,!0);break;case 1:c.K_=yield e.onListen(i,!1);break;case 2:yield e.onFirstRemoteStoreListen(i)}}catch(d){const f=Db(d,`Initialization of query '${cb(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,c),c.U_.push(t),t.j_(e.onlineState),c.K_&&t.H_(c.K_)&&sB(e)})).apply(this,arguments)}function iB(n,t){return oB.apply(this,arguments)}function oB(){return(oB=(0,x.A)(function*(n,t){const e=Xt(n),r=t.query;let i=3;const c=e.queries.get(r);if(c){const d=c.U_.indexOf(t);d>=0&&(c.U_.splice(d,1),0===c.U_.length?i=t.G_()?0:1:!c.W_()&&t.G_()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function A7(n,t){const e=Xt(n);let r=!1;for(const i of t){const d=e.queries.get(i.query);if(d){for(const f of d.U_)f.H_(i)&&(r=!0);d.K_=i}}r&&sB(e)}function S7(n,t,e){const r=Xt(n),i=r.queries.get(t);if(i)for(const c of i.U_)c.onError(e);r.queries.delete(t)}function sB(n){n.z_.forEach(t=>{t.next()})}var aB,rG;(rG=aB||(aB={})).J_="default",rG.Cache="cache";class cB{constructor(t,e,r){this.query=t,this.Y_=e,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new Ab(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),e=!0):this.ta(t,this.onlineState)&&(this.na(t),e=!0),this.X_=t,e}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let e=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),e=!0),e}ta(t,e){return!t.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ea(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(t){t=Ab.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==aB.Cache}}class sG{constructor(t){this.key=t}}class aG{constructor(t){this.key=t}}class cG{constructor(t,e){this.query=t,this.la=e,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=jn(),this.mutatedKeys=jn(),this.Ia=yz(t),this.Ta=new Tb(this.Ia)}get Ea(){return this.la}da(t,e){const r=e?e.Aa:new nG,i=e?e.Ta:this.Ta;let c=e?e.mutatedKeys:this.mutatedKeys,d=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((A,R)=>{const U=i.get(A),K=GC(this.query,R)?R:null,pe=!!U&&this.mutatedKeys.has(U.key),fe=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let he=!1;U&&K?U.data.isEqual(K.data)?pe!==fe&&(r.track({type:3,doc:K}),he=!0):this.Ra(U,K)||(r.track({type:2,doc:K}),he=!0,(m&&this.Ia(K,m)>0||w&&this.Ia(K,w)<0)&&(f=!0)):!U&&K?(r.track({type:0,doc:K}),he=!0):U&&!K&&(r.track({type:1,doc:U}),he=!0,(m||w)&&(f=!0)),he&&(K?(d=d.add(K),c=fe?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{Ta:d,Aa:r,Xi:f,mutatedKeys:c}}Ra(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){const c=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const d=t.Aa.Q_();d.sort((A,R)=>function(K,pe){const fe=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return fe(K)-fe(pe)}(A.type,R.type)||this.Ia(A.doc,R.doc)),this.Va(r),i=null!=i&&i;const f=e&&!i?this.ma():[],m=0===this.Pa.size&&this.current&&!i?1:0,w=m!==this.ha;return this.ha=m,0!==d.length||w?{snapshot:new Ab(this.query,t.Ta,c,d,t.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:f}:{fa:f}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new nG,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(e=>this.la=this.la.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.la=this.la.delete(e)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=jn(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const e=[];return t.forEach(r=>{this.Pa.has(r)||e.push(new aG(r))}),this.Pa.forEach(r=>{t.has(r)||e.push(new sG(r))}),e}pa(t){this.la=t.hs,this.Pa=jn();const e=this.da(t.documents);return this.applyChanges(e,!0)}ya(){return Ab.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class R7{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class O7{constructor(t){this.key=t,this.wa=!1}}class k7{constructor(t,e,r,i,c,d){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Sa={},this.ba=new Ad(f=>_z(f),zC),this.Da=new Map,this.Ca=new Set,this.va=new Zr(Zt.comparator),this.Fa=new Map,this.Ma=new E2,this.xa={},this.Oa=new Map,this.Na=Ym.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function P7(n,t){return lB.apply(this,arguments)}function lB(){return(lB=(0,x.A)(function*(n,t,e=!0){const r=LO(n);let i;const c=r.ba.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),i=c.view.ya()):i=yield lG(r,t,e,!0),i})).apply(this,arguments)}function N7(n,t){return uB.apply(this,arguments)}function uB(){return(uB=(0,x.A)(function*(n,t){const e=LO(n);yield lG(e,t,!0,!1)})).apply(this,arguments)}function lG(n,t,e,r){return dB.apply(this,arguments)}function dB(){return(dB=(0,x.A)(function*(n,t,e,r){const i=yield function yb(n,t){const e=Xt(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Qr.getTargetData(r,t).next(c=>c?(i=c,lt.resolve(i)):e.Qr.allocateTargetId(r).next(d=>(i=new xd(t,d,"TargetPurposeListen",r.currentSequenceNumber),e.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.ns=e.ns.insert(r.targetId,r),e.rs.set(t,r.targetId)),r})}(n.localStore,ys(t)),c=i.targetId,d=e?n.sharedClientState.addLocalQueryTarget(c):"not-current";let f;return r&&(f=yield function hB(n,t,e,r,i){return fB.apply(this,arguments)}(n,t,c,"current"===d,i.resumeToken)),n.isPrimaryClient&&e&&NO(n.remoteStore,i),f})).apply(this,arguments)}function fB(){return fB=(0,x.A)(function*(n,t,e,r,i){n.Ba=(R,U,K)=>{return(pe=(0,x.A)(function*(he,ht,vt,Et){let zt=ht.view.da(vt);zt.Xi&&(zt=yield MO(he.localStore,ht.query,!1).then(({documents:le})=>ht.view.da(le,zt)));const vn=Et&&Et.targetChanges.get(ht.targetId),an=Et&&null!=Et.targetMismatches.get(ht.targetId),Ve=ht.view.applyChanges(zt,he.isPrimaryClient,vn,an);return CB(he,ht.targetId,Ve.fa),Ve.snapshot}),function fe(he,ht,vt,Et){return pe.apply(this,arguments)})(n,R,U,K);var pe};const c=yield MO(n.localStore,t,!0),d=new cG(t,c.hs),f=d.da(c.documents),m=ZC.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState,i),w=d.applyChanges(f,n.isPrimaryClient,m);CB(n,e,w.fa);const A=new R7(t,e,d);return n.ba.set(t,A),n.Da.has(e)?n.Da.get(e).push(t):n.Da.set(e,[t]),w.snapshot}),fB.apply(this,arguments)}function F7(n,t,e){return pB.apply(this,arguments)}function pB(){return(pB=(0,x.A)(function*(n,t,e){const r=Xt(n),i=r.ba.get(t),c=r.Da.get(i.targetId);if(c.length>1)return r.Da.set(i.targetId,c.filter(d=>!zC(d,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield bb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),e&&wb(r.remoteStore,i.targetId),Sb(r,i.targetId)}).catch(pu))):(Sb(r,i.targetId),yield bb(r.localStore,i.targetId,!0))})).apply(this,arguments)}function L7(n,t){return mB.apply(this,arguments)}function mB(){return(mB=(0,x.A)(function*(n,t){const e=Xt(n),r=e.ba.get(t),i=e.Da.get(r.targetId);e.isPrimaryClient&&1===i.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),wb(e.remoteStore,r.targetId))})).apply(this,arguments)}function gB(){return(gB=(0,x.A)(function*(n,t,e){const r=function NB(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=U7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=j7.bind(null,t),t}(n);try{const i=yield function(d,f){const m=Xt(d),w=ai.now(),A=f.reduce((K,pe)=>K.add(pe.key),jn());let R,U;return m.persistence.runTransaction("Locally write mutations","readwrite",K=>{let pe=Da(),fe=jn();return m.os.getEntries(K,A).next(he=>{pe=he,pe.forEach((ht,vt)=>{vt.isValidDocument()||(fe=fe.add(ht))})}).next(()=>m.localDocuments.getOverlayedDocuments(K,pe)).next(he=>{R=he;const ht=[];for(const vt of f){const Et=hq(vt,R.get(vt.key).overlayedDocument);null!=Et&&ht.push(new Sd(vt.key,Et,tz(Et.value.mapValue),vi.exists(!0)))}return m.mutationQueue.addMutationBatch(K,w,ht,f)}).next(he=>{U=he;const ht=he.applyToLocalDocumentSet(R,fe);return m.documentOverlayCache.saveOverlays(K,he.batchId,ht)})}).then(()=>({batchId:U.batchId,changes:Ez(R)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(d,f,m){let w=d.xa[d.currentUser.toKey()];w||(w=new Zr(Rn)),w=w.insert(f,m),d.xa[d.currentUser.toKey()]=w}(r,i.batchId,e),yield Md(r,i.changes),yield Ib(r.remoteStore)}catch(i){const c=Db(i,"Failed to persist write");e.reject(c)}})).apply(this,arguments)}function uG(n,t){return _B.apply(this,arguments)}function _B(){return(_B=(0,x.A)(function*(n,t){const e=Xt(n);try{const r=yield function n7(n,t){const e=Xt(n),r=t.snapshotVersion;let i=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=e.os.newChangeBuffer({trackRemovals:!0});i=e.ns;const f=[];t.targetChanges.forEach((A,R)=>{const U=i.get(R);if(!U)return;f.push(e.Qr.removeMatchingKeys(c,A.removedDocuments,R).next(()=>e.Qr.addMatchingKeys(c,A.addedDocuments,R)));let K=U.withSequenceNumber(c.currentSequenceNumber);var fe,he,ht;null!==t.targetMismatches.get(R)?K=K.withResumeToken(Io.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),i=i.insert(R,K),he=K,ht=A,(0===(fe=U).resumeToken.approximateByteSize()||he.snapshotVersion.toMicroseconds()-fe.snapshotVersion.toMicroseconds()>=3e8||ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0)&&f.push(e.Qr.updateTargetData(c,K))});let m=Da(),w=jn();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(c,A))}),f.push(function U5(n,t,e){let r=jn(),i=jn();return e.forEach(c=>r=r.add(c)),t.getEntries(n,r).next(c=>{let d=Da();return e.forEach((f,m)=>{const w=c.get(f);m.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(gn.min())?(t.removeEntry(f,m.readTime),d=d.insert(f,m)):!w.isValidDocument()||m.version.compareTo(w.version)>0||0===m.version.compareTo(w.version)&&w.hasPendingWrites?(t.addEntry(m),d=d.insert(f,m)):Ot("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",m.version)}),{cs:d,ls:i}})}(c,d,t.documentUpdates).next(A=>{m=A.cs,w=A.ls})),!r.isEqual(gn.min())){const A=e.Qr.getLastRemoteSnapshotVersion(c).next(R=>e.Qr.setTargetsMetadata(c,c.currentSequenceNumber,r));f.push(A)}return lt.waitFor(f).next(()=>d.apply(c)).next(()=>e.localDocuments.getLocalViewOfDocuments(c,m,w)).next(()=>m)}).then(c=>(e.ns=i,c))}(e.localStore,t);t.targetChanges.forEach((i,c)=>{const d=e.Fa.get(c);d&&(fn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.wa=!0:i.modifiedDocuments.size>0?fn(d.wa):i.removedDocuments.size>0&&(fn(d.wa),d.wa=!1))}),yield Md(e,r,t)}catch(r){yield pu(r)}})).apply(this,arguments)}function dG(n,t,e){const r=Xt(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.ba.forEach((c,d)=>{const f=d.view.j_(t);f.snapshot&&i.push(f.snapshot)}),function(d,f){const m=Xt(d);m.onlineState=f;let w=!1;m.queries.forEach((A,R)=>{for(const U of R.U_)U.j_(f)&&(w=!0)}),w&&sB(m)}(r.eventManager,t),i.length&&r.Sa.h_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function B7(n,t,e){return vB.apply(this,arguments)}function vB(){return(vB=(0,x.A)(function*(n,t,e){const r=Xt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.Fa.get(t),c=i&&i.key;if(c){let d=new Zr(Zt.comparator);d=d.insert(c,ci.newNoDocument(c,gn.min()));const f=jn().add(c),m=new YC(gn.min(),new Map,new Zr(Rn),d,f);yield uG(r,m),r.va=r.va.remove(c),r.Fa.delete(t),DB(r)}else yield bb(r.localStore,t,!1).then(()=>Sb(r,t,e)).catch(pu)})).apply(this,arguments)}function U7(n,t){return yB.apply(this,arguments)}function yB(){return(yB=(0,x.A)(function*(n,t){const e=Xt(n),r=t.batch.batchId;try{const i=yield function t7(n,t){const e=Xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),c=e.os.newChangeBuffer({trackRemovals:!0});return function(f,m,w,A){const R=w.batch,U=R.keys();let K=lt.resolve();return U.forEach(pe=>{K=K.next(()=>A.getEntry(m,pe)).next(fe=>{const he=w.docVersions.get(pe);fn(null!==he),fe.version.compareTo(he)<0&&(R.applyToRemoteDocument(fe,w),fe.isValidDocument()&&(fe.setReadTime(w.commitVersion),A.addEntry(fe)))})}),K.next(()=>f.mutationQueue.removeMutationBatch(m,R))}(e,r,t,c).next(()=>c.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=jn();for(let w=0;w<f.mutationResults.length;++w)f.mutationResults[w].transformResults.length>0&&(m=m.add(f.batch.mutations[w].key));return m}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}(e.localStore,t);IB(e,r,null),wB(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Md(e,i)}catch(i){yield pu(i)}})).apply(this,arguments)}function j7(n,t,e){return bB.apply(this,arguments)}function bB(){return(bB=(0,x.A)(function*(n,t,e){const r=Xt(n);try{const i=yield function(d,f){const m=Xt(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let A;return m.mutationQueue.lookupMutationBatch(w,f).next(R=>(fn(null!==R),A=R.keys(),m.mutationQueue.removeMutationBatch(w,R))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,A,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,A)).next(()=>m.localDocuments.getDocuments(w,A))})}(r.localStore,t);IB(r,t,e),wB(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield Md(r,i)}catch(i){yield pu(i)}})).apply(this,arguments)}function EB(){return(EB=(0,x.A)(function*(n,t){const e=Xt(n);Sf(e.remoteStore)||Ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(d){const f=Xt(d);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.mutationQueue.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===r)return void t.resolve();const i=e.Oa.get(r)||[];i.push(t),e.Oa.set(r,i)}catch(r){const i=Db(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}})).apply(this,arguments)}function wB(n,t){(n.Oa.get(t)||[]).forEach(e=>{e.resolve()}),n.Oa.delete(t)}function IB(n,t,e){const r=Xt(n);let i=r.xa[r.currentUser.toKey()];if(i){const c=i.get(t);c&&(e?c.reject(e):c.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Sb(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Da.get(t))n.ba.delete(r),e&&n.Sa.ka(r,e);n.Da.delete(t),n.isPrimaryClient&&n.Ma.Vr(t).forEach(r=>{n.Ma.containsKey(r)||hG(n,r)})}function hG(n,t){n.Ca.delete(t.path.canonicalString());const e=n.va.get(t);null!==e&&(wb(n.remoteStore,e),n.va=n.va.remove(t),n.Fa.delete(e),DB(n))}function CB(n,t,e){for(const r of e)r instanceof sG?(n.Ma.addReference(r.key,t),H7(n,r)):r instanceof aG?(Ot("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,t),n.Ma.containsKey(r.key)||hG(n,r.key)):tn()}function H7(n,t){const e=t.key,r=e.path.canonicalString();n.va.get(e)||n.Ca.has(r)||(Ot("SyncEngine","New document in limbo: "+e),n.Ca.add(r),DB(n))}function DB(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const t=n.Ca.values().next().value;n.Ca.delete(t);const e=new Zt(Qn.fromString(t)),r=n.Na.next();n.Fa.set(r,new O7(e)),n.va=n.va.insert(e,r),NO(n.remoteStore,new xd(ys(sb(e.path)),r,"TargetPurposeLimboResolution",js.oe))}}function Md(n,t,e){return TB.apply(this,arguments)}function TB(){return TB=(0,x.A)(function*(n,t,e){const r=Xt(n),i=[],c=[],d=[];var f;r.ba.isEmpty()||(r.ba.forEach((f,m)=>{d.push(r.Ba(m,t,e).then(w=>{var A;if((w||e)&&r.isPrimaryClient){const R=w?!w.fromCache:null===(A=e?.targetChanges.get(m.targetId))||void 0===A?void 0:A.current;r.sharedClientState.updateQueryState(m.targetId,R?"current":"not-current")}if(w){i.push(w);const R=T2.Ki(m.targetId,w);c.push(R)}}))}),yield Promise.all(d),r.Sa.h_(i),yield(f=(0,x.A)(function*(w,A){const R=Xt(w);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>lt.forEach(A,K=>lt.forEach(K.qi,pe=>R.persistence.referenceDelegate.addReference(U,K.targetId,pe)).next(()=>lt.forEach(K.Qi,pe=>R.persistence.referenceDelegate.removeReference(U,K.targetId,pe)))))}catch(U){if(!Ed(U))throw U;Ot("LocalStore","Failed to update sequence numbers: "+U)}for(const U of A){const K=U.targetId;if(!U.fromCache){const pe=R.ns.get(K),he=pe.withLastLimboFreeSnapshotVersion(pe.snapshotVersion);R.ns=R.ns.insert(K,he)}}}),function m(w,A){return f.apply(this,arguments)})(r.localStore,c))}),TB.apply(this,arguments)}function z7(n,t){return AB.apply(this,arguments)}function AB(){return(AB=(0,x.A)(function*(n,t){const e=Xt(n);if(!e.currentUser.isEqual(t)){Ot("SyncEngine","User change. New user:",t.toKey());const r=yield V5(e.localStore,t);e.currentUser=t,(c=e).Oa.forEach(f=>{f.forEach(m=>{m.reject(new Mt(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Oa.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield Md(e,r.us)}var c})).apply(this,arguments)}function G7(n,t){const e=Xt(n),r=e.Fa.get(t);if(r&&r.wa)return jn().add(r.key);{let i=jn();const c=e.Da.get(t);if(!c)return i;for(const d of c){const f=e.ba.get(d);i=i.unionWith(f.view.Ea)}return i}}function LO(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=uG.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=G7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=B7.bind(null,t),t.Sa.h_=A7.bind(null,t.eventManager),t.Sa.ka=S7.bind(null,t.eventManager),t}class xb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,x.A)(function*(){e.serializer=cD(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function L5(n,t,e,r){return new e7(n,t,e,r)}(this.persistence,new F5,t.initialUser,this.serializer)}createPersistence(t){return new w2(AO.Hr,this.serializer)}createSharedClientState(t){return new W5}terminate(){var t=this;return(0,x.A)(function*(){var e,r;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(r=t.indexBackfillerScheduler)||void 0===r||r.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Mb{initialize(t,e){var r=this;return(0,x.A)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>dG(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=z7.bind(null,r.syncEngine),yield J2(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new T7}createDatastore(t){const e=cD(t.databaseInfo.databaseId),r=new l7(t.databaseInfo);return new h7(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return r=this.localStore,i=this.datastore,c=t.asyncQueue,d=e=>dG(this.syncEngine,e,0),f=K5.D()?new K5:new s7,new p7(r,i,c,d,f);var r,i,c,d,f}createSyncEngine(t,e){return function(i,c,d,f,m,w,A){const R=new k7(i,c,d,f,m,w);return A&&(R.La=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,x.A)(function*(){var e,r;yield(r=(0,x.A)(function*(c){const d=Xt(c);Ot("RemoteStore","RemoteStore shutting down."),d.M_.add(5),yield Eb(d),d.O_.shutdown(),d.N_.set("Unknown")}),function i(c){return r.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate()})()}}class VO{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Si("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class nX{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,x.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Mt(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const r=yield(i=(0,x.A)(function*(d,f){const m=Xt(d),w={documents:f.map(K=>JC(m.serializer,K))},A=yield m.xo("BatchGetDocuments",m.serializer.databaseId,Qn.emptyPath(),w,f.length),R=new Map;A.forEach(K=>{const pe=function Eq(n,t){return"found"in t?function(r,i){fn(!!i.found);const c=_u(r,i.found.name),d=Yi(i.found.updateTime),f=i.found.createTime?Yi(i.found.createTime):gn.min(),m=new es({mapValue:{fields:i.found.fields}});return ci.newFoundDocument(c,d,f,m)}(n,t):"missing"in t?function(r,i){fn(!!i.missing),fn(!!i.readTime);const c=_u(r,i.missing),d=Yi(i.readTime);return ci.newNoDocument(c,d)}(n,t):tn()}(m.serializer,K);R.set(pe.key.toString(),pe)});const U=[];return f.forEach(K=>{const pe=R.get(K.toString());fn(!!pe),U.push(pe)}),U}),function c(d,f){return i.apply(this,arguments)})(e.datastore,t);var i;return r.forEach(i=>e.recordVersion(i)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new hb(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,x.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,i)=>{const c=Zt.fromPath(i);t.mutations.push(new r2(c,t.precondition(c)))}),yield(r=(0,x.A)(function*(c,d){const f=Xt(c),m={writes:d.map(w=>eD(f.serializer,w))};yield f.Co("Commit",f.serializer.databaseId,Qn.emptyPath(),m)}),function i(c,d){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw tn();e=gn.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Mt(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(gn.min())?vi.exists(!1):vi.updateTime(e):vi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(gn.min()))throw new Mt(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vi.updateTime(e)}return vi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class rX{constructor(t,e,r,i,c){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=i,this.deferred=c,this.Za=r.maxAttempts,this.Yo=new F2(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var t=this;this.Yo.$o((0,x.A)(function*(){const e=new nX(t.datastore),r=t.tu(e);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(i)}).catch(c=>{t.nu(c)}))}).catch(i=>{t.nu(i)})}))}tu(t){try{const e=this.updateFunction(t);return!Bm(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Lz(e)}return!1}}class iX{constructor(t,e,r,i){var c=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=ho.UNAUTHENTICATED,this.clientId=kC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,x.A)(function*(f){Ot("FirestoreClient","Received user=",f.uid),yield c.authCredentialListener(f),c.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ot("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,x.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=Db(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function BO(n,t){return LB.apply(this,arguments)}function LB(){return LB=(0,x.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,x.A)(function*(c){r.isEqual(c)||(yield V5(t.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),LB.apply(this,arguments)}function VB(n,t){return BB.apply(this,arguments)}function BB(){return(BB=(0,x.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function UB(n){return jB.apply(this,arguments)}(n);Ot("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>tG(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>tG(t.remoteStore,i)),n._onlineComponents=t})).apply(this,arguments)}function jB(){return(jB=(0,x.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield BO(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function _G(n){return"FirebaseError"===n.name?n.code===pt.FAILED_PRECONDITION||n.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;Bs("Error using user provided cache. Falling back to memory cache: "+e),yield BO(n,new xb)}}else Ot("FirestoreClient","Using default OfflineComponentProvider"),yield BO(n,new xb);return n._offlineComponents})).apply(this,arguments)}function UO(n){return $B.apply(this,arguments)}function $B(){return($B=(0,x.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield VB(n,n._uninitializedComponentsProvider._online)):(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield VB(n,new Mb))),n._onlineComponents})).apply(this,arguments)}function HB(n){return UO(n).then(t=>t.syncEngine)}function Ob(n){return zB.apply(this,arguments)}function zB(){return(zB=(0,x.A)(function*(n){const t=yield UO(n),e=t.eventManager;return e.onListen=P7.bind(null,t.syncEngine),e.onUnlisten=F7.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=N7.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=L7.bind(null,t.syncEngine),e})).apply(this,arguments)}function IG(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const CG=new Map;function GB(n,t,e){if(!e)throw new Mt(pt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function DG(n){if(!Zt.isDocumentKey(n))throw new Mt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TG(n){if(Zt.isDocumentKey(n))throw new Mt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jO(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(r=n).constructor?r.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var r;return"function"==typeof n?"a function":tn()}function Zn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Mt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=jO(n);throw new Mt(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class SG{constructor(t){var e,r;if(void 0===t.host){if(void 0!==t.ssl)throw new Mt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function gX(n,t,e,r){if(!0===t&&!0===r)throw new Mt(pt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=IG(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Mt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Mt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Mt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class uD{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Mt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SG(t),void 0!==t.credentials&&(this._authCredentials=function(r){if(!r)return new WR;switch(r.type){case"firstParty":return new UV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Mt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=CG.get(e);r&&(Ot("ComponentProvider","Removing Datastore"),CG.delete(e),r.terminate())}(this),Promise.resolve()}}class ts{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ts(this.firestore,t,this._query)}}class Zi{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zi(this.firestore,t,this._key)}}class vu extends ts{constructor(t,e,r){super(t,e,sb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zi(this.firestore,null,new Zt(t))}withConverter(t){return new vu(this.firestore,t,this._path)}}class yX{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new F2(this,"async_queue_retry"),this.hu=()=>{const e=PO();e&&Ot("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const t=PO();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const e=PO();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const e=new Qi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){var t=this;return(0,x.A)(function*(){if(0!==t.su.length){try{yield t.su[0](),t.su.shift(),t.Yo.reset()}catch(e){if(!Ed(e))throw e;Ot("AsyncQueue","Operation failed with retryable error: "+e)}t.su.length>0&&t.Yo.$o(()=>t.Tu())}})()}Iu(t){const e=this.iu.then(()=>(this.uu=!0,t().catch(r=>{throw this.au=r,this.uu=!1,Si("INTERNAL UNHANDLED ERROR: ",function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),f}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=e,e}enqueueAfterDelay(t,e,r){this.Pu(),this.lu.indexOf(t)>-1&&(e=0);const i=tB.createAndSchedule(this,t,e,r,c=>this.Eu(c));return this._u.push(i),i}Pu(){this.au&&tn()}verifyOperationInProgress(){}du(){var t=this;return(0,x.A)(function*(){let e;do{e=t.iu,yield e}while(e!==t.iu)})()}Au(t){for(const e of this._u)if(e.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this._u)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const e=this._u.indexOf(t);this._u.splice(e,1)}}function WB(n){return function(e,r){if("object"!=typeof e||null===e)return!1;const i=e;for(const c of["next","error","complete"])if(c in i&&"function"==typeof i[c])return!0;return!1}(n)}class Gr extends uD{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new yX,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||RG(this),this._firestoreClient.terminate()}}function EX(n,t){const r="string"==typeof n?n:t||"(default)",i=gm("object"==typeof n?n:Gx(),"firestore").getImmediate({identifier:r});if(!i._initialized){const c=(n=>{const t=xw("firestore");if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),r]:[t.substring(0,e),r]})();c&&function _X(n,t,e,r={}){var i;const c=(n=Zn(n,uD))._getSettings(),d=`${t}:${e}`;if("firestore.googleapis.com"!==c.host&&c.host!==d&&Bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=ho.MOCK_USER;else{f=function ed(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},n);return[om(JSON.stringify({alg:"none",type:"JWT"})),om(JSON.stringify(d)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Mt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ho(w)}n._authCredentials=new BV(new GR(f,m))}}(i,...c)}return i}function Mi(n){return n._firestoreClient||RG(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RG(n){var t,e,r;const i=n._freezeSettings(),c=(m=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new G9(n._databaseId,m,n._persistenceKey,(A=i).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,IG(A.experimentalLongPollingOptions),A.useFetchStreams));var m,A;n._firestoreClient=new iX(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(e=i.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function KB(n){return function(e){const r=new Qi;return e.asyncQueue.enqueueAndForget((0,x.A)(function*(){return function $7(n,t){return EB.apply(this,arguments)}(yield HB(e),r)})),r.promise}(Mi(n=Zn(n,Gr)))}class Jm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jm(Io.fromBase64String(t))}catch(e){throw new Mt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jm(Io.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class eg{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Mt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class tg{constructor(t){this._methodName=t}}class qB{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Mt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Mt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rn(this._lat,t._lat)||Rn(this._long,t._long)}}const CX=/^__.*__$/;class DX{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new Sd(t,this.data,this.fieldMask,e,this.fieldTransforms):new db(t,this.data,e,this.fieldTransforms)}}class PG{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Sd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function NG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class $O{constructor(t,e,r,i,c,d){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===c&&this.mu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new $O(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.gu({path:r,yu:!1});return i.wu(t),i}Su(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return GO(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(NG(this.fu)&&CX.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class TX{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||cD(t)}Fu(t,e,r,i=!1){return new $O({fu:t,methodName:e,vu:r,path:Yr.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ng(n){const t=n._freezeSettings(),e=cD(n._databaseId);return new TX(n._databaseId,!!t.ignoreUndefinedProperties,e)}function HO(n,t,e,r,i,c={}){const d=n.Fu(c.merge||c.mergeFields?2:0,t,e,i);tU("Data must be an object, but it was:",d,r);const f=VG(r,d);let m,w;if(c.merge)m=new Ca(d.fieldMask),w=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const R of c.mergeFields){const U=fD(t,R,e);if(!d.contains(U))throw new Mt(pt.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);UG(A,U)||A.push(U)}m=new Ca(A),w=d.fieldTransforms.filter(R=>m.covers(R.field))}else m=null,w=d.fieldTransforms;return new DX(new es(f),m,w)}class hD extends tg{_toFieldTransform(t){if(2!==t.fu)throw t.Du(1===t.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof hD}}class XB extends tg{_toFieldTransform(t){return new qC(t.path,new lb)}isEqual(t){return t instanceof XB}}function JB(n,t,e,r){const i=n.Fu(1,t,e);tU("Data must be an object, but it was:",i,r);const c=[],d=es.empty();ll(r,(m,w)=>{const A=zO(t,m,e);w=Bi(w);const R=i.Su(A);if(w instanceof hD)c.push(A);else{const U=rg(w,R);null!=U&&(c.push(A),d.set(A,U))}});const f=new Ca(c);return new PG(d,f,i.fieldTransforms)}function eU(n,t,e,r,i,c){const d=n.Fu(1,t,e),f=[fD(t,r,e)],m=[i];if(c.length%2!=0)throw new Mt(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<c.length;U+=2)f.push(fD(t,c[U])),m.push(c[U+1]);const w=[],A=es.empty();for(let U=f.length-1;U>=0;--U)if(!UG(w,f[U])){const K=f[U];let pe=m[U];pe=Bi(pe);const fe=d.Su(K);if(pe instanceof hD)w.push(K);else{const he=rg(pe,fe);null!=he&&(w.push(K),A.set(K,he))}}const R=new Ca(w);return new PG(A,R,d.fieldTransforms)}function rg(n,t){if(BG(n=Bi(n)))return tU("Unsupported field value:",t,n),VG(n,t);if(n instanceof tg)return function(r,i){if(!NG(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(i);c&&i.fieldTransforms.push(c)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(r,i){const c=[];let d=0;for(const f of r){let m=rg(f,i.bu(d));null==m&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}}(n,t)}return function(r,i){if(null===(r=Bi(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Dz(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=ai.fromDate(r);return{timestampValue:fb(i.serializer,c)}}if(r instanceof ai){const c=new ai(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fb(i.serializer,c)}}if(r instanceof qB)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jm)return{bytesValue:Kz(i.serializer,r._byteString)};if(r instanceof Zi){const c=i.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw i.Du(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:u2(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${jO(r)}`)}(n,t)}function VG(n,t){const e={};return W3(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ll(n,(r,i)=>{const c=rg(i,t.pu(r));null!=c&&(e[r]=c)}),{mapValue:{fields:e}}}function BG(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ai||n instanceof qB||n instanceof Jm||n instanceof Zi||n instanceof tg)}function tU(n,t,e){if(!BG(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=jO(e);throw t.Du("an object"===r?n+" a custom object":n+" "+r)}var i}function fD(n,t,e){if((t=Bi(t))instanceof eg)return t._internalPath;if("string"==typeof t)return zO(n,t);throw GO("Field path arguments must be of type string or ",n,!1,void 0,e)}const AX=new RegExp("[~\\*/\\[\\]]");function zO(n,t,e){if(t.search(AX)>=0)throw GO(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new eg(...t.split("."))._internalPath}catch{throw GO(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function GO(n,t,e,r,i){const c=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${r}`),d&&(m+=` in document ${i}`),m+=")"),new Mt(pt.INVALID_ARGUMENT,f+n+m)}function UG(n,t){return n.some(e=>e.isEqual(t))}class pD{constructor(t,e,r,i,c){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new SX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(WO("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class SX extends pD{data(){return super.data()}}function WO(n,t){return"string"==typeof t?zO(n,t):t instanceof eg?t._internalPath:t._delegate._internalPath}function jG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Mt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nU{}class mD extends nU{}function kb(n,t,...e){let r=[];t instanceof nU&&r.push(t),r=r.concat(e),function(c){const d=c.filter(m=>m instanceof Pb).length,f=c.filter(m=>m instanceof gD).length;if(d>1||d>0&&f>0)throw new Mt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class gD extends mD{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new gD(t,e,r)}_apply(t){const e=this._parse(t);return GG(t._query,e),new ts(t.firestore,t.converter,t2(t._query,e))}_parse(t){const e=ng(t.firestore);return function(c,d,f,m,w,A,R){let U;if(w.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Mt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){zG(R,A);const K=[];for(const pe of R)K.push(HG(m,c,pe));U={arrayValue:{values:K}}}else U=HG(m,c,R)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||zG(R,A),U=function LG(n,t,e,r=!1){return rg(e,n.Fu(r?4:3,t))}(f,"where",R,"in"===A||"not-in"===A);return ir.create(w,A,U)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function KO(n,t,e){const r=t,i=WO("where",n);return gD._create(i,r,e)}class Pb extends nU{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Pb(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return 1===e.length?e[0]:Lr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,c){let d=i;const f=c.getFlattenedFilters();for(const m of f)GG(d,m),d=t2(d,m)}(t._query,e),new ts(t.firestore,t.converter,t2(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class rU extends mD{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new rU(t,e)}_apply(t){const e=function(i,c,d){if(null!==i.startAt)throw new Mt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Mt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $C(c,d)}(t._query,this._field,this._direction);return new ts(t.firestore,t.converter,function(i,c){const d=i.explicitOrderBy.concat([c]);return new Td(i.path,i.collectionGroup,d,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}function qO(n,t="asc"){const e=t,r=WO("orderBy",n);return rU._create(r,e)}class XO extends mD{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new XO(t,e,r)}_apply(t){return new ts(t.firestore,t.converter,fO(t._query,this._limit,this._limitType))}}function QO(n){return function AG(n,t){if(t<=0)throw new Mt(pt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}("limit",n),XO._create("limit",n,"F")}function HG(n,t,e){if("string"==typeof(e=Bi(e))){if(""===e)throw new Mt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e2(t)&&-1!==e.indexOf("/"))throw new Mt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Qn.fromString(e));if(!Zt.isDocumentKey(r))throw new Mt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $m(n,new Zt(r))}if(e instanceof Zi)return $m(n,e._key);throw new Mt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jO(e)}.`)}function zG(n,t){if(!Array.isArray(n)||0===n.length)throw new Mt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function GG(n,t){const e=function(i,c){for(const d of i)for(const f of d.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Mt(pt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class KG{convertValue(t,e="none"){switch(Ef(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ji(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Dd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw tn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return ll(t,(i,c)=>{r[i]=this.convertValue(c,e)}),r}convertGeoPoint(t){return new qB(ji(t.latitude),ji(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=aO(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(VC(t));default:return null}}convertTimestamp(t){const e=Cd(t);return new ai(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Qn.fromString(t);fn(o5(r));const i=new jm(r.get(1),r.get(3)),c=new Zt(r.popFirst(5));return i.isEqual(e)||Si(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),c}}function JO(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class xX extends KG{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zi(this.firestore,null,e)}}class ig{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Nb extends pD{constructor(t,e,r,i,c,d){super(t,e,r,i,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new ek(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(WO("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class ek extends Nb{data(t={}){return super.data(t)}}class Fb{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new ig(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new ek(this._firestore,this._userDataWriter,r.key,r,new ig(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Mt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,c){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map(f=>({type:"added",doc:new ek(i._firestore,i._userDataWriter,f.doc.key,f.doc,new ig(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:d++}))}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(f=>c||3!==f.type).map(f=>{const m=new ek(i._firestore,i._userDataWriter,f.doc.key,f.doc,new ig(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let w=-1,A=-1;return 0!==f.type&&(w=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),1!==f.type&&(d=d.add(f.doc),A=d.indexOf(f.doc.key)),{type:RX(f.type),doc:m,oldIndex:w,newIndex:A}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function RX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}class Mf extends KG{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zi(this.firestore,null,e)}}function iU(n){n=Zn(n,ts);const t=Zn(n.firestore,Gr),e=Mi(t),r=new Mf(t);return jG(n._query),function wG(n,t,e={}){const r=new Qi;return n.asyncQueue.enqueueAndForget((0,x.A)(function*(){return function(c,d,f,m,w){const A=new VO({next:U=>{d.enqueueAndForget(()=>iB(c,R)),U.fromCache&&"server"===m.source?w.reject(new Mt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(U)},error:U=>w.reject(U)}),R=new cB(f,A,{includeMetadataChanges:!0,ra:!0});return nB(c,R)}(yield Ob(n),n.asyncQueue,t,e,r)})),r.promise}(e,n._query).then(i=>new Fb(t,r,n,i))}const jX={maxAttempts:5};class $X{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ng(t)}set(t,e,r){this._verifyNotCommitted();const i=Rf(t,this._firestore),c=JO(i.converter,e,r),d=HO(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,vi.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const c=Rf(t,this._firestore);let d;return d="string"==typeof(e=Bi(e))||e instanceof eg?eU(this._dataReader,"WriteBatch.update",c._key,e,r,i):JB(this._dataReader,"WriteBatch.update",c._key,e),this._mutations.push(d.toMutation(c._key,vi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Rf(t,this._firestore);return this._mutations=this._mutations.concat(new hb(e._key,vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Mt(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Rf(n,t){if((n=Bi(n)).firestore!==t)throw new Mt(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class HX extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=ng(e)}get(e){const r=Rf(e,this._firestore),i=new xX(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return tn();const d=c[0];if(d.isFoundDocument())return new pD(this._firestore,i,d.key,d,r.converter);if(d.isNoDocument())return new pD(this._firestore,i,r._key,null,r.converter);throw tn()})}set(e,r,i){const c=Rf(e,this._firestore),d=JO(c.converter,r,i),f=HO(this._dataReader,"Transaction.set",c._key,d,null!==c.converter,i);return this._transaction.set(c._key,f),this}update(e,r,i,...c){const d=Rf(e,this._firestore);let f;return f="string"==typeof(r=Bi(r))||r instanceof eg?eU(this._dataReader,"Transaction.update",d._key,r,i,c):JB(this._dataReader,"Transaction.update",d._key,r),this._transaction.update(d._key,f),this}delete(e){const r=Rf(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Rf(t,this._firestore),r=new Mf(this._firestore);return super.get(t).then(i=>new Nb(this._firestore,r,e._key,i._document,new ig(!1,!1),e.converter))}}function qG(n,t,e){n=Zn(n,Gr);const r=Object.assign(Object.assign({},jX),e);return function(c){if(c.maxAttempts<1)throw new Mt(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(c,d,f){const m=new Qi;return c.asyncQueue.enqueueAndForget((0,x.A)(function*(){const w=yield function bG(n){return UO(n).then(t=>t.datastore)}(c);new rX(c.asyncQueue,w,f,d,m).Xa()})),m.promise}(Mi(n),i=>t(new HX(n,i)),r)}!function(t,e=!0){Vm=ef,Jh(new eu("firestore",(r,{instanceIdentifier:i,options:c})=>{const d=r.getProvider("app").getImmediate(),f=new Gr(new KR(r.getProvider("auth-internal")),new jV(r.getProvider("app-check-internal")),function(w,A){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Mt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jm(w.options.projectId,A)}(d,i),d);return c=Object.assign({useFetchStreams:e},c),f._setSettings(c),f},"PUBLIC").setMultipleInstances(!0)),Wa(OC,"4.6.4",t),Wa(OC,"4.6.4","esm2017")}();var yi=function(n){return n.USER_STATE="user_state",n.STORIES="stories",n.CHAPTERS="chapters",n}(yi||{});const YX={user_state:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},chapters:{type:"array"}},required:["id","name"]}},stories:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},languages:{type:"array"},description:{type:"string"}},required:["id","name","languages"]}},chapters:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},chapter_number:{type:"number"},story_id:{type:"string"},name:{type:"string"},language:{type:"string"},is_premium:{type:"boolean"},author:{type:"string"},pages:{type:"array"},description:{type:"string"},empathy_name:{type:"string"},sympathy_name:{type:"string"}},required:["id","chapter_number","story_id","name","language","empathy_name","sympathy_name"]}}},ZG={apiKey:"AIzaSyBnagIv1jnnkGEMASLY3bJIrc5Iuz-Syks",authDomain:"empathy-7224d.firebaseapp.com",projectId:"empathy-7224d",storageBucket:"empathy-7224d.appspot.com",messagingSenderId:"957387697152",appId:"1:957387697152:web:a2fd71b0ac7fc060703ce5",measurementId:"G-WBFW0YBS26"};var JX=O(6719),Xa=O(7176),Ri=O(8663),$s=O(6434),aU=O(203);Promise.resolve(!1);var tQ=Promise.resolve(!0),Rd=Promise.resolve();function og(n,t){return n||(n=0),new Promise(function(e){return setTimeout(function(){return e(t)},n)})}function vD(){return Math.random().toString(36).substring(2)}var cU=0;function yD(){var n=1e3*Date.now();return n<=cU&&(n=cU+1),cU=n,n}var aQ="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)?function oQ(n){process.on("exit",function(){return n()}),process.on("beforeExit",function(){return n().then(function(){return process.exit()})}),process.on("SIGINT",function(){return n().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return n().then(function(){console.trace(t),process.exit(101)})})}:function iQ(n){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return n(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){n()},!0),window.addEventListener("unload",function(){n()},!0)}},sg=new Set,JG=!1;function uQ(){var n=[];return sg.forEach(function(t){n.push(t()),sg.delete(t)}),Promise.all(n)}function ag(n,t){return n.broadcastChannel.postInternal({context:"leader",action:t,token:n.token})}function e8(n){n.isLeader=!0,n._hasLeader=!0;var t=function lQ(n){if(function cQ(){JG||(JG=!0,aQ(uQ))}(),"function"!=typeof n)throw new Error("Listener is no function");return sg.add(n),{remove:function(){return sg.delete(n)},run:function(){return sg.delete(n),n()}}}(function(){return n.die()});n._unl.push(t);var e=function(i){"leader"===i.context&&"apply"===i.action&&ag(n,"tell"),"leader"===i.context&&"tell"===i.action&&!n._dpLC&&(n._dpLC=!0,n._dpL(),ag(n,"tell"))};return n.broadcastChannel.addEventListener("internal",e),n._lstns.push(e),ag(n,"tell")}var t8=function(t,e){var r=this;this.broadcastChannel=t,t._befC.push(function(){return r.die()}),this._options=e,this.isLeader=!1,this.isDead=!1,this.token=vD(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};t8.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(e){var r=e.held?e.held.filter(function(i){return i.name===t.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var e=new Promise(function(r,i){t._wKMC.res=r,t._wKMC.rej=i});this._wLMP=new Promise(function(r){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,e8(t),r(),e}).catch(function(){})})}return this._wLMP},set onduplicate(n){},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),ag(this,"death")}};var n8=function(t,e){var r=this;this.broadcastChannel=t,this._options=e,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=vD(),this._aplQ=Rd,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(d){"leader"===d.context&&("death"===d.action&&(r._hasLeader=!1),"tell"===d.action&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};n8.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var e=this;return this.isLeader?og(0,!0):this.isDead?og(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return function(){if(e.isLeader)return tQ;var d,c=!1,f=new Promise(function(A){d=function(){c=!0,A()}}),m=function(R){"leader"===R.context&&R.token!=e.token&&("apply"===R.action&&R.token>e.token&&d(),"tell"===R.action&&(d(),e._hasLeader=!0))};e.broadcastChannel.addEventListener("internal",m);var w=t?4*e._options.responseTime:e._options.responseTime;return ag(e,"apply").then(function(){return Promise.race([og(w),f.then(function(){return Promise.reject(new Error)})])}).then(function(){return ag(e,"apply")}).then(function(){return Promise.race([og(w),f.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return e.broadcastChannel.removeEventListener("internal",m),!c&&e8(e).then(function(){return!0})})}()}).then(function(){e._aplQC=e._aplQC-1}),this._aplQ.then(function(){return e.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function dQ(n){return n.isLeader?Rd:new Promise(function(t){var e=!1;function r(){e||(e=!0,n.broadcastChannel.removeEventListener("internal",c),t(!0))}n.applyOnce().then(function(){n.isLeader&&r()}),function d(){return og(n._options.fallbackInterval).then(function(){if(!n.isDead&&!e){if(!n.isLeader)return n.applyOnce(!0).then(function(){n.isLeader?r():d()});r()}})}();var c=function(f){"leader"===f.context&&"death"===f.action&&(n._hasLeader=!1,n.applyOnce().then(function(){n.isLeader&&r()}))};n.broadcastChannel.addEventListener("internal",c),n._lstns.push(c)})}(this)),this._aLP},set onduplicate(n){this._dpL=n},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,ag(this,"death")}};const{isArray:pQ}=Array;var TQ={create:function bQ(n){var t={time:yD(),messagesCallback:null,bc:new BroadcastChannel(n),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function EQ(n){n.bc.close(),n.subFns=[]},onMessage:function IQ(n,t){n.messagesCallback=t},postMessage:function wQ(n,t){try{return n.bc.postMessage(t,!1),Rd}catch(e){return Promise.reject(e)}},canBeUsed:function CQ(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&"function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function DQ(){return 150},microSeconds:yD},r8=O(9556);function lU(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(n));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),n.idb&&"function"==typeof n.idb.onclose&&(t.idb.onclose=n.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),n.methods&&(t.methods=n.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var ul="messages",bD={durability:"relaxed"};function i8(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function nk(n){n.commit&&n.commit()}function o8(n){n.closed||s8(n).then(function(){return og(n.options.idb.fallbackInterval)}).then(function(){return o8(n)})}function s8(n){return n.closed||!n.messagesCallback?Rd:function OQ(n,t){var e=n.transaction(ul,"readonly",bD),r=e.objectStore(ul),i=[],c=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var d=r.getAll(c);return new Promise(function(m,w){d.onerror=function(A){return w(A)},d.onsuccess=function(A){m(A.target.result)}})}return new Promise(function(m,w){var A=function f(){try{return c=IDBKeyRange.bound(t+1,1/0),r.openCursor(c)}catch{return r.openCursor()}}();A.onerror=function(R){return w(R)},A.onsuccess=function(R){var U=R.target.result;U?U.value.id<t+1?U.continue(t+1):(i.push(U.value),U.continue()):(nk(e),m(i))}})}(n.db,n.lastCursorId).then(function(t){var e=t.filter(function(r){return!!r}).map(function(r){return r.id>n.lastCursorId&&(n.lastCursorId=r.id),r}).filter(function(r){return function LQ(n,t){return!(n.uuid===t.uuid||t.eMIs.has(n.id)||n.data.time<t.messagesCallbackTime)}(r,n)}).sort(function(r,i){return r.time-i.time});return e.forEach(function(r){n.messagesCallback&&(n.eMIs.add(r.id),n.messagesCallback(r.data))}),Rd})}var HQ={create:function FQ(n,t){return t=lU(t),function MQ(n){var r=i8().open("pubkey.broadcast-channel-0-"+n);return r.onupgradeneeded=function(i){i.target.result.createObjectStore(ul,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,c){r.onerror=function(d){return c(d)},r.onsuccess=function(){i(r.result)}})}(n).then(function(e){var r={closed:!1,lastCursorId:0,channelName:n,options:t,uuid:vD(),eMIs:new r8.p4(2*t.idb.ttl),writeBlockPromise:Rd,messagesCallback:null,readQueuePromises:[],db:e};return e.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},o8(r),r})},close:function VQ(n){n.closed=!0,n.db.close()},onMessage:function UQ(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t,s8(n)},postMessage:function BQ(n,t){return n.writeBlockPromise=n.writeBlockPromise.then(function(){return function RQ(n,t,e){var i={uuid:t,time:Date.now(),data:e},c=n.transaction([ul],"readwrite",bD);return new Promise(function(d,f){c.oncomplete=function(){return d()},c.onerror=function(w){return f(w)},c.objectStore(ul).add(i),nk(c)})}(n.db,n.uuid,t)}).then(function(){0===function nQ(n,t){return Math.floor(Math.random()*(t-n+1)+n)}(0,10)&&function NQ(n){return function PQ(n,t){var e=Date.now()-t,r=n.transaction(ul,"readonly",bD),i=r.objectStore(ul),c=[];return new Promise(function(d){i.openCursor().onsuccess=function(f){var m=f.target.result;if(m){var w=m.value;w.time<e?(c.push(w),m.continue()):(nk(r),d(c))}else d(c)}})}(n.db,n.options.idb.ttl).then(function(t){return function kQ(n,t){if(n.closed)return Promise.resolve([]);var r=n.db.transaction(ul,"readwrite",bD).objectStore(ul);return Promise.all(t.map(function(i){var c=r.delete(i);return new Promise(function(d){c.onsuccess=function(){return d()}})}))}(n,t.map(function(e){return e.id}))})}(n)}),n.writeBlockPromise},canBeUsed:function jQ(){return!!i8()},type:"idb",averageResponseTime:function $Q(n){return 2*n.idb.fallbackInterval},microSeconds:yD};function a8(){var n;if(typeof window>"u")return null;try{n=window.localStorage,n=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return n}function c8(n){return"pubkey.broadcastChannel-"+n}function l8(){var n=a8();if(!n)return!1;try{var t="__broadcastchannel_check";n.setItem(t,"works"),n.removeItem(t)}catch{return!1}return!0}var eY={create:function QQ(n,t){if(t=lU(t),!l8())throw new Error("BroadcastChannel: localstorage cannot be used");var e=vD(),r=new r8.p4(t.localstorage.removeTimeout),i={channelName:n,uuid:e,eMIs:r};return i.listener=function qQ(n,t){var e=c8(n),r=function(c){c.key===e&&t(JSON.parse(c.newValue))};return window.addEventListener("storage",r),r}(n,function(c){i.messagesCallback&&c.uuid!==e&&(!c.token||r.has(c.token)||c.data.time&&c.data.time<i.messagesCallbackTime||(r.add(c.token),i.messagesCallback(c.data)))}),i},close:function YQ(n){!function XQ(n){window.removeEventListener("storage",n)}(n.listener)},onMessage:function ZQ(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t},postMessage:function KQ(n,t){return new Promise(function(e){og().then(function(){var r=c8(n.channelName),i={token:vD(),time:Date.now(),data:t,uuid:n.uuid},c=JSON.stringify(i);a8().setItem(r,c);var d=document.createEvent("Event");d.initEvent("storage",!0,!0),d.key=r,d.newValue=c,window.dispatchEvent(d),e()})})},canBeUsed:l8,type:"localstorage",averageResponseTime:function JQ(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:yD},u8=yD,uU=new Set,cY={create:function nY(n){var t={time:u8(),name:n,messagesCallback:null};return uU.add(t),t},close:function rY(n){uU.delete(n)},onMessage:function oY(n,t){n.messagesCallback=t},postMessage:function iY(n,t){return new Promise(function(e){return setTimeout(function(){Array.from(uU).forEach(function(i){i.name===n.name&&i!==n&&i.messagesCallback&&i.time<t.time&&i.messagesCallback(t)}),e()},5)})},canBeUsed:function sY(){return!0},type:"simulate",averageResponseTime:function aY(){return 5},microSeconds:u8},h8=[TQ,HQ,eY],f8=new Set,uY=0,dU=function(t,e){this.id=uY++,f8.add(this),this.name=t,this.options=lU(e),this.method=function lY(n){var t=[].concat(n.methods,h8).filter(Boolean);if(n.type){if("simulate"===n.type)return cY;var e=t.find(function(i){return i.type===n.type});if(e)return e;throw new Error("method-type "+n.type+" not found")}n.webWorkerSupport||(t=t.filter(function(i){return"idb"!==i.type}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(h8.map(function(i){return i.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function dY(n){var t=n.method.create(n.name,n.options);!function eQ(n){return n&&"function"==typeof n.then}(t)?n._state=t:(n._prepP=t,t.then(function(e){n._state=e}))}(this)};function p8(n,t,e){var i={time:n.method.microSeconds(),type:t,data:e};return(n._prepP?n._prepP:Rd).then(function(){var d=n.method.postMessage(n._state,i);return n._uMP.add(d),d.catch().then(function(){return n._uMP.delete(d)}),d})}function m8(n){return n._addEL.message.length>0||n._addEL.internal.length>0}function g8(n,t,e){n._addEL[t].push(e),function hY(n){if(!n._iL&&m8(n)){var t=function(i){n._addEL[i.type].forEach(function(c){i.time>=c.time&&c.fn(i.data)})},e=n.method.microSeconds();n._prepP?n._prepP.then(function(){n._iL=!0,n.method.onMessage(n._state,t,e)}):(n._iL=!0,n.method.onMessage(n._state,t,e))}}(n)}function _8(n,t,e){n._addEL[t]=n._addEL[t].filter(function(r){return r!==e}),function fY(n){if(n._iL&&!m8(n)){n._iL=!1;var t=n.method.microSeconds();n.method.onMessage(n._state,null,t)}}(n)}dU._pubkey=!0,dU.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return p8(this,"message",t)},postInternal:function(t){return p8(this,"internal",t)},set onmessage(n){var e={time:this.method.microSeconds(),fn:n};_8(this,"message",this._onML),n&&"function"==typeof n?(this._onML=e,g8(this,"message",e)):this._onML=null},addEventListener:function(t,e){g8(this,t,{time:this.method.microSeconds(),fn:e})},removeEventListener:function(t,e){_8(this,t,this._addEL[t].find(function(i){return i.fn===e}))},close:function(){var t=this;if(!this.closed){f8.delete(this),this.closed=!0;var e=this._prepP?this._prepP:Rd;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var rk=new Map;function v8(n,t,e,r){var i=rk.get(t);return i||(i={bc:new dU(["RxDB:",n,e].join("|")),refs:new Set},rk.set(t,i)),i.refs.add(r),i.bc}function fU(n,t){var e=rk.get(n);if(e&&(e.refs.delete(t),0===e.refs.size))return rk.delete(n),e.bc.close()}function pY(n,t,e,r){if(t.multiInstance){var i=r||v8(n,t.databaseInstanceToken,e.databaseName,e),c=new B.B,d=U=>{U.storageName===n&&U.databaseName===t.databaseName&&U.collectionName===t.collectionName&&U.version===t.schema.version&&c.next(U.eventBulk)};i.addEventListener("message",d);var f=e.changeStream(),m=!1,w=f.subscribe(U=>{m||i.postMessage({storageName:n,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:U})});e.changeStream=function(){return c.asObservable().pipe(function _Q(...n){return function gQ(...n){const t=(0,Ue.lI)(n),e=(0,Ue.R0)(n,1/0);return n=function mQ(n){return 1===n.length&&pQ(n[0])?n[0]:n}(n),(0,se.N)((r,i)=>{(0,qd.U)(e)((0,Be.H)([r,...n],t)).subscribe(i)})}(...n)}(f))};var A=e.close.bind(e);e.close=(0,x.A)(function*(){return m=!0,w.unsubscribe(),i.removeEventListener("message",d),r||(yield fU(t.databaseInstanceToken,e)),A()});var R=e.remove.bind(e);e.remove=(0,x.A)(function*(){return m=!0,w.unsubscribe(),i.removeEventListener("message",d),r||(yield fU(t.databaseInstanceToken,e)),R()})}}var pU=O(9403),Hs=O(5520),y8=new WeakMap,mY=new WeakMap;function b8(n){return(0,pU.q)(mY,n,()=>function fQ(n,t){if(n._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function hQ(n,t){return n||(n={}),(n=JSON.parse(JSON.stringify(n))).fallbackInterval||(n.fallbackInterval=3e3),n.responseTime||(n.responseTime=t.method.averageResponseTime(t.options)),n}(t,n);var e=function rQ(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&"function"==typeof navigator.locks.request}()?new t8(n,t):new n8(n,t);return n._befC.push(function(){return e.die()}),n._leaderElector=e,e}(n))}function gY(){var n=v8(this.storage.name,this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return fU(this.token,this),t()};var e=b8(n);return e||(e=b8(n),y8.set(this,e)),this.leaderElector=()=>e,e}function _Y(){return!this.multiInstance||this.leaderElector().isLeader}function vY(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):Hs.Ms}var E8={name:"leader-election",rxdb:!0,prototypes:{RxDatabase:n=>{n.leaderElector=gY,n.isLeader=_Y,n.waitForLeadership=vY}},hooks:{preDestroyRxDatabase:{after:function yY(n){var t=y8.get(n);t&&t.die()}}}},Tc=O(1885),zs=O(6893),ED=O(2060),Lb=O(4552),cg=O(6568);function w8(n,t){return n.input.metaInstance.findDocumentsById(t.map(e=>(0,Tc.U)(n.input.metaInstance.schema,{itemId:e,isCheckpoint:"0"})),!0).then(e=>{var r={};return Object.values(e).forEach(i=>{r[i.itemId]={docData:i.docData,metaDocument:i}}),r})}function ik(n,t,e,r){return mU.apply(this,arguments)}function mU(){return(mU=(0,x.A)(function*(n,t,e,r){var i=t[n.primaryPath],c=e?(0,zs.C9)(e):{id:"",isCheckpoint:"0",itemId:i,docData:t,_attachments:{},_deleted:!1,_rev:(0,ED.Fq)(),_meta:{lwt:0}};return c.docData=t,r&&(c.isResolvedConflict=r),c._meta.lwt=(0,Lb.t)(),c.id=(0,Tc.U)(n.input.metaInstance.schema,c),c._rev=(0,cg.CM)(yield n.checkpointKey,e),{previous:e,document:c}})).apply(this,arguments)}var ok=O(4843);function sk(n,t){return gU.apply(this,arguments)}function gU(){return(gU=(0,x.A)(function*(n,t){var e=(0,Tc.U)(n.input.metaInstance.schema,{isCheckpoint:"1",itemId:t}),i=(yield n.input.metaInstance.findDocumentsById([e],!1))[0];if(n.lastCheckpointDoc[t]=i,i)return i.checkpointData})).apply(this,arguments)}function ak(n,t,e){return _U.apply(this,arguments)}function _U(){return(_U=(0,x.A)(function*(n,t,e){n.checkpointQueue=n.checkpointQueue.then((0,x.A)(function*(){var r=n.lastCheckpointDoc[t];if(e&&!n.events.canceled.getValue()&&(!r||JSON.stringify(r.checkpointData)!==JSON.stringify(e))){var i={id:"",isCheckpoint:"1",itemId:t,_deleted:!1,_attachments:{},checkpointData:e,_meta:(0,ED.o4)(),_rev:(0,ED.Fq)()};for(i.id=(0,Tc.U)(n.input.metaInstance.schema,i);!n.events.canceled.getValue();){if(r&&(i.checkpointData=(0,zs.Mu)([r.checkpointData,i.checkpointData])),i._meta.lwt=(0,Lb.t)(),i._rev=(0,cg.CM)(yield n.checkpointKey,r),n.events.canceled.getValue())return;var c=[{previous:r,document:i}],d=yield n.input.metaInstance.bulkWrite(c,"replication-set-checkpoint"),f=(0,zs.YN)(n.primaryPath,c,d)[0];if(f)return void(n.lastCheckpointDoc[t]=f);var m=d.error[0];if(409!==m.status)throw m;r=(0,Ri.ZN)(m.documentInDb),i._rev=(0,cg.CM)(yield n.checkpointKey,r)}}})),yield n.checkpointQueue})).apply(this,arguments)}function vU(){return(vU=(0,x.A)(function*(n){return"rx_storage_replication_"+(yield n.hashFunction([n.identifier,n.forkInstance.databaseName,n.forkInstance.collectionName].join("||")))})).apply(this,arguments)}var yu=O(7650);function I8(n,t,e){var r=(0,$s.FD)(n);return t||delete r._attachments,e||(delete r._meta,delete r._rev),r}function yU(n,t){return n.hasAttachments?t.map(e=>{var r=(0,$s.o8)(e.document);return r.docData=(0,zs.on)(r.docData),{document:r,previous:e.previous}}):t}function C8(n){for(;;){if(!n.underlyingPersistentStorage)return n;n=n.underlyingPersistentStorage}}function bU(){return bU=(0,x.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.downstream&&((yield sk(n,"down"))||(yield ak(n,"down",n.input.initialCheckpoint.downstream)));var e=yield n.input.hashFunction(n.input.identifier),r=n.input.replicationHandler,i=0,c=[];function d(fe){n.stats.down.addNewTask=n.stats.down.addNewTask+1;var he={time:i++,task:fe};c.push(he),n.streamQueue.down=n.streamQueue.down.then(()=>{for(var ht=[];c.length>0;){n.events.active.down.next(!0);var vt=(0,Ri.ZN)(c.shift());if(!(vt.time<m)){if("RESYNC"===vt.task){if(0===ht.length){ht.push(vt.task);break}break}ht.push(vt.task)}}if(0!==ht.length)return"RESYNC"===ht[0]?function w(){return A.apply(this,arguments)}():function R(fe){n.stats.down.downstreamProcessChanges=n.stats.down.downstreamProcessChanges+1;var he=[],ht=null;return fe.forEach(vt=>{if("RESYNC"===vt)throw new Error("SNH");(0,Xa.Hb)(he,vt.documents),ht=(0,zs.Mu)([ht,vt.checkpoint])}),pe(he,(0,Ri.ZN)(ht))}(ht)}).then(()=>{n.events.active.down.next(!1),!n.firstSyncDone.down.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.down.next(!0)})}if(d("RESYNC"),!n.events.canceled.getValue()){var f=r.masterChangeStream$.pipe((0,ki.Z)(function(){var fe=(0,x.A)(function*(he){return yield(0,ok._)(n.events.active.up.pipe((0,Un.p)(ht=>!ht))),he});return function(he){return fe.apply(this,arguments)}}())).subscribe(fe=>{n.stats.down.masterChangeStreamEmit=n.stats.down.masterChangeStreamEmit+1,d(fe)});(0,ok._)(n.events.canceled.pipe((0,Un.p)(fe=>!!fe))).then(()=>f.unsubscribe())}var m=-1;function A(){return(A=(0,x.A)(function*(){if(n.stats.down.downstreamResyncOnce=n.stats.down.downstreamResyncOnce+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>sk(n,"down"));for(var fe=yield n.checkpointQueue,he=[];!n.events.canceled.getValue();){m=i++;var ht=yield r.masterChangesSince(fe,n.input.pullBatchSize);if(0===ht.documents.length||(fe=(0,zs.Mu)([fe,ht.checkpoint]),he.push(pe(ht.documents,fe)),ht.documents.length<n.input.pullBatchSize))break}yield Promise.all(he)}})).apply(this,arguments)}var U=Hs.em,K={docs:{}};function pe(fe,he){var ht=n.primaryPath;return n.stats.down.persistFromMaster=n.stats.down.persistFromMaster+1,fe.forEach(vt=>{K.docs[vt[ht]]=vt}),K.checkpoint=he,U=U.then(()=>{var vt=K.docs;K.docs={};var Et=K.checkpoint,zt=Object.keys(vt);if(n.events.canceled.getValue()||0===zt.length)return Hs.em;var vn=[],an={},Ve={},le=[];return Promise.all([n.input.forkInstance.findDocumentsById(zt,!0),w8(n,zt)]).then(([we,je])=>{var Ke=new Map;return we.forEach(it=>Ke.set(it[ht],it)),Promise.all(zt.map(function(){var it=(0,x.A)(function*(Ce){var hr=Ke.get(Ce),ws=hr?I8(hr,n.hasAttachments,!1):void 0,rs=vt[Ce],eo=je[Ce];eo&&hr&&eo.metaDocument.isResolvedConflict===hr._rev&&(yield n.streamQueue.up);var Jr=!(!eo||!ws)&&(yield n.input.conflictHandler({realMasterState:eo.docData,newDocumentState:ws},"downstream-check-if-equal-0").then(ei=>ei.isEqual));if(!Jr&&eo&&eo.docData._rev&&hr&&hr._meta[n.input.identifier]&&(0,cg.Wg)(hr._rev)===hr._meta[n.input.identifier]&&(Jr=!0),hr&&eo&&!1===Jr||hr&&!eo)return Hs.em;var $i=!!ws&&(yield n.input.conflictHandler({realMasterState:rs,newDocumentState:ws},"downstream-check-if-equal-1").then(ei=>ei.isEqual));if(ws&&$i)return(!eo||!1===Jr)&&le.push(yield ik(n,ws,eo?eo.metaDocument:void 0)),Hs.em;var Bo=Object.assign({},rs,hr?{_meta:(0,$s.FD)(hr._meta),_attachments:n.hasAttachments&&rs._attachments?rs._attachments:{},_rev:(0,ED.Fq)()}:{_meta:{lwt:(0,Lb.t)()},_rev:(0,ED.Fq)(),_attachments:n.hasAttachments&&rs._attachments?rs._attachments:{}});if(rs._rev){var Ws=hr?(0,cg.Wg)(hr._rev)+1:1;Bo._meta[n.input.identifier]=Ws,n.input.keepMeta&&(Bo._rev=rs._rev)}n.input.keepMeta&&rs._meta&&(Bo._meta=rs._meta);var lr={previous:hr,document:Bo};lr.document._rev=lr.document._rev?lr.document._rev:(0,cg.CM)(e,lr.previous),vn.push(lr),an[Ce]=lr,Ve[Ce]=yield ik(n,rs,eo?eo.metaDocument:void 0)});return function(Ce){return it.apply(this,arguments)}}()))}).then((0,x.A)(function*(){if(vn.length>0)return n.input.forkInstance.bulkWrite(vn,yield n.downstreamBulkWriteFlag).then(we=>{(0,zs.YN)(n.primaryPath,vn,we).forEach(Ke=>{var it=Ke[ht];n.events.processed.down.next(an[it]),le.push(Ve[it])}),we.error.forEach(Ke=>{409!==Ke.status&&n.events.error.next((0,yu.Br)("RC_PULL",{writeError:Ke}))})})})).then(()=>{if(le.length>0)return n.input.metaInstance.bulkWrite(yU(n,le),"replication-down-write-meta").then(we=>{we.error.forEach(je=>{n.events.error.next((0,yu.Br)("RC_PULL",{id:je.documentId,writeError:je}))})})}).then(()=>{ak(n,"down",Et)})}).catch(vt=>n.events.error.next(vt)),U}}),bU.apply(this,arguments)}var TY=O(327);function EU(){return EU=(0,x.A)(function*(n,t,e,r){if(!e._attachments||r&&!r._attachments)throw new Error("_attachments missing");var i=e[n],c=new Set(r&&r._attachments?Object.keys(r._attachments):[]);return yield Promise.all(Object.entries(e._attachments).map(function(){var d=(0,x.A)(function*([f,m]){if((!c.has(f)||r&&(0,Ri.ZN)(r._attachments)[f].digest!==m.digest)&&!m.data){var w=yield t.getAttachmentData(i,f,m.digest);m.data=w}});return function(f){return d.apply(this,arguments)}}())),e}),EU.apply(this,arguments)}function wU(){return wU=(0,x.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.upstream&&((yield sk(n,"up"))||(yield ak(n,"up",n.input.initialCheckpoint.upstream)));var e=n.input.replicationHandler;n.streamQueue.up=n.streamQueue.up.then(()=>w().then(()=>{R()}));var r=0,i=-1,c=[],d=Hs.Dr,f={docs:{}},m=n.input.forkInstance.changeStream().subscribe(function(){var K=(0,x.A)(function*(pe){if(pe.context!==(yield n.downstreamBulkWriteFlag))return n.stats.up.forkChangeStreamEmit=n.stats.up.forkChangeStreamEmit+1,c.push({task:pe,time:r++}),n.events.active.up.getValue()||n.events.active.up.next(!0),n.input.waitBeforePersist?n.input.waitBeforePersist().then(()=>R()):R()});return function(pe){return K.apply(this,arguments)}}());function w(){return A.apply(this,arguments)}function A(){return A=(0,x.A)(function*(){if(n.stats.up.upstreamInitialSync=n.stats.up.upstreamInitialSync+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>sk(n,"up"));for(var K=yield n.checkpointQueue,pe=new Set,fe=function(){var vt=(0,x.A)(function*(){i=r++,pe.size>3&&(yield Promise.race(Array.from(pe)));var Et=yield(0,zs.p0)(n.input.forkInstance,n.input.pushBatchSize,K);if(0===Et.documents.length)return 1;K=(0,zs.Mu)([K,Et.checkpoint]);var zt=U(Et.documents,(0,Ri.ZN)(K));pe.add(zt),zt.catch().then(()=>pe.delete(zt))});return function(){return vt.apply(this,arguments)}}();!n.events.canceled.getValue()&&!(yield fe()););(yield Promise.all(pe)).find(vt=>!!vt)?yield w():!n.firstSyncDone.up.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.up.next(!0)}}),A.apply(this,arguments)}function R(){n.events.canceled.getValue()||0===c.length?n.events.active.up.next(!1):(n.stats.up.processTasks=n.stats.up.processTasks+1,n.events.active.up.next(!0),n.streamQueue.up=n.streamQueue.up.then(()=>{for(var K=[],pe={};c.length>0;){var fe=(0,Ri.ZN)(c.shift());fe.time<i||((0,Xa.Hb)(K,fe.task.events.map(ht=>ht.documentData)),pe=(0,zs.Mu)([pe,fe.task.checkpoint]))}return(0===K.length?Hs.Dr:U(K,pe)).then(()=>{0===c.length?n.events.active.up.next(!1):R()})}))}function U(K,pe){return n.stats.up.persistToMaster=n.stats.up.persistToMaster+1,K.forEach(fe=>{f.docs[fe[n.primaryPath]]=fe}),f.checkpoint=pe,d=d.then((0,x.A)(function*(){if(n.events.canceled.getValue())return!1;var fe=f.docs;f.docs={};var he=f.checkpoint,ht=Object.keys(fe);if(0===ht.length)return!1;var vt=yield w8(n,ht),Et={},zt=[],vn={},an={};if(yield Promise.all(ht.map(function(){var Jr=(0,x.A)(function*($i){var Bo=fe[$i];an[$i]=Bo;var Ws=I8(Bo,n.hasAttachments,!!n.input.keepMeta),lr=vt[$i];lr&&lr.metaDocument.isResolvedConflict!==Bo._rev&&(yield n.input.conflictHandler({realMasterState:lr.docData,newDocumentState:Ws},"upstream-check-if-equal")).isEqual||lr&&lr.docData._rev&&(0,cg.Wg)(Bo._rev)===Bo._meta[n.input.identifier]||(zt.push($i),Et[$i]={assumedMasterState:lr?lr.docData:void 0,newDocumentState:Ws},vn[$i]=yield ik(n,Ws,lr?lr.metaDocument:void 0))});return function($i){return Jr.apply(this,arguments)}}())),0===zt.length)return!1;var Ve=Object.values(Et),le=new Set,we={},je=(0,Xa.Aj)(Ve,n.input.pushBatchSize);yield Promise.all(je.map(function(){var Jr=(0,x.A)(function*($i){n.hasAttachments&&(yield Promise.all($i.map(function(){var Ws=(0,x.A)(function*(lr){lr.newDocumentState=yield function AY(n,t,e,r){return EU.apply(this,arguments)}(n.primaryPath,n.input.forkInstance,(0,$s.o8)(lr.newDocumentState),lr.assumedMasterState)});return function(lr){return Ws.apply(this,arguments)}}()))),(yield e.masterWrite($i)).forEach(Ws=>{var lr=Ws[n.primaryPath];le.add(lr),we[lr]=Ws})});return function($i){return Jr.apply(this,arguments)}}()));var Ke=[];if(zt.forEach(Jr=>{le.has(Jr)||(n.events.processed.up.next(Et[Jr]),Ke.push(vn[Jr]))}),n.events.canceled.getValue())return!1;Ke.length>0&&(yield n.input.metaInstance.bulkWrite(yU(n,Ke),"replication-up-write-meta"));var it=!1;if(le.size>0){n.stats.up.persistToMasterHadConflicts=n.stats.up.persistToMasterHadConflicts+1;var Ce=[],hr={};if(yield Promise.all(Object.entries(we).map(([Jr,$i])=>{var Bo=Et[Jr],Ws={newDocumentState:Bo.newDocumentState,assumedMasterState:Bo.assumedMasterState,realMasterState:$i};return(0,TY.r)(n,Ws,an[Jr]).then(function(){var lr=(0,x.A)(function*(ei){if(ei){n.events.resolvedConflicts.next({input:Ws,output:ei.output}),Ce.push({previous:an[Jr],document:ei.resolvedDoc});var Gk=vt[Jr];hr[Jr]=yield ik(n,(0,Ri.ZN)($i),Gk?Gk.metaDocument:void 0,ei.resolvedDoc._rev)}});return function(ei){return lr.apply(this,arguments)}}())})),Ce.length>0){it=!0,n.stats.up.persistToMasterConflictWrites=n.stats.up.persistToMasterConflictWrites+1;var ws=yield n.input.forkInstance.bulkWrite(Ce,"replication-up-write-conflict"),rs=[];(0,zs.YN)(n.primaryPath,Ce,ws).forEach(Jr=>{rs.push(hr[Jr[n.primaryPath]])}),rs.length>0&&(yield n.input.metaInstance.bulkWrite(yU(n,rs),"replication-up-write-conflict-meta"))}}return ak(n,"up",he),it})).catch(fe=>(n.events.error.next(fe),!1)),d}(0,ok._)(n.events.canceled.pipe((0,Un.p)(K=>!!K))).then(()=>m.unsubscribe())}),wU.apply(this,arguments)}function ck(n){return(0,ok._)(ue([n.firstSyncDone.down.pipe((0,Un.p)(t=>!!t)),n.firstSyncDone.up.pipe((0,Un.p)(t=>!!t))])).then(()=>{})}function D8(n){return Promise.all([n.streamQueue.up,n.streamQueue.down,n.checkpointQueue])}function CU(){return(CU=(0,x.A)(function*(n){n.events.canceled.next(!0),n.events.active.up.complete(),n.events.active.down.complete(),n.events.processed.up.complete(),n.events.processed.down.complete(),n.events.resolvedConflicts.complete(),n.events.canceled.complete(),yield n.checkpointQueue})).apply(this,arguments)}var T8=n=>Promise.resolve(n);function A8(n,t){return"_deleted"===n||((t=(0,$s.FD)(t))[n]=!!t._deleted,delete t._deleted),t}function DU(n,t,e){return e.map(r=>{var i=(0,$s.FD)(r);return"_deleted"!==t?(i._deleted=!!i[t],delete i[t]):i._deleted=!!i._deleted,i[n.schema.primaryPath]=(0,Tc.U)(n.schema.jsonSchema,i),i})}function S8(n,t){if(typeof window>"u"||"object"!=typeof window||typeof window.addEventListener>"u"||navigator.onLine)return n.promiseWait(t);var e,r=new Promise(i=>{e=()=>{window.removeEventListener("online",e),i()},window.addEventListener("online",e)});return Promise.race([r,n.promiseWait(t)]).then(()=>{window.removeEventListener("online",e)})}var x8=O(2104),M8=O(3896),wD=O(2284),TU=new WeakMap,R8=function(){function n(e,r,i,c,d,f,m,w){var A=this;this.subs=[],this.subjects={received:new B.B,sent:new B.B,error:new B.B,canceled:new Me.t(!1),active:new Me.t(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.onCancel=[],this.callOnStart=void 0,this.remoteEvents$=new B.B,this.replicationIdentifier=e,this.collection=r,this.deletedField=i,this.pull=c,this.push=d,this.live=f,this.retryTime=m,this.autoStart=w,this.metaInfoPromise=(0,x.A)(function*(){var K="rx-replication-meta-"+(yield r.database.hashFunction([A.collection.name,A.replicationIdentifier].join("-"))),pe=function IY(n,t){var e=(0,Tc.Hq)(n),r={title:"RxReplicationProtocolMetaData",primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:n.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:e+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:e>4?e:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:n.properties},isResolvedConflict:{type:"string"}},keyCompression:n.keyCompression,required:["id","isCheckpoint","itemId"]};return t&&(r.encrypted=["docData"]),(0,Tc.Ud)(r)}(A.collection.schema.jsonSchema,(0,zs.ME)(A.collection.schema.jsonSchema));return{collectionName:K,schema:pe}})(),(0,pU.q)(TU,r,()=>[]).push(this),this.collection.onDestroy.push(()=>this.cancel()),Object.keys(this.subjects).forEach(K=>{Object.defineProperty(this,K+"$",{get:function(){return this.subjects[K].asObservable()}})});var U=new Promise(K=>{this.callOnStart=K});this.startPromise=U}var t=n.prototype;return t.start=function(){var e=(0,x.A)(function*(){var A,i=this;if(!this.isStopped()){var c=this.pull&&this.pull.modifier?this.pull.modifier:T8,d=this.push&&this.push.modifier?this.push.modifier:T8,f=this.collection.database,m=yield this.metaInfoPromise,[w]=yield Promise.all([this.collection.database.storage.createStorageInstance({databaseName:f.name,collectionName:m.collectionName,databaseInstanceToken:f.token,multiInstance:f.multiInstance,options:{},schema:m.schema,password:f.password,devMode:M8.h.isDevMode()}),(0,x8.vV)(this.collection,m.collectionName,m.schema)]);this.metaInstance=w,this.internalReplicationState=function xY(n){(n=(0,$s.FD)(n)).forkInstance=C8(n.forkInstance),n.metaInstance=C8(n.metaInstance);var t=function CY(n){return vU.apply(this,arguments)}(n),e={primaryPath:(0,Tc.xQ)(n.forkInstance.schema.primaryKey),hasAttachments:!!n.forkInstance.schema.attachments,input:n,checkpointKey:t,downstreamBulkWriteFlag:t.then(r=>"replication-downstream-"+r),events:{canceled:new Me.t(!1),active:{down:new Me.t(!0),up:new Me.t(!0)},processed:{down:new B.B,up:new B.B},resolvedConflicts:new B.B,error:new B.B},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new Me.t(!1),up:new Me.t(!1)},streamQueue:{down:Hs.em,up:Hs.em},checkpointQueue:Hs.em,lastCheckpointDoc:{}};return function DY(n){bU.apply(this,arguments)}(e),function SY(n){wU.apply(this,arguments)}(e),e}({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:f.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe((0,Un.p)(A=>!!this.pull),(0,ki.Z)(function(){var A=(0,x.A)(function*(R){if("RESYNC"===R)return R;var U=(0,$s.FD)(R);return U.documents=DU(i.collection,i.deletedField,U.documents),U.documents=yield Promise.all(U.documents.map(K=>c(K))),U});return function(R){return A.apply(this,arguments)}}())),masterChangesSince:(A=(0,x.A)(function*(R,U){if(!i.pull)return{checkpoint:null,documents:[]};for(var K=!1,pe={};!K&&!i.isStopped();)try{pe=yield i.pull.handler(R,U),K=!0}catch(ht){var fe=(0,yu.Br)("RC_PULL",{checkpoint:R,errors:(0,Xa.$r)(ht).map(vt=>(0,aU.S)(vt)),direction:"pull"});i.subjects.error.next(fe),yield S8(i.collection,(0,Ri.ZN)(i.retryTime))}if(i.isStopped())return{checkpoint:null,documents:[]};var he=(0,$s.FD)(pe);return he.documents=DU(i.collection,i.deletedField,he.documents),he.documents=yield Promise.all(he.documents.map(ht=>c(ht))),he}),function(U,K){return A.apply(this,arguments)}),masterWrite:function(){var A=(0,x.A)(function*(R){if(!i.push)return[];var U=!1;yield(0,wD.FX)("preReplicationMasterWrite",{rows:R,collection:i.collection});var K=yield Promise.all(R.map(function(){var vt=(0,x.A)(function*(Et){return Et.newDocumentState=yield d(Et.newDocumentState),null===Et.newDocumentState?null:(Et.assumedMasterState&&(Et.assumedMasterState=yield d(Et.assumedMasterState)),"_deleted"!==i.deletedField&&(Et.newDocumentState=A8(i.deletedField,Et.newDocumentState),Et.assumedMasterState&&(Et.assumedMasterState=A8(i.deletedField,Et.assumedMasterState))),Et)});return function(Et){return vt.apply(this,arguments)}}())),pe=K.filter(Xa.S7),fe=null;for(0===pe.length&&(U=!0,fe=[]);!U&&!i.isStopped();)try{if(fe=yield i.push.handler(pe),!Array.isArray(fe))throw(0,yu.Br)("RC_PUSH_NO_AR",{pushRows:R,direction:"push",args:{result:fe}});U=!0}catch(vt){var he=vt.rxdb?vt:(0,yu.Br)("RC_PUSH",{pushRows:R,errors:(0,Xa.$r)(vt).map(Et=>(0,aU.S)(Et)),direction:"push"});i.subjects.error.next(he),yield S8(i.collection,(0,Ri.ZN)(i.retryTime))}return i.isStopped()?[]:(yield(0,wD.FX)("preReplicationMasterWriteDocumentsHandle",{result:fe,collection:i.collection}),DU(i.collection,i.deletedField,(0,Ri.ZN)(fe)))});return function(U){return A.apply(this,arguments)}}()}}),this.subs.push(this.internalReplicationState.events.error.subscribe(A=>{this.subjects.error.next(A)}),this.internalReplicationState.events.processed.down.subscribe(A=>this.subjects.received.next(A.document)),this.internalReplicationState.events.processed.up.subscribe(A=>{this.subjects.sent.next(A.newDocumentState)}),ue([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([A,R])=>{this.subjects.active.next(A||R)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:A=>{this.remoteEvents$.next(A)},error:A=>{this.subjects.error.next(A)}})),this.live||(yield ck(this.internalReplicationState),yield D8(this.internalReplicationState),yield this.cancel()),this.callOnStart()}});return function r(){return e.apply(this,arguments)}}(),t.isStopped=function(){return!!this.subjects.canceled.getValue()},t.awaitInitialReplication=function(){var e=(0,x.A)(function*(){return yield this.startPromise,ck((0,Ri.ZN)(this.internalReplicationState))});return function r(){return e.apply(this,arguments)}}(),t.awaitInSync=function(){var e=(0,x.A)(function*(){yield this.startPromise,yield ck((0,Ri.ZN)(this.internalReplicationState));for(var i=2;i>0;)i--,yield this.collection.database.requestIdlePromise(),yield D8((0,Ri.ZN)(this.internalReplicationState));return!0});return function r(){return e.apply(this,arguments)}}(),t.reSync=function(){this.remoteEvents$.next("RESYNC")},t.emitEvent=function(r){this.remoteEvents$.next(r)},t.cancel=function(){var e=(0,x.A)(function*(){if(this.isStopped())return Hs.Dr;var i=this.onCancel.map(c=>(0,Hs.hq)(c()));return this.internalReplicationState&&(yield function MY(n){return CU.apply(this,arguments)}(this.internalReplicationState)),this.metaInstance&&i.push((0,Ri.ZN)(this.internalReplicationState).checkpointQueue.then(()=>(0,Ri.ZN)(this.metaInstance).close())),this.subs.forEach(c=>c.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(i)});return function r(){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,x.A)(function*(){yield(0,Ri.ZN)(this.metaInstance).remove();var i=yield this.metaInfoPromise;yield this.cancel(),yield(0,x8.bD)(this.collection,i.collectionName,i.schema)});return function r(){return e.apply(this,arguments)}}(),n}();var RY=O(9182),OY=O(5908),kY=O(5672),PY=O(4395),k8=O(7396),NY={RxSchema:RY.wJ.prototype,RxDocument:OY.ky,RxQuery:kY.Mh.prototype,RxCollection:PY.wm.prototype,RxDatabase:k8.lB.prototype},AU=new Set,P8=new Set;function lk(n){if((0,wD.Xi)("preAddRxPlugin",{plugin:n,plugins:AU}),!AU.has(n)){if(P8.has(n.name))throw(0,yu.Br)("PL3",{name:n.name,plugin:n});if(AU.add(n),P8.add(n.name),!n.rxdb)throw(0,yu.JX)("PL1",{plugin:n});n.init&&n.init(),n.prototypes&&Object.entries(n.prototypes).forEach(([t,e])=>e(NY[t])),n.overwritable&&Object.assign(M8.h,n.overwritable),n.hooks&&Object.entries(n.hooks).forEach(([t,e])=>{e.after&&wD.r[t].push(e.after),e.before&&wD.r[t].unshift(e.before)})}}function N8(n,t){var e=(0,$s.FD)(t);return delete e[n],e}function FY(n,t){return t[n].toDate().toISOString()}function F8(n,t){return delete(t=(0,$s.FD)(t))[n],t}var UY=function(n){function t(e,r,i,c,d,f=!0,m=5e3,w=!0){var A;return(A=n.call(this,r,i,"_deleted",c,d,f,m,w)||this).firestore=e,A.replicationIdentifierHash=r,A.collection=i,A.pull=c,A.push=d,A.live=f,A.retryTime=m,A.autoStart=w,A}return(0,JX.A)(t,n),t}(R8);function jY(n){var t=n.collection;lk(E8);var r,e=new B.B;n.live=typeof n.live>"u"||n.live,n.waitForLeadership=typeof n.waitForLeadership>"u"||n.waitForLeadership;var i=typeof n.serverTimestampField>"u"?"serverTimestamp":n.serverTimestampField;n.serverTimestampField=i;var c=t.schema.primaryPath;if((0,Tc.nT)(t.schema.jsonSchema,i)||i.includes("."))throw(0,yu.Br)("RC6",{field:i,schema:t.schema.jsonSchema});var w,f=void 0!==n.pull?.filter?(0,Xa.$r)(n.pull.filter):[],m=kb(n.firestore.collection,...f);if(n.pull&&(r={handler:(pe,fe)=>(0,x.A)(function*(){var he,ht;if(pe){var vt=function LY(n){var t=new Date(n);return ai.fromDate(t)}(pe.serverTimestamp);he=kb(m,KO(i,">",vt),qO(i,"asc"),QO(fe)),ht=kb(m,KO(i,"==",vt),KO(c,">",pe.id),qO(c,"asc"),QO(fe))}else he=kb(m,qO(i,"asc"),QO(fe));for(var Et=!0,zt=[];Et;)yield KB(n.firestore.database),yield qG(n.firestore.database,function(){var we=(0,x.A)(function*(je){zt=[];var[Ke,it]=yield Promise.all([iU(he),ht?iU(ht):void 0]);if(!(Ke.metadata.hasPendingWrites||ht&&(0,Ri.ZN)(it).metadata.hasPendingWrites)){Et=!1,ht&&(zt=(0,Ri.ZN)(it).docs);var Ce=fe-zt.length;if(Ce>0){var hr=Ke.docs.slice(0,Ce).filter(ws=>!!ws);(0,Xa.Hb)(zt,hr)}}});return function(je){return we.apply(this,arguments)}}());if(0===zt.length)return{checkpoint:pe??null,documents:[]};var vn=(0,Ri.ZN)((0,Xa.dG)(zt)),an=zt.map(we=>function VY(n,t,e){var r=N8(n,e.data());return r[t]=e.id,r}(i,c,we));return{documents:an,checkpoint:{id:vn.id,serverTimestamp:FY(i,vn.data())}}})(),batchSize:(0,Ri.ZN)(n.pull).batchSize,modifier:(0,Ri.ZN)(n.pull).modifier,stream$:e.asObservable()}),n.push){var A=n.push?.filter;w={handler:pe=>(0,x.A)(function*(){void 0!==A&&(pe=yield(0,Xa.j7)(pe,vt=>A(vt.newDocumentState)));var fe={},he=pe.map(vt=>{var Et=vt.newDocumentState[c];return fe[Et]=vt,Et});yield KB(n.firestore.database);var ht=[];return yield qG(n.firestore.database,function(){var vt=(0,x.A)(function*(Et){ht=[];var vn=yield function BY(n,t){for(var e=[];n.length;){var r=n.splice(0,10);e.push(t(r))}return Promise.all(e).then(i=>i.map(c=>c.docs).flat())}(he,we=>iU(kb(n.firestore.collection,KO(function IX(){return new eg("__name__")}(),"in",we)))),an={};vn.forEach(we=>{var je=N8(i,we.data()),Ke=we.id;je[c]=Ke,an[Ke]=je});var Ve=function GX(n){return Mi(n=Zn(n,Gr)),new $X(n,t=>function _D(n,t){return function(r,i){const c=new Qi;return r.asyncQueue.enqueueAndForget((0,x.A)(function*(){return function V7(n,t,e){return gB.apply(this,arguments)}(yield HB(r),i,c)})),c.promise}(Mi(n),t)}(n,t))}(n.firestore.database),le=!1;yield Promise.all(Object.entries(fe).map(function(){var we=(0,x.A)(function*([je,Ke]){var it=an[je];if(!it||Ke.assumedMasterState&&!1!==(yield t.conflictHandler({newDocumentState:it,realMasterState:Ke.assumedMasterState},"replication-firestore-push")).isEqual){le=!0;var Ce=function xG(n,t,...e){if(n=Bi(n),1===arguments.length&&(t=kC.newId()),GB("doc","path",t),n instanceof uD){const r=Qn.fromString(t,...e);return DG(r),new Zi(n,null,new Zt(r))}{if(!(n instanceof Zi||n instanceof vu))throw new Mt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qn.fromString(t,...e));return DG(r),new Zi(n.firestore,n instanceof vu?n.converter:null,new Zt(r))}}(n.firestore.collection,je),hr=(0,$s.FD)(Ke.newDocumentState);hr[i]=function zX(){return new XB("serverTimestamp")}(),it?Ve.update(Ce,F8(c,hr)):Ve.set(Ce,F8(c,hr))}else ht.push(it)});return function(je){return we.apply(this,arguments)}}())),le&&(yield Ve.commit())});return function(Et){return vt.apply(this,arguments)}}()),yield KB(n.firestore.database),ht})(),batchSize:n.push.batchSize,modifier:n.push.modifier}}var R=new UY(n.firestore,n.replicationIdentifier,t,r,w,n.live,n.retryTime,n.autoStart);if(n.live&&n.pull){var U=R.start.bind(R),K=R.cancel.bind(R);R.start=()=>{var fe=function OX(n,...t){var e,r,i;n=Bi(n);let c={includeMetadataChanges:!1,source:"default"},d=0;"object"!=typeof t[d]||WB(t[d])||(c=t[d],d++);const f={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(WB(t[d])){const R=t[d];t[d]=null===(e=R.next)||void 0===e?void 0:e.bind(R),t[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),t[d+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let m,w,A;if(n instanceof Zi)w=Zn(n.firestore,Gr),A=sb(n._key.path),m={next:R=>{t[d]&&t[d](function oU(n,t,e){const r=e.docs.get(t._key),i=new Mf(n);return new Nb(n,i,t._key,r,new ig(e.hasPendingWrites,e.fromCache),t.converter)}(w,n,R))},error:t[d+1],complete:t[d+2]};else{const R=Zn(n,ts);w=Zn(R.firestore,Gr),A=R._query;const U=new Mf(w);m={next:K=>{t[d]&&t[d](new Fb(w,U,R,K))},error:t[d+1],complete:t[d+2]},jG(n._query)}return function(U,K,pe,fe){const he=new VO(fe),ht=new cB(K,he,pe);return U.asyncQueue.enqueueAndForget((0,x.A)(function*(){return nB(yield Ob(U),ht)})),()=>{he.$a(),U.asyncQueue.enqueueAndForget((0,x.A)(function*(){return iB(yield Ob(U),ht)}))}}(Mi(w),A,f,m)}(kb(m,qO(i,"desc"),QO(1)),he=>{R.reSync()},he=>{R.subjects.error.next((0,yu.Br)("RC_STREAM",{error:(0,aU.S)(he)}))});return R.cancel=()=>(fe(),K()),U()}}return function O8(n,t){return(n&&t.collection.database.multiInstance?t.collection.database.waitForLeadership():Hs.Ms).then(()=>{t.isStopped()||t.autoStart&&t.start()})}(n.waitForLeadership,R),R}let L8=(()=>{class n{constructor(){this.firebaseApp=zx(ZG)}replicateCollection(e,r){var i=this;return(0,x.A)(function*(){const c=EX(i.firebaseApp),d=function vX(n,t,...e){if(n=Bi(n),GB("collection","path",t),n instanceof uD){const r=Qn.fromString(t,...e);return TG(r),new vu(n,null,r)}{if(!(n instanceof Zi||n instanceof vu))throw new Mt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qn.fromString(t,...e));return TG(r),new vu(n.firestore,null,r)}}(c,e),f=jY({collection:r,firestore:{projectId:ZG.projectId,database:c,collection:d},pull:{},push:{},live:!0,replicationIdentifier:"Empathy-to-firebase"});return console.log(`LOL: REPLICATION for COLEECTION: ${e}: ${f.replicationIdentifier}`),f})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ID=(()=>{class n{constructor(e){this.remoteDbService=e,this.googleProvider=new wm,this.auth=F3(this.remoteDbService.firebaseApp),this.user$=this.observeAuthState(this.auth)}observeAuthState(e){return new J.c(i=>{e.onAuthStateChanged(c=>c?i.next(c):null,c=>i.error(c),()=>i.complete())})}anonymousLogin(){var e=this;return(0,x.A)(function*(){yield function VL(n){return fy.apply(this,arguments)}(e.auth).then(r=>{console.log(`LOL: Logging in for USER: ${r.user.uid}, PROV: ${r.providerId}, OP: ${r.operationType}`)}).catch(r=>{console.log(`LOL: error on sign in: ${r.code} MESS: ${r.message}`)})})()}googleLogin(){var e=this;return(0,x.A)(function*(){yield function bC(n,t,e){return Py.apply(this,arguments)}(e.auth,e.googleProvider).then(r=>{wm.credentialFromResult(r),console.log(`LOL: Logging in for USER: ${r.user.uid}, PROV: ${r.user.providerId}, OP: ${r.operationType} `)}).catch(r=>{const i=r.code,c=r.message;wm.credentialFromError(r),console.log(`LOL: error on google sign in: ${i} MESS: ${c}`)})})()}registerUser(e,r){var i=this;return(0,x.A)(function*(){return yield function qM(n,t,e){return ZI.apply(this,arguments)}(i.auth,e,r).then(c=>{const d=c.user;return console.log(`LOL: Successfully created account for email: ${e}; User: ${JSON.stringify(d)}`),d}).catch(c=>{const d=c.code,f=c.message;throw console.log(`LOL: error on creating account for email: ${e}: ${d} MESS: ${f}`),new Error(`LOL: error on creating account for email: ${e}: ${d} MESS: ${f}`)})})()}loginWithEmail(e,r){var i=this;return(0,x.A)(function*(){return function UL(n,t,e){return ya(n.app)?Promise.reject(uo(n)):gy(Bi(n),ly.credential(t,e)).catch(function(){var r=(0,x.A)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&KI(n),i});return function(i){return r.apply(this,arguments)}}())}(i.auth,e,r).then(c=>{const d=c.user;return console.log(`LOL: Logging in for USER: ${d.uid}, PROV: ${c.user.providerId}, OP: ${c.operationType} `),d}).catch(c=>{const d=c.code,f=c.message;throw console.log(`LOL: error on email sign in: ${d} MESS: ${f}`),new Error(`LOL: error on email sign in: ${d} MESS: ${f}`)})})()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(L8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $Y(n,t){1&n&&(l.j41(0,"button",8)(1,"span",9),l.EFF(2,"Editor"),l.k0s()())}let HY=(()=>{class n{constructor(e){this.authService=e,this.isDev=(0,l.naY)(),this.userName$=this.authService.user$.pipe((0,xe.T)(r=>r?r.isAnonymous?"Guest":r?.displayName||r.email:"Local")),this.showEditor$=this.authService.user$.pipe((0,xe.T)(r=>!!r?.displayName))}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(ID))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["main-bar"]],standalone:!0,features:[l.aNF],decls:18,vars:7,consts:[["menu","matMenu"],["routerLink","/library"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","","routerLink",""],["data-test-id","user-entry"],["mat-menu-item","","routerLink","/library"],["data-test-id","library-entry"],["mat-menu-item","","routerLink","/editor"],["data-test-id","editor-entry"]],template:function(r,i){if(1&r&&(l.j41(0,"mat-toolbar")(1,"span",1),l.EFF(2,"Empathy"),l.k0s(),l.nrm(3,"span",2),l.j41(4,"button",3)(5,"mat-icon"),l.EFF(6,"menu"),l.k0s()(),l.j41(7,"mat-menu",null,0)(9,"button",4)(10,"span",5),l.EFF(11),l.nI1(12,"async"),l.k0s()(),l.j41(13,"button",6)(14,"span",7),l.EFF(15,"Library"),l.k0s()(),l.DNE(16,$Y,3,0,"button",8),l.nI1(17,"async"),l.k0s()()),2&r){const c=l.sdS(8);l.R7$(4),l.Y8G("matMenuTriggerFor",c),l.R7$(7),l.JRh(l.bMT(12,3,i.userName$)||"Signed Out"),l.R7$(5),l.vxM(l.bMT(17,5,i.showEditor$)||i.isDev?16:-1)}},dependencies:[Ho,wr,pa,gN,mN,$a,Jc,Fs,rF,$h,nm,ww,va],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background:var(--sys-background)}"]})}return n})(),zY=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-root"]],standalone:!0,features:[l.aNF],decls:3,vars:0,consts:[[1,"container"]],template:function(r,i){1&r&&(l.nrm(0,"main-bar"),l.j41(1,"div",0),l.nrm(2,"router-outlet"),l.k0s())},dependencies:[HY,dp],styles:[".container[_ngcontent-%COMP%] {margin:auto;width:85%}"]})}return n})(),WY=(()=>{class n{constructor(e,r,i,c,d){this.doc=e,this.delegate=r,this.zone=i,this.animationType=c,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=(0,l.WQX)(l.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??O.e(8).then(O.bind(O,8008)).then(r=>r)).catch(r=>{throw new l.wOt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:i})=>{this._engine=r(this.animationType,this.doc);const c=new i(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(e,r){const i=this.delegate.createRenderer(e,r);if(0===i.\u0275type)return i;"boolean"==typeof i.throwOnSyntheticProps&&(i.throwOnSyntheticProps=!1);const c=new KY(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{const f=d.createRenderer(e,r);c.use(f),this.scheduler?.notify(9)}).catch(d=>{c.use(i)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class KY{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,null!==this.replay){for(const e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,r,i){this.delegate.insertBefore(t,e,r,i)}removeChild(t,e,r){this.delegate.removeChild(t,e,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(t,e,r)),this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(t,e,r)),this.delegate.listen(t,e,r)}shouldReplay(t){return null!==this.replay&&t.startsWith("@")}}var SU=O(5505);const V8=Symbol.for("Dexie"),uk=globalThis[V8]||(globalThis[V8]=SU);if(SU.semVer!==uk.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${SU.semVer} and ${uk.semVer}`);var dk=O(1744),hk="docs",B8="attachments",j8=new Map,fk=new Map;function xU(){return(xU=(0,x.A)(function*(n){var t=yield n,r=fk.get(n)-1;0===r?(t.dexieDb.close(),fk.delete(n)):fk.set(n,r)})).apply(this,arguments)}var MU="__";function CD(n){var t=n.split(".");if(t.length>1)return t.map(r=>CD(r)).join(".");if(n.startsWith("|")){var e=n.substring(1);return MU+e}return n}function $8(n){var t=n.split(".");return t.length>1?t.map(r=>$8(r)).join("."):n.startsWith(MU)?"|"+n.substring(MU.length):n}function ZY(n,t){return t&&(t=RU(t=(0,$s.FD)(t)),n.forEach(e=>{var r=(0,dk.UU)(t,e);(0,dk.oq)(t,e,r?"1":"0")}),t)}function H8(n,t){return t&&(t=OU(t=(0,$s.FD)(t)),n.forEach(e=>{var r=(0,dk.UU)(t,e);(0,dk.oq)(t,e,"1"===r)}),t)}function RU(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>RU(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,r])=>{"object"==typeof r&&(r=RU(r)),t[CD(e)]=r}),t}}function OU(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>OU(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,r])=>{("object"==typeof r||Array.isArray(n))&&(r=OU(r)),t[$8(e)]=r}),t}}function JY(n){var t=[],e=(0,Tc.xQ)(n.primaryKey);t.push([e]),t.push(["_deleted",e]),n.indexes&&n.indexes.forEach(c=>{var d=(0,Xa.$r)(c);t.push(d)}),t.push(["_meta.lwt",e]),t.push(["_meta.lwt"]);var r=(t=t.map(c=>c.map(d=>CD(d)))).map(c=>1===c.length?c[0]:"["+c.join("+")+"]");return(r=r.filter((c,d,f)=>f.indexOf(c)===d)).join(", ")}function z8(n,t){return kU.apply(this,arguments)}function kU(){return(kU=(0,x.A)(function*(n,t){var e=yield n;return(yield e.dexieTable.bulkGet(t)).map(i=>H8(e.booleanIndexes,i))})).apply(this,arguments)}function pk(n,t){return n+"||"+t}function eZ(n){var t=new Set,e=[];return n.indexes?(n.indexes.forEach(r=>{(0,Xa.$r)(r).forEach(c=>{t.has(c)||(t.add(c),"boolean"===(0,Tc.nT)(n,c).type&&e.push(c))})}),e.push("_deleted"),(0,Xa.jw)(e)):e}var mk=O(7014),tZ=O(6243),G8=O(997),W8=O(5365);function K8(n){return n===G8.OK?-1/0:n}function q8(n,t,e){return n.includes(t)?e===G8.g0||!0===e?"1":"0":e}function X8(n,t,e){if(!e){if(typeof window>"u")throw new Error("IDBKeyRange missing");e=window.IDBKeyRange}var r=t.startKeys.map((d,f)=>q8(n,t.index[f],d)).map(K8),i=t.endKeys.map((d,f)=>q8(n,t.index[f],d)).map(K8);return e.bound(r,i,!t.inclusiveStart,!t.inclusiveEnd)}function Q8(n,t){return PU.apply(this,arguments)}function PU(){return PU=(0,x.A)(function*(n,t){var e=yield n.internals,r=t.query,i=r.skip?r.skip:0,d=i+(r.limit?r.limit:1/0),f=t.queryPlan,m=!1;f.selectorSatisfiedByIndex||(m=(0,W8.Lr)(n.schema,t.query));var w=X8(e.booleanIndexes,f,e.dexieDb._options.IDBKeyRange),A=f.index,R=[];if(yield e.dexieDb.transaction("r",e.dexieTable,function(){var K=(0,x.A)(function*(pe){var vt,he=pe.idbtrans.objectStore(hk);vt="["+A.map(zt=>CD(zt)).join("+")+"]";var Et=he.index(vt).openCursor(w);yield new Promise(zt=>{Et.onsuccess=function(vn){var an=vn.target.result;if(an){var Ve=H8(e.booleanIndexes,an.value);(!m||m(Ve))&&R.push(Ve),f.sortSatisfiedByIndex&&R.length===d?zt():an.continue()}else zt()}})});return function(pe){return K.apply(this,arguments)}}()),!f.sortSatisfiedByIndex){var U=(0,W8.Xw)(n.schema,t.query);R=R.sort(U)}return{documents:R=R.slice(i,d)}}),PU.apply(this,arguments)}function NU(){return NU=(0,x.A)(function*(n,t){var e=yield n.internals,r=t.queryPlan,i=r.index,c=X8(e.booleanIndexes,r,e.dexieDb._options.IDBKeyRange),d=-1;return yield e.dexieDb.transaction("r",e.dexieTable,function(){var f=(0,x.A)(function*(m){var U,A=m.idbtrans.objectStore(hk);U="["+i.map(pe=>CD(pe)).join("+")+"]";var K=A.index(U).count(c);d=yield new Promise((pe,fe)=>{K.onsuccess=function(){pe(K.result)},K.onerror=he=>fe(he)})});return function(m){return f.apply(this,arguments)}}()),d}),NU.apply(this,arguments)}var rZ=(0,Lb.t)(),FU=!1,iZ=function(){function n(e,r,i,c,d,f,m,w){this.changes$=new B.B,this.instanceId=rZ++,this.storage=e,this.databaseName=r,this.collectionName=i,this.schema=c,this.internals=d,this.options=f,this.settings=m,this.devMode=w,this.primaryPath=(0,Tc.xQ)(this.schema.primaryKey)}var t=n.prototype;return t.bulkWrite=function(){var e=(0,x.A)(function*(i,c){var d=this;lg(this),!FU&&(!mk.P.premium||"string"!=typeof mk.P.premium||(yield(0,tZ.V0)(mk.P.premium))!==mk.Y)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join("\n")),FU=!0,i.forEach(U=>{if(!U.document._rev||U.previous&&!U.previous._rev)throw(0,yu.Br)("SNH",{args:{row:U}})});var f=yield this.internals,m={error:[]};this.devMode&&(i=i.map(U=>{var K=(0,zs.C9)(U.document);return{previous:U.previous,document:K}}));var A,w=i.map(U=>U.document[this.primaryPath]);if(yield f.dexieDb.transaction("rw",f.dexieTable,f.dexieAttachmentsTable,(0,x.A)(function*(){var U=new Map;(yield z8(d.internals,w)).forEach(he=>{var ht=he;return ht&&U.set(ht[d.primaryPath],ht),ht}),A=(0,zs.gi)(d,d.primaryPath,U,i,c),m.error=A.errors;var pe=[];A.bulkInsertDocs.forEach(he=>{pe.push(he.document)}),A.bulkUpdateDocs.forEach(he=>{pe.push(he.document)}),(pe=pe.map(he=>ZY(f.booleanIndexes,he))).length>0&&(yield f.dexieTable.bulkPut(pe));var fe=[];A.attachmentsAdd.forEach(he=>{fe.push({id:pk(he.documentId,he.attachmentId),data:he.attachmentData.data})}),A.attachmentsUpdate.forEach(he=>{fe.push({id:pk(he.documentId,he.attachmentId),data:he.attachmentData.data})}),yield f.dexieAttachmentsTable.bulkPut(fe),yield f.dexieAttachmentsTable.bulkDelete(A.attachmentsRemove.map(he=>pk(he.documentId,he.attachmentId)))})),(A=(0,Ri.ZN)(A)).eventBulk.events.length>0){var R=(0,Ri.ZN)(A.newestRow).document;A.eventBulk.checkpoint={id:R[this.primaryPath],lwt:R._meta.lwt},A.eventBulk.endTime=(0,Lb.t)(),this.changes$.next(A.eventBulk)}return m});return function r(i,c){return e.apply(this,arguments)}}(),t.findDocumentsById=function(){var e=(0,x.A)(function*(i,c){var d=this;lg(this);var f=yield this.internals,m=[];return yield f.dexieDb.transaction("r",f.dexieTable,(0,x.A)(function*(){(yield z8(d.internals,i)).forEach(A=>{A&&(!A._deleted||c)&&m.push(A)})})),m});return function r(i,c){return e.apply(this,arguments)}}(),t.query=function(r){return lg(this),Q8(this,r)},t.count=function(){var e=(0,x.A)(function*(i){if(i.queryPlan.selectorSatisfiedByIndex){var c=yield function nZ(n,t){return NU.apply(this,arguments)}(this,i);return{count:c,mode:"fast"}}return{count:(yield Q8(this,i)).documents.length,mode:"slow"}});return function r(i){return e.apply(this,arguments)}}(),t.changeStream=function(){return lg(this),this.changes$.asObservable()},t.cleanup=function(){var e=(0,x.A)(function*(i){var c=this;lg(this);var d=yield this.internals;return yield d.dexieDb.transaction("rw",d.dexieTable,(0,x.A)(function*(){var f=(0,Lb.t)()-i,m=yield d.dexieTable.where("_meta.lwt").below(f).toArray(),w=[];m.forEach(A=>{"1"===A._deleted&&w.push(A[c.primaryPath])}),yield d.dexieTable.bulkDelete(w)})),!0});return function r(i){return e.apply(this,arguments)}}(),t.getAttachmentData=function(){var e=(0,x.A)(function*(i,c,d){lg(this);var f=yield this.internals,m=pk(i,c);return yield f.dexieDb.transaction("r",f.dexieAttachmentsTable,(0,x.A)(function*(){var w=yield f.dexieAttachmentsTable.get(m);if(w)return w.data;throw new Error("attachment missing documentId: "+i+" attachmentId: "+c)}))});return function r(i,c,d){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,x.A)(function*(){lg(this);var i=yield this.internals;return yield i.dexieTable.clear(),this.close()});return function r(){return e.apply(this,arguments)}}(),t.close=function(){var r=this;return this.closed||(this.closed=(0,x.A)(function*(){r.changes$.complete(),yield function YY(n){return xU.apply(this,arguments)}(r.internals)})()),this.closed},t.conflictResultionTasks=function(){return new B.B},t.resolveConflictResultionTask=function(){var e=(0,x.A)(function*(i){});return function r(i){return e.apply(this,arguments)}}(),n}();function LU(){return(LU=(0,x.A)(function*(n,t,e){var r=function QY(n,t,e,r){var i="rxdb-dexie-"+n+"--"+r.version+"--"+t,c=(0,pU.q)(j8,i,()=>{var d=(0,x.A)(function*(){var f=(0,$s.FD)(e);f.autoOpen=!1;var m=new uk(i,f),w={[hk]:JY(r),changes:"++sequence, id",[B8]:"id"};return m.version(1).stores(w),yield m.open(),{dexieDb:m,dexieTable:m[hk],dexieAttachmentsTable:m[B8],booleanIndexes:eZ(r)}})();return j8.set(i,c),fk.set(c,0),d});return c}(t.databaseName,t.collectionName,e,t.schema),i=new iZ(n,t.databaseName,t.collectionName,t.schema,r,t.options,e,t.devMode);return yield pY("dexie",t,i),Promise.resolve(i)})).apply(this,arguments)}function lg(n){if(n.closed)throw new Error("RxStorageInstanceDexie is closed "+n.databaseName+"-"+n.collectionName)}var sZ=O(6052),aZ=function(){function n(e){this.name="dexie",this.rxdbVersion=sZ.o,this.settings=e}return n.prototype.createStorageInstance=function(r){return(0,zs.pZ)(r),function oZ(n,t,e){return LU.apply(this,arguments)}(this,r,this.settings)},n}();function cZ(n={}){return new aZ(n)}var VU={minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0},BU=Hs.Ms;function UU(){return UU=(0,x.A)(function*(n){var t=n.database,e=Object.assign({},VU,t.cleanupPolicy?t.cleanupPolicy:{});yield Y8(n,e),!n.destroyed&&(yield Z8(n,e),yield function uZ(n,t){return HU.apply(this,arguments)}(n,e))}),UU.apply(this,arguments)}function Y8(n,t){return jU.apply(this,arguments)}function jU(){return(jU=(0,x.A)(function*(n,t){yield n.promiseWait(t.minimumCollectionAge),!n.destroyed&&t.waitForLeadership&&(yield n.database.waitForLeadership())})).apply(this,arguments)}function Z8(n,t){return $U.apply(this,arguments)}function $U(){return($U=(0,x.A)(function*(n,t){for(var e=n.database,r=n.storageInstance,i=!1;!i&&!n.destroyed;){if(t.awaitReplicationsInSync){var c=TU.get(n);c&&(yield Promise.all(c.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(n.destroyed)return;BU=BU.then((0,x.A)(function*(){return!!n.destroyed||(yield e.requestIdlePromise(),r.cleanup(t.minimumDeletedTime))})),i=yield BU}})).apply(this,arguments)}function HU(){return(HU=(0,x.A)(function*(n,t){for(;!n.destroyed;){if(yield n.promiseWait(t.runEach),n.destroyed)return;yield Z8(n,t)}})).apply(this,arguments)}var zU=Hs.Ms;function GU(){return GU=(0,x.A)(function*(n){var t=n.collection,e=t.database,r=Object.assign({},VU,e.cleanupPolicy?e.cleanupPolicy:{});yield Y8(t,r),!t.destroyed&&(yield J8(n,r),yield function hZ(n,t){return KU.apply(this,arguments)}(n,r))}),GU.apply(this,arguments)}function J8(n,t){return WU.apply(this,arguments)}function WU(){return(WU=(0,x.A)(function*(n,t){for(var e=n.collection,r=e.database,i=!1;!i&&!e.destroyed;){if(t.awaitReplicationsInSync){var c=TU.get(e);c&&(yield Promise.all(c.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(e.destroyed)return;zU=zU.then((0,x.A)(function*(){return!!e.destroyed||(yield r.requestIdlePromise(),n._cleanup())})),i=yield zU}})).apply(this,arguments)}function KU(){return(KU=(0,x.A)(function*(n,t){for(var e=n.collection;!e.destroyed;){if(yield e.promiseWait(t.runEach),e.destroyed)return;yield J8(n,t)}})).apply(this,arguments)}var fZ={name:"cleanup",rxdb:!0,prototypes:{RxCollection:n=>{n.cleanup=function(){var t=(0,x.A)(function*(e){var r=Object.assign({},VU,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof e>"u"&&(e=r.minimumDeletedTime);for(var i=!1;!i&&!this.destroyed;)i=yield this.storageInstance.cleanup(e)});return function(e){return t.apply(this,arguments)}}()}},hooks:{createRxCollection:{after:n=>{!function lZ(n){UU.apply(this,arguments)}(n.collection)}},createRxState:{after:n=>{!function dZ(n){GU.apply(this,arguments)}(n.state)}}}};const e6={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var gk,mZ=new Uint8Array(16);function gZ(){if(!gk&&!(gk=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return gk(mZ)}for(var ns=[],qU=0;qU<256;++qU)ns.push((qU+256).toString(16).slice(1));const vZ=function _Z(n,t,e){if(e6.randomUUID&&!t&&!n)return e6.randomUUID();var r=(n=n||{}).random||(n.rng||gZ)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=r[i];return t}return function t6(n,t=0){return(ns[n[t+0]]+ns[n[t+1]]+ns[n[t+2]]+ns[n[t+3]]+"-"+ns[n[t+4]]+ns[n[t+5]]+"-"+ns[n[t+6]]+ns[n[t+7]]+"-"+ns[n[t+8]]+ns[n[t+9]]+"-"+ns[n[t+10]]+ns[n[t+11]]+ns[n[t+12]]+ns[n[t+13]]+ns[n[t+14]]+ns[n[t+15]]).toLowerCase()}(r)};let dl=(()=>{class n{constructor(e){this.remoteDbService=e,this.localDb=this.setupLocalDb("local_db",YX)}setupLocalDb(e,r){return(0,x.A)(function*(){(0,l.naY)()&&(yield O.e(486).then(O.bind(O,6486)).then(c=>lk(c.RxDBDevModePlugin))),lk(E8),lk(fZ);const i=yield(0,k8.uh)({name:e,storage:cZ(),eventReduce:!0,cleanupPolicy:{minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0}});return yield i.addCollections(r),i})()}addDocument(e,r,i){return this.localDb.then(c=>{const d={...r,id:i||vZ()};return c[e].insert(d)}).catch(c=>{throw console.log(`LOL: Error on adding document into ${e}: ${c}`),new Error(`LOL: Error on adding document into ${e}: ${c}`)})}getDocumentsByIds(e,r){return this.localDb.then(i=>i[e].findByIds(r).$).catch(i=>{throw console.log(`LOL: Error on getting document from ${e}: ${i}`),new Error(`LOL: Error on getting document from ${e}: ${i}`)})}getDocumentById(e,r){var i=this;return(0,x.A)(function*(){return(yield i.getDocumentsByIds(e,[r])).pipe((0,xe.T)(d=>d.get(r)))})()}getAllCollectionDocs(e){return this.localDb.then(r=>r[e].find().$).catch(r=>{throw console.log(`LOL: Error on getting document from ${e}: ${r}`),new Error(`LOL: Error on getting document from ${e}: ${r}`)})}updateDocument(e,r,i){var c=this;return(0,x.A)(function*(){return(yield c.localDb)[e].findByIds([r]).exec().then(f=>f.get(r)).then(f=>f.patch(i)).catch(f=>{throw console.log(`LOL: Error on updating document id: ${r} in collection ${e}: ${f}`),new Error(`LOL: Error on updating document id: ${r} in collection ${e}: ${f}`)})})()}deleteDocument(e,r){var i=this;return(0,x.A)(function*(){return(yield i.localDb)[e].findByIds([r]).exec().then(d=>d.get(r)).then(d=>d.remove()).catch(d=>{throw console.log(`LOL: Error on removing document id: ${r} from collection: ${e}`),new Error(`LOL: Error on removing document id: ${r} from collection: ${e}`)})})()}cleanupCollection(e){var r=this;return(0,x.A)(function*(){yield(yield r.localDb)[e].cleanup(0)})()}replicateCollection(e){var r=this;return(0,x.A)(function*(){const i=(yield r.localDb).collections[e];r.remoteDbService.replicateCollection(e,i)})()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(L8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yZ=["*"],wZ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],IZ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],CZ=new l.nKC("MAT_CARD_CONFIG");let DD=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(CZ,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,i){2&r&&l.AVh("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[l.aNF],ngContentSelectors:yZ,decls:1,vars:0,template:function(r,i){1&r&&(l.NAR(),l.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),XU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return n})(),TD=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return n})(),n6=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return n})(),QU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[l.aNF],ngContentSelectors:IZ,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,i){1&r&&(l.NAR(wZ),l.SdG(0),l.j41(1,"div",0),l.SdG(2,1),l.k0s(),l.SdG(3,2))},encapsulation:2,changeDetection:0})}return n})(),YU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return n})(),AD=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Ho,Fr]})}return n})(),r6=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.sFG),l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n})}return n})(),ug=(()=>{class n extends r6{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,features:[l.Vt3]})}return n})();const Ac=new l.nKC(""),SZ={provide:Ac,useExisting:(0,l.Rfq)(()=>dg),multi:!0},MZ=new l.nKC("");let dg=(()=>{class n extends r6{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xZ(){const n=X()?X().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(MZ,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&l.bIt("input",function(d){return i._handleInput(d.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(d){return i._compositionEnd(d.target.value)})},features:[l.Jv_([SZ]),l.Vt3]})}return n})();function Of(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function o6(n){return null!=n&&"number"==typeof n.length}const Vo=new l.nKC(""),kf=new l.nKC(""),RZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ji{static min(t){return function s6(n){return t=>{if(Of(t.value)||Of(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function a6(n){return t=>{if(Of(t.value)||Of(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function c6(n){return Of(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function l6(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function u6(n){return Of(n.value)||RZ.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function d6(n){return t=>Of(t.value)||!o6(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function h6(n){return t=>o6(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function f6(n){if(!n)return _k;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Of(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return y6(t)}static composeAsync(t){return b6(t)}}function _k(n){return null}function p6(n){return null!=n}function m6(n){return(0,l.jNT)(n)?(0,Be.H)(n):n}function g6(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function _6(n,t){return t.map(e=>e(n))}function v6(n){return n.map(t=>function OZ(n){return!n.validate}(t)?t:e=>t.validate(e))}function y6(n){if(!n)return null;const t=n.filter(p6);return 0==t.length?null:function(e){return g6(_6(e,t))}}function ZU(n){return null!=n?y6(v6(n)):null}function b6(n){if(!n)return null;const t=n.filter(p6);return 0==t.length?null:function(e){return HE(_6(e,t).map(m6)).pipe((0,xe.T)(g6))}}function JU(n){return null!=n?b6(v6(n)):null}function E6(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function w6(n){return n._rawValidators}function I6(n){return n._rawAsyncValidators}function ej(n){return n?Array.isArray(n)?n:[n]:[]}function vk(n,t){return Array.isArray(n)?n.includes(t):n===t}function C6(n,t){const e=ej(t);return ej(n).forEach(i=>{vk(e,i)||e.push(i)}),e}function D6(n,t){return ej(t).filter(e=>!vk(n,e))}class T6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ZU(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=JU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Gs extends T6{get formDirective(){return null}get path(){return null}}class hl extends T6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class A6{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let SD=(()=>{class n extends A6{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(hl,2))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&l.AVh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.Vt3]})}return n})(),xD=(()=>{class n extends A6{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Gs,10))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&l.AVh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.Vt3]})}return n})();const MD="VALID",bk="INVALID",Vb="PENDING",RD="DISABLED";class Bb{}class x6 extends Bb{constructor(t,e){super(),this.value=t,this.source=e}}class rj extends Bb{constructor(t,e){super(),this.pristine=t,this.source=e}}class ij extends Bb{constructor(t,e){super(),this.touched=t,this.source=e}}class Ek extends Bb{constructor(t,e){super(),this.status=t,this.source=e}}class LZ extends Bb{constructor(t){super(),this.source=t}}class VZ extends Bb{constructor(t){super(),this.source=t}}function oj(n){return(wk(n)?n.validators:n)||null}function sj(n,t){return(wk(t)?t.asyncValidators:n)||null}function wk(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function M6(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.wOt(1e3,"");if(!r[e])throw new l.wOt(1001,"")}function R6(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new l.wOt(1002,"")})}class Ik{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,l.EWP)(()=>this.statusReactive()),this.statusReactive=(0,l.vPA)(void 0),this._pristine=(0,l.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,l.vPA)(!0),this._touched=(0,l.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,l.vPA)(!1),this._events=new B.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return(0,l.O8t)(this.statusReactive)}set status(t){(0,l.O8t)(()=>this.statusReactive.set(t))}get valid(){return this.status===MD}get invalid(){return this.status===bk}get pending(){return this.status==Vb}get disabled(){return this.status===RD}get enabled(){return this.status!==RD}get pristine(){return(0,l.O8t)(this.pristineReactive)}set pristine(t){(0,l.O8t)(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return(0,l.O8t)(this.touchedReactive)}set touched(t){(0,l.O8t)(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(C6(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(C6(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(D6(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(D6(t,this._rawAsyncValidators))}hasValidator(t){return vk(this._rawValidators,t)}hasAsyncValidator(t){return vk(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),e&&!1!==t.emitEvent&&this._events.next(new ij(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&!1!==t.emitEvent&&this._events.next(new ij(!1,r))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),e&&!1!==t.emitEvent&&this._events.next(new rj(!1,r))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&!1!==t.emitEvent&&this._events.next(new rj(!0,r))}markAsPending(t={}){this.status=Vb;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new Ek(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=RD,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new x6(this.value,r)),this._events.next(new Ek(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=MD,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===MD||this.status===Vb)&&this._runAsyncValidator(r,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new x6(this.value,e)),this._events.next(new Ek(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?RD:MD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Vb,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const r=m6(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Ek(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?RD:this.errors?bk:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vb)?Vb:this._anyControlsHaveStatus(bk)?bk:MD}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new rj(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ij(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wk(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function BZ(n){return Array.isArray(n)?ZU(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function UZ(n){return Array.isArray(n)?JU(n):n||null}(this._rawAsyncValidators)}}class OD extends Ik{constructor(t,e,r){super(oj(e),sj(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){R6(this,0,t),Object.keys(t).forEach(r=>{M6(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,c)=>{r=e(r,i,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class O6 extends OD{}const Ub=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>Ck}),Ck="always";function kD(n,t,e=Ck){aj(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function $Z(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&k6(n,t)})}(n,t),function zZ(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function HZ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&k6(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function jZ(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Tk(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Sk(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ak(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function aj(n,t){const e=w6(n);null!==t.validator?n.setValidators(E6(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=I6(n);null!==t.asyncValidator?n.setAsyncValidators(E6(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ak(t._rawValidators,i),Ak(t._rawAsyncValidators,i)}function Sk(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=w6(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(d=>d!==t.validator);c.length!==i.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const i=I6(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(d=>d!==t.asyncValidator);c.length!==i.length&&(e=!0,n.setAsyncValidators(c))}}}const r=()=>{};return Ak(t._rawValidators,r),Ak(t._rawAsyncValidators,r),e}function k6(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function P6(n,t){aj(n,t)}function N6(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const XZ={provide:Gs,useExisting:(0,l.Rfq)(()=>jb)},PD=Promise.resolve();let jb=(()=>{class n extends Gs{get submitted(){return(0,l.O8t)(this.submittedReactive)}constructor(e,r,i){super(),this.callSetDisabledState=i,this._submitted=(0,l.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,l.vPA)(!1),this._directives=new Set,this.ngSubmit=new l.bkB,this.form=new OD({},ZU(e),JU(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){PD.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),kD(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){PD.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){PD.then(()=>{const r=this._findContainer(e.path),i=new OD({});P6(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){PD.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){PD.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),N6(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Vo,10),l.rXU(kf,10),l.rXU(Ub,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&l.bIt("submit",function(d){return i.onSubmit(d)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([XZ]),l.Vt3]})}return n})();function F6(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function L6(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ND=class extends Ik{constructor(t=null,e,r){super(oj(e),sj(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wk(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=L6(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){F6(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){F6(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){L6(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};Promise.resolve();let FD=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const JZ={provide:Ac,useExisting:(0,l.Rfq)(()=>dj),multi:!0};let dj=(()=>{class n extends ug{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&l.bIt("input",function(d){return i.onChange(d.target.value)})("blur",function(){return i.onTouched()})},features:[l.Jv_([JZ]),l.Vt3]})}return n})();const hj=new l.nKC(""),iJ={provide:Gs,useExisting:(0,l.Rfq)(()=>bu)};let bu=(()=>{class n extends Gs{get submitted(){return(0,l.O8t)(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,r,i){super(),this.callSetDisabledState=i,this._submitted=(0,l.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,l.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.bkB,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Sk(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return kD(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){Tk(e.control||null,e,!1),function qZ(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),N6(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new LZ(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new VZ(this.form))}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(Tk(r||null,e),(n=>n instanceof ND)(i)&&(kD(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);P6(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function GZ(n,t){return Sk(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){aj(this.form,this),this._oldForm&&Sk(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Vo,10),l.rXU(kf,10),l.rXU(Ub,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&l.bIt("submit",function(d){return i.onSubmit(d)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([iJ]),l.Vt3,l.OA$]})}return n})();const aJ={provide:hl,useExisting:(0,l.Rfq)(()=>$b)};let $b=(()=>{class n extends hl{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,r,i,c,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new l.bkB,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function uj(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(c=>{c.constructor===dg?e=c:function KZ(n){return Object.getPrototypeOf(n.constructor)===ug}(c)?r=c:i=c}),i||r||e||null}(0,c)}ngOnChanges(e){this._added||this._setUpControl(),function lj(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Dk(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(l.rXU(Gs,13),l.rXU(Vo,10),l.rXU(kf,10),l.rXU(Ac,10),l.rXU(hj,8))};static#n=this.\u0275dir=l.FsC({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.Jv_([aJ]),l.Vt3,l.OA$]})}return n})(),wJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();class nW extends Ik{constructor(t,e,r){super(oj(e),sj(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){R6(this,0,t),t.forEach((r,i)=>{M6(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function rW(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let IJ=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let c={};return rW(r)?c=r:null!==r&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new OD(i,c)}record(e,r=null){const i=this._reduceControls(e);return new O6(i,r)}control(e,r,i){let c={};return this.useNonNullable?(rW(r)?c=r:(c.validators=r,c.asyncValidators=i),new ND(e,{...c,nonNullable:!0})):new ND(e,r,i)}array(e,r,i){const c=e.map(d=>this._createControl(d));return new nW(c,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof ND||e instanceof Ik?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(IJ).nonNullable,providedIn:"root"})}return n})(),Mk=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:hj,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ub,useValue:e.callSetDisabledState??Ck}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[wJ]})}return n})();var CJ=O(6496);class DJ{constructor(t){this._box=t,this._destroyed=new B.B,this._resizeSubject=new B.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new J.c(e=>{const r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),r.unsubscribe(),this._elementObservables.delete(t)}}).pipe((0,Un.p)(e=>e.some(r=>r.target===t)),(0,CJ.t)({bufferSize:1,refCount:!0}),Tr(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let TJ=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,l.WQX)(l.SKi)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new DJ(i)),this._observers.get(i).observe(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),AJ=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),SJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[AJ]})}return n})();const xJ=["notch"],MJ=["matFormFieldNotchedOutline",""],RJ=["*"],OJ=["textField"],kJ=["iconPrefixContainer"],PJ=["textPrefixContainer"],NJ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],FJ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function LJ(n,t){1&n&&l.nrm(0,"span",19)}function VJ(n,t){if(1&n&&(l.j41(0,"label",18),l.SdG(1,1),l.DNE(2,LJ,1,0,"span",19),l.k0s()),2&n){const e=l.XpG(2);l.Y8G("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),l.BMQ("for",e._control.disableAutomaticLabeling?null:e._control.id),l.R7$(2),l.vxM(!e.hideRequiredMarker&&e._control.required?2:-1)}}function BJ(n,t){if(1&n&&l.DNE(0,VJ,3,5,"label",18),2&n){const e=l.XpG();l.vxM(e._hasFloatingLabel()?0:-1)}}function UJ(n,t){1&n&&l.nrm(0,"div",5)}function jJ(n,t){}function $J(n,t){if(1&n&&l.DNE(0,jJ,0,0,"ng-template",11),2&n){l.XpG(2);const e=l.sdS(1);l.Y8G("ngTemplateOutlet",e)}}function HJ(n,t){if(1&n&&(l.j41(0,"div",7),l.DNE(1,$J,1,1,null,11),l.k0s()),2&n){const e=l.XpG();l.Y8G("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),l.R7$(),l.vxM(e._forceDisplayInfixLabel()?-1:1)}}function zJ(n,t){1&n&&(l.j41(0,"div",8,2),l.SdG(2,2),l.k0s())}function GJ(n,t){1&n&&(l.j41(0,"div",9,3),l.SdG(2,3),l.k0s())}function WJ(n,t){}function KJ(n,t){if(1&n&&l.DNE(0,WJ,0,0,"ng-template",11),2&n){l.XpG();const e=l.sdS(1);l.Y8G("ngTemplateOutlet",e)}}function qJ(n,t){1&n&&(l.j41(0,"div",12),l.SdG(1,4),l.k0s())}function XJ(n,t){1&n&&(l.j41(0,"div",13),l.SdG(1,5),l.k0s())}function QJ(n,t){1&n&&l.nrm(0,"div",14)}function YJ(n,t){if(1&n&&(l.j41(0,"div",16),l.SdG(1,6),l.k0s()),2&n){const e=l.XpG();l.Y8G("@transitionMessages",e._subscriptAnimationState)}}function ZJ(n,t){if(1&n&&(l.j41(0,"mat-hint",20),l.EFF(1),l.k0s()),2&n){const e=l.XpG(2);l.Y8G("id",e._hintLabelId),l.R7$(),l.JRh(e.hintLabel)}}function JJ(n,t){if(1&n&&(l.j41(0,"div",17),l.DNE(1,ZJ,2,2,"mat-hint",20),l.SdG(2,7),l.nrm(3,"div",21),l.SdG(4,8),l.k0s()),2&n){const e=l.XpG();l.Y8G("@transitionMessages",e._subscriptAnimationState),l.R7$(),l.vxM(e.hintLabel?1:-1)}}let Hb=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-label"]],standalone:!0})}return n})(),eee=0;const iW=new l.nKC("MatError");let tee=(()=>{class n{constructor(e,r){this.id="mat-mdc-error-"+eee++,e||r.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(r){return new(r||n)(l.kS0("aria-live"),l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(r,i){2&r&&l.Mr5("id",i.id)},inputs:{id:"id"},standalone:!0,features:[l.Jv_([{provide:iW,useExisting:n}])]})}return n})(),nee=0,oW=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+nee++}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){2&r&&(l.Mr5("id",i.id),l.BMQ("align",null),l.AVh("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},standalone:!0})}return n})();const ree=new l.nKC("MatPrefix"),sW=new l.nKC("MatSuffix");let iee=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[l.Jv_([{provide:sW,useExisting:n}])]})}return n})();const aW=new l.nKC("FloatingLabelParent");let cW=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,l.WQX)(TJ),this._ngZone=(0,l.WQX)(l.SKi),this._parent=(0,l.WQX)(aW),this._resizeSubscription=new re.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function oee(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return n})();const lW="mdc-line-ripple--active",Rk="mdc-line-ripple--deactivating";let uW=(()=>{class n{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=i=>{const c=this._elementRef.nativeElement.classList,d=c.contains(Rk);"opacity"===i.propertyName&&d&&c.remove(lW,Rk)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(Rk),e.add(lW)}deactivate(){this._elementRef.nativeElement.classList.add(Rk)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return n})(),dW=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(1&r&&l.GBs(xJ,5),2&r){let c;l.mGM(c=l.lsd())&&(i._notch=c.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[l.aNF],attrs:MJ,ngContentSelectors:RJ,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){1&r&&(l.NAR(),l.nrm(0,"div",1),l.j41(1,"div",2,0),l.SdG(3),l.k0s(),l.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const see={transitionMessages:(0,un.hZ)("transitionMessages",[(0,un.wk)("enter",(0,un.iF)({opacity:1,transform:"translateY(0%)"})),(0,un.kY)("void => enter",[(0,un.iF)({opacity:0,transform:"translateY(-5px)"}),(0,un.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Ok=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n})}return n})();const kk=new l.nKC("MatFormField"),aee=new l.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let hW=0,Pk=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=A_(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,i,c,d,f,m,w){this._elementRef=e,this._changeDetectorRef=r,this._dir=c,this._platform=d,this._defaults=f,this._animationMode=m,this._labelChild=(0,l.sbv)(Hb),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+hW++,this._hintLabelId="mat-mdc-hint-"+hW++,this._subscriptAnimationState="",this._destroyed=new B.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,l.WQX)(l.zZn),this.getLabelId=(0,l.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,l.EWP)(()=>!!this._labelChild()),f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=!!f?.hideRequiredMarker,f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Tr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Di.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,l.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Tr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,i=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,c=r?.getBoundingClientRect().width??0,d=i?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${c+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(vc),l.rXU(oi),l.rXU(aee,8),l.rXU(l.bc$,8),l.rXU(Te))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,c){if(1&r&&(l.C6U(c,i._labelChild,Hb,5),l.wni(c,Ok,5),l.wni(c,ree,5),l.wni(c,sW,5),l.wni(c,iW,5),l.wni(c,oW,5)),2&r){let d;l.NyB(),l.mGM(d=l.lsd())&&(i._formFieldControl=d.first),l.mGM(d=l.lsd())&&(i._prefixChildren=d),l.mGM(d=l.lsd())&&(i._suffixChildren=d),l.mGM(d=l.lsd())&&(i._errorChildren=d),l.mGM(d=l.lsd())&&(i._hintChildren=d)}},viewQuery:function(r,i){if(1&r&&(l.GBs(OJ,5),l.GBs(kJ,5),l.GBs(PJ,5),l.GBs(cW,5),l.GBs(dW,5),l.GBs(uW,5)),2&r){let c;l.mGM(c=l.lsd())&&(i._textField=c.first),l.mGM(c=l.lsd())&&(i._iconPrefixContainer=c.first),l.mGM(c=l.lsd())&&(i._textPrefixContainer=c.first),l.mGM(c=l.lsd())&&(i._floatingLabel=c.first),l.mGM(c=l.lsd())&&(i._notchedOutline=c.first),l.mGM(c=l.lsd())&&(i._lineRipple=c.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,i){2&r&&l.AVh("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[l.Jv_([{provide:kk,useExisting:n},{provide:aW,useExisting:n}]),l.aNF],ngContentSelectors:FJ,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(1&r){const c=l.RV6();l.NAR(NJ),l.DNE(0,BJ,1,1,"ng-template",null,0,l.C5r),l.j41(2,"div",4,1),l.bIt("click",function(f){return l.eBV(c),l.Njj(i._control.onContainerClick(f))}),l.DNE(4,UJ,1,0,"div",5),l.j41(5,"div",6),l.DNE(6,HJ,2,2,"div",7)(7,zJ,3,0,"div",8)(8,GJ,3,0,"div",9),l.j41(9,"div",10),l.DNE(10,KJ,1,1,null,11),l.SdG(11),l.k0s(),l.DNE(12,qJ,2,0,"div",12)(13,XJ,2,0,"div",13),l.k0s(),l.DNE(14,QJ,1,0,"div",14),l.k0s(),l.j41(15,"div",15),l.DNE(16,YJ,2,1,"div",16)(17,JJ,5,2,"div",17),l.k0s()}if(2&r){let c;l.R7$(2),l.AVh("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),l.R7$(2),l.vxM(i._hasOutline()||i._control.disabled?-1:4),l.R7$(2),l.vxM(i._hasOutline()?6:-1),l.R7$(),l.vxM(i._hasIconPrefix?7:-1),l.R7$(),l.vxM(i._hasTextPrefix?8:-1),l.R7$(2),l.vxM(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),l.R7$(2),l.vxM(i._hasTextSuffix?12:-1),l.R7$(),l.vxM(i._hasIconSuffix?13:-1),l.R7$(),l.vxM(i._hasOutline()?-1:14),l.R7$(),l.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),l.R7$(),l.vxM("error"===(c=i._getDisplayedMessages())?16:"hint"===c?17:-1)}},dependencies:[cW,dW,yl,uW,oW],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[see.transitionMessages]},changeDetection:0})}return n})(),fg=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Ho,SJ,Fr]})}return n})();const mW=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],gW=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function uee(n,t){1&n&&(l.j41(0,"span",3),l.SdG(1,1),l.k0s())}function dee(n,t){1&n&&(l.j41(0,"span",6),l.SdG(1,2),l.k0s())}const yj=["*"],Nk=new l.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),bj=new l.nKC("MatChipAvatar"),Ej=new l.nKC("MatChipTrailingIcon"),wj=new l.nKC("MatChipRemove"),Fk=new l.nKC("MatChip");let zb=(()=>{class n{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=e}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,r){this._elementRef=e,this._parentChip=r,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(Fk))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._handleClick(d)})("keydown",function(d){return i._handleKeydown(d)}),2&r&&(l.BMQ("tabindex",i._getTabindex())("disabled",i._getDisabledAttribute())("aria-disabled",i.disabled),l.AVh("mdc-evolution-chip__action--primary",i._isPrimary)("mdc-evolution-chip__action--presentational",!i.isInteractive)("mdc-evolution-chip__action--trailing",!i._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?-1:(0,l.Udg)(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[l.GFd]})}return n})(),Tee=0,Pf=(()=>{class n{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,r,i,c,d,f,m,w){this._changeDetectorRef=e,this._elementRef=r,this._ngZone=i,this._focusMonitor=c,this._globalRippleOptions=m,this._onFocus=new B.B,this._onBlur=new B.B,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+Tee++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new l.bkB,this.destroyed=new l.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,l.WQX)(cS),this._injector=(0,l.WQX)(l.zZn),this._document=d,this._animationsDisabled="NoopAnimations"===f,null!=w&&(this.tabIndex=parseInt(w)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,Di.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode&&!e.repeat||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(r=>{const i=r._elementRef.nativeElement;return i===e||i.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const r=null!==e;r!==this._hasFocusInternal&&(this._hasFocusInternal=r,r?this._onFocus.next({chip:this}):(0,l.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(ja),l.rXU(Te),l.rXU(l.bc$,8),l.rXU(UE,8),l.kS0("tabindex"))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(r,i,c){if(1&r&&(l.wni(c,bj,5),l.wni(c,Ej,5),l.wni(c,wj,5),l.wni(c,bj,5),l.wni(c,Ej,5),l.wni(c,wj,5)),2&r){let d;l.mGM(d=l.lsd())&&(i.leadingIcon=d.first),l.mGM(d=l.lsd())&&(i.trailingIcon=d.first),l.mGM(d=l.lsd())&&(i.removeIcon=d.first),l.mGM(d=l.lsd())&&(i._allLeadingIcons=d),l.mGM(d=l.lsd())&&(i._allTrailingIcons=d),l.mGM(d=l.lsd())&&(i._allRemoveIcons=d)}},viewQuery:function(r,i){if(1&r&&l.GBs(zb,5),2&r){let c;l.mGM(c=l.lsd())&&(i.primaryAction=c.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(r,i){1&r&&l.bIt("keydown",function(d){return i._handleKeydown(d)}),2&r&&(l.Mr5("id",i.id),l.BMQ("role",i.role)("tabindex",i._getTabIndex())("aria-label",i.ariaLabel),l.HbH("mat-"+(i.color||"primary")),l.AVh("mdc-evolution-chip",!i._isBasicChip)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",i.leadingIcon)("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-basic-chip",i._isBasicChip)("mat-mdc-standard-chip",!i._isBasicChip)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon())("_mat-animation-noopable",i._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",l.L39],highlighted:[2,"highlighted","highlighted",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],disabled:[2,"disabled","disabled",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,l.Udg)(e)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[l.Jv_([{provide:Fk,useExisting:n}]),l.GFd,l.aNF],ngContentSelectors:gW,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(r,i){1&r&&(l.NAR(mW),l.nrm(0,"span",0),l.j41(1,"span",1)(2,"span",2),l.DNE(3,uee,2,0,"span",3),l.j41(4,"span",4),l.SdG(5),l.nrm(6,"span",5),l.k0s()()(),l.DNE(7,dee,2,0,"span",6)),2&r&&(l.R7$(2),l.Y8G("isInteractive",!1),l.R7$(),l.vxM(i.leadingIcon?3:-1),l.R7$(4),l.vxM(i._hasTrailingIcon()?7:-1))},dependencies:[zb],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),LD=(()=>{class n{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,r,i){this._elementRef=e,this._changeDetectorRef=r,this._dir=i,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new B.B,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new l.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=e,this._changeDetectorRef.markForCheck()})}}_getChipStream(e){return this._chips.changes.pipe((0,Wo.Z)(null),pi(()=>(0,Di.h)(...this._chips.map(e))))}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-mdc-chip"))return!0;r=r.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,Wo.Z)(this._chips)).subscribe(e=>{const r=[];e.forEach(i=>i._getActions().forEach(c=>r.push(c))),this._chipActions.reset(r),this._chipActions.notifyOnChanges()}),this._keyManager=new j1(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(Tr(this._destroyed)).subscribe(({chip:e})=>{const r=e._getSourceAction(document.activeElement);r&&this._keyManager.updateActiveItem(r)}),this._dir?.change.pipe(Tr(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,Wo.Z)(null),Tr(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Tr(this._destroyed)).subscribe(e=>{const i=this._chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=i)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),r=this._chips.toArray()[e];r.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():r.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(vc,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-chip-set"]],contentQueries:function(r,i,c){if(1&r&&l.wni(c,Pf,5),2&r){let d;l.mGM(d=l.lsd())&&(i._chips=d)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(r,i){1&r&&l.bIt("keydown",function(d){return i._handleKeydown(d)}),2&r&&l.BMQ("role",i.role)},inputs:{disabled:[2,"disabled","disabled",l.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)]},standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:yj,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(r,i){1&r&&(l.NAR(),l.j41(0,"div",0),l.SdG(1),l.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),Ij=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[U_,{provide:Nk,useValue:{separatorKeyCodes:[13]}}],imports:[Fr,Pp,Fr]})}return n})(),Oee=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dl)}replicate(){this.dbService.replicateCollection(yi.STORIES),this.dbService.replicateCollection(yi.CHAPTERS)}cleanup(){this.dbService.cleanupCollection(yi.STORIES),this.dbService.cleanupCollection(yi.CHAPTERS),console.log(`LOL: Running ceanup for collections: ${yi.STORIES}, ${yi.CHAPTERS}`)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["editor"]],standalone:!0,features:[l.aNF],decls:11,vars:0,consts:[[1,"flex-container"],["mat-fab","","extended","",3,"click"],[1,"outlet-container"]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"button",1),l.bIt("click",function(){return i.cleanup()}),l.j41(2,"mat-icon"),l.EFF(3,"cleaning_services"),l.k0s(),l.EFF(4," Cleanup "),l.k0s(),l.j41(5,"button",1),l.bIt("click",function(){return i.replicate()}),l.j41(6,"mat-icon"),l.EFF(7,"sync"),l.k0s(),l.EFF(8," Replicate "),l.k0s()(),l.j41(9,"div",2),l.nrm(10,"router-outlet"),l.k0s())},dependencies:[Ho,Ep,dp,AD,$a,Jc,Fs,Kl,Ij],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;row-gap:15px;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;width:150px}.outlet-container[_ngcontent-%COMP%]{margin-top:15px}"]})}return n})();const kee=(n,t)=>t.id,Pee=(n,t)=>["/library/story",n,"gameboard",t];function Nee(n,t){1&n&&(l.j41(0,"h2",0),l.EFF(1),l.k0s()),2&n&&(l.R7$(),l.JRh(t.name))}function Fee(n,t){1&n&&(l.j41(0,"mat-icon"),l.EFF(1,"star"),l.k0s())}function Lee(n,t){if(1&n&&(l.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),l.EFF(3),l.DNE(4,Fee,2,0,"mat-icon"),l.k0s(),l.j41(5,"mat-card-subtitle"),l.EFF(6),l.k0s()(),l.j41(7,"mat-card-content"),l.EFF(8),l.k0s()()),2&n){const e=t.$implicit,r=l.XpG();l.Y8G("routerLink",l.l_i(6,Pee,r.storyId,e.id)),l.R7$(3),l.Lme(" ",e.chapter_number,": ",e.name," "),l.R7$(),l.vxM(e.is_premium?4:-1),l.R7$(2),l.JRh(e.author),l.R7$(2),l.JRh(e.description)}}let Vee=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dl),this.story$=this.getStory()}ngOnInit(){this.story$=this.getStory()}getStory(){var e=this;return(0,x.A)(function*(){return yield e.dbService.getDocumentById(yi.STORIES,e.storyId)})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["story"]],inputs:{storyId:"storyId",chapters$:"chapters$"},standalone:!0,features:[l.aNF],decls:6,vars:7,consts:[[1,"title"],["appearance","outlined",3,"routerLink"]],template:function(r,i){if(1&r&&(l.DNE(0,Nee,2,1,"h2",0),l.nI1(1,"async"),l.nI1(2,"async"),l.Z7z(3,Lee,9,9,"mat-card",1,kee),l.nI1(5,"async")),2&r){let c;l.vxM((c=l.bMT(2,3,l.bMT(1,1,i.story$)))?0:-1,c),l.R7$(3),l.Dyx(l.bMT(5,5,i.chapters$))}},dependencies:[Ho,wr,Ep,pa,AD,DD,TD,QU,n6,XU,$a,Jc],styles:[".title[_ngcontent-%COMP%]{margin-bottom:15px}"]})}return n})();function Bee(n,t){1&n&&l.nrm(0,"div",2)}const Uee=new l.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let $ee=(()=>{class n{constructor(e,r,i,c,d){this._elementRef=e,this._ngZone=r,this._changeDetectorRef=i,this._animationMode=c,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new l.bkB,this._mode="determinate",this._transitionendHandler=f=>{0===this.animationEnd.observers.length||!f.target||!f.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===c,d&&(d.color&&(this.color=this._defaultColor=d.color),this.mode=d.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=wW(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=wW(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(l.gRc),l.rXU(l.bc$,8),l.rXU(Uee,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(r,i){2&r&&(l.BMQ("aria-valuenow",i._isIndeterminate()?null:i.value)("mode",i.mode),l.HbH("mat-"+i.color),l.AVh("_mat-animation-noopable",i._isNoopAnimation)("mdc-linear-progress--animation-ready",!i._isNoopAnimation)("mdc-linear-progress--indeterminate",i._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",l.Udg],bufferValue:[2,"bufferValue","bufferValue",l.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[l.GFd,l.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(r,i){1&r&&(l.j41(0,"div",0),l.nrm(1,"div",1),l.DNE(2,Bee,1,0,"div",2),l.k0s(),l.j41(3,"div",3),l.nrm(4,"span",4),l.k0s(),l.j41(5,"div",5),l.nrm(6,"span",4),l.k0s()),2&r&&(l.R7$(),l.xc7("flex-basis",i._getBufferBarFlexBasis()),l.R7$(),l.vxM("buffer"===i.mode?2:-1),l.R7$(),l.xc7("transform",i._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color);border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape)}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color)}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return n})();function wW(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let Hee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr]})}return n})(),zee=(()=>{class n{constructor(){this.el=(0,l.WQX)(l.aKT),this.renderer=(0,l.WQX)(l.sFG),this.listeners=[]}ngAfterViewInit(){this.createInteractiveText(this.text)}ngOnDestroy(){this.listeners.forEach(e=>{e&&e()})}createInteractiveText(e){let i=`${e}`;[...i.matchAll(/[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}/g)].forEach(d=>{const f=i.indexOf(d[0]),m=f+d[0].length,w=i.slice(0,f);this.addText(w);const A=i.slice(f,m);this.addRef(A),i=i.slice(m)}),this.addText(i)}addText(e){const r=this.renderer.createText(e);this.renderer.appendChild(this.el.nativeElement,r)}addRef(e){const r=this.renderer.createText(e),i=this.renderer.createElement("span");this.renderer.addClass(i,"ref"),this.renderer.appendChild(i,r),this.renderer.appendChild(this.el.nativeElement,i);const c=this.renderer.listen(i,"click",d=>{console.log(`LOL: Event ${d} for ID: ${e}`)});this.listeners.push(c)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["game-text"]],inputs:{text:"text"},standalone:!0,features:[l.aNF],decls:0,vars:0,template:function(r,i){},styles:[".ref[_ngcontent-%COMP%]{color:red;cursor:pointer}.ref[_ngcontent-%COMP%]:hover{color:green}"]})}return n})();function Gee(n,t){if(1&n&&(l.j41(0,"div",1),l.EFF(1),l.nI1(2,"titlecase"),l.nrm(3,"mat-progress-bar",5),l.EFF(4),l.nI1(5,"titlecase"),l.nrm(6,"mat-progress-bar",5),l.k0s()),2&n){const e=t;l.R7$(),l.SpI(" ",l.bMT(2,8,e.empathy_name),": 65 "),l.R7$(2),l.Y8G("mode","determinate")("value",65)("bufferValue",100),l.R7$(),l.SpI(" ",l.bMT(5,10,e.sympathy_name),": 100 "),l.R7$(2),l.Y8G("mode","determinate")("value",100)("bufferValue",100)}}let Wee=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dl),this.chapter$=this.dbService.getDocumentById(yi.CHAPTERS,this.chapterId),this.text="This defines 5e0f2bd0-2b43-4df3-9542-1d4969e24f87 the ability for a flex item to grow if necessary. It accepts a unitless value that serves as a proportion. It dictates what amount of the available space inside the flex container the item should take up.\n\nIf all items have flex-grow set to 1, the fb506849-9ef5-4771-a1c0-508460bf16ce remaining space in the container will be distributed equally to all children. If one of the children has a value of 2, that child would take up twice as much of the space as either one of the others (or it will try, at least)."}ngOnInit(){this.chapter$=this.dbService.getDocumentById(yi.CHAPTERS,this.chapterId)}lol(e){return()=>console.log(`LOL pipe ${e}`)}buildRefs(e){return()=>{}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-gameboard"]],inputs:{chapterId:"chapterId"},standalone:!0,features:[l.aNF],decls:14,vars:6,consts:[[1,"game-container"],[1,"stats-area"],[1,"text-area",3,"text"],[1,"button-area"],["mat-fab","","extended",""],[3,"mode","value","bufferValue"]],template:function(r,i){if(1&r&&(l.j41(0,"div",0),l.DNE(1,Gee,7,12,"div",1),l.nI1(2,"async"),l.nI1(3,"async"),l.nrm(4,"game-text",2),l.j41(5,"div",3)(6,"button",4),l.EFF(7," Inventory "),l.j41(8,"mat-icon"),l.EFF(9,"business_center"),l.k0s()(),l.j41(10,"button",4),l.EFF(11," Info "),l.j41(12,"mat-icon"),l.EFF(13,"menu_book"),l.k0s()()()()),2&r){let c;l.R7$(),l.vxM((c=l.bMT(3,4,l.bMT(2,2,i.chapter$)))?1:-1,c),l.R7$(3),l.Y8G("text",i.text)}},dependencies:[Ho,wr,Fd,Fs,Kl,$a,Jc,Hee,$ee,zee],styles:[".game-container[_ngcontent-%COMP%]{height:90vh;display:flex;flex-direction:column;align-content:stretch;justify-content:space-between}.stats-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1}.stats-area[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px}.text-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:7;outline:2px solid white;padding:15px;font-size:18px;line-height:25px}.button-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:2;display:flex;flex-wrap:wrap;align-content:center;justify-content:space-around;row-gap:15px}.button-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:70px}"]})}return n})(),Kee=(()=>{class n{constructor(e,r){this.authService=e,this.router=r}guestLogin(){this.authService.anonymousLogin().then(()=>{console.log("LOL: Logging in as guest"),this.router.navigate(["/library"])})}googleLogin(){this.authService.googleLogin().then(()=>{console.log("LOL: Login via google"),this.router.navigate(["/library"])})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(ID),l.rXU(Li))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["start"]],standalone:!0,features:[l.aNF],decls:9,vars:0,consts:[[1,"start-container"],["src","assets/interface/Detective.jpg","alt","Detective"],["mat-fab","","extended","",3,"click"],["mat-fab","","extended","","routerLink","/signin"]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"div"),l.nrm(2,"img",1),l.k0s(),l.j41(3,"button",2),l.bIt("click",function(){return i.guestLogin()}),l.EFF(4,"Sign in as Guest"),l.k0s(),l.j41(5,"button",3),l.EFF(6,"Sign in via email"),l.k0s(),l.j41(7,"button",2),l.bIt("click",function(){return i.googleLogin()}),l.EFF(8,"Sign in via Google"),l.k0s()())},dependencies:[pa,Fs,Kl],styles:[".start-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:90vh;align-items:center;justify-content:space-around}.start-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:300px}"]})}return n})();const qee=(n,t)=>t.id,Xee=n=>["/library/story",n];function Qee(n,t){if(1&n&&(l.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),l.EFF(3),l.k0s()(),l.j41(4,"mat-card-content"),l.EFF(5),l.k0s()()),2&n){const e=t.$implicit,r=t.$index;l.Y8G("routerLink",l.eq3(4,Xee,e.id)),l.R7$(3),l.Lme("",r," ",e.name,""),l.R7$(2),l.SpI(" ",e.description," ")}}let Yee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["library"]],inputs:{stories$:"stories$"},standalone:!0,features:[l.aNF],decls:6,vars:2,consts:[["appearance","outlined",3,"routerLink"]],template:function(r,i){1&r&&(l.j41(0,"h3"),l.EFF(1,"Stories"),l.k0s(),l.nrm(2,"router-outlet"),l.Z7z(3,Qee,6,6,"mat-card",0,qee),l.nI1(5,"async")),2&r&&(l.R7$(3),l.Dyx(l.bMT(5,0,i.stories$)))},dependencies:[Ho,wr,Ep,dp,pa,AD,DD,TD,QU,XU],styles:[".mat-mdc-card-content[_ngcontent-%COMP%]:hover{color:red}"]})}return n})();function Zee(n,t){}class Vk{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let IW=(()=>{class n extends Yp{constructor(e,r,i,c,d,f,m,w){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=d,this._ngZone=f,this._overlayRef=m,this._focusMonitor=w,this._platform=(0,l.WQX)(oi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,l.WQX)(l.gRc),this._injector=(0,l.WQX)(l.zZn),this._isDestroyed=!1,this.attachDomPortal=A=>{this._portalOutlet.hasAttached();const R=this._portalOutlet.attachDomPortal(A);return this._contentAttached(),R},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const r=this._ariaLabelledByQueue.indexOf(e);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(r)}_focusByCssSelector(e,r){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,r)}_trapFocus(){this._isDestroyed||(0,l.mal)(()=>{const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let r=null;if("string"==typeof e?r=this._document.querySelector(e):"boolean"==typeof e?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=__(),c=this._elementRef.nativeElement;(!i||i===this._document.body||i===c||c.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=__();return e===r||e.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=__()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(HA),l.rXU(Te,8),l.rXU(Vk),l.rXU(M_),l.rXU(l.SKi),l.rXU(gv),l.rXU(ja))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(1&r&&l.GBs(Zp,7),2&r){let c;l.mGM(c=l.lsd())&&(i._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){2&r&&l.BMQ("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},standalone:!0,features:[l.Vt3,l.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&l.DNE(0,Zee,0,0,"ng-template",0)},dependencies:[Zp],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class Cj{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new B.B,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!_c(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const CW=new l.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Po);return()=>n.scrollStrategies.block()}}),Jee=new l.nKC("DialogData"),ete=new l.nKC("DefaultDialogConfig");let nte=0,rte=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,r,i,c,d,f){this._overlay=e,this._injector=r,this._defaultOptions=i,this._parentDialog=c,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new B.B,this._afterOpenedAtThisLevel=new B.B,this._ariaHiddenElements=new Map,this.afterAllClosed=en(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Wo.Z)(void 0))),this._scrollStrategy=f}open(e,r){(r={...this._defaultOptions||new Vk,...r}).id=r.id||"cdk-dialog-"+nte++,r.id&&this.getDialogById(r.id);const c=this._getOverlayConfig(r),d=this._overlay.create(c),f=new Cj(d,r),m=this._attachContainer(d,f,r);return f.containerInstance=m,this._attachDialogContent(e,f,m,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){Dj(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){Dj(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Dj(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const r=new pv({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,i){const c=i.injector||i.viewContainerRef?.injector,d=[{provide:Vk,useValue:i},{provide:Cj,useValue:r},{provide:gv,useValue:e}];let f;i.container?"function"==typeof i.container?f=i.container:(f=i.container.type,d.push(...i.container.providers(i))):f=IW;const m=new Bh(f,i.viewContainerRef,l.zZn.create({parent:c||this._injector,providers:d}),i.componentFactoryResolver);return e.attach(m).instance}_attachDialogContent(e,r,i,c){if(e instanceof l.C4Q){const d=this._createInjector(c,r,i,void 0);let f={$implicit:c.data,dialogRef:r};c.templateContext&&(f={...f,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),i.attachTemplatePortal(new Uh(e,null,f,d))}else{const d=this._createInjector(c,r,i,this._injector),f=i.attachComponentPortal(new Bh(e,c.viewContainerRef,d,c.componentFactoryResolver));r.componentRef=f,r.componentInstance=f.instance}}_createInjector(e,r,i,c){const d=e.injector||e.viewContainerRef?.injector,f=[{provide:Jee,useValue:e.data},{provide:Cj,useValue:r}];return e.providers&&("function"==typeof e.providers?f.push(...e.providers(r,e,i)):f.push(...e.providers)),e.direction&&(!d||!d.get(vc,null,{optional:!0}))&&f.push({provide:vc,useValue:{value:e.direction,change:Y()}}),l.zZn.create({parent:d||c,providers:f})}_removeOpenDialog(e,r){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,d)=>{c?d.setAttribute("aria-hidden",c):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){const c=r[i];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Po),l.KVO(l.zZn),l.KVO(ete,8),l.KVO(n,12),l.KVO(mv),l.KVO(CW))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dj(n,t){let e=n.length;for(;e--;)t(n[e])}function ite(n,t){}class Tj{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Aj="mdc-dialog--open",DW="mdc-dialog--opening",TW="mdc-dialog--closing";let AW=(()=>{class n extends IW{constructor(e,r,i,c,d,f,m,w,A){super(e,r,i,c,d,f,m,A),this._animationMode=w,this._animationStateChanged=new l.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?xW(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?xW(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(SW,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(DW,Aj)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Aj),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Aj),this._animationsEnabled?(this._hostElement.style.setProperty(SW,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(TW)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(DW,TW)}_waitForAnimationToComplete(e,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const r=super.attachComponentPortal(e);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(HA),l.rXU(Te,8),l.rXU(Tj),l.rXU(M_),l.rXU(l.SKi),l.rXU(gv),l.rXU(l.bc$,8),l.rXU(ja))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,i){2&r&&(l.Mr5("id",i._config.id),l.BMQ("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.AVh("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},standalone:!0,features:[l.Vt3,l.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"div",1),l.DNE(2,ite,0,0,"ng-template",2),l.k0s()())},dependencies:[Zp],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return n})();const SW="--mat-dialog-transition-duration";function xW(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?FA(n.substring(0,n.length-2)):n.endsWith("s")?1e3*FA(n.substring(0,n.length-1)):"0"===n?0:null}var Bk=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(Bk||{});class Sj{constructor(t,e,r){this._ref=t,this._containerInstance=r,this._afterOpened=new B.B,this._beforeClosed=new B.B,this._state=Bk.OPEN,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe((0,Un.p)(i=>"opened"===i.state),Qr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe((0,Un.p)(i=>"closed"===i.state),Qr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Di.h)(this.backdropClick(),this.keydownEvents().pipe((0,Un.p)(i=>27===i.keyCode&&!this.disableClose&&!_c(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),MW(this,"keydown"===i.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe((0,Un.p)(e=>"closing"===e.state),Qr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=Bk.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=Bk.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function MW(n,t,e){return n._closeInteractionType=t,n.close(e)}const RW=new l.nKC("MatMdcDialogData"),ate=new l.nKC("mat-mdc-dialog-default-options"),OW=new l.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Po);return()=>n.scrollStrategies.block()}});let lte=0,Uk=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,r,i,c,d,f,m,w){this._overlay=e,this._defaultOptions=c,this._scrollStrategy=d,this._parentDialog=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new B.B,this._afterOpenedAtThisLevel=new B.B,this.dialogConfigClass=Tj,this.afterAllClosed=en(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Wo.Z)(void 0))),this._dialog=r.get(rte),this._dialogRefConstructor=Sj,this._dialogContainerType=AW,this._dialogDataToken=RW}open(e,r){let i;(r={...this._defaultOptions||new Tj,...r}).id=r.id||"mat-mdc-dialog-"+lte++,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(e,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:Vk,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(d,f,m)=>(i=new this._dialogRefConstructor(d,r,m),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentRef=c.componentRef,i.componentInstance=c.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(i);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Po),l.KVO(l.zZn),l.KVO(Pn,8),l.KVO(ate,8),l.KVO(OW),l.KVO(n,12),l.KVO(mv),l.KVO(l.bc$,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ute=0,kW=(()=>{class n{constructor(e,r,i){this.dialogRef=e,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=VW(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){MW(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Sj,8),l.rXU(l.aKT),l.rXU(Uk))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._onButtonClick(d)}),2&r&&l.BMQ("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[l.OA$]})}return n})(),PW=(()=>{class n{constructor(e,r,i){this._dialogRef=e,this._elementRef=r,this._dialog=i}ngOnInit(){this._dialogRef||(this._dialogRef=VW(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Sj,8),l.rXU(l.aKT),l.rXU(Uk))};static#t=this.\u0275dir=l.FsC({type:n,standalone:!0})}return n})(),NW=(()=>{class n extends PW{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+ute++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(r,i){2&r&&l.Mr5("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[l.Vt3]})}return n})(),FW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[l.nM4([gw])]})}return n})(),LW=(()=>{class n extends PW{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,i){2&r&&l.AVh("mat-mdc-dialog-actions-align-start","start"===i.align)("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"},standalone:!0,features:[l.Vt3]})}return n})();function VW(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(r=>r.id===e.id):null}let UW=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(RW))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["delete-confirmation"]],standalone:!0,features:[l.aNF],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""],["mat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(r,i){1&r&&(l.j41(0,"h2",0),l.EFF(1,"Delete element"),l.k0s(),l.j41(2,"mat-dialog-content"),l.EFF(3),l.k0s(),l.j41(4,"mat-dialog-actions")(5,"button",1),l.EFF(6,"No"),l.k0s(),l.j41(7,"button",2),l.bIt("click",function(){return i.data.deleteFunction()}),l.EFF(8,"Ok"),l.k0s()()),2&r&&(l.R7$(3),l.E5c(" Do you want to delete ",i.data.name," (ID: ",i.data.id,") from ",i.data.collection,"? "))},dependencies:[Fs,sv,NW,FW,LW,kW],changeDetection:0})}return n})();const dte=(n,t)=>t.id,hte=()=>["/editor/stories",null],fte=n=>["/editor/stories",n],pte=n=>["/editor/stories",n,"chapters"];function mte(n,t){if(1&n){const e=l.RV6();l.j41(0,"mat-card",3)(1,"mat-card-content"),l.EFF(2),l.k0s(),l.j41(3,"mat-card-footer",4)(4,"mat-chip-set",5)(5,"mat-chip",6)(6,"mat-icon"),l.EFF(7,"edit"),l.k0s(),l.EFF(8," Edit "),l.k0s(),l.j41(9,"mat-chip",7),l.bIt("click",function(){const i=l.eBV(e).$implicit,c=l.XpG();return l.Njj(c.delete(i))}),l.j41(10,"mat-icon"),l.EFF(11,"delete"),l.k0s(),l.EFF(12," Delete "),l.k0s(),l.j41(13,"mat-chip",6)(14,"mat-icon"),l.EFF(15,"edit_square"),l.k0s(),l.EFF(16," Chapters "),l.k0s()()()()}if(2&n){const e=t.$implicit,r=t.$index;l.R7$(2),l.Lme("",r," ",e.name,""),l.R7$(3),l.Y8G("routerLink",l.eq3(4,fte,e.id)),l.R7$(8),l.Y8G("routerLink",l.eq3(6,pte,e.id))}}let gte=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dl),this.dialog=(0,l.WQX)(Uk),this.stories$=this.getStories()}getStories(){var e=this;return(0,x.A)(function*(){return yield e.dbService.getAllCollectionDocs(yi.STORIES)})()}addStory(e){return this.dbService.addDocument(yi.STORIES,e)}delete(e){this.dialog.open(UW,{data:{id:e.id,name:e.name,collection:yi.STORIES,deleteFunction:()=>this.deleteStory(e)}})}deleteStory(e){console.log(`LOL: Deleting story: ${e.name}: ${e.id}`),this.dbService.deleteDocument(yi.STORIES,e.id)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["editor-stories"]],standalone:!0,features:[l.aNF],decls:10,vars:6,consts:[[1,"edit-stories-container"],["mat-fab","","extended","",1,"button-container",3,"routerLink"],[1,"stories"],["appearance","outlined"],[1,"card-footer"],["aria-label","Story-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"a",1)(2,"mat-icon"),l.EFF(3,"add"),l.k0s(),l.EFF(4," Add story "),l.k0s(),l.j41(5,"div",2),l.Z7z(6,mte,17,8,"mat-card",3,dte),l.nI1(8,"async"),l.nI1(9,"async"),l.k0s()()),2&r&&(l.R7$(),l.Y8G("routerLink",l.lJ4(5,hte)),l.R7$(5),l.Dyx(l.bMT(9,3,l.bMT(8,1,i.stories$))))},dependencies:[Ho,wr,Ep,pa,AD,DD,TD,YU,$a,Jc,Fs,sw,Ij,Pf,LD],styles:[".edit-stories-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-stories-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin-top:15px}.stories[_ngcontent-%COMP%]{height:70vh;overflow-y:auto;margin-top:15px}.card-footer[_ngcontent-%COMP%]{padding:15px}"]})}return n})();const _te=(n,t)=>t.id,vte=n=>["/editor/stories",n,"chapters",null],yte=(n,t)=>["/editor/stories",n,"chapters",t];function bte(n,t){1&n&&(l.j41(0,"h3"),l.EFF(1),l.nI1(2,"titlecase"),l.k0s()),2&n&&(l.R7$(),l.SpI("",l.bMT(2,1,t.name)," chapters"))}function Ete(n,t){if(1&n){const e=l.RV6();l.j41(0,"mat-card",3)(1,"mat-card-content"),l.EFF(2),l.k0s(),l.j41(3,"mat-card-footer",4)(4,"mat-chip-set",5)(5,"mat-chip",6)(6,"mat-icon"),l.EFF(7,"edit"),l.k0s(),l.EFF(8," Edit "),l.k0s(),l.j41(9,"mat-chip",7),l.bIt("click",function(){const i=l.eBV(e).$implicit,c=l.XpG();return l.Njj(c.delete(i))}),l.j41(10,"mat-icon"),l.EFF(11,"delete"),l.k0s(),l.EFF(12," Delete "),l.k0s()()()()}if(2&n){const e=t.$implicit,r=t.$index,i=l.XpG();l.R7$(2),l.Lme("",r," ",e.name,""),l.R7$(3),l.Y8G("routerLink",l.l_i(3,yte,i.storyId,e.id))}}let wte=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dl),this.dialog=(0,l.WQX)(Uk)}delete(e){var r=this;return(0,x.A)(function*(){r.dialog.open(UW,{data:{id:e.id,name:e.name,collection:yi.CHAPTERS,deleteFunction:()=>r.deleteChapter(e)}})})()}deleteChapter(e){console.log(`LOL: Deleting chapter: ${e.name}: ${e.id}`),this.dbService.deleteDocument(yi.CHAPTERS,e.id)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["editor-chapters"]],inputs:{storyId:"storyId",chapters$:"chapters$",story$:"story$"},standalone:!0,features:[l.aNF],decls:14,vars:8,consts:[[1,"flex-container"],["mat-fab","","extended","",1,"button-container",3,"routerLink"],["mat-fab","","extended","","routerLink","/editor/stories",1,"button-container"],["appearance","outlined"],[1,"card-footer"],["aria-label","chapter-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(r,i){if(1&r&&(l.j41(0,"div",0)(1,"a",1)(2,"mat-icon"),l.EFF(3,"add"),l.k0s(),l.EFF(4," Add chapter "),l.k0s(),l.j41(5,"a",2)(6,"mat-icon"),l.EFF(7,"arrow_back"),l.k0s(),l.EFF(8," Stories "),l.k0s()(),l.DNE(9,bte,3,3,"h3"),l.nI1(10,"async"),l.Z7z(11,Ete,13,6,"mat-card",3,_te),l.nI1(13,"async")),2&r){let c;l.R7$(),l.Y8G("routerLink",l.eq3(6,vte,i.storyId)),l.R7$(8),l.vxM((c=l.bMT(10,2,i.story$))?9:-1,c),l.R7$(2),l.Dyx(l.bMT(13,4,i.chapters$))}},dependencies:[Ho,wr,Fd,Ep,pa,AD,DD,TD,YU,$a,Jc,Fs,sw,Ij,Pf,LD],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;row-gap:15px;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .flex-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;width:150px}"]})}return n})();class Cte{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,r=!0,i){this._multiple=t,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new B.B,e&&e.length&&(t?e.forEach(c=>this._markSelected(c)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,r=new Set(t);t.forEach(c=>this._markSelected(c)),e.filter(c=>!r.has(this._getConcreteValue(c,r))).forEach(c=>this._unmarkSelected(c));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let r of e)if(this.compareWith(t,r))return r;return t}return t}}const Dte=["trigger"],Tte=["panel"],Ate=[[["mat-select-trigger"]],"*"],Ste=["mat-select-trigger","*"];function xte(n,t){if(1&n&&(l.j41(0,"span",4),l.EFF(1),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.JRh(e.placeholder)}}function Mte(n,t){1&n&&l.SdG(0)}function Rte(n,t){if(1&n&&(l.j41(0,"span",11),l.EFF(1),l.k0s()),2&n){const e=l.XpG(2);l.R7$(),l.JRh(e.triggerValue)}}function Ote(n,t){if(1&n&&(l.j41(0,"span",5),l.DNE(1,Mte,1,0)(2,Rte,2,1,"span",11),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.vxM(e.customTrigger?1:2)}}function kte(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",12,1),l.bIt("@transformPanel.done",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._handleKeydown(i))}),l.SdG(2,1),l.k0s()}if(2&n){const e=l.XpG();l.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),l.Y8G("ngClass",e.panelClass)("@transformPanel","showing"),l.BMQ("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Pte={transformPanelWrap:(0,un.hZ)("transformPanelWrap",[(0,un.kY)("* => void",(0,un.P)("@transformPanel",[(0,un.MA)()],{optional:!0}))]),transformPanel:(0,un.hZ)("transformPanel",[(0,un.wk)("void",(0,un.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,un.kY)("void => showing",(0,un.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,un.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,un.kY)("* => void",(0,un.i0)("100ms linear",(0,un.iF)({opacity:0})))])};let jW=0;const $W=new l.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Po);return()=>n.scrollStrategies.reposition()}}),Fte=new l.nKC("MAT_SELECT_CONFIG"),Lte={provide:$W,deps:[Po],useFactory:function Nte(n){return()=>n.scrollStrategies.reposition()}},Vte=new l.nKC("MatSelectTrigger");class Bte{constructor(t,e){this.source=t,this.value=e}}let HW=(()=>{class n{_scrollOptionIntoView(e){const r=this.options.toArray()[e];if(r){const i=this.panel.nativeElement,c=function sS(n,t,e){if(e.length){let r=t.toArray(),i=e.toArray(),c=0;for(let d=0;d<n+1;d++)r[d].group&&r[d].group===i[c]&&c++;return c}return 0}(e,this.options,this.optionGroups),d=r._getHostElement();i.scrollTop=0===e&&1===c?0:function Xu(n,t,e,r){return n<e?n:n+t>e+r?Math.max(0,n-r+t):e}(d.offsetTop,d.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new Bte(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ji.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,i,c,d,f,m,w,A,R,U,K,pe,fe){this._viewportRuler=e,this._changeDetectorRef=r,this._elementRef=d,this._dir=f,this._parentFormField=A,this.ngControl=R,this._liveAnnouncer=pe,this._defaultOptions=fe,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(he,ht)=>he===ht,this._uid="mat-select-"+jW++,this._triggerAriaLabelledBy=null,this._destroy=new B.B,this.stateChanges=new B.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+jW++,this._panelDoneAnimatingStream=new B.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new B.B,this.optionSelectionChanges=en(()=>{const he=this.options;return he?he.changes.pipe((0,Wo.Z)(he),pi(()=>(0,Di.h)(...he.map(ht=>ht.onSelectionChange)))):this._initialized.pipe(pi(()=>this.optionSelectionChanges))}),this.openedChange=new l.bkB,this._openedStream=this.openedChange.pipe((0,Un.p)(he=>he),(0,xe.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,Un.p)(he=>!he),(0,xe.T)(()=>{})),this.selectionChange=new l.bkB,this.valueChange=new l.bkB,this._trackedModal=null,this._skipPredicate=he=>!this.panelOpen&&he.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=fe?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=fe.typeaheadDebounceInterval),this._errorStateTracker=new B_(c,R,w,m,this.stateChanges),this._scrollStrategyFactory=K,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(U)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Cte(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,NA.F)(),Tr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Tr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Tr(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe((0,Wo.Z)(null),Tr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const r=`${this.id}-panel`;this._trackedModal&&yE(this._trackedModal,"aria-owns",r),function BA(n,t,e){const r=UA(n,t);e=e.trim(),!r.some(i=>i.trim()===e)&&(r.push(e),n.setAttribute(t,r.join(" ")))}(e,"aria-owns",r),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(yE(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const r=e.keyCode,i=40===r||38===r||37===r||39===r,c=13===r||32===r,d=this._keyManager;if(!d.isTyping()&&c&&!_c(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;d.onKeydown(e);const m=this.selected;m&&f!==m&&this._liveAnnouncer.announce(m.viewValue,1e4)}}_handleOpenKeydown(e){const r=this._keyManager,i=e.keyCode,c=40===i||38===i,d=r.isTyping();if(c&&e.altKey)e.preventDefault(),this.close();else if(d||13!==i&&32!==i||!r.activeItem||_c(e))if(!d&&this._multiple&&65===i&&e.ctrlKey){e.preventDefault();const f=this.options.some(m=>!m.disabled&&!m.selected);this.options.forEach(m=>{m.disabled||(f?m.select():m.deselect())})}else{const f=r.activeItemIndex;r.onKeydown(e),this._multiple&&c&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==f&&r.activeItem._selectViaInteraction()}else e.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Qr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,e)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof yv?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new p4(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Di.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Tr(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Di.h)(...this.options.map(r=>r._stateChanges)).pipe(Tr(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,r){const i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,e):e.indexOf(r)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let r;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){e=r;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let r=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(hv),l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(U_),l.rXU(l.aKT),l.rXU(vc,8),l.rXU(jb,8),l.rXU(bu,8),l.rXU(kk,8),l.rXU(hl,10),l.kS0("tabindex"),l.rXU($W),l.rXU(xE),l.rXU(Fte,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-select"]],contentQueries:function(r,i,c){if(1&r&&(l.wni(c,Vte,5),l.wni(c,jl,5),l.wni(c,oS,5)),2&r){let d;l.mGM(d=l.lsd())&&(i.customTrigger=d.first),l.mGM(d=l.lsd())&&(i.options=d),l.mGM(d=l.lsd())&&(i.optionGroups=d)}},viewQuery:function(r,i){if(1&r&&(l.GBs(Dte,5),l.GBs(Tte,5),l.GBs(sx,5)),2&r){let c;l.mGM(c=l.lsd())&&(i.trigger=c.first),l.mGM(c=l.lsd())&&(i.panel=c.first),l.mGM(c=l.lsd())&&(i._overlayDir=c.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,i){1&r&&l.bIt("keydown",function(d){return i._handleKeydown(d)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&r&&(l.BMQ("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),l.AVh("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",l.L39],placeholder:"placeholder",required:[2,"required","required",l.L39],multiple:[2,"multiple","multiple",l.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",l.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",l.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[l.Jv_([{provide:Ok,useExisting:n},{provide:H_,useExisting:n}]),l.GFd,l.OA$,l.aNF],ngContentSelectors:Ste,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,i){if(1&r){const c=l.RV6();l.NAR(Ate),l.j41(0,"div",2,0),l.bIt("click",function(){return l.eBV(c),l.Njj(i.open())}),l.j41(3,"div",3),l.DNE(4,xte,2,1,"span",4)(5,Ote,3,1,"span",5),l.k0s(),l.j41(6,"div",6)(7,"div",7),l.qSk(),l.j41(8,"svg",8),l.nrm(9,"path",9),l.k0s()()()(),l.DNE(10,kte,3,9,"ng-template",10),l.bIt("backdropClick",function(){return l.eBV(c),l.Njj(i.close())})("attach",function(){return l.eBV(c),l.Njj(i._onAttached())})("detach",function(){return l.eBV(c),l.Njj(i.close())})}if(2&r){const c=l.sdS(1);l.R7$(3),l.BMQ("id",i._valueId),l.R7$(),l.vxM(i.empty?4:5),l.R7$(6),l.Y8G("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||c)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[yv,sx,Ss],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Pte.transformPanel]},changeDetection:0})}return n})(),zW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[Lte],imports:[Ho,bw,Qu,Fr,fv,fg,Qu,Fr]})}return n})();const GW=bh({passive:!0});let Ute=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ge.w;const r=Gu(e),i=this._monitoredElements.get(r);if(i)return i.subject;const c=new B.B,d="cdk-text-field-autofilled",f=m=>{"cdk-text-field-autofill-start"!==m.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===m.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>c.next({target:m.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>c.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,GW),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:c,unlisten:()=>{r.removeEventListener("animationstart",f,GW)}}),c}stopMonitoring(e){const r=Gu(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(oi),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const $te=new l.nKC("MAT_INPUT_VALUE_ACCESSOR"),Hte=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let zte=0,jk=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=A_(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ji.required)??!1}set required(e){this._required=A_(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&c1().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=A_(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,i,c,d,f,m,w,A,R){this._elementRef=e,this._platform=r,this.ngControl=i,this._autofillMonitor=w,this._formField=R,this._uid="mat-input-"+zte++,this.focused=!1,this.stateChanges=new B.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(pe=>c1().has(pe)),this._iOSKeyupListener=pe=>{const fe=pe.target;!fe.value&&0===fe.selectionStart&&0===fe.selectionEnd&&(fe.setSelectionRange(1,1),fe.setSelectionRange(0,0))};const U=this._elementRef.nativeElement,K=U.nodeName.toLowerCase();this._inputValueAccessor=m||U,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&A.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new B_(f,i,d,c,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=U.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Hte.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(oi),l.rXU(hl,10),l.rXU(jb,8),l.rXU(bu,8),l.rXU(U_),l.rXU($te,10),l.rXU(Ute),l.rXU(l.SKi),l.rXU(kk,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,i){1&r&&l.bIt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&r&&(l.Mr5("id",i.id)("disabled",i.disabled)("required",i.required),l.BMQ("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),l.AVh("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[l.Jv_([{provide:Ok,useExisting:n}]),l.OA$]})}return n})(),$k=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,fg,fg,jte,Fr]})}return n})();var Od=function(n){return n.ENGLISH="en",n.POLISH="pl",n}(Od||{});function Gte(n,t){if(1&n&&(l.j41(0,"mat-option",5),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e),l.R7$(),l.JRh(e)}}let Wte=(()=>{class n{constructor(){this.availableLanguages=Object.values(Od),this.story=null,this.formBuilder=(0,l.WQX)(xk),this.dbService=(0,l.WQX)(dl),this.router=(0,l.WQX)(Li),this.storySubscription=null,this.storyEditForm=this.formBuilder.group({id:[""],name:["",Ji.required],languages:[[],Ji.required],description:[""]})}ngOnInit(){this.setupStory()}ngOnDestroy(){this.storySubscription&&this.storySubscription.unsubscribe()}setupStory(){console.log(`LOL: StoryID: ${this.storyId}`),this.storyId&&(this.storySubscription=this.story$.subscribe(e=>{console.log(`LOL: Story: ${JSON.stringify(e)}`),this.story=e,this.storyEditForm.patchValue({id:this.story?.id,name:this.story?.name,languages:this.story?.languages,description:this.story?.description})}))}save(){var e=this;return(0,x.A)(function*(){const r=yield e.saveStory();e.updateInterface(r,!e.story?.id)})()}saveStory(){var e=this;return(0,x.A)(function*(){const r=e.storyEditForm.value;if(!r.name||!r.languages?.length)throw new Error("LOL Error on saving the story because of the missing required values");const i={name:r.name,languages:r.languages.map(c=>Od[Object.keys(Od)[Object.values(Od).indexOf(c)]]),description:r.description};if(e.story?.id){const c={...i,id:e.story.id};return yield e.editStory(e.story.id,c)}return yield e.addStory(i)})()}addStory(e){return this.dbService.addDocument(yi.STORIES,e)}editStory(e,r){return this.dbService.updateDocument(yi.STORIES,e,r)}updateInterface(e,r=!1){this.story={...this.story,...e,id:e.id},r&&(this.router.navigate(["/editor/stories",e.id]),this.storyEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["story-edit-form"]],inputs:{storyId:"storyId",story$:"story$"},standalone:!0,features:[l.aNF],decls:28,vars:2,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly","","placeholder","Save story to add id"],["matInput","","type","text","formControlName","name"],["multiple","","formControlName","languages"],[3,"value"],["matInput","","placeholder","A short description of the story content","formControlName","description"],[1,"button-container"],["mat-fab","","extended","","routerLink","/editor"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(r,i){1&r&&(l.j41(0,"form",0),l.bIt("ngSubmit",function(){return i.save()}),l.j41(1,"mat-form-field",1)(2,"mat-label"),l.EFF(3,"Story id"),l.k0s(),l.nrm(4,"input",2),l.k0s(),l.j41(5,"mat-form-field")(6,"mat-label"),l.EFF(7,"Story name"),l.k0s(),l.nrm(8,"input",3),l.k0s(),l.j41(9,"mat-form-field")(10,"mat-label"),l.EFF(11,"Languages"),l.k0s(),l.j41(12,"mat-select",4),l.Z7z(13,Gte,2,2,"mat-option",5,l.Vm6),l.k0s()(),l.j41(15,"mat-form-field")(16,"mat-label"),l.EFF(17,"Description"),l.k0s(),l.nrm(18,"textarea",6),l.k0s(),l.j41(19,"div",7)(20,"button",8)(21,"mat-icon"),l.EFF(22,"arrow_back"),l.k0s(),l.EFF(23," Back "),l.k0s(),l.j41(24,"button",9)(25,"mat-icon"),l.EFF(26,"save"),l.k0s(),l.EFF(27," Save story "),l.k0s()()()),2&r&&(l.Y8G("formGroup",i.storyEditForm),l.R7$(13),l.Dyx(i.availableLanguages),l.R7$(11),l.Y8G("disabled",!i.storyEditForm.valid))},dependencies:[pa,Mk,FD,dg,SD,xD,bu,$b,zW,Pk,Hb,HW,jl,$k,jk,fg,$a,Jc,Fs,Kl],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between}"]})}return n})();const Kte=["switch"],qte=["*"];function Xte(n,t){1&n&&(l.j41(0,"div",10),l.qSk(),l.j41(1,"svg",12),l.nrm(2,"path",13),l.k0s(),l.j41(3,"svg",14),l.nrm(4,"path",15),l.k0s()())}const Qte=new l.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Yte={provide:Ac,useExisting:(0,l.Rfq)(()=>xj),multi:!0};class WW{constructor(t,e){this.source=t,this.checked=e}}let Zte=0,xj=(()=>{class n{_createChangeEvent(e){return new WW(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,r,i,c,d,f){this._elementRef=e,this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=d,this._onChange=m=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new l.bkB,this.toggleChange=new l.bkB,this.tabIndex=parseInt(c)||0,this.color=d.color||"accent",this._noopAnimations="NoopAnimations"===f,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++Zte,this.hideIcon=d.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&!0!==e.value?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new WW(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(ja),l.rXU(l.gRc),l.kS0("tabindex"),l.rXU(Qte),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(r,i){if(1&r&&l.GBs(Kte,5),2&r){let c;l.mGM(c=l.lsd())&&(i._switchElement=c.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,i){2&r&&(l.Mr5("id",i.id),l.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",l.L39],color:"color",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)],checked:[2,"checked","checked",l.L39],hideIcon:[2,"hideIcon","hideIcon",l.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[l.Jv_([Yte,{provide:Vo,useExisting:n,multi:!0}]),l.GFd,l.OA$,l.aNF],ngContentSelectors:qte,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,i){if(1&r){const c=l.RV6();l.NAR(),l.j41(0,"div",1)(1,"button",2,0),l.bIt("click",function(){return l.eBV(c),l.Njj(i._handleClick())}),l.nrm(3,"div",3),l.j41(4,"div",4)(5,"div",5)(6,"div",6),l.nrm(7,"div",7),l.k0s(),l.j41(8,"div",8),l.nrm(9,"div",9),l.k0s(),l.DNE(10,Xte,5,0,"div",10),l.k0s()()(),l.j41(11,"label",11),l.bIt("click",function(f){return l.eBV(c),l.Njj(f.stopPropagation())}),l.SdG(12),l.k0s()()}if(2&r){const c=l.sdS(2);l.Y8G("labelPosition",i.labelPosition),l.R7$(),l.AVh("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),l.Y8G("tabIndex",i.disabled?-1:i.tabIndex)("disabled",i.disabled),l.BMQ("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),l.R7$(8),l.Y8G("matRippleTrigger",c)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),l.R7$(),l.vxM(i.hideIcon?-1:10),l.R7$(),l.Y8G("for",i.buttonId),l.BMQ("id",i._labelId)}},dependencies:[kp,hN],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return n})(),tne=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[xj,Fr,Fr]})}return n})();const nne=n=>["/editor/stories",n,"chapters"];function rne(n,t){if(1&n&&(l.j41(0,"mat-option",4),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e.id),l.R7$(),l.JRh(e.name)}}function ine(n,t){if(1&n&&(l.j41(0,"mat-option",4),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e),l.R7$(),l.JRh(e)}}let one=(()=>{class n{constructor(){this.chapter=null,this.availableLanguages=Object.values(Od),this.formBuilder=(0,l.WQX)(xk),this.dbService=(0,l.WQX)(dl),this.router=(0,l.WQX)(Li),this.chapterSubscription=null,this.chapterEditForm=this.formBuilder.group({id:[""],name:["",Ji.required],story:["",Ji.required],chapterNo:[0,Ji.required],language:["",Ji.required],author:[""],isPremium:[!1],description:[""],empathyName:["",Ji.required],sympathyName:["",Ji.required]})}ngOnInit(){this.setupChapter()}ngOnDestroy(){}setupChapter(){console.log(`LOL: ChapterID: ${this.chapterId}, stroryId: ${this.storyId}`),this.chapterSubscription=this.chapter$.subscribe(e=>{this.chapter=e,this.chapterEditForm.patchValue({id:this.chapter?.id,name:this.chapter?.name,story:this.chapter?.story_id||this.storyId,chapterNo:this.chapter?.chapter_number,language:this.chapter?.language,author:this.chapter?.author,isPremium:this.chapter?.is_premium,description:this.chapter?.description,empathyName:this.chapter?.empathy_name||"empathy",sympathyName:this.chapter?.sympathy_name||"sympathy"})})}save(){var e=this;return(0,x.A)(function*(){const r=!e.chapter?.id||e.storyId!=e.chapterEditForm.value.story,i=yield e.saveChapter();e.updateInterface(i,r),console.log(`LOL: Saving chapter: ${JSON.stringify(e.chapterEditForm.value)}`)})()}saveChapter(){var e=this;return(0,x.A)(function*(){const r=e.chapterEditForm.value;if(!(r.name&&r.story&&r.chapterNo&&r.language&&r.empathyName&&r.sympathyName))throw new Error("LOL Error on saving the chapter because of the missing required values");const i={name:r.name,story_id:r.story,chapter_number:r.chapterNo,language:Od[Object.keys(Od)[Object.values(Od).indexOf(r.language)]],author:r.author,is_premium:r.isPremium,description:r.description,empathy_name:r.empathyName,sympathy_name:r.sympathyName};if(e.chapter?.id){const c={id:e.chapter.id,...i};return yield e.dbService.updateDocument(yi.CHAPTERS,e.chapter.id,c)}return yield e.dbService.addDocument(yi.CHAPTERS,i)})()}updateInterface(e,r=!1){this.chapter={...this.chapter,...e,id:e.id},r&&(this.router.navigate(["/editor/stories",this.chapterEditForm.value.story,"chapters",e.id]),this.chapterEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["chapter-edit-form"]],inputs:{storyId:"storyId",chapterId:"chapterId",chapter$:"chapter$",stories$:"stories$"},standalone:!0,features:[l.aNF],decls:53,vars:7,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly","","placeholder","Save chapter to add id"],["formControlName","story"],[3,"value"],["matInput","","type","text","formControlName","name"],[1,"example-full-width"],["matInput","","type","number","formControlName","chapterNo"],["formControlName","language"],["matInput","","type","text","formControlName","empathyName"],["matInput","","type","text","formControlName","sympathyName"],["matInput","","type","text","formControlName","author"],["matInput","","placeholder","A short description of the chapter content","formControlName","description"],["labelPosition","before","formControlName","isPremium"],[1,"button-container"],["mat-fab","","extended","",3,"routerLink"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(r,i){1&r&&(l.j41(0,"form",0),l.bIt("ngSubmit",function(){return i.save()}),l.j41(1,"mat-form-field",1)(2,"mat-label"),l.EFF(3,"Chapter id"),l.k0s(),l.nrm(4,"input",2),l.k0s(),l.j41(5,"mat-form-field")(6,"mat-label"),l.EFF(7,"Story"),l.k0s(),l.j41(8,"mat-select",3),l.Z7z(9,rne,2,2,"mat-option",4,l.Vm6),l.nI1(11,"async"),l.k0s()(),l.j41(12,"mat-form-field")(13,"mat-label"),l.EFF(14,"Chapter name"),l.k0s(),l.nrm(15,"input",5),l.k0s(),l.j41(16,"mat-form-field",6)(17,"mat-label"),l.EFF(18,"Chapter number"),l.k0s(),l.nrm(19,"input",7),l.k0s(),l.j41(20,"mat-form-field")(21,"mat-label"),l.EFF(22,"Language"),l.k0s(),l.j41(23,"mat-select",8),l.Z7z(24,ine,2,2,"mat-option",4,l.Vm6),l.k0s()(),l.j41(26,"mat-form-field")(27,"mat-label"),l.EFF(28,"Empathy name"),l.k0s(),l.nrm(29,"input",9),l.k0s(),l.j41(30,"mat-form-field")(31,"mat-label"),l.EFF(32,"Sympathy name"),l.k0s(),l.nrm(33,"input",10),l.k0s(),l.j41(34,"mat-form-field")(35,"mat-label"),l.EFF(36,"Author"),l.k0s(),l.nrm(37,"input",11),l.k0s(),l.j41(38,"mat-form-field")(39,"mat-label"),l.EFF(40,"Description"),l.k0s(),l.nrm(41,"textarea",12),l.k0s(),l.j41(42,"mat-slide-toggle",13),l.EFF(43,"Premium: "),l.k0s(),l.j41(44,"div",14)(45,"button",15)(46,"mat-icon"),l.EFF(47,"arrow_back"),l.k0s(),l.EFF(48," Back to chapters "),l.k0s(),l.j41(49,"button",16)(50,"mat-icon"),l.EFF(51,"save"),l.k0s(),l.EFF(52," Save chapter "),l.k0s()()()),2&r&&(l.Y8G("formGroup",i.chapterEditForm),l.R7$(9),l.Dyx(l.bMT(11,3,i.stories$)),l.R7$(15),l.Dyx(i.availableLanguages),l.R7$(21),l.Y8G("routerLink",l.eq3(5,nne,i.storyId)),l.R7$(4),l.Y8G("disabled",!i.chapterEditForm.valid))},dependencies:[Ho,wr,pa,Mk,FD,dg,dj,SD,xD,bu,$b,zW,Pk,Hb,HW,jl,$k,jk,fg,$a,Jc,Fs,Kl,tne,xj],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between;margin-top:15px}"]})}return n})();const KW=function(){var n=(0,x.A)(function*(t,e){const r=(0,l.WQX)(dl),i=t.paramMap.get("storyId");return console.log(`LOL: Running chapters resolver for StoryId: ${i}`),(yield r.getAllCollectionDocs(yi.CHAPTERS)).pipe((0,xe.T)(d=>d.filter(f=>f.story_id==i).sort((f,m)=>f.chapter_number-m.chapter_number)))});return function(e,r){return n.apply(this,arguments)}}(),ane=function(){var n=(0,x.A)(function*(t,e){const r=(0,l.WQX)(dl),i=t.paramMap.get("chapterId");return console.log(`LOL: Running chapter resolver for chapterId: ${i}`),i?yield r.getDocumentById(yi.CHAPTERS,i):null});return function(e,r){return n.apply(this,arguments)}}(),qW=function(){var n=(0,x.A)(function*(t,e){const r=(0,l.WQX)(dl),i=t.paramMap.get("storyId");return console.log(`LOL: Running story resolver for StoryId: ${i}`),i?yield r.getDocumentById(yi.STORIES,i):null});return function(e,r){return n.apply(this,arguments)}}(),XW=function(){var n=(0,x.A)(function*(t,e){const r=(0,l.WQX)(dl);return console.log("LOL: Running stories resolver"),yield r.getAllCollectionDocs(yi.STORIES)});return function(e,r){return n.apply(this,arguments)}}();function cne(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",1)(1,"button",2),l.bIt("click",function(){l.eBV(e);const i=l.XpG();return l.Njj(i.action())}),l.EFF(2),l.k0s()()}if(2&n){const e=l.XpG();l.R7$(2),l.SpI(" ",e.data.action," ")}}const lne=["label"];function une(n,t){}const dne=Math.pow(2,31)-1;class Mj{constructor(t,e){this._overlayRef=e,this._afterDismissed=new B.B,this._afterOpened=new B.B,this._onAction=new B.B,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,dne))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const QW=new l.nKC("MatSnackBarData");class Hk{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let YW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return n})(),ZW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return n})(),JW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return n})(),hne=(()=>{class n{constructor(e,r){this.snackBarRef=e,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Mj),l.rXU(QW))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[l.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(r,i){1&r&&(l.j41(0,"div",0),l.EFF(1),l.k0s(),l.DNE(2,cne,3,1,"div",1)),2&r&&(l.R7$(),l.SpI(" ",i.data.message,"\n"),l.R7$(),l.vxM(i.hasAction?2:-1))},dependencies:[sv,YW,ZW,JW],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const fne={snackBarState:(0,un.hZ)("state",[(0,un.wk)("void, hidden",(0,un.iF)({transform:"scale(0.8)",opacity:0})),(0,un.wk)("visible",(0,un.iF)({transform:"scale(1)",opacity:1})),(0,un.kY)("* => visible",(0,un.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,un.kY)("* => void, * => hidden",(0,un.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,un.iF)({opacity:0})))])};let pne=0,eK=(()=>{class n extends Yp{constructor(e,r,i,c,d){super(),this._ngZone=e,this._elementRef=r,this._changeDetectorRef=i,this._platform=c,this.snackBarConfig=d,this._document=(0,l.WQX)(Te),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new B.B,this._onExit=new B.B,this._onEnter=new B.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+pne++,this.attachDomPortal=f=>{this._assertNotAttached();const m=this._portalOutlet.attachDomPortal(f);return this._afterPortalAttached(),m},this._live="assertive"!==d.politeness||d.announcementMessage?"off"===d.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),r}attachTemplatePortal(e){this._assertNotAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),r}onAnimationEnd(e){const{fromState:r,toState:i}=e;if(("void"===i&&"void"!==r||"hidden"===i)&&this._completeExit(),"visible"===i){const c=this._onEnter;this._ngZone.run(()=>{c.next(),c.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const e=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(d=>e.classList.add(d)):e.classList.add(r)),this._exposeToModals();const i=this._label.nativeElement,c="mdc-snackbar__label";i.classList.toggle(c,!i.querySelector(`.${c}`))}_exposeToModals(){const e=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const c=r[i],d=c.getAttribute("aria-owns");this._trackedModals.add(c),d?-1===d.indexOf(e)&&c.setAttribute("aria-owns",d+" "+e):c.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const r=e.getAttribute("aria-owns");if(r){const i=r.replace(this._liveElementId,"").trim();i.length>0?e.setAttribute("aria-owns",i):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&r){let i=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),r.appendChild(e),i?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.SKi),l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(oi),l.rXU(Hk))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(r,i){if(1&r&&(l.GBs(Zp,7),l.GBs(lne,7)),2&r){let c;l.mGM(c=l.lsd())&&(i._portalOutlet=c.first),l.mGM(c=l.lsd())&&(i._label=c.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(r,i){1&r&&l.Kam("@state.done",function(d){return i.onAnimationEnd(d)}),2&r&&l.zvX("@state",i._animationState)},standalone:!0,features:[l.Vt3,l.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(l.j41(0,"div",1)(1,"div",2,0)(3,"div",3),l.DNE(4,une,0,0,"ng-template",4),l.k0s(),l.nrm(5,"div"),l.k0s()()),2&r&&(l.R7$(5),l.BMQ("aria-live",i._live)("role",i._role)("id",i._liveElementId))},dependencies:[Zp],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color);border-radius:var(--mdc-snackbar-container-shape);background-color:var(--mdc-snackbar-container-color)}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font);font-size:var(--mdc-snackbar-supporting-text-size);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[fne.snackBarState]}})}return n})();const gne=new l.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function mne(){return new Hk}});let tK=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,r,i,c,d,f){this._overlay=e,this._live=r,this._injector=i,this._breakpointObserver=c,this._parentSnackBar=d,this._defaultConfig=f,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=hne,this.snackBarContainerComponent=eK,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,r){return this._attach(e,r)}openFromTemplate(e,r){return this._attach(e,r)}open(e,r="",i){const c={...this._defaultConfig,...i};return c.data={message:e,action:r},c.announcementMessage===e&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,r){const c=l.zZn.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:Hk,useValue:r}]}),d=new Bh(this.snackBarContainerComponent,r.viewContainerRef,c),f=e.attach(d);return f.instance.snackBarConfig=r,f.instance}_attach(e,r){const i={...new Hk,...this._defaultConfig,...r},c=this._createOverlay(i),d=this._attachSnackBarContainer(c,i),f=new Mj(d,c);if(e instanceof l.C4Q){const m=new Uh(e,null,{$implicit:i.data,snackBarRef:f});f.instance=d.attachTemplatePortal(m)}else{const m=this._createInjector(i,f),w=new Bh(e,void 0,m),A=d.attachComponentPortal(w);f.instance=A.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Tr(c.detachments())).subscribe(m=>{c.overlayElement.classList.toggle(this.handsetCssClass,m.matches)}),i.announcementMessage&&d._onAnnounce.subscribe(()=>{this._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(f,i),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(e,r){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),r.duration&&r.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(r.duration))}_createOverlay(e){const r=new pv;r.direction=e.direction;let i=this._overlay.position().global();const c="rtl"===e.direction,d="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!c||"end"===e.horizontalPosition&&c,f=!d&&"center"!==e.horizontalPosition;return d?i.left("0"):f?i.right("0"):i.centerHorizontally(),"top"===e.verticalPosition?i.top("0"):i.bottom("0"),r.positionStrategy=i,this._overlay.create(r)}_createInjector(e,r){return l.zZn.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Mj,useValue:r},{provide:QW,useValue:e.data}]})}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Po),l.KVO(xE),l.KVO(l.zZn),l.KVO(VA),l.KVO(n,12),l.KVO(gne))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vne(n,t){1&n&&(l.j41(0,"mat-error"),l.EFF(1,"Email is required"),l.k0s())}function yne(n,t){1&n&&(l.j41(0,"mat-error"),l.EFF(1,"Not a valid email"),l.k0s())}function bne(n,t){1&n&&(l.j41(0,"mat-error"),l.EFF(1,"Password is required"),l.k0s())}function Ene(n,t){if(1&n&&(l.j41(0,"mat-error"),l.EFF(1),l.k0s()),2&n){let e;const r=l.XpG();l.R7$(),l.SpI("Minimum ",null==(e=r.registerForm.get("password1"))?null:e.getError("minlength").requiredLength," characters")}}function wne(n,t){if(1&n&&(l.j41(0,"mat-error"),l.EFF(1),l.k0s()),2&n){let e;const r=l.XpG();l.R7$(),l.SpI("Maximum ",null==(e=r.registerForm.get("password1"))?null:e.getError("maxlength").requiredLength," characters")}}function Ine(n,t){1&n&&(l.j41(0,"mat-error"),l.EFF(1,"Not meeting requirements"),l.k0s())}function Cne(n,t){1&n&&(l.j41(0,"mat-error"),l.EFF(1,"Confirmation is required"),l.k0s())}function Dne(n,t){1&n&&(l.j41(0,"mat-error"),l.EFF(1,"Passwords have to match"),l.k0s())}const Tne=n=>n.value.password1===n.value.password2?null:{PasswordNoMatch:!0},Ane=/^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\D*\d)$/,Sne=[{path:"library/story/:storyId/gameboard/:chapterId",component:Wee},{path:"library/story/:storyId",component:Vee,resolve:{chapters$:KW}},{path:"library",component:Yee,title:"Library",resolve:{stories$:XW}},{path:"editor",component:Oee,title:"Editor",canActivateChild:[(n,t)=>{const e=(0,l.WQX)(ID),r=(0,l.WQX)(Li);return!!e.auth.currentUser||(0,l.naY)()||r.createUrlTree(["/library"])}],children:[{path:"",redirectTo:"stories",pathMatch:"full"},{path:"stories/:storyId/chapters/:chapterId",component:one,resolve:{stories$:XW,chapter$:ane}},{path:"stories/:storyId/chapters",component:wte,resolve:{chapters$:KW,story$:qW}},{path:"stories/:storyId",component:Wte,resolve:{story$:qW}},{path:"stories",component:gte}]},{path:"signin",component:(()=>{class n{constructor(){this.hide=!0,this.formBuilder=(0,l.WQX)(xk),this.authService=(0,l.WQX)(ID),this.snackBar=(0,l.WQX)(tK),this.router=(0,l.WQX)(Li),this.loginForm=this.formBuilder.group({email:["",[Ji.required,Ji.email]],password:["",Ji.required]})}login(){var e=this;return(0,x.A)(function*(){if(!e.loginForm.value.email||!e.loginForm.value.password)throw new Error("LOL: Error on login: Missing email or password");yield e.authService.loginWithEmail(e.loginForm.value.email,e.loginForm.value.password).then(r=>{console.log(`LOL: Signed in user: ${r.email}`),e.router.navigate([""])}).catch(r=>{console.log(`LOL: Error on login: ${r}`),e.snackBar.open("Incorrect email or password","Dismiss")})})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["sign-in"]],standalone:!0,features:[l.aNF],decls:25,vars:4,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["matInput","","type","email","formControlName","email"],[1,"password-container"],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["mat-fab","","extended","","type","submit",3,"disabled"],["mat-stroked-button","","routerLink","/register"],["mat-button","","routerLink",""]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"form",1),l.bIt("ngSubmit",function(){return i.login()}),l.j41(2,"h3"),l.EFF(3,"Sign In"),l.k0s(),l.j41(4,"mat-form-field")(5,"mat-label"),l.EFF(6,"Email"),l.k0s(),l.nrm(7,"input",2),l.k0s(),l.j41(8,"div",3)(9,"mat-form-field")(10,"mat-label"),l.EFF(11,"Password"),l.k0s(),l.nrm(12,"input",4),l.k0s(),l.j41(13,"mat-icon",5),l.bIt("click",function(){return i.hide=!i.hide}),l.EFF(14),l.k0s()(),l.j41(15,"button",6)(16,"mat-icon"),l.EFF(17,"login"),l.k0s(),l.EFF(18," Sign in "),l.k0s()(),l.j41(19,"button",7),l.EFF(20,"Register"),l.k0s(),l.j41(21,"button",8)(22,"mat-icon"),l.EFF(23,"arrow_back"),l.k0s(),l.EFF(24," Back to start "),l.k0s()()),2&r&&(l.R7$(),l.Y8G("formGroup",i.loginForm),l.R7$(11),l.Y8G("type",i.hide?"password":"text"),l.R7$(2),l.JRh(i.hide?"visibility_off":"visibility"),l.R7$(),l.Y8G("disabled",!i.loginForm.valid))},dependencies:[pa,Mk,FD,dg,SD,xD,bu,$b,$k,jk,Pk,Hb,iee,fg,$a,Jc,Fs,sv,Kl],styles:[".login-container[_ngcontent-%COMP%] {display:flex;flex-direction:column;height:90vh;align-content:space-around;flex-wrap:wrap;justify-content:space-evenly}form[_ngcontent-%COMP%] {display:flex;flex-direction:column}.password-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.password-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:16px;margin-left:16px}"]})}return n})(),title:"SignIn"},{path:"register",component:(()=>{class n{constructor(){this.formBuilder=(0,l.WQX)(xk),this.authService=(0,l.WQX)(ID),this.snackBar=(0,l.WQX)(tK),this.router=(0,l.WQX)(Li),this.registerForm=this.formBuilder.group({email:["",[Ji.required,Ji.email]],password1:["",[Ji.required,Ji.minLength(6),Ji.maxLength(20),Ji.pattern(Ane)]],password2:["",Ji.required]},{validators:[Tne]})}register(){var e=this;return(0,x.A)(function*(){if(!e.registerForm.value.email||!e.registerForm.value.password1)throw new Error("LOL: Error on registration: Missing email or password");e.authService.registerUser(e.registerForm.value.email,e.registerForm.value.password1).then(r=>{console.log(`LOL: User registered: ${r.email}`),e.snackBar.open("User registered. Please sign in with the new credentials.","Dismiss"),e.router.navigate(["/signin"])}).catch(r=>{console.log(`LOL: Error on registration: ${r}`),e.snackBar.open("Failed to register the user","Dismiss")})})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["registration"]],standalone:!0,features:[l.aNF],decls:34,vars:10,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["matInput","","type","email","formControlName","email"],["matInput","","type","text","formControlName","password1"],["matInput","","type","text","formControlName","password2"],["mat-fab","","extended","","type","submit",3,"disabled"],["mat-stroked-button","","routerLink","/signin"],["mat-button","","routerLink",""]],template:function(r,i){if(1&r&&(l.j41(0,"div",0)(1,"form",1),l.bIt("ngSubmit",function(){return i.register()}),l.j41(2,"h3"),l.EFF(3,"Register"),l.k0s(),l.j41(4,"mat-form-field")(5,"mat-label"),l.EFF(6,"Email"),l.k0s(),l.nrm(7,"input",2),l.DNE(8,vne,2,0,"mat-error")(9,yne,2,0,"mat-error"),l.k0s(),l.j41(10,"mat-form-field")(11,"mat-label"),l.EFF(12,"Password"),l.k0s(),l.nrm(13,"input",3),l.DNE(14,bne,2,0,"mat-error")(15,Ene,2,1,"mat-error")(16,wne,2,1,"mat-error")(17,Ine,2,0,"mat-error"),l.k0s(),l.j41(18,"mat-form-field")(19,"mat-label"),l.EFF(20,"Confirm password"),l.k0s(),l.nrm(21,"input",4),l.DNE(22,Cne,2,0,"mat-error"),l.k0s(),l.DNE(23,Dne,2,0,"mat-error"),l.j41(24,"button",5)(25,"mat-icon"),l.EFF(26,"person_edit"),l.k0s(),l.EFF(27," Register "),l.k0s()(),l.j41(28,"button",6),l.EFF(29,"Sign In"),l.k0s(),l.j41(30,"button",7)(31,"mat-icon"),l.EFF(32,"arrow_back"),l.k0s(),l.EFF(33," Back to start "),l.k0s()()),2&r){let c,d,f,m,w,A,R;l.R7$(),l.Y8G("formGroup",i.registerForm),l.R7$(7),l.vxM(null!=(c=i.registerForm.get("email"))&&c.hasError("required")?8:-1),l.R7$(),l.vxM(null!=(d=i.registerForm.get("email"))&&d.hasError("email")?9:-1),l.R7$(5),l.vxM(null!=(f=i.registerForm.get("password1"))&&f.hasError("required")?14:-1),l.R7$(),l.vxM(null!=(m=i.registerForm.get("password1"))&&m.hasError("minlength")?15:-1),l.R7$(),l.vxM(null!=(w=i.registerForm.get("password1"))&&w.hasError("maxlength")?16:-1),l.R7$(),l.vxM(null!=(A=i.registerForm.get("password1"))&&A.hasError("pattern")?17:-1),l.R7$(5),l.vxM(null!=(R=i.registerForm.get("password2"))&&R.hasError("required")?22:-1),l.R7$(),l.vxM(i.registerForm.hasError("PasswordNoMatch")?23:-1),l.R7$(),l.Y8G("disabled",!i.registerForm.valid)}},dependencies:[pa,Mk,FD,dg,SD,xD,bu,$b,$k,jk,Pk,Hb,tee,fg,$a,Jc,Fs,sv,Kl],styles:[".login-container[_ngcontent-%COMP%] {display:flex;flex-direction:column;height:90vh;align-content:space-around;flex-wrap:wrap;justify-content:space-evenly}form[_ngcontent-%COMP%] {display:flex;flex-direction:column}mat-error[_ngcontent-%COMP%]{margin-bottom:15px}"]})}return n})(),title:"Register"},{path:"",component:Kee,title:"Start"}],Gb=new J.c(Ag.l),Mne={connector:()=>new B.B};function nK(n,t=Mne){const{connector:e}=t;return(0,se.N)((r,i)=>{const c=e();(0,ln.Tg)(n(function xne(n){return new J.c(t=>n.subscribe(t))}(c))).subscribe(i),i.add(r.subscribe(c))})}const VD="Service workers are disabled or not supported by this browser";class zk{constructor(t){if(this.serviceWorker=t,t){const r=jh(t,"controllerchange").pipe((0,xe.T)(()=>t.controller)),i=en(()=>Y(t.controller)),c=(0,At.x)(i,r);this.worker=c.pipe((0,Un.p)(A=>!!A)),this.registration=this.worker.pipe(pi(()=>t.getRegistration()));const w=jh(t,"message").pipe((0,xe.T)(A=>A.data)).pipe((0,Un.p)(A=>A&&A.type)).pipe(function One(n){return n?t=>nK(n)(t):t=>function Rne(n,t){const e=(0,De.T)(n)?n:()=>n;return(0,De.T)(t)?nK(t,{connector:e}):r=>new W(r,e)}(new B.B)(t)}());w.connect(),this.events=w}else this.worker=this.events=this.registration=function kne(n){return en(()=>On(new Error(n)))}(VD)}postMessage(t,e){return this.worker.pipe(Qr(1),gr(r=>{r.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,r){const i=this.waitForOperationCompleted(r),c=this.postMessage(t,e);return Promise.all([c,i]).then(([,d])=>d)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?r=>r.type===t:r=>t.includes(r.type),this.events.pipe((0,Un.p)(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Qr(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Un.p)(e=>e.nonce===t),Qr(1),(0,xe.T)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let Pne=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new B.B,!e.isEnabled)return this.messages=Gb,this.notificationClicks=Gb,void(this.subscription=Gb);this.messages=this.sw.eventsOfType("PUSH").pipe((0,xe.T)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,xe.T)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,xe.T)(i=>i.pushManager));const r=this.pushManager.pipe(pi(i=>i.getSubscription()));this.subscription=(0,Di.h)(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(VD));const r={userVisibleOnly:!0};let i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),c=new Uint8Array(new ArrayBuffer(i.length));for(let d=0;d<i.length;d++)c[d]=i.charCodeAt(d);return r.applicationServerKey=c,this.pushManager.pipe(pi(d=>d.subscribe(r)),Qr(1)).toPromise().then(d=>(this.subscriptionChanges.next(d),d))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Qr(1),pi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(VD))}decodeBase64(e){return atob(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(zk))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),Nne=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=Gb,void(this.unrecoverable=Gb);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(VD));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(VD));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(zk))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const rK=new l.nKC("");function Fne(n,t,e,r){return()=>{if(!jd(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;const i=n.get(l.SKi),c=n.get(l.o8S);let d;if(i.runOutsideAngular(()=>{const f=navigator.serviceWorker,m=()=>f.controller?.postMessage({action:"INITIALIZE"});f.addEventListener("controllerchange",m),c.onDestroy(()=>{f.removeEventListener("controllerchange",m)})}),"function"==typeof e.registrationStrategy)d=e.registrationStrategy();else{const[f,...m]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(f){case"registerImmediately":d=Y(null);break;case"registerWithDelay":d=iK(+m[0]||0);break;case"registerWhenStable":d=m[0]?(0,Di.h)(oK(n),iK(+m[0])):oK(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}i.runOutsideAngular(()=>d.pipe(Qr(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(f=>console.error("Service worker registration failed with:",f))))}}function iK(n){return Y(null).pipe(cw(n))}function oK(n){return n.get(l.o8S).isStable.pipe((0,Un.p)(e=>e))}function Lne(n,t){return new zk(jd(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class Rj{}(function Lu(n,t){return(0,l.TL3)({rootComponent:n,...Yf(t)})})(zY,{providers:[function f_(n,...t){return(0,l.EmA)([{provide:gh,multi:!0,useValue:n},[],{provide:ps,useFactory:yp,deps:[Li]},{provide:l.iLQ,multi:!0,useFactory:aA},t.map(e=>e.\u0275providers)])}(Sne,tE()),function Vne(n,t={}){return(0,l.EmA)([Pne,Nne,{provide:rK,useValue:n},{provide:Rj,useValue:t},{provide:zk,useFactory:Lne,deps:[Rj,l.Agw]},{provide:l.hnV,useFactory:Fne,deps:[l.zZn,rK,Rj,l.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,l.naY)(),registrationStrategy:"registerWhenStable:3000"}),function qY(n="animations"){return(0,l.ngT)("NgAsyncAnimations"),(0,l.EmA)([{provide:l._9s,useFactory:(t,e,r)=>new WY(t,e,r,n),deps:[Te,d0,l.SKi]},{provide:l.bc$,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}()]}).catch(n=>console.error(n))},5505:function(Bt){Bt.exports=function(){"use strict";var et=function(v,C){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,N){S.__proto__=N}||function(S,N){for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&(S[V]=N[V])})(v,C)},O=function(){return(O=Object.assign||function(v){for(var C,S=1,N=arguments.length;S<N;S++)for(var V in C=arguments[S])Object.prototype.hasOwnProperty.call(C,V)&&(v[V]=C[V]);return v}).apply(this,arguments)};function J(v,C,S){if(S||2===arguments.length)for(var N,V=0,H=C.length;V<H;V++)!N&&V in C||((N=N||Array.prototype.slice.call(C,0,V))[V]=C[V]);return v.concat(N||Array.prototype.slice.call(C))}var re=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,me=Object.keys,ae=Array.isArray;function x(v,C){return"object"!=typeof C||me(C).forEach(function(S){v[S]=C[S]}),v}typeof Promise>"u"||re.Promise||(re.Promise=Promise);var l=Object.getPrototypeOf,De={}.hasOwnProperty;function ut(v,C){return De.call(v,C)}function Be(v,C){"function"==typeof C&&(C=C(l(v))),(typeof Reflect>"u"?me:Reflect.ownKeys)(C).forEach(function(S){Y(v,S,C[S])})}var Ue=Object.defineProperty;function Y(v,C,S,N){Ue(v,C,x(S&&ut(S,"get")&&"function"==typeof S.get?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},N))}function Me(v){return{from:function(C){return v.prototype=Object.create(C.prototype),Y(v.prototype,"constructor",v),{extend:Be.bind(null,v.prototype)}}}}var Ne=Object.getOwnPropertyDescriptor,oe=[].slice;function ze(v,C,S){return oe.call(v,C,S)}function Re(v,C){return C(v)}function ke(v){if(!v)throw new Error("Assertion Failed")}function ge(v){re.setImmediate?setImmediate(v):setTimeout(v,0)}function Fe(v,C){if("string"==typeof C&&ut(v,C))return v[C];if(!C)return v;if("string"!=typeof C){for(var S=[],N=0,V=C.length;N<V;++N){var H=Fe(v,C[N]);S.push(H)}return S}var ee=C.indexOf(".");if(-1!==ee){var ye=v[C.substr(0,ee)];return null==ye?void 0:Fe(ye,C.substr(ee+1))}}function xe(v,C,S){if(v&&void 0!==C&&(!("isFrozen"in Object)||!Object.isFrozen(v)))if("string"!=typeof C&&"length"in C){ke("string"!=typeof S&&"length"in S);for(var N=0,V=C.length;N<V;++N)xe(v,C[N],S[N])}else{var H,ee,ye=C.indexOf(".");-1!==ye?(H=C.substr(0,ye),""===(ee=C.substr(ye+1))?void 0===S?ae(v)&&!isNaN(parseInt(H))?v.splice(H,1):delete v[H]:v[H]=S:xe(ye=(ye=v[H])&&ut(v,H)?ye:v[H]={},ee,S)):void 0===S?ae(v)&&!isNaN(parseInt(C))?v.splice(C,1):delete v[C]:v[C]=S}}function Ae(v){var C,S={};for(C in v)ut(v,C)&&(S[C]=v[C]);return S}var We=[].concat;function Ie(v){return We.apply([],v)}var So="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ie([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(C){return C+v+"Array"})}))).filter(function(v){return re[v]}),st=new Set(So.map(function(v){return re[v]})),Qe=null;function _e(v){return Qe=new WeakMap,v=function C(S){if(!S||"object"!=typeof S)return S;var N=Qe.get(S);if(N)return N;if(ae(S)){Qe.set(S,N=[]);for(var V=0,H=S.length;V<H;++V)N.push(C(S[V]))}else if(st.has(S.constructor))N=S;else{var ee,ye=l(S);for(ee in N=ye===Object.prototype?{}:Object.create(ye),Qe.set(S,N),S)ut(S,ee)&&(N[ee]=C(S[ee]))}return N}(v),Qe=null,v}var ue={}.toString;function Q(v){return ue.call(v).slice(8,-1)}var mt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Dt="symbol"==typeof mt?function(v){var C;return null!=v&&(C=v[mt])&&C.apply(v)}:function(){return null};function At(v,C){return 0<=(C=v.indexOf(C))&&v.splice(C,1),0<=C}var ln={};function en(v){var C,S,N,V;if(1===arguments.length){if(ae(v))return v.slice();if(this===ln&&"string"==typeof v)return[v];if(V=Dt(v)){for(S=[];!(N=V.next()).done;)S.push(N.value);return S}if(null==v)return[v];if("number"!=typeof(C=v.length))return[v];for(S=new Array(C);C--;)S[C]=v[C];return S}for(C=arguments.length,S=new Array(C);C--;)S[C]=arguments[C];return S}var pn=typeof Symbol<"u"?function(v){return"AsyncFunction"===v[Symbol.toStringTag]}:function(){return!1},ao=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Cn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),On={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ge(v,C){this.name=v,this.message=C}function se(v,C){return v+". Errors: "+Object.keys(C).map(function(S){return C[S].toString()}).filter(function(S,N,V){return V.indexOf(S)===N}).join("\n")}function be(v,C,S,N){this.failures=C,this.failedKeys=N,this.successCount=S,this.message=se(v,C)}function W(v,C){this.name="BulkError",this.failures=Object.keys(C).map(function(S){return C[S]}),this.failuresByPos=C,this.message=se(v,this.failures)}Me(Ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Me(be).from(Ge),Me(W).from(Ge);var B=ao.reduce(function(v,C){return v[C]=C+"Error",v},{}),$=Ge,X=ao.reduce(function(v,C){var S=C+"Error";function N(V,H){this.name=S,V?"string"==typeof V?(this.message="".concat(V).concat(H?"\n "+H:""),this.inner=H||null):"object"==typeof V&&(this.message="".concat(V.name," ").concat(V.message),this.inner=V):(this.message=On[C]||S,this.inner=null)}return Me(N).from($),v[C]=N,v},{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var Z=Cn.reduce(function(v,C){return v[C+"Error"]=X[C],v},{}),ie=ao.reduce(function(v,C){return-1===["Syntax","Type","Range"].indexOf(C)&&(v[C+"Error"]=X[C]),v},{});function ce(){}function Te(v){return v}function It(v,C){return null==v||v===Te?C:function(S){return C(v(S))}}function Lt(v,C){return function(){v.apply(this,arguments),C.apply(this,arguments)}}function Rt(v,C){return v===ce?C:function(){var S=v.apply(this,arguments);void 0!==S&&(arguments[0]=S);var N=this.onsuccess,V=this.onerror;this.onsuccess=null,this.onerror=null;var H=C.apply(this,arguments);return N&&(this.onsuccess=this.onsuccess?Lt(N,this.onsuccess):N),V&&(this.onerror=this.onerror?Lt(V,this.onerror):V),void 0!==H?H:S}}function Ut(v,C){return v===ce?C:function(){v.apply(this,arguments);var S=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,C.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?Lt(S,this.onsuccess):S),N&&(this.onerror=this.onerror?Lt(N,this.onerror):N)}}function nn(v,C){return v===ce?C:function(S){var N=v.apply(this,arguments);x(S,N);var V=this.onsuccess,H=this.onerror;return this.onsuccess=null,this.onerror=null,S=C.apply(this,arguments),V&&(this.onsuccess=this.onsuccess?Lt(V,this.onsuccess):V),H&&(this.onerror=this.onerror?Lt(H,this.onerror):H),void 0===N?void 0===S?void 0:S:x(N,S)}}function on(v,C){return v===ce?C:function(){return!1!==C.apply(this,arguments)&&v.apply(this,arguments)}}function cn(v,C){return v===ce?C:function(){var S=v.apply(this,arguments);if(S&&"function"==typeof S.then){for(var N=this,V=arguments.length,H=new Array(V);V--;)H[V]=arguments[V];return S.then(function(){return C.apply(N,H)})}return C.apply(this,arguments)}}ie.ModifyError=be,ie.DexieError=Ge,ie.BulkError=W;var Ht=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function hn(v){Ht=v}var Cn,rn={},Pn=100,to=(ao=(ao=(So=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,l(v),v];var C=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[C,l(C),v]}())[1])&&ao.then,(Cn=So[0])&&Cn.constructor),no=!!(So=So[2]),Vr=function(v,C){Uo.push([v,C]),yr&&(queueMicrotask(ti),yr=!1)},Gt=!0,yr=!0,fr=[],Jn=[],$n=Te,or={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ce,pgp:!1,env:{},finalize:ce},jt=or,Uo=[],Co=0,Xs=[];function kt(v){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var C=this._PSD=jt;if("function"!=typeof v){if(v!==rn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ys(this,this._value))}this._state=null,this._value=null,++C.ref,function S(N,V){try{V(function(H){if(null===N._state){if(H===N)throw new TypeError("A promise cannot be resolved with itself.");var ee=N._lib&&br();H&&"function"==typeof H.then?S(N,function(ye,$e){H instanceof kt?H._then(ye,$e):H.then(ye,$e)}):(N._state=!0,N._value=H,Ya(N)),ee&&ui()}},Ys.bind(null,N))}catch(H){Ys(N,H)}}(this,v)}var jo={get:function(){var v=jt,C=Js;function S(N,V){var H=this,ee=!v.global&&(v!==jt||C!==Js),ye=ee&&!Oi(),$e=new kt(function(Pe,tt){ro(H,new Qs(po(N,v,ee,ye),po(V,v,ee,ye),Pe,tt,v))});return this._consoleTask&&($e._consoleTask=this._consoleTask),$e}return S.prototype=rn,S},set:function(v){Y(this,"then",v&&v.prototype===rn?jo:{get:function(){return v},set:jo.set})}};function Qs(v,C,S,N,V){this.onFulfilled="function"==typeof v?v:null,this.onRejected="function"==typeof C?C:null,this.resolve=S,this.reject=N,this.psd=V}function Ys(v,C){var S,N;Jn.push(C),null===v._state&&(S=v._lib&&br(),C=$n(C),v._state=!1,v._value=C,N=v,fr.some(function(V){return V._value===N._value})||fr.push(N),Ya(v),S&&ui())}function Ya(v){var C=v._listeners;v._listeners=[];for(var S=0,N=C.length;S<N;++S)ro(v,C[S]);var V=v._PSD;--V.ref||V.finalize(),0===Co&&(++Co,Vr(function(){0==--Co&&Do()},[]))}function ro(v,C){if(null!==v._state){var S=v._state?C.onFulfilled:C.onRejected;if(null===S)return(v._state?C.resolve:C.reject)(v._value);++C.psd.ref,++Co,Vr(Br,[S,v,C])}else v._listeners.push(C)}function Br(v,C,S){try{var N,V=C._value;!C._state&&Jn.length&&(Jn=[]),N=Ht&&C._consoleTask?C._consoleTask.run(function(){return v(V)}):v(V),C._state||-1!==Jn.indexOf(V)||function(H){for(var ee=fr.length;ee;)if(fr[--ee]._value===H._value)return fr.splice(ee,1)}(C),S.resolve(N)}catch(H){S.reject(H)}finally{0==--Co&&Do(),--S.psd.ref||S.psd.finalize()}}function ti(){di(or,function(){br()&&ui()})}function br(){var v=Gt;return yr=Gt=!1,v}function ui(){var v,C,S;do{for(;0<Uo.length;)for(v=Uo,Uo=[],S=v.length,C=0;C<S;++C){var N=v[C];N[0].apply(null,N[1])}}while(0<Uo.length);yr=Gt=!0}function Do(){var v=fr;fr=[],v.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)});for(var C=Xs.slice(0),S=C.length;S;)C[--S]()}function Za(v){return new kt(rn,!1,v)}function yn(v,C){var S=jt;return function(){var N=br(),V=jt;try{return ss(S,!0),v.apply(this,arguments)}catch(H){C&&C(H)}finally{ss(V,!1),N&&ui()}}}Be(kt.prototype,{then:jo,_then:function(v,C){ro(this,new Qs(null,null,v,C,jt))},catch:function(v){if(1===arguments.length)return this.then(null,v);var C=v,S=arguments[1];return this.then(null,"function"==typeof C?function(N){return(N instanceof C?S:Za)(N)}:function(N){return(N&&N.name===C?S:Za)(N)})},finally:function(v){return this.then(function(C){return kt.resolve(v()).then(function(){return C})},function(C){return kt.resolve(v()).then(function(){return Za(C)})})},timeout:function(v,C){var S=this;return v<1/0?new kt(function(N,V){var H=setTimeout(function(){return V(new X.Timeout(C))},v);S.then(N,V).finally(clearTimeout.bind(null,H))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Y(kt.prototype,Symbol.toStringTag,"Dexie.Promise"),or.env=as(),Be(kt,{all:function(){var v=en.apply(null,arguments).map(Ta);return new kt(function(C,S){0===v.length&&C([]);var N=v.length;v.forEach(function(V,H){return kt.resolve(V).then(function(ee){v[H]=ee,--N||C(v)},S)})})},resolve:function(v){return v instanceof kt?v:v&&"function"==typeof v.then?new kt(function(C,S){v.then(C,S)}):new kt(rn,!0,v)},reject:Za,race:function(){var v=en.apply(null,arguments).map(Ta);return new kt(function(C,S){v.map(function(N){return kt.resolve(N).then(C,S)})})},PSD:{get:function(){return jt},set:function(v){return jt=v}},totalEchoes:{get:function(){return Js}},newPSD:Wn,usePSD:di,scheduler:{get:function(){return Vr},set:function(v){Vr=v}},rejectionMapper:{get:function(){return $n},set:function(v){$n=v}},follow:function(v,C){return new kt(function(S,N){return Wn(function(V,H){var ee=jt;ee.unhandleds=[],ee.onunhandled=H,ee.finalize=Lt(function(){var ye,$e=this;ye=function(){0===$e.unhandleds.length?V():H($e.unhandleds[0])},Xs.push(function Pe(){ye(),Xs.splice(Xs.indexOf(Pe),1)}),++Co,Vr(function(){0==--Co&&Do()},[])},ee.finalize),v()},C,S,N)})}}),to&&(to.allSettled&&Y(kt,"allSettled",function(){var v=en.apply(null,arguments).map(Ta);return new kt(function(C){0===v.length&&C([]);var S=v.length,N=new Array(S);v.forEach(function(V,H){return kt.resolve(V).then(function(ee){return N[H]={status:"fulfilled",value:ee}},function(ee){return N[H]={status:"rejected",reason:ee}}).then(function(){return--S||C(N)})})})}),to.any&&typeof AggregateError<"u"&&Y(kt,"any",function(){var v=en.apply(null,arguments).map(Ta);return new kt(function(C,S){0===v.length&&S(new AggregateError([]));var N=v.length,V=new Array(N);v.forEach(function(H,ee){return kt.resolve(H).then(function(ye){return C(ye)},function(ye){V[ee]=ye,--N||S(new AggregateError(V))})})})}));var pr={awaits:0,echoes:0,id:0},os=0,Zs=[],To=0,Js=0,Sc=0;function Wn(v,C,S,N){var V=jt,H=Object.create(V);return H.parent=V,H.ref=0,H.global=!1,H.id=++Sc,H.env=no?{Promise:kt,PromiseProp:{value:kt,configurable:!0,writable:!0},all:kt.all,race:kt.race,allSettled:kt.allSettled,any:kt.any,resolve:kt.resolve,reject:kt.reject}:{},C&&x(H,C),++V.ref,H.finalize=function(){--this.parent.ref||this.parent.finalize()},N=di(H,v,S,N),0===H.ref&&H.finalize(),N}function $o(){return pr.id||(pr.id=++os),++pr.awaits,pr.echoes+=Pn,pr.id}function Oi(){return!!pr.awaits&&(0==--pr.awaits&&(pr.id=0),pr.echoes=pr.awaits*Pn,!0)}function Ta(v){return pr.echoes&&v&&v.constructor===to?($o(),v.then(function(C){return Oi(),C},function(C){return Oi(),_n(C)})):v}function pl(){var v=Zs[Zs.length-1];Zs.pop(),ss(v,!1)}function ss(v,C){var S,N=jt;(C?!pr.echoes||To++&&v===jt:!To||--To&&v===jt)||queueMicrotask(C?function(V){++Js,pr.echoes&&0!=--pr.echoes||(pr.echoes=pr.awaits=pr.id=0),Zs.push(jt),ss(V,!0)}.bind(null,v):pl),v!==jt&&(jt=v,N===or&&(or.env=as()),no&&(S=or.env.Promise,C=v.env,(N.global||v.global)&&(Object.defineProperty(re,"Promise",C.PromiseProp),S.all=C.all,S.race=C.race,S.resolve=C.resolve,S.reject=C.reject,C.allSettled&&(S.allSettled=C.allSettled),C.any&&(S.any=C.any))))}function as(){var v=re.Promise;return no?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(re,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function di(v,C,S,N,V){var H=jt;try{return ss(v,!0),C(S,N,V)}finally{ss(H,!1)}}function po(v,C,S,N){return"function"!=typeof v?v:function(){var V=jt;S&&$o(),ss(C,!0);try{return v.apply(this,arguments)}finally{ss(V,!1),N&&queueMicrotask(Oi)}}}function Nn(v){Promise===to&&0===pr.echoes?0===To?v():enqueueNativeMicroTask(v):setTimeout(v,0)}-1===(""+ao).indexOf("[native code]")&&($o=Oi=ce);var _n=kt.reject,hi="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ls="String expected.",Ts=[],bi="__dbnames",Ja="readonly",Ur="readwrite";function ea(v,C){return v?C?function(){return v.apply(this,arguments)&&C.apply(this,arguments)}:v:C}var Er={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ec(v){return"string"!=typeof v||/\./.test(v)?function(C){return C}:function(C){return void 0===C[v]&&v in C&&delete(C=_e(C))[v],C}}function Ao(){throw X.Type()}function Hn(v,C){try{var S=As(v),N=As(C);if(S!==N)return"Array"===S?1:"Array"===N?-1:"binary"===S?1:"binary"===N?-1:"string"===S?1:"string"===N?-1:"Date"===S?1:"Date"!==N?NaN:-1;switch(S){case"number":case"Date":case"string":return C<v?1:v<C?-1:0;case"binary":return function(V,H){for(var ee=V.length,ye=H.length,$e=ee<ye?ee:ye,Pe=0;Pe<$e;++Pe)if(V[Pe]!==H[Pe])return V[Pe]<H[Pe]?-1:1;return ee===ye?0:ee<ye?-1:1}(ml(v),ml(C));case"Array":return function(V,H){for(var ee=V.length,ye=H.length,$e=ee<ye?ee:ye,Pe=0;Pe<$e;++Pe){var tt=Hn(V[Pe],H[Pe]);if(0!==tt)return tt}return ee===ye?0:ee<ye?-1:1}(v,C)}}catch{}return NaN}function As(v){var C=typeof v;return"object"!=C?C:ArrayBuffer.isView(v)||"ArrayBuffer"===(v=Q(v))?"binary":v}function ml(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var zi=(sr.prototype._trans=function(v,C,S){var N=this._tx||jt.trans,V=this.name,H=Ht&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===v?"read":"write"," ").concat(this.name));function ee(Pe,tt,Se){if(!Se.schema[V])throw new X.NotFound("Table "+V+" not part of transaction");return C(Se.idbtrans,Se)}var ye=br();try{var $e=N&&N.db._novip===this.db._novip?N===jt.trans?N._promise(v,ee,S):Wn(function(){return N._promise(v,ee,S)},{trans:N,transless:jt.transless||jt}):function Pe(tt,Se,nt,Le){if(tt.idbdb&&(tt._state.openComplete||jt.letThrough||tt._vip)){var Xe=tt._createTransaction(Se,nt,tt._dbSchema);try{Xe.create(),tt._state.PR1398_maxLoop=3}catch(Ye){return Ye.name===B.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return Pe(tt,Se,nt,Le)})):_n(Ye)}return Xe._promise(Se,function(Ye,He){return Wn(function(){return jt.trans=Xe,Le(Ye,He,Xe)})}).then(function(Ye){if("readwrite"===Se)try{Xe.idbtrans.commit()}catch{}return"readonly"===Se?Ye:Xe._completion.then(function(){return Ye})})}if(tt._state.openComplete)return _n(new X.DatabaseClosed(tt._state.dbOpenError));if(!tt._state.isBeingOpened){if(!tt._state.autoOpen)return _n(new X.DatabaseClosed);tt.open().catch(ce)}return tt._state.dbReadyPromise.then(function(){return Pe(tt,Se,nt,Le)})}(this.db,v,[this.name],ee);return H&&($e._consoleTask=H,$e=$e.catch(function(Pe){return console.trace(Pe),_n(Pe)})),$e}finally{ye&&ui()}},sr.prototype.get=function(v,C){var S=this;return v&&v.constructor===Object?this.where(v).first(C):null==v?_n(new X.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return S.core.get({trans:N,key:v}).then(function(V){return S.hook.reading.fire(V)})}).then(C)},sr.prototype.where=function(v){if("string"==typeof v)return new this.db.WhereClause(this,v);if(ae(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var C=me(v);if(1===C.length)return this.where(C[0]).equals(v[C[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function($e){if($e.compound&&C.every(function(tt){return 0<=$e.keyPath.indexOf(tt)})){for(var Pe=0;Pe<C.length;++Pe)if(-1===C.indexOf($e.keyPath[Pe]))return!1;return!0}return!1}).sort(function($e,Pe){return $e.keyPath.length-Pe.keyPath.length})[0];if(S&&"\uffff"!==this.db._maxKey){var ee=S.keyPath.slice(0,C.length);return this.where(ee).equals(ee.map(function(Pe){return v[Pe]}))}!S&&Ht&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(C.join("+"),"]"));var N=this.schema.idxByName,V=this.db._deps.indexedDB;function H($e,Pe){return 0===V.cmp($e,Pe)}ee=(ye=C.reduce(function(nt,Pe){var tt=nt[0],Se=nt[1],Le=(nt=N[Pe],v[Pe]);return[tt||nt,tt||!nt?ea(Se,nt&&nt.multi?function(Xe){return Xe=Fe(Xe,Pe),ae(Xe)&&Xe.some(function(Ye){return H(Le,Ye)})}:function(Xe){return H(Le,Fe(Xe,Pe))}):Se]},[null,null]))[0];var ye=ye[1];return ee?this.where(ee.name).equals(v[ee.keyPath]).filter(ye):S?this.filter(ye):this.where(C).equals("")},sr.prototype.filter=function(v){return this.toCollection().and(v)},sr.prototype.count=function(v){return this.toCollection().count(v)},sr.prototype.offset=function(v){return this.toCollection().offset(v)},sr.prototype.limit=function(v){return this.toCollection().limit(v)},sr.prototype.each=function(v){return this.toCollection().each(v)},sr.prototype.toArray=function(v){return this.toCollection().toArray(v)},sr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},sr.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,ae(v)?"[".concat(v.join("+"),"]"):v))},sr.prototype.reverse=function(){return this.toCollection().reverse()},sr.prototype.mapToClass=function(v){var C,S=this.db,N=this.name;function V(){return null!==C&&C.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof Ao&&(function($e,Pe){if("function"!=typeof Pe&&null!==Pe)throw new TypeError("Class extends value "+String(Pe)+" is not a constructor or null");function tt(){this.constructor=$e}et($e,Pe),$e.prototype=null===Pe?Object.create(Pe):(tt.prototype=Pe.prototype,new tt)}(V,C=v),Object.defineProperty(V.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),V.prototype.table=function(){return N},v=V);for(var H=new Set,ee=v.prototype;ee;ee=l(ee))Object.getOwnPropertyNames(ee).forEach(function($e){return H.add($e)});function ye($e){if(!$e)return $e;var Pe,tt=Object.create(v.prototype);for(Pe in $e)if(!H.has(Pe))try{tt[Pe]=$e[Pe]}catch{}return tt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ye,this.hook("reading",ye),v},sr.prototype.defineClass=function(){return this.mapToClass(function(v){x(this,v)})},sr.prototype.add=function(v,C){var S=this,N=this.schema.primKey,H=N.keyPath,ee=v;return H&&N.auto&&(ee=ec(H)(v)),this._trans("readwrite",function(ye){return S.core.mutate({trans:ye,type:"add",keys:null!=C?[C]:null,values:[ee]})}).then(function(ye){return ye.numFailures?kt.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if(H)try{xe(v,H,ye)}catch{}return ye})},sr.prototype.update=function(v,C){return"object"!=typeof v||ae(v)?this.where(":id").equals(v).modify(C):void 0===(v=Fe(v,this.schema.primKey.keyPath))?_n(new X.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(C)},sr.prototype.put=function(v,C){var S=this,N=this.schema.primKey,H=N.keyPath,ee=v;return H&&N.auto&&(ee=ec(H)(v)),this._trans("readwrite",function(ye){return S.core.mutate({trans:ye,type:"put",values:[ee],keys:null!=C?[C]:null})}).then(function(ye){return ye.numFailures?kt.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if(H)try{xe(v,H,ye)}catch{}return ye})},sr.prototype.delete=function(v){var C=this;return this._trans("readwrite",function(S){return C.core.mutate({trans:S,type:"delete",keys:[v]})}).then(function(S){return S.numFailures?kt.reject(S.failures[0]):void 0})},sr.prototype.clear=function(){var v=this;return this._trans("readwrite",function(C){return v.core.mutate({trans:C,type:"deleteRange",range:Er})}).then(function(C){return C.numFailures?kt.reject(C.failures[0]):void 0})},sr.prototype.bulkGet=function(v){var C=this;return this._trans("readonly",function(S){return C.core.getMany({keys:v,trans:S}).then(function(N){return N.map(function(V){return C.hook.reading.fire(V)})})})},sr.prototype.bulkAdd=function(v,C,S){var N=this,V=Array.isArray(C)?C:void 0,H=(S=S||(V?void 0:C))?S.allKeys:void 0;return this._trans("readwrite",function(ee){var ye=(Pe=N.schema.primKey).auto;if((Pe=Pe.keyPath)&&V)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var $e=v.length,Pe=Pe&&ye?v.map(ec(Pe)):v;return N.core.mutate({trans:ee,type:"add",keys:V,values:Pe,wantResults:H}).then(function(Xe){var Se=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===Se)return H?nt:Le;throw new W("".concat(N.name,".bulkAdd(): ").concat(Se," of ").concat($e," operations failed"),Xe)})})},sr.prototype.bulkPut=function(v,C,S){var N=this,V=Array.isArray(C)?C:void 0,H=(S=S||(V?void 0:C))?S.allKeys:void 0;return this._trans("readwrite",function(ee){var ye=(Pe=N.schema.primKey).auto;if((Pe=Pe.keyPath)&&V)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var $e=v.length,Pe=Pe&&ye?v.map(ec(Pe)):v;return N.core.mutate({trans:ee,type:"put",keys:V,values:Pe,wantResults:H}).then(function(Xe){var Se=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===Se)return H?nt:Le;throw new W("".concat(N.name,".bulkPut(): ").concat(Se," of ").concat($e," operations failed"),Xe)})})},sr.prototype.bulkUpdate=function(v){var C=this,S=this.core,N=v.map(function(ee){return ee.key}),V=v.map(function(ee){return ee.changes}),H=[];return this._trans("readwrite",function(ee){return S.getMany({trans:ee,keys:N,cache:"clone"}).then(function(ye){var $e=[],Pe=[];v.forEach(function(Se,nt){var Le=Se.key,Xe=Se.changes,Ye=ye[nt];if(Ye){for(var He=0,ft=Object.keys(Xe);He<ft.length;He++){var qe=ft[He],rt=Xe[qe];if(qe===C.schema.primKey.keyPath){if(0!==Hn(rt,Le))throw new X.Constraint("Cannot update primary key in bulkUpdate()")}else xe(Ye,qe,rt)}H.push(nt),$e.push(Le),Pe.push(Ye)}});var tt=$e.length;return S.mutate({trans:ee,type:"put",keys:$e,values:Pe,updates:{keys:N,changeSpecs:V}}).then(function(Se){var nt=Se.numFailures,Le=Se.failures;if(0===nt)return tt;for(var Xe=0,Ye=Object.keys(Le);Xe<Ye.length;Xe++){var He,ft=Ye[Xe],qe=H[Number(ft)];null!=qe&&(He=Le[ft],delete Le[ft],Le[qe]=He)}throw new W("".concat(C.name,".bulkUpdate(): ").concat(nt," of ").concat(tt," operations failed"),Le)})})})},sr.prototype.bulkDelete=function(v){var C=this,S=v.length;return this._trans("readwrite",function(N){return C.core.mutate({trans:N,type:"delete",keys:v})}).then(function(ee){var V=ee.numFailures,H=ee.lastResult;if(ee=ee.failures,0===V)return H;throw new W("".concat(C.name,".bulkDelete(): ").concat(V," of ").concat(S," operations failed"),ee)})},sr);function sr(){}function us(v){function C(ee,ye){if(ye){for(var $e=arguments.length,Pe=new Array($e-1);--$e;)Pe[$e-1]=arguments[$e];return S[ee].subscribe.apply(null,Pe),v}if("string"==typeof ee)return S[ee]}var S={};C.addEventType=H;for(var N=1,V=arguments.length;N<V;++N)H(arguments[N]);return C;function H(ee,ye,$e){if("object"!=typeof ee){var Pe;ye=ye||on;var tt={subscribers:[],fire:$e=$e||ce,subscribe:function(Se){-1===tt.subscribers.indexOf(Se)&&(tt.subscribers.push(Se),tt.fire=ye(tt.fire,Se))},unsubscribe:function(Se){tt.subscribers=tt.subscribers.filter(function(nt){return nt!==Se}),tt.fire=tt.subscribers.reduce(ye,$e)}};return S[ee]=C[ee]=tt}me(Pe=ee).forEach(function(Se){var nt=Pe[Se];if(ae(nt))H(Se,Pe[Se][0],Pe[Se][1]);else{if("asap"!==nt)throw new X.InvalidArgument("Invalid event config");var Le=H(Se,Te,function(){for(var Xe=arguments.length,Ye=new Array(Xe);Xe--;)Ye[Xe]=arguments[Xe];Le.subscribers.forEach(function(He){ge(function(){He.apply(null,Ye)})})})}})}}function ta(v,C){return Me(C).from({prototype:v}),C}function Aa(v,C){return!(v.filter||v.algorithm||v.or)&&(C?v.justLimit:!v.replayFilter)}function xc(v,C){v.filter=ea(v.filter,C)}function Sa(v,C,S){var N=v.replayFilter;v.replayFilter=N?function(){return ea(N(),C())}:C,v.justLimit=S&&!N}function xa(v,C){if(v.isPrimKey)return C.primaryKey;var S=C.getIndexByKeyPath(v.index);if(!S)throw new X.Schema("KeyPath "+v.index+" on object store "+C.name+" is not indexed");return S}function Mc(v,C,S){var N=xa(v,C.schema);return C.openCursor({trans:S,values:!v.keysOnly,reverse:"prev"===v.dir,unique:!!v.unique,query:{index:N,range:v.range}})}function gl(v,C,S,N){var V=v.replayFilter?ea(v.filter,v.replayFilter()):v.filter;if(v.or){var H={},ee=function(ye,$e,Pe){var tt,Se;V&&!V($e,Pe,function(nt){return $e.stop(nt)},function(nt){return $e.fail(nt)})||("[object ArrayBuffer]"==(Se=""+(tt=$e.primaryKey))&&(Se=""+new Uint8Array(tt)),ut(H,Se)||(H[Se]=!0,C(ye,$e,Pe)))};return Promise.all([v.or._iterate(ee,S),Ma(Mc(v,N,S),v.algorithm,ee,!v.keysOnly&&v.valueMapper)])}return Ma(Mc(v,N,S),ea(v.algorithm,V),C,!v.keysOnly&&v.valueMapper)}function Ma(v,C,S,N){var V=yn(N?function(H,ee,ye){return S(N(H),ee,ye)}:S);return v.then(function(H){if(H)return H.start(function(){var ee=function(){return H.continue()};C&&!C(H,function(ye){return ee=ye},function(ye){H.stop(ye),ee=ce},function(ye){H.fail(ye),ee=ce})||V(H.value,H,function(ye){return ee=ye}),ee()})})}So=Symbol();var na=(Rc.prototype.execute=function(v){if(void 0!==this.add){var C=this.add;if(ae(C))return J(J([],ae(v)?v:[],!0),C,!0).sort();if("number"==typeof C)return(Number(v)||0)+C;if("bigint"==typeof C)try{return BigInt(v)+C}catch{return BigInt(0)+C}throw new TypeError("Invalid term ".concat(C))}if(void 0!==this.remove){var S=this.remove;if(ae(S))return ae(v)?v.filter(function(N){return!S.includes(N)}).sort():[];if("number"==typeof S)return Number(v)-S;if("bigint"==typeof S)try{return BigInt(v)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return(C=null===(C=this.replacePrefix)||void 0===C?void 0:C[0])&&"string"==typeof v&&v.startsWith(C)?this.replacePrefix[1]+v.substring(C.length):v},Rc);function Rc(v){Object.assign(this,v)}var Oc=(zn.prototype._read=function(v,C){var S=this._ctx;return S.error?S.table._trans(null,_n.bind(null,S.error)):S.table._trans("readonly",v).then(C)},zn.prototype._write=function(v){var C=this._ctx;return C.error?C.table._trans(null,_n.bind(null,C.error)):C.table._trans("readwrite",v,"locked")},zn.prototype._addAlgorithm=function(v){var C=this._ctx;C.algorithm=ea(C.algorithm,v)},zn.prototype._iterate=function(v,C){return gl(this._ctx,v,C,this._ctx.table.core)},zn.prototype.clone=function(v){var C=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return v&&x(S,v),C._ctx=S,C},zn.prototype.raw=function(){return this._ctx.valueMapper=null,this},zn.prototype.each=function(v){var C=this._ctx;return this._read(function(S){return gl(C,v,S,C.table.core)})},zn.prototype.count=function(v){var C=this;return this._read(function(S){var N=C._ctx,V=N.table.core;if(Aa(N,!0))return V.count({trans:S,query:{index:xa(N,V.schema),range:N.range}}).then(function(ee){return Math.min(ee,N.limit)});var H=0;return gl(N,function(){return++H,!1},S,V).then(function(){return H})}).then(v)},zn.prototype.sortBy=function(v,C){var S=v.split(".").reverse(),N=S[0],V=S.length-1;function H($e,Pe){return Pe?H($e[S[Pe]],Pe-1):$e[N]}var ee="next"===this._ctx.dir?1:-1;function ye($e,Pe){return($e=H($e,V))<(Pe=H(Pe,V))?-ee:Pe<$e?ee:0}return this.toArray(function($e){return $e.sort(ye)}).then(C)},zn.prototype.toArray=function(v){var C=this;return this._read(function(S){var N=C._ctx;if("next"===N.dir&&Aa(N,!0)&&0<N.limit){var V=N.valueMapper,H=xa(N,N.table.core.schema);return N.table.core.query({trans:S,limit:N.limit,values:!0,query:{index:H,range:N.range}}).then(function(ye){return ye=ye.result,V?ye.map(V):ye})}var ee=[];return gl(N,function(ye){return ee.push(ye)},S,N.table.core).then(function(){return ee})},v)},zn.prototype.offset=function(v){var C=this._ctx;return v<=0||(C.offset+=v,Aa(C)?Sa(C,function(){var S=v;return function(N,V){return 0===S||(1===S?--S:V(function(){N.advance(S),S=0}),!1)}}):Sa(C,function(){var S=v;return function(){return--S<0}})),this},zn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),Sa(this._ctx,function(){var C=v;return function(S,N,V){return--C<=0&&N(V),0<=C}},!0),this},zn.prototype.until=function(v,C){return xc(this._ctx,function(S,N,V){return!v(S.value)||(N(V),C)}),this},zn.prototype.first=function(v){return this.limit(1).toArray(function(C){return C[0]}).then(v)},zn.prototype.last=function(v){return this.reverse().first(v)},zn.prototype.filter=function(v){var C;return xc(this._ctx,function(S){return v(S.value)}),(C=this._ctx).isMatch=ea(C.isMatch,v),this},zn.prototype.and=function(v){return this.filter(v)},zn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},zn.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},zn.prototype.desc=function(){return this.reverse()},zn.prototype.eachKey=function(v){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(S,N){v(N.key,N)})},zn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},zn.prototype.eachPrimaryKey=function(v){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(S,N){v(N.primaryKey,N)})},zn.prototype.keys=function(v){var C=this._ctx;C.keysOnly=!C.isMatch;var S=[];return this.each(function(N,V){S.push(V.key)}).then(function(){return S}).then(v)},zn.prototype.primaryKeys=function(v){var C=this._ctx;if("next"===C.dir&&Aa(C,!0)&&0<C.limit)return this._read(function(N){var V=xa(C,C.table.core.schema);return C.table.core.query({trans:N,values:!1,limit:C.limit,query:{index:V,range:C.range}})}).then(function(N){return N.result}).then(v);C.keysOnly=!C.isMatch;var S=[];return this.each(function(N,V){S.push(V.primaryKey)}).then(function(){return S}).then(v)},zn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},zn.prototype.firstKey=function(v){return this.limit(1).keys(function(C){return C[0]}).then(v)},zn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},zn.prototype.distinct=function(){var v;if(!(v=(v=this._ctx).index&&v.table.schema.idxByName[v.index])||!v.multi)return this;var C={};return xc(this._ctx,function(V){var N=V.primaryKey.toString();return V=ut(C,N),C[N]=!0,!V}),this},zn.prototype.modify=function(v){var C=this,S=this._ctx;return this._write(function(N){var V,H,ee;function ye(He,rt){var qe=rt.failures;Xe+=He-(rt=rt.numFailures);for(var wt=0,Ft=me(qe);wt<Ft.length;wt++)Le.push(qe[Ft[wt]])}ee="function"==typeof v?v:(V=me(v),H=V.length,function(He){for(var ft=!1,qe=0;qe<H;++qe){var rt=V[qe],wt=v[rt],Ft=Fe(He,rt);wt instanceof na?(xe(He,rt,wt.execute(Ft)),ft=!0):Ft!==wt&&(xe(He,rt,wt),ft=!0)}return ft});var $e=S.table.core,Pe=$e.schema.primaryKey,tt=Pe.outbound,Se=Pe.extractKey,nt=C.db._options.modifyChunkSize||200,Le=[],Xe=0,Ye=[];return C.clone().primaryKeys().then(function(He){var qe=Aa(S)&&S.limit===1/0&&("function"!=typeof v||v===tc)&&{index:S.index,range:S.range};return function ft(rt){var wt=Math.min(nt,He.length-rt);return $e.getMany({trans:N,keys:He.slice(rt,rt+wt),cache:"immutable"}).then(function(Ft){for(var xt=[],Vt=[],Kt=tt?[]:null,qt=[],yt=0;yt<wt;++yt){var Sn=Ft[yt],kn={value:_e(Sn),primKey:He[rt+yt]};!1!==ee.call(kn,kn.value,kn)&&(null==kn.value?qt.push(He[rt+yt]):tt||0===Hn(Se(Sn),Se(kn.value))?(Vt.push(kn.value),tt&&Kt.push(He[rt+yt])):(qt.push(He[rt+yt]),xt.push(kn.value)))}return Promise.resolve(0<xt.length&&$e.mutate({trans:N,type:"add",values:xt}).then(function(wn){for(var Ln in wn.failures)qt.splice(parseInt(Ln),1);ye(xt.length,wn)})).then(function(){return(0<Vt.length||qe&&"object"==typeof v)&&$e.mutate({trans:N,type:"put",keys:Kt,values:Vt,criteria:qe,changeSpec:"function"!=typeof v&&v,isAdditionalChunk:0<rt}).then(function(wn){return ye(Vt.length,wn)})}).then(function(){return(0<qt.length||qe&&v===tc)&&$e.mutate({trans:N,type:"delete",keys:qt,criteria:qe,isAdditionalChunk:0<rt}).then(function(wn){return ye(qt.length,wn)})}).then(function(){return He.length>rt+wt&&ft(rt+nt)})})}(0).then(function(){if(0<Le.length)throw new be("Error modifying one or more objects",Le,Xe,Ye);return He.length})})})},zn.prototype.delete=function(){var v=this._ctx,C=v.range;return Aa(v)&&(v.isPrimKey||3===C.type)?this._write(function(S){var V=C;return v.table.core.count({trans:S,query:{index:v.table.core.schema.primaryKey,range:V}}).then(function(H){return v.table.core.mutate({trans:S,type:"deleteRange",range:V}).then(function(ee){var ye=ee.failures;if(ee=ee.numFailures)throw new be("Could not delete some values",Object.keys(ye).map(function($e){return ye[$e]}),H-ee);return H-ee})})}):this.modify(tc)},zn);function zn(){}var tc=function(v,C){return C.value=null};function _l(v,C){return v<C?-1:v===C?0:1}function Eu(v,C){return C<v?-1:v===C?0:1}function mo(v,C,S){return(v=v instanceof Oe?new v.Collection(v):v)._ctx.error=new(S||TypeError)(C),v}function io(v){return new v.Collection(v,function(){return z("")}).limit(0)}function nc(v,C,S,N){var V,H,ee,ye,$e,Pe,tt,Se=S.length;if(!S.every(function(Xe){return"string"==typeof Xe}))return mo(v,ls);function nt(Xe){V="next"===Xe?function(He){return He.toUpperCase()}:function(He){return He.toLowerCase()},H="next"===Xe?function(He){return He.toLowerCase()}:function(He){return He.toUpperCase()},ee="next"===Xe?_l:Eu;var Ye=S.map(function(He){return{lower:H(He),upper:V(He)}}).sort(function(He,ft){return ee(He.lower,ft.lower)});ye=Ye.map(function(He){return He.upper}),$e=Ye.map(function(He){return He.lower}),tt="next"===(Pe=Xe)?"":N}nt("next"),(v=new v.Collection(v,function(){return ds(ye[0],$e[Se-1]+N)}))._ondirectionchange=function(Xe){nt(Xe)};var Le=0;return v._addAlgorithm(function(Xe,Ye,He){var ft=Xe.key;if("string"!=typeof ft)return!1;var qe=H(ft);if(C(qe,$e,Le))return!0;for(var rt=null,wt=Le;wt<Se;++wt){var Ft=function(xt,Vt,Kt,qt,yt,Sn){for(var kn=Math.min(xt.length,qt.length),wn=-1,Ln=0;Ln<kn;++Ln){var la=Vt[Ln];if(la!==qt[Ln])return yt(xt[Ln],Kt[Ln])<0?xt.substr(0,Ln)+Kt[Ln]+Kt.substr(Ln+1):yt(xt[Ln],qt[Ln])<0?xt.substr(0,Ln)+qt[Ln]+Kt.substr(Ln+1):0<=wn?xt.substr(0,wn)+Vt[wn]+Kt.substr(wn+1):null;yt(xt[Ln],la)<0&&(wn=Ln)}return kn<qt.length&&"next"===Sn?xt+Kt.substr(xt.length):kn<xt.length&&"prev"===Sn?xt.substr(0,Kt.length):wn<0?null:xt.substr(0,wn)+qt[wn]+Kt.substr(wn+1)}(ft,qe,ye[wt],$e[wt],ee,Pe);null===Ft&&null===rt?Le=wt+1:(null===rt||0<ee(rt,Ft))&&(rt=Ft)}return Ye(null!==rt?function(){Xe.continue(rt+tt)}:He),!1}),v}function ds(v,C,S,N){return{type:2,lower:v,upper:C,lowerOpen:S,upperOpen:N}}function z(v){return{type:1,lower:v,upper:v}}var Oe=(Object.defineProperty(Je.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Je.prototype.between=function(v,C,S,N){S=!1!==S,N=!0===N;try{return 0<this._cmp(v,C)||0===this._cmp(v,C)&&(S||N)&&(!S||!N)?io(this):new this.Collection(this,function(){return ds(v,C,!S,!N)})}catch{return mo(this,hi)}},Je.prototype.equals=function(v){return null==v?mo(this,hi):new this.Collection(this,function(){return z(v)})},Je.prototype.above=function(v){return null==v?mo(this,hi):new this.Collection(this,function(){return ds(v,void 0,!0)})},Je.prototype.aboveOrEqual=function(v){return null==v?mo(this,hi):new this.Collection(this,function(){return ds(v,void 0,!1)})},Je.prototype.below=function(v){return null==v?mo(this,hi):new this.Collection(this,function(){return ds(void 0,v,!1,!0)})},Je.prototype.belowOrEqual=function(v){return null==v?mo(this,hi):new this.Collection(this,function(){return ds(void 0,v)})},Je.prototype.startsWith=function(v){return"string"!=typeof v?mo(this,ls):this.between(v,v+"\uffff",!0,!0)},Je.prototype.startsWithIgnoreCase=function(v){return""===v?this.startsWith(v):nc(this,function(C,S){return 0===C.indexOf(S[0])},[v],"\uffff")},Je.prototype.equalsIgnoreCase=function(v){return nc(this,function(C,S){return C===S[0]},[v],"")},Je.prototype.anyOfIgnoreCase=function(){var v=en.apply(ln,arguments);return 0===v.length?io(this):nc(this,function(C,S){return-1!==S.indexOf(C)},v,"")},Je.prototype.startsWithAnyOfIgnoreCase=function(){var v=en.apply(ln,arguments);return 0===v.length?io(this):nc(this,function(C,S){return S.some(function(N){return 0===C.indexOf(N)})},v,"\uffff")},Je.prototype.anyOf=function(){var v=this,C=en.apply(ln,arguments),S=this._cmp;try{C.sort(S)}catch{return mo(this,hi)}if(0===C.length)return io(this);var N=new this.Collection(this,function(){return ds(C[0],C[C.length-1])});N._ondirectionchange=function(H){C.sort(S="next"===H?v._ascending:v._descending)};var V=0;return N._addAlgorithm(function(H,ee,ye){for(var $e=H.key;0<S($e,C[V]);)if(++V===C.length)return ee(ye),!1;return 0===S($e,C[V])||(ee(function(){H.continue(C[V])}),!1)}),N},Je.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Je.prototype.noneOf=function(){var v=en.apply(ln,arguments);if(0===v.length)return new this.Collection(this);try{v.sort(this._ascending)}catch{return mo(this,hi)}var C=v.reduce(function(S,N){return S?S.concat([[S[S.length-1][1],N]]):[[-1/0,N]]},null);return C.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(C,{includeLowers:!1,includeUppers:!1})},Je.prototype.inAnyRange=function(ft,C){var S=this,N=this._cmp,V=this._ascending,H=this._descending,ee=this._min,ye=this._max;if(0===ft.length)return io(this);if(!ft.every(function(qe){return void 0!==qe[0]&&void 0!==qe[1]&&V(qe[0],qe[1])<=0}))return mo(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);var tt,$e=!C||!1!==C.includeLowers,Pe=C&&!0===C.includeUppers,Se=V;function nt(qe,rt){return Se(qe[0],rt[0])}try{(tt=ft.reduce(function(qe,rt){for(var wt=0,Ft=qe.length;wt<Ft;++wt){var xt=qe[wt];if(N(rt[0],xt[1])<0&&0<N(rt[1],xt[0])){xt[0]=ee(xt[0],rt[0]),xt[1]=ye(xt[1],rt[1]);break}}return wt===Ft&&qe.push(rt),qe},[])).sort(nt)}catch{return mo(this,hi)}var Le=0,Xe=Pe?function(qe){return 0<V(qe,tt[Le][1])}:function(qe){return 0<=V(qe,tt[Le][1])},Ye=$e?function(qe){return 0<H(qe,tt[Le][0])}:function(qe){return 0<=H(qe,tt[Le][0])},He=Xe;return(ft=new this.Collection(this,function(){return ds(tt[0][0],tt[tt.length-1][1],!$e,!Pe)}))._ondirectionchange=function(qe){Se="next"===qe?(He=Xe,V):(He=Ye,H),tt.sort(nt)},ft._addAlgorithm(function(qe,rt,wt){for(var Ft,xt=qe.key;He(xt);)if(++Le===tt.length)return rt(wt),!1;return!Xe(Ft=xt)&&!Ye(Ft)||(0===S._cmp(xt,tt[Le][1])||0===S._cmp(xt,tt[Le][0])||rt(function(){qe.continue(Se===V?tt[Le][0]:tt[Le][1])}),!1)}),ft},Je.prototype.startsWithAnyOf=function(){var v=en.apply(ln,arguments);return v.every(function(C){return"string"==typeof C})?0===v.length?io(this):this.inAnyRange(v.map(function(C){return[C,C+"\uffff"]})):mo(this,"startsWithAnyOf() only works with strings")},Je);function Je(){}function dt(v){return yn(function(C){return Nt(C),v(C.target.error),!1})}function Nt(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var Dn="storagemutated",Fn="x-storagemutated-1",Yn=us(null,Dn),mr=(jr.prototype._lock=function(){return ke(!jt.global),++this._reculock,1!==this._reculock||jt.global||(jt.lockOwnerFor=this),this},jr.prototype._unlock=function(){if(ke(!jt.global),0==--this._reculock)for(jt.global||(jt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{di(v[1],v[0])}catch{}}return this},jr.prototype._locked=function(){return this._reculock&&jt.lockOwnerFor!==this},jr.prototype.create=function(v){var C=this;if(!this.mode)return this;var S=this.db.idbdb,N=this.db._state.dbOpenError;if(ke(!this.idbtrans),!v&&!S)switch(N&&N.name){case"DatabaseClosedError":throw new X.DatabaseClosed(N);case"MissingAPIError":throw new X.MissingAPI(N.message,N);default:throw new X.OpenFailed(N)}if(!this.active)throw new X.TransactionInactive;return ke(null===this._completion._state),(v=this.idbtrans=v||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=yn(function(V){Nt(V),C._reject(v.error)}),v.onabort=yn(function(V){Nt(V),C.active&&C._reject(new X.Abort(v.error)),C.active=!1,C.on("abort").fire(V)}),v.oncomplete=yn(function(){C.active=!1,C._resolve(),"mutatedParts"in v&&Yn.storagemutated.fire(v.mutatedParts)}),this},jr.prototype._promise=function(v,C,S){var N=this;if("readwrite"===v&&"readwrite"!==this.mode)return _n(new X.ReadOnly("Transaction is readonly"));if(!this.active)return _n(new X.TransactionInactive);if(this._locked())return new kt(function(H,ee){N._blockedFuncs.push([function(){N._promise(v,C,S).then(H,ee)},jt])});if(S)return Wn(function(){var H=new kt(function(ee,ye){N._lock();var $e=C(ee,ye,N);$e&&$e.then&&$e.then(ee,ye)});return H.finally(function(){return N._unlock()}),H._lib=!0,H});var V=new kt(function(H,ee){var ye=C(H,ee,N);ye&&ye.then&&ye.then(H,ee)});return V._lib=!0,V},jr.prototype._root=function(){return this.parent?this.parent._root():this},jr.prototype.waitFor=function(v){var C,S=this._root(),N=kt.resolve(v);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return N}):(S._waitingFor=N,S._waitingQueue=[],C=S.idbtrans.objectStore(S.storeNames[0]),function H(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(C.get(-1/0).onsuccess=H)}());var V=S._waitingFor;return new kt(function(H,ee){N.then(function(ye){return S._waitingQueue.push(yn(H.bind(null,ye)))},function(ye){return S._waitingQueue.push(yn(ee.bind(null,ye)))}).finally(function(){S._waitingFor===V&&(S._waitingFor=null)})})},jr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))},jr.prototype.table=function(v){var C=this._memoizedTables||(this._memoizedTables={});if(ut(C,v))return C[v];var S=this.schema[v];if(!S)throw new X.NotFound("Table "+v+" not part of transaction");return(S=new this.db.Table(v,S,this)).core=this.db.core.table(v),C[v]=S},jr);function jr(){}function qr(v,C,S,N,V,H,ee){return{name:v,keyPath:C,unique:S,multi:N,auto:V,compound:H,src:(S&&!ee?"&":"")+(N?"*":"")+(V?"++":"")+Xr(C)}}function Xr(v){return"string"==typeof v?v:v?"["+[].join.call(v,"+")+"]":""}function xo(v,C,S){return{name:v,primKey:C,indexes:S,mappedClass:null,idxByName:(N=function(V){return[V.name,V]},S.reduce(function(V,H,ee){return(ee=N(H))&&(V[ee[0]]=ee[1]),V},{}))};var N}var Ss=function(v){try{return v.only([[]]),Ss=function(){return[[]]},[[]]}catch{return Ss=function(){return"\uffff"},"\uffff"}};function go(v){return null==v?function(){}:"string"==typeof v?1===(C=v).split(".").length?function(S){return S[C]}:function(S){return Fe(S,C)}:function(S){return Fe(S,v)};var C}function Mo(v){return[].slice.call(v)}var ra=0;function ia(v){return null==v?":id":"string"==typeof v?v:"[".concat(v.join("+"),"]")}function _o(v,C,$e){function N(He){if(3===He.type)return null;if(4===He.type)throw new Error("Cannot convert never type to IDBKeyRange");var Le=He.lower,Xe=He.upper,Ye=He.lowerOpen;return He=He.upperOpen,void 0===Le?void 0===Xe?null:C.upperBound(Xe,!!He):void 0===Xe?C.lowerBound(Le,!!Ye):C.bound(Le,Xe,!!Ye,!!He)}var H,ee,ye,Pe=(ee=$e,ye=Mo((H=v).objectStoreNames),tt={schema:{name:H.name,tables:ye.map(function(nt){return ee.objectStore(nt)}).map(function(nt){var Le=nt.keyPath,He=nt.autoIncrement,Xe=ae(Le),Ye={};return He={name:nt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==Le,compound:Xe,keyPath:Le,autoIncrement:He,unique:!0,extractKey:go(Le)},indexes:Mo(nt.indexNames).map(function(ft){return nt.index(ft)}).map(function(wt){var rt=wt.unique,Ft=wt.multiEntry;return Ft={name:wt.name,compound:ae(wt=wt.keyPath),keyPath:wt,unique:rt,multiEntry:Ft,extractKey:go(wt)},Ye[ia(wt)]=Ft}),getIndexByKeyPath:function(ft){return Ye[ia(ft)]}},Ye[":id"]=He.primaryKey,null!=Le&&(Ye[ia(Le)]=He.primaryKey),He})},hasGetAll:0<ye.length&&"getAll"in ee.objectStore(ye[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,tt=($e=tt.schema).tables.map(function V(nt){var Le,Xe=nt.name;return{name:Xe,schema:nt,mutate:function(Ye){var He=Ye.trans,ft=Ye.type,qe=Ye.keys,rt=Ye.values,wt=Ye.range;return new Promise(function(Ft,xt){Ft=yn(Ft);var Vt=He.objectStore(Xe),Kt=null==Vt.keyPath,qt="put"===ft||"add"===ft;if(!qt&&"delete"!==ft&&"deleteRange"!==ft)throw new Error("Invalid operation type: "+ft);var yt,Sn=(qe||rt||{length:1}).length;if(qe&&rt&&qe.length!==rt.length)throw new Error("Given keys array must have same length as given values array.");if(0===Sn)return Ft({numFailures:0,failures:{},results:[],lastResult:void 0});function kn(Gi){++la,Nt(Gi)}var wn=[],Ln=[],la=0;if("deleteRange"===ft){if(4===wt.type)return Ft({numFailures:la,failures:Ln,results:[],lastResult:void 0});wn.push(yt=3===wt.type?Vt.clear():Vt.delete(N(wt)))}else{var Bn=(Kt=qt?Kt?[rt,qe]:[rt,null]:[qe,null])[0],fi=Kt[1];if(qt)for(var ri=0;ri<Sn;++ri)wn.push(yt=fi&&void 0!==fi[ri]?Vt[ft](Bn[ri],fi[ri]):Vt[ft](Bn[ri])),yt.onerror=kn;else for(ri=0;ri<Sn;++ri)wn.push(yt=Vt[ft](Bn[ri])),yt.onerror=kn}function Fa(Gi){Gi=Gi.target.result,wn.forEach(function(Rs,oc){return null!=Rs.error&&(Ln[oc]=Rs.error)}),Ft({numFailures:la,failures:Ln,results:"delete"===ft?qe:wn.map(function(Rs){return Rs.result}),lastResult:Gi})}yt.onerror=function(Gi){kn(Gi),Fa(Gi)},yt.onsuccess=Fa})},getMany:function(Ye){var He=Ye.trans,ft=Ye.keys;return new Promise(function(qe,rt){qe=yn(qe);for(var wt,Ft=He.objectStore(Xe),xt=ft.length,Vt=new Array(xt),Kt=0,qt=0,yt=function(wn){Vt[(wn=wn.target)._pos]=wn.result,++qt===Kt&&qe(Vt)},Sn=dt(rt),kn=0;kn<xt;++kn)null!=ft[kn]&&((wt=Ft.get(ft[kn]))._pos=kn,wt.onsuccess=yt,wt.onerror=Sn,++Kt);0===Kt&&qe(Vt)})},get:function(Ye){var He=Ye.trans,ft=Ye.key;return new Promise(function(qe,rt){qe=yn(qe);var wt=He.objectStore(Xe).get(ft);wt.onsuccess=function(Ft){return qe(Ft.target.result)},wt.onerror=dt(rt)})},query:(Le=Pe,function(Ye){return new Promise(function(He,ft){He=yn(He);var qe,rt,wt,Ft=Ye.values,xt=Ye.limit,Vt=xt===1/0?void 0:xt,qt=(yt=Ye.query).index,yt=yt.range,Kt=(Kt=Ye.trans).objectStore(Xe);if(qt=qt.isPrimaryKey?Kt:Kt.index(qt.name),yt=N(yt),0===xt)return He({result:[]});Le?((Vt=Ft?qt.getAll(yt,Vt):qt.getAllKeys(yt,Vt)).onsuccess=function(Sn){return He({result:Sn.target.result})},Vt.onerror=dt(ft)):(qe=0,rt=!Ft&&"openKeyCursor"in qt?qt.openKeyCursor(yt):qt.openCursor(yt),wt=[],rt.onsuccess=function(Sn){var kn=rt.result;return kn?(wt.push(Ft?kn.value:kn.primaryKey),++qe===xt?He({result:wt}):void kn.continue()):He({result:wt})},rt.onerror=dt(ft))})}),openCursor:function(Ye){var He=Ye.trans,ft=Ye.values,qe=Ye.query,rt=Ye.reverse,wt=Ye.unique;return new Promise(function(Ft,xt){Ft=yn(Ft);var qt=qe.index,Vt=qe.range,Kt=He.objectStore(Xe),yt=(Kt=qt.isPrimaryKey?Kt:Kt.index(qt.name),qt=rt?wt?"prevunique":"prev":wt?"nextunique":"next",!ft&&"openKeyCursor"in Kt?Kt.openKeyCursor(N(Vt),qt):Kt.openCursor(N(Vt),qt));yt.onerror=dt(xt),yt.onsuccess=yn(function(Sn){var kn,wn,Ln,la,Bn=yt.result;Bn?(Bn.___id=++ra,Bn.done=!1,kn=Bn.continue.bind(Bn),wn=(wn=Bn.continuePrimaryKey)&&wn.bind(Bn),Ln=Bn.advance.bind(Bn),la=function(){throw new Error("Cursor not stopped")},Bn.trans=He,Bn.stop=Bn.continue=Bn.continuePrimaryKey=Bn.advance=function(){throw new Error("Cursor not started")},Bn.fail=yn(xt),Bn.next=function(){var fi=this,ri=1;return this.start(function(){return ri--?fi.continue():fi.stop()}).then(function(){return fi})},Bn.start=function(fi){function ri(){if(yt.result)try{fi()}catch(Gi){Bn.fail(Gi)}else Bn.done=!0,Bn.start=function(){throw new Error("Cursor behind last entry")},Bn.stop()}var Fa=new Promise(function(Gi,Rs){Gi=yn(Gi),yt.onerror=dt(Rs),Bn.fail=Rs,Bn.stop=function(oc){Bn.stop=Bn.continue=Bn.continuePrimaryKey=Bn.advance=la,Gi(oc)}});return yt.onsuccess=yn(function(Gi){yt.onsuccess=ri,ri()}),Bn.continue=kn,Bn.continuePrimaryKey=wn,Bn.advance=Ln,ri(),Fa},Ft(Bn)):Ft(null)},xt)})},count:function(Ye){var He=Ye.query,ft=Ye.trans,qe=He.index,rt=He.range;return new Promise(function(wt,Ft){var xt=ft.objectStore(Xe),Vt=qe.isPrimaryKey?xt:xt.index(qe.name);(Vt=(xt=N(rt))?Vt.count(xt):Vt.count()).onsuccess=yn(function(Kt){return wt(Kt.target.result)}),Vt.onerror=dt(Ft)})}}}),Se={};return tt.forEach(function(nt){return Se[nt.name]=nt}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(nt){if(!Se[nt])throw new Error("Table '".concat(nt,"' not found"));return Se[nt]},MIN_KEY:-1/0,MAX_KEY:Ss(C),schema:$e}}function kc(v,N){N=function rc(v,C,S,N){return{dbcore:(N=_o(C,S.IDBKeyRange,N),v.dbcore.reduce(function(H,ee){return ee=ee.create,O(O({},H),ee(H))},N))}}(v._middlewares,N.db,v._deps,N),v.core=N.dbcore,v.tables.forEach(function(V){var H=V.name;v.core.schema.tables.some(function(ee){return ee.name===H})&&(V.core=v.core.table(H),v[H]instanceof v.Table&&(v[H].core=V.core))})}function vl(v,C,S,N){S.forEach(function(V){var H=N[V];C.forEach(function(ee){var ye=function $e(Pe,tt){return Ne(Pe,tt)||(Pe=l(Pe))&&$e(Pe,tt)}(ee,V);(!ye||"value"in ye&&void 0===ye.value)&&(ee===v.Transaction.prototype||ee instanceof v.Transaction?Y(ee,V,{get:function(){return this.table(V)},set:function($e){Ue(this,V,{value:$e,writable:!0,configurable:!0,enumerable:!0})}}):ee[V]=new v.Table(V,H))})})}function Pc(v,C){C.forEach(function(S){for(var N in S)S[N]instanceof v.Table&&delete S[N]})}function wu(v,C){return v._cfg.version-C._cfg.version}function Qt(v,C){var S,N={del:[],add:[],change:[]};for(S in v)C[S]||N.del.push(S);for(S in C){var V=v[S],H=C[S];if(V){var ee={name:S,def:H,recreate:!1,del:[],add:[],change:[]};if(""+(V.primKey.keyPath||"")!=""+(H.primKey.keyPath||"")||V.primKey.auto!==H.primKey.auto)ee.recreate=!0,N.change.push(ee);else{var ye=V.idxByName,$e=H.idxByName,Pe=void 0;for(Pe in ye)$e[Pe]||ee.del.push(Pe);for(Pe in $e){var tt=ye[Pe],Se=$e[Pe];tt?tt.src!==Se.src&&ee.change.push(Se):ee.add.push(Se)}(0<ee.del.length||0<ee.add.length||0<ee.change.length)&&N.change.push(ee)}}else N.add.push([S,H])}return N}function oa(v,C,S,N){var V=v.db.createObjectStore(C,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return N.forEach(function(H){return Nc(V,H)}),V}function Ra(v,C){me(v).forEach(function(S){C.db.objectStoreNames.contains(S)||(Ht&&console.debug("Dexie: Creating missing table",S),oa(C,S,v[S].primKey,v[S].indexes))})}function Nc(v,C){v.createIndex(C.name,C.keyPath,{unique:C.unique,multiEntry:C.multi})}function Iu(v,C,S){var N={};return ze(C.objectStoreNames,0).forEach(function(V){for(var H=S.objectStore(V),ee=qr(Xr(Pe=H.keyPath),Pe||"",!0,!1,!!H.autoIncrement,Pe&&"string"!=typeof Pe,!0),ye=[],$e=0;$e<H.indexNames.length;++$e){var Pe=(tt=H.index(H.indexNames[$e])).keyPath,tt=qr(tt.name,Pe,!!tt.unique,!!tt.multiEntry,!1,Pe&&"string"!=typeof Pe,!1);ye.push(tt)}N[V]=xo(V,ee,ye)}),N}function Cu(v,C,S){for(var N=S.db.objectStoreNames,V=0;V<N.length;++V){var H=N[V],ee=S.objectStore(H);v._hasGetAll="getAll"in ee;for(var ye=0;ye<ee.indexNames.length;++ye){var $e=ee.indexNames[ye],Pe=ee.index($e).keyPath,tt="string"==typeof Pe?Pe:"["+ze(Pe).join("+")+"]";!C[H]||(Pe=C[H].idxByName[tt])&&(Pe.name=$e,delete C[H].idxByName[tt],C[H].idxByName[$e]=Pe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&re.WorkerGlobalScope&&re instanceof re.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function yl(v){return v.split(",").map(function(C,S){var N=(C=C.trim()).replace(/([&*]|\+\+)/g,""),V=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return qr(N,V||null,/\&/.test(C),/\*/.test(C),/\+\+/.test(C),ae(V),0===S)})}var xs=(ni.prototype._parseStoresSpec=function(v,C){me(v).forEach(function(S){if(null!==v[S]){var N=yl(v[S]),V=N.shift();if(V.unique=!0,V.multi)throw new X.Schema("Primary key cannot be multi-valued");N.forEach(function(H){if(H.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!H.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")}),C[S]=xo(S,V,N)}})},ni.prototype.stores=function(S){var C=this.db;this._cfg.storesSource=this._cfg.storesSource?x(this._cfg.storesSource,S):S;var N={},V={};return(S=C._versions).forEach(function(H){x(N,H._cfg.storesSource),V=H._cfg.dbschema={},H._parseStoresSpec(N,V)}),C._dbSchema=V,Pc(C,[C._allTables,C,C.Transaction.prototype]),vl(C,[C._allTables,C,C.Transaction.prototype,this._cfg.tables],me(V),V),C._storeNames=me(V),this},ni.prototype.upgrade=function(v){return this._cfg.contentUpgrade=cn(this._cfg.contentUpgrade||ce,v),this},ni);function ni(){}function Oa(v,C){var S=v._dbNamesDB;return S||(S=v._dbNamesDB=new aa(bi,{addons:[],indexedDB:v,IDBKeyRange:C})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function sa(v){return v&&"function"==typeof v.databases}function Du(v){return Wn(function(){return jt.letThrough=!0,v()})}function bl(v){return!("from"in v)}var wr=function(v,C){if(!this){var S=new wr;return v&&"d"in v&&x(S,v),S}x(this,arguments.length?{d:1,from:v,to:1<arguments.length?C:v}:{d:0})};function Tu(v,C,S){var N=Hn(C,S);if(!isNaN(N)){if(0<N)throw RangeError();if(bl(v))return x(v,{from:C,to:S,d:1});var V=v.l;if(N=v.r,Hn(S,v.from)<0)return V?Tu(V,C,S):v.l={from:C,to:S,d:1,l:null,r:null},ar(v);if(0<Hn(C,v.to))return N?Tu(N,C,S):v.r={from:C,to:S,d:1,l:null,r:null},ar(v);Hn(C,v.from)<0&&(v.from=C,v.l=null,v.d=N?N.d+1:1),0<Hn(S,v.to)&&(v.to=S,v.r=null,v.d=v.l?v.l.d+1:1),S=!v.r,V&&!v.l&&Sr(v,V),N&&S&&Sr(v,N)}}function Sr(v,C){bl(C)||function S(N,$e){var H=$e.from,ee=$e.to,ye=$e.l;$e=$e.r,Tu(N,H,ee),ye&&S(N,ye),$e&&S(N,$e)}(v,C)}function Fd(v,C){var S=Ld(C),N=S.next();if(N.done)return!1;for(var V=N.value,H=Ld(v),ee=H.next(V.from),ye=ee.value;!N.done&&!ee.done;){if(Hn(ye.from,V.to)<=0&&0<=Hn(ye.to,V.from))return!0;Hn(V.from,ye.from)<0?V=(N=S.next(ye.from)).value:ye=(ee=H.next(V.from)).value}return!1}function Ld(v){var C=bl(v)?null:{s:0,n:v};return{next:function(S){for(var N=0<arguments.length;C;)switch(C.s){case 0:if(C.s=1,N)for(;C.n.l&&Hn(S,C.n.from)<0;)C={up:C,n:C.n.l,s:1};else for(;C.n.l;)C={up:C,n:C.n.l,s:1};case 1:if(C.s=2,!N||Hn(S,C.n.to)<=0)return{value:C.n,done:!1};case 2:if(C.n.r){C.s=3,C={up:C,n:C.n.r,s:0};continue}case 3:C=C.up}return{done:!0}}}}function ar(v){var C,S,N=((null===(C=v.r)||void 0===C?void 0:C.d)||0)-((null===(S=v.l)||void 0===S?void 0:S.d)||0),V=1<N?"r":N<-1?"l":"";V&&(C="r"==V?"l":"r",S=O({},v),v.from=(N=v[V]).from,v.to=N.to,v[V]=N[V],S[V]=N[C],(v[C]=S).d=Uf(S)),v.d=Uf(v)}function Uf(S){var C=S.r;return S=S.l,(C?S?Math.max(C.d,S.d):C.d:S?S.d:0)+1}function Wr(v,C){return me(C).forEach(function(S){v[S]?Sr(v[S],C[S]):v[S]=function N(V){var H,ee,ye={};for(H in V)ut(V,H)&&(ye[H]=!(ee=V[H])||"object"!=typeof ee||st.has(ee.constructor)?ee:N(ee));return ye}(C[S])}),v}function El(v,C){return v.all||C.all||Object.keys(v).some(function(S){return C[S]&&Fd(C[S],v[S])})}Be(wr.prototype,((ao={add:function(v){return Sr(this,v),this},addKey:function(v){return Tu(this,v,v),this},addKeys:function(v){var C=this;return v.forEach(function(S){return Tu(C,S,S)}),this},hasKey:function(v){var C=Ld(this).next(v).value;return C&&Hn(C.from,v)<=0&&0<=Hn(C.to,v)}})[mt]=function(){return Ld(this)},ao));var Fc={},Vd={},Lc=!1;function bn(v){Wr(Vd,v),Lc||(Lc=!0,setTimeout(function(){Lc=!1,Vc(Vd,!(Vd={}))},0))}function Vc(v,C){void 0===C&&(C=!1);var S=new Set;if(v.all)for(var N=0,V=Object.values(Fc);N<V.length;N++)vo(ee=V[N],v,S,C);else for(var H in v){var ee,ye=/^idb\:\/\/(.*)\/(.*)\//.exec(H);ye&&(H=ye[1],ye=ye[2],(ee=Fc["idb://".concat(H,"/").concat(ye)])&&vo(ee,v,S,C))}S.forEach(function($e){return $e()})}function vo(v,C,S,N){for(var V=[],H=0,ee=Object.entries(v.queries.query);H<ee.length;H++){for(var ye=ee[H],$e=ye[0],Pe=[],tt=0,Se=ye[1];tt<Se.length;tt++){var nt=Se[tt];El(C,nt.obsSet)?nt.subscribers.forEach(function(He){return S.add(He)}):N&&Pe.push(nt)}N&&V.push([$e,Pe])}if(N)for(var Le=0,Xe=V;Le<Xe.length;Le++){var Ye=Xe[Le];v.queries.query[$e=Ye[0]]=Pe=Ye[1]}}function vg(v){var C=v._state,S=v._deps.indexedDB;if(C.isBeingOpened||v.idbdb)return C.dbReadyPromise.then(function(){return C.dbOpenError?_n(C.dbOpenError):v});C.isBeingOpened=!0,C.dbOpenError=null,C.openComplete=!1;var N=C.openCanceller,V=Math.round(10*v.verno),H=!1;function ee(){if(C.openCanceller!==N)throw new X.DatabaseClosed("db.open() was cancelled")}var $e,Pe=C.dbReadyResolve,tt=null,Se=!1;return kt.race([N,(typeof navigator>"u"?kt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(nt){function Le(){return indexedDB.databases().finally(nt)}$e=setInterval(Le,100),Le()}).finally(function(){return clearInterval($e)}):Promise.resolve()).then(function ye(){return new kt(function(nt,Le){if(ee(),!S)throw new X.MissingAPI;var Xe=v.name,Ye=C.autoSchema||!V?S.open(Xe):S.open(Xe,V);if(!Ye)throw new X.MissingAPI;Ye.onerror=dt(Le),Ye.onblocked=yn(v._fireOnBlocked),Ye.onupgradeneeded=yn(function(He){var ft;tt=Ye.transaction,C.autoSchema&&!v._options.allowEmptyDB?(Ye.onerror=Nt,tt.abort(),Ye.result.close(),(ft=S.deleteDatabase(Xe)).onsuccess=ft.onerror=yn(function(){Le(new X.NoSuchDatabase("Database ".concat(Xe," doesnt exist")))})):(tt.onerror=dt(Le),He=He.oldVersion>Math.pow(2,62)?0:He.oldVersion,Se=He<1,v.idbdb=Ye.result,H&&function Nd(v,C){Ra(v._dbSchema,C),C.db.version%10!=0||C.objectStoreNames.contains("$meta")||C.db.createObjectStore("$meta").add(Math.ceil(C.db.version/10-1),"version");var S=Iu(0,v.idbdb,C);Cu(v,v._dbSchema,C);for(var N=0,V=Qt(S,v._dbSchema).change;N<V.length;N++){var H=function(ee){if(ee.change.length||ee.recreate)return console.warn("Unable to patch indexes of table ".concat(ee.name," because it has changes on the type of index or primary key.")),{value:void 0};var ye=C.objectStore(ee.name);ee.add.forEach(function($e){Ht&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ee.name,".").concat($e.src)),Nc(ye,$e)})}(V[N]);if("object"==typeof H)return H.value}}(v,tt),function Bf(v,C,S,N){var V=v._dbSchema;S.objectStoreNames.contains("$meta")&&!V.$meta&&(V.$meta=xo("$meta",yl("")[0],[]),v._storeNames.push("$meta"));var H=v._createTransaction("readwrite",v._storeNames,V);H.create(S),H._completion.catch(N);var ee=H._reject.bind(H),ye=jt.transless||jt;Wn(function(){return jt.trans=H,jt.transless=ye,0!==C?(kc(v,S),Pe=C,(($e=H).storeNames.includes("$meta")?$e.table("$meta").get("version").then(function(tt){return tt??Pe}):kt.resolve(Pe)).then(function(tt){return nt=tt,Le=H,Ye=[],tt=(Se=v)._versions,He=Se._dbSchema=Iu(0,Se.idbdb,Xe=S),0!==(tt=tt.filter(function(ft){return ft._cfg.version>=nt})).length?(tt.forEach(function(ft){Ye.push(function(){var qe=He,rt=ft._cfg.dbschema;Cu(Se,qe,Xe),Cu(Se,rt,Xe),He=Se._dbSchema=rt;var wt=Qt(qe,rt);wt.add.forEach(function(qt){oa(Xe,qt[0],qt[1].primKey,qt[1].indexes)}),wt.change.forEach(function(qt){if(qt.recreate)throw new X.Upgrade("Not yet support for changing primary key");var yt=Xe.objectStore(qt.name);qt.add.forEach(function(Sn){return Nc(yt,Sn)}),qt.change.forEach(function(Sn){yt.deleteIndex(Sn.name),Nc(yt,Sn)}),qt.del.forEach(function(Sn){return yt.deleteIndex(Sn)})});var Ft=ft._cfg.contentUpgrade;if(Ft&&ft._cfg.version>nt){kc(Se,Xe),Le._memoizedTables={};var xt=Ae(rt);wt.del.forEach(function(qt){xt[qt]=qe[qt]}),Pc(Se,[Se.Transaction.prototype]),vl(Se,[Se.Transaction.prototype],me(xt),xt),Le.schema=xt;var Vt,Kt=pn(Ft);return Kt&&$o(),wt=kt.follow(function(){var qt;(Vt=Ft(Le))&&Kt&&(qt=Oi.bind(null,null),Vt.then(qt,qt))}),Vt&&"function"==typeof Vt.then?kt.resolve(Vt):wt.then(function(){return Vt})}}),Ye.push(function(qe){var rt,wt;rt=ft._cfg.dbschema,[].slice.call((wt=qe).db.objectStoreNames).forEach(function(xt){return null==rt[xt]&&wt.db.deleteObjectStore(xt)}),Pc(Se,[Se.Transaction.prototype]),vl(Se,[Se.Transaction.prototype],Se._storeNames,Se._dbSchema),Le.schema=Se._dbSchema}),Ye.push(function(qe){Se.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Se.idbdb.version/10)===ft._cfg.version?(Se.idbdb.deleteObjectStore("$meta"),delete Se._dbSchema.$meta,Se._storeNames=Se._storeNames.filter(function(rt){return"$meta"!==rt})):qe.objectStore("$meta").put(ft._cfg.version,"version"))})}),function ft(){return Ye.length?kt.resolve(Ye.shift()(Le.idbtrans)).then(ft):kt.resolve()}().then(function(){Ra(He,Xe)})):kt.resolve();var Se,nt,Le,Xe,Ye,He}).catch(ee)):(me(V).forEach(function(tt){oa(S,tt,V[tt].primKey,V[tt].indexes)}),kc(v,S),void kt.follow(function(){return v.on.populate.fire(H)}).catch(ee));var $e,Pe})}(v,He/10,tt,Le))},Le),Ye.onsuccess=yn(function(){tt=null;var He,ft,qe,rt,wt,Ft=v.idbdb=Ye.result,xt=ze(Ft.objectStoreNames);if(0<xt.length)try{var Vt=Ft.transaction(1===(rt=xt).length?rt[0]:rt,"readonly");if(C.autoSchema)qe=Vt,(He=v).verno=(ft=Ft).version/10,qe=He._dbSchema=Iu(0,ft,qe),He._storeNames=ze(ft.objectStoreNames,0),vl(He,[He._allTables],me(qe),qe);else if(Cu(v,v._dbSchema,Vt),((wt=Qt(Iu(0,(wt=v).idbdb,Vt),wt._dbSchema)).add.length||wt.change.some(function(Kt){return Kt.add.length||Kt.change.length}))&&!H)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ft.close(),V=Ft.version+1,H=!0,nt(ye());kc(v,Vt)}catch{}Ts.push(v),Ft.onversionchange=yn(function(Kt){C.vcFired=!0,v.on("versionchange").fire(Kt)}),Ft.onclose=yn(function(Kt){v.on("close").fire(Kt)}),Se&&(Vt=Xe,Ft=(wt=v._deps).indexedDB,wt=wt.IDBKeyRange,sa(Ft)||Vt===bi||Oa(Ft,wt).put({name:Vt}).catch(ce)),nt()},Le)}).catch(function(nt){switch(nt?.name){case"UnknownError":if(0<C.PR1398_maxLoop)return C.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ye();break;case"VersionError":if(0<V)return V=0,ye()}return kt.reject(nt)})})]).then(function(){return ee(),C.onReadyBeingFired=[],kt.resolve(Du(function(){return v.on.ready.fire(v.vip)})).then(function nt(){if(0<C.onReadyBeingFired.length){var Le=C.onReadyBeingFired.reduce(cn,ce);return C.onReadyBeingFired=[],kt.resolve(Du(function(){return Le(v.vip)})).then(nt)}})}).finally(function(){C.openCanceller===N&&(C.onReadyBeingFired=null,C.isBeingOpened=!1)}).catch(function(nt){C.dbOpenError=nt;try{tt&&tt.abort()}catch{}return N===C.openCanceller&&v._close(),_n(nt)}).finally(function(){C.openComplete=!0,Pe()}).then(function(){var nt;return Se&&(nt={},v.tables.forEach(function(Le){Le.schema.indexes.forEach(function(Xe){Xe.name&&(nt["idb://".concat(v.name,"/").concat(Le.name,"/").concat(Xe.name)]=new wr(-1/0,[[[]]]))}),nt["idb://".concat(v.name,"/").concat(Le.name,"/")]=nt["idb://".concat(v.name,"/").concat(Le.name,"/:dels")]=new wr(-1/0,[[[]]])}),Yn(Dn).fire(nt),Vc(nt,!0)),v})}function Bd(v){function C(H){return v.next(H)}var S=V(C),N=V(function(H){return v.throw(H)});function V(H){return function($e){var ye=H($e);return $e=ye.value,ye.done?$e:$e&&"function"==typeof $e.then?$e.then(S,N):ae($e)?Promise.all($e).then(S,N):S($e)}}return V(C)()}function Ud(v,C,S){for(var N=ae(v)?v.slice():[v],V=0;V<S;++V)N.push(C);return N}var ka={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return O(O({},v),{table:function(C){var S=v.table(C),N=S.schema,V={},H=[];function ee(Se,nt,Le){var Xe=ia(Se),Ye=V[Xe]=V[Xe]||[],He=null==Se?0:"string"==typeof Se?1:Se.length,ft=0<nt;return ft=O(O({},Le),{name:ft?"".concat(Xe,"(virtual-from:").concat(Le.name,")"):Le.name,lowLevelIndex:Le,isVirtual:ft,keyTail:nt,keyLength:He,extractKey:go(Se),unique:!ft&&Le.unique}),Ye.push(ft),ft.isPrimaryKey||H.push(ft),1<He&&ee(2===He?Se[0]:Se.slice(0,He-1),nt+1,Le),Ye.sort(function(qe,rt){return qe.keyTail-rt.keyTail}),ft}C=ee(N.primaryKey.keyPath,0,N.primaryKey),V[":id"]=[C];for(var ye=0,$e=N.indexes;ye<$e.length;ye++){var Pe=$e[ye];ee(Pe.keyPath,0,Pe)}function tt(Se){var nt,Le=Se.query.index;return Le.isVirtual?O(O({},Se),{query:{index:Le.lowLevelIndex,range:(nt=Se.query.range,Le=Le.keyTail,{type:1===nt.type?2:nt.type,lower:Ud(nt.lower,nt.lowerOpen?v.MAX_KEY:v.MIN_KEY,Le),lowerOpen:!0,upper:Ud(nt.upper,nt.upperOpen?v.MIN_KEY:v.MAX_KEY,Le),upperOpen:!0})}}):Se}return O(O({},S),{schema:O(O({},N),{primaryKey:C,indexes:H,getIndexByKeyPath:function(Se){return(Se=V[ia(Se)])&&Se[0]}}),count:function(Se){return S.count(tt(Se))},query:function(Se){return S.query(tt(Se))},openCursor:function(Se){var nt=Se.query.index,Le=nt.keyTail,Ye=nt.keyLength;return nt.isVirtual?S.openCursor(tt(Se)).then(function(ft){return ft&&function He(ft){return Object.create(ft,{continue:{value:function(qe){null!=qe?ft.continue(Ud(qe,Se.reverse?v.MAX_KEY:v.MIN_KEY,Le)):Se.unique?ft.continue(ft.key.slice(0,Ye).concat(Se.reverse?v.MIN_KEY:v.MAX_KEY,Le)):ft.continue()}},continuePrimaryKey:{value:function(qe,rt){ft.continuePrimaryKey(Ud(qe,v.MAX_KEY,Le),rt)}},primaryKey:{get:function(){return ft.primaryKey}},key:{get:function(){var qe=ft.key;return 1===Ye?qe[0]:qe.slice(0,Ye)}},value:{get:function(){return ft.value}}})}(ft)}):S.openCursor(Se)}})}})}};function Au(v,C,S,N){return S=S||{},N=N||"",me(v).forEach(function(V){var H,ee,ye;ut(C,V)?(ee=C[V],"object"==typeof(H=v[V])&&"object"==typeof ee&&H&&ee?(ye=Q(H))!==Q(ee)?S[N+V]=C[V]:"Object"===ye?Au(H,ee,S,N+V+"."):H!==ee&&(S[N+V]=C[V]):H!==ee&&(S[N+V]=C[V])):S[N+V]=void 0}),me(C).forEach(function(V){ut(v,V)||(S[N+V]=C[V])}),S}function Su(v,C){return"delete"===C.type?C.keys:C.keys||C.values.map(v.extractKey)}var tT={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return O(O({},v),{table:function(C){var S=v.table(C),N=S.schema.primaryKey;return O(O({},S),{mutate:function(V){var H=jt.trans,ee=H.table(C).hook,ye=ee.deleting,$e=ee.creating,Pe=ee.updating;switch(V.type){case"add":if($e.fire===ce)break;return H._promise("readwrite",function(){return tt(V)},!0);case"put":if($e.fire===ce&&Pe.fire===ce)break;return H._promise("readwrite",function(){return tt(V)},!0);case"delete":if(ye.fire===ce)break;return H._promise("readwrite",function(){return tt(V)},!0);case"deleteRange":if(ye.fire===ce)break;return H._promise("readwrite",function(){return function Se(nt,Le,Xe){return S.query({trans:nt,values:!1,query:{index:N,range:Le},limit:Xe}).then(function(Ye){var He=Ye.result;return tt({type:"delete",keys:He,trans:nt}).then(function(ft){return 0<ft.numFailures?Promise.reject(ft.failures[0]):He.length<Xe?{failures:[],numFailures:0,lastResult:void 0}:Se(nt,O(O({},Le),{lower:He[He.length-1],lowerOpen:!0}),Xe)})})}(V.trans,V.range,1e4)},!0)}return S.mutate(V);function tt(Se){var nt,Le,Xe,Ye=jt.trans,He=Se.keys||Su(N,Se);if(!He)throw new Error("Keys missing");return"delete"!==(Se="add"===Se.type||"put"===Se.type?O(O({},Se),{keys:He}):O({},Se)).type&&(Se.values=J([],Se.values,!0)),Se.keys&&(Se.keys=J([],Se.keys,!0)),nt=S,Xe=He,("add"===(Le=Se).type?Promise.resolve([]):nt.getMany({trans:Le.trans,keys:Xe,cache:"immutable"})).then(function(ft){var qe=He.map(function(rt,wt){var Ft,xt,Vt,Kt=ft[wt],qt={onerror:null,onsuccess:null};return"delete"===Se.type?ye.fire.call(qt,rt,Kt,Ye):"add"===Se.type||void 0===Kt?(Ft=$e.fire.call(qt,rt,Se.values[wt],Ye),null==rt&&null!=Ft&&(Se.keys[wt]=rt=Ft,N.outbound||xe(Se.values[wt],N.keyPath,rt))):(Ft=Au(Kt,Se.values[wt]),(xt=Pe.fire.call(qt,Ft,rt,Kt,Ye))&&(Vt=Se.values[wt],Object.keys(xt).forEach(function(yt){ut(Vt,yt)?Vt[yt]=xt[yt]:xe(Vt,yt,xt[yt])}))),qt});return S.mutate(Se).then(function(rt){for(var wt=rt.failures,Ft=rt.results,xt=rt.numFailures,Vt=(rt=rt.lastResult,0);Vt<He.length;++Vt){var Kt=(Ft||He)[Vt],qt=qe[Vt];null==Kt?qt.onerror&&qt.onerror(wt[Vt]):qt.onsuccess&&qt.onsuccess("put"===Se.type&&ft[Vt]?Se.values[Vt]:Kt)}return{failures:wt,results:Ft,numFailures:xt,lastResult:rt}}).catch(function(rt){return qe.forEach(function(wt){return wt.onerror&&wt.onerror(rt)}),Promise.reject(rt)})})}}})}})}};function Qb(v,C,S){try{if(!C||C.keys.length<v.length)return null;for(var N=[],V=0,H=0;V<C.keys.length&&H<v.length;++V)0===Hn(C.keys[V],v[H])&&(N.push(S?_e(C.values[V]):C.values[V]),++H);return N.length===v.length?N:null}catch{return null}}var Ho={stack:"dbcore",level:-1,create:function(v){return{table:function(C){var S=v.table(C);return O(O({},S),{getMany:function(N){if(!N.cache)return S.getMany(N);var V=Qb(N.keys,N.trans._cache,"clone"===N.cache);return V?kt.resolve(V):S.getMany(N).then(function(H){return N.trans._cache={keys:N.keys,values:"clone"===N.cache?_e(H):H},H})},mutate:function(N){return"add"!==N.type&&(N.trans._cache=null),S.mutate(N)}})}}}};function jf(v,C){return"readonly"===v.trans.mode&&!!v.subscr&&!v.trans.explicit&&"disabled"!==v.trans.db._options.cache&&!C.schema.primaryKey.outbound}function $f(v,C){switch(v){case"query":return C.values&&!C.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var jd={stack:"dbcore",level:0,name:"Observability",create:function(v){var C=v.schema.name,S=new wr(v.MIN_KEY,v.MAX_KEY);return O(O({},v),{transaction:function(N,V,H){if(jt.subscr&&"readonly"!==V)throw new X.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(jt.querier));return v.transaction(N,V,H)},table:function(N){var V=v.table(N),H=V.schema,ee=H.primaryKey,Se=H.indexes,ye=ee.extractKey,$e=ee.outbound,Pe=ee.autoIncrement&&Se.filter(function(Le){return Le.compound&&Le.keyPath.includes(ee.keyPath)}),tt=O(O({},V),{mutate:function(Le){function Xe(yt){return yt="idb://".concat(C,"/").concat(N,"/").concat(yt),rt[yt]||(rt[yt]=new wr)}var Ye,He,ft,qe=Le.trans,rt=Le.mutatedParts||(Le.mutatedParts={}),wt=Xe(""),Ft=Xe(":dels"),xt=Le.type,Vt=(qt="deleteRange"===Le.type?[Le.range]:"delete"===Le.type?[Le.keys]:Le.values.length<50?[Su(ee,Le).filter(function(yt){return yt}),Le.values]:[])[0],Kt=qt[1],qt=Le.trans._cache;return ae(Vt)?(wt.addKeys(Vt),(qt="delete"===xt||Vt.length===Kt.length?Qb(Vt,qt):null)||Ft.addKeys(Vt),(qt||Kt)&&(Ye=Xe,He=qt,ft=Kt,H.indexes.forEach(function(yt){var Sn=Ye(yt.name||"");function kn(Ln){return null!=Ln?yt.extractKey(Ln):null}function wn(Ln){return yt.multiEntry&&ae(Ln)?Ln.forEach(function(la){return Sn.addKey(la)}):Sn.addKey(Ln)}(He||ft).forEach(function(Ln,fi){var Bn=He&&kn(He[fi]);0!==Hn(Bn,fi=ft&&kn(ft[fi]))&&(null!=Bn&&wn(Bn),null!=fi&&wn(fi))})}))):Vt?(Ft.add(Kt={from:Vt.lower,to:Vt.upper}),wt.add(Kt)):(wt.add(S),Ft.add(S),H.indexes.forEach(function(yt){return Xe(yt.name).add(S)})),V.mutate(Le).then(function(yt){return!Vt||"add"!==Le.type&&"put"!==Le.type||(wt.addKeys(yt.results),Pe&&Pe.forEach(function(Sn){var kn=Le.values.map(function(Ln){return Sn.extractKey(Ln)}),wn=Sn.keyPath.findIndex(function(Ln){return Ln===ee.keyPath});yt.results.forEach(function(Ln){return kn[wn]=Ln}),Xe(Sn.name).addKeys(kn)})),qe.mutatedParts=Wr(qe.mutatedParts||{},rt),yt})}}),nt={get:function(Le){return[ee,new wr(Le.key)]},getMany:function(Le){return[ee,(new wr).addKeys(Le.keys)]},count:Se=function(Xe){var Ye;return[Xe=(Ye=Xe.query).index,new wr(null!==(Xe=(Ye=Ye.range).lower)&&void 0!==Xe?Xe:v.MIN_KEY,null!==(Ye=Ye.upper)&&void 0!==Ye?Ye:v.MAX_KEY)]},query:Se,openCursor:Se};return me(nt).forEach(function(Le){tt[Le]=function(Xe){var He=!!(Ye=jt.subscr),ft=jf(jt,V)&&$f(Le,Xe)?Xe.obsSet={}:Ye;if(He){var qe=function(Kt){return Kt="idb://".concat(C,"/").concat(N,"/").concat(Kt),ft[Kt]||(ft[Kt]=new wr)},rt=qe(""),wt=qe(":dels"),Ye=(He=(Ye=nt[Le](Xe))[0],Ye[1]);if(("query"===Le&&He.isPrimaryKey&&!Xe.values?wt:qe(He.name||"")).add(Ye),!He.isPrimaryKey){if("count"!==Le){var Ft="query"===Le&&$e&&Xe.values&&V.query(O(O({},Xe),{values:!1}));return V[Le].apply(this,arguments).then(function(Kt){if("query"===Le){if($e&&Xe.values)return Ft.then(function(kn){return rt.addKeys(kn=kn.result),Kt});var qt=Xe.values?Kt.result.map(ye):Kt.result;(Xe.values?rt:wt).addKeys(qt)}else if("openCursor"===Le){var yt=Kt,Sn=Xe.values;return yt&&Object.create(yt,{key:{get:function(){return wt.addKey(yt.primaryKey),yt.key}},primaryKey:{get:function(){var kn=yt.primaryKey;return wt.addKey(kn),kn}},value:{get:function(){return Sn&&rt.addKey(yt.primaryKey),yt.value}}})}return Kt})}wt.add(S)}}return V[Le].apply(this,arguments)}}),tt}})}};function oo(v,C,S){return 0===S.numFailures?C:"deleteRange"===C.type||S.numFailures===(C.keys?C.keys.length:"values"in C&&C.values?C.values.length:1)?null:(C=O({},C),ae(C.keys)&&(C.keys=C.keys.filter(function(V,H){return!(H in S.failures)})),"values"in C&&ae(C.values)&&(C.values=C.values.filter(function(V,H){return!(H in S.failures)})),C)}function En(v,C){return S=v,(void 0===(N=C).lower||(N.lowerOpen?0<Hn(S,N.lower):0<=Hn(S,N.lower)))&&(void 0===C.upper||(C.upperOpen?Hn(v,C.upper)<0:Hn(v,C.upper)<=0));var S,N}function yg(v,C,nt,N,V,H){if(!nt||0===nt.length)return v;var ee=C.query.index,ye=ee.multiEntry,$e=C.query.range,Pe=N.schema.primaryKey.extractKey,tt=ee.extractKey,Se=(ee.lowLevelIndex||ee).extractKey;return(nt=nt.reduce(function(Le,Xe){var Ye=Le,He=[];if("add"===Xe.type||"put"===Xe.type)for(var ft=new wr,qe=Xe.values.length-1;0<=qe;--qe){var rt,wt=Xe.values[qe],Ft=Pe(wt);ft.hasKey(Ft)||(rt=tt(wt),(ye&&ae(rt)?rt.some(function(qt){return En(qt,$e)}):En(rt,$e))&&(ft.addKey(Ft),He.push(wt)))}switch(Xe.type){case"add":Ye=Le.concat(C.values?He:He.map(function(yt){return Pe(yt)}));break;case"put":var xt=(new wr).addKeys(Xe.values.map(function(yt){return Pe(yt)}));Ye=Le.filter(function(yt){return!xt.hasKey(C.values?Pe(yt):yt)}).concat(C.values?He:He.map(function(yt){return Pe(yt)}));break;case"delete":var Vt=(new wr).addKeys(Xe.keys);Ye=Le.filter(function(yt){return!Vt.hasKey(C.values?Pe(yt):yt)});break;case"deleteRange":var Kt=Xe.range;Ye=Le.filter(function(yt){return!En(Pe(yt),Kt)})}return Ye},v))===v?v:(nt.sort(function(Le,Xe){return Hn(Se(Le),Se(Xe))||Hn(Pe(Le),Pe(Xe))}),C.limit&&C.limit<1/0&&(nt.length>C.limit?nt.length=C.limit:v.length===C.limit&&nt.length<C.limit&&(V.dirty=!0)),H?Object.freeze(nt):nt)}function bg(v,C){return 0===Hn(v.lower,C.lower)&&0===Hn(v.upper,C.upper)&&!!v.lowerOpen==!!C.lowerOpen&&!!v.upperOpen==!!C.upperOpen}var $d={stack:"dbcore",level:0,name:"Cache",create:function(v){var C=v.schema.name;return O(O({},v),{transaction:function(S,N,V){var H,ee,ye=v.transaction(S,N,V);return"readwrite"===N&&(ee=(H=new AbortController).signal,ye.addEventListener("abort",(V=function($e){return function(){if(H.abort(),"readwrite"===N){for(var Pe=new Set,tt=0,Se=S;tt<Se.length;tt++){var nt=Se[tt],Le=Fc["idb://".concat(C,"/").concat(nt)];if(Le){var Xe=v.table(nt),Ye=Le.optimisticOps.filter(function(Sn){return Sn.trans===ye});if(ye._explicit&&$e&&ye.mutatedParts)for(var He=0,ft=Object.values(Le.queries.query);He<ft.length;He++)for(var qe=0,rt=(xt=ft[He]).slice();qe<rt.length;qe++)El((Vt=rt[qe]).obsSet,ye.mutatedParts)&&(At(xt,Vt),Vt.subscribers.forEach(function(Sn){return Pe.add(Sn)}));else if(0<Ye.length){Le.optimisticOps=Le.optimisticOps.filter(function(Sn){return Sn.trans!==ye});for(var wt=0,Ft=Object.values(Le.queries.query);wt<Ft.length;wt++)for(var xt,Vt,Kt,qt=0,yt=(xt=Ft[wt]).slice();qt<yt.length;qt++)null!=(Vt=yt[qt]).res&&ye.mutatedParts&&($e&&!Vt.dirty?(Kt=Object.isFrozen(Vt.res),Kt=yg(Vt.res,Vt.req,Ye,Xe,Vt,Kt),Vt.dirty?(At(xt,Vt),Vt.subscribers.forEach(function(Sn){return Pe.add(Sn)})):Kt!==Vt.res&&(Vt.res=Kt,Vt.promise=kt.resolve({result:Kt}))):(Vt.dirty&&At(xt,Vt),Vt.subscribers.forEach(function(Sn){return Pe.add(Sn)})))}}}Pe.forEach(function(Sn){return Sn()})}}})(!1),{signal:ee}),ye.addEventListener("error",V(!1),{signal:ee}),ye.addEventListener("complete",V(!0),{signal:ee})),ye},table:function(S){var N=v.table(S),V=N.schema.primaryKey;return O(O({},N),{mutate:function(H){var ee=jt.trans;if(V.outbound||"disabled"===ee.db._options.cache||ee.explicit)return N.mutate(H);var ye=Fc["idb://".concat(C,"/").concat(S)];return ye?(ee=N.mutate(H),"add"!==H.type&&"put"!==H.type||!(50<=H.values.length||Su(V,H).some(function($e){return null==$e}))?(ye.optimisticOps.push(H),H.mutatedParts&&bn(H.mutatedParts),ee.then(function($e){0<$e.numFailures&&(At(ye.optimisticOps,H),($e=oo(0,H,$e))&&ye.optimisticOps.push($e),H.mutatedParts&&bn(H.mutatedParts))}),ee.catch(function(){At(ye.optimisticOps,H),H.mutatedParts&&bn(H.mutatedParts)})):ee.then(function($e){var Pe=oo(0,O(O({},H),{values:H.values.map(function(Le,Se){var nt;return xe(Le=null!==(nt=V.keyPath)&&void 0!==nt&&nt.includes(".")?_e(Le):O({},Le),V.keyPath,$e.results[Se]),Le})}),$e);ye.optimisticOps.push(Pe),queueMicrotask(function(){return H.mutatedParts&&bn(H.mutatedParts)})}),ee):N.mutate(H)},query:function(H){if(!jf(jt,N)||!$f("query",H))return N.query(H);var ee="immutable"===(null===(Pe=jt.trans)||void 0===Pe?void 0:Pe.db._options.cache),ye=(Se=jt).requery,$e=Se.signal,Pe=function(Xe,Ye,He,ft){var qe=Fc["idb://".concat(Xe,"/").concat(Ye)];if(!qe)return[];if(!(Ye=qe.queries.query))return[null,!1,qe,null];var rt=Ye[(ft.query?ft.query.index.name:null)||""];if(!rt)return[null,!1,qe,null];var wt=rt.find(function(Ft){return Ft.req.limit===ft.limit&&Ft.req.values===ft.values&&bg(Ft.req.query.range,ft.query.range)});return wt?[wt,!0,qe,rt]:[rt.find(function(Ft){return("limit"in Ft.req?Ft.req.limit:1/0)>=ft.limit&&(!ft.values||Ft.req.values)&&function so(v,C){return function(S,N,V,H){if(void 0===S)return void 0!==N?-1:0;if(void 0===N)return 1;if(0===(N=Hn(S,N))){if(V&&H)return 0;if(V)return 1;if(H)return-1}return N}(v.lower,C.lower,v.lowerOpen,C.lowerOpen)<=0&&0<=function(S,N,V,H){if(void 0===S)return void 0!==N?1:0;if(void 0===N)return-1;if(0===(N=Hn(S,N))){if(V&&H)return 0;if(V)return-1;if(H)return 1}return N}(v.upper,C.upper,v.upperOpen,C.upperOpen)}(Ft.req.query.range,ft.query.range)}),!1,qe,rt]}(C,S,0,H),tt=Pe[0],Se=Pe[1],nt=Pe[2],Le=Pe[3];return tt&&Se?tt.obsSet=H.obsSet:(Se=N.query(H).then(function(Xe){var Ye=Xe.result;if(tt&&(tt.res=Ye),ee){for(var He=0,ft=Ye.length;He<ft;++He)Object.freeze(Ye[He]);Object.freeze(Ye)}else Xe.result=_e(Ye);return Xe}).catch(function(Xe){return Le&&tt&&At(Le,tt),Promise.reject(Xe)}),tt={obsSet:H.obsSet,promise:Se,subscribers:new Set,type:"query",req:H,dirty:!1},Le?Le.push(tt):(Le=[tt],(nt=nt||(Fc["idb://".concat(C,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[H.query.index.name||""]=Le)),function ic(v,C,S,N){v.subscribers.add(S),N.addEventListener("abort",function(){var V,H;v.subscribers.delete(S),0===v.subscribers.size&&(V=v,H=C,setTimeout(function(){0===V.subscribers.size&&At(H,V)},3e3))})}(tt,Le,ye,$e),tt.promise.then(function(Xe){return{result:yg(Xe.result,H,nt?.optimisticOps,N,tt,ee)}})}})}})}};function Kn(v,C){return new Proxy(v,{get:function(S,N,V){return"db"===N?C:Reflect.get(S,N,V)}})}var aa=(ur.prototype.version=function(v){if(isNaN(v)||v<.1)throw new X.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var C=this._versions,S=C.filter(function(N){return N._cfg.version===v})[0];return S||(S=new this.Version(v),C.push(S),C.sort(wu),S.stores({}),this._state.autoSchema=!1,S)},ur.prototype._whenReady=function(v){var C=this;return this.idbdb&&(this._state.openComplete||jt.letThrough||this._vip)?v():new kt(function(S,N){if(C._state.openComplete)return N(new X.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return void N(new X.DatabaseClosed);C.open().catch(ce)}C._state.dbReadyPromise.then(S,N)}).then(v)},ur.prototype.use=function(v){var C=v.stack,S=v.create,N=v.level,V=v.name;return V&&this.unuse({stack:C,name:V}),(v=this._middlewares[C]||(this._middlewares[C]=[])).push({stack:C,create:S,level:N??10,name:V}),v.sort(function(H,ee){return H.level-ee.level}),this},ur.prototype.unuse=function(v){var C=v.stack,S=v.name,N=v.create;return C&&this._middlewares[C]&&(this._middlewares[C]=this._middlewares[C].filter(function(V){return N?V.create!==N:!!S&&V.name!==S})),this},ur.prototype.open=function(){var v=this;return di(or,function(){return vg(v)})},ur.prototype._close=function(){var v=this._state,C=Ts.indexOf(this);if(0<=C&&Ts.splice(C,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new kt(function(S){v.dbReadyResolve=S}),v.openCanceller=new kt(function(S,N){v.cancelOpen=N}))},ur.prototype.close=function(S){var C=(void 0===S?{disableAutoOpen:!0}:S).disableAutoOpen;S=this._state,C?(S.isBeingOpened&&S.cancelOpen(new X.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new X.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},ur.prototype.delete=function(v){var C=this;void 0===v&&(v={disableAutoOpen:!0});var S=0<arguments.length&&"object"!=typeof arguments[0],N=this._state;return new kt(function(V,H){function ee(){C.close(v);var ye=C._deps.indexedDB.deleteDatabase(C.name);ye.onsuccess=yn(function(){var $e,Pe,tt;Pe=C.name,tt=($e=C._deps).indexedDB,$e=$e.IDBKeyRange,sa(tt)||Pe===bi||Oa(tt,$e).delete(Pe).catch(ce),V()}),ye.onerror=dt(H),ye.onblocked=C._fireOnBlocked}if(S)throw new X.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then(ee):ee()})},ur.prototype.backendDB=function(){return this.idbdb},ur.prototype.isOpen=function(){return null!==this.idbdb},ur.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&"DatabaseClosed"===v.name},ur.prototype.hasFailed=function(){return null!==this._state.dbOpenError},ur.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ur.prototype,"tables",{get:function(){var v=this;return me(this._allTables).map(function(C){return v._allTables[C]})},enumerable:!1,configurable:!0}),ur.prototype.transaction=function(){var v=function(C,S,N){var V=arguments.length;if(V<2)throw new X.InvalidArgument("Too few arguments");for(var H=new Array(V-1);--V;)H[V-1]=arguments[V];return N=H.pop(),[C,Ie(H),N]}.apply(this,arguments);return this._transaction.apply(this,v)},ur.prototype._transaction=function(v,C,S){var N=this,V=jt.trans;V&&V.db===this&&-1===v.indexOf("!")||(V=null);var H,ee,ye=-1!==v.indexOf("?");v=v.replace("!","").replace("?","");try{if(ee=C.map(function(Pe){if("string"!=typeof(Pe=Pe instanceof N.Table?Pe.name:Pe))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Pe}),"r"==v||v===Ja)H=Ja;else{if("rw"!=v&&v!=Ur)throw new X.InvalidArgument("Invalid transaction mode: "+v);H=Ur}if(V){if(V.mode===Ja&&H===Ur){if(!ye)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");V=null}V&&ee.forEach(function(Pe){if(V&&-1===V.storeNames.indexOf(Pe)){if(!ye)throw new X.SubTransaction("Table "+Pe+" not included in parent transaction.");V=null}}),ye&&V&&!V.active&&(V=null)}}catch(Pe){return V?V._promise(null,function(tt,Se){Se(Pe)}):_n(Pe)}var $e=function Pe(tt,Se,nt,Le,Xe){return kt.resolve().then(function(){var Ye=jt.transless||jt,He=tt._createTransaction(Se,nt,tt._dbSchema,Le);if(He.explicit=!0,Ye={trans:He,transless:Ye},Le)He.idbtrans=Le.idbtrans;else try{He.create(),He.idbtrans._explicit=!0,tt._state.PR1398_maxLoop=3}catch(rt){return rt.name===B.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return Pe(tt,Se,nt,null,Xe)})):_n(rt)}var ft,qe=pn(Xe);return qe&&$o(),Ye=kt.follow(function(){var rt;(ft=Xe.call(He,He))&&(qe?(rt=Oi.bind(null,null),ft.then(rt,rt)):"function"==typeof ft.next&&"function"==typeof ft.throw&&(ft=Bd(ft)))},Ye),(ft&&"function"==typeof ft.then?kt.resolve(ft).then(function(rt){return He.active?rt:_n(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ye.then(function(){return ft})).then(function(rt){return Le&&He._resolve(),He._completion.then(function(){return rt})}).catch(function(rt){return He._reject(rt),_n(rt)})})}.bind(null,this,H,ee,V,S);return V?V._promise(H,$e,"lock"):jt.trans?di(jt.transless,function(){return N._whenReady($e)}):this._whenReady($e)},ur.prototype.table=function(v){if(!ut(this._allTables,v))throw new X.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},ur);function ur(v,C){var S=this;this._middlewares={},this.verno=0;var N=ur.dependencies;this._options=C=O({addons:ur.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},C),this._deps={indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange},N=C.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var V,H,ee,ye,$e,Pe={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ce,dbReadyPromise:null,cancelOpen:ce,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:C.autoOpen};Pe.dbReadyPromise=new kt(function(Se){Pe.dbReadyResolve=Se}),Pe.openCanceller=new kt(function(Se,nt){Pe.cancelOpen=nt}),this._state=Pe,this.name=v,this.on=us(this,"populate","blocked","versionchange","close",{ready:[cn,ce]}),this.on.ready.subscribe=Re(this.on.ready.subscribe,function(Se){return function(nt,Le){ur.vip(function(){var Xe,Ye=S._state;Ye.openComplete?(Ye.dbOpenError||kt.resolve().then(nt),Le&&Se(nt)):Ye.onReadyBeingFired?(Ye.onReadyBeingFired.push(nt),Le&&Se(nt)):(Se(nt),Xe=S,Le||Se(function He(){Xe.on.ready.unsubscribe(nt),Xe.on.ready.unsubscribe(He)}))})}}),this.Collection=(V=this,ta(Oc.prototype,function(ft,He){this.db=V;var Le=Er,Xe=null;if(He)try{Le=He()}catch(qe){Xe=qe}var Ye=ft._ctx;this._ctx={table:He=Ye.table,index:Ye.index,isPrimKey:!Ye.index||He.schema.primKey.keyPath&&Ye.index===He.schema.primKey.name,range:Le,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Xe,or:Ye.or,valueMapper:(ft=He.hook.reading.fire)!==Te?ft:null}})),this.Table=(H=this,ta(zi.prototype,function(Se,nt,Le){this.db=H,this._tx=Le,this.name=Se,this.schema=nt,this.hook=H._allTables[Se]?H._allTables[Se].hook:us(null,{creating:[Rt,ce],reading:[It,Te],updating:[nn,ce],deleting:[Ut,ce]})})),this.Transaction=(ee=this,ta(mr.prototype,function(Se,nt,Le,Xe,Ye){var He=this;this.db=ee,this.mode=Se,this.storeNames=nt,this.schema=Le,this.chromeTransactionDurability=Xe,this.idbtrans=null,this.on=us(this,"complete","error","abort"),this.parent=Ye||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new kt(function(ft,qe){He._resolve=ft,He._reject=qe}),this._completion.then(function(){He.active=!1,He.on.complete.fire()},function(ft){var qe=He.active;return He.active=!1,He.on.error.fire(ft),He.parent?He.parent._reject(ft):qe&&He.idbtrans&&He.idbtrans.abort(),_n(ft)})})),this.Version=(ye=this,ta(xs.prototype,function(Se){this.db=ye,this._cfg={version:Se,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=($e=this,ta(Oe.prototype,function(Se,nt,Le){if(this.db=$e,this._ctx={table:Se,index:":id"===nt?null:nt,or:Le},this._cmp=this._ascending=Hn,this._descending=function(Xe,Ye){return Hn(Ye,Xe)},this._max=function(Xe,Ye){return 0<Hn(Xe,Ye)?Xe:Ye},this._min=function(Xe,Ye){return Hn(Xe,Ye)<0?Xe:Ye},this._IDBKeyRange=$e._deps.IDBKeyRange,!this._IDBKeyRange)throw new X.MissingAPI})),this.on("versionchange",function(Se){0<Se.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(Se){!Se.newVersion||Se.newVersion<Se.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(Se.oldVersion/10))}),this._maxKey=Ss(C.IDBKeyRange),this._createTransaction=function(Se,nt,Le,Xe){return new S.Transaction(Se,nt,Le,S._options.chromeTransactionDurability,Xe)},this._fireOnBlocked=function(Se){S.on("blocked").fire(Se),Ts.filter(function(nt){return nt.name===S.name&&nt!==S&&!nt._state.vcFired}).map(function(nt){return nt.on("versionchange").fire(Se)})},this.use(Ho),this.use($d),this.use(jd),this.use(ka),this.use(tT);var tt=new Proxy(this,{get:function(Se,nt,Le){if("_vip"===nt)return!0;if("table"===nt)return function(Ye){return Kn(S.table(Ye),tt)};var Xe=Reflect.get(Se,nt,Le);return Xe instanceof zi?Kn(Xe,tt):"tables"===nt?Xe.map(function(Ye){return Kn(Ye,tt)}):"_createTransaction"===nt?function(){return Kn(Xe.apply(this,arguments),tt)}:Xe}});this.vip=tt,N.forEach(function(Se){return Se(S)})}ao=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var Pa,xu=(wl.prototype.subscribe=function(v,C,S){return this._subscribe(v&&"function"!=typeof v?v:{next:v,error:C,complete:S})},wl.prototype[ao]=function(){return this},wl);function wl(v){this._subscribe=v}try{Pa={indexedDB:re.indexedDB||re.mozIndexedDB||re.webkitIndexedDB||re.msIndexedDB,IDBKeyRange:re.IDBKeyRange||re.webkitIDBKeyRange}}catch{Pa={indexedDB:null,IDBKeyRange:null}}function Ms(v){var C,S=!1,N=new xu(function(V){var ee,H=pn(v),ye=!1,$e={},Pe={},tt={get closed(){return ye},unsubscribe:function(){ye||(ye=!0,ee&&ee.abort(),Se&&Yn.storagemutated.unsubscribe(Le))}};V.start&&V.start(tt);var Se=!1,nt=function(){return Nn(Xe)},Le=function(Ye){Wr($e,Ye),El(Pe,$e)&&nt()},Xe=function(){var Ye,He,ft;!ye&&Pa.indexedDB&&($e={},Ye={},ee&&ee.abort(),ee=new AbortController,ft=function(qe){var rt=br();try{H&&$o();var wt=Wn(v,qe);return wt=H?wt.finally(Oi):wt}finally{rt&&ui()}}(He={subscr:Ye,signal:ee.signal,requery:nt,querier:v,trans:null}),Promise.resolve(ft).then(function(qe){S=!0,C=qe,ye||He.signal.aborted||($e={},function(rt){for(var wt in rt)if(ut(rt,wt))return;return 1}(Pe=Ye)||Se||(Yn(Dn,Le),Se=!0),Nn(function(){return!ye&&V.next&&V.next(qe)}))},function(qe){S=!1,["DatabaseClosedError","AbortError"].includes(qe?.name)||ye||Nn(function(){ye||V.error&&V.error(qe)})}))};return setTimeout(nt,0),tt});return N.hasValue=function(){return S},N.getValue=function(){return C},N}var zo=aa;function Il(v){var C=ca;try{ca=!0,Yn.storagemutated.fire(v),Vc(v,!0)}finally{ca=C}}Be(zo,O(O({},ie),{delete:function(v){return new zo(v,{addons:[]}).delete()},exists:function(v){return new zo(v,{addons:[]}).open().then(function(C){return C.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return S=(C=zo.dependencies).indexedDB,C=C.IDBKeyRange,(sa(S)?Promise.resolve(S.databases()).then(function(N){return N.map(function(V){return V.name}).filter(function(V){return V!==bi})}):Oa(S,C).toCollection().primaryKeys()).then(v)}catch{return _n(new X.MissingAPI)}var C,S},defineClass:function(){return function(v){x(this,v)}},ignoreTransaction:function(v){return jt.trans?di(jt.transless,v):v()},vip:Du,async:function(v){return function(){try{var C=Bd(v.apply(this,arguments));return C&&"function"==typeof C.then?C:kt.resolve(C)}catch(S){return _n(S)}}},spawn:function(v,C,S){try{var N=Bd(v.apply(S,C||[]));return N&&"function"==typeof N.then?N:kt.resolve(N)}catch(V){return _n(V)}},currentTransaction:{get:function(){return jt.trans||null}},waitFor:function(v,C){return C=kt.resolve("function"==typeof v?zo.ignoreTransaction(v):v).timeout(C||6e4),jt.trans?jt.trans.waitFor(C):C},Promise:kt,debug:{get:function(){return Ht},set:function(v){hn(v)}},derive:Me,extend:x,props:Be,override:Re,Events:us,on:Yn,liveQuery:Ms,extendObservabilitySet:Wr,getByKeyPath:Fe,setByKeyPath:xe,delByKeyPath:function(v,C){"string"==typeof C?xe(v,C,void 0):"length"in C&&[].map.call(C,function(S){xe(v,S,void 0)})},shallowClone:Ae,deepClone:_e,getObjectDiff:Au,cmp:Hn,asap:ge,minKey:-1/0,addons:[],connections:Ts,errnames:B,dependencies:Pa,cache:Fc,semVer:"4.0.8",version:"4.0.8".split(".").map(function(v){return parseInt(v)}).reduce(function(v,C,S){return v+C/Math.pow(10,2*S)})})),zo.maxKey=Ss(zo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Yn(Dn,function(v){ca||(v=new CustomEvent(Fn,{detail:v}),ca=!0,dispatchEvent(v),ca=!1)}),addEventListener(Fn,function(v){v=v.detail,ca||Il(v)}));var Na,ca=!1,Tn=function(){};return typeof BroadcastChannel<"u"&&((Tn=function(){(Na=new BroadcastChannel(Fn)).onmessage=function(v){return v.data&&Il(v.data)}})(),"function"==typeof Na.unref&&Na.unref(),Yn(Dn,function(v){ca||Na.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!aa.disableBfCache&&v.persisted){Ht&&console.debug("Dexie: handling persisted pagehide"),Na?.close();for(var C=0,S=Ts;C<S.length;C++)S[C].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!aa.disableBfCache&&v.persisted&&(Ht&&console.debug("Dexie: handling persisted pageshow"),Tn(),Il({all:new wr(-1/0,[[]])}))})),kt.rejectionMapper=function(v,C){return!v||v instanceof Ge||v instanceof TypeError||v instanceof SyntaxError||!v.name||!Z[v.name]?v:(C=new Z[v.name](C||v.message,v),"stack"in v&&Y(C,"stack",{get:function(){return this.inner.stack}}),C)},hn(Ht),O(aa,Object.freeze({__proto__:null,Dexie:aa,liveQuery:Ms,Entity:Ao,cmp:Hn,PropModSymbol:So,PropModification:na,replacePrefix:function(v,C){return new na({replacePrefix:[v,C]})},add:function(v){return new na({add:v})},remove:function(v){return new na({remove:v})},default:aa,RangeSet:wr,mergeRanges:Sr,rangesOverlap:Fd}),{default:aa}),aa}()},4412:(Bt,et,O)=>{"use strict";O.d(et,{t:()=>re});var J=O(1413);class re extends J.B{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const x=super._subscribe(ae);return!x.closed&&ae.next(this._value),x}getValue(){const{hasError:ae,thrownError:x,_value:l}=this;if(ae)throw x;return this._throwIfClosed(),l}next(ae){super.next(this._value=ae)}}},1985:(Bt,et,O)=>{"use strict";O.d(et,{c:()=>ut});var J=O(7707),re=O(8359),me=O(3494),ae=O(1203),x=O(1026),l=O(8071),De=O(9786);let ut=(()=>{class Me{constructor(oe){oe&&(this._subscribe=oe)}lift(oe){const ze=new Me;return ze.source=this,ze.operator=oe,ze}subscribe(oe,ze,Re){const ke=function Y(Me){return Me&&Me instanceof J.vU||function Ue(Me){return Me&&(0,l.T)(Me.next)&&(0,l.T)(Me.error)&&(0,l.T)(Me.complete)}(Me)&&(0,re.Uv)(Me)}(oe)?oe:new J.Ms(oe,ze,Re);return(0,De.Y)(()=>{const{operator:ge,source:Fe}=this;ke.add(ge?ge.call(ke,Fe):Fe?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(oe){try{return this._subscribe(oe)}catch(ze){oe.error(ze)}}forEach(oe,ze){return new(ze=Be(ze))((Re,ke)=>{const ge=new J.Ms({next:Fe=>{try{oe(Fe)}catch(xe){ke(xe),ge.unsubscribe()}},error:ke,complete:Re});this.subscribe(ge)})}_subscribe(oe){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(oe)}[me.s](){return this}pipe(...oe){return(0,ae.m)(oe)(this)}toPromise(oe){return new(oe=Be(oe))((ze,Re)=>{let ke;this.subscribe(ge=>ke=ge,ge=>Re(ge),()=>ze(ke))})}}return Me.create=Ne=>new Me(Ne),Me})();function Be(Me){var Ne;return null!==(Ne=Me??x.$.Promise)&&void 0!==Ne?Ne:Promise}},1413:(Bt,et,O)=>{"use strict";O.d(et,{B:()=>De});var J=O(1985),re=O(8359);const ae=(0,O(1853).L)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=O(7908),l=O(9786);let De=(()=>{class Be extends J.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const Me=new ut(this,this);return Me.operator=Y,Me}_throwIfClosed(){if(this.closed)throw new ae}next(Y){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(Y)}})}error(Y){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:Me}=this;for(;Me.length;)Me.shift().error(Y)}})}complete(){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:Me,isStopped:Ne,observers:oe}=this;return Me||Ne?re.Kn:(this.currentObservers=null,oe.push(Y),new re.yU(()=>{this.currentObservers=null,(0,x.o)(oe,Y)}))}_checkFinalizedStatuses(Y){const{hasError:Me,thrownError:Ne,isStopped:oe}=this;Me?Y.error(Ne):oe&&Y.complete()}asObservable(){const Y=new J.c;return Y.source=this,Y}}return Be.create=(Ue,Y)=>new ut(Ue,Y),Be})();class ut extends De{constructor(Ue,Y){super(),this.destination=Ue,this.source=Y}next(Ue){var Y,Me;null===(Me=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===Me||Me.call(Y,Ue)}error(Ue){var Y,Me;null===(Me=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===Me||Me.call(Y,Ue)}complete(){var Ue,Y;null===(Y=null===(Ue=this.destination)||void 0===Ue?void 0:Ue.complete)||void 0===Y||Y.call(Ue)}_subscribe(Ue){var Y,Me;return null!==(Me=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(Ue))&&void 0!==Me?Me:re.Kn}}},7707:(Bt,et,O)=>{"use strict";O.d(et,{Ms:()=>Re,vU:()=>Me});var J=O(8071),re=O(8359),me=O(1026),ae=O(5334),x=O(5343);const l=Be("C",void 0,void 0);function Be(Ae,We,Ie){return{kind:Ae,value:We,error:Ie}}var Ue=O(9270),Y=O(9786);class Me extends re.yU{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,re.Uv)(We)&&We.add(this)):this.destination=xe}static create(We,Ie,st){return new Re(We,Ie,st)}next(We){this.isStopped?Fe(function ut(Ae){return Be("N",Ae,void 0)}(We),this):this._next(We)}error(We){this.isStopped?Fe(function De(Ae){return Be("E",void 0,Ae)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?Fe(l,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function oe(Ae,We){return Ne.call(Ae,We)}class ze{constructor(We){this.partialObserver=We}next(We){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(We)}catch(st){ke(st)}}error(We){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(We)}catch(st){ke(st)}else ke(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(Ie){ke(Ie)}}}class Re extends Me{constructor(We,Ie,st){let Qe;if(super(),(0,J.T)(We)||!We)Qe={next:We??void 0,error:Ie??void 0,complete:st??void 0};else{let _e;this&&me.$.useDeprecatedNextContext?(_e=Object.create(We),_e.unsubscribe=()=>this.unsubscribe(),Qe={next:We.next&&oe(We.next,_e),error:We.error&&oe(We.error,_e),complete:We.complete&&oe(We.complete,_e)}):Qe=We}this.destination=new ze(Qe)}}function ke(Ae){me.$.useDeprecatedSynchronousErrorHandling?(0,Y.l)(Ae):(0,ae.m)(Ae)}function Fe(Ae,We){const{onStoppedNotification:Ie}=me.$;Ie&&Ue.f.setTimeout(()=>Ie(Ae,We))}const xe={closed:!0,next:x.l,error:function ge(Ae){throw Ae},complete:x.l}},8359:(Bt,et,O)=>{"use strict";O.d(et,{Kn:()=>l,yU:()=>x,Uv:()=>De});var J=O(8071);const me=(0,O(1853).L)(Be=>function(Y){Be(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((Me,Ne)=>`${Ne+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var ae=O(7908);class x{constructor(Ue){this.initialTeardown=Ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ue;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const oe of Y)oe.remove(this);else Y.remove(this);const{initialTeardown:Me}=this;if((0,J.T)(Me))try{Me()}catch(oe){Ue=oe instanceof me?oe.errors:[oe]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const oe of Ne)try{ut(oe)}catch(ze){Ue=Ue??[],ze instanceof me?Ue=[...Ue,...ze.errors]:Ue.push(ze)}}if(Ue)throw new me(Ue)}}add(Ue){var Y;if(Ue&&Ue!==this)if(this.closed)ut(Ue);else{if(Ue instanceof x){if(Ue.closed||Ue._hasParent(this))return;Ue._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(Ue)}}_hasParent(Ue){const{_parentage:Y}=this;return Y===Ue||Array.isArray(Y)&&Y.includes(Ue)}_addParent(Ue){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(Ue),Y):Y?[Y,Ue]:Ue}_removeParent(Ue){const{_parentage:Y}=this;Y===Ue?this._parentage=null:Array.isArray(Y)&&(0,ae.o)(Y,Ue)}remove(Ue){const{_finalizers:Y}=this;Y&&(0,ae.o)(Y,Ue),Ue instanceof x&&Ue._removeParent(this)}}x.EMPTY=(()=>{const Be=new x;return Be.closed=!0,Be})();const l=x.EMPTY;function De(Be){return Be instanceof x||Be&&"closed"in Be&&(0,J.T)(Be.remove)&&(0,J.T)(Be.add)&&(0,J.T)(Be.unsubscribe)}function ut(Be){(0,J.T)(Be)?Be():Be.unsubscribe()}},1026:(Bt,et,O)=>{"use strict";O.d(et,{$:()=>J});const J={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4843:(Bt,et,O)=>{"use strict";O.d(et,{_:()=>me});var J=O(9350),re=O(7707);function me(ae,x){const l="object"==typeof x;return new Promise((De,ut)=>{const Be=new re.Ms({next:Ue=>{De(Ue),Be.unsubscribe()},error:ut,complete:()=>{l?De(x.defaultValue):ut(new J.G)}});ae.subscribe(Be)})}},8793:(Bt,et,O)=>{"use strict";O.d(et,{x:()=>x});var J=O(6365),me=O(9326),ae=O(6648);function x(...l){return function re(){return(0,J.U)(1)}()((0,ae.H)(l,(0,me.lI)(l)))}},983:(Bt,et,O)=>{"use strict";O.d(et,{w:()=>re});const re=new(O(1985).c)(x=>x.complete())},6648:(Bt,et,O)=>{"use strict";O.d(et,{H:()=>st});var J=O(8750),re=O(5225),me=O(9974),ae=O(4360);function x(Qe,_e=0){return(0,me.N)((ue,Q)=>{ue.subscribe((0,ae._)(Q,mt=>(0,re.N)(Q,Qe,()=>Q.next(mt),_e),()=>(0,re.N)(Q,Qe,()=>Q.complete(),_e),mt=>(0,re.N)(Q,Qe,()=>Q.error(mt),_e)))})}function l(Qe,_e=0){return(0,me.N)((ue,Q)=>{Q.add(Qe.schedule(()=>ue.subscribe(Q),_e))})}var Be=O(1985),Y=O(4761),Me=O(8071);function oe(Qe,_e){if(!Qe)throw new Error("Iterable cannot be null");return new Be.c(ue=>{(0,re.N)(ue,_e,()=>{const Q=Qe[Symbol.asyncIterator]();(0,re.N)(ue,_e,()=>{Q.next().then(mt=>{mt.done?ue.complete():ue.next(mt.value)})},0,!0)})})}var ze=O(5055),Re=O(9858),ke=O(7441),ge=O(5397),Fe=O(7953),xe=O(591),Ae=O(5196);function st(Qe,_e){return _e?function Ie(Qe,_e){if(null!=Qe){if((0,ze.l)(Qe))return function De(Qe,_e){return(0,J.Tg)(Qe).pipe(l(_e),x(_e))}(Qe,_e);if((0,ke.X)(Qe))return function Ue(Qe,_e){return new Be.c(ue=>{let Q=0;return _e.schedule(function(){Q===Qe.length?ue.complete():(ue.next(Qe[Q++]),ue.closed||this.schedule())})})}(Qe,_e);if((0,Re.y)(Qe))return function ut(Qe,_e){return(0,J.Tg)(Qe).pipe(l(_e),x(_e))}(Qe,_e);if((0,Fe.T)(Qe))return oe(Qe,_e);if((0,ge.x)(Qe))return function Ne(Qe,_e){return new Be.c(ue=>{let Q;return(0,re.N)(ue,_e,()=>{Q=Qe[Y.l](),(0,re.N)(ue,_e,()=>{let mt,Dt;try{({value:mt,done:Dt}=Q.next())}catch(At){return void ue.error(At)}Dt?ue.complete():ue.next(mt)},0,!0)}),()=>(0,Me.T)(Q?.return)&&Q.return()})}(Qe,_e);if((0,Ae.U)(Qe))return function We(Qe,_e){return oe((0,Ae.C)(Qe),_e)}(Qe,_e)}throw(0,xe.L)(Qe)}(Qe,_e):(0,J.Tg)(Qe)}},8750:(Bt,et,O)=>{"use strict";O.d(et,{Tg:()=>Ne});var J=O(1635),re=O(7441),me=O(9858),ae=O(1985),x=O(5055),l=O(7953),De=O(591),ut=O(5397),Be=O(5196),Ue=O(8071),Y=O(5334),Me=O(3494);function Ne(Ae){if(Ae instanceof ae.c)return Ae;if(null!=Ae){if((0,x.l)(Ae))return function oe(Ae){return new ae.c(We=>{const Ie=Ae[Me.s]();if((0,Ue.T)(Ie.subscribe))return Ie.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,re.X)(Ae))return function ze(Ae){return new ae.c(We=>{for(let Ie=0;Ie<Ae.length&&!We.closed;Ie++)We.next(Ae[Ie]);We.complete()})}(Ae);if((0,me.y)(Ae))return function Re(Ae){return new ae.c(We=>{Ae.then(Ie=>{We.closed||(We.next(Ie),We.complete())},Ie=>We.error(Ie)).then(null,Y.m)})}(Ae);if((0,l.T)(Ae))return ge(Ae);if((0,ut.x)(Ae))return function ke(Ae){return new ae.c(We=>{for(const Ie of Ae)if(We.next(Ie),We.closed)return;We.complete()})}(Ae);if((0,Be.U)(Ae))return function Fe(Ae){return ge((0,Be.C)(Ae))}(Ae)}throw(0,De.L)(Ae)}function ge(Ae){return new ae.c(We=>{(function xe(Ae,We){var Ie,st,Qe,_e;return(0,J.sH)(this,void 0,void 0,function*(){try{for(Ie=(0,J.xN)(Ae);!(st=yield Ie.next()).done;)if(We.next(st.value),We.closed)return}catch(ue){Qe={error:ue}}finally{try{st&&!st.done&&(_e=Ie.return)&&(yield _e.call(Ie))}finally{if(Qe)throw Qe.error}}We.complete()})})(Ae,We).catch(Ie=>We.error(Ie))})}},7786:(Bt,et,O)=>{"use strict";O.d(et,{h:()=>l});var J=O(6365),re=O(8750),me=O(983),ae=O(9326),x=O(6648);function l(...De){const ut=(0,ae.lI)(De),Be=(0,ae.R0)(De,1/0),Ue=De;return Ue.length?1===Ue.length?(0,re.Tg)(Ue[0]):(0,J.U)(Be)((0,x.H)(Ue,ut)):me.w}},4360:(Bt,et,O)=>{"use strict";O.d(et,{_:()=>re});var J=O(7707);function re(ae,x,l,De,ut){return new me(ae,x,l,De,ut)}class me extends J.vU{constructor(x,l,De,ut,Be,Ue){super(x),this.onFinalize=Be,this.shouldUnsubscribe=Ue,this._next=l?function(Y){try{l(Y)}catch(Me){x.error(Me)}}:super._next,this._error=ut?function(Y){try{ut(Y)}catch(Me){x.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(Y){x.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:l}=this;super.unsubscribe(),!l&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},3294:(Bt,et,O)=>{"use strict";O.d(et,{F:()=>ae});var J=O(3669),re=O(9974),me=O(4360);function ae(l,De=J.D){return l=l??x,(0,re.N)((ut,Be)=>{let Ue,Y=!0;ut.subscribe((0,me._)(Be,Me=>{const Ne=De(Me);(Y||!l(Ue,Ne))&&(Y=!1,Ue=Ne,Be.next(Me))}))})}function x(l,De){return l===De}},5964:(Bt,et,O)=>{"use strict";O.d(et,{p:()=>me});var J=O(9974),re=O(4360);function me(ae,x){return(0,J.N)((l,De)=>{let ut=0;l.subscribe((0,re._)(De,Be=>ae.call(x,Be,ut++)&&De.next(Be)))})}},6354:(Bt,et,O)=>{"use strict";O.d(et,{T:()=>me});var J=O(9974),re=O(4360);function me(ae,x){return(0,J.N)((l,De)=>{let ut=0;l.subscribe((0,re._)(De,Be=>{De.next(ae.call(x,Be,ut++))}))})}},6365:(Bt,et,O)=>{"use strict";O.d(et,{U:()=>me});var J=O(1397),re=O(3669);function me(ae=1/0){return(0,J.Z)(re.D,ae)}},1397:(Bt,et,O)=>{"use strict";O.d(et,{Z:()=>ut});var J=O(6354),re=O(8750),me=O(9974),ae=O(5225),x=O(4360),De=O(8071);function ut(Be,Ue,Y=1/0){return(0,De.T)(Ue)?ut((Me,Ne)=>(0,J.T)((oe,ze)=>Ue(Me,oe,Ne,ze))((0,re.Tg)(Be(Me,Ne))),Y):("number"==typeof Ue&&(Y=Ue),(0,me.N)((Me,Ne)=>function l(Be,Ue,Y,Me,Ne,oe,ze,Re){const ke=[];let ge=0,Fe=0,xe=!1;const Ae=()=>{xe&&!ke.length&&!ge&&Ue.complete()},We=st=>ge<Me?Ie(st):ke.push(st),Ie=st=>{oe&&Ue.next(st),ge++;let Qe=!1;(0,re.Tg)(Y(st,Fe++)).subscribe((0,x._)(Ue,_e=>{Ne?.(_e),oe?We(_e):Ue.next(_e)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(ge--;ke.length&&ge<Me;){const _e=ke.shift();ze?(0,ae.N)(Ue,ze,()=>Ie(_e)):Ie(_e)}Ae()}catch(_e){Ue.error(_e)}}))};return Be.subscribe((0,x._)(Ue,We,()=>{xe=!0,Ae()})),()=>{Re?.()}}(Me,Ne,Be,Y)))}},7647:(Bt,et,O)=>{"use strict";O.d(et,{u:()=>x});var J=O(8750),re=O(1413),me=O(7707),ae=O(9974);function x(De={}){const{connector:ut=(()=>new re.B),resetOnError:Be=!0,resetOnComplete:Ue=!0,resetOnRefCountZero:Y=!0}=De;return Me=>{let Ne,oe,ze,Re=0,ke=!1,ge=!1;const Fe=()=>{oe?.unsubscribe(),oe=void 0},xe=()=>{Fe(),Ne=ze=void 0,ke=ge=!1},Ae=()=>{const We=Ne;xe(),We?.unsubscribe()};return(0,ae.N)((We,Ie)=>{Re++,!ge&&!ke&&Fe();const st=ze=ze??ut();Ie.add(()=>{Re--,0===Re&&!ge&&!ke&&(oe=l(Ae,Y))}),st.subscribe(Ie),!Ne&&Re>0&&(Ne=new me.Ms({next:Qe=>st.next(Qe),error:Qe=>{ge=!0,Fe(),oe=l(xe,Be,Qe),st.error(Qe)},complete:()=>{ke=!0,Fe(),oe=l(xe,Ue),st.complete()}}),(0,J.Tg)(We).subscribe(Ne))})(Me)}}function l(De,ut,...Be){if(!0===ut)return void De();if(!1===ut)return;const Ue=new me.Ms({next:()=>{Ue.unsubscribe(),De()}});return(0,J.Tg)(ut(...Be)).subscribe(Ue)}},6496:(Bt,et,O)=>{"use strict";O.d(et,{t:()=>x});var J=O(1413),re=O(6129);class me extends J.B{constructor(De=1/0,ut=1/0,Be=re.U){super(),this._bufferSize=De,this._windowTime=ut,this._timestampProvider=Be,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ut===1/0,this._bufferSize=Math.max(1,De),this._windowTime=Math.max(1,ut)}next(De){const{isStopped:ut,_buffer:Be,_infiniteTimeWindow:Ue,_timestampProvider:Y,_windowTime:Me}=this;ut||(Be.push(De),!Ue&&Be.push(Y.now()+Me)),this._trimBuffer(),super.next(De)}_subscribe(De){this._throwIfClosed(),this._trimBuffer();const ut=this._innerSubscribe(De),{_infiniteTimeWindow:Be,_buffer:Ue}=this,Y=Ue.slice();for(let Me=0;Me<Y.length&&!De.closed;Me+=Be?1:2)De.next(Y[Me]);return this._checkFinalizedStatuses(De),ut}_trimBuffer(){const{_bufferSize:De,_timestampProvider:ut,_buffer:Be,_infiniteTimeWindow:Ue}=this,Y=(Ue?1:2)*De;if(De<1/0&&Y<Be.length&&Be.splice(0,Be.length-Y),!Ue){const Me=ut.now();let Ne=0;for(let oe=1;oe<Be.length&&Be[oe]<=Me;oe+=2)Ne=oe;Ne&&Be.splice(0,Ne+1)}}}var ae=O(7647);function x(l,De,ut){let Be,Ue=!1;return l&&"object"==typeof l?({bufferSize:Be=1/0,windowTime:De=1/0,refCount:Ue=!1,scheduler:ut}=l):Be=l??1/0,(0,ae.u)({connector:()=>new me(Be,De,ut),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}},9172:(Bt,et,O)=>{"use strict";O.d(et,{Z:()=>ae});var J=O(8793),re=O(9326),me=O(9974);function ae(...x){const l=(0,re.lI)(x);return(0,me.N)((De,ut)=>{(l?(0,J.x)(x,De,l):(0,J.x)(x,De)).subscribe(ut)})}},6129:(Bt,et,O)=>{"use strict";O.d(et,{U:()=>J});const J={now:()=>(J.delegate||Date).now(),delegate:void 0}},9270:(Bt,et,O)=>{"use strict";O.d(et,{f:()=>J});const J={setTimeout(re,me,...ae){const{delegate:x}=J;return x?.setTimeout?x.setTimeout(re,me,...ae):setTimeout(re,me,...ae)},clearTimeout(re){const{delegate:me}=J;return(me?.clearTimeout||clearTimeout)(re)},delegate:void 0}},4761:(Bt,et,O)=>{"use strict";O.d(et,{l:()=>re});const re=function J(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Bt,et,O)=>{"use strict";O.d(et,{s:()=>J});const J="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Bt,et,O)=>{"use strict";O.d(et,{G:()=>re});const re=(0,O(1853).L)(me=>function(){me(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Bt,et,O)=>{"use strict";O.d(et,{R0:()=>l,lI:()=>x,ms:()=>ae});var J=O(8071),re=O(9470);function me(De){return De[De.length-1]}function ae(De){return(0,J.T)(me(De))?De.pop():void 0}function x(De){return(0,re.m)(me(De))?De.pop():void 0}function l(De,ut){return"number"==typeof me(De)?De.pop():ut}},7908:(Bt,et,O)=>{"use strict";function J(re,me){if(re){const ae=re.indexOf(me);0<=ae&&re.splice(ae,1)}}O.d(et,{o:()=>J})},1853:(Bt,et,O)=>{"use strict";function J(re){const ae=re(x=>{Error.call(x),x.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}O.d(et,{L:()=>J})},9786:(Bt,et,O)=>{"use strict";O.d(et,{Y:()=>me,l:()=>ae});var J=O(1026);let re=null;function me(x){if(J.$.useDeprecatedSynchronousErrorHandling){const l=!re;if(l&&(re={errorThrown:!1,error:null}),x(),l){const{errorThrown:De,error:ut}=re;if(re=null,De)throw ut}}else x()}function ae(x){J.$.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=x)}},5225:(Bt,et,O)=>{"use strict";function J(re,me,ae,x=0,l=!1){const De=me.schedule(function(){ae(),l?re.add(this.schedule(null,x)):this.unsubscribe()},x);if(re.add(De),!l)return De}O.d(et,{N:()=>J})},3669:(Bt,et,O)=>{"use strict";function J(re){return re}O.d(et,{D:()=>J})},7441:(Bt,et,O)=>{"use strict";O.d(et,{X:()=>J});const J=re=>re&&"number"==typeof re.length&&"function"!=typeof re},7953:(Bt,et,O)=>{"use strict";O.d(et,{T:()=>re});var J=O(8071);function re(me){return Symbol.asyncIterator&&(0,J.T)(me?.[Symbol.asyncIterator])}},8071:(Bt,et,O)=>{"use strict";function J(re){return"function"==typeof re}O.d(et,{T:()=>J})},5055:(Bt,et,O)=>{"use strict";O.d(et,{l:()=>me});var J=O(3494),re=O(8071);function me(ae){return(0,re.T)(ae[J.s])}},5397:(Bt,et,O)=>{"use strict";O.d(et,{x:()=>me});var J=O(4761),re=O(8071);function me(ae){return(0,re.T)(ae?.[J.l])}},9858:(Bt,et,O)=>{"use strict";O.d(et,{y:()=>re});var J=O(8071);function re(me){return(0,J.T)(me?.then)}},5196:(Bt,et,O)=>{"use strict";O.d(et,{C:()=>me,U:()=>ae});var J=O(1635),re=O(8071);function me(x){return(0,J.AQ)(this,arguments,function*(){const De=x.getReader();try{for(;;){const{value:ut,done:Be}=yield(0,J.N3)(De.read());if(Be)return yield(0,J.N3)(void 0);yield yield(0,J.N3)(ut)}}finally{De.releaseLock()}})}function ae(x){return(0,re.T)(x?.getReader)}},9470:(Bt,et,O)=>{"use strict";O.d(et,{m:()=>re});var J=O(8071);function re(me){return me&&(0,J.T)(me.schedule)}},9974:(Bt,et,O)=>{"use strict";O.d(et,{N:()=>me,S:()=>re});var J=O(8071);function re(ae){return(0,J.T)(ae?.lift)}function me(ae){return x=>{if(re(x))return x.lift(function(l){try{return ae(l,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Bt,et,O)=>{"use strict";function J(){}O.d(et,{l:()=>J})},1203:(Bt,et,O)=>{"use strict";O.d(et,{F:()=>re,m:()=>me});var J=O(3669);function re(...ae){return me(ae)}function me(ae){return 0===ae.length?J.D:1===ae.length?ae[0]:function(l){return ae.reduce((De,ut)=>ut(De),l)}}},5334:(Bt,et,O)=>{"use strict";O.d(et,{m:()=>me});var J=O(1026),re=O(9270);function me(ae){re.f.setTimeout(()=>{const{onUnhandledError:x}=J.$;if(!x)throw ae;x(ae)})}},591:(Bt,et,O)=>{"use strict";function J(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(et,{L:()=>J})},9969:(Bt,et,O)=>{"use strict";O.d(et,{FX:()=>_e,If:()=>J,K2:()=>l,MA:()=>Me,Os:()=>x,P:()=>oe,hZ:()=>me,i0:()=>ae,iF:()=>De,kY:()=>Ue,kp:()=>re,sf:()=>st,ui:()=>Qe,wk:()=>ut});var J=function(ue){return ue[ue.State=0]="State",ue[ue.Transition=1]="Transition",ue[ue.Sequence=2]="Sequence",ue[ue.Group=3]="Group",ue[ue.Animate=4]="Animate",ue[ue.Keyframes=5]="Keyframes",ue[ue.Style=6]="Style",ue[ue.Trigger=7]="Trigger",ue[ue.Reference=8]="Reference",ue[ue.AnimateChild=9]="AnimateChild",ue[ue.AnimateRef=10]="AnimateRef",ue[ue.Query=11]="Query",ue[ue.Stagger=12]="Stagger",ue}(J||{});const re="*";function me(ue,Q){return{type:J.Trigger,name:ue,definitions:Q,options:{}}}function ae(ue,Q=null){return{type:J.Animate,styles:Q,timings:ue}}function x(ue,Q=null){return{type:J.Group,steps:ue,options:Q}}function l(ue,Q=null){return{type:J.Sequence,steps:ue,options:Q}}function De(ue){return{type:J.Style,styles:ue,offset:null}}function ut(ue,Q,mt){return{type:J.State,name:ue,styles:Q,options:mt}}function Ue(ue,Q,mt=null){return{type:J.Transition,expr:ue,animation:Q,options:mt}}function Me(ue=null){return{type:J.AnimateChild,options:ue}}function oe(ue,Q,mt=null){return{type:J.Query,selector:ue,animation:Q,options:mt}}class st{constructor(Q=0,mt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Q+mt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}onStart(Q){this._originalOnStartFns.push(Q),this._onStartFns.push(Q)}onDone(Q){this._originalOnDoneFns.push(Q),this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Q=>Q()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Q){this._position=this.totalTime?Q*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Q){const mt="start"==Q?this._onStartFns:this._onDoneFns;mt.forEach(Dt=>Dt()),mt.length=0}}class Qe{constructor(Q){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Q;let mt=0,Dt=0,At=0;const ln=this.players.length;0==ln?queueMicrotask(()=>this._onFinish()):this.players.forEach(en=>{en.onDone(()=>{++mt==ln&&this._onFinish()}),en.onDestroy(()=>{++Dt==ln&&this._onDestroy()}),en.onStart(()=>{++At==ln&&this._onStart()})}),this.totalTime=this.players.reduce((en,pn)=>Math.max(en,pn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}init(){this.players.forEach(Q=>Q.init())}onStart(Q){this._onStartFns.push(Q)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Q=>Q()),this._onStartFns=[])}onDone(Q){this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Q=>Q.play())}pause(){this.players.forEach(Q=>Q.pause())}restart(){this.players.forEach(Q=>Q.restart())}finish(){this._onFinish(),this.players.forEach(Q=>Q.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Q=>Q.destroy()),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this.players.forEach(Q=>Q.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Q){const mt=Q*this.totalTime;this.players.forEach(Dt=>{const At=Dt.totalTime?Math.min(1,mt/Dt.totalTime):1;Dt.setPosition(At)})}getPosition(){const Q=this.players.reduce((mt,Dt)=>null===mt||Dt.totalTime>mt.totalTime?Dt:mt,null);return null!=Q?Q.getPosition():0}beforeDestroy(){this.players.forEach(Q=>{Q.beforeDestroy&&Q.beforeDestroy()})}triggerCallback(Q){const mt="start"==Q?this._onStartFns:this._onDoneFns;mt.forEach(Dt=>Dt()),mt.length=0}}const _e="!"},3953:(Bt,et,O)=>{"use strict";function J(o,s){return Object.is(o,s)}O.d(et,{bc$:()=>A$,iLQ:()=>Ay,sZ2:()=>g_,hnV:()=>sV,o8S:()=>Ka,BIS:()=>mA,gRc:()=>Vy,Ql9:()=>gR,OM3:()=>Kp,Ocv:()=>fV,Z63:()=>La,aKT:()=>Li,uvJ:()=>ks,zcH:()=>fa,bkB:()=>mc,$GK:()=>yt,nKC:()=>Tn,zZn:()=>Fi,_q3:()=>IC,MKu:()=>CC,xe9:()=>ky,Co$:()=>ux,Vns:()=>Ju,SKi:()=>Hr,Xx1:()=>Hf,Agw:()=>ga,PLl:()=>__,rOR:()=>Y0,sFG:()=>RS,_9s:()=>nw,czy:()=>R_,WPN:()=>Ch,kdw:()=>Ig,C4Q:()=>Rh,NYb:()=>fC,giA:()=>uR,RxE:()=>Ey,c1b:()=>lw,gXe:()=>ua,mal:()=>Kl,Tzd:()=>Qp,L39:()=>tb,EWP:()=>js,sbv:()=>fv,Ol2:()=>px,w6W:()=>Ew,QZP:()=>FC,Rfq:()=>Lc,WQX:()=>sn,naY:()=>vV,Hps:()=>ZS,QuC:()=>Va,EmA:()=>Yd,Udg:()=>Dc,HJs:()=>rO,N4e:()=>Vg,vPA:()=>mF,O8t:()=>Bm,An2:()=>Wl,H3F:()=>rR,zAP:()=>Mt,H8p:()=>kg,KH2:()=>sf,TgB:()=>Hu,wOt:()=>Qt,WHO:()=>Dy,e01:()=>hC,lNU:()=>Nd,h9k:()=>O1,$MX:()=>pE,ZF7:()=>Dp,Kcf:()=>z$,e5t:()=>q$,UyX:()=>W$,cWb:()=>G$,osQ:()=>K$,H5H:()=>Ea,mq5:()=>rf,JZv:()=>Sr,TL3:()=>Bs,LfX:()=>ao,plB:()=>Di,jNT:()=>mC,zjR:()=>dR,ngT:()=>Eo,TL$:()=>wp,Tbb:()=>Wr,rcV:()=>Fl,nM4:()=>ax,Vt3:()=>_v,GFd:()=>lx,OA$:()=>$c,Jv_:()=>jM,aNF:()=>$M,R7$:()=>eN,BMQ:()=>qn,HbH:()=>Bx,ZvI:()=>$x,AVh:()=>Ww,vxM:()=>Qw,wni:()=>SM,C6U:()=>MI,VBU:()=>c0,FsC:()=>l0,jDH:()=>Kn,G2t:()=>ur,$C:()=>xg,EJ8:()=>Rg,rXU:()=>xh,nrm:()=>Xx,k0s:()=>rI,j41:()=>nI,RV6:()=>_m,xGo:()=>XT,Mr5:()=>No,KVO:()=>yo,kS0:()=>gp,QTQ:()=>XA,bIt:()=>II,lsd:()=>MM,qSk:()=>LT,XpG:()=>Wv,nI1:()=>vy,bMT:()=>yy,SdG:()=>IM,NAR:()=>wM,Y8G:()=>Hw,lJ4:()=>Dm,eq3:()=>VI,l_i:()=>BI,NyB:()=>ff,mGM:()=>xI,sdS:()=>Yv,Dyx:()=>Jw,Z7z:()=>Zw,Vm6:()=>Lv,Njj:()=>RT,eBV:()=>IP,n$t:()=>OA,xc7:()=>Gw,Kam:()=>CI,zvX:()=>wo,DNE:()=>Aw,C5r:()=>Am,EFF:()=>NM,JRh:()=>ud,SpI:()=>wa,Lme:()=>bm,E5c:()=>FI,GBs:()=>xM});let re=null,me=!1,ae=1;const x=Symbol("SIGNAL");function l(o){const s=re;return re=o,s}const Ue={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Y(o){if(me)throw new Error("");if(null===re)return;re.consumerOnSignalRead(o);const s=re.nextProducerIndex++;st(re),s<re.producerNode.length&&re.producerNode[s]!==o&&Ie(re)&&We(re.producerNode[s],re.producerIndexOfThis[s]),re.producerNode[s]!==o&&(re.producerNode[s]=o,re.producerIndexOfThis[s]=Ie(re)?Ae(o,re,s):0),re.producerLastReadVersion[s]=o.version}function Ne(o){if((!Ie(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==ae)){if(!o.producerMustRecompute(o)&&!Fe(o))return o.dirty=!1,void(o.lastCleanEpoch=ae);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=ae}}function oe(o){if(void 0===o.liveConsumerNode)return;const s=me;me=!0;try{for(const a of o.liveConsumerNode)a.dirty||Re(a)}finally{me=s}}function ze(){return!1!==re?.consumerAllowSignalWrites}function Re(o){o.dirty=!0,oe(o),o.consumerMarkedDirty?.(o)}function ke(o){return o&&(o.nextProducerIndex=0),l(o)}function ge(o,s){if(l(s),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(Ie(o))for(let a=o.nextProducerIndex;a<o.producerNode.length;a++)We(o.producerNode[a],o.producerIndexOfThis[a]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Fe(o){st(o);for(let s=0;s<o.producerNode.length;s++){const a=o.producerNode[s],u=o.producerLastReadVersion[s];if(u!==a.version||(Ne(a),u!==a.version))return!0}return!1}function xe(o){if(st(o),Ie(o))for(let s=0;s<o.producerNode.length;s++)We(o.producerNode[s],o.producerIndexOfThis[s]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function Ae(o,s,a){if(Qe(o),0===o.liveConsumerNode.length&&_e(o))for(let u=0;u<o.producerNode.length;u++)o.producerIndexOfThis[u]=Ae(o.producerNode[u],o,u);return o.liveConsumerIndexOfThis.push(a),o.liveConsumerNode.push(s)-1}function We(o,s){if(Qe(o),1===o.liveConsumerNode.length&&_e(o))for(let u=0;u<o.producerNode.length;u++)We(o.producerNode[u],o.producerIndexOfThis[u]);const a=o.liveConsumerNode.length-1;if(o.liveConsumerNode[s]=o.liveConsumerNode[a],o.liveConsumerIndexOfThis[s]=o.liveConsumerIndexOfThis[a],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,s<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[s],h=o.liveConsumerNode[s];st(h),h.producerIndexOfThis[u]=s}}function Ie(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function st(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function Qe(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function _e(o){return void 0!==o.producerNode}function ue(o){const s=Object.create(At);s.computation=o;const a=()=>{if(Ne(s),Y(s),s.value===Dt)throw s.error;return s.value};return a[x]=s,a}const Q=Symbol("UNSET"),mt=Symbol("COMPUTING"),Dt=Symbol("ERRORED"),At={...Ue,value:Q,dirty:!0,error:null,equal:J,producerMustRecompute:o=>o.value===Q||o.value===mt,producerRecomputeValue(o){if(o.value===mt)throw new Error("Detected cycle in computations.");const s=o.value;o.value=mt;const a=ke(o);let u;try{u=o.computation()}catch(h){u=Dt,o.error=h}finally{ge(o,a)}s!==Q&&s!==Dt&&u!==Dt&&o.equal(s,u)?o.value=s:(o.value=u,o.version++)}};let en=function ln(){throw new Error};function pn(){en()}let Ge=null;function B(o,s){ze()||pn(),o.equal(o.value,s)||(o.value=s,function ie(o){o.version++,function Me(){ae++}(),oe(o),Ge?.()}(o))}const Z={...Ue,equal:J,value:void 0};const Te=()=>{},It={...Ue,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:Te};var Rt=O(4412),Ut=O(1413),nn=O(8359),on=O(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Nd="https://g.co/ng/security#xss";class Qt extends Error{constructor(s,a){super(function oa(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,a)),this.code=s}}function xs(o){return{toString:o}.toString()}const Oa="__parameters__";function wr(o,s,a){return xs(()=>{const u=function bl(o){return function(...a){if(o){const u=o(...a);for(const h in u)this[h]=u[h]}}}(s);function h(...p){if(this instanceof h)return u.apply(this,p),this;const g=new h(...p);return E.annotation=g,E;function E(T,k,F){const G=T.hasOwnProperty(Oa)?T[Oa]:Object.defineProperty(T,Oa,{value:[]})[Oa];for(;G.length<=F;)G.push(null);return(G[F]=G[F]||[]).push(g),T}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}const Sr=globalThis;function ar(o){for(let s in o)if(o[s]===ar)return s;throw Error("Could not find renamed property on target object.")}function Uf(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function Wr(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Wr).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function El(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const Vd=ar({__forward_ref__:ar});function Lc(o){return o.__forward_ref__=Lc,o.toString=function(){return Wr(this())},o}function bn(o){return Vc(o)?o():o}function Vc(o){return"function"==typeof o&&o.hasOwnProperty(Vd)&&o.__forward_ref__===Lc}function Kn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function ur(o){return{providers:o.providers||[],imports:o.imports||[]}}function Pa(o){return xu(o,zo)||xu(o,Na)}function ao(o){return null!==Pa(o)}function xu(o,s){return o.hasOwnProperty(s)?o[s]:null}function Ms(o){return o&&(o.hasOwnProperty(Il)||o.hasOwnProperty(ca))?o[Il]:null}const zo=ar({\u0275prov:ar}),Il=ar({\u0275inj:ar}),Na=ar({ngInjectableDef:ar}),ca=ar({ngInjectorDef:ar});class Tn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Kn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function tt(o){return o&&!!o.\u0275providers}const Se=ar({\u0275cmp:ar}),nt=ar({\u0275dir:ar}),Le=ar({\u0275pipe:ar}),Xe=ar({\u0275mod:ar}),Ye=ar({\u0275fac:ar}),He=ar({__NG_ELEMENT_ID__:ar}),ft=ar({__NG_ENV_ID__:ar});function qe(o){return"string"==typeof o?o:null==o?"":String(o)}function qt(o,s){throw new Qt(-201,!1)}var yt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(yt||{});let Sn;function kn(){return Sn}function wn(o){const s=Sn;return Sn=o,s}function Ln(o,s,a){const u=Pa(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&yt.Optional?null:void 0!==s?s:void qt()}const fi={},ri="__NG_DI_FLAG__",Fa="ngTempTokenPath",Rs=/\n/gm,Eg="__source";let Mu;function sc(o){const s=Mu;return Mu=o,s}function lP(o,s=yt.Default){if(void 0===Mu)throw new Qt(-203,!1);return null===Mu?Ln(o,void 0,s):Mu.get(o,s&yt.Optional?null:void 0,s)}function yo(o,s=yt.Default){return(kn()||lP)(bn(o),s)}function sn(o,s=yt.Default){return yo(o,Ru(s))}function Ru(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Hd(o){const s=[];for(let a=0;a<o.length;a++){const u=bn(o[a]);if(Array.isArray(u)){if(0===u.length)throw new Qt(900,!1);let h,p=yt.Default;for(let g=0;g<u.length;g++){const E=u[g],T=wg(E);"number"==typeof T?-1===T?h=E.token:p|=T:h=E}s.push(yo(h,p))}else s.push(yo(u))}return s}function Ou(o,s){return o[ri]=s,o.prototype[ri]=s,o}function wg(o){return o[ri]}const Hf=Ou(wr("Optional"),8),Ig=Ou(wr("SkipSelf"),4);function ku(o,s){return o.hasOwnProperty(Ye)?o[Ye]:null}function Pu(o,s){o.forEach(a=>Array.isArray(a)?Pu(a,s):s(a))}function e0(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function Cg(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Os(o,s,a){let u=zd(o,s);return u>=0?o[1|u]=a:(u=~u,function n0(o,s,a,u){let h=o.length;if(h==s)o.push(a,u);else if(1===h)o.push(u,o[0]),o[0]=a;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=a,o[s+1]=u}}(o,u,s,a)),u}function r0(o,s){const a=zd(o,s);if(a>=0)return o[1|a]}function zd(o,s){return function rT(o,s,a){let u=0,h=o.length>>a;for(;h!==u;){const p=u+(h-u>>1),g=o[p<<a];if(s===g)return p<<a;g>s?h=p:u=p+1}return~(h<<a)}(o,s,1)}const ac={},rr=[],La=new Tn(""),iT=new Tn("",-1),o0=new Tn("");class Nu{get(s,a=fi){if(a===fi){const u=new Error(`NullInjectorError: No provider for ${Wr(s)}!`);throw u.name="NullInjectorError",u}return a}}var Dg=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Dg||{}),ua=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(ua||{}),Dl=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(Dl||{});function pP(o,s,a){let u=o.length;for(;;){const h=o.indexOf(s,a);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=s.length;if(h+p===u||o.charCodeAt(h+p)<=32)return h}a=h+1}}function pi(o,s,a){let u=0;for(;u<a.length;){const h=a[u];if("number"==typeof h){if(0!==h)break;u++;const p=a[u++],g=a[u++],E=a[u++];o.setAttribute(s,g,E,p)}else{const p=h,g=a[++u];Wo(p)?o.setProperty(s,p,g):o.setAttribute(s,p,g),u++}}return u}function Qr(o){return 3===o||4===o||6===o}function Wo(o){return 64===o.charCodeAt(0)}function Un(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?a=h:0===a||ki(o,a,h,null,-1===a||2===a?s[++u]:null)}}return o}function ki(o,s,a,u,h){let p=0,g=o.length;if(-1===s)g=-1;else for(;p<o.length;){const E=o[p++];if("number"==typeof E){if(E===s){g=-1;break}if(E>s){g=p-1;break}}}for(;p<o.length;){const E=o[p];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==h&&(o[p+1]=h));if(u===o[p+1])return void(o[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==g&&(o.splice(g,0,s),p=g+1),o.splice(p++,0,a),null!==u&&o.splice(p++,0,u),null!==h&&o.splice(p++,0,h)}const Gd="ng-template";function Tg(o,s,a,u){let h=0;if(u){for(;h<s.length&&"string"==typeof s[h];h+=2)if("class"===s[h]&&-1!==pP(s[h+1].toLowerCase(),a,0))return!0}else if(Gf(o))return!1;if(h=s.indexOf(1,h),h>-1){let p;for(;++h<s.length&&"string"==typeof(p=s[h]);)if(p.toLowerCase()===a)return!0}return!1}function Gf(o){return 4===o.type&&o.value!==Gd}function Bc(o,s,a){return s===(4!==o.type||a?o.value:Gd)}function Fu(o,s,a){let u=4;const h=o.attrs,p=null!==h?function Wd(o){for(let s=0;s<o.length;s++)if(Qr(o[s]))return s;return o.length}(h):0;let g=!1;for(let E=0;E<s.length;E++){const T=s[E];if("number"!=typeof T){if(!g)if(4&u){if(u=2|1&u,""!==T&&!Bc(o,T,a)||""===T&&1===s.length){if(gr(u))return!1;g=!0}}else if(8&u){if(null===h||!Tg(o,h,T,a)){if(gr(u))return!1;g=!0}}else{const k=s[++E],F=Tl(T,h,Gf(o),a);if(-1===F){if(gr(u))return!1;g=!0;continue}if(""!==k){let G;if(G=F>p?"":h[F+1].toLowerCase(),2&u&&k!==G){if(gr(u))return!1;g=!0}}}}else{if(!g&&!gr(u)&&!gr(T))return!1;if(g&&gr(T))continue;g=!1,u=T|1&u}}return gr(u)||g}function gr(o){return!(1&o)}function Tl(o,s,a,u){if(null===s)return-1;let h=0;if(u||!a){let p=!1;for(;h<s.length;){const g=s[h];if(g===o)return h;if(3===g||6===g)p=!0;else{if(1===g||2===g){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===g)break;if(0===g){h+=4;continue}}h+=p?1:2}return-1}return function Ko(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const u=o[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,o)}function s0(o,s,a=!1){for(let u=0;u<s.length;u++)if(Fu(o,s[u],a))return!0;return!1}function a0(o,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function Kd(o,s){return o?":not("+s.trim()+")":s}function Ag(o){let s=o[0],a=1,u=2,h="",p=!1;for(;a<o.length;){let g=o[a];if("string"==typeof g)if(2&u){const E=o[++a];h+="["+g+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+g:4&u&&(h+=" "+g);else""!==h&&!gr(g)&&(s+=Kd(p,h),h=""),u=g,p=p||!gr(u);a++}return""!==h&&(s+=Kd(p,h)),s}function c0(o){return xs(()=>{const s=Wf(o),a={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Dg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||ua.Emulated,styles:o.styles||rr,_:null,schemas:o.schemas||null,tView:null,id:""};Kf(a);const u=o.dependencies;return a.directiveDefs=Qd(u,!1),a.pipeDefs=Qd(u,!0),a.id=function aT(o){let s=0;const a=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of a)s=Math.imul(31,s)+h.charCodeAt(0)|0;return s+=2147483648,"c"+s}(a),a})}function Sg(o){return Vn(o)||Ei(o)}function Xd(o){return null!==o}function xg(o){return xs(()=>({type:o.type,bootstrap:o.bootstrap||rr,declarations:o.declarations||rr,imports:o.imports||rr,exports:o.exports||rr,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Mg(o,s){if(null==o)return ac;const a={};for(const u in o)if(o.hasOwnProperty(u)){const h=o[u];let p,g,E=Dl.None;Array.isArray(h)?(E=h[0],p=h[1],g=h[2]??p):(p=h,g=h),s?(a[p]=E!==Dl.None?[u,E]:u,s[p]=g):a[p]=u}return a}function l0(o){return xs(()=>{const s=Wf(o);return Kf(s),s})}function Rg(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Vn(o){return o[Se]||null}function Ei(o){return o[nt]||null}function Pi(o){return o[Le]||null}function Va(o){const s=Vn(o)||Ei(o)||Pi(o);return null!==s&&s.standalone}function Wi(o,s){const a=o[Xe]||null;if(!a&&!0===s)throw new Error(`Type ${Wr(o)} does not have '\u0275mod' property.`);return a}function Wf(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:o.inputs||ac,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||rr,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mg(o.inputs,s),outputs:Mg(o.outputs),debugInfo:null}}function Kf(o){o.features?.forEach(s=>s(o))}function Qd(o,s){if(!o)return null;const a=s?Pi:Sg;return()=>("function"==typeof o?o():o).map(u=>a(u)).filter(Xd)}function Yd(o){return{\u0275providers:o}}function cT(...o){return{\u0275providers:Og(0,o),\u0275fromNgModule:!0}}function Og(o,...s){const a=[],u=new Set;let h;const p=g=>{a.push(g)};return Pu(s,g=>{const E=g;Zd(E,p,[],u)&&(h||=[],h.push(E))}),void 0!==h&&u0(h,p),a}function u0(o,s){for(let a=0;a<o.length;a++){const{ngModule:u,providers:h}=o[a];Jd(h,p=>{s(p,u)})}}function Zd(o,s,a,u){if(!(o=bn(o)))return!1;let h=null,p=Ms(o);const g=!p&&Vn(o);if(p||g){if(g&&!g.standalone)return!1;h=o}else{const T=o.ngModule;if(p=Ms(T),!p)return!1;h=T}const E=u.has(h);if(g){if(E)return!1;if(u.add(h),g.dependencies){const T="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const k of T)Zd(k,s,a,u)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let k;u.add(h);try{Pu(p.imports,F=>{Zd(F,s,a,u)&&(k||=[],k.push(F))})}finally{}void 0!==k&&u0(k,s)}if(!E){const k=ku(h)||(()=>new h);s({provide:h,useFactory:k,deps:rr},h),s({provide:o0,useValue:h,multi:!0},h),s({provide:La,useValue:()=>yo(h),multi:!0},h)}const T=p.providers;if(null!=T&&!E){const k=o;Jd(T,F=>{s(F,k)})}}}return h!==o&&void 0!==o.providers}function Jd(o,s){for(let a of o)tt(a)&&(a=a.\u0275providers),Array.isArray(a)?Jd(a,s):s(a)}const lT=ar({provide:String,useValue:ar});function h0(o){return null!==o&&"object"==typeof o&&lT in o}function da(o){return"function"==typeof o}const kg=new Tn(""),Xf={},p0={};let Pg;function Qf(){return void 0===Pg&&(Pg=new Nu),Pg}class ks{}class Lu extends ks{get destroyed(){return this._destroyed}constructor(s,a,u,h){super(),this.parent=a,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lg(s,g=>this.processProvider(g)),this.records.set(iT,Al(void 0,this)),h.has("environment")&&this.records.set(ks,Al(void 0,this));const p=this.records.get(kg);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(o0,rr,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=l(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of a)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),l(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=sc(this),u=wn(void 0);try{return s()}finally{sc(a),wn(u)}}get(s,a=fi,u=yt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ft))return s[ft](this);u=Ru(u);const p=sc(this),g=wn(void 0);try{if(!(u&yt.SkipSelf)){let T=this.records.get(s);if(void 0===T){const k=function dT(o){return"function"==typeof o||"object"==typeof o&&o instanceof Tn}(s)&&Pa(s);T=k&&this.injectableDefInScope(k)?Al(Ng(s),Xf):null,this.records.set(s,T)}if(null!=T)return this.hydrate(s,T)}return(u&yt.Self?Qf():this.parent).get(s,a=u&yt.Optional&&a===fi?null:a)}catch(E){if("NullInjectorError"===E.name){if((E[Fa]=E[Fa]||[]).unshift(Wr(s)),p)throw E;return function Cl(o,s,a,u){const h=o[Fa];throw s[Eg]&&h.unshift(s[Eg]),o.message=function nT(o,s,a,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=Wr(s);if(Array.isArray(s))h=s.map(Wr).join(" -> ");else if("object"==typeof s){let p=[];for(let g in s)if(s.hasOwnProperty(g)){let E=s[g];p.push(g+":"+("string"==typeof E?JSON.stringify(E):Wr(E)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${o.replace(Rs,"\n  ")}`}("\n"+o.message,h,a,u),o.ngTokenPath=h,o[Fa]=null,o}(E,s,"R3InjectorError",this.source)}throw E}finally{wn(g),sc(p)}}resolveInjectorInitializers(){const s=l(null),a=sc(this),u=wn(void 0);try{const p=this.get(La,rr,yt.Self);for(const g of p)g()}finally{sc(a),wn(u),l(s)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(Wr(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qt(205,!1)}processProvider(s){let a=da(s=bn(s))?s:bn(s&&s.provide);const u=function uT(o){return h0(o)?Al(void 0,o.useValue):Al(Fg(o),Xf)}(s);if(!da(s)&&!0===s.multi){let h=this.records.get(a);h||(h=Al(void 0,Xf,!0),h.factory=()=>Hd(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,u)}hydrate(s,a){const u=l(null);try{return a.value===Xf&&(a.value=p0,a.value=a.factory()),"object"==typeof a.value&&a.value&&function g0(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}finally{l(u)}}injectableDefInScope(s){if(!s.providedIn)return!1;const a=bn(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Ng(o){const s=Pa(o),a=null!==s?s.factory:ku(o);if(null!==a)return a;if(o instanceof Tn)throw new Qt(204,!1);if(o instanceof Function)return function Yf(o){if(o.length>0)throw new Qt(204,!1);const a=function wl(o){return o&&(o[zo]||o[Na])||null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new Qt(204,!1)}function Fg(o,s,a){let u;if(da(o)){const h=bn(o);return ku(h)||Ng(h)}if(h0(o))u=()=>bn(o.useValue);else if(function eh(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...Hd(o.deps||[]));else if(function qf(o){return!(!o||!o.useExisting)}(o))u=()=>yo(bn(o.useExisting));else{const h=bn(o&&(o.useClass||o.provide));if(!function m0(o){return!!o.deps}(o))return ku(h)||Ng(h);u=()=>new h(...Hd(o.deps))}return u}function Al(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function Lg(o,s){for(const a of o)Array.isArray(a)?Lg(a,s):a&&tt(a)?Lg(a.\u0275providers,s):s(a)}function Vg(o,s){o instanceof Lu&&o.assertNotDestroyed();const u=sc(o),h=wn(void 0);try{return s()}finally{sc(u),wn(h)}}function Bg(){return void 0!==kn()||null!=function Yb(){return Mu}()}function Zf(o){if(!Bg())throw new Qt(-203,!1)}const kr=0,y=1,b=2,D=3,I=4,P=5,j=6,te=7,ne=8,Ee=9,ct=10,ot=11,Tt=12,St=13,Jt=14,mn=15,xn=16,er=17,_r=18,Ir=19,Ro=20,xr=21,co=22,ii=23,dn=25,nh=1,qo=7,cc=9,$r=10;var jc=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(jc||{});function Ar(o){return Array.isArray(o)&&"object"==typeof o[nh]}function Pr(o){return Array.isArray(o)&&!0===o[nh]}function Cr(o){return!!(4&o.flags)}function Ba(o){return o.componentOffset>-1}function jg(o){return!(1&~o.flags)}function bo(o){return!!o.template}function ep(o){return!!(512&o[b])}class ET{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function wT(o,s,a,u){null!==s?s.applyValueToInputSignal(s,u):o[a]=u}function $c(){return IT}function IT(o){return o.type.prototype.ngOnChanges&&(o.setInput=DT),CT}function CT(){const o=ih(this),s=o?.current;if(s){const a=o.previous;if(a===ac)o.previous=s;else for(let u in s)a[u]=s[u];o.current=null,this.ngOnChanges(s)}}function DT(o,s,a,u,h){const p=this.declaredInputs[u],g=ih(o)||function D0(o,s){return o[rp]=s}(o,{previous:ac,current:null}),E=g.current||(g.current={}),T=g.previous,k=T[p];E[p]=new ET(k&&k.currentValue,a,T===ac),wT(o,s,h,a)}$c.ngInherit=!0;const rp="__ngSimpleChanges__";function ih(o){return o[rp]||null}const lc=function(o,s,a){},ip="svg";function cr(o){for(;Array.isArray(o);)o=o[kr];return o}function oh(o,s){return cr(s[o])}function Ki(o,s){return cr(s[o.index])}function Vu(o,s){return o.data[s]}function Bu(o,s){return o[s]}function hs(o,s){const a=s[o];return Ar(a)?a:a[kr]}function Uu(o){return!(128&~o[b])}function Ii(o,s){return null==s?null:o[s]}function op(o){o[er]=0}function uc(o){1024&o[b]||(o[b]|=1024,Uu(o)&&zc(o))}function xl(o){return!!(9216&o[b]||o[ii]?.dirty)}function Hc(o){o[ct].changeDetectionScheduler?.notify(7),64&o[b]&&(o[b]|=1024),xl(o)&&zc(o)}function zc(o){o[ct].changeDetectionScheduler?.notify(0);let s=Gc(o);for(;null!==s&&!(8192&s[b])&&(s[b]|=8192,Uu(s));)s=Gc(s)}function sh(o,s){if(!(256&~o[b]))throw new Qt(911,!1);null===o[xr]&&(o[xr]=[]),o[xr].push(s)}function Gc(o){const s=o[D];return Pr(s)?s[D]:s}const An={lFrame:NT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let xT=!1;function MT(){return An.bindingsEnabled}function Ml(){return null!==An.skipHydrationRootTNode}function bt(){return An.lFrame.lView}function Gn(){return An.lFrame.tView}function IP(o){return An.lFrame.contextLView=o,o[ne]}function RT(o){return An.lFrame.contextLView=null,o}function Mr(){let o=OT();for(;null!==o&&64===o.type;)o=o.parent;return o}function OT(){return An.lFrame.currentTNode}function Ci(o,s){const a=An.lFrame;a.currentTNode=o,a.isParent=s}function x0(){return An.lFrame.isParent}function ju(){An.lFrame.isParent=!1}function Qg(){return xT}function ha(o){xT=o}function Ni(){const o=An.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function dc(){return An.lFrame.bindingIndex}function Ua(){return An.lFrame.bindingIndex++}function ps(o){const s=An.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}function PT(o,s){const a=An.lFrame;a.bindingIndex=a.bindingRootIndex=o,Zg(s)}function Zg(o){An.lFrame.currentDirectiveIndex=o}function cp(o){const s=An.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}function lp(){return An.lFrame.currentQueryIndex}function up(o){An.lFrame.currentQueryIndex=o}function dp(o){const s=o[y];return 2===s.type?s.declTNode:1===s.type?o[P]:null}function Jg(o,s,a){if(a&yt.SkipSelf){let h=s,p=o;for(;!(h=h.parent,null!==h||a&yt.Host||(h=dp(p),null===h||(p=p[Jt],10&h.type))););if(null===h)return!1;s=h,o=p}const u=An.lFrame=O0();return u.currentTNode=s,u.lView=o,!0}function ah(o){const s=O0(),a=o[y];An.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function O0(){const o=An.lFrame,s=null===o?null:o.child;return null===s?NT(o):s}function NT(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function ch(){const o=An.lFrame;return An.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const FT=ch;function k0(){const o=ch();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function lo(){return An.lFrame.selectedIndex}function hc(o){An.lFrame.selectedIndex=o}function Nr(){const o=An.lFrame;return Vu(o.tView,o.selectedIndex)}function LT(){An.lFrame.currentNamespace=ip}let N0=!0;function Rl(){return N0}function fc(o){N0=o}function Wc(o,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=o.data[a].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:k,ngOnDestroy:F}=p;g&&(o.contentHooks??=[]).push(-a,g),E&&((o.contentHooks??=[]).push(a,E),(o.contentCheckHooks??=[]).push(a,E)),T&&(o.viewHooks??=[]).push(-a,T),k&&((o.viewHooks??=[]).push(a,k),(o.viewCheckHooks??=[]).push(a,k)),null!=F&&(o.destroyHooks??=[]).push(a,F)}}function Ol(o,s,a){lh(o,s,3,a)}function e_(o,s,a,u){(3&o[b])===a&&lh(o,s,a,u)}function F0(o,s){let a=o[b];(3&a)===s&&(a&=16383,a+=1,o[b]=a)}function lh(o,s,a,u){const p=u??-1,g=s.length-1;let E=0;for(let T=void 0!==u?65535&o[er]:0;T<g;T++)if("number"==typeof s[T+1]){if(E=s[T],null!=u&&E>=u)break}else s[T]<0&&(o[er]+=65536),(E<p||-1==p)&&(AP(o,a,s,T),o[er]=(4294901760&o[er])+T+2),T++}function uh(o,s){lc(4,o,s);const a=l(null);try{s.call(o)}finally{l(a),lc(5,o,s)}}function AP(o,s,a,u){const h=a[u]<0,p=a[u+1],E=o[h?-a[u]:a[u]];h?o[b]>>14<o[er]>>16&&(3&o[b])===s&&(o[b]+=16384,uh(E,p)):uh(E,p)}const dh=-1;class hp{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}const V0={};class $u{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){u=Ru(u);const h=this.injector.get(s,V0,u);return h!==V0||a===V0?h:this.parentInjector.get(s,a,u)}}function B0(o){return o!==dh}function pp(o){return 32767&o}function mp(o,s){let a=function xP(o){return o>>16}(o),u=s;for(;a>0;)u=u[Jt],a--;return u}let U0=!0;function n_(o){const s=U0;return U0=o,s}const $T=255,r_=5;let i_=0;const Xo={};function o_(o,s){const a=HT(o,s);if(-1!==a)return a;const u=s[y];u.firstCreatePass&&(o.injectorIndex=s.length,j0(u.data,o),j0(s,null),j0(u.blueprint,null));const h=hh(o,s),p=o.injectorIndex;if(B0(h)){const g=pp(h),E=mp(h,s),T=E[y].data;for(let k=0;k<8;k++)s[p+k]=E[g+k]|T[g+k]}return s[p+8]=h,p}function j0(o,s){o.push(0,0,0,0,0,0,0,0,s)}function HT(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function hh(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,u=null,h=s;for(;null!==h;){if(u=G0(h),null===u)return dh;if(a++,h=h[Jt],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return dh}function $0(o,s,a){!function v$(o,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(He)&&(u=a[He]),null==u&&(u=a[He]=i_++);const h=u&$T;s.data[o+(h>>r_)]|=1<<h}(o,s,a)}function zT(o,s,a){if(a&yt.Optional||void 0!==o)return o;qt()}function z0(o,s,a,u){if(a&yt.Optional&&void 0===u&&(u=null),!(a&(yt.Self|yt.Host))){const h=o[Ee],p=wn(void 0);try{return h?h.get(s,u,a&yt.Optional):Ln(s,u,a&yt.Optional)}finally{wn(p)}}return zT(u,0,a)}function GT(o,s,a,u=yt.Default,h){if(null!==o){if(2048&s[b]&&!(u&yt.Self)){const g=function y$(o,s,a,u,h){let p=o,g=s;for(;null!==p&&null!==g&&2048&g[b]&&!(512&g[b]);){const E=WT(p,g,a,u|yt.Self,Xo);if(E!==Xo)return E;let T=p.parent;if(!T){const k=g[Ro];if(k){const F=k.get(a,Xo,u);if(F!==Xo)return F}T=G0(g),g=g[Jt]}p=T}return h}(o,s,a,u,Xo);if(g!==Xo)return g}const p=WT(o,s,a,u,Xo);if(p!==Xo)return p}return z0(s,a,u,h)}function WT(o,s,a,u,h){const p=function kP(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(He)?o[He]:void 0;return"number"==typeof s?s>=0?s&$T:PP:s}(a);if("function"==typeof p){if(!Jg(s,o,u))return u&yt.Host?zT(h,0,u):z0(s,a,u,h);try{let g;if(g=p(u),null!=g||u&yt.Optional)return g;qt()}finally{FT()}}else if("number"==typeof p){let g=null,E=HT(o,s),T=dh,k=u&yt.Host?s[mn][P]:null;for((-1===E||u&yt.SkipSelf)&&(T=-1===E?hh(o,s):s[E+8],T!==dh&&qT(u,!1)?(g=s[y],E=pp(T),s=mp(T,s)):E=-1);-1!==E;){const F=s[y];if(KT(p,E,F.data)){const G=OP(E,s,a,g,u,k);if(G!==Xo)return G}T=s[E+8],T!==dh&&qT(u,s[y].data[E+8]===k)&&KT(p,E,s)?(g=F,E=pp(T),s=mp(T,s)):E=-1}}return h}function OP(o,s,a,u,h,p){const g=s[y],E=g.data[o+8],F=s_(E,g,a,null==u?Ba(E)&&U0:u!=g&&!!(3&E.type),h&yt.Host&&p===E);return null!==F?pc(s,g,F,E):Xo}function s_(o,s,a,u,h){const p=o.providerIndexes,g=s.data,E=1048575&p,T=o.directiveStart,F=p>>20,de=h?E+F:o.directiveEnd;for(let ve=u?E:E+F;ve<de;ve++){const Ze=g[ve];if(ve<T&&a===Ze||ve>=T&&Ze.type===a)return ve}if(h){const ve=g[T];if(ve&&bo(ve)&&ve.type===a)return T}return null}function pc(o,s,a,u){let h=o[a];const p=s.data;if(function SP(o){return o instanceof hp}(h)){const g=h;g.resolving&&function xt(o,s){throw s&&s.join(" > "),new Qt(-200,o)}(function rt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():qe(o)}(p[a]));const E=n_(g.canSeeViewProviders);g.resolving=!0;const k=g.injectImpl?wn(g.injectImpl):null;Jg(o,u,yt.Default);try{h=o[a]=g.factory(void 0,p,o,u),s.firstCreatePass&&a>=u.directiveStart&&function TP(o,s,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(u){const g=IT(s);(a.preOrderHooks??=[]).push(o,g),(a.preOrderCheckHooks??=[]).push(o,g)}h&&(a.preOrderHooks??=[]).push(0-o,h),p&&((a.preOrderHooks??=[]).push(o,p),(a.preOrderCheckHooks??=[]).push(o,p))}(a,p[a],s)}finally{null!==k&&wn(k),n_(E),g.resolving=!1,FT()}}return h}function KT(o,s,a){return!!(a[s+(o>>r_)]&1<<o)}function qT(o,s){return!(o&yt.Self||o&yt.Host&&s)}class qi{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return GT(this._tNode,this._lView,s,Ru(u),a)}}function PP(){return new qi(Mr(),bt())}function XT(o){return xs(()=>{const s=o.prototype.constructor,a=s[Ye]||a_(s),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const p=h[Ye]||a_(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function a_(o){return Vc(o)?()=>{const s=a_(bn(o));return s&&s()}:ku(o)}function G0(o){const s=o[y],a=s.type;return 2===a?s.declTNode:1===a?o[P]:null}function gp(o){return function H0(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(Qr(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===s)return a[h+1];h+=2}}}return null}(Mr(),o)}function tA(o,s=null,a=null,u){const h=nA(o,s,a,u);return h.resolveInjectorInitializers(),h}function nA(o,s=null,a=null,u,h=new Set){const p=[a||rr,cT(o)];return u=u||("object"==typeof o?void 0:Wr(o)),new Lu(p,s||Qf(),u||null,h)}class Fi{static#e=this.THROW_IF_NOT_FOUND=fi;static#t=this.NULL=new Nu;static create(s,a){if(Array.isArray(s))return tA({name:""},a,s,"");{const u=s.name??"";return tA({name:u},s.parent,s.providers,u)}}static#n=this.\u0275prov=Kn({token:Fi,providedIn:"any",factory:()=>yo(iT)});static#r=this.__NG_ELEMENT_ID__=-1}new Tn("").__NG_ELEMENT_ID__=o=>{const s=Mr();if(null===s)throw new Qt(204,!1);if(2&s.type)return s.value;if(o&yt.Optional)return null;throw new Qt(204,!1)};function Q0(o){return o.ngOriginalError}class fa{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Q0(s);for(;a&&Q0(a);)a=Q0(a);return a||null}}const _p=new Tn("",{providedIn:"root",factory:()=>sn(fa).handleError.bind(void 0)});let vp=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=UP;static#t=this.__NG_ENV_ID__=a=>a}return o})();class BP extends vp{constructor(s){super(),this._lView=s}onDestroy(s){return sh(this._lView,s),()=>function Gg(o,s){if(null===o[xr])return;const a=o[xr].indexOf(s);-1!==a&&o[xr].splice(a,1)}(this._lView,s)}}function UP(){return new BP(bt())}function HP(){return _h(Mr(),bt())}function _h(o,s){return new Li(Ki(o,s))}let Li=(()=>{class o{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=HP}return o})();function oA(o){return o instanceof Li?o.nativeElement:o}let Hu=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Rt.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:()=>new o})}return o})();const mc=class zP extends Ut.B{constructor(s=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=s,Bg()&&(this.destroyRef=sn(vp,{optional:!0})??void 0,this.pendingTasks=sn(Hu,{optional:!0})??void 0)}emit(s){const a=l(null);try{super.next(s)}finally{l(a)}}subscribe(s,a,u){let h=s,p=a||(()=>null),g=u;if(s&&"object"==typeof s){const T=s;h=T.next?.bind(T),p=T.error?.bind(T),g=T.complete?.bind(T)}this.__isAsync&&(p=this.wrapInTimeout(p),h&&(h=this.wrapInTimeout(h)),g&&(g=this.wrapInTimeout(g)));const E=super.subscribe({next:h,error:p,complete:g});return s instanceof nn.yU&&s.add(E),E}wrapInTimeout(s){return a=>{const u=this.pendingTasks?.add();setTimeout(()=>{s(a),void 0!==u&&this.pendingTasks?.remove(u)})}}};function sA(){return this._results[Symbol.iterator]()}class Y0{static#e=Symbol.iterator;get changes(){return this._changes??=new mc}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=Y0.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=sA)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){this.dirty=!1;const u=function Go(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function hP(o,s,a){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],p=s[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(this._results,u,a))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function f_(o){return!(128&~o.flags)}const ma=new Map;let WP=0;const eE="__ngContext__";function Qo(o,s){Ar(s)?(o[eE]=s[Ir],function C$(o){ma.set(o[Ir],o)}(s)):o[eE]=s}function nE(o){return n1(o[Tt])}function fA(o){return n1(o[I])}function n1(o){for(;null!==o&&!Pr(o);)o=o[I];return o}let m_;function wp(o){m_=o}const g_=new Tn("",{providedIn:"root",factory:()=>u1}),u1="ng",__=new Tn(""),ga=new Tn("",{providedIn:"platform",factory:()=>"unknown"}),A$=new Tn(""),mA=new Tn("",{providedIn:"root",factory:()=>function gc(){if(void 0!==m_)return m_;if(typeof document<"u")return document;throw new Qt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let yA=()=>null;function bA(o,s,a=!1){return yA(o,s,a)}const b1=new Tn("",{providedIn:"root",factory:()=>!1});let hE,fE;function Cp(o){return function DA(){if(void 0===hE&&(hE=null,Sr.trustedTypes))try{hE=Sr.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return hE}()?.createHTML(o)||o}function I1(o){return function TA(){if(void 0===fE&&(fE=null,Sr.trustedTypes))try{fE=Sr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return fE}()?.createScriptURL(o)||o}class Ih{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nd})`}}class V$ extends Ih{getTypeName(){return"HTML"}}class B$ extends Ih{getTypeName(){return"Style"}}class U$ extends Ih{getTypeName(){return"Script"}}class j$ extends Ih{getTypeName(){return"URL"}}class $$ extends Ih{getTypeName(){return"ResourceURL"}}function Fl(o){return o instanceof Ih?o.changingThisBreaksApplicationSecurity:o}function Dp(o,s){const a=function H$(o){return o instanceof Ih&&o.getTypeName()||null}(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Nd})`)}return a===s}function z$(o){return new V$(o)}function G$(o){return new B$(o)}function W$(o){return new U$(o)}function K$(o){return new j$(o)}function q$(o){return new $$(o)}class X${constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Cp(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class Q${constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=Cp(s),a}}const Z$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pE(o){return(o=String(o)).match(Z$)?o:"unsafe:"+o}function Ll(o){const s={};for(const a of o.split(","))s[a]=!0;return s}function C_(...o){const s={};for(const a of o)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const D1=Ll("area,br,col,hr,img,wbr"),T1=Ll("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),A1=Ll("rp,rt"),xA=C_(D1,C_(T1,Ll("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),C_(A1,Ll("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),C_(A1,T1)),MA=Ll("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),S1=C_(MA,Ll("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ll("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),J$=Ll("script,style,template");class e4{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0,h=[];for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)h.push(a),a=r4(a);else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let p=n4(a);if(p){a=p;break}a=h.pop()}return this.buf.join("")}startElement(s){const a=x1(s).toLowerCase();if(!xA.hasOwnProperty(a))return this.sanitizedSomething=!0,!J$.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),g=p.name,E=g.toLowerCase();if(!S1.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=p.value;MA[E]&&(T=pE(T)),this.buf.push(" ",g,'="',R1(T),'"')}return this.buf.push(">"),!0}endElement(s){const a=x1(s).toLowerCase();xA.hasOwnProperty(a)&&!D1.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(R1(s))}}function n4(o){const s=o.nextSibling;if(s&&o!==s.previousSibling)throw M1(s);return s}function r4(o){const s=o.firstChild;if(s&&function t4(o,s){return(o.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,s))throw M1(s);return s}function x1(o){const s=o.nodeName;return"string"==typeof s?s:"FORM"}function M1(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const i4=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,o4=/([^\#-~ |!])/g;function R1(o){return o.replace(/&/g,"&amp;").replace(i4,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(o4,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mE;function O1(o,s){let a=null;try{mE=mE||function C1(o){const s=new Q$(o);return function Y$(){try{return!!(new window.DOMParser).parseFromString(Cp(""),"text/html")}catch{return!1}}()?new X$(s):s}(o);let u=s?String(s):"";a=mE.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=a.innerHTML,a=mE.getInertBodyElement(u)}while(u!==p);return Cp((new e4).sanitizeChildren(RA(a)||a))}finally{if(a){const u=RA(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function RA(o){return"content"in o&&function s4(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Ch=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Ch||{});function k1(o){const s=Yc();return s?s.sanitize(Ch.URL,o)||"":Dp(o,"URL")?Fl(o):pE(qe(o))}function P1(o){const s=Yc();if(s)return I1(s.sanitize(Ch.RESOURCE_URL,o)||"");if(Dp(o,"ResourceURL"))return I1(Fl(o));throw new Qt(904,!1)}function OA(o,s,a){return function D_(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?P1:k1}(s,a)(o)}function Yc(){const o=bt();return o&&o[ct].sanitizer}function Ps(o){return o instanceof Function?o():o}function Ns(o){return"browser"===(o??sn(Fi)).get(ga)}var R_=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(R_||{});let bE;function EE(o,s){return bE(o,s)}function Th(o,s,a,u,h){if(null!=u){let p,g=!1;Pr(u)?p=u:Ar(u)&&(g=!0,u=u[kr]);const E=cr(u);0===o&&null!==a?null==h?Wu(s,a,E):Vl(s,a,E,h||null,!0):1===o&&null!==a?Vl(s,a,E,h||null,!0):2===o?function Ah(o,s,a){const u=N_(o,s);u&&function K1(o,s,a,u){o.removeChild(s,a,u)}(o,u,s,a)}(s,E,g):3===o&&s.destroyNode(E),null!=p&&function Y1(o,s,a,u,h){const p=a[qo];p!==cr(a)&&Th(s,o,u,p,h);for(let E=$r;E<a.length;E++){const T=a[E];OE(T[y],T,o,s,u,p)}}(s,o,p,a,h)}}function k_(o,s,a){return o.createElement(s,a)}function CE(o,s){s[ct].changeDetectionScheduler?.notify(8),OE(o,s,s[ot],2,null,null)}function W1(o,s){const a=o[cc],u=s[D];(Ar(u)||s[mn]!==u[D][mn])&&(o[b]|=jc.HasTransplantedViews),null===a?o[cc]=[s]:a.push(s)}function zA(o,s){const a=o[cc],u=a.indexOf(s);a.splice(u,1)}function P_(o,s){if(o.length<=$r)return;const a=$r+s,u=o[a];if(u){const h=u[xn];null!==h&&h!==o&&zA(h,u),s>0&&(o[a-1][I]=u[I]);const p=Cg(o,$r+s);!function z1(o,s){CE(o,s),s[kr]=null,s[P]=null}(u[y],u);const g=p[_r];null!==g&&g.detachView(p[y]),u[D]=null,u[I]=null,u[b]&=-129}return u}function DE(o,s){if(!(256&s[b])){const a=s[ot];a.destroyNode&&OE(o,s,a,3,null,null),function HA(o){let s=o[Tt];if(!s)return GA(o[y],o);for(;s;){let a=null;if(Ar(s))a=s[Tt];else{const u=s[$r];u&&(a=u)}if(!a){for(;s&&!s[I]&&s!==o;)Ar(s)&&GA(s[y],s),s=s[D];null===s&&(s=o),Ar(s)&&GA(s[y],s),a=s&&s[I]}s=a}}(s)}}function GA(o,s){if(256&s[b])return;const a=l(null);try{s[b]&=-129,s[b]|=256,s[ii]&&xe(s[ii]),function AE(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let u=0;u<a.length;u+=2){const h=s[a[u]];if(!(h instanceof hp)){const p=a[u+1];if(Array.isArray(p))for(let g=0;g<p.length;g+=2){const E=h[p[g]],T=p[g+1];lc(4,E,T);try{T.call(E)}finally{lc(5,E,T)}}else{lc(4,h,p);try{p.call(h)}finally{lc(5,h,p)}}}}}(o,s),function TE(o,s){const a=o.cleanup,u=s[te];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const g=a[p+3];g>=0?u[g]():u[-g].unsubscribe(),p+=2}else a[p].call(u[a[p+1]]);null!==u&&(s[te]=null);const h=s[xr];if(null!==h){s[xr]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(o,s),1===s[y].type&&s[ot].destroy();const u=s[xn];if(null!==u&&Pr(s[D])){u!==s[D]&&zA(u,s);const h=s[_r];null!==h&&h.detachView(o)}!function aA(o){ma.delete(o[Ir])}(s)}finally{l(a)}}function SE(o,s,a){return function WA(o,s,a){let u=s;for(;null!==u&&168&u.type;)u=(s=u).parent;if(null===u)return a[kr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:p}=o.data[u.directiveStart+h];if(p===ua.None||p===ua.Emulated)return null}return Ki(u,a)}}(o,s.parent,a)}function Vl(o,s,a,u,h){o.insertBefore(s,a,u,h)}function Wu(o,s,a){o.appendChild(s,a)}function KA(o,s,a,u,h){null!==u?Vl(o,s,a,u,h):Wu(o,s,a)}function N_(o,s){return o.parentNode(s)}function xE(o,s,a){return Sp(o,s,a)}let ME,Sp=function X1(o,s,a){return 40&o.type?Ki(o,a):null};function ja(o,s,a,u){const h=SE(o,u,s),p=s[ot],E=xE(u.parent||s[P],u,s);if(null!=h)if(Array.isArray(a))for(let T=0;T<a.length;T++)KA(p,h,a[T],E,!1);else KA(p,h,a,E,!1);void 0!==ME&&ME(p,u,s,a,h)}function Mp(o,s){if(null!==s){const a=s.type;if(3&a)return Ki(s,o);if(4&a)return F_(-1,o[s.index]);if(8&a){const u=s.child;if(null!==u)return Mp(o,u);{const h=o[s.index];return Pr(h)?F_(-1,h):cr(h)}}if(32&a)return EE(s,o)()||cr(o[s.index]);{const u=Bl(o,s);return null!==u?Array.isArray(u)?u[0]:Mp(Gc(o[mn]),u):Mp(o,s.next)}}return null}function Bl(o,s){return null!==s?o[mn][P].projection[s.projection]:null}function F_(o,s){const a=$r+o+1;if(a<s.length){const u=s[a],h=u[y].firstChild;if(null!==h)return Mp(u,h)}return s[qo]}function RE(o,s,a,u,h,p,g){for(;null!=a;){if(128===a.type){a=a.next;continue}const E=u[a.index],T=a.type;if(g&&0===s&&(E&&Qo(cr(E),u),a.flags|=2),32&~a.flags)if(8&T)RE(o,s,a.child,u,h,p,!1),Th(s,o,h,E,p);else if(32&T){const k=EE(a,u);let F;for(;F=k();)Th(s,o,h,F,p);Th(s,o,h,E,p)}else 16&T?qA(o,s,u,a,h,p):Th(s,o,h,E,p);a=g?a.projectionNext:a.next}}function OE(o,s,a,u,h,p){RE(a,u,o.firstChild,s,h,p,!1)}function qA(o,s,a,u,h,p){const g=a[mn],T=g[P].projection[u.projection];if(Array.isArray(T))for(let k=0;k<T.length;k++)Th(s,o,h,T[k],p);else{let k=T;const F=g[D];f_(u)&&(k.flags|=128),RE(o,s,k,F,h,p,!0)}}function J1(o,s,a){""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a)}function Sh(o,s,a){const{mergedAttrs:u,classes:h,styles:p}=a;null!==u&&pi(o,s,u),null!==h&&J1(o,s,h),null!==p&&function vc(o,s,a){o.setAttribute(s,"style",a)}(o,s,p)}const Mn={};function eN(o=1){tN(Gn(),bt(),lo()+o,!1)}function tN(o,s,a,u){if(!u)if(3&~s[b]){const p=o.preOrderHooks;null!==p&&e_(s,p,0,a)}else{const p=o.preOrderCheckHooks;null!==p&&Ol(s,p,a)}hc(a)}function xh(o,s=yt.Default){const a=bt();return null===a?yo(o,s):GT(Mr(),a,bn(o),s)}function XA(){throw new Error("invalid")}function QA(o,s,a,u,h,p){const g=l(null);try{let E=null;h&Dl.SignalBased&&(E=s[u][x]),null!==E&&void 0!==E.transformFn&&(p=E.transformFn(p)),h&Dl.HasDecoratorInputTransform&&(p=o.inputTransforms[u].call(s,p)),null!==o.setInput?o.setInput(s,E,p,a,u):wT(s,E,u,p)}finally{l(g)}}function V_(o,s,a,u,h,p,g,E,T,k,F){const G=s.blueprint.slice();return G[kr]=h,G[b]=204|u,(null!==k||o&&2048&o[b])&&(G[b]|=2048),op(G),G[D]=G[Jt]=o,G[ne]=a,G[ct]=g||o&&o[ct],G[ot]=E||o&&o[ot],G[Ee]=T||o&&o[Ee]||null,G[P]=p,G[Ir]=function I$(){return WP++}(),G[j]=F,G[Ro]=k,G[mn]=2==s.type?o[mn]:G,G}function Ku(o,s,a,u,h){let p=o.data[s];if(null===p)p=function kE(o,s,a,u,h){const p=OT(),g=x0(),T=o.data[s]=function B_(o,s,a,u,h,p){let g=s?s.injectorIndex:-1,E=0;return Ml()&&(E|=128),{type:a,index:u,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?p:p&&p.parent,a,s,u,h);return null===o.firstChild&&(o.firstChild=T),null!==p&&(g?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T,T.prev=p)),T}(o,s,a,u,h),function Yg(){return An.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const g=function sp(){const o=An.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();p.injectorIndex=null===g?-1:g.injectorIndex}return Ci(p,!0),p}function Rp(o,s,a,u){if(0===a)return-1;const h=s.length;for(let p=0;p<a;p++)s.push(u),o.blueprint.push(u),o.data.push(null);return h}function PE(o,s,a,u,h){const p=lo(),g=2&u;try{hc(-1),g&&s.length>dn&&tN(o,s,dn,!1),lc(g?2:0,h),a(u,h)}finally{hc(p),lc(g?3:1,h)}}function YA(o,s,a){if(Cr(s)){const u=l(null);try{const p=s.directiveEnd;for(let g=s.directiveStart;g<p;g++){const E=o.data[g];E.contentQueries&&E.contentQueries(1,a[g],g)}}finally{l(u)}}}function ZA(o,s,a){MT()&&(function S4(o,s,a,u){const h=a.directiveStart,p=a.directiveEnd;Ba(a)&&function nS(o,s,a){const u=Ki(s,o),h=JA(a);let g=16;a.signals?g=4096:a.onPush&&(g=64);const E=qu(o,V_(o,h,null,g,u,s,null,o[ct].rendererFactory.createRenderer(u,a),null,null,null));o[s.index]=E}(s,a,o.data[h+a.componentOffset]),o.firstCreatePass||o_(a,s),Qo(u,s);const g=a.initialInputs;for(let E=h;E<p;E++){const T=o.data[E],k=pc(s,o,E,a);Qo(k,s),null!==g&&uN(0,E-h,k,T,0,g),bo(T)&&(hs(a.index,s)[ne]=pc(s,o,E,a))}}(o,s,a,Ki(a,s)),!(64&~a.flags)&&cN(o,s,a))}function NE(o,s,a=Ki){const u=s.localNames;if(null!==u){let h=s.index+1;for(let p=0;p<u.length;p+=2){const g=u[p+1],E=-1===g?a(s,o):o[g];o[h++]=E}}}function JA(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Fr(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):s}function Fr(o,s,a,u,h,p,g,E,T,k,F){const G=dn+u,de=G+h,ve=function v4(o,s){const a=[];for(let u=0;u<s;u++)a.push(u<o?null:Mn);return a}(G,de),Ze="function"==typeof k?k():k;return ve[y]={type:o,blueprint:ve,template:a,queries:null,viewQuery:E,declTNode:s,data:ve.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:T,consts:Ze,incompleteFirstPass:!1,ssrId:F}}let rN=()=>null;function iN(o,s,a,u,h){for(let p in s){if(!s.hasOwnProperty(p))continue;const g=s[p];if(void 0===g)continue;u??={};let E,T=Dl.None;Array.isArray(g)?(E=g[0],T=g[1]):E=g;let k=p;if(null!==h){if(!h.hasOwnProperty(p))continue;k=h[p]}0===o?oN(u,a,k,E,T):oN(u,a,k,E)}return u}function oN(o,s,a,u,h){let p;o.hasOwnProperty(a)?(p=o[a]).push(s,u):p=o[a]=[s,u],void 0!==h&&p.push(h)}function ms(o,s,a,u,h,p,g,E){const T=Ki(s,a);let F,k=s.inputs;!E&&null!=k&&(F=k[u])?(H_(o,a,F,u,h),Ba(s)&&function aN(o,s){const a=hs(s,o);16&a[b]||(a[b]|=64)}(a,s.index)):3&s.type&&(u=function sN(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=g?g(h,s.value||"",u):h,p.setProperty(T,u,h))}function FE(o,s,a,u){if(MT()){const h=null===u?null:{"":-1},p=function x4(o,s){const a=o.directiveRegistry;let u=null,h=null;if(a)for(let p=0;p<a.length;p++){const g=a[p];if(s0(s,g.selectors,!1))if(u||(u=[]),bo(g))if(null!==g.findHostDirectiveDefs){const E=[];h=h||new Map,g.findHostDirectiveDefs(g,E,h),u.unshift(...E,g),tS(o,s,E.length)}else u.unshift(g),tS(o,s,0);else h=h||new Map,g.findHostDirectiveDefs?.(g,u,h),u.push(g)}return null===u?null:[u,h]}(o,a);let g,E;null===p?g=E=null:[g,E]=p,null!==g&&eS(o,s,a,g,h,E),h&&function Op(o,s,a){if(s){const u=o.localNames=[];for(let h=0;h<s.length;h+=2){const p=a[s[h+1]];if(null==p)throw new Qt(-301,!1);u.push(s[h],p)}}}(a,u,h)}a.mergedAttrs=Un(a.mergedAttrs,a.attrs)}function eS(o,s,a,u,h,p){for(let k=0;k<u.length;k++)$0(o_(a,s),o,u[k].type);!function _a(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}(a,o.data.length,u.length);for(let k=0;k<u.length;k++){const F=u[k];F.providersResolver&&F.providersResolver(F)}let g=!1,E=!1,T=Rp(o,s,u.length,null);for(let k=0;k<u.length;k++){const F=u[k];a.mergedAttrs=Un(a.mergedAttrs,F.hostAttrs),lN(o,a,s,T,F),M4(T,F,h),null!==F.contentQueries&&(a.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=64);const G=F.type.prototype;!g&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((o.preOrderHooks??=[]).push(a.index),g=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(a.index),E=!0),T++}!function C4(o,s,a){const h=s.directiveEnd,p=o.data,g=s.attrs,E=[];let T=null,k=null;for(let F=s.directiveStart;F<h;F++){const G=p[F],de=a?a.get(G):null,Ze=de?de.outputs:null;T=iN(0,G.inputs,F,T,de?de.inputs:null),k=iN(1,G.outputs,F,k,Ze);const _t=null===T||null===g||Gf(s)?null:rS(T,F,g);E.push(_t)}null!==T&&(T.hasOwnProperty("class")&&(s.flags|=8),T.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=T,s.outputs=k}(o,a,p)}function cN(o,s,a){const u=a.directiveStart,h=a.directiveEnd,p=a.index,g=function R0(){return An.lFrame.currentDirectiveIndex}();try{hc(p);for(let E=u;E<h;E++){const T=o.data[E],k=s[E];Zg(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&U_(T,k)}}finally{hc(-1),Zg(g)}}function U_(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function tS(o,s,a){s.componentOffset=a,(o.components??=[]).push(s.index)}function M4(o,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=o;bo(s)&&(a[""]=o)}}function lN(o,s,a,u,h){o.data[u]=h;const p=h.factory||(h.factory=ku(h.type)),g=new hp(p,bo(h),xh);o.blueprint[u]=g,a[u]=g,function T4(o,s,a,u,h){const p=h.hostBindings;if(p){let g=o.hostBindingOpCodes;null===g&&(g=o.hostBindingOpCodes=[]);const E=~s.index;(function A4(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(g)!=E&&g.push(E),g.push(a,u,p)}}(o,s,u,Rp(o,a,h.hostVars,Mn),h)}function yc(o,s,a,u,h,p){const g=Ki(o,s);!function j_(o,s,a,u,h,p,g){if(null==p)o.removeAttribute(s,h,a);else{const E=null==g?qe(p):g(p,u||"",h);o.setAttribute(s,h,E,a)}}(s[ot],g,p,o.value,a,u,h)}function uN(o,s,a,u,h,p){const g=p[s];if(null!==g)for(let E=0;E<g.length;)QA(u,a,g[E++],g[E++],g[E++],g[E++])}function rS(o,s,a){let u=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===u&&(u=[]);const g=o[p];for(let E=0;E<g.length;E+=3)if(g[E]===s){u.push(p,g[E+1],g[E+2],a[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function LE(o,s,a,u){return[o,!0,0,s,null,u,null,a,null,null]}function VE(o,s){const a=o.contentQueries;if(null!==a){const u=l(null);try{for(let h=0;h<a.length;h+=2){const g=a[h+1];if(-1!==g){const E=o.data[g];up(a[h]),E.contentQueries(2,s[g],g)}}}finally{l(u)}}}function qu(o,s){return o[Tt]?o[St][I]=s:o[Tt]=s,o[St]=s,s}function BE(o,s,a){up(0);const u=l(null);try{s(o,a)}finally{l(u)}}function kp(o){return o[te]??=[]}function Pp(o){return o.cleanup??=[]}function iS(o,s,a){return(null===o||bo(o))&&(a=function T0(o){for(;Array.isArray(o);){if("object"==typeof o[nh])return o;o=o[kr]}return null}(a[s.index])),a[ot]}function $_(o,s){const a=o[Ee],u=a?a.get(fa,null):null;u&&u.handleError(s)}function H_(o,s,a,u,h){for(let p=0;p<a.length;){const g=a[p++],E=a[p++],T=a[p++];QA(o.data[g],s[g],u,E,T,h)}}function Ul(o,s,a){const u=oh(s,o);!function IE(o,s,a){o.setValue(s,a)}(o[ot],u,a)}function oS(o,s){const a=hs(s,o),u=a[y];!function R4(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])}(u,a);const h=a[kr];null!==h&&null===a[j]&&(a[j]=bA(h,a[Ee])),jE(u,a,a[ne])}function jE(o,s,a){ah(s);try{const u=o.viewQuery;null!==u&&BE(1,u,a);const h=o.template;null!==h&&PE(o,s,h,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),s[_r]?.finishViewCreation(o),o.staticContentQueries&&VE(o,s),o.staticViewQueries&&BE(2,o.viewQuery,a);const p=o.components;null!==p&&function dN(o,s){for(let a=0;a<s.length;a++)oS(o,s[a])}(s,p)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[b]&=-5,k0()}}function jl(o,s,a,u){const h=l(null);try{const p=s.tView,T=V_(o,p,a,4096&o[b]?4096:16,null,s,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);T[xn]=o[s.index];const F=o[_r];return null!==F&&(T[_r]=F.createEmbeddedView(p)),jE(p,T,a),T}finally{l(h)}}function sS(o,s){const a=$r+s;if(a<o.length)return o[a]}function Xu(o,s){return!s||null===s.firstChild||f_(o)}function Qu(o,s,a,u=!0){const h=s[y];if(function g4(o,s,a,u){const h=$r+u,p=a.length;u>0&&(a[h-1][I]=s),u<p-$r?(s[I]=a[h],e0(a,$r+u,s)):(a.push(s),s[I]=null),s[D]=a;const g=s[xn];null!==g&&a!==g&&W1(g,s);const E=s[_r];null!==E&&E.insertView(o),Hc(s),s[b]|=128}(h,s,o,a),u){const g=F_(a,o),E=s[ot],T=N_(E,o[qo]);null!==T&&function G1(o,s,a,u,h,p){u[kr]=h,u[P]=s,OE(o,u,a,1,h,p)}(h,o[P],E,s,T,g)}const p=s[j];null!==p&&null!==p.firstChild&&(p.firstChild=null)}function z_(o,s){const a=P_(o,s);return void 0!==a&&DE(a[y],a),a}function Mh(o,s,a,u,h=!1){for(;null!==a;){if(128===a.type){a=h?a.projectionNext:a.next;continue}const p=s[a.index];null!==p&&u.push(cr(p)),Pr(p)&&G_(p,u);const g=a.type;if(8&g)Mh(o,s,a.child,u);else if(32&g){const E=EE(a,s);let T;for(;T=E();)u.push(T)}else if(16&g){const E=Bl(s,a);if(Array.isArray(E))u.push(...E);else{const T=Gc(s[mn]);Mh(T[y],T,E,u,!0)}}a=h?a.projectionNext:a.next}return u}function G_(o,s){for(let a=$r;a<o.length;a++){const u=o[a],h=u[y].firstChild;null!==h&&Mh(u[y],u,h,s)}o[qo]!==o[kr]&&s.push(o[qo])}let W_=[];const hN={...Ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{zc(o.lView)},consumerOnSignalRead(){this.lView[ii]=this}},pN={...Ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let s=Gc(o.lView);for(;s&&!lS(s[y]);)s=Gc(s);s&&uc(s)},consumerOnSignalRead(){this.lView[ii]=this}};function lS(o){return 2!==o.type}const mN=100;function $E(o,s=!0,a=0){const u=o[ct],h=u.rendererFactory;h.begin?.();try{!function gN(o,s){const a=Qg();try{ha(!0),GE(o,s);let u=0;for(;xl(o);){if(u===mN)throw new Qt(103,!1);u++,GE(o,1)}}finally{ha(a)}}(o,a)}catch(g){throw s&&$_(o,g),g}finally{h.end?.(),u.inlineEffectRunner?.flush()}}function _N(o,s,a,u){const h=s[b];if(!(256&~h))return;s[ct].inlineEffectRunner?.flush(),ah(s);let E=!0,T=null,k=null;lS(o)?(k=function aS(o){return o[ii]??function K_(o){const s=W_.pop()??Object.create(hN);return s.lView=o,s}(o)}(s),T=ke(k)):null===function De(){return re}()?(E=!1,k=function fN(o){const s=o[ii]??Object.create(pN);return s.lView=o,s}(s),T=ke(k)):s[ii]&&(xe(s[ii]),s[ii]=null);try{op(s),function M0(o){return An.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&PE(o,s,a,2,u);const F=!(3&~h);if(F){const ve=o.preOrderCheckHooks;null!==ve&&Ol(s,ve,null)}else{const ve=o.preOrderHooks;null!==ve&&e_(s,ve,0,null),F0(s,0)}if(function zE(o){for(let s=nE(o);null!==s;s=fA(s)){if(!(s[b]&jc.HasTransplantedViews))continue;const a=s[cc];for(let u=0;u<a.length;u++)uc(a[u])}}(s),q_(s,0),null!==o.contentQueries&&VE(o,s),F){const ve=o.contentCheckHooks;null!==ve&&Ol(s,ve)}else{const ve=o.contentHooks;null!==ve&&e_(s,ve,1),F0(s,1)}!function nN(o,s){const a=o.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)hc(~h);else{const p=h,g=a[++u],E=a[++u];PT(g,p),E(2,s[p])}}}finally{hc(-1)}}(o,s);const G=o.components;null!==G&&uS(s,G,0);const de=o.viewQuery;if(null!==de&&BE(2,de,u),F){const ve=o.viewCheckHooks;null!==ve&&Ol(s,ve)}else{const ve=o.viewHooks;null!==ve&&e_(s,ve,2),F0(s,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[co]){for(const ve of s[co])ve();s[co]=null}s[b]&=-73}catch(F){throw zc(s),F}finally{null!==k&&(ge(k,T),E&&function cS(o){o.lView[ii]!==o&&(o.lView=null,W_.push(o))}(k)),k0()}}function q_(o,s){for(let a=nE(o);null!==a;a=fA(a))for(let u=$r;u<a.length;u++)vN(a[u],s)}function Zc(o,s,a){vN(hs(s,o),a)}function vN(o,s){Uu(o)&&GE(o,s)}function GE(o,s){const u=o[y],h=o[b],p=o[ii];let g=!!(0===s&&16&h);if(g||=!!(64&h&&0===s),g||=!!(1024&h),g||=!(!p?.dirty||!Fe(p)),g||=!1,p&&(p.dirty=!1),o[b]&=-9217,g)_N(u,o,u.template,o[ne]);else if(8192&h){q_(o,1);const E=u.components;null!==E&&uS(o,E,1)}}function uS(o,s,a){for(let u=0;u<s.length;u++)Zc(o,s[u],a)}function Np(o,s){const a=Qg()?64:1088;for(o[ct].changeDetectionScheduler?.notify(s);o;){o[b]|=a;const u=Gc(o);if(ep(o)&&!u)return o;o=u}return null}class Fp{get rootNodes(){const s=this._lView,a=s[y];return Mh(a,s,a.firstChild,[])}constructor(s,a,u=!0){this._lView=s,this._cdRefInjectingView=a,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ne]}set context(s){this._lView[ne]=s}get destroyed(){return!(256&~this._lView[b])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[D];if(Pr(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(P_(s,u),Cg(a,u))}this._attachedToViewContainer=!1}DE(this._lView[y],this._lView)}onDestroy(s){sh(this._lView,s)}markForCheck(){Np(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[b]&=-129}reattach(){Hc(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,$E(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const s=ep(this._lView),a=this._lView[xn];null!==a&&!s&&zA(a,this._lView),CE(this._lView[y],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Qt(902,!1);this._appRef=s;const a=ep(this._lView),u=this._lView[xn];null!==u&&!a&&W1(u,this._lView),Hc(this._lView)}}let Rh=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=O4}return o})();const X_=Rh,$l=class extends X_{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,u){const h=jl(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:a,dehydratedView:u});return new Fp(h)}};function O4(){return Q_(Mr(),bt())}function Q_(o,s){return 4&o.type?new $l(s,o,_h(o,s)):null}let xS=()=>null;function Yu(o,s){return xS(o,s)}class Wl{}const Fh=new Tn("",{providedIn:"root",factory:()=>!1}),Wp=new Tn("");class qN{}class XN{}class QN{resolveComponentFactory(s){throw function iv(o){const s=Error(`No component factory found for ${Wr(o)}.`);return s.ngComponent=o,s}(s)}}class Kp{static#e=this.NULL=new QN}class nw{}let RS=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function YN(){const o=bt(),a=hs(Mr().index,o);return(Ar(a)?a:o)[ot]}()}return o})(),ZN=(()=>{class o{static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:()=>null})}return o})();const $a=new Set;function Eo(o){$a.has(o)||($a.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function qp(o){let s=!0;return setTimeout(()=>{s&&(s=!1,o())}),"function"==typeof Sr.requestAnimationFrame&&Sr.requestAnimationFrame(()=>{s&&(s=!1,o())}),()=>{s=!1}}function Xp(o){let s=!0;return queueMicrotask(()=>{s&&o()}),()=>{s=!1}}function OS(...o){}class Hr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),typeof Zone>"u")throw new Qt(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.callbackScheduled=!1,function tF(o){const s=()=>{!function eF(o){o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,Zone.root.run(()=>{qp(()=>{o.callbackScheduled=!1,kS(o),o.isCheckStableRunning=!0,rw(o),o.isCheckStableRunning=!1})}),kS(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,g,E)=>{if(function ov(o){return NS(o,"__ignore_ng_zone__")}(E))return a.invokeTask(h,p,g,E);try{return PS(o),a.invokeTask(h,p,g,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&s(),nF(o)}},onInvoke:(a,u,h,p,g,E,T)=>{try{return PS(o),a.invoke(h,p,g,E,T)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function X4(o){return NS(o,"__scheduler_tick__")}(E)&&s(),nF(o)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,kS(o),rw(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hr.isInAngularZone())throw new Qt(909,!1)}static assertNotInAngularZone(){if(Hr.isInAngularZone())throw new Qt(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,h){const p=this._inner,g=p.scheduleEventTask("NgZoneEvent: "+h,s,q4,OS,OS);try{return p.runTask(g,a,u)}finally{p.cancelTask(g)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const q4={};function rw(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function kS(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function PS(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function nF(o){o._nesting--,rw(o)}class iw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,h){return s.apply(a,u)}}function NS(o,s){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[s]}var Yo=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(Yo||{});const ow={destroy(){}};function Qp(o,s){!s&&Zf();const a=s?.injector??sn(Fi);return Ns(a)?(Eo("NgAfterRender"),sw(o,a,!1,s?.phase??Yo.MixedReadWrite)):ow}function Kl(o,s){!s&&Zf();const a=s?.injector??sn(Fi);return Ns(a)?(Eo("NgAfterNextRender"),sw(o,a,!0,s?.phase??Yo.MixedReadWrite)):ow}function sw(o,s,a,u){const h=function Q4(o,s){if(o instanceof Function)switch(s){case Yo.EarlyRead:return{earlyRead:o};case Yo.Write:return{write:o};case Yo.MixedReadWrite:return{mixedReadWrite:o};case Yo.Read:return{read:o}}return o}(o,u),p=s.get(aw),g=p.handler??=new rF,E=[],T=[],k=()=>{for(const ve of T)g.unregister(ve);F()},F=s.get(vp).onDestroy(k);let G=0;const de=(ve,Ze)=>{if(!Ze)return;const _t=a?(...$t)=>{G--,G<1&&k(),Ze(...$t)}:Ze,Pt=Vg(s,()=>new Y4(ve,E,_t));g.register(Pt),T.push(Pt),G++};return de(Yo.EarlyRead,h.earlyRead),de(Yo.Write,h.write),de(Yo.MixedReadWrite,h.mixedReadWrite),de(Yo.Read,h.read),{destroy:k}}class Y4{constructor(s,a,u){this.phase=s,this.pipelinedArgs=a,this.callbackFn=u,this.zone=sn(Hr),this.errorHandler=sn(fa,{optional:!0}),sn(Wl,{optional:!0})?.notify(6)}invoke(){try{const s=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,s)}catch(s){this.errorHandler?.handleError(s)}}}class rF{constructor(){this.executingCallbacks=!1,this.buckets={[Yo.EarlyRead]:new Set,[Yo.Write]:new Set,[Yo.MixedReadWrite]:new Set,[Yo.Read]:new Set},this.deferredCallbacks=new Set}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const a of s)a.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let aw=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of a)u()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:()=>new o})}return o})();function Di(o){return!!Wi(o)}function uv(o,s,a){let u=a?o.styles:null,h=a?o.classes:null,p=0;if(null!==s)for(let g=0;g<s.length;g++){const E=s[g];"number"==typeof E?p=E:1==p?h=El(h,E):2==p&&(u=El(u,E+": "+s[++g]+";"))}a?o.styles=u:o.stylesWithoutHost=u,a?o.classes=h:o.classesWithoutHost=h}class dv extends Kp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Vn(s);return new Vh(a,this.ngModule)}}function oF(o,s){const a=[];for(const u in o){if(!o.hasOwnProperty(u))continue;const h=o[u];if(void 0===h)continue;const p=Array.isArray(h),g=p?h[0]:h;a.push(s?{propName:g,templateName:u,isSignal:!!((p?h[1]:Dl.None)&Dl.SignalBased)}:{propName:g,templateName:u})}return a}class Vh extends XN{get inputs(){const s=this.componentDef,a=s.inputTransforms,u=oF(s.inputs,!0);if(null!==a)for(const h of u)a.hasOwnProperty(h.propName)&&(h.transform=a[h.propName]);return u}get outputs(){return oF(this.componentDef.outputs,!1)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Tr(o){return o.map(Ag).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,u,h){const p=l(null);try{let g=(h=h||this.ngModule)instanceof ks?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const E=g?new $u(s,g):s,T=E.get(nw,null);if(null===T)throw new Qt(407,!1);const k=E.get(ZN,null),de={rendererFactory:T,sanitizer:k,inlineEffectRunner:null,afterRenderEventManager:E.get(aw,null),changeDetectionScheduler:E.get(Wl,null)},ve=T.createRenderer(null,this.componentDef),Ze=this.componentDef.selectors[0][0]||"div",_t=u?function y4(o,s,a,u){const p=u.get(b1,!1)||a===ua.ShadowDom,g=o.selectRootElement(s,p);return function b4(o){rN(o)}(g),g}(ve,u,this.componentDef.encapsulation,E):k_(ve,Ze,function sF(o){const s=o.toLowerCase();return"svg"===s?ip:"math"===s?"math":null}(Ze));let Pt=512;this.componentDef.signals?Pt|=4096:this.componentDef.onPush||(Pt|=16);let $t=null;null!==_t&&($t=bA(_t,E,!0));const Ct=Fr(0,null,null,1,0,null,null,null,null,null,null),In=V_(null,Ct,null,Pt,null,null,de,ve,E,null,$t);let nr,Or;ah(In);try{const xi=this.componentDef;let vr,Id=null;xi.findHostDirectiveDefs?(vr=[],Id=new Map,xi.findHostDirectiveDefs(xi,vr,Id),vr.push(xi)):vr=[xi];const ll=function cF(o,s){const a=o[y],u=dn;return o[u]=s,Ku(a,u,2,"#host",null)}(In,_t),iO=function BS(o,s,a,u,h,p,g){const E=h[y];!function cw(o,s,a,u){for(const h of o)s.mergedAttrs=Un(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(uv(s,s.mergedAttrs,!0),null!==a&&Sh(u,a,s))}(u,o,s,g);let T=null;null!==s&&(T=bA(s,h[Ee]));const k=p.rendererFactory.createRenderer(s,a);let F=16;a.signals?F=4096:a.onPush&&(F=64);const G=V_(h,JA(a),null,F,h[o.index],o,p,k,null,null,T);return E.firstCreatePass&&tS(E,o,u.length-1),qu(h,G),h[o.index]=G}(ll,_t,xi,vr,In,de,ve);Or=Vu(Ct,dn),_t&&function eH(o,s,a,u){if(u)pi(o,a,["ng-version","18.1.1"]);else{const{attrs:h,classes:p}=function qd(o){const s=[],a=[];let u=1,h=2;for(;u<o.length;){let p=o[u];if("string"==typeof p)2===h?""!==p&&s.push(p,o[++u]):8===h&&a.push(p);else{if(!gr(h))break;h=p}u++}return{attrs:s,classes:a}}(s.selectors[0]);h&&pi(o,a,h),p&&p.length>0&&J1(o,a,p.join(" "))}}(ve,xi,_t,u),void 0!==a&&function tH(o,s,a){const u=o.projection=[];for(let h=0;h<s.length;h++){const p=a[h];u.push(null!=p?Array.from(p):null)}}(Or,this.ngContentSelectors,a),nr=function J4(o,s,a,u,h,p){const g=Mr(),E=h[y],T=Ki(g,h);eS(E,h,g,a,null,u);for(let F=0;F<a.length;F++)Qo(pc(h,E,g.directiveStart+F,g),h);cN(E,h,g),T&&Qo(T,h);const k=pc(h,E,g.directiveStart+g.componentOffset,g);if(o[ne]=h[ne]=k,null!==p)for(const F of p)F(k,s);return YA(E,g,h),k}(iO,xi,vr,Id,In,[nH]),jE(Ct,In,null)}finally{k0()}return new aF(this.componentType,nr,_h(Or,In),In,Or)}finally{l(p)}}}class aF extends qN{constructor(s,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Fp(h,void 0,!1),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const p=this._rootLView;H_(p[y],p,h,s,a),this.previousInputValues.set(s,a),Np(hs(this._tNode.index,p),1)}}get injector(){return new qi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function nH(){const o=Mr();Wc(bt()[y],o)}let lw=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=rH}return o})();function rH(){return Yp(Mr(),bt())}const uw=lw,Bh=class extends uw{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return _h(this._hostTNode,this._hostLView)}get injector(){return new qi(this._hostTNode,this._hostLView)}get parentInjector(){const s=hh(this._hostTNode,this._hostLView);if(B0(s)){const a=mp(s,this._hostLView),u=pp(s);return new qi(a[y].data[u+8],a)}return new qi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Uh(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-$r}createEmbeddedView(s,a,u){let h,p;"number"==typeof u?h=u:null!=u&&(h=u.index,p=u.injector);const g=Yu(this._lContainer,s.ssrId),E=s.createEmbeddedViewImpl(a||{},p,g);return this.insertImpl(E,h,Xu(this._hostTNode,g)),E}createComponent(s,a,u,h,p){const g=s&&!function Sl(o){return"function"==typeof o}(s);let E;if(g)E=a;else{const Ze=a||{};E=Ze.index,u=Ze.injector,h=Ze.projectableNodes,p=Ze.environmentInjector||Ze.ngModuleRef}const T=g?s:new Vh(Vn(s)),k=u||this.parentInjector;if(!p&&null==T.ngModule){const _t=(g?k:this.parentInjector).get(ks,null);_t&&(p=_t)}const F=Vn(T.componentType??{}),G=Yu(this._lContainer,F?.id??null),ve=T.create(k,h,G?.firstChild??null,p);return this.insertImpl(ve.hostView,E,Xu(this._hostTNode,G)),ve}insert(s,a){return this.insertImpl(s,a,!0)}insertImpl(s,a,u){const h=s._lView;if(function tr(o){return Pr(o[D])}(h)){const E=this.indexOf(s);if(-1!==E)this.detach(E);else{const T=h[D],k=new Bh(T,T[P],T[D]);k.detach(k.indexOf(s))}}const p=this._adjustIndex(a),g=this._lContainer;return Qu(g,h,p,u),s.attachToViewContainerRef(),e0(dw(g),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Uh(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=P_(this._lContainer,a);u&&(Cg(dw(this._lContainer),a),DE(u[y],u))}detach(s){const a=this._adjustIndex(s,-1),u=P_(this._lContainer,a);return u&&null!=Cg(dw(this._lContainer),a)?new Fp(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function Uh(o){return o[8]}function dw(o){return o[8]||(o[8]=[])}function Yp(o,s){let a;const u=s[o.index];return Pr(u)?a=u:(a=LE(u,s,null,o),s[o.index]=a,qu(s,a)),US(a,s,o,u),new Bh(a,o,s)}let US=function uF(o,s,a,u){if(o[qo])return;let h;h=8&a.type?cr(u):function iH(o,s){const a=o[ot],u=a.createComment(""),h=Ki(s,o);return Vl(a,N_(a,h),u,function q1(o,s){return o.nextSibling(s)}(a,h),!1),u}(s,a),o[qo]=h},jS=()=>!1;class $S{constructor(s){this.queryList=s,this.matches=null}clone(){return new $S(this.queryList)}setDirty(){this.queryList.setDirty()}}class un{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const g=a.getByIndex(p);h.push(this.queries[g.indexInDeclarationView].clone())}return new un(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==YS(s,a).matches&&this.queries[a].setDirty()}}class HS{constructor(s,a,u=null){this.flags=a,this.read=u,this.predicate="string"==typeof s?function sH(o){return o.split(",").map(s=>s.trim())}(s):s}}class hw{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new hw(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class fw{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new fw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(s,a,hF(a,p)),this.matchTNodeWithReadOption(s,a,s_(a,s,p,!1,!1))}else u===Rh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,s_(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===Li||h===lw||h===Rh&&4&a.type)this.addMatch(a.index,-2);else{const p=s_(a,s,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function hF(o,s){const a=o.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function zS(o,s,a,u){return-1===a?function jh(o,s){return 11&o.type?_h(o,s):4&o.type?Q_(o,s):null}(s,o):-2===a?function fF(o,s,a){return a===Li?_h(s,o):a===Rh?Q_(s,o):a===lw?Yp(s,o):void 0}(o,s,u):pc(o,o[y],a,s)}function GS(o,s,a,u){const h=s[_r].queries[u];if(null===h.matches){const p=o.data,g=a.matches,E=[];for(let T=0;null!==g&&T<g.length;T+=2){const k=g[T];E.push(k<0?null:zS(s,p[k],g[T+1],a.metadata.read))}h.matches=E}return h.matches}function pw(o,s,a,u){const h=o.queries.getByIndex(a),p=h.matches;if(null!==p){const g=GS(o,s,h,a);for(let E=0;E<p.length;E+=2){const T=p[E];if(T>0)u.push(g[E/2]);else{const k=p[E+1],F=s[-T];for(let G=$r;G<F.length;G++){const de=F[G];de[xn]===de[D]&&pw(de[y],de,k,u)}if(null!==F[cc]){const G=F[cc];for(let de=0;de<G.length;de++){const ve=G[de];pw(ve[y],ve,k,u)}}}}}return u}function Zu(o,s){return o[_r].queries[s].queryList}function WS(o,s,a){const u=new Y0(!(4&~a));return function I4(o,s,a,u){const h=kp(s);h.push(a),o.firstCreatePass&&Pp(o).push(u,h.length-1)}(o,s,u,u.destroy),(s[_r]??=new un).queries.push(new $S(u))-1}function qS(o,s,a,u){const h=Gn();if(h.firstCreatePass){const p=Mr();XS(h,new HS(s,a,u),p.index),function QS(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(h,o),!(2&~a)&&(h.staticContentQueries=!0)}return WS(h,bt(),a)}function XS(o,s,a){null===o.queries&&(o.queries=new hw),o.queries.track(new fw(s,a))}function YS(o,s){return o.queries.getByIndex(s)}function pF(o,s){const a=o[y],u=YS(a,s);return u.crossesNgTemplate?pw(a,o,s,[]):GS(a,o,u,s)}function ZS(o){return"function"==typeof o&&void 0!==o[x]}function mF(o,s){Eo("NgSignals");const a=function se(o){const s=Object.create(Z);s.value=o;const a=()=>(Y(s),s.value);return a[x]=s,a}(o),u=a[x];return s?.equal&&(u.equal=s.equal),a.set=h=>B(u,h),a.update=h=>function $(o,s){ze()||pn(),B(o,s(o.value))}(u,h),a.asReadonly=JS.bind(a),a}function JS(){const o=this[x];if(void 0===o.readonlyFn){const s=()=>this();s[x]=o,o.readonlyFn=s}return o.readonlyFn}function gw(o,s){let a;const u=ue(()=>{a._dirtyCounter();const h=function aH(o,s){const a=o._lView,u=o._queryIndex;if(void 0===a||void 0===u||4&a[b])return s?void 0:rr;const h=Zu(a,u),p=pF(a,u);return h.reset(p,oA),s?h.first:h._changesDetected||void 0===o._flatValue?o._flatValue=h.toArray():o._flatValue}(a,o);if(s&&void 0===h)throw new Qt(-951,!1);return h});return a=u[x],a._dirtyCounter=mF(0),a._flatValue=void 0,u}function vF(o,s){return function ex(){return gw(!0,!1)}()}const fv=(vF.required=function cH(o,s){return function hv(){return gw(!0,!0)}()},vF);function _v(o){let s=function DF(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const u=[o];for(;s;){let h;if(bo(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Qt(903,!1);h=s.\u0275dir}if(h){if(a){u.push(h);const g=o;g.inputs=vv(o.inputs),g.inputTransforms=vv(o.inputTransforms),g.declaredInputs=vv(o.declaredInputs),g.outputs=vv(o.outputs);const E=h.hostBindings;E&&ox(o,E);const T=h.viewQuery,k=h.contentQueries;if(T&&Po(o,T),k&&SF(o,k),TF(o,h),Uf(o.outputs,h.outputs),bo(h)&&h.data.animation){const F=o.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let g=0;g<p.length;g++){const E=p[g];E&&E.ngInherit&&E(o),E===_v&&(a=!1)}}s=Object.getPrototypeOf(s)}!function AF(o){let s=0,a=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=s+=h.hostVars,h.hostAttrs=Un(h.hostAttrs,a=Un(a,h.hostAttrs))}}(u)}function TF(o,s){for(const a in s.inputs){if(!s.inputs.hasOwnProperty(a)||o.inputs.hasOwnProperty(a))continue;const u=s.inputs[a];if(void 0!==u&&(o.inputs[a]=u,o.declaredInputs[a]=s.declaredInputs[a],null!==s.inputTransforms)){const h=Array.isArray(u)?u[0]:u;if(!s.inputTransforms.hasOwnProperty(h))continue;o.inputTransforms??={},o.inputTransforms[h]=s.inputTransforms[h]}}}function vv(o){return o===ac?{}:o===rr?[]:o}function Po(o,s){const a=o.viewQuery;o.viewQuery=a?(u,h)=>{s(u,h),a(u,h)}:s}function SF(o,s){const a=o.contentQueries;o.contentQueries=a?(u,h,p)=>{s(u,h,p),a(u,h,p)}:s}function ox(o,s){const a=o.hostBindings;o.hostBindings=a?(u,h)=>{s(u,h),a(u,h)}:s}function ax(o){const s=a=>{const u=(Array.isArray(o)?o:o()).map(h=>"function"==typeof h?{directive:bn(h),inputs:ac,outputs:ac}:{directive:bn(h.directive),inputs:MF(h.inputs),outputs:MF(h.outputs)});null===a.hostDirectives?(a.findHostDirectiveDefs=bw,a.hostDirectives=u):a.hostDirectives.unshift(...u)};return s.ngInherit=!0,s}function bw(o,s,a){if(null!==o.hostDirectives)for(const u of o.hostDirectives){const h=Ei(u.directive);RF(h.declaredInputs,u.inputs),bw(h,s,a),a.set(h,u),s.push(h)}}function MF(o){if(void 0===o||0===o.length)return ac;const s={};for(let a=0;a<o.length;a+=2)s[o[a]]=o[a+1];return s}function RF(o,s){for(const a in s)s.hasOwnProperty(a)&&(o[s[a]]=o[a])}function lx(o){const s=o.inputConfig,a={};for(const u in s)if(s.hasOwnProperty(u)){const h=s[u];Array.isArray(h)&&h[3]&&(a[u]=h[3])}o.inputTransforms=a}class Ju{}class ux{}function Ew(o,s){return new dx(o,s??null,[])}class dx extends Ju{constructor(s,a,u){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new dv(this);const h=Wi(s);this._bootstrapComponents=Ps(h.bootstrap),this._r3Injector=nA(s,a,[{provide:Ju,useValue:this},{provide:Kp,useValue:this.componentFactoryResolver},...u],Wr(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class hx extends ux{constructor(s){super(),this.moduleType=s}create(s){return new dx(this.moduleType,s,[])}}class fx extends Ju{constructor(s){super(),this.componentFactoryResolver=new dv(this),this.instance=null;const a=new Lu([...s.providers,{provide:Ju,useValue:this},{provide:Kp,useValue:this.componentFactoryResolver}],s.parent||Qf(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function px(o,s,a=null){return new fx({providers:o,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}function Iw(o){return!!Cw(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function Cw(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ha(o,s,a){return o[s]=a}function Ti(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function Zl(o,s,a,u){const h=Ti(o,s,a);return Ti(o,s+1,u)||h}function im(o,s,a,u,h,p,g,E,T,k){const F=a+dn,G=s.firstCreatePass?function Tw(o,s,a,u,h,p,g,E,T){const k=s.consts,F=Ku(s,o,4,g||null,E||null);FE(s,a,F,Ii(k,T)),Wc(s,F);const G=F.tView=Fr(2,F,u,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,k,null);return null!==s.queries&&(s.queries.template(s,F),G.queries=s.queries.embeddedTView(F)),F}(F,s,o,u,h,p,g,E,T):s.data[F];Ci(G,!1);const de=Sw(s,o,G,a);Rl()&&ja(s,o,de,G),Qo(de,o);const ve=LE(de,o,de,G);return o[F]=ve,qu(o,ve),function lF(o,s,a){return jS(o,s,a)}(ve,G,o),jg(G)&&ZA(s,o,G),null!=T&&NE(o,G,k),G}function Aw(o,s,a,u,h,p,g,E){const T=bt(),k=Gn();return im(T,k,o,s,a,u,h,Ii(k.consts,p),g,E),Aw}let Sw=function mx(o,s,a,u){return fc(!0),s[ot].createComment("")};function qn(o,s,a,u){const h=bt();return Ti(h,Ua(),s)&&(Gn(),yc(Nr(),h,o,s,a,u)),qn}function qh(o,s,a,u){return Ti(o,Ua(),a)?s+qe(a)+u:Mn}function Qh(o,s,a,u,h,p,g,E){const k=function Dw(o,s,a,u,h){const p=Zl(o,s,a,u);return Ti(o,s+2,h)||p}(o,dc(),a,h,g);return ps(3),k?s+qe(a)+u+qe(h)+p+qe(g)+E:Mn}function Ov(o,s){return o<<17|s<<2}function bc(o){return o>>17&32767}function jw(o){return 2|o}function _s(o){return(131068&o)>>2}function pm(o,s){return-131069&o|s<<2}function Rx(o){return 1|o}function kx(o,s,a,u){const h=o[a+1],p=null===s;let g=u?bc(h):_s(h),E=!1;for(;0!==g&&(!1===E||p);){const k=o[g+1];qF(o[g],s)&&(E=!0,o[g+1]=u?Rx(k):jw(k)),g=u?bc(k):_s(k)}E&&(o[a+1]=u?jw(h):Rx(h))}function qF(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&zd(o,s)>=0}const _i={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kv(o){return o.substring(_i.key,_i.keyEnd)}function Px(o,s){const a=_i.textEnd;return a===s?-1:(s=_i.keyEnd=function YF(o,s,a){for(;s<a&&o.charCodeAt(s)>32;)s++;return s}(o,_i.key=s,a),Zh(o,s,a))}function Zh(o,s,a){for(;s<a&&o.charCodeAt(s)<=32;)s++;return s}function Hw(o,s,a){const u=bt();return Ti(u,Ua(),s)&&ms(Gn(),Nr(),u,o,s,u[ot],a,!1),Hw}function zw(o,s,a,u,h){const g=h?"class":"style";H_(o,a,s.inputs[g],g,u)}function Gw(o,s,a){return za(o,s,a,!1),Gw}function Ww(o,s){return za(o,s,null,!0),Ww}function Bx(o){Ga($H,wc,o,!0)}function wc(o,s){for(let a=function XF(o){return function Fx(o){_i.key=0,_i.keyEnd=0,_i.value=0,_i.valueEnd=0,_i.textEnd=o.length}(o),Px(o,Zh(o,0,_i.textEnd))}(s);a>=0;a=Px(s,a))Os(o,kv(s),!0)}function za(o,s,a,u){const h=bt(),p=Gn(),g=ps(2);p.firstUpdatePass&&jx(p,o,g,u),s!==Mn&&Ti(h,g,s)&&gm(p,p.data[lo()],h,h[ot],o,h[g+1]=function ya(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=Wr(Fl(o)))),o}(s,a),u,g)}function Ga(o,s,a,u){const h=Gn(),p=ps(2);h.firstUpdatePass&&jx(h,null,p,u);const g=bt();if(a!==Mn&&Ti(g,p,a)){const E=h.data[lo()];if(oL(E,u)&&!Ux(h,p)){let T=u?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(a=El(T,a||"")),zw(h,E,g,a,u)}else!function Jh(o,s,a,u,h,p,g,E){h===Mn&&(h=rr);let T=0,k=0,F=0<h.length?h[0]:null,G=0<p.length?p[0]:null;for(;null!==F||null!==G;){const de=T<h.length?h[T+1]:void 0,ve=k<p.length?p[k+1]:void 0;let _t,Ze=null;F===G?(T+=2,k+=2,de!==ve&&(Ze=G,_t=ve)):null===G||null!==F&&F<G?(T+=2,Ze=F):(k+=2,Ze=G,_t=ve),null!==Ze&&gm(o,s,a,u,Ze,_t,g,E),F=T<h.length?h[T]:null,G=k<p.length?p[k]:null}}(h,E,g,g[ot],g[p+1],g[p+1]=function mm(o,s,a){if(null==a||""===a)return rr;const u=[],h=Fl(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)o(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&o(u,p,h[p]);else"string"==typeof h&&s(u,h);return u}(o,s,a),u,p)}}function Ux(o,s){return s>=o.expandoStartIndex}function jx(o,s,a,u){const h=o.data;if(null===h[a+1]){const p=h[lo()],g=Ux(o,a);oL(p,u)&&null===s&&!g&&(s=!1),s=function tL(o,s,a,u){const h=cp(o);let p=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(a=tl(a=el(null,o,s,a,u),s.attrs,u),p=null);else{const g=s.directiveStylingLast;if(-1===g||o[g]!==h)if(a=el(h,o,s,a,u),null===p){let T=function nL(o,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==_s(u))return o[bc(u)]}(o,s,u);void 0!==T&&Array.isArray(T)&&(T=el(null,o,s,T[1],u),T=tl(T,s.attrs,u),function Pv(o,s,a,u){o[bc(a?s.classBindings:s.styleBindings)]=u}(o,s,u,T))}else p=function rL(o,s,a){let u;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)u=tl(u,o[p].hostAttrs,a);return tl(u,s.attrs,a)}(o,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(h,p,s,u),function $w(o,s,a,u,h,p){let g=p?s.classBindings:s.styleBindings,E=bc(g),T=_s(g);o[u]=a;let F,k=!1;if(Array.isArray(a)?(F=a[1],(null===F||zd(a,F)>0)&&(k=!0)):F=a,h)if(0!==T){const de=bc(o[E+1]);o[u+1]=Ov(de,E),0!==de&&(o[de+1]=pm(o[de+1],u)),o[E+1]=function WF(o,s){return 131071&o|s<<17}(o[E+1],u)}else o[u+1]=Ov(E,0),0!==E&&(o[E+1]=pm(o[E+1],u)),E=u;else o[u+1]=Ov(T,0),0===E?E=u:o[T+1]=pm(o[T+1],u),T=u;k&&(o[u+1]=jw(o[u+1])),kx(o,F,u,!0),kx(o,F,u,!1),function Ox(o,s,a,u,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof s&&zd(p,s)>=0&&(a[u+1]=Rx(a[u+1]))}(s,F,o,u,p),g=Ov(E,T),p?s.classBindings=g:s.styleBindings=g}(h,p,s,a,g,u)}}function el(o,s,a,u,h){let p=null;const g=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<g&&(p=s[E],u=tl(u,p.hostAttrs,h),p!==o);)E++;return null!==o&&(a.directiveStylingLast=E),u}function tl(o,s,a){const u=a?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const g=s[p];"number"==typeof g?h=g:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Os(o,g,!!a||s[++p]))}return void 0===o?null:o}function $H(o,s,a){const u=String(s);""!==u&&!u.includes(" ")&&Os(o,u,a)}function gm(o,s,a,u,h,p,g,E){if(!(3&s.type))return;const T=o.data,k=T[E+1],F=function KF(o){return!(1&~o)}(k)?iL(T,s,a,h,_s(k),g):void 0;Nv(F)||(Nv(p)||function GF(o){return!(2&~o)}(k)&&(p=iL(T,null,a,h,E,g)),function Z1(o,s,a,u,h){if(s)h?o.addClass(a,u):o.removeClass(a,u);else{let p=-1===u.indexOf("-")?void 0:R_.DashCase;null==h?o.removeStyle(a,u,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=R_.Important),o.setStyle(a,u,h,p))}}(u,g,oh(lo(),a),h,p))}function iL(o,s,a,u,h,p){const g=null===s;let E;for(;h>0;){const T=o[h],k=Array.isArray(T),F=k?T[1]:T,G=null===F;let de=a[h+1];de===Mn&&(de=G?rr:void 0);let ve=G?r0(de,u):F===u?de:void 0;if(k&&!Nv(ve)&&(ve=r0(T,u)),Nv(ve)&&(E=ve,g))return E;const Ze=o[h+1];h=g?bc(Ze):_s(Ze)}if(null!==s){let T=p?s.residualClasses:s.residualStyles;null!=T&&(E=r0(T,u))}return E}function Nv(o){return void 0!==o}function oL(o,s){return!!(o.flags&(s?8:16))}function $x(o,s,a){Ga(Os,wc,qh(bt(),o,s,a),!0)}class qw{destroy(s){}updateValue(s,a){}swap(s,a){const u=Math.min(s,a),h=Math.max(s,a),p=this.detach(h);if(h-u>1){const g=this.detach(u);this.attach(u,p),this.attach(h,g)}else this.attach(u,p)}move(s,a){this.attach(a,this.detach(s))}}function Wa(o,s,a,u,h){return o===a&&Object.is(s,u)?1:Object.is(h(o,s),h(a,u))?-1:0}function Xw(o,s,a,u){return!(void 0===s||!s.has(u)||(o.attach(a,s.get(u)),s.delete(u),0))}function Wx(o,s,a,u,h){if(Xw(o,s,u,a(u,h)))o.updateValue(u,h);else{const p=o.create(u,h);o.attach(u,p)}}function tf(o,s,a,u){const h=new Set;for(let p=s;p<=a;p++)h.add(u(p,o.at(p)));return h}class Fv{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const a=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(a)?(this.kvMap.set(s,this._vMap.get(a)),this._vMap.delete(a)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,a){if(this.kvMap.has(s)){let u=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const h=this._vMap;for(;h.has(u);)u=h.get(u);h.set(u,a)}else this.kvMap.set(s,a)}forEach(s){for(let[a,u]of this.kvMap)if(s(u,a),void 0!==this._vMap){const h=this._vMap;for(;h.has(u);)u=h.get(u),s(u,a)}}}function Qw(o,s){Eo("NgControlFlow");const a=bt(),u=Ua(),h=a[u]!==Mn?a[u]:-1,p=-1!==h?Vv(a,dn+h):void 0;if(Ti(a,u,o)){const E=l(null);try{if(void 0!==p&&z_(p,0),-1!==o){const T=dn+o,k=Vv(a,T),F=eI(a[y],T),G=Yu(k,F.tView.ssrId);Qu(k,jl(a,F,s,{dehydratedView:G}),0,Xu(F,G))}}finally{l(E)}}else if(void 0!==p){const E=sS(p,0);void 0!==E&&(E[ne]=s)}}class cL{constructor(s,a,u){this.lContainer=s,this.$implicit=a,this.$index=u}get $count(){return this.lContainer.length-$r}}function Lv(o){return o}class Yw{constructor(s,a,u){this.hasEmptyBlock=s,this.trackByFn=a,this.liveCollection=u}}function Zw(o,s,a,u,h,p,g,E,T,k,F,G,de){Eo("NgControlFlow");const ve=bt(),Ze=Gn(),_t=void 0!==T,Pt=bt(),$t=E?g.bind(Pt[mn][ne]):g,Ct=new Yw(_t,$t);Pt[dn+o]=Ct,im(ve,Ze,o+1,s,a,u,h,Ii(Ze.consts,p)),_t&&im(ve,Ze,o+2,T,k,F,G,Ii(Ze.consts,de))}class lL extends qw{constructor(s,a,u){super(),this.lContainer=s,this.hostLView=a,this.templateTNode=u,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-$r}at(s){return this.getLView(s)[ne].$implicit}attach(s,a){const u=a[j];this.needsIndexUpdate||=s!==this.length,Qu(this.lContainer,a,s,Xu(this.templateTNode,u))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function uL(o,s){return P_(o,s)}(this.lContainer,s)}create(s,a){const u=Yu(this.lContainer,this.templateTNode.tView.ssrId),h=jl(this.hostLView,this.templateTNode,new cL(this.lContainer,a,s),{dehydratedView:u});return this.operationsCounter?.recordCreate(),h}destroy(s){DE(s[y],s),this.operationsCounter?.recordDestroy()}updateValue(s,a){this.getLView(s)[ne].$implicit=a}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[ne].$index=s}getLView(s){return function qx(o,s){return sS(o,s)}(this.lContainer,s)}}function Jw(o){const s=l(null),a=lo();try{const u=bt(),h=u[y],p=u[a],g=a+1,E=Vv(u,g);if(void 0===p.liveCollection){const k=eI(h,g);p.liveCollection=new lL(E,u,k)}else p.liveCollection.reset();const T=p.liveCollection;if(function GH(o,s,a){let u,h,p=0,g=o.length-1;if(Array.isArray(s)){let T=s.length-1;for(;p<=g&&p<=T;){const k=o.at(p),F=s[p],G=Wa(p,k,p,F,a);if(0!==G){G<0&&o.updateValue(p,F),p++;continue}const de=o.at(g),ve=s[T],Ze=Wa(g,de,T,ve,a);if(0!==Ze){Ze<0&&o.updateValue(g,ve),g--,T--;continue}const _t=a(p,k),Pt=a(g,de),$t=a(p,F);if(Object.is($t,Pt)){const Ct=a(T,ve);Object.is(Ct,_t)?(o.swap(p,g),o.updateValue(g,ve),T--,g--):o.move(g,p),o.updateValue(p,F),p++}else if(u??=new Fv,h??=tf(o,p,g,a),Xw(o,u,p,$t))o.updateValue(p,F),p++,g++;else if(h.has($t))u.set(_t,o.detach(p)),g--;else{const Ct=o.create(p,s[p]);o.attach(p,Ct),p++,g++}}for(;p<=T;)Wx(o,u,a,p,s[p]),p++}else if(null!=s){const T=s[Symbol.iterator]();let k=T.next();for(;!k.done&&p<=g;){const F=o.at(p),G=k.value,de=Wa(p,F,p,G,a);if(0!==de)de<0&&o.updateValue(p,G),p++,k=T.next();else{u??=new Fv,h??=tf(o,p,g,a);const ve=a(p,G);if(Xw(o,u,p,ve))o.updateValue(p,G),p++,g++,k=T.next();else if(h.has(ve)){const Ze=a(p,F);u.set(Ze,o.detach(p)),g--}else o.attach(p,o.create(p,G)),p++,g++,k=T.next()}}for(;!k.done;)Wx(o,u,a,o.length,k.value),k=T.next()}for(;p<=g;)o.destroy(o.detach(g--));u?.forEach(T=>{o.destroy(T)})}(T,o,p.trackByFn),T.updateIndexes(),p.hasEmptyBlock){const k=Ua(),F=0===T.length;if(Ti(u,k,F)){const G=a+2,de=Vv(u,G);if(F){const ve=eI(h,G),Ze=Yu(de,ve.tView.ssrId);Qu(de,jl(u,ve,void 0,{dehydratedView:Ze}),0,Xu(ve,Ze))}else z_(de,0)}}}finally{l(s)}}function Vv(o,s){return o[s]}function eI(o,s){return Vu(o,s)}function nI(o,s,a,u){const h=bt(),p=Gn(),g=dn+o,E=h[ot],T=p.firstCreatePass?function tI(o,s,a,u,h,p){const g=s.consts,T=Ku(s,o,2,u,Ii(g,h));return FE(s,a,T,Ii(g,p)),null!==T.attrs&&uv(T,T.attrs,!1),null!==T.mergedAttrs&&uv(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(g,p,h,s,a,u):p.data[g],k=dL(p,h,T,E,s,o);h[g]=k;const F=jg(T);return Ci(T,!0),Sh(E,k,T),!function $h(o){return!(32&~o.flags)}(T)&&Rl()&&ja(p,h,k,T),0===function yP(){return An.lFrame.elementDepthCount}()&&Qo(k,h),function bP(){An.lFrame.elementDepthCount++}(),F&&(ZA(p,h,T),YA(p,T,h)),null!==u&&NE(h,T),nI}function rI(){let o=Mr();x0()?ju():(o=o.parent,Ci(o,!1));const s=o;(function S0(o){return An.skipHydrationRootTNode===o})(s)&&function m$(){An.skipHydrationRootTNode=null}(),function EP(){An.lFrame.elementDepthCount--}();const a=Gn();return a.firstCreatePass&&(Wc(a,o),Cr(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function jT(o){return!!(8&o.flags)}(s)&&zw(a,s,bt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function t_(o){return!!(16&o.flags)}(s)&&zw(a,s,bt(),s.stylesWithoutHost,!1),rI}function Xx(o,s,a,u){return nI(o,s,a,u),rI(),Xx}let dL=(o,s,a,u,h,p)=>(fc(!0),k_(u,h,function BT(){return An.lFrame.currentNamespace}()));function _m(){return bt()}function No(o,s,a){const u=bt();return Ti(u,Ua(),s)&&ms(Gn(),Nr(),u,o,s,u[ot],a,!0),No}function wo(o,s,a){const u=bt();if(Ti(u,Ua(),s)){const p=Gn(),g=Nr();ms(p,g,u,o,s,iS(cp(p.data),g,u),a,!0)}return wo}const nl=void 0;var nf=["en",[["a","p"],["AM","PM"],nl],[["AM","PM"],nl,nl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],nl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],nl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",nl,"{1} 'at' {0}",nl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function uo(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let iu={};function Ea(o){const s=function mL(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=Uv(s);if(a)return a;const u=s.split("-")[0];if(a=Uv(u),a)return a;if("en"===u)return nf;throw new Qt(701,!1)}function rf(o){return Ea(o)[sf.PluralCase]}function Uv(o){return o in iu||(iu[o]=Sr.ng&&Sr.ng.common&&Sr.ng.common.locales&&Sr.ng.common.locales[o]),iu[o]}var sf=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(sf||{});const ad="en-US";let $v=ad;let EM=(o,s,a)=>{};function II(o,s,a,u){const h=bt(),p=Gn(),g=Mr();return si(p,h,h[ot],g,o,s,u),II}function CI(o,s){const a=Mr(),u=bt(),h=Gn();return si(h,u,iS(cp(h.data),a,u),a,o,s),CI}function si(o,s,a,u,h,p,g){const E=jg(u),k=o.firstCreatePass&&Pp(o),F=s[ne],G=kp(s);let de=!0;if(3&u.type||g){const _t=Ki(u,s),Pt=g?g(_t):_t,$t=G.length,Ct=g?nr=>g(cr(nr[u.index])):u.index;let In=null;if(!g&&E&&(In=function TL(o,s,a,u){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const g=h[p];if(g===a&&h[p+1]===u){const E=s[te],T=h[p+2];return E.length>T?E[T]:null}"string"==typeof g&&(p+=2)}return null}(o,s,h,u.index)),null!==In)(In.__ngLastListenerFn__||In).__ngNextListenerFn__=p,In.__ngLastListenerFn__=p,de=!1;else{p=df(u,s,F,p),EM(_t,h,p);const nr=a.listen(Pt,h,p);G.push(p,nr),k&&k.push(h,Ct,$t,$t+1)}}else p=df(u,s,F,p);const ve=u.outputs;let Ze;if(de&&null!==ve&&(Ze=ve[h])){const _t=Ze.length;if(_t)for(let Pt=0;Pt<_t;Pt+=2){const Or=s[Ze[Pt]][Ze[Pt+1]].subscribe(p),xi=G.length;G.push(p,Or),k&&k.push(h,u.index,xi,-(xi+1))}}}function DI(o,s,a,u){const h=l(null);try{return lc(6,s,a),!1!==a(u)}catch(p){return $_(o,p),!1}finally{lc(7,s,a),l(h)}}function df(o,s,a,u){return function h(p){if(p===Function)return u;Np(o.componentOffset>-1?hs(o.index,s):s,5);let E=DI(s,a,u,p),T=h.__ngNextListenerFn__;for(;T;)E=DI(s,a,T,p)&&E,T=T.__ngNextListenerFn__;return E}}function Wv(o=1){return function P0(o){return(An.lFrame.contextLView=function fs(o,s){for(;o>0;)s=s[Jt],o--;return s}(o,An.lFrame.contextLView))[ne]}(o)}function AL(o,s){let a=null;const u=function oT(o){const s=o.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(o);for(let h=0;h<s.length;h++){const p=s[h];if("*"!==p){if(null===u?s0(o,p,!0):a0(u,p))return h}else a=h}return a}function wM(o){const s=bt()[mn][P];if(!s.projection){const u=s.projection=function zf(o,s){const a=[];for(let u=0;u<o;u++)a.push(s);return a}(o?o.length:1,null),h=u.slice();let p=s.child;for(;null!==p;){if(128!==p.type){const g=o?AL(p,o):0;null!==g&&(h[g]?h[g].projectionNext=p:u[g]=p,h[g]=p)}p=p.next}}}function IM(o,s=0,a,u,h,p){const g=bt(),E=Gn(),T=u?o+1:null;null!==T&&im(g,E,T,u,h,p,null,a);const k=Ku(E,dn+o,16,null,a||null);null===k.projection&&(k.projection=s),ju();const G=!g[j]||Ml();null===g[mn][P].projection[k.projection]&&null!==T?function CM(o,s,a){const u=dn+a,h=s.data[u],p=o[u],g=Yu(p,h.tView.ssrId);Qu(p,jl(o,h,void 0,{dehydratedView:g}),0,Xu(h,g))}(g,E,T):G&&32&~k.flags&&function Q1(o,s,a){qA(s[ot],0,s,a,SE(o,a,s),xE(a.parent||s[P],a,s))}(E,g,k)}function SM(o,s,a,u){qS(o,s,a,u)}function xM(o,s,a){!function KS(o,s,a){const u=Gn();return u.firstCreatePass&&(XS(u,new HS(o,s,a),-1),!(2&~s)&&(u.staticViewQueries=!0)),WS(u,bt(),s)}(o,s,a)}function xI(o){const s=bt(),a=Gn(),u=lp();up(u+1);const h=YS(a,u);if(o.dirty&&function ST(o){return!(4&~o[b])}(s)===!(2&~h.metadata.flags)){if(null===h.matches)o.reset([]);else{const p=pF(s,u);o.reset(p,oA),o.notifyOnChanges()}return!0}return!1}function MM(){return Zu(bt(),lp())}function MI(o,s,a,u,h){!function _F(o,s){const a=o[x];a._lView=bt(),a._queryIndex=s,a._queryList=Zu(a._lView,s),a._queryList.onDirty(()=>a._dirtyCounter.update(u=>u+1))}(s,qS(o,a,u,h))}function ff(o=1){up(lp()+o)}function Yv(o){return Bu(function kT(){return An.lFrame.contextLView}(),dn+o)}function NM(o,s=""){const a=bt(),u=Gn(),h=o+dn,p=u.firstCreatePass?Ku(u,h,1,s,null):u.data[h],g=iy(u,a,p,s,o);a[h]=g,Rl()&&ja(u,a,g,p),Ci(p,!1)}let iy=(o,s,a,u,h)=>(fc(!0),function wE(o,s){return o.createText(s)}(s[ot],u));function ud(o){return wa("",o,""),ud}function wa(o,s,a){const u=bt(),h=qh(u,o,s,a);return h!==Mn&&Ul(u,lo(),h),wa}function bm(o,s,a,u,h){const p=bt(),g=function Xh(o,s,a,u,h,p){const E=Zl(o,dc(),a,h);return ps(2),E?s+qe(a)+u+qe(h)+p:Mn}(p,o,s,a,u,h);return g!==Mn&&Ul(p,lo(),g),bm}function FI(o,s,a,u,h,p,g){const E=bt(),T=Qh(E,o,s,a,u,h,p,g);return T!==Mn&&Ul(E,lo(),T),FI}function UM(o,s,a,u,h){if(o=bn(o),Array.isArray(o))for(let p=0;p<o.length;p++)UM(o[p],s,a,u,h);else{const p=Gn(),g=bt(),E=Mr();let T=da(o)?o:bn(o.provide);const k=Fg(o),F=1048575&E.providerIndexes,G=E.directiveStart,de=E.providerIndexes>>20;if(da(o)||!o.multi){const ve=new hp(k,h,xh),Ze=uy(T,s,h?F:F+de,G);-1===Ze?($0(o_(E,g),p,T),ly(p,o,s.length),s.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),a.push(ve),g.push(ve)):(a[Ze]=ve,g[Ze]=ve)}else{const ve=uy(T,s,F+de,G),Ze=uy(T,s,F,F+de),Pt=Ze>=0&&a[Ze];if(h&&!Pt||!h&&!(ve>=0&&a[ve])){$0(o_(E,g),p,T);const $t=function t3(o,s,a,u,h){const p=new hp(o,a,xh);return p.multi=[],p.index=s,p.componentProviders=0,Cc(p,h,u&&!a),p}(h?e3:dy,a.length,h,u,k);!h&&Pt&&(a[Ze].providerFactory=$t),ly(p,o,s.length,0),s.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),a.push($t),g.push($t)}else ly(p,o,ve>-1?ve:Ze,Cc(a[h?Ze:ve],k,!h&&u));!h&&u&&Pt&&a[Ze].componentProviders++}}}function ly(o,s,a,u){const h=da(s),p=function f0(o){return!!o.useClass}(s);if(h||p){const T=(p?bn(s.useClass):s).prototype.ngOnDestroy;if(T){const k=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const F=k.indexOf(a);-1===F?k.push(a,[u,T]):k[F+1].push(u,T)}else k.push(a,T)}}}function Cc(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function uy(o,s,a,u){for(let h=a;h<u;h++)if(s[h]===o)return h;return-1}function dy(o,s,a,u){return wm(this.multi,[])}function e3(o,s,a,u){const h=this.multi;let p;if(this.providerFactory){const g=this.providerFactory.componentProviders,E=pc(a,a[y],this.providerFactory.index,u);p=E.slice(0,g),wm(h,p);for(let T=g;T<E.length;T++)p.push(E[T])}else p=[],wm(h,p);return p}function wm(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function jM(o,s=[]){return a=>{a.providersResolver=(u,h)=>function Em(o,s,a){const u=Gn();if(u.firstCreatePass){const h=bo(o);UM(a,u.data,u.blueprint,h,!0),UM(s,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,s)}}let Im=(()=>{class o{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=Og(0,a.type),h=u.length>0?px([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Kn({token:o,providedIn:"environment",factory:()=>new o(yo(ks))})}return o})();function $M(o){Eo("NgStandalone"),o.getStandaloneInjector=s=>s.get(Im).getOrCreateStandaloneInjector(o)}function Dm(o,s,a){const u=Ni()+o,h=bt();return h[u]===Mn?Ha(h,u,a?s.call(a):s()):function rm(o,s){return o[s]}(h,u)}function VI(o,s,a,u){return zI(bt(),Ni(),o,s,a,u)}function BI(o,s,a,u,h){return function my(o,s,a,u,h,p,g){const E=s+a;return Zl(o,E,h,p)?Ha(o,E+2,g?u.call(g,h,p):u(h,p)):hd(o,E+2)}(bt(),Ni(),o,s,a,u,h)}function hd(o,s){const a=o[s];return a===Mn?void 0:a}function zI(o,s,a,u,h,p){const g=s+a;return Ti(o,g,h)?Ha(o,g+1,p?u.call(p,h):u(h)):hd(o,g+1)}function vy(o,s){const a=Gn();let u;const h=o+dn;a.firstCreatePass?(u=function BL(o,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(o===u.name)return u}}(s,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks??=[]).push(h,u.onDestroy)):u=a.data[h];const p=u.factory||(u.factory=ku(u.type)),E=wn(xh);try{const T=n_(!1),k=p();return n_(T),function Qv(o,s,a,u){a>=o.data.length&&(o.data[a]=null,o.blueprint[a]=null),s[a]=u}(a,bt(),h,k),k}finally{wn(E)}}function yy(o,s,a){const u=o+dn,h=bt(),p=Bu(h,u);return function fd(o,s){return o[y].data[s].pure}(h,u)?zI(h,Ni(),s,p.transform,a,p):p.transform(a)}function Am(o,s){return Q_(o,s)}class Ey{constructor(s){this.full=s;const a=s.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}let rR=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const Dy=new Tn(""),hC=new Tn("");let Ty,fC=(()=>{class o{constructor(a,u,h){this._ngZone=a,this.registry=u,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Ty||(function pC(o){Ty=o}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==p),a()},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}static#e=this.\u0275fac=function(u){return new(u||o)(yo(Hr),yo(uR),yo(hC))};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac})}return o})(),uR=(()=>{class o{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Ty?.findTestabilityInTree(this,a,u)??null}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function mC(o){return!!o&&"function"==typeof o.then}function dR(o){return!!o&&"function"==typeof o.subscribe}const sV=new Tn("");let gC=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u}),this.appInits=sn(sV,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const p=h();if(mC(p))a.push(p);else if(dR(p)){const g=new Promise((E,T)=>{p.subscribe({complete:E,error:T})});a.push(g)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Ay=new Tn("");let Ka=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=sn(_p),this.afterRenderEffectManager=sn(aw),this.zonelessEnabled=sn(Fh),this.externalTestViews=new Set,this.beforeRender=new Ut.B,this.afterTick=new Ut.B,this.componentTypes=[],this.components=[],this.isStable=sn(Hu).hasPendingTasks.pipe((0,on.T)(a=>!a)),this._injector=sn(ks)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof XN;if(!this._injector.get(gC).done)throw!h&&Va(a),new Qt(405,!1);let g;g=h?a:this._injector.get(Kp).resolveComponentFactory(a),this.componentTypes.push(g.componentType);const E=function aV(o){return o.isBoundToModule}(g)?void 0:this._injector.get(Ju),k=g.create(Fi.NULL,[],u||g.selector,E),F=k.location.nativeElement,G=k.injector.get(Dy,null);return G?.registerApplication(F),k.onDestroy(()=>{this.detachView(k.hostView),vf(this.components,k),G?.unregisterApplication(F)}),this._loadComponent(k),k}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new Qt(101,!1);const u=l(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1,l(u),this.afterTick.next()}}detectChangesInAttachedViews(a){let u=null;this._injector.destroyed||(u=this._injector.get(nw,null,{optional:!0}));let h=0;const p=this.afterRenderEffectManager;for(;h<10;){const g=0===h;if(a||!g){this.beforeRender.next(g);for(let{_lView:E,notifyErrorHandler:T}of this._views)cV(E,T,g,this.zonelessEnabled)}else u?.begin?.(),u?.end?.();if(h++,p.executeInternalCallbacks(),!this.allViews.some(({_lView:E})=>xl(E))&&(p.execute(),!this.allViews.some(({_lView:E})=>xl(E))))break}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;vf(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(Ay,[]);[...this._bootstrapListeners,...u].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>vf(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Qt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function vf(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}function cV(o,s,a,u){(a||xl(o))&&$E(o,s,a&&!u?0:1)}class lV{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let gR=(()=>{class o{compileModuleSync(a){return new hx(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=Ps(Wi(a).declarations).reduce((g,E)=>{const T=Vn(E);return T&&g.push(new Vh(T)),g},[]);return new lV(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),E3=(()=>{class o{constructor(){this.zone=sn(Hr),this.changeDetectionScheduler=sn(Wl),this.applicationRef=sn(Ka)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function _R({ngZoneFactory:o,ignoreChangesOutsideZone:s}){return o??=()=>new Hr(function Om(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}()),[{provide:Hr,useFactory:o},{provide:La,multi:!0,useFactory:()=>{const a=sn(E3,{optional:!0});return()=>a.initialize()}},{provide:La,multi:!0,useFactory:()=>{const a=sn(yC);return()=>{a.initialize()}}},{provide:_p,useFactory:vC},!0===s?{provide:Wp,useValue:!0}:[]]}function vC(){const o=sn(Hr),s=sn(fa);return a=>o.runOutsideAngular(()=>s.handleError(a))}let yC=(()=>{class o{constructor(){this.subscription=new nn.yU,this.initialized=!1,this.zone=sn(Hr),this.pendingTasks=sn(Hu)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Hr.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Hr.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),qa=(()=>{class o{constructor(){this.appRef=sn(Ka),this.taskService=sn(Hu),this.ngZone=sn(Hr),this.zonelessEnabled=sn(Fh),this.disableScheduling=sn(Wp,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new nn.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof iw||!this.zoneIsDefined)}notify(a){if(!this.zonelessEnabled&&5===a)return;switch(a){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const u=this.useMicrotaskScheduler?Xp:qp;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Hr.isInAngularZone())}tick(a){if(this.runningTick||this.appRef.destroyed)return;const u=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(a)},void 0,this.schedulerTickApplyArgs)}catch(h){throw this.taskService.remove(u),h}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Xp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(u)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const ky=new Tn("",{providedIn:"root",factory:()=>sn(ky,yt.Optional|yt.SkipSelf)||function hV(){return typeof $localize<"u"&&$localize.locale||ad}()}),fV=new Tn("",{providedIn:"root",factory:()=>"USD"}),bC=new Tn("");let md=null;function vV(){return!1}let Vy=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=C3}return o})();function C3(o){return function EV(o,s,a){if(Ba(o)&&!a){const u=hs(o.index,s);return new Fp(u,u)}return 175&o.type?new Fp(s[mn],s):null}(Mr(),bt(),!(16&~o))}class MR{constructor(){}supports(s){return Iw(s)}create(s){return new RR(s)}}const IV=(o,s)=>s;class RR{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||IV}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const g=!u||a&&a.currentIndex<kR(u,h,p)?a:u,E=kR(g,h,p),T=g.currentIndex;if(g===u)h--,u=u._nextRemoved;else if(a=a._next,null==g.previousIndex)h++;else{p||(p=[]);const k=E-h,F=T-h;if(k!=F){for(let de=0;de<k;de++){const ve=de<p.length?p[de]:p[de]=0,Ze=ve+de;F<=Ze&&Ze<k&&(p[de]=ve+1)}p[g.previousIndex]=F-k}}E!==T&&s(g,E,T)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Iw(s))throw new Qt(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,g,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)p=s[E],g=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,g)?(u&&(a=this._verifyReinsertion(a,p,g,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,g,E),u=!0),a=a._next}else h=0,function kF(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[Symbol.iterator]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,E=>{g=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,g)?(u&&(a=this._verifyReinsertion(a,E,g,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,g,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,h)):s=this._addAfter(new CV(a,u),p,h),s}_verifyReinsertion(s,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new OR),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OR),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class CV{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zy{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class OR{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new zy,this.map.set(a,u)),u.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function kR(o,s,a){const u=o.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+s+h}class PR{constructor(){}supports(s){return s instanceof Map||Cw(s)}create(){return new DV}}class DV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||Cw(s)))throw new Qt(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const p=h._prev,g=h._next;return p&&(p._next=g),g&&(g._prev=p),h._next=null,h._prev=null,h}const u=new TV(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class TV{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function NR(){return new IC([new MR])}let IC=(()=>{class o{static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:NR});constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||NR()),deps:[[o,new Ig,new Hf]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Qt(901,!1)}}return o})();function Gy(){return new CC([new PR])}let CC=(()=>{class o{static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:Gy});constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||Gy()),deps:[[o,new Ig,new Hf]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Qt(901,!1)}}return o})();function Bs(o){try{const{rootComponent:s,appProviders:a,platformProviders:u}=o,h=function _V(o=[]){if(md)return md;const s=function Fy(o=[],s){return Fi.create({name:s,providers:[{provide:kg,useValue:"platform"},{provide:bC,useValue:new Set([()=>md=null])},...o]})}(o);return md=s,function hR(){!function On(o){en=o}(()=>{throw new Qt(600,!1)})}(),function Ly(o){o.get(__,null)?.forEach(a=>a())}(s),s}(u),p=[_R({}),{provide:Wl,useExisting:qa},...a||[]],E=new fx({providers:p,parent:h,debugName:"",runEnvironmentInitializers:!1}).injector,T=E.get(Hr);return T.run(()=>{E.resolveInjectorInitializers();const k=E.get(fa,null);let F;T.runOutsideAngular(()=>{F=T.onError.subscribe({next:ve=>{k.handleError(ve)}})});const G=()=>E.destroy(),de=h.get(bC);return de.add(G),E.onDestroy(()=>{F.unsubscribe(),de.delete(G)}),function fR(o,s,a){try{const u=a();return mC(u)?u.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(k,T,()=>{const ve=E.get(gC);return ve.runInitializers(),ve.donePromise.then(()=>{!function aI(o){"string"==typeof o&&($v=o.toLowerCase().replace(/_/g,"-"))}(E.get(ky,ad)||ad);const _t=E.get(Ka);return void 0!==s&&_t.bootstrap(s),_t})})})}catch(s){return Promise.reject(s)}}const Mt=new Tn("");function tb(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function Dc(o,s=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?s:Number(o)}function js(o,s){Eo("NgSignals");const a=ue(o);return s?.equal&&(a[x].equal=s.equal),a}function Bm(o){const s=l(null);try{return o()}finally{l(s)}}const Um=new Tn("",{providedIn:"root",factory:()=>sn(nO)});let nO=(()=>{class o{static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:()=>new Fo})}return o})();class Fo{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=sn(Hu),this.taskId=null}scheduleEffect(s){if(this.enqueue(s),null===this.taskId){const a=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(a),this.taskId=null})}}enqueue(s){const a=s.creationZone;this.queues.has(a)||this.queues.set(a,new Set);const u=this.queues.get(a);u.has(s)||(this.queuedEffectCount++,u.add(s))}flush(){for(;this.queuedEffectCount>0;)for(const[s,a]of this.queues)null===s?this.flushQueue(a):s.run(()=>this.flushQueue(a))}flushQueue(s){for(const a of s)s.delete(a),this.queuedEffectCount--,a.run()}}class KV{constructor(s,a,u,h,p,g){this.scheduler=s,this.effectFn=a,this.creationZone=u,this.injector=p,this.watcher=function ce(o,s,a){const u=Object.create(It);a&&(u.consumerAllowSignalWrites=!0),u.fn=o,u.schedule=s;const h=T=>{u.cleanupFn=T};return u.ref={notify:()=>Re(u),run:()=>{if(null===u.fn)return;if(function ut(){return me}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(u.dirty=!1,u.hasRun&&!Fe(u))return;u.hasRun=!0;const T=ke(u);try{u.cleanupFn(),u.cleanupFn=Te,u.fn(h)}finally{ge(u,T)}},cleanup:()=>u.cleanupFn(),destroy:()=>function g(T){(function p(T){return null===T.fn&&null===T.schedule})(T)||(xe(T),T.cleanupFn(),T.fn=null,T.schedule=null,T.cleanupFn=Te)}(u),[x]:u},u.ref}(E=>this.runEffect(E),()=>this.schedule(),g),this.unregisterOnDestroy=h?.onDestroy(()=>this.destroy())}runEffect(s){try{this.effectFn(s)}catch(a){this.injector.get(fa,null,{optional:!0})?.handleError(a)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function FC(o,s){Eo("NgSignals"),!s?.injector&&Zf();const a=s?.injector??sn(Fi),u=!0!==s?.manualCleanup?a.get(vp):null,h=new KV(a.get(Um),o,typeof Zone>"u"?null:Zone.current,u,a,s?.allowSignalWrites??!1),p=a.get(Vy,null,{optional:!0});return p&&8&p._lView[b]?(p._lView[co]??=[]).push(h.watcher.notify):h.watcher.notify(),h}function rO(o){const s=Vn(o);if(!s)return null;const a=new Vh(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},9556:(Bt,et,O)=>{"use strict";O.d(et,{p4:()=>J});class J{ttl;map=new Map;_to=!1;constructor(x){this.ttl=x}has(x){return this.map.has(x)}add(x){this.map.set(x,me()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,function re(ae){const x=me()-ae.ttl,l=ae.map[Symbol.iterator]();for(;;){const De=l.next().value;if(!De)return;if(!(De[1]<x))return;ae.map.delete(De[0])}}(this)},0))}clear(){this.map.clear()}}function me(){return Date.now()}},9825:(Bt,et,O)=>{"use strict";O.d(et,{K:()=>De,X:()=>Be});var J=O(6126),re=O(5520),me=O(9403),ae=O(6434),x=O(6568),l=O(3896),De=function(){function oe(Re,ke,ge){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry="function"==typeof FinalizationRegistry?new FinalizationRegistry(Fe=>{var xe=Fe.docId,Ae=this.cacheItemByDocId.get(xe);Ae&&(Ae[0].delete(Fe.revisionHeight),0===Ae[0].size&&this.cacheItemByDocId.delete(xe))}):void 0,this.primaryPath=Re,this.changes$=ke,this.documentCreator=ge,ke.subscribe(Fe=>{this.tasks.add(()=>{for(var xe=this.cacheItemByDocId,Ae=0;Ae<Fe.length;Ae++){var We=Fe[Ae],Ie=xe.get(We.documentId);if(Ie){var st=We.documentData;st||(st=We.previousDocumentData),Ie[1]=st}}}),this.tasks.size<=1&&(0,re.vN)().then(()=>{this.processTasks()})})}var ze=oe.prototype;return ze.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(ge=>ge()),this.tasks.clear())},ze.getLatestDocumentData=function(ke){return this.processTasks(),(0,me.m)(this.cacheItemByDocId,ke)[1]},ze.getLatestDocumentDataIfExists=function(ke){this.processTasks();var ge=this.cacheItemByDocId.get(ke);if(ge)return ge[1]},(0,J.A)(oe,[{key:"getCachedRxDocuments",get:function(){var Re=ut(this);return(0,ae.Ns)(this,"getCachedRxDocuments",Re)}},{key:"getCachedRxDocument",get:function(){var Re=ut(this);return(0,ae.Ns)(this,"getCachedRxDocument",ke=>Re([ke])[0])}}])}();function ut(oe){var ze=oe.primaryPath,Re=oe.cacheItemByDocId,ke=oe.registry,ge=l.h.deepFreezeWhenDevMode,Fe=oe.documentCreator;return Ae=>{for(var We=new Array(Ae.length),Ie=[],st=0;st<Ae.length;st++){var Qe=Ae[st],_e=Qe[ze],ue=(0,x.Wg)(Qe._rev),Q=void 0,mt=void 0,Dt=Re.get(_e);Dt?mt=(Q=Dt[0]).get(ue):Re.set(_e,Dt=[Q=new Map,Qe]);var At=mt?mt.deref():void 0;At||(Qe=ge(Qe),At=Fe(Qe),Q.set(ue,Y(At)),ke&&Ie.push(At)),We[st]=At}return Ie.length>0&&ke&&(oe.tasks.add(()=>{for(var ln=0;ln<Ie.length;ln++){var en=Ie[ln];ke.register(en,{docId:en.primary,revisionHeight:(0,x.Wg)(en.revision)})}}),oe.tasks.size<=1&&(0,re.vN)().then(()=>{oe.processTasks()})),We}}function Be(oe,ze){return(0,oe.getCachedRxDocuments)(ze)}var Y="function"==typeof WeakRef?function Me(oe){return new WeakRef(oe)}:function Ne(oe){return{deref:()=>oe}}},2284:(Bt,et,O)=>{"use strict";O.d(et,{FX:()=>me,Xi:()=>re,r:()=>J});var J={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function re(x,l){J[x].length>0&&J[x].forEach(De=>De(l))}function me(x,l){return Promise.all(J[x].map(De=>De(l)))}},6706:(Bt,et,O)=>{"use strict";O.d(et,{Hl:()=>Ue,N6:()=>Be});var J=O(467),re=O(7650),me=O(9403),ae=O(8663),x=O(6434),l=O(2060),De=O(6568),ut=O(6893),Be=function(){function Me(oe,ze,Re,ke){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=oe,this.primaryPath=ze,this.preWrite=Re,this.postWrite=ke}var Ne=Me.prototype;return Ne.addWrite=function(ze,Re){var ge=(0,me.q)(this.queueByDocId,ze[this.primaryPath],()=>[]);return new Promise((xe,Ae)=>{var We={lastKnownDocumentState:ze,modifier:Re,resolve:xe,reject:Ae};(0,ae.ZN)(ge).push(We),this.triggerRun()})},Ne.triggerRun=function(){var oe=(0,J.A)(function*(){var Re=this;if(!0!==this.isRunning&&0!==this.queueByDocId.size){this.isRunning=!0;var ke=[],ge=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(ge.entries()).map(function(){var xe=(0,J.A)(function*([Ae,We]){var Ie=function Y(Me){var Ne=Me[0],oe=(0,De.Wg)(Ne._rev);return Me.forEach(ze=>{var Re=(0,De.Wg)(ze._rev);Re>oe&&(Ne=ze,oe=Re)}),Ne}(We.map(_e=>_e.lastKnownDocumentState)),st=Ie;for(var Qe of We)try{st=yield Qe.modifier((0,x.o8)(st))}catch(_e){Qe.reject(_e),Qe.reject=()=>{},Qe.resolve=()=>{}}try{yield Re.preWrite(st,Ie)}catch(_e){return void We.forEach(ue=>ue.reject(_e))}ke.push({previous:Ie,document:st})});return function(Ae){return xe.apply(this,arguments)}}()));var Fe=ke.length>0?yield this.storageInstance.bulkWrite(ke,"incremental-write"):{error:[]};return yield Promise.all((0,ut.YN)(this.primaryPath,ke,Fe).map(xe=>{var Ae=xe[this.primaryPath];this.postWrite(xe),(0,me.m)(ge,Ae).forEach(Ie=>Ie.resolve(xe))})),Fe.error.forEach(xe=>{var Ae=xe.documentId,We=(0,me.m)(ge,Ae),Ie=(0,re.sX)(xe);if(Ie){var st=(0,me.q)(this.queueByDocId,Ae,()=>[]);We.reverse().forEach(_e=>{_e.lastKnownDocumentState=(0,ae.ZN)(Ie.documentInDb),(0,ae.ZN)(st).unshift(_e)})}else{var Qe=(0,re.cg)(xe);We.forEach(_e=>_e.reject(Qe))}}),this.isRunning=!1,this.triggerRun()}});return function ze(){return oe.apply(this,arguments)}}(),Me}();function Ue(Me){var Ne=function(){var oe=(0,J.A)(function*(ze){var Re=(0,l.Xz)(ze);Re._deleted=ze._deleted;var ke=yield Me(Re),ge=Object.assign({},ke,{_meta:ze._meta,_attachments:ze._attachments,_rev:ze._rev,_deleted:typeof ke._deleted<"u"?ke._deleted:ze._deleted});return typeof ge._deleted>"u"&&(ge._deleted=!1),ge});return function(Re){return oe.apply(this,arguments)}}();return Ne}},3896:(Bt,et,O)=>{"use strict";O.d(et,{h:()=>J});var J={isDevMode:()=>!1,deepFreezeWhenDevMode:re=>re,tunnelErrorMessage:re=>"RxDB Error-Code "+re+".\n        Error messages are not included in RxDB core to reduce build size.\n        "}},7176:(Bt,et,O)=>{"use strict";O.d(et,{$r:()=>x,Aj:()=>l,Hb:()=>Re,S7:()=>Ue,Sd:()=>Y,dG:()=>re,j7:()=>Me,jw:()=>ke,k_:()=>ut});var J=O(467);function re(ge){return ge[ge.length-1]}function x(ge){return Array.isArray(ge)?ge.slice(0):[ge]}function l(ge,Fe){ge=ge.slice(0);for(var xe=[];ge.length;){var Ae=ge.splice(0,Fe);xe.push(Ae)}return xe}function ut(ge){return Array.isArray(ge)}function Ue(ge){return null!=ge}function Y(ge,Fe){var xe=0,Ae=-1;for(var We of ge){if(!Fe(We,Ae+=1))break;xe+=1}return xe}function Me(ge,Fe){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,J.A)(function*(ge,Fe){var xe=yield Promise.all(ge.map(Fe));return ge.filter((...[,Ae])=>xe[Ae])})).apply(this,arguments)}function Re(ge,Fe){var xe=Fe.length;if(0!==xe){var Ae=ge.length;ge.length=Ae+Fe.length;for(var We=0;We<xe;++We)ge[Ae+We]=Fe[We]}}function ke(ge){return ge.filter(function(Fe,xe,Ae){return Ae.indexOf(Fe)===xe})}},2060:(Bt,et,O)=>{"use strict";O.d(et,{Fq:()=>me,MC:()=>J,Xz:()=>ae,YL:()=>x,o4:()=>re});var J=1;function re(){return{lwt:J}}function me(){return""}function ae(Be){return Object.assign({},Be,{_meta:void 0,_deleted:void 0,_rev:void 0})}function x(Be,Ue,Y){if(Ue.length!==Y.length)return!1;for(var Me=0,Ne=Ue.length;Me<Ne;){var oe=Ue[Me],ze=Y[Me];if(Me++,oe._rev!==ze._rev||oe[Be]!==ze[Be])return!1}return!0}},203:(Bt,et,O)=>{"use strict";O.d(et,{S:()=>me,u:()=>re});var J=O(720);function re(ae){var x=ae.split("-"),l="RxDB";return x.forEach(De=>{l+=(0,J.Z2)(De)}),l+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+l+" } from 'rxdb/plugins/"+ae+"';\n            addRxPlugin("+l+");\n        ")}function me(ae){return{name:ae.name,message:ae.message,rxdb:ae.rxdb,parameters:ae.parameters,extensions:ae.extensions,code:ae.code,url:ae.url,stack:ae.stack?ae.stack.replace(/\n/g," \n "):void 0}}},7014:(Bt,et,O)=>{"use strict";O.d(et,{P:()=>J,Y:()=>re});var J={},re="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93"},6243:(Bt,et,O)=>{"use strict";O.d(et,{V0:()=>On});var J=O(467);Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0}),Object.freeze(["prototype","__proto__","constructor"]);class Be{constructor(be,W){be=this.words=be||[],this.sigBytes=void 0===W?4*be.length:W}toString(be){return(be||Ue).stringify(this)}concat(be){if(this.clamp(),this.sigBytes%4)for(let W=0;W<be.sigBytes;W++)this.words[this.sigBytes+W>>>2]|=(be.words[W>>>2]>>>24-W%4*8&255)<<24-(this.sigBytes+W)%4*8;else for(let W=0;W<be.sigBytes;W+=4)this.words[this.sigBytes+W>>>2]=be.words[W>>>2];return this.sigBytes+=be.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Be([...this.words])}}const Ue={stringify(se){const be=[];for(let W=0;W<se.sigBytes;W++){const B=se.words[W>>>2]>>>24-W%4*8&255;be.push((B>>>4).toString(16),(15&B).toString(16))}return be.join("")}},Me={parse(se){const be=se.length,W=[];for(let B=0;B<be;B++)W[B>>>2]|=(255&se.charCodeAt(B))<<24-B%4*8;return new Be(W,be)}},Ne_parse=se=>Me.parse(unescape(encodeURIComponent(se)));class oe{constructor(){this._data=new Be,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=16}reset(){this._data=new Be,this._nDataBytes=0}_append(be){"string"==typeof be&&(be=Ne_parse(be)),this._data.concat(be),this._nDataBytes+=be.sigBytes}_doProcessBlock(be,W){}_process(be){let W,B=this._data.sigBytes/(4*this.blockSize);B=be?Math.ceil(B):Math.max((0|B)-this._minBufferSize,0);const $=B*this.blockSize,X=Math.min(4*$,this._data.sigBytes);if($){for(let Z=0;Z<$;Z+=this.blockSize)this._doProcessBlock(this._data.words,Z);W=this._data.words.splice(0,$),this._data.sigBytes-=X}return new Be(W,X)}}class ze extends oe{update(be){return this._append(be),this._process(),this}finalize(be){be&&this._append(be)}}const Re=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ke=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ge=[];class Fe extends ze{constructor(){super(...arguments),this._hash=new Be([...Re])}reset(){super.reset(),this._hash=new Be([...Re])}_doProcessBlock(be,W){const B=this._hash.words;let $=B[0],X=B[1],Z=B[2],ie=B[3],ce=B[4],Te=B[5],It=B[6],Lt=B[7];for(let Rt=0;Rt<64;Rt++){if(Rt<16)ge[Rt]=0|be[W+Rt];else{const rn=ge[Rt-15],Cn=ge[Rt-2];ge[Rt]=((rn<<25|rn>>>7)^(rn<<14|rn>>>18)^rn>>>3)+ge[Rt-7]+((Cn<<15|Cn>>>17)^(Cn<<13|Cn>>>19)^Cn>>>10)+ge[Rt-16]}const nn=$&X^$&Z^X&Z,Ht=Lt+((ce<<26|ce>>>6)^(ce<<21|ce>>>11)^(ce<<7|ce>>>25))+(ce&Te^~ce&It)+ke[Rt]+ge[Rt];Lt=It,It=Te,Te=ce,ce=ie+Ht|0,ie=Z,Z=X,X=$,$=Ht+((($<<30|$>>>2)^($<<19|$>>>13)^($<<10|$>>>22))+nn)|0}B[0]=B[0]+$|0,B[1]=B[1]+X|0,B[2]=B[2]+Z|0,B[3]=B[3]+ie|0,B[4]=B[4]+ce|0,B[5]=B[5]+Te|0,B[6]=B[6]+It|0,B[7]=B[7]+Lt|0}finalize(be){super.finalize(be);const W=8*this._nDataBytes,B=8*this._data.sigBytes;return this._data.words[B>>>5]|=128<<24-B%32,this._data.words[14+(B+64>>>9<<4)]=Math.floor(W/4294967296),this._data.words[15+(B+64>>>9<<4)]=W,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function en(){return(en=(0,J.A)(function*(se){var be=(new TextEncoder).encode(se),W=yield crypto.subtle.digest("SHA-256",be);return Array.prototype.map.call(new Uint8Array(W),$=>("00"+$.toString(16)).slice(-2)).join("")})).apply(this,arguments)}var On=typeof crypto<"u"&&typeof crypto.subtle<"u"&&"function"==typeof crypto.subtle.digest?function ln(se){return en.apply(this,arguments)}:function At(se){return Promise.resolve(function xe(se){return(new Fe).finalize(se).toString()}(se))}},9403:(Bt,et,O)=>{"use strict";function J(me,ae){var x=me.get(ae);if(typeof x>"u")throw new Error("missing value from map "+ae);return x}function re(me,ae,x,l){var De=me.get(ae);return typeof De>"u"?(De=x(),me.set(ae,De)):l&&l(De),De}O.d(et,{m:()=>J,q:()=>re})},6636:(Bt,et,O)=>{"use strict";function J(re,me){if(re===me)return!0;if(re&&me&&"object"==typeof re&&"object"==typeof me){if(re.constructor!==me.constructor)return!1;var ae,x;if(Array.isArray(re)){if((ae=re.length)!==me.length)return!1;for(x=ae;0!=x--;)if(!J(re[x],me[x]))return!1;return!0}if(re.constructor===RegExp)return re.source===me.source&&re.flags===me.flags;if(re.valueOf!==Object.prototype.valueOf)return re.valueOf()===me.valueOf();if(re.toString!==Object.prototype.toString)return re.toString()===me.toString();var l=Object.keys(re);if((ae=l.length)!==Object.keys(me).length)return!1;for(x=ae;0!=x--;)if(!Object.prototype.hasOwnProperty.call(me,l[x]))return!1;for(x=ae;0!=x--;){var De=l[x];if(!J(re[De],me[De]))return!1}return!0}return re!=re&&me!=me}O.d(et,{b:()=>J})},1744:(Bt,et,O)=>{"use strict";O.d(et,{UU:()=>De,oq:()=>ut});var J=Re=>{var ke=typeof Re;return null!==Re&&("object"===ke||"function"===ke)},re=new Set(["__proto__","prototype","constructor"]),me=new Set("0123456789");function ae(Re){var ke=[],ge="",Fe="start",xe=!1;for(var Ae of Re)switch(Ae){case"\\":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");xe&&(ge+=Ae),Fe="property",xe=!xe;break;case".":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="property";break}if(xe){xe=!1,ge+=Ae;break}if(re.has(ge))return[];ke.push(ge),ge="",Fe="property";break;case"[":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="index";break}if(xe){xe=!1,ge+=Ae;break}if("property"===Fe){if(re.has(ge))return[];ke.push(ge),ge=""}Fe="index";break;case"]":if("index"===Fe){ke.push(Number.parseInt(ge,10)),ge="",Fe="indexEnd";break}if("indexEnd"===Fe)throw new Error("Invalid character after an index");default:if("index"===Fe&&!me.has(Ae))throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");"start"===Fe&&(Fe="property"),xe&&(xe=!1,ge+="\\"),ge+=Ae}switch(xe&&(ge+="\\"),Fe){case"property":if(re.has(ge))return[];ke.push(ge);break;case"index":throw new Error("Index was not closed");case"start":ke.push("")}return ke}function x(Re,ke){if("number"!=typeof ke&&Array.isArray(Re)){var ge=Number.parseInt(ke,10);return Number.isInteger(ge)&&Re[ge]===Re[ke]}return!1}function l(Re,ke){if(x(Re,ke))throw new Error("Cannot use string index")}function De(Re,ke,ge){if(Array.isArray(ke)&&(ke=ke.join(".")),!ke.includes(".")&&!ke.includes("["))return Re[ke];if(!J(Re)||"string"!=typeof ke)return void 0===ge?Re:ge;var Fe=ae(ke);if(0===Fe.length)return ge;for(var xe=0;xe<Fe.length;xe++){var Ae=Fe[xe];if(null==(Re=x(Re,Ae)?xe===Fe.length-1?void 0:null:Re[Ae])){if(xe!==Fe.length-1)return ge;break}}return void 0===Re?ge:Re}function ut(Re,ke,ge){if(Array.isArray(ke)&&(ke=ke.join(".")),!J(Re)||"string"!=typeof ke)return Re;for(var Fe=Re,xe=ae(ke),Ae=0;Ae<xe.length;Ae++){var We=xe[Ae];l(Re,We),Ae===xe.length-1?Re[We]=ge:J(Re[We])||(Re[We]="number"==typeof xe[Ae+1]?[]:{}),Re=Re[We]}return Fe}},6434:(Bt,et,O)=>{"use strict";function J(Ne){return Object.freeze(Ne),Object.getOwnPropertyNames(Ne).forEach(function(oe){Object.prototype.hasOwnProperty.call(Ne,oe)&&null!==Ne[oe]&&("object"==typeof Ne[oe]||"function"==typeof Ne[oe])&&!Object.isFrozen(Ne[oe])&&J(Ne[oe])}),Ne}function re(Ne){var oe=Ne.split("."),ze=oe.length;return 1===ze?Re=>Re[Ne]:Re=>{for(var ke=Re,ge=0;ge<ze;++ge)if(typeof(ke=ke[oe[ge]])>"u")return ke;return ke}}function ae(Ne){var oe={};for(var ze in Ne)if(Object.prototype.hasOwnProperty.call(Ne,ze))if("object"==typeof Ne[ze]){var Re=ae(Ne[ze]);for(var ke in Re)Object.prototype.hasOwnProperty.call(Re,ke)&&(oe[ze+"."+ke]=Re[ke])}else oe[ze]=Ne[ze];return oe}function x(Ne){return Object.assign({},Ne)}function l(Ne){return Object.keys(Ne)[0]}function ut(Ne,oe=!1){if(!Ne)return Ne;if(!oe&&Array.isArray(Ne))return Ne.sort((Re,ke)=>"string"==typeof Re&&"string"==typeof ke?Re.localeCompare(ke):"object"==typeof Re?1:-1).map(Re=>ut(Re,oe));if("object"==typeof Ne&&!Array.isArray(Ne)){var ze={};return Object.keys(Ne).sort((Re,ke)=>Re.localeCompare(ke)).forEach(Re=>{ze[Re]=ut(Ne[Re],oe)}),ze}return Ne}O.d(et,{FD:()=>x,Ln:()=>l,Ns:()=>Y,SQ:()=>re,YO:()=>ae,mf:()=>ut,o8:()=>Ue,ol:()=>J});var Ue=function Be(Ne){if(!Ne||null===Ne||"object"!=typeof Ne)return Ne;if(Array.isArray(Ne)){for(var oe=new Array(Ne.length),ze=oe.length;ze--;)oe[ze]=Be(Ne[ze]);return oe}var Re={};for(var ke in Ne)Re[ke]=Be(Ne[ke]);return Re};function Y(Ne,oe,ze){return Object.defineProperty(Ne,oe,{get:function(){return ze}}),ze}},8663:(Bt,et,O)=>{"use strict";function re(x,l){if(!x)throw l||(l=""),new Error("ensureNotFalsy() is falsy: "+l);return x}O.d(et,{ZN:()=>re,bz:()=>ae});var ae={bufferSize:1,refCount:!0}},5520:(Bt,et,O)=>{"use strict";function J(){return new Promise(oe=>setTimeout(oe,0))}function me(oe){return oe&&"function"==typeof oe.then?oe:Promise.resolve(oe)}O.d(et,{$A:()=>De,Dr:()=>l,Ms:()=>x,Ve:()=>Y,dY:()=>J,em:()=>ut,h$:()=>Ne,hq:()=>me,vN:()=>Be});var x=Promise.resolve(!0),l=Promise.resolve(!1),De=Promise.resolve(null),ut=Promise.resolve();function Be(oe=1e4){return"function"==typeof requestIdleCallback?new Promise(ze=>{requestIdleCallback(()=>ze(),{timeout:oe})}):function re(oe=0){return new Promise(ze=>setTimeout(ze,oe))}(0)}var Ue=ut;function Y(oe=void 0){return Ue=Ue.then(()=>Be(oe))}function Ne(oe,ze){return oe.reduce((Re,ke)=>Re.then(ke),Promise.resolve(ze))}},6568:(Bt,et,O)=>{"use strict";function re(ae){for(var x="",l=0;l<ae.length;l++){var De=ae[l];if("-"===De)return parseInt(x,10);x+=De}throw new Error("malformatted revision: "+ae)}function me(ae,x){return(x?re(x._rev)+1:1)+"-"+ae}O.d(et,{CM:()=>me,Wg:()=>re})},6052:(Bt,et,O)=>{"use strict";O.d(et,{o:()=>J});var J="15.28.1"},720:(Bt,et,O)=>{"use strict";O.d(et,{L$:()=>x,Z2:()=>ae,ky:()=>De,z3:()=>re});var J="abcdefghijklmnopqrstuvwxyz";function re(Y=10){for(var Me="",Ne=0;Ne<Y;Ne++)Me+=J.charAt(Math.floor(Math.random()*J.length));return Me}function ae(Y){return(Y+="").charAt(0).toUpperCase()+Y.substr(1)}function x(Y){for(;"."===Y.charAt(0);)Y=Y.substr(1);for(;"."===Y.slice(-1);)Y=Y.slice(0,-1);return Y}function De(Y){return!(!Y.includes("/")&&!Y.includes("\\"))}},4552:(Bt,et,O)=>{"use strict";O.d(et,{t:()=>re});var J=0;function re(){var me=Date.now();(me+=.01)<=J&&(me=J+.01);var ae=parseFloat(me.toFixed(2));return J=ae,ae}},6259:(Bt,et,O)=>{"use strict";O.d(et,{Cx:()=>Y,XA:()=>x,n9:()=>Ne});var J=O(9403),re=O(4552),me=O(5520),ae=function(){function oe(){this._map=new Map}return oe.prototype.getByQuery=function(ke){var ge=ke.toString();return(0,J.q)(this._map,ge,()=>ke)},oe}();function x(){return new ae}function l(oe,ze){ze.uncached=!0;var Re=ze.toString();oe._map.delete(Re)}function De(oe){return oe.refCount$.observers.length}var Y=(100,3e4,(Re,ke)=>{if(!(ke._map.size<100)){var ge=(0,re.t)()-3e4,Fe=[],xe=Array.from(ke._map.values());for(var Ae of xe)if(!(De(Ae)>0)){if(0===Ae._lastEnsureEqual&&Ae._creationTime<ge){l(ke,Ae);continue}Fe.push(Ae)}var We=Fe.length-100;We<=0||Fe.sort((Qe,_e)=>Qe._lastEnsureEqual-_e._lastEnsureEqual).slice(0,We).forEach(Qe=>l(ke,Qe))}}),Me=new WeakSet;function Ne(oe){Me.has(oe)||(Me.add(oe),(0,me.dY)().then(()=>(0,me.Ve)(200)).then(()=>{oe.destroyed||oe.cacheReplacementPolicy(oe,oe._queryCache),Me.delete(oe)}))}},997:(Bt,et,O)=>{"use strict";O.d(et,{Cf:()=>De,OK:()=>x,g0:()=>ae,sk:()=>l});var J=O(7176),re=O(7650),me=O(1885),ae="\uffff",x=Number.MIN_SAFE_INTEGER;function l(Ne,oe){var ze=oe.selector,Re=Ne.indexes?Ne.indexes.slice(0):[];oe.index&&(Re=[oe.index]);var ke=!!oe.sort.find(Ie=>"desc"===Object.values(Ie)[0]),ge=new Set;Object.keys(ze).forEach(Ie=>{var st=(0,me.nT)(Ne,Ie);st&&"boolean"===st.type&&Object.prototype.hasOwnProperty.call(ze[Ie],"$eq")&&ge.add(Ie)});var We,xe=oe.sort.map(Ie=>Object.keys(Ie)[0]).filter(Ie=>!ge.has(Ie)).join(","),Ae=-1;if(Re.forEach(Ie=>{var st=!0,Qe=!0,_e=Ie.map(At=>{var ln=ze[At],en=ln?Object.keys(ln):[],pn={};return ln&&en.length?en.forEach(Ge=>{if(De.has(Ge)){var be=function Y(Ne,oe){switch(Ne){case"$eq":return{startKey:oe,endKey:oe,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:oe,inclusiveEnd:!0};case"$gte":return{startKey:oe,inclusiveStart:!0};case"$lt":return{endKey:oe,inclusiveEnd:!1};case"$gt":return{startKey:oe,inclusiveStart:!1};default:throw new Error("SNH")}}(Ge,ln[Ge]);pn=Object.assign(pn,be)}}):pn={startKey:Qe?x:ae,endKey:st?ae:x,inclusiveStart:!0,inclusiveEnd:!0},typeof pn.startKey>"u"&&(pn.startKey=x),typeof pn.endKey>"u"&&(pn.endKey=ae),typeof pn.inclusiveStart>"u"&&(pn.inclusiveStart=!0),typeof pn.inclusiveEnd>"u"&&(pn.inclusiveEnd=!0),Qe&&!pn.inclusiveStart&&(Qe=!1),st&&!pn.inclusiveEnd&&(st=!1),pn}),ue=_e.map(At=>At.startKey),Q=_e.map(At=>At.endKey),mt={index:Ie,startKeys:ue,endKeys:Q,inclusiveEnd:st,inclusiveStart:Qe,sortSatisfiedByIndex:!ke&&xe===Ie.filter(At=>!ge.has(At)).join(","),selectorSatisfiedByIndex:Ue(Ie,oe.selector,ue,Q)},Dt=function Me(Ne,oe,ze){var Re=0,ke=Ie=>{Ie>0&&(Re+=Ie)},Fe=(0,J.Sd)(ze.startKeys,Ie=>Ie!==x&&Ie!==ae);ke(10*Fe);var xe=(0,J.Sd)(ze.startKeys,Ie=>Ie!==ae&&Ie!==x);ke(10*xe);var Ae=(0,J.Sd)(ze.startKeys,(Ie,st)=>Ie===ze.endKeys[st]);return ke(10*Ae*1.5),ke(ze.sortSatisfiedByIndex?5:0),Re}(0,0,mt);(Dt>=Ae||oe.index)&&(Ae=Dt,We=mt)}),!We)throw(0,re.Br)("SNH",{query:oe});return We}var De=new Set(["$eq","$gt","$gte","$lt","$lte"]),ut=new Set(["$eq","$gt","$gte"]),Be=new Set(["$eq","$lt","$lte"]);function Ue(Ne,oe,ze,Re){if(Object.entries(oe).find(([Ge,se])=>!Ne.includes(Ge)||Object.entries(se).find(([W,B])=>!De.has(W)))||oe.$and||oe.$or)return!1;var Fe=[],xe=new Set;for(var[Ae,We]of Object.entries(oe)){if(!Ne.includes(Ae))return!1;var Ie=Object.keys(We).filter(Ge=>ut.has(Ge));if(Ie.length>1)return!1;var st=Ie[0];if(st&&xe.add(Ae),"$eq"!==st){if(Fe.length>0)return!1;Fe.push(st)}}var Qe=[],_e=new Set;for(var[ue,Q]of Object.entries(oe)){if(!Ne.includes(ue))return!1;var mt=Object.keys(Q).filter(Ge=>Be.has(Ge));if(mt.length>1)return!1;var Dt=mt[0];if(Dt&&_e.add(ue),"$eq"!==Dt){if(Qe.length>0)return!1;Qe.push(Dt)}}var At=0;for(var ln of Ne){for(var en of[xe,_e]){if(!en.has(ln)&&en.size>0)return!1;en.delete(ln)}if(ze[At]!==Re[At]&&xe.size>0&&_e.size>0)return!1;At++}return!0}},327:(Bt,et,O)=>{"use strict";O.d(et,{a:()=>ut,r:()=>Be});var J=O(467),re=O(6636),me=O(6434),ae=O(2060),x=O(4552),l=O(6568),De=O(6893),ut=function(Y,Me){var Ne=(0,De.on)(Y.newDocumentState),oe=(0,De.on)(Y.realMasterState);return(0,re.b)(Ne,oe)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:Y.realMasterState})};function Be(Y,Me,Ne){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,J.A)(function*(Y,Me,Ne){var oe=Y.input.conflictHandler,ze=yield oe(Me,"replication-resolve-conflict");if(!ze.isEqual){var Re=Object.assign({},ze.documentData,{_meta:(0,me.FD)(Ne._meta),_rev:(0,ae.Fq)(),_attachments:(0,me.FD)(Ne._attachments)});return Re._meta.lwt=(0,x.t)(),Re._rev=(0,l.CM)(yield Y.checkpointKey,Ne),{resolvedDoc:Re,output:ze}}})).apply(this,arguments)}},312:(Bt,et,O)=>{"use strict";O.d(et,{_r:()=>me,vk:()=>re});var J=O(3896);function re(x){return x.documentData?x.documentData:x.previousDocumentData}function me(x){switch(x.operation){case"INSERT":return{operation:x.operation,id:x.documentId,doc:x.documentData,previous:null};case"UPDATE":return{operation:x.operation,id:x.documentId,doc:J.h.deepFreezeWhenDevMode(x.documentData),previous:x.previousDocumentData?x.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:x.operation,id:x.documentId,doc:null,previous:x.previousDocumentData}}}},1318:(Bt,et,O)=>{"use strict";O.d(et,{JY:()=>Me,X3:()=>ke,vK:()=>Ne,vM:()=>ze});var J=O(467),re=O(6434),me=O(2060),ae=O(4552),x=O(6568),l=O(1885),De=O(2284),ut=O(2104),Be=O(6893),Ue=O(3896),Y=O(7650);function Me(ge,Fe){return Fe=(0,re.FD)(Fe),Fe=(0,l.pA)(ge,Fe),"string"!=typeof ge.jsonSchema.primaryKey&&(Fe=(0,l.Nq)(ge.primaryPath,ge.jsonSchema,Fe)),Fe._meta=(0,me.o4)(),Object.prototype.hasOwnProperty.call(Fe,"_deleted")||(Fe._deleted=!1),Object.prototype.hasOwnProperty.call(Fe,"_attachments")||(Fe._attachments={}),Object.prototype.hasOwnProperty.call(Fe,"_rev")||(Fe._rev=(0,me.Fq)()),Fe}function Ne(ge,Fe){return oe.apply(this,arguments)}function oe(){return(oe=(0,J.A)(function*(ge,Fe){return Fe.multiInstance=ge.multiInstance,yield ge.storage.createStorageInstance(Fe)})).apply(this,arguments)}function ze(ge,Fe,xe,Ae,We,Ie,st){return Re.apply(this,arguments)}function Re(){return Re=(0,J.A)(function*(ge,Fe,xe,Ae,We,Ie,st){var _e=(yield(0,ut.WY)(Fe)).filter(Dt=>Dt.data.name===We),ue=[];_e.forEach(Dt=>{ue.push({collectionName:Dt.data.name,schema:Dt.data.schema,isCollection:!0}),Dt.data.connectedStorages.forEach(At=>ue.push({collectionName:At.collectionName,isCollection:!1,schema:At.schema}))});var Q=new Set;if(ue=ue.filter(Dt=>{var At=Dt.collectionName+"||"+Dt.schema.version;return!Q.has(At)&&(Q.add(At),!0)}),yield Promise.all(ue.map(function(){var Dt=(0,J.A)(function*(At){var ln=yield ge.createStorageInstance({collectionName:At.collectionName,databaseInstanceToken:xe,databaseName:Ae,multiInstance:!1,options:{},schema:At.schema,password:Ie,devMode:Ue.h.isDevMode()});yield ln.remove(),At.isCollection&&(yield(0,De.FX)("postRemoveRxCollection",{storage:ge,databaseName:Ae,collectionName:We}))});return function(At){return Dt.apply(this,arguments)}}())),st){var mt=_e.map(Dt=>{var At=(0,Be.C9)(Dt);return At._deleted=!0,At._meta.lwt=(0,ae.t)(),At._rev=(0,x.CM)(xe,Dt),{previous:Dt,document:At}});yield Fe.bulkWrite(mt,"rx-database-remove-collection-all")}}),Re.apply(this,arguments)}function ke(ge){if(ge.destroyed)throw(0,Y.Br)("COL21",{collection:ge.name,version:ge.schema.version})}},4395:(Bt,et,O)=>{"use strict";O.d(et,{wm:()=>pn,dN:()=>be});var J=O(467),re=O(6126),me=O(5964),ae=O(1397),x=O(6354),l=O(5520),De=O(203),ut=O(8663),Be=O(6434),Ue=O(9403),Y=O(720),Me=O(1318),Ne=O(5672),oe=O(7650),ze=O(9825),Re=O(6259),ke=O(7176),ge=function(){function B(X){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=X,this.subs.push(this.collection.database.eventBulks$.pipe((0,me.p)(Z=>Z.collectionName===this.collection.name),(0,me.p)(Z=>!Z.events[0].isLocal)).subscribe(Z=>{this.tasks.add(()=>this._handleChangeEvents(Z.events)),this.tasks.size<=1&&(0,l.vN)().then(()=>{this.processTasks()})}))}var $=B.prototype;return $.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(ie=>ie()),this.tasks.clear())},$._handleChangeEvents=function(Z){var ie=this.counter;this.counter=this.counter+Z.length,Z.length>this.limit?this.buffer=Z.slice(-1*Z.length):((0,ke.Hb)(this.buffer,Z),this.buffer=this.buffer.slice(-1*this.limit));for(var ce=ie+1,Te=this.eventCounterMap,It=0;It<Z.length;It++)Te.set(Z[It],ce+It)},$.getCounter=function(){return this.processTasks(),this.counter},$.getBuffer=function(){return this.processTasks(),this.buffer},$.getArrayIndexByPointer=function(Z){this.processTasks();var ce=this.eventCounterMap.get(this.buffer[0]);return Z<ce?null:Z-ce},$.getFrom=function(Z){this.processTasks();var ie=[],ce=this.getArrayIndexByPointer(Z);if(null===ce)return null;for(;;){var Te=this.buffer[ce];if(ce++,!Te)return ie;ie.push(Te)}},$.runFrom=function(Z,ie){this.processTasks();var ce=this.getFrom(Z);if(null===ce)throw new Error("out of bounds");ce.forEach(Te=>ie(Te))},$.reduceByLastOfDoc=function(Z){return this.processTasks(),Z.slice(0)},$.destroy=function(){this.tasks.clear(),this.subs.forEach(Z=>Z.unsubscribe())},B}(),xe=O(2284),Ae=O(5908),We=O(3896),Ie=new WeakMap;var Q=O(6893),mt=O(327),Dt=O(6706),At=["pre","post"],ln=["insert","save","remove","create"],en=!1,pn=function(){function B(X,Z,ie,ce,Te={},It={},Lt={},Rt={},Ut={},nn=Re.Cx,on={},cn=mt.a){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=(0,Re.XA)(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=X,this.name=Z,this.schema=ie,this.internalStorageInstance=ce,this.instanceCreationOptions=Te,this.migrationStrategies=It,this.methods=Lt,this.attachments=Rt,this.options=Ut,this.cacheReplacementPolicy=nn,this.statics=on,this.conflictHandler=cn,function On(B){if(!en){en=!0;var $=Object.getPrototypeOf(B);ln.forEach(X=>{At.map(Z=>{var ie=Z+(0,Y.Z2)(X);$[ie]=function(ce,Te){return this.addHook(Z,X,ce,Te)}})})}}(this.asRxCollection)}var $=B.prototype;return $.prepare=function(){var X=(0,J.A)(function*(){var ie=this;this.storageInstance=(0,Q.AM)(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Dt.N6(this.storageInstance,this.schema.primaryPath,(Ut,nn)=>(0,Ae.Lt)(this,Ut,nn),Ut=>this._runHooks("post","save",Ut));var Te,ce=this.database.eventBulks$.pipe((0,me.p)(Ut=>Ut.collectionName===this.name));this.$=ce.pipe((0,ae.Z)(Ut=>Ut.events)),this.checkpoint$=ce.pipe((0,x.T)(Ut=>Ut.checkpoint)),this._changeEventBuffer=function Fe(B){return new ge(B)}(this.asRxCollection),this._docCache=new ze.K(this.schema.primaryPath,this.database.eventBulks$.pipe((0,me.p)(Ut=>Ut.collectionName===this.name&&!Ut.events[0].isLocal),(0,x.T)(Ut=>Ut.events)),Ut=>(Te||(Te=function Qe(B){return(0,Ue.q)(Ie,B,()=>(0,Ae.cM)(function st(B){var $=B.schema.getDocumentPrototype(),X=function ue(B){var $={};return Object.entries(B.methods).forEach(([X,Z])=>{$[X]=Z}),$}(B),ie={};return[$,X,Ae.ky].forEach(ce=>{Object.getOwnPropertyNames(ce).forEach(It=>{var Lt=Object.getOwnPropertyDescriptor(ce,It),Rt=!0;(It.startsWith("_")||It.endsWith("_")||It.startsWith("$")||It.endsWith("$"))&&(Rt=!1),"function"==typeof Lt.value?Object.defineProperty(ie,It,{get(){return Lt.value.bind(this)},enumerable:Rt,configurable:!1}):(Lt.enumerable=Rt,Lt.configurable=!1,Lt.writable&&(Lt.writable=!1),Object.defineProperty(ie,It,Lt))})}),ie}(B)))}(this.asRxCollection)),function _e(B,$,X){var Z=(0,Ae.Zb)($,B,We.h.deepFreezeWhenDevMode(X));return B._runHooksSync("post","create",X,Z),(0,xe.Xi)("postCreateRxDocument",Z),Z}(this.asRxCollection,Te,Ut)));var It=this.database.internalStore.changeStream().pipe((0,me.p)(Ut=>{var nn=this.name+"-"+this.schema.version;return!!Ut.events.find(cn=>"collection"===cn.documentData.context&&cn.documentData.key===nn&&"DELETE"===cn.operation)})).subscribe((0,J.A)(function*(){yield ie.destroy(),yield Promise.all(ie.onRemove.map(Ut=>Ut()))}));this._subs.push(It);var Lt=yield this.database.storageToken,Rt=this.storageInstance.changeStream().subscribe(Ut=>{for(var nn=new Array(Ut.events.length),on=Ut.events,cn=this.name,Ht=We.h.deepFreezeWhenDevMode,hn=0;hn<on.length;hn++){var rn=on[hn];nn[hn]={documentId:rn.documentId,collectionName:cn,isLocal:!1,operation:rn.operation,documentData:Ht(rn.documentData),previousDocumentData:Ht(rn.previousDocumentData)}}this.database.$emit({id:Ut.id,internal:!1,collectionName:this.name,storageToken:Lt,events:nn,databaseToken:this.database.token,checkpoint:Ut.checkpoint,context:Ut.context,endTime:Ut.endTime,startTime:Ut.startTime})});return this._subs.push(Rt),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(Ut=>{this.conflictHandler(Ut.input,Ut.context).then(nn=>{this.storageInstance.resolveConflictResultionTask({id:Ut.id,output:nn})})})),l.em});return function Z(){return X.apply(this,arguments)}}(),$.cleanup=function(Z){throw(0,Me.X3)(this),(0,De.u)("cleanup")},$.migrationNeeded=function(){throw(0,De.u)("migration-schema")},$.getMigrationState=function(){throw(0,De.u)("migration-schema")},$.startMigration=function(Z=10){return(0,Me.X3)(this),this.getMigrationState().startMigration(Z)},$.migratePromise=function(Z=10){return this.getMigrationState().migratePromise(Z)},$.insert=function(){var X=(0,J.A)(function*(ie){(0,Me.X3)(this);var ce=yield this.bulkInsert([ie]);return(0,Q.WX)(this,ie[this.schema.primaryPath],ie,ce.error[0]),(0,ut.ZN)(ce.success[0])});return function Z(ie){return X.apply(this,arguments)}}(),$.bulkInsert=function(){var X=(0,J.A)(function*(ie){if((0,Me.X3)(this),0===ie.length)return{success:[],error:[]};var Te,ce=this.schema.primaryPath;if(this.hasHooks("pre","insert"))Te=yield Promise.all(ie.map(rn=>{var Pn=(0,Me.JY)(this.schema,rn);return this._runHooks("pre","insert",Pn).then(()=>({document:Pn}))}));else{Te=new Array(ie.length);for(var It=this.schema,Lt=0;Lt<ie.length;Lt++){var Ut=(0,Me.JY)(It,ie[Lt]);Te[Lt]={document:Ut}}}var on,nn=yield this.storageInstance.bulkWrite(Te,"rx-collection-bulk-insert"),cn=this,Ht={get success(){if(!on){var rn=(0,Q.YN)(cn.schema.primaryPath,Te,nn);on=(0,ze.X)(cn._docCache,rn)}return on},error:nn.error};if(this.hasHooks("post","insert")){var hn=new Map;Te.forEach(rn=>{var Pn=rn.document;hn.set(Pn[ce],Pn)}),yield Promise.all(Ht.success.map(rn=>this._runHooks("post","insert",hn.get(rn.primary),rn)))}return Ht});return function Z(ie){return X.apply(this,arguments)}}(),$.bulkRemove=function(){var X=(0,J.A)(function*(ie){(0,Me.X3)(this);var ce=this.schema.primaryPath;if(0===ie.length)return{success:[],error:[]};var Te=yield this.findByIds(ie).exec(),It=[],Lt=new Map;Array.from(Te.values()).forEach(Ht=>{var hn=Ht.toMutableJSON(!0);It.push(hn),Lt.set(Ht.primary,hn)}),yield Promise.all(It.map(Ht=>this._runHooks("pre","remove",Ht,Te.get(Ht[this.schema.primaryPath]))));var Rt=It.map(Ht=>{var hn=(0,Be.FD)(Ht);return hn._deleted=!0,{previous:Ht,document:hn}}),Ut=yield this.storageInstance.bulkWrite(Rt,"rx-collection-bulk-remove"),on=(0,Q.YN)(this.schema.primaryPath,Rt,Ut).map(Ht=>Ht[ce]);return yield Promise.all(on.map(Ht=>this._runHooks("post","remove",Lt.get(Ht),Te.get(Ht)))),{success:on.map(Ht=>(0,Ue.m)(Te,Ht)),error:Ut.error}});return function Z(ie){return X.apply(this,arguments)}}(),$.bulkUpsert=function(){var X=(0,J.A)(function*(ie){var ce=this;(0,Me.X3)(this);var Te=[],It=new Map;ie.forEach(nn=>{var on=(0,Me.JY)(this.schema,nn),cn=on[this.schema.primaryPath];if(!cn)throw(0,oe.Br)("COL3",{primaryPath:this.schema.primaryPath,data:on,schema:this.schema.jsonSchema});It.set(cn,on),Te.push(on)});var Lt=yield this.bulkInsert(Te),Rt=Lt.success.slice(0),Ut=[];return yield Promise.all(Lt.error.map(function(){var nn=(0,J.A)(function*(on){if(409!==on.status)Ut.push(on);else{var Ht=(0,Ue.m)(It,on.documentId),hn=(0,ut.ZN)(on.documentInDb),rn=ce._docCache.getCachedRxDocuments([hn])[0],Pn=yield rn.incrementalModify(()=>Ht);Rt.push(Pn)}});return function(on){return nn.apply(this,arguments)}}())),{error:Ut,success:Rt}});return function Z(ie){return X.apply(this,arguments)}}(),$.upsert=function(){var X=(0,J.A)(function*(ie){(0,Me.X3)(this);var ce=yield this.bulkUpsert([ie]);return(0,Q.WX)(this.asRxCollection,ie[this.schema.primaryPath],ie,ce.error[0]),ce.success[0]});return function Z(ie){return X.apply(this,arguments)}}(),$.incrementalUpsert=function(Z){(0,Me.X3)(this);var ie=(0,Me.JY)(this.schema,Z),ce=ie[this.schema.primaryPath];if(!ce)throw(0,oe.Br)("COL4",{data:Z});var Te=this._incrementalUpsertQueues.get(ce);return Te||(Te=l.em),Te=Te.then(()=>function se(B,$,X){var Z=B._docCache.getLatestDocumentDataIfExists($);return Z?Promise.resolve({doc:B._docCache.getCachedRxDocuments([Z])[0],inserted:!1}):B.findOne($).exec().then(ie=>ie?{doc:ie,inserted:!1}:B.insert(X).then(ce=>({doc:ce,inserted:!0})))}(this,ce,ie)).then(It=>It.inserted?It.doc:function Ge(B,$){return B.incrementalModify(X=>$)}(It.doc,ie)),this._incrementalUpsertQueues.set(ce,Te),Te},$.find=function(Z){if((0,Me.X3)(this),"string"==typeof Z)throw(0,oe.Br)("COL5",{queryObj:Z});return Z||(Z=(0,Ne.XX)()),(0,Ne.nd)("find",Z,this)},$.findOne=function(Z){if((0,Me.X3)(this),"number"==typeof Z||Array.isArray(Z))throw(0,oe.JX)("COL6",{queryObj:Z});var ie;if("string"==typeof Z)ie=(0,Ne.nd)("findOne",{selector:{[this.schema.primaryPath]:Z},limit:1},this);else{if(Z||(Z=(0,Ne.XX)()),Z.limit)throw(0,oe.Br)("QU6");(Z=(0,Be.FD)(Z)).limit=1,ie=(0,Ne.nd)("findOne",Z,this)}return ie},$.count=function(Z){return(0,Me.X3)(this),Z||(Z=(0,Ne.XX)()),(0,Ne.nd)("count",Z,this)},$.findByIds=function(Z){(0,Me.X3)(this);var ie={selector:{[this.schema.primaryPath]:{$in:Z.slice(0)}}};return(0,Ne.nd)("findByIds",ie,this)},$.exportJSON=function(){throw(0,De.u)("json-dump")},$.importJSON=function(Z){throw(0,De.u)("json-dump")},$.insertCRDT=function(Z){throw(0,De.u)("crdt")},$.addHook=function(Z,ie,ce,Te=!1){if("function"!=typeof ce)throw(0,oe.JX)("COL7",{key:ie,when:Z});if(!At.includes(Z))throw(0,oe.JX)("COL8",{key:ie,when:Z});if(!ln.includes(ie))throw(0,oe.Br)("COL9",{key:ie});if("post"===Z&&"create"===ie&&!0===Te)throw(0,oe.Br)("COL10",{when:Z,key:ie,parallel:Te});var It=ce.bind(this),Lt=Te?"parallel":"series";this.hooks[ie]=this.hooks[ie]||{},this.hooks[ie][Z]=this.hooks[ie][Z]||{series:[],parallel:[]},this.hooks[ie][Z][Lt].push(It)},$.getHooks=function(Z,ie){return this.hooks[ie]&&this.hooks[ie][Z]?this.hooks[ie][Z]:{series:[],parallel:[]}},$.hasHooks=function(Z,ie){if(!this.hooks[ie]||!this.hooks[ie][Z])return!1;var ce=this.getHooks(Z,ie);return!!ce&&(ce.series.length>0||ce.parallel.length>0)},$._runHooks=function(Z,ie,ce,Te){var It=this.getHooks(Z,ie);if(!It)return l.em;var Lt=It.series.map(Rt=>()=>Rt(ce,Te));return(0,l.h$)(Lt).then(()=>Promise.all(It.parallel.map(Rt=>Rt(ce,Te))))},$._runHooksSync=function(Z,ie,ce,Te){if(this.hasHooks(Z,ie)){var It=this.getHooks(Z,ie);It&&It.series.forEach(Lt=>Lt(ce,Te))}},$.promiseWait=function(Z){return new Promise(ce=>{var Te=setTimeout(()=>{this.timeouts.delete(Te),ce()},Z);this.timeouts.add(Te)})},$.destroy=function(){var X=(0,J.A)(function*(){return this.destroyed?l.Dr:(yield Promise.all(this.onDestroy.map(ie=>ie())),this.destroyed=!0,Array.from(this.timeouts).forEach(ie=>clearTimeout(ie)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(ie=>ie.unsubscribe()),delete this.database.collections[this.name],(0,xe.FX)("postDestroyRxCollection",this).then(()=>!0))))});return function Z(){return X.apply(this,arguments)}}(),$.remove=function(){var X=(0,J.A)(function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(ie=>ie())),yield(0,Me.vM)(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)});return function Z(){return X.apply(this,arguments)}}(),(0,re.A)(B,[{key:"insert$",get:function(){return this.$.pipe((0,me.p)(X=>"INSERT"===X.operation))}},{key:"update$",get:function(){return this.$.pipe((0,me.p)(X=>"UPDATE"===X.operation))}},{key:"remove$",get:function(){return this.$.pipe((0,me.p)(X=>"DELETE"===X.operation))}},{key:"asRxCollection",get:function(){return this}}])}();function be({database:B,name:$,schema:X,instanceCreationOptions:Z={},migrationStrategies:ie={},autoMigrate:ce=!0,statics:Te={},methods:It={},attachments:Lt={},options:Rt={},localDocuments:Ut=!1,cacheReplacementPolicy:nn=Re.Cx,conflictHandler:on=mt.a}){var cn={databaseInstanceToken:B.token,databaseName:B.name,collectionName:$,schema:X.jsonSchema,options:Z,multiInstance:B.multiInstance,password:B.password,devMode:We.h.isDevMode()};return(0,xe.Xi)("preCreateRxStorageInstance",cn),(0,Me.vK)(B,cn).then(Ht=>{var hn=new pn(B,$,X,Ht,Z,ie,It,Lt,Rt,nn,Te,on);return hn.prepare().then(()=>{Object.entries(Te).forEach(([Pn,Cn])=>{Object.defineProperty(hn,Pn,{get:()=>Cn.bind(hn)})});var rn=l.em;return ce&&0!==hn.schema.version&&(rn=hn.migratePromise()),rn}).then(()=>((0,xe.Xi)("createRxCollection",{collection:hn,creator:{name:$,schema:X,storageInstance:Ht,instanceCreationOptions:Z,migrationStrategies:ie,methods:It,attachments:Lt,options:Rt,cacheReplacementPolicy:nn,localDocuments:Ut,statics:Te}}),hn)).catch(rn=>Ht.close().then(()=>Promise.reject(rn)))})}},2104:(Bt,et,O)=>{"use strict";O.d(et,{CC:()=>oe,Nu:()=>Ue,WY:()=>Re,bD:()=>Qe,bV:()=>ue,lz:()=>ze,ol:()=>xe,vV:()=>Ie});var J=O(467),re=O(7650),me=O(1885),ae=O(6893),x=O(720),l=O(2060),De=O(8663),ut=O(6434),Be=O(5672),Ue="collection",Y="storage-token",oe=(0,me.Ud)({version:0,title:"RxInternalDocument",primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Ue,Y,"rx-migration-status","OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function ze(Q,mt){return(0,me.U)(oe,{key:Q,context:mt})}function Re(Q){return ke.apply(this,arguments)}function ke(){return(ke=(0,J.A)(function*(Q){var mt=(0,Be.Ib)(Q.schema,{selector:{context:Ue,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0});return(yield Q.query(mt)).documents})).apply(this,arguments)}var ge="storageToken",Fe=ze(ge,Y);function xe(Q){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,J.A)(function*(Q){var mt=(0,x.z3)(10),Dt=Q.password?yield Q.hashFunction(JSON.stringify(Q.password)):void 0,ln=[{document:{id:Fe,context:Y,key:ge,data:{rxdbVersion:Q.rxdbVersion,token:mt,instanceToken:Q.token,passwordHash:Dt},_deleted:!1,_meta:(0,l.o4)(),_rev:(0,l.Fq)(),_attachments:{}}}],en=yield Q.internalStore.bulkWrite(ln,"internal-add-storage-token");if(!en.error[0])return(0,ae.YN)("id",ln,en)[0];var pn=(0,De.ZN)(en.error[0]);if(pn.isError&&(0,re.sX)(pn)){var On=pn;if(!function We(Q,mt){return!(!Q||mt.includes("beta")&&mt!==Q)&&Q.split(".")[0]===mt.split(".")[0]}(On.documentInDb.data.rxdbVersion,Q.rxdbVersion))throw(0,re.Br)("DM5",{args:{database:Q.name,databaseStateVersion:On.documentInDb.data.rxdbVersion,codeVersion:Q.rxdbVersion}});if(Dt&&Dt!==On.documentInDb.data.passwordHash)throw(0,re.Br)("DB1",{passwordHash:Dt,existingPasswordHash:On.documentInDb.data.passwordHash});return(0,De.ZN)(On.documentInDb)}throw pn})).apply(this,arguments)}function Ie(Q,mt,Dt){return st.apply(this,arguments)}function st(){return(st=(0,J.A)(function*(Q,mt,Dt){if(Q.schema.version!==Dt.version)throw(0,re.Br)("SNH",{schema:Dt,version:Q.schema.version,name:Q.name,collection:Q,args:{storageCollectionName:mt}});for(var ln=ze(ue(Q.name,Q.schema.jsonSchema),Ue);;){var en=yield(0,ae.O5)(Q.database.internalStore,ln),pn=(0,ut.o8)((0,De.ZN)(en));if(pn.data.connectedStorages.find(Ge=>Ge.collectionName===mt&&Ge.schema.version===Dt.version))return;pn.data.connectedStorages.push({collectionName:mt,schema:Dt});try{yield(0,ae.mQ)(Q.database.internalStore,{previous:(0,De.ZN)(en),document:pn},"add-connected-storage-to-collection")}catch(Ge){if(!(0,re.sX)(Ge))throw Ge}}})).apply(this,arguments)}function Qe(Q,mt,Dt){return _e.apply(this,arguments)}function _e(){return(_e=(0,J.A)(function*(Q,mt,Dt){if(Q.schema.version!==Dt.version)throw(0,re.Br)("SNH",{schema:Dt,version:Q.schema.version,name:Q.name,collection:Q,args:{storageCollectionName:mt}});for(var ln=ze(ue(Q.name,Q.schema.jsonSchema),Ue);;){var en=yield(0,ae.O5)(Q.database.internalStore,ln),pn=(0,ut.o8)((0,De.ZN)(en));if(!pn.data.connectedStorages.find(Ge=>Ge.collectionName===mt&&Ge.schema.version===Dt.version))return;pn.data.connectedStorages=pn.data.connectedStorages.filter(Ge=>Ge.collectionName!==mt);try{yield(0,ae.mQ)(Q.database.internalStore,{previous:(0,De.ZN)(en),document:pn},"remove-connected-storage-from-collection")}catch(Ge){if(!(0,re.sX)(Ge))throw Ge}}})).apply(this,arguments)}function ue(Q,mt){return Q+"-"+mt.version}},7396:(Bt,et,O)=>{"use strict";O.d(et,{lB:()=>Q,uh:()=>ln,NI:()=>se});var J=O(467),re=O(6126),me=function(){this._parallels=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function x($,X){if(X){if(X._timeoutObj&&clearTimeout(X._timeoutObj),$._pHM.has(X)){var Z=$._pHM.get(X);$._hPM.delete(Z),$._pHM.delete(X)}$._iC.delete(X)}}function l($){$._tryIR||0===$._iC.size||($._tryIR=!0,setTimeout(function(){$.isIdle()?setTimeout(function(){$.isIdle()?(function ae($){0!==$._iC.size&&($._iC.values().next().value._manRes(),setTimeout(function(){return l($)},0))}($),$._tryIR=!1):$._tryIR=!1},0):$._tryIR=!1},0))}me.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,l(this)},wrapCall:function(X){var ie,Z=this;this.lock();try{ie=X()}catch(ce){throw this.unlock(),ce}return ie.then&&"function"==typeof ie.then?ie.then(function(ce){return Z.unlock(),ce}).catch(function(ce){throw Z.unlock(),ce}):(this.unlock(),ie)},requestIdlePromise:function(X){var Z=this;X=X||{};var ie,ce=new Promise(function(Lt){return ie=Lt});if(ce._manRes=function(){x(Z,ce),ie()},X.timeout){var It=setTimeout(function(){ce._manRes()},X.timeout);ce._timeoutObj=It}return this._iC.add(ce),l(this),ce},cancelIdlePromise:function(X){x(this,X)},requestIdleCallback:function(X,Z){var ie=this._lHN++,ce=this.requestIdlePromise(Z);return this._hPM.set(ie,ce),this._pHM.set(ce,ie),ce.then(function(){return X()}),ie},cancelIdleCallback:function(X){var Z=this._hPM.get(X);this.cancelIdlePromise(Z)},clear:function(){var X=this;this._iC.forEach(function(Z){return x(X,Z)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var De=O(6052),ut=O(5520),Be=O(2060),Ue=O(6434),Y=O(8663),Me=O(203),Ne=O(6243),oe=O(720),ze=O(7650),Re=O(9182),ke=O(2284),ge=O(1413),Fe=O(1397),xe=O(4395),Ae=O(6893),We=O(9556),Ie=O(2104),st=O(1318),Qe=O(3896),_e=new Set,Q=function(){function $(Z,ie,ce,Te,It,Lt,Rt=!1,Ut={},nn,on,cn,Ht,hn){this.idleQueue=new me,this.rxdbVersion=De.o,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new ge.B,this.observable$=this.eventBulks$.pipe((0,Fe.Z)(rn=>rn.events)),this.storageToken=ut.Dr,this.storageTokenDocument=ut.Dr,this.emittedEventBulkIds=new We.p4(6e4),this.name=Z,this.token=ie,this.storage=ce,this.instanceCreationOptions=Te,this.password=It,this.multiInstance=Lt,this.eventReduce=Rt,this.options=Ut,this.internalStore=nn,this.hashFunction=on,this.cleanupPolicy=cn,this.allowSlowCount=Ht,this.reactivity=hn,"pseudoInstance"!==this.name&&(this.internalStore=(0,Ae.AM)(this.asRxDatabase,nn,Ie.CC),this.storageTokenDocument=(0,Ie.ol)(this.asRxDatabase).catch(rn=>this.startupErrors.push(rn)),this.storageToken=this.storageTokenDocument.then(rn=>rn.data.token).catch(rn=>this.startupErrors.push(rn)))}var X=$.prototype;return X.getReactivityFactory=function(){if(!this.reactivity)throw(0,ze.Br)("DB14",{database:this.name});return this.reactivity},X.$emit=function(ie){this.emittedEventBulkIds.has(ie.id)||(this.emittedEventBulkIds.add(ie.id),this.eventBulks$.next(ie))},X.removeCollectionDoc=function(){var Z=(0,J.A)(function*(ce,Te){var It=yield(0,Ae.O5)(this.internalStore,(0,Ie.lz)((0,Ie.bV)(ce,Te),Ie.Nu));if(!It)throw(0,ze.Br)("SNH",{name:ce,schema:Te});var Lt=(0,Ae.C9)(It);Lt._deleted=!0,yield this.internalStore.bulkWrite([{document:Lt,previous:It}],"rx-database-remove-collection")});return function ie(ce,Te){return Z.apply(this,arguments)}}(),X.addCollections=function(){var Z=(0,J.A)(function*(ce){var Te=this,It={},Lt={},Rt=[],Ut={};yield Promise.all(Object.entries(ce).map(function(){var cn=(0,J.A)(function*([Ht,hn]){var rn=Ht,Pn=hn.schema;It[rn]=Pn;var Cn=(0,Re.Wq)(Pn,Te.hashFunction);if(Lt[rn]=Cn,Te.collections[Ht])throw(0,ze.Br)("DB3",{name:Ht});var to=(0,Ie.bV)(Ht,Pn),no={id:(0,Ie.lz)(to,Ie.Nu),key:to,context:Ie.Nu,data:{name:rn,schemaHash:yield Cn.hash,schema:Cn.jsonSchema,version:Cn.version,connectedStorages:[]},_deleted:!1,_meta:(0,Be.o4)(),_rev:(0,Be.Fq)(),_attachments:{}};Rt.push({document:no});var Vr=Object.assign({},hn,{name:rn,schema:Cn,database:Te}),Gt=(0,Ue.FD)(hn);Gt.database=Te,Gt.name=Ht,(0,ke.Xi)("preCreateRxCollection",Gt),Vr.conflictHandler=Gt.conflictHandler,Ut[rn]=Vr});return function(Ht){return cn.apply(this,arguments)}}()));var nn=yield this.internalStore.bulkWrite(Rt,"rx-database-add-collection");yield function W($){return B.apply(this,arguments)}(this),yield Promise.all(nn.error.map(function(){var cn=(0,J.A)(function*(Ht){if(409!==Ht.status)throw(0,ze.Br)("DB12",{database:Te.name,writeError:Ht});var hn=(0,Y.ZN)(Ht.documentInDb),rn=hn.data.name,Pn=Lt[rn];if(hn.data.schemaHash!==(yield Pn.hash))throw(0,ze.Br)("DB6",{database:Te.name,collection:rn,previousSchemaHash:hn.data.schemaHash,schemaHash:yield Pn.hash,previousSchema:hn.data.schema,schema:(0,Y.ZN)(It[rn])})});return function(Ht){return cn.apply(this,arguments)}}()));var on={};return yield Promise.all(Object.keys(ce).map(function(){var cn=(0,J.A)(function*(Ht){var hn=Ut[Ht],rn=yield(0,xe.dN)(hn);on[Ht]=rn,Te.collections[Ht]=rn,Te[Ht]||Object.defineProperty(Te,Ht,{get:()=>Te.collections[Ht]})});return function(Ht){return cn.apply(this,arguments)}}())),on});return function ie(ce){return Z.apply(this,arguments)}}(),X.lockedRun=function(ie){return this.idleQueue.wrapCall(ie)},X.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},X.exportJSON=function(ie){throw(0,Me.u)("json-dump")},X.addState=function(ie){throw(0,Me.u)("state")},X.importJSON=function(ie){throw(0,Me.u)("json-dump")},X.backup=function(ie){throw(0,Me.u)("backup")},X.leaderElector=function(){throw(0,Me.u)("leader-election")},X.isLeader=function(){throw(0,Me.u)("leader-election")},X.waitForLeadership=function(){throw(0,Me.u)("leader-election")},X.migrationStates=function(){throw(0,Me.u)("migration-schema")},X.destroy=function(){var Z=(0,J.A)(function*(){return this.destroyed||(this.destroyed=!0,yield(0,ke.FX)("preDestroyRxDatabase",this),this.eventBulks$.complete(),this._subs.map(ce=>ce.unsubscribe()),"pseudoInstance"===this.name)?ut.Dr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(ce=>ce()))).then(()=>Promise.all(Object.keys(this.collections).map(ce=>this.collections[ce]).map(ce=>ce.destroy()))).then(()=>this.internalStore.close()).then(()=>_e.delete(this.storage.name+"|"+this.name)).then(()=>!0)});return function ie(){return Z.apply(this,arguments)}}(),X.remove=function(){return this.destroy().then(()=>function en($,X,Z){return pn.apply(this,arguments)}(this.name,this.storage,this.password))},(0,re.A)($,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function Dt($,X,Z,ie,ce,Te){return At.apply(this,arguments)}function At(){return(At=(0,J.A)(function*($,X,Z,ie,ce,Te){return yield X.createStorageInstance({databaseInstanceToken:$,databaseName:Z,collectionName:Ae.OG,schema:Ie.CC,options:ie,multiInstance:ce,password:Te,devMode:Qe.h.isDevMode()})})).apply(this,arguments)}function ln({storage:$,instanceCreationOptions:X,name:Z,password:ie,multiInstance:ce=!0,eventReduce:Te=!0,ignoreDuplicate:It=!1,options:Lt={},cleanupPolicy:Rt,allowSlowCount:Ut=!1,localDocuments:nn=!1,hashFunction:on=Ne.V0,reactivity:cn}){(0,ke.Xi)("preCreateRxDatabase",{storage:$,instanceCreationOptions:X,name:Z,password:ie,multiInstance:ce,eventReduce:Te,ignoreDuplicate:It,options:Lt,localDocuments:nn}),It||function mt($,X){if(_e.has(X.name+"|"+$))throw(0,ze.Br)("DB8",{name:$,storage:X.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}(Z,$),_e.add($.name+"|"+Z);var Ht=(0,oe.z3)(10);return Dt(Ht,$,Z,X,ce,ie).catch(hn=>{throw _e.delete($.name+"|"+Z),hn}).then(hn=>{var rn=new Q(Z,Ht,$,X,ie,ce,Te,Lt,hn,on,Rt,Ut,cn);return(0,ke.FX)("createRxDatabase",{database:rn,creator:{storage:$,instanceCreationOptions:X,name:Z,password:ie,multiInstance:ce,eventReduce:Te,ignoreDuplicate:It,options:Lt,localDocuments:nn}}).then(()=>rn)})}function pn(){return(pn=(0,J.A)(function*($,X,Z){var ie=(0,oe.z3)(10),ce=yield Dt(ie,X,$,{},!1,Z),Te=yield(0,Ie.WY)(ce),It=new Set;Te.forEach(Rt=>It.add(Rt.data.name));var Lt=Array.from(It);return yield Promise.all(Lt.map(Rt=>(0,st.vM)(X,ce,ie,$,Rt,Z))),yield(0,ke.FX)("postRemoveRxDatabase",{databaseName:$,storage:X}),yield ce.remove(),Lt})).apply(this,arguments)}function se($){return be.apply(this,arguments)}function be(){return(be=(0,J.A)(function*($){return(yield $.storageTokenDocument).data.instanceToken===$.token})).apply(this,arguments)}function B(){return(B=(0,J.A)(function*($){if(yield $.storageToken,$.startupErrors[0])throw $.startupErrors[0]})).apply(this,arguments)}},5908:(Bt,et,O)=>{"use strict";O.d(et,{Lt:()=>Qe,Zb:()=>Ie,cM:()=>We,ky:()=>Ae});var J=O(467),re=O(6354),me=O(5964),ae=O(9172),x=O(3294),l=O(6496),De=O(8663),ut=O(1744),Be=O(5520),Ue=O(9403),Y=O(6434),Me=O(720),Ne=O(203),oe=O(7650),ze=O(2284),Re=O(312),ke=O(3896),ge=O(1885),Fe=O(6893),xe=O(6706),Ae={get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){if(this.isInstanceOfRxDocument)return this._data[this.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this.$.pipe((0,re.T)(ue=>ue._data._deleted))},get deleted$$(){return this.collection.database.getReactivityFactory().fromObservable(this.deleted$,this.getLatest().deleted,this.collection.database)},get deleted(){if(this.isInstanceOfRxDocument)return this._data._deleted},getLatest(){var _e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(_e)},get $(){return this.collection.$.pipe((0,me.p)(ue=>!ue.isLocal),(0,me.p)(ue=>ue.documentId===this.primary),(0,re.T)(ue=>(0,Re.vk)(ue)),(0,ae.Z)(this.collection._docCache.getLatestDocumentData(this.primary)),(0,x.F)((ue,Q)=>ue._rev===Q._rev),(0,re.T)(ue=>this.collection._docCache.getCachedRxDocument(ue)),(0,l.t)(De.bz))},get $$(){return this.collection.database.getReactivityFactory().fromObservable(this.$,this.getLatest()._data,this.collection.database)},get$(_e){if(ke.h.isDevMode()){if(_e.includes(".item."))throw(0,oe.Br)("DOC1",{path:_e});if(_e===this.primaryPath)throw(0,oe.Br)("DOC2");if(this.collection.schema.finalFields.includes(_e))throw(0,oe.Br)("DOC3",{path:_e});if(!(0,ge.nT)(this.collection.schema.jsonSchema,_e))throw(0,oe.Br)("DOC4",{path:_e})}return this.$.pipe((0,re.T)(Q=>(0,ut.UU)(Q,_e)),(0,x.F)())},get$$(_e){var ue=this.get$(_e);return this.collection.database.getReactivityFactory().fromObservable(ue,this.getLatest().get(_e),this.collection.database)},populate(_e){var ue=(0,ge.nT)(this.collection.schema.jsonSchema,_e),Q=this.get(_e);if(!Q)return Be.$A;if(!ue)throw(0,oe.Br)("DOC5",{path:_e});if(!ue.ref)throw(0,oe.Br)("DOC6",{path:_e,schemaObj:ue});var mt=this.collection.database.collections[ue.ref];if(!mt)throw(0,oe.Br)("DOC7",{ref:ue.ref,path:_e,schemaObj:ue});return"array"===ue.type?mt.findByIds(Q).exec().then(Dt=>{var At=Dt.values();return Array.from(At)}):mt.findOne(Q).exec()},get(_e){return(0,Ue.q)(this._propertyCache,_e,()=>{var ue=(0,ut.UU)(this._data,_e);if("object"!=typeof ue||null===ue||Array.isArray(ue))return ke.h.deepFreezeWhenDevMode(ue);var Q=this;return new Proxy((0,Y.FD)(ue),{get(Dt,At){if("string"!=typeof At)return Dt[At];var ln=At.charAt(At.length-1);if(At.endsWith("$$")){var en=At.slice(0,-2);return Q.get$$((0,Me.L$)(_e+"."+en))}if("$"===ln){var pn=At.slice(0,-1);return Q.get$((0,Me.L$)(_e+"."+pn))}if("_"===ln){var On=At.slice(0,-1);return Q.populate((0,Me.L$)(_e+"."+On))}return Q.get((0,Me.L$)(_e+"."+At))}})})},toJSON(_e=!1){if(_e)return ke.h.deepFreezeWhenDevMode(this._data);var ue=(0,Y.FD)(this._data);return delete ue._rev,delete ue._attachments,delete ue._deleted,delete ue._meta,ke.h.deepFreezeWhenDevMode(ue)},toMutableJSON(_e=!1){return(0,Y.o8)(this.toJSON(_e))},update(_e){throw(0,Ne.u)("update")},incrementalUpdate(_e){throw(0,Ne.u)("update")},updateCRDT(_e){throw(0,Ne.u)("crdt")},putAttachment(){throw(0,Ne.u)("attachments")},getAttachment(){throw(0,Ne.u)("attachments")},allAttachments(){throw(0,Ne.u)("attachments")},get allAttachments$(){throw(0,Ne.u)("attachments")},modify(_e,ue){var Q=this;return(0,J.A)(function*(){var mt=Q._data,Dt=yield(0,xe.Hl)(_e)(mt);return Q._saveData(Dt,mt)})()},incrementalModify(_e,ue){return this.collection.incrementalWriteQueue.addWrite(this._data,(0,xe.Hl)(_e)).then(Q=>this.collection._docCache.getCachedRxDocument(Q))},patch(_e){var ue=this._data,Q=(0,Y.o8)(ue);return Object.entries(_e).forEach(([mt,Dt])=>{Q[mt]=Dt}),this._saveData(Q,ue)},incrementalPatch(_e){return this.incrementalModify(ue=>(Object.entries(_e).forEach(([Q,mt])=>{ue[Q]=mt}),ue))},_saveData(_e,ue){var Q=this;return(0,J.A)(function*(){if(_e=(0,Y.FD)(_e),Q._data._deleted)throw(0,oe.Br)("DOC11",{id:Q.primary,document:Q});yield Qe(Q.collection,_e,ue);var mt=[{previous:ue,document:_e}],Dt=yield Q.collection.storageInstance.bulkWrite(mt,"rx-document-save-data");return(0,Fe.WX)(Q.collection,Q.primary,_e,Dt.error[0]),yield Q.collection._runHooks("post","save",_e,Q),Q.collection._docCache.getCachedRxDocument((0,Fe.YN)(Q.collection.schema.primaryPath,mt,Dt)[0])})()},remove(){var _e=this,ue=this.collection;if(this.deleted)return Promise.reject((0,oe.Br)("DOC13",{document:this,id:this.primary}));var mt,Q=(0,Y.FD)(this._data);return ue._runHooks("pre","remove",Q,this).then((0,J.A)(function*(){Q._deleted=!0;var Dt=[{previous:_e._data,document:Q}],At=yield ue.storageInstance.bulkWrite(Dt,"rx-document-remove");return(0,Fe.WX)(ue,_e.primary,Q,At.error[0]),(0,Fe.YN)(_e.collection.schema.primaryPath,Dt,At)[0]})).then(Dt=>(mt=Dt,this.collection._runHooks("post","remove",Q,this))).then(()=>this.collection._docCache.getCachedRxDocument(mt))},incrementalRemove(){var _e=this;return this.incrementalModify(function(){var ue=(0,J.A)(function*(Q){return yield _e.collection._runHooks("pre","remove",Q,_e),Q._deleted=!0,Q});return function(Q){return ue.apply(this,arguments)}}()).then(function(){var ue=(0,J.A)(function*(Q){return yield _e.collection._runHooks("post","remove",Q._data,Q),Q});return function(Q){return ue.apply(this,arguments)}}())},destroy(){throw(0,oe.Br)("DOC14")}};function We(_e=Ae){var ue=function(mt,Dt){this.collection=mt,this._data=Dt,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return ue.prototype=_e,ue}function Ie(_e,ue,Q){var mt=new _e(ue,Q);return(0,ze.Xi)("createRxDocument",mt),mt}function Qe(_e,ue,Q){return ue._meta=Object.assign({},Q._meta,ue._meta),ke.h.isDevMode()&&_e.schema.validateChange(Q,ue),_e._runHooks("pre","save",ue,Q)}},7650:(Bt,et,O)=>{"use strict";O.d(et,{sX:()=>ge,Br:()=>Re,JX:()=>ke,cg:()=>xe});var J=O(6126),re=O(6719);function me(Ae){return(me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)})(Ae)}var ae=O(4394);function l(){try{var Ae=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!Ae})()}function ut(Ae){var We="function"==typeof Map?new Map:void 0;return ut=function(st){if(null===st||!function x(Ae){try{return-1!==Function.toString.call(Ae).indexOf("[native code]")}catch{return"function"==typeof Ae}}(st))return st;if("function"!=typeof st)throw new TypeError("Super expression must either be null or a function");if(void 0!==We){if(We.has(st))return We.get(st);We.set(st,Qe)}function Qe(){return function De(Ae,We,Ie){if(l())return Reflect.construct.apply(null,arguments);var st=[null];st.push.apply(st,We);var Qe=new(Ae.bind.apply(Ae,st));return Ie&&(0,ae.A)(Qe,Ie.prototype),Qe}(st,arguments,me(this).constructor)}return Qe.prototype=Object.create(st.prototype,{constructor:{value:Qe,enumerable:!1,writable:!0,configurable:!0}}),(0,ae.A)(Qe,st)},ut(Ae)}var Be=O(3896);function Y(Ae,We,Ie){return"RxError ("+We+"):\n"+Ae+"\n"+function Ue(Ae){var We="";return 0===Object.keys(Ae).length||(We+="Given parameters: {\n",We+=Object.keys(Ae).map(Ie=>{var st="[object Object]";try{st="errors"===Ie?Ae[Ie].map(Qe=>JSON.stringify(Qe,Object.getOwnPropertyNames(Qe))):JSON.stringify(Ae[Ie],function(Qe,_e){return void 0===_e?null:_e},2)}catch{}return Ie+":"+st}).join("\n"),We+="}"),We}(Ie)}var Me=function(Ae){function We(st,Qe,_e={}){var ue,Q=Y(Qe,st,_e);return(ue=Ae.call(this,Q)||this).code=st,ue.message=Q,ue.url=oe(st),ue.parameters=_e,ue.rxdb=!0,ue}return(0,re.A)(We,Ae),We.prototype.toString=function(){return this.message},(0,J.A)(We,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(ut(Error)),Ne=function(Ae){function We(st,Qe,_e={}){var ue,Q=Y(Qe,st,_e);return(ue=Ae.call(this,Q)||this).code=st,ue.message=Q,ue.url=oe(st),ue.parameters=_e,ue.rxdb=!0,ue}return(0,re.A)(We,Ae),We.prototype.toString=function(){return this.message},(0,J.A)(We,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(ut(TypeError));function oe(Ae){return"https://rxdb.info/errors.html?console=errors#"+Ae}function ze(Ae){return"\n You can find out more about this error here: "+oe(Ae)+" "}function Re(Ae,We){return new Me(Ae,Be.h.tunnelErrorMessage(Ae)+ze(Ae),We)}function ke(Ae,We){return new Ne(Ae,Be.h.tunnelErrorMessage(Ae)+ze(Ae),We)}function ge(Ae){return!(!Ae||409!==Ae.status)&&Ae}var Fe={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function xe(Ae){return Re("COL20",{name:Fe[Ae.status],document:Ae.documentId,writeError:Ae})}},5365:(Bt,et,O)=>{"use strict";O.d(et,{Lr:()=>Ug,Xw:()=>gT,_V:()=>mT,dx:()=>Jf});var J=O(467),re=O(997),me=O(1885),ae=O(6434),x=O(7176);class l extends Error{}const Be=Number.MAX_SAFE_INTEGER,Ue=Number.MIN_SAFE_INTEGER,Y=Symbol("missing"),Me=Object.freeze(new Error("mingo: cycle detected while processing object/array")),Ne=Object.getPrototypeOf([]),oe=Object.getPrototypeOf({}),Re=/^\[object ([a-zA-Z0-9]+)\]$/;class ke{}class ge{}const Fe=y=>null===y?ke:void 0===y?ge:y.constructor,xe=y=>{const b=function no(y){const b=new Set,D=I=>{const P=Fe(I);if(Qe.has(P))return Qe.get(P)(I);const j=P===Object?"":P.name;if(Z(I.toJSON))return`${j}(${JSON.stringify(I)})`;if(b.has(I))throw Me;b.add(I);try{if(P===Array)return"["+I.map(D).join(",")+"]";if(P!==Object){const[ne,Ee]=Pn(I);if(be(I))return`${j}${D([...I,ne])}`;I=ne}const te=Object.keys(I);return te.sort(),`${j}{`+te.map(ne=>`${ne}:${D(I[ne])}`).join(",")+"}"}finally{b.delete(I)}};return D(y)}(y);let D=0,I=b.length;for(;I;)D=(D<<5)-D^b.charCodeAt(--I);return D>>>0},Ae=new Set(["null","undefined","boolean","number","string","date","regexp"]),We=new Set([ge,ke,Boolean,String,Number]),Ie=y=>y.toString(),st=y=>`${Fe(y).name}[${y.toString()}]`,Qe=new Map([[Number,Ie],[Boolean,Ie],[RegExp,Ie],[Function,Ie],[Symbol,Ie],[Date,y=>y.toISOString()],[String,JSON.stringify],[ke,y=>"null"],[ge,y=>"undefined"],[Int8Array,st],[Uint8Array,st],[Uint8ClampedArray,st],[Int16Array,st],[Uint16Array,st],[Int32Array,st],[Uint32Array,st],[Float32Array,st],[Float64Array,st]]);typeof BigInt<"u"&&Qe.set(BigInt,y=>"0x"+y.toString(16)),typeof BigInt64Array<"u"&&Qe.set(BigInt64Array,st),typeof BigUint64Array<"u"&&Qe.set(BigUint64Array,st);const _e={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},ue=(y,b)=>{y===Y&&(y=void 0),b===Y&&(b=void 0);const[D,I]=[y,b].map(P=>_e[At(P).toLowerCase()]);return D!==I?D-I:1===D||2===D||6===D?y<b?-1:y>b?1:0:Cn(y,b)?0:y<b?-1:y>b?1:0};function Q(y,b){if(!y)throw new l(b)}const Dt=y=>{if(We.has(Fe(y)))return y;const b=new Set,D=I=>{if(b.has(I))throw Me;const P=Fe(I);if(We.has(P))return I;try{if(be(I))return b.add(I),I.map(D);if(W(I)){b.add(I);const j={};for(const te in I)j[te]=D(I[te]);return j}}finally{b.delete(I)}return P===Date||P===RegExp||(y=>{const b=Object.getPrototypeOf(Fe(y));return b&&"TypedArray"===b.name})(I)?new P(I):I};return D(y)},At=y=>Re.exec(Object.prototype.toString.call(y))[1],ln=y=>"boolean"==typeof y,en=y=>"string"==typeof y,On=y=>!isNaN(y)&&"number"==typeof y,be=Array.isArray,W=y=>{if(!y)return!1;const b=Object.getPrototypeOf(y);return(b===oe||null===b)&&"[object Object]"===Object.prototype.toString.call(y)},B=y=>y===Object(y),$=y=>y instanceof Date,X=y=>y instanceof RegExp,Z=y=>"function"==typeof y,ie=y=>null==y,ce=(y,b)=>y.includes(b),Te=(y,b)=>!ce(y,b),Lt=y=>ie(y)||en(y)&&!y||y instanceof Array&&0===y.length||W(y)&&0===Object.keys(y).length,Rt=y=>y===Y,Ut=y=>y instanceof Array?y:[y],nn=(y,b)=>!!y&&Object.prototype.hasOwnProperty.call(y,b),on=(y,b)=>W(y)&&W(b)||be(y)&&be(b);function cn(y,b,D){if(D=D||{flatten:!1},Rt(y)||ie(y))return b;if(Rt(b)||ie(b))return y;if(!on(y,b)){if(D.skipValidation)return b||y;throw Error("mismatched types. must both be array or object")}if(D.skipValidation=!0,be(y)){const I=y,P=b;if(D.flatten){let j=0,te=0;for(;j<I.length&&te<P.length;)I[j]=cn(I[j++],P[te++],D);for(;te<P.length;)I.push(b[te++])}else Jn(I,P)}else for(const I in b)y[I]=cn(y[I],b[I],D);return y}function Ht(y,b=xe){const D=new Map;return y.forEach((I,P)=>{const j=Vr(I,b);D.has(j)?D.get(j).some(te=>Cn(y[te],I))||D.get(j).push(P):D.set(j,[P])}),D}function hn(y,b=xe){if(y.some(ne=>0==ne.length))return[];if(1===y.length)return Array.from(y);const D=function Gt(y,b,D=ue){if(Lt(y))return y;const I=new Array,P=new Array;for(let j=0;j<y.length;j++){const te=y[j],ne=b(te,j);ie(ne)?P.push(te):I.push([ne,te])}return I.sort((j,te)=>D(j[0],te[0])),Jn(P,I.map(j=>j[1]))}(y.map((ne,Ee)=>[Ee,ne.length]),ne=>ne[1]),I=y[D[0][0]],P=Ht(I,b),j=new Map,te=new Array;return P.forEach((ne,Ee)=>{const ct=ne.map(Jt=>I[Jt]),ot=ct.map(Jt=>0),Tt=ct.map(Jt=>[D[0][0],0]);let St=!1;for(let Jt=1;Jt<y.length;Jt++){const[mn,xn]=D[Jt],er=y[mn];if(j.has(Jt)||j.set(Jt,Ht(er)),j.get(Jt).has(Ee)){const _r=j.get(Jt).get(Ee).map(Ir=>er[Ir]);St=ct.map((Ir,Ro)=>_r.some((xr,co)=>{const ii=ot[Ro];return Cn(Ir,xr)&&(ot[Ro]++,mn<Tt[Ro][0]&&(Tt[Ro]=[mn,j.get(Jt).get(Ee)[co]])),ii<ot[Ro]})).some(Boolean)}if(!St)return}St&&Jn(te,ot.map((Jt,mn)=>Jt===y.length-1?[ct[mn],Tt[mn]]:Y).filter(Jt=>Jt!==Y))}),te.sort((ne,Ee)=>{const[ct,[ot,Tt]]=ne,[St,[Jt,mn]]=Ee,xn=ue(ot,Jt);return 0!==xn?xn:ue(Tt,mn)}).map(ne=>ne[0])}function rn(y,b=0){const D=new Array;return function I(P,j){for(let te=0,ne=P.length;te<ne;te++)be(P[te])&&(j>0||j<0)?I(P[te],Math.max(-1,j-1)):D.push(P[te])}(y,b),D}const Pn=y=>{let[b,D]=[Object.getPrototypeOf(y),Object.getOwnPropertyNames(y)],I=b;for(;!D.length&&b!==oe&&b!==Ne;)I=b,D=Object.getOwnPropertyNames(b),b=Object.getPrototypeOf(b);const P={};return D.forEach(j=>P[j]=y[j]),[P,I]};function Cn(y,b){const D=[[y,b]];for(;D.length>0;){if([y,b]=D.pop(),y===b)continue;const I=Fe(y);if(I!==Fe(b)||Z(y))return!1;if(Qe.has(I)){const P=Qe.get(I);if(P(y)!==P(b))return!1}else{if(I!==Array&&I!==Object)return!1;{const P=Object.keys(y),j=Object.keys(b);if(P.length!==j.length||new Set(P.concat(j)).size!=P.length)return!1;for(const te of P)D.push([y[te],b[te]])}}}return!D.length}function Vr(y,b){return b=b||xe,ie(y)?null:b(y).toString()}function yr(y,b,D=xe){if(y.length<1)return new Map;const I=new Map,P=new Map;for(let j=0;j<y.length;j++){const te=y[j],ne=b(te,j),Ee=Vr(ne,D);if(null===Ee)P.has(null)?P.get(null).push(te):P.set(null,[te]);else{const ct=I.has(Ee)?I.get(Ee).find(ot=>Cn(ot,ne)):null;ie(ct)?(P.set(ne,[te]),I.has(Ee)?I.get(Ee).push(ne):I.set(Ee,[ne])):P.get(ct).push(te)}}return P}const fr=5e4;function Jn(y,...b){return y instanceof Array?b.reduce((D,I)=>{let P=Math.ceil(I.length/fr),j=0;for(;P-- >0;)Array.prototype.push.apply(D,I.slice(j,j+fr)),j+=fr;return D},y):b.filter(B).reduce((D,I)=>(Object.assign(D,I),D),y)}function or(y,b){return B(y)?y[b]:void 0}function Uo(y,b,D){let I=0;const j=Ae.has(At(y).toLowerCase())?y:function P(te,ne){let Ee=te;for(let ct=0;ct<ne.length;ct++){const ot=ne[ct];if(null===/^\d+$/.exec(ot)&&Ee instanceof Array){if(0===ct&&I>0)break;I+=1;const St=ne.slice(ct);Ee=Ee.reduce((Jt,mn)=>{const xn=P(mn,St);return void 0!==xn&&Jt.push(xn),Jt},[]);break}if(Ee=or(Ee,ot),void 0===Ee)break}return Ee}(y,b.split("."));return j instanceof Array&&D?.unwrapArray?function jt(y,b){if(b<1)return y;for(;b--&&1===y.length;)y=y[0];return y}(j,I):j}function Co(y,b,D){const I=b.split("."),P=I[0],j=I.slice(1).join("."),te=null!==/^\d+$/.exec(P),ne=I.length>1;let Ee,ct;if(y instanceof Array)if(te)Ee=or(y,Number(P)),ne&&(Ee=Co(Ee,j,D)),Ee=[Ee];else{Ee=[];for(const ot of y)ct=Co(ot,b,D),D?.preserveMissing?(void 0===ct&&(ct=Y),Ee.push(ct)):void 0!==ct&&Ee.push(ct)}else{if(ct=or(y,P),ne&&(ct=Co(ct,j,D)),void 0===ct)return;Ee=D?.preserveKeys?Object.assign({},y):{},Ee[P]=ct}return Ee}function Xs(y){if(y instanceof Array)for(let b=y.length-1;b>=0;b--)y[b]===Y?y.splice(b,1):Xs(y[b]);else if(W(y))for(const b in y)nn(y,b)&&Xs(y[b])}const kt=/^\d+$/;function jo(y,b,D,I){const P=b.split("."),j=P[0],te=P.slice(1).join(".");if(1===P.length)(W(y)||be(y)&&kt.test(j))&&D(y,j);else{I?.buildGraph&&ie(y[j])&&(y[j]={});const ne=y[j];if(!ne)return;const Ee=!!(P.length>1&&kt.test(P[1]));ne instanceof Array&&I?.descendArray&&!Ee?ne.forEach(ct=>jo(ct,te,D,I)):jo(ne,te,D,I)}}function Qs(y,b,D){jo(y,b,(I,P)=>{I[P]=Z(D)?D(I[P]):D},{buildGraph:!0})}function Ys(y,b,D){jo(y,b,(I,P)=>{if(I instanceof Array){if(/^\d+$/.test(P))I.splice(parseInt(P),1);else if(D&&D.descendArray)for(const j of I)W(j)&&delete j[P]}else W(I)&&delete I[P]},D)}const Ya=/^\$[a-zA-Z0-9_]+$/;function ro(y){return Ya.test(y)}function Br(y){if(Ae.has(At(y).toLowerCase()))return X(y)?{$regex:y}:{$eq:y};if(B(y)){if(!Object.keys(y).some(ro))return{$eq:y};if(nn(y,"$regex")){const D=Object.assign({},y);return D.$regex=new RegExp(y.$regex,y.$options),delete D.$options,D}}return y}var br=O(7650),ui=function(y){return y.CLONE_ALL="CLONE_ALL",y.CLONE_INPUT="CLONE_INPUT",y.CLONE_OUTPUT="CLONE_OUTPUT",y.CLONE_OFF="CLONE_OFF",y}(ui||{});class Do{constructor(b,D,I,P=Date.now()){this._opts=b,this._root=D,this._local=I,this.timestamp=P,this.update(D,I)}static init(b,D,I){return b instanceof Do?new Do(b._opts,ie(b.root)?D:b.root,Object.assign({},b.local,I)):new Do(b,D,I)}update(b,D){var I;return this._root=b,this._local=D&&Object.assign({},D,{variables:Object.assign({},null===(I=this._local)||void 0===I?void 0:I.variables,D?.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:pr.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collation}get processingMode(){var b;return(null===(b=this._opts)||void 0===b?void 0:b.processingMode)||ui.CLONE_OFF}get useStrictMode(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useStrictMode}get scriptEnabled(){var b;return null===(b=this._opts)||void 0===b?void 0:b.scriptEnabled}get useGlobalContext(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useGlobalContext}get hashFunction(){var b;return null===(b=this._opts)||void 0===b?void 0:b.hashFunction}get collectionResolver(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collectionResolver}get jsonSchemaValidator(){var b;return null===(b=this._opts)||void 0===b?void 0:b.jsonSchemaValidator}get variables(){var b;return null===(b=this._opts)||void 0===b?void 0:b.variables}get context(){var b;return null===(b=this._opts)||void 0===b?void 0:b.context}}function Za(y){return y instanceof Do?y.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:ui.CLONE_OFF},y),{context:y?.context?pr.from(y?.context):pr.init({})}))}var yn=function(y){return y.ACCUMULATOR="accumulator",y.EXPRESSION="expression",y.PIPELINE="pipeline",y.PROJECTION="projection",y.QUERY="query",y.WINDOW="window",y}(yn||{});class pr{constructor(b){this.operators={[yn.ACCUMULATOR]:{},[yn.EXPRESSION]:{},[yn.PIPELINE]:{},[yn.PROJECTION]:{},[yn.QUERY]:{},[yn.WINDOW]:{}};for(const[D,I]of Object.entries(b))this.addOperators(D,I)}static init(b={}){return new pr(b)}static from(b){return new pr(b.operators)}addOperators(b,D){for(const[I,P]of Object.entries(D))this.getOperator(b,I)||(this.operators[b][I]=P);return this}addAccumulatorOps(b){return this.addOperators(yn.ACCUMULATOR,b)}addExpressionOps(b){return this.addOperators(yn.EXPRESSION,b)}addQueryOps(b){return this.addOperators(yn.QUERY,b)}addPipelineOps(b){return this.addOperators(yn.PIPELINE,b)}addProjectionOps(b){return this.addOperators(yn.PROJECTION,b)}addWindowOps(b){return this.addOperators(yn.WINDOW,b)}getOperator(b,D){return b in this.operators&&this.operators[b][D]||null}}const os=pr.init();function Zs(y,b){for(const[D,I]of Object.entries(b)){Q(Z(I)&&ro(D),`'${D}' is not a valid operator`);const P=To(y,D,null);Q(!P||I===P,`${D} already exists for '${y}' operators. Cannot change operator function once registered.`)}switch(y){case yn.ACCUMULATOR:os.addAccumulatorOps(b);break;case yn.EXPRESSION:os.addExpressionOps(b);break;case yn.PIPELINE:os.addPipelineOps(b);break;case yn.PROJECTION:os.addProjectionOps(b);break;case yn.QUERY:os.addQueryOps(b);break;case yn.WINDOW:os.addWindowOps(b)}}function To(y,b,D){const{context:I,useGlobalContext:P}=D||{},j=I?I.getOperator(y,b):null;return!j&&P?os.getOperator(y,b):j}const Js={$$ROOT:(y,b,D)=>D.root,$$CURRENT:(y,b,D)=>y,$$REMOVE(y,b,D){},$$NOW:(y,b,D)=>new Date(D.timestamp)},Sc={$$KEEP:(y,b,D)=>y,$$PRUNE(y,b,D){},$$DESCEND(y,b,D){if(!nn(b,"$cond"))return y;let I;for(const[P,j]of Object.entries(y))if(B(j)){if(j instanceof Array){const te=[];for(let ne of j)W(ne)&&(ne=$o(ne,b,D.update(ne))),ie(ne)||te.push(ne);I=te}else I=$o(j,b,D.update(j));ie(I)?delete y[P]:y[P]=I}return y}};function Wn(y,b,D,I){var P;const j=Do.init(I,y);if(ro(D=D||"")){const te=To(yn.EXPRESSION,D,I);if(te)return te(y,b,j);const ne=To(yn.ACCUMULATOR,D,I);if(ne)return y instanceof Array||(y=Wn(y,b,null,j),b=null),Q(y instanceof Array,`'${D}' target must be an array.`),ne(y,b,j.update(null,j.local));throw new l(`operator '${D}' is not registered`)}if(en(b)&&b.length>0&&"$"===b[0]){if(nn(Sc,b))return b;let te=j.root;const ne=b.split(".");if(nn(Js,ne[0]))te=Js[ne[0]](y,null,j),b=b.slice(ne[0].length+1);else if("$$"===ne[0].slice(0,2)){te=Object.assign({},j.variables,{this:y},null===(P=j.local)||void 0===P?void 0:P.variables);const Ee=ne[0].slice(2);Q(nn(te,Ee),`Use of undefined variable: ${Ee}`),b=b.slice(2)}else b=b.slice(1);return""===b?te:Uo(te,b)}if(be(b))return b.map(te=>Wn(y,te,null,j));if(W(b)){const te={};for(const[ne,Ee]of Object.entries(b))if(te[ne]=Wn(y,Ee,ne,j),[yn.EXPRESSION,yn.ACCUMULATOR].some(ct=>!!To(ct,ne,I)))return Q(1===Object.keys(b).length,"Invalid aggregation expression '"+JSON.stringify(b)+"'"),te[ne];return te}return b}function $o(y,b,D){const I=Wn(y,b,null,D);return nn(Sc,I)?Sc[I](y,b,D):I}function Oi(y){return y instanceof Nn?y:new Nn(y)}function ss(y,b){const D=y.slice(b+1);y.splice(b),Array.prototype.push.apply(y,D)}const as=new Error;var di=function(y){return y[y.MAP=0]="MAP",y[y.FILTER=1]="FILTER",y[y.TAKE=2]="TAKE",y[y.DROP=3]="DROP",y}(di||{});class Nn{constructor(b){let D;if(this.iteratees=[],this.yieldedValues=[],this.isDone=!1,b instanceof Function&&(b={next:b}),function pl(y){return!!y&&"object"==typeof y&&y?.next instanceof Function}(b)){const I=b;D=()=>{const P=I.next();if(P.done)throw as;return P.value}}else if(b instanceof Array){const I=b,P=b.length;let j=0;D=()=>{if(j<P)return I[j++];throw as}}else if(!(b instanceof Function))throw new l("Lazy must be initialized with an array, generator, or function.");this.getNext=function po(y,b,D){let I=!1,P=-1,j=0;return function(te){try{e:for(;!I;){let ne=y();P++;let Ee=-1;const ct=b.length;let ot=!1;for(;++Ee<ct;){const Tt=b[Ee];switch(Tt.action){case di.MAP:ne=Tt.func(ne,P);break;case di.FILTER:if(!Tt.func(ne,P))continue e;break;case di.TAKE:--Tt.count,Tt.count||(ot=!0);break;case di.DROP:--Tt.count,Tt.count||ss(b,Ee);continue e;default:break e}}if(I=ot,!te)return{value:ne,done:!1};D[j++]=ne}}catch(ne){if(ne!==as)throw ne}return I=!0,{done:I}}}(D,this.iteratees,this.yieldedValues)}push(b,D){return"function"==typeof D?this.iteratees.push({action:b,func:D}):"number"==typeof D&&this.iteratees.push({action:b,count:D}),this}next(){return this.getNext()}map(b){return this.push(di.MAP,b)}filter(b){return this.push(di.FILTER,b)}take(b){return b>0?this.push(di.TAKE,b):this}drop(b){return b>0?this.push(di.DROP,b):this}transform(b){const D=this;let I;return Oi(()=>(I||(I=Oi(b(D.value()))),I.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(b){for(;;){const D=this.next();if(D.done)break;if(!1===b(D.value))return!1}return!0}reduce(b,D){let I=this.next();for(void 0===D&&!I.done&&(D=I.value,I=this.next());!I.done;)D=b(D,I.value),I=this.next();return D}size(){return this.reduce((b,D)=>++b,0)}[Symbol.iterator](){return this}}class _n{constructor(b,D){this.pipeline=b,this.options=Za(D)}stream(b){let D=Oi(b);const I=this.options.processingMode;(I==ui.CLONE_ALL||I==ui.CLONE_INPUT)&&D.map(Dt);const P=new Array;if(!Lt(this.pipeline))for(const j of this.pipeline){const te=Object.keys(j),ne=te[0],Ee=To(yn.PIPELINE,ne,this.options);Q(1===te.length&&!!Ee,`invalid pipeline operator ${ne}`),P.push(ne),D=Ee(D,j[ne],this.options)}return(I==ui.CLONE_OUTPUT||I==ui.CLONE_ALL&&hn([["$group","$unwind"],P]).length)&&D.map(Dt),D}run(b){return this.stream(b).value()}}class cs{constructor(b,D,I,P){this.source=b,this.predicate=D,this.projection=I,this.options=P,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result||(W(this.projection)&&this.operators.push({$project:this.projection}),this.result=Oi(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new _n(this.operators,this.options).stream(this.result))),this.result}fetchAll(){const b=Oi([...this.buffer]);return this.buffer=[],function Ta(...y){let b=0;return Oi(()=>{for(;b<y.length;){const D=y[b].next();if(!D.done)return D;b++}return{done:!0}})}(b,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(b){return this.operators.push({$skip:b}),this}limit(b){return this.operators.push({$limit:b}),this}sort(b){return this.operators.push({$sort:b}),this}collation(b){return this.options=Object.assign(Object.assign({},this.options),{collation:b}),this}next(){if(this.buffer.length>0)return this.buffer.pop();const b=this.fetch().next();return b.done?void 0:b.value}hasNext(){if(this.buffer.length>0)return!0;const b=this.fetch().next();return!b.done&&(this.buffer.push(b.value),!0)}map(b){return this.all().map(b)}forEach(b){this.all().forEach(b)}[Symbol.iterator](){return this.fetchAll()}}class hi{constructor(b,D){this.condition=b,this.options=Za(D),this.compiled=[],this.compile()}compile(){Q(W(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);const b={};for(const[D,I]of Object.entries(this.condition)){if("$where"===D)Object.assign(b,{field:D,expr:I});else if(ce(["$and","$or","$nor","$expr","$jsonSchema"],D))this.processOperator(D,D,I);else{Q(!ro(D),`unknown top level operator: ${D}`);for(const[P,j]of Object.entries(Br(I)))this.processOperator(D,P,j)}b.field&&this.processOperator(b.field,b.field,b.expr)}}processOperator(b,D,I){const P=To(yn.QUERY,D,this.options);if(!P)throw new l(`unknown query operator ${D}`);const j=P(b,I,this.options);this.compiled.push(j)}test(b){for(let D=0,I=this.compiled.length;D<I;D++)if(!this.compiled[D](b))return!1;return!0}find(b,D){return new cs(b,I=>this.test(I),D||{},this.options)}remove(b){return b.reduce((D,I)=>(this.test(I)||D.push(I),D),[])}}const Iu=(y,b,D)=>{if(Lt(b)||!W(b))return y;let I=ue;const P=D.collation;return W(P)&&en(P.locale)&&(I=function yl(y){const b={sensitivity:Cu[y.strength||3],caseFirst:"off"===y.caseFirst?"false":y.caseFirst||"false",numeric:y.numericOrdering||!1,ignorePunctuation:"shifted"===y.alternate};!0===(y.caseLevel||!1)&&("base"===b.sensitivity&&(b.sensitivity="case"),"accent"===b.sensitivity&&(b.sensitivity="variant"));const D=new Intl.Collator(y.locale,b);return(I,P)=>{if(!en(I)||!en(P))return ue(I,P);const j=D.compare(I,P);return j<0?-1:j>0?1:0}}(P)),y.transform(j=>{const te=Object.keys(b);for(const ne of te.reverse()){const Ee=yr(j,ot=>Uo(ot,ne),D.hashFunction),ct=Array.from(Ee.keys()).sort(I);-1===b[ne]&&ct.reverse(),ct.reduce((ot,Tt)=>Jn(ot,Ee.get(Tt)),j=[])}return j})},Cu={1:"base",2:"accent",3:"variant"};function so(y){const b=(D,I,P)=>{const j={unwrapArray:!0},te=Math.max(1,D.split(".").length-1);return ne=>{const Ee=Uo(ne,D,j);return y(Ee,I,Object.assign(Object.assign({},P),{depth:te}))}};return b.op="query",b}function ic(y){return(b,D,I)=>{const P=Wn(b,D,null,I);return y(...P)}}function $d(y,b,D){if(Cn(y,b)||ie(y)&&ie(b))return!0;if(y instanceof Array){const I=Cn.bind(null,b);return y.some(I)||rn(y,D?.depth).some(I)}return!1}function Kn(y,b,D){return!$d(y,b,D)}function aa(y,b,D){return ie(y)?b.some(I=>null===I):hn([Ut(y),b],D?.hashFunction).length>0}function ur(y,b,D){return!aa(y,b,D)}function Pa(y,b,D){return ye(y,b,(I,P)=>ue(I,P)<0)}function ao(y,b,D){return ye(y,b,(I,P)=>ue(I,P)<=0)}function xu(y,b,D){return ye(y,b,(I,P)=>ue(I,P)>0)}function wl(y,b,D){return ye(y,b,(I,P)=>ue(I,P)>=0)}function Tn(y){return ro(y)&&-1===["$and","$or","$nor"].indexOf(y)}function v(y,b,D){if(be(y)&&!Lt(y)){let I=te=>te,P=b;Object.keys(b).every(Tn)&&(P={temp:b},I=te=>({temp:te}));const j=new hi(P,D);for(let te=0,ne=y.length;te<ne;te++)if(j.test(I(y[te])))return!0}return!1}const C=y=>null===y,S=y=>On(y)&&y>=-2147483648&&y<=2147483647&&-1===y.toString().indexOf("."),N=y=>On(y)&&y>=Ue&&y<=Be&&-1===y.toString().indexOf("."),V={array:be,bool:ln,boolean:ln,date:$,decimal:On,double:On,int:S,long:N,number:On,null:C,object:W,regex:X,regexp:X,string:en,undefined:ie,function:y=>{throw new l("unsupported type key `function`.")},1:On,2:en,3:W,4:be,6:ie,8:ln,9:$,10:C,11:X,16:S,18:N,19:On};function H(y,b,D){const I=V[b];return!!I&&I(y)}function ye(y,b,D){return Ut(y).some(I=>At(I)===At(b)&&D(I,b))}ic(ur);const He=(y,b)=>(D,I,P)=>{Q(be(I),`${y}: expression must be an array.`);const j=Wn(D,I,null,P);return j.some(ie)?null:(Q(j.every(On),`${y}: expression must evalue to array of numbers.`),b(j))};He("$bitAnd",y=>y.reduce((b,D)=>b&D,-1)),He("$bitOr",y=>y.reduce((b,D)=>b|D,0)),He("$bitXor",y=>y.reduce((b,D)=>b^D,0)),ic($d),ic(xu),ic(wl),ic(Pa),ic(ao),ic(Kn);const Eg=(y,b)=>{const D={};return y.split("").forEach((I,P)=>D[I]=b*(P+1)),D};Object.assign(Object.assign(Object.assign({},Eg("ABCDEFGHIKLM",1)),Eg("NOPQRSTUVWXY",-1)),{Z:0});const Wd={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Ko(y,b=Wd){const D=Object.assign({},Wd,b),I=new Set(Object.keys(D));return(P,j,te)=>{const ne=Wn(P,j,null,te);if(I.has(`${ne}`)){const Ee=D[`${ne}`];if(Ee instanceof Error)throw new l(`cannot apply $${y.name} to -inf, value must in (-inf,inf)`);return Ee}return y(ne)}}Ko(Math.acos,{Infinity:1/0,0:new Error}),Ko(Math.acosh,{Infinity:1/0,0:new Error}),Ko(Math.asin),Ko(Math.asinh,{Infinity:1/0,"-Infinity":-1/0}),Ko(Math.atan),Ko(Math.atanh,{1:1/0,"-1":-1/0}),Ko(Math.cos),Ko(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const Mg=Math.PI/180,Rg=(Ko(y=>y*Mg,{Infinity:1/0,"-Infinity":1/0}),180/Math.PI);Ko(y=>y*Rg,{Infinity:1/0,"-Infinity":-1/0}),Ko(Math.sin),Ko(Math.sinh,{"-Infinity":-1/0,Infinity:1/0}),Ko(Math.tan),Error;const qf=(y,b,D)=>{if(Lt(b))return y;let I=Object.keys(b),P=!1;da(b,D);const j=D.idKey;if(ce(I,j)){const ne=b[j];(0===ne||!1===ne)&&(I=I.filter(Te.bind(null,[j])),P=0==I.length)}else I.push(j);const te=Do.init(D);return y.map(ne=>eh(ne,b,te.update(ne),I,P))};function eh(y,b,D,I,P){let j={},te=!1,ne=!1;const Ee=[];P&&Ee.push(D.idKey);for(const ct of I){let ot;const Tt=b[ct];if(ct!==D.idKey&&ce([0,!1],Tt)&&(ne=!0),ct===D.idKey&&Lt(Tt))ot=y[ct];else if(en(Tt))ot=Wn(y,Tt,ct,D);else if(!ce([1,!0],Tt))if(Tt instanceof Array)ot=Tt.map(Jt=>{const mn=Wn(y,Jt,null,D);return ie(mn)?null:mn});else{if(!W(Tt)){Ee.push(ct);continue}{const Jt=Tt,mn=Object.keys(Tt),xn=1==mn.length?mn[0]:"",er=To(yn.PROJECTION,xn,D);if(er)"$slice"===xn?Ut(Jt[xn]).every(On)?(ot=er(y,Jt[xn],ct,D),te=!0):ot=Wn(y,Jt,ct,D):ot=er(y,Jt[xn],ct,D);else if(ro(xn))ot=Wn(y,Jt[xn],xn,D);else if(nn(y,ct)){da(Jt,D);let _r=y[ct];_r instanceof Array?ot=_r.map(Ir=>eh(Ir,Jt,D,mn,!1)):(_r=W(_r)?_r:y,ot=eh(_r,Jt,D,mn,!1))}else ot=Wn(y,Tt,null,D)}}const St=Co(y,ct,{preserveMissing:!0});void 0!==St&&cn(j,St,{flatten:!0}),Te([0,1,!1,!0],Tt)&&(void 0===ot?Ys(j,ct,{descendArray:!0}):Qs(j,ct,ot))}if(Xs(j),(te||ne||P)&&(j=Jn({},y,j),Ee.length>0))for(const ct of Ee)Ys(j,ct,{descendArray:!0});return j}function da(y,b){const D=[!1,!1];for(const[I,P]of Object.entries(y)){if(I===b?.idKey)return;0===P||!1===P?D[0]=!0:(1===P||!0===P)&&(D[1]=!0),Q(!(D[0]&&D[1]),"Projection cannot have a mix of inclusion and exclusion.")}}const Ng=(y,b,D)=>{Q(be(b),"Invalid expression: $and expects value to be an Array.");const I=b.map(P=>new hi(P,D));return P=>I.every(j=>j.test(P))},Yf=(y,b,D)=>{Q(be(b),"Invalid expression. $or expects value to be an Array");const I=b.map(P=>new hi(P,D));return P=>I.some(j=>j.test(P))},uT=(y,b,D)=>{Q(be(b),"Invalid expression. $nor expects value to be an array.");const I=Yf("$or",b,D);return P=>!I(P)},Fg=(y,b,D)=>{const I={};I[y]=Br(b);const P=new hi(I,D);return j=>!P.test(j)},Al=so($d),m0=so(xu),g0=so(wl),dT=so(aa),Lg=so(Pa),Vg=so(ao),Bg=so(Kn),Zf=so(ur),hT=so(function Ms(y,b,D){return Ut(y).some(I=>2===b.length&&I%b[0]===b[1])}),_0=so(function zo(y,b,D){const I=Ut(y),P=j=>en(j)&&((y,b=!0)=>!!y||b&&""===y)(b.exec(j),D?.useStrictMode);return I.some(P)||rn(I,1).some(P)});so(function Na(y,b,D){if(!(be(y)&&be(b)&&y.length&&b.length))return!1;let I=!0;for(const P of b){if(!I)break;I=W(P)&&ce(Object.keys(P),"$elemMatch")?v(y,P.$elemMatch,D):P instanceof RegExp?y.some(j=>"string"==typeof j&&P.test(j)):y.some(j=>Cn(P,j))}return I});const y0=so(v),Sl=so(function ca(y,b,D){return Array.isArray(y)&&y.length===b}),fT=so(function Il(y,b,D){return(!1===b||0===b)&&void 0===y||(!0===b||1===b)&&void 0!==y}),pT=so(function ee(y,b,D){return Array.isArray(b)?b.findIndex(I=>H(y,I))>=0:H(y,b)});var b0=!1;function mT(y,b){var D=(0,me.xQ)(y.primaryKey);b=(0,ae.FD)(b);var I=(0,ae.o8)(b);if("number"!=typeof I.skip&&(I.skip=0),I.selector?(I.selector=I.selector,Object.entries(I.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot)&&(I.selector[ct]={$eq:ot})})):I.selector={},I.index){var P=(0,x.$r)(I.index);P.includes(D)||P.push(D),I.index=P}if(I.sort)I.sort.find(ct=>(0,ae.Ln)(ct)===D)||(I.sort=I.sort.slice(0),I.sort.push({[D]:"asc"}));else if(I.index)I.sort=I.index.map(ct=>({[ct]:"asc"}));else{if(y.indexes){var j=new Set;Object.entries(I.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot||Object.keys(ot).find(St=>re.Cf.has(St)))&&j.add(ct)});var ne,te=-1;y.indexes.forEach(ct=>{var ot=(0,x.k_)(ct)?ct:[ct],Tt=ot.findIndex(St=>!j.has(St));Tt>0&&Tt>te&&(te=Tt,ne=ot)}),ne&&(I.sort=ne.map(ct=>({[ct]:"asc"})))}I.sort||(I.sort=[{[D]:"asc"}])}return I}function gT(y,b){if(!b.sort)throw(0,br.Br)("SNH",{query:b});var D=[];return b.sort.forEach(P=>{var j=Object.keys(P)[0],te=Object.values(P)[0];D.push({key:j,direction:te,getValueFn:(0,ae.SQ)(j)})}),(P,j)=>{for(var te=0;te<D.length;++te){var ne=D[te],Ee=ne.getValueFn(P),ct=ne.getValueFn(j);if(Ee!==ct)return"asc"===ne.direction?ue(Ee,ct):ue(ct,Ee)}}}function Ug(y,b){if(!b.sort)throw(0,br.Br)("SNH",{query:b});var D=function E0(y){return b0||(Zs(yn.PIPELINE,{$sort:Iu,$project:qf}),Zs(yn.QUERY,{$and:Ng,$eq:Al,$elemMatch:y0,$exists:fT,$gt:m0,$gte:g0,$in:dT,$lt:Lg,$lte:Vg,$ne:Bg,$nin:Zf,$mod:hT,$nor:uT,$not:Fg,$or:Yf,$regex:_0,$size:Sl,$type:pT}),b0=!0),new hi(y)}(b.selector);return P=>D.test(P)}function Jf(y,b){return kr.apply(this,arguments)}function kr(){return(kr=(0,J.A)(function*(y,b){var D=yield y.exec();return D?Array.isArray(D)?Promise.all(D.map(P=>b(P))):yield b(D):null})).apply(this,arguments)}},5672:(Bt,et,O)=>{"use strict";O.d(et,{Mh:()=>So,XX:()=>na,nd:()=>Oc,Ib:()=>Eu});var J=O(467),re=O(6126),me=O(4412),ae=O(4843),x=O(7786),l=O(5964),De=O(9172),ut=O(1397),Be=O(6354),Ue=O(6496),Y=O(3294),Me=O(4552),Ne=O(5520),oe=O(8663),ze=O(6434),Re=O(203),ke=O(2060),ge=O(7176),Fe=O(7650),xe=O(2284);const Ie=z=>{z.previousResults.unshift(z.changeEvent.doc),z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,z.changeEvent.doc)},st=z=>{z.previousResults.push(z.changeEvent.doc),z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,z.changeEvent.doc)},Qe=z=>{const Oe=z.previousResults.shift();z.keyDocumentMap&&Oe&&z.keyDocumentMap.delete(Oe[z.queryParams.primaryKey])},_e=z=>{const Oe=z.previousResults.pop();z.keyDocumentMap&&Oe&&z.keyDocumentMap.delete(Oe[z.queryParams.primaryKey])},At=z=>{z.keyDocumentMap&&z.keyDocumentMap.delete(z.changeEvent.id);const Oe=z.queryParams.primaryKey,Je=z.previousResults;for(let dt=0;dt<Je.length;dt++)if(Je[dt][Oe]===z.changeEvent.id){Je.splice(dt,1);break}},pn=z=>{const Oe=z.changeEvent.id,Je=z.changeEvent.doc;if(z.keyDocumentMap){if(z.keyDocumentMap.has(Oe))return;z.keyDocumentMap.set(Oe,Je)}else if(z.previousResults.find(Nt=>Nt[z.queryParams.primaryKey]===Oe))return;!function Ae(z,Oe,Je,dt){var Yn,Nt=z.length,Dn=Nt-1,Fn=0;if(0===Nt)return z.push(Oe),0;for(;dt<=Dn;)Je(Yn=z[Fn=dt+(Dn-dt>>1)],Oe)<=0?dt=Fn+1:Dn=Fn-1;Je(Yn,Oe)<=0&&Fn++,z.splice(Fn,0,Oe)}(z.previousResults,Je,z.queryParams.sortComparator,0)},be=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],W={doNothing:z=>{},insertFirst:Ie,insertLast:st,removeFirstItem:Qe,removeLastItem:_e,removeFirstInsertLast:z=>{Qe(z),st(z)},removeLastInsertFirst:z=>{_e(z),Ie(z)},removeFirstInsertFirst:z=>{Qe(z),Ie(z)},removeLastInsertLast:z=>{_e(z),st(z)},removeExisting:At,replaceExisting:z=>{const Oe=z.changeEvent.doc,Je=z.queryParams.primaryKey,dt=z.previousResults;for(let Nt=0;Nt<dt.length;Nt++)if(dt[Nt][Je]===z.changeEvent.id){dt[Nt]=Oe,z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,Oe);break}},alwaysWrong:z=>{const Oe={_id:"wrongHuman"+(new Date).getTime()};z.previousResults.length=0,z.previousResults.push(Oe),z.keyDocumentMap&&(z.keyDocumentMap.clear(),z.keyDocumentMap.set(Oe._id,Oe))},insertAtSortPosition:pn,removeExistingAndInsertAtSortPosition:z=>{At(z),pn(z)},runFullQueryAgain:z=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:z=>{throw new Error("Action unknownAction should never be called")}};function $(z){return z?"1":"0"}function Pn(z,Oe){const Je=[];for(let dt=0,Nt=z.length;dt<Nt;dt+=Oe)Je.push(z.substring(dt,dt+Oe));return Je}!function ie(z=6){let Oe="";for(let Nt=0;Nt<z;Nt++)Oe+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()))}(4);const Cn=40;function no(z){return z.charCodeAt(0)-Cn}function $n(z){return z[z.length-1]}function br(z,Oe,Je){if(Array.isArray(Oe)&&(Oe=Oe.join(".")),!function ti(z){const Oe=typeof z;return null!==z&&("object"===Oe||"function"===Oe)}(z)||"string"!=typeof Oe)return void 0===Je?z:Je;const dt=Oe.split(".");if(0===dt.length)return Je;for(let Nt=0;Nt<dt.length;Nt++){const Dn=dt[Nt];if(null==(z=ui(z,Dn)?Nt===dt.length-1?void 0:null:z[Dn])){if(Nt!==dt.length-1)return Je;break}}return void 0===z?Je:z}function ui(z,Oe){if("number"!=typeof Oe&&Array.isArray(z)){const Je=Number.parseInt(Oe,10);return Number.isInteger(Je)&&z[Je]===z[Oe]}return!1}const Do=z=>!!z.queryParams.limit,cs={0:z=>"INSERT"===z.changeEvent.operation,1:z=>"UPDATE"===z.changeEvent.operation,2:z=>"DELETE"===z.changeEvent.operation,3:Do,4:z=>1===z.queryParams.limit,5:z=>!!(z.queryParams.skip&&z.queryParams.skip>0),6:z=>0===z.previousResults.length,7:z=>Do(z)&&z.previousResults.length>=z.queryParams.limit,8:z=>{const Oe=z.previousResults[0];return!(!Oe||Oe[z.queryParams.primaryKey]!==z.changeEvent.id)},9:z=>{const Oe=$n(z.previousResults);return!(!Oe||Oe[z.queryParams.primaryKey]!==z.changeEvent.id)},10:z=>{const Oe=z.queryParams.sortFields,Je=z.changeEvent.previous,dt=z.changeEvent.doc;if(!dt)return!1;if(!Je)return!0;for(let Nt=0;Nt<Oe.length;Nt++){const Dn=Oe[Nt];if(br(Je,Dn)!==br(dt,Dn))return!0}return!1},11:z=>{const Oe=z.changeEvent.id;if(z.keyDocumentMap)return z.keyDocumentMap.has(Oe);{const Je=z.queryParams.primaryKey,dt=z.previousResults;for(let Nt=0;Nt<dt.length;Nt++)if(dt[Nt][Je]===Oe)return!0;return!1}},12:z=>{const Oe=z.changeEvent.previous;if(!Oe)return!1;const Je=z.previousResults[0];return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)<0)},13:z=>{const Oe=z.changeEvent.previous;if(!Oe)return!1;const Je=$n(z.previousResults);return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)>0)},14:z=>{const Oe=z.changeEvent.doc;if(!Oe)return!1;const Je=z.previousResults[0];return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)<0)},15:z=>{const Oe=z.changeEvent.doc;if(!Oe)return!1;const Je=$n(z.previousResults);return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)>0)},16:z=>{const Oe=z.changeEvent.previous;return!!Oe&&z.queryParams.queryMatcher(Oe)},17:z=>{const Oe=z.changeEvent.doc;return!!Oe&&z.queryParams.queryMatcher(Oe)}};let Ja;const ea=z=>function Jn(z,Oe,Je){let dt=z,Nt=z.l;for(;;){if(dt=dt[$(Oe[Nt](Je))],"number"==typeof dt||"string"==typeof dt)return dt;Nt=dt.l}}(function Ur(){return Ja||(Ja=function fr(z){const Oe=new Map,dt=2+2*parseInt(z.charAt(0)+z.charAt(1),10),Dn=Pn(z.substring(2,dt),2);for(let Mo=0;Mo<Dn.length;Mo++){const ra=Dn[Mo],ia=ra.charAt(0),_o=no(ra.charAt(1));Oe.set(ia,_o)}const Yn=Pn(z.substring(dt,z.length-3),4);for(let Mo=0;Mo<Yn.length;Mo++){const ra=Yn[Mo],ia=ra.charAt(0),_o=ra.charAt(1),rc=ra.charAt(2),kc=no(ra.charAt(3));if(!Oe.has(_o))throw new Error("missing node with id "+_o);if(!Oe.has(rc))throw new Error("missing node with id "+rc);const vl=Oe.get(_o),Pc=Oe.get(rc);Oe.set(ia,{l:kc,0:vl,1:Pc})}const mr=z.slice(-3),jr=mr.charAt(0),qr=mr.charAt(1);return{l:no(mr.charAt(2)),0:Oe.get(jr),1:Oe.get(qr)}}("14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7fae9\xa1bf9\xa2bq9\xa3cg9\xa4ck9\xa5cn9\xa6nd9\xa7np9\xa8nq9\xa9nf9\xaang9\xabnm9\xacnk9\xadmr9\xaems9\xafmt9\xb0mj9\xb1mk9\xb2ml9\xb3mn9\xb4mc8\xb5\xb3{8\xb6\xaf}8\xb7\xb0\xa48\xb8\xb3\xa78\xb9mn8\xba\xb3\xab8\xbb\xb3m8\xbcm\xb44\xbdz\xb24\xbe\xb3w4\xbfz\xb54\xc0\xaf\xb64\xc1\xb0\xb74\xc2\xb3\xba4\xc3\xb3\xb84\xc4m\xb94\xc5v\xa47\xc6yn7\xc7\xc0\xc17\xc8~\x7f7\xc9\xa5\xa47\xca\xc3\xc47\xcb\xa8n7\xcc\xba\xb97\xcd\xad\xb07\xce\xaem7\xcf\xaf\xb07\xd0\xb1m7\xd1\xb3m7\xd2\xbcm5\xd3\xc4m5\xd4\xb9m5\xd5\xbd\xb05\xd6\xbem5\xd7\xbf\xb05\xd8\xc7\xcf5\xd9\xc2m5\xda\xca\xd15\xdb\xb1m5\xdc\xbam5\xdd\xcc\xd15\xde\xd5\xcd2\xdf|\x7f2\xe0\xa1u2\xe1\xa3\xc52\xe2\xd6\xce2\xe3\xa6\xc62\xe4\xa9x2\xe5\xaa\xc62\xe6\xd7\xd82\xe7|\xc82\xe8\xa1\xa22\xe9\xa3\xc92\xea\xa4\xa52\xeb\xd9\xda2\xec\xa6\xcb2\xed\xa9n2\xee\xaan2\xef\xdb\xd02\xf0\xdc\xdd2\xf1\xacn2\xf2\xd2\xd3/\xf3an/\xf4bn/\xf5cn/\xf6\xde\xe2/\xf7\xdf\xe3/\xf8\xe0\xe4/\xf9\xe1\xe5/\xfa\xe6\xeb/\xfb\xe7\xec/\xfc\xe8\xed/\xfd\xe9\xee/\xfe\xcd\xce/\xff\xcf\xd1/\u0100\xf2\xd4,\u0101cn,\u0102\xf6\xef,\u0103\xa4\xf1,\u0104\xfa\xf0,\u0105\xea\xf1,\u0106\xfe\xd0,\u0107\xff\xd1,\u0108ac0\u0109bc0\u010a\xf3\xf50\u010b\xf4\u01010\u010c\xdf\xe10\u010d\xe0\xa40\u010e\xe7\xe90\u010f\xe8\xea0\u0110\xf7\xf90\u0111\xf8\u01030\u0112\xfb\xfd0\u0113\xfc\u01050\u0114m\xd2-\u0115m\u0100-\u0116\xde\xe6-\u0117\u010c\u010e-\u0118\u010d\u010f-\u0119\u0102\u0104-\u011a\u0110\u0112-\u011b\u0111\u0113-\u011c\xb2\xbb-\u011d\xcd\xcf-\u011e\u0106\u0107-\u011f\xb2\xb3-\u0120\u0114\u01083\u0121\u0115\u010a3\u0122\u0116\u01173\u0123\u0119\u011a3\u0124\u0122\u011d(\u0125\u011c\u011f(\u0126\u0123\u011e(\u0127\u0120\u0121+\u0128\u0109\u010b+\u0129\u0124\u0126+\u012a\u0118\u011b+\u012b\u0127\u01281\u012c\u0129\u012a1\u012d\u012c\u012b*\u012e\u0125m*\u012d\u012e.")),Ja}(),cs,z);var As=O(312),ml=O(9403),zi=O(5365);function sr(z,Oe){return Oe.sort&&0!==Oe.sort.length?Oe.sort.map(Je=>Object.keys(Je)[0]):[z]}var us=new WeakMap;function Aa(z,Oe){if(!z.collection.database.eventReduce)return{runFullQueryAgain:!0};var Je=function ta(z){return(0,ml.q)(us,z,()=>{var Oe=z.collection,Je=(0,zi._V)(Oe.storageInstance.schema,(0,ze.o8)(z.mangoQuery)),dt=Oe.schema.primaryPath,Nt=(0,zi.Xw)(Oe.schema.jsonSchema,Je),Fn=(0,zi.Lr)(Oe.schema.jsonSchema,Je);return{primaryKey:z.collection.schema.primaryPath,skip:Je.skip,limit:Je.limit,sortFields:sr(dt,Je),sortComparator:(jr,qr)=>{var Xr={docA:jr,docB:qr,rxQuery:z};return Nt(Xr.docA,Xr.docB)},queryMatcher:jr=>Fn({doc:jr,rxQuery:z}.doc)}})}(z),dt=(0,oe.ZN)(z._result).docsData.slice(0),Nt=(0,oe.ZN)(z._result).docsDataMap,Dn=!1,Yn=Oe.map(mr=>(0,As._r)(mr)).filter(ge.S7).find(mr=>{var qr=function ec(z){const Oe=ea(z);return be[Oe]}({queryParams:Je,changeEvent:mr,previousResults:dt,keyDocumentMap:Nt});return"runFullQueryAgain"===qr||("doNothing"!==qr?(Dn=!0,function Hn(z,Oe,Je,dt,Nt){(0,W[z])({queryParams:Oe,changeEvent:Je,previousResults:dt,keyDocumentMap:Nt})}(qr,Je,mr,dt,Nt),!1):void 0)});return Yn?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:Dn,newResults:dt}}var xc=O(6259),Sa=O(9825),xa=function(){return(0,re.A)(function z(Oe,Je,dt){this.time=(0,Me.t)(),this.collection=Oe,this.count=dt,this.documents=(0,Sa.X)(this.collection._docCache,Je)},[{key:"docsData",get:function(){return(0,ze.Ns)(this,"docsData",this.documents.map(Oe=>Oe._data))}},{key:"docsDataMap",get:function(){var Oe=new Map;return this.documents.forEach(Je=>{Oe.set(Je.primary,Je._data)}),(0,ze.Ns)(this,"docsDataMap",Oe)}},{key:"docsMap",get:function(){for(var Oe=new Map,Je=this.documents,dt=0;dt<Je.length;dt++){var Nt=Je[dt];Oe.set(Nt.primary,Nt)}return(0,ze.Ns)(this,"docsMap",Oe)}}])}(),Mc=O(997),gl=0,So=function(){function z(Je,dt,Nt,Dn={}){this.id=++gl,this._execOverDatabaseCount=0,this._creationTime=(0,Me.t)(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new me.t(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Ne.Dr,this.op=Je,this.mangoQuery=dt,this.collection=Nt,this.other=Dn,dt||(this.mangoQuery={selector:{}}),this.isFindOneByIdQuery=function nc(z,Oe){if(!Oe.skip&&Oe.selector&&1===Object.keys(Oe.selector).length&&Oe.selector[z]){var Je=Oe.selector[z];if("string"==typeof Je)return Je;if(1===Object.keys(Je).length&&"string"==typeof Je.$eq||1===Object.keys(Je).length&&Array.isArray(Je.$eq)&&!Je.$eq.find(dt=>"string"!=typeof dt))return Je.$eq}return!1}(this.collection.schema.primaryPath,dt)}var Oe=z.prototype;return Oe._setResultData=function(dt){if("number"!=typeof dt){dt instanceof Map&&(dt=Array.from(dt.values()));var Nt=new xa(this.collection,dt,dt.length);this._result=Nt}else this._result=new xa(this.collection,[],dt)},Oe._execOverDatabase=function(){var Je=(0,J.A)(function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=(0,Me.t)(),"count"===this.op){var Nt=this.getPreparedQuery(),Dn=yield this.collection.storageInstance.count(Nt);if("slow"===Dn.mode&&!this.collection.database.allowSlowCount)throw(0,Fe.Br)("QU14",{collection:this.collection,queryObj:this.mangoQuery});return Dn.count}if("findByIds"===this.op){var Fn=(0,oe.ZN)(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,Yn=new Map,mr=[];return Fn.forEach(Xr=>{var xo=this.collection._docCache.getLatestDocumentDataIfExists(Xr);if(xo){if(!xo._deleted){var Ss=this.collection._docCache.getCachedRxDocument(xo);Yn.set(Xr,Ss)}}else mr.push(Xr)}),mr.length>0&&(yield this.collection.storageInstance.findDocumentsById(mr,!1)).forEach(Xr=>{var xo=this.collection._docCache.getCachedRxDocument(Xr);Yn.set(xo.primary,xo)}),Yn}var qr=function mo(z){return io.apply(this,arguments)}(this);return qr.then(Xr=>(this._lastExecEnd=(0,Me.t)(),Xr))});return function dt(){return Je.apply(this,arguments)}}(),Oe.exec=function(dt){if(dt&&"findOne"!==this.op)throw(0,Fe.Br)("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return tc(this).then(()=>(0,ae._)(this.$)).then(Nt=>{if(!Nt&&dt)throw(0,Fe.Br)("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Nt})},Oe.toString=function(){var dt=(0,ze.mf)({op:this.op,query:this.mangoQuery,other:this.other},!0),Nt=JSON.stringify(dt);return this.toString=()=>Nt,Nt},Oe.getPreparedQuery=function(){var dt={rxQuery:this,mangoQuery:(0,zi._V)(this.collection.schema.jsonSchema,this.mangoQuery)};dt.mangoQuery.selector._deleted={$eq:!1},dt.mangoQuery.index&&dt.mangoQuery.index.unshift("_deleted"),(0,xe.Xi)("prePrepareQuery",dt);var Nt=Eu(this.collection.schema.jsonSchema,dt.mangoQuery);return this.getPreparedQuery=()=>Nt,Nt},Oe.doesDocumentDataMatch=function(dt){return!dt._deleted&&this.queryMatcher(dt)},Oe.remove=function(){return this.exec().then(dt=>Array.isArray(dt)?Promise.all(dt.map(Nt=>Nt.remove())):dt.remove())},Oe.incrementalRemove=function(){return(0,zi.dx)(this.asRxQuery,dt=>dt.incrementalRemove())},Oe.update=function(dt){throw(0,Re.u)("update")},Oe.patch=function(dt){return(0,zi.dx)(this.asRxQuery,Nt=>Nt.patch(dt))},Oe.incrementalPatch=function(dt){return(0,zi.dx)(this.asRxQuery,Nt=>Nt.incrementalPatch(dt))},Oe.modify=function(dt){return(0,zi.dx)(this.asRxQuery,Nt=>Nt.modify(dt))},Oe.incrementalModify=function(dt){return(0,zi.dx)(this.asRxQuery,Nt=>Nt.incrementalModify(dt))},Oe.where=function(dt){throw(0,Re.u)("query-builder")},Oe.sort=function(dt){throw(0,Re.u)("query-builder")},Oe.skip=function(dt){throw(0,Re.u)("query-builder")},Oe.limit=function(dt){throw(0,Re.u)("query-builder")},(0,re.A)(z,[{key:"$",get:function(){if(!this._$){var Je=this.collection.$.pipe((0,l.p)(dt=>!dt.isLocal),(0,De.Z)(null),(0,ut.Z)(()=>tc(this)),(0,Be.T)(()=>this._result),(0,Ue.t)(oe.bz),(0,Y.F)((dt,Nt)=>!(!dt||dt.time!==(0,oe.ZN)(Nt).time)),(0,l.p)(dt=>!!dt),(0,Be.T)(dt=>{var Nt=(0,oe.ZN)(dt);return"count"===this.op?Nt.count:"findOne"===this.op?0===Nt.documents.length?null:Nt.documents[0]:"findByIds"===this.op?Nt.docsMap:Nt.documents.slice(0)}));this._$=(0,x.h)(Je,this.refCount$.pipe((0,l.p)(()=>!1)))}return this._$}},{key:"$$",get:function(){return this.collection.database.getReactivityFactory().fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var Je=this.collection.schema.jsonSchema,dt=(0,zi._V)(this.collection.schema.jsonSchema,this.mangoQuery);return(0,ze.Ns)(this,"queryMatcher",(0,zi.Lr)(Je,dt))}},{key:"asRxQuery",get:function(){return this}}])}();function na(){return{selector:{}}}function Oc(z,Oe,Je,dt){(0,xe.Xi)("preCreateRxQuery",{op:z,queryObj:Oe,collection:Je,other:dt});var Nt=new So(z,Oe,Je,dt);return Nt=function Rc(z){return z.collection._queryCache.getByQuery(z)}(Nt),(0,xc.n9)(Je),Nt}function zn(z){var Oe=z.asRxQuery.collection._changeEventBuffer.getCounter();return z._latestChangeEvent>=Oe}function tc(z){return z.collection.database.destroyed||zn(z)?Ne.Dr:(z._ensureEqualQueue=z._ensureEqualQueue.then(()=>function _l(z){if(z._lastEnsureEqual=(0,Me.t)(),z.collection.database.destroyed||zn(z))return Ne.Dr;var Oe=!1,Je=!1;if(-1===z._latestChangeEvent&&(Je=!0),!Je){var dt=z.asRxQuery.collection._changeEventBuffer.getFrom(z._latestChangeEvent+1);if(null===dt)Je=!0;else{z._latestChangeEvent=z.asRxQuery.collection._changeEventBuffer.getCounter();var Nt=z.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(dt);if("count"===z.op){var Dn=(0,oe.ZN)(z._result).count,Fn=Dn;Nt.forEach(mr=>{var jr=mr.previousDocumentData&&z.doesDocumentDataMatch(mr.previousDocumentData),qr=z.doesDocumentDataMatch(mr.documentData);!jr&&qr&&Fn++,jr&&!qr&&Fn--}),Fn!==Dn&&(Oe=!0,z._setResultData(Fn))}else{var Yn=Aa(z,Nt);Yn.runFullQueryAgain?Je=!0:Yn.changed&&(Oe=!0,z._setResultData(Yn.newResults))}}}return Je?z._execOverDatabase().then(mr=>(z._latestChangeEvent=z.collection._changeEventBuffer.getCounter(),"number"==typeof mr?((!z._result||mr!==z._result.count)&&(Oe=!0,z._setResultData(mr)),Oe):((!z._result||!(0,ke.YL)(z.collection.schema.primaryPath,mr,z._result.docsData))&&(Oe=!0,z._setResultData(mr)),Oe))):Promise.resolve(Oe)}(z)),z._ensureEqualQueue)}function Eu(z,Oe){if(!Oe.sort)throw(0,Fe.Br)("SNH",{query:Oe});return{query:Oe,queryPlan:(0,Mc.sk)(z,Oe)}}function io(){return(io=(0,J.A)(function*(z){var Oe=[],Je=z.collection;if(z.isFindOneByIdQuery)if(Array.isArray(z.isFindOneByIdQuery)){var dt=z.isFindOneByIdQuery;if((dt=dt.filter(qr=>{var Xr=z.collection._docCache.getLatestDocumentDataIfExists(qr);return!Xr||(Xr._deleted||Oe.push(Xr),!1)})).length>0){var Nt=yield Je.storageInstance.findDocumentsById(dt,!1);(0,ge.Hb)(Oe,Nt)}}else{var Dn=z.isFindOneByIdQuery,Fn=z.collection._docCache.getLatestDocumentDataIfExists(Dn);if(!Fn){var Yn=yield Je.storageInstance.findDocumentsById([Dn],!1);Yn[0]&&(Fn=Yn[0])}Fn&&!Fn._deleted&&Oe.push(Fn)}else{var mr=z.getPreparedQuery(),jr=yield Je.storageInstance.query(mr);Oe=jr.documents}return Oe})).apply(this,arguments)}},1885:(Bt,et,O)=>{"use strict";O.d(et,{pA:()=>Ae,Nq:()=>Me,Ud:()=>ge,U:()=>ze,uK:()=>xe,Hq:()=>oe,xQ:()=>Ne,nT:()=>Y,d1:()=>Re});var J=O(7650),re=/\./g,ae=O(720),x=O(1744),l=O(8663),De=O(6434),ut=O(7176);function Y(Ie,st){var Qe=st;return Qe=Qe.replace(re,".properties."),Qe=(0,ae.L$)(Qe="properties."+Qe),(0,x.UU)(Ie,Qe)}function Me(Ie,st,Qe){if("string"==typeof st.primaryKey)return Qe;var _e=ze(st,Qe),ue=Qe[Ie];if(ue&&ue!==_e)throw(0,J.Br)("DOC19",{args:{documentData:Qe,existingPrimary:ue,newPrimary:_e},schema:st});return Qe[Ie]=_e,Qe}function Ne(Ie){return"string"==typeof Ie?Ie:Ie.key}function oe(Ie){var Qe=Y(Ie,Ne(Ie.primaryKey));return(0,l.ZN)(Qe.maxLength)}function ze(Ie,st){if("string"==typeof Ie.primaryKey)return st[Ie.primaryKey];var Qe=Ie.primaryKey;return Qe.fields.map(_e=>{var ue=(0,x.UU)(st,_e);if(typeof ue>"u")throw(0,J.Br)("DOC18",{args:{field:_e,documentData:st}});return ue}).join(Qe.separator)}function Re(Ie){return(0,De.mf)(Ie,!0)}function ge(Ie){var st=Ne((Ie=(0,De.FD)(Ie)).primaryKey);Ie.properties=(0,De.FD)(Ie.properties),Ie.additionalProperties=!1,Object.prototype.hasOwnProperty.call(Ie,"keyCompression")||(Ie.keyCompression=!1),Ie.indexes=Ie.indexes?Ie.indexes.slice(0):[],Ie.required=Ie.required?Ie.required.slice(0):[],Ie.encrypted=Ie.encrypted?Ie.encrypted.slice(0):[],Ie.properties._rev={type:"string",minLength:1},Ie.properties._attachments={type:"object"},Ie.properties._deleted={type:"boolean"},Ie.properties._meta=Fe,Ie.required=Ie.required?Ie.required.slice(0):[],Ie.required.push("_deleted"),Ie.required.push("_rev"),Ie.required.push("_meta"),Ie.required.push("_attachments");var Qe=xe(Ie);(0,ut.Hb)(Ie.required,Qe),Ie.required=Ie.required.filter(Q=>!Q.includes(".")).filter((Q,mt,Dt)=>Dt.indexOf(Q)===mt),Ie.version=Ie.version||0;var _e=Ie.indexes.map(Q=>{var mt=(0,ut.k_)(Q)?Q.slice(0):[Q];return mt.includes(st)||mt.push(st),"_deleted"!==mt[0]&&mt.unshift("_deleted"),mt});0===_e.length&&_e.push(function ke(Ie){return["_deleted",Ie]}(st)),_e.push(["_meta.lwt",st]),Ie.internalIndexes&&Ie.internalIndexes.map(Q=>{_e.push(Q)});var ue=new Set;return _e.filter(Q=>{var mt=Q.join(",");return!ue.has(mt)&&(ue.add(mt),!0)}),Ie.indexes=_e,Ie}var Fe={type:"object",properties:{lwt:{type:"number",minimum:O(2060).MC,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function xe(Ie){var st=Object.keys(Ie.properties).filter(_e=>Ie.properties[_e].final),Qe=Ne(Ie.primaryKey);return st.push(Qe),"string"!=typeof Ie.primaryKey&&Ie.primaryKey.fields.forEach(_e=>st.push(_e)),st}function Ae(Ie,st){for(var Qe=Object.keys(Ie.defaultValues),_e=0;_e<Qe.length;++_e){var ue=Qe[_e];(!Object.prototype.hasOwnProperty.call(st,ue)||typeof st[ue]>"u")&&(st[ue]=Ie.defaultValues[ue])}return st}},9182:(Bt,et,O)=>{"use strict";O.d(et,{NP:()=>Y,Wq:()=>Me,wJ:()=>Be});var J=O(6126),re=O(6636),me=O(6434),ae=O(7176),x=O(7650),l=O(2284),De=O(1885),ut=O(3896),Be=function(){function ze(ke,ge){this.jsonSchema=ke,this.hashFunction=ge,this.indexes=function Ue(ze){return(ze.indexes||[]).map(Re=>(0,ae.k_)(Re)?Re:[Re])}(this.jsonSchema),this.primaryPath=(0,De.xQ)(this.jsonSchema.primaryKey),this.finalFields=(0,De.uK)(this.jsonSchema)}var Re=ze.prototype;return Re.validateChange=function(ge,Fe){this.finalFields.forEach(xe=>{if(!(0,re.b)(ge[xe],Fe[xe]))throw(0,x.Br)("DOC9",{dataBefore:ge,dataAfter:Fe,fieldName:xe,schema:this.jsonSchema})})},Re.getDocumentPrototype=function(){var ge={},Fe=(0,De.nT)(this.jsonSchema,"");return Object.keys(Fe).forEach(xe=>{var Ae=xe;ge.__defineGetter__(xe,function(){if(this.get&&"function"==typeof this.get)return this.get(Ae)}),Object.defineProperty(ge,xe+"$",{get:function(){return this.get$(Ae)},enumerable:!1,configurable:!1}),Object.defineProperty(ge,xe+"$$",{get:function(){return this.get$$(Ae)},enumerable:!1,configurable:!1}),Object.defineProperty(ge,xe+"_",{get:function(){return this.populate(Ae)},enumerable:!1,configurable:!1})}),(0,me.Ns)(this,"getDocumentPrototype",()=>ge),ge},Re.getPrimaryOfDocumentData=function(ge){return(0,De.U)(this.jsonSchema,ge)},(0,J.A)(ze,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var ke={};return Object.entries(this.jsonSchema.properties).filter(([,ge])=>Object.prototype.hasOwnProperty.call(ge,"default")).forEach(([ge,Fe])=>ke[ge]=Fe.default),(0,me.Ns)(this,"defaultValues",ke)}},{key:"hash",get:function(){return(0,me.Ns)(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function Y(ze){var ke=0;return new Array(ze.version?ze.version:0).fill(0).map(()=>ke++)}function Me(ze,Re,ke=!0){ke&&(0,l.Xi)("preCreateRxSchema",ze);var ge=(0,De.Ud)(ze);ge=(0,De.d1)(ge),ut.h.deepFreezeWhenDevMode(ge);var Fe=new Be(ge,Re);return(0,l.Xi)("createRxSchema",Fe),Fe}},6893:(Bt,et,O)=>{"use strict";O.d(et,{AM:()=>At,C9:()=>mt,ME:()=>en,Mu:()=>We,O5:()=>ke,OG:()=>ze,WX:()=>Ie,YN:()=>se,gi:()=>st,mQ:()=>Fe,on:()=>Q,p0:()=>On,pZ:()=>ln});var J=O(467),re=O(3896),me=O(7650),ae=O(1885),x=O(720),l=O(4552),De=O(8663),ut=O(6434),Be=O(6568),Ue=O(7176),Y=O(2060),Me=O(5672),Ne=O(5365),oe=O(2284),ze="_rxdb_internal";function ke(W,B){return ge.apply(this,arguments)}function ge(){return(ge=(0,J.A)(function*(W,B){var X=(yield W.findDocumentsById([B],!1))[0];if(X)return X})).apply(this,arguments)}function Fe(W,B,$){return xe.apply(this,arguments)}function xe(){return(xe=(0,J.A)(function*(W,B,$){var X=yield W.bulkWrite([B],$);if(X.error.length>0)throw X.error[0];return se((0,ae.xQ)(W.schema.primaryKey),[B],X)[0]})).apply(this,arguments)}function We(W){return Object.assign({},...W)}function Ie(W,B,$,X){if(X)throw 409===X.status?(0,me.Br)("CONFLICT",{collection:W.name,id:B,writeError:X,data:$}):422===X.status?(0,me.Br)("VD2",{collection:W.name,id:B,writeError:X,data:$}):X}function st(W,B,$,X,Z,ie,ce){for(var Pn,Te=!!W.schema.attachments,It=[],Lt=[],Rt=[],nn={id:(0,x.z3)(10),events:[],checkpoint:null,context:Z,startTime:(0,l.t)(),endTime:0},on=nn.events,cn=[],Ht=[],hn=[],rn=$.size>0,Cn=X.length,to=function(){var jt,Vr=X[no],Gt=Vr.document,yr=Vr.previous,fr=Gt[B],Jn=Gt._deleted,$n=yr&&yr._deleted,or=void 0;if(rn&&(or=$.get(fr)),or){if(!yr||yr&&or._rev!==yr._rev)return Rt.push({isError:!0,status:409,documentId:fr,writeRow:Vr,documentInDb:or}),1;var jo=Te?Qe(Vr):Vr;Te&&(Jn?yr&&Object.keys(yr._attachments).forEach(Br=>{Ht.push({documentId:fr,attachmentId:Br,digest:(0,De.ZN)(yr)._attachments[Br].digest})}):(Object.entries(Gt._attachments).find(([Br,ti])=>(!(yr?yr._attachments[Br]:void 0)&&!ti.data&&(jt={documentId:fr,documentInDb:or,isError:!0,status:510,writeRow:Vr,attachmentId:Br}),!0)),jt||Object.entries(Gt._attachments).forEach(([Br,ti])=>{var br=yr?yr._attachments[Br]:void 0;br?ti.data&&br.digest!==jo.document._attachments[Br].digest&&hn.push({documentId:fr,attachmentId:Br,attachmentData:ti,digest:ti.digest}):cn.push({documentId:fr,attachmentId:Br,attachmentData:ti,digest:ti.digest})}))),jt?Rt.push(jt):(Te?(Lt.push(Qe(jo)),ce&&ce(Gt)):(Lt.push(jo),ce&&ce(Gt)),Pn=jo);var Qs=null,Ys=null,Ya=null;if($n&&!Jn)Ya="INSERT",Qs=Te?Q(Gt):Gt;else if(!yr||$n||Jn){if(!Jn)throw(0,me.Br)("SNH",{args:{writeRow:Vr}});Ya="DELETE",Qs=(0,De.ZN)(Gt),Ys=yr}else Ya="UPDATE",Qs=Te?Q(Gt):Gt,Ys=yr;on.push({documentId:fr,documentData:Qs,previousDocumentData:Ys,operation:Ya})}else{var Uo=!!Jn;if(Te&&Object.entries(Gt._attachments).forEach(([Br,ti])=>{ti.data?cn.push({documentId:fr,attachmentId:Br,attachmentData:ti,digest:ti.digest}):Rt.push(jt={documentId:fr,isError:!0,status:510,writeRow:Vr,attachmentId:Br})}),jt||(Te?(It.push(Qe(Vr)),ie&&ie(Gt)):(It.push(Vr),ie&&ie(Gt)),Pn=Vr),!Uo){var Co={documentId:fr,operation:"INSERT",documentData:Te?Q(Gt):Gt,previousDocumentData:Te&&yr?Q(yr):yr};on.push(Co)}}},no=0;no<Cn;no++)to();return{bulkInsertDocs:It,bulkUpdateDocs:Lt,newestRow:Pn,errors:Rt,eventBulk:nn,attachmentsAdd:cn,attachmentsRemove:Ht,attachmentsUpdate:hn}}function Qe(W){return{previous:W.previous,document:Q(W.document)}}function _e(W){return atob(W).length}function Q(W){if(!W._attachments||0===Object.keys(W._attachments).length)return W;var B=(0,ut.FD)(W);return B._attachments={},Object.entries(W._attachments).forEach(([$,X])=>{B._attachments[$]=function ue(W){var B=W.data;return B?{length:_e(B),digest:W.digest,type:W.type}:W}(X)}),B}function mt(W){return Object.assign({},W,{_meta:(0,ut.FD)(W._meta)})}var Dt=new WeakMap;function At(W,B,$){re.h.deepFreezeWhenDevMode($);var X=(0,ae.xQ)(B.schema.primaryKey),Z={originalStorageInstance:B,schema:B.schema,internals:B.internals,collectionName:B.collectionName,databaseName:B.databaseName,options:B.options,bulkWrite(ie,ce){for(var Te=W.token,It=new Array(ie.length),Lt=(0,l.t)(),Rt=0;Rt<ie.length;Rt++){var Ut=ie[Rt],nn=mt(Ut.document);nn._meta.lwt=Lt;var on=Ut.previous;nn._rev=(0,Be.CM)(Te,on),It[Rt]={document:nn,previous:on}}return(0,oe.Xi)("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:It}),W.lockedRun(()=>B.bulkWrite(It,ce)).then(cn=>{var Ht={error:[]},hn=se(X,It,cn);Dt.set(Ht,hn);var rn=0===cn.error.length?[]:cn.error.filter(Cn=>!(409!==Cn.status||Cn.writeRow.previous||Cn.writeRow.document._deleted||!(0,De.ZN)(Cn.documentInDb)._deleted)||(Ht.error.push(Cn),!1));if(rn.length>0){var Pn=rn.map(Cn=>({previous:Cn.documentInDb,document:Object.assign({},Cn.writeRow.document,{_rev:(0,Be.CM)(W.token,Cn.documentInDb)})}));return W.lockedRun(()=>B.bulkWrite(Pn,ce)).then(Cn=>{(0,Ue.Hb)(Ht.error,Cn.error);var to=se(X,Pn,Cn);return(0,Ue.Hb)(hn,to),Ht})}return Ht})},query:ie=>W.lockedRun(()=>B.query(ie)),count:ie=>W.lockedRun(()=>B.count(ie)),findDocumentsById:(ie,ce)=>W.lockedRun(()=>B.findDocumentsById(ie,ce)),getAttachmentData:(ie,ce,Te)=>W.lockedRun(()=>B.getAttachmentData(ie,ce,Te)),getChangedDocumentsSince:B.getChangedDocumentsSince?(ie,ce)=>W.lockedRun(()=>B.getChangedDocumentsSince((0,De.ZN)(ie),ce)):void 0,cleanup:ie=>W.lockedRun(()=>B.cleanup(ie)),remove:()=>(W.storageInstances.delete(Z),W.lockedRun(()=>B.remove())),close:()=>(W.storageInstances.delete(Z),W.lockedRun(()=>B.close())),changeStream:()=>B.changeStream(),conflictResultionTasks:()=>B.conflictResultionTasks(),resolveConflictResultionTask(ie){if(ie.output.isEqual)return B.resolveConflictResultionTask(ie);var ce=Object.assign({},ie.output.documentData,{_meta:(0,Y.o4)(),_rev:(0,Y.Fq)(),_attachments:{}}),Te=(0,ut.FD)(ce);return delete Te._meta,delete Te._rev,delete Te._attachments,B.resolveConflictResultionTask({id:ie.id,output:{isEqual:!1,documentData:Te}})}};return W.storageInstances.add(Z),Z}function ln(W){if(W.schema.keyCompression)throw(0,me.Br)("UT5",{args:{params:W}});if(en(W.schema))throw(0,me.Br)("UT6",{args:{params:W}});if(W.schema.attachments&&W.schema.attachments.compression)throw(0,me.Br)("UT7",{args:{params:W}})}function en(W){return!!(W.encrypted&&W.encrypted.length>0||W.attachments&&W.attachments.encrypted)}function On(W,B,$){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,J.A)(function*(W,B,$){if(W.getChangedDocumentsSince)return W.getChangedDocumentsSince(B,$);var X=(0,ae.xQ)(W.schema.primaryKey),Z=(0,Me.Ib)(W.schema,function pn(W,B,$){var X=(0,ae.xQ)(W.schema.primaryKey),Z=$?$.lwt:Y.MC;return(0,Ne._V)(W.schema,{selector:{$or:[{"_meta.lwt":{$gt:Z}},{"_meta.lwt":{$eq:Z},[X]:{$gt:$&&$?$.id:""}}],"_meta.lwt":{$gte:Z}},sort:[{"_meta.lwt":"asc"},{[X]:"asc"}],skip:0,limit:B})}(W,B,$)),ce=(yield W.query(Z)).documents,Te=(0,Ue.dG)(ce);return{documents:ce,checkpoint:Te?{id:Te[X],lwt:Te._meta.lwt}:$||{id:"",lwt:0}}})).apply(this,arguments)}function se(W,B,$){var X=Dt.get($);if(X)return X;var Z=[];if($.error.length>0){for(var ie=new Set,ce=0;ce<$.error.length;ce++)ie.add($.error[ce].documentId);for(var It=0;It<B.length;It++){var Lt=B[It].document;ie.has(Lt[W])||Z.push(Q(Lt))}}else{Z.length=B.length-$.error.length;for(var Rt=0;Rt<B.length;Rt++)Z[Rt]=Q(B[Rt].document)}return Z}},467:(Bt,et,O)=>{"use strict";function J(me,ae,x,l,De,ut,Be){try{var Ue=me[ut](Be),Y=Ue.value}catch(Me){return void x(Me)}Ue.done?ae(Y):Promise.resolve(Y).then(l,De)}function re(me){return function(){var ae=this,x=arguments;return new Promise(function(l,De){var ut=me.apply(ae,x);function Be(Y){J(ut,l,De,Be,Ue,"next",Y)}function Ue(Y){J(ut,l,De,Be,Ue,"throw",Y)}Be(void 0)})}}O.d(et,{A:()=>re})},6126:(Bt,et,O)=>{"use strict";function J(l){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(De){return typeof De}:function(De){return De&&"function"==typeof Symbol&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De})(l)}function me(l){var De=function re(l,De){if("object"!=J(l)||!l)return l;var ut=l[Symbol.toPrimitive];if(void 0!==ut){var Be=ut.call(l,De||"default");if("object"!=J(Be))return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===De?String:Number)(l)}(l,"string");return"symbol"==J(De)?De:De+""}function ae(l,De){for(var ut=0;ut<De.length;ut++){var Be=De[ut];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(l,me(Be.key),Be)}}function x(l,De,ut){return De&&ae(l.prototype,De),ut&&ae(l,ut),Object.defineProperty(l,"prototype",{writable:!1}),l}O.d(et,{A:()=>x})},6719:(Bt,et,O)=>{"use strict";O.d(et,{A:()=>re});var J=O(4394);function re(me,ae){me.prototype=Object.create(ae.prototype),me.prototype.constructor=me,(0,J.A)(me,ae)}},4394:(Bt,et,O)=>{"use strict";function J(re,me){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,x){return ae.__proto__=x,ae})(re,me)}O.d(et,{A:()=>J})},1635:(Bt,et,O)=>{"use strict";function ae(Ge,se){var be={};for(var W in Ge)Object.prototype.hasOwnProperty.call(Ge,W)&&se.indexOf(W)<0&&(be[W]=Ge[W]);if(null!=Ge&&"function"==typeof Object.getOwnPropertySymbols){var B=0;for(W=Object.getOwnPropertySymbols(Ge);B<W.length;B++)se.indexOf(W[B])<0&&Object.prototype.propertyIsEnumerable.call(Ge,W[B])&&(be[W[B]]=Ge[W[B]])}return be}function Me(Ge,se,be,W){return new(be||(be=Promise))(function($,X){function Z(Te){try{ce(W.next(Te))}catch(It){X(It)}}function ie(Te){try{ce(W.throw(Te))}catch(It){X(It)}}function ce(Te){Te.done?$(Te.value):function B($){return $ instanceof be?$:new be(function(X){X($)})}(Te.value).then(Z,ie)}ce((W=W.apply(Ge,se||[])).next())})}function Ae(Ge){return this instanceof Ae?(this.v=Ge,this):new Ae(Ge)}function We(Ge,se,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,W=be.apply(Ge,se||[]),$=[];return B={},Z("next"),Z("throw"),Z("return",function X(Rt){return function(Ut){return Promise.resolve(Ut).then(Rt,It)}}),B[Symbol.asyncIterator]=function(){return this},B;function Z(Rt,Ut){W[Rt]&&(B[Rt]=function(nn){return new Promise(function(on,cn){$.push([Rt,nn,on,cn])>1||ie(Rt,nn)})},Ut&&(B[Rt]=Ut(B[Rt])))}function ie(Rt,Ut){try{!function ce(Rt){Rt.value instanceof Ae?Promise.resolve(Rt.value.v).then(Te,It):Lt($[0][2],Rt)}(W[Rt](Ut))}catch(nn){Lt($[0][3],nn)}}function Te(Rt){ie("next",Rt)}function It(Rt){ie("throw",Rt)}function Lt(Rt,Ut){Rt(Ut),$.shift(),$.length&&ie($[0][0],$[0][1])}}function st(Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,se=Ge[Symbol.asyncIterator];return se?se.call(Ge):(Ge=function Re(Ge){var se="function"==typeof Symbol&&Symbol.iterator,be=se&&Ge[se],W=0;if(be)return be.call(Ge);if(Ge&&"number"==typeof Ge.length)return{next:function(){return Ge&&W>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[W++],done:!Ge}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ge),be={},W("next"),W("throw"),W("return"),be[Symbol.asyncIterator]=function(){return this},be);function W($){be[$]=Ge[$]&&function(X){return new Promise(function(Z,ie){!function B($,X,Z,ie){Promise.resolve(ie).then(function(ce){$({value:ce,done:Z})},X)}(Z,ie,(X=Ge[$](X)).done,X.value)})}}}O.d(et,{AQ:()=>We,N3:()=>Ae,Tt:()=>ae,sH:()=>Me,xN:()=>st}),"function"==typeof SuppressedError&&SuppressedError}},Bt=>{Bt(Bt.s=2603)}]);