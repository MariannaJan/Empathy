(self.webpackChunkEmpathy=self.webpackChunkEmpathy||[]).push([[792],{1720:(Bt,et,P)=>{"use strict";var J=P(1985),ne=P(8359),pe=P(7707);!function ae(n){n.__load_patch("rxjs",(t,e,i)=>{const r=e.__symbol__,p=Object.defineProperties;i.patchMethod(J.c.prototype,"lift",U=>(K,me)=>{const fe=U.apply(K,me);return fe.operator&&(fe.operator._zone=e.current,i.patchMethod(fe.operator,"call",he=>(ht,vt)=>ht._zone&&ht._zone!==e.current?ht._zone.run(he,ht,vt):he.apply(ht,vt))),fe}),function(){const U=J.c.prototype,me=U[r("_subscribe")]=U._subscribe;p(J.c.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneSource:{value:null,writable:!0,configurable:!0},_zoneSubscribe:{value:null,writable:!0,configurable:!0},source:{configurable:!0,get:function(){return this._zoneSource},set:function(fe){this._zone=e.current,this._zoneSource=fe}},_subscribe:{configurable:!0,get:function(){if(this._zoneSubscribe)return this._zoneSubscribe;if(this.constructor===J.c)return me;const fe=Object.getPrototypeOf(this);return fe&&fe._subscribe},set:function(fe){this._zone=e.current,this._zoneSubscribe=fe?function(){if(this._zone&&this._zone!==e.current){const he=this._zone.run(fe,this,arguments);if("function"==typeof he){const ht=this._zone;return function(){return ht!==e.current?ht.run(he,this,arguments):he.apply(this,arguments)}}return he}return fe.apply(this,arguments)}:fe}},subjectFactory:{get:function(){return this._zoneSubjectFactory},set:function(fe){const he=this._zone;this._zoneSubjectFactory=function(){return he&&he!==e.current?he.run(fe,this,arguments):fe.apply(this,arguments)}}}})}(),p(ne.yU.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneUnsubscribe:{value:null,writable:!0,configurable:!0},_unsubscribe:{get:function(){if(this._zoneUnsubscribe||this._zoneUnsubscribeCleared)return this._zoneUnsubscribe;const U=Object.getPrototypeOf(this);return U&&U._unsubscribe},set:function(U){this._zone=e.current,U?(this._zoneUnsubscribeCleared=!1,this._zoneUnsubscribe=function(){return this._zone&&this._zone!==e.current?this._zone.run(U,this,arguments):U.apply(this,arguments)}):(this._zoneUnsubscribe=U,this._zoneUnsubscribeCleared=!0)}}}),function(){const U=pe.vU.prototype.next,K=pe.vU.prototype.error,me=pe.vU.prototype.complete;Object.defineProperty(pe.vU.prototype,"destination",{configurable:!0,get:function(){return this._zoneDestination},set:function(fe){this._zone=e.current,this._zoneDestination=fe}}),pe.vU.prototype.next=function(){const he=this._zone;return he&&he!==e.current?he.run(U,this,arguments,"rxjs.Subscriber.next"):U.apply(this,arguments)},pe.vU.prototype.error=function(){const he=this._zone;return he&&he!==e.current?he.run(K,this,arguments,"rxjs.Subscriber.error"):K.apply(this,arguments)},pe.vU.prototype.complete=function(){const he=this._zone;return he&&he!==e.current?he.run(me,this,arguments,"rxjs.Subscriber.complete"):me.call(this)}}()})}(Zone);var D=P(467),a=P(3953),Ce=P(8071);var Be=P(6648),Ue=P(9326);function Y(...n){const t=(0,Ue.lI)(n);return(0,Be.H)(n,t)}var Me=P(4412);const{isArray:Ne}=Array,{getPrototypeOf:oe,prototype:ze,keys:Re}=Object;function ke(n){if(1===n.length){const t=n[0];if(Ne(t))return{args:t,keys:null};if(function ge(n){return n&&"object"==typeof n&&oe(n)===ze}(t)){const e=Re(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Fe=P(3669),De=P(6354);const{isArray:Ae}=Array;function Ie(n){return(0,De.T)(t=>function We(n,t){return Ae(t)?n(...t):n(t)}(n,t))}function st(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Qe=P(4360),_e=P(5225);function ue(...n){const t=(0,Ue.lI)(n),e=(0,Ue.ms)(n),{args:i,keys:r}=ke(n);if(0===i.length)return(0,Be.H)([],t);const c=new J.c(function Q(n,t,e=Fe.D){return i=>{pt(t,()=>{const{length:r}=n,c=new Array(r);let d=r,f=r;for(let p=0;p<r;p++)pt(t,()=>{const w=(0,Be.H)(n[p],t);let A=!1;w.subscribe((0,Qe._)(i,R=>{c[p]=R,A||(A=!0,f--),f||i.next(e(c.slice()))},()=>{--d||i.complete()}))},i)},i)}}(i,t,r?d=>st(r,d):Fe.D));return e?c.pipe(Ie(e)):c}function pt(n,t,e){n?(0,_e.N)(e,n,t):t()}var Ct=P(9350),At=P(8793),un=P(8750);function tn(n){return new J.c(t=>{(0,un.Tg)(n()).subscribe(t)})}var mn=P(1203);function Rn(n,t){const e=(0,Ce.T)(n)?n:()=>n,i=r=>r.error(e());return new J.c(t?r=>t.schedule(i,0,r):i)}var Ge=P(983),se=P(9974);function be(){return(0,se.N)((n,t)=>{let e=null;n._refCount++;const i=(0,Qe._)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,c=e;e=null,r&&(!c||r===c)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class W extends J.c{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,se.S)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ne.yU;const e=this.getSubject();t.add(this.source.subscribe((0,Qe._)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ne.yU.EMPTY)}return t}refCount(){return be()(this)}}var B=P(1413);let H=null;function X(){return H}class re{}const Se=new a.nKC("");let It=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(Rt),providedIn:"platform"})}return n})();const Lt=new a.nKC("");let Rt=(()=>{class n extends It{constructor(){super(),this._doc=(0,a.WQX)(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(e){const i=X().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=X().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){this._history.pushState(e,i,r)}replaceState(e,i,r){this._history.replaceState(e,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ut(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function rn(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function sn(n){return n&&"?"!==n[0]?"?"+n:n}let ln=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(hn),providedIn:"root"})}return n})();const $t=new a.nKC("");let hn=(()=>{class n extends ln{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.WQX)(Se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ut(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+sn(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,c){const d=this.prepareExternalUrl(r+sn(c));this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,c){const d=this.prepareExternalUrl(r+sn(c));this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(It),a.KVO($t,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),on=(()=>{class n extends ln{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ut(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,c){let d=this.prepareExternalUrl(r+sn(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,i,d)}replaceState(e,i,r,c){let d=this.prepareExternalUrl(r+sn(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(It),a.KVO($t,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})(),Nn=(()=>{class n{constructor(e){this._subject=new a.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function Bi(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(rn(to(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+sn(i))}normalize(e){return n.stripTrailingSlash(function eo(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,to(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sn(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+sn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}static#e=this.normalizeQueryParams=sn;static#t=this.joinWithSlash=Ut;static#n=this.stripTrailingSlash=rn;static#i=this.\u0275fac=function(i){return new(i||n)(a.KVO(ln))};static#r=this.\u0275prov=a.jDH({token:n,factory:()=>function Tn(){return new Nn((0,a.KVO)(ln))}(),providedIn:"root"})}return n})();function to(n){return n.replace(/\/index.html$/,"")}const Ji=/\s+/,Oo=[];let Vs=(()=>{class n{constructor(e,i){this._ngEl=e,this._renderer=i,this.initialClasses=Oo,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Ji):Oo}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Ji):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Ji).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.sFG))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})(),Yc=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const r=this._createContextForwardProxy();this._viewRef=i.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,i,r)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,i,r),get:(e,i,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,i,r)}})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.c1b))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.OA$]})}return n})();function or(n,t){return new a.wOt(2100,!1)}class ja{createSubscription(t,e){return(0,a.O8t)(()=>t.subscribe({next:e,error:i=>{throw i}}))}dispose(t){(0,a.O8t)(()=>t.unsubscribe())}}class ga{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Pu=new ga,Fl=new ja;let gi=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.jNT)(e))return Pu;if((0,a.zjR)(e))return Fl;throw or()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.gRc,16))};static#t=this.\u0275pipe=a.EJ8({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Ri=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Ou=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw or();return e.replace(Ri,i=>i[0].toUpperCase()+i.slice(1).toLowerCase())}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275pipe=a.EJ8({name:"titlecase",type:n,pure:!0,standalone:!0})}return n})(),ro=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();const _m="browser";function tl(n){return n===_m}function oo(n){return"server"===n}let Zg=(()=>{class n{static#e=this.\u0275prov=(0,a.jDH)({token:n,providedIn:"root",factory:()=>tl((0,a.WQX)(a.Agw))?new Jg((0,a.WQX)(Se),window):new hc})}return n})();class Jg{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function so(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const c=r.shadowRoot;if(c){const d=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(d)return d}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(i-c[0],r-c[1])}}class hc{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}function pr(n,t){return(0,se.N)((e,i)=>{let r=null,c=0,d=!1;const f=()=>d&&!r&&i.complete();e.subscribe((0,Qe._)(i,p=>{r?.unsubscribe();let w=0;const A=c++;(0,un.Tg)(n(p,A)).subscribe(r=(0,Qe._)(i,R=>i.next(t?t(p,R,A,w++):R),()=>{r=null,f()}))},()=>{d=!0,f()}))})}function Xi(n){return n<=0?()=>Ge.w:(0,se.N)((t,e)=>{let i=0;t.subscribe((0,Qe._)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}var bo=P(9172),kn=P(5964),Or=P(1397);function dh(n){return(0,se.N)((t,e)=>{let i=!1;t.subscribe((0,Qe._)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function o_(n=Em){return(0,se.N)((t,e)=>{let i=!1;t.subscribe((0,Qe._)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Em(){return new Ct.G}function nl(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,kn.p)((r,c)=>n(r,c,i)):Fe.D,Xi(1),e?dh(t):o_(()=>new Ct.G))}function Gu(n,t){return(0,Ce.T)(t)?(0,Or.Z)(n,t,1):(0,Or.Z)(n,1)}function _i(n,t,e){const i=(0,Ce.T)(n)||t||e?{next:n,error:t,complete:e}:n;return i?(0,se.N)((r,c)=>{var d;null===(d=i.subscribe)||void 0===d||d.call(i);let f=!0;r.subscribe((0,Qe._)(c,p=>{var w;null===(w=i.next)||void 0===w||w.call(i,p),c.next(p)},()=>{var p;f=!1,null===(p=i.complete)||void 0===p||p.call(i),c.complete()},p=>{var w;f=!1,null===(w=i.error)||void 0===w||w.call(i,p),c.error(p)},()=>{var p,w;f&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(w=i.finalize)||void 0===w||w.call(i)}))}):Fe.D}function Hl(n){return(0,se.N)((t,e)=>{let c,i=null,r=!1;i=t.subscribe((0,Qe._)(e,void 0,void 0,d=>{c=(0,un.Tg)(n(d,Hl(n)(t))),i?(i.unsubscribe(),i=null,c.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,c.subscribe(e))})}function hh(n){return n<=0?()=>Ge.w:(0,se.N)((t,e)=>{let i=[];t.subscribe((0,Qe._)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function E0(n){return(0,De.T)(()=>n)}function fh(n){return(0,se.N)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var s_=P(5343);function vi(n){return(0,se.N)((t,e)=>{(0,un.Tg)(n).subscribe((0,Qe._)(e,()=>e.complete(),s_.l)),!e.closed&&t.subscribe(e)})}var mh=P(6365);class w0 extends re{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class a_ extends w0{static makeCurrent(){!function Z(n){H??=n}(new a_)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function c_(){return ph=ph||document.querySelector("base"),ph?ph.getAttribute("href"):null}();return null==e?null:function l_(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){ph=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Zi(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,c]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let ph=null,u_=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();const Bn=new a.nKC("");let Ir=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(c=>c.supports(e)),!i)throw new a.wOt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Bn),a.KVO(a.SKi))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();class Nr{constructor(t){this._doc=t}}const Ka="ng-app-id";let Gr=(()=>{class n{constructor(e,i,r,c={}){this.doc=e,this.appId=i,this.nonce=r,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=oo(c),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(r=>r.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Ka}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(e,i){const r=this.styleRef;if(r.has(e)){const c=r.get(e);return c.usage+=i,c.usage}return r.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const r=this.styleNodesInDOM,c=r?.get(i);if(c?.parentNode===e)return r.delete(i),c.removeAttribute(Ka),c;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=i,this.platformIsServer&&d.setAttribute(Ka,this.appId),e.appendChild(d),d}}addStyleToHost(e,i){const r=this.getStyleElement(e,i),c=this.styleRef,d=c.get(i)?.elements;d?d.push(r):c.set(i,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Se),a.KVO(a.sZ2),a.KVO(a.BIS,8),a.KVO(a.Agw))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();const wm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Im=/%COMP%/g,hS=new a.nKC("",{providedIn:"root",factory:()=>!0});function vh(n,t){return t.map(e=>e.replace(Im,n))}let C0=(()=>{class n{constructor(e,i,r,c,d,f,p,w=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=c,this.doc=d,this.platformId=f,this.ngZone=p,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=oo(f),this.defaultRenderer=new yh(e,d,p,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===a.gXe.ShadowDom&&(i={...i,encapsulation:a.gXe.Emulated});const r=this.getOrCreateRenderer(e,i);return r instanceof A0?r.applyToHost(e):r instanceof Ea&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let c=r.get(i.id);if(!c){const d=this.doc,f=this.ngZone,p=this.eventManager,w=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(i.encapsulation){case a.gXe.Emulated:c=new A0(p,w,i,this.appId,A,d,f,R);break;case a.gXe.ShadowDom:return new bh(p,w,e,i,d,f,this.nonce,R);default:c=new Ea(p,w,i,A,d,f,R)}r.set(i.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Ir),a.KVO(Gr),a.KVO(a.sZ2),a.KVO(hS),a.KVO(Se),a.KVO(a.Agw),a.KVO(a.SKi),a.KVO(a.BIS))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();class yh{constructor(t,e,i,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(wm[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Tm(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Tm(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new a.wOt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const c=wm[r];c?t.setAttributeNS(c,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wm[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.czy.DashCase|a.czy.Important)?t.style.setProperty(e,i,r&a.czy.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.czy.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){null!=t&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=X().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Tm(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bh extends yh{constructor(t,e,i,r,c,d,f,p){super(t,c,d,p),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=vh(r.id,r.styles);for(const A of w){const R=document.createElement("style");f&&R.setAttribute("nonce",f),R.textContent=A,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ea extends yh{constructor(t,e,i,r,c,d,f,p){super(t,c,d,f),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=p?vh(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class A0 extends Ea{constructor(t,e,i,r,c,d,f,p){const w=r+"-"+i.id;super(t,e,i,c,d,f,p,w),this.contentAttr=function d_(n){return"_ngcontent-%COMP%".replace(Im,n)}(w),this.hostAttr=function T0(n){return"_nghost-%COMP%".replace(Im,n)}(w)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let h_=(()=>{class n extends Nr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Se))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})(),Cm=(()=>{class n extends Nr{constructor(e){super(e),this.delegate=(0,a.WQX)(a.zAP,{optional:!0})}supports(e){return!!this.delegate&&this.delegate.supports(e)}addEventListener(e,i,r){return this.delegate.addEventListener(e,i,r)}removeEventListener(e,i,r){return this.delegate.removeEventListener(e,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Se))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();const D0=["alt","control","meta","shift"],f_={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sm={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $s=(()=>{class n extends Nr{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const c=n.parseEventName(i),d=n.eventCallback(c.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>X().onAndCancel(e,c.domEventName,d))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const c=n._normalizeKey(i.pop());let d="",f=i.indexOf("code");if(f>-1&&(i.splice(f,1),d="code."),D0.forEach(w=>{const A=i.indexOf(w);A>-1&&(i.splice(A,1),d+=w+".")}),d+=c,0!=i.length||0===c.length)return null;const p={};return p.domEventName=r,p.fullKey=d,p}static matchEventFullKeyCode(e,i){let r=f_[e.key]||e.key,c="";return i.indexOf("code.")>-1&&(r=e.code,c="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),D0.forEach(d=>{d!==r&&(0,Sm[d])(e)&&(c+=d+".")}),c+=r,c===i)}static eventCallback(e,i,r){return c=>{n.matchEventFullKeyCode(c,e)&&r.runGuarded(()=>i(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Se))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();function Am(n){return{appProviders:[...v_,...n?.providers??[]],platformProviders:M0}}const M0=[{provide:a.Agw,useValue:_m},{provide:a.PLl,useValue:function p_(){a_.makeCurrent()},multi:!0},{provide:Se,useFactory:function x0(){return(0,a.TL$)(document),document},deps:[]}],v_=[{provide:a.H8p,useValue:"root"},{provide:a.zcH,useFactory:function $l(){return new a.zcH},deps:[]},{provide:Bn,useClass:h_,multi:!0,deps:[Se,a.SKi,a.Agw]},{provide:Bn,useClass:$s,multi:!0,deps:[Se]},{provide:Bn,useClass:Cm,multi:!0},C0,Gr,Ir,{provide:a._9s,useExisting:C0},{provide:class ch{},useClass:u_,deps:[]},[]];let R0=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Se))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:function(i){let r=null;return r=i?new(i||n):a.KVO(C),r},providedIn:"root"})}return n})(),C=(()=>{class n extends b{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.WPN.NONE:return i;case a.WPN.HTML:return(0,a.ZF7)(i,"HTML")?(0,a.rcV)(i):(0,a.h9k)(this._doc,String(i)).toString();case a.WPN.STYLE:return(0,a.ZF7)(i,"Style")?(0,a.rcV)(i):i;case a.WPN.SCRIPT:if((0,a.ZF7)(i,"Script"))return(0,a.rcV)(i);throw new a.wOt(5200,!1);case a.WPN.URL:return(0,a.ZF7)(i,"URL")?(0,a.rcV)(i):(0,a.$MX)(String(i));case a.WPN.RESOURCE_URL:if((0,a.ZF7)(i,"ResourceURL"))return(0,a.rcV)(i);throw new a.wOt(5201,!1);default:throw new a.wOt(5202,!1)}}bypassSecurityTrustHtml(e){return(0,a.Kcf)(e)}bypassSecurityTrustStyle(e){return(0,a.cWb)(e)}bypassSecurityTrustScript(e){return(0,a.UyX)(e)}bypassSecurityTrustUrl(e){return(0,a.osQ)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.e5t)(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Se))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Dt="primary",Jt=Symbol("RouteTitle");class pn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Mn(n){return new pn(n)}function Jn(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let c=0;c<i.length;c++){const d=i[c],f=n[c];if(":"===d[0])r[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ti(n,t){const e=n?Fo(n):void 0,i=t?Fo(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let c=0;c<e.length;c++)if(r=e[c],!Pi(n[r],t[r]))return!1;return!0}function Fo(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Pi(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,c)=>i[c]===r)}return n===t}function co(n){return n.length>0?n[n.length-1]:null}function ar(n){return function lt(n){return!!n&&(n instanceof J.c||(0,Ce.T)(n.lift)&&(0,Ce.T)(n.subscribe))}(n)?n:(0,a.jNT)(n)?(0,Be.H)(Promise.resolve(n)):Y(n)}const dn={exact:function il(n,t,e){if(!Eo(n.segments,t.segments)||!Ai(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!il(n.children[i],t.children[i],e))return!1;return!0},subset:$i},wh={exact:function Zo(n,t){return Ti(n,t)},subset:function gc(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Pi(n[e],t[e]))},ignored:()=>!0};function Lo(n,t,e){return dn[e.paths](n.root,t.root,e.matrixParams)&&wh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function $i(n,t,e){return rl(n,t,t.segments,e)}function rl(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Eo(r,e)||t.hasChildren()||!Ai(r,e,i))}if(n.segments.length===e.length){if(!Eo(n.segments,e)||!Ai(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!$i(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(Eo(n.segments,r)&&Ai(n.segments,r,i)&&n.children[Dt])&&rl(n.children[Dt],t,c,i)}}function Ai(n,t,e){return t.every((i,r)=>wh[e](n[r].parameters,i.parameters))}class Ni{constructor(t=new Ci([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Mn(this.queryParams),this._queryParamMap}toString(){return F0.serialize(this)}}class Ci{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Rm(this)}}class qa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Mn(this.parameters),this._parameterMap}toString(){return Sk(this)}}function Eo(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Ih=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>new E_,providedIn:"root"})}return n})();class E_{parse(t){const e=new K3(t);return new Ni(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Pm(t.root,!0)}`,i=function j3(n){const t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(r=>`${L0(e)}=${L0(r)}`).join("&"):`${L0(e)}=${L0(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function B3(n){return encodeURI(n)}(t.fragment)}`:""}`}}const F0=new E_;function Rm(n){return n.segments.map(t=>Sk(t)).join("/")}function Pm(n,t){if(!n.hasChildren())return Rm(n);if(t){const e=n.children[Dt]?Pm(n.children[Dt],!1):"",i=[];return Object.entries(n.children).forEach(([r,c])=>{r!==Dt&&i.push(`${r}:${Pm(c,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Mm(n,t){let e=[];return Object.entries(n.children).forEach(([i,r])=>{i===Dt&&(e=e.concat(t(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Dt&&(e=e.concat(t(r,i)))}),e}(n,(i,r)=>r===Dt?[Pm(n.children[Dt],!1)]:[`${r}:${Pm(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Dt]?`${Rm(n)}/${e[0]}`:`${Rm(n)}/(${e.join("//")})`}}function w_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function L0(n){return w_(n).replace(/%3B/gi,";")}function ES(n){return w_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function V0(n){return decodeURIComponent(n)}function Ck(n){return V0(n.replace(/\+/g,"%20"))}function Sk(n){return`${ES(n.path)}${function U3(n){return Object.entries(n).map(([t,e])=>`;${ES(t)}=${ES(e)}`).join("")}(n.parameters)}`}const H3=/^[^\/()?;#]+/;function wS(n){const t=n.match(H3);return t?t[0]:""}const $3=/^[^\/()?;=#]+/,IS=/^[^=?&#]+/,z3=/^[^&#]+/;class K3{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ci([],{}):new Ci([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Dt]=new Ci(t,e)),i}parseSegment(){const t=wS(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.wOt(4009,!1);return this.capture(t),new qa(V0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function G3(n){const t=n.match($3);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=wS(this.remaining);r&&(i=r,this.capture(i))}t[V0(e)]=V0(i)}parseQueryParam(t){const e=function TS(n){const t=n.match(IS);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const d=function W3(n){const t=n.match(z3);return t?t[0]:""}(this.remaining);d&&(i=d,this.capture(i))}const r=Ck(e),c=Ck(i);if(t.hasOwnProperty(r)){let d=t[r];Array.isArray(d)||(d=[d],t[r]=d),d.push(c)}else t[r]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=wS(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.wOt(4010,!1);let c;i.indexOf(":")>-1?(c=i.slice(0,i.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=Dt);const d=this.parseChildren();e[c]=1===Object.keys(d).length?d[Dt]:new Ci([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.wOt(4011,!1)}}function Ak(n){return n.segments.length>0?new Ci([],{[Dt]:n}):n}function CS(n){const t={};for(const[i,r]of Object.entries(n.children)){const c=CS(r);if(i===Dt&&0===c.segments.length&&c.hasChildren())for(const[d,f]of Object.entries(c.children))t[d]=f;else(c.segments.length>0||c.hasChildren())&&(t[i]=c)}return function SS(n){if(1===n.numberOfChildren&&n.children[Dt]){const t=n.children[Dt];return new Ci(n.segments.concat(t.segments),t.children)}return n}(new Ci(n.segments,t))}function ol(n){return n instanceof Ni}function DS(n){let t;const r=Ak(function e(c){const d={};for(const p of c.children){const w=e(p);d[p.outlet]=w}const f=new Ci(c.url,d);return c===n&&(t=f),f}(n.root));return t??r}function xS(n,t,e,i){let r=n;for(;r.parent;)r=r.parent;if(0===t.length)return B0(r,r,r,e,i);const c=function _c(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new MS(!0,0,n);let t=0,e=!1;const i=n.reduce((r,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return Object.entries(c.outlets).forEach(([p,w])=>{f[p]="string"==typeof w?w.split("/"):w}),[...r,{outlets:f}]}if(c.segmentPath)return[...r,c.segmentPath]}return"string"!=typeof c?[...r,c]:0===d?(c.split("/").forEach((f,p)=>{0==p&&"."===f||(0==p&&""===f?e=!0:".."===f?t++:""!=f&&r.push(f))}),r):[...r,c]},[]);return new MS(e,t,i)}(t);if(c.toRoot())return B0(r,r,new Ci([],{}),e,i);const d=function RS(n,t,e){if(n.isAbsolute)return new Om(t,!0,0);if(!e)return new Om(t,!1,NaN);if(null===e.parent)return new Om(e,!0,0);const i=km(n.commands[0])?0:1;return function ai(n,t,e){let i=n,r=t,c=e;for(;c>r;){if(c-=r,i=i.parent,!i)throw new a.wOt(4005,!1);r=i.segments.length}return new Om(i,!1,r-c)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(c,r,n),f=d.processChildren?zr(d.segmentGroup,d.index,c.commands):Ch(d.segmentGroup,d.index,c.commands);return B0(r,d.segmentGroup,f,e,i)}function km(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Th(n){return"object"==typeof n&&null!=n&&n.outlets}function B0(n,t,e,i,r){let d,c={};i&&Object.entries(i).forEach(([p,w])=>{c[p]=Array.isArray(w)?w.map(A=>`${A}`):`${w}`}),d=n===t?e:I_(n,t,e);const f=Ak(CS(d));return new Ni(f,c,r)}function I_(n,t,e){const i={};return Object.entries(n.children).forEach(([r,c])=>{i[r]=c===t?e:I_(c,t,e)}),new Ci(n.segments,i)}class MS{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&km(i[0]))throw new a.wOt(4003,!1);const r=i.find(Th);if(r&&r!==co(i))throw new a.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Om{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Ch(n,t,e){if(n??=new Ci([],{}),0===n.segments.length&&n.hasChildren())return zr(n,t,e);const i=function Dk(n,t,e){let i=0,r=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return c;const d=n.segments[r],f=e[i];if(Th(f))break;const p=`${f}`,w=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&w&&"object"==typeof w&&void 0===w.outlets){if(!PS(p,w,d))return c;i+=2}else{if(!PS(p,{},d))return c;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const c=new Ci(n.segments.slice(0,i.pathIndex),{});return c.children[Dt]=new Ci(n.segments.slice(i.pathIndex),n.children),zr(c,0,r)}return i.match&&0===r.length?new Ci(n.segments,{}):i.match&&!n.hasChildren()?Wu(n,t,e):i.match?zr(n,0,r):Wu(n,t,e)}function zr(n,t,e){if(0===e.length)return new Ci(n.segments,{});{const i=function U0(n){return Th(n[0])?n[0].outlets:{[Dt]:n}}(e),r={};if(Object.keys(i).some(c=>c!==Dt)&&n.children[Dt]&&1===n.numberOfChildren&&0===n.children[Dt].segments.length){const c=zr(n.children[Dt],t,e);return new Ci(n.segments,c.children)}return Object.entries(i).forEach(([c,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(r[c]=Ch(n.children[c],t,d))}),Object.entries(n.children).forEach(([c,d])=>{void 0===i[c]&&(r[c]=d)}),new Ci(n.segments,r)}}function Wu(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const c=e[r];if(Th(c)){const p=Ku(c.outlets);return new Ci(i,p)}if(0===r&&km(e[0])){i.push(new qa(n.segments[t].path,bs(e[0]))),r++;continue}const d=Th(c)?c.outlets[Dt]:`${c}`,f=r<e.length-1?e[r+1]:null;d&&f&&km(f)?(i.push(new qa(d,bs(f))),r+=2):(i.push(new qa(d,{})),r++)}return new Ci(i,{})}function Ku(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=Wu(new Ci([],{}),0,i))}),t}function bs(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function PS(n,t,e){return n==e.path&&Ti(t,e.parameters)}const qu="imperative";var ei=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ei||{});class Cr{constructor(t,e){this.id=t,this.url=e}}class Nm extends Cr{constructor(t,e,i="imperative",r=null){super(t,e),this.type=ei.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vc extends Cr{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=ei.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Es=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Es||{}),zl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(zl||{});class sl extends Cr{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=ei.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class al extends Cr{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=ei.NavigationSkipped}}class Sh extends Cr{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=ei.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class T_ extends Cr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cl extends Cr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Dn extends Cr{constructor(t,e,i,r,c){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=c,this.type=ei.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class C_ extends Cr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class j0 extends Cr{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=ei.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kS{constructor(t){this.route=t,this.type=ei.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class q3{constructor(t){this.route=t,this.type=ei.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xk{constructor(t){this.snapshot=t,this.type=ei.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mk{constructor(t){this.snapshot=t,this.type=ei.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rk{constructor(t){this.snapshot=t,this.type=ei.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OS{constructor(t){this.snapshot=t,this.type=ei.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wl{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=ei.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class H0{}class S_{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function Sr(n){return n.outlet||Dt}function Xu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class LS{get injector(){return Xu(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new A_(this.rootInjector),this.attachRef=null}}let A_=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new LS(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(a.uvJ))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Ok{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=D_(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=D_(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=x_(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return x_(t,this._root).map(e=>e.value)}}function D_(n,t){if(n===t.value)return t;for(const e of t.children){const i=D_(n,e);if(i)return i}return null}function x_(n,t){if(n===t.value)return[t];for(const e of t.children){const i=x_(n,e);if(i.length)return i.unshift(t),i}return[]}class wa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fr(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class yc extends Ok{constructor(t,e){super(t),this.snapshot=e,z0(this,t)}toString(){return this.snapshot.toString()}}function G0(n){const t=function Xa(n){const c=new Lm([],{},{},"",{},Dt,n,null,{});return new VS("",new wa(c,[]))}(n),e=new Me.t([new qa("",{})]),i=new Me.t({}),r=new Me.t({}),c=new Me.t({}),d=new Me.t(""),f=new ws(e,i,c,d,r,Dt,n,t.root);return f.snapshot=t.root,new yc(new wa(f,[]),t)}class ws{constructor(t,e,i,r,c,d,f,p){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=c,this.outlet=d,this.component=f,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,De.T)(w=>w[Jt]))??Y(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,De.T)(t=>Mn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,De.T)(t=>Mn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function M_(n,t,e="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===t||"always"!==e&&""!==r?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...r?.data,...n._resolvedData}},r&&Um(r)&&(i.resolve[Jt]=r.title),i}class Lm{get title(){return this.data?.[Jt]}constructor(t,e,i,r,c,d,f,p,w){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=c,this.outlet=d,this.component=f,this.routeConfig=p,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Mn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Mn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VS extends Ok{constructor(t,e){super(e),this.url=t,z0(this,e)}toString(){return R_(this._root)}}function z0(n,t){t.value._routerState=n,t.children.forEach(e=>z0(n,e))}function R_(n){const t=n.children.length>0?` { ${n.children.map(R_).join(", ")} } `:"";return`${n.value}${t}`}function Vm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ti(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ti(t.params,e.params)||n.paramsSubject.next(e.params),function yi(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ti(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ti(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Bm(n,t){const e=Ti(n.params,t.params)&&function b_(n,t){return Eo(n,t)&&n.every((e,i)=>Ti(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Bm(n.parent,t.parent))}function Um(n){return"string"==typeof n.title||null===n.title}let jm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Dt,this.activateEvents=new a.bkB,this.deactivateEvents=new a.bkB,this.attachEvents=new a.bkB,this.detachEvents=new a.bkB,this.parentContexts=(0,a.WQX)(A_),this.location=(0,a.WQX)(a.c1b),this.changeDetector=(0,a.WQX)(a.gRc),this.inputBinder=(0,a.WQX)(Ah,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new a.wOt(4013,!1);this._activatedRoute=e;const r=this.location,d=e.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,p=new P_(e,f,r.injector);this.activated=r.createComponent(d,{index:r.length,injector:p,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.OA$]})}return n})();class P_{__ngOutletInjector(t){return new P_(this.route,this.childContexts,t)}constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ws?this.route:t===A_?this.childContexts:this.parent.get(t,e)}}const Ah=new a.nKC("");let W0=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,r=ue([i.queryParams,i.params,i.data]).pipe(pr(([c,d,f],p)=>(f={...c,...d,...f},0===p?Y(f):Promise.resolve(f)))).subscribe(c=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const d=(0,a.HJs)(i.component);if(d)for(const{templateName:f}of d.inputs)e.activatedComponentRef.setInput(f,c[f]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();function Dh(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function US(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Dh(n,i,r);return Dh(n,i)})}(n,t,e);return new wa(i,r)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(f=>Dh(n,f)),d}}const i=function K0(n){return new ws(new Me.t(n.url),new Me.t(n.params),new Me.t(n.queryParams),new Me.t(n.fragment),new Me.t(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(c=>Dh(n,c));return new wa(i,r)}}class q0{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const lo="ngNavigationCancelingError";function bc(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=ol(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Fi(!1,Es.Redirect);return r.url=e,r.navigationBehaviorOptions=i,r}function Fi(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[lo]=!0,e.cancellationCode=t,e}function HS(n){return!!n&&n[lo]}class $S{constructor(t,e,i,r,c){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=c}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Vm(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Fr(e);t.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,r[d],i),delete r[d]}),Object.values(r).forEach(c=>{this.deactivateRouteAndItsChildren(c,i)})}deactivateRoutes(t,e,i){const r=t.value,c=e?e.value:null;if(r===c)if(r.component){const d=i.getContext(r.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,i);else c&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,c=Fr(t);for(const d of Object.values(c))this.deactivateRouteAndItsChildren(d,r);if(i&&i.outlet){const d=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,c=Fr(t);for(const d of Object.values(c))this.deactivateRouteAndItsChildren(d,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const r=Fr(e);t.children.forEach(c=>{this.activateRoutes(c,r[c.value.outlet],i),this.forwardEvent(new OS(c.value.snapshot))}),t.children.length&&this.forwardEvent(new Mk(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,c=e?e.value:null;if(Vm(r),r===c)if(r.component){const d=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const d=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),Vm(f.route.value),this.activateChildRoutes(t,null,d.children)}else d.attachRef=null,d.route=r,d.outlet&&d.outlet.activateWith(r,d.injector),this.activateChildRoutes(t,null,d.children)}else this.activateChildRoutes(t,null,i)}}class X0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Kl{constructor(t,e){this.component=t,this.route=e}}function Ec(n,t,e){const i=n._root;return ql(i,t?t._root:null,e,[i.value])}function ll(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,a.LfX)(n)?t.get(n):n:i}function ql(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const c=Fr(t);return n.children.forEach(d=>{(function k_(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const p=function Q0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Eo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Eo(n.url,t.url)||!Ti(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bm(n,t)||!Ti(n.queryParams,t.queryParams);default:return!Bm(n,t)}}(d,c,c.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new X0(i)):(c.data=d.data,c._resolvedData=d._resolvedData),ql(n,t,c.component?f?f.children:null:e,i,r),p&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Kl(f.outlet.component,d))}else d&&xh(t,f,r),r.canActivateChecks.push(new X0(i)),ql(n,null,c.component?f?f.children:null:e,i,r)})(d,c[d.value.outlet],e,i.concat([d.value]),r),delete c[d.value.outlet]}),Object.entries(c).forEach(([d,f])=>xh(f,e.getContext(d),r)),r}function xh(n,t,e){const i=Fr(n),r=n.value;Object.entries(i).forEach(([c,d])=>{xh(d,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Kl(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Mh(n){return"function"==typeof n}function zS(n){return n instanceof Ct.G||"EmptyError"===n?.name}const O_=Symbol("INITIAL_VALUE");function $m(){return pr(n=>ue(n.map(t=>t.pipe(Xi(1),(0,bo.Z)(O_)))).pipe((0,De.T)(t=>{for(const e of t)if(!0!==e){if(e===O_)return O_;if(!1===e||Y3(e))return e}return!0}),(0,kn.p)(t=>t!==O_),Xi(1)))}function Y3(n){return ol(n)||n instanceof q0}function Hk(n){return(0,mn.F)(_i(t=>{if("boolean"!=typeof t)throw bc(0,t)}),(0,De.T)(t=>!0===t))}class F_{constructor(t){this.segmentGroup=t||null}}class L_ extends Error{constructor(t){super(),this.urlTree=t}}function Jo(n){return Rn(new F_(n))}class KS{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Y(i);if(r.numberOfChildren>1||!r.children[Dt])return Rn(new a.wOt(4e3,!1));r=r.children[Dt]}}applyRedirectCommands(t,e,i,r,c){if("string"!=typeof e){const f=e,{queryParams:p,fragment:w,routeConfig:A,url:R,outlet:U,params:K,data:me,title:fe}=r,he=(0,a.N4e)(c,()=>f({params:K,data:me,queryParams:p,fragment:w,routeConfig:A,url:R,outlet:U,title:fe}));if(he instanceof Ni)throw new L_(he);e=he}const d=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i);if("/"===e[0])throw new L_(d);return d}applyRedirectCreateUrlTree(t,e,i,r){const c=this.createSegmentGroup(t,e.root,i,r);return new Ni(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([r,c])=>{if("string"==typeof c&&":"===c[0]){const f=c.substring(1);i[r]=e[f]}else i[r]=c}),i}createSegmentGroup(t,e,i,r){const c=this.createSegments(t,e.segments,i,r);let d={};return Object.entries(e.children).forEach(([f,p])=>{d[f]=this.createSegmentGroup(t,p,i,r)}),new Ci(c,d)}createSegments(t,e,i,r){return e.map(c=>":"===c.path[0]?this.findPosParam(t,c,r):this.findOrReturn(c,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new a.wOt(4001,!1);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}const Ph={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function nE(n,t,e,i,r){const c=iE(n,t,e);return c.matched?(i=function Pk(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.Ol2)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function WS(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Y(r.map(d=>{const f=ll(d,n);return ar(function GS(n){return n&&Mh(n.canMatch)}(f)?f.canMatch(t,e):(0,a.N4e)(n,()=>f(t,e)))})).pipe($m(),Hk()):Y(!0)}(i,t,e).pipe((0,De.T)(d=>!0===d?c:{...Ph}))):Y(c)}function iE(n,t,e){if("**"===t.path)return function qS(n){return{matched:!0,parameters:n.length>0?co(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Ph}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Jn)(e,n,t);if(!r)return{...Ph};const c={};Object.entries(r.posParams??{}).forEach(([f,p])=>{c[f]=p.path});const d=r.consumed.length>0?{...c,...r.consumed[r.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:d,positionalParamSegments:r.posParams??{}}}function rE(n,t,e,i){return e.length>0&&function $k(n,t,e){return e.some(i=>wc(n,t,i)&&Sr(i)!==Dt)}(n,e,i)?{segmentGroup:new Ci(t,QS(i,new Ci(e,n.children))),slicedSegments:[]}:0===e.length&&function B_(n,t,e){return e.some(i=>wc(n,t,i))}(n,e,i)?{segmentGroup:new Ci(n.segments,XS(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Ci(n.segments,n.children),slicedSegments:e}}function XS(n,t,e,i){const r={};for(const c of e)if(wc(n,t,c)&&!i[Sr(c)]){const d=new Ci([],{});r[Sr(c)]=d}return{...i,...r}}function QS(n,t){const e={};e[Dt]=t;for(const i of n)if(""===i.path&&Sr(i)!==Dt){const r=new Ci([],{});e[Sr(i)]=r}return e}function wc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class ZS{}class Wr{constructor(t,e,i,r,c,d,f){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=r,this.urlTree=c,this.paramsInheritanceStrategy=d,this.urlSerializer=f,this.applyRedirects=new KS(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new a.wOt(4002,`'${t.segmentGroup}'`)}recognize(){const t=rE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe((0,De.T)(({children:e,rootSnapshot:i})=>{const r=new wa(i,e),c=new VS("",r),d=function AS(n,t,e=null,i=null){return xS(DS(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(d),{state:c,tree:d}}))}match(t){const e=new Lm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Dt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,Dt,e).pipe((0,De.T)(i=>({children:i,rootSnapshot:e})),Hl(i=>{if(i instanceof L_)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof F_?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,r,c){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i,c):this.processSegment(t,e,i,i.segments,r,!0,c).pipe((0,De.T)(d=>d instanceof wa?[d]:[]))}processChildren(t,e,i,r){const c=[];for(const d of Object.keys(i.children))"primary"===d?c.unshift(d):c.push(d);return(0,Be.H)(c).pipe(Gu(d=>{const f=i.children[d],p=function $0(n,t){const e=n.filter(i=>Sr(i)===t);return e.push(...n.filter(i=>Sr(i)!==t)),e}(e,d);return this.processSegmentGroup(t,p,f,d,r)}),function lS(n,t){return(0,se.N)(function b0(n,t,e,i,r){return(c,d)=>{let f=e,p=t,w=0;c.subscribe((0,Qe._)(d,A=>{const R=w++;p=f?n(p,A,R):(f=!0,A),i&&d.next(p)},r&&(()=>{f&&d.next(p),d.complete()})))}}(n,t,arguments.length>=2,!0))}((d,f)=>(d.push(...f),d)),dh(null),function Yo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?(0,kn.p)((r,c)=>n(r,c,i)):Fe.D,hh(1),e?dh(t):o_(()=>new Ct.G))}(),(0,Or.Z)(d=>{if(null===d)return Jo(i);const f=U_(d);return function zk(n){n.sort((t,e)=>t.value.outlet===Dt?-1:e.value.outlet===Dt?1:t.value.outlet.localeCompare(e.value.outlet))}(f),Y(f)}))}processSegment(t,e,i,r,c,d,f){return(0,Be.H)(e).pipe(Gu(p=>this.processSegmentAgainstRoute(p._injector??t,e,p,i,r,c,d,f).pipe(Hl(w=>{if(w instanceof F_)return Y(null);throw w}))),nl(p=>!!p),Hl(p=>{if(zS(p))return function YS(n,t,e){return 0===t.length&&!n.children[e]}(i,r,c)?Y(new ZS):Jo(i);throw p}))}processSegmentAgainstRoute(t,e,i,r,c,d,f,p){return function Gk(n,t,e,i){return!!(Sr(n)===i||i!==Dt&&wc(t,e,n))&&iE(t,n,e).matched}(i,r,c,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,r,i,c,d,p):this.allowRedirects&&f?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,i,c,d,p):Jo(r):Jo(r)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,c,d,f){const{matched:p,parameters:w,consumedSegments:A,positionalParamSegments:R,remainingSegments:U}=iE(e,r,c);if(!p)return Jo(e);"string"==typeof r.redirectTo&&"/"===r.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const K=new Lm(c,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oE(r),Sr(r),r.component??r._loadedComponent??null,r,Wm(r)),me=M_(K,f,this.paramsInheritanceStrategy);K.params=Object.freeze(me.params),K.data=Object.freeze(me.data);const fe=this.applyRedirects.applyRedirectCommands(A,r.redirectTo,R,K,t);return this.applyRedirects.lineralizeSegments(r,fe).pipe((0,Or.Z)(he=>this.processSegment(t,i,e,he.concat(U),d,!1,f)))}matchSegmentAgainstRoute(t,e,i,r,c,d){const f=nE(e,i,r,t);return"**"===i.path&&(e.children={}),f.pipe(pr(p=>p.matched?this.getChildConfig(t=i._injector??t,i,r).pipe(pr(({routes:w})=>{const A=i._loadedInjector??t,{parameters:R,consumedSegments:U,remainingSegments:K}=p,me=new Lm(U,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,oE(i),Sr(i),i.component??i._loadedComponent??null,i,Wm(i)),fe=M_(me,d,this.paramsInheritanceStrategy);me.params=Object.freeze(fe.params),me.data=Object.freeze(fe.data);const{segmentGroup:he,slicedSegments:ht}=rE(e,U,K,w);if(0===ht.length&&he.hasChildren())return this.processChildren(A,w,he,me).pipe((0,De.T)(Et=>new wa(me,Et)));if(0===w.length&&0===ht.length)return Y(new wa(me,[]));const vt=Sr(i)===c;return this.processSegment(A,w,he,ht,vt?Dt:c,!0,me).pipe((0,De.T)(Et=>new wa(me,Et instanceof wa?[Et]:[])))})):Jo(e)))}getChildConfig(t,e,i){return e.children?Y({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Y({routes:e._loadedRoutes,injector:e._loadedInjector}):function N_(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Y(!0):Y(r.map(d=>{const f=ll(d,n);return ar(function Rh(n){return n&&Mh(n.canLoad)}(f)?f.canLoad(t,e):(0,a.N4e)(n,()=>f(t,e)))})).pipe($m(),Hk())}(t,e,i).pipe((0,Or.Z)(r=>r?this.configLoader.loadChildren(t,e).pipe(_i(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function tE(n){return Rn(Fi(!1,Es.GuardRejected))}())):Y({routes:[],injector:t})}}function JS(n){const t=n.value.routeConfig;return t&&""===t.path}function U_(n){const t=[],e=new Set;for(const i of n){if(!JS(i)){t.push(i);continue}const r=t.find(c=>i.value.routeConfig===c.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=U_(i.children);t.push(new wa(i.value,r))}return t.filter(i=>!e.has(i))}function oE(n){return n.data||{}}function Wm(n){return n.resolve||{}}function j_(n){const t=n.children.map(e=>j_(e)).flat();return[n,...t]}function sE(n){return pr(t=>{const e=n(t);return e?(0,Be.H)(e).pipe((0,De.T)(()=>t)):Y(t)})}let nA=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(c=>c.outlet===Dt);return i}getResolvedTitleForRoute(e){return e.data[Jt]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(iA),providedIn:"root"})}return n})(),iA=(()=>{class n extends nA{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(R0))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Nh=new a.nKC("",{providedIn:"root",factory:()=>({})});let aE=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.aNF],decls:1,vars:0,template:function(i,r){1&i&&a.nrm(0,"router-outlet")},dependencies:[jm],encapsulation:2})}return n})();function cE(n){const t=n.children&&n.children.map(cE),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Dt&&(e.component=aE),e}const Fh=new a.nKC("");let rA=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.WQX)(a.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Y(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=ar(e.loadComponent()).pipe((0,De.T)(Lr),_i(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),fh(()=>{this.componentLoaders.delete(e)})),r=new W(i,()=>new B.B).pipe(be());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=function oA(n,t,e,i){return ar(n.loadChildren()).pipe((0,De.T)(Lr),(0,Or.Z)(r=>r instanceof a.Co$||Array.isArray(r)?Y(r):(0,Be.H)(t.compileModuleAsync(r))),(0,De.T)(r=>{i&&i(n);let c,d,f=!1;return Array.isArray(r)?(d=r,!0):(c=r.create(e).injector,d=c.get(Fh,[],{optional:!0,self:!0}).flat()),{routes:d.map(cE),injector:c}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(fh(()=>{this.childrenLoaders.delete(i)})),d=new W(c,()=>new B.B).pipe(be());return this.childrenLoaders.set(i,d),d}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Lr(n){return function sA(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let aA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(qk),providedIn:"root"})}return n})(),qk=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Xk=new a.nKC(""),lE=new a.nKC("");function eH(n,t,e){const i=n.get(lE),r=n.get(Se);return n.get(a.SKi).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(w=>setTimeout(w));let c;const d=new Promise(w=>{c=w}),f=r.startViewTransition(()=>(c(),function uE(n){return new Promise(t=>{(0,a.mal)({read:()=>setTimeout(t)},{injector:n})})}(n))),{onViewTransitionCreated:p}=i;return p&&(0,a.N4e)(n,()=>p({transition:f,from:t,to:e})),d})}const Ia=new a.nKC("");let Km=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new B.B,this.transitionAbortSubject=new B.B,this.configLoader=(0,a.WQX)(rA),this.environmentInjector=(0,a.WQX)(a.uvJ),this.urlSerializer=(0,a.WQX)(Ih),this.rootContexts=(0,a.WQX)(A_),this.location=(0,a.WQX)(Nn),this.inputBindingEnabled=null!==(0,a.WQX)(Ah,{optional:!0}),this.titleStrategy=(0,a.WQX)(nA),this.options=(0,a.WQX)(Nh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,a.WQX)(aA),this.createViewTransition=(0,a.WQX)(Xk,{optional:!0}),this.navigationErrorHandler=(0,a.WQX)(Ia,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new q3(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new kS(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,r){return this.transitions=new Me.t({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:qu,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,kn.p)(c=>0!==c.id),(0,De.T)(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),pr(c=>{let d=!1,f=!1;return Y(c).pipe(pr(p=>{if(this.navigationId>c.id)return this.cancelNavigationTransition(c,"",Es.SupersededByNewNavigation),Ge.w;this.currentTransition=c,this.currentNavigation={id:p.id,initialUrl:p.rawUrl,extractedUrl:p.extractedUrl,targetBrowserUrl:"string"==typeof p.extras.browserUrl?this.urlSerializer.parse(p.extras.browserUrl):p.extras.browserUrl,trigger:p.source,extras:p.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const w=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!w&&"reload"!==(p.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const R="";return this.events.next(new al(p.id,this.urlSerializer.serialize(p.rawUrl),R,zl.IgnoredSameUrlNavigation)),p.resolve(!1),Ge.w}if(this.urlHandlingStrategy.shouldProcessUrl(p.rawUrl))return Y(p).pipe(pr(R=>{const U=this.transitions?.getValue();return this.events.next(new Nm(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),U!==this.transitions?.getValue()?Ge.w:Promise.resolve(R)}),function Wk(n,t,e,i,r,c){return(0,Or.Z)(d=>function kh(n,t,e,i,r,c,d="emptyOnly"){return new Wr(n,t,e,i,r,d,c).recognize()}(n,t,e,i,d.extractedUrl,r,c).pipe((0,De.T)(({state:f,tree:p})=>({...d,targetSnapshot:f,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),_i(R=>{c.targetSnapshot=R.targetSnapshot,c.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const U=new T_(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(U)}));if(w&&this.urlHandlingStrategy.shouldProcessUrl(p.currentRawUrl)){const{id:R,extractedUrl:U,source:K,restoredState:me,extras:fe}=p,he=new Nm(R,this.urlSerializer.serialize(U),K,me);this.events.next(he);const ht=G0(this.rootComponentType).snapshot;return this.currentTransition=c={...p,targetSnapshot:ht,urlAfterRedirects:U,extras:{...fe,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=U,Y(c)}{const R="";return this.events.next(new al(p.id,this.urlSerializer.serialize(p.extractedUrl),R,zl.IgnoredByUrlHandlingStrategy)),p.resolve(!1),Ge.w}}),_i(p=>{const w=new cl(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(w)}),(0,De.T)(p=>(this.currentTransition=c={...p,guards:Ec(p.targetSnapshot,p.currentSnapshot,this.rootContexts)},c)),function Z0(n,t){return(0,Or.Z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:c,canDeactivateChecks:d}}=e;return 0===d.length&&0===c.length?Y({...e,guardsResult:!0}):function Qu(n,t,e,i){return(0,Be.H)(n).pipe((0,Or.Z)(r=>function eE(n,t,e,i,r){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Y(c.map(f=>{const p=Xu(t)??r,w=ll(f,p);return ar(function Y0(n){return n&&Mh(n.canDeactivate)}(w)?w.canDeactivate(n,t,e,i):(0,a.N4e)(p,()=>w(n,t,e,i))).pipe(nl())})).pipe($m()):Y(!0)}(r.component,r.route,e,t,i)),nl(r=>!0!==r,!0))}(d,i,r,n).pipe((0,Or.Z)(f=>f&&function Vk(n){return"boolean"==typeof n}(f)?function J0(n,t,e,i){return(0,Be.H)(t).pipe(Gu(r=>(0,At.x)(function Uk(n,t){return null!==n&&t&&t(new xk(n)),Y(!0)}(r.route.parent,i),function Gm(n,t){return null!==n&&t&&t(new Rk(n)),Y(!0)}(r.route,i),function jk(n,t,e){const i=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(d=>function Lk(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>tn(()=>Y(d.guards.map(p=>{const w=Xu(d.node)??e,A=ll(p,w);return ar(function Bk(n){return n&&Mh(n.canActivateChild)}(A)?A.canActivateChild(i,n):(0,a.N4e)(w,()=>A(i,n))).pipe(nl())})).pipe($m())));return Y(c).pipe($m())}(n,r.path,e),function zm(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Y(!0);const r=i.map(c=>tn(()=>{const d=Xu(t)??e,f=ll(c,d);return ar(function Hm(n){return n&&Mh(n.canActivate)}(f)?f.canActivate(t,n):(0,a.N4e)(d,()=>f(t,n))).pipe(nl())}));return Y(r).pipe($m())}(n,r.route,e))),nl(r=>!0!==r,!0))}(i,c,n,t):Y(f)),(0,De.T)(f=>({...e,guardsResult:f})))})}(this.environmentInjector,p=>this.events.next(p)),_i(p=>{if(c.guardsResult=p.guardsResult,p.guardsResult&&"boolean"!=typeof p.guardsResult)throw bc(0,p.guardsResult);const w=new Dn(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot,!!p.guardsResult);this.events.next(w)}),(0,kn.p)(p=>!!p.guardsResult||(this.cancelNavigationTransition(p,"",Es.GuardRejected),!1)),sE(p=>{if(p.guards.canActivateChecks.length)return Y(p).pipe(_i(w=>{const A=new C_(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(A)}),pr(w=>{let A=!1;return Y(w).pipe(function eA(n,t){return(0,Or.Z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Y(e);const c=new Set(r.map(p=>p.route)),d=new Set;for(const p of c)if(!d.has(p))for(const w of j_(p))d.add(w);let f=0;return(0,Be.H)(d).pipe(Gu(p=>c.has(p)?function H_(n,t,e,i){const r=n.routeConfig,c=n._resolve;return void 0!==r?.title&&!Um(r)&&(c[Jt]=r.title),function tA(n,t,e,i){const r=Fo(n);if(0===r.length)return Y({});const c={};return(0,Be.H)(r).pipe((0,Or.Z)(d=>function Kk(n,t,e,i){const r=Xu(t)??i,c=ll(n,r);return ar(c.resolve?c.resolve(t,e):(0,a.N4e)(r,()=>c(t,e)))}(n[d],t,e,i).pipe(nl(),_i(f=>{if(f instanceof q0)throw bc(new E_,f);c[d]=f}))),hh(1),E0(c),Hl(d=>zS(d)?Ge.w:Rn(d)))}(c,n,t,i).pipe((0,De.T)(d=>(n._resolvedData=d,n.data=M_(n,n.parent,e).resolve,null)))}(p,i,n,t):(p.data=M_(p,p.parent,n).resolve,Y(void 0))),_i(()=>f++),hh(1),(0,Or.Z)(p=>f===d.size?Y(e):Ge.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),_i({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(w,"",Es.NoDataFromResolver)}}))}),_i(w=>{const A=new j0(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(A)}))}),sE(p=>{const w=A=>{const R=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(A.routeConfig).pipe(_i(U=>{A.component=U}),(0,De.T)(()=>{})));for(const U of A.children)R.push(...w(U));return R};return ue(w(p.targetSnapshot.root)).pipe(dh(null),Xi(1))}),sE(()=>this.afterPreactivation()),pr(()=>{const{currentSnapshot:p,targetSnapshot:w}=c,A=this.createViewTransition?.(this.environmentInjector,p.root,w.root);return A?(0,Be.H)(A).pipe((0,De.T)(()=>c)):Y(c)}),(0,De.T)(p=>{const w=function BS(n,t,e){const i=Dh(n,t._root,e?e._root:void 0);return new yc(i,t)}(e.routeReuseStrategy,p.targetSnapshot,p.currentRouterState);return this.currentTransition=c={...p,targetRouterState:w},this.currentNavigation.targetRouterState=w,c}),_i(()=>{this.events.next(new H0)}),((n,t,e,i)=>(0,De.T)(r=>(new $S(t,r.targetRouterState,r.currentRouterState,e,i).activate(n),r)))(this.rootContexts,e.routeReuseStrategy,p=>this.events.next(p),this.inputBindingEnabled),Xi(1),_i({next:p=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vc(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects))),this.titleStrategy?.updateTitle(p.targetRouterState.snapshot),p.resolve(!0)},complete:()=>{d=!0}}),vi(this.transitionAbortSubject.pipe(_i(p=>{throw p}))),fh(()=>{!d&&!f&&this.cancelNavigationTransition(c,"",Es.SupersededByNewNavigation),this.currentTransition?.id===c.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hl(p=>{if(f=!0,HS(p))this.events.next(new sl(c.id,this.urlSerializer.serialize(c.extractedUrl),p.message,p.cancellationCode)),function jS(n){return HS(n)&&ol(n.url)}(p)?this.events.next(new S_(p.url,p.navigationBehaviorOptions)):c.resolve(!1);else{const w=new Sh(c.id,this.urlSerializer.serialize(c.extractedUrl),p,c.targetSnapshot??void 0);try{const A=(0,a.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(w));if(A instanceof q0){const{message:R,cancellationCode:U}=bc(0,A);this.events.next(new sl(c.id,this.urlSerializer.serialize(c.extractedUrl),R,U)),this.events.next(new S_(A.redirectTo,A.navigationBehaviorOptions))}else{this.events.next(w);const R=e.errorHandler(p);c.resolve(!!R)}}catch(A){this.options.resolveNavigationPromiseOnError?c.resolve(!1):c.reject(A)}}return Ge.w}))}))}cancelNavigationTransition(e,i,r){const c=new sl(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(c),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function qm(n){return n!==qu}let Qk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(cA),providedIn:"root"})}return n})();class Yk{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let cA=(()=>{class n extends Yk{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zk=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(tH),providedIn:"root"})}return n})(),tH=(()=>{class n extends Zk{constructor(){super(...arguments),this.location=(0,a.WQX)(Nn),this.urlSerializer=(0,a.WQX)(Ih),this.options=(0,a.WQX)(Nh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,a.WQX)(aA),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ni,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=G0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{"popstate"===i.type&&e(i.url,i.state)})}handleRouterEvent(e,i){if(e instanceof Nm)this.stateMemento=this.createStateMemento();else if(e instanceof al)this.rawUrlTree=i.initialUrl;else if(e instanceof T_){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else e instanceof H0?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):e instanceof sl&&(e.code===Es.GuardRejected||e.code===Es.NoDataFromResolver)?this.restoreHistory(i):e instanceof Sh?this.restoreHistory(i,!0):e instanceof vc&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,i){const r=e instanceof Ni?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const d={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",d)}else{const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",c)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===e.finalUrl&&0===c&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var $_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}($_||{});function Jk(n,t){n.events.pipe((0,kn.p)(e=>e instanceof vc||e instanceof sl||e instanceof Sh||e instanceof al),(0,De.T)(e=>e instanceof vc||e instanceof al?$_.COMPLETE:e instanceof sl&&(e.code===Es.Redirect||e.code===Es.SupersededByNewNavigation)?$_.REDIRECTING:$_.FAILED),(0,kn.p)(e=>e!==$_.REDIRECTING),Xi(1)).subscribe(()=>{t()})}function nH(n){throw n}const eO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Lh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let gr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,a.WQX)(a.H3F),this.stateManager=(0,a.WQX)(Zk),this.options=(0,a.WQX)(Nh,{optional:!0})||{},this.pendingTasks=(0,a.WQX)(a.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,a.WQX)(Km),this.urlSerializer=(0,a.WQX)(Ih),this.location=(0,a.WQX)(Nn),this.urlHandlingStrategy=(0,a.WQX)(aA),this._events=new B.B,this.errorHandler=this.options.errorHandler||nH,this.navigated=!1,this.routeReuseStrategy=(0,a.WQX)(Qk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,a.WQX)(Fh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,a.WQX)(Ah,{optional:!0}),this.eventsSubscription=new ne.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(null!==r&&null!==c)if(this.stateManager.handleRouterEvent(i,c),i instanceof sl&&i.code!==Es.Redirect&&i.code!==Es.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof vc)this.navigated=!0;else if(i instanceof S_){const d=i.navigationBehaviorOptions,f=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),p={browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||"eager"===this.urlUpdateStrategy||qm(r.source),...d};this.scheduleNavigation(f,qu,null,p,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function Yu(n){return!(n instanceof H0||n instanceof S_)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",i)},0)})}navigateToSyncWithBrowser(e,i,r){const c={replaceUrl:!0},d=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(c.state=p)}const f=this.parseUrl(e);this.scheduleNavigation(f,i,d,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(cE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:r,queryParams:c,fragment:d,queryParamsHandling:f,preserveFragment:p}=i,w=p?this.currentUrlTree.fragment:d;let R,A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...c};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=c||null}null!==A&&(A=this.removeEmptyProps(A));try{R=DS(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),R=this.currentUrlTree.root}return xS(R,e,A,w??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=ol(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(c,qu,null,i)}navigate(e,i={skipLocationChange:!1}){return function lA(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new a.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let r;if(r=!0===i?{...eO}:!1===i?{...Lh}:i,ol(e))return Lo(this.currentUrlTree,e,r);const c=this.parseUrl(e);return Lo(this.currentUrlTree,c,r)}removeEmptyProps(e){return Object.entries(e).reduce((i,[r,c])=>(null!=c&&(i[r]=c),i),{})}scheduleNavigation(e,i,r,c,d){if(this.disposed)return Promise.resolve(!1);let f,p,w;d?(f=d.resolve,p=d.reject,w=d.promise):w=new Promise((R,U)=>{f=R,p=U});const A=this.pendingTasks.add();return Jk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:c,resolve:f,reject:p,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(R=>Promise.reject(R))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Is=(()=>{class n{constructor(e,i,r,c,d,f){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=c,this.el=d,this.locationStrategy=f,this.href=null,this.onChanges=new B.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const p=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=e.events.subscribe(w=>{w instanceof vc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null==e?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=ol(e)||Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,i,r,c,d){const f=this.urlTree;return!!(null===f||this.isAnchorElement&&(0!==e||i||r||c||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(f,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const i=null===this.href?null:(0,a.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(e,i){const r=this.renderer,c=this.el.nativeElement;null!==i?r.setAttribute(c,e,i):r.removeAttribute(c,e)}get urlTree(){return null===this.routerLinkInput?null:ol(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(gr),a.rXU(ws),a.kS0("tabindex"),a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(ln))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&a.bIt("click",function(d){return r.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&i&&a.BMQ("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",a.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",a.L39],replaceUrl:[2,"replaceUrl","replaceUrl",a.L39],routerLink:"routerLink"},standalone:!0,features:[a.GFd,a.OA$]})}return n})();class uA{}let nO=(()=>{class n{constructor(e,i,r,c,d){this.router=e,this.injector=r,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe((0,kn.p)(e=>e instanceof vc),Gu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const c of i){c.providers&&!c._injector&&(c._injector=(0,a.Ol2)(c.providers,e,`Route: ${c.path}`));const d=c._injector??e,f=c._loadedInjector??d;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&r.push(this.preloadConfig(d,c)),(c.children||c._loadedRoutes)&&r.push(this.processRoutes(f,c.children??c._loadedRoutes))}return(0,Be.H)(r).pipe((0,mh.U)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Y(null);const c=r.pipe((0,Or.Z)(d=>null===d?Y(void 0):(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(i.loadComponent&&!i._loadedComponent){const d=this.loader.loadComponent(i);return(0,Be.H)([c,d]).pipe((0,mh.U)())}return c})}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(gr),a.KVO(a.Ql9),a.KVO(a.uvJ),a.KVO(uA),a.KVO(rA))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const z_=new a.nKC("");let hE=(()=>{class n{constructor(e,i,r,c,d={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=c,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,a.WQX)(a.uvJ),d.scrollPositionRestoration||="disabled",d.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Nm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof vc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof al&&e.code===zl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Wl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){var r=this;this.zone.runOutsideAngular((0,D.A)(function*(){yield new Promise(c=>{setTimeout(()=>{c()}),(0,a.mal)(()=>{c()},{injector:r.environmentInjector})}),r.zone.run(()=>{r.transitions.events.next(new Wl(e,"popstate"===r.lastSource?r.store[r.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){a.QTQ()};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();function Xm(n){return n.routerState.root}function Ta(n,t){return{\u0275kind:n,\u0275providers:t}}function dA(){const n=(0,a.WQX)(a.zZn);return t=>{const e=n.get(a.o8S);if(t!==e.components[0])return;const i=n.get(gr),r=n.get(hA);1===n.get(Vo)&&i.initialNavigation(),n.get(oO,null,a.$GK.Optional)?.setUpPreloading(),n.get(z_,null,a.$GK.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const hA=new a.nKC("",{factory:()=>new B.B}),Vo=new a.nKC("",{providedIn:"root",factory:()=>1}),oO=new a.nKC("");function oH(n){return Ta(0,[{provide:oO,useExisting:nO},{provide:uA,useExisting:n}])}function pE(){return Ta(8,[W0,{provide:Ah,useExisting:W0}])}function aO(n){return Ta(9,[{provide:Xk,useValue:eH},{provide:lE,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const mA=new a.nKC("ROUTER_FORROOT_GUARD"),pA=[Nn,{provide:Ih,useClass:E_},gr,A_,{provide:ws,useFactory:Xm,deps:[gr]},rA,[]];let Vh=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[pA,[],{provide:Fh,multi:!0,useValue:e},{provide:mA,useFactory:dO,deps:[[gr,new a.Xx1,new a.kdw]]},{provide:Nh,useValue:i||{}},i?.useHash?{provide:ln,useClass:on}:{provide:ln,useClass:hn},{provide:z_,useFactory:()=>{const n=(0,a.WQX)(Zg),t=(0,a.WQX)(a.SKi),e=(0,a.WQX)(Nh),i=(0,a.WQX)(Km),r=(0,a.WQX)(Ih);return e.scrollOffset&&n.setOffset(e.scrollOffset),new hE(r,i,n,t,e)}},i?.preloadingStrategy?oH(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?hO(i):[],i?.bindToComponentInputs?pE().\u0275providers:[],i?.enableViewTransitions?aO().\u0275providers:[],[{provide:gE,useFactory:dA},{provide:a.iLQ,multi:!0,useExisting:gE}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Fh,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(mA,8))};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();function dO(n){return"guarded"}function hO(n){return["disabled"===n.initialNavigation?Ta(3,[{provide:a.hnV,multi:!0,useFactory:()=>{const t=(0,a.WQX)(gr);return()=>{t.setUpLocationChangeListener()}}},{provide:Vo,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ta(2,[{provide:Vo,useValue:0},{provide:a.hnV,multi:!0,deps:[a.zZn],useFactory:t=>{const e=t.get(Lt,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(gr),c=t.get(hA);Jk(r,()=>{i(!0)}),t.get(Km).afterPreactivation=()=>(i(!0),c.closed?Y(void 0):c),r.initialNavigation()}))}}]).\u0275providers:[]]}const gE=new a.nKC("");let vE;try{vE=typeof Intl<"u"&&Intl.v8BreakIterator}catch{vE=!1}let Bh,Gi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?tl(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!vE)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(a.Agw))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yE=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function vO(){if(Bh)return Bh;if("object"!=typeof document||!document)return Bh=new Set(yE),Bh;let n=document.createElement("input");return Bh=new Set(yE.filter(t=>(n.setAttribute("type",t),n.type===t))),Bh}let Uh;function jh(n){return function yO(){if(null==Uh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Uh=!0}))}finally{Uh=Uh||!1}return Uh}()?n:!!n.capture}var ul=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(ul||{});let K_,Xl,Tc;function q_(){if(null==Xl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xl=!1,Xl;if("scrollBehavior"in document.documentElement.style)Xl=!0;else{const n=Element.prototype.scrollTo;Xl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Xl}function Ym(){if("object"!=typeof document||!document)return ul.NORMAL;if(null==K_){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),K_=ul.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,K_=0===n.scrollLeft?ul.NEGATED:ul.INVERTED),n.remove()}return K_}function Zm(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Ca(n){return n.composedPath?n.composedPath()[0]:n.target}function vA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Sa(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class WO extends ne.yU{constructor(t,e){super()}schedule(t,e=0){return this}}const iv={setInterval(n,t,...e){const{delegate:i}=iv;return i?.setInterval?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=iv;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var NA=P(7908);class FA extends WO{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var i;if(this.closed)return this;this.state=t;const r=this.id,c=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(c,r,e)),this.pending=!0,this.delay=e,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(c,this.id,e),this}requestAsyncId(t,e,i=0){return iv.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;null!=e&&iv.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(c){i=!0,r=c||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,NA.o)(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}var $H=P(6129);class fl{constructor(t,e=fl.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}fl.now=$H.U.now;class RE extends fl{constructor(t,e=fl.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const rv=new RE(FA),KO=rv;function ov(n,t=rv){return(0,se.N)((e,i)=>{let r=null,c=null,d=null;const f=()=>{if(r){r.unsubscribe(),r=null;const w=c;c=null,i.next(w)}};function p(){const w=d+n,A=t.now();if(A<w)return r=this.schedule(void 0,w-A),void i.add(r);f()}e.subscribe((0,Qe._)(i,w=>{c=w,d=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{c=r=null}))})}function LA(n){return(0,kn.p)((t,e)=>n<=e)}var VA=P(3294);function Gs(n){return null!=n&&"false"!=`${n}`}function sv(n,t=0){return function qO(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function av(n){return Array.isArray(n)?n:[n]}function _r(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Jl(n){return n instanceof a.aKT?n.nativeElement:n}let XO=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),GH=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map,this._ngZone=(0,a.WQX)(a.SKi)}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Jl(e);return new J.c(r=>{const d=this._observeElement(i).pipe((0,De.T)(f=>f.filter(p=>!function PE(n){if("characterData"===n.type&&n.target instanceof Comment)return!0;if("childList"===n.type){for(let t=0;t<n.addedNodes.length;t++)if(!(n.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<n.removedNodes.length;t++)if(!(n.removedNodes[t]instanceof Comment))return!1;return!0}return!1}(p))),(0,kn.p)(f=>!!f.length)).subscribe(f=>{this._ngZone.run(()=>{r.next(f)})});return()=>{d.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new B.B,r=this._mutationObserverFactory.create(c=>i.next(c));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(XO))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QO=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=sv(e),this._subscribe()}constructor(e,i){this._contentObserver=e,this._elementRef=i,this.event=new a.bkB,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(ov(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(GH),a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",a.L39],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[a.GFd]})}return n})(),BA=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[XO]})}return n})();const UA=new Set;let Sc,cv=(()=>{class n{constructor(e,i){this._platform=e,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):HA}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function jA(n,t){if(!UA.has(n))try{Sc||(Sc=document.createElement("style"),t&&Sc.setAttribute("nonce",t),Sc.setAttribute("type","text/css"),document.head.appendChild(Sc)),Sc.sheet&&(Sc.sheet.insertRule(`@media ${n} {body{ }}`,0),UA.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Gi),a.KVO(a.BIS,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HA(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let kE=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new B.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return $A(av(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let c=ue($A(av(e)).map(d=>this._registerQuery(d).observable));return c=(0,At.x)(c.pipe(Xi(1)),c.pipe(LA(1),ov(0))),c.pipe((0,De.T)(d=>{const f={matches:!1,breakpoints:{}};return d.forEach(({matches:p,query:w})=>{f.matches=f.matches||p,f.breakpoints[w]=p}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),c={observable:new J.c(d=>{const f=p=>this._zone.run(()=>d.next(p));return i.addListener(f),()=>{i.removeListener(f)}}).pipe((0,bo.Z)(i),(0,De.T)(({matches:d})=>({query:e,matches:d})),vi(this._destroySubject)),mql:i};return this._queries.set(e,c),c}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(cv),a.KVO(a.SKi))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $A(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Ts(n,t,e){const i=ts(n,t);e=e.trim();const r=i.filter(c=>c!==e);r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}function ts(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}class tN{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new B.B,this._typeaheadSubscription=ne.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=i=>i.disabled,this._pressedLetters=[],this.tabOut=new B.B,this.change=new B.B,t instanceof a.rOR?this._itemChangesSubscription=t.changes.subscribe(i=>this._itemsChanged(i.toArray())):(0,a.Hps)(t)&&(this._effectRef=(0,a.QZP)(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(_i(e=>this._pressedLetters.push(e)),ov(t),(0,kn.p)(()=>this._pressedLetters.length>0),(0,De.T)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const c=(this._activeItemIndex+r)%i.length,d=i[c];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!t[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const c=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(c>0?c:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const c=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(c<d?c:d-1,-1);break}return;default:return void((r||Sa(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return(0,a.Hps)(this._items)?this._items():this._items instanceof a.rOR?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){const e=t.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}}}class lv extends tN{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class Kh extends tN{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let NE=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function FE(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function qh(n){try{return n.frameElement}catch{return null}}(function BE(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===WA(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),c=WA(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function rN(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==c:"video"===r?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function KA(n){return!function LE(n){return function nN(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function zA(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function uv(n){return function iN(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||VE(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Gi))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function VE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function WA(n){if(!VE(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Xh{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,c=!1,d){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._injector=d,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?(0,a.mal)(t,{injector:this._injector}):setTimeout(t)}}let np=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._injector=(0,a.WQX)(a.zZn),this._document=r}create(e,i=!1){return new Xh(e,this._checker,this._ngZone,this._document,i,this._injector)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(NE),a.KVO(a.SKi),a.KVO(Se))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dv(n){return 0===n.buttons||0===n.detail}function hv(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const sN=new a.nKC("cdk-input-modality-detector-options"),QH={ignoreKeys:[18,17,224,91,16]},Yh=jh({passive:!0,capture:!0});let QA=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,c){this._platform=e,this._mostRecentTarget=null,this._modality=new Me.t(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(f=>f===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ca(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(dv(d)?"keyboard":"mouse"),this._mostRecentTarget=Ca(d))},this._onTouchstart=d=>{hv(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ca(d))},this._options={...QH,...c},this.modalityDetected=this._modality.pipe(LA(1)),this.modalityChanged=this.modalityDetected.pipe((0,VA.F)()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Yh),r.addEventListener("mousedown",this._onMousedown,Yh),r.addEventListener("touchstart",this._onTouchstart,Yh)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yh),document.removeEventListener("mousedown",this._onMousedown,Yh),document.removeEventListener("touchstart",this._onTouchstart,Yh))}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Gi),a.KVO(a.SKi),a.KVO(Se),a.KVO(sN,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const YA=new a.nKC("liveAnnouncerElement",{providedIn:"root",factory:function ZA(){return null}}),UE=new a.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let JA=0,rp=(()=>{class n{constructor(e,i,r,c){this._ngZone=i,this._defaultOptions=c,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let c,d;return 1===i.length&&"number"==typeof i[0]?d=i[0]:[c,d]=i,this.clear(),clearTimeout(this._previousTimeout),c||(c=r&&r.politeness?r.politeness:"polite"),null==d&&r&&(d=r.duration),this._liveElement.setAttribute("aria-live",c),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let c=0;c<i.length;c++)i[c].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),r.id="cdk-live-announcer-"+JA++,this._document.body.appendChild(r),r}_exposeAnnouncerToModals(e){const i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const c=i[r],d=c.getAttribute("aria-owns");d?-1===d.indexOf(e)&&c.setAttribute("aria-owns",d+" "+e):c.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(YA,8),a.KVO(a.SKi),a.KVO(Se),a.KVO(UE,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sp=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(sp||{});const jE=new a.nKC("cdk-focus-monitor-default-options"),eu=jh({passive:!0,capture:!0});let Ac=(()=>{class n{constructor(e,i,r,c,d){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new B.B,this._rootNodeFocusAndBlurListener=f=>{for(let w=Ca(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=c,this._detectionMode=d?.detectionMode||sp.IMMEDIATE}monitor(e,i=!1){const r=Jl(e);if(!this._platform.isBrowser||1!==r.nodeType)return Y();const c=function bO(n){if(function X_(){if(null==Tc){const n=typeof document<"u"?document.head:null;Tc=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Tc}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),d=this._elementInfo.get(r);if(d)return i&&(d.checkChildren=!0),d.subject;const f={checkChildren:i,subject:new B.B,rootNode:c};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const i=Jl(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const c=Jl(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([f,p])=>this._originChanged(f,i,p)):(this._setOrigin(i),"function"==typeof c.focus&&c.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===sp.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,this._detectionMode===sp.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),c=Ca(e);!r||!r.checkChildren&&i!==c||this._originChanged(i,this._getFocusOrigin(c),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,eu),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,eu)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(vi(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,eu),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,eu),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,c)=>{(c===e||r.checkChildren&&c.contains(e))&&i.push([c,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const c=e.labels;if(c)for(let d=0;d<c.length;d++)if(c[d].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(a.SKi),a.KVO(Gi),a.KVO(QA),a.KVO(Se,8),a.KVO(jE,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Dc=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Dc||{});const tD="cdk-high-contrast-black-on-white",HE="cdk-high-contrast-white-on-black",$E="cdk-high-contrast-active";let nD=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,a.WQX)(kE).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Dc.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,c=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Dc.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Dc.BLACK_ON_WHITE}return Dc.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove($E,tD,HE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();i===Dc.BLACK_ON_WHITE?e.add($E,tD):i===Dc.WHITE_ON_BLACK&&e.add($E,HE)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Gi),a.KVO(Se))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),aN=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(nD))};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[BA]})}return n})();const iD=new a.nKC("cdk-dir-doc",{providedIn:"root",factory:function rD(){return(0,a.WQX)(Se)}}),On=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Ya=(()=>{class n{constructor(e){this.value="ltr",this.change=new a.bkB,e&&(this.value=function oD(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?On.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(iD,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();const Ju=["text"],WE=[[["mat-icon"]],"*"],cp=["mat-icon","*"];function sD(n,t){if(1&n&&a.nrm(0,"mat-pseudo-checkbox",1),2&n){const e=a.XpG();a.Y8G("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function KE(n,t){if(1&n&&a.nrm(0,"mat-pseudo-checkbox",3),2&n){const e=a.XpG();a.Y8G("disabled",e.disabled)}}function qE(n,t){if(1&n&&(a.j41(0,"span",4),a.EFF(1),a.k0s()),2&n){const e=a.XpG();a.R7$(),a.SpI("(",e.group.label,")")}}const XE=["mat-internal-form-field",""],aD=["*"],cD=new a.nKC("mat-sanity-checks",{providedIn:"root",factory:function cN(){return!0}});let bi=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!vA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(nD),a.KVO(cD,8),a.KVO(Se))};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[Zh,Zh]})}return n})();class wo{constructor(t,e,i,r,c){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=i,this._parentForm=r,this._stateChanges=c,this.errorState=!1}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,i=this.matcher||this._defaultMatcher,r=this.ngControl?this.ngControl.control:null,c=i?.isErrorState(r,e)??!1;c!==t&&(this.errorState=c,this._stateChanges.next())}}let mv=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Aa=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(Aa||{});class fN{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=Aa.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const YE=jh({passive:!0,capture:!0});class fD{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Ca(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(c=>c.handleEvent(t))})}}addHandler(t,e,i,r){const c=this._events.get(e);if(c){const d=c.get(i);d?d.add(r):c.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,YE)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const c=r.get(e);c&&(c.delete(i),0===c.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,YE)))}}const lp={enterDuration:225,exitDuration:150},mN=jh({passive:!0,capture:!0}),JE=["mousedown","touchstart"],ew=["mouseup","mouseleave","touchend","touchcancel"];class Jh{static#e=this._eventManager=new fD;constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Jl(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...lp,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const d=i.radius||function pv(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),f=t-r.left,p=e-r.top,w=c.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=f-d+"px",A.style.top=p-d+"px",A.style.height=2*d+"px",A.style.width=2*d+"px",null!=i.color&&(A.style.backgroundColor=i.color),A.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(A);const R=window.getComputedStyle(A),K=R.transitionDuration,me="none"===R.transitionProperty||"0s"===K||"0s, 0s"===K||0===r.width&&0===r.height,fe=new fN(this,A,i,me);A.style.transform="scale3d(1, 1, 1)",fe.state=Aa.FADING_IN,i.persistent||(this._mostRecentTransientRipple=fe);let he=null;return!me&&(w||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ht=()=>{he&&(he.fallbackTimer=null),clearTimeout(Et),this._finishRippleTransition(fe)},vt=()=>this._destroyRipple(fe),Et=setTimeout(vt,w+100);A.addEventListener("transitionend",ht),A.addEventListener("transitioncancel",vt),he={onTransitionEnd:ht,onTransitionCancel:vt,fallbackTimer:Et}}),this._activeRipples.set(fe,he),(me||!w)&&this._finishRippleTransition(fe),fe}fadeOutRipple(t){if(t.state===Aa.FADING_OUT||t.state===Aa.HIDDEN)return;const e=t.element,i={...lp,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=Aa.FADING_OUT,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Jl(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,JE.forEach(i=>{Jh._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{ew.forEach(e=>{this._triggerElement.addEventListener(e,this,mN)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===Aa.FADING_IN?this._startFadeOutTransition(t):t.state===Aa.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=Aa.VISIBLE,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=Aa.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=dv(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!hv(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===Aa.VISIBLE||t.config.terminateOnPointerUp&&t.state===Aa.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(JE.forEach(e=>Jh._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(ew.forEach(e=>t.removeEventListener(e,this,mN)),this._pointerUpEventsRegistered=!1))}}const ml=new a.nKC("mat-ripple-global-options");let Da=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,c,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new Jh(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(Gi),a.rXU(ml,8),a.rXU(a.bc$,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&a.AVh("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),up=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[bi,bi]})}return n})(),pN=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(i,r){2&i&&a.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===r.state)("mat-pseudo-checkbox-checked","checked"===r.state)("mat-pseudo-checkbox-disabled",r.disabled)("mat-pseudo-checkbox-minimal","minimal"===r.appearance)("mat-pseudo-checkbox-full","full"===r.appearance)("_mat-animation-noopable","NoopAnimations"===r._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[a.aNF],decls:0,vars:0,template:function(i,r){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),gv=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[bi]})}return n})();const mD=new a.nKC("MAT_OPTION_PARENT_COMPONENT"),tw=new a.nKC("MatOptgroup");let tf=0;class nw{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let ed=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,i,r,c){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=c,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+tf++,this.onSelectionChange=new a.bkB,this._stateChanges=new B.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Sa(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new nw(this,e))}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.gRc),a.rXU(mD,8),a.rXU(tw,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-option"]],viewQuery:function(i,r){if(1&i&&a.GBs(Ju,7),2&i){let c;a.mGM(c=a.lsd())&&(r._text=c.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(i,r){1&i&&a.bIt("click",function(){return r._selectViaInteraction()})("keydown",function(d){return r._handleKeydown(d)}),2&i&&(a.Mr5("id",r.id),a.BMQ("aria-selected",r.selected)("aria-disabled",r.disabled.toString()),a.AVh("mdc-list-item--selected",r.selected)("mat-mdc-option-multiple",r.multiple)("mat-mdc-option-active",r.active)("mdc-list-item--disabled",r.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",a.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[a.GFd,a.aNF],ngContentSelectors:cp,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(i,r){1&i&&(a.NAR(WE),a.DNE(0,sD,1,2,"mat-pseudo-checkbox",1),a.SdG(1),a.j41(2,"span",2,0),a.SdG(4,1),a.k0s(),a.DNE(5,KE,1,1,"mat-pseudo-checkbox",3)(6,qE,2,1,"span",4),a.nrm(7,"div",5)),2&i&&(a.vxM(r.multiple?0:-1),a.R7$(5),a.vxM(r.multiple||!r.selected||r.hideSingleSelectionIndicator?-1:5),a.R7$(),a.vxM(r.group&&r.group._inert?6:-1),a.R7$(),a.Y8G("matRippleTrigger",r._getHostElement())("matRippleDisabled",r.disabled||r.disableRipple))},dependencies:[pN,Da],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),_D=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[up,bi,gv]})}return n})();const vD={capture:!0},yD=["focus","mousedown","mouseenter","touchstart"],iw="mat-ripple-loader-uninitialized",rw="mat-ripple-loader-class-name",bD="mat-ripple-loader-centered",hp="mat-ripple-loader-disabled";let ED=(()=>{class n{constructor(){this._document=(0,a.WQX)(Se,{optional:!0}),this._animationMode=(0,a.WQX)(a.bc$,{optional:!0}),this._globalRippleOptions=(0,a.WQX)(ml,{optional:!0}),this._platform=(0,a.WQX)(Gi),this._ngZone=(0,a.WQX)(a.SKi),this._hosts=new Map,this._onInteraction=e=>{const i=Ca(e);if(i instanceof HTMLElement){const r=i.closest(`[${iw}="${this._globalRippleOptions?.namespace??""}"]`);r&&this._createRipple(r)}},this._ngZone.runOutsideAngular(()=>{for(const e of yD)this._document?.addEventListener(e,this._onInteraction,vD)})}ngOnDestroy(){const e=this._hosts.keys();for(const i of e)this.destroyRipple(i);for(const i of yD)this._document?.removeEventListener(i,this._onInteraction,vD)}configureRipple(e,i){e.setAttribute(iw,this._globalRippleOptions?.namespace??""),(i.className||!e.hasAttribute(rw))&&e.setAttribute(rw,i.className||""),i.centered&&e.setAttribute(bD,""),i.disabled&&e.setAttribute(hp,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,i){const r=this._hosts.get(e);r?r.disabled=i:i?e.setAttribute(hp,""):e.removeAttribute(hp)}_createRipple(e){if(!this._document)return;const i=this._hosts.get(e);if(i)return i;e.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",e.getAttribute(rw)),e.append(r);const c=new Da(new a.aKT(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return c._isInitialized=!0,c.trigger=e,c.centered=e.hasAttribute(bD),c.disabled=e.hasAttribute(hp),this.attachRipple(e,c),c}attachRipple(e,i){e.removeAttribute(iw),this._hosts.set(e,i)}destroyRipple(e){const i=this._hosts.get(e);i&&(i.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_v=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(i,r){2&i&&a.AVh("mdc-form-field--align-end","before"===r.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[a.aNF],attrs:XE,ngContentSelectors:aD,decls:1,vars:0,template:function(i,r){1&i&&(a.NAR(),a.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return n})();const gN=["*",[["mat-toolbar-row"]]],wD=["*","mat-toolbar-row"];let _N=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),ID=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(Gi),a.rXU(Se))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,c){if(1&i&&a.wni(c,_N,5),2&i){let d;a.mGM(d=a.lsd())&&(r._toolbarRows=d)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(i,r){2&i&&(a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[a.aNF],ngContentSelectors:wD,decls:2,vars:0,template:function(i,r){1&i&&(a.NAR(gN),a.SdG(0),a.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),vN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[bi,bi]})}return n})();function ow(...n){const t=(0,Ue.ms)(n),{args:e,keys:i}=ke(n),r=new J.c(c=>{const{length:d}=e;if(!d)return void c.complete();const f=new Array(d);let p=d,w=d;for(let A=0;A<d;A++){let R=!1;(0,un.Tg)(e[A]).subscribe((0,Qe._)(c,U=>{R||(R=!0,w--),f[A]=U},()=>p--,void 0,()=>{(!p||!R)&&(w||c.next(i?st(i,f):f),c.complete())}))}});return t?r.pipe(Ie(t)):r}var sw=P(7647);class vv{}class zs{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),c=r.toLowerCase(),d=e.slice(i+1).trim();this.maybeSetNormalizedName(r,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,i)=>{this.setHeaderEntries(i,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{this.setHeaderEntries(e,i)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof zs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new zs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof zs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const c=t.value;if(c){let d=this.headers.get(e);if(!d)return;d=d.filter(f=>-1===c.indexOf(f)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const i=(Array.isArray(e)?e:[e]).map(c=>c.toString()),r=t.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class yN{encodeKey(t){return Ev(t)}encodeValue(t){return Ev(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const EN=/%(\d[a-f0-9])/gi,bv={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ev(n){return encodeURIComponent(n).replace(EN,(t,e)=>bv[e]??t)}function wv(n){return`${n}`}class nd{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new yN,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function bN(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const c=r.indexOf("="),[d,f]=-1==c?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,c)),t.decodeValue(r.slice(c+1))],p=e.get(d)||[];p.push(f),e.set(d,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(wv):[wv(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(c=>{e.push({param:i,value:c,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new nd({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(wv(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(wv(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class wN{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function TN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function TD(n){return typeof Blob<"u"&&n instanceof Blob}function CN(n){return typeof FormData<"u"&&n instanceof FormData}class fp{constructor(t,e,i,r){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function IN(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,c=r):c=i,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new zs,this.context??=new wN,this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+d}}else this.params=new nd,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||TN(this.body)||TD(this.body)||CN(this.body)||function SN(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof nd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||CN(this.body)?null:TD(this.body)?this.body.type||null:TN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,c=t.transferCache??this.transferCache,d=void 0!==t.body?t.body:this.body,f=t.withCredentials??this.withCredentials,p=t.reportProgress??this.reportProgress;let w=t.headers||this.headers,A=t.params||this.params;const R=t.context??this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((U,K)=>U.set(K,t.setHeaders[K]),w)),t.setParams&&(A=Object.keys(t.setParams).reduce((U,K)=>U.set(K,t.setParams[K]),A)),new fp(e,i,d,{params:A,headers:w,context:R,reportProgress:p,responseType:r,withCredentials:f,transferCache:c})}}var aw=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(aw||{});class mp{constructor(t,e=200,i="OK"){this.headers=t.headers||new zs,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class id extends mp{constructor(t={}){super(t),this.type=aw.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new id({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function lw(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let rd=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let c;if(e instanceof fp)c=e;else{let p,w;p=r.headers instanceof zs?r.headers:new zs(r.headers),r.params&&(w=r.params instanceof nd?r.params:new nd({fromObject:r.params})),c=new fp(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const d=Y(c).pipe(Gu(p=>this.handler.handle(p)));if(e instanceof fp||"events"===r.observe)return d;const f=d.pipe((0,kn.p)(p=>p instanceof id));switch(r.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return f.pipe((0,De.T)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return f.pipe((0,De.T)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return f.pipe((0,De.T)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return f.pipe((0,De.T)(p=>p.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new nd).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,lw(r,i))}post(e,i,r={}){return this.request("POST",e,lw(r,i))}put(e,i,r={}){return this.request("PUT",e,lw(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(vv))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();const ad=["*"];let xc;function Rv(n){return function _p(){if(void 0===xc&&(xc=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(xc=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return xc}()?.createHTML(n)||n}function _w(n){return Error(`Unable to find icon with the name "${n}"`)}function vw(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function HD(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class tu{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let yw=(()=>{class n{constructor(e,i,r,c){this._httpClient=e,this._sanitizer=i,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,c){return this._addSvgIconConfig(e,i,new tu(r,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,c){const d=this._sanitizer.sanitize(a.WPN.HTML,r);if(!d)throw HD(r);const f=Rv(d);return this._addSvgIconConfig(e,i,new tu("",f,c))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new tu(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const c=this._sanitizer.sanitize(a.WPN.HTML,i);if(!c)throw HD(i);const d=Rv(c);return this._addSvgIconSetConfig(e,new tu("",d,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.WPN.RESOURCE_URL,e);if(!i)throw vw(e);const r=this._cachedIconsByUrl.get(i);return r?Y(af(r)):this._loadSvgIconFromConfig(new tu(e,null)).pipe(_i(c=>this._cachedIconsByUrl.set(i,c)),(0,De.T)(c=>af(c)))}getNamedSvgIcon(e,i=""){const r=$D(i,e);let c=this._svgIconConfigs.get(r);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(i,e),c)return this._svgIconConfigs.set(r,c),this._getSvgFromConfig(c);const d=this._iconSetConfigs.get(i);return d?this._getSvgFromIconSetConfigs(e,d):Rn(_w(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Y(af(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,De.T)(i=>af(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Y(r):ow(i.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Hl(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(a.WPN.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),Y(null)})))).pipe((0,De.T)(()=>{const d=this._extractIconWithNameFromAnySet(e,i);if(!d)throw _w(e);return d}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const c=i[r];if(c.svgText&&c.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(c),f=this._extractSvgIconFromSet(d,e,c.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(_i(i=>e.svgText=i),(0,De.T)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Y(null):this._fetchIcon(e).pipe(_i(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const c=e.querySelector(`[id="${i}"]`);if(!c)return null;const d=c.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,r);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),r);const f=this._svgElementFromString(Rv("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Rv("<svg></svg>")),r=e.attributes;for(let c=0;c<r.length;c++){const{name:d,value:f}=r[c];"id"!==d&&i.setAttribute(d,f)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[c].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,c=r?.withCredentials??!1;if(!this._httpClient)throw function zN(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const d=this._sanitizer.sanitize(a.WPN.RESOURCE_URL,i);if(!d)throw vw(i);const f=this._inProgressUrlFetches.get(d);if(f)return f;const p=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,De.T)(w=>Rv(w)),fh(()=>this._inProgressUrlFetches.delete(d)),(0,sw.u)());return this._inProgressUrlFetches.set(d,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set($D(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const c=this._resolvers[r](i,e);if(c)return KN(c)?new tu(c.url,null,c.options):new tu(c,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(rd,8),a.KVO(b),a.KVO(Se,8),a.KVO(a.zcH))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function af(n){return n.cloneNode(!0)}function $D(n,t){return n+":"+t}function KN(n){return!(!n.url||!n.options)}const qN=new a.nKC("MAT_ICON_DEFAULT_OPTIONS"),O4=new a.nKC("mat-icon-location",{providedIn:"root",factory:function GD(){const n=(0,a.WQX)(Se),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Io=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],zD=Io.map(n=>`[${n}]`).join(", "),WD=/^url\(['"]?#(.*?)['"]?\)$/;let To=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,c,d,f){this._elementRef=e,this._iconRegistry=i,this._location=c,this._errorHandler=d,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ne.yU.EMPTY,f&&(f.color&&(this.color=this._defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,c)=>{r.forEach(d=>{c.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(zD),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<i.length;c++)Io.forEach(d=>{const f=i[c],p=f.getAttribute(d),w=p?p.match(WD):null;if(w){let A=r.get(f);A||(A=[],r.set(f,A)),A.push({name:d,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Xi(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${c.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(yw),a.kS0("aria-hidden"),a.rXU(O4),a.rXU(a.zcH),a.rXU(qN,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(i,r){2&i&&(a.BMQ("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:[2,"inline","inline",a.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[a.GFd,a.aNF],ngContentSelectors:ad,decls:1,vars:0,template:function(i,r){1&i&&(a.NAR(),a.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Bo=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[bi,bi]})}return n})();const zi=["mat-button",""],kv=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],cf=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],KD=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Ov=["mat-fab",""],bw=["mat-icon-button",""],YN=["*"],XD=new a.nKC("MAT_BUTTON_CONFIG"),ns=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let vp=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,i,r,c){this._elementRef=e,this._platform=i,this._ngZone=r,this._animationMode=c,this._focusMonitor=(0,a.WQX)(Ac),this._rippleLoader=(0,a.WQX)(ED),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const d=(0,a.WQX)(XD,{optional:!0}),f=e.nativeElement,p=f.classList;this.disabledInteractive=d?.disabledInteractive??!1,this.color=d?.color??null,this._rippleLoader?.configureRipple(f,{className:"mat-mdc-button-ripple"});for(const{attribute:w,mdcClasses:A}of ns)f.hasAttribute(w)&&p.add(...A)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){a.QTQ()};static#t=this.\u0275dir=a.FsC({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",a.L39],disabled:[2,"disabled","disabled",a.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",a.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",a.L39]},features:[a.GFd]})}return n})(),YD=(()=>{class n extends vp{constructor(e,i,r,c){super(e,i,r,c),this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(i){a.QTQ()};static#t=this.\u0275dir=a.FsC({type:n,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,a.Udg)(e)]},features:[a.GFd,a.Vt3]})}return n})(),nu=(()=>{class n extends vp{constructor(e,i,r,c){super(e,i,r,c)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(Gi),a.rXU(a.SKi),a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(a.BMQ("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[a.Vt3,a.aNF],attrs:zi,ngContentSelectors:cf,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.NAR(kv),a.nrm(0,"span",0),a.SdG(1),a.j41(2,"span",1),a.SdG(3,1),a.k0s(),a.SdG(4,2),a.nrm(5,"span",2)(6,"span",3)),2&i&&a.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),ZN=(()=>{class n extends YD{constructor(e,i,r,c){super(e,i,r,c)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(Gi),a.rXU(a.SKi),a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(i,r){2&i&&(a.BMQ("disabled",r._getDisabledAttribute())("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-disabled",r._getDisabledAttribute()),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[a.Vt3,a.aNF],attrs:zi,ngContentSelectors:cf,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.NAR(kv),a.nrm(0,"span",0),a.SdG(1),a.j41(2,"span",1),a.SdG(3,1),a.k0s(),a.SdG(4,2),a.nrm(5,"span",2)(6,"span",3)),2&i&&a.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',KD],encapsulation:2,changeDetection:0})}return n})();const Ew=new a.nKC("mat-mdc-fab-default-options",{providedIn:"root",factory:ZD});function ZD(){return{color:"accent"}}const Nv=ZD();let is=(()=>{class n extends vp{constructor(e,i,r,c,d){super(e,i,r,c),this._options=d,this._isFab=!0,this._options=this._options||Nv,this.color=this._options.color||Nv.color}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(Gi),a.rXU(a.SKi),a.rXU(a.bc$,8),a.rXU(Ew,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(i,r){2&i&&(a.BMQ("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{extended:[2,"extended","extended",a.L39]},exportAs:["matButton"],standalone:!0,features:[a.GFd,a.Vt3,a.aNF],attrs:Ov,ngContentSelectors:cf,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.NAR(kv),a.nrm(0,"span",0),a.SdG(1),a.j41(2,"span",1),a.SdG(3,1),a.k0s(),a.SdG(4,2),a.nrm(5,"span",2)(6,"span",3)),2&i&&a.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),Mc=(()=>{class n extends ZN{constructor(e,i,r,c,d){super(e,i,r,c),this._options=d,this._isFab=!0,this._options=this._options||Nv,this.color=this._options.color||Nv.color}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(Gi),a.rXU(a.SKi),a.rXU(a.bc$,8),a.rXU(Ew,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["a","mat-fab",""]],hostVars:19,hostBindings:function(i,r){2&i&&(a.BMQ("disabled",r._getDisabledAttribute())("tabindex",r.disabled&&!r.disabledInteractive?-1:r.tabIndex)("aria-disabled",r._getDisabledAttribute()),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0)("mdc-fab--extended",r.extended)("mat-mdc-extended-fab",r.extended))},inputs:{extended:[2,"extended","extended",a.L39]},exportAs:["matButton","matAnchor"],standalone:!0,features:[a.GFd,a.Vt3,a.aNF],attrs:Ov,ngContentSelectors:cf,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.NAR(kv),a.nrm(0,"span",0),a.SdG(1),a.j41(2,"span",1),a.SdG(3,1),a.k0s(),a.SdG(4,2),a.nrm(5,"span",2)(6,"span",3)),2&i&&a.AVh("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),ex=(()=>{class n extends vp{constructor(e,i,r,c){super(e,i,r,c),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(Gi),a.rXU(a.SKi),a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(i,r){2&i&&(a.BMQ("disabled",r._getDisabledAttribute())("aria-disabled",r._getAriaDisabled()),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-button-disabled",r.disabled)("mat-mdc-button-disabled-interactive",r.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[a.Vt3,a.aNF],attrs:bw,ngContentSelectors:YN,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(a.NAR(),a.nrm(0,"span",0),a.SdG(1),a.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',KD],encapsulation:2,changeDetection:0})}return n})(),Vr=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[bi,up,bi]})}return n})();var Uo=P(7786);let Lv,Iw=1;const Za={};function lf(n){return n in Za&&(delete Za[n],!0)}const L4={setImmediate(n){const t=Iw++;return Za[t]=!0,Lv||(Lv=Promise.resolve()),Lv.then(()=>lf(t)&&n()),t},clearImmediate(n){lf(n)}},{setImmediate:tx,clearImmediate:nx}=L4,Vv={setImmediate(...n){const{delegate:t}=Vv;return(t?.setImmediate||tx)(...n)},clearImmediate(n){const{delegate:t}=Vv;return(t?.clearImmediate||nx)(n)},delegate:void 0},Cw=new class JN extends RE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class yp extends FA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Vv.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:c}=t;null!=e&&(null===(r=c[c.length-1])||void 0===r?void 0:r.id)!==e&&(Vv.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function ix(n,t){return t?e=>(0,At.x)(t.pipe(Xi(1),function eF(){return(0,se.N)((n,t)=>{n.subscribe((0,Qe._)(t,s_.l))})}()),e.pipe(ix(n))):(0,Or.Z)((e,i)=>(0,un.Tg)(n(e,i)).pipe(Xi(1),E0(e)))}var tF=P(9470);function rx(n=0,t,e=KO){let i=-1;return null!=t&&((0,tF.m)(t)?e=t:i=t),new J.c(r=>{let c=function nF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let d=0;return e.schedule(function(){r.closed||(r.next(d++),0<=i?this.schedule(void 0,i):r.complete())},c)})}function uf(n,t=rv){const e=rx(n,t);return ix(()=>e)}class Sw{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class df extends Sw{constructor(t,e,i,r,c){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=c}}class iu extends Sw{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class sx extends Sw{constructor(t){super(),this.element=t instanceof a.aKT?t.nativeElement:t}}class bp{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof df?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof iu?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof sx?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class sF extends bp{constructor(t,e,i,r,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=d=>{const f=d.element,p=this._document.createComment("dom-portal");f.parentNode.insertBefore(p,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(f,p)})},this._document=c}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||a.zZn.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let cd=(()=>{class n extends bp{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.bkB,this.attachDomPortal=c=>{const d=c.element,f=this._document.createComment("dom-portal");c.setAttachedHost(this),d.parentNode.insertBefore(f,d),this._getRootNode().appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=i.createComponent(c,i.length,e.injector||i.injector,e.projectableNodes||void 0);return i!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.OM3),a.rXU(a.c1b),a.rXU(Se))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[a.Vt3]})}return n})(),ld=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();var en=P(9969),aF=P(7441);const cF=["addListener","removeListener"],ux=["addEventListener","removeEventListener"],Aw=["on","off"];function ru(n,t,e,i){if((0,Ce.T)(e)&&(i=e,e=void 0),i)return ru(n,t,e).pipe(Ie(i));const[r,c]=function lF(n){return(0,Ce.T)(n.addEventListener)&&(0,Ce.T)(n.removeEventListener)}(n)?ux.map(d=>f=>n[d](t,f,e)):function dx(n){return(0,Ce.T)(n.addListener)&&(0,Ce.T)(n.removeListener)}(n)?cF.map(Dw(n,t)):function hx(n){return(0,Ce.T)(n.on)&&(0,Ce.T)(n.off)}(n)?Aw.map(Dw(n,t)):[];if(!r&&(0,aF.X)(n))return(0,Or.Z)(d=>ru(d,t,e))((0,un.Tg)(n));if(!r)throw new TypeError("Invalid event target");return new J.c(d=>{const f=(...p)=>d.next(1<p.length?p:p[0]);return r(f),()=>c(f)})}function Dw(n,t){return e=>i=>n[e](t,i)}const hf={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=hf;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(c=>{e=void 0,n(c)});return new ne.yU(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=hf;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=hf;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class xw extends RE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class uF extends FA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=hf.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:c}=t;null!=e&&(null===(r=c[c.length-1])||void 0===r?void 0:r.id)!==e&&(hf.cancelAnimationFrame(e),t._scheduled=void 0)}});function dF(n,t=rv){return function G4(n){return(0,se.N)((t,e)=>{let i=!1,r=null,c=null,d=!1;const f=()=>{if(c?.unsubscribe(),c=null,i){i=!1;const w=r;r=null,e.next(w)}d&&e.complete()},p=()=>{c=null,d&&e.complete()};t.subscribe((0,Qe._)(e,w=>{i=!0,r=w,c||(0,un.Tg)(n(w)).subscribe(c=(0,Qe._)(e,f,p))},()=>{d=!0,(!i||!c||c.closed)&&e.complete()}))})}(()=>rx(n,t))}let Mw=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new B.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new J.c(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(dF(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe((0,kn.p)(c=>!c||r.indexOf(c)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,c)=>{this._scrollableContainsElement(c,e)&&i.push(c)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Jl(i),c=e.getElementRef().nativeElement;do{if(r==c)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ru(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(a.SKi),a.KVO(Gi),a.KVO(Se,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_F=(()=>{class n{constructor(e,i,r,c){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=c,this._destroyed=new B.B,this._elementScrolled=new J.c(d=>this.ngZone.runOutsideAngular(()=>ru(this.elementRef.nativeElement,"scroll").pipe(vi(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&Ym()!=ul.NORMAL?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),Ym()==ul.INVERTED?e.left=e.right:Ym()==ul.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;q_()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?r:i:"end"==e&&(e=d?i:r),d&&Ym()==ul.INVERTED?e==i?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:d&&Ym()==ul.NEGATED?e==i?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==i?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(Mw),a.rXU(a.SKi),a.rXU(Ya,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),_x=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new B.B,this._changeListener=c=>{this._change.next(c)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,c=r.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-c.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(dF(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Gi),a.KVO(a.SKi),a.KVO(Se,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rw=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})(),EF=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[Zh,Rw,Zh,Rw]})}return n})();const wF=q_();class X4{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_r(-this._previousScrollPosition.left),t.style.top=_r(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,c=i.scrollBehavior||"",d=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),wF&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),wF&&(i.scrollBehavior=c,r.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class Q4{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe((0,kn.p)(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class IF{enable(){}disable(){}attach(){}}function Pw(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function ud(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Ep{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Pw(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let TF=(()=>{class n{constructor(e,i,r,c){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new IF,this.close=d=>new Q4(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new X4(this._viewportRuler,this._document),this.reposition=d=>new Ep(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=c}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Mw),a.KVO(_x),a.KVO(a.SKi),a.KVO(Se))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Bv{constructor(t){if(this.scrollStrategy=new IF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Z4{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let vx=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Se))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uv=(()=>{class n extends vx{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const c=this._attachedOverlays;for(let d=c.length-1;d>-1;d--)if(c[d]._keydownEvents.observers.length>0){const f=c[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Se),a.KVO(a.SKi,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yx=(()=>{class n extends vx{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=Ca(c)},this._clickListener=c=>{const d=Ca(c),f="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let w=p.length-1;w>-1;w--){const A=p[w];if(A._outsidePointerEvents.observers.length<1||!A.hasAttached())continue;if(bx(A.overlayElement,d)||bx(A.overlayElement,f))break;const R=A._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(c)):R.next(c)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Se),a.KVO(Gi),a.KVO(a.SKi,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bx(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}let wp=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||vA()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<r.length;c++)r[c].remove()}const i=this._document.createElement("div");i.classList.add(e),vA()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Se),a.KVO(Gi))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class kw{constructor(t,e,i,r,c,d,f,p,w,A=!1,R){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=c,this._keyboardDispatcher=d,this._document=f,this._location=p,this._outsideClickDispatcher=w,this._animationsDisabled=A,this._injector=R,this._backdropElement=null,this._backdropClick=new B.B,this._attachments=new B.B,this._detachments=new B.B,this._locationChanges=ne.yU.EMPTY,this._backdropClickHandler=U=>this._backdropClick.next(U),this._backdropTransitionendHandler=U=>{this._disposeBackdrop(U.target)},this._keydownEvents=new B.B,this._outsidePointerEvents=new B.B,this._renders=new B.B,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy,this._afterRenderRef=(0,a.O8t)(()=>(0,a.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,a.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=_r(this._config.width),t.height=_r(this._config.height),t.minWidth=_r(this._config.minWidth),t.minHeight=_r(this._config.minHeight),t.maxWidth=_r(this._config.maxWidth),t.maxHeight=_r(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=av(e||[]).filter(c=>!!c);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(vi((0,Uo.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Ow="cdk-overlay-connected-position-bounding-box",t$=/([A-Za-z%]+)$/;class SF{get positions(){return this._preferredPositions}constructor(t,e,i,r,c){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new B.B,this._resizeSubscription=ne.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(Ow),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,c=[];let d;for(let f of this._preferredPositions){let p=this._getOriginPoint(t,r,f),w=this._getOverlayPoint(p,e,f),A=this._getOverlayFit(w,e,i,f);if(A.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,p);this._canFitWithFlexibleDimensions(A,w,i)?c.push({position:f,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,f)}):(!d||d.overlayFit.visibleArea<A.visibleArea)&&(d={overlayFit:A,overlayPoint:w,originPoint:p,position:f,overlayRect:e})}if(c.length){let f=null,p=-1;for(const w of c){const A=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);A>p&&(p=A,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ou(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ow),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,c;if("center"==i.originX)r=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;r="start"==i.originX?d:f}return e.left<0&&(r-=e.left),c="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(c-=e.top),{x:r,y:c}}_getOverlayPoint(t,e,i){let r,c;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+c}}_getOverlayFit(t,e,i,r){const c=Ex(e);let{x:d,y:f}=t,p=this._getOffset(r,"x"),w=this._getOffset(r,"y");p&&(d+=p),w&&(f+=w);let U=0-f,K=f+c.height-i.height,me=this._subtractOverflows(c.width,0-d,d+c.width-i.width),fe=this._subtractOverflows(c.height,U,K),he=me*fe;return{visibleArea:he,isCompletelyWithinViewport:c.width*c.height===he,fitsInViewportVertically:fe===c.height,fitsInViewportHorizontally:me==c.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,c=i.right-e.x,d=jv(this._overlayRef.getConfig().minHeight),f=jv(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=d&&d<=r)&&(t.fitsInViewportHorizontally||null!=f&&f<=c)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Ex(e),c=this._viewportRect,d=Math.max(t.x+r.width-c.width,0),f=Math.max(t.y+r.height-c.height,0),p=Math.max(c.top-i.top-t.y,0),w=Math.max(c.left-i.left-t.x,0);let A=0,R=0;return A=r.width<=c.width?w||-d:t.x<this._viewportMargin?c.left-i.left-t.x:0,R=r.height<=c.height?p||-f:t.y<this._viewportMargin?c.top-i.top-t.y:0,this._previousPushAmount={x:A,y:R},{x:t.x+A,y:t.y+R}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function AF(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,i)){const r=new Z4(t,i);this._positionChanges.next(r)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let c,d,f,A,R,U;if("top"===e.overlayY)d=t.y,c=i.height-d+this._viewportMargin;else if("bottom"===e.overlayY)f=i.height-t.y+2*this._viewportMargin,c=i.height-f+this._viewportMargin;else{const K=Math.min(i.bottom-t.y+i.top,t.y),me=this._lastBoundingBoxSize.height;c=2*K,d=t.y-K,c>me&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-me/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)U=i.width-t.x+2*this._viewportMargin,A=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)R=t.x,A=i.right-t.x;else{const K=Math.min(i.right-t.x+i.left,t.x),me=this._lastBoundingBoxSize.width;A=2*K,R=t.x-K,A>me&&!this._isInitialRender&&!this._growAfterOpen&&(R=t.x-me/2)}return{top:d,left:R,bottom:f,right:U,width:A,height:c}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;r.height=_r(i.height),r.top=_r(i.top),r.bottom=_r(i.bottom),r.width=_r(i.width),r.left=_r(i.left),r.right=_r(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(r.maxHeight=_r(c)),d&&(r.maxWidth=_r(d))}this._lastBoundingBoxSize=i,ou(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ou(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ou(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),c=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(r){const A=this._viewportRuler.getViewportScrollPosition();ou(i,this._getExactOverlayY(e,t,A)),ou(i,this._getExactOverlayX(e,t,A))}else i.position="static";let f="",p=this._getOffset(e,"x"),w=this._getOffset(e,"y");p&&(f+=`translateX(${p}px) `),w&&(f+=`translateY(${w}px)`),i.transform=f.trim(),d.maxHeight&&(r?i.maxHeight=_r(d.maxHeight):c&&(i.maxHeight="")),d.maxWidth&&(r?i.maxWidth=_r(d.maxWidth):c&&(i.maxWidth="")),ou(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":r.top=_r(c.y),r}_getExactOverlayX(t,e,i){let d,r={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,i)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?r.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":r.left=_r(c.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ud(t,i),isOriginOutsideView:Pw(t,i),isOverlayClipped:ud(e,i),isOverlayOutsideView:Pw(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&av(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.aKT)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function ou(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function jv(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(t$);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Ex(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const wx="cdk-global-overlay-wrapper";class DF{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(wx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:c,maxWidth:d,maxHeight:f}=i,p=!("100%"!==r&&"100vw"!==r||d&&"100%"!==d&&"100vw"!==d),w=!("100%"!==c&&"100vh"!==c||f&&"100%"!==f&&"100vh"!==f),A=this._xPosition,R=this._xOffset,U="rtl"===this._overlayRef.getConfig().direction;let K="",me="",fe="";p?fe="flex-start":"center"===A?(fe="center",U?me=R:K=R):U?"left"===A||"end"===A?(fe="flex-end",K=R):("right"===A||"start"===A)&&(fe="flex-start",me=R):"left"===A||"start"===A?(fe="flex-start",K=R):("right"===A||"end"===A)&&(fe="flex-end",me=R),t.position=this._cssPosition,t.marginLeft=p?"0":K,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":me,e.justifyContent=fe,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(wx),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let xF=(()=>{class n{constructor(e,i,r,c){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=c}global(){return new DF}flexibleConnectedTo(e){return new SF(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(_x),a.KVO(Se),a.KVO(Gi),a.KVO(wp))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),MF=0,jo=(()=>{class n{constructor(e,i,r,c,d,f,p,w,A,R,U,K){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=c,this._keyboardDispatcher=d,this._injector=f,this._ngZone=p,this._document=w,this._directionality=A,this._location=R,this._outsideClickDispatcher=U,this._animationsModuleType=K}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),c=this._createPortalOutlet(r),d=new Bv(e);return d.direction=d.direction||this._directionality.value,new kw(c,i,r,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(a.uvJ))}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+MF++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.o8S)),new sF(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(TF),a.KVO(wp),a.KVO(a.OM3),a.KVO(xF),a.KVO(Uv),a.KVO(a.zZn),a.KVO(a.SKi),a.KVO(Se),a.KVO(Ya),a.KVO(Nn),a.KVO(yx),a.KVO(a.bc$,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Ix=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Fw=new a.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(jo);return()=>n.scrollStrategies.reposition()}});let Ip=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),Tx=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,i,r,c,d){this._overlay=e,this._dir=d,this._backdropSubscription=ne.yU.EMPTY,this._attachSubscription=ne.yU.EMPTY,this._detachSubscription=ne.yU.EMPTY,this._positionSubscription=ne.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,a.WQX)(a.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new a.bkB,this.positionChange=new a.bkB,this.attach=new a.bkB,this.detach=new a.bkB,this.overlayKeydown=new a.bkB,this.overlayOutsideClick=new a.bkB,this._templatePortal=new iu(i,r),this._scrollStrategyFactory=c,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Ix);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Sa(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{const r=this._getOriginElement(),c=Ca(i);(!r||r!==c&&!r.contains(c))&&this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Bv({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof Ip?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Ip?this.origin.elementRef.nativeElement:this.origin instanceof a.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function q4(n,t=!1){return(0,se.N)((e,i)=>{let r=0;e.subscribe((0,Qe._)(i,c=>{const d=n(c,r++);(d||t)&&i.next(c),!d&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(jo),a.rXU(a.C4Q),a.rXU(a.c1b),a.rXU(Fw),a.rXU(Ya,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",a.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",a.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",a.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",a.L39],push:[2,"cdkConnectedOverlayPush","push",a.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",a.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[a.GFd,a.OA$]})}return n})();const Cx={provide:Fw,deps:[jo],useFactory:function i$(n){return()=>n.scrollStrategies.reposition()}};let Tp=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[jo,Cx],imports:[Zh,ld,EF,EF]})}return n})();const Sx=["mat-menu-item",""],RF=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],r$=["mat-icon, [matMenuItemIcon]","*"];function Lw(n,t){1&n&&(a.qSk(),a.j41(0,"svg",2),a.nrm(1,"polygon",3),a.k0s())}const Vw=["*"];function PF(n,t){if(1&n){const e=a.RV6();a.j41(0,"div",0),a.bIt("keydown",function(r){a.eBV(e);const c=a.XpG();return a.Njj(c._handleKeydown(r))})("click",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.closed.emit("click"))})("@transformMenu.start",function(r){a.eBV(e);const c=a.XpG();return a.Njj(c._onAnimationStart(r))})("@transformMenu.done",function(r){a.eBV(e);const c=a.XpG();return a.Njj(c._onAnimationDone(r))}),a.j41(1,"div",1),a.SdG(2),a.k0s()()}if(2&n){const e=a.XpG();a.HbH(e._classList),a.Y8G("id",e.panelId)("@transformMenu",e._panelAnimationState),a.BMQ("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Hv=new a.nKC("MAT_MENU_PANEL");let mf=(()=>{class n{constructor(e,i,r,c,d){this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=c,this._changeDetectorRef=d,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new B.B,this._focused=new B.B,this._highlighted=!1,this._triggersSubmenu=!1,c?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(Se),a.rXU(Ac),a.rXU(Hv,8),a.rXU(a.gRc))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&a.bIt("click",function(d){return r._checkDisabled(d)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(a.BMQ("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),a.AVh("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",a.L39],disableRipple:[2,"disableRipple","disableRipple",a.L39]},exportAs:["matMenuItem"],standalone:!0,features:[a.GFd,a.aNF],attrs:Sx,ngContentSelectors:r$,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(a.NAR(RF),a.SdG(0),a.j41(1,"span",0),a.SdG(2,1),a.k0s(),a.nrm(3,"div",1),a.DNE(4,Lw,2,0,":svg:svg",2)),2&i&&(a.R7$(3),a.Y8G("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),a.R7$(),a.vxM(r._triggersSubmenu?4:-1))},dependencies:[Da],encapsulation:2,changeDetection:0})}return n})();const kF=new a.nKC("MatMenuContent"),pf={transformMenu:(0,en.hZ)("transformMenu",[(0,en.wk)("void",(0,en.iF)({opacity:0,transform:"scale(0.8)"})),(0,en.kY)("void => enter",(0,en.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,en.iF)({opacity:1,transform:"scale(1)"}))),(0,en.kY)("* => void",(0,en.i0)("100ms 25ms linear",(0,en.iF)({opacity:0})))]),fadeInItems:(0,en.hZ)("fadeInItems",[(0,en.wk)("showing",(0,en.iF)({opacity:1})),(0,en.kY)("void => *",[(0,en.iF)({opacity:0}),(0,en.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Cp=0;const Ar=new a.nKC("mat-menu-default-options",{providedIn:"root",factory:function dd(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let su=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){const i=this._previousPanelClass,r={...this._classList};i&&i.length&&i.split(" ").forEach(c=>{r[c]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(c=>{r[c]=!0}),this._elementRef.nativeElement.className=""),this._classList=r}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,i,r,c){this._elementRef=e,this._changeDetectorRef=c,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new a.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new B.B,this.closed=new a.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+Cp++,this._injector=(0,a.WQX)(a.zZn),this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this.overlapTrigger=r.overlapTrigger,this.hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Kh(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,bo.Z)(this._directDescendantItems),pr(e=>(0,Uo.h)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),c=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[c]&&!r[c].disabled?i.setActiveItem(c):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,bo.Z)(this._directDescendantItems),pr(i=>(0,Uo.h)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Sa(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,a.mal)(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(null===this._baseElevation){const f=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(f)}const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,c=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));if(!c||c===this._previousElevation){const d={...this._classList};this._previousElevation&&(d[this._previousElevation]=!1),d[r]=!0,this._previousElevation=r,this._classList=d}}setPositionClasses(e=this.xPosition,i=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===e,"mat-menu-after":"after"===e,"mat-menu-above":"above"===i,"mat-menu-below":"below"===i},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,bo.Z)(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(Ar),a.rXU(a.gRc))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-menu"]],contentQueries:function(i,r,c){if(1&i&&(a.wni(c,kF,5),a.wni(c,mf,5),a.wni(c,mf,4)),2&i){let d;a.mGM(d=a.lsd())&&(r.lazyContent=d.first),a.mGM(d=a.lsd())&&(r._allItems=d),a.mGM(d=a.lsd())&&(r.items=d)}},viewQuery:function(i,r){if(1&i&&a.GBs(a.C4Q,5),2&i){let c;a.mGM(c=a.lsd())&&(r.templateRef=c.first)}},hostVars:3,hostBindings:function(i,r){2&i&&a.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",a.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>null==e?null:(0,a.L39)(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[a.Jv_([{provide:Hv,useExisting:n}]),a.GFd,a.aNF],ngContentSelectors:Vw,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(a.NAR(),a.DNE(0,PF,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[pf.transformMenu,pf.fadeInItems]},changeDetection:0})}return n})();const Ws=new a.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(jo);return()=>n.scrollStrategies.reposition()}}),OF={provide:Ws,deps:[jo],useFactory:function gf(n){return()=>n.scrollStrategies.reposition()}},_f=jh({passive:!0});let Dx=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,i,r,c,d,f,p,w,A){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=f,this._dir=p,this._focusMonitor=w,this._ngZone=A,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ne.yU.EMPTY,this._hoverSubscription=ne.yU.EMPTY,this._menuCloseSubscription=ne.yU.EMPTY,this._changeDetectorRef=(0,a.WQX)(a.gRc),this._handleTouchStart=R=>{hv(R)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=d instanceof su?d:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,_f)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,_f),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),c=r.positionStrategy;this._setPosition(e,c),r.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof su&&(e._startAnimation(),e._directDescendantItems.changes.pipe(vi(e.close)).subscribe(()=>{c.withLockedPosition(!1).reapplyLastPosition(),c.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof su?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe((0,kn.p)(r=>"void"===r.toState),Xi(1),vi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Bv({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const c="start"===r.connectionPair.overlayX?"after":"before",d="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(c,d)):e.setPositionClasses(c,d)})}_setPosition(e,i){let[r,c]="before"===e.xPosition?["end","start"]:["start","end"],[d,f]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[p,w]=[d,f],[A,R]=[r,c],U=0;if(this.triggersSubmenu()){if(R=r="before"===e.xPosition?"start":"end",c=A="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const K=this._parentMaterialMenu.items.first;this._parentInnerPadding=K?K._getHostElement().offsetTop:0}U="bottom"===d?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(p="top"===d?"bottom":"top",w="top"===f?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:A,overlayY:d,offsetY:U},{originX:c,originY:p,overlayX:R,overlayY:d,offsetY:U},{originX:r,originY:w,overlayX:A,overlayY:f,offsetY:-U},{originX:c,originY:w,overlayX:R,overlayY:f,offsetY:-U}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Y(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,kn.p)(d=>d!==this._menuItemInstance),(0,kn.p)(()=>this._menuOpen)):Y();return(0,Uo.h)(e,r,c,i)}_handleMousedown(e){dv(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,kn.p)(e=>e===this._menuItemInstance&&!e.disabled),uf(0,Cw)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof su&&this.menu._isAnimating?this.menu._animationDone.pipe(Xi(1),uf(0,Cw),vi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new iu(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(jo),a.rXU(a.aKT),a.rXU(a.c1b),a.rXU(Ws),a.rXU(Hv,8),a.rXU(mf,10),a.rXU(Ya,8),a.rXU(Ac),a.rXU(a.SKi))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(i,r){1&i&&a.bIt("click",function(d){return r._handleClick(d)})("mousedown",function(d){return r._handleMousedown(d)})("keydown",function(d){return r._handleKeydown(d)}),2&i&&a.BMQ("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return n})(),xx=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[OF],imports:[ro,up,bi,Tp,Rw,bi]})}return n})();const jw=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=63&r|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=63&r|128)}return t},vr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const c=n[r],d=r+1<n.length,f=d?n[r+1]:0,p=r+2<n.length,w=p?n[r+2]:0;let U=(15&f)<<2|w>>6,K=63&w;p||(K=64,d||(U=64)),i.push(e[c>>2],e[(3&c)<<4|f>>4],e[U],e[K])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(jw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const c=n[e++];t[i++]=String.fromCharCode((31&r)<<6|63&c)}else if(r>239&&r<365){const p=((7&r)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[i++]=String.fromCharCode(55296+(p>>10)),t[i++]=String.fromCharCode(56320+(1023&p))}else{const c=n[e++],d=n[e++];t[i++]=String.fromCharCode((15&r)<<12|(63&c)<<6|63&d)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const c=e[n.charAt(r++)],f=r<n.length?e[n.charAt(r)]:0;++r;const w=r<n.length?e[n.charAt(r)]:64;++r;const R=r<n.length?e[n.charAt(r)]:64;if(++r,null==c||null==f||null==w||null==R)throw new Sp;i.push(c<<2|f>>4),64!==w&&(i.push(f<<4&240|w>>2),64!==R&&i.push(w<<6&192|R))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Sp extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hd=function(n){return function(n){const t=jw(n);return vr.encodeByteArray(t,!0)}(n).replace(/\./g,"")},au=function(n){try{return vr.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},fd=()=>{try{return function Rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&au(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},cu=n=>{var t,e;return null===(e=null===(t=fd())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]},Ss=()=>{var n;return null===(n=fd())||void 0===n?void 0:n.config},kx=n=>{var t;return null===(t=fd())||void 0===t?void 0:t[`_${n}`]};class Ox{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,i))}}}function cr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Rc extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Rc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ap.prototype.create)}}class Ap{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,c=this.errors[t],d=c?function $F(n,t){return n.replace(bf,(e,i)=>{const r=t[i];return null!=r?String(r):`<${i}?>`})}(c,i):"Error";return new Rc(r,`${this.serviceName}: ${d} (${r}).`,i)}}const bf=/\{\$([^}]+)}/g;function Ef(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const c=n[r],d=t[r];if(Bx(c)&&Bx(d)){if(!Ef(c,d))return!1}else if(c!==d)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function Bx(n){return null!==n&&"object"==typeof n}function Dp(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function xp(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,c]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(c)}}),t}function Mp(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}class KF{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(void 0===t&&void 0===e&&void 0===i)throw new Error("Missing Observer.");r=function qF(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:i},void 0===r.next&&(r.next=Qw),void 0===r.error&&(r.error=Qw),void 0===r.complete&&(r.complete=Qw);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),c}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qw(){}function ui(n){return n&&n._delegate?n._delegate:n}class lu{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const xa="[DEFAULT]";class Jw{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new Ox;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t?.identifier),r=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(r)return null;throw c}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function If(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const c=this.getOrInitializeService({instanceIdentifier:r});i.resolve(c)}catch{}}}}clearInstance(t=xa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,D.A)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=xa){return this.instances.has(t)}getOptions(t=xa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[c,d]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(c)&&d.resolve(r);return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),c=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;c.add(t),this.onInitCallbacks.set(r,c);const d=this.instances.get(r);return d&&t(d,r),()=>{c.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===xa?void 0:n),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(t=xa){return this.component?this.component.multipleInstances?t:xa:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Tf{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new Jw(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const uu=[];var Un=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Un||{});const gd={debug:Un.DEBUG,verbose:Un.VERBOSE,info:Un.INFO,warn:Un.WARN,error:Un.ERROR,silent:Un.SILENT},Cf=Un.INFO,Sf={[Un.DEBUG]:"log",[Un.VERBOSE]:"log",[Un.INFO]:"info",[Un.WARN]:"warn",[Un.ERROR]:"error"},Af=(n,t,...e)=>{if(t<n.logLevel)return;const i=(new Date).toISOString(),r=Sf[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[r](`[${i}]  ${n.name}:`,...e)};class qv{constructor(t){this.name=t,this._logLevel=Cf,this._logHandler=Af,this._userLogHandler=null,uu.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Un))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?gd[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Un.DEBUG,...t),this._logHandler(this,Un.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Un.VERBOSE,...t),this._logHandler(this,Un.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Un.INFO,...t),this._logHandler(this,Un.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Un.WARN,...t),this._logHandler(this,Un.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Un.ERROR,...t),this._logHandler(this,Un.ERROR,...t)}}const $x=(n,t)=>t.some(e=>n instanceof e);let eI,tI;const nI=new WeakMap,Df=new WeakMap,vl=new WeakMap,iI=new WeakMap,rI=new WeakMap;let Rp={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return Df.get(n);if("objectStoreNames"===t)return n.objectStoreNames||vl.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return vd(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function v$(n){return"function"==typeof n?function sI(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function zx(){return tI||(tI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(aI(this),t),vd(nI.get(this))}:function(...t){return vd(n.apply(aI(this),t))}:function(t,...e){const i=n.call(aI(this),t,...e);return vl.set(i,t.sort?t.sort():[t]),vd(i)}}(n):(n instanceof IDBTransaction&&function _d(n){if(Df.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{e(),r()},d=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});Df.set(n,t)}(n),$x(n,function Gx(){return eI||(eI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Rp):n)}function vd(n){if(n instanceof IDBRequest)return function oI(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{e(vd(n.result)),r()},d=()=>{i(n.error),r()};n.addEventListener("success",c),n.addEventListener("error",d)});return t.then(e=>{e instanceof IDBCursor&&nI.set(e,n)}).catch(()=>{}),rI.set(t,n),t}(n);if(iI.has(n))return iI.get(n);const t=v$(n);return t!==n&&(iI.set(n,t),rI.set(t,n)),t}const aI=n=>rI.get(n),oL=["get","getKey","getAll","getAllKeys","count"],Kr=["put","add","delete","clear"],Xv=new Map;function Wx(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(Xv.get(t))return Xv.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=Kr.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!oL.includes(e))return;const c=function(){var d=(0,D.A)(function*(f,...p){const w=this.transaction(f,r?"readwrite":"readonly");let A=w.store;return i&&(A=A.index(p.shift())),(yield Promise.all([A[e](...p),r&&w.done]))[0]});return function(p){return d.apply(this,arguments)}}();return Xv.set(t,c),c}!function nL(n){Rp=n(Rp)}(n=>({...n,get:(t,e,i)=>Wx(t,e)||n.get(t,e,i),has:(t,e)=>!!Wx(t,e)||n.has(t,e)}));class sL{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function Kx(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}return null}).filter(e=>e).join(" ")}}const Qv="@firebase/app",du=new qv("@firebase/app"),kp="[DEFAULT]",gL={[Qv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},yd=new Map,Mf=new Map,Rf=new Map;function Op(n,t){try{n.container.addComponent(t)}catch(e){du.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function bd(n){const t=n.name;if(Rf.has(t))return du.debug(`There were multiple attempts to register component ${t}.`),!1;Rf.set(t,n);for(const e of yd.values())Op(e,n);for(const e of Mf.values())Op(e,n);return!0}function Np(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function As(n){return void 0!==n.settings}const Ma=new Ap("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Jx{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new lu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ma.create("app-deleted",{appName:this._name})}}const Pf="10.12.4";function eM(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const i=Object.assign({name:kp,automaticDataCollectionEnabled:!1},t),r=i.name;if("string"!=typeof r||!r)throw Ma.create("bad-app-name",{appName:String(r)});if(e||(e=Ss()),!e)throw Ma.create("no-options");const c=yd.get(r);if(c){if(Ef(e,c.options)&&Ef(i,c.config))return c;throw Ma.create("duplicate-app",{appName:r})}const d=new Tf(r);for(const p of Rf.values())d.addComponent(p);const f=new Jx(e,i,d);return yd.set(r,f),f}function bL(n=kp){const t=yd.get(n);if(!t&&n===kp&&Ss())return eM();if(!t)throw Ma.create("no-app",{appName:n});return t}function Oc(n,t,e){var i;let r=null!==(i=gL[n])&&void 0!==i?i:n;e&&(r+=`-${e}`);const c=r.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const f=[`Unable to register library "${r}" with version "${t}":`];return c&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&d&&f.push("and"),d&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void du.warn(f.join(" "))}bd(new lu(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const IL="firebase-heartbeat-database",nM=1,Fp="firebase-heartbeat-store";let mI=null;function pI(){return mI||(mI=function iL(n,t,{blocked:e,upgrade:i,blocking:r,terminated:c}={}){const d=indexedDB.open(n,t),f=vd(d);return i&&d.addEventListener("upgradeneeded",p=>{i(vd(d.result),p.oldVersion,p.newVersion,vd(d.transaction),p)}),e&&d.addEventListener("blocked",p=>e(p.oldVersion,p.newVersion,p)),f.then(p=>{c&&p.addEventListener("close",()=>c()),r&&p.addEventListener("versionchange",w=>r(w.oldVersion,w.newVersion,w))}).catch(()=>{}),f}(IL,nM,{upgrade:(n,t)=>{if(0===t)try{n.createObjectStore(Fp)}catch(e){console.warn(e)}}}).catch(n=>{throw Ma.create("idb-open",{originalErrorMessage:n.message})})),mI}function iM(){return(iM=(0,D.A)(function*(n){try{const e=(yield pI()).transaction(Fp),i=yield e.objectStore(Fp).get(Lp(n));return yield e.done,i}catch(t){if(t instanceof Rc)du.warn(t.message);else{const e=Ma.create("idb-get",{originalErrorMessage:t?.message});du.warn(e.message)}}})).apply(this,arguments)}function rM(n,t){return Jv.apply(this,arguments)}function Jv(){return(Jv=(0,D.A)(function*(n,t){try{const i=(yield pI()).transaction(Fp,"readwrite");yield i.objectStore(Fp).put(t,Lp(n)),yield i.done}catch(e){if(e instanceof Rc)du.warn(e.message);else{const i=Ma.create("idb-set",{originalErrorMessage:e?.message});du.warn(i.message)}}})).apply(this,arguments)}function Lp(n){return`${n.name}!${n.options.appId}`}class gI{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ty(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var t=this;return(0,D.A)(function*(){var e,i;const c=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=oM();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(i=t._heartbeatsCache)||void 0===i?void 0:i.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==d&&!t._heartbeatsCache.heartbeats.some(f=>f.date===d))return t._heartbeatsCache.heartbeats.push({date:d,agent:c}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return(0,D.A)(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const i=oM(),{heartbeatsToSend:r,unsentEntries:c}=function ey(n,t=1024){const e=[];let i=n.slice();for(const r of n){const c=e.find(d=>d.agent===r.agent);if(c){if(c.dates.push(r.date),ny(e)>t){c.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),ny(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}(t._heartbeatsCache.heartbeats),d=hd(JSON.stringify({version:2,heartbeats:r}));return t._heartbeatsCache.lastSentHeartbeatDate=i,c.length>0?(t._heartbeatsCache.heartbeats=c,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),d})()}}function oM(){return(new Date).toISOString().substring(0,10)}class ty{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,D.A)(function*(){return!!function zv(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Kw(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var c;t((null===(c=r.error)||void 0===c?void 0:c.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,D.A)(function*(){if(yield t._canUseIndexedDBPromise){const i=yield function T$(n){return iM.apply(this,arguments)}(t.app);return i?.heartbeats?i:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return(0,D.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const c=yield e.read();return rM(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:c.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return(0,D.A)(function*(){var i;if(yield e._canUseIndexedDBPromise){const c=yield e.read();return rM(e.app,{lastSentHeartbeatDate:null!==(i=t.lastSentHeartbeatDate)&&void 0!==i?i:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...t.heartbeats]})}})()}}function ny(n){return hd(JSON.stringify({version:2,heartbeats:n})).length}!function sM(n){bd(new lu("platform-logger",t=>new sL(t),"PRIVATE")),bd(new lu("heartbeat",t=>new gI(t),"PRIVATE")),Oc(Qv,"0.10.7",n),Oc(Qv,"0.10.7","esm2017"),Oc("fire-js","")}("");var _I=P(1635);const uM=function lM(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},iy=new Ap("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Nc=new qv("@firebase/auth");function ry(n,...t){Nc.logLevel<=Un.ERROR&&Nc.error(`Auth (${Pf}): ${n}`,...t)}function qr(n,...t){throw oy(n,...t)}function Ds(n,...t){return oy(n,...t)}function Vp(n,t,e){const i=Object.assign(Object.assign({},uM()),{[t]:e});return new Ap("auth","Firebase",i).create(t,{appName:n.name})}function Co(n){return Vp(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ed(n,t,e){if(!(t instanceof e))throw e.name!==t.constructor.name&&qr(n,"argument-error"),Vp(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oy(n,...t){if("string"!=typeof n){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return iy.create(n,...t)}function Wt(n,t,...e){if(!n)throw oy(t,...e)}function rs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ry(t),new Error(t)}function yl(n,t){n||rs(t)}function Bp(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function wd(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function xL(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function yI(){return"http:"===wd()||"https:"===wd()}()||function Gv(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class hu{constructor(t,e){this.shortDelay=t,this.longDelay=e,yl(e>t,"Short delay should be less than long delay!"),this.isMobile=function Nx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cr())}()||function Ww(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return xL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ho(n,t){yl(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class bI{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const dM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ML=new hu(3e4,6e4);function Di(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function xi(n,t,e,i){return EI.apply(this,arguments)}function EI(){return(EI=(0,D.A)(function*(n,t,e,i,r={}){return hM(n,r,(0,D.A)(function*(){let c={},d={};i&&("GET"===t?d=i:c={body:JSON.stringify(i)});const f=Dp(Object.assign({key:n.config.apiKey},d)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),bI.fetch()(fM(n,n.config.apiHost,e,f),Object.assign({method:t,headers:p,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function hM(n,t,e){return ay.apply(this,arguments)}function ay(){return(ay=(0,D.A)(function*(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},dM),t);try{const r=new mM(n),c=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();const d=yield c.json();if("needConfirmation"in d)throw kf(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[p,w]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===p)throw kf(n,"credential-already-in-use",d);if("EMAIL_EXISTS"===p)throw kf(n,"email-already-in-use",d);if("USER_DISABLED"===p)throw kf(n,"user-disabled",d);const A=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw Vp(n,A,w);qr(n,A)}}catch(r){if(r instanceof Rc)throw r;qr(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function Ks(n,t,e,i){return wI.apply(this,arguments)}function wI(){return(wI=(0,D.A)(function*(n,t,e,i,r={}){const c=yield xi(n,t,e,i,r);return"mfaPendingCredential"in c&&qr(n,"multi-factor-auth-required",{_serverResponse:c}),c})).apply(this,arguments)}function fM(n,t,e,i){const r=`${t}${e}?${i}`;return n.config.emulator?Ho(n.config,r):`${n.config.apiScheme}://${r}`}function RL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class mM{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Ds(this.auth,"network-request-failed")),ML.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=Ds(n,t,i);return r.customData._tokenResponse=e,r}function pM(n){return void 0!==n&&void 0!==n.enterprise}class TI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return RL(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}}function kL(n,t){return _M.apply(this,arguments)}function _M(){return(_M=(0,D.A)(function*(n,t){return xi(n,"GET","/v2/recaptchaConfig",Di(n,t))})).apply(this,arguments)}function cy(){return(cy=(0,D.A)(function*(n,t){return xi(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function vM(n,t){return uy.apply(this,arguments)}function uy(){return(uy=(0,D.A)(function*(n,t){return xi(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function bl(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function SI(){return(SI=(0,D.A)(function*(n,t=!1){const e=ui(n),i=yield e.getIdToken(t),r=DI(i);Wt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const c="object"==typeof r.firebase?r.firebase:void 0,d=c?.sign_in_provider;return{claims:r,token:i,authTime:bl(AI(r.auth_time)),issuedAtTime:bl(AI(r.iat)),expirationTime:bl(AI(r.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}})).apply(this,arguments)}function AI(n){return 1e3*Number(n)}function DI(n){const[t,e,i]=n.split(".");if(void 0===t||void 0===e||void 0===i)return ry("JWT malformed, contained fewer than 3 sections"),null;try{const r=au(e);return r?JSON.parse(r):(ry("Failed to decode base64 JWT payload"),null)}catch(r){return ry("Caught error parsing JWT payload as JSON",r?.toString()),null}}function yM(n){const t=DI(n);return Wt(t,"internal-error"),Wt(typeof t.exp<"u","internal-error"),Wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Fc(n,t){return xI.apply(this,arguments)}function xI(){return(xI=(0,D.A)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(i){throw i instanceof Rc&&function NL({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Up{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout((0,D.A)(function*(){yield e.iteration()}),i)}iteration(){var t=this;return(0,D.A)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class MI{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=bl(this.lastLoginAt),this.creationTime=bl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Of(n){return dy.apply(this,arguments)}function dy(){return(dy=(0,D.A)(function*(n){var t;const e=n.auth,i=yield n.getIdToken(),r=yield Fc(n,vM(e,{idToken:i}));Wt(r?.users.length,e,"internal-error");const c=r.users[0];n._notifyReloadListener(c);const d=null!==(t=c.providerUserInfo)&&void 0!==t&&t.length?fy(c.providerUserInfo):[],f=function LL(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}(n.providerData,d),A=!!n.isAnonymous&&!(n.email&&c.passwordHash||f?.length),R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new MI(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(n,R)})).apply(this,arguments)}function hy(){return(hy=(0,D.A)(function*(n){const t=ui(n);yield Of(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function fy(n){return n.map(t=>{var{providerId:e}=t,i=(0,_I.Tt)(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function my(){return(my=(0,D.A)(function*(n,t){const e=yield hM(n,{},(0,D.A)(function*(){const i=Dp({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:c}=n.config,d=fM(n,r,"/v1/token",`key=${c}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",bI.fetch()(d,{method:"POST",headers:f,body:i})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function RI(){return(RI=(0,D.A)(function*(n,t){return xi(n,"POST","/v2/accounts:revokeToken",Di(n,t))})).apply(this,arguments)}class Nf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Wt(t.idToken,"internal-error"),Wt(typeof t.idToken<"u","internal-error"),Wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):yM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Wt(0!==t.length,"internal-error");const e=yM(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){var i=this;return(0,D.A)(function*(){return e||!i.accessToken||i.isExpired?(Wt(i.refreshToken,t,"user-token-expired"),i.refreshToken?(yield i.refresh(t,i.refreshToken),i.accessToken):null):i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var i=this;return(0,D.A)(function*(){const{accessToken:r,refreshToken:c,expiresIn:d}=yield function VL(n,t){return my.apply(this,arguments)}(t,e);i.updateTokensAndExpiration(r,c,Number(d))})()}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:c}=e,d=new Nf;return i&&(Wt("string"==typeof i,"internal-error",{appName:t}),d.refreshToken=i),r&&(Wt("string"==typeof r,"internal-error",{appName:t}),d.accessToken=r),c&&(Wt("number"==typeof c,"internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Nf,this.toJSON())}_performRefresh(){return rs("not implemented")}}function fu(n,t){Wt("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class tc{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,c=(0,_I.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Up(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new MI(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,D.A)(function*(){const i=yield Fc(e,e.stsTokenManager.getToken(e.auth,t));return Wt(i,e.auth,"internal-error"),e.accessToken!==i&&(e.accessToken=i,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),i})()}getIdTokenResult(t){return function OL(n){return SI.apply(this,arguments)}(this,t)}reload(){return function FL(n){return hy.apply(this,arguments)}(this)}_assign(t){this!==t&&(Wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new tc(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var i=this;return(0,D.A)(function*(){let r=!1;t.idToken&&t.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield Of(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var t=this;return(0,D.A)(function*(){if(As(t.auth.app))return Promise.reject(Co(t.auth));const e=yield t.getIdToken();return yield Fc(t,function D$(n,t){return cy.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,c,d,f,p,w,A;const R=null!==(i=e.displayName)&&void 0!==i?i:void 0,U=null!==(r=e.email)&&void 0!==r?r:void 0,K=null!==(c=e.phoneNumber)&&void 0!==c?c:void 0,me=null!==(d=e.photoURL)&&void 0!==d?d:void 0,fe=null!==(f=e.tenantId)&&void 0!==f?f:void 0,he=null!==(p=e._redirectEventId)&&void 0!==p?p:void 0,ht=null!==(w=e.createdAt)&&void 0!==w?w:void 0,vt=null!==(A=e.lastLoginAt)&&void 0!==A?A:void 0,{uid:Et,emailVerified:Gt,isAnonymous:vn,providerData:cn,stsTokenManager:Ve}=e;Wt(Et&&Ve,t,"internal-error");const le=Nf.fromJSON(this.name,Ve);Wt("string"==typeof Et,t,"internal-error"),fu(R,t.name),fu(U,t.name),Wt("boolean"==typeof Gt,t,"internal-error"),Wt("boolean"==typeof vn,t,"internal-error"),fu(K,t.name),fu(me,t.name),fu(fe,t.name),fu(he,t.name),fu(ht,t.name),fu(vt,t.name);const we=new tc({uid:Et,auth:t,email:U,emailVerified:Gt,displayName:R,isAnonymous:vn,photoURL:me,phoneNumber:K,tenantId:fe,stsTokenManager:le,createdAt:ht,lastLoginAt:vt});return cn&&Array.isArray(cn)&&(we.providerData=cn.map(je=>Object.assign({},je))),he&&(we._redirectEventId=he),we}static _fromIdTokenResponse(t,e,i=!1){return(0,D.A)(function*(){const r=new Nf;r.updateFromServerResponse(e);const c=new tc({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Of(c),c})()}static _fromGetAccountInfoResponse(t,e,i){return(0,D.A)(function*(){const r=e.users[0];Wt(void 0!==r.localId,"internal-error");const c=void 0!==r.providerUserInfo?fy(r.providerUserInfo):[],d=!(r.email&&r.passwordHash||c?.length),f=new Nf;f.updateFromIdToken(i);const p=new tc({uid:r.localId,auth:t,stsTokenManager:f,isAnonymous:d}),w={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new MI(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash||c?.length)};return Object.assign(p,w),p})()}}const EM=new Map;function Lc(n){yl(n instanceof Function,"Expected a class definition");let t=EM.get(n);return t?(yl(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,EM.set(n,t),t)}const wM=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.A)(function*(){return!0})()}_set(e,i){var r=this;return(0,D.A)(function*(){r.storage[e]=i})()}_get(e){var i=this;return(0,D.A)(function*(){const r=i.storage[e];return void 0===r?null:r})()}_remove(e){var i=this;return(0,D.A)(function*(){delete i.storage[e]})()}_addListener(e,i){}_removeListener(e,i){}}return n.type="NONE",n})();function py(n,t,e){return`firebase:${n}:${t}:${e}`}class Ff{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:c}=this.auth;this.fullUserKey=py(this.userKey,r.apiKey,c),this.fullPersistenceKey=py("persistence",r.apiKey,c),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,D.A)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?tc._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,D.A)(function*(){if(e.persistence===t)return;const i=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,i?e.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,i="authUser"){return(0,D.A)(function*(){if(!e.length)return new Ff(Lc(wM),t,i);const r=(yield Promise.all(e.map(function(){var w=(0,D.A)(function*(A){if(yield A._isAvailable())return A});return function(A){return w.apply(this,arguments)}}()))).filter(w=>w);let c=r[0]||Lc(wM);const d=py(i,t.config.apiKey,t.name);let f=null;for(const w of e)try{const A=yield w._get(d);if(A){const R=tc._fromJSON(t,A);w!==c&&(f=R),c=w;break}}catch{}const p=r.filter(w=>w._shouldAllowMigration);return c._shouldAllowMigration&&p.length?(c=p[0],f&&(yield c._set(d,f.toJSON())),yield Promise.all(e.map(function(){var w=(0,D.A)(function*(A){if(A!==c)try{yield A._remove(d)}catch{}});return function(A){return w.apply(this,arguments)}}())),new Ff(c,t,i)):new Ff(c,t,i)})()}}function IM(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(kI(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(TM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(SM(t))return"Blackberry";if(AM(t))return"Webos";if(PI(t))return"Safari";if((t.includes("chrome/")||CM(t))&&!t.includes("edge/"))return"Chrome";if(OI(t))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function TM(n=cr()){return/firefox\//i.test(n)}function PI(n=cr()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function CM(n=cr()){return/crios\//i.test(n)}function kI(n=cr()){return/iemobile/i.test(n)}function OI(n=cr()){return/android/i.test(n)}function SM(n=cr()){return/blackberry/i.test(n)}function AM(n=cr()){return/webos/i.test(n)}function jp(n=cr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gy(n=cr()){return jp(n)||OI(n)||AM(n)||SM(n)||/windows phone/i.test(n)||kI(n)}function _y(n,t=[]){let e;switch(n){case"Browser":e=IM(cr());break;case"Worker":e=`${IM(cr())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Pf}/${i}`}class UL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=c=>new Promise((d,f)=>{try{d(t(c))}catch(p){f(p)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,D.A)(function*(){if(e.auth.currentUser===t)return;const i=[];try{for(const r of e.queue)yield r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const c of i)try{c()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function vy(){return(vy=(0,D.A)(function*(n,t={}){return xi(n,"GET","/v2/passwordPolicy",Di(n,t))})).apply(this,arguments)}class P${constructor(t){var e,i,r,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=d.minPasswordLength)&&void 0!==e?e:6,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),void 0!==d.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),void 0!==d.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),void 0!==d.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),void 0!==d.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=t.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(c=t.forceUpgradeOnSignin)&&void 0!==c&&c,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,c,d,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=null===(e=p.meetsMinPasswordLength)||void 0===e||e),p.isValid&&(p.isValid=null===(i=p.meetsMaxPasswordLength)||void 0===i||i),p.isValid&&(p.isValid=null===(r=p.containsLowercaseLetter)||void 0===r||r),p.isValid&&(p.isValid=null===(c=p.containsUppercaseLetter)||void 0===c||c),p.isValid&&(p.isValid=null===(d=p.containsNumericCharacter)||void 0===d||d),p.isValid&&(p.isValid=null===(f=p.containsNonAlphanumericCharacter)||void 0===f||f),p}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let i;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class MM{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new LI(this),this.idTokenSubscription=new LI(this),this.beforeStateQueue=new UL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=iy,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){var i=this;return e&&(this._popupRedirectResolver=Lc(e)),this._initializationPromise=this.queue((0,D.A)(function*(){var r,c;if(!i._deleted&&(i.persistenceManager=yield Ff.create(i,t),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(e),i.lastNotifiedUid=(null===(c=i.currentUser)||void 0===c?void 0:c.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,D.A)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUserFromIdToken(t){var e=this;return(0,D.A)(function*(){try{const i=yield vM(e,{idToken:t}),r=yield tc._fromGetAccountInfoResponse(e,i,t);yield e.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),yield e.directlySetCurrentUser(null)}})()}initializeCurrentUser(t){var e=this;return(0,D.A)(function*(){var i;if(As(e.app)){const f=e.app.settings.authIdToken;return f?new Promise(p=>{setTimeout(()=>e.initializeCurrentUserFromIdToken(f).then(p,p))}):e.directlySetCurrentUser(null)}const r=yield e.assertedPersistence.getCurrentUser();let c=r,d=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const f=null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId,p=c?._redirectEventId,w=yield e.tryRedirectSignIn(t);(!f||f===p)&&w?.user&&(c=w.user,d=!0)}if(!c)return e.directlySetCurrentUser(null);if(!c._redirectEventId){if(d)try{yield e.beforeStateQueue.runMiddleware(c)}catch(f){c=r,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(f))}return c?e.reloadAndSetCurrentUserOrClear(c):e.directlySetCurrentUser(null)}return Wt(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===c._redirectEventId?e.directlySetCurrentUser(c):e.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(t){var e=this;return(0,D.A)(function*(){let i=null;try{i=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,D.A)(function*(){try{yield Of(t)}catch(i){if("auth/network-request-failed"!==i?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function sy(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,D.A)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,D.A)(function*(){if(As(e.app))return Promise.reject(Co(e));const i=t?ui(t):null;return i&&Wt(i.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(i&&i._clone(e))})()}_updateCurrentUser(t,e=!1){var i=this;return(0,D.A)(function*(){if(!i._deleted)return t&&Wt(i.tenantId===t.tenantId,i,"tenant-id-mismatch"),e||(yield i.beforeStateQueue.runMiddleware(t)),i.queue((0,D.A)(function*(){yield i.directlySetCurrentUser(t),i.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,D.A)(function*(){return As(t.app)?Promise.reject(Co(t)):(yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0))})()}setPersistence(t){var e=this;return As(this.app)?Promise.reject(Co(this)):this.queue((0,D.A)(function*(){yield e.assertedPersistence.setPersistence(Lc(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return(0,D.A)(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const i=e._getPasswordPolicyInternal();return i.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return(0,D.A)(function*(){const e=yield function FI(n){return vy.apply(this,arguments)}(t),i=new P$(e);null===t.tenantId?t._projectPasswordPolicy=i:t._tenantPasswordPolicies[t.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Ap("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}revokeAccessToken(t){var e=this;return(0,D.A)(function*(){if(e.currentUser){const i=yield e.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};null!=e.tenantId&&(r.tenantId=e.tenantId),yield function bM(n,t){return RI.apply(this,arguments)}(e,r)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var i=this;return(0,D.A)(function*(){const r=yield i.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,D.A)(function*(){if(!e.redirectPersistenceManager){const i=t&&Lc(t)||e._popupRedirectResolver;Wt(i,e,"argument-error"),e.redirectPersistenceManager=yield Ff.create(e,[Lc(i._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,D.A)(function*(){var i,r;return e._isInitialized&&(yield e.queue((0,D.A)(function*(){}))),(null===(i=e._currentUser)||void 0===i?void 0:i._redirectEventId)===t?e._currentUser:(null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,D.A)(function*(){if(t===e.currentUser)return e.queue((0,D.A)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const c="function"==typeof e?e:e.next.bind(e);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),"function"==typeof e){const p=t.addObserver(e,i,r);return()=>{d=!0,p()}}{const p=t.addObserver(e);return()=>{d=!0,p()}}}directlySetCurrentUser(t){var e=this;return(0,D.A)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_y(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,D.A)(function*(){var e;const i={"X-Client-Version":t.clientVersion};t.app.options.appId&&(i["X-Firebase-gmpid"]=t.app.options.appId);const r=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const c=yield t._getAppCheckToken();return c&&(i["X-Firebase-AppCheck"]=c),i})()}_getAppCheckToken(){var t=this;return(0,D.A)(function*(){var e;const i=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return i?.error&&function DL(n,...t){Nc.logLevel<=Un.WARN&&Nc.warn(`Auth (${Pf}): ${n}`,...t)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function xr(n){return ui(n)}class LI{constructor(t){this.auth=t,this.observer=null,this.addObserver=function WF(n,t){const e=new KF(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Lf={loadJS:()=>(0,D.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yy(n){return Lf.loadJS(n)}function BI(n){return`__${n}${Math.floor(1e6*Math.random())}`}class UI{constructor(t){this.type="recaptcha-enterprise",this.auth=xr(t)}verify(t="verify",e=!1){var i=this;return(0,D.A)(function*(){function c(){return c=(0,D.A)(function*(f){if(!e){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var p=(0,D.A)(function*(w,A){kL(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(R=>{if(void 0!==R.recaptchaKey){const U=new TI(R);return null==f.tenantId?f._agentRecaptchaConfig=U:f._tenantRecaptchaConfigs[f.tenantId]=U,w(U.siteKey)}A(new Error("recaptcha Enterprise site key undefined"))}).catch(R=>{A(R)})});return function(w,A){return p.apply(this,arguments)}}())}),c.apply(this,arguments)}function d(f,p,w){const A=window.grecaptcha;pM(A)?A.enterprise.ready(()=>{A.enterprise.execute(f,{action:t}).then(R=>{p(R)}).catch(()=>{p("NO_RECAPTCHA")})}):w(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,p)=>{(function r(f){return c.apply(this,arguments)})(i.auth).then(w=>{if(!e&&pM(window.grecaptcha))d(w,f,p);else{if(typeof window>"u")return void p(new Error("RecaptchaVerifier is only supported in browser"));let A=function RM(){return Lf.recaptchaEnterpriseScript}();0!==A.length&&(A+=w),yy(A).then(()=>{d(w,f,p)}).catch(R=>{p(R)})}}).catch(w=>{p(w)})})})()}}function jI(n,t,e){return by.apply(this,arguments)}function by(){return(by=(0,D.A)(function*(n,t,e,i=!1){const r=new UI(n);let c;try{c=yield r.verify(e)}catch{c=yield r.verify(e,!0)}const d=Object.assign({},t);return Object.assign(d,i?{captchaResp:c}:{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d})).apply(this,arguments)}function Vf(n,t,e,i){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,D.A)(function*(n,t,e,i){var r;if(null!==(r=n._getRecaptchaConfig())&&void 0!==r&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=yield jI(n,t,e,"getOobCode"===e);return i(n,c)}return i(n,t).catch(function(){var c=(0,D.A)(function*(d){if("auth/missing-recaptcha-token"===d.code){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=yield jI(n,t,e,"getOobCode"===e);return i(n,f)}return Promise.reject(d)});return function(d){return c.apply(this,arguments)}}())}),Ey.apply(this,arguments)}function Iy(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function BM(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}class Hp{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return rs("not implemented")}_getIdTokenResponse(t){return rs("not implemented")}_linkToIdToken(t,e){return rs("not implemented")}_getReauthenticationResolver(t){return rs("not implemented")}}function $I(){return($I=(0,D.A)(function*(n,t){return xi(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function zL(n,t){return GI.apply(this,arguments)}function GI(){return(GI=(0,D.A)(function*(n,t){return xi(n,"POST","/v1/accounts:signUp",t)})).apply(this,arguments)}function HM(n,t){return Cy.apply(this,arguments)}function Cy(){return(Cy=(0,D.A)(function*(n,t){return Ks(n,"POST","/v1/accounts:signInWithPassword",Di(n,t))})).apply(this,arguments)}function $p(n,t){return Sy.apply(this,arguments)}function Sy(){return(Sy=(0,D.A)(function*(n,t){return xi(n,"POST","/v1/accounts:sendOobCode",Di(n,t))})).apply(this,arguments)}function Ay(){return(Ay=(0,D.A)(function*(n,t){return $p(n,t)})).apply(this,arguments)}function GM(n,t){return Dy.apply(this,arguments)}function Dy(){return(Dy=(0,D.A)(function*(n,t){return $p(n,t)})).apply(this,arguments)}function zp(){return(zp=(0,D.A)(function*(n,t){return Ks(n,"POST","/v1/accounts:signInWithEmailLink",Di(n,t))})).apply(this,arguments)}function My(){return(My=(0,D.A)(function*(n,t){return Ks(n,"POST","/v1/accounts:signInWithEmailLink",Di(n,t))})).apply(this,arguments)}class Bf extends Hp{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Bf(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Bf(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if(e?.email&&e?.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,D.A)(function*(){switch(e.signInMethod){case"password":return Vf(t,{returnSecureToken:!0,email:e._email,password:e._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",HM);case"emailLink":return function xy(n,t){return zp.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:qr(t,"internal-error")}})()}_linkToIdToken(t,e){var i=this;return(0,D.A)(function*(){switch(i.signInMethod){case"password":return Vf(t,{idToken:e,returnSecureToken:!0,email:i._email,password:i._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",zL);case"emailLink":return function WI(n,t){return My.apply(this,arguments)}(t,{idToken:e,email:i._email,oobCode:i._password});default:qr(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Vc(n,t){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,D.A)(function*(n,t){return Ks(n,"POST","/v1/accounts:signInWithIdp",Di(n,t))})).apply(this,arguments)}class Id extends Hp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Id(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):qr("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,c=(0,_I.Tt)(e,["providerId","signInMethod"]);if(!i||!r)return null;const d=new Id(i,r);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){return Vc(t,this.buildRequest())}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Vc(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Vc(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Dp(e)}return t}}class Kp{constructor(t){var e,i,r,c,d,f;const p=xp(Mp(t)),w=null!==(e=p.apiKey)&&void 0!==e?e:null,A=null!==(i=p.oobCode)&&void 0!==i?i:null,R=function QM(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=p.mode)&&void 0!==r?r:null);Wt(w&&A&&R,"argument-error"),this.apiKey=w,this.operation=R,this.code=A,this.continueUrl=null!==(c=p.continueUrl)&&void 0!==c?c:null,this.languageCode=null!==(d=p.languageCode)&&void 0!==d?d:null,this.tenantId=null!==(f=p.tenantId)&&void 0!==f?f:null}static parseLink(t){const e=function XI(n){const t=xp(Mp(n)).link,e=t?xp(Mp(t)).deep_link_id:null,i=xp(Mp(n)).deep_link_id;return(i?xp(Mp(i)).link:null)||i||e||t||n}(t);try{return new Kp(e)}catch{return null}}}let qp=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,i){return Bf._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const r=Kp.parseLink(i);return Wt(r,"argument-error"),Bf._fromEmailAndCode(e,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class El{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class QI extends El{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}let Oy=(()=>{class n extends QI{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return Id._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:r}=e;if(!i&&!r)return null;try{return n.credential(i,r)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();function YI(n,t){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,D.A)(function*(n,t){return Ks(n,"POST","/v1/accounts:signUp",Di(n,t))})).apply(this,arguments)}class qs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,i,r=!1){return(0,D.A)(function*(){const c=yield tc._fromIdTokenResponse(t,i,r),d=ZI(i);return new qs({user:c,providerId:d,_tokenResponse:i,operationType:e})})()}static _forOperation(t,e,i){return(0,D.A)(function*(){yield t._updateTokensIfNecessary(i,!0);const r=ZI(i);return new qs({user:t,providerId:r,_tokenResponse:i,operationType:e})})()}}function ZI(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function JI(){return(JI=(0,D.A)(function*(n){var t;if(As(n.app))return Promise.reject(Co(n));const e=xr(n);if(yield e._initializationPromise,null!==(t=e.currentUser)&&void 0!==t&&t.isAnonymous)return new qs({user:e.currentUser,providerId:null,operationType:"signIn"});const i=yield YI(e,{returnSecureToken:!0}),r=yield qs._fromIdTokenResponse(e,"signIn",i,!0);return yield e._updateCurrentUser(r.user),r})).apply(this,arguments)}class Vy extends Rc{constructor(t,e,i,r){var c;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Vy.prototype),this.customData={appName:t.name,tenantId:null!==(c=t.tenantId)&&void 0!==c?c:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Vy(t,e,i,r)}}function ZM(n,t,e,i){return("reauthenticate"===t?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(c=>{throw"auth/multi-factor-auth-required"===c.code?Vy._fromErrorAndOperation(n,c,t,i):c})}function By(){return(By=(0,D.A)(function*(n,t,e=!1){const i=yield Fc(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return qs._forOperation(n,"link",i)})).apply(this,arguments)}function tT(n,t){return jy.apply(this,arguments)}function jy(){return(jy=(0,D.A)(function*(n,t,e=!1){const{auth:i}=n;if(As(i.app))return Promise.reject(Co(i));const r="reauthenticate";try{const c=yield Fc(n,ZM(i,r,t,n),e);Wt(c.idToken,i,"internal-error");const d=DI(c.idToken);Wt(d,i,"internal-error");const{sub:f}=d;return Wt(n.uid===f,i,"user-mismatch"),qs._forOperation(n,r,c)}catch(c){throw"auth/user-not-found"===c?.code&&qr(i,"user-mismatch"),c}})).apply(this,arguments)}function nT(n,t){return iT.apply(this,arguments)}function iT(){return(iT=(0,D.A)(function*(n,t,e=!1){if(As(n.app))return Promise.reject(Co(n));const i="signIn",r=yield ZM(n,i,t),c=yield qs._fromIdTokenResponse(n,i,r);return e||(yield n._updateCurrentUser(c.user)),c})).apply(this,arguments)}function e1(n,t){return t1.apply(this,arguments)}function t1(){return(t1=(0,D.A)(function*(n,t){return nT(xr(n),t)})).apply(this,arguments)}function r1(n,t){return oT.apply(this,arguments)}function oT(){return(oT=(0,D.A)(function*(n,t){return tT(ui(n),t)})).apply(this,arguments)}function Hy(n,t,e){var i;Wt((null===(i=e.url)||void 0===i?void 0:i.length)>0,n,"invalid-continue-uri"),Wt(typeof e.dynamicLinkDomain>"u"||e.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),t.continueUrl=e.url,t.dynamicLinkDomain=e.dynamicLinkDomain,t.canHandleCodeInApp=e.handleCodeInApp,e.iOS&&(Wt(e.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),t.iOSBundleId=e.iOS.bundleId),e.android&&(Wt(e.android.packageName.length>0,n,"missing-android-pkg-name"),t.androidInstallApp=e.android.installApp,t.androidMinimumVersionCode=e.android.minimumVersion,t.androidPackageName=e.android.packageName)}function aT(n){return o1.apply(this,arguments)}function o1(){return(o1=(0,D.A)(function*(n){const t=xr(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})).apply(this,arguments)}function Ad(){return(Ad=(0,D.A)(function*(n,t,e){const i=xr(n),r={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};e&&Hy(i,r,e),yield Vf(i,r,"getOobCode",GM)})).apply(this,arguments)}function lT(){return(lT=(0,D.A)(function*(n,t,e){if(As(n.app))return Promise.reject(Co(n));const i=xr(n),d=yield Vf(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YI).catch(p=>{throw"auth/password-does-not-meet-requirements"===p.code&&aT(n),p}),f=yield qs._fromIdTokenResponse(i,"signIn",d);return yield i._updateCurrentUser(f.user),f})).apply(this,arguments)}function dT(){return dT=(0,D.A)(function*(n,t){const e=ui(n),r={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};t&&Hy(e.auth,r,t);const{email:c}=yield function $M(n,t){return Ay.apply(this,arguments)}(e.auth,r);c!==n.email&&(yield n.reload())}),dT.apply(this,arguments)}function Wy(){return(Wy=(0,D.A)(function*(n,t){return xi(n,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Ky(){return Ky=(0,D.A)(function*(n,{displayName:t,photoURL:e}){if(void 0===t&&void 0===e)return;const i=ui(n),c={idToken:yield i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},d=yield Fc(i,function l1(n,t){return Wy.apply(this,arguments)}(i.auth,c));i.displayName=d.displayName||null,i.photoURL=d.photoUrl||null;const f=i.providerData.find(({providerId:p})=>"password"===p);f&&(f.displayName=i.displayName,f.photoURL=i.photoURL),yield i._updateTokensIfNecessary(d)}),Ky.apply(this,arguments)}function d1(n,t,e){return qy.apply(this,arguments)}function qy(){return qy=(0,D.A)(function*(n,t,e){const{auth:i}=n,c={idToken:yield n.getIdToken(),returnSecureToken:!0};t&&(c.email=t),e&&(c.password=e);const d=yield Fc(n,function GL(n,t){return $I.apply(this,arguments)}(i,c));yield n._updateTokensIfNecessary(d,!0)}),qy.apply(this,arguments)}function Xy(){return(Xy=(0,D.A)(function*(n){return ui(n).delete()})).apply(this,arguments)}const Qy="__sak";class p1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Qy,"1"),this.storage.removeItem(Qy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const v2=(()=>{class n extends p1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function p2(){const n=cr();return PI(n)||jp(n)}()&&function NI(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gy(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),c=this.localCache[i];r!==c&&e(i,c,r)}}onStorageEvent(e,i=!1){if(!e.key)return void this.forAllChangedKeys((f,p,w)=>{this.notifyListeners(f,w)});const r=e.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(r);if(e.newValue!==f)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!i)return}const c=()=>{const f=this.storage.getItem(r);!i&&this.localCache[r]===f||this.notifyListeners(r,f)},d=this.storage.getItem(r);!function DM(){return function yf(){const n=cr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||d===e.newValue||e.newValue===e.oldValue?c():setTimeout(c,10)}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const c of Array.from(r))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,i){var r=()=>super._set,c=this;return(0,D.A)(function*(){yield r().call(c,e,i),c.localCache[e]=JSON.stringify(i)})()}_get(e){var i=()=>super._get,r=this;return(0,D.A)(function*(){const c=yield i().call(r,e);return r.localCache[e]=JSON.stringify(c),c})()}_remove(e){var i=()=>super._remove,r=this;return(0,D.A)(function*(){yield i().call(r,e),delete r.localCache[e]})()}}return n.type="LOCAL",n})(),g1=(()=>{class n extends p1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}return n.type="SESSION",n})();let b2=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(c=>c.isListeningto(e));if(i)return i;const r=new n(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var i=this;return(0,D.A)(function*(){const r=e,{eventId:c,eventType:d,data:f}=r.data,p=i.handlersMap[d];if(!p?.size)return;r.ports[0].postMessage({status:"ack",eventId:c,eventType:d});const w=Array.from(p).map(function(){var R=(0,D.A)(function*(U){return U(r.origin,f)});return function(U){return R.apply(this,arguments)}}()),A=yield function y2(n){return Promise.all(n.map(function(){var t=(0,D.A)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(i){return{fulfilled:!1,reason:i}}});return function(e){return t.apply(this,arguments)}}()))}(w);r.ports[0].postMessage({status:"done",eventId:c,eventType:d,response:A})})()}_subscribe(e,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Yy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(10*Math.random());return n+e}class E2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,i=50){var r=this;return(0,D.A)(function*(){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,f;return new Promise((p,w)=>{const A=Yy("",20);c.port1.start();const R=setTimeout(()=>{w(new Error("unsupported_event"))},i);f={messageChannel:c,onMessage(U){const K=U;if(K.data.eventId===A)switch(K.data.status){case"ack":clearTimeout(R),d=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),p(K.data.response);break;default:clearTimeout(R),clearTimeout(d),w(new Error("invalid_response"))}}},r.handlers.add(f),c.port1.addEventListener("message",f.onMessage),r.target.postMessage({eventType:t,eventId:A,data:e},[c.port2])}).finally(()=>{f&&r.removeMessageHandler(f)})})()}}function Mr(){return window}function vT(){return typeof Mr().WorkerGlobalScope<"u"&&"function"==typeof Mr().importScripts}function Zy(){return(Zy=(0,D.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const T2="firebaseLocalStorageDb",eg="firebaseLocalStorage",yT="fbase_key";class tg{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ng(n,t){return n.transaction([eg],t?"readwrite":"readonly").objectStore(eg)}function ig(){const n=indexedDB.open(T2,1);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(eg,{keyPath:yT})}catch(r){e(r)}}),n.addEventListener("success",(0,D.A)(function*(){const i=n.result;i.objectStoreNames.contains(eg)?t(i):(i.close(),yield function S2(){const n=indexedDB.deleteDatabase(T2);return new tg(n).toPromise()}(),t(yield ig()))}))})}function Jy(n,t,e){return eb.apply(this,arguments)}function eb(){return(eb=(0,D.A)(function*(n,t,e){const i=ng(n,!0).put({[yT]:t,value:e});return new tg(i).toPromise()})).apply(this,arguments)}function rg(){return(rg=(0,D.A)(function*(n,t){const e=ng(n,!1).get(t),i=yield new tg(e).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function og(n,t){const e=ng(n,!0).delete(t);return new tg(e).toPromise()}const Z$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,D.A)(function*(){return e.db||(e.db=yield ig()),e.db})()}_withRetries(e){var i=this;return(0,D.A)(function*(){let r=0;for(;;)try{const c=yield i._openDb();return yield e(c)}catch(c){if(r++>3)throw c;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,D.A)(function*(){return vT()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,D.A)(function*(){e.receiver=b2._getInstance(function _1(){return vT()?self:null}()),e.receiver._subscribe("keyChanged",function(){var i=(0,D.A)(function*(r,c){return{keyProcessed:(yield e._poll()).includes(c.key)}});return function(r,c){return i.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var i=(0,D.A)(function*(r,c){return["keyChanged"]});return function(r,c){return i.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,D.A)(function*(){var i,r;if(e.activeServiceWorker=yield function w2(){return Zy.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new E2(e.activeServiceWorker);const c=yield e.sender._send("ping",{},800);c&&null!==(i=c[0])&&void 0!==i&&i.fulfilled&&null!==(r=c[0])&&void 0!==r&&r.value.includes("keyChanged")&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var i=this;return(0,D.A)(function*(){if(i.sender&&i.activeServiceWorker&&function I2(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:e},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,D.A)(function*(){try{if(!indexedDB)return!1;const e=yield ig();return yield Jy(e,Qy,"1"),yield og(e,Qy),!0}catch{}return!1})()}_withPendingWrite(e){var i=this;return(0,D.A)(function*(){i.pendingWrites++;try{yield e()}finally{i.pendingWrites--}})()}_set(e,i){var r=this;return(0,D.A)(function*(){return r._withPendingWrite((0,D.A)(function*(){return yield r._withRetries(c=>Jy(c,e,i)),r.localCache[e]=i,r.notifyServiceWorker(e)}))})()}_get(e){var i=this;return(0,D.A)(function*(){const r=yield i._withRetries(c=>function v1(n,t){return rg.apply(this,arguments)}(c,e));return i.localCache[e]=r,r})()}_remove(e){var i=this;return(0,D.A)(function*(){return i._withPendingWrite((0,D.A)(function*(){return yield i._withRetries(r=>og(r,e)),delete i.localCache[e],i.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,D.A)(function*(){const i=yield e._withRetries(d=>{const f=ng(d,!1).getAll();return new tg(f).toPromise()});if(!i)return[];if(0!==e.pendingWrites)return[];const r=[],c=new Set;if(0!==i.length)for(const{fbase_key:d,value:f}of i)c.add(d),JSON.stringify(e.localCache[d])!==JSON.stringify(f)&&(e.notifyListeners(d,f),r.push(d));for(const d of Object.keys(e.localCache))e.localCache[d]&&!c.has(d)&&(e.notifyListeners(d,null),r.push(d));return r})()}notifyListeners(e,i){this.localCache[e]=i;const r=this.listeners[e];if(r)for(const c of Array.from(r))c(i)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,D.A)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function $f(n,t){return t?Lc(t):(Wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}BI("rcb"),new hu(3e4,6e4);class M1 extends Hp{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Vc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Vc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Vc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function F2(n){return nT(n.auth,new M1(n),n.bypassAuthState)}function wT(n){const{auth:t,user:e}=n;return Wt(e,t,"internal-error"),tT(e,new M1(n),n.bypassAuthState)}function R1(n){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,D.A)(function*(n){const{auth:t,user:e}=n;return Wt(e,t,"internal-error"),function Cd(n,t){return By.apply(this,arguments)}(e,new M1(n),n.bypassAuthState)})).apply(this,arguments)}class IT{constructor(t,e,i,r,c=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,D.A)(function*(i,r){t.pendingPromise={resolve:i,reject:r};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(c){t.reject(c)}});return function(i,r){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,D.A)(function*(){const{urlResponse:i,sessionId:r,postBody:c,tenantId:d,error:f,type:p}=t;if(f)return void e.reject(f);const w={auth:e.auth,requestUri:i,sessionId:r,tenantId:d||void 0,postBody:c||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(p)(w))}catch(A){e.reject(A)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return F2;case"linkViaPopup":case"linkViaRedirect":return R1;case"reauthViaPopup":case"reauthViaRedirect":return wT;default:qr(this.auth,"internal-error")}}resolve(t){yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){yl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const L2=new hu(2e3,1e4);function nb(){return(nb=(0,D.A)(function*(n,t,e){if(As(n.app))return Promise.reject(Ds(n,"operation-not-supported-in-this-environment"));const i=xr(n);Ed(n,t,El);const r=$f(i,e);return new ib(i,"signInViaPopup",t,r).executeNotNull()})).apply(this,arguments)}function ag(){return(ag=(0,D.A)(function*(n,t,e){const i=ui(n);if(As(i.auth.app))return Promise.reject(Ds(i.auth,"operation-not-supported-in-this-environment"));Ed(i.auth,t,El);const r=$f(i.auth,e);return new ib(i.auth,"reauthViaPopup",t,r,i).executeNotNull()})).apply(this,arguments)}let ib=(()=>{class n extends IT{constructor(e,i,r,c,d){super(e,i,c,d),this.provider=r,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var e=this;return(0,D.A)(function*(){const i=yield e.execute();return Wt(i,e.auth,"internal-error"),i})()}onExecution(){var e=this;return(0,D.A)(function*(){yl(1===e.filter.length,"Popup operations only handle one event");const i=Yy();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],i),e.authWindow.associatedEvent=i,e.resolver._originValidation(e.auth).catch(r=>{e.reject(r)}),e.resolver._isIframeWebStorageSupported(e.auth,r=>{r||e.reject(Ds(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Ds(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,r;this.pollId=null!==(r=null===(i=this.authWindow)||void 0===i?void 0:i.window)&&void 0!==r&&r.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ds(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(e,L2.get())};e()}}return n.currentPopupAction=null,n})();const i5="pendingRedirect",rb=new Map;class r5 extends IT{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,D.A)(function*(){let i=rb.get(e.auth._key());if(!i){try{const c=(yield function B2(n,t){return P1.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;i=()=>Promise.resolve(c)}catch(r){i=()=>Promise.reject(r)}rb.set(e.auth._key(),i)}return e.bypassAuthState||rb.set(e.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,i=this;return(0,D.A)(function*(){if("signInViaRedirect"===t.type)return e().call(i,t);if("unknown"!==t.type){if(t.eventId){const r=yield i.auth._redirectUserForId(t.eventId);if(r)return i.user=r,e().call(i,t);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return(0,D.A)(function*(){})()}cleanUp(){}}function P1(){return(P1=(0,D.A)(function*(n,t){const e=function L1(n){return py(i5,n.config.apiKey,n.name)}(t),i=function F1(n){return Lc(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(e));return yield i._remove(e),r})).apply(this,arguments)}function N1(n,t){rb.set(n._key(),t)}function AT(n,t){return cg.apply(this,arguments)}function cg(){return(cg=(0,D.A)(function*(n,t,e=!1){if(As(n.app))return Promise.reject(Co(n));const i=xr(n),r=$f(i,t),d=yield new r5(i,r,e).execute();return d&&!e&&(delete d.user._redirectEventId,yield i._persistUserIfCurrent(d.user),yield i._setRedirectUser(null,t)),d})).apply(this,arguments)}class MT{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function a5(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $2(n);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!$2(t)){const r=(null===(i=t.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";e.onError(Ds(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lg(t))}saveEventToCache(t){this.cachedEventUids.add(lg(t)),this.lastProcessedEventTime=Date.now()}}function lg(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function $2({type:n,error:t}){return"unknown"===n&&"auth/no-auth-event"===t?.code}function ab(){return(ab=(0,D.A)(function*(n,t={}){return xi(n,"GET","/v1/projects",t)})).apply(this,arguments)}const G2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z2=/^https?/;function RT(){return RT=(0,D.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:t}=yield function c5(n){return ab.apply(this,arguments)}(n);for(const e of t)try{if(B1(e))return}catch{}qr(n,"unauthorized-domain")}),RT.apply(this,arguments)}function B1(n){const t=Bp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const d=new URL(n);return""===d.hostname&&""===i?"chrome-extension:"===e&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&d.hostname===i}if(!z2.test(e))return!1;if(G2.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const U1=new hu(3e4,6e4);function PT(){const n=Mr().___jsl;if(n?.H)for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}let cb=null;const kT=new hu(5e3,15e3),l5="__/auth/iframe",H1="emulator/auth/iframe",OT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X2(n){const t=n.config;Wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?Ho(t,H1):`https://${n.config.authDomain}/${l5}`,i={apiKey:t.apiKey,appName:n.name,v:Pf},r=q2.get(n.config.apiHost);r&&(i.eid=r);const c=n._getFrameworks();return c.length&&(i.fw=c.join(",")),`${e}?${Dp(i).slice(1)}`}function $1(){return $1=(0,D.A)(function*(n){const t=yield function j1(n){return cb=cb||function K2(n){return new Promise((t,e)=>{var i,r,c;function d(){PT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{PT(),e(Ds(n,"network-request-failed"))},timeout:U1.get()})}if(null!==(r=null===(i=Mr().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(c=Mr().gapi)||void 0===c||!c.load){const f=BI("iframefcb");return Mr()[f]=()=>{gapi.load?d():e(Ds(n,"network-request-failed"))},yy(`${function PM(){return Lf.gapiScript}()}?onload=${f}`).catch(p=>e(p))}d()}}).catch(t=>{throw cb=null,t})}(n),cb}(n),e=Mr().gapi;return Wt(e,n,"internal-error"),t.open({where:document.body,url:X2(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OT,dontclear:!0},i=>new Promise(function(){var r=(0,D.A)(function*(c,d){yield i.restyle({setHideOnLeave:!1});const f=Ds(n,"network-request-failed"),p=Mr().setTimeout(()=>{d(f)},kT.get());function w(){Mr().clearTimeout(p),c(i)}i.ping(w).then(w,()=>{d(f)})});return function(c,d){return r.apply(this,arguments)}}()))}),$1.apply(this,arguments)}const d5={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class dg{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const m5="__/auth/handler",Q2="emulator/auth/handler",p5=encodeURIComponent("fac");function Y2(n,t,e,i,r,c){return hg.apply(this,arguments)}function hg(){return(hg=(0,D.A)(function*(n,t,e,i,r,c){Wt(n.config.authDomain,n,"auth-domain-config-required"),Wt(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Pf,eventId:r};if(t instanceof El){t.setDefaultLanguage(n.languageCode),d.providerId=t.providerId||"",function Xw(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,R]of Object.entries(c||{}))d[A]=R}if(t instanceof QI){const A=t.getScopes().filter(R=>""!==R);A.length>0&&(d.scopes=A.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const A of Object.keys(f))void 0===f[A]&&delete f[A];const p=yield n._getAppCheckToken(),w=p?`#${p5}=${encodeURIComponent(p)}`:"";return`${function Z2({config:n}){return n.emulator?Ho(n,Q2):`https://${n.authDomain}/${m5}`}(n)}?${Dp(f).slice(1)}${w}`})).apply(this,arguments)}const ub="webStorageSupport",W1=class z1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=g1,this._completeRedirectFn=AT,this._overrideRedirectResult=N1}_openPopup(t,e,i,r){var c=this;return(0,D.A)(function*(){var d;yl(null===(d=c.eventManagers[t._key()])||void 0===d?void 0:d.manager,"_initialize() not called before _openPopup()");const f=yield Y2(t,e,i,Bp(),r);return function lb(n,t,e,i=500,r=600){const c=Math.max((window.screen.availHeight-r)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},d5),{width:i.toString(),height:r.toString(),top:c,left:d}),w=cr().toLowerCase();e&&(f=CM(w)?"_blank":e),TM(w)&&(t=t||"http://localhost",p.scrollbars="yes");const A=Object.entries(p).reduce((U,[K,me])=>`${U}${K}=${me},`,"");if(function BL(n=cr()){var t;return jp(n)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(w)&&"_self"!==f)return function G1(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}(t||"",f),new dg(null);const R=window.open(t||"",f,A);Wt(R,n,"popup-blocked");try{R.focus()}catch{}return new dg(R)}(t,f,Yy())})()}_openRedirect(t,e,i,r){var c=this;return(0,D.A)(function*(){return yield c._originValidation(t),function _T(n){Mr().location.href=n}(yield Y2(t,e,i,Bp(),r)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:c}=this.eventManagers[e];return r?Promise.resolve(r):(yl(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}initAndGetManager(t){var e=this;return(0,D.A)(function*(){const i=yield function u5(n){return $1.apply(this,arguments)}(t),r=new MT(t);return i.register("authEvent",c=>(Wt(c?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:r},e.iframes[t._key()]=i,r})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ub,{type:ub},r=>{var c;const d=null===(c=r?.[0])||void 0===c?void 0:c[ub];void 0!==d&&e(!!d),qr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function W2(n){return RT.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return gy()||PI()||jp()}};var Gf="@firebase/auth";class q1{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,D.A)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const y5=kx("authIdTokenMaxAge")||300;let Q1=null;const eV=n=>function(){var t=(0,D.A)(function*(e){const i=e&&(yield e.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>y5)return;const c=i?.token;Q1!==c&&(Q1=c,yield fetch(n,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))});return function(e){return t.apply(this,arguments)}}();function b5(n=bL()){const t=Np(n,"auth");if(t.isInitialized())return t.getImmediate();const e=function FM(n,t){const e=Np(n,"auth");if(e.isInitialized()){const r=e.getImmediate();if(Ef(e.getOptions(),t??{}))return r;qr(r,"already-initialized")}return e.initialize({options:t})}(n,{popupRedirectResolver:W1,persistence:[Z$,v2,g1]}),i=kx("authTokenSyncURL");if(i&&"boolean"==typeof isSecureContext&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const d=eV(c.toString());(function z$(n,t,e){ui(n).beforeAuthStateChanged(t,e)})(e,d,()=>d(e.currentUser)),function G$(n,t,e,i){ui(n).onIdTokenChanged(t,e,i)}(e,f=>d(f))}}const r=cu("auth");return r&&function LM(n,t,e){const i=xr(n);Wt(i._canInitEmulator,i,"emulator-config-failed"),Wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!!e?.disableWarnings,c=Iy(t),{host:d,port:f}=function VM(n){const t=Iy(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const c=r[1];return{host:c,port:BM(i.substr(c.length+1))}}{const[c,d]=i.split(":");return{host:c,port:BM(d)}}}(t);i.config.emulator={url:`${c}//${d}${null===f?"":`:${f}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function $L(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(e,`http://${r}`),e}(function jL(n){Lf=n})({loadJS:n=>new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const c=Ds("internal-error");c.customData=r,e(c)},i.type="text/javascript",i.charset="UTF-8",function Y1(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function _5(n){bd(new lu("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=i.options;Wt(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_y(n)},w=new MM(i,r,c,p);return function HL(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Lc);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}(w,e),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),bd(new lu("auth-internal",t=>{const e=xr(t.getProvider("auth").getImmediate());return new q1(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oc(Gf,"1.7.5",function X1(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Oc(Gf,"1.7.5","esm2017")}("Browser"),Oc("firebase","10.12.4","app");var zf,nV,mg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},tV={};(function(){var n;function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(Ve,le,we){we||(we=0);var je=Array(16);if("string"==typeof le)for(var Ke=0;16>Ke;++Ke)je[Ke]=le.charCodeAt(we++)|le.charCodeAt(we++)<<8|le.charCodeAt(we++)<<16|le.charCodeAt(we++)<<24;else for(Ke=0;16>Ke;++Ke)je[Ke]=le[we++]|le[we++]<<8|le[we++]<<16|le[we++]<<24;var rt=Ve.g[3],Te=(le=Ve.g[0])+(rt^(we=Ve.g[1])&((Ke=Ve.g[2])^rt))+je[0]+3614090360&4294967295;Te=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=(we=(Ke=(rt=(le=we+(Te<<7&4294967295|Te>>>25))+((Te=rt+(Ke^le&(we^Ke))+je[1]+3905402710&4294967295)<<12&4294967295|Te>>>20))+((Te=Ke+(we^rt&(le^we))+je[2]+606105819&4294967295)<<17&4294967295|Te>>>15))+((Te=we+(le^Ke&(rt^le))+je[3]+3250441966&4294967295)<<22&4294967295|Te>>>10))+((Te=le+(rt^we&(Ke^rt))+je[4]+4118548399&4294967295)<<7&4294967295|Te>>>25))+((Te=rt+(Ke^le&(we^Ke))+je[5]+1200080426&4294967295)<<12&4294967295|Te>>>20))+((Te=Ke+(we^rt&(le^we))+je[6]+2821735955&4294967295)<<17&4294967295|Te>>>15))+((Te=we+(le^Ke&(rt^le))+je[7]+4249261313&4294967295)<<22&4294967295|Te>>>10))+((Te=le+(rt^we&(Ke^rt))+je[8]+1770035416&4294967295)<<7&4294967295|Te>>>25))+((Te=rt+(Ke^le&(we^Ke))+je[9]+2336552879&4294967295)<<12&4294967295|Te>>>20))+((Te=Ke+(we^rt&(le^we))+je[10]+4294925233&4294967295)<<17&4294967295|Te>>>15))+((Te=we+(le^Ke&(rt^le))+je[11]+2304563134&4294967295)<<22&4294967295|Te>>>10))+((Te=le+(rt^we&(Ke^rt))+je[12]+1804603682&4294967295)<<7&4294967295|Te>>>25))+((Te=rt+(Ke^le&(we^Ke))+je[13]+4254626195&4294967295)<<12&4294967295|Te>>>20))+((Te=Ke+(we^rt&(le^we))+je[14]+2792965006&4294967295)<<17&4294967295|Te>>>15))+((Te=we+(le^Ke&(rt^le))+je[15]+1236535329&4294967295)<<22&4294967295|Te>>>10))+((Te=le+(Ke^rt&(we^Ke))+je[1]+4129170786&4294967295)<<5&4294967295|Te>>>27))+((Te=rt+(we^Ke&(le^we))+je[6]+3225465664&4294967295)<<9&4294967295|Te>>>23))+((Te=Ke+(le^we&(rt^le))+je[11]+643717713&4294967295)<<14&4294967295|Te>>>18))+((Te=we+(rt^le&(Ke^rt))+je[0]+3921069994&4294967295)<<20&4294967295|Te>>>12))+((Te=le+(Ke^rt&(we^Ke))+je[5]+3593408605&4294967295)<<5&4294967295|Te>>>27))+((Te=rt+(we^Ke&(le^we))+je[10]+38016083&4294967295)<<9&4294967295|Te>>>23))+((Te=Ke+(le^we&(rt^le))+je[15]+3634488961&4294967295)<<14&4294967295|Te>>>18))+((Te=we+(rt^le&(Ke^rt))+je[4]+3889429448&4294967295)<<20&4294967295|Te>>>12))+((Te=le+(Ke^rt&(we^Ke))+je[9]+568446438&4294967295)<<5&4294967295|Te>>>27))+((Te=rt+(we^Ke&(le^we))+je[14]+3275163606&4294967295)<<9&4294967295|Te>>>23))+((Te=Ke+(le^we&(rt^le))+je[3]+4107603335&4294967295)<<14&4294967295|Te>>>18))+((Te=we+(rt^le&(Ke^rt))+je[8]+1163531501&4294967295)<<20&4294967295|Te>>>12))+((Te=le+(Ke^rt&(we^Ke))+je[13]+2850285829&4294967295)<<5&4294967295|Te>>>27))+((Te=rt+(we^Ke&(le^we))+je[2]+4243563512&4294967295)<<9&4294967295|Te>>>23))+((Te=Ke+(le^we&(rt^le))+je[7]+1735328473&4294967295)<<14&4294967295|Te>>>18))+((Te=we+(rt^le&(Ke^rt))+je[12]+2368359562&4294967295)<<20&4294967295|Te>>>12))+((Te=le+(we^Ke^rt)+je[5]+4294588738&4294967295)<<4&4294967295|Te>>>28))+((Te=rt+(le^we^Ke)+je[8]+2272392833&4294967295)<<11&4294967295|Te>>>21))+((Te=Ke+(rt^le^we)+je[11]+1839030562&4294967295)<<16&4294967295|Te>>>16))+((Te=we+(Ke^rt^le)+je[14]+4259657740&4294967295)<<23&4294967295|Te>>>9))+((Te=le+(we^Ke^rt)+je[1]+2763975236&4294967295)<<4&4294967295|Te>>>28))+((Te=rt+(le^we^Ke)+je[4]+1272893353&4294967295)<<11&4294967295|Te>>>21))+((Te=Ke+(rt^le^we)+je[7]+4139469664&4294967295)<<16&4294967295|Te>>>16))+((Te=we+(Ke^rt^le)+je[10]+3200236656&4294967295)<<23&4294967295|Te>>>9))+((Te=le+(we^Ke^rt)+je[13]+681279174&4294967295)<<4&4294967295|Te>>>28))+((Te=rt+(le^we^Ke)+je[0]+3936430074&4294967295)<<11&4294967295|Te>>>21))+((Te=Ke+(rt^le^we)+je[3]+3572445317&4294967295)<<16&4294967295|Te>>>16))+((Te=we+(Ke^rt^le)+je[6]+76029189&4294967295)<<23&4294967295|Te>>>9))+((Te=le+(we^Ke^rt)+je[9]+3654602809&4294967295)<<4&4294967295|Te>>>28))+((Te=rt+(le^we^Ke)+je[12]+3873151461&4294967295)<<11&4294967295|Te>>>21))+((Te=Ke+(rt^le^we)+je[15]+530742520&4294967295)<<16&4294967295|Te>>>16))+((Te=we+(Ke^rt^le)+je[2]+3299628645&4294967295)<<23&4294967295|Te>>>9))+((Te=le+(Ke^(we|~rt))+je[0]+4096336452&4294967295)<<6&4294967295|Te>>>26))+((Te=rt+(we^(le|~Ke))+je[7]+1126891415&4294967295)<<10&4294967295|Te>>>22))+((Te=Ke+(le^(rt|~we))+je[14]+2878612391&4294967295)<<15&4294967295|Te>>>17))+((Te=we+(rt^(Ke|~le))+je[5]+4237533241&4294967295)<<21&4294967295|Te>>>11))+((Te=le+(Ke^(we|~rt))+je[12]+1700485571&4294967295)<<6&4294967295|Te>>>26))+((Te=rt+(we^(le|~Ke))+je[3]+2399980690&4294967295)<<10&4294967295|Te>>>22))+((Te=Ke+(le^(rt|~we))+je[10]+4293915773&4294967295)<<15&4294967295|Te>>>17))+((Te=we+(rt^(Ke|~le))+je[1]+2240044497&4294967295)<<21&4294967295|Te>>>11))+((Te=le+(Ke^(we|~rt))+je[8]+1873313359&4294967295)<<6&4294967295|Te>>>26))+((Te=rt+(we^(le|~Ke))+je[15]+4264355552&4294967295)<<10&4294967295|Te>>>22))+((Te=Ke+(le^(rt|~we))+je[6]+2734768916&4294967295)<<15&4294967295|Te>>>17))+((Te=we+(rt^(Ke|~le))+je[13]+1309151649&4294967295)<<21&4294967295|Te>>>11))+((rt=(le=we+((Te=le+(Ke^(we|~rt))+je[4]+4149444226&4294967295)<<6&4294967295|Te>>>26))+((Te=rt+(we^(le|~Ke))+je[11]+3174756917&4294967295)<<10&4294967295|Te>>>22))^((Ke=rt+((Te=Ke+(le^(rt|~we))+je[2]+718787259&4294967295)<<15&4294967295|Te>>>17))|~le))+je[9]+3951481745&4294967295,Ve.g[0]=Ve.g[0]+le&4294967295,Ve.g[1]=Ve.g[1]+(Ke+(Te<<21&4294967295|Te>>>11))&4294967295,Ve.g[2]=Ve.g[2]+Ke&4294967295,Ve.g[3]=Ve.g[3]+rt&4294967295}function d(Ve,le){this.h=le;for(var we=[],je=!0,Ke=Ve.length-1;0<=Ke;Ke--){var rt=0|Ve[Ke];je&&rt==le||(we[Ke]=rt,je=!1)}this.g=we}(function t(Ve,le){function we(){}we.prototype=le.prototype,Ve.D=le.prototype,Ve.prototype=new we,Ve.prototype.constructor=Ve,Ve.C=function(je,Ke,rt){for(var Te=Array(arguments.length-2),hi=2;hi<arguments.length;hi++)Te[hi-2]=arguments[hi];return le.prototype[Ke].apply(je,Te)}})(i,function e(){this.blockSize=-1}),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},i.prototype.u=function(Ve,le){void 0===le&&(le=Ve.length);for(var we=le-this.blockSize,je=this.B,Ke=this.h,rt=0;rt<le;){if(0==Ke)for(;rt<=we;)r(this,Ve,rt),rt+=this.blockSize;if("string"==typeof Ve){for(;rt<le;)if(je[Ke++]=Ve.charCodeAt(rt++),Ke==this.blockSize){r(this,je),Ke=0;break}}else for(;rt<le;)if(je[Ke++]=Ve[rt++],Ke==this.blockSize){r(this,je),Ke=0;break}}this.h=Ke,this.o+=le},i.prototype.v=function(){var Ve=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ve[0]=128;for(var le=1;le<Ve.length-8;++le)Ve[le]=0;var we=8*this.o;for(le=Ve.length-8;le<Ve.length;++le)Ve[le]=255&we,we/=256;for(this.u(Ve),Ve=Array(16),le=we=0;4>le;++le)for(var je=0;32>je;je+=8)Ve[we++]=this.g[le]>>>je&255;return Ve};var f={};function p(Ve){return-128<=Ve&&128>Ve?function c(Ve,le){var we=f;return Object.prototype.hasOwnProperty.call(we,Ve)?we[Ve]:we[Ve]=le(Ve)}(Ve,function(le){return new d([0|le],0>le?-1:0)}):new d([0|Ve],0>Ve?-1:0)}function w(Ve){if(isNaN(Ve)||!isFinite(Ve))return R;if(0>Ve)return he(w(-Ve));for(var le=[],we=1,je=0;Ve>=we;je++)le[je]=Ve/we|0,we*=4294967296;return new d(le,0)}var R=p(0),U=p(1),K=p(16777216);function me(Ve){if(0!=Ve.h)return!1;for(var le=0;le<Ve.g.length;le++)if(0!=Ve.g[le])return!1;return!0}function fe(Ve){return-1==Ve.h}function he(Ve){for(var le=Ve.g.length,we=[],je=0;je<le;je++)we[je]=~Ve.g[je];return new d(we,~Ve.h).add(U)}function ht(Ve,le){return Ve.add(he(le))}function vt(Ve,le){for(;(65535&Ve[le])!=Ve[le];)Ve[le+1]+=Ve[le]>>>16,Ve[le]&=65535,le++}function Et(Ve,le){this.g=Ve,this.h=le}function Gt(Ve,le){if(me(le))throw Error("division by zero");if(me(Ve))return new Et(R,R);if(fe(Ve))return le=Gt(he(Ve),le),new Et(he(le.g),he(le.h));if(fe(le))return le=Gt(Ve,he(le)),new Et(he(le.g),le.h);if(30<Ve.g.length){if(fe(Ve)||fe(le))throw Error("slowDivide_ only works with positive integers.");for(var we=U,je=le;0>=je.l(Ve);)we=vn(we),je=vn(je);var Ke=cn(we,1),rt=cn(je,1);for(je=cn(je,2),we=cn(we,2);!me(je);){var Te=rt.add(je);0>=Te.l(Ve)&&(Ke=Ke.add(we),rt=Te),je=cn(je,1),we=cn(we,1)}return le=ht(Ve,Ke.j(le)),new Et(Ke,le)}for(Ke=R;0<=Ve.l(le);){for(we=Math.max(1,Math.floor(Ve.m()/le.m())),je=48>=(je=Math.ceil(Math.log(we)/Math.LN2))?1:Math.pow(2,je-48),Te=(rt=w(we)).j(le);fe(Te)||0<Te.l(Ve);)Te=(rt=w(we-=je)).j(le);me(rt)&&(rt=U),Ke=Ke.add(rt),Ve=ht(Ve,Te)}return new Et(Ke,Ve)}function vn(Ve){for(var le=Ve.g.length+1,we=[],je=0;je<le;je++)we[je]=Ve.i(je)<<1|Ve.i(je-1)>>>31;return new d(we,Ve.h)}function cn(Ve,le){var we=le>>5;le%=32;for(var je=Ve.g.length-we,Ke=[],rt=0;rt<je;rt++)Ke[rt]=0<le?Ve.i(rt+we)>>>le|Ve.i(rt+we+1)<<32-le:Ve.i(rt+we);return new d(Ke,Ve.h)}(n=d.prototype).m=function(){if(fe(this))return-he(this).m();for(var Ve=0,le=1,we=0;we<this.g.length;we++){var je=this.i(we);Ve+=(0<=je?je:4294967296+je)*le,le*=4294967296}return Ve},n.toString=function(Ve){if(2>(Ve=Ve||10)||36<Ve)throw Error("radix out of range: "+Ve);if(me(this))return"0";if(fe(this))return"-"+he(this).toString(Ve);for(var le=w(Math.pow(Ve,6)),we=this,je="";;){var Ke=Gt(we,le).g,rt=((0<(we=ht(we,Ke.j(le))).g.length?we.g[0]:we.h)>>>0).toString(Ve);if(me(we=Ke))return rt+je;for(;6>rt.length;)rt="0"+rt;je=rt+je}},n.i=function(Ve){return 0>Ve?0:Ve<this.g.length?this.g[Ve]:this.h},n.l=function(Ve){return fe(Ve=ht(this,Ve))?-1:me(Ve)?0:1},n.abs=function(){return fe(this)?he(this):this},n.add=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0,Ke=0;Ke<=le;Ke++){var rt=je+(65535&this.i(Ke))+(65535&Ve.i(Ke)),Te=(rt>>>16)+(this.i(Ke)>>>16)+(Ve.i(Ke)>>>16);je=Te>>>16,we[Ke]=(Te&=65535)<<16|(rt&=65535)}return new d(we,-2147483648&we[we.length-1]?-1:0)},n.j=function(Ve){if(me(this)||me(Ve))return R;if(fe(this))return fe(Ve)?he(this).j(he(Ve)):he(he(this).j(Ve));if(fe(Ve))return he(this.j(he(Ve)));if(0>this.l(K)&&0>Ve.l(K))return w(this.m()*Ve.m());for(var le=this.g.length+Ve.g.length,we=[],je=0;je<2*le;je++)we[je]=0;for(je=0;je<this.g.length;je++)for(var Ke=0;Ke<Ve.g.length;Ke++){var rt=this.i(je)>>>16,Te=65535&this.i(je),hi=Ve.i(Ke)>>>16,Ps=65535&Ve.i(Ke);we[2*je+2*Ke]+=Te*Ps,vt(we,2*je+2*Ke),we[2*je+2*Ke+1]+=rt*Ps,vt(we,2*je+2*Ke+1),we[2*je+2*Ke+1]+=Te*hi,vt(we,2*je+2*Ke+1),we[2*je+2*Ke+2]+=rt*hi,vt(we,2*je+2*Ke+2)}for(je=0;je<le;je++)we[je]=we[2*je+1]<<16|we[2*je];for(je=le;je<2*le;je++)we[je]=0;return new d(we,0)},n.A=function(Ve){return Gt(this,Ve).h},n.and=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<le;je++)we[je]=this.i(je)&Ve.i(je);return new d(we,this.h&Ve.h)},n.or=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<le;je++)we[je]=this.i(je)|Ve.i(je);return new d(we,this.h|Ve.h)},n.xor=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<le;je++)we[je]=this.i(je)^Ve.i(je);return new d(we,this.h^Ve.h)},i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,nV=tV.Md5=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=w,d.fromString=function A(Ve,le){if(0==Ve.length)throw Error("number format error: empty string");if(2>(le=le||10)||36<le)throw Error("radix out of range: "+le);if("-"==Ve.charAt(0))return he(A(Ve.substring(1),le));if(0<=Ve.indexOf("-"))throw Error('number format error: interior "-" character');for(var we=w(Math.pow(le,8)),je=R,Ke=0;Ke<Ve.length;Ke+=8){var rt=Math.min(8,Ve.length-Ke),Te=parseInt(Ve.substring(Ke,Ke+rt),le);8>rt?(rt=w(Math.pow(le,rt)),je=je.j(rt).add(w(Te))):je=(je=je.j(we)).add(w(Te))}return je},zf=tV.Integer=d}).apply(typeof mg<"u"?mg:typeof self<"u"?self:typeof window<"u"?window:{});var iV,J1,pg,rV,gg,VT,oV,eR,BT,db=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pu={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(_,M,L){return _==Array.prototype||_==Object.prototype||(_[M]=L.value),_},i=function e(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof db&&db];for(var M=0;M<_.length;++M){var L=_[M];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}(this);!function r(_,M){if(M)e:{var L=i;_=_.split(".");for(var q=0;q<_.length-1;q++){var at=_[q];if(!(at in L))break e;L=L[at]}(M=M(q=L[_=_[_.length-1]]))!=q&&null!=M&&t(L,_,{configurable:!0,writable:!0,value:M})}}("Array.prototype.values",function(_){return _||function(){return function c(_,M){_ instanceof String&&(_+="");var L=0,q=!1,at={next:function(){if(!q&&L<_.length){var gt=L++;return{value:M(gt,_[gt]),done:!1}}return q=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}(this,function(M,L){return L})}});var d=d||{},f=this||self;function p(_){var M=typeof _;return"array"==(M="object"!=M?M:_?Array.isArray(_)?"array":M:"null")||"object"==M&&"number"==typeof _.length}function w(_){var M=typeof _;return"object"==M&&null!=_||"function"==M}function A(_,M,L){return _.call.apply(_.bind,arguments)}function R(_,M,L){if(!_)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,q),_.apply(M,at)}}return function(){return _.apply(M,arguments)}}function U(_,M,L){return(U=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?A:R).apply(null,arguments)}function K(_,M){var L=Array.prototype.slice.call(arguments,1);return function(){var q=L.slice();return q.push.apply(q,arguments),_.apply(this,q)}}function me(_,M){function L(){}L.prototype=M.prototype,_.aa=M.prototype,_.prototype=new L,_.prototype.constructor=_,_.Qb=function(q,at,gt){for(var Zt=Array(arguments.length-2),Yi=2;Yi<arguments.length;Yi++)Zt[Yi-2]=arguments[Yi];return M.prototype[at].apply(q,Zt)}}function fe(_){const M=_.length;if(0<M){const L=Array(M);for(let q=0;q<M;q++)L[q]=_[q];return L}return[]}function he(_,M){for(let L=1;L<arguments.length;L++){const q=arguments[L];if(p(q)){const at=_.length||0,gt=q.length||0;_.length=at+gt;for(let Zt=0;Zt<gt;Zt++)_[at+Zt]=q[Zt]}else _.push(q)}}function vt(_){return/^[\s\xa0]*$/.test(_)}function Et(){var _=f.navigator;return _&&(_=_.userAgent)?_:""}function Gt(_){return Gt[" "](_),_}Gt[" "]=function(){};var vn=!(-1==Et().indexOf("Gecko")||-1!=Et().toLowerCase().indexOf("webkit")&&-1==Et().indexOf("Edge")||-1!=Et().indexOf("Trident")||-1!=Et().indexOf("MSIE")||-1!=Et().indexOf("Edge"));function cn(_,M,L){for(const q in _)M.call(L,_[q],q,_)}function le(_){const M={};for(const L in _)M[L]=_[L];return M}const we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(_,M){let L,q;for(let at=1;at<arguments.length;at++){for(L in q=arguments[at],q)_[L]=q[L];for(let gt=0;gt<we.length;gt++)L=we[gt],Object.prototype.hasOwnProperty.call(q,L)&&(_[L]=q[L])}}function Ke(_){var M=1;_=_.split(":");const L=[];for(;0<M&&_.length;)L.push(_.shift()),M--;return _.length&&L.push(_.join(":")),L}function rt(_){f.setTimeout(()=>{throw _},0)}function Te(){var _=Ur;let M=null;return _.g&&(M=_.g,_.g=_.g.next,_.g||(_.h=null),M.next=null),M}var Ps=new class ht{constructor(M,L){this.i=M,this.j=L,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}(()=>new ds,_=>_.reset());class ds{constructor(){this.next=this.g=this.h=null}set(M,L){this.h=M,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let Jr,nr=!1,Ur=new class hi{constructor(){this.h=this.g=null}add(M,L){const q=Ps.get();q.set(M,L),this.h?this.h.next=q:this.g=q,this.h=q}},zo=()=>{const _=f.Promise.resolve(void 0);Jr=()=>{_.then(na)}};var na=()=>{for(var _;_=Te();){try{_.h.call(_.g)}catch(L){rt(L)}var M=Ps;M.j(_),100>M.h&&(M.h++,_.next=M.g,M.g=_)}nr=!1};function ci(){this.s=this.s,this.C=this.C}function ir(_,M){this.type=_,this.g=this.target=M,this.defaultPrevented=!1}ci.prototype.s=!1,ci.prototype.ma=function(){this.s||(this.s=!0,this.N())},ci.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ir.prototype.h=function(){this.defaultPrevented=!0};var tk=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var _=!1,M=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const L=()=>{};f.addEventListener("test",L,M),f.removeEventListener("test",L,M)}catch{}return _}();function $C(_,M){if(ir.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var L=this.type=_.type,q=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=M,M=_.relatedTarget){if(vn){e:{try{Gt(M.nodeName);var at=!0;break e}catch{}at=!1}at||(M=null)}}else"mouseover"==L?M=_.fromElement:"mouseout"==L&&(M=_.toElement);this.relatedTarget=M,q?(this.clientX=void 0!==q.clientX?q.clientX:q.pageX,this.clientY=void 0!==q.clientY?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:coe[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&$C.aa.h.call(this)}}me($C,ir);var coe={2:"touch",3:"pen",4:"mouse"};$C.prototype.h=function(){$C.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var GC="closure_listenable_"+(1e6*Math.random()|0),loe=0;function uoe(_,M,L,q,at){this.listener=_,this.proxy=null,this.src=M,this.type=L,this.capture=!!q,this.ha=at,this.key=++loe,this.da=this.fa=!1}function nk(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function ik(_){this.src=_,this.g={},this.h=0}function f3(_,M){var L=M.type;if(L in _.g){var gt,q=_.g[L],at=Array.prototype.indexOf.call(q,M,void 0);(gt=0<=at)&&Array.prototype.splice.call(q,at,1),gt&&(nk(M),0==_.g[L].length&&(delete _.g[L],_.h--))}}function m3(_,M,L,q){for(var at=0;at<_.length;++at){var gt=_[at];if(!gt.da&&gt.listener==M&&gt.capture==!!L&&gt.ha==q)return at}return-1}ik.prototype.add=function(_,M,L,q,at){var gt=_.toString();(_=this.g[gt])||(_=this.g[gt]=[],this.h++);var Zt=m3(_,M,q,at);return-1<Zt?(M=_[Zt],L||(M.fa=!1)):((M=new uoe(M,this.src,gt,!!q,at)).fa=L,_.push(M)),M};var p3="closure_lm_"+(1e6*Math.random()|0),g3={};function sW(_,M,L,q,at){if(q&&q.once)return cW(_,M,L,q,at);if(Array.isArray(M)){for(var gt=0;gt<M.length;gt++)sW(_,M[gt],L,q,at);return null}return L=b3(L),_&&_[GC]?_.K(M,L,w(q)?!!q.capture:!!q,at):aW(_,M,L,!1,q,at)}function aW(_,M,L,q,at,gt){if(!M)throw Error("Invalid event type");var Zt=w(at)?!!at.capture:!!at,Yi=v3(_);if(Yi||(_[p3]=Yi=new ik(_)),(L=Yi.add(M,L,q,Zt,gt)).proxy)return L;if(q=function doe(){const M=hoe;return function _(L){return M.call(_.src,_.listener,L)}}(),L.proxy=q,q.src=_,q.listener=L,_.addEventListener)tk||(at=Zt),void 0===at&&(at=!1),_.addEventListener(M.toString(),q,at);else if(_.attachEvent)_.attachEvent(uW(M.toString()),q);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(q)}return L}function cW(_,M,L,q,at){if(Array.isArray(M)){for(var gt=0;gt<M.length;gt++)cW(_,M[gt],L,q,at);return null}return L=b3(L),_&&_[GC]?_.L(M,L,w(q)?!!q.capture:!!q,at):aW(_,M,L,!0,q,at)}function lW(_,M,L,q,at){if(Array.isArray(M))for(var gt=0;gt<M.length;gt++)lW(_,M[gt],L,q,at);else q=w(q)?!!q.capture:!!q,L=b3(L),_&&_[GC]?(_=_.i,(M=String(M).toString())in _.g&&-1<(L=m3(gt=_.g[M],L,q,at))&&(nk(gt[L]),Array.prototype.splice.call(gt,L,1),0==gt.length&&(delete _.g[M],_.h--))):_&&(_=v3(_))&&(M=_.g[M.toString()],_=-1,M&&(_=m3(M,L,q,at)),(L=-1<_?M[_]:null)&&_3(L))}function _3(_){if("number"!=typeof _&&_&&!_.da){var M=_.src;if(M&&M[GC])f3(M.i,_);else{var L=_.type,q=_.proxy;M.removeEventListener?M.removeEventListener(L,q,_.capture):M.detachEvent?M.detachEvent(uW(L),q):M.addListener&&M.removeListener&&M.removeListener(q),(L=v3(M))?(f3(L,_),0==L.h&&(L.src=null,M[p3]=null)):nk(_)}}}function uW(_){return _ in g3?g3[_]:g3[_]="on"+_}function hoe(_,M){if(_.da)_=!0;else{M=new $C(M,this);var L=_.listener,q=_.ha||_.src;_.fa&&_3(_),_=L.call(q,M)}return _}function v3(_){return(_=_[p3])instanceof ik?_:null}var y3="__closure_events_fn_"+(1e9*Math.random()>>>0);function b3(_){return"function"==typeof _?_:(_[y3]||(_[y3]=function(M){return _.handleEvent(M)}),_[y3])}function ks(){ci.call(this),this.i=new ik(this),this.M=this,this.F=null}function ia(_,M){var L,q=_.F;if(q)for(L=[];q;q=q.F)L.push(q);if(_=_.M,q=M.type||M,"string"==typeof M)M=new ir(M,_);else if(M instanceof ir)M.target=M.target||_;else{var at=M;je(M=new ir(q,_),at)}if(at=!0,L)for(var gt=L.length-1;0<=gt;gt--){var Zt=M.g=L[gt];at=rk(Zt,q,!0,M)&&at}if(at=rk(Zt=M.g=_,q,!0,M)&&at,at=rk(Zt,q,!1,M)&&at,L)for(gt=0;gt<L.length;gt++)at=rk(Zt=M.g=L[gt],q,!1,M)&&at}function rk(_,M,L,q){if(!(M=_.i.g[String(M)]))return!0;M=M.concat();for(var at=!0,gt=0;gt<M.length;++gt){var Zt=M[gt];if(Zt&&!Zt.da&&Zt.capture==L){var Yi=Zt.listener,hs=Zt.ha||Zt.src;Zt.fa&&f3(_.i,Zt),at=!1!==Yi.call(hs,q)&&at}}return at&&!q.defaultPrevented}function dW(_,M,L){if("function"==typeof _)L&&(_=U(_,L));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=U(_.handleEvent,_)}return 2147483647<Number(M)?-1:f.setTimeout(_,M||0)}function hW(_){_.g=dW(()=>{_.g=null,_.i&&(_.i=!1,hW(_))},_.l);const M=_.h;_.h=null,_.m.apply(null,M)}me(ks,ci),ks.prototype[GC]=!0,ks.prototype.removeEventListener=function(_,M,L,q){lW(this,_,M,L,q)},ks.prototype.N=function(){if(ks.aa.N.call(this),this.i){var M,_=this.i;for(M in _.g){for(var L=_.g[M],q=0;q<L.length;q++)nk(L[q]);delete _.g[M],_.h--}}this.F=null},ks.prototype.K=function(_,M,L,q){return this.i.add(String(_),M,!1,L,q)},ks.prototype.L=function(_,M,L,q){return this.i.add(String(_),M,!0,L,q)};class foe extends ci{constructor(M,L){super(),this.m=M,this.l=L,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:hW(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zC(_){ci.call(this),this.h=_,this.g={}}me(zC,ci);var fW=[];function mW(_){cn(_.g,function(M,L){this.g.hasOwnProperty(L)&&_3(M)},_),_.g={}}zC.prototype.N=function(){zC.aa.N.call(this),mW(this)},zC.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var E3=f.JSON.stringify,moe=f.JSON.parse,poe=class{stringify(_){return f.JSON.stringify(_,void 0)}parse(_){return f.JSON.parse(_,void 0)}};function w3(){}function gW(){}w3.prototype.h=null;var WC={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function I3(){ir.call(this,"d")}function T3(){ir.call(this,"c")}me(I3,ir),me(T3,ir);var Kg={},_W=null;function ok(){return _W=_W||new ks}function vW(_){ir.call(this,Kg.La,_)}function KC(_){const M=ok();ia(M,new vW(M))}function yW(_,M){ir.call(this,Kg.STAT_EVENT,_),this.stat=M}function ra(_){const M=ok();ia(M,new yW(M,_))}function bW(_,M){ir.call(this,Kg.Ma,_),this.size=M}function qC(_,M){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){_()},M)}function XC(){this.g=!0}function a0(_,M,L,q){_.info(function(){return"XMLHTTP TEXT ("+M+"): "+function yoe(_,M){if(!_.g)return M;if(!M)return null;try{var L=JSON.parse(M);if(L)for(_=0;_<L.length;_++)if(Array.isArray(L[_])){var q=L[_];if(!(2>q.length)){var at=q[1];if(Array.isArray(at)&&!(1>at.length)){var gt=at[0];if("noop"!=gt&&"stop"!=gt&&"close"!=gt)for(var Zt=1;Zt<at.length;Zt++)at[Zt]=""}}}return E3(L)}catch{return M}}(_,L)+(q?" "+q:"")})}Kg.La="serverreachability",me(vW,ir),Kg.STAT_EVENT="statevent",me(yW,ir),Kg.Ma="timingevent",me(bW,ir),XC.prototype.xa=function(){this.g=!1},XC.prototype.info=function(){};var C3,sk={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},EW={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function ak(){}function hm(_,M,L,q){this.j=_,this.i=M,this.l=L,this.R=q||1,this.U=new zC(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wW}function wW(){this.i=null,this.g="",this.h=!1}me(ak,w3),ak.prototype.g=function(){return new XMLHttpRequest},ak.prototype.i=function(){return{}},C3=new ak;var IW={},S3={};function A3(_,M,L){_.L=1,_.v=dk(th(M)),_.m=L,_.P=!0,TW(_,null)}function TW(_,M){_.F=Date.now(),ck(_),_.A=th(_.v);var L=_.A,q=_.R;Array.isArray(q)||(q=[String(q)]),VW(L.i,"t",q),_.C=0,L=_.j.J,_.h=new wW,_.g=nK(_.j,L?M:null,!_.m),0<_.O&&(_.M=new foe(U(_.Y,_,_.g),_.O)),M=_.U,L=_.g,q=_.ca;var at="readystatechange";Array.isArray(at)||(at&&(fW[0]=at.toString()),at=fW);for(var gt=0;gt<at.length;gt++){var Zt=sW(L,at[gt],q||M.handleEvent,!1,M.h||M);if(!Zt)break;M.g[Zt.key]=Zt}M=_.H?le(_.H):{},_.m?(_.u||(_.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,M)):(_.u="GET",_.g.ea(_.A,_.u,null,M)),KC(),function goe(_,M,L,q,at,gt){_.info(function(){if(_.g)if(gt)for(var Zt="",Yi=gt.split("&"),hs=0;hs<Yi.length;hs++){var Si=Yi[hs].split("=");if(1<Si.length){var Os=Si[0];Si=Si[1];var Ns=Os.split("_");Zt=2<=Ns.length&&"type"==Ns[1]?Zt+(Os+"=")+Si+"&":Zt+(Os+"=redacted&")}}else Zt=null;else Zt=gt;return"XMLHTTP REQ ("+q+") [attempt "+at+"]: "+M+"\n"+L+"\n"+Zt})}(_.i,_.u,_.A,_.l,_.R,_.m)}function CW(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function boe(_,M){var L=_.C,q=M.indexOf("\n",L);return-1==q?S3:(L=Number(M.substring(L,q)),isNaN(L)?IW:(q+=1)+L>M.length?S3:(M=M.slice(q,q+L),_.C=q+L,M))}function ck(_){_.S=Date.now()+_.I,SW(_,_.I)}function SW(_,M){if(null!=_.B)throw Error("WatchDog timer not null");_.B=qC(U(_.ba,_),M)}function D3(_){_.B&&(f.clearTimeout(_.B),_.B=null)}function QC(_){0==_.j.G||_.J||ZW(_.j,_)}function qg(_){D3(_);var M=_.M;M&&"function"==typeof M.ma&&M.ma(),_.M=null,mW(_.U),_.g&&(M=_.g,_.g=null,M.abort(),M.ma())}function x3(_,M){try{var L=_.j;if(0!=L.G&&(L.g==_||M3(L.h,_)))if(!_.K&&M3(L.h,_)&&3==L.G){try{var q=L.Da.g.parse(M)}catch{q=null}if(Array.isArray(q)&&3==q.length){var at=q;if(0==at[0]){e:if(!L.u){if(L.g){if(!(L.g.F+3e3<_.F))break e;gk(L),mk(L)}O3(L),ra(18)}}else L.za=at[1],0<L.za-L.T&&37500>at[2]&&L.F&&0==L.v&&!L.C&&(L.C=qC(U(L.Za,L),6e3));if(1>=xW(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else Qg(L,11)}else if((_.K||L.g==_)&&gk(L),!vt(M))for(at=L.Da.g.parse(M),M=0;M<at.length;M++){let Si=at[M];if(L.T=Si[0],Si=Si[1],2==L.G)if("c"==Si[0]){L.K=Si[1],L.ia=Si[2];const Os=Si[3];null!=Os&&(L.la=Os,L.j.info("VER="+L.la));const Ns=Si[4];null!=Ns&&(L.Aa=Ns,L.j.info("SVER="+L.Aa));const u0=Si[5];null!=u0&&"number"==typeof u0&&0<u0&&(L.L=q=1.5*u0,L.j.info("backChannelRequestTimeoutMs_="+q)),q=L;const Ml=_.g;if(Ml){const vk=Ml.g?Ml.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vk){var gt=q.h;gt.g||-1==vk.indexOf("spdy")&&-1==vk.indexOf("quic")&&-1==vk.indexOf("h2")||(gt.j=gt.l,gt.g=new Set,gt.h&&(R3(gt,gt.h),gt.h=null))}if(q.D){const F3=Ml.g?Ml.g.getResponseHeader("X-HTTP-Session-Id"):null;F3&&(q.ya=F3,ur(q.I,q.D,F3))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-_.F,L.j.info("Handshake RTT: "+L.R+"ms"));var Zt=_;if((q=L).qa=tK(q,q.J?q.ia:null,q.W),Zt.K){MW(q.h,Zt);var Yi=Zt,hs=q.L;hs&&(Yi.I=hs),Yi.B&&(D3(Yi),ck(Yi)),q.g=Zt}else QW(q);0<L.i.length&&pk(L)}else"stop"!=Si[0]&&"close"!=Si[0]||Qg(L,7);else 3==L.G&&("stop"==Si[0]||"close"==Si[0]?"stop"==Si[0]?Qg(L,7):k3(L):"noop"!=Si[0]&&L.l&&L.l.ta(Si),L.v=0)}KC()}catch{}}hm.prototype.ca=function(_){_=_.target;const M=this.M;M&&3==nh(_)?M.j():this.Y(_)},hm.prototype.Y=function(_){try{if(_==this.g)e:{const Ns=nh(this.g);var M=this.g.Ba();if(this.g.Z(),!(3>Ns)&&(3!=Ns||this.g&&(this.h.h||this.g.oa()||zW(this.g)))){this.J||4!=Ns||7==M||KC(),D3(this);var L=this.g.Z();this.X=L;t:if(CW(this)){var q=zW(this.g);_="";var at=q.length,gt=4==nh(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){qg(this),QC(this);var Zt="";break t}this.h.i=new f.TextDecoder}for(M=0;M<at;M++)this.h.h=!0,_+=this.h.i.decode(q[M],{stream:!(gt&&M==at-1)});q.length=0,this.h.g+=_,this.C=0,Zt=this.h.g}else Zt=this.g.oa();if(this.o=200==L,function _oe(_,M,L,q,at,gt,Zt){_.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+at+"]: "+M+"\n"+L+"\n"+gt+" "+Zt})}(this.i,this.u,this.A,this.l,this.R,Ns,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Yi,hs=this.g;if((Yi=hs.g?hs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(Yi)){var Si=Yi;break t}}Si=null}if(!(L=Si)){this.o=!1,this.s=3,ra(12),qg(this),QC(this);break e}a0(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,x3(this,L)}if(this.P){let Ml;for(L=!0;!this.J&&this.C<Zt.length;){if(Ml=boe(this,Zt),Ml==S3){4==Ns&&(this.s=4,ra(14),L=!1),a0(this.i,this.l,null,"[Incomplete Response]");break}if(Ml==IW){this.s=4,ra(15),a0(this.i,this.l,Zt,"[Invalid Chunk]"),L=!1;break}a0(this.i,this.l,Ml,null),x3(this,Ml)}if(CW(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ns||0!=Zt.length||this.h.h||(this.s=1,ra(16),L=!1),this.o=this.o&&L,L){if(0<Zt.length&&!this.W){this.W=!0;var Os=this.j;Os.g==this&&Os.ba&&!Os.M&&(Os.j.info("Great, no buffering proxy detected. Bytes received: "+Zt.length),N3(Os),Os.M=!0,ra(11))}}else a0(this.i,this.l,Zt,"[Invalid Chunked Response]"),qg(this),QC(this)}else a0(this.i,this.l,Zt,null),x3(this,Zt);4==Ns&&qg(this),this.o&&!this.J&&(4==Ns?ZW(this.j,this):(this.o=!1,ck(this)))}else(function Loe(_){const M={};_=(_.g&&2<=nh(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let q=0;q<_.length;q++){if(vt(_[q]))continue;var L=Ke(_[q]);const at=L[0];if("string"!=typeof(L=L[1]))continue;L=L.trim();const gt=M[at]||[];M[at]=gt,gt.push(L)}!function Ve(_,M){for(const L in _)M.call(void 0,_[L],L,_)}(M,function(q){return q.join(", ")})})(this.g),400==L&&0<Zt.indexOf("Unknown SID")?(this.s=3,ra(12)):(this.s=0,ra(13)),qg(this),QC(this)}}}catch{}},hm.prototype.cancel=function(){this.J=!0,qg(this)},hm.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function voe(_,M){_.info(function(){return"TIMEOUT: "+M})}(this.i,this.A),2!=this.L&&(KC(),ra(17)),qg(this),this.s=2,QC(this)):SW(this,this.S-_)};var Eoe=class{constructor(_,M){this.g=_,this.map=M}};function AW(_){this.l=_||10,_=f.PerformanceNavigationTiming?0<(_=f.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function DW(_){return!!_.h||!!_.g&&_.g.size>=_.j}function xW(_){return _.h?1:_.g?_.g.size:0}function M3(_,M){return _.h?_.h==M:!!_.g&&_.g.has(M)}function R3(_,M){_.g?_.g.add(M):_.h=M}function MW(_,M){_.h&&_.h==M?_.h=null:_.g&&_.g.has(M)&&_.g.delete(M)}function RW(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let M=_.i;for(const L of _.g.values())M=M.concat(L.D);return M}return fe(_.i)}function PW(_,M){if(_.forEach&&"function"==typeof _.forEach)_.forEach(M,void 0);else if(p(_)||"string"==typeof _)Array.prototype.forEach.call(_,M,void 0);else for(var L=function Ioe(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(p(_)||"string"==typeof _){var M=[];_=_.length;for(var L=0;L<_;L++)M.push(L);return M}M=[],L=0;for(const q in _)M[L++]=q;return M}}}(_),q=function woe(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(p(_)){for(var M=[],L=_.length,q=0;q<L;q++)M.push(_[q]);return M}for(q in M=[],L=0,_)M[L++]=_[q];return M}(_),at=q.length,gt=0;gt<at;gt++)M.call(void 0,q[gt],L&&L[gt],_)}AW.prototype.cancel=function(){if(this.i=RW(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var kW=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xg(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof Xg){this.h=_.h,lk(this,_.j),this.o=_.o,this.g=_.g,uk(this,_.s),this.l=_.l;var M=_.i,L=new JC;L.i=M.i,M.g&&(L.g=new Map(M.g),L.h=M.h),OW(this,L),this.m=_.m}else _&&(M=String(_).match(kW))?(this.h=!1,lk(this,M[1]||"",!0),this.o=YC(M[2]||""),this.g=YC(M[3]||"",!0),uk(this,M[4]),this.l=YC(M[5]||"",!0),OW(this,M[6]||"",!0),this.m=YC(M[7]||"")):(this.h=!1,this.i=new JC(null,this.h))}function th(_){return new Xg(_)}function lk(_,M,L){_.j=L?YC(M,!0):M,_.j&&(_.j=_.j.replace(/:$/,""))}function uk(_,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);_.s=M}else _.s=null}function OW(_,M,L){M instanceof JC?(_.i=M,function Moe(_,M){M&&!_.j&&(fm(_),_.i=null,_.g.forEach(function(L,q){var at=q.toLowerCase();q!=at&&(FW(this,q),VW(this,at,L))},_)),_.j=M}(_.i,_.h)):(L||(M=ZC(M,Doe)),_.i=new JC(M,_.h))}function ur(_,M,L){_.i.set(M,L)}function dk(_){return ur(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function YC(_,M){return _?M?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function ZC(_,M,L){return"string"==typeof _?(_=encodeURI(_).replace(M,Coe),L&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Coe(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}Xg.prototype.toString=function(){var _=[],M=this.j;M&&_.push(ZC(M,NW,!0),":");var L=this.g;return(L||"file"==M)&&(_.push("//"),(M=this.o)&&_.push(ZC(M,NW,!0),"@"),_.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(L=this.s)&&_.push(":",String(L))),(L=this.l)&&(this.g&&"/"!=L.charAt(0)&&_.push("/"),_.push(ZC(L,"/"==L.charAt(0)?Aoe:Soe,!0))),(L=this.i.toString())&&_.push("?",L),(L=this.m)&&_.push("#",ZC(L,xoe)),_.join("")};var NW=/[#\/\?@]/g,Soe=/[#\?:]/g,Aoe=/[#\?]/g,Doe=/[#\?@]/g,xoe=/#/g;function JC(_,M){this.h=this.g=null,this.i=_||null,this.j=!!M}function fm(_){_.g||(_.g=new Map,_.h=0,_.i&&function Toe(_,M){if(_){_=_.split("&");for(var L=0;L<_.length;L++){var q=_[L].indexOf("="),at=null;if(0<=q){var gt=_[L].substring(0,q);at=_[L].substring(q+1)}else gt=_[L];M(gt,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}(_.i,function(M,L){_.add(decodeURIComponent(M.replace(/\+/g," ")),L)}))}function FW(_,M){fm(_),M=c0(_,M),_.g.has(M)&&(_.i=null,_.h-=_.g.get(M).length,_.g.delete(M))}function LW(_,M){return fm(_),M=c0(_,M),_.g.has(M)}function VW(_,M,L){FW(_,M),0<L.length&&(_.i=null,_.g.set(c0(_,M),fe(L)),_.h+=L.length)}function c0(_,M){return M=String(M),_.j&&(M=M.toLowerCase()),M}function mm(_,M,L,q,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),q(L)}catch{}}function koe(){this.g=new poe}function Ooe(_,M,L){const q=L||"";try{PW(_,function(at,gt){let Zt=at;w(at)&&(Zt=E3(at)),M.push(q+gt+"="+encodeURIComponent(Zt))})}catch(at){throw M.push(q+"type="+encodeURIComponent("_badmap")),at}}function eS(_){this.l=_.Ub||null,this.j=_.eb||!1}function hk(_,M){ks.call(this),this.D=_,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function BW(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function tS(_){_.readyState=4,_.l=null,_.j=null,_.v=null,nS(_)}function nS(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function UW(_){let M="";return cn(_,function(L,q){M+=q,M+=":",M+=L,M+="\r\n"}),M}function P3(_,M,L){e:{for(q in L){var q=!1;break e}q=!0}q||(L=UW(L),"string"==typeof _?null!=L&&encodeURIComponent(String(L)):ur(_,M,L))}function jr(_){ks.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=JC.prototype).add=function(_,M){fm(this),this.i=null,_=c0(this,_);var L=this.g.get(_);return L||this.g.set(_,L=[]),L.push(M),this.h+=1,this},n.forEach=function(_,M){fm(this),this.g.forEach(function(L,q){L.forEach(function(at){_.call(M,at,q,this)},this)},this)},n.na=function(){fm(this);const _=Array.from(this.g.values()),M=Array.from(this.g.keys()),L=[];for(let q=0;q<M.length;q++){const at=_[q];for(let gt=0;gt<at.length;gt++)L.push(M[q])}return L},n.V=function(_){fm(this);let M=[];if("string"==typeof _)LW(this,_)&&(M=M.concat(this.g.get(c0(this,_))));else{_=Array.from(this.g.values());for(let L=0;L<_.length;L++)M=M.concat(_[L])}return M},n.set=function(_,M){return fm(this),this.i=null,LW(this,_=c0(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[M]),this.h+=1,this},n.get=function(_,M){return _&&0<(_=this.V(_)).length?String(_[0]):M},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],M=Array.from(this.g.keys());for(var L=0;L<M.length;L++){var q=M[L];const gt=encodeURIComponent(String(q)),Zt=this.V(q);for(q=0;q<Zt.length;q++){var at=gt;""!==Zt[q]&&(at+="="+encodeURIComponent(String(Zt[q]))),_.push(at)}}return this.i=_.join("&")},me(eS,w3),eS.prototype.g=function(){return new hk(this.l,this.j)},eS.prototype.i=function(_){return function(){return _}}({}),me(hk,ks),(n=hk.prototype).open=function(_,M){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=M,this.readyState=1,nS(this)},n.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(M.body=_),(this.D||f).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,tS(this)),this.readyState=0},n.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,nS(this)),this.g&&(this.readyState=3,nS(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;BW(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var M=_.value?_.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!_.done}))&&(this.response=this.responseText+=M)}_.done?tS(this):nS(this),3==this.readyState&&BW(this)}},n.Ra=function(_){this.g&&(this.response=this.responseText=_,tS(this))},n.Qa=function(_){this.g&&(this.response=_,tS(this))},n.ga=function(){this.g&&tS(this)},n.setRequestHeader=function(_,M){this.u.append(_,M)},n.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],M=this.h.entries();for(var L=M.next();!L.done;)_.push((L=L.value)[0]+": "+L[1]),L=M.next();return _.join("\r\n")},Object.defineProperty(hk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),me(jr,ks);var Noe=/^https?$/i,Foe=["POST","PUT"];function jW(_,M){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=M,_.m=5,HW(_),fk(_)}function HW(_){_.A||(_.A=!0,ia(_,"complete"),ia(_,"error"))}function $W(_){if(_.h&&typeof d<"u"&&(!_.v[1]||4!=nh(_)||2!=_.Z()))if(_.u&&4==nh(_))dW(_.Ea,0,_);else if(ia(_,"readystatechange"),4==nh(_)){_.h=!1;try{const Zt=_.Z();e:switch(Zt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var L;if(!(L=M)){var q;if(q=0===Zt){var at=String(_.D).match(kW)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),q=!Noe.test(at?at.toLowerCase():"")}L=q}if(L)ia(_,"complete"),ia(_,"success");else{_.m=6;try{var gt=2<nh(_)?_.g.statusText:""}catch{gt=""}_.l=gt+" ["+_.Z()+"]",HW(_)}}finally{fk(_)}}}function fk(_,M){if(_.g){GW(_);const L=_.g,q=_.v[0]?()=>{}:null;_.g=null,_.v=null,M||ia(_,"ready");try{L.onreadystatechange=q}catch{}}}function GW(_){_.I&&(f.clearTimeout(_.I),_.I=null)}function nh(_){return _.g?_.g.readyState:0}function zW(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function iS(_,M,L){return L&&L.internalChannelParams&&L.internalChannelParams[_]||M}function WW(_){this.Aa=0,this.i=[],this.j=new XC,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=iS("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=iS("baseRetryDelayMs",5e3,_),this.cb=iS("retryDelaySeedMs",1e4,_),this.Wa=iS("forwardChannelMaxRetries",2,_),this.wa=iS("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new AW(_&&_.concurrentRequestLimit),this.Da=new koe,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function k3(_){if(KW(_),3==_.G){var M=_.U++,L=th(_.I);if(ur(L,"SID",_.K),ur(L,"RID",M),ur(L,"TYPE","terminate"),rS(_,L),(M=new hm(_,_.j,M)).L=2,M.v=dk(th(L)),L=!1,f.navigator&&f.navigator.sendBeacon)try{L=f.navigator.sendBeacon(M.v.toString(),"")}catch{}!L&&f.Image&&((new Image).src=M.v,L=!0),L||(M.g=nK(M.j,null),M.g.ea(M.v)),M.F=Date.now(),ck(M)}eK(_)}function mk(_){_.g&&(N3(_),_.g.cancel(),_.g=null)}function KW(_){mk(_),_.u&&(f.clearTimeout(_.u),_.u=null),gk(_),_.h.cancel(),_.s&&("number"==typeof _.s&&f.clearTimeout(_.s),_.s=null)}function pk(_){if(!DW(_.h)&&!_.s){_.s=!0;var M=_.Ga;Jr||zo(),nr||(Jr(),nr=!0),Ur.add(M,_),_.B=0}}function qW(_,M){var L;L=M?M.l:_.U++;const q=th(_.I);ur(q,"SID",_.K),ur(q,"RID",L),ur(q,"AID",_.T),rS(_,q),_.m&&_.o&&P3(q,_.m,_.o),L=new hm(_,_.j,L,_.B+1),null===_.m&&(L.H=_.o),M&&(_.i=M.D.concat(_.i)),M=XW(_,L,1e3),L.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),R3(_.h,L),A3(L,q,M)}function rS(_,M){_.H&&cn(_.H,function(L,q){ur(M,q,L)}),_.l&&PW({},function(L,q){ur(M,q,L)})}function XW(_,M,L){L=Math.min(_.i.length,L);var q=_.l?U(_.l.Na,_.l,_):null;e:{var at=_.i;let gt=-1;for(;;){const Zt=["count="+L];-1==gt?0<L?(gt=at[0].g,Zt.push("ofs="+gt)):gt=0:Zt.push("ofs="+gt);let Yi=!0;for(let hs=0;hs<L;hs++){let Si=at[hs].g;const Os=at[hs].map;if(Si-=gt,0>Si)gt=Math.max(0,at[hs].g-100),Yi=!1;else try{Ooe(Os,Zt,"req"+Si+"_")}catch{q&&q(Os)}}if(Yi){q=Zt.join("&");break e}}}return _=_.i.splice(0,L),M.D=_,q}function QW(_){if(!_.g&&!_.u){_.Y=1;var M=_.Fa;Jr||zo(),nr||(Jr(),nr=!0),Ur.add(M,_),_.v=0}}function O3(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=qC(U(_.Fa,_),JW(_,_.v)),_.v++,0))}function N3(_){null!=_.A&&(f.clearTimeout(_.A),_.A=null)}function YW(_){_.g=new hm(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var M=th(_.qa);ur(M,"RID","rpc"),ur(M,"SID",_.K),ur(M,"AID",_.T),ur(M,"CI",_.F?"0":"1"),!_.F&&_.ja&&ur(M,"TO",_.ja),ur(M,"TYPE","xmlhttp"),rS(_,M),_.m&&_.o&&P3(M,_.m,_.o),_.L&&(_.g.I=_.L);var L=_.g;_=_.ia,L.L=1,L.v=dk(th(M)),L.m=null,L.P=!0,TW(L,_)}function gk(_){null!=_.C&&(f.clearTimeout(_.C),_.C=null)}function ZW(_,M){var L=null;if(_.g==M){gk(_),N3(_),_.g=null;var q=2}else{if(!M3(_.h,M))return;L=M.D,MW(_.h,M),q=1}if(0!=_.G)if(M.o)if(1==q){L=M.m?M.m.length:0,M=Date.now()-M.F;var at=_.B;ia(q=ok(),new bW(q,L)),pk(_)}else QW(_);else if(3==(at=M.s)||0==at&&0<M.X||!(1==q&&function Voe(_,M){return!(xW(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=M.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=qC(U(_.Ga,_,M),JW(_,_.B)),_.B++,0)))}(_,M)||2==q&&O3(_)))switch(L&&0<L.length&&(M=_.h,M.i=M.i.concat(L)),at){case 1:Qg(_,5);break;case 4:Qg(_,10);break;case 3:Qg(_,6);break;default:Qg(_,2)}}function JW(_,M){let L=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(L*=2),L*M}function Qg(_,M){if(_.j.info("Error code "+M),2==M){var L=U(_.fb,_),q=_.Xa;const at=!q;q=new Xg(q||"//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||lk(q,"https"),dk(q),at?function Roe(_,M){const L=new XC;if(f.Image){const q=new Image;q.onload=K(mm,L,"TestLoadImage: loaded",!0,M,q),q.onerror=K(mm,L,"TestLoadImage: error",!1,M,q),q.onabort=K(mm,L,"TestLoadImage: abort",!1,M,q),q.ontimeout=K(mm,L,"TestLoadImage: timeout",!1,M,q),f.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=_}else M(!1)}(q.toString(),L):function Poe(_,M){new XC;const q=new AbortController,at=setTimeout(()=>{q.abort(),mm(0,0,!1,M)},1e4);fetch(_,{signal:q.signal}).then(gt=>{clearTimeout(at),mm(0,0,!!gt.ok,M)}).catch(()=>{clearTimeout(at),mm(0,0,!1,M)})}(q.toString(),L)}else ra(2);_.G=0,_.l&&_.l.sa(M),eK(_),KW(_)}function eK(_){if(_.G=0,_.ka=[],_.l){const M=RW(_.h);(0!=M.length||0!=_.i.length)&&(he(_.ka,M),he(_.ka,_.i),_.h.i.length=0,fe(_.i),_.i.length=0),_.l.ra()}}function tK(_,M,L){var q=L instanceof Xg?th(L):new Xg(L);if(""!=q.g)M&&(q.g=M+"."+q.g),uk(q,q.s);else{var at=f.location;q=at.protocol,M=M?M+"."+at.hostname:at.hostname,at=+at.port;var gt=new Xg(null);q&&lk(gt,q),M&&(gt.g=M),at&&uk(gt,at),L&&(gt.l=L),q=gt}return M=_.ya,(L=_.D)&&M&&ur(q,L,M),ur(q,"VER",_.la),rS(_,q),q}function nK(_,M,L){if(M&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(M=new jr(_.Ca&&!_.pa?new eS({eb:L}):_.pa)).Ha(_.J),M}function iK(){}function _k(){}function rc(_,M){ks.call(this),this.g=new WW(M),this.l=_,this.h=M&&M.messageUrlParams||null,_=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(_?_["X-WebChannel-Content-Type"]=M.messageContentType:_={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(_?_["X-WebChannel-Client-Profile"]=M.va:_={"X-WebChannel-Client-Profile":M.va}),this.g.S=_,(_=M&&M.Sb)&&!vt(_)&&(this.g.m=_),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!vt(M)&&(this.g.D=M,null!==(_=this.h)&&M in _&&M in(_=this.h)&&delete _[M]),this.j=new l0(this)}function rK(_){I3.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var M=_.__sm__;if(M){e:{for(const L in M){_=L;break e}_=void 0}(this.i=_)&&(_=this.i,M=null!==M&&_ in M?M[_]:void 0),this.data=M}else this.data=_}function oK(){T3.call(this),this.status=1}function l0(_){this.g=_}(n=jr.prototype).Ha=function(_){this.J=_},n.ea=function(_,M,L,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);M=M?M.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():C3.g(),this.v=function pW(_){return _.h||(_.h=_.i())}(this.o?this.o:C3),this.g.onreadystatechange=U(this.Ea,this);try{this.B=!0,this.g.open(M,String(_),!0),this.B=!1}catch(gt){return void jW(this,gt)}if(_=L||"",L=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var at in q)L.set(at,q[at]);else{if("function"!=typeof q.keys||"function"!=typeof q.get)throw Error("Unknown input type for opt_headers: "+String(q));for(const gt of q.keys())L.set(gt,q.get(gt))}q=Array.from(L.keys()).find(gt=>"content-type"==gt.toLowerCase()),at=f.FormData&&_ instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Foe,M,void 0))||q||at||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[gt,Zt]of L)this.g.setRequestHeader(gt,Zt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{GW(this),this.u=!0,this.g.send(_),this.u=!1}catch(gt){jW(this,gt)}},n.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,ia(this,"complete"),ia(this,"abort"),fk(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fk(this,!0)),jr.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$W(this):this.bb())},n.bb=function(){$W(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<nh(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(_){if(this.g){var M=this.g.responseText;return _&&0==M.indexOf(_)&&(M=M.substring(_.length)),moe(M)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=WW.prototype).la=8,n.G=1,n.connect=function(_,M,L,q){ra(0),this.W=_,this.H=M||{},L&&void 0!==q&&(this.H.OSID=L,this.H.OAID=q),this.F=this.X,this.I=tK(this,null,this.W),pk(this)},n.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const at=new hm(this,this.j,_);let gt=this.o;if(this.S&&(gt?(gt=le(gt),je(gt,this.S)):gt=this.S),null!==this.m||this.O||(at.H=gt,gt=null),this.P)e:{for(var M=0,L=0;L<this.i.length;L++){var q=this.i[L];if(void 0===(q="__data__"in q.map&&"string"==typeof(q=q.map.__data__)?q.length:void 0))break;if(4096<(M+=q)){M=L;break e}if(4096===M||L===this.i.length-1){M=L+1;break e}}M=1e3}else M=1e3;M=XW(this,at,M),ur(L=th(this.I),"RID",_),ur(L,"CVER",22),this.D&&ur(L,"X-HTTP-Session-Id",this.D),rS(this,L),gt&&(this.O?M="headers="+encodeURIComponent(String(UW(gt)))+"&"+M:this.m&&P3(L,this.m,gt)),R3(this.h,at),this.Ua&&ur(L,"TYPE","init"),this.P?(ur(L,"$req",M),ur(L,"SID","null"),at.T=!0,A3(at,L,null)):A3(at,L,M),this.G=2}}else 3==this.G&&(_?qW(this,_):0==this.i.length||DW(this.h)||qW(this))},n.Fa=function(){if(this.u=null,YW(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=qC(U(this.ab,this),_)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ra(10),mk(this),YW(this))},n.Za=function(){null!=this.C&&(this.C=null,mk(this),O3(this),ra(19))},n.fb=function(_){_?(this.j.info("Successfully pinged google.com"),ra(2)):(this.j.info("Failed to ping google.com"),ra(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=iK.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},_k.prototype.g=function(_,M){return new rc(_,M)},me(rc,ks),rc.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rc.prototype.close=function(){k3(this.g)},rc.prototype.o=function(_){var M=this.g;if("string"==typeof _){var L={};L.__data__=_,_=L}else this.u&&((L={}).__data__=E3(_),_=L);M.i.push(new Eoe(M.Ya++,_)),3==M.G&&pk(M)},rc.prototype.N=function(){this.g.l=null,delete this.j,k3(this.g),delete this.g,rc.aa.N.call(this)},me(rK,I3),me(oK,T3),me(l0,iK),l0.prototype.ua=function(){ia(this.g,"a")},l0.prototype.ta=function(_){ia(this.g,new rK(_))},l0.prototype.sa=function(_){ia(this.g,new oK)},l0.prototype.ra=function(){ia(this.g,"b")},_k.prototype.createWebChannel=_k.prototype.g,rc.prototype.send=rc.prototype.o,rc.prototype.open=rc.prototype.m,rc.prototype.close=rc.prototype.close,BT=pu.createWebChannelTransport=function(){return new _k},eR=pu.getStatEventTarget=function(){return ok()},oV=pu.Event=Kg,VT=pu.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},sk.NO_ERROR=0,sk.TIMEOUT=8,sk.HTTP_ERROR=6,gg=pu.ErrorCode=sk,EW.COMPLETE="complete",rV=pu.EventType=EW,gW.EventType=WC,WC.OPEN="a",WC.CLOSE="b",WC.ERROR="c",WC.MESSAGE="d",ks.prototype.listen=ks.prototype.K,pg=pu.WebChannel=gW,J1=pu.FetchXmlHttpFactory=eS,jr.prototype.listenOnce=jr.prototype.L,jr.prototype.getLastError=jr.prototype.Ka,jr.prototype.getLastErrorCode=jr.prototype.Ba,jr.prototype.getStatus=jr.prototype.Z,jr.prototype.getResponseJson=jr.prototype.Oa,jr.prototype.getResponseText=jr.prototype.oa,jr.prototype.send=jr.prototype.ea,jr.prototype.setWithCredentials=jr.prototype.Ha,iV=pu.XhrIo=jr}).apply(typeof db<"u"?db:typeof self<"u"?self:typeof window<"u"?window:{});const sV="@firebase/firestore";class uo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}uo.UNAUTHENTICATED=new uo(null),uo.GOOGLE_CREDENTIALS=new uo("google-credentials-uid"),uo.FIRST_PARTY=new uo("first-party-uid"),uo.MOCK_USER=new uo("mock-user");let Wf="10.12.3";const gu=new qv("@firebase/firestore");function Od(){return gu.logLevel}function Pt(n,...t){if(gu.logLevel<=Un.DEBUG){const e=t.map(_g);gu.debug(`Firestore (${Wf}): ${n}`,...e)}}function yr(n,...t){if(gu.logLevel<=Un.ERROR){const e=t.map(_g);gu.error(`Firestore (${Wf}): ${n}`,...e)}}function Xs(n,...t){if(gu.logLevel<=Un.WARN){const e=t.map(_g);gu.warn(`Firestore (${Wf}): ${n}`,...e)}}function _g(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function nn(n="Unexpected state"){const t=`FIRESTORE (${Wf}) INTERNAL ASSERTION FAILED: `+n;throw yr(t),new Error(t)}function fn(n,t){n||nn()}function qt(n,t){return n}const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends Rc{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ho{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class tR{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class cV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(uo.UNAUTHENTICATED))}shutdown(){}}class lV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class uV{constructor(t){this.t=t,this.currentUser=uo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const c=w=>this.i!==r?(r=this.i,e(w)):Promise.resolve();let d=new ho;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ho,t.enqueueRetryable(()=>c(this.currentUser))};const f=()=>{const w=d;t.enqueueRetryable((0,D.A)(function*(){yield w.promise,yield c(i.currentUser)}))},p=w=>{Pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>p(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?p(w):(Pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ho)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(fn("string"==typeof i.accessToken),new tR(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return fn(null===t||"string"==typeof t),new uo(t)}}class nR{constructor(t,e,i){this.l=t,this.h=e,this.P=i,this.type="FirstParty",this.user=uo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iR{constructor(t,e,i){this.l=t,this.h=e,this.P=i}getToken(){return Promise.resolve(new nR(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(uo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rR{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oR{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const i=c=>{null!=c.error&&Pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,Pt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>i(c))};const r=c=>{Pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>r(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?r(c):Pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(fn("string"==typeof e.token),this.R=e.token,new rR(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function I5(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class sR{static newId(){const e=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=I5(40);for(let c=0;c<r.length;++c)i.length<20&&r[c]<e&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[c]%62))}return i}}function Sn(n,t){return n<t?-1:n>t?1:0}function _u(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}class er{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return er.fromMillis(Date.now())}static fromDate(t){return er.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new er(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Sn(this.nanoseconds,t.nanoseconds):Sn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new gn(t)}static min(){return new gn(new er(0,0))}static max(){return new gn(new er(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vu{constructor(t,e,i){void 0===e?e=0:e>t.length&&nn(),void 0===i?i=t.length-e:i>t.length-e&&nn(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===vu.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vu?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const c=t.get(r),d=e.get(r);if(c<d)return-1;if(c>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Qn extends vu{construct(t,e,i){return new Qn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Mt(mt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Qn(e)}static emptyPath(){return new Qn([])}}const hV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qi extends vu{construct(t,e,i){return new Qi(t,e,i)}static isValidIdentifier(t){return hV.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const c=()=>{if(0===i.length)throw new Mt(mt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let d=!1;for(;r<t.length;){const f=t[r];if("\\"===f){if(r+1===t.length)throw new Mt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Mt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===f?(d=!d,r++):"."!==f||d?(i+=f,r++):(c(),r++)}if(c(),d)throw new Mt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qi(e)}static emptyPath(){return new Qi([])}}class Yt{constructor(t){this.path=t}static fromPath(t){return new Yt(Qn.fromString(t))}static fromName(t){return new Yt(Qn.fromString(t).popFirst(5))}static empty(){return new Yt(Qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Qn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Qn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Yt(new Qn(t.slice()))}}class Ra{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ra(gn.min(),Yt.empty(),-1)}static max(){return new Ra(gn.max(),Yt.empty(),-1)}}function HT(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Yt.comparator(n.documentKey,t.documentKey),0!==e?e:Sn(n.largestBatchId,t.largestBatchId))}const cR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ld(n){return uR.apply(this,arguments)}function uR(){return(uR=(0,D.A)(function*(n){if(n.code!==mt.FAILED_PRECONDITION||n.message!==cR)throw n;Pt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ut((i,r)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(i,r)},this.catchCallback=c=>{this.wrapFailure(e,c).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ut?e:ut.resolve(e)}catch(e){return ut.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.reject(e)}static resolve(t){return new ut((e,i)=>{e(t)})}static reject(t){return new ut((e,i)=>{i(t)})}static waitFor(t){return new ut((e,i)=>{let r=0,c=0,d=!1;t.forEach(f=>{++r,f.next(()=>{++c,d&&c===r&&e()},p=>i(p))}),d=!0,c===r&&e()})}static or(t){let e=ut.resolve(!1);for(const i of t)e=e.next(r=>r?ut.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,c)=>{i.push(e.call(this,r,c))}),this.waitFor(i)}static mapArray(t,e){return new ut((i,r)=>{const c=t.length,d=new Array(c);let f=0;for(let p=0;p<c;p++){const w=p;e(t[w]).next(A=>{d[w]=A,++f,f===c&&i(d)},A=>r(A))}})}static doWhile(t,e){return new ut((i,r)=>{const c=()=>{!0===t()?e().next(()=>{c()},r):i()};c()})}}function Vd(n){return"IndexedDbTransactionError"===n.name}let Qs=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ie(r),this.se=r=>i.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function Kf(n){return null==n}function fb(n){return 0===n&&1/n==-1/0}function D5(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function qf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function M5(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class tr{constructor(t,e){this.comparator=t,this.root=e||as.EMPTY}insert(t,e){return new tr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,as.BLACK,null,null))}remove(t){return new tr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,as.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new mR(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new mR(this.root,t,this.comparator,!1)}getReverseIterator(){return new mR(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new mR(this.root,t,this.comparator,!0)}}class mR{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,e&&r&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class as{constructor(t,e,i,r,c){this.key=t,this.value=e,this.color=i??as.RED,this.left=r??as.EMPTY,this.right=c??as.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,c){return new as(t??this.key,e??this.value,i??this.color,r??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const c=i(t,r.key);return r=c<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===c?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return as.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return as.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,as.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,as.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const t=this.left.check();if(t!==this.right.check())throw nn();return t+(this.isRed()?0:1)}}as.EMPTY=null,as.RED=!0,as.BLACK=!1,as.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(t,e,i,r,c){return this}insert(t,e,i){return new as(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wi{constructor(t){this.comparator=t,this.data=new tr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new R5(this.data.getIterator())}getIteratorFrom(t){return new R5(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Wi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,c=i.getNext().key;if(0!==this.comparator(r,c))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Wi(this.comparator);return e.data=t,e}}class R5{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pa{constructor(t){this.fields=t,t.sort(Qi.comparator)}static empty(){return new Pa([])}unionWith(t){let e=new Wi(Qi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Pa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return _u(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class P5 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ao{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new P5("Invalid base64 string: "+c):c}}(t);return new Ao(e)}static fromUint8Array(t){const e=function(r){let c="";for(let d=0;d<r.length;++d)c+=String.fromCharCode(r[d]);return c}(t);return new Ao(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Sn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ao.EMPTY_BYTE_STRING=new Ao("");const VK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function jd(n){if(fn(!!n),"string"==typeof n){let t=0;const e=VK.exec(n);if(fn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Br(n.seconds),nanos:Br(n.nanos)}}function Br(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Hd(n){return"string"==typeof n?Ao.fromBase64String(n):Ao.fromUint8Array(n)}function pR(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function gR(n){const t=n.mapValue.fields.__previous_value__;return pR(t)?gR(t):t}function WT(n){const t=jd(n.mapValue.fields.__local_write_time__.timestampValue);return new er(t.seconds,t.nanos)}class BK{constructor(t,e,i,r,c,d,f,p,w){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=w}}class bg{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new bg("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof bg&&t.projectId===this.projectId&&t.database===this.database}}const Xf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pR(n)?4:F5(n)?9007199254740991:10:nn()}function yu(n,t){if(n===t)return!0;const e=Qf(n);if(e!==Qf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return WT(n).isEqual(WT(t));case 3:return function(r,c){if("string"==typeof r.timestampValue&&"string"==typeof c.timestampValue&&r.timestampValue.length===c.timestampValue.length)return r.timestampValue===c.timestampValue;const d=jd(r.timestampValue),f=jd(c.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return c=t,Hd(n.bytesValue).isEqual(Hd(c.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,c){return Br(r.geoPointValue.latitude)===Br(c.geoPointValue.latitude)&&Br(r.geoPointValue.longitude)===Br(c.geoPointValue.longitude)}(n,t);case 2:return function(r,c){if("integerValue"in r&&"integerValue"in c)return Br(r.integerValue)===Br(c.integerValue);if("doubleValue"in r&&"doubleValue"in c){const d=Br(r.doubleValue),f=Br(c.doubleValue);return d===f?fb(d)===fb(f):isNaN(d)&&isNaN(f)}return!1}(n,t);case 9:return _u(n.arrayValue.values||[],t.arrayValue.values||[],yu);case 10:return function(r,c){const d=r.mapValue.fields||{},f=c.mapValue.fields||{};if(D5(d)!==D5(f))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(void 0===f[p]||!yu(d[p],f[p])))return!1;return!0}(n,t);default:return nn()}var c}function KT(n,t){return void 0!==(n.values||[]).find(e=>yu(e,t))}function Yf(n,t){if(n===t)return 0;const e=Qf(n),i=Qf(t);if(e!==i)return Sn(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Sn(n.booleanValue,t.booleanValue);case 2:return function(c,d){const f=Br(c.integerValue||c.doubleValue),p=Br(d.integerValue||d.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,t);case 3:return k5(n.timestampValue,t.timestampValue);case 4:return k5(WT(n),WT(t));case 5:return Sn(n.stringValue,t.stringValue);case 6:return function(c,d){const f=Hd(c),p=Hd(d);return f.compareTo(p)}(n.bytesValue,t.bytesValue);case 7:return function(c,d){const f=c.split("/"),p=d.split("/");for(let w=0;w<f.length&&w<p.length;w++){const A=Sn(f[w],p[w]);if(0!==A)return A}return Sn(f.length,p.length)}(n.referenceValue,t.referenceValue);case 8:return function(c,d){const f=Sn(Br(c.latitude),Br(d.latitude));return 0!==f?f:Sn(Br(c.longitude),Br(d.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(c,d){const f=c.values||[],p=d.values||[];for(let w=0;w<f.length&&w<p.length;++w){const A=Yf(f[w],p[w]);if(A)return A}return Sn(f.length,p.length)}(n.arrayValue,t.arrayValue);case 10:return function(c,d){if(c===Xf.mapValue&&d===Xf.mapValue)return 0;if(c===Xf.mapValue)return 1;if(d===Xf.mapValue)return-1;const f=c.fields||{},p=Object.keys(f),w=d.fields||{},A=Object.keys(w);p.sort(),A.sort();for(let R=0;R<p.length&&R<A.length;++R){const U=Sn(p[R],A[R]);if(0!==U)return U;const K=Yf(f[p[R]],w[A[R]]);if(0!==K)return K}return Sn(p.length,A.length)}(n.mapValue,t.mapValue);default:throw nn()}}function k5(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Sn(n,t);const e=jd(n),i=jd(t),r=Sn(e.seconds,i.seconds);return 0!==r?r:Sn(e.nanos,i.nanos)}function pb(n){return vV(n)}function vV(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=jd(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Hd(n.bytesValue).toBase64():"referenceValue"in n?Yt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const c of e.values||[])r?r=!1:i+=",",i+=vV(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",c=!0;for(const d of i)c?c=!1:r+=",",r+=`${d}:${vV(e.fields[d])}`;return r+"}"}(n.mapValue):nn()}function Eg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function yV(n){return!!n&&"integerValue"in n}function qT(n){return!!n&&"arrayValue"in n}function O5(n){return!!n&&"nullValue"in n}function N5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yR(n){return!!n&&"mapValue"in n}function XT(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return qf(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=XT(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=XT(n.arrayValue.values[e]);return t}return Object.assign({},n)}function F5(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class cs{constructor(t){this.value=t}static empty(){return new cs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!yR(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=XT(e)}setAll(t){let e=Qi.emptyPath(),i={},r=[];t.forEach((d,f)=>{if(!e.isImmediateParentOf(f)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=f.popLast()}d?i[f.lastSegment()]=XT(d):r.push(f.lastSegment())});const c=this.getFieldsMap(e);this.applyChanges(c,i,r)}delete(t){const e=this.field(t.popLast());yR(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return yu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];yR(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){qf(e,(r,c)=>t[r]=c);for(const r of i)delete t[r]}clone(){return new cs(XT(this.value))}}function B5(n){const t=[];return qf(n.fields,(e,i)=>{const r=new Qi([e]);if(yR(i)){const c=B5(i.mapValue).fields;if(0===c.length)t.push(r);else for(const d of c)t.push(r.child(d))}else t.push(r)}),new Pa(t)}class lr{constructor(t,e,i,r,c,d,f){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=c,this.data=d,this.documentState=f}static newInvalidDocument(t){return new lr(t,0,gn.min(),gn.min(),gn.min(),cs.empty(),0)}static newFoundDocument(t,e,i,r){return new lr(t,1,e,gn.min(),i,r,0)}static newNoDocument(t,e){return new lr(t,2,e,gn.min(),gn.min(),cs.empty(),0)}static newUnknownDocument(t,e){return new lr(t,3,e,gn.min(),gn.min(),cs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(gn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof lr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new lr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zf{constructor(t,e){this.position=t,this.inclusive=e}}function U5(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const c=t[r],d=n.position[r];if(i=c.field.isKeyField()?Yt.comparator(Yt.fromName(d.referenceValue),e.key):Yf(d,e.data.field(c.field)),"desc"===c.dir&&(i*=-1),0!==i)break}return i}function j5(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!yu(n.position[e],t.position[e]))return!1;return!0}class QT{constructor(t,e="asc"){this.field=t,this.dir=e}}function HK(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class H5{}class ii extends H5{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new $K(t,e,i):"array-contains"===e?new WK(t,i):"in"===e?new q5(t,i):"not-in"===e?new KK(t,i):"array-contains-any"===e?new qK(t,i):new ii(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new GK(t,i):new zK(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Yf(e,this.value)):null!==e&&Qf(this.value)===Qf(e)&&this.matchesComparison(Yf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Li extends H5{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Li(t,e)}matches(t){return gb(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function gb(n){return"and"===n.op}function EV(n){return function $5(n){for(const t of n.filters)if(t instanceof Li)return!1;return!0}(n)&&gb(n)}function wV(n){if(n instanceof ii)return n.field.canonicalString()+n.op.toString()+pb(n.value);if(EV(n))return n.filters.map(t=>wV(t)).join(",");{const t=n.filters.map(e=>wV(e)).join(",");return`${n.op}(${t})`}}function G5(n,t){return n instanceof ii?(i=n,(r=t)instanceof ii&&i.op===r.op&&i.field.isEqual(r.field)&&yu(i.value,r.value)):n instanceof Li?function(i,r){return r instanceof Li&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((c,d,f)=>c&&G5(d,r.filters[f]),!0)}(n,t):void nn();var i,r}function W5(n){return n instanceof ii?`${(e=n).field.canonicalString()} ${e.op} ${pb(e.value)}`:n instanceof Li?function(e){return e.op.toString()+" {"+e.getFilters().map(W5).join(" ,")+"}"}(n):"Filter";var e}class $K extends ii{constructor(t,e,i){super(t,e,i),this.key=Yt.fromName(i.referenceValue)}matches(t){const e=Yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class GK extends ii{constructor(t,e){super(t,"in",e),this.keys=K5(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class zK extends ii{constructor(t,e){super(t,"not-in",e),this.keys=K5(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function K5(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Yt.fromName(i.referenceValue))}class WK extends ii{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return qT(e)&&KT(e.arrayValue,this.value)}}class q5 extends ii{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&KT(this.value.arrayValue,e)}}class KK extends ii{constructor(t,e){super(t,"not-in",e)}matches(t){if(KT(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!KT(this.value.arrayValue,e)}}class qK extends ii{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!qT(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>KT(this.value.arrayValue,i))}}class XK{constructor(t,e=null,i=[],r=[],c=null,d=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=c,this.startAt=d,this.endAt=f,this.ue=null}}function IV(n,t=null,e=[],i=[],r=null,c=null,d=null){return new XK(n,t,e,i,r,c,d)}function wg(n){const t=qt(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>wV(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(c=i).field.canonicalString()+c.dir;var c}).join(","),Kf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>pb(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>pb(i)).join(",")),t.ue=e}return t.ue}function YT(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!HK(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!G5(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!j5(n.startAt,t.startAt)&&j5(n.endAt,t.endAt)}function bR(n){return Yt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class $d{constructor(t,e=null,i=[],r=[],c=null,d="F",f=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null}}function _b(n){return new $d(n)}function Z5(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function TV(n){return null!==n.collectionGroup}function vb(n){const t=qt(n);if(null===t.ce){t.ce=[];const e=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),e.add(c.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new Wi(Qi.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(w=>{w.isInequality()&&(f=f.add(w.field))})}),f})(t).forEach(c=>{e.has(c.canonicalString())||c.isKeyField()||t.ce.push(new QT(c,i))}),e.has(Qi.keyField().canonicalString())||t.ce.push(new QT(Qi.keyField(),i))}return t.ce}function xs(n){const t=qt(n);return t.le||(t.le=function eG(n,t){if("F"===n.limitType)return IV(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>new QT(r.field,"desc"===r.dir?"asc":"desc"));const e=n.endAt?new Zf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Zf(n.startAt.position,n.startAt.inclusive):null;return IV(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}(t,vb(n))),t.le}function CV(n,t){const e=n.filters.concat([t]);return new $d(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function wR(n,t,e){return new $d(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function ZT(n,t){return YT(xs(n),xs(t))&&n.limitType===t.limitType}function tG(n){return`${wg(xs(n))}|lt:${n.limitType}`}function yb(n){return`Query(target=${function(e){let i=e.path.canonicalString();return null!==e.collectionGroup&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>W5(r)).join(", ")}]`),Kf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>{return`${(d=r).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>pb(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>pb(r)).join(",")),`Target(${i})`}(xs(n))}; limitType=${n.limitType})`}function JT(n,t){return t.isFoundDocument()&&function(i,r){const c=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Yt.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(n,t)&&function(i,r){for(const c of vb(i))if(!c.field.isKeyField()&&null===r.data.field(c.field))return!1;return!0}(n,t)&&function(i,r){for(const c of i.filters)if(!c.matches(r))return!1;return!0}(n,t)&&(r=t,!((i=n).startAt&&!function(d,f,p){const w=U5(d,f,p);return d.inclusive?w<=0:w<0}(i.startAt,vb(i),r)||i.endAt&&!function(d,f,p){const w=U5(d,f,p);return d.inclusive?w>=0:w>0}(i.endAt,vb(i),r)));var i,r}function iG(n){return(t,e)=>{let i=!1;for(const r of vb(n)){const c=QK(r,t,e);if(0!==c)return c;i=i||r.field.isKeyField()}return 0}}function QK(n,t,e){const i=n.field.isKeyField()?Yt.comparator(t.key,e.key):function(c,d,f){const p=d.data.field(c),w=f.data.field(c);return null!==p&&null!==w?Yf(p,w):nn()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return nn()}}class Gd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,c]of i)if(this.equalsFn(r,t))return c}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let c=0;c<r.length;c++)if(this.equalsFn(r[c][0],t))return void(r[c]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){qf(this.inner,(e,i)=>{for(const[r,c]of i)t(r,c)})}isEmpty(){return M5(this.inner)}size(){return this.innerSize}}const YK=new tr(Yt.comparator);function ka(){return YK}const rG=new tr(Yt.comparator);function eC(...n){let t=rG;for(const e of n)t=t.insert(e.key,e);return t}function oG(n){let t=rG;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function bu(){return tC()}function sG(){return tC()}function tC(){return new Gd(n=>n.toString(),(n,t)=>n.isEqual(t))}const ZK=new tr(Yt.comparator),JK=new Wi(Yt.comparator);function Hn(...n){let t=JK;for(const e of n)t=t.add(e);return t}const eq=new Wi(Sn);function aG(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fb(t)?"-0":t}}function cG(n){return{integerValue:""+n}}function lG(n,t){return function fR(n){return"number"==typeof n&&Number.isInteger(n)&&!fb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?cG(t):aG(n,t)}class IR{constructor(){this._=void 0}}function tq(n,t,e){return n instanceof bb?function(r,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return c&&pR(c)&&(c=gR(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(e,t):n instanceof Ig?dG(n,t):n instanceof Tg?hG(n,t):function(r,c){const d=uG(r,c),f=fG(d)+fG(r.Pe);return yV(d)&&yV(r.Pe)?cG(f):aG(r.serializer,f)}(n,t)}function nq(n,t,e){return n instanceof Ig?dG(n,t):n instanceof Tg?hG(n,t):e}function uG(n,t){return n instanceof Eb?yV(i=t)||(c=i)&&"doubleValue"in c?t:{integerValue:0}:null;var i,c}class bb extends IR{}class Ig extends IR{constructor(t){super(),this.elements=t}}function dG(n,t){const e=mG(t);for(const i of n.elements)e.some(r=>yu(r,i))||e.push(i);return{arrayValue:{values:e}}}class Tg extends IR{constructor(t){super(),this.elements=t}}function hG(n,t){let e=mG(t);for(const i of n.elements)e=e.filter(r=>!yu(r,i));return{arrayValue:{values:e}}}class Eb extends IR{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function fG(n){return Br(n.integerValue||n.doubleValue)}function mG(n){return qT(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class nC{constructor(t,e){this.field=t,this.transform=e}}class rq{constructor(t,e){this.version=t,this.transformResults=e}}class br{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new br}static exists(t){return new br(void 0,t)}static updateTime(t){return new br(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function TR(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class CR{}function pG(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Ib(n.key,br.none()):new wb(n.key,n.data,br.none());{const e=n.data,i=cs.empty();let r=new Wi(Qi.comparator);for(let c of t.fields)if(!r.has(c)){let d=e.field(c);null===d&&c.length>1&&(c=c.popLast(),d=e.field(c)),null===d?i.delete(c):i.set(c,d),r=r.add(c)}return new zd(n.key,i,new Pa(r.toArray()),br.none())}}function oq(n,t,e){n instanceof wb?function(r,c,d){const f=r.value.clone(),p=vG(r.fieldTransforms,c,d.transformResults);f.setAll(p),c.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(n,t,e):n instanceof zd?function(r,c,d){if(!TR(r.precondition,c))return void c.convertToUnknownDocument(d.version);const f=vG(r.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(_G(r)),p.setAll(f),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function iC(n,t,e,i){return n instanceof wb?function(c,d,f,p){if(!TR(c.precondition,d))return f;const w=c.value.clone(),A=yG(c.fieldTransforms,p,d);return w.setAll(A),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),null}(n,t,e,i):n instanceof zd?function(c,d,f,p){if(!TR(c.precondition,d))return f;const w=yG(c.fieldTransforms,p,d),A=d.data;return A.setAll(_G(c)),A.setAll(w),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),null===f?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(n,t,e,i):(f=e,TR(n.precondition,d=t)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f);var d,f}function sq(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),c=uG(i.transform,r||null);null!=c&&(null===e&&(e=cs.empty()),e.set(i.field,c))}return e||null}function gG(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&_u(i,r,(c,d)=>function iq(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(i=n.transform)instanceof Ig&&r instanceof Ig||i instanceof Tg&&r instanceof Tg?_u(i.elements,r.elements,yu):i instanceof Eb&&r instanceof Eb?yu(i.Pe,r.Pe):i instanceof bb&&r instanceof bb);var i,r}(c,d))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var i,r}class wb extends CR{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class zd extends CR{constructor(t,e,i,r,c=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function _G(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function vG(n,t,e){const i=new Map;fn(n.length===e.length);for(let r=0;r<e.length;r++){const c=n[r],d=c.transform,f=t.data.field(c.field);i.set(c.field,nq(d,f,e[r]))}return i}function yG(n,t,e){const i=new Map;for(const r of n){const c=r.transform,d=e.data.field(r.field);i.set(r.field,tq(c,d,t))}return i}class Ib extends CR{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AV extends CR{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DV{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const c=this.mutations[r];c.key.isEqual(t.key)&&oq(c,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=iC(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=iC(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=sG();return this.mutations.forEach(r=>{const c=t.get(r.key),d=c.overlayedDocument;let f=this.applyToLocalView(d,c.mutatedFields);f=e.has(r.key)?null:f;const p=pG(d,f);null!==p&&i.set(r.key,p),d.isValidDocument()||d.convertToNoDocument(gn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Hn())}isEqual(t){return this.batchId===t.batchId&&_u(this.mutations,t.mutations,(e,i)=>gG(e,i))&&_u(this.baseMutations,t.baseMutations,(e,i)=>gG(e,i))}}class xV{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){fn(t.mutations.length===i.length);let r=function(){return ZK}();const c=t.mutations;for(let d=0;d<c.length;d++)r=r.insert(c[d].key,i[d].version);return new xV(t,e,i,r)}}class MV{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class aq{constructor(t,e){this.count=t,this.unchangedNames=e}}var fo,di;function EG(n){switch(n){default:return nn();case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0}}function wG(n){if(void 0===n)return yr("GRPC error has no .code"),mt.UNKNOWN;switch(n){case fo.OK:return mt.OK;case fo.CANCELLED:return mt.CANCELLED;case fo.UNKNOWN:return mt.UNKNOWN;case fo.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case fo.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case fo.INTERNAL:return mt.INTERNAL;case fo.UNAVAILABLE:return mt.UNAVAILABLE;case fo.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case fo.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case fo.NOT_FOUND:return mt.NOT_FOUND;case fo.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case fo.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case fo.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case fo.ABORTED:return mt.ABORTED;case fo.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case fo.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case fo.DATA_LOSS:return mt.DATA_LOSS;default:return nn()}}(di=fo||(fo={}))[di.OK=0]="OK",di[di.CANCELLED=1]="CANCELLED",di[di.UNKNOWN=2]="UNKNOWN",di[di.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",di[di.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",di[di.NOT_FOUND=5]="NOT_FOUND",di[di.ALREADY_EXISTS=6]="ALREADY_EXISTS",di[di.PERMISSION_DENIED=7]="PERMISSION_DENIED",di[di.UNAUTHENTICATED=16]="UNAUTHENTICATED",di[di.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",di[di.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",di[di.ABORTED=10]="ABORTED",di[di.OUT_OF_RANGE=11]="OUT_OF_RANGE",di[di.UNIMPLEMENTED=12]="UNIMPLEMENTED",di[di.INTERNAL=13]="INTERNAL",di[di.UNAVAILABLE=14]="UNAVAILABLE",di[di.DATA_LOSS=15]="DATA_LOSS";const cq=new zf([4294967295,4294967295],0);function TG(n){const t=function IG(){return new TextEncoder}().encode(n),e=new nV;return e.update(t),new Uint8Array(e.digest())}function CG(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new zf([e,i],0),new zf([r,c],0)]}class RV{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new rC(`Invalid padding: ${e}`);if(i<0)throw new rC(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new rC(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new rC(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=zf.fromNumber(this.Ie)}Ee(t,e,i){let r=t.add(e.multiply(zf.fromNumber(i)));return 1===r.compare(cq)&&(r=new zf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=TG(t),[i,r]=CG(e);for(let c=0;c<this.hashCount;c++){const d=this.Ee(i,r,c);if(!this.de(d))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new RV(c,r,e);return i.forEach(f=>d.insert(f)),d}insert(t){if(0===this.Ie)return;const e=TG(t),[i,r]=CG(e);for(let c=0;c<this.hashCount;c++){const d=this.Ee(i,r,c);this.Ae(d)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class rC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class oC{constructor(t,e,i,r,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,sC.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new oC(gn.min(),r,new tr(Sn),ka(),Hn())}}class sC{constructor(t,e,i,r,c){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new sC(i,e,Hn(),Hn(),Hn())}}class AR{constructor(t,e,i,r){this.Re=t,this.removedTargetIds=e,this.key=i,this.Ve=r}}class SG{constructor(t,e){this.targetId=t,this.me=e}}class AG{constructor(t,e,i=Ao.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class DG{constructor(){this.fe=0,this.ge=MG(),this.pe=Ao.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Hn(),e=Hn(),i=Hn();return this.ge.forEach((r,c)=>{switch(c){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:nn()}}),new sC(this.pe,this.ye,t,e,i)}ve(){this.we=!1,this.ge=MG()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,fn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class lq{constructor(t){this.Le=t,this.Be=new Map,this.ke=ka(),this.qe=xG(),this.Qe=new tr(Sn)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const i=this.Ge(e);switch(t.state){case 0:this.ze(e)&&i.De(t.resumeToken);break;case 1:i.Oe(),i.Se||i.ve(),i.De(t.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(i.Ne(),i.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),i.De(t.resumeToken));break;default:nn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((i,r)=>{this.ze(r)&&e(r)})}He(t){const e=t.targetId,i=t.me.count,r=this.Je(e);if(r){const c=r.target;if(bR(c))if(0===i){const d=new Yt(c.path);this.Ue(e,d,lr.newNoDocument(d,gn.min()))}else fn(1===i);else{const d=this.Ye(e);if(d!==i){const f=this.Ze(t),p=f?this.Xe(f,t,d):1;0!==p&&(this.je(e),this.Qe=this.Qe.insert(e,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:c=0}=e;let d,f;try{d=Hd(i).toUint8Array()}catch(p){if(p instanceof P5)return Xs("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new RV(d,r,c)}catch(p){return Xs(p instanceof rC?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return 0===f.Ie?null:f}Xe(t,e,i){return e.me.count===i-this.nt(t,e.targetId)?0:2}nt(t,e){const i=this.Le.getRemoteKeysForTarget(e);let r=0;return i.forEach(c=>{const d=this.Le.tt(),f=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(f)||(this.Ue(e,c,null),r++)}),r}rt(t){const e=new Map;this.Be.forEach((c,d)=>{const f=this.Je(d);if(f){if(c.current&&bR(f.target)){const p=new Yt(f.target.path);null!==this.ke.get(p)||this.it(d,p)||this.Ue(d,p,lr.newNoDocument(p,t))}c.be&&(e.set(d,c.Ce()),c.ve())}});let i=Hn();this.qe.forEach((c,d)=>{let f=!0;d.forEachWhile(p=>{const w=this.Je(p);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(i=i.add(c))}),this.ke.forEach((c,d)=>d.setReadTime(t));const r=new oC(t,e,this.Qe,this.ke,i);return this.ke=ka(),this.qe=xG(),this.Qe=new tr(Sn),r}$e(t,e){if(!this.ze(t))return;const i=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,i),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,i){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),i&&(this.ke=this.ke.insert(e,i))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new DG,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Wi(Sn),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Pt("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new DG),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function xG(){return new tr(Yt.comparator)}function MG(){return new tr(Yt.comparator)}const uq={asc:"ASCENDING",desc:"DESCENDING"},dq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hq={and:"AND",or:"OR"};class fq{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function PV(n,t){return n.useProto3Json||Kf(t)?t:{value:t}}function Tb(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RG(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function mq(n,t){return Tb(n,t.toTimestamp())}function Yr(n){return fn(!!n),gn.fromTimestamp(function(e){const i=jd(e);return new er(i.seconds,i.nanos)}(n))}function kV(n,t){return OV(n,t).canonicalString()}function OV(n,t){const e=(r=n,new Qn(["projects",r.projectId,"databases",r.database])).child("documents");var r;return void 0===t?e:e.child(t)}function PG(n){const t=Qn.fromString(n);return fn($G(t)),t}function aC(n,t){return kV(n.databaseId,t.path)}function Eu(n,t){const e=PG(t);if(e.get(1)!==n.databaseId.projectId)throw new Mt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Mt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Yt(NG(e))}function kG(n,t){return kV(n.databaseId,t)}function NV(n){return new Qn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function NG(n){return fn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function FG(n,t,e){return{name:aC(n,t),fields:e.value.mapValue.fields}}function cC(n,t){let e;if(t instanceof wb)e={update:FG(n,t.key,t.value)};else if(t instanceof Ib)e={delete:aC(n,t.key)};else if(t instanceof zd)e={update:FG(n,t.key,t.data),updateMask:wq(t.fieldMask)};else{if(!(t instanceof AV))return nn();e={verify:aC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(c,d){const f=d.transform;if(f instanceof bb)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ig)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Tg)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Eb)return{fieldPath:d.field.canonicalString(),increment:f.Pe};throw nn()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(c=t.precondition).updateTime?{updateTime:mq(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:nn()),e;var c}function VG(n,t){return{documents:[kG(n,t.path)]}}function DR(n,t){const e={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=kG(n,r);const c=function(w){if(0!==w.length)return HG(Li.create(w,"and"))}(t.filters);c&&(e.structuredQuery.where=c);const d=function(w){if(0!==w.length)return w.map(A=>{return{field:Jf((U=A).field),direction:yq(U.dir)};var U})}(t.orderBy);d&&(e.structuredQuery.orderBy=d);const f=PV(n,t.limit);return null!==f&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt={before:(w=t.startAt).inclusive,values:w.position}),t.endAt&&(e.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(t.endAt)),{_t:e,parent:r};var w}function UG(n){let t=function OG(n){const t=PG(n);return 4===t.length?Qn.emptyPath():NG(t)}(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){fn(1===i);const A=e.from[0];A.allDescendants?r=A.collectionId:t=t.child(A.collectionId)}let c=[];e.where&&(c=function(R){const U=jG(R);return U instanceof Li&&EV(U)?U.getFilters():[U]}(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(U=>{return new QT(Cb((me=U).field),function(he){switch(he){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(me.direction));var me}));let f=null;e.limit&&(f=function(R){let U;return U="object"==typeof R?R.value:R,Kf(U)?null:U}(e.limit));let p=null;var R;e.startAt&&(p=new Zf((R=e.startAt).values||[],!!R.before));let w=null;return e.endAt&&(w=function(R){return new Zf(R.values||[],!R.before)}(e.endAt)),function Y5(n,t,e,i,r,c,d,f){return new $d(n,t,e,i,r,c,d,f)}(t,r,d,c,f,"F",p,w)}function jG(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Cb(e.unaryFilter.field);return ii.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Cb(e.unaryFilter.field);return ii.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Cb(e.unaryFilter.field);return ii.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Cb(e.unaryFilter.field);return ii.create(d,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}(n):void 0!==n.fieldFilter?ii.create(Cb((e=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Li.create(e.compositeFilter.filters.map(i=>jG(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return nn()}}(e.compositeFilter.op))}(n):nn();var e}function yq(n){return uq[n]}function bq(n){return dq[n]}function Eq(n){return hq[n]}function Jf(n){return{fieldPath:n.canonicalString()}}function Cb(n){return Qi.fromServerFormat(n.fieldPath)}function HG(n){return n instanceof ii?function(e){if("=="===e.op){if(N5(e.value))return{unaryFilter:{field:Jf(e.field),op:"IS_NAN"}};if(O5(e.value))return{unaryFilter:{field:Jf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(N5(e.value))return{unaryFilter:{field:Jf(e.field),op:"IS_NOT_NAN"}};if(O5(e.value))return{unaryFilter:{field:Jf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jf(e.field),op:bq(e.op),value:e.value}}}(n):n instanceof Li?function(e){const i=e.getFilters().map(r=>HG(r));return 1===i.length?i[0]:{compositeFilter:{op:Eq(e.op),filters:i}}}(n):nn()}function wq(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function $G(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Wd{constructor(t,e,i,r,c=gn.min(),d=gn.min(),f=Ao.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(t){return new Wd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class GG{constructor(t){this.ct=t}}function LV(n){const t=UG({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wR(t,t.limit,"L"):t}class Dg{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(Br(t.integerValue));else if("doubleValue"in t){const i=Br(t.doubleValue);isNaN(i)?this.Et(e,13):(this.Et(e,15),fb(i)?e.dt(0):e.dt(i))}else if("timestampValue"in t){let i=t.timestampValue;this.Et(e,20),"string"==typeof i&&(i=jd(i)),e.At(`${i.seconds||""}`),e.dt(i.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Hd(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.Et(e,45),e.dt(i.latitude||0),e.dt(i.longitude||0)}else"mapValue"in t?F5(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):nn()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const i=t.fields||{};this.Et(e,55);for(const r of Object.keys(i))this.Rt(r,e),this.It(i[r],e)}wt(t,e){const i=t.values||[];this.Et(e,50);for(const r of i)this.It(r,e)}gt(t,e){this.Et(e,37),Yt.fromName(t).path.forEach(i=>{this.Et(e,60),this.St(i,e)})}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}Dg.bt=new Dg;class Mq{constructor(){this._n=new $V}addToCollectionParentIndex(t,e){return this._n.add(e),ut.resolve()}getCollectionParents(t,e){return ut.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return ut.resolve()}deleteFieldIndex(t,e){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,e){return ut.resolve()}getDocumentsMatchingTarget(t,e){return ut.resolve(null)}getIndexType(t,e){return ut.resolve(0)}getFieldIndexes(t,e){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,e){return ut.resolve(Ra.min())}getMinOffsetFromCollectionGroup(t,e){return ut.resolve(Ra.min())}updateCollectionGroup(t,e,i){return ut.resolve()}updateIndexEntries(t,e){return ut.resolve()}}class $V{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Wi(Qn.comparator),c=!r.has(i);return this.index[e]=r.add(i),c}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Wi(Qn.comparator)).toArray()}}new Uint8Array(0);class Ms{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ms(t,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ms.DEFAULT_COLLECTION_PERCENTILE=10,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ms.DEFAULT=new Ms(41943040,Ms.DEFAULT_COLLECTION_PERCENTILE,Ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ms.DISABLED=new Ms(-1,0,0);class Mg{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Mg(0)}static Ln(){return new Mg(-1)}}class f8{constructor(){this.changes=new Gd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,lr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ut.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Vq{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class v8{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&iC(i.mutation,r,Pa.empty(),er.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Hn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Hn()){const r=bu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(c=>{let d=eC();return c.forEach((f,p)=>{d=d.insert(f,p.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const i=bu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Hn()))}populateOverlays(t,e,i){const r=[];return i.forEach(c=>{e.has(c)||r.push(c)}),this.documentOverlayCache.getOverlays(t,r).next(c=>{c.forEach((d,f)=>{e.set(d,f)})})}computeViews(t,e,i,r){let c=ka();const d=tC(),f=tC();return e.forEach((p,w)=>{const A=i.get(w.key);r.has(w.key)&&(void 0===A||A.mutation instanceof zd)?c=c.insert(w.key,w):void 0!==A?(d.set(w.key,A.mutation.getFieldMask()),iC(A.mutation,w,A.mutation.getFieldMask(),er.now())):d.set(w.key,Pa.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((w,A)=>d.set(w,A)),e.forEach((w,A)=>{var R;return f.set(w,new Vq(A,null!==(R=d.get(w))&&void 0!==R?R:null))}),f))}recalculateAndSaveOverlays(t,e){const i=tC();let r=new tr((d,f)=>d-f),c=Hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const f of d)f.keys().forEach(p=>{const w=e.get(p);if(null===w)return;let A=i.get(p)||Pa.empty();A=f.applyToLocalView(w,A),i.set(p,A);const R=(r.get(f.batchId)||Hn()).add(p);r=r.insert(f.batchId,R)})}).next(()=>{const d=[],f=r.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),w=p.key,A=p.value,R=sG();A.forEach(U=>{if(!c.has(U)){const K=pG(e.get(U),i.get(U));null!==K&&R.set(U,K),c=c.add(U)}}),d.push(this.documentOverlayCache.saveOverlays(t,w,R))}return ut.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return Yt.isDocumentKey((d=e).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):TV(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r);var d}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(c=>{const d=r-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-c.size):ut.resolve(bu());let f=-1,p=c;return d.next(w=>ut.forEach(w,(A,R)=>(f<R.largestBatchId&&(f=R.largestBatchId),c.get(A)?ut.resolve():this.remoteDocumentCache.getEntry(t,A).next(U=>{p=p.insert(A,U)}))).next(()=>this.populateOverlays(t,w,c)).next(()=>this.computeViews(t,p,w,Hn())).next(A=>({batchId:f,changes:oG(A)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Yt(e)).next(i=>{let r=eC();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const c=e.collectionGroup;let d=eC();return this.indexManager.getCollectionParents(t,c).next(f=>ut.forEach(f,p=>{const w=(R=e,U=p.child(c),new $d(U,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt));var R,U;return this.getDocumentsMatchingCollectionQuery(t,w,i,r).next(A=>{A.forEach((R,U)=>{d=d.insert(R,U)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,e,i,r){let c;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,c,r))).next(d=>{c.forEach((p,w)=>{const A=w.getKey();null===d.get(A)&&(d=d.insert(A,lr.newInvalidDocument(A)))});let f=eC();return d.forEach((p,w)=>{const A=c.get(p);void 0!==A&&iC(A.mutation,w,Pa.empty(),er.now()),JT(e,w)&&(f=f.insert(p,w))}),f})}}class Bq{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return ut.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,{id:(r=e).id,version:r.version,createTime:Yr(r.createTime)}),ut.resolve();var r}getNamedQuery(t,e){return ut.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,{name:(r=e).name,query:LV(r.bundledQuery),readTime:Yr(r.readTime)}),ut.resolve();var r}}class Uq{constructor(){this.overlays=new tr(Yt.comparator),this.hr=new Map}getOverlay(t,e){return ut.resolve(this.overlays.get(e))}getOverlays(t,e){const i=bu();return ut.forEach(e,r=>this.getOverlay(t,r).next(c=>{null!==c&&i.set(r,c)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,c)=>{this.ht(t,e,c)}),ut.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.hr.get(i);return void 0!==r&&(r.forEach(c=>this.overlays=this.overlays.remove(c)),this.hr.delete(i)),ut.resolve()}getOverlaysForCollection(t,e,i){const r=bu(),c=e.length+1,d=new Yt(e.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const p=f.getNext().value,w=p.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===c&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ut.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let c=new tr((w,A)=>w-A);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>i){let A=c.get(w.largestBatchId);null===A&&(A=bu(),c=c.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const f=bu(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((w,A)=>f.set(w,A)),!(f.size()>=r)););return ut.resolve(f)}ht(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const d=this.hr.get(r.largestBatchId).delete(i.key);this.hr.set(r.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new MV(e,i));let c=this.hr.get(e);void 0===c&&(c=Hn(),this.hr.set(e,c)),this.hr.set(e,c.add(i.key))}}class GV{constructor(){this.Pr=new Wi(Go.Ir),this.Tr=new Wi(Go.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const i=new Go(t,e);this.Pr=this.Pr.add(i),this.Tr=this.Tr.add(i)}dr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Ar(new Go(t,e))}Rr(t,e){t.forEach(i=>this.removeReference(i,e))}Vr(t){const e=new Yt(new Qn([])),i=new Go(e,t),r=new Go(e,t+1),c=[];return this.Tr.forEachInRange([i,r],d=>{this.Ar(d),c.push(d.key)}),c}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new Yt(new Qn([])),i=new Go(e,t),r=new Go(e,t+1);let c=Hn();return this.Tr.forEachInRange([i,r],d=>{c=c.add(d.key)}),c}containsKey(t){const e=new Go(t,0),i=this.Pr.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Go{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return Yt.comparator(t.key,e.key)||Sn(t.pr,e.pr)}static Er(t,e){return Sn(t.pr,e.pr)||Yt.comparator(t.key,e.key)}}class jq{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new Wi(Go.Ir)}checkEmpty(t){return ut.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const c=this.yr;this.yr++;const d=new DV(c,e,i,r);this.mutationQueue.push(d);for(const f of r)this.wr=this.wr.add(new Go(f.key,c)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return ut.resolve(d)}lookupMutationBatch(t,e){return ut.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.br(e+1),c=r<0?0:r;return ut.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Go(e,0),r=new Go(e,Number.POSITIVE_INFINITY),c=[];return this.wr.forEachInRange([i,r],d=>{const f=this.Sr(d.pr);c.push(f)}),ut.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Wi(Sn);return e.forEach(r=>{const c=new Go(r,0),d=new Go(r,Number.POSITIVE_INFINITY);this.wr.forEachInRange([c,d],f=>{i=i.add(f.pr)})}),ut.resolve(this.Dr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let c=i;Yt.isDocumentKey(c)||(c=c.child(""));const d=new Go(new Yt(c),0);let f=new Wi(Sn);return this.wr.forEachWhile(p=>{const w=p.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(p.pr)),!0)},d),ut.resolve(this.Dr(f))}Dr(t){const e=[];return t.forEach(i=>{const r=this.Sr(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){fn(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let i=this.wr;return ut.forEach(e.mutations,r=>{const c=new Go(r.key,e.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.wr=i})}Mn(t){}containsKey(t,e){const i=new Go(e,0),r=this.wr.firstAfterOrEqual(i);return ut.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ut.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Hq{constructor(t){this.vr=t,this.docs=new tr(Yt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),c=r?r.size:0,d=this.vr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ut.resolve(i?i.document.mutableCopy():lr.newInvalidDocument(e))}getEntries(t,e){let i=ka();return e.forEach(r=>{const c=this.docs.get(r);i=i.insert(r,c?c.document.mutableCopy():lr.newInvalidDocument(r))}),ut.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let c=ka();const d=e.path,f=new Yt(d.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:w,value:{document:A}}=p.getNext();if(!d.isPrefixOf(w.path))break;w.path.length>d.length+1||HT(new Ra((n=A).readTime,n.key,-1),i)<=0||(r.has(A.key)||JT(e,A))&&(c=c.insert(A.key,A.mutableCopy()))}var n;return ut.resolve(c)}getAllFromCollectionGroup(t,e,i,r){nn()}Fr(t,e){return ut.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new $q(this)}getSize(t){return ut.resolve(this.size)}}class $q extends f8{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.ar.addEntry(t,r)):this.ar.removeEntry(i)}),ut.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class Gq{constructor(t){this.persistence=t,this.Mr=new Gd(e=>wg(e),YT),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new GV,this.targetCount=0,this.Lr=Mg.Nn()}forEachTarget(t,e){return this.Mr.forEach((i,r)=>e(r)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Or&&(this.Or=e),ut.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new Mg(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,ut.resolve()}updateTargetData(t,e){return this.qn(e),ut.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,e,i){let r=0;const c=[];return this.Mr.forEach((d,f)=>{f.sequenceNumber<=e&&null===i.get(f.targetId)&&(this.Mr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),ut.waitFor(c).next(()=>r)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,e){const i=this.Mr.get(e)||null;return ut.resolve(i)}addMatchingKeys(t,e,i){return this.Nr.dr(e,i),ut.resolve()}removeMatchingKeys(t,e,i){this.Nr.Rr(e,i);const r=this.persistence.referenceDelegate,c=[];return r&&e.forEach(d=>{c.push(r.markPotentiallyOrphaned(t,d))}),ut.waitFor(c)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),ut.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Nr.gr(e);return ut.resolve(i)}containsKey(t,e){return ut.resolve(this.Nr.containsKey(e))}}class zV{constructor(t,e){this.Br={},this.overlays={},this.kr=new Qs(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Gq(this),this.indexManager=new Mq,this.remoteDocumentCache=new Hq(i=>this.referenceDelegate.Kr(i)),this.serializer=new GG(e),this.$r=new Bq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Uq,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Br[t.toKey()];return i||(i=new jq(e,this.referenceDelegate),this.Br[t.toKey()]=i),i}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,i){Pt("MemoryPersistence","Starting transaction:",t);const r=new zq(this.kr.next());return this.referenceDelegate.Ur(),i(r).next(c=>this.referenceDelegate.Wr(r).next(()=>c)).toPromise().then(c=>(r.raiseOnCommittedEvent(),c))}Gr(t,e){return ut.or(Object.values(this.Br).map(i=>()=>i.containsKey(t,e)))}}class zq extends lR{constructor(t){super(),this.currentSequenceNumber=t}}class FR{constructor(t){this.persistence=t,this.zr=new GV,this.jr=null}static Hr(t){return new FR(t)}get Jr(){if(this.jr)return this.jr;throw nn()}addReference(t,e,i){return this.zr.addReference(i,e),this.Jr.delete(i.toString()),ut.resolve()}removeReference(t,e,i){return this.zr.removeReference(i,e),this.Jr.add(i.toString()),ut.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),ut.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach(r=>this.Jr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(c=>this.Jr.add(c.toString()))}).next(()=>i.removeTargetData(t,e))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.Jr,i=>{const r=Yt.fromPath(i);return this.Yr(t,r).next(c=>{c||e.removeEntry(r,gn.min())})}).next(()=>(this.jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Yr(t,e).next(i=>{i?this.Jr.delete(e.toString()):this.Jr.add(e.toString())})}Kr(t){return 0}Yr(t,e){return ut.or([()=>ut.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class XV{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.qi=i,this.Qi=r}static Ki(t,e){let i=Hn(),r=Hn();for(const c of e.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:r=r.add(c.doc.key)}return new XV(t,e.fromCache,i,r)}}class Kq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class b8{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function md(){return!function VF(){var n;const t=null===(n=fd())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function dR(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}(cr())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,i,r){const c={result:null};return this.ji(t,e).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Hi(t,e,r,i).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Kq;return this.Ji(t,e,d).next(f=>{if(c.result=f,this.Ui)return this.Yi(t,e,d,f.size)})}).next(()=>c.result)}Yi(t,e,i,r){return i.documentReadCount<this.Wi?(Od()<=Un.DEBUG&&Pt("QueryEngine","SDK will not create cache indexes for query:",yb(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ut.resolve()):(Od()<=Un.DEBUG&&Pt("QueryEngine","Query:",yb(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Gi*r?(Od()<=Un.DEBUG&&Pt("QueryEngine","The SDK decides to create cache indexes for query:",yb(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xs(e))):ut.resolve())}ji(t,e){if(Z5(e))return ut.resolve(null);let i=xs(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=wR(e,null,"F"),i=xs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(c=>{const d=Hn(...c);return this.zi.getDocuments(t,d).next(f=>this.indexManager.getMinOffset(t,i).next(p=>{const w=this.Zi(e,f);return this.Xi(e,w,d,p.readTime)?this.ji(t,wR(e,null,"F")):this.es(t,w,e,p)}))})))}Hi(t,e,i,r){return Z5(e)||r.isEqual(gn.min())?ut.resolve(null):this.zi.getDocuments(t,i).next(c=>{const d=this.Zi(e,c);return this.Xi(e,d,i,r)?ut.resolve(null):(Od()<=Un.DEBUG&&Pt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yb(e)),this.es(t,d,e,function fV(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=gn.fromTimestamp(1e9===i?new er(e+1,0):new er(e,i));return new Ra(r,Yt.empty(),t)}(r,-1)).next(f=>f))})}Zi(t,e){let i=new Wi(iG(t));return e.forEach((r,c)=>{JT(t,c)&&(i=i.add(c))}),i}Xi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const c="F"===t.limitType?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(r)>0)}Ji(t,e,i){return Od()<=Un.DEBUG&&Pt("QueryEngine","Using full collection scan to execute query:",yb(e)),this.zi.getDocumentsMatchingQuery(t,e,Ra.min(),i)}es(t,e,i,r){return this.zi.getDocumentsMatchingQuery(t,i,r).next(c=>(e.forEach(d=>{c=c.insert(d.key,d)}),c))}}class qq{constructor(t,e,i,r){this.persistence=t,this.ts=e,this.serializer=r,this.ns=new tr(Sn),this.rs=new Gd(c=>wg(c),YT),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(i)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new v8(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ns))}}function w8(n,t){return QV.apply(this,arguments)}function QV(){return(QV=(0,D.A)(function*(n,t){const e=qt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(c=>(r=c,e._s(t),e.mutationQueue.getAllMutationBatches(i))).next(c=>{const d=[],f=[];let p=Hn();for(const w of r){d.push(w.batchId);for(const A of w.mutations)p=p.add(A.key)}for(const w of c){f.push(w.batchId);for(const A of w.mutations)p=p.add(A.key)}return e.localDocuments.getDocuments(i,p).next(w=>({us:w,removedBatchIds:d,addedBatchIds:f}))})})})).apply(this,arguments)}function I8(n){const t=qt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function Yq(n,t){const e=qt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Rb(n,t,e){return YV.apply(this,arguments)}function YV(){return(YV=(0,D.A)(function*(n,t,e){const i=qt(n),r=i.ns.get(t),c=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",c,d=>i.persistence.referenceDelegate.removeTarget(d,r)))}catch(d){if(!Vd(d))throw d;Pt("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}i.ns=i.ns.remove(t),i.rs.delete(r.target)})).apply(this,arguments)}function BR(n,t,e){const i=qt(n);let r=gn.min(),c=Hn();return i.persistence.runTransaction("Execute query","readwrite",d=>function(p,w,A){const R=qt(p),U=R.rs.get(A);return void 0!==U?ut.resolve(R.ns.get(U)):R.Qr.getTargetData(w,A)}(i,d,xs(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Qr.getMatchingKeysForTargetId(d,f.targetId).next(p=>{c=p})}).next(()=>i.ts.getDocumentsMatchingQuery(d,t,e?r:gn.min(),e?c:Hn())).next(f=>(function A8(n,t,e){let i=n.ss.get(t)||gn.min();e.forEach((r,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.ss.set(t,i)}(i,function nG(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),f),{documents:f,hs:c})))}class nB{constructor(){this.activeTargetIds=function SV(){return eq}()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class M8{constructor(){this.no=new nB,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,i){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new nB,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class eX{io(t){}shutdown(){}}class R8{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Pt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Pt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let HR=null;function rB(){return null===HR?HR=268435456+Math.round(2147483648*Math.random()):HR++,"0x"+HR.toString(16)}const tX={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class nX{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const Rs="WebChannelConnection";class iX extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.wo=i+"://"+e.host,this.So=`projects/${r}/databases/${c}`,this.bo="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${c}`}get Do(){return!1}Co(e,i,r,c,d){const f=rB(),p=this.vo(e,i.toUriEncodedString());Pt("RestConnection",`Sending RPC '${e}' ${f}:`,p,r);const w={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(w,c,d),this.Mo(e,p,w,r).then(A=>(Pt("RestConnection",`Received RPC '${e}' ${f}: `,A),A),A=>{throw Xs("RestConnection",`RPC '${e}' ${f} failed with error: `,A,"url: ",p,"request:",r),A})}xo(e,i,r,c,d,f){return this.Co(e,i,r,c,d)}Fo(e,i,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wf,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((c,d)=>e[d]=c),r&&r.headers.forEach((c,d)=>e[d]=c)}vo(e,i){return`${this.wo}/v1/${i}:${tX[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,e,i,r){const c=rB();return new Promise((d,f)=>{const p=new iV;p.setWithCredentials(!0),p.listenOnce(rV.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case gg.NO_ERROR:const A=p.getResponseJson();Pt(Rs,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case gg.TIMEOUT:Pt(Rs,`RPC '${t}' ${c} timed out`),f(new Mt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case gg.HTTP_ERROR:const R=p.getStatus();if(Pt(Rs,`RPC '${t}' ${c} failed with status:`,R,"response text:",p.getResponseText()),R>0){let U=p.getResponseJson();Array.isArray(U)&&(U=U[0]);const K=U?.error;if(K&&K.status&&K.message){const me=function(he){const ht=he.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(ht)>=0?ht:mt.UNKNOWN}(K.status);f(new Mt(me,K.message))}else f(new Mt(mt.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Mt(mt.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{Pt(Rs,`RPC '${t}' ${c} completed.`)}});const w=JSON.stringify(r);Pt(Rs,`RPC '${t}' ${c} sending request:`,r),p.send(e,"POST",w,i,15)})}Oo(t,e,i){const r=rB(),c=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=BT(),f=eR(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(p.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(p.xmlHttpFactory=new J1({})),this.Fo(p.initMessageHeaders,e,i),p.encodeInitMessageHeaders=!0;const A=c.join("");Pt(Rs,`Creating RPC '${t}' stream ${r}: ${A}`,p);const R=d.createWebChannel(A,p);let U=!1,K=!1;const me=new nX({lo:he=>{K?Pt(Rs,`Not sending because RPC '${t}' stream ${r} is closed:`,he):(U||(Pt(Rs,`Opening RPC '${t}' stream ${r} transport.`),R.open(),U=!0),Pt(Rs,`RPC '${t}' stream ${r} sending:`,he),R.send(he))},ho:()=>R.close()}),fe=(he,ht,vt)=>{he.listen(ht,Et=>{try{vt(Et)}catch(Gt){setTimeout(()=>{throw Gt},0)}})};return fe(R,pg.EventType.OPEN,()=>{K||(Pt(Rs,`RPC '${t}' stream ${r} transport opened.`),me.mo())}),fe(R,pg.EventType.CLOSE,()=>{K||(K=!0,Pt(Rs,`RPC '${t}' stream ${r} transport closed`),me.po())}),fe(R,pg.EventType.ERROR,he=>{K||(K=!0,Xs(Rs,`RPC '${t}' stream ${r} transport errored:`,he),me.po(new Mt(mt.UNAVAILABLE,"The operation could not be completed")))}),fe(R,pg.EventType.MESSAGE,he=>{var ht;if(!K){const vt=he.data[0];fn(!!vt);const Gt=vt.error||(null===(ht=vt[0])||void 0===ht?void 0:ht.error);if(Gt){Pt(Rs,`RPC '${t}' stream ${r} received error:`,Gt);const vn=Gt.status;let cn=function(we){const je=fo[we];if(void 0!==je)return wG(je)}(vn),Ve=Gt.message;void 0===cn&&(cn=mt.INTERNAL,Ve="Unknown error status: "+vn+" with message "+Gt.message),K=!0,me.po(new Mt(cn,Ve)),R.close()}else Pt(Rs,`RPC '${t}' stream ${r} received:`,vt),me.yo(vt)}}),fe(f,oV.STAT_EVENT,he=>{he.stat===VT.PROXY?Pt(Rs,`RPC '${t}' stream ${r} detected buffering proxy`):he.stat===VT.NOPROXY&&Pt(Rs,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{me.fo()},0),me}}function $R(){return typeof document<"u"?document:null}function gC(n){return new fq(n,!0)}class oB{constructor(t,e,i=1e3,r=1.5,c=6e4){this.oi=t,this.timerId=e,this.No=i,this.Lo=r,this.Bo=c,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const e=Math.floor(this.ko+this.Uo()),i=Math.max(0,Date.now()-this.Qo),r=Math.max(0,e-i);r>0&&Pt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class k8{constructor(t,e,i,r,c,d,f,p){this.oi=t,this.Go=i,this.zo=r,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new oB(t,e)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var t=this;return(0,D.A)(function*(){t.Zo()&&(yield t.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){var t=this;return(0,D.A)(function*(){if(t.Xo())return t.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,e){var i=this;return(0,D.A)(function*(){i.s_(),i.o_(),i.Yo.cancel(),i.jo++,4!==t?i.Yo.reset():e&&e.code===mt.RESOURCE_EXHAUSTED?(yr(e.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),i.Yo.Ko()):e&&e.code===mt.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.__(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Ao(e)})()}__(){}auth(){this.state=1;const t=this.a_(this.jo),e=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.jo===e&&this.u_(i,r)},i=>{t(()=>{const r=new Mt(mt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.c_(r)})})}u_(t,e){const i=this.a_(this.jo);this.stream=this.l_(t,e),this.stream.Po(()=>{i(()=>this.listener.Po())}),this.stream.To(()=>{i(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(r=>{i(()=>this.c_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}e_(){var t=this;this.state=5,this.Yo.$o((0,D.A)(function*(){t.state=0,t.start()}))}c_(t){return Pt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return e=>{this.oi.enqueueAndForget(()=>this.jo===t?e():(Pt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rX extends k8{constructor(t,e,i,r,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,d),this.serializer=c}l_(t,e){return this.connection.Oo("Listen",t,e)}onMessage(t){this.Yo.reset();const e=function gq(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(w=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:nn(),r=t.targetChange.targetIds||[],c=function(w,A){return w.useProto3Json?(fn(void 0===A||"string"==typeof A),Ao.fromBase64String(A||"")):(fn(void 0===A||A instanceof Buffer||A instanceof Uint8Array),Ao.fromUint8Array(A||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,f=d&&function(w){const A=void 0===w.code?mt.UNKNOWN:wG(w.code);return new Mt(A,w.message||"")}(d);e=new AG(i,r,c,f||null)}else if("documentChange"in t){const i=t.documentChange,r=Eu(n,i.document.name),c=Yr(i.document.updateTime),d=i.document.createTime?Yr(i.document.createTime):gn.min(),f=new cs({mapValue:{fields:i.document.fields}}),p=lr.newFoundDocument(r,c,d,f);e=new AR(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in t){const i=t.documentDelete,r=Eu(n,i.document),c=i.readTime?Yr(i.readTime):gn.min(),d=lr.newNoDocument(r,c);e=new AR([],i.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const i=t.documentRemove,r=Eu(n,i.document);e=new AR([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return nn();{const i=t.filter,{count:r=0,unchangedNames:c}=i,d=new aq(r,c);e=new SG(i.targetId,d)}}var w;return e}(this.serializer,t),i=function(c){if(!("targetChange"in c))return gn.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?gn.min():d.readTime?Yr(d.readTime):gn.min()}(t);return this.listener.h_(e,i)}P_(t){const e={};e.database=NV(this.serializer),e.addTarget=function(c,d){let f;const p=d.target;if(f=bR(p)?{documents:VG(c,p)}:{query:DR(c,p)._t},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=RG(c,d.resumeToken);const w=PV(c,d.expectedCount);null!==w&&(f.expectedCount=w)}else if(d.snapshotVersion.compareTo(gn.min())>0){f.readTime=Tb(c,d.snapshotVersion.toTimestamp());const w=PV(c,d.expectedCount);null!==w&&(f.expectedCount=w)}return f}(this.serializer,t);const i=function vq(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.i_(e)}I_(t){const e={};e.database=NV(this.serializer),e.removeTarget=t,this.i_(e)}}class oX extends k8{constructor(t,e,i,r,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,d),this.serializer=c,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,e){return this.connection.Oo("Write",t,e)}onMessage(t){if(fn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const e=function _q(n,t){return n&&n.length>0?(fn(void 0!==t),n.map(e=>function(r,c){let d=Yr(r.updateTime?r.updateTime:c);return d.isEqual(gn.min())&&(d=Yr(c)),new rq(d,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Yr(t.commitTime);return this.listener.A_(i,e)}return fn(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=NV(this.serializer),this.i_(t)}d_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>cC(this.serializer,i))};this.i_(e)}}class sX extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new Mt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,e,i,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(t,OV(e,i),r,c,d)).catch(c=>{throw"FirebaseError"===c.name?(c.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Mt(mt.UNKNOWN,c.toString())})}xo(t,e,i,r,c){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.xo(t,OV(e,i),r,d,f,c)).catch(d=>{throw"FirebaseError"===d.name?(d.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Mt(mt.UNKNOWN,d.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class aX{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(yr(e),this.y_=!1):Pt("OnlineStateTracker",e)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class cX{constructor(t,e,i,r,c){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=c,this.O_.io(f=>{i.enqueueAndForget((0,D.A)(function*(){var p;im(d)&&(Pt("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,D.A)(function*(A){const R=qt(A);R.M_.add(4),yield Pb(R),R.N_.set("Unknown"),R.M_.delete(4),yield _C(R)}),function w(A){return p.apply(this,arguments)})(d))}))}),this.N_=new aX(i,r)}}function _C(n){return sB.apply(this,arguments)}function sB(){return(sB=(0,D.A)(function*(n){if(im(n))for(const t of n.x_)yield t(!0)})).apply(this,arguments)}function Pb(n){return aB.apply(this,arguments)}function aB(){return(aB=(0,D.A)(function*(n){for(const t of n.x_)yield t(!1)})).apply(this,arguments)}function GR(n,t){const e=qt(n);e.F_.has(t.targetId)||(e.F_.set(t.targetId,t),uB(e)?lB(e):Nb(e).Xo()&&cB(e,t))}function kb(n,t){const e=qt(n),i=Nb(e);e.F_.delete(t),i.Xo()&&O8(e,t),0===e.F_.size&&(i.Xo()?i.n_():im(e)&&e.N_.set("Unknown"))}function cB(n,t){if(n.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Nb(n).P_(t)}function O8(n,t){n.L_.xe(t),Nb(n).I_(t)}function lB(n){n.L_=new lq({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.F_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),Nb(n).start(),n.N_.w_()}function uB(n){return im(n)&&!Nb(n).Zo()&&n.F_.size>0}function im(n){return 0===qt(n).M_.size}function N8(n){n.L_=void 0}function lX(n){return dB.apply(this,arguments)}function dB(){return(dB=(0,D.A)(function*(n){n.N_.set("Online")})).apply(this,arguments)}function uX(n){return hB.apply(this,arguments)}function hB(){return(hB=(0,D.A)(function*(n){n.F_.forEach((t,e)=>{cB(n,t)})})).apply(this,arguments)}function dX(n,t){return fB.apply(this,arguments)}function fB(){return(fB=(0,D.A)(function*(n,t){N8(n),uB(n)?(n.N_.D_(t),lB(n)):n.N_.set("Unknown")})).apply(this,arguments)}function hX(n,t,e){return mB.apply(this,arguments)}function mB(){return mB=(0,D.A)(function*(n,t,e){if(n.N_.set("Online"),t instanceof AG&&2===t.state&&t.cause)try{yield(i=(0,D.A)(function*(c,d){const f=d.cause;for(const p of d.targetIds)c.F_.has(p)&&(yield c.remoteSyncer.rejectListen(p,f),c.F_.delete(p),c.L_.removeTarget(p))}),function r(c,d){return i.apply(this,arguments)})(n,t)}catch(i){Pt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield zR(n,i)}else if(t instanceof AR?n.L_.Ke(t):t instanceof SG?n.L_.He(t):n.L_.We(t),!e.isEqual(gn.min()))try{const i=yield I8(n.localStore);e.compareTo(i)>=0&&(yield function(c,d){const f=c.L_.rt(d);return f.targetChanges.forEach((p,w)=>{if(p.resumeToken.approximateByteSize()>0){const A=c.F_.get(w);A&&c.F_.set(w,A.withResumeToken(p.resumeToken,d))}}),f.targetMismatches.forEach((p,w)=>{const A=c.F_.get(p);if(!A)return;c.F_.set(p,A.withResumeToken(Ao.EMPTY_BYTE_STRING,A.snapshotVersion)),O8(c,p);const R=new Wd(A.target,p,w,A.sequenceNumber);cB(c,R)}),c.remoteSyncer.applyRemoteEvent(f)}(n,e))}catch(i){Pt("RemoteStore","Failed to raise snapshot:",i),yield zR(n,i)}var i}),mB.apply(this,arguments)}function zR(n,t,e){return pB.apply(this,arguments)}function pB(){return(pB=(0,D.A)(function*(n,t,e){if(!Vd(t))throw t;n.M_.add(1),yield Pb(n),n.N_.set("Offline"),e||(e=()=>I8(n.localStore)),n.asyncQueue.enqueueRetryable((0,D.A)(function*(){Pt("RemoteStore","Retrying IndexedDB access"),yield e(),n.M_.delete(1),yield _C(n)}))})).apply(this,arguments)}function F8(n,t){return t().catch(e=>zR(n,e,t))}function Ob(n){return gB.apply(this,arguments)}function gB(){return(gB=(0,D.A)(function*(n){const t=qt(n),e=rm(t);let i=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;fX(t);)try{const r=yield Yq(t.localStore,i);if(null===r){0===t.v_.length&&e.n_();break}i=r.batchId,mX(t,r)}catch(r){yield zR(t,r)}L8(t)&&V8(t)})).apply(this,arguments)}function fX(n){return im(n)&&n.v_.length<10}function mX(n,t){n.v_.push(t);const e=rm(n);e.Xo()&&e.E_&&e.d_(t.mutations)}function L8(n){return im(n)&&!rm(n).Zo()&&n.v_.length>0}function V8(n){rm(n).start()}function pX(n){return _B.apply(this,arguments)}function _B(){return(_B=(0,D.A)(function*(n){rm(n).V_()})).apply(this,arguments)}function gX(n){return vB.apply(this,arguments)}function vB(){return(vB=(0,D.A)(function*(n){const t=rm(n);for(const e of n.v_)t.d_(e.mutations)})).apply(this,arguments)}function _X(n,t,e){return yB.apply(this,arguments)}function yB(){return(yB=(0,D.A)(function*(n,t,e){const i=n.v_.shift(),r=xV.from(i,t,e);yield F8(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield Ob(n)})).apply(this,arguments)}function vX(n,t){return bB.apply(this,arguments)}function bB(){return bB=(0,D.A)(function*(n,t){var e;t&&rm(n).E_&&(yield(e=(0,D.A)(function*(r,c){if(EG(f=c.code)&&f!==mt.ABORTED){const d=r.v_.shift();rm(r).t_(),yield F8(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,c)),yield Ob(r)}var f}),function i(r,c){return e.apply(this,arguments)})(n,t)),L8(n)&&V8(n)}),bB.apply(this,arguments)}function B8(n,t){return EB.apply(this,arguments)}function EB(){return(EB=(0,D.A)(function*(n,t){const e=qt(n);e.asyncQueue.verifyOperationInProgress(),Pt("RemoteStore","RemoteStore received new credentials");const i=im(e);e.M_.add(3),yield Pb(e),i&&e.N_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.M_.delete(3),yield _C(e)})).apply(this,arguments)}function wB(n,t){return IB.apply(this,arguments)}function IB(){return(IB=(0,D.A)(function*(n,t){const e=qt(n);t?(e.M_.delete(2),yield _C(e)):t||(e.M_.add(2),yield Pb(e),e.N_.set("Unknown"))})).apply(this,arguments)}function Nb(n){return n.B_||(n.B_=function(e,i,r){const c=qt(e);return c.f_(),new rX(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,r)}(n.datastore,n.asyncQueue,{Po:lX.bind(null,n),To:uX.bind(null,n),Ao:dX.bind(null,n),h_:hX.bind(null,n)}),n.x_.push(function(){var t=(0,D.A)(function*(e){e?(n.B_.t_(),uB(n)?lB(n):n.N_.set("Unknown")):(yield n.B_.stop(),N8(n))});return function(e){return t.apply(this,arguments)}}())),n.B_}function rm(n){return n.k_||(n.k_=function(e,i,r){const c=qt(e);return c.f_(),new oX(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,r)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:pX.bind(null,n),Ao:vX.bind(null,n),R_:gX.bind(null,n),A_:_X.bind(null,n)}),n.x_.push(function(){var t=(0,D.A)(function*(e){e?(n.k_.t_(),yield Ob(n)):(yield n.k_.stop(),n.v_.length>0&&(Pt("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(e){return t.apply(this,arguments)}}())),n.k_}class TB{constructor(t,e,i,r,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=c,this.deferred=new ho,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,c){const d=Date.now()+i,f=new TB(t,e,d,r,c);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mt(mt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fb(n,t){if(yr("AsyncQueue",`${t}: ${n}`),Vd(n))return new Mt(mt.UNAVAILABLE,`${t}: ${n}`);throw n}class Lb{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Yt.comparator(e.key,i.key):(e,i)=>Yt.comparator(e.key,i.key),this.keyedMap=eC(),this.sortedSet=new tr(this.comparator)}static emptySet(t){return new Lb(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Lb)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,c=i.getNext().key;if(!r.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Lb;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class U8{constructor(){this.q_=new tr(Yt.comparator)}track(t){const e=t.doc.key,i=this.q_.get(e);i?0!==t.type&&3===i.type?this.q_=this.q_.insert(e,t):3===t.type&&1!==i.type?this.q_=this.q_.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.q_=this.q_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.q_=this.q_.remove(e):1===t.type&&2===i.type?this.q_=this.q_.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):nn():this.q_=this.q_.insert(e,t)}Q_(){const t=[];return this.q_.inorderTraversal((e,i)=>{t.push(i)}),t}}class Vb{constructor(t,e,i,r,c,d,f,p,w){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=w}static fromInitialDocuments(t,e,i,r,c){const d=[];return e.forEach(f=>{d.push({type:0,doc:f})}),new Vb(t,e,Lb.emptySet(e),d,i,r,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ZT(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class yX{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class bX{constructor(){this.queries=new Gd(t=>tG(t),ZT),this.onlineState="Unknown",this.z_=new Set}}function CB(n,t){return SB.apply(this,arguments)}function SB(){return(SB=(0,D.A)(function*(n,t){const e=qt(n);let i=3;const r=t.query;let c=e.queries.get(r);c?!c.W_()&&t.G_()&&(i=2):(c=new yX,i=t.G_()?0:1);try{switch(i){case 0:c.K_=yield e.onListen(r,!0);break;case 1:c.K_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(d){const f=Fb(d,`Initialization of query '${yb(t.query)}' failed`);return void t.onError(f)}e.queries.set(r,c),c.U_.push(t),t.j_(e.onlineState),c.K_&&t.H_(c.K_)&&xB(e)})).apply(this,arguments)}function AB(n,t){return DB.apply(this,arguments)}function DB(){return(DB=(0,D.A)(function*(n,t){const e=qt(n),i=t.query;let r=3;const c=e.queries.get(i);if(c){const d=c.U_.indexOf(t);d>=0&&(c.U_.splice(d,1),0===c.U_.length?r=t.G_()?0:1:!c.W_()&&t.G_()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}})).apply(this,arguments)}function EX(n,t){const e=qt(n);let i=!1;for(const r of t){const d=e.queries.get(r.query);if(d){for(const f of d.U_)f.H_(r)&&(i=!0);d.K_=r}}i&&xB(e)}function wX(n,t,e){const i=qt(n),r=i.queries.get(t);if(r)for(const c of r.U_)c.onError(e);i.queries.delete(t)}function xB(n){n.z_.forEach(t=>{t.next()})}var MB,j8;(j8=MB||(MB={})).J_="default",j8.Cache="cache";class RB{constructor(t,e,i){this.query=t,this.Y_=e,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=i||{}}H_(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Vb(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),e=!0):this.ta(t,this.onlineState)&&(this.na(t),e=!0),this.X_=t,e}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let e=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),e=!0),e}ta(t,e){return!t.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ea(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(t){t=Vb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==MB.Cache}}class G8{constructor(t){this.key=t}}class z8{constructor(t){this.key=t}}class W8{constructor(t,e){this.query=t,this.la=e,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Hn(),this.mutatedKeys=Hn(),this.Ia=iG(t),this.Ta=new Lb(this.Ia)}get Ea(){return this.la}da(t,e){const i=e?e.Aa:new U8,r=e?e.Ta:this.Ta;let c=e?e.mutatedKeys:this.mutatedKeys,d=r,f=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((A,R)=>{const U=r.get(A),K=JT(this.query,R)?R:null,me=!!U&&this.mutatedKeys.has(U.key),fe=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let he=!1;U&&K?U.data.isEqual(K.data)?me!==fe&&(i.track({type:3,doc:K}),he=!0):this.Ra(U,K)||(i.track({type:2,doc:K}),he=!0,(p&&this.Ia(K,p)>0||w&&this.Ia(K,w)<0)&&(f=!0)):!U&&K?(i.track({type:0,doc:K}),he=!0):U&&!K&&(i.track({type:1,doc:U}),he=!0,(p||w)&&(f=!0)),he&&(K?(d=d.add(K),c=fe?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),i.track({type:1,doc:A})}return{Ta:d,Aa:i,Xi:f,mutatedKeys:c}}Ra(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const c=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const d=t.Aa.Q_();d.sort((A,R)=>function(K,me){const fe=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return fe(K)-fe(me)}(A.type,R.type)||this.Ia(A.doc,R.doc)),this.Va(i),r=null!=r&&r;const f=e&&!r?this.ma():[],p=0===this.Pa.size&&this.current&&!r?1:0,w=p!==this.ha;return this.ha=p,0!==d.length||w?{snapshot:new Vb(this.query,t.Ta,c,d,t.mutatedKeys,0===p,w,!1,!!i&&i.resumeToken.approximateByteSize()>0),fa:f}:{fa:f}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new U8,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(e=>this.la=this.la.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.la=this.la.delete(e)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Hn(),this.Ta.forEach(i=>{this.ga(i.key)&&(this.Pa=this.Pa.add(i.key))});const e=[];return t.forEach(i=>{this.Pa.has(i)||e.push(new z8(i))}),this.Pa.forEach(i=>{t.has(i)||e.push(new G8(i))}),e}pa(t){this.la=t.hs,this.Pa=Hn();const e=this.da(t.documents);return this.applyChanges(e,!0)}ya(){return Vb.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class CX{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class SX{constructor(t){this.key=t,this.wa=!1}}class AX{constructor(t,e,i,r,c,d){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Sa={},this.ba=new Gd(f=>tG(f),ZT),this.Da=new Map,this.Ca=new Set,this.va=new tr(Yt.comparator),this.Fa=new Map,this.Ma=new GV,this.xa={},this.Oa=new Map,this.Na=Mg.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function DX(n,t){return PB.apply(this,arguments)}function PB(){return(PB=(0,D.A)(function*(n,t,e=!0){const i=WR(n);let r;const c=i.ba.get(t);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),r=c.view.ya()):r=yield K8(i,t,e,!0),r})).apply(this,arguments)}function xX(n,t){return kB.apply(this,arguments)}function kB(){return(kB=(0,D.A)(function*(n,t){const e=WR(n);yield K8(e,t,!0,!1)})).apply(this,arguments)}function K8(n,t,e,i){return OB.apply(this,arguments)}function OB(){return(OB=(0,D.A)(function*(n,t,e,i){const r=yield function Mb(n,t){const e=qt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Qr.getTargetData(i,t).next(c=>c?(r=c,ut.resolve(r)):e.Qr.allocateTargetId(i).next(d=>(r=new Wd(t,d,"TargetPurposeListen",i.currentSequenceNumber),e.Qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.ns.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.ns=e.ns.insert(i.targetId,i),e.rs.set(t,i.targetId)),i})}(n.localStore,xs(t)),c=r.targetId,d=e?n.sharedClientState.addLocalQueryTarget(c):"not-current";let f;return i&&(f=yield function NB(n,t,e,i,r){return FB.apply(this,arguments)}(n,t,c,"current"===d,r.resumeToken)),n.isPrimaryClient&&e&&GR(n.remoteStore,r),f})).apply(this,arguments)}function FB(){return FB=(0,D.A)(function*(n,t,e,i,r){n.Ba=(R,U,K)=>{return(me=(0,D.A)(function*(he,ht,vt,Et){let Gt=ht.view.da(vt);Gt.Xi&&(Gt=yield BR(he.localStore,ht.query,!1).then(({documents:le})=>ht.view.da(le,Gt)));const vn=Et&&Et.targetChanges.get(ht.targetId),cn=Et&&null!=Et.targetMismatches.get(ht.targetId),Ve=ht.view.applyChanges(Gt,he.isPrimaryClient,vn,cn);return KB(he,ht.targetId,Ve.fa),Ve.snapshot}),function fe(he,ht,vt,Et){return me.apply(this,arguments)})(n,R,U,K);var me};const c=yield BR(n.localStore,t,!0),d=new W8(t,c.hs),f=d.da(c.documents),p=sC.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),w=d.applyChanges(f,n.isPrimaryClient,p);KB(n,e,w.fa);const A=new CX(t,e,d);return n.ba.set(t,A),n.Da.has(e)?n.Da.get(e).push(t):n.Da.set(e,[t]),w.snapshot}),FB.apply(this,arguments)}function MX(n,t,e){return LB.apply(this,arguments)}function LB(){return(LB=(0,D.A)(function*(n,t,e){const i=qt(n),r=i.ba.get(t),c=i.Da.get(r.targetId);if(c.length>1)return i.Da.set(r.targetId,c.filter(d=>!ZT(d,t))),void i.ba.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Rb(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&kb(i.remoteStore,r.targetId),Bb(i,r.targetId)}).catch(Ld))):(Bb(i,r.targetId),yield Rb(i.localStore,r.targetId,!0))})).apply(this,arguments)}function RX(n,t){return VB.apply(this,arguments)}function VB(){return(VB=(0,D.A)(function*(n,t){const e=qt(n),i=e.ba.get(t),r=e.Da.get(i.targetId);e.isPrimaryClient&&1===r.length&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),kb(e.remoteStore,i.targetId))})).apply(this,arguments)}function BB(){return(BB=(0,D.A)(function*(n,t,e){const i=function rU(n){const t=qt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=OX.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=NX.bind(null,t),t}(n);try{const r=yield function(d,f){const p=qt(d),w=er.now(),A=f.reduce((K,me)=>K.add(me.key),Hn());let R,U;return p.persistence.runTransaction("Locally write mutations","readwrite",K=>{let me=ka(),fe=Hn();return p.os.getEntries(K,A).next(he=>{me=he,me.forEach((ht,vt)=>{vt.isValidDocument()||(fe=fe.add(ht))})}).next(()=>p.localDocuments.getOverlayedDocuments(K,me)).next(he=>{R=he;const ht=[];for(const vt of f){const Et=sq(vt,R.get(vt.key).overlayedDocument);null!=Et&&ht.push(new zd(vt.key,Et,B5(Et.value.mapValue),br.exists(!0)))}return p.mutationQueue.addMutationBatch(K,w,ht,f)}).next(he=>{U=he;const ht=he.applyToLocalDocumentSet(R,fe);return p.documentOverlayCache.saveOverlays(K,he.batchId,ht)})}).then(()=>({batchId:U.batchId,changes:oG(R)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(d,f,p){let w=d.xa[d.currentUser.toKey()];w||(w=new tr(Sn)),w=w.insert(f,p),d.xa[d.currentUser.toKey()]=w}(i,r.batchId,e),yield Kd(i,r.changes),yield Ob(i.remoteStore)}catch(r){const c=Fb(r,"Failed to persist write");e.reject(c)}})).apply(this,arguments)}function q8(n,t){return UB.apply(this,arguments)}function UB(){return(UB=(0,D.A)(function*(n,t){const e=qt(n);try{const i=yield function Qq(n,t){const e=qt(n),i=t.snapshotVersion;let r=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=e.os.newChangeBuffer({trackRemovals:!0});r=e.ns;const f=[];t.targetChanges.forEach((A,R)=>{const U=r.get(R);if(!U)return;f.push(e.Qr.removeMatchingKeys(c,A.removedDocuments,R).next(()=>e.Qr.addMatchingKeys(c,A.addedDocuments,R)));let K=U.withSequenceNumber(c.currentSequenceNumber);var fe,he,ht;null!==t.targetMismatches.get(R)?K=K.withResumeToken(Ao.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,i)),r=r.insert(R,K),he=K,ht=A,(0===(fe=U).resumeToken.approximateByteSize()||he.snapshotVersion.toMicroseconds()-fe.snapshotVersion.toMicroseconds()>=3e8||ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0)&&f.push(e.Qr.updateTargetData(c,K))});let p=ka(),w=Hn();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(c,A))}),f.push(function T8(n,t,e){let i=Hn(),r=Hn();return e.forEach(c=>i=i.add(c)),t.getEntries(n,i).next(c=>{let d=ka();return e.forEach((f,p)=>{const w=c.get(f);p.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(f)),p.isNoDocument()&&p.version.isEqual(gn.min())?(t.removeEntry(f,p.readTime),d=d.insert(f,p)):!w.isValidDocument()||p.version.compareTo(w.version)>0||0===p.version.compareTo(w.version)&&w.hasPendingWrites?(t.addEntry(p),d=d.insert(f,p)):Pt("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",p.version)}),{cs:d,ls:r}})}(c,d,t.documentUpdates).next(A=>{p=A.cs,w=A.ls})),!i.isEqual(gn.min())){const A=e.Qr.getLastRemoteSnapshotVersion(c).next(R=>e.Qr.setTargetsMetadata(c,c.currentSequenceNumber,i));f.push(A)}return ut.waitFor(f).next(()=>d.apply(c)).next(()=>e.localDocuments.getLocalViewOfDocuments(c,p,w)).next(()=>p)}).then(c=>(e.ns=r,c))}(e.localStore,t);t.targetChanges.forEach((r,c)=>{const d=e.Fa.get(c);d&&(fn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?d.wa=!0:r.modifiedDocuments.size>0?fn(d.wa):r.removedDocuments.size>0&&(fn(d.wa),d.wa=!1))}),yield Kd(e,i,t)}catch(i){yield Ld(i)}})).apply(this,arguments)}function X8(n,t,e){const i=qt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.ba.forEach((c,d)=>{const f=d.view.j_(t);f.snapshot&&r.push(f.snapshot)}),function(d,f){const p=qt(d);p.onlineState=f;let w=!1;p.queries.forEach((A,R)=>{for(const U of R.U_)U.j_(f)&&(w=!0)}),w&&xB(p)}(i.eventManager,t),r.length&&i.Sa.h_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function kX(n,t,e){return jB.apply(this,arguments)}function jB(){return(jB=(0,D.A)(function*(n,t,e){const i=qt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Fa.get(t),c=r&&r.key;if(c){let d=new tr(Yt.comparator);d=d.insert(c,lr.newNoDocument(c,gn.min()));const f=Hn().add(c),p=new oC(gn.min(),new Map,new tr(Sn),d,f);yield q8(i,p),i.va=i.va.remove(c),i.Fa.delete(t),qB(i)}else yield Rb(i.localStore,t,!1).then(()=>Bb(i,t,e)).catch(Ld)})).apply(this,arguments)}function OX(n,t){return HB.apply(this,arguments)}function HB(){return(HB=(0,D.A)(function*(n,t){const e=qt(n),i=t.batch.batchId;try{const r=yield function Xq(n,t){const e=qt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),c=e.os.newChangeBuffer({trackRemovals:!0});return function(f,p,w,A){const R=w.batch,U=R.keys();let K=ut.resolve();return U.forEach(me=>{K=K.next(()=>A.getEntry(p,me)).next(fe=>{const he=w.docVersions.get(me);fn(null!==he),fe.version.compareTo(he)<0&&(R.applyToRemoteDocument(fe,w),fe.isValidDocument()&&(fe.setReadTime(w.commitVersion),A.addEntry(fe)))})}),K.next(()=>f.mutationQueue.removeMutationBatch(p,R))}(e,i,t,c).next(()=>c.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let p=Hn();for(let w=0;w<f.mutationResults.length;++w)f.mutationResults[w].transformResults.length>0&&(p=p.add(f.batch.mutations[w].key));return p}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);WB(e,i,null),zB(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Kd(e,r)}catch(r){yield Ld(r)}})).apply(this,arguments)}function NX(n,t,e){return $B.apply(this,arguments)}function $B(){return($B=(0,D.A)(function*(n,t,e){const i=qt(n);try{const r=yield function(d,f){const p=qt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let A;return p.mutationQueue.lookupMutationBatch(w,f).next(R=>(fn(null!==R),A=R.keys(),p.mutationQueue.removeMutationBatch(w,R))).next(()=>p.mutationQueue.performConsistencyCheck(w)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(w,A,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,A)).next(()=>p.localDocuments.getDocuments(w,A))})}(i.localStore,t);WB(i,t,e),zB(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Kd(i,r)}catch(r){yield Ld(r)}})).apply(this,arguments)}function GB(){return(GB=(0,D.A)(function*(n,t){const e=qt(n);im(e.remoteStore)||Pt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(d){const f=qt(d);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",p=>f.mutationQueue.getHighestUnacknowledgedBatchId(p))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Oa.get(i)||[];r.push(t),e.Oa.set(i,r)}catch(i){const r=Fb(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}})).apply(this,arguments)}function zB(n,t){(n.Oa.get(t)||[]).forEach(e=>{e.resolve()}),n.Oa.delete(t)}function WB(n,t,e){const i=qt(n);let r=i.xa[i.currentUser.toKey()];if(r){const c=r.get(t);c&&(e?c.reject(e):c.resolve(),r=r.remove(t)),i.xa[i.currentUser.toKey()]=r}}function Bb(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Da.get(t))n.ba.delete(i),e&&n.Sa.ka(i,e);n.Da.delete(t),n.isPrimaryClient&&n.Ma.Vr(t).forEach(i=>{n.Ma.containsKey(i)||Q8(n,i)})}function Q8(n,t){n.Ca.delete(t.path.canonicalString());const e=n.va.get(t);null!==e&&(kb(n.remoteStore,e),n.va=n.va.remove(t),n.Fa.delete(e),qB(n))}function KB(n,t,e){for(const i of e)i instanceof G8?(n.Ma.addReference(i.key,t),LX(n,i)):i instanceof z8?(Pt("SyncEngine","Document no longer in limbo: "+i.key),n.Ma.removeReference(i.key,t),n.Ma.containsKey(i.key)||Q8(n,i.key)):nn()}function LX(n,t){const e=t.key,i=e.path.canonicalString();n.va.get(e)||n.Ca.has(i)||(Pt("SyncEngine","New document in limbo: "+e),n.Ca.add(i),qB(n))}function qB(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const t=n.Ca.values().next().value;n.Ca.delete(t);const e=new Yt(Qn.fromString(t)),i=n.Na.next();n.Fa.set(i,new SX(e)),n.va=n.va.insert(e,i),GR(n.remoteStore,new Wd(xs(_b(e.path)),i,"TargetPurposeLimboResolution",Qs.oe))}}function Kd(n,t,e){return XB.apply(this,arguments)}function XB(){return XB=(0,D.A)(function*(n,t,e){const i=qt(n),r=[],c=[],d=[];var f;i.ba.isEmpty()||(i.ba.forEach((f,p)=>{d.push(i.Ba(p,t,e).then(w=>{var A;if((w||e)&&i.isPrimaryClient){const R=w?!w.fromCache:null===(A=e?.targetChanges.get(p.targetId))||void 0===A?void 0:A.current;i.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(w){r.push(w);const R=XV.Ki(p.targetId,w);c.push(R)}}))}),yield Promise.all(d),i.Sa.h_(r),yield(f=(0,D.A)(function*(w,A){const R=qt(w);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",U=>ut.forEach(A,K=>ut.forEach(K.qi,me=>R.persistence.referenceDelegate.addReference(U,K.targetId,me)).next(()=>ut.forEach(K.Qi,me=>R.persistence.referenceDelegate.removeReference(U,K.targetId,me)))))}catch(U){if(!Vd(U))throw U;Pt("LocalStore","Failed to update sequence numbers: "+U)}for(const U of A){const K=U.targetId;if(!U.fromCache){const me=R.ns.get(K),he=me.withLastLimboFreeSnapshotVersion(me.snapshotVersion);R.ns=R.ns.insert(K,he)}}}),function p(w,A){return f.apply(this,arguments)})(i.localStore,c))}),XB.apply(this,arguments)}function VX(n,t){return QB.apply(this,arguments)}function QB(){return(QB=(0,D.A)(function*(n,t){const e=qt(n);if(!e.currentUser.isEqual(t)){Pt("SyncEngine","User change. New user:",t.toKey());const i=yield w8(e.localStore,t);e.currentUser=t,(c=e).Oa.forEach(f=>{f.forEach(p=>{p.reject(new Mt(mt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Oa.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Kd(e,i.us)}var c})).apply(this,arguments)}function BX(n,t){const e=qt(n),i=e.Fa.get(t);if(i&&i.wa)return Hn().add(i.key);{let r=Hn();const c=e.Da.get(t);if(!c)return r;for(const d of c){const f=e.ba.get(d);r=r.unionWith(f.view.Ea)}return r}}function WR(n){const t=qt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=q8.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=kX.bind(null,t),t.Sa.h_=EX.bind(null,t.eventManager),t.Sa.ka=wX.bind(null,t.eventManager),t}class Ub{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,D.A)(function*(){e.serializer=gC(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function E8(n,t,e,i){return new qq(n,t,e,i)}(this.persistence,new b8,t.initialUser,this.serializer)}createPersistence(t){return new zV(FR.Hr,this.serializer)}createSharedClientState(t){return new M8}terminate(){var t=this;return(0,D.A)(function*(){var e,i;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class jb{initialize(t,e){var i=this;return(0,D.A)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>X8(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=VX.bind(null,i.syncEngine),yield wB(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new bX}createDatastore(t){const e=gC(t.databaseInfo.databaseId),i=new iX(t.databaseInfo);return new sX(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return i=this.localStore,r=this.datastore,c=t.asyncQueue,d=e=>X8(this.syncEngine,e,0),f=R8.D()?new R8:new eX,new cX(i,r,c,d,f);var i,r,c,d,f}createSyncEngine(t,e){return function(r,c,d,f,p,w,A){const R=new AX(r,c,d,f,p,w);return A&&(R.La=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,D.A)(function*(){var e,i;yield(i=(0,D.A)(function*(c){const d=qt(c);Pt("RemoteStore","RemoteStore shutting down."),d.M_.add(5),yield Pb(d),d.O_.shutdown(),d.N_.set("Unknown")}),function r(c){return i.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate()})()}}class KR{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):yr("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class QX{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,D.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Mt(mt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const i=yield(r=(0,D.A)(function*(d,f){const p=qt(d),w={documents:f.map(K=>aC(p.serializer,K))},A=yield p.xo("BatchGetDocuments",p.serializer.databaseId,Qn.emptyPath(),w,f.length),R=new Map;A.forEach(K=>{const me=function pq(n,t){return"found"in t?function(i,r){fn(!!r.found);const c=Eu(i,r.found.name),d=Yr(r.found.updateTime),f=r.found.createTime?Yr(r.found.createTime):gn.min(),p=new cs({mapValue:{fields:r.found.fields}});return lr.newFoundDocument(c,d,f,p)}(n,t):"missing"in t?function(i,r){fn(!!r.missing),fn(!!r.readTime);const c=Eu(i,r.missing),d=Yr(r.readTime);return lr.newNoDocument(c,d)}(n,t):nn()}(p.serializer,K);R.set(me.key.toString(),me)});const U=[];return f.forEach(K=>{const me=R.get(K.toString());fn(!!me),U.push(me)}),U}),function c(d,f){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastTransactionError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Ib(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,D.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const c=Yt.fromPath(r);t.mutations.push(new AV(c,t.precondition(c)))}),yield(i=(0,D.A)(function*(c,d){const f=qt(c),p={writes:d.map(w=>cC(f.serializer,w))};yield f.Co("Commit",f.serializer.databaseId,Qn.emptyPath(),p)}),function r(c,d){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw nn();e=gn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Mt(mt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(gn.min())?br.exists(!1):br.updateTime(e):br.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(gn.min()))throw new Mt(mt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return br.updateTime(e)}return br.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class YX{constructor(t,e,i,r,c){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=c,this.Za=i.maxAttempts,this.Yo=new oB(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var t=this;this.Yo.$o((0,D.A)(function*(){const e=new QX(t.datastore),i=t.tu(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(c=>{t.nu(c)}))}).catch(r=>{t.nu(r)})}))}tu(t){try{const e=this.updateFunction(t);return!Kf(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!EG(e)}return!1}}class ZX{constructor(t,e,i,r){var c=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=uo.UNAUTHENTICATED,this.clientId=sR.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var d=(0,D.A)(function*(f){Pt("FirestoreClient","Received user=",f.uid),yield c.authCredentialListener(f),c.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(i,d=>(Pt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ho;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,D.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Fb(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function qR(n,t){return sU.apply(this,arguments)}function sU(){return sU=(0,D.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Pt("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,D.A)(function*(c){i.isEqual(c)||(yield w8(t.localStore,c),i=c)});return function(c){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),sU.apply(this,arguments)}function aU(n,t){return cU.apply(this,arguments)}function cU(){return(cU=(0,D.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function lU(n){return uU.apply(this,arguments)}(n);Pt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>B8(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>B8(t.remoteStore,r)),n._onlineComponents=t})).apply(this,arguments)}function uU(){return(uU=(0,D.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Pt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield qR(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function t7(n){return"FirebaseError"===n.name?n.code===mt.FAILED_PRECONDITION||n.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;Xs("Error using user provided cache. Falling back to memory cache: "+e),yield qR(n,new Ub)}}else Pt("FirestoreClient","Using default OfflineComponentProvider"),yield qR(n,new Ub);return n._offlineComponents})).apply(this,arguments)}function XR(n){return dU.apply(this,arguments)}function dU(){return(dU=(0,D.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Pt("FirestoreClient","Using user provided OnlineComponentProvider"),yield aU(n,n._uninitializedComponentsProvider._online)):(Pt("FirestoreClient","Using default OnlineComponentProvider"),yield aU(n,new jb))),n._onlineComponents})).apply(this,arguments)}function hU(n){return XR(n).then(t=>t.syncEngine)}function $b(n){return fU.apply(this,arguments)}function fU(){return(fU=(0,D.A)(function*(n){const t=yield XR(n),e=t.eventManager;return e.onListen=DX.bind(null,t.syncEngine),e.onUnlisten=MX.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=xX.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=RX.bind(null,t.syncEngine),e})).apply(this,arguments)}function a7(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const c7=new Map;function mU(n,t,e){if(!e)throw new Mt(mt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function l7(n){if(!Yt.isDocumentKey(n))throw new Mt(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function u7(n){if(Yt.isDocumentKey(n))throw new Mt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QR(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(i=n).constructor?i.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var i;return"function"==typeof n?"a function":nn()}function Yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Mt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=QR(n);throw new Mt(mt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class h7{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Mt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function uQ(n,t,e,i){if(!0===t&&!0===i)throw new Mt(mt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=a7(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Mt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Mt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Mt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vC{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new h7({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Mt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new h7(t),void 0!==t.credentials&&(this._authCredentials=function(i){if(!i)return new cV;switch(i.type){case"firstParty":return new iR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Mt(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=c7.get(e);i&&(Pt("ComponentProvider","Removing Datastore"),c7.delete(e),i.terminate())}(this),Promise.resolve()}}class ls{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ls(this.firestore,t,this._query)}}class Zr{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Zr(this.firestore,t,this._key)}}class wu extends ls{constructor(t,e,i){super(t,e,_b(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Zr(this.firestore,null,new Yt(t))}withConverter(t){return new wu(this.firestore,t,this._path)}}class fQ{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new oB(this,"async_queue_retry"),this.hu=()=>{const e=$R();e&&Pt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const t=$R();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const e=$R();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const e=new ho;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){var t=this;return(0,D.A)(function*(){if(0!==t.su.length){try{yield t.su[0](),t.su.shift(),t.Yo.reset()}catch(e){if(!Vd(e))throw e;Pt("AsyncQueue","Operation failed with retryable error: "+e)}t.su.length>0&&t.Yo.$o(()=>t.Tu())}})()}Iu(t){const e=this.iu.then(()=>(this.uu=!0,t().catch(i=>{throw this.au=i,this.uu=!1,yr("INTERNAL UNHANDLED ERROR: ",function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),f}(i)),i}).then(i=>(this.uu=!1,i))));return this.iu=e,e}enqueueAfterDelay(t,e,i){this.Pu(),this.lu.indexOf(t)>-1&&(e=0);const r=TB.createAndSchedule(this,t,e,i,c=>this.Eu(c));return this._u.push(r),r}Pu(){this.au&&nn()}verifyOperationInProgress(){}du(){var t=this;return(0,D.A)(function*(){let e;do{e=t.iu,yield e}while(e!==t.iu)})()}Au(t){for(const e of this._u)if(e.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this._u)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const e=this._u.indexOf(t);this._u.splice(e,1)}}function pU(n){return function(e,i){if("object"!=typeof e||null===e)return!1;const r=e;for(const c of["next","error","complete"])if(c in r&&"function"==typeof r[c])return!0;return!1}(n)}class Ki extends vC{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new fQ,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||p7(this),this._firestoreClient.terminate()}}function pQ(n,t){const i="string"==typeof n?n:t||"(default)",r=Np("object"==typeof n?n:bL(),"firestore").getImmediate({identifier:i});if(!r._initialized){const c=(n=>{const t=cu("firestore");if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),i]:[t.substring(0,e),i]})();c&&function dQ(n,t,e,i={}){var r;const c=(n=Yn(n,vC))._getSettings(),d=`${t}:${e}`;if("firestore.googleapis.com"!==c.host&&c.host!==d&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),i.mockUserToken){let f,p;if("string"==typeof i.mockUserToken)f=i.mockUserToken,p=uo.MOCK_USER;else{f=function zw(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=t||"demo-project",r=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},n);return[hd(JSON.stringify({alg:"none",type:"JWT"})),hd(JSON.stringify(d)),""].join(".")}(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new Mt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new uo(w)}n._authCredentials=new lV(new tR(f,p))}}(r,...c)}return r}function Rr(n){return n._firestoreClient||p7(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function p7(n){var t,e,i;const r=n._freezeSettings(),c=(p=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new BK(n._databaseId,p,n._persistenceKey,(A=r).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,a7(A.experimentalLongPollingOptions),A.useFetchStreams));var p,A;n._firestoreClient=new ZX(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(e=r.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}function gU(n){return function(e){const i=new ho;return e.asyncQueue.enqueueAndForget((0,D.A)(function*(){return function FX(n,t){return GB.apply(this,arguments)}(yield hU(e),i)})),i.promise}(Rr(n=Yn(n,Ki)))}class Pg{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pg(Ao.fromBase64String(t))}catch(e){throw new Mt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Pg(Ao.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class kg{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Mt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Og{constructor(t){this._methodName=t}}class _U{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Mt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Mt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Sn(this._lat,t._lat)||Sn(this._long,t._long)}}const vQ=/^__.*__$/;class yQ{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new zd(t,this.data,this.fieldMask,e,this.fieldTransforms):new wb(t,this.data,e,this.fieldTransforms)}}class v7{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new zd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function y7(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class YR{constructor(t,e,i,r,c,d){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===c&&this.mu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new YR(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.gu({path:i,yu:!1});return r.wu(t),r}Su(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.gu({path:i,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return eP(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(y7(this.fu)&&vQ.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class bQ{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||gC(t)}Fu(t,e,i,r=!1){return new YR({fu:t,methodName:e,vu:i,path:Qi.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ng(n){const t=n._freezeSettings(),e=gC(n._databaseId);return new bQ(n._databaseId,!!t.ignoreUndefinedProperties,e)}function ZR(n,t,e,i,r,c={}){const d=n.Fu(c.merge||c.mergeFields?2:0,t,e,r);TU("Data must be an object, but it was:",d,i);const f=w7(i,d);let p,w;if(c.merge)p=new Pa(d.fieldMask),w=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const R of c.mergeFields){const U=EC(t,R,e);if(!d.contains(U))throw new Mt(mt.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);T7(A,U)||A.push(U)}p=new Pa(A),w=d.fieldTransforms.filter(R=>p.covers(R.field))}else p=null,w=d.fieldTransforms;return new yQ(new cs(f),p,w)}class bC extends Og{_toFieldTransform(t){if(2!==t.fu)throw t.Du(1===t.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bC}}class vU extends Og{_toFieldTransform(t){return new nC(t.path,new bb)}isEqual(t){return t instanceof vU}}function wU(n,t,e,i){const r=n.Fu(1,t,e);TU("Data must be an object, but it was:",r,i);const c=[],d=cs.empty();qf(i,(p,w)=>{const A=JR(t,p,e);w=ui(w);const R=r.Su(A);if(w instanceof bC)c.push(A);else{const U=Fg(w,R);null!=U&&(c.push(A),d.set(A,U))}});const f=new Pa(c);return new v7(d,f,r.fieldTransforms)}function IU(n,t,e,i,r,c){const d=n.Fu(1,t,e),f=[EC(t,i,e)],p=[r];if(c.length%2!=0)throw new Mt(mt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<c.length;U+=2)f.push(EC(t,c[U])),p.push(c[U+1]);const w=[],A=cs.empty();for(let U=f.length-1;U>=0;--U)if(!T7(w,f[U])){const K=f[U];let me=p[U];me=ui(me);const fe=d.Su(K);if(me instanceof bC)w.push(K);else{const he=Fg(me,fe);null!=he&&(w.push(K),A.set(K,he))}}const R=new Pa(w);return new v7(A,R,d.fieldTransforms)}function Fg(n,t){if(I7(n=ui(n)))return TU("Unsupported field value:",t,n),w7(n,t);if(n instanceof Og)return function(i,r){if(!y7(r.fu))throw r.Du(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Du(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(r);c&&r.fieldTransforms.push(c)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(i,r){const c=[];let d=0;for(const f of i){let p=Fg(f,r.bu(d));null==p&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(n,t)}return function(i,r){if(null===(i=ui(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return lG(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const c=er.fromDate(i);return{timestampValue:Tb(r.serializer,c)}}if(i instanceof er){const c=new er(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Tb(r.serializer,c)}}if(i instanceof _U)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Pg)return{bytesValue:RG(r.serializer,i._byteString)};if(i instanceof Zr){const c=r.databaseId,d=i.firestore._databaseId;if(!d.isEqual(c))throw r.Du(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:kV(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.Du(`Unsupported field value: ${QR(i)}`)}(n,t)}function w7(n,t){const e={};return M5(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qf(n,(i,r)=>{const c=Fg(r,t.pu(i));null!=c&&(e[i]=c)}),{mapValue:{fields:e}}}function I7(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof er||n instanceof _U||n instanceof Pg||n instanceof Zr||n instanceof Og)}function TU(n,t,e){if(!I7(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=QR(e);throw t.Du("an object"===i?n+" a custom object":n+" "+i)}var r}function EC(n,t,e){if((t=ui(t))instanceof kg)return t._internalPath;if("string"==typeof t)return JR(n,t);throw eP("Field path arguments must be of type string or ",n,!1,void 0,e)}const EQ=new RegExp("[~\\*/\\[\\]]");function JR(n,t,e){if(t.search(EQ)>=0)throw eP(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new kg(...t.split("."))._internalPath}catch{throw eP(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function eP(n,t,e,i,r){const c=i&&!i.isEmpty(),d=void 0!==r;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${i}`),d&&(p+=` in document ${r}`),p+=")"),new Mt(mt.INVALID_ARGUMENT,f+n+p)}function T7(n,t){return n.some(e=>e.isEqual(t))}class wC{constructor(t,e,i,r,c){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Zr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new wQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(tP("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class wQ extends wC{data(){return super.data()}}function tP(n,t){return"string"==typeof t?JR(n,t):t instanceof kg?t._internalPath:t._delegate._internalPath}function C7(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Mt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class CU{}class IC extends CU{}function Gb(n,t,...e){let i=[];t instanceof CU&&i.push(t),i=i.concat(e),function(c){const d=c.filter(p=>p instanceof zb).length,f=c.filter(p=>p instanceof TC).length;if(d>1||d>0&&f>0)throw new Mt(mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class TC extends IC{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new TC(t,e,i)}_apply(t){const e=this._parse(t);return x7(t._query,e),new ls(t.firestore,t.converter,CV(t._query,e))}_parse(t){const e=Ng(t.firestore);return function(c,d,f,p,w,A,R){let U;if(w.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Mt(mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){D7(R,A);const K=[];for(const me of R)K.push(A7(p,c,me));U={arrayValue:{values:K}}}else U=A7(p,c,R)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||D7(R,A),U=function E7(n,t,e,i=!1){return Fg(e,n.Fu(i?4:3,t))}(f,"where",R,"in"===A||"not-in"===A);return ii.create(w,A,U)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function nP(n,t,e){const i=t,r=tP("where",n);return TC._create(r,i,e)}class zb extends CU{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new zb(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:Li.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(r,c){let d=r;const f=c.getFlattenedFilters();for(const p of f)x7(d,p),d=CV(d,p)}(t._query,e),new ls(t.firestore,t.converter,CV(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class SU extends IC{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new SU(t,e)}_apply(t){const e=function(r,c,d){if(null!==r.startAt)throw new Mt(mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Mt(mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new QT(c,d)}(t._query,this._field,this._direction);return new ls(t.firestore,t.converter,function(r,c){const d=r.explicitOrderBy.concat([c]);return new $d(r.path,r.collectionGroup,d,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}function iP(n,t="asc"){const e=t,i=tP("orderBy",n);return SU._create(i,e)}class rP extends IC{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new rP(t,e,i)}_apply(t){return new ls(t.firestore,t.converter,wR(t._query,this._limit,this._limitType))}}function oP(n){return function d7(n,t){if(t<=0)throw new Mt(mt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}("limit",n),rP._create("limit",n,"F")}function A7(n,t,e){if("string"==typeof(e=ui(e))){if(""===e)throw new Mt(mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TV(t)&&-1!==e.indexOf("/"))throw new Mt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Qn.fromString(e));if(!Yt.isDocumentKey(i))throw new Mt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Eg(n,new Yt(i))}if(e instanceof Zr)return Eg(n,e._key);throw new Mt(mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QR(e)}.`)}function D7(n,t){if(!Array.isArray(n)||0===n.length)throw new Mt(mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function x7(n,t){const e=function(r,c){for(const d of r)for(const f of d.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Mt(mt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class R7{convertValue(t,e="none"){switch(Qf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Br(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Hd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw nn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return qf(t,(r,c)=>{i[r]=this.convertValue(c,e)}),i}convertGeoPoint(t){return new _U(Br(t.latitude),Br(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=gR(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(WT(t));default:return null}}convertTimestamp(t){const e=jd(t);return new er(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Qn.fromString(t);fn($G(i));const r=new bg(i.get(1),i.get(3)),c=new Yt(i.popFirst(5));return r.isEqual(e)||yr(`Document ${c} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),c}}function cP(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class IQ extends R7{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pg(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zr(this.firestore,null,e)}}class Lg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wb extends wC{constructor(t,e,i,r,c,d){super(t,e,i,r,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new lP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(tP("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class lP extends Wb{data(t={}){return super.data(t)}}class Kb{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Lg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new lP(this._firestore,this._userDataWriter,i.key,i,new Lg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Mt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,c){if(r._snapshot.oldDocs.isEmpty()){let d=0;return r._snapshot.docChanges.map(f=>({type:"added",doc:new lP(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Lg(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:d++}))}{let d=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>c||3!==f.type).map(f=>{const p=new lP(r._firestore,r._userDataWriter,f.doc.key,f.doc,new Lg(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,A=-1;return 0!==f.type&&(w=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),1!==f.type&&(d=d.add(f.doc),A=d.indexOf(f.doc.key)),{type:CQ(f.type),doc:p,oldIndex:w,newIndex:A}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function CQ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}class om extends R7{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pg(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Zr(this.firestore,null,e)}}function AU(n){n=Yn(n,ls);const t=Yn(n.firestore,Ki),e=Rr(t),i=new om(t);return C7(n._query),function s7(n,t,e={}){const i=new ho;return n.asyncQueue.enqueueAndForget((0,D.A)(function*(){return function(c,d,f,p,w){const A=new KR({next:U=>{d.enqueueAndForget(()=>AB(c,R)),U.fromCache&&"server"===p.source?w.reject(new Mt(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(U)},error:U=>w.reject(U)}),R=new RB(f,A,{includeMetadataChanges:!0,ra:!0});return CB(c,R)}(yield $b(n),n.asyncQueue,t,e,i)})),i.promise}(e,n._query).then(r=>new Kb(t,i,n,r))}const NQ={maxAttempts:5};class FQ{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Ng(t)}set(t,e,i){this._verifyNotCommitted();const r=sm(t,this._firestore),c=cP(r.converter,e,i),d=ZR(this._dataReader,"WriteBatch.set",r._key,c,null!==r.converter,i);return this._mutations.push(d.toMutation(r._key,br.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const c=sm(t,this._firestore);let d;return d="string"==typeof(e=ui(e))||e instanceof kg?IU(this._dataReader,"WriteBatch.update",c._key,e,i,r):wU(this._dataReader,"WriteBatch.update",c._key,e),this._mutations.push(d.toMutation(c._key,br.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=sm(t,this._firestore);return this._mutations=this._mutations.concat(new Ib(e._key,br.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Mt(mt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sm(n,t){if((n=ui(n)).firestore!==t)throw new Mt(mt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class LQ extends class{constructor(e,i){this._firestore=e,this._transaction=i,this._dataReader=Ng(e)}get(e){const i=sm(e,this._firestore),r=new IQ(this._firestore);return this._transaction.lookup([i._key]).then(c=>{if(!c||1!==c.length)return nn();const d=c[0];if(d.isFoundDocument())return new wC(this._firestore,r,d.key,d,i.converter);if(d.isNoDocument())return new wC(this._firestore,r,i._key,null,i.converter);throw nn()})}set(e,i,r){const c=sm(e,this._firestore),d=cP(c.converter,i,r),f=ZR(this._dataReader,"Transaction.set",c._key,d,null!==c.converter,r);return this._transaction.set(c._key,f),this}update(e,i,r,...c){const d=sm(e,this._firestore);let f;return f="string"==typeof(i=ui(i))||i instanceof kg?IU(this._dataReader,"Transaction.update",d._key,i,r,c):wU(this._dataReader,"Transaction.update",d._key,i),this._transaction.update(d._key,f),this}delete(e){const i=sm(e,this._firestore);return this._transaction.delete(i._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=sm(t,this._firestore),i=new om(this._firestore);return super.get(t).then(r=>new Wb(this._firestore,i,e._key,r._document,new Lg(!1,!1),e.converter))}}function P7(n,t,e){n=Yn(n,Ki);const i=Object.assign(Object.assign({},NQ),e);return function(c){if(c.maxAttempts<1)throw new Mt(mt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(c,d,f){const p=new ho;return c.asyncQueue.enqueueAndForget((0,D.A)(function*(){const w=yield function r7(n){return XR(n).then(t=>t.datastore)}(c);new YX(c.asyncQueue,w,f,d,p).Xa()})),p.promise}(Rr(n),r=>t(new LQ(n,r)),i)}!function(t,e=!0){Wf=Pf,bd(new lu("firestore",(i,{instanceIdentifier:r,options:c})=>{const d=i.getProvider("app").getImmediate(),f=new Ki(new uV(i.getProvider("auth-internal")),new oR(i.getProvider("app-check-internal")),function(w,A){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Mt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bg(w.options.projectId,A)}(d,r),d);return c=Object.assign({useFetchStreams:e},c),f._setSettings(c),f},"PUBLIC").setMultipleInstances(!0)),Oc(sV,"4.6.4",t),Oc(sV,"4.6.4","esm2017")}();var Er=function(n){return n.USER_STATE="user_state",n.STORIES="stories",n.CHAPTERS="chapters",n}(Er||{});const zQ={user_state:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},not_local:{type:"boolean"},chapters:{type:"object"}},required:["id","name"]}},stories:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},languages:{type:"array"},description:{type:"string"}},required:["id","name","languages"]}},chapters:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},chapter_number:{type:"number"},story_id:{type:"string"},name:{type:"string"},language:{type:"string"},is_premium:{type:"boolean"},author:{type:"string"},pages:{type:"array"},start_page_id:{type:"string"},description:{type:"string"},empathy_name:{type:"string"},sympathy_name:{type:"string"}},required:["id","chapter_number","story_id","name","language","empathy_name","sympathy_name"]}}},F7={apiKey:"AIzaSyBnagIv1jnnkGEMASLY3bJIrc5Iuz-Syks",authDomain:"empathy-7224d.firebaseapp.com",projectId:"empathy-7224d",storageBucket:"empathy-7224d.appspot.com",messagingSenderId:"957387697152",appId:"1:957387697152:web:a2fd71b0ac7fc060703ce5",measurementId:"G-WBFW0YBS26"};var KQ=P(6719),ic=P(7176),Pr=P(8663),Ys=P(6434),MU=P(203);Promise.resolve(!1);var XQ=Promise.resolve(!0),qd=Promise.resolve();function Vg(n,t){return n||(n=0),new Promise(function(e){return setTimeout(function(){return e(t)},n)})}function SC(){return Math.random().toString(36).substring(2)}var RU=0;function AC(){var n=1e3*Date.now();return n<=RU&&(n=RU+1),RU=n,n}var tY="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)?function JQ(n){process.on("exit",function(){return n()}),process.on("beforeExit",function(){return n().then(function(){return process.exit()})}),process.on("SIGINT",function(){return n().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return n().then(function(){console.trace(t),process.exit(101)})})}:function ZQ(n){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return n(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){n()},!0),window.addEventListener("unload",function(){n()},!0)}},Bg=new Set,L7=!1;function rY(){var n=[];return Bg.forEach(function(t){n.push(t()),Bg.delete(t)}),Promise.all(n)}function Ug(n,t){return n.broadcastChannel.postInternal({context:"leader",action:t,token:n.token})}function V7(n){n.isLeader=!0,n._hasLeader=!0;var t=function iY(n){if(function nY(){L7||(L7=!0,tY(rY))}(),"function"!=typeof n)throw new Error("Listener is no function");return Bg.add(n),{remove:function(){return Bg.delete(n)},run:function(){return Bg.delete(n),n()}}}(function(){return n.die()});n._unl.push(t);var e=function(r){"leader"===r.context&&"apply"===r.action&&Ug(n,"tell"),"leader"===r.context&&"tell"===r.action&&!n._dpLC&&(n._dpLC=!0,n._dpL(),Ug(n,"tell"))};return n.broadcastChannel.addEventListener("internal",e),n._lstns.push(e),Ug(n,"tell")}var B7=function(t,e){var i=this;this.broadcastChannel=t,t._befC.push(function(){return i.die()}),this._options=e,this.isLeader=!1,this.isDead=!1,this.token=SC(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};B7.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(e){var i=e.held?e.held.filter(function(r){return r.name===t.lN}):[];return!!(i&&i.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var e=new Promise(function(i,r){t._wKMC.res=i,t._wKMC.rej=r});this._wLMP=new Promise(function(i){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,V7(t),i(),e}).catch(function(){})})}return this._wLMP},set onduplicate(n){},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),Ug(this,"death")}};var U7=function(t,e){var i=this;this.broadcastChannel=t,this._options=e,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=SC(),this._aplQ=qd,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var r=function(d){"leader"===d.context&&("death"===d.action&&(i._hasLeader=!1),"tell"===d.action&&(i._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",r),this._lstns.push(r)};U7.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var e=this;return this.isLeader?Vg(0,!0):this.isDead?Vg(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return function(){if(e.isLeader)return XQ;var d,c=!1,f=new Promise(function(A){d=function(){c=!0,A()}}),p=function(R){"leader"===R.context&&R.token!=e.token&&("apply"===R.action&&R.token>e.token&&d(),"tell"===R.action&&(d(),e._hasLeader=!0))};e.broadcastChannel.addEventListener("internal",p);var w=t?4*e._options.responseTime:e._options.responseTime;return Ug(e,"apply").then(function(){return Promise.race([Vg(w),f.then(function(){return Promise.reject(new Error)})])}).then(function(){return Ug(e,"apply")}).then(function(){return Promise.race([Vg(w),f.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return e.broadcastChannel.removeEventListener("internal",p),!c&&V7(e).then(function(){return!0})})}()}).then(function(){e._aplQC=e._aplQC-1}),this._aplQ.then(function(){return e.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function oY(n){return n.isLeader?qd:new Promise(function(t){var e=!1;function i(){e||(e=!0,n.broadcastChannel.removeEventListener("internal",c),t(!0))}n.applyOnce().then(function(){n.isLeader&&i()}),function d(){return Vg(n._options.fallbackInterval).then(function(){if(!n.isDead&&!e){if(!n.isLeader)return n.applyOnce(!0).then(function(){n.isLeader?i():d()});i()}})}();var c=function(f){"leader"===f.context&&"death"===f.action&&(n._hasLeader=!1,n.applyOnce().then(function(){n.isLeader&&i()}))};n.broadcastChannel.addEventListener("internal",c),n._lstns.push(c)})}(this)),this._aLP},set onduplicate(n){this._dpL=n},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,Ug(this,"death")}};const{isArray:cY}=Array;var bY={create:function mY(n){var t={time:AC(),messagesCallback:null,bc:new BroadcastChannel(n),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function pY(n){n.bc.close(),n.subFns=[]},onMessage:function _Y(n,t){n.messagesCallback=t},postMessage:function gY(n,t){try{return n.bc.postMessage(t,!1),qd}catch(e){return Promise.reject(e)}},canBeUsed:function vY(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&"function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function yY(){return 150},microSeconds:AC},j7=P(9556);function PU(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(n));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),n.idb&&"function"==typeof n.idb.onclose&&(t.idb.onclose=n.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),n.methods&&(t.methods=n.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var Tl="messages",DC={durability:"relaxed"};function H7(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function dP(n){n.commit&&n.commit()}function $7(n){n.closed||G7(n).then(function(){return Vg(n.options.idb.fallbackInterval)}).then(function(){return $7(n)})}function G7(n){return n.closed||!n.messagesCallback?qd:function SY(n,t){var e=n.transaction(Tl,"readonly",DC),i=e.objectStore(Tl),r=[],c=IDBKeyRange.bound(t+1,1/0);if(i.getAll){var d=i.getAll(c);return new Promise(function(p,w){d.onerror=function(A){return w(A)},d.onsuccess=function(A){p(A.target.result)}})}return new Promise(function(p,w){var A=function f(){try{return c=IDBKeyRange.bound(t+1,1/0),i.openCursor(c)}catch{return i.openCursor()}}();A.onerror=function(R){return w(R)},A.onsuccess=function(R){var U=R.target.result;U?U.value.id<t+1?U.continue(t+1):(r.push(U.value),U.continue()):(dP(e),p(r))}})}(n.db,n.lastCursorId).then(function(t){var e=t.filter(function(i){return!!i}).map(function(i){return i.id>n.lastCursorId&&(n.lastCursorId=i.id),i}).filter(function(i){return function RY(n,t){return!(n.uuid===t.uuid||t.eMIs.has(n.id)||n.data.time<t.messagesCallbackTime)}(i,n)}).sort(function(i,r){return i.time-r.time});return e.forEach(function(i){n.messagesCallback&&(n.eMIs.add(i.id),n.messagesCallback(i.data))}),qd})}var LY={create:function MY(n,t){return t=PU(t),function TY(n){var i=H7().open("pubkey.broadcast-channel-0-"+n);return i.onupgradeneeded=function(r){r.target.result.createObjectStore(Tl,{keyPath:"id",autoIncrement:!0})},new Promise(function(r,c){i.onerror=function(d){return c(d)},i.onsuccess=function(){r(i.result)}})}(n).then(function(e){var i={closed:!1,lastCursorId:0,channelName:n,options:t,uuid:SC(),eMIs:new j7.p4(2*t.idb.ttl),writeBlockPromise:qd,messagesCallback:null,readQueuePromises:[],db:e};return e.onclose=function(){i.closed=!0,t.idb.onclose&&t.idb.onclose()},$7(i),i})},close:function PY(n){n.closed=!0,n.db.close()},onMessage:function OY(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t,G7(n)},postMessage:function kY(n,t){return n.writeBlockPromise=n.writeBlockPromise.then(function(){return function CY(n,t,e){var r={uuid:t,time:Date.now(),data:e},c=n.transaction([Tl],"readwrite",DC);return new Promise(function(d,f){c.oncomplete=function(){return d()},c.onerror=function(w){return f(w)},c.objectStore(Tl).add(r),dP(c)})}(n.db,n.uuid,t)}).then(function(){0===function QQ(n,t){return Math.floor(Math.random()*(t-n+1)+n)}(0,10)&&function xY(n){return function DY(n,t){var e=Date.now()-t,i=n.transaction(Tl,"readonly",DC),r=i.objectStore(Tl),c=[];return new Promise(function(d){r.openCursor().onsuccess=function(f){var p=f.target.result;if(p){var w=p.value;w.time<e?(c.push(w),p.continue()):(dP(i),d(c))}else d(c)}})}(n.db,n.options.idb.ttl).then(function(t){return function AY(n,t){if(n.closed)return Promise.resolve([]);var i=n.db.transaction(Tl,"readwrite",DC).objectStore(Tl);return Promise.all(t.map(function(r){var c=i.delete(r);return new Promise(function(d){c.onsuccess=function(){return d()}})}))}(n,t.map(function(e){return e.id}))})}(n)}),n.writeBlockPromise},canBeUsed:function NY(){return!!H7()},type:"idb",averageResponseTime:function FY(n){return 2*n.idb.fallbackInterval},microSeconds:AC};function z7(){var n;if(typeof window>"u")return null;try{n=window.localStorage,n=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return n}function W7(n){return"pubkey.broadcastChannel-"+n}function K7(){var n=z7();if(!n)return!1;try{var t="__broadcastchannel_check";n.setItem(t,"works"),n.removeItem(t)}catch{return!1}return!0}var qY={create:function GY(n,t){if(t=PU(t),!K7())throw new Error("BroadcastChannel: localstorage cannot be used");var e=SC(),i=new j7.p4(t.localstorage.removeTimeout),r={channelName:n,uuid:e,eMIs:i};return r.listener=function HY(n,t){var e=W7(n),i=function(c){c.key===e&&t(JSON.parse(c.newValue))};return window.addEventListener("storage",i),i}(n,function(c){r.messagesCallback&&c.uuid!==e&&(!c.token||i.has(c.token)||c.data.time&&c.data.time<r.messagesCallbackTime||(i.add(c.token),r.messagesCallback(c.data)))}),r},close:function zY(n){!function $Y(n){window.removeEventListener("storage",n)}(n.listener)},onMessage:function WY(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t},postMessage:function jY(n,t){return new Promise(function(e){Vg().then(function(){var i=W7(n.channelName),r={token:SC(),time:Date.now(),data:t,uuid:n.uuid},c=JSON.stringify(r);z7().setItem(i,c);var d=document.createEvent("Event");d.initEvent("storage",!0,!0),d.key=i,d.newValue=c,window.dispatchEvent(d),e()})})},canBeUsed:K7,type:"localstorage",averageResponseTime:function KY(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:AC},q7=AC,kU=new Set,nZ={create:function QY(n){var t={time:q7(),name:n,messagesCallback:null};return kU.add(t),t},close:function YY(n){kU.delete(n)},onMessage:function JY(n,t){n.messagesCallback=t},postMessage:function ZY(n,t){return new Promise(function(e){return setTimeout(function(){Array.from(kU).forEach(function(r){r.name===n.name&&r!==n&&r.messagesCallback&&r.time<t.time&&r.messagesCallback(t)}),e()},5)})},canBeUsed:function eZ(){return!0},type:"simulate",averageResponseTime:function tZ(){return 5},microSeconds:q7},Q7=[bY,LY,qY],Y7=new Set,rZ=0,OU=function(t,e){this.id=rZ++,Y7.add(this),this.name=t,this.options=PU(e),this.method=function iZ(n){var t=[].concat(n.methods,Q7).filter(Boolean);if(n.type){if("simulate"===n.type)return nZ;var e=t.find(function(r){return r.type===n.type});if(e)return e;throw new Error("method-type "+n.type+" not found")}n.webWorkerSupport||(t=t.filter(function(r){return"idb"!==r.type}));var i=t.find(function(r){return r.canBeUsed()});if(i)return i;throw new Error("No usable method found in "+JSON.stringify(Q7.map(function(r){return r.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function oZ(n){var t=n.method.create(n.name,n.options);!function qQ(n){return n&&"function"==typeof n.then}(t)?n._state=t:(n._prepP=t,t.then(function(e){n._state=e}))}(this)};function Z7(n,t,e){var r={time:n.method.microSeconds(),type:t,data:e};return(n._prepP?n._prepP:qd).then(function(){var d=n.method.postMessage(n._state,r);return n._uMP.add(d),d.catch().then(function(){return n._uMP.delete(d)}),d})}function J7(n){return n._addEL.message.length>0||n._addEL.internal.length>0}function e9(n,t,e){n._addEL[t].push(e),function sZ(n){if(!n._iL&&J7(n)){var t=function(r){n._addEL[r.type].forEach(function(c){r.time>=c.time&&c.fn(r.data)})},e=n.method.microSeconds();n._prepP?n._prepP.then(function(){n._iL=!0,n.method.onMessage(n._state,t,e)}):(n._iL=!0,n.method.onMessage(n._state,t,e))}}(n)}function t9(n,t,e){n._addEL[t]=n._addEL[t].filter(function(i){return i!==e}),function aZ(n){if(n._iL&&!J7(n)){n._iL=!1;var t=n.method.microSeconds();n.method.onMessage(n._state,null,t)}}(n)}OU._pubkey=!0,OU.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Z7(this,"message",t)},postInternal:function(t){return Z7(this,"internal",t)},set onmessage(n){var e={time:this.method.microSeconds(),fn:n};t9(this,"message",this._onML),n&&"function"==typeof n?(this._onML=e,e9(this,"message",e)):this._onML=null},addEventListener:function(t,e){e9(this,t,{time:this.method.microSeconds(),fn:e})},removeEventListener:function(t,e){t9(this,t,this._addEL[t].find(function(r){return r.fn===e}))},close:function(){var t=this;if(!this.closed){Y7.delete(this),this.closed=!0;var e=this._prepP?this._prepP:qd;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(i){return i()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var hP=new Map;function n9(n,t,e,i){var r=hP.get(t);return r||(r={bc:new OU(["RxDB:",n,e].join("|")),refs:new Set},hP.set(t,r)),r.refs.add(i),r.bc}function FU(n,t){var e=hP.get(n);if(e&&(e.refs.delete(t),0===e.refs.size))return hP.delete(n),e.bc.close()}function cZ(n,t,e,i){if(t.multiInstance){var r=i||n9(n,t.databaseInstanceToken,e.databaseName,e),c=new B.B,d=U=>{U.storageName===n&&U.databaseName===t.databaseName&&U.collectionName===t.collectionName&&U.version===t.schema.version&&c.next(U.eventBulk)};r.addEventListener("message",d);var f=e.changeStream(),p=!1,w=f.subscribe(U=>{p||r.postMessage({storageName:n,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:U})});e.changeStream=function(){return c.asObservable().pipe(function dY(...n){return function uY(...n){const t=(0,Ue.lI)(n),e=(0,Ue.R0)(n,1/0);return n=function lY(n){return 1===n.length&&cY(n[0])?n[0]:n}(n),(0,se.N)((i,r)=>{(0,mh.U)(e)((0,Be.H)([i,...n],t)).subscribe(r)})}(...n)}(f))};var A=e.close.bind(e);e.close=(0,D.A)(function*(){return p=!0,w.unsubscribe(),r.removeEventListener("message",d),i||(yield FU(t.databaseInstanceToken,e)),A()});var R=e.remove.bind(e);e.remove=(0,D.A)(function*(){return p=!0,w.unsubscribe(),r.removeEventListener("message",d),i||(yield FU(t.databaseInstanceToken,e)),R()})}}var LU=P(9403),Zs=P(5520),i9=new WeakMap,lZ=new WeakMap;function r9(n){return(0,LU.q)(lZ,n,()=>function aY(n,t){if(n._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function sY(n,t){return n||(n={}),(n=JSON.parse(JSON.stringify(n))).fallbackInterval||(n.fallbackInterval=3e3),n.responseTime||(n.responseTime=t.method.averageResponseTime(t.options)),n}(t,n);var e=function YQ(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&"function"==typeof navigator.locks.request}()?new B7(n,t):new U7(n,t);return n._befC.push(function(){return e.die()}),n._leaderElector=e,e}(n))}function uZ(){var n=n9(this.storage.name,this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return FU(this.token,this),t()};var e=r9(n);return e||(e=r9(n),i9.set(this,e)),this.leaderElector=()=>e,e}function dZ(){return!this.multiInstance||this.leaderElector().isLeader}function hZ(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):Zs.Ms}var o9={name:"leader-election",rxdb:!0,prototypes:{RxDatabase:n=>{n.leaderElector=uZ,n.isLeader=dZ,n.waitForLeadership=hZ}},hooks:{preDestroyRxDatabase:{after:function fZ(n){var t=i9.get(n);t&&t.die()}}}},Uc=P(1885),Js=P(6893),xC=P(2060),qb=P(4552),jg=P(6568);function s9(n,t){return n.input.metaInstance.findDocumentsById(t.map(e=>(0,Uc.U)(n.input.metaInstance.schema,{itemId:e,isCheckpoint:"0"})),!0).then(e=>{var i={};return Object.values(e).forEach(r=>{i[r.itemId]={docData:r.docData,metaDocument:r}}),i})}function fP(n,t,e,i){return VU.apply(this,arguments)}function VU(){return(VU=(0,D.A)(function*(n,t,e,i){var r=t[n.primaryPath],c=e?(0,Js.C9)(e):{id:"",isCheckpoint:"0",itemId:r,docData:t,_attachments:{},_deleted:!1,_rev:(0,xC.Fq)(),_meta:{lwt:0}};return c.docData=t,i&&(c.isResolvedConflict=i),c._meta.lwt=(0,qb.t)(),c.id=(0,Uc.U)(n.input.metaInstance.schema,c),c._rev=(0,jg.CM)(yield n.checkpointKey,e),{previous:e,document:c}})).apply(this,arguments)}var mP=P(4843);function pP(n,t){return BU.apply(this,arguments)}function BU(){return(BU=(0,D.A)(function*(n,t){var e=(0,Uc.U)(n.input.metaInstance.schema,{isCheckpoint:"1",itemId:t}),r=(yield n.input.metaInstance.findDocumentsById([e],!1))[0];if(n.lastCheckpointDoc[t]=r,r)return r.checkpointData})).apply(this,arguments)}function gP(n,t,e){return UU.apply(this,arguments)}function UU(){return(UU=(0,D.A)(function*(n,t,e){n.checkpointQueue=n.checkpointQueue.then((0,D.A)(function*(){var i=n.lastCheckpointDoc[t];if(e&&!n.events.canceled.getValue()&&(!i||JSON.stringify(i.checkpointData)!==JSON.stringify(e))){var r={id:"",isCheckpoint:"1",itemId:t,_deleted:!1,_attachments:{},checkpointData:e,_meta:(0,xC.o4)(),_rev:(0,xC.Fq)()};for(r.id=(0,Uc.U)(n.input.metaInstance.schema,r);!n.events.canceled.getValue();){if(i&&(r.checkpointData=(0,Js.Mu)([i.checkpointData,r.checkpointData])),r._meta.lwt=(0,qb.t)(),r._rev=(0,jg.CM)(yield n.checkpointKey,i),n.events.canceled.getValue())return;var c=[{previous:i,document:r}],d=yield n.input.metaInstance.bulkWrite(c,"replication-set-checkpoint"),f=(0,Js.YN)(n.primaryPath,c,d)[0];if(f)return void(n.lastCheckpointDoc[t]=f);var p=d.error[0];if(409!==p.status)throw p;i=(0,Pr.ZN)(p.documentInDb),r._rev=(0,jg.CM)(yield n.checkpointKey,i)}}})),yield n.checkpointQueue})).apply(this,arguments)}function jU(){return(jU=(0,D.A)(function*(n){return"rx_storage_replication_"+(yield n.hashFunction([n.identifier,n.forkInstance.databaseName,n.forkInstance.collectionName].join("||")))})).apply(this,arguments)}var Iu=P(7650);function a9(n,t,e){var i=(0,Ys.FD)(n);return t||delete i._attachments,e||(delete i._meta,delete i._rev),i}function HU(n,t){return n.hasAttachments?t.map(e=>{var i=(0,Ys.o8)(e.document);return i.docData=(0,Js.on)(i.docData),{document:i,previous:e.previous}}):t}function c9(n){for(;;){if(!n.underlyingPersistentStorage)return n;n=n.underlyingPersistentStorage}}function $U(){return $U=(0,D.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.downstream&&((yield pP(n,"down"))||(yield gP(n,"down",n.input.initialCheckpoint.downstream)));var e=yield n.input.hashFunction(n.input.identifier),i=n.input.replicationHandler,r=0,c=[];function d(fe){n.stats.down.addNewTask=n.stats.down.addNewTask+1;var he={time:r++,task:fe};c.push(he),n.streamQueue.down=n.streamQueue.down.then(()=>{for(var ht=[];c.length>0;){n.events.active.down.next(!0);var vt=(0,Pr.ZN)(c.shift());if(!(vt.time<p)){if("RESYNC"===vt.task){if(0===ht.length){ht.push(vt.task);break}break}ht.push(vt.task)}}if(0!==ht.length)return"RESYNC"===ht[0]?function w(){return A.apply(this,arguments)}():function R(fe){n.stats.down.downstreamProcessChanges=n.stats.down.downstreamProcessChanges+1;var he=[],ht=null;return fe.forEach(vt=>{if("RESYNC"===vt)throw new Error("SNH");(0,ic.Hb)(he,vt.documents),ht=(0,Js.Mu)([ht,vt.checkpoint])}),me(he,(0,Pr.ZN)(ht))}(ht)}).then(()=>{n.events.active.down.next(!1),!n.firstSyncDone.down.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.down.next(!0)})}if(d("RESYNC"),!n.events.canceled.getValue()){var f=i.masterChangeStream$.pipe((0,Or.Z)(function(){var fe=(0,D.A)(function*(he){return yield(0,mP._)(n.events.active.up.pipe((0,kn.p)(ht=>!ht))),he});return function(he){return fe.apply(this,arguments)}}())).subscribe(fe=>{n.stats.down.masterChangeStreamEmit=n.stats.down.masterChangeStreamEmit+1,d(fe)});(0,mP._)(n.events.canceled.pipe((0,kn.p)(fe=>!!fe))).then(()=>f.unsubscribe())}var p=-1;function A(){return(A=(0,D.A)(function*(){if(n.stats.down.downstreamResyncOnce=n.stats.down.downstreamResyncOnce+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>pP(n,"down"));for(var fe=yield n.checkpointQueue,he=[];!n.events.canceled.getValue();){p=r++;var ht=yield i.masterChangesSince(fe,n.input.pullBatchSize);if(0===ht.documents.length||(fe=(0,Js.Mu)([fe,ht.checkpoint]),he.push(me(ht.documents,fe)),ht.documents.length<n.input.pullBatchSize))break}yield Promise.all(he)}})).apply(this,arguments)}var U=Zs.em,K={docs:{}};function me(fe,he){var ht=n.primaryPath;return n.stats.down.persistFromMaster=n.stats.down.persistFromMaster+1,fe.forEach(vt=>{K.docs[vt[ht]]=vt}),K.checkpoint=he,U=U.then(()=>{var vt=K.docs;K.docs={};var Et=K.checkpoint,Gt=Object.keys(vt);if(n.events.canceled.getValue()||0===Gt.length)return Zs.em;var vn=[],cn={},Ve={},le=[];return Promise.all([n.input.forkInstance.findDocumentsById(Gt,!0),s9(n,Gt)]).then(([we,je])=>{var Ke=new Map;return we.forEach(rt=>Ke.set(rt[ht],rt)),Promise.all(Gt.map(function(){var rt=(0,D.A)(function*(Te){var hi=Ke.get(Te),Ps=hi?a9(hi,n.hasAttachments,!1):void 0,ds=vt[Te],Jr=je[Te];Jr&&hi&&Jr.metaDocument.isResolvedConflict===hi._rev&&(yield n.streamQueue.up);var nr=!(!Jr||!Ps)&&(yield n.input.conflictHandler({realMasterState:Jr.docData,newDocumentState:Ps},"downstream-check-if-equal-0").then(ir=>ir.isEqual));if(!nr&&Jr&&Jr.docData._rev&&hi&&hi._meta[n.input.identifier]&&(0,jg.Wg)(hi._rev)===hi._meta[n.input.identifier]&&(nr=!0),hi&&Jr&&!1===nr||hi&&!Jr)return Zs.em;var Ur=!!Ps&&(yield n.input.conflictHandler({realMasterState:ds,newDocumentState:Ps},"downstream-check-if-equal-1").then(ir=>ir.isEqual));if(Ps&&Ur)return(!Jr||!1===nr)&&le.push(yield fP(n,Ps,Jr?Jr.metaDocument:void 0)),Zs.em;var zo=Object.assign({},ds,hi?{_meta:(0,Ys.FD)(hi._meta),_attachments:n.hasAttachments&&ds._attachments?ds._attachments:{},_rev:(0,xC.Fq)()}:{_meta:{lwt:(0,qb.t)()},_rev:(0,xC.Fq)(),_attachments:n.hasAttachments&&ds._attachments?ds._attachments:{}});if(ds._rev){var na=hi?(0,jg.Wg)(hi._rev)+1:1;zo._meta[n.input.identifier]=na,n.input.keepMeta&&(zo._rev=ds._rev)}n.input.keepMeta&&ds._meta&&(zo._meta=ds._meta);var ci={previous:hi,document:zo};ci.document._rev=ci.document._rev?ci.document._rev:(0,jg.CM)(e,ci.previous),vn.push(ci),cn[Te]=ci,Ve[Te]=yield fP(n,ds,Jr?Jr.metaDocument:void 0)});return function(Te){return rt.apply(this,arguments)}}()))}).then((0,D.A)(function*(){if(vn.length>0)return n.input.forkInstance.bulkWrite(vn,yield n.downstreamBulkWriteFlag).then(we=>{(0,Js.YN)(n.primaryPath,vn,we).forEach(Ke=>{var rt=Ke[ht];n.events.processed.down.next(cn[rt]),le.push(Ve[rt])}),we.error.forEach(Ke=>{409!==Ke.status&&n.events.error.next((0,Iu.Br)("RC_PULL",{writeError:Ke}))})})})).then(()=>{if(le.length>0)return n.input.metaInstance.bulkWrite(HU(n,le),"replication-down-write-meta").then(we=>{we.error.forEach(je=>{n.events.error.next((0,Iu.Br)("RC_PULL",{id:je.documentId,writeError:je}))})})}).then(()=>{gP(n,"down",Et)})}).catch(vt=>n.events.error.next(vt)),U}}),$U.apply(this,arguments)}var bZ=P(327);function GU(){return GU=(0,D.A)(function*(n,t,e,i){if(!e._attachments||i&&!i._attachments)throw new Error("_attachments missing");var r=e[n],c=new Set(i&&i._attachments?Object.keys(i._attachments):[]);return yield Promise.all(Object.entries(e._attachments).map(function(){var d=(0,D.A)(function*([f,p]){if((!c.has(f)||i&&(0,Pr.ZN)(i._attachments)[f].digest!==p.digest)&&!p.data){var w=yield t.getAttachmentData(r,f,p.digest);p.data=w}});return function(f){return d.apply(this,arguments)}}())),e}),GU.apply(this,arguments)}function zU(){return zU=(0,D.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.upstream&&((yield pP(n,"up"))||(yield gP(n,"up",n.input.initialCheckpoint.upstream)));var e=n.input.replicationHandler;n.streamQueue.up=n.streamQueue.up.then(()=>w().then(()=>{R()}));var i=0,r=-1,c=[],d=Zs.Dr,f={docs:{}},p=n.input.forkInstance.changeStream().subscribe(function(){var K=(0,D.A)(function*(me){if(me.context!==(yield n.downstreamBulkWriteFlag))return n.stats.up.forkChangeStreamEmit=n.stats.up.forkChangeStreamEmit+1,c.push({task:me,time:i++}),n.events.active.up.getValue()||n.events.active.up.next(!0),n.input.waitBeforePersist?n.input.waitBeforePersist().then(()=>R()):R()});return function(me){return K.apply(this,arguments)}}());function w(){return A.apply(this,arguments)}function A(){return A=(0,D.A)(function*(){if(n.stats.up.upstreamInitialSync=n.stats.up.upstreamInitialSync+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>pP(n,"up"));for(var K=yield n.checkpointQueue,me=new Set,fe=function(){var vt=(0,D.A)(function*(){r=i++,me.size>3&&(yield Promise.race(Array.from(me)));var Et=yield(0,Js.p0)(n.input.forkInstance,n.input.pushBatchSize,K);if(0===Et.documents.length)return 1;K=(0,Js.Mu)([K,Et.checkpoint]);var Gt=U(Et.documents,(0,Pr.ZN)(K));me.add(Gt),Gt.catch().then(()=>me.delete(Gt))});return function(){return vt.apply(this,arguments)}}();!n.events.canceled.getValue()&&!(yield fe()););(yield Promise.all(me)).find(vt=>!!vt)?yield w():!n.firstSyncDone.up.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.up.next(!0)}}),A.apply(this,arguments)}function R(){n.events.canceled.getValue()||0===c.length?n.events.active.up.next(!1):(n.stats.up.processTasks=n.stats.up.processTasks+1,n.events.active.up.next(!0),n.streamQueue.up=n.streamQueue.up.then(()=>{for(var K=[],me={};c.length>0;){var fe=(0,Pr.ZN)(c.shift());fe.time<r||((0,ic.Hb)(K,fe.task.events.map(ht=>ht.documentData)),me=(0,Js.Mu)([me,fe.task.checkpoint]))}return(0===K.length?Zs.Dr:U(K,me)).then(()=>{0===c.length?n.events.active.up.next(!1):R()})}))}function U(K,me){return n.stats.up.persistToMaster=n.stats.up.persistToMaster+1,K.forEach(fe=>{f.docs[fe[n.primaryPath]]=fe}),f.checkpoint=me,d=d.then((0,D.A)(function*(){if(n.events.canceled.getValue())return!1;var fe=f.docs;f.docs={};var he=f.checkpoint,ht=Object.keys(fe);if(0===ht.length)return!1;var vt=yield s9(n,ht),Et={},Gt=[],vn={},cn={};if(yield Promise.all(ht.map(function(){var nr=(0,D.A)(function*(Ur){var zo=fe[Ur];cn[Ur]=zo;var na=a9(zo,n.hasAttachments,!!n.input.keepMeta),ci=vt[Ur];ci&&ci.metaDocument.isResolvedConflict!==zo._rev&&(yield n.input.conflictHandler({realMasterState:ci.docData,newDocumentState:na},"upstream-check-if-equal")).isEqual||ci&&ci.docData._rev&&(0,jg.Wg)(zo._rev)===zo._meta[n.input.identifier]||(Gt.push(Ur),Et[Ur]={assumedMasterState:ci?ci.docData:void 0,newDocumentState:na},vn[Ur]=yield fP(n,na,ci?ci.metaDocument:void 0))});return function(Ur){return nr.apply(this,arguments)}}())),0===Gt.length)return!1;var Ve=Object.values(Et),le=new Set,we={},je=(0,ic.Aj)(Ve,n.input.pushBatchSize);yield Promise.all(je.map(function(){var nr=(0,D.A)(function*(Ur){n.hasAttachments&&(yield Promise.all(Ur.map(function(){var na=(0,D.A)(function*(ci){ci.newDocumentState=yield function EZ(n,t,e,i){return GU.apply(this,arguments)}(n.primaryPath,n.input.forkInstance,(0,Ys.o8)(ci.newDocumentState),ci.assumedMasterState)});return function(ci){return na.apply(this,arguments)}}()))),(yield e.masterWrite(Ur)).forEach(na=>{var ci=na[n.primaryPath];le.add(ci),we[ci]=na})});return function(Ur){return nr.apply(this,arguments)}}()));var Ke=[];if(Gt.forEach(nr=>{le.has(nr)||(n.events.processed.up.next(Et[nr]),Ke.push(vn[nr]))}),n.events.canceled.getValue())return!1;Ke.length>0&&(yield n.input.metaInstance.bulkWrite(HU(n,Ke),"replication-up-write-meta"));var rt=!1;if(le.size>0){n.stats.up.persistToMasterHadConflicts=n.stats.up.persistToMasterHadConflicts+1;var Te=[],hi={};if(yield Promise.all(Object.entries(we).map(([nr,Ur])=>{var zo=Et[nr],na={newDocumentState:zo.newDocumentState,assumedMasterState:zo.assumedMasterState,realMasterState:Ur};return(0,bZ.r)(n,na,cn[nr]).then(function(){var ci=(0,D.A)(function*(ir){if(ir){n.events.resolvedConflicts.next({input:na,output:ir.output}),Te.push({previous:cn[nr],document:ir.resolvedDoc});var tk=vt[nr];hi[nr]=yield fP(n,(0,Pr.ZN)(Ur),tk?tk.metaDocument:void 0,ir.resolvedDoc._rev)}});return function(ir){return ci.apply(this,arguments)}}())})),Te.length>0){rt=!0,n.stats.up.persistToMasterConflictWrites=n.stats.up.persistToMasterConflictWrites+1;var Ps=yield n.input.forkInstance.bulkWrite(Te,"replication-up-write-conflict"),ds=[];(0,Js.YN)(n.primaryPath,Te,Ps).forEach(nr=>{ds.push(hi[nr[n.primaryPath]])}),ds.length>0&&(yield n.input.metaInstance.bulkWrite(HU(n,ds),"replication-up-write-conflict-meta"))}}return gP(n,"up",he),rt})).catch(fe=>(n.events.error.next(fe),!1)),d}(0,mP._)(n.events.canceled.pipe((0,kn.p)(K=>!!K))).then(()=>p.unsubscribe())}),zU.apply(this,arguments)}function _P(n){return(0,mP._)(ue([n.firstSyncDone.down.pipe((0,kn.p)(t=>!!t)),n.firstSyncDone.up.pipe((0,kn.p)(t=>!!t))])).then(()=>{})}function l9(n){return Promise.all([n.streamQueue.up,n.streamQueue.down,n.checkpointQueue])}function KU(){return(KU=(0,D.A)(function*(n){n.events.canceled.next(!0),n.events.active.up.complete(),n.events.active.down.complete(),n.events.processed.up.complete(),n.events.processed.down.complete(),n.events.resolvedConflicts.complete(),n.events.canceled.complete(),yield n.checkpointQueue})).apply(this,arguments)}var u9=n=>Promise.resolve(n);function d9(n,t){return"_deleted"===n||((t=(0,Ys.FD)(t))[n]=!!t._deleted,delete t._deleted),t}function qU(n,t,e){return e.map(i=>{var r=(0,Ys.FD)(i);return"_deleted"!==t?(r._deleted=!!r[t],delete r[t]):r._deleted=!!r._deleted,r[n.schema.primaryPath]=(0,Uc.U)(n.schema.jsonSchema,r),r})}function h9(n,t){if(typeof window>"u"||"object"!=typeof window||typeof window.addEventListener>"u"||navigator.onLine)return n.promiseWait(t);var e,i=new Promise(r=>{e=()=>{window.removeEventListener("online",e),r()},window.addEventListener("online",e)});return Promise.race([i,n.promiseWait(t)]).then(()=>{window.removeEventListener("online",e)})}var f9=P(2104),m9=P(3896),MC=P(2284),XU=new WeakMap,p9=function(){function n(e,i,r,c,d,f,p,w){var A=this;this.subs=[],this.subjects={received:new B.B,sent:new B.B,error:new B.B,canceled:new Me.t(!1),active:new Me.t(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.onCancel=[],this.callOnStart=void 0,this.remoteEvents$=new B.B,this.replicationIdentifier=e,this.collection=i,this.deletedField=r,this.pull=c,this.push=d,this.live=f,this.retryTime=p,this.autoStart=w,this.metaInfoPromise=(0,D.A)(function*(){var K="rx-replication-meta-"+(yield i.database.hashFunction([A.collection.name,A.replicationIdentifier].join("-"))),me=function _Z(n,t){var e=(0,Uc.Hq)(n),i={title:"RxReplicationProtocolMetaData",primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:n.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:e+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:e>4?e:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:n.properties},isResolvedConflict:{type:"string"}},keyCompression:n.keyCompression,required:["id","isCheckpoint","itemId"]};return t&&(i.encrypted=["docData"]),(0,Uc.Ud)(i)}(A.collection.schema.jsonSchema,(0,Js.ME)(A.collection.schema.jsonSchema));return{collectionName:K,schema:me}})(),(0,LU.q)(XU,i,()=>[]).push(this),this.collection.onDestroy.push(()=>this.cancel()),Object.keys(this.subjects).forEach(K=>{Object.defineProperty(this,K+"$",{get:function(){return this.subjects[K].asObservable()}})});var U=new Promise(K=>{this.callOnStart=K});this.startPromise=U}var t=n.prototype;return t.start=function(){var e=(0,D.A)(function*(){var A,r=this;if(!this.isStopped()){var c=this.pull&&this.pull.modifier?this.pull.modifier:u9,d=this.push&&this.push.modifier?this.push.modifier:u9,f=this.collection.database,p=yield this.metaInfoPromise,[w]=yield Promise.all([this.collection.database.storage.createStorageInstance({databaseName:f.name,collectionName:p.collectionName,databaseInstanceToken:f.token,multiInstance:f.multiInstance,options:{},schema:p.schema,password:f.password,devMode:m9.h.isDevMode()}),(0,f9.vV)(this.collection,p.collectionName,p.schema)]);this.metaInstance=w,this.internalReplicationState=function IZ(n){(n=(0,Ys.FD)(n)).forkInstance=c9(n.forkInstance),n.metaInstance=c9(n.metaInstance);var t=function vZ(n){return jU.apply(this,arguments)}(n),e={primaryPath:(0,Uc.xQ)(n.forkInstance.schema.primaryKey),hasAttachments:!!n.forkInstance.schema.attachments,input:n,checkpointKey:t,downstreamBulkWriteFlag:t.then(i=>"replication-downstream-"+i),events:{canceled:new Me.t(!1),active:{down:new Me.t(!0),up:new Me.t(!0)},processed:{down:new B.B,up:new B.B},resolvedConflicts:new B.B,error:new B.B},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new Me.t(!1),up:new Me.t(!1)},streamQueue:{down:Zs.em,up:Zs.em},checkpointQueue:Zs.em,lastCheckpointDoc:{}};return function yZ(n){$U.apply(this,arguments)}(e),function wZ(n){zU.apply(this,arguments)}(e),e}({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:f.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe((0,kn.p)(A=>!!this.pull),(0,Or.Z)(function(){var A=(0,D.A)(function*(R){if("RESYNC"===R)return R;var U=(0,Ys.FD)(R);return U.documents=qU(r.collection,r.deletedField,U.documents),U.documents=yield Promise.all(U.documents.map(K=>c(K))),U});return function(R){return A.apply(this,arguments)}}())),masterChangesSince:(A=(0,D.A)(function*(R,U){if(!r.pull)return{checkpoint:null,documents:[]};for(var K=!1,me={};!K&&!r.isStopped();)try{me=yield r.pull.handler(R,U),K=!0}catch(ht){var fe=(0,Iu.Br)("RC_PULL",{checkpoint:R,errors:(0,ic.$r)(ht).map(vt=>(0,MU.S)(vt)),direction:"pull"});r.subjects.error.next(fe),yield h9(r.collection,(0,Pr.ZN)(r.retryTime))}if(r.isStopped())return{checkpoint:null,documents:[]};var he=(0,Ys.FD)(me);return he.documents=qU(r.collection,r.deletedField,he.documents),he.documents=yield Promise.all(he.documents.map(ht=>c(ht))),he}),function(U,K){return A.apply(this,arguments)}),masterWrite:function(){var A=(0,D.A)(function*(R){if(!r.push)return[];var U=!1;yield(0,MC.FX)("preReplicationMasterWrite",{rows:R,collection:r.collection});var K=yield Promise.all(R.map(function(){var vt=(0,D.A)(function*(Et){return Et.newDocumentState=yield d(Et.newDocumentState),null===Et.newDocumentState?null:(Et.assumedMasterState&&(Et.assumedMasterState=yield d(Et.assumedMasterState)),"_deleted"!==r.deletedField&&(Et.newDocumentState=d9(r.deletedField,Et.newDocumentState),Et.assumedMasterState&&(Et.assumedMasterState=d9(r.deletedField,Et.assumedMasterState))),Et)});return function(Et){return vt.apply(this,arguments)}}())),me=K.filter(ic.S7),fe=null;for(0===me.length&&(U=!0,fe=[]);!U&&!r.isStopped();)try{if(fe=yield r.push.handler(me),!Array.isArray(fe))throw(0,Iu.Br)("RC_PUSH_NO_AR",{pushRows:R,direction:"push",args:{result:fe}});U=!0}catch(vt){var he=vt.rxdb?vt:(0,Iu.Br)("RC_PUSH",{pushRows:R,errors:(0,ic.$r)(vt).map(Et=>(0,MU.S)(Et)),direction:"push"});r.subjects.error.next(he),yield h9(r.collection,(0,Pr.ZN)(r.retryTime))}return r.isStopped()?[]:(yield(0,MC.FX)("preReplicationMasterWriteDocumentsHandle",{result:fe,collection:r.collection}),qU(r.collection,r.deletedField,(0,Pr.ZN)(fe)))});return function(U){return A.apply(this,arguments)}}()}}),this.subs.push(this.internalReplicationState.events.error.subscribe(A=>{this.subjects.error.next(A)}),this.internalReplicationState.events.processed.down.subscribe(A=>this.subjects.received.next(A.document)),this.internalReplicationState.events.processed.up.subscribe(A=>{this.subjects.sent.next(A.newDocumentState)}),ue([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([A,R])=>{this.subjects.active.next(A||R)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:A=>{this.remoteEvents$.next(A)},error:A=>{this.subjects.error.next(A)}})),this.live||(yield _P(this.internalReplicationState),yield l9(this.internalReplicationState),yield this.cancel()),this.callOnStart()}});return function i(){return e.apply(this,arguments)}}(),t.isStopped=function(){return!!this.subjects.canceled.getValue()},t.awaitInitialReplication=function(){var e=(0,D.A)(function*(){return yield this.startPromise,_P((0,Pr.ZN)(this.internalReplicationState))});return function i(){return e.apply(this,arguments)}}(),t.awaitInSync=function(){var e=(0,D.A)(function*(){yield this.startPromise,yield _P((0,Pr.ZN)(this.internalReplicationState));for(var r=2;r>0;)r--,yield this.collection.database.requestIdlePromise(),yield l9((0,Pr.ZN)(this.internalReplicationState));return!0});return function i(){return e.apply(this,arguments)}}(),t.reSync=function(){this.remoteEvents$.next("RESYNC")},t.emitEvent=function(i){this.remoteEvents$.next(i)},t.cancel=function(){var e=(0,D.A)(function*(){if(this.isStopped())return Zs.Dr;var r=this.onCancel.map(c=>(0,Zs.hq)(c()));return this.internalReplicationState&&(yield function TZ(n){return KU.apply(this,arguments)}(this.internalReplicationState)),this.metaInstance&&r.push((0,Pr.ZN)(this.internalReplicationState).checkpointQueue.then(()=>(0,Pr.ZN)(this.metaInstance).close())),this.subs.forEach(c=>c.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(r)});return function i(){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,D.A)(function*(){yield(0,Pr.ZN)(this.metaInstance).remove();var r=yield this.metaInfoPromise;yield this.cancel(),yield(0,f9.bD)(this.collection,r.collectionName,r.schema)});return function i(){return e.apply(this,arguments)}}(),n}();var CZ=P(9182),SZ=P(5908),AZ=P(5672),DZ=P(4395),_9=P(7396),xZ={RxSchema:CZ.wJ.prototype,RxDocument:SZ.ky,RxQuery:AZ.Mh.prototype,RxCollection:DZ.wm.prototype,RxDatabase:_9.lB.prototype},QU=new Set,v9=new Set;function vP(n){if((0,MC.Xi)("preAddRxPlugin",{plugin:n,plugins:QU}),!QU.has(n)){if(v9.has(n.name))throw(0,Iu.Br)("PL3",{name:n.name,plugin:n});if(QU.add(n),v9.add(n.name),!n.rxdb)throw(0,Iu.JX)("PL1",{plugin:n});n.init&&n.init(),n.prototypes&&Object.entries(n.prototypes).forEach(([t,e])=>e(xZ[t])),n.overwritable&&Object.assign(m9.h,n.overwritable),n.hooks&&Object.entries(n.hooks).forEach(([t,e])=>{e.after&&MC.r[t].push(e.after),e.before&&MC.r[t].unshift(e.before)})}}function y9(n,t){var e=(0,Ys.FD)(t);return delete e[n],e}function MZ(n,t){return t[n].toDate().toISOString()}function b9(n,t){return delete(t=(0,Ys.FD)(t))[n],t}var OZ=function(n){function t(e,i,r,c,d,f=!0,p=5e3,w=!0){var A;return(A=n.call(this,i,r,"_deleted",c,d,f,p,w)||this).firestore=e,A.replicationIdentifierHash=i,A.collection=r,A.pull=c,A.push=d,A.live=f,A.retryTime=p,A.autoStart=w,A}return(0,KQ.A)(t,n),t}(p9);function NZ(n){var t=n.collection;vP(o9);var i,e=new B.B;n.live=typeof n.live>"u"||n.live,n.waitForLeadership=typeof n.waitForLeadership>"u"||n.waitForLeadership;var r=typeof n.serverTimestampField>"u"?"serverTimestamp":n.serverTimestampField;n.serverTimestampField=r;var c=t.schema.primaryPath;if((0,Uc.nT)(t.schema.jsonSchema,r)||r.includes("."))throw(0,Iu.Br)("RC6",{field:r,schema:t.schema.jsonSchema});var w,f=void 0!==n.pull?.filter?(0,ic.$r)(n.pull.filter):[],p=Gb(n.firestore.collection,...f);if(n.pull&&(i={handler:(me,fe)=>(0,D.A)(function*(){var he,ht;if(me){var vt=function RZ(n){var t=new Date(n);return er.fromDate(t)}(me.serverTimestamp);he=Gb(p,nP(r,">",vt),iP(r,"asc"),oP(fe)),ht=Gb(p,nP(r,"==",vt),nP(c,">",me.id),iP(c,"asc"),oP(fe))}else he=Gb(p,iP(r,"asc"),oP(fe));for(var Et=!0,Gt=[];Et;)yield gU(n.firestore.database),yield P7(n.firestore.database,function(){var we=(0,D.A)(function*(je){Gt=[];var[Ke,rt]=yield Promise.all([AU(he),ht?AU(ht):void 0]);if(!(Ke.metadata.hasPendingWrites||ht&&(0,Pr.ZN)(rt).metadata.hasPendingWrites)){Et=!1,ht&&(Gt=(0,Pr.ZN)(rt).docs);var Te=fe-Gt.length;if(Te>0){var hi=Ke.docs.slice(0,Te).filter(Ps=>!!Ps);(0,ic.Hb)(Gt,hi)}}});return function(je){return we.apply(this,arguments)}}());if(0===Gt.length)return{checkpoint:me??null,documents:[]};var vn=(0,Pr.ZN)((0,ic.dG)(Gt)),cn=Gt.map(we=>function PZ(n,t,e){var i=y9(n,e.data());return i[t]=e.id,i}(r,c,we));return{documents:cn,checkpoint:{id:vn.id,serverTimestamp:MZ(r,vn.data())}}})(),batchSize:(0,Pr.ZN)(n.pull).batchSize,modifier:(0,Pr.ZN)(n.pull).modifier,stream$:e.asObservable()}),n.push){var A=n.push?.filter;w={handler:me=>(0,D.A)(function*(){void 0!==A&&(me=yield(0,ic.j7)(me,vt=>A(vt.newDocumentState)));var fe={},he=me.map(vt=>{var Et=vt.newDocumentState[c];return fe[Et]=vt,Et});yield gU(n.firestore.database);var ht=[];return yield P7(n.firestore.database,function(){var vt=(0,D.A)(function*(Et){ht=[];var vn=yield function kZ(n,t){for(var e=[];n.length;){var i=n.splice(0,10);e.push(t(i))}return Promise.all(e).then(r=>r.map(c=>c.docs).flat())}(he,we=>AU(Gb(n.firestore.collection,nP(function _Q(){return new kg("__name__")}(),"in",we)))),cn={};vn.forEach(we=>{var je=y9(r,we.data()),Ke=we.id;je[c]=Ke,cn[Ke]=je});var Ve=function BQ(n){return Rr(n=Yn(n,Ki)),new FQ(n,t=>function CC(n,t){return function(i,r){const c=new ho;return i.asyncQueue.enqueueAndForget((0,D.A)(function*(){return function PX(n,t,e){return BB.apply(this,arguments)}(yield hU(i),r,c)})),c.promise}(Rr(n),t)}(n,t))}(n.firestore.database),le=!1;yield Promise.all(Object.entries(fe).map(function(){var we=(0,D.A)(function*([je,Ke]){var rt=cn[je];if(!rt||Ke.assumedMasterState&&!1!==(yield t.conflictHandler({newDocumentState:rt,realMasterState:Ke.assumedMasterState},"replication-firestore-push")).isEqual){le=!0;var Te=function f7(n,t,...e){if(n=ui(n),1===arguments.length&&(t=sR.newId()),mU("doc","path",t),n instanceof vC){const i=Qn.fromString(t,...e);return l7(i),new Zr(n,null,new Yt(i))}{if(!(n instanceof Zr||n instanceof wu))throw new Mt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qn.fromString(t,...e));return l7(i),new Zr(n.firestore,n instanceof wu?n.converter:null,new Yt(i))}}(n.firestore.collection,je),hi=(0,Ys.FD)(Ke.newDocumentState);hi[r]=function VQ(){return new vU("serverTimestamp")}(),rt?Ve.update(Te,b9(c,hi)):Ve.set(Te,b9(c,hi))}else ht.push(rt)});return function(je){return we.apply(this,arguments)}}())),le&&(yield Ve.commit())});return function(Et){return vt.apply(this,arguments)}}()),yield gU(n.firestore.database),ht})(),batchSize:n.push.batchSize,modifier:n.push.modifier}}var R=new OZ(n.firestore,n.replicationIdentifier,t,i,w,n.live,n.retryTime,n.autoStart);if(n.live&&n.pull){var U=R.start.bind(R),K=R.cancel.bind(R);R.start=()=>{var fe=function SQ(n,...t){var e,i,r;n=ui(n);let c={includeMetadataChanges:!1,source:"default"},d=0;"object"!=typeof t[d]||pU(t[d])||(c=t[d],d++);const f={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(pU(t[d])){const R=t[d];t[d]=null===(e=R.next)||void 0===e?void 0:e.bind(R),t[d+1]=null===(i=R.error)||void 0===i?void 0:i.bind(R),t[d+2]=null===(r=R.complete)||void 0===r?void 0:r.bind(R)}let p,w,A;if(n instanceof Zr)w=Yn(n.firestore,Ki),A=_b(n._key.path),p={next:R=>{t[d]&&t[d](function DU(n,t,e){const i=e.docs.get(t._key),r=new om(n);return new Wb(n,r,t._key,i,new Lg(e.hasPendingWrites,e.fromCache),t.converter)}(w,n,R))},error:t[d+1],complete:t[d+2]};else{const R=Yn(n,ls);w=Yn(R.firestore,Ki),A=R._query;const U=new om(w);p={next:K=>{t[d]&&t[d](new Kb(w,U,R,K))},error:t[d+1],complete:t[d+2]},C7(n._query)}return function(U,K,me,fe){const he=new KR(fe),ht=new RB(K,he,me);return U.asyncQueue.enqueueAndForget((0,D.A)(function*(){return CB(yield $b(U),ht)})),()=>{he.$a(),U.asyncQueue.enqueueAndForget((0,D.A)(function*(){return AB(yield $b(U),ht)}))}}(Rr(w),A,f,p)}(Gb(p,iP(r,"desc"),oP(1)),he=>{R.reSync()},he=>{R.subjects.error.next((0,Iu.Br)("RC_STREAM",{error:(0,MU.S)(he)}))});return R.cancel=()=>(fe(),K()),U()}}return function g9(n,t){return(n&&t.collection.database.multiInstance?t.collection.database.waitForLeadership():Zs.Ms).then(()=>{t.isStopped()||t.autoStart&&t.start()})}(n.waitForLeadership,R),R}let E9=(()=>{class n{constructor(){this.firebaseApp=eM(F7)}replicateCollection(e,i){var r=this;return(0,D.A)(function*(){const c=pQ(r.firebaseApp),d=function hQ(n,t,...e){if(n=ui(n),mU("collection","path",t),n instanceof vC){const i=Qn.fromString(t,...e);return u7(i),new wu(n,null,i)}{if(!(n instanceof Zr||n instanceof wu))throw new Mt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Qn.fromString(t,...e));return u7(i),new wu(n.firestore,null,i)}}(c,e),f=NZ({collection:i,firestore:{projectId:F7.projectId,database:c,collection:d},pull:{},push:{},live:!0,replicationIdentifier:"Empathy-to-firebase"});return console.log(`LOL: REPLICATION for COLEECTION: ${e}: ${f.replicationIdentifier}`),f})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jc=(()=>{class n{constructor(e){this.remoteDbService=e,this.googleProvider=new Oy,this.auth=b5(this.remoteDbService.firebaseApp),this.user$=this.observeAuthState(this.auth)}observeAuthState(e){return new J.c(r=>{e.onAuthStateChanged(c=>r.next(c||null),c=>r.error(c),()=>r.complete())})}anonymousLogin(){var e=this;return(0,D.A)(function*(){return yield function QL(n){return JI.apply(this,arguments)}(e.auth).then(i=>(console.log(`LOL: Logging in for USER: ${i.user.uid}, PROV: ${i.providerId}, OP: ${i.operationType}`),i)).catch(i=>{const r=i.code,c=i.message;throw console.log(`LOL: error on sign in: ${r} MESS: ${c}`),new Error(`LOL: error on sign in: ${r} MESS: ${c}`)})})()}googleLogin(){var e=this;return(0,D.A)(function*(){return yield function n5(n,t,e){return nb.apply(this,arguments)}(e.auth,e.googleProvider).then(i=>(Oy.credentialFromResult(i),console.log(`LOL: Logging in for USER: ${i.user.uid}, PROV: ${i.user.providerId}, OP: ${i.operationType} `),i)).catch(i=>{const r=i.code,c=i.message;throw Oy.credentialFromError(i),console.log(`LOL: error on google sign in: ${r} MESS: ${c}`),new Error(`LOL: error on google sign in: ${r} MESS: ${c}`)})})()}registerUser(e,i){var r=this;return(0,D.A)(function*(){return yield function s1(n,t,e){return lT.apply(this,arguments)}(r.auth,e,i).then(c=>(console.log(`LOL: Successfully created account for email: ${c.user.email}`),c)).catch(c=>{const d=c.code,f=c.message;throw"auth/email-already-in-use"===d&&console.log("LOL:: Email already in use"),console.log(`LOL: error on creating account for email: ${e}: ${d} MESS: ${f}`),new Error(`LOL: error on creating account for email: ${e}: ${d} MESS: ${f}`)})})()}loginWithEmail(e,i){var r=this;return(0,D.A)(function*(){return function Gy(n,t,e){return As(n.app)?Promise.reject(Co(n)):e1(ui(n),qp.credential(t,e)).catch(function(){var i=(0,D.A)(function*(r){throw"auth/password-does-not-meet-requirements"===r.code&&aT(n),r});return function(r){return i.apply(this,arguments)}}())}(r.auth,e,i).then(c=>(console.log(`LOL: Logging in for USER: ${c.user.uid}, PROV: ${c.user.providerId}, OP: ${c.operationType} `),c)).catch(c=>{const d=c.code,f=c.message;throw console.log(`LOL: error on email sign in: ${d} MESS: ${f}`),new Error(`LOL: error on email sign in: ${d} MESS: ${f}`)})})()}updateUserProfile(e,i){var r=this;return(0,D.A)(function*(){if(!r.auth.currentUser)throw new Error("LOL: Error on updating user profile - no user");yield function n2(n,t){return Ky.apply(this,arguments)}(r.auth.currentUser,{displayName:e,photoURL:i}).then(()=>{console.log(`LOL: User succesfully updated: ${e}`)}).catch(c=>{throw console.log(`LOL: Error on updating the user: ${c}`),new Error(`LOL: Error on updating the user: ${c}`)})})()}resetPassword(e){var i=this;return(0,D.A)(function*(){yield function L$(n,t,e){return Ad.apply(this,arguments)}(i.auth,e).then(()=>{console.log(`LOL: Password reset email sent to: ${e}`)}).catch(r=>{throw console.log(`LOL: Error on resetting password for email: ${e}`),new Error(`LOL: Error on resetting password for email: ${e}`)})})()}changeUserEmail(e,i){var r=this;return(0,D.A)(function*(){if(!r.auth.currentUser)throw new Error("LOL: Error on changing user email - no user");yield r.reauthenticate(r.auth.currentUser,"password",i).catch(c=>{throw console.log(`LOL: error on reauth for email change: ${c}`),new Error(`LOL: error on reauth for email change: ${c}`)}),yield function u1(n,t){const e=ui(n);return As(e.auth.app)?Promise.reject(Co(e.auth)):d1(e,t,null)}(r.auth.currentUser,e).then(()=>{console.log(`LOL: Email succesfully updated for ${r.auth.currentUser?.uid}`)}).catch(c=>{throw new Error(`LOL: Error on changing email for user: ${r.auth.currentUser?.uid}: ${c}`)})})()}changeUserPassword(e,i){var r=this;return(0,D.A)(function*(){if(!r.auth.currentUser)throw new Error("LOL: Error on changing user password - no user");return yield r.reauthenticate(r.auth.currentUser,"password",i).catch(c=>{throw console.log(`LOL: error on reauth for password change: ${c}`),new Error(`LOL: error on reauth for password change: ${c}`)}),yield function r2(n,t){return d1(ui(n),null,t)}(r.auth.currentUser,e).then(()=>{console.log(`LOL: Password succesfully updated for ${r.auth.currentUser?.uid}`)}).catch(c=>{throw new Error(`LOL: Error on changing password for user: ${r.auth.currentUser?.uid}: ${c}`)})})()}verifyEmail(){var e=this;return(0,D.A)(function*(){if(!e.auth.currentUser)throw new Error("No current user!");if(e.auth.currentUser.emailVerified)throw new Error("User email already verified");return yield function H$(n,t){return dT.apply(this,arguments)}(e.auth.currentUser).then(()=>(console.log(`Verification email sent for user email ${e.auth.currentUser?.email}`),e.auth.currentUser?.email||null))})()}reauthenticate(e,i,r){var c=this;return(0,D.A)(function*(){return yield c.reauthenticateForProvider(e,i,r).then(d=>(console.log(`LOL: User ${e?.uid} successfully reidentified`),d)).catch(d=>{throw console.log(`LOL: Error on reauthentification of user: ${e?.uid}: ${d}`),new Error(`LOL: Error on reauthentification of user: ${e?.uid}`)})})()}reauthenticateForProvider(e,i,r){return(0,D.A)(function*(){switch(i){case"password":{if(!e?.email||!r)throw new Error(`LOL: Error on reauthentification for ${i} - Missing email or password`);const c=qp.credential(e.email,r);if(!c)throw new Error(`LOL: Error on reauthentification for ${i} - missing credential`);return r1(e,c)}case"google.com":return yield function V2(n,t,e){return ag.apply(this,arguments)}(e,new Oy)}})()}deleteAccount(e,i){var r=this;return(0,D.A)(function*(){if(!r.auth.currentUser)throw new Error("LOL: Error on deleting account - no user");return yield r.reauthenticate(r.auth.currentUser,e,i).then((0,D.A)(function*(){console.log(`LOL: User ${r.auth.currentUser?.uid} successfully reathenticated`)})).catch(c=>{throw console.log(`LOL: error on reauth for account deletion: ${c}`),new Error(`LOL: error on reauth for account deletion: ${c}`)}),yield function W$(n){return Xy.apply(this,arguments)}(r.auth.currentUser)})()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(E9))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FZ(n,t){if(1&n&&(a.j41(0,"button",4)(1,"span",9),a.EFF(2),a.nI1(3,"async"),a.k0s()()),2&n){const e=a.XpG();a.R7$(2),a.JRh(a.bMT(3,1,e.userName$))}}function LZ(n,t){if(1&n&&(a.j41(0,"button",5)(1,"span",9),a.EFF(2),a.nI1(3,"async"),a.k0s()()),2&n){const e=a.XpG();a.R7$(2),a.JRh(a.bMT(3,1,e.userName$))}}function VZ(n,t){1&n&&(a.j41(0,"button",8)(1,"span",10),a.EFF(2,"Editor"),a.k0s()())}let BZ=(()=>{class n{constructor(e){this.authService=e,this.userName$=this.authService.user$.pipe((0,De.T)(i=>i?i.isAnonymous?"Guest":i?.displayName||i.email:"Signed Out")),this.isKnownUser$=this.authService.user$.pipe((0,De.T)(i=>i&&!i.isAnonymous||(0,a.naY)()))}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(jc))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["main-bar"]],standalone:!0,features:[a.aNF],decls:17,vars:7,consts:[["menu","matMenu"],["routerLink","/library"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","","routerLink","/profile"],["mat-menu-item","","routerLink",""],["mat-menu-item","","routerLink","/library"],["data-test-id","library-entry"],["mat-menu-item","","routerLink","/editor"],["data-test-id","user-entry"],["data-test-id","editor-entry"]],template:function(i,r){if(1&i&&(a.j41(0,"mat-toolbar")(1,"span",1),a.EFF(2,"Empathy"),a.k0s(),a.nrm(3,"span",2),a.j41(4,"button",3)(5,"mat-icon"),a.EFF(6,"menu"),a.k0s()(),a.j41(7,"mat-menu",null,0),a.DNE(9,FZ,4,3,"button",4),a.nI1(10,"async"),a.DNE(11,LZ,4,3,"button",5),a.j41(12,"button",6)(13,"span",7),a.EFF(14,"Library"),a.k0s()(),a.DNE(15,VZ,3,0,"button",8),a.nI1(16,"async"),a.k0s()()),2&i){const c=a.sdS(8);a.R7$(4),a.Y8G("matMenuTriggerFor",c),a.R7$(5),a.vxM(a.bMT(10,3,r.isKnownUser$)?9:11),a.R7$(6),a.vxM(a.bMT(16,5,r.isKnownUser$)?15:-1)}},dependencies:[ro,gi,Is,vN,ID,Bo,To,Vr,ex,xx,su,mf,Dx],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background:var(--sys-background)}"]})}return n})(),UZ=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["app-root"]],standalone:!0,features:[a.aNF],decls:3,vars:0,consts:[[1,"container"]],template:function(i,r){1&i&&(a.nrm(0,"main-bar"),a.j41(1,"div",0),a.nrm(2,"router-outlet"),a.k0s())},dependencies:[BZ,jm],styles:[".container[_ngcontent-%COMP%] {margin:auto;width:85%}"]})}return n})(),HZ=(()=>{class n{constructor(e,i,r,c,d){this.doc=e,this.delegate=i,this.zone=r,this.animationType=c,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=(0,a.WQX)(a.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??P.e(8).then(P.bind(P,8008)).then(i=>i)).catch(i=>{throw new a.wOt(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:r})=>{this._engine=i(this.animationType,this.doc);const c=new r(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(e,i){const r=this.delegate.createRenderer(e,i);if(0===r.\u0275type)return r;"boolean"==typeof r.throwOnSyntheticProps&&(r.throwOnSyntheticProps=!1);const c=new $Z(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{const f=d.createRenderer(e,i);c.use(f),this.scheduler?.notify(9)}).catch(d=>{c.use(r)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(i){a.QTQ()};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();class $Z{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,null!==this.replay){for(const e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,r){this.delegate.insertBefore(t,e,i,r)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i)),this.delegate.listen(t,e,i)}shouldReplay(t){return null!==this.replay&&t.startsWith("@")}}var YU=P(5505);const w9=Symbol.for("Dexie"),yP=globalThis[w9]||(globalThis[w9]=YU);if(YU.semVer!==yP.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${YU.semVer} and ${yP.semVer}`);var bP=P(1744),EP="docs",I9="attachments",C9=new Map,wP=new Map;function ZU(){return(ZU=(0,D.A)(function*(n){var t=yield n,i=wP.get(n)-1;0===i?(t.dexieDb.close(),wP.delete(n)):wP.set(n,i)})).apply(this,arguments)}var JU="__";function RC(n){var t=n.split(".");if(t.length>1)return t.map(i=>RC(i)).join(".");if(n.startsWith("|")){var e=n.substring(1);return JU+e}return n}function S9(n){var t=n.split(".");return t.length>1?t.map(i=>S9(i)).join("."):n.startsWith(JU)?"|"+n.substring(JU.length):n}function qZ(n,t){return t&&(t=ej(t=(0,Ys.FD)(t)),n.forEach(e=>{var i=(0,bP.UU)(t,e);(0,bP.oq)(t,e,i?"1":"0")}),t)}function A9(n,t){return t&&(t=tj(t=(0,Ys.FD)(t)),n.forEach(e=>{var i=(0,bP.UU)(t,e);(0,bP.oq)(t,e,"1"===i)}),t)}function ej(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>ej(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,i])=>{"object"==typeof i&&(i=ej(i)),t[RC(e)]=i}),t}}function tj(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>tj(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,i])=>{("object"==typeof i||Array.isArray(n))&&(i=tj(i)),t[S9(e)]=i}),t}}function XZ(n){var t=[],e=(0,Uc.xQ)(n.primaryKey);t.push([e]),t.push(["_deleted",e]),n.indexes&&n.indexes.forEach(c=>{var d=(0,ic.$r)(c);t.push(d)}),t.push(["_meta.lwt",e]),t.push(["_meta.lwt"]);var i=(t=t.map(c=>c.map(d=>RC(d)))).map(c=>1===c.length?c[0]:"["+c.join("+")+"]");return(i=i.filter((c,d,f)=>f.indexOf(c)===d)).join(", ")}function D9(n,t){return nj.apply(this,arguments)}function nj(){return(nj=(0,D.A)(function*(n,t){var e=yield n;return(yield e.dexieTable.bulkGet(t)).map(r=>A9(e.booleanIndexes,r))})).apply(this,arguments)}function IP(n,t){return n+"||"+t}function QZ(n){var t=new Set,e=[];return n.indexes?(n.indexes.forEach(i=>{(0,ic.$r)(i).forEach(c=>{t.has(c)||(t.add(c),"boolean"===(0,Uc.nT)(n,c).type&&e.push(c))})}),e.push("_deleted"),(0,ic.jw)(e)):e}var TP=P(7014),YZ=P(6243),x9=P(997),M9=P(5365);function R9(n){return n===x9.OK?-1/0:n}function P9(n,t,e){return n.includes(t)?e===x9.g0||!0===e?"1":"0":e}function k9(n,t,e){if(!e){if(typeof window>"u")throw new Error("IDBKeyRange missing");e=window.IDBKeyRange}var i=t.startKeys.map((d,f)=>P9(n,t.index[f],d)).map(R9),r=t.endKeys.map((d,f)=>P9(n,t.index[f],d)).map(R9);return e.bound(i,r,!t.inclusiveStart,!t.inclusiveEnd)}function O9(n,t){return ij.apply(this,arguments)}function ij(){return ij=(0,D.A)(function*(n,t){var e=yield n.internals,i=t.query,r=i.skip?i.skip:0,d=r+(i.limit?i.limit:1/0),f=t.queryPlan,p=!1;f.selectorSatisfiedByIndex||(p=(0,M9.Lr)(n.schema,t.query));var w=k9(e.booleanIndexes,f,e.dexieDb._options.IDBKeyRange),A=f.index,R=[];if(yield e.dexieDb.transaction("r",e.dexieTable,function(){var K=(0,D.A)(function*(me){var vt,he=me.idbtrans.objectStore(EP);vt="["+A.map(Gt=>RC(Gt)).join("+")+"]";var Et=he.index(vt).openCursor(w);yield new Promise(Gt=>{Et.onsuccess=function(vn){var cn=vn.target.result;if(cn){var Ve=A9(e.booleanIndexes,cn.value);(!p||p(Ve))&&R.push(Ve),f.sortSatisfiedByIndex&&R.length===d?Gt():cn.continue()}else Gt()}})});return function(me){return K.apply(this,arguments)}}()),!f.sortSatisfiedByIndex){var U=(0,M9.Xw)(n.schema,t.query);R=R.sort(U)}return{documents:R=R.slice(r,d)}}),ij.apply(this,arguments)}function rj(){return rj=(0,D.A)(function*(n,t){var e=yield n.internals,i=t.queryPlan,r=i.index,c=k9(e.booleanIndexes,i,e.dexieDb._options.IDBKeyRange),d=-1;return yield e.dexieDb.transaction("r",e.dexieTable,function(){var f=(0,D.A)(function*(p){var U,A=p.idbtrans.objectStore(EP);U="["+r.map(me=>RC(me)).join("+")+"]";var K=A.index(U).count(c);d=yield new Promise((me,fe)=>{K.onsuccess=function(){me(K.result)},K.onerror=he=>fe(he)})});return function(p){return f.apply(this,arguments)}}()),d}),rj.apply(this,arguments)}var JZ=(0,qb.t)(),oj=!1,eJ=function(){function n(e,i,r,c,d,f,p,w){this.changes$=new B.B,this.instanceId=JZ++,this.storage=e,this.databaseName=i,this.collectionName=r,this.schema=c,this.internals=d,this.options=f,this.settings=p,this.devMode=w,this.primaryPath=(0,Uc.xQ)(this.schema.primaryKey)}var t=n.prototype;return t.bulkWrite=function(){var e=(0,D.A)(function*(r,c){var d=this;Hg(this),!oj&&(!TP.P.premium||"string"!=typeof TP.P.premium||(yield(0,YZ.V0)(TP.P.premium))!==TP.Y)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join("\n")),oj=!0,r.forEach(U=>{if(!U.document._rev||U.previous&&!U.previous._rev)throw(0,Iu.Br)("SNH",{args:{row:U}})});var f=yield this.internals,p={error:[]};this.devMode&&(r=r.map(U=>{var K=(0,Js.C9)(U.document);return{previous:U.previous,document:K}}));var A,w=r.map(U=>U.document[this.primaryPath]);if(yield f.dexieDb.transaction("rw",f.dexieTable,f.dexieAttachmentsTable,(0,D.A)(function*(){var U=new Map;(yield D9(d.internals,w)).forEach(he=>{var ht=he;return ht&&U.set(ht[d.primaryPath],ht),ht}),A=(0,Js.gi)(d,d.primaryPath,U,r,c),p.error=A.errors;var me=[];A.bulkInsertDocs.forEach(he=>{me.push(he.document)}),A.bulkUpdateDocs.forEach(he=>{me.push(he.document)}),(me=me.map(he=>qZ(f.booleanIndexes,he))).length>0&&(yield f.dexieTable.bulkPut(me));var fe=[];A.attachmentsAdd.forEach(he=>{fe.push({id:IP(he.documentId,he.attachmentId),data:he.attachmentData.data})}),A.attachmentsUpdate.forEach(he=>{fe.push({id:IP(he.documentId,he.attachmentId),data:he.attachmentData.data})}),yield f.dexieAttachmentsTable.bulkPut(fe),yield f.dexieAttachmentsTable.bulkDelete(A.attachmentsRemove.map(he=>IP(he.documentId,he.attachmentId)))})),(A=(0,Pr.ZN)(A)).eventBulk.events.length>0){var R=(0,Pr.ZN)(A.newestRow).document;A.eventBulk.checkpoint={id:R[this.primaryPath],lwt:R._meta.lwt},A.eventBulk.endTime=(0,qb.t)(),this.changes$.next(A.eventBulk)}return p});return function i(r,c){return e.apply(this,arguments)}}(),t.findDocumentsById=function(){var e=(0,D.A)(function*(r,c){var d=this;Hg(this);var f=yield this.internals,p=[];return yield f.dexieDb.transaction("r",f.dexieTable,(0,D.A)(function*(){(yield D9(d.internals,r)).forEach(A=>{A&&(!A._deleted||c)&&p.push(A)})})),p});return function i(r,c){return e.apply(this,arguments)}}(),t.query=function(i){return Hg(this),O9(this,i)},t.count=function(){var e=(0,D.A)(function*(r){if(r.queryPlan.selectorSatisfiedByIndex){var c=yield function ZZ(n,t){return rj.apply(this,arguments)}(this,r);return{count:c,mode:"fast"}}return{count:(yield O9(this,r)).documents.length,mode:"slow"}});return function i(r){return e.apply(this,arguments)}}(),t.changeStream=function(){return Hg(this),this.changes$.asObservable()},t.cleanup=function(){var e=(0,D.A)(function*(r){var c=this;Hg(this);var d=yield this.internals;return yield d.dexieDb.transaction("rw",d.dexieTable,(0,D.A)(function*(){var f=(0,qb.t)()-r,p=yield d.dexieTable.where("_meta.lwt").below(f).toArray(),w=[];p.forEach(A=>{"1"===A._deleted&&w.push(A[c.primaryPath])}),yield d.dexieTable.bulkDelete(w)})),!0});return function i(r){return e.apply(this,arguments)}}(),t.getAttachmentData=function(){var e=(0,D.A)(function*(r,c,d){Hg(this);var f=yield this.internals,p=IP(r,c);return yield f.dexieDb.transaction("r",f.dexieAttachmentsTable,(0,D.A)(function*(){var w=yield f.dexieAttachmentsTable.get(p);if(w)return w.data;throw new Error("attachment missing documentId: "+r+" attachmentId: "+c)}))});return function i(r,c,d){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,D.A)(function*(){Hg(this);var r=yield this.internals;return yield r.dexieTable.clear(),this.close()});return function i(){return e.apply(this,arguments)}}(),t.close=function(){var i=this;return this.closed||(this.closed=(0,D.A)(function*(){i.changes$.complete(),yield function KZ(n){return ZU.apply(this,arguments)}(i.internals)})()),this.closed},t.conflictResultionTasks=function(){return new B.B},t.resolveConflictResultionTask=function(){var e=(0,D.A)(function*(r){});return function i(r){return e.apply(this,arguments)}}(),n}();function sj(){return(sj=(0,D.A)(function*(n,t,e){var i=function WZ(n,t,e,i){var r="rxdb-dexie-"+n+"--"+i.version+"--"+t,c=(0,LU.q)(C9,r,()=>{var d=(0,D.A)(function*(){var f=(0,Ys.FD)(e);f.autoOpen=!1;var p=new yP(r,f),w={[EP]:XZ(i),changes:"++sequence, id",[I9]:"id"};return p.version(1).stores(w),yield p.open(),{dexieDb:p,dexieTable:p[EP],dexieAttachmentsTable:p[I9],booleanIndexes:QZ(i)}})();return C9.set(r,c),wP.set(c,0),d});return c}(t.databaseName,t.collectionName,e,t.schema),r=new eJ(n,t.databaseName,t.collectionName,t.schema,i,t.options,e,t.devMode);return yield cZ("dexie",t,r),Promise.resolve(r)})).apply(this,arguments)}function Hg(n){if(n.closed)throw new Error("RxStorageInstanceDexie is closed "+n.databaseName+"-"+n.collectionName)}var nJ=P(6052),iJ=function(){function n(e){this.name="dexie",this.rxdbVersion=nJ.o,this.settings=e}return n.prototype.createStorageInstance=function(i){return(0,Js.pZ)(i),function tJ(n,t,e){return sj.apply(this,arguments)}(this,i,this.settings)},n}();function rJ(n={}){return new iJ(n)}var aj={minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0},cj=Zs.Ms;function lj(){return lj=(0,D.A)(function*(n){var t=n.database,e=Object.assign({},aj,t.cleanupPolicy?t.cleanupPolicy:{});yield N9(n,e),!n.destroyed&&(yield F9(n,e),yield function sJ(n,t){return hj.apply(this,arguments)}(n,e))}),lj.apply(this,arguments)}function N9(n,t){return uj.apply(this,arguments)}function uj(){return(uj=(0,D.A)(function*(n,t){yield n.promiseWait(t.minimumCollectionAge),!n.destroyed&&t.waitForLeadership&&(yield n.database.waitForLeadership())})).apply(this,arguments)}function F9(n,t){return dj.apply(this,arguments)}function dj(){return(dj=(0,D.A)(function*(n,t){for(var e=n.database,i=n.storageInstance,r=!1;!r&&!n.destroyed;){if(t.awaitReplicationsInSync){var c=XU.get(n);c&&(yield Promise.all(c.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(n.destroyed)return;cj=cj.then((0,D.A)(function*(){return!!n.destroyed||(yield e.requestIdlePromise(),i.cleanup(t.minimumDeletedTime))})),r=yield cj}})).apply(this,arguments)}function hj(){return(hj=(0,D.A)(function*(n,t){for(;!n.destroyed;){if(yield n.promiseWait(t.runEach),n.destroyed)return;yield F9(n,t)}})).apply(this,arguments)}var fj=Zs.Ms;function mj(){return mj=(0,D.A)(function*(n){var t=n.collection,e=t.database,i=Object.assign({},aj,e.cleanupPolicy?e.cleanupPolicy:{});yield N9(t,i),!t.destroyed&&(yield L9(n,i),yield function cJ(n,t){return gj.apply(this,arguments)}(n,i))}),mj.apply(this,arguments)}function L9(n,t){return pj.apply(this,arguments)}function pj(){return(pj=(0,D.A)(function*(n,t){for(var e=n.collection,i=e.database,r=!1;!r&&!e.destroyed;){if(t.awaitReplicationsInSync){var c=XU.get(e);c&&(yield Promise.all(c.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(e.destroyed)return;fj=fj.then((0,D.A)(function*(){return!!e.destroyed||(yield i.requestIdlePromise(),n._cleanup())})),r=yield fj}})).apply(this,arguments)}function gj(){return(gj=(0,D.A)(function*(n,t){for(var e=n.collection;!e.destroyed;){if(yield e.promiseWait(t.runEach),e.destroyed)return;yield L9(n,t)}})).apply(this,arguments)}var lJ={name:"cleanup",rxdb:!0,prototypes:{RxCollection:n=>{n.cleanup=function(){var t=(0,D.A)(function*(e){var i=Object.assign({},aj,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof e>"u"&&(e=i.minimumDeletedTime);for(var r=!1;!r&&!this.destroyed;)r=yield this.storageInstance.cleanup(e)});return function(e){return t.apply(this,arguments)}}()}},hooks:{createRxCollection:{after:n=>{!function oJ(n){lj.apply(this,arguments)}(n.collection)}},createRxState:{after:n=>{!function aJ(n){mj.apply(this,arguments)}(n.state)}}}};const V9={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var CP,dJ=new Uint8Array(16);function hJ(){if(!CP&&!(CP=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return CP(dJ)}for(var us=[],_j=0;_j<256;++_j)us.push((_j+256).toString(16).slice(1));const mJ=function fJ(n,t,e){if(V9.randomUUID&&!t&&!n)return V9.randomUUID();var i=(n=n||{}).random||(n.rng||hJ)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(var r=0;r<16;++r)t[e+r]=i[r];return t}return function B9(n,t=0){return(us[n[t+0]]+us[n[t+1]]+us[n[t+2]]+us[n[t+3]]+"-"+us[n[t+4]]+us[n[t+5]]+"-"+us[n[t+6]]+us[n[t+7]]+"-"+us[n[t+8]]+us[n[t+9]]+"-"+us[n[t+10]]+us[n[t+11]]+us[n[t+12]]+us[n[t+13]]+us[n[t+14]]+us[n[t+15]]).toLowerCase()}(i)};let Cl=(()=>{class n{constructor(e){this.remoteDbService=e,this.localDb=this.setupLocalDb("local_db",zQ)}setupLocalDb(e,i){return(0,D.A)(function*(){(0,a.naY)()&&(yield P.e(486).then(P.bind(P,6486)).then(c=>vP(c.RxDBDevModePlugin))),vP(o9),vP(lJ);const r=yield(0,_9.uh)({name:e,storage:rJ(),eventReduce:!0,cleanupPolicy:{minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0}});return yield r.addCollections(i),r})()}addDocument(e,i,r){return this.localDb.then(c=>{const d={...i,id:r||mJ()};return c[e].insert(d)}).catch(c=>{throw console.log(`LOL: Error on adding document into ${e}: ${c}`),new Error(`LOL: Error on adding document into ${e}: ${c}`)})}getDocumentsByIds(e,i){return this.localDb.then(r=>r[e].findByIds(i).$).catch(r=>{throw console.log(`LOL: Error on getting document from ${e}: ${r}`),new Error(`LOL: Error on getting document from ${e}: ${r}`)})}getDocumentById(e,i){var r=this;return(0,D.A)(function*(){return(yield r.getDocumentsByIds(e,[i])).pipe((0,De.T)(d=>d.get(i)))})()}getAllCollectionDocs(e){return this.localDb.then(i=>i[e].find().$).catch(i=>{throw console.log(`LOL: Error on getting document from ${e}: ${i}`),new Error(`LOL: Error on getting document from ${e}: ${i}`)})}updateDocument(e,i,r){var c=this;return(0,D.A)(function*(){return(yield c.localDb)[e].findByIds([i]).exec().then(f=>f.get(i)).then(f=>f.patch(r)).catch(f=>{throw console.log(`LOL: Error on updating document id: ${i} in collection ${e}: ${f}`),new Error(`LOL: Error on updating document id: ${i} in collection ${e}: ${f}`)})})()}deleteDocument(e,i){var r=this;return(0,D.A)(function*(){return(yield r.localDb)[e].findByIds([i]).exec().then(d=>d.get(i)).then(d=>d.remove()).catch(d=>{throw console.log(`LOL: Error on removing document id: ${i} from collection: ${e}`),new Error(`LOL: Error on removing document id: ${i} from collection: ${e}`)})})()}cleanupCollection(e){var i=this;return(0,D.A)(function*(){yield(yield i.localDb)[e].cleanup(0)})()}replicateCollection(e){var i=this;return(0,D.A)(function*(){const r=(yield i.localDb).collections[e];i.remoteDbService.replicateCollection(e,r)})()}isDocumentInCollection(e,i){var r=this;return(0,D.A)(function*(){return!!(yield(yield r.localDb)[e].findByIds([i]).exec()).size})()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(E9))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pJ=["*"],vJ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],yJ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],bJ=new a.nKC("MAT_CARD_CONFIG");let PC=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(bJ,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&a.AVh("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[a.aNF],ngContentSelectors:pJ,decls:1,vars:0,template:function(i,r){1&i&&(a.NAR(),a.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),vj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return n})(),kC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return n})(),U9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return n})(),yj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[a.aNF],ngContentSelectors:yJ,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(i,r){1&i&&(a.NAR(vJ),a.SdG(0),a.j41(1,"div",0),a.SdG(2,1),a.k0s(),a.SdG(3,2))},encapsulation:2,changeDetection:0})}return n})(),bj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return n})(),Xb=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[bi,ro,bi]})}return n})(),j9=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.sFG),a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n})}return n})(),$g=(()=>{class n extends j9{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,features:[a.Vt3]})}return n})();const Oa=new a.nKC(""),TJ={provide:Oa,useExisting:(0,a.Rfq)(()=>Hc),multi:!0},SJ=new a.nKC("");let Hc=(()=>{class n extends j9{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function CJ(){const n=X()?X().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(SJ,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&a.bIt("input",function(d){return r._handleInput(d.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(d){return r._compositionEnd(d.target.value)})},features:[a.Jv_([TJ]),a.Vt3]})}return n})();function am(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function $9(n){return null!=n&&"number"==typeof n.length}const Do=new a.nKC(""),cm=new a.nKC(""),AJ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vi{static min(t){return function G9(n){return t=>{if(am(t.value)||am(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function z9(n){return t=>{if(am(t.value)||am(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function W9(n){return am(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function K9(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function q9(n){return am(n.value)||AJ.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function X9(n){return t=>am(t.value)||!$9(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Q9(n){return t=>$9(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Y9(n){if(!n)return SP;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(am(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return i6(t)}static composeAsync(t){return r6(t)}}function SP(n){return null}function Z9(n){return null!=n}function J9(n){return(0,a.jNT)(n)?(0,Be.H)(n):n}function e6(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function t6(n,t){return t.map(e=>e(n))}function n6(n){return n.map(t=>function DJ(n){return!n.validate}(t)?t:e=>t.validate(e))}function i6(n){if(!n)return null;const t=n.filter(Z9);return 0==t.length?null:function(e){return e6(t6(e,t))}}function Ej(n){return null!=n?i6(n6(n)):null}function r6(n){if(!n)return null;const t=n.filter(Z9);return 0==t.length?null:function(e){return ow(t6(e,t).map(J9)).pipe((0,De.T)(e6))}}function wj(n){return null!=n?r6(n6(n)):null}function o6(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function s6(n){return n._rawValidators}function a6(n){return n._rawAsyncValidators}function Ij(n){return n?Array.isArray(n)?n:[n]:[]}function AP(n,t){return Array.isArray(n)?n.includes(t):n===t}function c6(n,t){const e=Ij(t);return Ij(n).forEach(r=>{AP(e,r)||e.push(r)}),e}function l6(n,t){return Ij(t).filter(e=>!AP(n,e))}class u6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ej(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=wj(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class ea extends u6{get formDirective(){return null}get path(){return null}}class Sl extends u6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class d6{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let Tu=(()=>{class n extends d6{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Sl,2))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&a.AVh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[a.Vt3]})}return n})(),Cu=(()=>{class n extends d6{constructor(e){super(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(ea,10))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&a.AVh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[a.Vt3]})}return n})();const OC="VALID",xP="INVALID",Qb="PENDING",NC="DISABLED";class Yb{}class f6 extends Yb{constructor(t,e){super(),this.value=t,this.source=e}}class Sj extends Yb{constructor(t,e){super(),this.pristine=t,this.source=e}}class Aj extends Yb{constructor(t,e){super(),this.touched=t,this.source=e}}class MP extends Yb{constructor(t,e){super(),this.status=t,this.source=e}}class kJ extends Yb{constructor(t){super(),this.source=t}}class OJ extends Yb{constructor(t){super(),this.source=t}}function Dj(n){return(RP(n)?n.validators:n)||null}function xj(n,t){return(RP(t)?t.asyncValidators:n)||null}function RP(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function m6(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.wOt(1e3,"");if(!i[e])throw new a.wOt(1001,"")}function p6(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.wOt(1002,"")})}class PP{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,a.EWP)(()=>this.statusReactive()),this.statusReactive=(0,a.vPA)(void 0),this._pristine=(0,a.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,a.vPA)(!0),this._touched=(0,a.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,a.vPA)(!1),this._events=new B.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return(0,a.O8t)(this.statusReactive)}set status(t){(0,a.O8t)(()=>this.statusReactive.set(t))}get valid(){return this.status===OC}get invalid(){return this.status===xP}get pending(){return this.status==Qb}get disabled(){return this.status===NC}get enabled(){return this.status!==NC}get pristine(){return(0,a.O8t)(this.pristineReactive)}set pristine(t){(0,a.O8t)(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return(0,a.O8t)(this.touchedReactive)}set touched(t){(0,a.O8t)(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(c6(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(c6(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(l6(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(l6(t,this._rawAsyncValidators))}hasValidator(t){return AP(this._rawValidators,t)}hasAsyncValidator(t){return AP(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new Aj(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&!1!==t.emitEvent&&this._events.next(new Aj(!1,i))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:i}),e&&!1!==t.emitEvent&&this._events.next(new Sj(!1,i))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&!1!==t.emitEvent&&this._events.next(new Sj(!0,i))}markAsPending(t={}){this.status=Qb;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new MP(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=NC,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue();const i=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new f6(this.value,i)),this._events.next(new MP(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=OC,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===OC||this.status===Qb)&&this._runAsyncValidator(i,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new f6(this.value,e)),this._events.next(new MP(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?NC:OC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Qb,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const i=J9(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new MP(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new a.bkB,this.statusChanges=new a.bkB}_calculateStatus(){return this._allControlsDisabled()?NC:this.errors?xP:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qb)?Qb:this._anyControlsHaveStatus(xP)?xP:OC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Sj(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Aj(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){RP(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function NJ(n){return Array.isArray(n)?Ej(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function FJ(n){return Array.isArray(n)?wj(n):n||null}(this._rawAsyncValidators)}}class FC extends PP{constructor(t,e,i){super(Dj(e),xj(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){p6(this,0,t),Object.keys(t).forEach(i=>{m6(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,c)=>{i=e(i,r,c)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class g6 extends FC{}const Zb=new a.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>kP}),kP="always";function LC(n,t,e=kP){Mj(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function VJ(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_6(n,t)})}(n,t),function UJ(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function BJ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_6(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function LJ(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function NP(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),LP(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function FP(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Mj(n,t){const e=s6(n);null!==t.validator?n.setValidators(o6(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=a6(n);null!==t.asyncValidator?n.setAsyncValidators(o6(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();FP(t._rawValidators,r),FP(t._rawAsyncValidators,r)}function LP(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=s6(n);if(Array.isArray(r)&&r.length>0){const c=r.filter(d=>d!==t.validator);c.length!==r.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const r=a6(n);if(Array.isArray(r)&&r.length>0){const c=r.filter(d=>d!==t.asyncValidator);c.length!==r.length&&(e=!0,n.setAsyncValidators(c))}}}const i=()=>{};return FP(t._rawValidators,i),FP(t._rawAsyncValidators,i),e}function _6(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function v6(n,t){Mj(n,t)}function y6(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const zJ={provide:ea,useExisting:(0,a.Rfq)(()=>Jb)},VC=Promise.resolve();let Jb=(()=>{class n extends ea{get submitted(){return(0,a.O8t)(this.submittedReactive)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=(0,a.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,a.vPA)(!1),this._directives=new Set,this.ngSubmit=new a.bkB,this.form=new FC({},Ej(e),wj(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){VC.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),LC(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){VC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){VC.then(()=>{const i=this._findContainer(e.path),r=new FC({});v6(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){VC.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){VC.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),y6(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Do,10),a.rXU(cm,10),a.rXU(Zb,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&a.bIt("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([zJ]),a.Vt3]})}return n})();function b6(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function E6(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const BC=class extends PP{constructor(t=null,e,i){super(Dj(e),xj(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),RP(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=E6(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){b6(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){b6(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){E6(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};Promise.resolve();let Su=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const XJ={provide:Oa,useExisting:(0,a.Rfq)(()=>Oj),multi:!0};let Oj=(()=>{class n extends $g{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){1&i&&a.bIt("input",function(d){return r.onChange(d.target.value)})("blur",function(){return r.onTouched()})},features:[a.Jv_([XJ]),a.Vt3]})}return n})();const Nj=new a.nKC(""),eee={provide:ea,useExisting:(0,a.Rfq)(()=>ta)};let ta=(()=>{class n extends ea{get submitted(){return(0,a.O8t)(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=(0,a.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,a.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.bkB,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(LP(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return LC(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){NP(e.control||null,e,!1),function GJ(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),y6(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new kJ(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new OJ(this.form))}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(NP(i||null,e),(n=>n instanceof BC)(r)&&(LC(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);v6(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function jJ(n,t){return LP(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Mj(this.form,this),this._oldForm&&LP(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Do,10),a.rXU(cm,10),a.rXU(Zb,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&a.bIt("submit",function(d){return r.onSubmit(d)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([eee]),a.Vt3,a.OA$]})}return n})();const iee={provide:Sl,useExisting:(0,a.Rfq)(()=>Al)};let Al=(()=>{class n extends Sl{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,i,r,c,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new a.bkB,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function kj(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(c=>{c.constructor===Hc?e=c:function $J(n){return Object.getPrototypeOf(n.constructor)===$g}(c)?i=c:r=c}),r||i||e||null}(0,c)}ngOnChanges(e){this._added||this._setUpControl(),function Pj(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function OP(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(a.rXU(ea,13),a.rXU(Do,10),a.rXU(cm,10),a.rXU(Oa,10),a.rXU(Nj,8))};static#n=this.\u0275dir=a.FsC({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[a.Jv_([iee]),a.Vt3,a.OA$]})}return n})(),vee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();class U6 extends PP{constructor(t,e,i){super(Dj(e),xj(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){p6(this,0,t),t.forEach((i,r)=>{m6(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function j6(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let yee=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let c={};return j6(i)?c=i:null!==i&&(c.validators=i.validator,c.asyncValidators=i.asyncValidator),new FC(r,c)}record(e,i=null){const r=this._reduceControls(e);return new g6(r,i)}control(e,i,r){let c={};return this.useNonNullable?(j6(i)?c=i:(c.validators=i,c.asyncValidators=r),new BC(e,{...c,nonNullable:!0})):new BC(e,i,r)}array(e,i,r){const c=e.map(d=>this._createControl(d));return new U6(c,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof BC||e instanceof PP?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:()=>(0,a.WQX)(yee).nonNullable,providedIn:"root"})}return n})(),Qd=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Nj,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Zb,useValue:e.callSetDisabledState??kP}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[vee]})}return n})();var bee=P(6496);class Eee{constructor(t){this._box=t,this._destroyed=new B.B,this._resizeSubject=new B.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new J.c(e=>{const i=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),i.unsubscribe(),this._elementObservables.delete(t)}}).pipe((0,kn.p)(e=>e.some(i=>i.target===t)),(0,bee.t)({bufferSize:1,refCount:!0}),vi(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let wee=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,a.WQX)(a.SKi)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new Eee(r)),this._observers.get(r).observe(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Iee=["notch"],Tee=["matFormFieldNotchedOutline",""],Cee=["*"],See=["textField"],Aee=["iconPrefixContainer"],Dee=["textPrefixContainer"],xee=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Mee=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function Ree(n,t){1&n&&a.nrm(0,"span",19)}function Pee(n,t){if(1&n&&(a.j41(0,"label",18),a.SdG(1,1),a.DNE(2,Ree,1,0,"span",19),a.k0s()),2&n){const e=a.XpG(2);a.Y8G("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),a.BMQ("for",e._control.disableAutomaticLabeling?null:e._control.id),a.R7$(2),a.vxM(!e.hideRequiredMarker&&e._control.required?2:-1)}}function kee(n,t){if(1&n&&a.DNE(0,Pee,3,5,"label",18),2&n){const e=a.XpG();a.vxM(e._hasFloatingLabel()?0:-1)}}function Oee(n,t){1&n&&a.nrm(0,"div",5)}function Nee(n,t){}function Fee(n,t){if(1&n&&a.DNE(0,Nee,0,0,"ng-template",11),2&n){a.XpG(2);const e=a.sdS(1);a.Y8G("ngTemplateOutlet",e)}}function Lee(n,t){if(1&n&&(a.j41(0,"div",7),a.DNE(1,Fee,1,1,null,11),a.k0s()),2&n){const e=a.XpG();a.Y8G("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),a.R7$(),a.vxM(e._forceDisplayInfixLabel()?-1:1)}}function Vee(n,t){1&n&&(a.j41(0,"div",8,2),a.SdG(2,2),a.k0s())}function Bee(n,t){1&n&&(a.j41(0,"div",9,3),a.SdG(2,3),a.k0s())}function Uee(n,t){}function jee(n,t){if(1&n&&a.DNE(0,Uee,0,0,"ng-template",11),2&n){a.XpG();const e=a.sdS(1);a.Y8G("ngTemplateOutlet",e)}}function Hee(n,t){1&n&&(a.j41(0,"div",12),a.SdG(1,4),a.k0s())}function $ee(n,t){1&n&&(a.j41(0,"div",13),a.SdG(1,5),a.k0s())}function Gee(n,t){1&n&&a.nrm(0,"div",14)}function zee(n,t){if(1&n&&(a.j41(0,"div",16),a.SdG(1,6),a.k0s()),2&n){const e=a.XpG();a.Y8G("@transitionMessages",e._subscriptAnimationState)}}function Wee(n,t){if(1&n&&(a.j41(0,"mat-hint",20),a.EFF(1),a.k0s()),2&n){const e=a.XpG(2);a.Y8G("id",e._hintLabelId),a.R7$(),a.JRh(e.hintLabel)}}function Kee(n,t){if(1&n&&(a.j41(0,"div",17),a.DNE(1,Wee,2,2,"mat-hint",20),a.SdG(2,7),a.nrm(3,"div",21),a.SdG(4,8),a.k0s()),2&n){const e=a.XpG();a.Y8G("@transitionMessages",e._subscriptAnimationState),a.R7$(),a.vxM(e.hintLabel?1:-1)}}let Dl=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-label"]],standalone:!0})}return n})(),qee=0;const H6=new a.nKC("MatError");let e0=(()=>{class n{constructor(e,i){this.id="mat-mdc-error-"+qee++,e||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(a.kS0("aria-live"),a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&a.Mr5("id",r.id)},inputs:{id:"id"},standalone:!0,features:[a.Jv_([{provide:H6,useExisting:n}])]})}return n})(),Xee=0,$6=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+Xee++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(a.Mr5("id",r.id),a.BMQ("align",null),a.AVh("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"},standalone:!0})}return n})();const Qee=new a.nKC("MatPrefix"),G6=new a.nKC("MatSuffix");let Yee=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[a.Jv_([{provide:G6,useExisting:n}])]})}return n})();const z6=new a.nKC("FloatingLabelParent");let W6=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,a.WQX)(wee),this._ngZone=(0,a.WQX)(a.SKi),this._parent=(0,a.WQX)(z6),this._resizeSubscription=new ne.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Zee(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const i=e.scrollWidth;return e.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&a.AVh("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return n})();const K6="mdc-line-ripple--active",VP="mdc-line-ripple--deactivating";let q6=(()=>{class n{constructor(e,i){this._elementRef=e,this._handleTransitionEnd=r=>{const c=this._elementRef.nativeElement.classList,d=c.contains(VP);"opacity"===r.propertyName&&d&&c.remove(K6,VP)},i.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(VP),e.add(K6)}deactivate(){this._elementRef.nativeElement.classList.add(VP)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return n})(),X6=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&a.GBs(Iee,5),2&i){let c;a.mGM(c=a.lsd())&&(r._notch=c.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&a.AVh("mdc-notched-outline--notched",r.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[a.aNF],attrs:Tee,ngContentSelectors:Cee,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(a.NAR(),a.nrm(0,"div",1),a.j41(1,"div",2,0),a.SdG(3),a.k0s(),a.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const Jee={transitionMessages:(0,en.hZ)("transitionMessages",[(0,en.wk)("enter",(0,en.iF)({opacity:1,transform:"translateY(0%)"})),(0,en.kY)("void => enter",[(0,en.iF)({opacity:0,transform:"translateY(-5px)"}),(0,en.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let BP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n})}return n})();const UP=new a.nKC("MatFormField"),ete=new a.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let Q6=0,Yd=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Gs(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,i,r,c,d,f,p,w){this._elementRef=e,this._changeDetectorRef=i,this._dir=c,this._platform=d,this._defaults=f,this._animationMode=p,this._labelChild=(0,a.sbv)(Dl),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+Q6++,this._hintLabelId="mat-mdc-hint-"+Q6++,this._subscriptAnimationState="",this._destroyed=new B.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,a.WQX)(a.zZn),this.getLabelId=(0,a.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,a.EWP)(()=>!!this._labelChild()),f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=!!f?.hideRequiredMarker,f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(vi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Uo.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,a.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(vi(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,r=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,c=i?.getBoundingClientRect().width??0,d=r?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${c+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.gRc),a.rXU(a.SKi),a.rXU(Ya),a.rXU(Gi),a.rXU(ete,8),a.rXU(a.bc$,8),a.rXU(Se))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,c){if(1&i&&(a.C6U(c,r._labelChild,Dl,5),a.wni(c,BP,5),a.wni(c,Qee,5),a.wni(c,G6,5),a.wni(c,H6,5),a.wni(c,$6,5)),2&i){let d;a.NyB(),a.mGM(d=a.lsd())&&(r._formFieldControl=d.first),a.mGM(d=a.lsd())&&(r._prefixChildren=d),a.mGM(d=a.lsd())&&(r._suffixChildren=d),a.mGM(d=a.lsd())&&(r._errorChildren=d),a.mGM(d=a.lsd())&&(r._hintChildren=d)}},viewQuery:function(i,r){if(1&i&&(a.GBs(See,5),a.GBs(Aee,5),a.GBs(Dee,5),a.GBs(W6,5),a.GBs(X6,5),a.GBs(q6,5)),2&i){let c;a.mGM(c=a.lsd())&&(r._textField=c.first),a.mGM(c=a.lsd())&&(r._iconPrefixContainer=c.first),a.mGM(c=a.lsd())&&(r._textPrefixContainer=c.first),a.mGM(c=a.lsd())&&(r._floatingLabel=c.first),a.mGM(c=a.lsd())&&(r._notchedOutline=c.first),a.mGM(c=a.lsd())&&(r._lineRipple=c.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&a.AVh("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[a.Jv_([{provide:UP,useExisting:n},{provide:z6,useExisting:n}]),a.aNF],ngContentSelectors:Mee,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(i,r){if(1&i){const c=a.RV6();a.NAR(xee),a.DNE(0,kee,1,1,"ng-template",null,0,a.C5r),a.j41(2,"div",4,1),a.bIt("click",function(f){return a.eBV(c),a.Njj(r._control.onContainerClick(f))}),a.DNE(4,Oee,1,0,"div",5),a.j41(5,"div",6),a.DNE(6,Lee,2,2,"div",7)(7,Vee,3,0,"div",8)(8,Bee,3,0,"div",9),a.j41(9,"div",10),a.DNE(10,jee,1,1,null,11),a.SdG(11),a.k0s(),a.DNE(12,Hee,2,0,"div",12)(13,$ee,2,0,"div",13),a.k0s(),a.DNE(14,Gee,1,0,"div",14),a.k0s(),a.j41(15,"div",15),a.DNE(16,zee,2,1,"div",16)(17,Kee,5,2,"div",17),a.k0s()}if(2&i){let c;a.R7$(2),a.AVh("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),a.R7$(2),a.vxM(r._hasOutline()||r._control.disabled?-1:4),a.R7$(2),a.vxM(r._hasOutline()?6:-1),a.R7$(),a.vxM(r._hasIconPrefix?7:-1),a.R7$(),a.vxM(r._hasTextPrefix?8:-1),a.R7$(2),a.vxM(!r._hasOutline()||r._forceDisplayInfixLabel()?10:-1),a.R7$(2),a.vxM(r._hasTextSuffix?12:-1),a.R7$(),a.vxM(r._hasIconSuffix?13:-1),a.R7$(),a.vxM(r._hasOutline()?-1:14),a.R7$(),a.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),a.R7$(),a.vxM("error"===(c=r._getDisplayedMessages())?16:"hint"===c?17:-1)}},dependencies:[W6,X6,Yc,q6,$6],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Jee.transitionMessages]},changeDetection:0})}return n})(),xl=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[bi,ro,BA,bi]})}return n})();const J6=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],ez=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function ite(n,t){1&n&&(a.j41(0,"span",3),a.SdG(1,1),a.k0s())}function rte(n,t){1&n&&(a.j41(0,"span",6),a.SdG(1,2),a.k0s())}const Hj=["*"],jP=new a.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),$j=new a.nKC("MatChipAvatar"),Gj=new a.nKC("MatChipTrailingIcon"),zj=new a.nKC("MatChipRemove"),HP=new a.nKC("MatChip");let t0=(()=>{class n{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=e}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,i){this._elementRef=e,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(HP))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(i,r){1&i&&a.bIt("click",function(d){return r._handleClick(d)})("keydown",function(d){return r._handleKeydown(d)}),2&i&&(a.BMQ("tabindex",r._getTabindex())("disabled",r._getDisabledAttribute())("aria-disabled",r.disabled),a.AVh("mdc-evolution-chip__action--primary",r._isPrimary)("mdc-evolution-chip__action--presentational",!r.isInteractive)("mdc-evolution-chip__action--trailing",!r._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",a.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?-1:(0,a.Udg)(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[a.GFd]})}return n})(),yte=0,lm=(()=>{class n{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,i,r,c,d,f,p,w){this._changeDetectorRef=e,this._elementRef=i,this._ngZone=r,this._focusMonitor=c,this._globalRippleOptions=p,this._onFocus=new B.B,this._onBlur=new B.B,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+yte++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new a.bkB,this.destroyed=new a.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,a.WQX)(ED),this._injector=(0,a.WQX)(a.zZn),this._document=d,this._animationsDisabled="NoopAnimations"===f,null!=w&&(this.tabIndex=parseInt(w)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,Uo.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode&&!e.repeat||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=null!==e;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):(0,a.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(Ac),a.rXU(Se),a.rXU(a.bc$,8),a.rXU(ml,8),a.kS0("tabindex"))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(i,r,c){if(1&i&&(a.wni(c,$j,5),a.wni(c,Gj,5),a.wni(c,zj,5),a.wni(c,$j,5),a.wni(c,Gj,5),a.wni(c,zj,5)),2&i){let d;a.mGM(d=a.lsd())&&(r.leadingIcon=d.first),a.mGM(d=a.lsd())&&(r.trailingIcon=d.first),a.mGM(d=a.lsd())&&(r.removeIcon=d.first),a.mGM(d=a.lsd())&&(r._allLeadingIcons=d),a.mGM(d=a.lsd())&&(r._allTrailingIcons=d),a.mGM(d=a.lsd())&&(r._allRemoveIcons=d)}},viewQuery:function(i,r){if(1&i&&a.GBs(t0,5),2&i){let c;a.mGM(c=a.lsd())&&(r.primaryAction=c.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(i,r){1&i&&a.bIt("keydown",function(d){return r._handleKeydown(d)}),2&i&&(a.Mr5("id",r.id),a.BMQ("role",r.role)("tabindex",r._getTabIndex())("aria-label",r.ariaLabel),a.HbH("mat-"+(r.color||"primary")),a.AVh("mdc-evolution-chip",!r._isBasicChip)("mdc-evolution-chip--disabled",r.disabled)("mdc-evolution-chip--with-trailing-action",r._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",r.leadingIcon)("mdc-evolution-chip--with-primary-icon",r.leadingIcon)("mdc-evolution-chip--with-avatar",r.leadingIcon)("mat-mdc-chip-with-avatar",r.leadingIcon)("mat-mdc-chip-highlighted",r.highlighted)("mat-mdc-chip-disabled",r.disabled)("mat-mdc-basic-chip",r._isBasicChip)("mat-mdc-standard-chip",!r._isBasicChip)("mat-mdc-chip-with-trailing-icon",r._hasTrailingIcon())("_mat-animation-noopable",r._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",a.L39],highlighted:[2,"highlighted","highlighted",a.L39],disableRipple:[2,"disableRipple","disableRipple",a.L39],disabled:[2,"disabled","disabled",a.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,a.Udg)(e)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[a.Jv_([{provide:HP,useExisting:n}]),a.GFd,a.aNF],ngContentSelectors:ez,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(i,r){1&i&&(a.NAR(J6),a.nrm(0,"span",0),a.j41(1,"span",1)(2,"span",2),a.DNE(3,ite,2,0,"span",3),a.j41(4,"span",4),a.SdG(5),a.nrm(6,"span",5),a.k0s()()(),a.DNE(7,rte,2,0,"span",6)),2&i&&(a.R7$(2),a.Y8G("isInteractive",!1),a.R7$(),a.vxM(r.leadingIcon?3:-1),a.R7$(4),a.vxM(r._hasTrailingIcon()?7:-1))},dependencies:[t0],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),UC=(()=>{class n{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,i,r){this._elementRef=e,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new B.B,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new a.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=e,this._changeDetectorRef.markForCheck()})}}_getChipStream(e){return this._chips.changes.pipe((0,bo.Z)(null),pr(()=>(0,Uo.h)(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,bo.Z)(this._chips)).subscribe(e=>{const i=[];e.forEach(r=>r._getActions().forEach(c=>i.push(c))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new Kh(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(vi(this._destroyed)).subscribe(({chip:e})=>{const i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(vi(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,bo.Z)(null),vi(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(vi(this._destroyed)).subscribe(e=>{const r=this._chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.gRc),a.rXU(Ya,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-chip-set"]],contentQueries:function(i,r,c){if(1&i&&a.wni(c,lm,5),2&i){let d;a.mGM(d=a.lsd())&&(r._chips=d)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(i,r){1&i&&a.bIt("keydown",function(d){return r._handleKeydown(d)}),2&i&&a.BMQ("role",r.role)},inputs:{disabled:[2,"disabled","disabled",a.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,a.Udg)(e)]},standalone:!0,features:[a.GFd,a.aNF],ngContentSelectors:Hj,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(i,r){1&i&&(a.NAR(),a.j41(0,"div",0),a.SdG(1),a.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),GP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[mv,{provide:jP,useValue:{separatorKeyCodes:[13]}}],imports:[bi,up,bi]})}return n})(),Cte=(()=>{class n{constructor(){this.dbService=(0,a.WQX)(Cl)}replicate(){var e=this;return(0,D.A)(function*(){yield e.dbService.replicateCollection(Er.STORIES),yield e.dbService.replicateCollection(Er.CHAPTERS)})()}cleanup(){var e=this;return(0,D.A)(function*(){yield e.dbService.cleanupCollection(Er.STORIES),yield e.dbService.cleanupCollection(Er.CHAPTERS),console.log(`LOL: Running ceanup for collections: ${Er.STORIES}, ${Er.CHAPTERS}`)})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["editor"]],standalone:!0,features:[a.aNF],decls:11,vars:0,consts:[[1,"flex-container"],["mat-fab","","extended","",3,"click"],[1,"outlet-container"]],template:function(i,r){1&i&&(a.j41(0,"div",0)(1,"button",1),a.bIt("click",function(){return r.cleanup()}),a.j41(2,"mat-icon"),a.EFF(3,"cleaning_services"),a.k0s(),a.EFF(4," Cleanup "),a.k0s(),a.j41(5,"button",1),a.bIt("click",function(){return r.replicate()}),a.j41(6,"mat-icon"),a.EFF(7,"sync"),a.k0s(),a.EFF(8," Replicate "),a.k0s()(),a.j41(9,"div",2),a.nrm(10,"router-outlet"),a.k0s())},dependencies:[ro,Vh,jm,Xb,Bo,To,Vr,is,GP],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;row-gap:15px;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;width:150px}.outlet-container[_ngcontent-%COMP%]{margin-top:15px}"]})}return n})();const Ste=(n,t)=>t.id,Ate=(n,t)=>["/library/story",n,"gameboard",t];function Dte(n,t){1&n&&(a.j41(0,"h2",0),a.EFF(1),a.k0s()),2&n&&(a.R7$(),a.JRh(t.name))}function xte(n,t){1&n&&(a.j41(0,"mat-icon"),a.EFF(1,"star"),a.k0s())}function Mte(n,t){if(1&n&&(a.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),a.EFF(3),a.DNE(4,xte,2,0,"mat-icon"),a.k0s(),a.j41(5,"mat-card-subtitle"),a.EFF(6),a.k0s()(),a.j41(7,"mat-card-content"),a.EFF(8),a.k0s()()),2&n){const e=t.$implicit,i=a.XpG();a.Y8G("routerLink",a.l_i(6,Ate,i.storyId,e.id)),a.R7$(3),a.Lme(" ",e.chapter_number,": ",e.name," "),a.R7$(),a.vxM(e.is_premium?4:-1),a.R7$(2),a.JRh(e.author),a.R7$(2),a.JRh(e.description)}}let Rte=(()=>{class n{constructor(){this.dbService=(0,a.WQX)(Cl),this.story$=this.getStory()}ngOnInit(){this.story$=this.getStory()}getStory(){var e=this;return(0,D.A)(function*(){return yield e.dbService.getDocumentById(Er.STORIES,e.storyId)})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["story"]],inputs:{storyId:"storyId",chapters$:"chapters$"},standalone:!0,features:[a.aNF],decls:6,vars:7,consts:[[1,"title"],["appearance","outlined",3,"routerLink"]],template:function(i,r){if(1&i&&(a.DNE(0,Dte,2,1,"h2",0),a.nI1(1,"async"),a.nI1(2,"async"),a.Z7z(3,Mte,9,9,"mat-card",1,Ste),a.nI1(5,"async")),2&i){let c;a.vxM((c=a.bMT(2,3,a.bMT(1,1,r.story$)))?0:-1,c),a.R7$(3),a.Dyx(a.bMT(5,5,r.chapters$))}},dependencies:[ro,gi,Vh,Is,Xb,PC,kC,yj,U9,vj,Bo,To],styles:[".title[_ngcontent-%COMP%]{margin-bottom:15px}"]})}return n})();function Pte(n,t){1&n&&a.nrm(0,"div",2)}const kte=new a.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Nte=(()=>{class n{constructor(e,i,r,c,d){this._elementRef=e,this._ngZone=i,this._changeDetectorRef=r,this._animationMode=c,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new a.bkB,this._mode="determinate",this._transitionendHandler=f=>{0===this.animationEnd.observers.length||!f.target||!f.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===c,d&&(d.color&&(this.color=this._defaultColor=d.color),this.mode=d.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=sz(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=sz(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(a.gRc),a.rXU(a.bc$,8),a.rXU(kte,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(i,r){2&i&&(a.BMQ("aria-valuenow",r._isIndeterminate()?null:r.value)("mode",r.mode),a.HbH("mat-"+r.color),a.AVh("_mat-animation-noopable",r._isNoopAnimation)("mdc-linear-progress--animation-ready",!r._isNoopAnimation)("mdc-linear-progress--indeterminate",r._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",a.Udg],bufferValue:[2,"bufferValue","bufferValue",a.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[a.GFd,a.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(i,r){1&i&&(a.j41(0,"div",0),a.nrm(1,"div",1),a.DNE(2,Pte,1,0,"div",2),a.k0s(),a.j41(3,"div",3),a.nrm(4,"span",4),a.k0s(),a.j41(5,"div",5),a.nrm(6,"span",4),a.k0s()),2&i&&(a.R7$(),a.xc7("flex-basis",r._getBufferBarFlexBasis()),a.R7$(),a.vxM("buffer"===r.mode?2:-1),a.R7$(),a.xc7("transform",r._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color);border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape)}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color)}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return n})();function sz(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let Fte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[bi]})}return n})(),Lte=(()=>{class n{constructor(){this.el=(0,a.WQX)(a.aKT),this.renderer=(0,a.WQX)(a.sFG),this.listeners=[]}ngAfterViewInit(){this.createInteractiveText(this.text)}ngOnDestroy(){this.listeners.forEach(e=>{e&&e()})}createInteractiveText(e){let r=`${e}`;[...r.matchAll(/[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}/g)].forEach(d=>{const f=r.indexOf(d[0]),p=f+d[0].length,w=r.slice(0,f);this.addText(w);const A=r.slice(f,p);this.addRef(A),r=r.slice(p)}),this.addText(r)}addText(e){const i=this.renderer.createText(e);this.renderer.appendChild(this.el.nativeElement,i)}addRef(e){const i=this.renderer.createText(e),r=this.renderer.createElement("span");this.renderer.addClass(r,"ref"),this.renderer.appendChild(r,i),this.renderer.appendChild(this.el.nativeElement,r);const c=this.renderer.listen(r,"click",d=>{console.log(`LOL: Event ${d} for ID: ${e}`)});this.listeners.push(c)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["game-text"]],inputs:{text:"text"},standalone:!0,features:[a.aNF],decls:0,vars:0,template:function(i,r){},styles:[".ref[_ngcontent-%COMP%]{color:red;cursor:pointer}.ref[_ngcontent-%COMP%]:hover{color:green}"]})}return n})();function Vte(n,t){if(1&n&&(a.j41(0,"div",1),a.EFF(1),a.nI1(2,"titlecase"),a.nrm(3,"mat-progress-bar",5),a.EFF(4),a.nI1(5,"titlecase"),a.nrm(6,"mat-progress-bar",5),a.k0s()),2&n){const e=t;a.R7$(),a.SpI(" ",a.bMT(2,8,e.empathy_name),": 65 "),a.R7$(2),a.Y8G("mode","determinate")("value",65)("bufferValue",100),a.R7$(),a.SpI(" ",a.bMT(5,10,e.sympathy_name),": 100 "),a.R7$(2),a.Y8G("mode","determinate")("value",100)("bufferValue",100)}}let Bte=(()=>{class n{constructor(){this.dbService=(0,a.WQX)(Cl),this.chapter$=this.dbService.getDocumentById(Er.CHAPTERS,this.chapterId),this.text="This defines 5e0f2bd0-2b43-4df3-9542-1d4969e24f87 the ability for a flex item to grow if necessary. It accepts a unitless value that serves as a proportion. It dictates what amount of the available space inside the flex container the item should take up.\n\nIf all items have flex-grow set to 1, the fb506849-9ef5-4771-a1c0-508460bf16ce remaining space in the container will be distributed equally to all children. If one of the children has a value of 2, that child would take up twice as much of the space as either one of the others (or it will try, at least)."}ngOnInit(){this.chapter$=this.dbService.getDocumentById(Er.CHAPTERS,this.chapterId)}lol(e){return()=>console.log(`LOL pipe ${e}`)}buildRefs(e){return()=>{}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["app-gameboard"]],inputs:{chapterId:"chapterId"},standalone:!0,features:[a.aNF],decls:14,vars:6,consts:[[1,"game-container"],[1,"stats-area"],[1,"text-area",3,"text"],[1,"button-area"],["mat-fab","","extended",""],[3,"mode","value","bufferValue"]],template:function(i,r){if(1&i&&(a.j41(0,"div",0),a.DNE(1,Vte,7,12,"div",1),a.nI1(2,"async"),a.nI1(3,"async"),a.nrm(4,"game-text",2),a.j41(5,"div",3)(6,"button",4),a.EFF(7," Inventory "),a.j41(8,"mat-icon"),a.EFF(9,"business_center"),a.k0s()(),a.j41(10,"button",4),a.EFF(11," Info "),a.j41(12,"mat-icon"),a.EFF(13,"menu_book"),a.k0s()()()()),2&i){let c;a.R7$(),a.vxM((c=a.bMT(3,4,a.bMT(2,2,r.chapter$)))?1:-1,c),a.R7$(3),a.Y8G("text",r.text)}},dependencies:[ro,gi,Ou,Vr,is,Bo,To,Fte,Nte,Lte],styles:[".game-container[_ngcontent-%COMP%]{height:90vh;display:flex;flex-direction:column;align-content:stretch;justify-content:space-between}.stats-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1}.stats-area[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px}.text-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:7;outline:2px solid white;padding:15px;font-size:18px;line-height:25px}.button-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:2;display:flex;flex-wrap:wrap;align-content:center;justify-content:space-around;row-gap:15px}.button-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:70px}"]})}return n})(),Ute=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}guestLogin(){this.authService.anonymousLogin().then(()=>{console.log("LOL: Logging in as guest"),this.router.navigate(["/library"])})}googleLogin(){this.authService.googleLogin().then(()=>{console.log("LOL: Login via google"),this.router.navigate(["/library"])})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(jc),a.rXU(gr))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["start"]],standalone:!0,features:[a.aNF],decls:9,vars:0,consts:[[1,"start-container"],["src","assets/interface/Detective.jpg","alt","Detective"],["mat-fab","","extended","",3,"click"],["mat-fab","","extended","","routerLink","/signin"]],template:function(i,r){1&i&&(a.j41(0,"div",0)(1,"div"),a.nrm(2,"img",1),a.k0s(),a.j41(3,"button",2),a.bIt("click",function(){return r.guestLogin()}),a.EFF(4,"Sign in as Guest"),a.k0s(),a.j41(5,"button",3),a.EFF(6,"Sign in via email"),a.k0s(),a.j41(7,"button",2),a.bIt("click",function(){return r.googleLogin()}),a.EFF(8,"Sign in via Google"),a.k0s()())},dependencies:[Is,Vr,is],styles:[".start-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:90vh;align-items:center;justify-content:space-around}.start-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:300px}"]})}return n})();const jte=(n,t)=>t.id,Hte=n=>["/library/story",n];function $te(n,t){if(1&n&&(a.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),a.EFF(3),a.k0s()(),a.j41(4,"mat-card-content"),a.EFF(5),a.k0s()()),2&n){const e=t.$implicit,i=t.$index;a.Y8G("routerLink",a.eq3(4,Hte,e.id)),a.R7$(3),a.Lme("",i," ",e.name,""),a.R7$(2),a.SpI(" ",e.description," ")}}let Gte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["library"]],inputs:{stories$:"stories$"},standalone:!0,features:[a.aNF],decls:6,vars:2,consts:[["appearance","outlined",3,"routerLink"]],template:function(i,r){1&i&&(a.j41(0,"h3"),a.EFF(1,"Stories"),a.k0s(),a.nrm(2,"router-outlet"),a.Z7z(3,$te,6,6,"mat-card",0,jte),a.nI1(5,"async")),2&i&&(a.R7$(3),a.Dyx(a.bMT(5,0,r.stories$)))},dependencies:[ro,gi,Vh,jm,Is,Xb,PC,kC,yj,vj],styles:[".mat-mdc-card-content[_ngcontent-%COMP%]:hover{color:red}"]})}return n})();function zte(n,t){}class zP{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let az=(()=>{class n extends bp{constructor(e,i,r,c,d,f,p,w){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=c,this._interactivityChecker=d,this._ngZone=f,this._overlayRef=p,this._focusMonitor=w,this._platform=(0,a.WQX)(Gi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,a.WQX)(a.gRc),this._injector=(0,a.WQX)(a.zZn),this._isDestroyed=!1,this.attachDomPortal=A=>{this._portalOutlet.hasAttached();const R=this._portalOutlet.attachDomPortal(A);return this._contentAttached(),R},this._document=r,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const i=this._ariaLabelledByQueue.indexOf(e);i>-1&&(this._ariaLabelledByQueue.splice(i,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){this._isDestroyed||(0,a.mal)(()=>{const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Zm(),c=this._elementRef.nativeElement;(!r||r===this._document.body||r===c||c.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Zm();return e===i||e.contains(i)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Zm()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(np),a.rXU(Se,8),a.rXU(zP),a.rXU(NE),a.rXU(a.SKi),a.rXU(kw),a.rXU(Ac))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(i,r){if(1&i&&a.GBs(cd,7),2&i){let c;a.mGM(c=a.lsd())&&(r._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(i,r){2&i&&a.BMQ("id",r._config.id||null)("role",r._config.role)("aria-modal",r._config.ariaModal)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null)},standalone:!0,features:[a.Vt3,a.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(i,r){1&i&&a.DNE(0,zte,0,0,"ng-template",0)},dependencies:[cd],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class Wj{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new B.B,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Sa(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const cz=new a.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(jo);return()=>n.scrollStrategies.block()}}),Wte=new a.nKC("DialogData"),Kte=new a.nKC("DefaultDialogConfig");let Xte=0,lz=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,i,r,c,d,f){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=c,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new B.B,this._afterOpenedAtThisLevel=new B.B,this._ariaHiddenElements=new Map,this.afterAllClosed=tn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,bo.Z)(void 0))),this._scrollStrategy=f}open(e,i){(i={...this._defaultOptions||new zP,...i}).id=i.id||"cdk-dialog-"+Xte++,i.id&&this.getDialogById(i.id);const c=this._getOverlayConfig(i),d=this._overlay.create(c),f=new Wj(d,i),p=this._attachContainer(d,f,i);return f.containerInstance=p,this._attachDialogContent(e,f,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){Kj(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){Kj(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Kj(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Bv({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const c=r.injector||r.viewContainerRef?.injector,d=[{provide:zP,useValue:r},{provide:Wj,useValue:i},{provide:kw,useValue:e}];let f;r.container?"function"==typeof r.container?f=r.container:(f=r.container.type,d.push(...r.container.providers(r))):f=az;const p=new df(f,r.viewContainerRef,a.zZn.create({parent:c||this._injector,providers:d}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,c){if(e instanceof a.C4Q){const d=this._createInjector(c,i,r,void 0);let f={$implicit:c.data,dialogRef:i};c.templateContext&&(f={...f,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),r.attachTemplatePortal(new iu(e,null,f,d))}else{const d=this._createInjector(c,i,r,this._injector),f=r.attachComponentPortal(new df(e,c.viewContainerRef,d,c.componentFactoryResolver));i.componentRef=f,i.componentInstance=f.instance}}_createInjector(e,i,r,c){const d=e.injector||e.viewContainerRef?.injector,f=[{provide:Wte,useValue:e.data},{provide:Wj,useValue:i}];return e.providers&&("function"==typeof e.providers?f.push(...e.providers(i,e,r)):f.push(...e.providers)),e.direction&&(!d||!d.get(Ya,null,{optional:!0}))&&f.push({provide:Ya,useValue:{value:e.direction,change:Y()}}),a.zZn.create({parent:d||c,providers:f})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,d)=>{c?d.setAttribute("aria-hidden",c):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const c=i[r];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(jo),a.KVO(a.zZn),a.KVO(Kte,8),a.KVO(n,12),a.KVO(wp),a.KVO(cz))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kj(n,t){let e=n.length;for(;e--;)t(n[e])}let Qte=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[lz],imports:[Tp,ld,aN,ld]})}return n})();function Yte(n,t){}class qj{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Xj="mdc-dialog--open",uz="mdc-dialog--opening",dz="mdc-dialog--closing";let hz=(()=>{class n extends az{constructor(e,i,r,c,d,f,p,w,A){super(e,i,r,c,d,f,p,A),this._animationMode=w,this._animationStateChanged=new a.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?mz(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?mz(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(fz,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(uz,Xj)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Xj),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Xj),this._animationsEnabled?(this._hostElement.style.setProperty(fz,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(dz)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(uz,dz)}_waitForAnimationToComplete(e,i){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(i,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const i=super.attachComponentPortal(e);return i.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),i}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(np),a.rXU(Se,8),a.rXU(qj),a.rXU(NE),a.rXU(a.SKi),a.rXU(kw),a.rXU(a.bc$,8),a.rXU(Ac))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(i,r){2&i&&(a.Mr5("id",r._config.id),a.BMQ("aria-modal",r._config.ariaModal)("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledByQueue[0])("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),a.AVh("_mat-animation-noopable",!r._animationsEnabled)("mat-mdc-dialog-container-with-actions",r._actionSectionCount>0))},standalone:!0,features:[a.Vt3,a.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(a.j41(0,"div",0)(1,"div",1),a.DNE(2,Yte,0,0,"ng-template",2),a.k0s()())},dependencies:[cd],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return n})();const fz="--mat-dialog-transition-duration";function mz(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?sv(n.substring(0,n.length-2)):n.endsWith("s")?1e3*sv(n.substring(0,n.length-1)):"0"===n?0:null}var WP=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(WP||{});class Qj{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new B.B,this._beforeClosed=new B.B,this._state=WP.OPEN,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),i._animationStateChanged.pipe((0,kn.p)(r=>"opened"===r.state),Xi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,kn.p)(r=>"closed"===r.state),Xi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Uo.h)(this.backdropClick(),this.keydownEvents().pipe((0,kn.p)(r=>27===r.keyCode&&!this.disableClose&&!Sa(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),pz(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe((0,kn.p)(e=>"closing"===e.state),Xi(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=WP.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=WP.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function pz(n,t,e){return n._closeInteractionType=t,n.close(e)}const KP=new a.nKC("MatMdcDialogData"),ene=new a.nKC("mat-mdc-dialog-default-options"),gz=new a.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(jo);return()=>n.scrollStrategies.block()}});let nne=0,zg=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,i,r,c,d,f,p,w){this._overlay=e,this._defaultOptions=c,this._scrollStrategy=d,this._parentDialog=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new B.B,this._afterOpenedAtThisLevel=new B.B,this.dialogConfigClass=qj,this.afterAllClosed=tn(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,bo.Z)(void 0))),this._dialog=i.get(lz),this._dialogRefConstructor=Qj,this._dialogContainerType=hz,this._dialogDataToken=KP}open(e,i){let r;(i={...this._defaultOptions||new qj,...i}).id=i.id||"mat-mdc-dialog-"+nne++,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:i},{provide:zP,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(d,f,p)=>(r=new this._dialogRefConstructor(d,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentRef=c.componentRef,r.componentInstance=c.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(r);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(jo),a.KVO(a.zZn),a.KVO(Nn,8),a.KVO(ene,8),a.KVO(gz),a.KVO(n,12),a.KVO(wp),a.KVO(a.bc$,8))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ine=0,qP=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=vz(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){pz(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Qj,8),a.rXU(a.aKT),a.rXU(zg))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(i,r){1&i&&a.bIt("click",function(d){return r._onButtonClick(d)}),2&i&&a.BMQ("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[a.OA$]})}return n})(),_z=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r}ngOnInit(){this._dialogRef||(this._dialogRef=vz(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Qj,8),a.rXU(a.aKT),a.rXU(zg))};static#t=this.\u0275dir=a.FsC({type:n,standalone:!0})}return n})(),XP=(()=>{class n extends _z{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+ine++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(i,r){2&i&&a.Mr5("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[a.Vt3]})}return n})(),QP=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[a.nM4([_F])]})}return n})(),YP=(()=>{class n extends _z{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(i,r){2&i&&a.AVh("mat-mdc-dialog-actions-align-start","start"===r.align)("mat-mdc-dialog-actions-align-center","center"===r.align)("mat-mdc-dialog-actions-align-end","end"===r.align)},inputs:{align:"align"},standalone:!0,features:[a.Vt3]})}return n})();function vz(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}let rne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[zg],imports:[Qte,Tp,ld,bi,bi]})}return n})(),bz=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(KP))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["delete-confirmation"]],standalone:!0,features:[a.aNF],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""],["mat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(i,r){1&i&&(a.j41(0,"h2",0),a.EFF(1,"Delete element"),a.k0s(),a.j41(2,"mat-dialog-content"),a.EFF(3),a.k0s(),a.j41(4,"mat-dialog-actions")(5,"button",1),a.EFF(6,"No"),a.k0s(),a.j41(7,"button",2),a.bIt("click",function(){return r.data.deleteFunction()}),a.EFF(8,"Ok"),a.k0s()()),2&i&&(a.R7$(3),a.E5c(" Do you want to delete ",r.data.name," (ID: ",r.data.id,") from ",r.data.collection,"? "))},dependencies:[Vr,nu,XP,QP,YP,qP],changeDetection:0})}return n})();const one=(n,t)=>t.id,sne=()=>["/editor/stories",null],ane=n=>["/editor/stories",n],cne=n=>["/editor/stories",n,"chapters"];function lne(n,t){if(1&n){const e=a.RV6();a.j41(0,"mat-card",3)(1,"mat-card-content"),a.EFF(2),a.k0s(),a.j41(3,"mat-card-footer",4)(4,"mat-chip-set",5)(5,"mat-chip",6)(6,"mat-icon"),a.EFF(7,"edit"),a.k0s(),a.EFF(8," Edit "),a.k0s(),a.j41(9,"mat-chip",7),a.bIt("click",function(){const r=a.eBV(e).$implicit,c=a.XpG();return a.Njj(c.delete(r))}),a.j41(10,"mat-icon"),a.EFF(11,"delete"),a.k0s(),a.EFF(12," Delete "),a.k0s(),a.j41(13,"mat-chip",6)(14,"mat-icon"),a.EFF(15,"edit_square"),a.k0s(),a.EFF(16," Chapters "),a.k0s()()()()}if(2&n){const e=t.$implicit,i=t.$index;a.R7$(2),a.Lme("",i," ",e.name,""),a.R7$(3),a.Y8G("routerLink",a.eq3(4,ane,e.id)),a.R7$(8),a.Y8G("routerLink",a.eq3(6,cne,e.id))}}let une=(()=>{class n{constructor(){this.dbService=(0,a.WQX)(Cl),this.dialog=(0,a.WQX)(zg),this.stories$=this.getStories()}getStories(){var e=this;return(0,D.A)(function*(){return yield e.dbService.getAllCollectionDocs(Er.STORIES)})()}addStory(e){return this.dbService.addDocument(Er.STORIES,e)}delete(e){this.dialog.open(bz,{data:{id:e.id,name:e.name,collection:Er.STORIES,deleteFunction:()=>this.deleteStory(e)}})}deleteStory(e){console.log(`LOL: Deleting story: ${e.name}: ${e.id}`),this.dbService.deleteDocument(Er.STORIES,e.id)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["editor-stories"]],standalone:!0,features:[a.aNF],decls:10,vars:6,consts:[[1,"edit-stories-container"],["mat-fab","","extended","",1,"button-container",3,"routerLink"],[1,"stories"],["appearance","outlined"],[1,"card-footer"],["aria-label","Story-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(i,r){1&i&&(a.j41(0,"div",0)(1,"a",1)(2,"mat-icon"),a.EFF(3,"add"),a.k0s(),a.EFF(4," Add story "),a.k0s(),a.j41(5,"div",2),a.Z7z(6,lne,17,8,"mat-card",3,one),a.nI1(8,"async"),a.nI1(9,"async"),a.k0s()()),2&i&&(a.R7$(),a.Y8G("routerLink",a.lJ4(5,sne)),a.R7$(5),a.Dyx(a.bMT(9,3,a.bMT(8,1,r.stories$))))},dependencies:[ro,gi,Vh,Is,Xb,PC,kC,bj,Bo,To,Vr,Mc,GP,lm,UC],styles:[".edit-stories-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-stories-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin-top:15px}.stories[_ngcontent-%COMP%]{height:70vh;overflow-y:auto;margin-top:15px}.card-footer[_ngcontent-%COMP%]{padding:15px}"]})}return n})();const dne=(n,t)=>t.id,hne=n=>["/editor/stories",n,"chapters",null],fne=(n,t)=>["/editor/stories",n,"chapters",t],mne=(n,t)=>["/editor/stories",n,"chapters",t,"pages"];function pne(n,t){1&n&&(a.j41(0,"h3"),a.EFF(1),a.nI1(2,"titlecase"),a.k0s()),2&n&&(a.R7$(),a.SpI("",a.bMT(2,1,t.name)," chapters"))}function gne(n,t){if(1&n){const e=a.RV6();a.j41(0,"mat-card",3)(1,"mat-card-content"),a.EFF(2),a.k0s(),a.j41(3,"mat-card-footer",4)(4,"mat-chip-set",5)(5,"mat-chip",6)(6,"mat-icon"),a.EFF(7,"edit"),a.k0s(),a.EFF(8," Edit "),a.k0s(),a.j41(9,"mat-chip",7),a.bIt("click",function(){const r=a.eBV(e).$implicit,c=a.XpG();return a.Njj(c.delete(r))}),a.j41(10,"mat-icon"),a.EFF(11,"delete"),a.k0s(),a.EFF(12," Delete "),a.k0s(),a.j41(13,"mat-chip",6)(14,"mat-icon"),a.EFF(15,"auto_stories"),a.k0s(),a.EFF(16," Pages "),a.k0s()()()()}if(2&n){const e=t.$implicit,i=t.$index,r=a.XpG();a.R7$(2),a.Lme("",i," ",e.name,""),a.R7$(3),a.Y8G("routerLink",a.l_i(4,fne,r.storyId,e.id)),a.R7$(8),a.Y8G("routerLink",a.l_i(7,mne,r.storyId,e.id))}}let _ne=(()=>{class n{constructor(){this.dbService=(0,a.WQX)(Cl),this.dialog=(0,a.WQX)(zg)}delete(e){var i=this;return(0,D.A)(function*(){i.dialog.open(bz,{data:{id:e.id,name:e.name,collection:Er.CHAPTERS,deleteFunction:()=>i.deleteChapter(e)}})})()}deleteChapter(e){console.log(`LOL: Deleting chapter: ${e.name}: ${e.id}`),this.dbService.deleteDocument(Er.CHAPTERS,e.id)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["editor-chapters"]],inputs:{storyId:"storyId",chapters$:"chapters$",story$:"story$"},standalone:!0,features:[a.aNF],decls:14,vars:8,consts:[[1,"flex-container"],["mat-fab","","extended","",1,"button-container",3,"routerLink"],["mat-fab","","extended","","routerLink","/editor/stories",1,"button-container"],["appearance","outlined"],[1,"card-footer"],["aria-label","chapter-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(i,r){if(1&i&&(a.j41(0,"div",0)(1,"a",1)(2,"mat-icon"),a.EFF(3,"add"),a.k0s(),a.EFF(4," Add chapter "),a.k0s(),a.j41(5,"a",2)(6,"mat-icon"),a.EFF(7,"arrow_back"),a.k0s(),a.EFF(8," Stories "),a.k0s()(),a.DNE(9,pne,3,3,"h3"),a.nI1(10,"async"),a.Z7z(11,gne,17,10,"mat-card",3,dne),a.nI1(13,"async")),2&i){let c;a.R7$(),a.Y8G("routerLink",a.eq3(6,hne,r.storyId)),a.R7$(8),a.vxM((c=a.bMT(10,2,r.story$))?9:-1,c),a.R7$(2),a.Dyx(a.bMT(13,4,r.chapters$))}},dependencies:[ro,gi,Ou,Vh,Is,Xb,PC,kC,bj,Bo,To,Vr,Mc,GP,lm,UC],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;row-gap:15px;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .flex-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;width:150px}.card-footer[_ngcontent-%COMP%]{padding:15px}"]})}return n})();class Yj{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new B.B,e&&e.length&&(t?e.forEach(c=>this._markSelected(c)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(c=>this._markSelected(c)),e.filter(c=>!i.has(this._getConcreteValue(c,i))).forEach(c=>this._unmarkSelected(c));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let i of e)if(this.compareWith(t,i))return i;return t}return t}}let Ez=(()=>{class n{constructor(){this._listeners=[]}notify(e,i){for(let r of this._listeners)r(e,i)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(i=>e!==i)}}ngOnDestroy(){this._listeners=[]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const yne=["trigger"],bne=["panel"],Ene=[[["mat-select-trigger"]],"*"],wne=["mat-select-trigger","*"];function Ine(n,t){if(1&n&&(a.j41(0,"span",4),a.EFF(1),a.k0s()),2&n){const e=a.XpG();a.R7$(),a.JRh(e.placeholder)}}function Tne(n,t){1&n&&a.SdG(0)}function Cne(n,t){if(1&n&&(a.j41(0,"span",11),a.EFF(1),a.k0s()),2&n){const e=a.XpG(2);a.R7$(),a.JRh(e.triggerValue)}}function Sne(n,t){if(1&n&&(a.j41(0,"span",5),a.DNE(1,Tne,1,0)(2,Cne,2,1,"span",11),a.k0s()),2&n){const e=a.XpG();a.R7$(),a.vxM(e.customTrigger?1:2)}}function Ane(n,t){if(1&n){const e=a.RV6();a.j41(0,"div",12,1),a.bIt("@transformPanel.done",function(r){a.eBV(e);const c=a.XpG();return a.Njj(c._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){a.eBV(e);const c=a.XpG();return a.Njj(c._handleKeydown(r))}),a.SdG(2,1),a.k0s()}if(2&n){const e=a.XpG();a.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),a.Y8G("ngClass",e.panelClass)("@transformPanel","showing"),a.BMQ("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Dne={transformPanelWrap:(0,en.hZ)("transformPanelWrap",[(0,en.kY)("* => void",(0,en.P)("@transformPanel",[(0,en.MA)()],{optional:!0}))]),transformPanel:(0,en.hZ)("transformPanel",[(0,en.wk)("void",(0,en.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,en.kY)("void => showing",(0,en.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,en.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,en.kY)("* => void",(0,en.i0)("100ms linear",(0,en.iF)({opacity:0})))])};let wz=0;const Iz=new a.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,a.WQX)(jo);return()=>n.scrollStrategies.reposition()}}),Mne=new a.nKC("MAT_SELECT_CONFIG"),Rne={provide:Iz,deps:[jo],useFactory:function xne(n){return()=>n.scrollStrategies.reposition()}},Pne=new a.nKC("MatSelectTrigger");class kne{constructor(t,e){this.source=t,this.value=e}}let Tz=(()=>{class n{_scrollOptionIntoView(e){const i=this.options.toArray()[e];if(i){const r=this.panel.nativeElement,c=function pD(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),c=0;for(let d=0;d<n+1;d++)i[d].group&&i[d].group===r[c]&&c++;return c}return 0}(e,this.options,this.optionGroups),d=i._getHostElement();r.scrollTop=0===e&&1===c?0:function gD(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}(d.offsetTop,d.offsetHeight,r.scrollTop,r.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new kne(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Vi.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,c,d,f,p,w,A,R,U,K,me,fe){this._viewportRuler=e,this._changeDetectorRef=i,this._elementRef=d,this._dir=f,this._parentFormField=A,this.ngControl=R,this._liveAnnouncer=me,this._defaultOptions=fe,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(he,ht)=>he===ht,this._uid="mat-select-"+wz++,this._triggerAriaLabelledBy=null,this._destroy=new B.B,this.stateChanges=new B.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+wz++,this._panelDoneAnimatingStream=new B.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new B.B,this.optionSelectionChanges=tn(()=>{const he=this.options;return he?he.changes.pipe((0,bo.Z)(he),pr(()=>(0,Uo.h)(...he.map(ht=>ht.onSelectionChange)))):this._initialized.pipe(pr(()=>this.optionSelectionChanges))}),this.openedChange=new a.bkB,this._openedStream=this.openedChange.pipe((0,kn.p)(he=>he),(0,De.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,kn.p)(he=>!he),(0,De.T)(()=>{})),this.selectionChange=new a.bkB,this.valueChange=new a.bkB,this._trackedModal=null,this._skipPredicate=he=>!this.panelOpen&&he.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=fe?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=fe.typeaheadDebounceInterval),this._errorStateTracker=new wo(c,R,w,p,this.stateChanges),this._scrollStrategyFactory=K,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(U)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Yj(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,VA.F)(),vi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(vi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(vi(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe((0,bo.Z)(null),vi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const i=`${this.id}-panel`;this._trackedModal&&Ts(this._trackedModal,"aria-owns",i),function Wh(n,t,e){const i=ts(n,t);e=e.trim(),!i.some(r=>r.trim()===e)&&(i.push(e),n.setAttribute(t,i.join(" ")))}(e,"aria-owns",i),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(Ts(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,c=13===i||32===i,d=this._keyManager;if(!d.isTyping()&&c&&!Sa(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;d.onKeydown(e);const p=this.selected;p&&f!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,c=40===r||38===r,d=i.isTyping();if(c&&e.altKey)e.preventDefault(),this.close();else if(d||13!==r&&32!==r||!i.activeItem||Sa(e))if(!d&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const f=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(f?p.select():p.deselect())})}else{const f=i.activeItemIndex;i.onKeydown(e),this._multiple&&c&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==f&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Xi(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof Ip?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new lv(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Uo.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(vi(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Uo.h)(...this.options.map(i=>i._stateChanges)).pipe(vi(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let i=0;i<this.options.length;i++)if(!this.options.get(i).disabled){e=i;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(_x),a.rXU(a.gRc),a.rXU(a.SKi),a.rXU(mv),a.rXU(a.aKT),a.rXU(Ya,8),a.rXU(Jb,8),a.rXU(ta,8),a.rXU(UP,8),a.rXU(Sl,10),a.kS0("tabindex"),a.rXU(Iz),a.rXU(rp),a.rXU(Mne,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-select"]],contentQueries:function(i,r,c){if(1&i&&(a.wni(c,Pne,5),a.wni(c,ed,5),a.wni(c,tw,5)),2&i){let d;a.mGM(d=a.lsd())&&(r.customTrigger=d.first),a.mGM(d=a.lsd())&&(r.options=d),a.mGM(d=a.lsd())&&(r.optionGroups=d)}},viewQuery:function(i,r){if(1&i&&(a.GBs(yne,5),a.GBs(bne,5),a.GBs(Tx,5)),2&i){let c;a.mGM(c=a.lsd())&&(r.trigger=c.first),a.mGM(c=a.lsd())&&(r.panel=c.first),a.mGM(c=a.lsd())&&(r._overlayDir=c.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(i,r){1&i&&a.bIt("keydown",function(d){return r._handleKeydown(d)})("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()}),2&i&&(a.BMQ("id",r.id)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r.panelOpen?r.id+"-panel":null)("aria-expanded",r.panelOpen)("aria-label",r.ariaLabel||null)("aria-required",r.required.toString())("aria-disabled",r.disabled.toString())("aria-invalid",r.errorState)("aria-activedescendant",r._getAriaActiveDescendant()),a.AVh("mat-mdc-select-disabled",r.disabled)("mat-mdc-select-invalid",r.errorState)("mat-mdc-select-required",r.required)("mat-mdc-select-empty",r.empty)("mat-mdc-select-multiple",r.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",a.L39],disableRipple:[2,"disableRipple","disableRipple",a.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,a.Udg)(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",a.L39],placeholder:"placeholder",required:[2,"required","required",a.L39],multiple:[2,"multiple","multiple",a.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",a.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",a.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[a.Jv_([{provide:BP,useExisting:n},{provide:mD,useExisting:n}]),a.GFd,a.OA$,a.aNF],ngContentSelectors:wne,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(i,r){if(1&i){const c=a.RV6();a.NAR(Ene),a.j41(0,"div",2,0),a.bIt("click",function(){return a.eBV(c),a.Njj(r.open())}),a.j41(3,"div",3),a.DNE(4,Ine,2,1,"span",4)(5,Sne,3,1,"span",5),a.k0s(),a.j41(6,"div",6)(7,"div",7),a.qSk(),a.j41(8,"svg",8),a.nrm(9,"path",9),a.k0s()()()(),a.DNE(10,Ane,3,9,"ng-template",10),a.bIt("backdropClick",function(){return a.eBV(c),a.Njj(r.close())})("attach",function(){return a.eBV(c),a.Njj(r._onAttached())})("detach",function(){return a.eBV(c),a.Njj(r.close())})}if(2&i){const c=a.sdS(1);a.R7$(3),a.BMQ("id",r._valueId),a.R7$(),a.vxM(r.empty?4:5),a.R7$(6),a.Y8G("cdkConnectedOverlayPanelClass",r._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",r._scrollStrategy)("cdkConnectedOverlayOrigin",r._preferredOverlayOrigin||c)("cdkConnectedOverlayOpen",r.panelOpen)("cdkConnectedOverlayPositions",r._positions)("cdkConnectedOverlayWidth",r._overlayWidth)}},dependencies:[Ip,Tx,Vs],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Dne.transformPanel]},changeDetection:0})}return n})(),Cz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({providers:[Rne],imports:[ro,Tp,_D,bi,Rw,xl,_D,bi]})}return n})();const Sz=jh({passive:!0});let One=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ge.w;const i=Jl(e),r=this._monitoredElements.get(i);if(r)return r.subject;const c=new B.B,d="cdk-text-field-autofilled",f=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(d)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(d)&&(i.classList.remove(d),this._ngZone.run(()=>c.next({target:p.target,isAutofilled:!1}))):(i.classList.add(d),this._ngZone.run(()=>c.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,Sz),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:c,unlisten:()=>{i.removeEventListener("animationstart",f,Sz)}}),c}stopMonitoring(e){const i=Jl(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(Gi),a.KVO(a.SKi))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Nne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();const Fne=new a.nKC("MAT_INPUT_VALUE_ACCESSOR"),Lne=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Vne=0,Zd=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Gs(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Vi.required)??!1}set required(e){this._required=Gs(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&vO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Gs(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,i,r,c,d,f,p,w,A,R){this._elementRef=e,this._platform=i,this.ngControl=r,this._autofillMonitor=w,this._formField=R,this._uid="mat-input-"+Vne++,this.focused=!1,this.stateChanges=new B.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(me=>vO().has(me)),this._iOSKeyupListener=me=>{const fe=me.target;!fe.value&&0===fe.selectionStart&&0===fe.selectionEnd&&(fe.setSelectionRange(1,1),fe.setSelectionRange(0,0))};const U=this._elementRef.nativeElement,K=U.nodeName.toLowerCase();this._inputValueAccessor=p||U,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&A.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new wo(f,r,d,c,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=U.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Lne.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(Gi),a.rXU(Sl,10),a.rXU(Jb,8),a.rXU(ta,8),a.rXU(mv),a.rXU(Fne,10),a.rXU(One),a.rXU(a.SKi),a.rXU(UP,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&a.bIt("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(a.Mr5("id",r.id)("disabled",r.disabled)("required",r.required),a.BMQ("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),a.AVh("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[a.Jv_([{provide:BP,useExisting:n}]),a.OA$]})}return n})(),Jd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[bi,xl,xl,Nne,bi]})}return n})();var eh=function(n){return n.ENGLISH="en",n.POLISH="pl",n}(eh||{});function Bne(n,t){if(1&n&&(a.j41(0,"mat-option",5),a.EFF(1),a.k0s()),2&n){const e=t.$implicit;a.Y8G("value",e),a.R7$(),a.JRh(e)}}let Une=(()=>{class n{constructor(){this.availableLanguages=Object.values(eh),this.story=null,this.formBuilder=(0,a.WQX)(Xd),this.dbService=(0,a.WQX)(Cl),this.router=(0,a.WQX)(gr),this.storySubscription=null,this.storyEditForm=this.formBuilder.group({id:[""],name:["",Vi.required],languages:[[],Vi.required],description:[""]})}ngOnInit(){this.setupStory()}ngOnDestroy(){this.storySubscription&&this.storySubscription.unsubscribe()}setupStory(){console.log(`LOL: StoryID: ${this.storyId}`),this.storyId&&(this.storySubscription=this.story$.subscribe(e=>{console.log(`LOL: Story: ${JSON.stringify(e)}`),this.story=e,this.storyEditForm.patchValue({id:this.story?.id,name:this.story?.name,languages:this.story?.languages,description:this.story?.description})}))}save(){var e=this;return(0,D.A)(function*(){const i=yield e.saveStory();e.updateInterface(i,!e.story?.id)})()}saveStory(){var e=this;return(0,D.A)(function*(){const i=e.storyEditForm.value;if(!i.name||!i.languages?.length)throw new Error("LOL Error on saving the story because of the missing required values");const r={name:i.name,languages:i.languages.map(c=>eh[Object.keys(eh)[Object.values(eh).indexOf(c)]]),description:i.description};if(e.story?.id){const c={...r,id:e.story.id};return yield e.editStory(e.story.id,c)}return yield e.addStory(r)})()}addStory(e){return this.dbService.addDocument(Er.STORIES,e)}editStory(e,i){return this.dbService.updateDocument(Er.STORIES,e,i)}updateInterface(e,i=!1){this.story={...this.story,...e,id:e.id},i&&(this.router.navigate(["/editor/stories",e.id]),this.storyEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["story-edit-form"]],inputs:{storyId:"storyId",story$:"story$"},standalone:!0,features:[a.aNF],decls:28,vars:2,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly","","placeholder","Save story to add id"],["matInput","","type","text","formControlName","name"],["multiple","","formControlName","languages"],[3,"value"],["matInput","","placeholder","A short description of the story content","formControlName","description"],[1,"button-container"],["mat-fab","","extended","","routerLink","/editor"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(i,r){1&i&&(a.j41(0,"form",0),a.bIt("ngSubmit",function(){return r.save()}),a.j41(1,"mat-form-field",1)(2,"mat-label"),a.EFF(3,"Story id"),a.k0s(),a.nrm(4,"input",2),a.k0s(),a.j41(5,"mat-form-field")(6,"mat-label"),a.EFF(7,"Story name"),a.k0s(),a.nrm(8,"input",3),a.k0s(),a.j41(9,"mat-form-field")(10,"mat-label"),a.EFF(11,"Languages"),a.k0s(),a.j41(12,"mat-select",4),a.Z7z(13,Bne,2,2,"mat-option",5,a.Vm6),a.k0s()(),a.j41(15,"mat-form-field")(16,"mat-label"),a.EFF(17,"Description"),a.k0s(),a.nrm(18,"textarea",6),a.k0s(),a.j41(19,"div",7)(20,"button",8)(21,"mat-icon"),a.EFF(22,"arrow_back"),a.k0s(),a.EFF(23," Back "),a.k0s(),a.j41(24,"button",9)(25,"mat-icon"),a.EFF(26,"save"),a.k0s(),a.EFF(27," Save story "),a.k0s()()()),2&i&&(a.Y8G("formGroup",r.storyEditForm),a.R7$(13),a.Dyx(r.availableLanguages),a.R7$(11),a.Y8G("disabled",!r.storyEditForm.valid))},dependencies:[Is,Qd,Su,Hc,Tu,Cu,ta,Al,Cz,Yd,Dl,Tz,ed,Jd,Zd,xl,Bo,To,Vr,is],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between}"]})}return n})();const jne=["switch"],Hne=["*"];function $ne(n,t){1&n&&(a.j41(0,"div",10),a.qSk(),a.j41(1,"svg",12),a.nrm(2,"path",13),a.k0s(),a.j41(3,"svg",14),a.nrm(4,"path",15),a.k0s()())}const Gne=new a.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),zne={provide:Oa,useExisting:(0,a.Rfq)(()=>Zj),multi:!0};class Az{constructor(t,e){this.source=t,this.checked=e}}let Wne=0,Zj=(()=>{class n{_createChangeEvent(e){return new Az(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,i,r,c,d,f){this._elementRef=e,this._focusMonitor=i,this._changeDetectorRef=r,this.defaults=d,this._onChange=p=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new a.bkB,this.toggleChange=new a.bkB,this.tabIndex=parseInt(c)||0,this.color=d.color||"accent",this._noopAnimations="NoopAnimations"===f,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++Wne,this.hideIcon=d.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&!0!==e.value?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new Az(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(Ac),a.rXU(a.gRc),a.kS0("tabindex"),a.rXU(Gne),a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(i,r){if(1&i&&a.GBs(jne,5),2&i){let c;a.mGM(c=a.lsd())&&(r._switchElement=c.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(i,r){2&i&&(a.Mr5("id",r.id),a.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),a.HbH(r.color?"mat-"+r.color:""),a.AVh("mat-mdc-slide-toggle-focused",r._focused)("mat-mdc-slide-toggle-checked",r.checked)("_mat-animation-noopable",r._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",a.L39],color:"color",disabled:[2,"disabled","disabled",a.L39],disableRipple:[2,"disableRipple","disableRipple",a.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,a.Udg)(e)],checked:[2,"checked","checked",a.L39],hideIcon:[2,"hideIcon","hideIcon",a.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[a.Jv_([zne,{provide:Do,useExisting:n,multi:!0}]),a.GFd,a.OA$,a.aNF],ngContentSelectors:Hne,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(i,r){if(1&i){const c=a.RV6();a.NAR(),a.j41(0,"div",1)(1,"button",2,0),a.bIt("click",function(){return a.eBV(c),a.Njj(r._handleClick())}),a.nrm(3,"div",3),a.j41(4,"div",4)(5,"div",5)(6,"div",6),a.nrm(7,"div",7),a.k0s(),a.j41(8,"div",8),a.nrm(9,"div",9),a.k0s(),a.DNE(10,$ne,5,0,"div",10),a.k0s()()(),a.j41(11,"label",11),a.bIt("click",function(f){return a.eBV(c),a.Njj(f.stopPropagation())}),a.SdG(12),a.k0s()()}if(2&i){const c=a.sdS(2);a.Y8G("labelPosition",r.labelPosition),a.R7$(),a.AVh("mdc-switch--selected",r.checked)("mdc-switch--unselected",!r.checked)("mdc-switch--checked",r.checked)("mdc-switch--disabled",r.disabled),a.Y8G("tabIndex",r.disabled?-1:r.tabIndex)("disabled",r.disabled),a.BMQ("id",r.buttonId)("name",r.name)("aria-label",r.ariaLabel)("aria-labelledby",r._getAriaLabelledBy())("aria-describedby",r.ariaDescribedby)("aria-required",r.required||null)("aria-checked",r.checked),a.R7$(8),a.Y8G("matRippleTrigger",c)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0),a.R7$(),a.vxM(r.hideIcon?-1:10),a.R7$(),a.Y8G("for",r.buttonId),a.BMQ("id",r._labelId)}},dependencies:[Da,_v],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return n})(),Xne=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[Zj,bi,bi]})}return n})();const Qne=n=>["/editor/stories",n,"chapters"];function Yne(n,t){if(1&n&&(a.j41(0,"mat-option",4),a.EFF(1),a.k0s()),2&n){const e=t.$implicit;a.Y8G("value",e.id),a.R7$(),a.JRh(e.name)}}function Zne(n,t){if(1&n&&(a.j41(0,"mat-option",4),a.EFF(1),a.k0s()),2&n){const e=t.$implicit;a.Y8G("value",e),a.R7$(),a.JRh(e)}}let Jne=(()=>{class n{constructor(){this.chapter=null,this.availableLanguages=Object.values(eh),this.formBuilder=(0,a.WQX)(Xd),this.dbService=(0,a.WQX)(Cl),this.router=(0,a.WQX)(gr),this.chapterSubscription=null,this.chapterEditForm=this.formBuilder.group({id:[""],name:["",Vi.required],story:["",Vi.required],chapterNo:[0,Vi.required],language:["",Vi.required],author:[""],isPremium:[!1],description:[""],empathyName:["",Vi.required],sympathyName:["",Vi.required]})}ngOnInit(){this.setupChapter()}ngOnDestroy(){}setupChapter(){console.log(`LOL: ChapterID: ${this.chapterId}, stroryId: ${this.storyId}`),this.chapterSubscription=this.chapter$.subscribe(e=>{this.chapter=e,this.chapterEditForm.patchValue({id:this.chapter?.id,name:this.chapter?.name,story:this.chapter?.story_id||this.storyId,chapterNo:this.chapter?.chapter_number,language:this.chapter?.language,author:this.chapter?.author,isPremium:this.chapter?.is_premium,description:this.chapter?.description,empathyName:this.chapter?.empathy_name||"empathy",sympathyName:this.chapter?.sympathy_name||"sympathy"})})}save(){var e=this;return(0,D.A)(function*(){const i=!e.chapter?.id||e.storyId!=e.chapterEditForm.value.story,r=yield e.saveChapter();e.updateInterface(r,i),console.log(`LOL: Saving chapter: ${JSON.stringify(e.chapterEditForm.value)}`)})()}saveChapter(){var e=this;return(0,D.A)(function*(){const i=e.chapterEditForm.value;if(!(i.name&&i.story&&i.chapterNo&&i.language&&i.empathyName&&i.sympathyName))throw new Error("LOL Error on saving the chapter because of the missing required values");const r={name:i.name,story_id:i.story,chapter_number:i.chapterNo,language:eh[Object.keys(eh)[Object.values(eh).indexOf(i.language)]],author:i.author,is_premium:i.isPremium,description:i.description,empathy_name:i.empathyName,sympathy_name:i.sympathyName};if(e.chapter?.id){const c={id:e.chapter.id,...r};return yield e.dbService.updateDocument(Er.CHAPTERS,e.chapter.id,c)}return yield e.dbService.addDocument(Er.CHAPTERS,r)})()}updateInterface(e,i=!1){this.chapter={...this.chapter,...e,id:e.id},i&&(this.router.navigate(["/editor/stories",this.chapterEditForm.value.story,"chapters",e.id]),this.chapterEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["chapter-edit-form"]],inputs:{storyId:"storyId",chapterId:"chapterId",chapter$:"chapter$",stories$:"stories$"},standalone:!0,features:[a.aNF],decls:53,vars:7,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly","","placeholder","Save chapter to add id"],["formControlName","story"],[3,"value"],["matInput","","type","text","formControlName","name"],[1,"example-full-width"],["matInput","","type","number","formControlName","chapterNo"],["formControlName","language"],["matInput","","type","text","formControlName","empathyName"],["matInput","","type","text","formControlName","sympathyName"],["matInput","","type","text","formControlName","author"],["matInput","","placeholder","A short description of the chapter content","formControlName","description"],["labelPosition","before","formControlName","isPremium"],[1,"button-container"],["mat-fab","","extended","",3,"routerLink"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(i,r){1&i&&(a.j41(0,"form",0),a.bIt("ngSubmit",function(){return r.save()}),a.j41(1,"mat-form-field",1)(2,"mat-label"),a.EFF(3,"Chapter id"),a.k0s(),a.nrm(4,"input",2),a.k0s(),a.j41(5,"mat-form-field")(6,"mat-label"),a.EFF(7,"Story"),a.k0s(),a.j41(8,"mat-select",3),a.Z7z(9,Yne,2,2,"mat-option",4,a.Vm6),a.nI1(11,"async"),a.k0s()(),a.j41(12,"mat-form-field")(13,"mat-label"),a.EFF(14,"Chapter name"),a.k0s(),a.nrm(15,"input",5),a.k0s(),a.j41(16,"mat-form-field",6)(17,"mat-label"),a.EFF(18,"Chapter number"),a.k0s(),a.nrm(19,"input",7),a.k0s(),a.j41(20,"mat-form-field")(21,"mat-label"),a.EFF(22,"Language"),a.k0s(),a.j41(23,"mat-select",8),a.Z7z(24,Zne,2,2,"mat-option",4,a.Vm6),a.k0s()(),a.j41(26,"mat-form-field")(27,"mat-label"),a.EFF(28,"Empathy name"),a.k0s(),a.nrm(29,"input",9),a.k0s(),a.j41(30,"mat-form-field")(31,"mat-label"),a.EFF(32,"Sympathy name"),a.k0s(),a.nrm(33,"input",10),a.k0s(),a.j41(34,"mat-form-field")(35,"mat-label"),a.EFF(36,"Author"),a.k0s(),a.nrm(37,"input",11),a.k0s(),a.j41(38,"mat-form-field")(39,"mat-label"),a.EFF(40,"Description"),a.k0s(),a.nrm(41,"textarea",12),a.k0s(),a.j41(42,"mat-slide-toggle",13),a.EFF(43,"Premium: "),a.k0s(),a.j41(44,"div",14)(45,"button",15)(46,"mat-icon"),a.EFF(47,"arrow_back"),a.k0s(),a.EFF(48," Back to chapters "),a.k0s(),a.j41(49,"button",16)(50,"mat-icon"),a.EFF(51,"save"),a.k0s(),a.EFF(52," Save chapter "),a.k0s()()()),2&i&&(a.Y8G("formGroup",r.chapterEditForm),a.R7$(9),a.Dyx(a.bMT(11,3,r.stories$)),a.R7$(15),a.Dyx(r.availableLanguages),a.R7$(21),a.Y8G("routerLink",a.eq3(5,Qne,r.storyId)),a.R7$(4),a.Y8G("disabled",!r.chapterEditForm.valid))},dependencies:[ro,gi,Is,Qd,Su,Hc,Oj,Tu,Cu,ta,Al,Cz,Yd,Dl,Tz,ed,Jd,Zd,xl,Bo,To,Vr,is,Xne,Zj],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between;margin-top:15px}"]})}return n})();const Dz=function(){var n=(0,D.A)(function*(t,e){const i=(0,a.WQX)(Cl),r=t.paramMap.get("storyId");return console.log(`LOL: Running chapters resolver for StoryId: ${r}`),(yield i.getAllCollectionDocs(Er.CHAPTERS)).pipe((0,De.T)(d=>d.filter(f=>f.story_id==r).sort((f,p)=>f.chapter_number-p.chapter_number)))});return function(e,i){return n.apply(this,arguments)}}(),xz=function(){var n=(0,D.A)(function*(t,e){const i=(0,a.WQX)(Cl),r=t.paramMap.get("chapterId");return console.log(`LOL: Running chapter resolver for chapterId: ${r}`),r?yield i.getDocumentById(Er.CHAPTERS,r):null});return function(e,i){return n.apply(this,arguments)}}(),Jj=function(){var n=(0,D.A)(function*(t,e){const i=(0,a.WQX)(Cl),r=t.paramMap.get("storyId");return console.log(`LOL: Running story resolver for StoryId: ${r}`),r?yield i.getDocumentById(Er.STORIES,r):null});return function(e,i){return n.apply(this,arguments)}}(),Mz=function(){var n=(0,D.A)(function*(t,e){const i=(0,a.WQX)(Cl);return console.log("LOL: Running stories resolver"),yield i.getAllCollectionDocs(Er.STORIES)});return function(e,i){return n.apply(this,arguments)}}();function iie(n,t){if(1&n){const e=a.RV6();a.j41(0,"div",1)(1,"button",2),a.bIt("click",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.action())}),a.EFF(2),a.k0s()()}if(2&n){const e=a.XpG();a.R7$(2),a.SpI(" ",e.data.action," ")}}const rie=["label"];function oie(n,t){}const sie=Math.pow(2,31)-1;class e3{constructor(t,e){this._overlayRef=e,this._afterDismissed=new B.B,this._afterOpened=new B.B,this._onAction=new B.B,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,sie))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const Rz=new a.nKC("MatSnackBarData");class ZP{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let Pz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"],standalone:!0})}return n})(),kz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"],standalone:!0})}return n})(),Oz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"],standalone:!0})}return n})(),aie=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(e3),a.rXU(Rz))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],standalone:!0,features:[a.aNF],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(a.j41(0,"div",0),a.EFF(1),a.k0s(),a.DNE(2,iie,3,1,"div",1)),2&i&&(a.R7$(),a.SpI(" ",r.data.message,"\n"),a.R7$(),a.vxM(r.hasAction?2:-1))},dependencies:[nu,Pz,kz,Oz],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0})}return n})();const cie={snackBarState:(0,en.hZ)("state",[(0,en.wk)("void, hidden",(0,en.iF)({transform:"scale(0.8)",opacity:0})),(0,en.wk)("visible",(0,en.iF)({transform:"scale(1)",opacity:1})),(0,en.kY)("* => visible",(0,en.i0)("150ms cubic-bezier(0, 0, 0.2, 1)")),(0,en.kY)("* => void, * => hidden",(0,en.i0)("75ms cubic-bezier(0.4, 0.0, 1, 1)",(0,en.iF)({opacity:0})))])};let lie=0,Nz=(()=>{class n extends bp{constructor(e,i,r,c,d){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=c,this.snackBarConfig=d,this._document=(0,a.WQX)(Se),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new B.B,this._onExit=new B.B,this._onEnter=new B.B,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+lie++,this.attachDomPortal=f=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(f);return this._afterPortalAttached(),p},this._live="assertive"!==d.politeness||d.announcementMessage?"off"===d.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const c=this._onEnter;this._ngZone.run(()=>{c.next(),c.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(d=>e.classList.add(d)):e.classList.add(i)),this._exposeToModals();const r=this._label.nativeElement,c="mdc-snackbar__label";r.classList.toggle(c,!r.querySelector(`.${c}`))}_exposeToModals(){const e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let r=0;r<i.length;r++){const c=i[r],d=c.getAttribute("aria-owns");this._trackedModals.add(c),d?-1===d.indexOf(e)&&c.setAttribute("aria-owns",d+" "+e):c.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{const i=e.getAttribute("aria-owns");if(i){const r=i.replace(this._liveElementId,"").trim();r.length>0?e.setAttribute("aria-owns",r):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.SKi),a.rXU(a.aKT),a.rXU(a.gRc),a.rXU(Gi),a.rXU(ZP))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&(a.GBs(cd,7),a.GBs(rie,7)),2&i){let c;a.mGM(c=a.lsd())&&(r._portalOutlet=c.first),a.mGM(c=a.lsd())&&(r._label=c.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:1,hostBindings:function(i,r){1&i&&a.Kam("@state.done",function(d){return r.onAnimationEnd(d)}),2&i&&a.zvX("@state",r._animationState)},standalone:!0,features:[a.Vt3,a.aNF],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(a.j41(0,"div",1)(1,"div",2,0)(3,"div",3),a.DNE(4,oie,0,0,"ng-template",4),a.k0s(),a.nrm(5,"div"),a.k0s()()),2&i&&(a.R7$(5),a.BMQ("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[cd],styles:[".mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}.cdk-high-contrast-active .mat-mdc-snackbar-surface{outline:solid 1px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color);border-radius:var(--mdc-snackbar-container-shape);background-color:var(--mdc-snackbar-container-color)}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font);font-size:var(--mdc-snackbar-supporting-text-size);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}"],encapsulation:2,data:{animation:[cie.snackBarState]}})}return n})();const die=new a.nKC("mat-snack-bar-default-options",{providedIn:"root",factory:function uie(){return new ZP}});let Wg=(()=>{class n{get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(e,i,r,c,d,f){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=c,this._parentSnackBar=d,this._defaultConfig=f,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=aie,this.snackBarContainerComponent=Nz,this.handsetCssClass="mat-mdc-snack-bar-handset"}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const c={...this._defaultConfig,...r};return c.data={message:e,action:i},c.announcementMessage===e&&(c.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,c)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const c=a.zZn.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:ZP,useValue:i}]}),d=new df(this.snackBarContainerComponent,i.viewContainerRef,c),f=e.attach(d);return f.instance.snackBarConfig=i,f.instance}_attach(e,i){const r={...new ZP,...this._defaultConfig,...i},c=this._createOverlay(r),d=this._attachSnackBarContainer(c,r),f=new e3(d,c);if(e instanceof a.C4Q){const p=new iu(e,null,{$implicit:r.data,snackBarRef:f});f.instance=d.attachTemplatePortal(p)}else{const p=this._createInjector(r,f),w=new df(e,void 0,p),A=d.attachComponentPortal(w);f.instance=A.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(vi(c.detachments())).subscribe(p=>{c.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&d._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(f,r),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Bv;i.direction=e.direction;let r=this._overlay.position().global();const c="rtl"===e.direction,d="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!c||"end"===e.horizontalPosition&&c,f=!d&&"center"!==e.horizontalPosition;return d?r.left("0"):f?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return a.zZn.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:e3,useValue:i},{provide:Rz,useValue:e.data}]})}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(jo),a.KVO(rp),a.KVO(a.zZn),a.KVO(kE),a.KVO(n,12),a.KVO(die))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hie(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Email is required"),a.k0s())}function fie(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Not a valid email"),a.k0s())}let mie=(()=>{class n{constructor(){this.hide=!0,this.formBuilder=(0,a.WQX)(Xd),this.authService=(0,a.WQX)(jc),this.snackBar=(0,a.WQX)(Wg),this.router=(0,a.WQX)(gr),this.loginForm=this.formBuilder.group({email:["",[Vi.required,Vi.email]],password:["",Vi.required]})}login(){var e=this;return(0,D.A)(function*(){if(!e.loginForm.value.email||!e.loginForm.value.password)throw new Error("LOL: Error on login: Missing email or password");yield e.authService.loginWithEmail(e.loginForm.value.email,e.loginForm.value.password).then(i=>{console.log(`LOL: Signed in user: ${i.user.email}`),e.router.navigate(["/library"])}).catch(i=>{console.log(`LOL: Error on login: ${i}`),e.snackBar.open("Incorrect email or password","Dismiss")})})()}resetPassword(){var e=this;return(0,D.A)(function*(){e.loginForm.value.email&&!e.loginForm.get("email")?.errors?(yield e.authService.resetPassword(e.loginForm.value.email),e.snackBar.open(`Password reset email sent to ${e.loginForm.value.email}`,"Dismiss")):e.snackBar.open("Enter correct email","Dismiss")})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["sign-in"]],standalone:!0,features:[a.aNF],decls:29,vars:6,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["matInput","","type","email","formControlName","email"],[1,"password-container"],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["mat-button","",3,"click"],["mat-fab","","extended","","type","submit",3,"disabled"],["mat-stroked-button","","routerLink","/register"],["mat-button","","routerLink",""]],template:function(i,r){if(1&i&&(a.j41(0,"div",0)(1,"form",1),a.bIt("ngSubmit",function(){return r.login()}),a.j41(2,"h3"),a.EFF(3,"Sign In"),a.k0s(),a.j41(4,"mat-form-field")(5,"mat-label"),a.EFF(6,"Email"),a.k0s(),a.nrm(7,"input",2),a.DNE(8,hie,2,0,"mat-error")(9,fie,2,0,"mat-error"),a.k0s(),a.j41(10,"div",3)(11,"mat-form-field")(12,"mat-label"),a.EFF(13,"Password"),a.k0s(),a.nrm(14,"input",4),a.k0s(),a.j41(15,"mat-icon",5),a.bIt("click",function(){return r.hide=!r.hide}),a.EFF(16),a.k0s()(),a.j41(17,"button",6),a.bIt("click",function(){return r.resetPassword()}),a.EFF(18,"Reset password"),a.k0s(),a.j41(19,"button",7)(20,"mat-icon"),a.EFF(21,"login"),a.k0s(),a.EFF(22," Sign in "),a.k0s()(),a.j41(23,"button",8),a.EFF(24,"Register"),a.k0s(),a.j41(25,"button",9)(26,"mat-icon"),a.EFF(27,"arrow_back"),a.k0s(),a.EFF(28," Back to start "),a.k0s()()),2&i){let c,d;a.R7$(),a.Y8G("formGroup",r.loginForm),a.R7$(7),a.vxM(null!=(c=r.loginForm.get("email"))&&c.hasError("required")?8:-1),a.R7$(),a.vxM(null!=(d=r.loginForm.get("email"))&&d.hasError("email")?9:-1),a.R7$(5),a.Y8G("type",r.hide?"password":"text"),a.R7$(2),a.JRh(r.hide?"visibility_off":"visibility"),a.R7$(3),a.Y8G("disabled",!r.loginForm.valid)}},dependencies:[Is,Qd,Su,Hc,Tu,Cu,ta,Al,Jd,Zd,Yd,Dl,e0,Yee,xl,Bo,To,Vr,nu,is],styles:[".login-container[_ngcontent-%COMP%] {display:flex;flex-direction:column;height:90vh;align-content:space-around;flex-wrap:wrap;justify-content:space-evenly}form[_ngcontent-%COMP%] {display:flex;flex-direction:column}.password-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.password-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:16px;margin-left:16px}"]})}return n})(),pie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[bi,bi]})}return n})();const Fz=["*"],Vz=["unscopedContent"],gie=["text"],_ie=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],vie=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],Bz=new a.nKC("ListOption");let t3=(()=>{class n{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}return n})(),n3=(()=>{class n{constructor(e){this._elementRef=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}return n})(),Fie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}return n})(),Uz=(()=>{class n{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Bz,8))};static#t=this.\u0275dir=a.FsC({type:n,hostVars:4,hostBindings:function(i,r){2&i&&a.AVh("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())},standalone:!0})}return n})(),Lie=(()=>{class n extends Uz{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[a.Vt3]})}return n})(),Vie=(()=>{class n extends Uz{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[a.Vt3]})}return n})();const Bie=new a.nKC("MAT_LIST_CONFIG");let n0=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,a.WQX)(Bie,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Gs(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Gs(e)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,hostVars:1,hostBindings:function(i,r){2&i&&a.BMQ("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return n})(),i3=(()=>{class n{set lines(e){this._explicitLines=sv(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Gs(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=Gs(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,r,c,d,f){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=c,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new ne.yU,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=d||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===f,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Jh(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Uo.h)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const c=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",c),r.classList.toggle("mdc-list-item__secondary-text",!c)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(n0,8),a.rXU(Gi),a.rXU(ml,8),a.rXU(a.bc$,8))};static#t=this.\u0275dir=a.FsC({type:n,contentQueries:function(i,r,c){if(1&i&&(a.wni(c,Lie,4),a.wni(c,Vie,4)),2&i){let d;a.mGM(d=a.lsd())&&(r._avatars=d),a.mGM(d=a.lsd())&&(r._icons=d)}},hostVars:4,hostBindings:function(i,r){2&i&&(a.BMQ("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),a.AVh("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}return n})(),jz=(()=>{class n extends n0{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-list"]],hostAttrs:[1,"mat-mdc-list","mat-mdc-list-base","mdc-list"],exportAs:["matList"],standalone:!0,features:[a.Jv_([{provide:n0,useExisting:n}]),a.Vt3,a.aNF],ngContentSelectors:Fz,decls:1,vars:0,template:function(i,r){1&i&&(a.NAR(),a.SdG(0))},styles:['.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color);font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color);font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color);opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color);opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape);--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape)}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color)}'],encapsulation:2,changeDetection:0})}return n})(),Hz=(()=>{class n extends i3{get activated(){return this._activated}set activated(e){this._activated=Gs(e)}constructor(e,i,r,c,d,f){super(e,i,r,c,d,f),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return 0!==this._meta.length&&(0!==this._avatars.length||0!==this._icons.length)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.aKT),a.rXU(a.SKi),a.rXU(n0,8),a.rXU(Gi),a.rXU(ml,8),a.rXU(a.bc$,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(i,r,c){if(1&i&&(a.wni(c,n3,5),a.wni(c,t3,5),a.wni(c,Fie,5)),2&i){let d;a.mGM(d=a.lsd())&&(r._lines=d),a.mGM(d=a.lsd())&&(r._titles=d),a.mGM(d=a.lsd())&&(r._meta=d)}},viewQuery:function(i,r){if(1&i&&(a.GBs(Vz,5),a.GBs(gie,5)),2&i){let c;a.mGM(c=a.lsd())&&(r._unscopedContent=c.first),a.mGM(c=a.lsd())&&(r._itemText=c.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(i,r){2&i&&(a.BMQ("aria-current",r._getAriaCurrent()),a.AVh("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",0!==r._avatars.length)("mdc-list-item--with-leading-icon",0!==r._icons.length)("mdc-list-item--with-trailing-meta",0!==r._meta.length)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[a.Vt3,a.aNF],ngContentSelectors:vie,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(i,r){if(1&i){const c=a.RV6();a.NAR(_ie),a.SdG(0),a.j41(1,"span",1),a.SdG(2,1),a.SdG(3,2),a.j41(4,"span",2,0),a.bIt("cdkObserveContent",function(){return a.eBV(c),a.Njj(r._updateItemLines(!0))}),a.SdG(6,3),a.k0s()(),a.SdG(7,4),a.SdG(8,5),a.nrm(9,"div",3)}},dependencies:[QO],encapsulation:2,changeDetection:0})}return n})(),Gz=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[BA,ro,bi,up,gv,pie]})}return n})(),Gie=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(KP))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["password-requirements-dialog"]],standalone:!0,features:[a.aNF],decls:19,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["role","list"],["role","listitem"],["align","end"],["mat-button","","mat-dialog-close",""]],template:function(i,r){1&i&&(a.j41(0,"h2",0),a.EFF(1,"Password requirements"),a.k0s(),a.j41(2,"mat-dialog-content",1)(3,"mat-list",2)(4,"mat-list-item",3),a.EFF(5),a.k0s(),a.j41(6,"mat-list-item",3),a.EFF(7),a.k0s(),a.j41(8,"mat-list-item",3),a.EFF(9,"At least one uppercase letter"),a.k0s(),a.j41(10,"mat-list-item",3),a.EFF(11,"At least one lowercase letter"),a.k0s(),a.j41(12,"mat-list-item",3),a.EFF(13,"At least one number"),a.k0s(),a.j41(14,"mat-list-item",3),a.EFF(15,"At least one special character (e.g., !, @, #, $)"),a.k0s()()(),a.j41(16,"mat-dialog-actions",4)(17,"button",5),a.EFF(18,"Ok"),a.k0s()()),2&i&&(a.R7$(5),a.SpI("Minimum ",r.data.min," characters"),a.R7$(2),a.SpI("Maximum ",r.data.max," characters"))},dependencies:[rne,qP,XP,YP,QP,Gz,jz,Hz,Vr,nu]})}return n})();function zie(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Password is required"),a.k0s())}function Wie(n,t){if(1&n&&(a.j41(0,"mat-error"),a.EFF(1),a.k0s()),2&n){let e;const i=a.XpG();a.R7$(),a.SpI("Minimum ",null==(e=i.createPasswordForm.get("password1"))?null:e.getError("minlength").requiredLength," characters")}}function Kie(n,t){if(1&n&&(a.j41(0,"mat-error"),a.EFF(1),a.k0s()),2&n){let e;const i=a.XpG();a.R7$(),a.SpI("Maximum ",null==(e=i.createPasswordForm.get("password1"))?null:e.getError("maxlength").requiredLength," characters")}}function qie(n,t){if(1&n){const e=a.RV6();a.j41(0,"mat-error"),a.EFF(1,"Not meeting "),a.j41(2,"span",3),a.bIt("click",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.showRequirements())}),a.EFF(3,"requirements"),a.k0s()()}}function Xie(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Confirmation is required"),a.k0s())}function Qie(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Passwords have to match"),a.k0s())}const Yie=n=>n.value.password1===n.value.password2?null:{PasswordNoMatch:!0},Zie=/^(?=[^A-Z]*[A-Z])(?=[^a-z]*[a-z])(?=\D*\d).{8,}$/,r3={min:8,max:20};let zz=(()=>{class n{constructor(){this.formBuilder=(0,a.WQX)(Xd),this.dialog=(0,a.WQX)(zg),this.createPasswordForm=this.formBuilder.group({password1:["",[Vi.required,Vi.minLength(r3.min),Vi.maxLength(r3.max),Vi.pattern(Zie)]],password2:["",Vi.required]},{validators:[Yie]}),this.onTouched=()=>{},this.onChangeSubs=[]}ngOnDestroy(){this.onChangeSubs.forEach(e=>{e.unsubscribe()})}validate(e){if(this.createPasswordForm.valid)return null;let i={};return this.createPasswordForm.errors&&(i={...this.createPasswordForm.errors}),this.createPasswordForm.get("password1")?.errors&&(i={...this.createPasswordForm.get("password1")?.errors}),this.createPasswordForm.get("password2")?.errors&&(i={...this.createPasswordForm.get("password2")?.errors}),i}writeValue(e){e&&this.createPasswordForm.setValue(e,{emitEvent:!1})}registerOnChange(e){const i=this.createPasswordForm.valueChanges.subscribe(e);this.onChangeSubs.push(i)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){e?this.createPasswordForm.disable():this.createPasswordForm.enable()}showRequirements(){this.dialog.open(Gie,{data:{...r3}})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["create-password-form-fragment"]],standalone:!0,features:[a.Jv_([{provide:Oa,multi:!0,useExisting:n},{provide:Do,multi:!0,useExisting:n}]),a.aNF],decls:15,vars:7,consts:[[3,"formGroup"],["matInput","","type","text","formControlName","password1"],["matInput","","type","text","formControlName","password2"],[3,"click"]],template:function(i,r){if(1&i&&(a.j41(0,"form",0)(1,"mat-form-field")(2,"mat-label"),a.EFF(3,"Password"),a.k0s(),a.nrm(4,"input",1),a.DNE(5,zie,2,0,"mat-error")(6,Wie,2,1,"mat-error")(7,Kie,2,1,"mat-error")(8,qie,4,0,"mat-error"),a.k0s(),a.j41(9,"mat-form-field")(10,"mat-label"),a.EFF(11,"Confirm password"),a.k0s(),a.nrm(12,"input",2),a.DNE(13,Xie,2,0,"mat-error"),a.k0s(),a.DNE(14,Qie,2,0,"mat-error"),a.k0s()),2&i){let c,d,f,p,w;a.Y8G("formGroup",r.createPasswordForm),a.R7$(5),a.vxM(null!=(c=r.createPasswordForm.get("password1"))&&c.hasError("required")?5:-1),a.R7$(),a.vxM(null!=(d=r.createPasswordForm.get("password1"))&&d.hasError("minlength")?6:-1),a.R7$(),a.vxM(null!=(f=r.createPasswordForm.get("password1"))&&f.hasError("maxlength")?7:-1),a.R7$(),a.vxM(null!=(p=r.createPasswordForm.get("password1"))&&p.hasError("pattern")?8:-1),a.R7$(5),a.vxM(null!=(w=r.createPasswordForm.get("password2"))&&w.hasError("required")?13:-1),a.R7$(),a.vxM(r.createPasswordForm.hasError("PasswordNoMatch")?14:-1)}},dependencies:[Qd,Su,Hc,Tu,Cu,ta,Al,Jd,Zd,Yd,Dl,e0,xl,Bo,Vr],styles:["form[_ngcontent-%COMP%] {display:flex;flex-direction:column}"]})}return n})();function Jie(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Email is required"),a.k0s())}function ere(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Not a valid email"),a.k0s())}let tre=(()=>{class n{constructor(){this.formBuilder=(0,a.WQX)(Xd),this.authService=(0,a.WQX)(jc),this.snackBar=(0,a.WQX)(Wg),this.router=(0,a.WQX)(gr),this.registerForm=this.formBuilder.group({email:["",[Vi.required,Vi.email]],password:[{password1:"",password2:""}]})}register(){var e=this;return(0,D.A)(function*(){if(!e.registerForm.value.email||!e.registerForm.value.password?.password1)throw new Error("LOL: Error on registration: Missing email.");e.authService.registerUser(e.registerForm.value.email,e.registerForm.value.password.password1).then(i=>{console.log(`LOL: User registered: ${i.user.email}`),e.snackBar.open("User registered.","Dismiss"),e.router.navigate(["/library"])}).catch(i=>{console.log(`LOL: Error on registration: ${i}`),e.snackBar.open("Failed to register the user","Dismiss")})})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["registration"]],standalone:!0,features:[a.aNF],decls:21,vars:4,consts:[[1,"login-container"],[3,"ngSubmit","formGroup"],["matInput","","type","email","formControlName","email"],["formControlName","password"],["mat-fab","","extended","","type","submit",3,"disabled"],["mat-stroked-button","","routerLink","/signin"],["mat-button","","routerLink",""]],template:function(i,r){if(1&i&&(a.j41(0,"div",0)(1,"form",1),a.bIt("ngSubmit",function(){return r.register()}),a.j41(2,"h3"),a.EFF(3,"Register"),a.k0s(),a.j41(4,"mat-form-field")(5,"mat-label"),a.EFF(6,"Email"),a.k0s(),a.nrm(7,"input",2),a.DNE(8,Jie,2,0,"mat-error")(9,ere,2,0,"mat-error"),a.k0s(),a.nrm(10,"create-password-form-fragment",3),a.j41(11,"button",4)(12,"mat-icon"),a.EFF(13,"person_edit"),a.k0s(),a.EFF(14," Register "),a.k0s()(),a.j41(15,"button",5),a.EFF(16,"Sign In"),a.k0s(),a.j41(17,"button",6)(18,"mat-icon"),a.EFF(19,"arrow_back"),a.k0s(),a.EFF(20," Back to start "),a.k0s()()),2&i){let c,d;a.R7$(),a.Y8G("formGroup",r.registerForm),a.R7$(7),a.vxM(null!=(c=r.registerForm.get("email"))&&c.hasError("required")?8:-1),a.R7$(),a.vxM(null!=(d=r.registerForm.get("email"))&&d.hasError("email")?9:-1),a.R7$(2),a.Y8G("disabled",!r.registerForm.valid)}},dependencies:[Is,Qd,Su,Hc,Tu,Cu,ta,Al,Jd,Zd,Yd,Dl,e0,xl,Bo,To,Vr,nu,is,zz],styles:[".login-container[_ngcontent-%COMP%] {display:flex;flex-direction:column;height:90vh;align-content:space-around;flex-wrap:wrap;justify-content:space-evenly}form[_ngcontent-%COMP%] {display:flex;flex-direction:column}mat-error[_ngcontent-%COMP%]{margin-bottom:15px}mat-error[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;cursor:pointer}"]})}return n})(),nre=0;const o3=new a.nKC("CdkAccordion");let ire=(()=>{class n{constructor(){this._stateChanges=new B.B,this._openCloseAllActions=new B.B,this.id="cdk-accordion-"+nre++,this.multi=!1}openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",a.L39]},exportAs:["cdkAccordion"],standalone:!0,features:[a.Jv_([{provide:o3,useExisting:n}]),a.GFd,a.OA$]})}return n})(),rre=0,ore=(()=>{class n{get expanded(){return this._expanded}set expanded(e){this._expanded!==e&&(this._expanded=e,this.expandedChange.emit(e),e?(this.opened.emit(),this._expansionDispatcher.notify(this.id,this.accordion?this.accordion.id:this.id)):this.closed.emit(),this._changeDetectorRef.markForCheck())}constructor(e,i,r){this.accordion=e,this._changeDetectorRef=i,this._expansionDispatcher=r,this._openCloseAllSubscription=ne.yU.EMPTY,this.closed=new a.bkB,this.opened=new a.bkB,this.destroyed=new a.bkB,this.expandedChange=new a.bkB,this.id="cdk-accordion-child-"+rre++,this._expanded=!1,this.disabled=!1,this._removeUniqueSelectionListener=()=>{},this._removeUniqueSelectionListener=r.listen((c,d)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===d&&this.id!==c&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(o3,12),a.rXU(a.gRc),a.rXU(Ez))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",a.L39],disabled:[2,"disabled","disabled",a.L39]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],standalone:!0,features:[a.Jv_([{provide:o3,useValue:void 0}]),a.GFd]})}return n})(),sre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({})}return n})();const are=["body"],cre=[[["mat-expansion-panel-header"]],"*",[["mat-action-row"]]],lre=["mat-expansion-panel-header","*","mat-action-row"];function ure(n,t){}const dre=[[["mat-panel-title"]],[["mat-panel-description"]],"*"],hre=["mat-panel-title","mat-panel-description","*"];function fre(n,t){if(1&n&&(a.j41(0,"span",1),a.qSk(),a.j41(1,"svg",2),a.nrm(2,"path",3),a.k0s()()),2&n){const e=a.XpG();a.Y8G("@indicatorRotate",e._getExpandedState())}}const s3=new a.nKC("MAT_ACCORDION"),Wz="225ms cubic-bezier(0.4,0.0,0.2,1)",Kz={indicatorRotate:(0,en.hZ)("indicatorRotate",[(0,en.wk)("collapsed, void",(0,en.iF)({transform:"rotate(0deg)"})),(0,en.wk)("expanded",(0,en.iF)({transform:"rotate(180deg)"})),(0,en.kY)("expanded <=> collapsed, void => collapsed",(0,en.i0)(Wz))]),bodyExpansion:(0,en.hZ)("bodyExpansion",[(0,en.wk)("collapsed, void",(0,en.iF)({height:"0px",visibility:"hidden"})),(0,en.wk)("expanded",(0,en.iF)({height:"*",visibility:""})),(0,en.kY)("expanded <=> collapsed, void => collapsed",(0,en.i0)(Wz))])},qz=new a.nKC("MAT_EXPANSION_PANEL");let mre=(()=>{class n{constructor(e,i){this._template=e,this._expansionPanel=i}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(a.C4Q),a.rXU(qz,8))};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["ng-template","matExpansionPanelContent",""]],standalone:!0})}return n})(),pre=0;const Xz=new a.nKC("MAT_EXPANSION_PANEL_DEFAULT_OPTIONS");let Qz=(()=>{class n extends ore{get hideToggle(){return this._hideToggle||this.accordion&&this.accordion.hideToggle}set hideToggle(e){this._hideToggle=e}get togglePosition(){return this._togglePosition||this.accordion&&this.accordion.togglePosition}set togglePosition(e){this._togglePosition=e}constructor(e,i,r,c,d,f,p){super(e,i,r),this._viewContainerRef=c,this._animationMode=f,this._hideToggle=!1,this.afterExpand=new a.bkB,this.afterCollapse=new a.bkB,this._inputChanges=new B.B,this._headerId="mat-expansion-panel-header-"+pre++,this.accordion=e,this._document=d,this._animationsDisabled="NoopAnimations"===f,p&&(this.hideToggle=p.hideToggle)}_hasSpacing(){return!!this.accordion&&this.expanded&&"default"===this.accordion.displayMode}_getExpandedState(){return this.expanded?"expanded":"collapsed"}toggle(){this.expanded=!this.expanded}close(){this.expanded=!1}open(){this.expanded=!0}ngAfterContentInit(){this._lazyContent&&this._lazyContent._expansionPanel===this&&this.opened.pipe((0,bo.Z)(null),(0,kn.p)(()=>this.expanded&&!this._portal),Xi(1)).subscribe(()=>{this._portal=new iu(this._lazyContent._template,this._viewContainerRef)})}ngOnChanges(e){this._inputChanges.next(e)}ngOnDestroy(){super.ngOnDestroy(),this._inputChanges.complete()}_containsFocus(){if(this._body){const e=this._document.activeElement,i=this._body.nativeElement;return e===i||i.contains(e)}return!1}_animationStarted(e){!Yz(e)&&!this._animationsDisabled&&this._body&&this._body?.nativeElement.setAttribute("inert","")}_animationDone(e){Yz(e)||("expanded"===e.toState?this.afterExpand.emit():"collapsed"===e.toState&&this.afterCollapse.emit(),!this._animationsDisabled&&this._body&&this._body.nativeElement.removeAttribute("inert"))}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(s3,12),a.rXU(a.gRc),a.rXU(Ez),a.rXU(a.c1b),a.rXU(Se),a.rXU(a.bc$,8),a.rXU(Xz,8))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-expansion-panel"]],contentQueries:function(i,r,c){if(1&i&&a.wni(c,mre,5),2&i){let d;a.mGM(d=a.lsd())&&(r._lazyContent=d.first)}},viewQuery:function(i,r){if(1&i&&a.GBs(are,5),2&i){let c;a.mGM(c=a.lsd())&&(r._body=c.first)}},hostAttrs:[1,"mat-expansion-panel"],hostVars:6,hostBindings:function(i,r){2&i&&a.AVh("mat-expanded",r.expanded)("_mat-animation-noopable",r._animationsDisabled)("mat-expansion-panel-spacing",r._hasSpacing())},inputs:{hideToggle:[2,"hideToggle","hideToggle",a.L39],togglePosition:"togglePosition"},outputs:{afterExpand:"afterExpand",afterCollapse:"afterCollapse"},exportAs:["matExpansionPanel"],standalone:!0,features:[a.Jv_([{provide:s3,useValue:void 0},{provide:qz,useExisting:n}]),a.GFd,a.Vt3,a.OA$,a.aNF],ngContentSelectors:lre,decls:7,vars:4,consts:[["body",""],["role","region",1,"mat-expansion-panel-content",3,"id"],[1,"mat-expansion-panel-body"],[3,"cdkPortalOutlet"]],template:function(i,r){if(1&i){const c=a.RV6();a.NAR(cre),a.SdG(0),a.j41(1,"div",1,0),a.bIt("@bodyExpansion.start",function(f){return a.eBV(c),a.Njj(r._animationStarted(f))})("@bodyExpansion.done",function(f){return a.eBV(c),a.Njj(r._animationDone(f))}),a.j41(3,"div",2),a.SdG(4,1),a.DNE(5,ure,0,0,"ng-template",3),a.k0s(),a.SdG(6,2),a.k0s()}2&i&&(a.R7$(),a.Y8G("@bodyExpansion",r._getExpandedState())("id",r.id),a.BMQ("aria-labelledby",r._headerId),a.R7$(4),a.Y8G("cdkPortalOutlet",r._portal))},dependencies:[cd],styles:['.mat-expansion-panel{box-sizing:content-box;display:block;margin:0;overflow:hidden;transition:margin 225ms cubic-bezier(0.4, 0, 0.2, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);position:relative;background:var(--mat-expansion-container-background-color);color:var(--mat-expansion-container-text-color);border-radius:var(--mat-expansion-container-shape)}.mat-expansion-panel:not([class*=mat-elevation-z]){box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12)}.mat-accordion .mat-expansion-panel:not(.mat-expanded),.mat-accordion .mat-expansion-panel:not(.mat-expansion-panel-spacing){border-radius:0}.mat-accordion .mat-expansion-panel:first-of-type{border-top-right-radius:var(--mat-expansion-container-shape);border-top-left-radius:var(--mat-expansion-container-shape)}.mat-accordion .mat-expansion-panel:last-of-type{border-bottom-right-radius:var(--mat-expansion-container-shape);border-bottom-left-radius:var(--mat-expansion-container-shape)}.cdk-high-contrast-active .mat-expansion-panel{outline:solid 1px}.mat-expansion-panel.ng-animate-disabled,.ng-animate-disabled .mat-expansion-panel,.mat-expansion-panel._mat-animation-noopable{transition:none}.mat-expansion-panel-content{display:flex;flex-direction:column;overflow:visible;font-family:var(--mat-expansion-container-text-font);font-size:var(--mat-expansion-container-text-size);font-weight:var(--mat-expansion-container-text-weight);line-height:var(--mat-expansion-container-text-line-height);letter-spacing:var(--mat-expansion-container-text-tracking)}.mat-expansion-panel-content[style*="visibility: hidden"] *{visibility:hidden !important}.mat-expansion-panel-body{padding:0 24px 16px}.mat-expansion-panel-spacing{margin:16px 0}.mat-accordion>.mat-expansion-panel-spacing:first-child,.mat-accordion>*:first-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-top:0}.mat-accordion>.mat-expansion-panel-spacing:last-child,.mat-accordion>*:last-child:not(.mat-expansion-panel) .mat-expansion-panel-spacing{margin-bottom:0}.mat-action-row{border-top-style:solid;border-top-width:1px;display:flex;flex-direction:row;justify-content:flex-end;padding:16px 8px 16px 24px;border-top-color:var(--mat-expansion-actions-divider-color)}.mat-action-row .mat-button-base,.mat-action-row .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-action-row .mat-button-base,[dir=rtl] .mat-action-row .mat-mdc-button-base{margin-left:0;margin-right:8px}'],encapsulation:2,data:{animation:[Kz.bodyExpansion]},changeDetection:0})}return n})();function Yz(n){return"void"===n.fromState}let Zz=(()=>{class n{constructor(e,i,r,c,d,f,p){this.panel=e,this._element=i,this._focusMonitor=r,this._changeDetectorRef=c,this._animationMode=f,this._parentChangeSubscription=ne.yU.EMPTY,this.tabIndex=0;const w=e.accordion?e.accordion._stateChanges.pipe((0,kn.p)(A=>!(!A.hideToggle&&!A.togglePosition))):Ge.w;this.tabIndex=parseInt(p||"")||0,this._parentChangeSubscription=(0,Uo.h)(e.opened,e.closed,w,e._inputChanges.pipe((0,kn.p)(A=>!!(A.hideToggle||A.disabled||A.togglePosition)))).subscribe(()=>this._changeDetectorRef.markForCheck()),e.closed.pipe((0,kn.p)(()=>e._containsFocus())).subscribe(()=>r.focusVia(i,"program")),d&&(this.expandedHeight=d.expandedHeight,this.collapsedHeight=d.collapsedHeight)}get disabled(){return this.panel.disabled}_toggle(){this.disabled||this.panel.toggle()}_isExpanded(){return this.panel.expanded}_getExpandedState(){return this.panel._getExpandedState()}_getPanelId(){return this.panel.id}_getTogglePosition(){return this.panel.togglePosition}_showToggle(){return!this.panel.hideToggle&&!this.panel.disabled}_getHeaderHeight(){const e=this._isExpanded();return e&&this.expandedHeight?this.expandedHeight:!e&&this.collapsedHeight?this.collapsedHeight:null}_keydown(e){switch(e.keyCode){case 32:case 13:Sa(e)||(e.preventDefault(),this._toggle());break;default:return void(this.panel.accordion&&this.panel.accordion._handleHeaderKeydown(e))}}focus(e,i){e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}ngAfterViewInit(){this._focusMonitor.monitor(this._element).subscribe(e=>{e&&this.panel.accordion&&this.panel.accordion._handleHeaderFocus(this)})}ngOnDestroy(){this._parentChangeSubscription.unsubscribe(),this._focusMonitor.stopMonitoring(this._element)}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Qz,1),a.rXU(a.aKT),a.rXU(Ac),a.rXU(a.gRc),a.rXU(Xz,8),a.rXU(a.bc$,8),a.kS0("tabindex"))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["mat-expansion-panel-header"]],hostAttrs:["role","button",1,"mat-expansion-panel-header","mat-focus-indicator"],hostVars:15,hostBindings:function(i,r){1&i&&a.bIt("click",function(){return r._toggle()})("keydown",function(d){return r._keydown(d)}),2&i&&(a.BMQ("id",r.panel._headerId)("tabindex",r.disabled?-1:r.tabIndex)("aria-controls",r._getPanelId())("aria-expanded",r._isExpanded())("aria-disabled",r.panel.disabled),a.xc7("height",r._getHeaderHeight()),a.AVh("mat-expanded",r._isExpanded())("mat-expansion-toggle-indicator-after","after"===r._getTogglePosition())("mat-expansion-toggle-indicator-before","before"===r._getTogglePosition())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{expandedHeight:"expandedHeight",collapsedHeight:"collapsedHeight",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,a.Udg)(e)]},standalone:!0,features:[a.GFd,a.aNF],ngContentSelectors:hre,decls:5,vars:3,consts:[[1,"mat-content"],[1,"mat-expansion-indicator"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 -960 960 960","aria-hidden","true","focusable","false"],["d","M480-345 240-585l56-56 184 184 184-184 56 56-240 240Z"]],template:function(i,r){1&i&&(a.NAR(dre),a.j41(0,"span",0),a.SdG(1),a.SdG(2,1),a.SdG(3,2),a.k0s(),a.DNE(4,fre,3,1,"span",1)),2&i&&(a.AVh("mat-content-hide-toggle",!r._showToggle()),a.R7$(4),a.vxM(r._showToggle()?4:-1))},styles:['.mat-expansion-panel-header{display:flex;flex-direction:row;align-items:center;padding:0 24px;border-radius:inherit;transition:height 225ms cubic-bezier(0.4, 0, 0.2, 1);height:var(--mat-expansion-header-collapsed-state-height);font-family:var(--mat-expansion-header-text-font);font-size:var(--mat-expansion-header-text-size);font-weight:var(--mat-expansion-header-text-weight);line-height:var(--mat-expansion-header-text-line-height);letter-spacing:var(--mat-expansion-header-text-tracking)}.mat-expansion-panel-header.mat-expanded{height:var(--mat-expansion-header-expanded-state-height)}.mat-expansion-panel-header[aria-disabled=true]{color:var(--mat-expansion-header-disabled-state-text-color)}.mat-expansion-panel-header:not([aria-disabled=true]){cursor:pointer}.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-header-hover-state-layer-color)}@media(hover: none){.mat-expansion-panel:not(.mat-expanded) .mat-expansion-panel-header:not([aria-disabled=true]):hover{background:var(--mat-expansion-container-background-color)}}.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-keyboard-focused,.mat-expansion-panel .mat-expansion-panel-header:not([aria-disabled=true]).cdk-program-focused{background:var(--mat-expansion-header-focus-state-layer-color)}.mat-expansion-panel-header._mat-animation-noopable{transition:none}.mat-expansion-panel-header:focus,.mat-expansion-panel-header:hover{outline:none}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover{background:inherit}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before{flex-direction:row-reverse}.mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 16px 0 0}[dir=rtl] .mat-expansion-panel-header.mat-expansion-toggle-indicator-before .mat-expansion-indicator{margin:0 0 0 16px}.mat-content{display:flex;flex:1;flex-direction:row;overflow:hidden}.mat-content.mat-content-hide-toggle{margin-right:8px}[dir=rtl] .mat-content.mat-content-hide-toggle{margin-right:0;margin-left:8px}.mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-left:24px;margin-right:0}[dir=rtl] .mat-expansion-toggle-indicator-before .mat-content.mat-content-hide-toggle{margin-right:24px;margin-left:0}.mat-expansion-panel-header-title{color:var(--mat-expansion-header-text-color)}.mat-expansion-panel-header-title,.mat-expansion-panel-header-description{display:flex;flex-grow:1;flex-basis:0;margin-right:16px;align-items:center}[dir=rtl] .mat-expansion-panel-header-title,[dir=rtl] .mat-expansion-panel-header-description{margin-right:0;margin-left:16px}.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-title,.mat-expansion-panel-header[aria-disabled=true] .mat-expansion-panel-header-description{color:inherit}.mat-expansion-panel-header-description{flex-grow:2;color:var(--mat-expansion-header-description-color)}.mat-expansion-indicator::after{border-style:solid;border-width:0 2px 2px 0;content:"";display:inline-block;padding:3px;transform:rotate(45deg);vertical-align:middle;color:var(--mat-expansion-header-indicator-color);display:var(--mat-expansion-legacy-header-indicator-display, inline-block)}.mat-expansion-indicator svg{width:24px;height:24px;margin:0 -8px;vertical-align:middle;fill:var(--mat-expansion-header-indicator-color);display:var(--mat-expansion-header-indicator-display, none)}.cdk-high-contrast-active .mat-expansion-panel-content{border-top:1px solid;border-top-left-radius:0;border-top-right-radius:0}'],encapsulation:2,data:{animation:[Kz.indicatorRotate]},changeDetection:0})}return n})(),gre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-panel-title"]],hostAttrs:[1,"mat-expansion-panel-header-title"],standalone:!0})}return n})(),_re=(()=>{class n extends ire{constructor(){super(...arguments),this._ownHeaders=new a.rOR,this.hideToggle=!1,this.displayMode="default",this.togglePosition="after"}ngAfterContentInit(){this._headers.changes.pipe((0,bo.Z)(this._headers)).subscribe(e=>{this._ownHeaders.reset(e.filter(i=>i.panel.accordion===this)),this._ownHeaders.notifyOnChanges()}),this._keyManager=new Kh(this._ownHeaders).withWrap().withHomeAndEnd()}_handleHeaderKeydown(e){this._keyManager.onKeydown(e)}_handleHeaderFocus(e){this._keyManager.updateActiveItem(e)}ngOnDestroy(){super.ngOnDestroy(),this._keyManager?.destroy(),this._ownHeaders.destroy()}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=a.xGo(n)))(r||n)}})();static#t=this.\u0275dir=a.FsC({type:n,selectors:[["mat-accordion"]],contentQueries:function(i,r,c){if(1&i&&a.wni(c,Zz,5),2&i){let d;a.mGM(d=a.lsd())&&(r._headers=d)}},hostAttrs:[1,"mat-accordion"],hostVars:2,hostBindings:function(i,r){2&i&&a.AVh("mat-accordion-multi",r.multi)},inputs:{hideToggle:[2,"hideToggle","hideToggle",a.L39],displayMode:"displayMode",togglePosition:"togglePosition"},exportAs:["matAccordion"],standalone:!0,features:[a.Jv_([{provide:s3,useExisting:n}]),a.GFd,a.Vt3]})}return n})(),vre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=a.$C({type:n});static#n=this.\u0275inj=a.G2t({imports:[bi,sre,ld]})}return n})();function yre(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Can't be empty"),a.k0s())}function bre(n,t){if(1&n&&(a.j41(0,"mat-error"),a.EFF(1),a.k0s()),2&n){let e;const i=a.XpG();a.R7$(),a.SpI("Minimum ",null==(e=i.displayNameForm.get("displayName"))?null:e.getError("minlength").requiredLength," characters")}}function Ere(n,t){if(1&n&&(a.j41(0,"mat-error"),a.EFF(1),a.k0s()),2&n){let e;const i=a.XpG();a.R7$(),a.SpI("Minimum ",null==(e=i.displayNameForm.get("displayName"))?null:e.getError("maxlength").requiredLength," characters")}}let wre=(()=>{class n{constructor(){this.formBuilder=(0,a.WQX)(Xd),this.authService=(0,a.WQX)(jc),this.snackBar=(0,a.WQX)(Wg),this.displayNameForm=this.formBuilder.group({displayName:["",[Vi.required,Vi.minLength(5),Vi.maxLength(20)]]})}changeDisplayName(){var e=this;return(0,D.A)(function*(){e.displayNameForm.value.displayName&&(yield e.authService.updateUserProfile(e.displayNameForm.value.displayName).then(()=>{console.log(`LOL: Changed display name to: ${e.displayNameForm.value.displayName}`),e.snackBar.open("Display name changed.","Ok")}).catch(i=>{e.snackBar.open("Failed to update display name.","Ok"),console.log(`LOL: Error on setting display name: ${i}`)}))})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["display-name-form"]],standalone:!0,features:[a.aNF],decls:12,vars:5,consts:[[3,"ngSubmit","formGroup"],["matInput","","type","text","formControlName","displayName"],["mat-fab","","extended","","type","submit",3,"disabled"]],template:function(i,r){if(1&i&&(a.j41(0,"form",0),a.bIt("ngSubmit",function(){return r.changeDisplayName()}),a.j41(1,"mat-form-field")(2,"mat-label"),a.EFF(3,"Display name"),a.k0s(),a.nrm(4,"input",1),a.DNE(5,yre,2,0,"mat-error")(6,bre,2,1,"mat-error")(7,Ere,2,1,"mat-error"),a.k0s(),a.j41(8,"button",2)(9,"mat-icon"),a.EFF(10,"check"),a.k0s(),a.EFF(11,"Set "),a.k0s()()),2&i){let c,d,f;a.Y8G("formGroup",r.displayNameForm),a.R7$(5),a.vxM(null!=(c=r.displayNameForm.get("displayName"))&&c.getError("required")?5:-1),a.R7$(),a.vxM(null!=(d=r.displayNameForm.get("displayName"))&&d.getError("minlength")?6:-1),a.R7$(),a.vxM(null!=(f=r.displayNameForm.get("displayName"))&&f.getError("maxlength")?7:-1),a.R7$(),a.Y8G("disabled",!r.displayNameForm.valid)}},dependencies:[Qd,Su,Hc,Tu,Cu,ta,Al,xl,Yd,Dl,e0,Bo,To,Jd,Zd,Vr,is],styles:["form[_ngcontent-%COMP%] {display:flex;flex-direction:column}"]})}return n})(),Ire=(()=>{class n{constructor(){this.authService=(0,a.WQX)(jc),this.formBuilder=(0,a.WQX)(Xd),this.snackBar=(0,a.WQX)(Wg),this.changePasswordForm=this.formBuilder.group({currentPassword:["",Vi.required],newPassword:[{password1:"",password2:""}]})}changePassword(){var e=this;return(0,D.A)(function*(){e.changePasswordForm.value.newPassword&&e.changePasswordForm.value.currentPassword&&(yield e.authService.changeUserPassword(e.changePasswordForm.value.newPassword.password1,e.changePasswordForm.value.currentPassword).then(()=>{console.log(`LOL: Password changed succesfully for user: ${e.email}`),e.changePasswordForm.patchValue({currentPassword:"",newPassword:{password1:"",password2:""}}),e.snackBar.open("Password succesfully changed","Ok")}).catch(i=>{console.log(`LOL: Error on password change: ${i}`),e.snackBar.open("Failed to change the password","Ok")}))})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["change-password-form"]],inputs:{email:"email"},standalone:!0,features:[a.aNF],decls:10,vars:2,consts:[[3,"ngSubmit","formGroup"],["matInput","","type","text","formControlName","currentPassword"],["formControlName","newPassword"],["mat-fab","","extended","","type","submit",3,"disabled"]],template:function(i,r){1&i&&(a.j41(0,"form",0),a.bIt("ngSubmit",function(){return r.changePassword()}),a.j41(1,"mat-form-field")(2,"mat-label"),a.EFF(3,"Current password"),a.k0s(),a.nrm(4,"input",1),a.k0s(),a.nrm(5,"create-password-form-fragment",2),a.j41(6,"button",3)(7,"mat-icon"),a.EFF(8,"check"),a.k0s(),a.EFF(9,"Change password "),a.k0s()()),2&i&&(a.Y8G("formGroup",r.changePasswordForm),a.R7$(6),a.Y8G("disabled",!r.changePasswordForm.valid))},dependencies:[Qd,Su,Hc,Tu,Cu,ta,Al,xl,Yd,Dl,Bo,To,Jd,Zd,Vr,is,zz],styles:["form[_ngcontent-%COMP%] {display:flex;flex-direction:column}"]})}return n})();function Tre(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Email is required"),a.k0s())}function Cre(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Not a valid email"),a.k0s())}function Sre(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Password is required"),a.k0s())}let Are=(()=>{class n{constructor(){this.formBuilder=(0,a.WQX)(Xd),this.authService=(0,a.WQX)(jc),this.snackBar=(0,a.WQX)(Wg),this.changeEmailForm=this.formBuilder.group({email:["",[Vi.required,Vi.email]],password:["",Vi.required]})}changeEmail(){var e=this;return(0,D.A)(function*(){if(!e.changeEmailForm.value.email||!e.changeEmailForm.value.password)throw new Error("LOL: Error on email change - missing new email or password");yield e.authService.changeUserEmail(e.changeEmailForm.value.email,e.changeEmailForm.value.password).then(()=>{console.log("LOL: Email soccesfully changed"),e.snackBar.open("Email succesfully changed","Ok")}).catch(i=>{console.log(`LOL: Error on email change: ${i}`),e.snackBar.open("Failed to change the email","Ok")})})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["change-email-form"]],standalone:!0,features:[a.aNF],decls:16,vars:5,consts:[[3,"ngSubmit","formGroup"],["matInput","","type","email","formControlName","email"],["matInput","","type","password","formControlName","password"],["mat-fab","","extended","","type","submit",3,"disabled"]],template:function(i,r){if(1&i&&(a.j41(0,"form",0),a.bIt("ngSubmit",function(){return r.changeEmail()}),a.j41(1,"mat-form-field")(2,"mat-label"),a.EFF(3,"New email"),a.k0s(),a.nrm(4,"input",1),a.DNE(5,Tre,2,0,"mat-error")(6,Cre,2,0,"mat-error"),a.k0s(),a.j41(7,"mat-form-field")(8,"mat-label"),a.EFF(9,"Password"),a.k0s(),a.nrm(10,"input",2),a.DNE(11,Sre,2,0,"mat-error"),a.k0s(),a.j41(12,"button",3)(13,"mat-icon"),a.EFF(14,"check"),a.k0s(),a.EFF(15,"Change email "),a.k0s()()),2&i){let c,d,f;a.Y8G("formGroup",r.changeEmailForm),a.R7$(5),a.vxM(null!=(c=r.changeEmailForm.get("email"))&&c.hasError("required")?5:-1),a.R7$(),a.vxM(null!=(d=r.changeEmailForm.get("email"))&&d.hasError("email")?6:-1),a.R7$(5),a.vxM(null!=(f=r.changeEmailForm.get("password"))&&f.hasError("required")?11:-1),a.R7$(),a.Y8G("disabled",!r.changeEmailForm.valid)}},dependencies:[Qd,Su,Hc,Tu,Cu,ta,Al,xl,Yd,Dl,e0,Bo,To,Jd,Zd,Vr,is],styles:["form[_ngcontent-%COMP%] {display:flex;flex-direction:column}"]})}return n})(),Dre=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(KP))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["account-delete-confirmation"]],standalone:!0,features:[a.aNF],decls:11,vars:0,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""],["mat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(i,r){1&i&&(a.j41(0,"h2",0),a.EFF(1,"Delete account"),a.k0s(),a.j41(2,"mat-dialog-content"),a.EFF(3," Are you sure you want to permanently delete your account? "),a.j41(4,"p"),a.EFF(5,"All your saved data will be permanently lost!"),a.k0s()(),a.j41(6,"mat-dialog-actions")(7,"button",1),a.EFF(8,"No"),a.k0s(),a.j41(9,"button",2),a.bIt("click",function(){return r.data.deleteFunction()}),a.EFF(10,"Ok"),a.k0s()())},dependencies:[Vr,nu,XP,QP,YP,qP],styles:["mat-dialog-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:red}"],changeDetection:0})}return n})();function xre(n,t){1&n&&(a.j41(0,"mat-error"),a.EFF(1,"Password is required"),a.k0s())}function Mre(n,t){if(1&n){const e=a.RV6();a.j41(0,"form",2),a.bIt("ngSubmit",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.showDeleteDialog())}),a.j41(1,"mat-form-field")(2,"mat-label"),a.EFF(3,"Password"),a.k0s(),a.nrm(4,"input",3),a.DNE(5,xre,2,0,"mat-error"),a.k0s(),a.j41(6,"button",4)(7,"mat-icon"),a.EFF(8,"delete_forever"),a.k0s(),a.EFF(9,"Delete account "),a.k0s()()}if(2&n){let e;const i=a.XpG();a.Y8G("formGroup",i.deleteAccountForm),a.R7$(5),a.vxM(null!=(e=i.deleteAccountForm.get("password"))&&e.hasError("required")?5:-1),a.R7$(),a.Y8G("disabled",!i.deleteAccountForm.valid)}}function Rre(n,t){if(1&n){const e=a.RV6();a.j41(0,"button",5),a.bIt("click",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.showDeleteDialog())}),a.j41(1,"mat-icon"),a.EFF(2,"delete_forever"),a.k0s(),a.EFF(3,"Delete account "),a.k0s()}}let Pre=(()=>{class n{constructor(){this.authService=(0,a.WQX)(jc),this.formBuilder=(0,a.WQX)(Xd),this.dialog=(0,a.WQX)(zg),this.snackBar=(0,a.WQX)(Wg),this.router=(0,a.WQX)(gr),this.deleteAccountForm=this.formBuilder.group({password:["",Vi.required]})}showDeleteDialog(){this.dialog.open(Dre,{data:{deleteFunction:()=>this.deleteAccount()}})}deleteAccount(){var e=this;return(0,D.A)(function*(){if("password"===e.provider&&!e.deleteAccountForm.value.password)throw new Error("LOL: Error on deleting account - missing password");yield e.authService.deleteAccount(e.provider,e.deleteAccountForm.value.password).then(()=>{console.log("LOL: Delete account"),e.router.navigate([""]),e.snackBar.open("Account succesfully deleted","Ok")}).catch(i=>{console.log(`LOL: There was an arror on account deletion: ${i}`),e.snackBar.open("Failed to delete account","Ok")})})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["delete-account-form"]],inputs:{provider:"provider"},standalone:!0,features:[a.aNF],decls:2,vars:1,consts:[[3,"formGroup"],["mat-fab","","extended",""],[3,"ngSubmit","formGroup"],["matInput","","type","password","formControlName","password"],["mat-fab","","extended","","type","submit",3,"disabled"],["mat-fab","","extended","",3,"click"]],template:function(i,r){1&i&&a.DNE(0,Mre,10,3,"form",0)(1,Rre,4,0,"button",1),2&i&&a.vxM("password"===r.provider?0:1)},dependencies:[Qd,Su,Hc,Tu,Cu,ta,Al,Vr,is,Bo,To,Jd,Zd,Yd,Dl,e0],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column}"]})}return n})();function kre(n,t){if(1&n){const e=a.RV6();a.j41(0,"button",6),a.bIt("click",function(){a.eBV(e);const r=a.XpG(2);return a.Njj(r.verifyEmail())}),a.EFF(1,"Verify email"),a.k0s()}}function Ore(n,t){if(1&n&&(a.j41(0,"div",0)(1,"mat-accordion")(2,"mat-expansion-panel",2)(3,"mat-expansion-panel-header")(4,"mat-panel-title"),a.EFF(5,"Display name: "),a.j41(6,"span"),a.EFF(7),a.k0s()()(),a.nrm(8,"display-name-form"),a.k0s(),a.j41(9,"mat-expansion-panel",2)(10,"mat-expansion-panel-header")(11,"mat-panel-title"),a.EFF(12,"Email: "),a.j41(13,"span"),a.EFF(14),a.k0s()()(),a.nrm(15,"change-email-form"),a.k0s(),a.j41(16,"mat-expansion-panel",2)(17,"mat-expansion-panel-header")(18,"mat-panel-title"),a.EFF(19,"Verified: "),a.j41(20,"mat-icon"),a.EFF(21),a.k0s()()(),a.DNE(22,kre,2,0,"button",3),a.k0s(),a.j41(23,"mat-expansion-panel",2)(24,"mat-expansion-panel-header")(25,"mat-panel-title"),a.EFF(26,"Change password"),a.k0s()(),a.nrm(27,"change-password-form",4),a.k0s(),a.j41(28,"mat-expansion-panel",2)(29,"mat-expansion-panel-header")(30,"mat-panel-title"),a.EFF(31,"Delete account"),a.k0s()(),a.nrm(32,"delete-account-form",5),a.k0s()()()),2&n){const e=a.XpG();a.R7$(7),a.JRh((null==e.authUser?null:e.authUser.displayName)||"Not set"),a.R7$(7),a.JRh(null==e.authUser?null:e.authUser.email),a.R7$(7),a.JRh(null!=e.authUser&&e.authUser.emailVerified?"mark_email_read":"do_not_disturb_on"),a.R7$(),a.vxM(null!=e.authUser&&e.authUser.emailVerified?-1:22),a.R7$(5),a.Y8G("email",(null==e.authUser?null:e.authUser.email)||null),a.R7$(5),a.Y8G("provider",e.provider)}}function Nre(n,t){if(1&n&&(a.j41(0,"div",10),a.nrm(1,"delete-account-form",5),a.k0s()),2&n){const e=a.XpG(2);a.R7$(),a.Y8G("provider",e.provider)}}function Fre(n,t){if(1&n){const e=a.RV6();a.j41(0,"mat-list")(1,"mat-list-item")(2,"span",7),a.EFF(3),a.k0s(),a.j41(4,"span",8),a.EFF(5,"Verified email"),a.k0s()(),a.j41(6,"mat-list-item")(7,"span",7),a.EFF(8),a.k0s(),a.j41(9,"span"),a.EFF(10,"Display name"),a.k0s()(),a.j41(11,"mat-list-item",9),a.bIt("click",function(){a.eBV(e);const r=a.XpG();return a.Njj(r.showDeleteForm=!r.showDeleteForm)}),a.j41(12,"span",7),a.EFF(13,"Delete account"),a.k0s(),a.nrm(14,"span"),a.k0s()(),a.DNE(15,Nre,2,1,"div",10)}if(2&n){const e=a.XpG();a.R7$(3),a.JRh(null==e.authUser?null:e.authUser.email),a.R7$(5),a.JRh(null==e.authUser?null:e.authUser.displayName),a.R7$(7),a.vxM(e.showDeleteForm?15:-1)}}let Lre=(()=>{class n{constructor(){this.showDeleteForm=!1,this.authService=(0,a.WQX)(jc),this.snackBar=(0,a.WQX)(Wg),this.provider=null}ngOnInit(){this.provider=this.authUser?.providerData[0].providerId||null,console.log(`LOL provider: ${this.provider}`)}verifyEmail(){var e=this;return(0,D.A)(function*(){yield e.authService.verifyEmail().then(i=>{console.log(`LOL: Verification email sent to ${i}`),e.snackBar.open(`Verification email sent to ${i}`,"Ok")}).catch(i=>{console.log(`LOL: Error on sending verification email: ${i}`),e.snackBar.open("Failed sending verification email","Ok")})})()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["user-profile"]],inputs:{authUser:"authUser"},standalone:!0,features:[a.aNF],decls:6,vars:1,consts:[[1,"profile-edit"],["mat-button","","routerLink",""],["hideToggle",""],["mat-fab","","extended",""],[3,"email"],[3,"provider"],["mat-fab","","extended","",3,"click"],["matListItemTitle",""],["matListItemLine",""],[3,"click"],[1,"deleteForm"]],template:function(i,r){1&i&&(a.j41(0,"h2"),a.EFF(1,"Profile"),a.k0s(),a.DNE(2,Ore,33,6,"div",0)(3,Fre,16,3),a.j41(4,"button",1),a.EFF(5,"Sign in as different user"),a.k0s()),2&i&&(a.R7$(2),a.vxM("password"===r.provider?2:"google.com"===r.provider?3:-1))},dependencies:[ro,Is,Vr,nu,is,_re,vre,Qz,Zz,gre,Bo,To,Gz,jz,Hz,n3,t3,wre,Ire,Are,Pre],styles:[".profile-edit[_ngcontent-%COMP%]{margin-top:15px}mat-panel-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;padding-left:15px}mat-panel-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-left:15px}.deleteForm[_ngcontent-%COMP%]{padding-left:16px}"]})}return n})();const Vre=(n,t)=>["/editor/stories",n,"chapters",t,"pages",null],Bre=n=>["/editor/stories",n,"chapters"];function Ure(n,t){1&n&&(a.EFF(0),a.nI1(1,"titlecase")),2&n&&a.SpI(" ",a.bMT(1,1,t.name)," / ")}function jre(n,t){1&n&&(a.EFF(0),a.nI1(1,"titlecase")),2&n&&a.SpI(" ",a.bMT(1,1,t.name)," pages ")}let Hre=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["editor-pages"]],inputs:{storyId:"storyId",chapterId:"chapterId",story$:"story$",chapter$:"chapter$"},standalone:!0,features:[a.aNF],decls:14,vars:13,consts:[[1,"flex-container"],["mat-fab","","extended","",1,"button-container",3,"routerLink"]],template:function(i,r){if(1&i&&(a.j41(0,"div",0)(1,"a",1)(2,"mat-icon"),a.EFF(3,"add"),a.k0s(),a.EFF(4," Add page "),a.k0s(),a.j41(5,"a",1)(6,"mat-icon"),a.EFF(7,"arrow_back"),a.k0s(),a.EFF(8," Chapters "),a.k0s()(),a.j41(9,"h3"),a.DNE(10,Ure,2,3),a.nI1(11,"async"),a.DNE(12,jre,2,3),a.nI1(13,"async"),a.k0s()),2&i){let c,d;a.R7$(),a.Y8G("routerLink",a.l_i(8,Vre,r.storyId,r.chapterId)),a.R7$(4),a.Y8G("routerLink",a.eq3(11,Bre,r.storyId)),a.R7$(5),a.vxM((c=a.bMT(11,4,r.story$))?10:-1,c),a.R7$(2),a.vxM((d=a.bMT(13,6,r.chapter$))?12:-1,d)}},dependencies:[ro,gi,Ou,Vh,Is,Bo,To,Vr,Mc,GP,Xb],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;row-gap:15px;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .flex-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;width:150px}.card-footer[_ngcontent-%COMP%]{padding:15px}"]})}return n})();const r0={UKNOWN:"Unknown"},a3={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:r0.UKNOWN},JP={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},o0={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y|SM-X200|SM-T970"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09|AGS-L09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},dm={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:r0.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},Jz=[dm.PS4,dm.CHROME_BOOK,dm.MAC,dm.DELL,dm.ASUS,dm.UNKNOWN],$re={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:r0.UKNOWN},Gre={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:r0.UKNOWN.toLowerCase()},eW={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},Wre={...JP,...o0,...eW,FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}},c3={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},l3={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},Kre=Object.keys(c3).reduce((n,t)=>(n[t]=c3[t],n),{}),tW=Object.keys(l3).reduce((n,t)=>(n[a3[t]]=l3[t],n),{});var Au=Object.freeze({__proto__:null,BROWSERS:a3,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},BROWSER_VERSIONS_RE:tW,BROWSER_VERSIONS_RE_MAP:l3,DESKTOP_DEVICES:Jz,DEVICES:dm,DEVICES_RE:Wre,GENERAL:r0,MOBILES_RE:JP,OS:$re,OS_RE:eW,OS_VERSIONS:Gre,OS_VERSIONS_RE:Kre,OS_VERSIONS_RE_MAP:c3,TABLETS_RE:o0});class qre{constructor(){}test(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(i=>this.test(t,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(t,i)):!(!e||!e.not||this.test(t,e.not))}exec(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(t):e&&Array.isArray(e)?e.reduce((i,r)=>i||this.exec(t,r),null):null}}var jC=function(n){return n.Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown",n}(jC||{}),u3=function(n){return n.Portrait="portrait",n.Landscape="landscape",n}(u3||{});const d3="iPad";let Xre=(()=>{class n{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new qre,this.deviceType="",this.orientation="",tl(this.platformId)&&typeof window<"u"&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(r=>{this[r.prop]=Object.keys(Au[r.const]).reduce((c,d)=>"device"===Au[r.const][d]&&tl(this.platformId)&&(this.reTree.test(this.userAgent,o0[d3])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(c[Au[r.const][d]]=d3,Object):(c[Au[r.const][d]]=this.reTree.test(e,Au[`${r.const}_RE`][d]),c),{})}),i.forEach(r=>{this[r.prop]=Object.keys(Au[r.const]).map(c=>Au[r.const][c]).reduce((c,d)=>"device"===r.prop&&c===Au[r.const].ANDROID?this[r.prop][d]?d:c:c===Au[r.const].UNKNOWN&&this[r.prop][d]?d:c,Au[r.const].UNKNOWN)}),this.browser_version="0",this.browser!==a3.UNKNOWN){const c=this.reTree.exec(e,tW[this.browser]);c&&(this.browser_version=c[1])}this.orientation=typeof window<"u"&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?u3.Landscape:u3.Portrait:r0.UKNOWN,this.deviceType=this.isTablet()?jC.Tablet:this.isMobile(this.userAgent)?jC.Mobile:this.isDesktop(this.userAgent)?jC.Desktop:jC.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(JP).find(r=>this.reTree.test(e,JP[r]))}isTablet(e=this.userAgent){return!(!tl(this.platformId)||!(this.reTree.test(this.userAgent,o0[d3])||typeof navigator<"u"&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(o0).find(r=>!!this.reTree.test(e,o0[r]))}isDesktop(e=this.userAgent){return(this.device!==dm.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&Jz.indexOf(this.device)>-1}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(a.Agw))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Qre=[{path:"library/story/:storyId/gameboard/:chapterId",component:Bte},{path:"library/story/:storyId",component:Rte,resolve:{chapters$:Dz}},{path:"library",component:Gte,title:"Library",resolve:{stories$:Mz}},{path:"editor",component:Cte,title:"Editor",canActivateChild:[(n,t)=>{const e=(0,a.WQX)(jc),i=(0,a.WQX)(gr);return e.user$.pipe((0,De.T)(r=>r&&!r.isAnonymous||(0,a.naY)()||i.createUrlTree(["/library"])))}],children:[{path:"",redirectTo:"stories",pathMatch:"full"},{path:"stories/:storyId/chapters/:chapterId/pages/:pageId",component:(()=>{class n{constructor(e){this.deviceService=e,this.isDesktop=!1,this.isDesktop=this.deviceService.isDesktop()}static#e=this.\u0275fac=function(i){return new(i||n)(a.rXU(Xre))};static#t=this.\u0275cmp=a.VBU({type:n,selectors:[["page-edit-form"]],standalone:!0,features:[a.aNF],decls:4,vars:1,template:function(i,r){1&i&&(a.j41(0,"p"),a.EFF(1,"page-edit-form works!"),a.k0s(),a.j41(2,"p"),a.EFF(3),a.k0s()),2&i&&(a.R7$(3),a.SpI("Is desktop?? ",r.isDesktop,""))}})}return n})()},{path:"stories/:storyId/chapters/:chapterId/pages",component:Hre,resolve:{story$:Jj,chapter$:xz}},{path:"stories/:storyId/chapters/:chapterId",component:Jne,resolve:{stories$:Mz,chapter$:xz}},{path:"stories/:storyId/chapters",component:_ne,resolve:{chapters$:Dz,story$:Jj}},{path:"stories/:storyId",component:Une,resolve:{story$:Jj}},{path:"stories",component:une}]},{path:"signin",component:mie,title:"SignIn"},{path:"register",component:tre,title:"Register"},{path:"profile",component:Lre,title:"Profile",canActivate:[()=>{const n=(0,a.WQX)(jc),t=(0,a.WQX)(gr);return n.user$.pipe((0,De.T)(e=>e&&!e.isAnonymous||t.createUrlTree([""])))}],resolve:{authUser:()=>{const n=(0,a.WQX)(jc);return console.log("LOL: Running authUser resolver"),n.user$}}},{path:"",component:Ute,title:"Start"}],s0=new J.c(s_.l),Zre={connector:()=>new B.B};function nW(n,t=Zre){const{connector:e}=t;return(0,se.N)((i,r)=>{const c=e();(0,un.Tg)(n(function Yre(n){return new J.c(t=>n.subscribe(t))}(c))).subscribe(r),r.add(i.subscribe(c))})}const HC="Service workers are disabled or not supported by this browser";class ek{constructor(t){if(this.serviceWorker=t,t){const i=ru(t,"controllerchange").pipe((0,De.T)(()=>t.controller)),r=tn(()=>Y(t.controller)),c=(0,At.x)(r,i);this.worker=c.pipe((0,kn.p)(A=>!!A)),this.registration=this.worker.pipe(pr(()=>t.getRegistration()));const w=ru(t,"message").pipe((0,De.T)(A=>A.data)).pipe((0,kn.p)(A=>A&&A.type)).pipe(function eoe(n){return n?t=>nW(n)(t):t=>function Jre(n,t){const e=(0,Ce.T)(n)?n:()=>n;return(0,Ce.T)(t)?nW(t,{connector:e}):i=>new W(i,e)}(new B.B)(t)}());w.connect(),this.events=w}else this.worker=this.events=this.registration=function toe(n){return tn(()=>Rn(new Error(n)))}(HC)}postMessage(t,e){return this.worker.pipe(Xi(1),_i(i=>{i.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,i){const r=this.waitForOperationCompleted(i),c=this.postMessage(t,e);return Promise.all([c,r]).then(([,d])=>d)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?i=>i.type===t:i=>t.includes(i.type),this.events.pipe((0,kn.p)(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Xi(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,kn.p)(e=>e.nonce===t),Xi(1),(0,De.T)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let noe=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new B.B,!e.isEnabled)return this.messages=s0,this.notificationClicks=s0,void(this.subscription=s0);this.messages=this.sw.eventsOfType("PUSH").pipe((0,De.T)(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,De.T)(r=>r.data)),this.pushManager=this.sw.registration.pipe((0,De.T)(r=>r.pushManager));const i=this.pushManager.pipe(pr(r=>r.getSubscription()));this.subscription=(0,Uo.h)(i,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(HC));const i={userVisibleOnly:!0};let r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),c=new Uint8Array(new ArrayBuffer(r.length));for(let d=0;d<r.length;d++)c[d]=r.charCodeAt(d);return i.applicationServerKey=c,this.pushManager.pipe(pr(d=>d.subscribe(i)),Xi(1)).toPromise().then(d=>(this.subscriptionChanges.next(d),d))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Xi(1),pr(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(HC))}decodeBase64(e){return atob(e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(ek))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})(),ioe=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=s0,void(this.unrecoverable=s0);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(HC));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(HC));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static#e=this.\u0275fac=function(i){return new(i||n)(a.KVO(ek))};static#t=this.\u0275prov=a.jDH({token:n,factory:n.\u0275fac})}return n})();const iW=new a.nKC("");function roe(n,t,e,i){return()=>{if(!tl(i)||!("serviceWorker"in navigator)||!1===e.enabled)return;const r=n.get(a.SKi),c=n.get(a.o8S);let d;if(r.runOutsideAngular(()=>{const f=navigator.serviceWorker,p=()=>f.controller?.postMessage({action:"INITIALIZE"});f.addEventListener("controllerchange",p),c.onDestroy(()=>{f.removeEventListener("controllerchange",p)})}),"function"==typeof e.registrationStrategy)d=e.registrationStrategy();else{const[f,...p]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(f){case"registerImmediately":d=Y(null);break;case"registerWithDelay":d=rW(+p[0]||0);break;case"registerWhenStable":d=p[0]?(0,Uo.h)(oW(n),rW(+p[0])):oW(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}r.runOutsideAngular(()=>d.pipe(Xi(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(f=>console.error("Service worker registration failed with:",f))))}}function rW(n){return Y(null).pipe(uf(n))}function oW(n){return n.get(a.o8S).isStable.pipe((0,kn.p)(e=>e))}function ooe(n,t){return new ek(tl(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class h3{}(function zu(n,t){return(0,a.TL3)({rootComponent:n,...Am(t)})})(UZ,{providers:[function W_(n,...t){return(0,a.EmA)([{provide:Fh,multi:!0,useValue:n},[],{provide:ws,useFactory:Xm,deps:[gr]},{provide:a.iLQ,multi:!0,useFactory:dA},t.map(e=>e.\u0275providers)])}(Qre,pE()),function soe(n,t={}){return(0,a.EmA)([noe,ioe,{provide:iW,useValue:n},{provide:h3,useValue:t},{provide:ek,useFactory:ooe,deps:[h3,a.Agw]},{provide:a.hnV,useFactory:roe,deps:[a.zZn,iW,h3,a.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,a.naY)(),registrationStrategy:"registerWhenStable:3000"}),function GZ(n="animations"){return(0,a.ngT)("NgAsyncAnimations"),(0,a.EmA)([{provide:a._9s,useFactory:(t,e,i)=>new HZ(t,e,i,n),deps:[Se,C0,a.SKi]},{provide:a.bc$,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}()]}).catch(n=>console.error(n))},5505:function(Bt){Bt.exports=function(){"use strict";var et=function(v,T){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(x,N){x.__proto__=N}||function(x,N){for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&(x[V]=N[V])})(v,T)},P=function(){return(P=Object.assign||function(v){for(var T,x=1,N=arguments.length;x<N;x++)for(var V in T=arguments[x])Object.prototype.hasOwnProperty.call(T,V)&&(v[V]=T[V]);return v}).apply(this,arguments)};function J(v,T,x){if(x||2===arguments.length)for(var N,V=0,$=T.length;V<$;V++)!N&&V in T||((N=N||Array.prototype.slice.call(T,0,V))[V]=T[V]);return v.concat(N||Array.prototype.slice.call(T))}var ne=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pe=Object.keys,ae=Array.isArray;function D(v,T){return"object"!=typeof T||pe(T).forEach(function(x){v[x]=T[x]}),v}typeof Promise>"u"||ne.Promise||(ne.Promise=Promise);var a=Object.getPrototypeOf,Ce={}.hasOwnProperty;function lt(v,T){return Ce.call(v,T)}function Be(v,T){"function"==typeof T&&(T=T(a(v))),(typeof Reflect>"u"?pe:Reflect.ownKeys)(T).forEach(function(x){Y(v,x,T[x])})}var Ue=Object.defineProperty;function Y(v,T,x,N){Ue(v,T,D(x&&lt(x,"get")&&"function"==typeof x.get?{get:x.get,set:x.set,configurable:!0}:{value:x,configurable:!0,writable:!0},N))}function Me(v){return{from:function(T){return v.prototype=Object.create(T.prototype),Y(v.prototype,"constructor",v),{extend:Be.bind(null,v.prototype)}}}}var Ne=Object.getOwnPropertyDescriptor,oe=[].slice;function ze(v,T,x){return oe.call(v,T,x)}function Re(v,T){return T(v)}function ke(v){if(!v)throw new Error("Assertion Failed")}function ge(v){ne.setImmediate?setImmediate(v):setTimeout(v,0)}function Fe(v,T){if("string"==typeof T&&lt(v,T))return v[T];if(!T)return v;if("string"!=typeof T){for(var x=[],N=0,V=T.length;N<V;++N){var $=Fe(v,T[N]);x.push($)}return x}var ee=T.indexOf(".");if(-1!==ee){var ye=v[T.substr(0,ee)];return null==ye?void 0:Fe(ye,T.substr(ee+1))}}function De(v,T,x){if(v&&void 0!==T&&(!("isFrozen"in Object)||!Object.isFrozen(v)))if("string"!=typeof T&&"length"in T){ke("string"!=typeof x&&"length"in x);for(var N=0,V=T.length;N<V;++N)De(v,T[N],x[N])}else{var $,ee,ye=T.indexOf(".");-1!==ye?($=T.substr(0,ye),""===(ee=T.substr(ye+1))?void 0===x?ae(v)&&!isNaN(parseInt($))?v.splice($,1):delete v[$]:v[$]=x:De(ye=(ye=v[$])&&lt(v,$)?ye:v[$]={},ee,x)):void 0===x?ae(v)&&!isNaN(parseInt(T))?v.splice(T,1):delete v[T]:v[T]=x}}function Ae(v){var T,x={};for(T in v)lt(v,T)&&(x[T]=v[T]);return x}var We=[].concat;function Ie(v){return We.apply([],v)}var ko="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ie([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(T){return T+v+"Array"})}))).filter(function(v){return ne[v]}),st=new Set(ko.map(function(v){return ne[v]})),Qe=null;function _e(v){return Qe=new WeakMap,v=function T(x){if(!x||"object"!=typeof x)return x;var N=Qe.get(x);if(N)return N;if(ae(x)){Qe.set(x,N=[]);for(var V=0,$=x.length;V<$;++V)N.push(T(x[V]))}else if(st.has(x.constructor))N=x;else{var ee,ye=a(x);for(ee in N=ye===Object.prototype?{}:Object.create(ye),Qe.set(x,N),x)lt(x,ee)&&(N[ee]=T(x[ee]))}return N}(v),Qe=null,v}var ue={}.toString;function Q(v){return ue.call(v).slice(8,-1)}var pt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ct="symbol"==typeof pt?function(v){var T;return null!=v&&(T=v[pt])&&T.apply(v)}:function(){return null};function At(v,T){return 0<=(T=v.indexOf(T))&&v.splice(T,1),0<=T}var un={};function tn(v){var T,x,N,V;if(1===arguments.length){if(ae(v))return v.slice();if(this===un&&"string"==typeof v)return[v];if(V=Ct(v)){for(x=[];!(N=V.next()).done;)x.push(N.value);return x}if(null==v)return[v];if("number"!=typeof(T=v.length))return[v];for(x=new Array(T);T--;)x[T]=v[T];return x}for(T=arguments.length,x=new Array(T);T--;)x[T]=arguments[T];return x}var mn=typeof Symbol<"u"?function(v){return"AsyncFunction"===v[Symbol.toStringTag]}:function(){return!1},ao=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Tn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),Rn={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ge(v,T){this.name=v,this.message=T}function se(v,T){return v+". Errors: "+Object.keys(T).map(function(x){return T[x].toString()}).filter(function(x,N,V){return V.indexOf(x)===N}).join("\n")}function be(v,T,x,N){this.failures=T,this.failedKeys=N,this.successCount=x,this.message=se(v,T)}function W(v,T){this.name="BulkError",this.failures=Object.keys(T).map(function(x){return T[x]}),this.failuresByPos=T,this.message=se(v,this.failures)}Me(Ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Me(be).from(Ge),Me(W).from(Ge);var B=ao.reduce(function(v,T){return v[T]=T+"Error",v},{}),H=Ge,X=ao.reduce(function(v,T){var x=T+"Error";function N(V,$){this.name=x,V?"string"==typeof V?(this.message="".concat(V).concat($?"\n "+$:""),this.inner=$||null):"object"==typeof V&&(this.message="".concat(V.name," ").concat(V.message),this.inner=V):(this.message=Rn[T]||x,this.inner=null)}return Me(N).from(H),v[T]=N,v},{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var Z=Tn.reduce(function(v,T){return v[T+"Error"]=X[T],v},{}),re=ao.reduce(function(v,T){return-1===["Syntax","Type","Range"].indexOf(T)&&(v[T+"Error"]=X[T]),v},{});function ce(){}function Se(v){return v}function It(v,T){return null==v||v===Se?T:function(x){return T(v(x))}}function Lt(v,T){return function(){v.apply(this,arguments),T.apply(this,arguments)}}function Rt(v,T){return v===ce?T:function(){var x=v.apply(this,arguments);void 0!==x&&(arguments[0]=x);var N=this.onsuccess,V=this.onerror;this.onsuccess=null,this.onerror=null;var $=T.apply(this,arguments);return N&&(this.onsuccess=this.onsuccess?Lt(N,this.onsuccess):N),V&&(this.onerror=this.onerror?Lt(V,this.onerror):V),void 0!==$?$:x}}function Ut(v,T){return v===ce?T:function(){v.apply(this,arguments);var x=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,T.apply(this,arguments),x&&(this.onsuccess=this.onsuccess?Lt(x,this.onsuccess):x),N&&(this.onerror=this.onerror?Lt(N,this.onerror):N)}}function rn(v,T){return v===ce?T:function(x){var N=v.apply(this,arguments);D(x,N);var V=this.onsuccess,$=this.onerror;return this.onsuccess=null,this.onerror=null,x=T.apply(this,arguments),V&&(this.onsuccess=this.onsuccess?Lt(V,this.onsuccess):V),$&&(this.onerror=this.onerror?Lt($,this.onerror):$),void 0===N?void 0===x?void 0:x:D(N,x)}}function sn(v,T){return v===ce?T:function(){return!1!==T.apply(this,arguments)&&v.apply(this,arguments)}}function ln(v,T){return v===ce?T:function(){var x=v.apply(this,arguments);if(x&&"function"==typeof x.then){for(var N=this,V=arguments.length,$=new Array(V);V--;)$[V]=arguments[V];return x.then(function(){return T.apply(N,$)})}return T.apply(this,arguments)}}re.ModifyError=be,re.DexieError=Ge,re.BulkError=W;var $t=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function hn(v){$t=v}var Tn,on={},Nn=100,eo=(ao=(ao=(ko=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,a(v),v];var T=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[T,a(T),v]}())[1])&&ao.then,(Tn=ko[0])&&Tn.constructor),to=!!(ko=ko[2]),Bi=function(v,T){Wo.push([v,T]),Ei&&(queueMicrotask(rr),Ei=!1)},zt=!0,Ei=!0,fi=[],Zn=[],$n=Se,ri={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ce,pgp:!1,env:{},finalize:ce},jt=ri,Wo=[],xo=0,oa=[];function kt(v){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var T=this._PSD=jt;if("function"!=typeof v){if(v!==on)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&aa(this,this._value))}this._state=null,this._value=null,++T.ref,function x(N,V){try{V(function($){if(null===N._state){if($===N)throw new TypeError("A promise cannot be resolved with itself.");var ee=N._lib&&wi();$&&"function"==typeof $.then?x(N,function(ye,He){$ instanceof kt?$._then(ye,He):$.then(ye,He)}):(N._state=!0,N._value=$,oc(N)),ee&&dr()}},aa.bind(null,N))}catch($){aa(N,$)}}(this,v)}var Ko={get:function(){var v=jt,T=la;function x(N,V){var $=this,ee=!v.global&&(v!==jt||T!==la),ye=ee&&!kr(),He=new kt(function(Oe,tt){no($,new sa(mo(N,v,ee,ye),mo(V,v,ee,ye),Oe,tt,v))});return this._consoleTask&&(He._consoleTask=this._consoleTask),He}return x.prototype=on,x},set:function(v){Y(this,"then",v&&v.prototype===on?Ko:{get:function(){return v},set:Ko.set})}};function sa(v,T,x,N,V){this.onFulfilled="function"==typeof v?v:null,this.onRejected="function"==typeof T?T:null,this.resolve=x,this.reject=N,this.psd=V}function aa(v,T){var x,N;Zn.push(T),null===v._state&&(x=v._lib&&wi(),T=$n(T),v._state=!1,v._value=T,N=v,fi.some(function(V){return V._value===N._value})||fi.push(N),oc(v),x&&dr())}function oc(v){var T=v._listeners;v._listeners=[];for(var x=0,N=T.length;x<N;++x)no(v,T[x]);var V=v._PSD;--V.ref||V.finalize(),0===xo&&(++xo,Bi(function(){0==--xo&&Mo()},[]))}function no(v,T){if(null!==v._state){var x=v._state?T.onFulfilled:T.onRejected;if(null===x)return(v._state?T.resolve:T.reject)(v._value);++T.psd.ref,++xo,Bi(Ui,[x,v,T])}else v._listeners.push(T)}function Ui(v,T,x){try{var N,V=T._value;!T._state&&Zn.length&&(Zn=[]),N=$t&&T._consoleTask?T._consoleTask.run(function(){return v(V)}):v(V),T._state||-1!==Zn.indexOf(V)||function($){for(var ee=fi.length;ee;)if(fi[--ee]._value===$._value)return fi.splice(ee,1)}(T),x.resolve(N)}catch($){x.reject($)}finally{0==--xo&&Mo(),--x.psd.ref||x.psd.finalize()}}function rr(){hr(ri,function(){wi()&&dr()})}function wi(){var v=zt;return Ei=zt=!1,v}function dr(){var v,T,x;do{for(;0<Wo.length;)for(v=Wo,Wo=[],x=v.length,T=0;T<x;++T){var N=v[T];N[0].apply(null,N[1])}}while(0<Wo.length);Ei=zt=!0}function Mo(){var v=fi;fi=[],v.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)});for(var T=oa.slice(0),x=T.length;x;)T[--x]()}function sc(v){return new kt(on,!1,v)}function yn(v,T){var x=jt;return function(){var N=wi(),V=jt;try{return ms(x,!0),v.apply(this,arguments)}catch($){T&&T($)}finally{ms(V,!1),N&&dr()}}}Be(kt.prototype,{then:Ko,_then:function(v,T){no(this,new sa(null,null,v,T,jt))},catch:function(v){if(1===arguments.length)return this.then(null,v);var T=v,x=arguments[1];return this.then(null,"function"==typeof T?function(N){return(N instanceof T?x:sc)(N)}:function(N){return(N&&N.name===T?x:sc)(N)})},finally:function(v){return this.then(function(T){return kt.resolve(v()).then(function(){return T})},function(T){return kt.resolve(v()).then(function(){return sc(T)})})},timeout:function(v,T){var x=this;return v<1/0?new kt(function(N,V){var $=setTimeout(function(){return V(new X.Timeout(T))},v);x.then(N,V).finally(clearTimeout.bind(null,$))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Y(kt.prototype,Symbol.toStringTag,"Dexie.Promise"),ri.env=ps(),Be(kt,{all:function(){var v=tn.apply(null,arguments).map(Na);return new kt(function(T,x){0===v.length&&T([]);var N=v.length;v.forEach(function(V,$){return kt.resolve(V).then(function(ee){v[$]=ee,--N||T(v)},x)})})},resolve:function(v){return v instanceof kt?v:v&&"function"==typeof v.then?new kt(function(T,x){v.then(T,x)}):new kt(on,!0,v)},reject:sc,race:function(){var v=tn.apply(null,arguments).map(Na);return new kt(function(T,x){v.map(function(N){return kt.resolve(N).then(T,x)})})},PSD:{get:function(){return jt},set:function(v){return jt=v}},totalEchoes:{get:function(){return la}},newPSD:Kn,usePSD:hr,scheduler:{get:function(){return Bi},set:function(v){Bi=v}},rejectionMapper:{get:function(){return $n},set:function(v){$n=v}},follow:function(v,T){return new kt(function(x,N){return Kn(function(V,$){var ee=jt;ee.unhandleds=[],ee.onunhandled=$,ee.finalize=Lt(function(){var ye,He=this;ye=function(){0===He.unhandleds.length?V():$(He.unhandleds[0])},oa.push(function Oe(){ye(),oa.splice(oa.indexOf(Oe),1)}),++xo,Bi(function(){0==--xo&&Mo()},[])},ee.finalize),v()},T,x,N)})}}),eo&&(eo.allSettled&&Y(kt,"allSettled",function(){var v=tn.apply(null,arguments).map(Na);return new kt(function(T){0===v.length&&T([]);var x=v.length,N=new Array(x);v.forEach(function(V,$){return kt.resolve(V).then(function(ee){return N[$]={status:"fulfilled",value:ee}},function(ee){return N[$]={status:"rejected",reason:ee}}).then(function(){return--x||T(N)})})})}),eo.any&&typeof AggregateError<"u"&&Y(kt,"any",function(){var v=tn.apply(null,arguments).map(Na);return new kt(function(T,x){0===v.length&&x(new AggregateError([]));var N=v.length,V=new Array(N);v.forEach(function($,ee){return kt.resolve($).then(function(ye){return T(ye)},function(ye){V[ee]=ye,--N||x(new AggregateError(V))})})})}));var mi={awaits:0,echoes:0,id:0},fs=0,ca=[],Ro=0,la=0,$c=0;function Kn(v,T,x,N){var V=jt,$=Object.create(V);return $.parent=V,$.ref=0,$.global=!1,$.id=++$c,$.env=to?{Promise:kt,PromiseProp:{value:kt,configurable:!0,writable:!0},all:kt.all,race:kt.race,allSettled:kt.allSettled,any:kt.any,resolve:kt.resolve,reject:kt.reject}:{},T&&D($,T),++V.ref,$.finalize=function(){--this.parent.ref||this.parent.finalize()},N=hr($,v,x,N),0===$.ref&&$.finalize(),N}function qo(){return mi.id||(mi.id=++fs),++mi.awaits,mi.echoes+=Nn,mi.id}function kr(){return!!mi.awaits&&(0==--mi.awaits&&(mi.id=0),mi.echoes=mi.awaits*Nn,!0)}function Na(v){return mi.echoes&&v&&v.constructor===eo?(qo(),v.then(function(T){return kr(),T},function(T){return kr(),_n(T)})):v}function Rl(){var v=ca[ca.length-1];ca.pop(),ms(v,!1)}function ms(v,T){var x,N=jt;(T?!mi.echoes||Ro++&&v===jt:!Ro||--Ro&&v===jt)||queueMicrotask(T?function(V){++la,mi.echoes&&0!=--mi.echoes||(mi.echoes=mi.awaits=mi.id=0),ca.push(jt),ms(V,!0)}.bind(null,v):Rl),v!==jt&&(jt=v,N===ri&&(ri.env=ps()),to&&(x=ri.env.Promise,T=v.env,(N.global||v.global)&&(Object.defineProperty(ne,"Promise",T.PromiseProp),x.all=T.all,x.race=T.race,x.resolve=T.resolve,x.reject=T.reject,T.allSettled&&(x.allSettled=T.allSettled),T.any&&(x.any=T.any))))}function ps(){var v=ne.Promise;return to?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(ne,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function hr(v,T,x,N,V){var $=jt;try{return ms(v,!0),T(x,N,V)}finally{ms($,!1)}}function mo(v,T,x,N){return"function"!=typeof v?v:function(){var V=jt;x&&qo(),ms(T,!0);try{return v.apply(this,arguments)}finally{ms(V,!1),N&&queueMicrotask(kr)}}}function Fn(v){Promise===eo&&0===mi.echoes?0===Ro?v():enqueueNativeMicroTask(v):setTimeout(v,0)}-1===(""+ao).indexOf("[native code]")&&(qo=kr=ce);var _n=kt.reject,fr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",_s="String expected.",Fs=[],wr="__dbnames",ac="readonly",ji="readwrite";function ua(v,T){return v?T?function(){return v.apply(this,arguments)&&T.apply(this,arguments)}:v:T}var Ii={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function cc(v){return"string"!=typeof v||/\./.test(v)?function(T){return T}:function(T){return void 0===T[v]&&v in T&&delete(T=_e(T))[v],T}}function Po(){throw X.Type()}function Gn(v,T){try{var x=Ls(v),N=Ls(T);if(x!==N)return"Array"===x?1:"Array"===N?-1:"binary"===x?1:"binary"===N?-1:"string"===x?1:"string"===N?-1:"Date"===x?1:"Date"!==N?NaN:-1;switch(x){case"number":case"Date":case"string":return T<v?1:v<T?-1:0;case"binary":return function(V,$){for(var ee=V.length,ye=$.length,He=ee<ye?ee:ye,Oe=0;Oe<He;++Oe)if(V[Oe]!==$[Oe])return V[Oe]<$[Oe]?-1:1;return ee===ye?0:ee<ye?-1:1}(Pl(v),Pl(T));case"Array":return function(V,$){for(var ee=V.length,ye=$.length,He=ee<ye?ee:ye,Oe=0;Oe<He;++Oe){var tt=Gn(V[Oe],$[Oe]);if(0!==tt)return tt}return ee===ye?0:ee<ye?-1:1}(v,T)}}catch{}return NaN}function Ls(v){var T=typeof v;return"object"!=T?T:ArrayBuffer.isView(v)||"ArrayBuffer"===(v=Q(v))?"binary":v}function Pl(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var Hr=(oi.prototype._trans=function(v,T,x){var N=this._tx||jt.trans,V=this.name,$=$t&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===v?"read":"write"," ").concat(this.name));function ee(Oe,tt,xe){if(!xe.schema[V])throw new X.NotFound("Table "+V+" not part of transaction");return T(xe.idbtrans,xe)}var ye=wi();try{var He=N&&N.db._novip===this.db._novip?N===jt.trans?N._promise(v,ee,x):Kn(function(){return N._promise(v,ee,x)},{trans:N,transless:jt.transless||jt}):function Oe(tt,xe,nt,Le){if(tt.idbdb&&(tt._state.openComplete||jt.letThrough||tt._vip)){var Xe=tt._createTransaction(xe,nt,tt._dbSchema);try{Xe.create(),tt._state.PR1398_maxLoop=3}catch(Ye){return Ye.name===B.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return Oe(tt,xe,nt,Le)})):_n(Ye)}return Xe._promise(xe,function(Ye,$e){return Kn(function(){return jt.trans=Xe,Le(Ye,$e,Xe)})}).then(function(Ye){if("readwrite"===xe)try{Xe.idbtrans.commit()}catch{}return"readonly"===xe?Ye:Xe._completion.then(function(){return Ye})})}if(tt._state.openComplete)return _n(new X.DatabaseClosed(tt._state.dbOpenError));if(!tt._state.isBeingOpened){if(!tt._state.autoOpen)return _n(new X.DatabaseClosed);tt.open().catch(ce)}return tt._state.dbReadyPromise.then(function(){return Oe(tt,xe,nt,Le)})}(this.db,v,[this.name],ee);return $&&(He._consoleTask=$,He=He.catch(function(Oe){return console.trace(Oe),_n(Oe)})),He}finally{ye&&dr()}},oi.prototype.get=function(v,T){var x=this;return v&&v.constructor===Object?this.where(v).first(T):null==v?_n(new X.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return x.core.get({trans:N,key:v}).then(function(V){return x.hook.reading.fire(V)})}).then(T)},oi.prototype.where=function(v){if("string"==typeof v)return new this.db.WhereClause(this,v);if(ae(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var T=pe(v);if(1===T.length)return this.where(T[0]).equals(v[T[0]]);var x=this.schema.indexes.concat(this.schema.primKey).filter(function(He){if(He.compound&&T.every(function(tt){return 0<=He.keyPath.indexOf(tt)})){for(var Oe=0;Oe<T.length;++Oe)if(-1===T.indexOf(He.keyPath[Oe]))return!1;return!0}return!1}).sort(function(He,Oe){return He.keyPath.length-Oe.keyPath.length})[0];if(x&&"\uffff"!==this.db._maxKey){var ee=x.keyPath.slice(0,T.length);return this.where(ee).equals(ee.map(function(Oe){return v[Oe]}))}!x&&$t&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(T.join("+"),"]"));var N=this.schema.idxByName,V=this.db._deps.indexedDB;function $(He,Oe){return 0===V.cmp(He,Oe)}ee=(ye=T.reduce(function(nt,Oe){var tt=nt[0],xe=nt[1],Le=(nt=N[Oe],v[Oe]);return[tt||nt,tt||!nt?ua(xe,nt&&nt.multi?function(Xe){return Xe=Fe(Xe,Oe),ae(Xe)&&Xe.some(function(Ye){return $(Le,Ye)})}:function(Xe){return $(Le,Fe(Xe,Oe))}):xe]},[null,null]))[0];var ye=ye[1];return ee?this.where(ee.name).equals(v[ee.keyPath]).filter(ye):x?this.filter(ye):this.where(T).equals("")},oi.prototype.filter=function(v){return this.toCollection().and(v)},oi.prototype.count=function(v){return this.toCollection().count(v)},oi.prototype.offset=function(v){return this.toCollection().offset(v)},oi.prototype.limit=function(v){return this.toCollection().limit(v)},oi.prototype.each=function(v){return this.toCollection().each(v)},oi.prototype.toArray=function(v){return this.toCollection().toArray(v)},oi.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},oi.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,ae(v)?"[".concat(v.join("+"),"]"):v))},oi.prototype.reverse=function(){return this.toCollection().reverse()},oi.prototype.mapToClass=function(v){var T,x=this.db,N=this.name;function V(){return null!==T&&T.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof Po&&(function(He,Oe){if("function"!=typeof Oe&&null!==Oe)throw new TypeError("Class extends value "+String(Oe)+" is not a constructor or null");function tt(){this.constructor=He}et(He,Oe),He.prototype=null===Oe?Object.create(Oe):(tt.prototype=Oe.prototype,new tt)}(V,T=v),Object.defineProperty(V.prototype,"db",{get:function(){return x},enumerable:!1,configurable:!0}),V.prototype.table=function(){return N},v=V);for(var $=new Set,ee=v.prototype;ee;ee=a(ee))Object.getOwnPropertyNames(ee).forEach(function(He){return $.add(He)});function ye(He){if(!He)return He;var Oe,tt=Object.create(v.prototype);for(Oe in He)if(!$.has(Oe))try{tt[Oe]=He[Oe]}catch{}return tt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ye,this.hook("reading",ye),v},oi.prototype.defineClass=function(){return this.mapToClass(function(v){D(this,v)})},oi.prototype.add=function(v,T){var x=this,N=this.schema.primKey,$=N.keyPath,ee=v;return $&&N.auto&&(ee=cc($)(v)),this._trans("readwrite",function(ye){return x.core.mutate({trans:ye,type:"add",keys:null!=T?[T]:null,values:[ee]})}).then(function(ye){return ye.numFailures?kt.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if($)try{De(v,$,ye)}catch{}return ye})},oi.prototype.update=function(v,T){return"object"!=typeof v||ae(v)?this.where(":id").equals(v).modify(T):void 0===(v=Fe(v,this.schema.primKey.keyPath))?_n(new X.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(T)},oi.prototype.put=function(v,T){var x=this,N=this.schema.primKey,$=N.keyPath,ee=v;return $&&N.auto&&(ee=cc($)(v)),this._trans("readwrite",function(ye){return x.core.mutate({trans:ye,type:"put",values:[ee],keys:null!=T?[T]:null})}).then(function(ye){return ye.numFailures?kt.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if($)try{De(v,$,ye)}catch{}return ye})},oi.prototype.delete=function(v){var T=this;return this._trans("readwrite",function(x){return T.core.mutate({trans:x,type:"delete",keys:[v]})}).then(function(x){return x.numFailures?kt.reject(x.failures[0]):void 0})},oi.prototype.clear=function(){var v=this;return this._trans("readwrite",function(T){return v.core.mutate({trans:T,type:"deleteRange",range:Ii})}).then(function(T){return T.numFailures?kt.reject(T.failures[0]):void 0})},oi.prototype.bulkGet=function(v){var T=this;return this._trans("readonly",function(x){return T.core.getMany({keys:v,trans:x}).then(function(N){return N.map(function(V){return T.hook.reading.fire(V)})})})},oi.prototype.bulkAdd=function(v,T,x){var N=this,V=Array.isArray(T)?T:void 0,$=(x=x||(V?void 0:T))?x.allKeys:void 0;return this._trans("readwrite",function(ee){var ye=(Oe=N.schema.primKey).auto;if((Oe=Oe.keyPath)&&V)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var He=v.length,Oe=Oe&&ye?v.map(cc(Oe)):v;return N.core.mutate({trans:ee,type:"add",keys:V,values:Oe,wantResults:$}).then(function(Xe){var xe=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===xe)return $?nt:Le;throw new W("".concat(N.name,".bulkAdd(): ").concat(xe," of ").concat(He," operations failed"),Xe)})})},oi.prototype.bulkPut=function(v,T,x){var N=this,V=Array.isArray(T)?T:void 0,$=(x=x||(V?void 0:T))?x.allKeys:void 0;return this._trans("readwrite",function(ee){var ye=(Oe=N.schema.primKey).auto;if((Oe=Oe.keyPath)&&V)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var He=v.length,Oe=Oe&&ye?v.map(cc(Oe)):v;return N.core.mutate({trans:ee,type:"put",keys:V,values:Oe,wantResults:$}).then(function(Xe){var xe=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===xe)return $?nt:Le;throw new W("".concat(N.name,".bulkPut(): ").concat(xe," of ").concat(He," operations failed"),Xe)})})},oi.prototype.bulkUpdate=function(v){var T=this,x=this.core,N=v.map(function(ee){return ee.key}),V=v.map(function(ee){return ee.changes}),$=[];return this._trans("readwrite",function(ee){return x.getMany({trans:ee,keys:N,cache:"clone"}).then(function(ye){var He=[],Oe=[];v.forEach(function(xe,nt){var Le=xe.key,Xe=xe.changes,Ye=ye[nt];if(Ye){for(var $e=0,ft=Object.keys(Xe);$e<ft.length;$e++){var qe=ft[$e],it=Xe[qe];if(qe===T.schema.primKey.keyPath){if(0!==Gn(it,Le))throw new X.Constraint("Cannot update primary key in bulkUpdate()")}else De(Ye,qe,it)}$.push(nt),He.push(Le),Oe.push(Ye)}});var tt=He.length;return x.mutate({trans:ee,type:"put",keys:He,values:Oe,updates:{keys:N,changeSpecs:V}}).then(function(xe){var nt=xe.numFailures,Le=xe.failures;if(0===nt)return tt;for(var Xe=0,Ye=Object.keys(Le);Xe<Ye.length;Xe++){var $e,ft=Ye[Xe],qe=$[Number(ft)];null!=qe&&($e=Le[ft],delete Le[ft],Le[qe]=$e)}throw new W("".concat(T.name,".bulkUpdate(): ").concat(nt," of ").concat(tt," operations failed"),Le)})})})},oi.prototype.bulkDelete=function(v){var T=this,x=v.length;return this._trans("readwrite",function(N){return T.core.mutate({trans:N,type:"delete",keys:v})}).then(function(ee){var V=ee.numFailures,$=ee.lastResult;if(ee=ee.failures,0===V)return $;throw new W("".concat(T.name,".bulkDelete(): ").concat(V," of ").concat(x," operations failed"),ee)})},oi);function oi(){}function vs(v){function T(ee,ye){if(ye){for(var He=arguments.length,Oe=new Array(He-1);--He;)Oe[He-1]=arguments[He];return x[ee].subscribe.apply(null,Oe),v}if("string"==typeof ee)return x[ee]}var x={};T.addEventType=$;for(var N=1,V=arguments.length;N<V;++N)$(arguments[N]);return T;function $(ee,ye,He){if("object"!=typeof ee){var Oe;ye=ye||sn;var tt={subscribers:[],fire:He=He||ce,subscribe:function(xe){-1===tt.subscribers.indexOf(xe)&&(tt.subscribers.push(xe),tt.fire=ye(tt.fire,xe))},unsubscribe:function(xe){tt.subscribers=tt.subscribers.filter(function(nt){return nt!==xe}),tt.fire=tt.subscribers.reduce(ye,He)}};return x[ee]=T[ee]=tt}pe(Oe=ee).forEach(function(xe){var nt=Oe[xe];if(ae(nt))$(xe,Oe[xe][0],Oe[xe][1]);else{if("asap"!==nt)throw new X.InvalidArgument("Invalid event config");var Le=$(xe,Se,function(){for(var Xe=arguments.length,Ye=new Array(Xe);Xe--;)Ye[Xe]=arguments[Xe];Le.subscribers.forEach(function($e){ge(function(){$e.apply(null,Ye)})})})}})}}function da(v,T){return Me(T).from({prototype:v}),T}function Fa(v,T){return!(v.filter||v.algorithm||v.or)&&(T?v.justLimit:!v.replayFilter)}function Gc(v,T){v.filter=ua(v.filter,T)}function La(v,T,x){var N=v.replayFilter;v.replayFilter=N?function(){return ua(N(),T())}:T,v.justLimit=x&&!N}function Va(v,T){if(v.isPrimKey)return T.primaryKey;var x=T.getIndexByKeyPath(v.index);if(!x)throw new X.Schema("KeyPath "+v.index+" on object store "+T.name+" is not indexed");return x}function zc(v,T,x){var N=Va(v,T.schema);return T.openCursor({trans:x,values:!v.keysOnly,reverse:"prev"===v.dir,unique:!!v.unique,query:{index:N,range:v.range}})}function kl(v,T,x,N){var V=v.replayFilter?ua(v.filter,v.replayFilter()):v.filter;if(v.or){var $={},ee=function(ye,He,Oe){var tt,xe;V&&!V(He,Oe,function(nt){return He.stop(nt)},function(nt){return He.fail(nt)})||("[object ArrayBuffer]"==(xe=""+(tt=He.primaryKey))&&(xe=""+new Uint8Array(tt)),lt($,xe)||($[xe]=!0,T(ye,He,Oe)))};return Promise.all([v.or._iterate(ee,x),Ba(zc(v,N,x),v.algorithm,ee,!v.keysOnly&&v.valueMapper)])}return Ba(zc(v,N,x),ua(v.algorithm,V),T,!v.keysOnly&&v.valueMapper)}function Ba(v,T,x,N){var V=yn(N?function($,ee,ye){return x(N($),ee,ye)}:x);return v.then(function($){if($)return $.start(function(){var ee=function(){return $.continue()};T&&!T($,function(ye){return ee=ye},function(ye){$.stop(ye),ee=ce},function(ye){$.fail(ye),ee=ce})||V($.value,$,function(ye){return ee=ye}),ee()})})}ko=Symbol();var ha=(Wc.prototype.execute=function(v){if(void 0!==this.add){var T=this.add;if(ae(T))return J(J([],ae(v)?v:[],!0),T,!0).sort();if("number"==typeof T)return(Number(v)||0)+T;if("bigint"==typeof T)try{return BigInt(v)+T}catch{return BigInt(0)+T}throw new TypeError("Invalid term ".concat(T))}if(void 0!==this.remove){var x=this.remove;if(ae(x))return ae(v)?v.filter(function(N){return!x.includes(N)}).sort():[];if("number"==typeof x)return Number(v)-x;if("bigint"==typeof x)try{return BigInt(v)-x}catch{return BigInt(0)-x}throw new TypeError("Invalid subtrahend ".concat(x))}return(T=null===(T=this.replacePrefix)||void 0===T?void 0:T[0])&&"string"==typeof v&&v.startsWith(T)?this.replacePrefix[1]+v.substring(T.length):v},Wc);function Wc(v){Object.assign(this,v)}var Kc=(zn.prototype._read=function(v,T){var x=this._ctx;return x.error?x.table._trans(null,_n.bind(null,x.error)):x.table._trans("readonly",v).then(T)},zn.prototype._write=function(v){var T=this._ctx;return T.error?T.table._trans(null,_n.bind(null,T.error)):T.table._trans("readwrite",v,"locked")},zn.prototype._addAlgorithm=function(v){var T=this._ctx;T.algorithm=ua(T.algorithm,v)},zn.prototype._iterate=function(v,T){return kl(this._ctx,v,T,this._ctx.table.core)},zn.prototype.clone=function(v){var T=Object.create(this.constructor.prototype),x=Object.create(this._ctx);return v&&D(x,v),T._ctx=x,T},zn.prototype.raw=function(){return this._ctx.valueMapper=null,this},zn.prototype.each=function(v){var T=this._ctx;return this._read(function(x){return kl(T,v,x,T.table.core)})},zn.prototype.count=function(v){var T=this;return this._read(function(x){var N=T._ctx,V=N.table.core;if(Fa(N,!0))return V.count({trans:x,query:{index:Va(N,V.schema),range:N.range}}).then(function(ee){return Math.min(ee,N.limit)});var $=0;return kl(N,function(){return++$,!1},x,V).then(function(){return $})}).then(v)},zn.prototype.sortBy=function(v,T){var x=v.split(".").reverse(),N=x[0],V=x.length-1;function $(He,Oe){return Oe?$(He[x[Oe]],Oe-1):He[N]}var ee="next"===this._ctx.dir?1:-1;function ye(He,Oe){return(He=$(He,V))<(Oe=$(Oe,V))?-ee:Oe<He?ee:0}return this.toArray(function(He){return He.sort(ye)}).then(T)},zn.prototype.toArray=function(v){var T=this;return this._read(function(x){var N=T._ctx;if("next"===N.dir&&Fa(N,!0)&&0<N.limit){var V=N.valueMapper,$=Va(N,N.table.core.schema);return N.table.core.query({trans:x,limit:N.limit,values:!0,query:{index:$,range:N.range}}).then(function(ye){return ye=ye.result,V?ye.map(V):ye})}var ee=[];return kl(N,function(ye){return ee.push(ye)},x,N.table.core).then(function(){return ee})},v)},zn.prototype.offset=function(v){var T=this._ctx;return v<=0||(T.offset+=v,Fa(T)?La(T,function(){var x=v;return function(N,V){return 0===x||(1===x?--x:V(function(){N.advance(x),x=0}),!1)}}):La(T,function(){var x=v;return function(){return--x<0}})),this},zn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),La(this._ctx,function(){var T=v;return function(x,N,V){return--T<=0&&N(V),0<=T}},!0),this},zn.prototype.until=function(v,T){return Gc(this._ctx,function(x,N,V){return!v(x.value)||(N(V),T)}),this},zn.prototype.first=function(v){return this.limit(1).toArray(function(T){return T[0]}).then(v)},zn.prototype.last=function(v){return this.reverse().first(v)},zn.prototype.filter=function(v){var T;return Gc(this._ctx,function(x){return v(x.value)}),(T=this._ctx).isMatch=ua(T.isMatch,v),this},zn.prototype.and=function(v){return this.filter(v)},zn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},zn.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},zn.prototype.desc=function(){return this.reverse()},zn.prototype.eachKey=function(v){var T=this._ctx;return T.keysOnly=!T.isMatch,this.each(function(x,N){v(N.key,N)})},zn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},zn.prototype.eachPrimaryKey=function(v){var T=this._ctx;return T.keysOnly=!T.isMatch,this.each(function(x,N){v(N.primaryKey,N)})},zn.prototype.keys=function(v){var T=this._ctx;T.keysOnly=!T.isMatch;var x=[];return this.each(function(N,V){x.push(V.key)}).then(function(){return x}).then(v)},zn.prototype.primaryKeys=function(v){var T=this._ctx;if("next"===T.dir&&Fa(T,!0)&&0<T.limit)return this._read(function(N){var V=Va(T,T.table.core.schema);return T.table.core.query({trans:N,values:!1,limit:T.limit,query:{index:V,range:T.range}})}).then(function(N){return N.result}).then(v);T.keysOnly=!T.isMatch;var x=[];return this.each(function(N,V){x.push(V.primaryKey)}).then(function(){return x}).then(v)},zn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},zn.prototype.firstKey=function(v){return this.limit(1).keys(function(T){return T[0]}).then(v)},zn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},zn.prototype.distinct=function(){var v;if(!(v=(v=this._ctx).index&&v.table.schema.idxByName[v.index])||!v.multi)return this;var T={};return Gc(this._ctx,function(V){var N=V.primaryKey.toString();return V=lt(T,N),T[N]=!0,!V}),this},zn.prototype.modify=function(v){var T=this,x=this._ctx;return this._write(function(N){var V,$,ee;function ye($e,it){var qe=it.failures;Xe+=$e-(it=it.numFailures);for(var wt=0,Ft=pe(qe);wt<Ft.length;wt++)Le.push(qe[Ft[wt]])}ee="function"==typeof v?v:(V=pe(v),$=V.length,function($e){for(var ft=!1,qe=0;qe<$;++qe){var it=V[qe],wt=v[it],Ft=Fe($e,it);wt instanceof ha?(De($e,it,wt.execute(Ft)),ft=!0):Ft!==wt&&(De($e,it,wt),ft=!0)}return ft});var He=x.table.core,Oe=He.schema.primaryKey,tt=Oe.outbound,xe=Oe.extractKey,nt=T.db._options.modifyChunkSize||200,Le=[],Xe=0,Ye=[];return T.clone().primaryKeys().then(function($e){var qe=Fa(x)&&x.limit===1/0&&("function"!=typeof v||v===lc)&&{index:x.index,range:x.range};return function ft(it){var wt=Math.min(nt,$e.length-it);return He.getMany({trans:N,keys:$e.slice(it,it+wt),cache:"immutable"}).then(function(Ft){for(var xt=[],Vt=[],Kt=tt?[]:null,Xt=[],yt=0;yt<wt;++yt){var xn=Ft[yt],Pn={value:_e(xn),primKey:$e[it+yt]};!1!==ee.call(Pn,Pn.value,Pn)&&(null==Pn.value?Xt.push($e[it+yt]):tt||0===Gn(xe(xn),xe(Pn.value))?(Vt.push(Pn.value),tt&&Kt.push($e[it+yt])):(Xt.push($e[it+yt]),xt.push(Pn.value)))}return Promise.resolve(0<xt.length&&He.mutate({trans:N,type:"add",values:xt}).then(function(wn){for(var Vn in wn.failures)Xt.splice(parseInt(Vn),1);ye(xt.length,wn)})).then(function(){return(0<Vt.length||qe&&"object"==typeof v)&&He.mutate({trans:N,type:"put",keys:Kt,values:Vt,criteria:qe,changeSpec:"function"!=typeof v&&v,isAdditionalChunk:0<it}).then(function(wn){return ye(Vt.length,wn)})}).then(function(){return(0<Xt.length||qe&&v===lc)&&He.mutate({trans:N,type:"delete",keys:Xt,criteria:qe,isAdditionalChunk:0<it}).then(function(wn){return ye(Xt.length,wn)})}).then(function(){return $e.length>it+wt&&ft(it+nt)})})}(0).then(function(){if(0<Le.length)throw new be("Error modifying one or more objects",Le,Xe,Ye);return $e.length})})})},zn.prototype.delete=function(){var v=this._ctx,T=v.range;return Fa(v)&&(v.isPrimKey||3===T.type)?this._write(function(x){var V=T;return v.table.core.count({trans:x,query:{index:v.table.core.schema.primaryKey,range:V}}).then(function($){return v.table.core.mutate({trans:x,type:"deleteRange",range:V}).then(function(ee){var ye=ee.failures;if(ee=ee.numFailures)throw new be("Could not delete some values",Object.keys(ye).map(function(He){return ye[He]}),$-ee);return $-ee})})}):this.modify(lc)},zn);function zn(){}var lc=function(v,T){return T.value=null};function Ol(v,T){return v<T?-1:v===T?0:1}function Du(v,T){return T<v?-1:v===T?0:1}function po(v,T,x){return(v=v instanceof Pe?new v.Collection(v):v)._ctx.error=new(x||TypeError)(T),v}function io(v){return new v.Collection(v,function(){return G("")}).limit(0)}function uc(v,T,x,N){var V,$,ee,ye,He,Oe,tt,xe=x.length;if(!x.every(function(Xe){return"string"==typeof Xe}))return po(v,_s);function nt(Xe){V="next"===Xe?function($e){return $e.toUpperCase()}:function($e){return $e.toLowerCase()},$="next"===Xe?function($e){return $e.toLowerCase()}:function($e){return $e.toUpperCase()},ee="next"===Xe?Ol:Du;var Ye=x.map(function($e){return{lower:$($e),upper:V($e)}}).sort(function($e,ft){return ee($e.lower,ft.lower)});ye=Ye.map(function($e){return $e.upper}),He=Ye.map(function($e){return $e.lower}),tt="next"===(Oe=Xe)?"":N}nt("next"),(v=new v.Collection(v,function(){return ys(ye[0],He[xe-1]+N)}))._ondirectionchange=function(Xe){nt(Xe)};var Le=0;return v._addAlgorithm(function(Xe,Ye,$e){var ft=Xe.key;if("string"!=typeof ft)return!1;var qe=$(ft);if(T(qe,He,Le))return!0;for(var it=null,wt=Le;wt<xe;++wt){var Ft=function(xt,Vt,Kt,Xt,yt,xn){for(var Pn=Math.min(xt.length,Xt.length),wn=-1,Vn=0;Vn<Pn;++Vn){var ya=Vt[Vn];if(ya!==Xt[Vn])return yt(xt[Vn],Kt[Vn])<0?xt.substr(0,Vn)+Kt[Vn]+Kt.substr(Vn+1):yt(xt[Vn],Xt[Vn])<0?xt.substr(0,Vn)+Xt[Vn]+Kt.substr(Vn+1):0<=wn?xt.substr(0,wn)+Vt[wn]+Kt.substr(wn+1):null;yt(xt[Vn],ya)<0&&(wn=Vn)}return Pn<Xt.length&&"next"===xn?xt+Kt.substr(xt.length):Pn<xt.length&&"prev"===xn?xt.substr(0,Kt.length):wn<0?null:xt.substr(0,wn)+Xt[wn]+Kt.substr(wn+1)}(ft,qe,ye[wt],He[wt],ee,Oe);null===Ft&&null===it?Le=wt+1:(null===it||0<ee(it,Ft))&&(it=Ft)}return Ye(null!==it?function(){Xe.continue(it+tt)}:$e),!1}),v}function ys(v,T,x,N){return{type:2,lower:v,upper:T,lowerOpen:x,upperOpen:N}}function G(v){return{type:1,lower:v,upper:v}}var Pe=(Object.defineProperty(Je.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Je.prototype.between=function(v,T,x,N){x=!1!==x,N=!0===N;try{return 0<this._cmp(v,T)||0===this._cmp(v,T)&&(x||N)&&(!x||!N)?io(this):new this.Collection(this,function(){return ys(v,T,!x,!N)})}catch{return po(this,fr)}},Je.prototype.equals=function(v){return null==v?po(this,fr):new this.Collection(this,function(){return G(v)})},Je.prototype.above=function(v){return null==v?po(this,fr):new this.Collection(this,function(){return ys(v,void 0,!0)})},Je.prototype.aboveOrEqual=function(v){return null==v?po(this,fr):new this.Collection(this,function(){return ys(v,void 0,!1)})},Je.prototype.below=function(v){return null==v?po(this,fr):new this.Collection(this,function(){return ys(void 0,v,!1,!0)})},Je.prototype.belowOrEqual=function(v){return null==v?po(this,fr):new this.Collection(this,function(){return ys(void 0,v)})},Je.prototype.startsWith=function(v){return"string"!=typeof v?po(this,_s):this.between(v,v+"\uffff",!0,!0)},Je.prototype.startsWithIgnoreCase=function(v){return""===v?this.startsWith(v):uc(this,function(T,x){return 0===T.indexOf(x[0])},[v],"\uffff")},Je.prototype.equalsIgnoreCase=function(v){return uc(this,function(T,x){return T===x[0]},[v],"")},Je.prototype.anyOfIgnoreCase=function(){var v=tn.apply(un,arguments);return 0===v.length?io(this):uc(this,function(T,x){return-1!==x.indexOf(T)},v,"")},Je.prototype.startsWithAnyOfIgnoreCase=function(){var v=tn.apply(un,arguments);return 0===v.length?io(this):uc(this,function(T,x){return x.some(function(N){return 0===T.indexOf(N)})},v,"\uffff")},Je.prototype.anyOf=function(){var v=this,T=tn.apply(un,arguments),x=this._cmp;try{T.sort(x)}catch{return po(this,fr)}if(0===T.length)return io(this);var N=new this.Collection(this,function(){return ys(T[0],T[T.length-1])});N._ondirectionchange=function($){T.sort(x="next"===$?v._ascending:v._descending)};var V=0;return N._addAlgorithm(function($,ee,ye){for(var He=$.key;0<x(He,T[V]);)if(++V===T.length)return ee(ye),!1;return 0===x(He,T[V])||(ee(function(){$.continue(T[V])}),!1)}),N},Je.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Je.prototype.noneOf=function(){var v=tn.apply(un,arguments);if(0===v.length)return new this.Collection(this);try{v.sort(this._ascending)}catch{return po(this,fr)}var T=v.reduce(function(x,N){return x?x.concat([[x[x.length-1][1],N]]):[[-1/0,N]]},null);return T.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(T,{includeLowers:!1,includeUppers:!1})},Je.prototype.inAnyRange=function(ft,T){var x=this,N=this._cmp,V=this._ascending,$=this._descending,ee=this._min,ye=this._max;if(0===ft.length)return io(this);if(!ft.every(function(qe){return void 0!==qe[0]&&void 0!==qe[1]&&V(qe[0],qe[1])<=0}))return po(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);var tt,He=!T||!1!==T.includeLowers,Oe=T&&!0===T.includeUppers,xe=V;function nt(qe,it){return xe(qe[0],it[0])}try{(tt=ft.reduce(function(qe,it){for(var wt=0,Ft=qe.length;wt<Ft;++wt){var xt=qe[wt];if(N(it[0],xt[1])<0&&0<N(it[1],xt[0])){xt[0]=ee(xt[0],it[0]),xt[1]=ye(xt[1],it[1]);break}}return wt===Ft&&qe.push(it),qe},[])).sort(nt)}catch{return po(this,fr)}var Le=0,Xe=Oe?function(qe){return 0<V(qe,tt[Le][1])}:function(qe){return 0<=V(qe,tt[Le][1])},Ye=He?function(qe){return 0<$(qe,tt[Le][0])}:function(qe){return 0<=$(qe,tt[Le][0])},$e=Xe;return(ft=new this.Collection(this,function(){return ys(tt[0][0],tt[tt.length-1][1],!He,!Oe)}))._ondirectionchange=function(qe){xe="next"===qe?($e=Xe,V):($e=Ye,$),tt.sort(nt)},ft._addAlgorithm(function(qe,it,wt){for(var Ft,xt=qe.key;$e(xt);)if(++Le===tt.length)return it(wt),!1;return!Xe(Ft=xt)&&!Ye(Ft)||(0===x._cmp(xt,tt[Le][1])||0===x._cmp(xt,tt[Le][0])||it(function(){qe.continue(xe===V?tt[Le][0]:tt[Le][1])}),!1)}),ft},Je.prototype.startsWithAnyOf=function(){var v=tn.apply(un,arguments);return v.every(function(T){return"string"==typeof T})?0===v.length?io(this):this.inAnyRange(v.map(function(T){return[T,T+"\uffff"]})):po(this,"startsWithAnyOf() only works with strings")},Je);function Je(){}function dt(v){return yn(function(T){return Nt(T),v(T.target.error),!1})}function Nt(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var Cn="storagemutated",Ln="x-storagemutated-1",Xn=vs(null,Cn),pi=(Hi.prototype._lock=function(){return ke(!jt.global),++this._reculock,1!==this._reculock||jt.global||(jt.lockOwnerFor=this),this},Hi.prototype._unlock=function(){if(ke(!jt.global),0==--this._reculock)for(jt.global||(jt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{hr(v[1],v[0])}catch{}}return this},Hi.prototype._locked=function(){return this._reculock&&jt.lockOwnerFor!==this},Hi.prototype.create=function(v){var T=this;if(!this.mode)return this;var x=this.db.idbdb,N=this.db._state.dbOpenError;if(ke(!this.idbtrans),!v&&!x)switch(N&&N.name){case"DatabaseClosedError":throw new X.DatabaseClosed(N);case"MissingAPIError":throw new X.MissingAPI(N.message,N);default:throw new X.OpenFailed(N)}if(!this.active)throw new X.TransactionInactive;return ke(null===this._completion._state),(v=this.idbtrans=v||(this.db.core||x).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=yn(function(V){Nt(V),T._reject(v.error)}),v.onabort=yn(function(V){Nt(V),T.active&&T._reject(new X.Abort(v.error)),T.active=!1,T.on("abort").fire(V)}),v.oncomplete=yn(function(){T.active=!1,T._resolve(),"mutatedParts"in v&&Xn.storagemutated.fire(v.mutatedParts)}),this},Hi.prototype._promise=function(v,T,x){var N=this;if("readwrite"===v&&"readwrite"!==this.mode)return _n(new X.ReadOnly("Transaction is readonly"));if(!this.active)return _n(new X.TransactionInactive);if(this._locked())return new kt(function($,ee){N._blockedFuncs.push([function(){N._promise(v,T,x).then($,ee)},jt])});if(x)return Kn(function(){var $=new kt(function(ee,ye){N._lock();var He=T(ee,ye,N);He&&He.then&&He.then(ee,ye)});return $.finally(function(){return N._unlock()}),$._lib=!0,$});var V=new kt(function($,ee){var ye=T($,ee,N);ye&&ye.then&&ye.then($,ee)});return V._lib=!0,V},Hi.prototype._root=function(){return this.parent?this.parent._root():this},Hi.prototype.waitFor=function(v){var T,x=this._root(),N=kt.resolve(v);x._waitingFor?x._waitingFor=x._waitingFor.then(function(){return N}):(x._waitingFor=N,x._waitingQueue=[],T=x.idbtrans.objectStore(x.storeNames[0]),function $(){for(++x._spinCount;x._waitingQueue.length;)x._waitingQueue.shift()();x._waitingFor&&(T.get(-1/0).onsuccess=$)}());var V=x._waitingFor;return new kt(function($,ee){N.then(function(ye){return x._waitingQueue.push(yn($.bind(null,ye)))},function(ye){return x._waitingQueue.push(yn(ee.bind(null,ye)))}).finally(function(){x._waitingFor===V&&(x._waitingFor=null)})})},Hi.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))},Hi.prototype.table=function(v){var T=this._memoizedTables||(this._memoizedTables={});if(lt(T,v))return T[v];var x=this.schema[v];if(!x)throw new X.NotFound("Table "+v+" not part of transaction");return(x=new this.db.Table(v,x,this)).core=this.db.core.table(v),T[v]=x},Hi);function Hi(){}function Zi(v,T,x,N,V,$,ee){return{name:v,keyPath:T,unique:x,multi:N,auto:V,compound:$,src:(x&&!ee?"&":"")+(N?"*":"")+(V?"++":"")+Ji(T)}}function Ji(v){return"string"==typeof v?v:v?"["+[].join.call(v,"+")+"]":""}function Oo(v,T,x){return{name:v,primKey:T,indexes:x,mappedClass:null,idxByName:(N=function(V){return[V.name,V]},x.reduce(function(V,$,ee){return(ee=N($))&&(V[ee[0]]=ee[1]),V},{}))};var N}var Vs=function(v){try{return v.only([[]]),Vs=function(){return[[]]},[[]]}catch{return Vs=function(){return"\uffff"},"\uffff"}};function go(v){return null==v?function(){}:"string"==typeof v?1===(T=v).split(".").length?function(x){return x[T]}:function(x){return Fe(x,T)}:function(x){return Fe(x,v)};var T}function No(v){return[].slice.call(v)}var fa=0;function ma(v){return null==v?":id":"string"==typeof v?v:"[".concat(v.join("+"),"]")}function _o(v,T,He){function N($e){if(3===$e.type)return null;if(4===$e.type)throw new Error("Cannot convert never type to IDBKeyRange");var Le=$e.lower,Xe=$e.upper,Ye=$e.lowerOpen;return $e=$e.upperOpen,void 0===Le?void 0===Xe?null:T.upperBound(Xe,!!$e):void 0===Xe?T.lowerBound(Le,!!Ye):T.bound(Le,Xe,!!Ye,!!$e)}var $,ee,ye,Oe=(ee=He,ye=No(($=v).objectStoreNames),tt={schema:{name:$.name,tables:ye.map(function(nt){return ee.objectStore(nt)}).map(function(nt){var Le=nt.keyPath,$e=nt.autoIncrement,Xe=ae(Le),Ye={};return $e={name:nt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==Le,compound:Xe,keyPath:Le,autoIncrement:$e,unique:!0,extractKey:go(Le)},indexes:No(nt.indexNames).map(function(ft){return nt.index(ft)}).map(function(wt){var it=wt.unique,Ft=wt.multiEntry;return Ft={name:wt.name,compound:ae(wt=wt.keyPath),keyPath:wt,unique:it,multiEntry:Ft,extractKey:go(wt)},Ye[ma(wt)]=Ft}),getIndexByKeyPath:function(ft){return Ye[ma(ft)]}},Ye[":id"]=$e.primaryKey,null!=Le&&(Ye[ma(Le)]=$e.primaryKey),$e})},hasGetAll:0<ye.length&&"getAll"in ee.objectStore(ye[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,tt=(He=tt.schema).tables.map(function V(nt){var Le,Xe=nt.name;return{name:Xe,schema:nt,mutate:function(Ye){var $e=Ye.trans,ft=Ye.type,qe=Ye.keys,it=Ye.values,wt=Ye.range;return new Promise(function(Ft,xt){Ft=yn(Ft);var Vt=$e.objectStore(Xe),Kt=null==Vt.keyPath,Xt="put"===ft||"add"===ft;if(!Xt&&"delete"!==ft&&"deleteRange"!==ft)throw new Error("Invalid operation type: "+ft);var yt,xn=(qe||it||{length:1}).length;if(qe&&it&&qe.length!==it.length)throw new Error("Given keys array must have same length as given values array.");if(0===xn)return Ft({numFailures:0,failures:{},results:[],lastResult:void 0});function Pn($r){++ya,Nt($r)}var wn=[],Vn=[],ya=0;if("deleteRange"===ft){if(4===wt.type)return Ft({numFailures:ya,failures:Vn,results:[],lastResult:void 0});wn.push(yt=3===wt.type?Vt.clear():Vt.delete(N(wt)))}else{var jn=(Kt=Xt?Kt?[it,qe]:[it,null]:[qe,null])[0],mr=Kt[1];if(Xt)for(var sr=0;sr<xn;++sr)wn.push(yt=mr&&void 0!==mr[sr]?Vt[ft](jn[sr],mr[sr]):Vt[ft](jn[sr])),yt.onerror=Pn;else for(sr=0;sr<xn;++sr)wn.push(yt=Vt[ft](jn[sr])),yt.onerror=Pn}function za($r){$r=$r.target.result,wn.forEach(function(js,fc){return null!=js.error&&(Vn[fc]=js.error)}),Ft({numFailures:ya,failures:Vn,results:"delete"===ft?qe:wn.map(function(js){return js.result}),lastResult:$r})}yt.onerror=function($r){Pn($r),za($r)},yt.onsuccess=za})},getMany:function(Ye){var $e=Ye.trans,ft=Ye.keys;return new Promise(function(qe,it){qe=yn(qe);for(var wt,Ft=$e.objectStore(Xe),xt=ft.length,Vt=new Array(xt),Kt=0,Xt=0,yt=function(wn){Vt[(wn=wn.target)._pos]=wn.result,++Xt===Kt&&qe(Vt)},xn=dt(it),Pn=0;Pn<xt;++Pn)null!=ft[Pn]&&((wt=Ft.get(ft[Pn]))._pos=Pn,wt.onsuccess=yt,wt.onerror=xn,++Kt);0===Kt&&qe(Vt)})},get:function(Ye){var $e=Ye.trans,ft=Ye.key;return new Promise(function(qe,it){qe=yn(qe);var wt=$e.objectStore(Xe).get(ft);wt.onsuccess=function(Ft){return qe(Ft.target.result)},wt.onerror=dt(it)})},query:(Le=Oe,function(Ye){return new Promise(function($e,ft){$e=yn($e);var qe,it,wt,Ft=Ye.values,xt=Ye.limit,Vt=xt===1/0?void 0:xt,Xt=(yt=Ye.query).index,yt=yt.range,Kt=(Kt=Ye.trans).objectStore(Xe);if(Xt=Xt.isPrimaryKey?Kt:Kt.index(Xt.name),yt=N(yt),0===xt)return $e({result:[]});Le?((Vt=Ft?Xt.getAll(yt,Vt):Xt.getAllKeys(yt,Vt)).onsuccess=function(xn){return $e({result:xn.target.result})},Vt.onerror=dt(ft)):(qe=0,it=!Ft&&"openKeyCursor"in Xt?Xt.openKeyCursor(yt):Xt.openCursor(yt),wt=[],it.onsuccess=function(xn){var Pn=it.result;return Pn?(wt.push(Ft?Pn.value:Pn.primaryKey),++qe===xt?$e({result:wt}):void Pn.continue()):$e({result:wt})},it.onerror=dt(ft))})}),openCursor:function(Ye){var $e=Ye.trans,ft=Ye.values,qe=Ye.query,it=Ye.reverse,wt=Ye.unique;return new Promise(function(Ft,xt){Ft=yn(Ft);var Xt=qe.index,Vt=qe.range,Kt=$e.objectStore(Xe),yt=(Kt=Xt.isPrimaryKey?Kt:Kt.index(Xt.name),Xt=it?wt?"prevunique":"prev":wt?"nextunique":"next",!ft&&"openKeyCursor"in Kt?Kt.openKeyCursor(N(Vt),Xt):Kt.openCursor(N(Vt),Xt));yt.onerror=dt(xt),yt.onsuccess=yn(function(xn){var Pn,wn,Vn,ya,jn=yt.result;jn?(jn.___id=++fa,jn.done=!1,Pn=jn.continue.bind(jn),wn=(wn=jn.continuePrimaryKey)&&wn.bind(jn),Vn=jn.advance.bind(jn),ya=function(){throw new Error("Cursor not stopped")},jn.trans=$e,jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=function(){throw new Error("Cursor not started")},jn.fail=yn(xt),jn.next=function(){var mr=this,sr=1;return this.start(function(){return sr--?mr.continue():mr.stop()}).then(function(){return mr})},jn.start=function(mr){function sr(){if(yt.result)try{mr()}catch($r){jn.fail($r)}else jn.done=!0,jn.start=function(){throw new Error("Cursor behind last entry")},jn.stop()}var za=new Promise(function($r,js){$r=yn($r),yt.onerror=dt(js),jn.fail=js,jn.stop=function(fc){jn.stop=jn.continue=jn.continuePrimaryKey=jn.advance=ya,$r(fc)}});return yt.onsuccess=yn(function($r){yt.onsuccess=sr,sr()}),jn.continue=Pn,jn.continuePrimaryKey=wn,jn.advance=Vn,sr(),za},Ft(jn)):Ft(null)},xt)})},count:function(Ye){var $e=Ye.query,ft=Ye.trans,qe=$e.index,it=$e.range;return new Promise(function(wt,Ft){var xt=ft.objectStore(Xe),Vt=qe.isPrimaryKey?xt:xt.index(qe.name);(Vt=(xt=N(it))?Vt.count(xt):Vt.count()).onsuccess=yn(function(Kt){return wt(Kt.target.result)}),Vt.onerror=dt(Ft)})}}}),xe={};return tt.forEach(function(nt){return xe[nt.name]=nt}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(nt){if(!xe[nt])throw new Error("Table '".concat(nt,"' not found"));return xe[nt]},MIN_KEY:-1/0,MAX_KEY:Vs(T),schema:He}}function qc(v,N){N=function dc(v,T,x,N){return{dbcore:(N=_o(T,x.IDBKeyRange,N),v.dbcore.reduce(function($,ee){return ee=ee.create,P(P({},$),ee($))},N))}}(v._middlewares,N.db,v._deps,N),v.core=N.dbcore,v.tables.forEach(function(V){var $=V.name;v.core.schema.tables.some(function(ee){return ee.name===$})&&(V.core=v.core.table($),v[$]instanceof v.Table&&(v[$].core=V.core))})}function Nl(v,T,x,N){x.forEach(function(V){var $=N[V];T.forEach(function(ee){var ye=function He(Oe,tt){return Ne(Oe,tt)||(Oe=a(Oe))&&He(Oe,tt)}(ee,V);(!ye||"value"in ye&&void 0===ye.value)&&(ee===v.Transaction.prototype||ee instanceof v.Transaction?Y(ee,V,{get:function(){return this.table(V)},set:function(He){Ue(this,V,{value:He,writable:!0,configurable:!0,enumerable:!0})}}):ee[V]=new v.Table(V,$))})})}function Xc(v,T){T.forEach(function(x){for(var N in x)x[N]instanceof v.Table&&delete x[N]})}function xu(v,T){return v._cfg.version-T._cfg.version}function Qt(v,T){var x,N={del:[],add:[],change:[]};for(x in v)T[x]||N.del.push(x);for(x in T){var V=v[x],$=T[x];if(V){var ee={name:x,def:$,recreate:!1,del:[],add:[],change:[]};if(""+(V.primKey.keyPath||"")!=""+($.primKey.keyPath||"")||V.primKey.auto!==$.primKey.auto)ee.recreate=!0,N.change.push(ee);else{var ye=V.idxByName,He=$.idxByName,Oe=void 0;for(Oe in ye)He[Oe]||ee.del.push(Oe);for(Oe in He){var tt=ye[Oe],xe=He[Oe];tt?tt.src!==xe.src&&ee.change.push(xe):ee.add.push(xe)}(0<ee.del.length||0<ee.add.length||0<ee.change.length)&&N.change.push(ee)}}else N.add.push([x,$])}return N}function pa(v,T,x,N){var V=v.db.createObjectStore(T,x.keyPath?{keyPath:x.keyPath,autoIncrement:x.auto}:{autoIncrement:x.auto});return N.forEach(function($){return Qc(V,$)}),V}function Ua(v,T){pe(v).forEach(function(x){T.db.objectStoreNames.contains(x)||($t&&console.debug("Dexie: Creating missing table",x),pa(T,x,v[x].primKey,v[x].indexes))})}function Qc(v,T){v.createIndex(T.name,T.keyPath,{unique:T.unique,multiEntry:T.multi})}function Mu(v,T,x){var N={};return ze(T.objectStoreNames,0).forEach(function(V){for(var $=x.objectStore(V),ee=Zi(Ji(Oe=$.keyPath),Oe||"",!0,!1,!!$.autoIncrement,Oe&&"string"!=typeof Oe,!0),ye=[],He=0;He<$.indexNames.length;++He){var Oe=(tt=$.index($.indexNames[He])).keyPath,tt=Zi(tt.name,Oe,!!tt.unique,!!tt.multiEntry,!1,Oe&&"string"!=typeof Oe,!1);ye.push(tt)}N[V]=Oo(V,ee,ye)}),N}function Ru(v,T,x){for(var N=x.db.objectStoreNames,V=0;V<N.length;++V){var $=N[V],ee=x.objectStore($);v._hasGetAll="getAll"in ee;for(var ye=0;ye<ee.indexNames.length;++ye){var He=ee.indexNames[ye],Oe=ee.index(He).keyPath,tt="string"==typeof Oe?Oe:"["+ze(Oe).join("+")+"]";!T[$]||(Oe=T[$].idxByName[tt])&&(Oe.name=He,delete T[$].idxByName[tt],T[$].idxByName[He]=Oe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ne.WorkerGlobalScope&&ne instanceof ne.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function Yc(v){return v.split(",").map(function(T,x){var N=(T=T.trim()).replace(/([&*]|\+\+)/g,""),V=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return Zi(N,V||null,/\&/.test(T),/\*/.test(T),/\+\+/.test(T),ae(V),0===x)})}var Bs=(or.prototype._parseStoresSpec=function(v,T){pe(v).forEach(function(x){if(null!==v[x]){var N=Yc(v[x]),V=N.shift();if(V.unique=!0,V.multi)throw new X.Schema("Primary key cannot be multi-valued");N.forEach(function($){if($.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!$.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")}),T[x]=Oo(x,V,N)}})},or.prototype.stores=function(x){var T=this.db;this._cfg.storesSource=this._cfg.storesSource?D(this._cfg.storesSource,x):x;var N={},V={};return(x=T._versions).forEach(function($){D(N,$._cfg.storesSource),V=$._cfg.dbschema={},$._parseStoresSpec(N,V)}),T._dbSchema=V,Xc(T,[T._allTables,T,T.Transaction.prototype]),Nl(T,[T._allTables,T,T.Transaction.prototype,this._cfg.tables],pe(V),V),T._storeNames=pe(V),this},or.prototype.upgrade=function(v){return this._cfg.contentUpgrade=ln(this._cfg.contentUpgrade||ce,v),this},or);function or(){}function ja(v,T){var x=v._dbNamesDB;return x||(x=v._dbNamesDB=new _a(wr,{addons:[],indexedDB:v,IDBKeyRange:T})).version(1).stores({dbnames:"name"}),x.table("dbnames")}function ga(v){return v&&"function"==typeof v.databases}function Pu(v){return Kn(function(){return jt.letThrough=!0,v()})}function Fl(v){return!("from"in v)}var gi=function(v,T){if(!this){var x=new gi;return v&&"d"in v&&D(x,v),x}D(this,arguments.length?{d:1,from:v,to:1<arguments.length?T:v}:{d:0})};function ku(v,T,x){var N=Gn(T,x);if(!isNaN(N)){if(0<N)throw RangeError();if(Fl(v))return D(v,{from:T,to:x,d:1});var V=v.l;if(N=v.r,Gn(x,v.from)<0)return V?ku(V,T,x):v.l={from:T,to:x,d:1,l:null,r:null},si(v);if(0<Gn(T,v.to))return N?ku(N,T,x):v.r={from:T,to:x,d:1,l:null,r:null},si(v);Gn(T,v.from)<0&&(v.from=T,v.l=null,v.d=N?N.d+1:1),0<Gn(x,v.to)&&(v.to=x,v.r=null,v.d=v.l?v.l.d+1:1),x=!v.r,V&&!v.l&&Ri(v,V),N&&x&&Ri(v,N)}}function Ri(v,T){Fl(T)||function x(N,He){var $=He.from,ee=He.to,ye=He.l;He=He.r,ku(N,$,ee),ye&&x(N,ye),He&&x(N,He)}(v,T)}function Ou(v,T){var x=rh(T),N=x.next();if(N.done)return!1;for(var V=N.value,$=rh(v),ee=$.next(V.from),ye=ee.value;!N.done&&!ee.done;){if(Gn(ye.from,V.to)<=0&&0<=Gn(ye.to,V.from))return!0;Gn(V.from,ye.from)<0?V=(N=x.next(ye.from)).value:ye=(ee=$.next(V.from)).value}return!1}function rh(v){var T=Fl(v)?null:{s:0,n:v};return{next:function(x){for(var N=0<arguments.length;T;)switch(T.s){case 0:if(T.s=1,N)for(;T.n.l&&Gn(x,T.n.from)<0;)T={up:T,n:T.n.l,s:1};else for(;T.n.l;)T={up:T,n:T.n.l,s:1};case 1:if(T.s=2,!N||Gn(x,T.n.to)<=0)return{value:T.n,done:!1};case 2:if(T.n.r){T.s=3,T={up:T,n:T.n.r,s:0};continue}case 3:T=T.up}return{done:!0}}}}function si(v){var T,x,N=((null===(T=v.r)||void 0===T?void 0:T.d)||0)-((null===(x=v.l)||void 0===x?void 0:x.d)||0),V=1<N?"r":N<-1?"l":"";V&&(T="r"==V?"l":"r",x=P({},v),v.from=(N=v[V]).from,v.to=N.to,v[V]=N[V],x[V]=N[T],(v[T]=x).d=gm(x)),v.d=gm(v)}function gm(x){var T=x.r;return x=x.l,(T?x?Math.max(T.d,x.d):T.d:x?x.d:0)+1}function qi(v,T){return pe(T).forEach(function(x){v[x]?Ri(v[x],T[x]):v[x]=function N(V){var $,ee,ye={};for($ in V)lt(V,$)&&(ye[$]=!(ee=V[$])||"object"!=typeof ee||st.has(ee.constructor)?ee:N(ee));return ye}(T[x])}),v}function Ll(v,T){return v.all||T.all||Object.keys(v).some(function(x){return T[x]&&Ou(T[x],v[x])})}Be(gi.prototype,((ao={add:function(v){return Ri(this,v),this},addKey:function(v){return ku(this,v,v),this},addKeys:function(v){var T=this;return v.forEach(function(x){return ku(T,x,x)}),this},hasKey:function(v){var T=rh(this).next(v).value;return T&&Gn(T.from,v)<=0&&0<=Gn(T.to,v)}})[pt]=function(){return rh(this)},ao));var Zc={},oh={},Jc=!1;function bn(v){qi(oh,v),Jc||(Jc=!0,setTimeout(function(){Jc=!1,el(oh,!(oh={}))},0))}function el(v,T){void 0===T&&(T=!1);var x=new Set;if(v.all)for(var N=0,V=Object.values(Zc);N<V.length;N++)vo(ee=V[N],v,x,T);else for(var $ in v){var ee,ye=/^idb\:\/\/(.*)\/(.*)\//.exec($);ye&&($=ye[1],ye=ye[2],(ee=Zc["idb://".concat($,"/").concat(ye)])&&vo(ee,v,x,T))}x.forEach(function(He){return He()})}function vo(v,T,x,N){for(var V=[],$=0,ee=Object.entries(v.queries.query);$<ee.length;$++){for(var ye=ee[$],He=ye[0],Oe=[],tt=0,xe=ye[1];tt<xe.length;tt++){var nt=xe[tt];Ll(T,nt.obsSet)?nt.subscribers.forEach(function($e){return x.add($e)}):N&&Oe.push(nt)}N&&V.push([He,Oe])}if(N)for(var Le=0,Xe=V;Le<Xe.length;Le++){var Ye=Xe[Le];v.queries.query[He=Ye[0]]=Oe=Ye[1]}}function Yg(v){var T=v._state,x=v._deps.indexedDB;if(T.isBeingOpened||v.idbdb)return T.dbReadyPromise.then(function(){return T.dbOpenError?_n(T.dbOpenError):v});T.isBeingOpened=!0,T.dbOpenError=null,T.openComplete=!1;var N=T.openCanceller,V=Math.round(10*v.verno),$=!1;function ee(){if(T.openCanceller!==N)throw new X.DatabaseClosed("db.open() was cancelled")}var He,Oe=T.dbReadyResolve,tt=null,xe=!1;return kt.race([N,(typeof navigator>"u"?kt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(nt){function Le(){return indexedDB.databases().finally(nt)}He=setInterval(Le,100),Le()}).finally(function(){return clearInterval(He)}):Promise.resolve()).then(function ye(){return new kt(function(nt,Le){if(ee(),!x)throw new X.MissingAPI;var Xe=v.name,Ye=T.autoSchema||!V?x.open(Xe):x.open(Xe,V);if(!Ye)throw new X.MissingAPI;Ye.onerror=dt(Le),Ye.onblocked=yn(v._fireOnBlocked),Ye.onupgradeneeded=yn(function($e){var ft;tt=Ye.transaction,T.autoSchema&&!v._options.allowEmptyDB?(Ye.onerror=Nt,tt.abort(),Ye.result.close(),(ft=x.deleteDatabase(Xe)).onsuccess=ft.onerror=yn(function(){Le(new X.NoSuchDatabase("Database ".concat(Xe," doesnt exist")))})):(tt.onerror=dt(Le),$e=$e.oldVersion>Math.pow(2,62)?0:$e.oldVersion,xe=$e<1,v.idbdb=Ye.result,$&&function ih(v,T){Ua(v._dbSchema,T),T.db.version%10!=0||T.objectStoreNames.contains("$meta")||T.db.createObjectStore("$meta").add(Math.ceil(T.db.version/10-1),"version");var x=Mu(0,v.idbdb,T);Ru(v,v._dbSchema,T);for(var N=0,V=Qt(x,v._dbSchema).change;N<V.length;N++){var $=function(ee){if(ee.change.length||ee.recreate)return console.warn("Unable to patch indexes of table ".concat(ee.name," because it has changes on the type of index or primary key.")),{value:void 0};var ye=T.objectStore(ee.name);ee.add.forEach(function(He){$t&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ee.name,".").concat(He.src)),Qc(ye,He)})}(V[N]);if("object"==typeof $)return $.value}}(v,tt),function pm(v,T,x,N){var V=v._dbSchema;x.objectStoreNames.contains("$meta")&&!V.$meta&&(V.$meta=Oo("$meta",Yc("")[0],[]),v._storeNames.push("$meta"));var $=v._createTransaction("readwrite",v._storeNames,V);$.create(x),$._completion.catch(N);var ee=$._reject.bind($),ye=jt.transless||jt;Kn(function(){return jt.trans=$,jt.transless=ye,0!==T?(qc(v,x),Oe=T,((He=$).storeNames.includes("$meta")?He.table("$meta").get("version").then(function(tt){return tt??Oe}):kt.resolve(Oe)).then(function(tt){return nt=tt,Le=$,Ye=[],tt=(xe=v)._versions,$e=xe._dbSchema=Mu(0,xe.idbdb,Xe=x),0!==(tt=tt.filter(function(ft){return ft._cfg.version>=nt})).length?(tt.forEach(function(ft){Ye.push(function(){var qe=$e,it=ft._cfg.dbschema;Ru(xe,qe,Xe),Ru(xe,it,Xe),$e=xe._dbSchema=it;var wt=Qt(qe,it);wt.add.forEach(function(Xt){pa(Xe,Xt[0],Xt[1].primKey,Xt[1].indexes)}),wt.change.forEach(function(Xt){if(Xt.recreate)throw new X.Upgrade("Not yet support for changing primary key");var yt=Xe.objectStore(Xt.name);Xt.add.forEach(function(xn){return Qc(yt,xn)}),Xt.change.forEach(function(xn){yt.deleteIndex(xn.name),Qc(yt,xn)}),Xt.del.forEach(function(xn){return yt.deleteIndex(xn)})});var Ft=ft._cfg.contentUpgrade;if(Ft&&ft._cfg.version>nt){qc(xe,Xe),Le._memoizedTables={};var xt=Ae(it);wt.del.forEach(function(Xt){xt[Xt]=qe[Xt]}),Xc(xe,[xe.Transaction.prototype]),Nl(xe,[xe.Transaction.prototype],pe(xt),xt),Le.schema=xt;var Vt,Kt=mn(Ft);return Kt&&qo(),wt=kt.follow(function(){var Xt;(Vt=Ft(Le))&&Kt&&(Xt=kr.bind(null,null),Vt.then(Xt,Xt))}),Vt&&"function"==typeof Vt.then?kt.resolve(Vt):wt.then(function(){return Vt})}}),Ye.push(function(qe){var it,wt;it=ft._cfg.dbschema,[].slice.call((wt=qe).db.objectStoreNames).forEach(function(xt){return null==it[xt]&&wt.db.deleteObjectStore(xt)}),Xc(xe,[xe.Transaction.prototype]),Nl(xe,[xe.Transaction.prototype],xe._storeNames,xe._dbSchema),Le.schema=xe._dbSchema}),Ye.push(function(qe){xe.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(xe.idbdb.version/10)===ft._cfg.version?(xe.idbdb.deleteObjectStore("$meta"),delete xe._dbSchema.$meta,xe._storeNames=xe._storeNames.filter(function(it){return"$meta"!==it})):qe.objectStore("$meta").put(ft._cfg.version,"version"))})}),function ft(){return Ye.length?kt.resolve(Ye.shift()(Le.idbtrans)).then(ft):kt.resolve()}().then(function(){Ua($e,Xe)})):kt.resolve();var xe,nt,Le,Xe,Ye,$e}).catch(ee)):(pe(V).forEach(function(tt){pa(x,tt,V[tt].primKey,V[tt].indexes)}),qc(v,x),void kt.follow(function(){return v.on.populate.fire($)}).catch(ee));var He,Oe})}(v,$e/10,tt,Le))},Le),Ye.onsuccess=yn(function(){tt=null;var $e,ft,qe,it,wt,Ft=v.idbdb=Ye.result,xt=ze(Ft.objectStoreNames);if(0<xt.length)try{var Vt=Ft.transaction(1===(it=xt).length?it[0]:it,"readonly");if(T.autoSchema)qe=Vt,($e=v).verno=(ft=Ft).version/10,qe=$e._dbSchema=Mu(0,ft,qe),$e._storeNames=ze(ft.objectStoreNames,0),Nl($e,[$e._allTables],pe(qe),qe);else if(Ru(v,v._dbSchema,Vt),((wt=Qt(Mu(0,(wt=v).idbdb,Vt),wt._dbSchema)).add.length||wt.change.some(function(Kt){return Kt.add.length||Kt.change.length}))&&!$)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ft.close(),V=Ft.version+1,$=!0,nt(ye());qc(v,Vt)}catch{}Fs.push(v),Ft.onversionchange=yn(function(Kt){T.vcFired=!0,v.on("versionchange").fire(Kt)}),Ft.onclose=yn(function(Kt){v.on("close").fire(Kt)}),xe&&(Vt=Xe,Ft=(wt=v._deps).indexedDB,wt=wt.IDBKeyRange,ga(Ft)||Vt===wr||ja(Ft,wt).put({name:Vt}).catch(ce)),nt()},Le)}).catch(function(nt){switch(nt?.name){case"UnknownError":if(0<T.PR1398_maxLoop)return T.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ye();break;case"VersionError":if(0<V)return V=0,ye()}return kt.reject(nt)})})]).then(function(){return ee(),T.onReadyBeingFired=[],kt.resolve(Pu(function(){return v.on.ready.fire(v.vip)})).then(function nt(){if(0<T.onReadyBeingFired.length){var Le=T.onReadyBeingFired.reduce(ln,ce);return T.onReadyBeingFired=[],kt.resolve(Pu(function(){return Le(v.vip)})).then(nt)}})}).finally(function(){T.openCanceller===N&&(T.onReadyBeingFired=null,T.isBeingOpened=!1)}).catch(function(nt){T.dbOpenError=nt;try{tt&&tt.abort()}catch{}return N===T.openCanceller&&v._close(),_n(nt)}).finally(function(){T.openComplete=!0,Oe()}).then(function(){var nt;return xe&&(nt={},v.tables.forEach(function(Le){Le.schema.indexes.forEach(function(Xe){Xe.name&&(nt["idb://".concat(v.name,"/").concat(Le.name,"/").concat(Xe.name)]=new gi(-1/0,[[[]]]))}),nt["idb://".concat(v.name,"/").concat(Le.name,"/")]=nt["idb://".concat(v.name,"/").concat(Le.name,"/:dels")]=new gi(-1/0,[[[]]])}),Xn(Cn).fire(nt),el(nt,!0)),v})}function sh(v){function T($){return v.next($)}var x=V(T),N=V(function($){return v.throw($)});function V($){return function(He){var ye=$(He);return He=ye.value,ye.done?He:He&&"function"==typeof He.then?He.then(x,N):ae(He)?Promise.all(He).then(x,N):x(He)}}return V(T)()}function ah(v,T,x){for(var N=ae(v)?v.slice():[v],V=0;V<x;++V)N.push(T);return N}var Ha={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return P(P({},v),{table:function(T){var x=v.table(T),N=x.schema,V={},$=[];function ee(xe,nt,Le){var Xe=ma(xe),Ye=V[Xe]=V[Xe]||[],$e=null==xe?0:"string"==typeof xe?1:xe.length,ft=0<nt;return ft=P(P({},Le),{name:ft?"".concat(Xe,"(virtual-from:").concat(Le.name,")"):Le.name,lowLevelIndex:Le,isVirtual:ft,keyTail:nt,keyLength:$e,extractKey:go(xe),unique:!ft&&Le.unique}),Ye.push(ft),ft.isPrimaryKey||$.push(ft),1<$e&&ee(2===$e?xe[0]:xe.slice(0,$e-1),nt+1,Le),Ye.sort(function(qe,it){return qe.keyTail-it.keyTail}),ft}T=ee(N.primaryKey.keyPath,0,N.primaryKey),V[":id"]=[T];for(var ye=0,He=N.indexes;ye<He.length;ye++){var Oe=He[ye];ee(Oe.keyPath,0,Oe)}function tt(xe){var nt,Le=xe.query.index;return Le.isVirtual?P(P({},xe),{query:{index:Le.lowLevelIndex,range:(nt=xe.query.range,Le=Le.keyTail,{type:1===nt.type?2:nt.type,lower:ah(nt.lower,nt.lowerOpen?v.MAX_KEY:v.MIN_KEY,Le),lowerOpen:!0,upper:ah(nt.upper,nt.upperOpen?v.MIN_KEY:v.MAX_KEY,Le),upperOpen:!0})}}):xe}return P(P({},x),{schema:P(P({},N),{primaryKey:T,indexes:$,getIndexByKeyPath:function(xe){return(xe=V[ma(xe)])&&xe[0]}}),count:function(xe){return x.count(tt(xe))},query:function(xe){return x.query(tt(xe))},openCursor:function(xe){var nt=xe.query.index,Le=nt.keyTail,Ye=nt.keyLength;return nt.isVirtual?x.openCursor(tt(xe)).then(function(ft){return ft&&function $e(ft){return Object.create(ft,{continue:{value:function(qe){null!=qe?ft.continue(ah(qe,xe.reverse?v.MAX_KEY:v.MIN_KEY,Le)):xe.unique?ft.continue(ft.key.slice(0,Ye).concat(xe.reverse?v.MIN_KEY:v.MAX_KEY,Le)):ft.continue()}},continuePrimaryKey:{value:function(qe,it){ft.continuePrimaryKey(ah(qe,v.MAX_KEY,Le),it)}},primaryKey:{get:function(){return ft.primaryKey}},key:{get:function(){var qe=ft.key;return 1===Ye?qe[0]:qe.slice(0,Ye)}},value:{get:function(){return ft.value}}})}(ft)}):x.openCursor(xe)}})}})}};function Nu(v,T,x,N){return x=x||{},N=N||"",pe(v).forEach(function(V){var $,ee,ye;lt(T,V)?(ee=T[V],"object"==typeof($=v[V])&&"object"==typeof ee&&$&&ee?(ye=Q($))!==Q(ee)?x[N+V]=T[V]:"Object"===ye?Nu($,ee,x,N+V+"."):$!==ee&&(x[N+V]=T[V]):$!==ee&&(x[N+V]=T[V])):x[N+V]=void 0}),pe(T).forEach(function(V){lt(v,V)||(x[N+V]=T[V])}),x}function Fu(v,T){return"delete"===T.type?T.keys:T.keys||T.values.map(v.extractKey)}var oS={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return P(P({},v),{table:function(T){var x=v.table(T),N=x.schema.primaryKey;return P(P({},x),{mutate:function(V){var $=jt.trans,ee=$.table(T).hook,ye=ee.deleting,He=ee.creating,Oe=ee.updating;switch(V.type){case"add":if(He.fire===ce)break;return $._promise("readwrite",function(){return tt(V)},!0);case"put":if(He.fire===ce&&Oe.fire===ce)break;return $._promise("readwrite",function(){return tt(V)},!0);case"delete":if(ye.fire===ce)break;return $._promise("readwrite",function(){return tt(V)},!0);case"deleteRange":if(ye.fire===ce)break;return $._promise("readwrite",function(){return function xe(nt,Le,Xe){return x.query({trans:nt,values:!1,query:{index:N,range:Le},limit:Xe}).then(function(Ye){var $e=Ye.result;return tt({type:"delete",keys:$e,trans:nt}).then(function(ft){return 0<ft.numFailures?Promise.reject(ft.failures[0]):$e.length<Xe?{failures:[],numFailures:0,lastResult:void 0}:xe(nt,P(P({},Le),{lower:$e[$e.length-1],lowerOpen:!0}),Xe)})})}(V.trans,V.range,1e4)},!0)}return x.mutate(V);function tt(xe){var nt,Le,Xe,Ye=jt.trans,$e=xe.keys||Fu(N,xe);if(!$e)throw new Error("Keys missing");return"delete"!==(xe="add"===xe.type||"put"===xe.type?P(P({},xe),{keys:$e}):P({},xe)).type&&(xe.values=J([],xe.values,!0)),xe.keys&&(xe.keys=J([],xe.keys,!0)),nt=x,Xe=$e,("add"===(Le=xe).type?Promise.resolve([]):nt.getMany({trans:Le.trans,keys:Xe,cache:"immutable"})).then(function(ft){var qe=$e.map(function(it,wt){var Ft,xt,Vt,Kt=ft[wt],Xt={onerror:null,onsuccess:null};return"delete"===xe.type?ye.fire.call(Xt,it,Kt,Ye):"add"===xe.type||void 0===Kt?(Ft=He.fire.call(Xt,it,xe.values[wt],Ye),null==it&&null!=Ft&&(xe.keys[wt]=it=Ft,N.outbound||De(xe.values[wt],N.keyPath,it))):(Ft=Nu(Kt,xe.values[wt]),(xt=Oe.fire.call(Xt,Ft,it,Kt,Ye))&&(Vt=xe.values[wt],Object.keys(xt).forEach(function(yt){lt(Vt,yt)?Vt[yt]=xt[yt]:De(Vt,yt,xt[yt])}))),Xt});return x.mutate(xe).then(function(it){for(var wt=it.failures,Ft=it.results,xt=it.numFailures,Vt=(it=it.lastResult,0);Vt<$e.length;++Vt){var Kt=(Ft||$e)[Vt],Xt=qe[Vt];null==Kt?Xt.onerror&&Xt.onerror(wt[Vt]):Xt.onsuccess&&Xt.onsuccess("put"===xe.type&&ft[Vt]?xe.values[Vt]:Kt)}return{failures:wt,results:Ft,numFailures:xt,lastResult:it}}).catch(function(it){return qe.forEach(function(wt){return wt.onerror&&wt.onerror(it)}),Promise.reject(it)})})}}})}})}};function d0(v,T,x){try{if(!T||T.keys.length<v.length)return null;for(var N=[],V=0,$=0;V<T.keys.length&&$<v.length;++V)0===Gn(T.keys[V],v[$])&&(N.push(x?_e(T.values[V]):T.values[V]),++$);return N.length===v.length?N:null}catch{return null}}var ro={stack:"dbcore",level:-1,create:function(v){return{table:function(T){var x=v.table(T);return P(P({},x),{getMany:function(N){if(!N.cache)return x.getMany(N);var V=d0(N.keys,N.trans._cache,"clone"===N.cache);return V?kt.resolve(V):x.getMany(N).then(function($){return N.trans._cache={keys:N.keys,values:"clone"===N.cache?_e($):$},$})},mutate:function(N){return"add"!==N.type&&(N.trans._cache=null),x.mutate(N)}})}}}};function _m(v,T){return"readonly"===v.trans.mode&&!!v.subscr&&!v.trans.explicit&&"disabled"!==v.trans.db._options.cache&&!T.schema.primaryKey.outbound}function vm(v,T){switch(v){case"query":return T.values&&!T.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var tl={stack:"dbcore",level:0,name:"Observability",create:function(v){var T=v.schema.name,x=new gi(v.MIN_KEY,v.MAX_KEY);return P(P({},v),{transaction:function(N,V,$){if(jt.subscr&&"readonly"!==V)throw new X.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(jt.querier));return v.transaction(N,V,$)},table:function(N){var V=v.table(N),$=V.schema,ee=$.primaryKey,xe=$.indexes,ye=ee.extractKey,He=ee.outbound,Oe=ee.autoIncrement&&xe.filter(function(Le){return Le.compound&&Le.keyPath.includes(ee.keyPath)}),tt=P(P({},V),{mutate:function(Le){function Xe(yt){return yt="idb://".concat(T,"/").concat(N,"/").concat(yt),it[yt]||(it[yt]=new gi)}var Ye,$e,ft,qe=Le.trans,it=Le.mutatedParts||(Le.mutatedParts={}),wt=Xe(""),Ft=Xe(":dels"),xt=Le.type,Vt=(Xt="deleteRange"===Le.type?[Le.range]:"delete"===Le.type?[Le.keys]:Le.values.length<50?[Fu(ee,Le).filter(function(yt){return yt}),Le.values]:[])[0],Kt=Xt[1],Xt=Le.trans._cache;return ae(Vt)?(wt.addKeys(Vt),(Xt="delete"===xt||Vt.length===Kt.length?d0(Vt,Xt):null)||Ft.addKeys(Vt),(Xt||Kt)&&(Ye=Xe,$e=Xt,ft=Kt,$.indexes.forEach(function(yt){var xn=Ye(yt.name||"");function Pn(Vn){return null!=Vn?yt.extractKey(Vn):null}function wn(Vn){return yt.multiEntry&&ae(Vn)?Vn.forEach(function(ya){return xn.addKey(ya)}):xn.addKey(Vn)}($e||ft).forEach(function(Vn,mr){var jn=$e&&Pn($e[mr]);0!==Gn(jn,mr=ft&&Pn(ft[mr]))&&(null!=jn&&wn(jn),null!=mr&&wn(mr))})}))):Vt?(Ft.add(Kt={from:Vt.lower,to:Vt.upper}),wt.add(Kt)):(wt.add(x),Ft.add(x),$.indexes.forEach(function(yt){return Xe(yt.name).add(x)})),V.mutate(Le).then(function(yt){return!Vt||"add"!==Le.type&&"put"!==Le.type||(wt.addKeys(yt.results),Oe&&Oe.forEach(function(xn){var Pn=Le.values.map(function(Vn){return xn.extractKey(Vn)}),wn=xn.keyPath.findIndex(function(Vn){return Vn===ee.keyPath});yt.results.forEach(function(Vn){return Pn[wn]=Vn}),Xe(xn.name).addKeys(Pn)})),qe.mutatedParts=qi(qe.mutatedParts||{},it),yt})}}),nt={get:function(Le){return[ee,new gi(Le.key)]},getMany:function(Le){return[ee,(new gi).addKeys(Le.keys)]},count:xe=function(Xe){var Ye;return[Xe=(Ye=Xe.query).index,new gi(null!==(Xe=(Ye=Ye.range).lower)&&void 0!==Xe?Xe:v.MIN_KEY,null!==(Ye=Ye.upper)&&void 0!==Ye?Ye:v.MAX_KEY)]},query:xe,openCursor:xe};return pe(nt).forEach(function(Le){tt[Le]=function(Xe){var $e=!!(Ye=jt.subscr),ft=_m(jt,V)&&vm(Le,Xe)?Xe.obsSet={}:Ye;if($e){var qe=function(Kt){return Kt="idb://".concat(T,"/").concat(N,"/").concat(Kt),ft[Kt]||(ft[Kt]=new gi)},it=qe(""),wt=qe(":dels"),Ye=($e=(Ye=nt[Le](Xe))[0],Ye[1]);if(("query"===Le&&$e.isPrimaryKey&&!Xe.values?wt:qe($e.name||"")).add(Ye),!$e.isPrimaryKey){if("count"!==Le){var Ft="query"===Le&&He&&Xe.values&&V.query(P(P({},Xe),{values:!1}));return V[Le].apply(this,arguments).then(function(Kt){if("query"===Le){if(He&&Xe.values)return Ft.then(function(Pn){return it.addKeys(Pn=Pn.result),Kt});var Xt=Xe.values?Kt.result.map(ye):Kt.result;(Xe.values?it:wt).addKeys(Xt)}else if("openCursor"===Le){var yt=Kt,xn=Xe.values;return yt&&Object.create(yt,{key:{get:function(){return wt.addKey(yt.primaryKey),yt.key}},primaryKey:{get:function(){var Pn=yt.primaryKey;return wt.addKey(Pn),Pn}},value:{get:function(){return xn&&it.addKey(yt.primaryKey),yt.value}}})}return Kt})}wt.add(x)}}return V[Le].apply(this,arguments)}}),tt}})}};function oo(v,T,x){return 0===x.numFailures?T:"deleteRange"===T.type||x.numFailures===(T.keys?T.keys.length:"values"in T&&T.values?T.values.length:1)?null:(T=P({},T),ae(T.keys)&&(T.keys=T.keys.filter(function(V,$){return!($ in x.failures)})),"values"in T&&ae(T.values)&&(T.values=T.values.filter(function(V,$){return!($ in x.failures)})),T)}function En(v,T){return x=v,(void 0===(N=T).lower||(N.lowerOpen?0<Gn(x,N.lower):0<=Gn(x,N.lower)))&&(void 0===T.upper||(T.upperOpen?Gn(v,T.upper)<0:Gn(v,T.upper)<=0));var x,N}function Zg(v,T,nt,N,V,$){if(!nt||0===nt.length)return v;var ee=T.query.index,ye=ee.multiEntry,He=T.query.range,Oe=N.schema.primaryKey.extractKey,tt=ee.extractKey,xe=(ee.lowLevelIndex||ee).extractKey;return(nt=nt.reduce(function(Le,Xe){var Ye=Le,$e=[];if("add"===Xe.type||"put"===Xe.type)for(var ft=new gi,qe=Xe.values.length-1;0<=qe;--qe){var it,wt=Xe.values[qe],Ft=Oe(wt);ft.hasKey(Ft)||(it=tt(wt),(ye&&ae(it)?it.some(function(Xt){return En(Xt,He)}):En(it,He))&&(ft.addKey(Ft),$e.push(wt)))}switch(Xe.type){case"add":Ye=Le.concat(T.values?$e:$e.map(function(yt){return Oe(yt)}));break;case"put":var xt=(new gi).addKeys(Xe.values.map(function(yt){return Oe(yt)}));Ye=Le.filter(function(yt){return!xt.hasKey(T.values?Oe(yt):yt)}).concat(T.values?$e:$e.map(function(yt){return Oe(yt)}));break;case"delete":var Vt=(new gi).addKeys(Xe.keys);Ye=Le.filter(function(yt){return!Vt.hasKey(T.values?Oe(yt):yt)});break;case"deleteRange":var Kt=Xe.range;Ye=Le.filter(function(yt){return!En(Oe(yt),Kt)})}return Ye},v))===v?v:(nt.sort(function(Le,Xe){return Gn(xe(Le),xe(Xe))||Gn(Oe(Le),Oe(Xe))}),T.limit&&T.limit<1/0&&(nt.length>T.limit?nt.length=T.limit:v.length===T.limit&&nt.length<T.limit&&(V.dirty=!0)),$?Object.freeze(nt):nt)}function Jg(v,T){return 0===Gn(v.lower,T.lower)&&0===Gn(v.upper,T.upper)&&!!v.lowerOpen==!!T.lowerOpen&&!!v.upperOpen==!!T.upperOpen}var ch={stack:"dbcore",level:0,name:"Cache",create:function(v){var T=v.schema.name;return P(P({},v),{transaction:function(x,N,V){var $,ee,ye=v.transaction(x,N,V);return"readwrite"===N&&(ee=($=new AbortController).signal,ye.addEventListener("abort",(V=function(He){return function(){if($.abort(),"readwrite"===N){for(var Oe=new Set,tt=0,xe=x;tt<xe.length;tt++){var nt=xe[tt],Le=Zc["idb://".concat(T,"/").concat(nt)];if(Le){var Xe=v.table(nt),Ye=Le.optimisticOps.filter(function(xn){return xn.trans===ye});if(ye._explicit&&He&&ye.mutatedParts)for(var $e=0,ft=Object.values(Le.queries.query);$e<ft.length;$e++)for(var qe=0,it=(xt=ft[$e]).slice();qe<it.length;qe++)Ll((Vt=it[qe]).obsSet,ye.mutatedParts)&&(At(xt,Vt),Vt.subscribers.forEach(function(xn){return Oe.add(xn)}));else if(0<Ye.length){Le.optimisticOps=Le.optimisticOps.filter(function(xn){return xn.trans!==ye});for(var wt=0,Ft=Object.values(Le.queries.query);wt<Ft.length;wt++)for(var xt,Vt,Kt,Xt=0,yt=(xt=Ft[wt]).slice();Xt<yt.length;Xt++)null!=(Vt=yt[Xt]).res&&ye.mutatedParts&&(He&&!Vt.dirty?(Kt=Object.isFrozen(Vt.res),Kt=Zg(Vt.res,Vt.req,Ye,Xe,Vt,Kt),Vt.dirty?(At(xt,Vt),Vt.subscribers.forEach(function(xn){return Oe.add(xn)})):Kt!==Vt.res&&(Vt.res=Kt,Vt.promise=kt.resolve({result:Kt}))):(Vt.dirty&&At(xt,Vt),Vt.subscribers.forEach(function(xn){return Oe.add(xn)})))}}}Oe.forEach(function(xn){return xn()})}}})(!1),{signal:ee}),ye.addEventListener("error",V(!1),{signal:ee}),ye.addEventListener("complete",V(!0),{signal:ee})),ye},table:function(x){var N=v.table(x),V=N.schema.primaryKey;return P(P({},N),{mutate:function($){var ee=jt.trans;if(V.outbound||"disabled"===ee.db._options.cache||ee.explicit)return N.mutate($);var ye=Zc["idb://".concat(T,"/").concat(x)];return ye?(ee=N.mutate($),"add"!==$.type&&"put"!==$.type||!(50<=$.values.length||Fu(V,$).some(function(He){return null==He}))?(ye.optimisticOps.push($),$.mutatedParts&&bn($.mutatedParts),ee.then(function(He){0<He.numFailures&&(At(ye.optimisticOps,$),(He=oo(0,$,He))&&ye.optimisticOps.push(He),$.mutatedParts&&bn($.mutatedParts))}),ee.catch(function(){At(ye.optimisticOps,$),$.mutatedParts&&bn($.mutatedParts)})):ee.then(function(He){var Oe=oo(0,P(P({},$),{values:$.values.map(function(Le,xe){var nt;return De(Le=null!==(nt=V.keyPath)&&void 0!==nt&&nt.includes(".")?_e(Le):P({},Le),V.keyPath,He.results[xe]),Le})}),He);ye.optimisticOps.push(Oe),queueMicrotask(function(){return $.mutatedParts&&bn($.mutatedParts)})}),ee):N.mutate($)},query:function($){if(!_m(jt,N)||!vm("query",$))return N.query($);var ee="immutable"===(null===(Oe=jt.trans)||void 0===Oe?void 0:Oe.db._options.cache),ye=(xe=jt).requery,He=xe.signal,Oe=function(Xe,Ye,$e,ft){var qe=Zc["idb://".concat(Xe,"/").concat(Ye)];if(!qe)return[];if(!(Ye=qe.queries.query))return[null,!1,qe,null];var it=Ye[(ft.query?ft.query.index.name:null)||""];if(!it)return[null,!1,qe,null];var wt=it.find(function(Ft){return Ft.req.limit===ft.limit&&Ft.req.values===ft.values&&Jg(Ft.req.query.range,ft.query.range)});return wt?[wt,!0,qe,it]:[it.find(function(Ft){return("limit"in Ft.req?Ft.req.limit:1/0)>=ft.limit&&(!ft.values||Ft.req.values)&&function so(v,T){return function(x,N,V,$){if(void 0===x)return void 0!==N?-1:0;if(void 0===N)return 1;if(0===(N=Gn(x,N))){if(V&&$)return 0;if(V)return 1;if($)return-1}return N}(v.lower,T.lower,v.lowerOpen,T.lowerOpen)<=0&&0<=function(x,N,V,$){if(void 0===x)return void 0!==N?1:0;if(void 0===N)return-1;if(0===(N=Gn(x,N))){if(V&&$)return 0;if(V)return-1;if($)return 1}return N}(v.upper,T.upper,v.upperOpen,T.upperOpen)}(Ft.req.query.range,ft.query.range)}),!1,qe,it]}(T,x,0,$),tt=Oe[0],xe=Oe[1],nt=Oe[2],Le=Oe[3];return tt&&xe?tt.obsSet=$.obsSet:(xe=N.query($).then(function(Xe){var Ye=Xe.result;if(tt&&(tt.res=Ye),ee){for(var $e=0,ft=Ye.length;$e<ft;++$e)Object.freeze(Ye[$e]);Object.freeze(Ye)}else Xe.result=_e(Ye);return Xe}).catch(function(Xe){return Le&&tt&&At(Le,tt),Promise.reject(Xe)}),tt={obsSet:$.obsSet,promise:xe,subscribers:new Set,type:"query",req:$,dirty:!1},Le?Le.push(tt):(Le=[tt],(nt=nt||(Zc["idb://".concat(T,"/").concat(x)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[$.query.index.name||""]=Le)),function hc(v,T,x,N){v.subscribers.add(x),N.addEventListener("abort",function(){var V,$;v.subscribers.delete(x),0===v.subscribers.size&&(V=v,$=T,setTimeout(function(){0===V.subscribers.size&&At($,V)},3e3))})}(tt,Le,ye,He),tt.promise.then(function(Xe){return{result:Zg(Xe.result,$,nt?.optimisticOps,N,tt,ee)}})}})}})}};function qn(v,T){return new Proxy(v,{get:function(x,N,V){return"db"===N?T:Reflect.get(x,N,V)}})}var _a=(li.prototype.version=function(v){if(isNaN(v)||v<.1)throw new X.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var T=this._versions,x=T.filter(function(N){return N._cfg.version===v})[0];return x||(x=new this.Version(v),T.push(x),T.sort(xu),x.stores({}),this._state.autoSchema=!1,x)},li.prototype._whenReady=function(v){var T=this;return this.idbdb&&(this._state.openComplete||jt.letThrough||this._vip)?v():new kt(function(x,N){if(T._state.openComplete)return N(new X.DatabaseClosed(T._state.dbOpenError));if(!T._state.isBeingOpened){if(!T._state.autoOpen)return void N(new X.DatabaseClosed);T.open().catch(ce)}T._state.dbReadyPromise.then(x,N)}).then(v)},li.prototype.use=function(v){var T=v.stack,x=v.create,N=v.level,V=v.name;return V&&this.unuse({stack:T,name:V}),(v=this._middlewares[T]||(this._middlewares[T]=[])).push({stack:T,create:x,level:N??10,name:V}),v.sort(function($,ee){return $.level-ee.level}),this},li.prototype.unuse=function(v){var T=v.stack,x=v.name,N=v.create;return T&&this._middlewares[T]&&(this._middlewares[T]=this._middlewares[T].filter(function(V){return N?V.create!==N:!!x&&V.name!==x})),this},li.prototype.open=function(){var v=this;return hr(ri,function(){return Yg(v)})},li.prototype._close=function(){var v=this._state,T=Fs.indexOf(this);if(0<=T&&Fs.splice(T,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new kt(function(x){v.dbReadyResolve=x}),v.openCanceller=new kt(function(x,N){v.cancelOpen=N}))},li.prototype.close=function(x){var T=(void 0===x?{disableAutoOpen:!0}:x).disableAutoOpen;x=this._state,T?(x.isBeingOpened&&x.cancelOpen(new X.DatabaseClosed),this._close(),x.autoOpen=!1,x.dbOpenError=new X.DatabaseClosed):(this._close(),x.autoOpen=this._options.autoOpen||x.isBeingOpened,x.openComplete=!1,x.dbOpenError=null)},li.prototype.delete=function(v){var T=this;void 0===v&&(v={disableAutoOpen:!0});var x=0<arguments.length&&"object"!=typeof arguments[0],N=this._state;return new kt(function(V,$){function ee(){T.close(v);var ye=T._deps.indexedDB.deleteDatabase(T.name);ye.onsuccess=yn(function(){var He,Oe,tt;Oe=T.name,tt=(He=T._deps).indexedDB,He=He.IDBKeyRange,ga(tt)||Oe===wr||ja(tt,He).delete(Oe).catch(ce),V()}),ye.onerror=dt($),ye.onblocked=T._fireOnBlocked}if(x)throw new X.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then(ee):ee()})},li.prototype.backendDB=function(){return this.idbdb},li.prototype.isOpen=function(){return null!==this.idbdb},li.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&"DatabaseClosed"===v.name},li.prototype.hasFailed=function(){return null!==this._state.dbOpenError},li.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(li.prototype,"tables",{get:function(){var v=this;return pe(this._allTables).map(function(T){return v._allTables[T]})},enumerable:!1,configurable:!0}),li.prototype.transaction=function(){var v=function(T,x,N){var V=arguments.length;if(V<2)throw new X.InvalidArgument("Too few arguments");for(var $=new Array(V-1);--V;)$[V-1]=arguments[V];return N=$.pop(),[T,Ie($),N]}.apply(this,arguments);return this._transaction.apply(this,v)},li.prototype._transaction=function(v,T,x){var N=this,V=jt.trans;V&&V.db===this&&-1===v.indexOf("!")||(V=null);var $,ee,ye=-1!==v.indexOf("?");v=v.replace("!","").replace("?","");try{if(ee=T.map(function(Oe){if("string"!=typeof(Oe=Oe instanceof N.Table?Oe.name:Oe))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Oe}),"r"==v||v===ac)$=ac;else{if("rw"!=v&&v!=ji)throw new X.InvalidArgument("Invalid transaction mode: "+v);$=ji}if(V){if(V.mode===ac&&$===ji){if(!ye)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");V=null}V&&ee.forEach(function(Oe){if(V&&-1===V.storeNames.indexOf(Oe)){if(!ye)throw new X.SubTransaction("Table "+Oe+" not included in parent transaction.");V=null}}),ye&&V&&!V.active&&(V=null)}}catch(Oe){return V?V._promise(null,function(tt,xe){xe(Oe)}):_n(Oe)}var He=function Oe(tt,xe,nt,Le,Xe){return kt.resolve().then(function(){var Ye=jt.transless||jt,$e=tt._createTransaction(xe,nt,tt._dbSchema,Le);if($e.explicit=!0,Ye={trans:$e,transless:Ye},Le)$e.idbtrans=Le.idbtrans;else try{$e.create(),$e.idbtrans._explicit=!0,tt._state.PR1398_maxLoop=3}catch(it){return it.name===B.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return Oe(tt,xe,nt,null,Xe)})):_n(it)}var ft,qe=mn(Xe);return qe&&qo(),Ye=kt.follow(function(){var it;(ft=Xe.call($e,$e))&&(qe?(it=kr.bind(null,null),ft.then(it,it)):"function"==typeof ft.next&&"function"==typeof ft.throw&&(ft=sh(ft)))},Ye),(ft&&"function"==typeof ft.then?kt.resolve(ft).then(function(it){return $e.active?it:_n(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ye.then(function(){return ft})).then(function(it){return Le&&$e._resolve(),$e._completion.then(function(){return it})}).catch(function(it){return $e._reject(it),_n(it)})})}.bind(null,this,$,ee,V,x);return V?V._promise($,He,"lock"):jt.trans?hr(jt.transless,function(){return N._whenReady(He)}):this._whenReady(He)},li.prototype.table=function(v){if(!lt(this._allTables,v))throw new X.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},li);function li(v,T){var x=this;this._middlewares={},this.verno=0;var N=li.dependencies;this._options=T=P({addons:li.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},T),this._deps={indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange},N=T.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var V,$,ee,ye,He,Oe={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ce,dbReadyPromise:null,cancelOpen:ce,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:T.autoOpen};Oe.dbReadyPromise=new kt(function(xe){Oe.dbReadyResolve=xe}),Oe.openCanceller=new kt(function(xe,nt){Oe.cancelOpen=nt}),this._state=Oe,this.name=v,this.on=vs(this,"populate","blocked","versionchange","close",{ready:[ln,ce]}),this.on.ready.subscribe=Re(this.on.ready.subscribe,function(xe){return function(nt,Le){li.vip(function(){var Xe,Ye=x._state;Ye.openComplete?(Ye.dbOpenError||kt.resolve().then(nt),Le&&xe(nt)):Ye.onReadyBeingFired?(Ye.onReadyBeingFired.push(nt),Le&&xe(nt)):(xe(nt),Xe=x,Le||xe(function $e(){Xe.on.ready.unsubscribe(nt),Xe.on.ready.unsubscribe($e)}))})}}),this.Collection=(V=this,da(Kc.prototype,function(ft,$e){this.db=V;var Le=Ii,Xe=null;if($e)try{Le=$e()}catch(qe){Xe=qe}var Ye=ft._ctx;this._ctx={table:$e=Ye.table,index:Ye.index,isPrimKey:!Ye.index||$e.schema.primKey.keyPath&&Ye.index===$e.schema.primKey.name,range:Le,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Xe,or:Ye.or,valueMapper:(ft=$e.hook.reading.fire)!==Se?ft:null}})),this.Table=($=this,da(Hr.prototype,function(xe,nt,Le){this.db=$,this._tx=Le,this.name=xe,this.schema=nt,this.hook=$._allTables[xe]?$._allTables[xe].hook:vs(null,{creating:[Rt,ce],reading:[It,Se],updating:[rn,ce],deleting:[Ut,ce]})})),this.Transaction=(ee=this,da(pi.prototype,function(xe,nt,Le,Xe,Ye){var $e=this;this.db=ee,this.mode=xe,this.storeNames=nt,this.schema=Le,this.chromeTransactionDurability=Xe,this.idbtrans=null,this.on=vs(this,"complete","error","abort"),this.parent=Ye||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new kt(function(ft,qe){$e._resolve=ft,$e._reject=qe}),this._completion.then(function(){$e.active=!1,$e.on.complete.fire()},function(ft){var qe=$e.active;return $e.active=!1,$e.on.error.fire(ft),$e.parent?$e.parent._reject(ft):qe&&$e.idbtrans&&$e.idbtrans.abort(),_n(ft)})})),this.Version=(ye=this,da(Bs.prototype,function(xe){this.db=ye,this._cfg={version:xe,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(He=this,da(Pe.prototype,function(xe,nt,Le){if(this.db=He,this._ctx={table:xe,index:":id"===nt?null:nt,or:Le},this._cmp=this._ascending=Gn,this._descending=function(Xe,Ye){return Gn(Ye,Xe)},this._max=function(Xe,Ye){return 0<Gn(Xe,Ye)?Xe:Ye},this._min=function(Xe,Ye){return Gn(Xe,Ye)<0?Xe:Ye},this._IDBKeyRange=He._deps.IDBKeyRange,!this._IDBKeyRange)throw new X.MissingAPI})),this.on("versionchange",function(xe){0<xe.newVersion?console.warn("Another connection wants to upgrade database '".concat(x.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(x.name,"'. Closing db now to resume the delete request.")),x.close({disableAutoOpen:!1})}),this.on("blocked",function(xe){!xe.newVersion||xe.newVersion<xe.oldVersion?console.warn("Dexie.delete('".concat(x.name,"') was blocked")):console.warn("Upgrade '".concat(x.name,"' blocked by other connection holding version ").concat(xe.oldVersion/10))}),this._maxKey=Vs(T.IDBKeyRange),this._createTransaction=function(xe,nt,Le,Xe){return new x.Transaction(xe,nt,Le,x._options.chromeTransactionDurability,Xe)},this._fireOnBlocked=function(xe){x.on("blocked").fire(xe),Fs.filter(function(nt){return nt.name===x.name&&nt!==x&&!nt._state.vcFired}).map(function(nt){return nt.on("versionchange").fire(xe)})},this.use(ro),this.use(ch),this.use(tl),this.use(Ha),this.use(oS);var tt=new Proxy(this,{get:function(xe,nt,Le){if("_vip"===nt)return!0;if("table"===nt)return function(Ye){return qn(x.table(Ye),tt)};var Xe=Reflect.get(xe,nt,Le);return Xe instanceof Hr?qn(Xe,tt):"tables"===nt?Xe.map(function(Ye){return qn(Ye,tt)}):"_createTransaction"===nt?function(){return qn(Xe.apply(this,arguments),tt)}:Xe}});this.vip=tt,N.forEach(function(xe){return xe(x)})}ao=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var $a,Lu=(Vl.prototype.subscribe=function(v,T,x){return this._subscribe(v&&"function"!=typeof v?v:{next:v,error:T,complete:x})},Vl.prototype[ao]=function(){return this},Vl);function Vl(v){this._subscribe=v}try{$a={indexedDB:ne.indexedDB||ne.mozIndexedDB||ne.webkitIndexedDB||ne.msIndexedDB,IDBKeyRange:ne.IDBKeyRange||ne.webkitIDBKeyRange}}catch{$a={indexedDB:null,IDBKeyRange:null}}function Us(v){var T,x=!1,N=new Lu(function(V){var ee,$=mn(v),ye=!1,He={},Oe={},tt={get closed(){return ye},unsubscribe:function(){ye||(ye=!0,ee&&ee.abort(),xe&&Xn.storagemutated.unsubscribe(Le))}};V.start&&V.start(tt);var xe=!1,nt=function(){return Fn(Xe)},Le=function(Ye){qi(He,Ye),Ll(Oe,He)&&nt()},Xe=function(){var Ye,$e,ft;!ye&&$a.indexedDB&&(He={},Ye={},ee&&ee.abort(),ee=new AbortController,ft=function(qe){var it=wi();try{$&&qo();var wt=Kn(v,qe);return wt=$?wt.finally(kr):wt}finally{it&&dr()}}($e={subscr:Ye,signal:ee.signal,requery:nt,querier:v,trans:null}),Promise.resolve(ft).then(function(qe){x=!0,T=qe,ye||$e.signal.aborted||(He={},function(it){for(var wt in it)if(lt(it,wt))return;return 1}(Oe=Ye)||xe||(Xn(Cn,Le),xe=!0),Fn(function(){return!ye&&V.next&&V.next(qe)}))},function(qe){x=!1,["DatabaseClosedError","AbortError"].includes(qe?.name)||ye||Fn(function(){ye||V.error&&V.error(qe)})}))};return setTimeout(nt,0),tt});return N.hasValue=function(){return x},N.getValue=function(){return T},N}var Xo=_a;function Bl(v){var T=va;try{va=!0,Xn.storagemutated.fire(v),el(v,!0)}finally{va=T}}Be(Xo,P(P({},re),{delete:function(v){return new Xo(v,{addons:[]}).delete()},exists:function(v){return new Xo(v,{addons:[]}).open().then(function(T){return T.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return x=(T=Xo.dependencies).indexedDB,T=T.IDBKeyRange,(ga(x)?Promise.resolve(x.databases()).then(function(N){return N.map(function(V){return V.name}).filter(function(V){return V!==wr})}):ja(x,T).toCollection().primaryKeys()).then(v)}catch{return _n(new X.MissingAPI)}var T,x},defineClass:function(){return function(v){D(this,v)}},ignoreTransaction:function(v){return jt.trans?hr(jt.transless,v):v()},vip:Pu,async:function(v){return function(){try{var T=sh(v.apply(this,arguments));return T&&"function"==typeof T.then?T:kt.resolve(T)}catch(x){return _n(x)}}},spawn:function(v,T,x){try{var N=sh(v.apply(x,T||[]));return N&&"function"==typeof N.then?N:kt.resolve(N)}catch(V){return _n(V)}},currentTransaction:{get:function(){return jt.trans||null}},waitFor:function(v,T){return T=kt.resolve("function"==typeof v?Xo.ignoreTransaction(v):v).timeout(T||6e4),jt.trans?jt.trans.waitFor(T):T},Promise:kt,debug:{get:function(){return $t},set:function(v){hn(v)}},derive:Me,extend:D,props:Be,override:Re,Events:vs,on:Xn,liveQuery:Us,extendObservabilitySet:qi,getByKeyPath:Fe,setByKeyPath:De,delByKeyPath:function(v,T){"string"==typeof T?De(v,T,void 0):"length"in T&&[].map.call(T,function(x){De(v,x,void 0)})},shallowClone:Ae,deepClone:_e,getObjectDiff:Nu,cmp:Gn,asap:ge,minKey:-1/0,addons:[],connections:Fs,errnames:B,dependencies:$a,cache:Zc,semVer:"4.0.8",version:"4.0.8".split(".").map(function(v){return parseInt(v)}).reduce(function(v,T,x){return v+T/Math.pow(10,2*x)})})),Xo.maxKey=Vs(Xo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Xn(Cn,function(v){va||(v=new CustomEvent(Ln,{detail:v}),va=!0,dispatchEvent(v),va=!1)}),addEventListener(Ln,function(v){v=v.detail,va||Bl(v)}));var Ga,va=!1,An=function(){};return typeof BroadcastChannel<"u"&&((An=function(){(Ga=new BroadcastChannel(Ln)).onmessage=function(v){return v.data&&Bl(v.data)}})(),"function"==typeof Ga.unref&&Ga.unref(),Xn(Cn,function(v){va||Ga.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!_a.disableBfCache&&v.persisted){$t&&console.debug("Dexie: handling persisted pagehide"),Ga?.close();for(var T=0,x=Fs;T<x.length;T++)x[T].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!_a.disableBfCache&&v.persisted&&($t&&console.debug("Dexie: handling persisted pageshow"),An(),Bl({all:new gi(-1/0,[[]])}))})),kt.rejectionMapper=function(v,T){return!v||v instanceof Ge||v instanceof TypeError||v instanceof SyntaxError||!v.name||!Z[v.name]?v:(T=new Z[v.name](T||v.message,v),"stack"in v&&Y(T,"stack",{get:function(){return this.inner.stack}}),T)},hn($t),P(_a,Object.freeze({__proto__:null,Dexie:_a,liveQuery:Us,Entity:Po,cmp:Gn,PropModSymbol:ko,PropModification:ha,replacePrefix:function(v,T){return new ha({replacePrefix:[v,T]})},add:function(v){return new ha({add:v})},remove:function(v){return new ha({remove:v})},default:_a,RangeSet:gi,mergeRanges:Ri,rangesOverlap:Ou}),{default:_a}),_a}()},4412:(Bt,et,P)=>{"use strict";P.d(et,{t:()=>ne});var J=P(1413);class ne extends J.B{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const D=super._subscribe(ae);return!D.closed&&ae.next(this._value),D}getValue(){const{hasError:ae,thrownError:D,_value:a}=this;if(ae)throw D;return this._throwIfClosed(),a}next(ae){super.next(this._value=ae)}}},1985:(Bt,et,P)=>{"use strict";P.d(et,{c:()=>lt});var J=P(7707),ne=P(8359),pe=P(3494),ae=P(1203),D=P(1026),a=P(8071),Ce=P(9786);let lt=(()=>{class Me{constructor(oe){oe&&(this._subscribe=oe)}lift(oe){const ze=new Me;return ze.source=this,ze.operator=oe,ze}subscribe(oe,ze,Re){const ke=function Y(Me){return Me&&Me instanceof J.vU||function Ue(Me){return Me&&(0,a.T)(Me.next)&&(0,a.T)(Me.error)&&(0,a.T)(Me.complete)}(Me)&&(0,ne.Uv)(Me)}(oe)?oe:new J.Ms(oe,ze,Re);return(0,Ce.Y)(()=>{const{operator:ge,source:Fe}=this;ke.add(ge?ge.call(ke,Fe):Fe?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(oe){try{return this._subscribe(oe)}catch(ze){oe.error(ze)}}forEach(oe,ze){return new(ze=Be(ze))((Re,ke)=>{const ge=new J.Ms({next:Fe=>{try{oe(Fe)}catch(De){ke(De),ge.unsubscribe()}},error:ke,complete:Re});this.subscribe(ge)})}_subscribe(oe){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(oe)}[pe.s](){return this}pipe(...oe){return(0,ae.m)(oe)(this)}toPromise(oe){return new(oe=Be(oe))((ze,Re)=>{let ke;this.subscribe(ge=>ke=ge,ge=>Re(ge),()=>ze(ke))})}}return Me.create=Ne=>new Me(Ne),Me})();function Be(Me){var Ne;return null!==(Ne=Me??D.$.Promise)&&void 0!==Ne?Ne:Promise}},1413:(Bt,et,P)=>{"use strict";P.d(et,{B:()=>Ce});var J=P(1985),ne=P(8359);const ae=(0,P(1853).L)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var D=P(7908),a=P(9786);let Ce=(()=>{class Be extends J.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const Me=new lt(this,this);return Me.operator=Y,Me}_throwIfClosed(){if(this.closed)throw new ae}next(Y){(0,a.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(Y)}})}error(Y){(0,a.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:Me}=this;for(;Me.length;)Me.shift().error(Y)}})}complete(){(0,a.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:Me,isStopped:Ne,observers:oe}=this;return Me||Ne?ne.Kn:(this.currentObservers=null,oe.push(Y),new ne.yU(()=>{this.currentObservers=null,(0,D.o)(oe,Y)}))}_checkFinalizedStatuses(Y){const{hasError:Me,thrownError:Ne,isStopped:oe}=this;Me?Y.error(Ne):oe&&Y.complete()}asObservable(){const Y=new J.c;return Y.source=this,Y}}return Be.create=(Ue,Y)=>new lt(Ue,Y),Be})();class lt extends Ce{constructor(Ue,Y){super(),this.destination=Ue,this.source=Y}next(Ue){var Y,Me;null===(Me=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===Me||Me.call(Y,Ue)}error(Ue){var Y,Me;null===(Me=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===Me||Me.call(Y,Ue)}complete(){var Ue,Y;null===(Y=null===(Ue=this.destination)||void 0===Ue?void 0:Ue.complete)||void 0===Y||Y.call(Ue)}_subscribe(Ue){var Y,Me;return null!==(Me=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(Ue))&&void 0!==Me?Me:ne.Kn}}},7707:(Bt,et,P)=>{"use strict";P.d(et,{Ms:()=>Re,vU:()=>Me});var J=P(8071),ne=P(8359),pe=P(1026),ae=P(5334),D=P(5343);const a=Be("C",void 0,void 0);function Be(Ae,We,Ie){return{kind:Ae,value:We,error:Ie}}var Ue=P(9270),Y=P(9786);class Me extends ne.yU{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,ne.Uv)(We)&&We.add(this)):this.destination=De}static create(We,Ie,st){return new Re(We,Ie,st)}next(We){this.isStopped?Fe(function lt(Ae){return Be("N",Ae,void 0)}(We),this):this._next(We)}error(We){this.isStopped?Fe(function Ce(Ae){return Be("E",void 0,Ae)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?Fe(a,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function oe(Ae,We){return Ne.call(Ae,We)}class ze{constructor(We){this.partialObserver=We}next(We){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(We)}catch(st){ke(st)}}error(We){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(We)}catch(st){ke(st)}else ke(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(Ie){ke(Ie)}}}class Re extends Me{constructor(We,Ie,st){let Qe;if(super(),(0,J.T)(We)||!We)Qe={next:We??void 0,error:Ie??void 0,complete:st??void 0};else{let _e;this&&pe.$.useDeprecatedNextContext?(_e=Object.create(We),_e.unsubscribe=()=>this.unsubscribe(),Qe={next:We.next&&oe(We.next,_e),error:We.error&&oe(We.error,_e),complete:We.complete&&oe(We.complete,_e)}):Qe=We}this.destination=new ze(Qe)}}function ke(Ae){pe.$.useDeprecatedSynchronousErrorHandling?(0,Y.l)(Ae):(0,ae.m)(Ae)}function Fe(Ae,We){const{onStoppedNotification:Ie}=pe.$;Ie&&Ue.f.setTimeout(()=>Ie(Ae,We))}const De={closed:!0,next:D.l,error:function ge(Ae){throw Ae},complete:D.l}},8359:(Bt,et,P)=>{"use strict";P.d(et,{Kn:()=>a,yU:()=>D,Uv:()=>Ce});var J=P(8071);const pe=(0,P(1853).L)(Be=>function(Y){Be(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((Me,Ne)=>`${Ne+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var ae=P(7908);class D{constructor(Ue){this.initialTeardown=Ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ue;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const oe of Y)oe.remove(this);else Y.remove(this);const{initialTeardown:Me}=this;if((0,J.T)(Me))try{Me()}catch(oe){Ue=oe instanceof pe?oe.errors:[oe]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const oe of Ne)try{lt(oe)}catch(ze){Ue=Ue??[],ze instanceof pe?Ue=[...Ue,...ze.errors]:Ue.push(ze)}}if(Ue)throw new pe(Ue)}}add(Ue){var Y;if(Ue&&Ue!==this)if(this.closed)lt(Ue);else{if(Ue instanceof D){if(Ue.closed||Ue._hasParent(this))return;Ue._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(Ue)}}_hasParent(Ue){const{_parentage:Y}=this;return Y===Ue||Array.isArray(Y)&&Y.includes(Ue)}_addParent(Ue){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(Ue),Y):Y?[Y,Ue]:Ue}_removeParent(Ue){const{_parentage:Y}=this;Y===Ue?this._parentage=null:Array.isArray(Y)&&(0,ae.o)(Y,Ue)}remove(Ue){const{_finalizers:Y}=this;Y&&(0,ae.o)(Y,Ue),Ue instanceof D&&Ue._removeParent(this)}}D.EMPTY=(()=>{const Be=new D;return Be.closed=!0,Be})();const a=D.EMPTY;function Ce(Be){return Be instanceof D||Be&&"closed"in Be&&(0,J.T)(Be.remove)&&(0,J.T)(Be.add)&&(0,J.T)(Be.unsubscribe)}function lt(Be){(0,J.T)(Be)?Be():Be.unsubscribe()}},1026:(Bt,et,P)=>{"use strict";P.d(et,{$:()=>J});const J={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4843:(Bt,et,P)=>{"use strict";P.d(et,{_:()=>pe});var J=P(9350),ne=P(7707);function pe(ae,D){const a="object"==typeof D;return new Promise((Ce,lt)=>{const Be=new ne.Ms({next:Ue=>{Ce(Ue),Be.unsubscribe()},error:lt,complete:()=>{a?Ce(D.defaultValue):lt(new J.G)}});ae.subscribe(Be)})}},8793:(Bt,et,P)=>{"use strict";P.d(et,{x:()=>D});var J=P(6365),pe=P(9326),ae=P(6648);function D(...a){return function ne(){return(0,J.U)(1)}()((0,ae.H)(a,(0,pe.lI)(a)))}},983:(Bt,et,P)=>{"use strict";P.d(et,{w:()=>ne});const ne=new(P(1985).c)(D=>D.complete())},6648:(Bt,et,P)=>{"use strict";P.d(et,{H:()=>st});var J=P(8750),ne=P(5225),pe=P(9974),ae=P(4360);function D(Qe,_e=0){return(0,pe.N)((ue,Q)=>{ue.subscribe((0,ae._)(Q,pt=>(0,ne.N)(Q,Qe,()=>Q.next(pt),_e),()=>(0,ne.N)(Q,Qe,()=>Q.complete(),_e),pt=>(0,ne.N)(Q,Qe,()=>Q.error(pt),_e)))})}function a(Qe,_e=0){return(0,pe.N)((ue,Q)=>{Q.add(Qe.schedule(()=>ue.subscribe(Q),_e))})}var Be=P(1985),Y=P(4761),Me=P(8071);function oe(Qe,_e){if(!Qe)throw new Error("Iterable cannot be null");return new Be.c(ue=>{(0,ne.N)(ue,_e,()=>{const Q=Qe[Symbol.asyncIterator]();(0,ne.N)(ue,_e,()=>{Q.next().then(pt=>{pt.done?ue.complete():ue.next(pt.value)})},0,!0)})})}var ze=P(5055),Re=P(9858),ke=P(7441),ge=P(5397),Fe=P(7953),De=P(591),Ae=P(5196);function st(Qe,_e){return _e?function Ie(Qe,_e){if(null!=Qe){if((0,ze.l)(Qe))return function Ce(Qe,_e){return(0,J.Tg)(Qe).pipe(a(_e),D(_e))}(Qe,_e);if((0,ke.X)(Qe))return function Ue(Qe,_e){return new Be.c(ue=>{let Q=0;return _e.schedule(function(){Q===Qe.length?ue.complete():(ue.next(Qe[Q++]),ue.closed||this.schedule())})})}(Qe,_e);if((0,Re.y)(Qe))return function lt(Qe,_e){return(0,J.Tg)(Qe).pipe(a(_e),D(_e))}(Qe,_e);if((0,Fe.T)(Qe))return oe(Qe,_e);if((0,ge.x)(Qe))return function Ne(Qe,_e){return new Be.c(ue=>{let Q;return(0,ne.N)(ue,_e,()=>{Q=Qe[Y.l](),(0,ne.N)(ue,_e,()=>{let pt,Ct;try{({value:pt,done:Ct}=Q.next())}catch(At){return void ue.error(At)}Ct?ue.complete():ue.next(pt)},0,!0)}),()=>(0,Me.T)(Q?.return)&&Q.return()})}(Qe,_e);if((0,Ae.U)(Qe))return function We(Qe,_e){return oe((0,Ae.C)(Qe),_e)}(Qe,_e)}throw(0,De.L)(Qe)}(Qe,_e):(0,J.Tg)(Qe)}},8750:(Bt,et,P)=>{"use strict";P.d(et,{Tg:()=>Ne});var J=P(1635),ne=P(7441),pe=P(9858),ae=P(1985),D=P(5055),a=P(7953),Ce=P(591),lt=P(5397),Be=P(5196),Ue=P(8071),Y=P(5334),Me=P(3494);function Ne(Ae){if(Ae instanceof ae.c)return Ae;if(null!=Ae){if((0,D.l)(Ae))return function oe(Ae){return new ae.c(We=>{const Ie=Ae[Me.s]();if((0,Ue.T)(Ie.subscribe))return Ie.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ne.X)(Ae))return function ze(Ae){return new ae.c(We=>{for(let Ie=0;Ie<Ae.length&&!We.closed;Ie++)We.next(Ae[Ie]);We.complete()})}(Ae);if((0,pe.y)(Ae))return function Re(Ae){return new ae.c(We=>{Ae.then(Ie=>{We.closed||(We.next(Ie),We.complete())},Ie=>We.error(Ie)).then(null,Y.m)})}(Ae);if((0,a.T)(Ae))return ge(Ae);if((0,lt.x)(Ae))return function ke(Ae){return new ae.c(We=>{for(const Ie of Ae)if(We.next(Ie),We.closed)return;We.complete()})}(Ae);if((0,Be.U)(Ae))return function Fe(Ae){return ge((0,Be.C)(Ae))}(Ae)}throw(0,Ce.L)(Ae)}function ge(Ae){return new ae.c(We=>{(function De(Ae,We){var Ie,st,Qe,_e;return(0,J.sH)(this,void 0,void 0,function*(){try{for(Ie=(0,J.xN)(Ae);!(st=yield Ie.next()).done;)if(We.next(st.value),We.closed)return}catch(ue){Qe={error:ue}}finally{try{st&&!st.done&&(_e=Ie.return)&&(yield _e.call(Ie))}finally{if(Qe)throw Qe.error}}We.complete()})})(Ae,We).catch(Ie=>We.error(Ie))})}},7786:(Bt,et,P)=>{"use strict";P.d(et,{h:()=>a});var J=P(6365),ne=P(8750),pe=P(983),ae=P(9326),D=P(6648);function a(...Ce){const lt=(0,ae.lI)(Ce),Be=(0,ae.R0)(Ce,1/0),Ue=Ce;return Ue.length?1===Ue.length?(0,ne.Tg)(Ue[0]):(0,J.U)(Be)((0,D.H)(Ue,lt)):pe.w}},4360:(Bt,et,P)=>{"use strict";P.d(et,{_:()=>ne});var J=P(7707);function ne(ae,D,a,Ce,lt){return new pe(ae,D,a,Ce,lt)}class pe extends J.vU{constructor(D,a,Ce,lt,Be,Ue){super(D),this.onFinalize=Be,this.shouldUnsubscribe=Ue,this._next=a?function(Y){try{a(Y)}catch(Me){D.error(Me)}}:super._next,this._error=lt?function(Y){try{lt(Y)}catch(Me){D.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch(Y){D.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var D;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:a}=this;super.unsubscribe(),!a&&(null===(D=this.onFinalize)||void 0===D||D.call(this))}}}},3294:(Bt,et,P)=>{"use strict";P.d(et,{F:()=>ae});var J=P(3669),ne=P(9974),pe=P(4360);function ae(a,Ce=J.D){return a=a??D,(0,ne.N)((lt,Be)=>{let Ue,Y=!0;lt.subscribe((0,pe._)(Be,Me=>{const Ne=Ce(Me);(Y||!a(Ue,Ne))&&(Y=!1,Ue=Ne,Be.next(Me))}))})}function D(a,Ce){return a===Ce}},5964:(Bt,et,P)=>{"use strict";P.d(et,{p:()=>pe});var J=P(9974),ne=P(4360);function pe(ae,D){return(0,J.N)((a,Ce)=>{let lt=0;a.subscribe((0,ne._)(Ce,Be=>ae.call(D,Be,lt++)&&Ce.next(Be)))})}},6354:(Bt,et,P)=>{"use strict";P.d(et,{T:()=>pe});var J=P(9974),ne=P(4360);function pe(ae,D){return(0,J.N)((a,Ce)=>{let lt=0;a.subscribe((0,ne._)(Ce,Be=>{Ce.next(ae.call(D,Be,lt++))}))})}},6365:(Bt,et,P)=>{"use strict";P.d(et,{U:()=>pe});var J=P(1397),ne=P(3669);function pe(ae=1/0){return(0,J.Z)(ne.D,ae)}},1397:(Bt,et,P)=>{"use strict";P.d(et,{Z:()=>lt});var J=P(6354),ne=P(8750),pe=P(9974),ae=P(5225),D=P(4360),Ce=P(8071);function lt(Be,Ue,Y=1/0){return(0,Ce.T)(Ue)?lt((Me,Ne)=>(0,J.T)((oe,ze)=>Ue(Me,oe,Ne,ze))((0,ne.Tg)(Be(Me,Ne))),Y):("number"==typeof Ue&&(Y=Ue),(0,pe.N)((Me,Ne)=>function a(Be,Ue,Y,Me,Ne,oe,ze,Re){const ke=[];let ge=0,Fe=0,De=!1;const Ae=()=>{De&&!ke.length&&!ge&&Ue.complete()},We=st=>ge<Me?Ie(st):ke.push(st),Ie=st=>{oe&&Ue.next(st),ge++;let Qe=!1;(0,ne.Tg)(Y(st,Fe++)).subscribe((0,D._)(Ue,_e=>{Ne?.(_e),oe?We(_e):Ue.next(_e)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(ge--;ke.length&&ge<Me;){const _e=ke.shift();ze?(0,ae.N)(Ue,ze,()=>Ie(_e)):Ie(_e)}Ae()}catch(_e){Ue.error(_e)}}))};return Be.subscribe((0,D._)(Ue,We,()=>{De=!0,Ae()})),()=>{Re?.()}}(Me,Ne,Be,Y)))}},7647:(Bt,et,P)=>{"use strict";P.d(et,{u:()=>D});var J=P(8750),ne=P(1413),pe=P(7707),ae=P(9974);function D(Ce={}){const{connector:lt=(()=>new ne.B),resetOnError:Be=!0,resetOnComplete:Ue=!0,resetOnRefCountZero:Y=!0}=Ce;return Me=>{let Ne,oe,ze,Re=0,ke=!1,ge=!1;const Fe=()=>{oe?.unsubscribe(),oe=void 0},De=()=>{Fe(),Ne=ze=void 0,ke=ge=!1},Ae=()=>{const We=Ne;De(),We?.unsubscribe()};return(0,ae.N)((We,Ie)=>{Re++,!ge&&!ke&&Fe();const st=ze=ze??lt();Ie.add(()=>{Re--,0===Re&&!ge&&!ke&&(oe=a(Ae,Y))}),st.subscribe(Ie),!Ne&&Re>0&&(Ne=new pe.Ms({next:Qe=>st.next(Qe),error:Qe=>{ge=!0,Fe(),oe=a(De,Be,Qe),st.error(Qe)},complete:()=>{ke=!0,Fe(),oe=a(De,Ue),st.complete()}}),(0,J.Tg)(We).subscribe(Ne))})(Me)}}function a(Ce,lt,...Be){if(!0===lt)return void Ce();if(!1===lt)return;const Ue=new pe.Ms({next:()=>{Ue.unsubscribe(),Ce()}});return(0,J.Tg)(lt(...Be)).subscribe(Ue)}},6496:(Bt,et,P)=>{"use strict";P.d(et,{t:()=>D});var J=P(1413),ne=P(6129);class pe extends J.B{constructor(Ce=1/0,lt=1/0,Be=ne.U){super(),this._bufferSize=Ce,this._windowTime=lt,this._timestampProvider=Be,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=lt===1/0,this._bufferSize=Math.max(1,Ce),this._windowTime=Math.max(1,lt)}next(Ce){const{isStopped:lt,_buffer:Be,_infiniteTimeWindow:Ue,_timestampProvider:Y,_windowTime:Me}=this;lt||(Be.push(Ce),!Ue&&Be.push(Y.now()+Me)),this._trimBuffer(),super.next(Ce)}_subscribe(Ce){this._throwIfClosed(),this._trimBuffer();const lt=this._innerSubscribe(Ce),{_infiniteTimeWindow:Be,_buffer:Ue}=this,Y=Ue.slice();for(let Me=0;Me<Y.length&&!Ce.closed;Me+=Be?1:2)Ce.next(Y[Me]);return this._checkFinalizedStatuses(Ce),lt}_trimBuffer(){const{_bufferSize:Ce,_timestampProvider:lt,_buffer:Be,_infiniteTimeWindow:Ue}=this,Y=(Ue?1:2)*Ce;if(Ce<1/0&&Y<Be.length&&Be.splice(0,Be.length-Y),!Ue){const Me=lt.now();let Ne=0;for(let oe=1;oe<Be.length&&Be[oe]<=Me;oe+=2)Ne=oe;Ne&&Be.splice(0,Ne+1)}}}var ae=P(7647);function D(a,Ce,lt){let Be,Ue=!1;return a&&"object"==typeof a?({bufferSize:Be=1/0,windowTime:Ce=1/0,refCount:Ue=!1,scheduler:lt}=a):Be=a??1/0,(0,ae.u)({connector:()=>new pe(Be,Ce,lt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}},9172:(Bt,et,P)=>{"use strict";P.d(et,{Z:()=>ae});var J=P(8793),ne=P(9326),pe=P(9974);function ae(...D){const a=(0,ne.lI)(D);return(0,pe.N)((Ce,lt)=>{(a?(0,J.x)(D,Ce,a):(0,J.x)(D,Ce)).subscribe(lt)})}},6129:(Bt,et,P)=>{"use strict";P.d(et,{U:()=>J});const J={now:()=>(J.delegate||Date).now(),delegate:void 0}},9270:(Bt,et,P)=>{"use strict";P.d(et,{f:()=>J});const J={setTimeout(ne,pe,...ae){const{delegate:D}=J;return D?.setTimeout?D.setTimeout(ne,pe,...ae):setTimeout(ne,pe,...ae)},clearTimeout(ne){const{delegate:pe}=J;return(pe?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},4761:(Bt,et,P)=>{"use strict";P.d(et,{l:()=>ne});const ne=function J(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Bt,et,P)=>{"use strict";P.d(et,{s:()=>J});const J="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Bt,et,P)=>{"use strict";P.d(et,{G:()=>ne});const ne=(0,P(1853).L)(pe=>function(){pe(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Bt,et,P)=>{"use strict";P.d(et,{R0:()=>a,lI:()=>D,ms:()=>ae});var J=P(8071),ne=P(9470);function pe(Ce){return Ce[Ce.length-1]}function ae(Ce){return(0,J.T)(pe(Ce))?Ce.pop():void 0}function D(Ce){return(0,ne.m)(pe(Ce))?Ce.pop():void 0}function a(Ce,lt){return"number"==typeof pe(Ce)?Ce.pop():lt}},7908:(Bt,et,P)=>{"use strict";function J(ne,pe){if(ne){const ae=ne.indexOf(pe);0<=ae&&ne.splice(ae,1)}}P.d(et,{o:()=>J})},1853:(Bt,et,P)=>{"use strict";function J(ne){const ae=ne(D=>{Error.call(D),D.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}P.d(et,{L:()=>J})},9786:(Bt,et,P)=>{"use strict";P.d(et,{Y:()=>pe,l:()=>ae});var J=P(1026);let ne=null;function pe(D){if(J.$.useDeprecatedSynchronousErrorHandling){const a=!ne;if(a&&(ne={errorThrown:!1,error:null}),D(),a){const{errorThrown:Ce,error:lt}=ne;if(ne=null,Ce)throw lt}}else D()}function ae(D){J.$.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=D)}},5225:(Bt,et,P)=>{"use strict";function J(ne,pe,ae,D=0,a=!1){const Ce=pe.schedule(function(){ae(),a?ne.add(this.schedule(null,D)):this.unsubscribe()},D);if(ne.add(Ce),!a)return Ce}P.d(et,{N:()=>J})},3669:(Bt,et,P)=>{"use strict";function J(ne){return ne}P.d(et,{D:()=>J})},7441:(Bt,et,P)=>{"use strict";P.d(et,{X:()=>J});const J=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},7953:(Bt,et,P)=>{"use strict";P.d(et,{T:()=>ne});var J=P(8071);function ne(pe){return Symbol.asyncIterator&&(0,J.T)(pe?.[Symbol.asyncIterator])}},8071:(Bt,et,P)=>{"use strict";function J(ne){return"function"==typeof ne}P.d(et,{T:()=>J})},5055:(Bt,et,P)=>{"use strict";P.d(et,{l:()=>pe});var J=P(3494),ne=P(8071);function pe(ae){return(0,ne.T)(ae[J.s])}},5397:(Bt,et,P)=>{"use strict";P.d(et,{x:()=>pe});var J=P(4761),ne=P(8071);function pe(ae){return(0,ne.T)(ae?.[J.l])}},9858:(Bt,et,P)=>{"use strict";P.d(et,{y:()=>ne});var J=P(8071);function ne(pe){return(0,J.T)(pe?.then)}},5196:(Bt,et,P)=>{"use strict";P.d(et,{C:()=>pe,U:()=>ae});var J=P(1635),ne=P(8071);function pe(D){return(0,J.AQ)(this,arguments,function*(){const Ce=D.getReader();try{for(;;){const{value:lt,done:Be}=yield(0,J.N3)(Ce.read());if(Be)return yield(0,J.N3)(void 0);yield yield(0,J.N3)(lt)}}finally{Ce.releaseLock()}})}function ae(D){return(0,ne.T)(D?.getReader)}},9470:(Bt,et,P)=>{"use strict";P.d(et,{m:()=>ne});var J=P(8071);function ne(pe){return pe&&(0,J.T)(pe.schedule)}},9974:(Bt,et,P)=>{"use strict";P.d(et,{N:()=>pe,S:()=>ne});var J=P(8071);function ne(ae){return(0,J.T)(ae?.lift)}function pe(ae){return D=>{if(ne(D))return D.lift(function(a){try{return ae(a,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Bt,et,P)=>{"use strict";function J(){}P.d(et,{l:()=>J})},1203:(Bt,et,P)=>{"use strict";P.d(et,{F:()=>ne,m:()=>pe});var J=P(3669);function ne(...ae){return pe(ae)}function pe(ae){return 0===ae.length?J.D:1===ae.length?ae[0]:function(a){return ae.reduce((Ce,lt)=>lt(Ce),a)}}},5334:(Bt,et,P)=>{"use strict";P.d(et,{m:()=>pe});var J=P(1026),ne=P(9270);function pe(ae){ne.f.setTimeout(()=>{const{onUnhandledError:D}=J.$;if(!D)throw ae;D(ae)})}},591:(Bt,et,P)=>{"use strict";function J(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(et,{L:()=>J})},9969:(Bt,et,P)=>{"use strict";P.d(et,{FX:()=>_e,If:()=>J,K2:()=>a,MA:()=>Me,Os:()=>D,P:()=>oe,hZ:()=>pe,i0:()=>ae,iF:()=>Ce,kY:()=>Ue,kp:()=>ne,sf:()=>st,ui:()=>Qe,wk:()=>lt});var J=function(ue){return ue[ue.State=0]="State",ue[ue.Transition=1]="Transition",ue[ue.Sequence=2]="Sequence",ue[ue.Group=3]="Group",ue[ue.Animate=4]="Animate",ue[ue.Keyframes=5]="Keyframes",ue[ue.Style=6]="Style",ue[ue.Trigger=7]="Trigger",ue[ue.Reference=8]="Reference",ue[ue.AnimateChild=9]="AnimateChild",ue[ue.AnimateRef=10]="AnimateRef",ue[ue.Query=11]="Query",ue[ue.Stagger=12]="Stagger",ue}(J||{});const ne="*";function pe(ue,Q){return{type:J.Trigger,name:ue,definitions:Q,options:{}}}function ae(ue,Q=null){return{type:J.Animate,styles:Q,timings:ue}}function D(ue,Q=null){return{type:J.Group,steps:ue,options:Q}}function a(ue,Q=null){return{type:J.Sequence,steps:ue,options:Q}}function Ce(ue){return{type:J.Style,styles:ue,offset:null}}function lt(ue,Q,pt){return{type:J.State,name:ue,styles:Q,options:pt}}function Ue(ue,Q,pt=null){return{type:J.Transition,expr:ue,animation:Q,options:pt}}function Me(ue=null){return{type:J.AnimateChild,options:ue}}function oe(ue,Q,pt=null){return{type:J.Query,selector:ue,animation:Q,options:pt}}class st{constructor(Q=0,pt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Q+pt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}onStart(Q){this._originalOnStartFns.push(Q),this._onStartFns.push(Q)}onDone(Q){this._originalOnDoneFns.push(Q),this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Q=>Q()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Q){this._position=this.totalTime?Q*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Q){const pt="start"==Q?this._onStartFns:this._onDoneFns;pt.forEach(Ct=>Ct()),pt.length=0}}class Qe{constructor(Q){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Q;let pt=0,Ct=0,At=0;const un=this.players.length;0==un?queueMicrotask(()=>this._onFinish()):this.players.forEach(tn=>{tn.onDone(()=>{++pt==un&&this._onFinish()}),tn.onDestroy(()=>{++Ct==un&&this._onDestroy()}),tn.onStart(()=>{++At==un&&this._onStart()})}),this.totalTime=this.players.reduce((tn,mn)=>Math.max(tn,mn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}init(){this.players.forEach(Q=>Q.init())}onStart(Q){this._onStartFns.push(Q)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Q=>Q()),this._onStartFns=[])}onDone(Q){this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Q=>Q.play())}pause(){this.players.forEach(Q=>Q.pause())}restart(){this.players.forEach(Q=>Q.restart())}finish(){this._onFinish(),this.players.forEach(Q=>Q.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Q=>Q.destroy()),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this.players.forEach(Q=>Q.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Q){const pt=Q*this.totalTime;this.players.forEach(Ct=>{const At=Ct.totalTime?Math.min(1,pt/Ct.totalTime):1;Ct.setPosition(At)})}getPosition(){const Q=this.players.reduce((pt,Ct)=>null===pt||Ct.totalTime>pt.totalTime?Ct:pt,null);return null!=Q?Q.getPosition():0}beforeDestroy(){this.players.forEach(Q=>{Q.beforeDestroy&&Q.beforeDestroy()})}triggerCallback(Q){const pt="start"==Q?this._onStartFns:this._onDoneFns;pt.forEach(Ct=>Ct()),pt.length=0}}const _e="!"},3953:(Bt,et,P)=>{"use strict";function J(o,s){return Object.is(o,s)}P.d(et,{bc$:()=>aH,iLQ:()=>og,sZ2:()=>X_,hnV:()=>v1,o8S:()=>nc,BIS:()=>yA,gRc:()=>N1,Ql9:()=>bT,OM3:()=>Pv,Ocv:()=>t5,Z63:()=>Wa,aKT:()=>gr,uvJ:()=>$s,zcH:()=>Ia,bkB:()=>Ic,$GK:()=>yt,nKC:()=>An,zZn:()=>Lr,_q3:()=>kT,MKu:()=>OT,xe9:()=>Hf,Co$:()=>Sx,Vns:()=>ff,SKi:()=>zi,Xx1:()=>ym,Agw:()=>Ca,PLl:()=>Zm,rOR:()=>dE,sFG:()=>$D,_9s:()=>af,czy:()=>lv,WPN:()=>zh,kdw:()=>n_,C4Q:()=>yv,NYb:()=>tg,giA:()=>ng,RxE:()=>l2,c1b:()=>uf,gXe:()=>ba,mal:()=>nu,Tzd:()=>YD,L39:()=>cR,EWP:()=>Bd,sbv:()=>K4,Ol2:()=>mf,w6W:()=>RF,QZP:()=>Kf,Rfq:()=>Jc,WQX:()=>an,naY:()=>B2,Hps:()=>mx,QuC:()=>Ka,EmA:()=>_h,Udg:()=>lR,HJs:()=>fR,N4e:()=>__,vPA:()=>hF,O8t:()=>hR,An2:()=>xc,H3F:()=>Xy,zAP:()=>nn,H8p:()=>h_,KH2:()=>rs,TgB:()=>Yu,wOt:()=>Qt,WHO:()=>eg,e01:()=>yT,lNU:()=>ih,h9k:()=>HO,$MX:()=>xE,ZF7:()=>tp,Kcf:()=>TH,e5t:()=>DH,UyX:()=>SH,cWb:()=>CH,osQ:()=>AH,H5H:()=>Vp,mq5:()=>Ed,JZv:()=>Ri,TL3:()=>gu,LfX:()=>ao,plB:()=>Mc,jNT:()=>Jy,zjR:()=>eb,ngT:()=>Io,TL$:()=>Ym,Tbb:()=>qi,rcV:()=>Yl,nM4:()=>Ix,Vt3:()=>jv,GFd:()=>Tp,OA$:()=>ol,Jv_:()=>QI,aNF:()=>XL,R7$:()=>oD,BMQ:()=>Jw,HbH:()=>Qx,ZvI:()=>Np,AVh:()=>dI,vxM:()=>wL,wni:()=>Vf,C6U:()=>FM,VBU:()=>w0,FsC:()=>I0,jDH:()=>qn,G2t:()=>li,$C:()=>c_,EJ8:()=>u_,rXU:()=>ap,nrm:()=>ny,k0s:()=>ty,j41:()=>ey,RV6:()=>uM,xGo:()=>JS,Mr5:()=>iy,KVO:()=>yo,kS0:()=>Wm,QTQ:()=>Zh,bIt:()=>NI,lsd:()=>wy,joV:()=>Nk,qSk:()=>jS,XpG:()=>MM,nI1:()=>nT,bMT:()=>n1,SdG:()=>Lf,NAR:()=>LI,Y8G:()=>cI,lJ4:()=>Ly,eq3:()=>qs,l_i:()=>ZI,NyB:()=>LM,mGM:()=>NM,sdS:()=>VM,Dyx:()=>Jv,Z7z:()=>pI,Vm6:()=>nM,Njj:()=>NS,eBV:()=>kk,n$t:()=>NA,xc7:()=>uI,Kam:()=>_y,zvX:()=>vI,DNE:()=>Ax,C5r:()=>ZL,EFF:()=>Dy,JRh:()=>Gp,SpI:()=>xy,Lme:()=>zp,E5c:()=>WI,GBs:()=>Ey});let ne=null,pe=!1,ae=1;const D=Symbol("SIGNAL");function a(o){const s=ne;return ne=o,s}const Ue={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Y(o){if(pe)throw new Error("");if(null===ne)return;ne.consumerOnSignalRead(o);const s=ne.nextProducerIndex++;st(ne),s<ne.producerNode.length&&ne.producerNode[s]!==o&&Ie(ne)&&We(ne.producerNode[s],ne.producerIndexOfThis[s]),ne.producerNode[s]!==o&&(ne.producerNode[s]=o,ne.producerIndexOfThis[s]=Ie(ne)?Ae(o,ne,s):0),ne.producerLastReadVersion[s]=o.version}function Ne(o){if((!Ie(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==ae)){if(!o.producerMustRecompute(o)&&!Fe(o))return o.dirty=!1,void(o.lastCleanEpoch=ae);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=ae}}function oe(o){if(void 0===o.liveConsumerNode)return;const s=pe;pe=!0;try{for(const l of o.liveConsumerNode)l.dirty||Re(l)}finally{pe=s}}function ze(){return!1!==ne?.consumerAllowSignalWrites}function Re(o){o.dirty=!0,oe(o),o.consumerMarkedDirty?.(o)}function ke(o){return o&&(o.nextProducerIndex=0),a(o)}function ge(o,s){if(a(s),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(Ie(o))for(let l=o.nextProducerIndex;l<o.producerNode.length;l++)We(o.producerNode[l],o.producerIndexOfThis[l]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Fe(o){st(o);for(let s=0;s<o.producerNode.length;s++){const l=o.producerNode[s],u=o.producerLastReadVersion[s];if(u!==l.version||(Ne(l),u!==l.version))return!0}return!1}function De(o){if(st(o),Ie(o))for(let s=0;s<o.producerNode.length;s++)We(o.producerNode[s],o.producerIndexOfThis[s]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function Ae(o,s,l){if(Qe(o),0===o.liveConsumerNode.length&&_e(o))for(let u=0;u<o.producerNode.length;u++)o.producerIndexOfThis[u]=Ae(o.producerNode[u],o,u);return o.liveConsumerIndexOfThis.push(l),o.liveConsumerNode.push(s)-1}function We(o,s){if(Qe(o),1===o.liveConsumerNode.length&&_e(o))for(let u=0;u<o.producerNode.length;u++)We(o.producerNode[u],o.producerIndexOfThis[u]);const l=o.liveConsumerNode.length-1;if(o.liveConsumerNode[s]=o.liveConsumerNode[l],o.liveConsumerIndexOfThis[s]=o.liveConsumerIndexOfThis[l],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,s<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[s],h=o.liveConsumerNode[s];st(h),h.producerIndexOfThis[u]=s}}function Ie(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function st(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function Qe(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function _e(o){return void 0!==o.producerNode}function ue(o){const s=Object.create(At);s.computation=o;const l=()=>{if(Ne(s),Y(s),s.value===Ct)throw s.error;return s.value};return l[D]=s,l}const Q=Symbol("UNSET"),pt=Symbol("COMPUTING"),Ct=Symbol("ERRORED"),At={...Ue,value:Q,dirty:!0,error:null,equal:J,producerMustRecompute:o=>o.value===Q||o.value===pt,producerRecomputeValue(o){if(o.value===pt)throw new Error("Detected cycle in computations.");const s=o.value;o.value=pt;const l=ke(o);let u;try{u=o.computation()}catch(h){u=Ct,o.error=h}finally{ge(o,l)}s!==Q&&s!==Ct&&u!==Ct&&o.equal(s,u)?o.value=s:(o.value=u,o.version++)}};let tn=function un(){throw new Error};function mn(){tn()}let Ge=null;function B(o,s){ze()||mn(),o.equal(o.value,s)||(o.value=s,function re(o){o.version++,function Me(){ae++}(),oe(o),Ge?.()}(o))}const Z={...Ue,equal:J,value:void 0};const Se=()=>{},It={...Ue,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:Se};var Rt=P(4412),Ut=P(1413),rn=P(8359),sn=P(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const ih="https://g.co/ng/security#xss";class Qt extends Error{constructor(s,l){super(function pa(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,l)),this.code=s}}function Bs(o){return{toString:o}.toString()}const ja="__parameters__";function gi(o,s,l){return Bs(()=>{const u=function Fl(o){return function(...l){if(o){const u=o(...l);for(const h in u)this[h]=u[h]}}}(s);function h(...m){if(this instanceof h)return u.apply(this,m),this;const g=new h(...m);return E.annotation=g,E;function E(S,k,F){const z=S.hasOwnProperty(ja)?S[ja]:Object.defineProperty(S,ja,{value:[]})[ja];for(;z.length<=F;)z.push(null);return(z[F]=z[F]||[]).push(g),S}}return l&&(h.prototype=Object.create(l.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}const Ri=globalThis;function si(o){for(let s in o)if(o[s]===si)return s;throw Error("Could not find renamed property on target object.")}function gm(o,s){for(const l in s)s.hasOwnProperty(l)&&!o.hasOwnProperty(l)&&(o[l]=s[l])}function qi(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(qi).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const l=s.indexOf("\n");return-1===l?s:s.substring(0,l)}function Ll(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const oh=si({__forward_ref__:si});function Jc(o){return o.__forward_ref__=Jc,o.toString=function(){return qi(this())},o}function bn(o){return el(o)?o():o}function el(o){return"function"==typeof o&&o.hasOwnProperty(oh)&&o.__forward_ref__===Jc}function qn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function li(o){return{providers:o.providers||[],imports:o.imports||[]}}function $a(o){return Lu(o,Xo)||Lu(o,Ga)}function ao(o){return null!==$a(o)}function Lu(o,s){return o.hasOwnProperty(s)?o[s]:null}function Us(o){return o&&(o.hasOwnProperty(Bl)||o.hasOwnProperty(va))?o[Bl]:null}const Xo=si({\u0275prov:si}),Bl=si({\u0275inj:si}),Ga=si({ngInjectableDef:si}),va=si({ngInjectorDef:si});class An{constructor(s,l){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=qn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function tt(o){return o&&!!o.\u0275providers}const xe=si({\u0275cmp:si}),nt=si({\u0275dir:si}),Le=si({\u0275pipe:si}),Xe=si({\u0275mod:si}),Ye=si({\u0275fac:si}),$e=si({__NG_ELEMENT_ID__:si}),ft=si({__NG_ENV_ID__:si});function qe(o){return"string"==typeof o?o:null==o?"":String(o)}function Xt(o,s){throw new Qt(-201,!1)}var yt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(yt||{});let xn;function Pn(){return xn}function wn(o){const s=xn;return xn=o,s}function Vn(o,s,l){const u=$a(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:l&yt.Optional?null:void 0!==s?s:void Xt()}const mr={},sr="__NG_DI_FLAG__",za="ngTempTokenPath",js=/\n/gm,e_="__source";let Vu;function mc(o){const s=Vu;return Vu=o,s}function yk(o,s=yt.Default){if(void 0===Vu)throw new Qt(-203,!1);return null===Vu?Vn(o,void 0,s):Vu.get(o,s&yt.Optional?null:void 0,s)}function yo(o,s=yt.Default){return(Pn()||yk)(bn(o),s)}function an(o,s=yt.Default){return yo(o,Bu(s))}function Bu(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function lh(o){const s=[];for(let l=0;l<o.length;l++){const u=bn(o[l]);if(Array.isArray(u)){if(0===u.length)throw new Qt(900,!1);let h,m=yt.Default;for(let g=0;g<u.length;g++){const E=u[g],S=t_(E);"number"==typeof S?-1===S?h=E.token:m|=S:h=E}s.push(yo(h,m))}else s.push(yo(u))}return s}function Uu(o,s){return o[sr]=s,o.prototype[sr]=s,o}function t_(o){return o[sr]}const ym=Uu(gi("Optional"),8),n_=Uu(gi("SkipSelf"),4);function ju(o,s){return o.hasOwnProperty(Ye)?o[Ye]:null}function Hu(o,s){o.forEach(l=>Array.isArray(l)?Hu(l,s):s(l))}function p0(o,s,l){s>=o.length?o.push(l):o.splice(s,0,l)}function i_(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Hs(o,s,l){let u=uh(o,s);return u>=0?o[1|u]=l:(u=~u,function _0(o,s,l,u){let h=o.length;if(h==s)o.push(l,u);else if(1===h)o.push(u,o[0]),o[0]=l;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=l,o[s+1]=u}}(o,u,s,l)),u}function v0(o,s){const l=uh(o,s);if(l>=0)return o[1|l]}function uh(o,s){return function aS(o,s,l){let u=0,h=o.length>>l;for(;h!==u;){const m=u+(h-u>>1),g=o[m<<l];if(s===g)return m<<l;g>s?h=m:u=m+1}return~(h<<l)}(o,s,1)}const pc={},ti=[],Wa=new An(""),cS=new An("",-1),y0=new An("");class $u{get(s,l=mr){if(l===mr){const u=new Error(`NullInjectorError: No provider for ${qi(s)}!`);throw u.name="NullInjectorError",u}return l}}var r_=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(r_||{}),ba=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(ba||{}),jl=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(jl||{});function Tk(o,s,l){let u=o.length;for(;;){const h=o.indexOf(s,l);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const m=s.length;if(h+m===u||o.charCodeAt(h+m)<=32)return h}l=h+1}}function pr(o,s,l){let u=0;for(;u<l.length;){const h=l[u];if("number"==typeof h){if(0!==h)break;u++;const m=l[u++],g=l[u++],E=l[u++];o.setAttribute(s,g,E,m)}else{const m=h,g=l[++u];bo(m)?o.setProperty(s,m,g):o.setAttribute(s,m,g),u++}}return u}function Xi(o){return 3===o||4===o||6===o}function bo(o){return 64===o.charCodeAt(0)}function kn(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let l=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?l=h:0===l||Or(o,l,h,null,-1===l||2===l?s[++u]:null)}}return o}function Or(o,s,l,u,h){let m=0,g=o.length;if(-1===s)g=-1;else for(;m<o.length;){const E=o[m++];if("number"==typeof E){if(E===s){g=-1;break}if(E>s){g=m-1;break}}}for(;m<o.length;){const E=o[m];if("number"==typeof E)break;if(E===l){if(null===u)return void(null!==h&&(o[m+1]=h));if(u===o[m+1])return void(o[m+2]=h)}m++,null!==u&&m++,null!==h&&m++}-1!==g&&(o.splice(g,0,s),m=g+1),o.splice(m++,0,l),null!==u&&o.splice(m++,0,u),null!==h&&o.splice(m++,0,h)}const dh="ng-template";function o_(o,s,l,u){let h=0;if(u){for(;h<s.length&&"string"==typeof s[h];h+=2)if("class"===s[h]&&-1!==Tk(s[h+1].toLowerCase(),l,0))return!0}else if(Em(o))return!1;if(h=s.indexOf(1,h),h>-1){let m;for(;++h<s.length&&"string"==typeof(m=s[h]);)if(m.toLowerCase()===l)return!0}return!1}function Em(o){return 4===o.type&&o.value!==dh}function nl(o,s,l){return s===(4!==o.type||l?o.value:dh)}function Gu(o,s,l){let u=4;const h=o.attrs,m=null!==h?function hh(o){for(let s=0;s<o.length;s++)if(Xi(o[s]))return s;return o.length}(h):0;let g=!1;for(let E=0;E<s.length;E++){const S=s[E];if("number"!=typeof S){if(!g)if(4&u){if(u=2|1&u,""!==S&&!nl(o,S,l)||""===S&&1===s.length){if(_i(u))return!1;g=!0}}else if(8&u){if(null===h||!o_(o,h,S,l)){if(_i(u))return!1;g=!0}}else{const k=s[++E],F=Hl(S,h,Em(o),l);if(-1===F){if(_i(u))return!1;g=!0;continue}if(""!==k){let z;if(z=F>m?"":h[F+1].toLowerCase(),2&u&&k!==z){if(_i(u))return!1;g=!0}}}}else{if(!g&&!_i(u)&&!_i(S))return!1;if(g&&_i(S))continue;g=!1,u=S|1&u}}return _i(u)||g}function _i(o){return!(1&o)}function Hl(o,s,l,u){if(null===s)return-1;let h=0;if(u||!l){let m=!1;for(;h<s.length;){const g=s[h];if(g===o)return h;if(3===g||6===g)m=!0;else{if(1===g||2===g){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===g)break;if(0===g){h+=4;continue}}h+=m?1:2}return-1}return function Yo(o,s){let l=o.indexOf(4);if(l>-1)for(l++;l<o.length;){const u=o[l];if("number"==typeof u)return-1;if(u===s)return l;l++}return-1}(s,o)}function b0(o,s,l=!1){for(let u=0;u<s.length;u++)if(Gu(o,s[u],l))return!0;return!1}function E0(o,s){e:for(let l=0;l<s.length;l++){const u=s[l];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function fh(o,s){return o?":not("+s.trim()+")":s}function s_(o){let s=o[0],l=1,u=2,h="",m=!1;for(;l<o.length;){let g=o[l];if("string"==typeof g)if(2&u){const E=o[++l];h+="["+g+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+g:4&u&&(h+=" "+g);else""!==h&&!_i(g)&&(s+=fh(m,h),h=""),u=g,m=m||!_i(u);l++}return""!==h&&(s+=fh(m,h)),s}function w0(o){return Bs(()=>{const s=wm(o),l={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===r_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||ba.Emulated,styles:o.styles||ti,_:null,schemas:o.schemas||null,tView:null,id:""};Im(l);const u=o.dependencies;return l.directiveDefs=gh(u,!1),l.pipeDefs=gh(u,!0),l.id=function dS(o){let s=0;const l=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of l)s=Math.imul(31,s)+h.charCodeAt(0)|0;return s+=2147483648,"c"+s}(l),l})}function a_(o){return Bn(o)||Ir(o)}function ph(o){return null!==o}function c_(o){return Bs(()=>({type:o.type,bootstrap:o.bootstrap||ti,declarations:o.declarations||ti,imports:o.imports||ti,exports:o.exports||ti,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function l_(o,s){if(null==o)return pc;const l={};for(const u in o)if(o.hasOwnProperty(u)){const h=o[u];let m,g,E=jl.None;Array.isArray(h)?(E=h[0],m=h[1],g=h[2]??m):(m=h,g=h),s?(l[m]=E!==jl.None?[u,E]:u,s[m]=g):l[m]=u}return l}function I0(o){return Bs(()=>{const s=wm(o);return Im(s),s})}function u_(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Bn(o){return o[xe]||null}function Ir(o){return o[nt]||null}function Nr(o){return o[Le]||null}function Ka(o){const s=Bn(o)||Ir(o)||Nr(o);return null!==s&&s.standalone}function Gr(o,s){const l=o[Xe]||null;if(!l&&!0===s)throw new Error(`Type ${qi(o)} does not have '\u0275mod' property.`);return l}function wm(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:o.inputs||pc,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||ti,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:l_(o.inputs,s),outputs:l_(o.outputs),debugInfo:null}}function Im(o){o.features?.forEach(s=>s(o))}function gh(o,s){if(!o)return null;const l=s?Nr:a_;return()=>("function"==typeof o?o():o).map(u=>l(u)).filter(ph)}function _h(o){return{\u0275providers:o}}function hS(...o){return{\u0275providers:d_(0,o),\u0275fromNgModule:!0}}function d_(o,...s){const l=[],u=new Set;let h;const m=g=>{l.push(g)};return Hu(s,g=>{const E=g;vh(E,m,[],u)&&(h||=[],h.push(E))}),void 0!==h&&T0(h,m),l}function T0(o,s){for(let l=0;l<o.length;l++){const{ngModule:u,providers:h}=o[l];yh(h,m=>{s(m,u)})}}function vh(o,s,l,u){if(!(o=bn(o)))return!1;let h=null,m=Us(o);const g=!m&&Bn(o);if(m||g){if(g&&!g.standalone)return!1;h=o}else{const S=o.ngModule;if(m=Us(S),!m)return!1;h=S}const E=u.has(h);if(g){if(E)return!1;if(u.add(h),g.dependencies){const S="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const k of S)vh(k,s,l,u)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let k;u.add(h);try{Hu(m.imports,F=>{vh(F,s,l,u)&&(k||=[],k.push(F))})}finally{}void 0!==k&&T0(k,s)}if(!E){const k=ju(h)||(()=>new h);s({provide:h,useFactory:k,deps:ti},h),s({provide:y0,useValue:h,multi:!0},h),s({provide:Wa,useValue:()=>yo(h),multi:!0},h)}const S=m.providers;if(null!=S&&!E){const k=o;yh(S,F=>{s(F,k)})}}}return h!==o&&void 0!==o.providers}function yh(o,s){for(let l of o)tt(l)&&(l=l.\u0275providers),Array.isArray(l)?yh(l,s):s(l)}const fS=si({provide:String,useValue:si});function S0(o){return null!==o&&"object"==typeof o&&fS in o}function Ea(o){return"function"==typeof o}const h_=new An(""),Cm={},D0={};let f_;function Sm(){return void 0===f_&&(f_=new $u),f_}class $s{}class zu extends $s{get destroyed(){return this._destroyed}constructor(s,l,u,h){super(),this.parent=l,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,g_(s,g=>this.processProvider(g)),this.records.set(cS,$l(void 0,this)),h.has("environment")&&this.records.set($s,$l(void 0,this));const m=this.records.get(h_);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(y0,ti,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=a(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of l)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),a(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const l=mc(this),u=wn(void 0);try{return s()}finally{mc(l),wn(u)}}get(s,l=mr,u=yt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ft))return s[ft](this);u=Bu(u);const m=mc(this),g=wn(void 0);try{if(!(u&yt.SkipSelf)){let S=this.records.get(s);if(void 0===S){const k=function pS(o){return"function"==typeof o||"object"==typeof o&&o instanceof An}(s)&&$a(s);S=k&&this.injectableDefInScope(k)?$l(m_(s),Cm):null,this.records.set(s,S)}if(null!=S)return this.hydrate(s,S)}return(u&yt.Self?Sm():this.parent).get(s,l=u&yt.Optional&&l===mr?null:l)}catch(E){if("NullInjectorError"===E.name){if((E[za]=E[za]||[]).unshift(qi(s)),m)throw E;return function Ul(o,s,l,u){const h=o[za];throw s[e_]&&h.unshift(s[e_]),o.message=function sS(o,s,l,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=qi(s);if(Array.isArray(s))h=s.map(qi).join(" -> ");else if("object"==typeof s){let m=[];for(let g in s)if(s.hasOwnProperty(g)){let E=s[g];m.push(g+":"+("string"==typeof E?JSON.stringify(E):qi(E)))}h=`{${m.join(", ")}}`}return`${l}${u?"("+u+")":""}[${h}]: ${o.replace(js,"\n  ")}`}("\n"+o.message,h,l,u),o.ngTokenPath=h,o[za]=null,o}(E,s,"R3InjectorError",this.source)}throw E}finally{wn(g),mc(m)}}resolveInjectorInitializers(){const s=a(null),l=mc(this),u=wn(void 0);try{const m=this.get(Wa,ti,yt.Self);for(const g of m)g()}finally{mc(l),wn(u),a(s)}}toString(){const s=[],l=this.records;for(const u of l.keys())s.push(qi(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qt(205,!1)}processProvider(s){let l=Ea(s=bn(s))?s:bn(s&&s.provide);const u=function mS(o){return S0(o)?$l(void 0,o.useValue):$l(p_(o),Cm)}(s);if(!Ea(s)&&!0===s.multi){let h=this.records.get(l);h||(h=$l(void 0,Cm,!0),h.factory=()=>lh(h.multi),this.records.set(l,h)),l=s,h.multi.push(s)}this.records.set(l,u)}hydrate(s,l){const u=a(null);try{return l.value===Cm&&(l.value=D0,l.value=l.factory()),"object"==typeof l.value&&l.value&&function M0(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(l.value)&&this._ngOnDestroyHooks.add(l.value),l.value}finally{a(u)}}injectableDefInScope(s){if(!s.providedIn)return!1;const l=bn(s.providedIn);return"string"==typeof l?"any"===l||this.scopes.has(l):this.injectorDefTypes.has(l)}removeOnDestroy(s){const l=this._onDestroyHooks.indexOf(s);-1!==l&&this._onDestroyHooks.splice(l,1)}}function m_(o){const s=$a(o),l=null!==s?s.factory:ju(o);if(null!==l)return l;if(o instanceof An)throw new Qt(204,!1);if(o instanceof Function)return function Am(o){if(o.length>0)throw new Qt(204,!1);const l=function Vl(o){return o&&(o[Xo]||o[Ga])||null}(o);return null!==l?()=>l.factory(o):()=>new o}(o);throw new Qt(204,!1)}function p_(o,s,l){let u;if(Ea(o)){const h=bn(o);return ju(h)||m_(h)}if(S0(o))u=()=>bn(o.useValue);else if(function bh(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...lh(o.deps||[]));else if(function Tm(o){return!(!o||!o.useExisting)}(o))u=()=>yo(bn(o.useExisting));else{const h=bn(o&&(o.useClass||o.provide));if(!function x0(o){return!!o.deps}(o))return ju(h)||m_(h);u=()=>new h(...lh(o.deps))}return u}function $l(o,s,l=!1){return{factory:o,value:s,multi:l?[]:void 0}}function g_(o,s){for(const l of o)Array.isArray(l)?g_(l,s):l&&tt(l)?g_(l.\u0275providers,s):s(l)}function __(o,s){o instanceof zu&&o.assertNotDestroyed();const u=mc(o),h=wn(void 0);try{return s()}finally{mc(u),wn(h)}}function v_(){return void 0!==Pn()||null!=function h0(){return Vu}()}function Dm(o){if(!v_())throw new Qt(-203,!1)}const Oi=0,y=1,b=2,C=3,I=4,O=5,j=6,te=7,ie=8,Ee=9,ct=10,ot=11,St=12,Dt=13,Jt=14,pn=15,Mn=16,Jn=17,yi=18,Ti=19,Fo=20,Pi=21,co=22,ar=23,dn=25,wh=1,Zo=7,gc=9,$i=10;var rl=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(rl||{});function Ai(o){return Array.isArray(o)&&"object"==typeof o[wh]}function Ni(o){return Array.isArray(o)&&!0===o[wh]}function Ci(o){return!!(4&o.flags)}function qa(o){return o.componentOffset>-1}function b_(o){return!(1&~o.flags)}function Eo(o){return!!o.template}function Mm(o){return!!(512&o[b])}class CS{constructor(s,l,u){this.previousValue=s,this.currentValue=l,this.firstChange=u}isFirstChange(){return this.firstChange}}function SS(o,s,l,u){null!==s?s.applyValueToInputSignal(s,u):o[l]=u}function ol(){return AS}function AS(o){return o.type.prototype.ngOnChanges&&(o.setInput=xS),DS}function DS(){const o=Th(this),s=o?.current;if(s){const l=o.previous;if(l===pc)o.previous=s;else for(let u in s)l[u]=s[u];o.current=null,this.ngOnChanges(s)}}function xS(o,s,l,u,h){const m=this.declaredInputs[u],g=Th(o)||function B0(o,s){return o[km]=s}(o,{previous:pc,current:null}),E=g.current||(g.current={}),S=g.previous,k=S[m];E[m]=new CS(k&&k.currentValue,l,S===pc),SS(o,s,h,l)}ol.ngInherit=!0;const km="__ngSimpleChanges__";function Th(o){return o[km]||null}const _c=function(o,s,l){},Om="svg";function ai(o){for(;Array.isArray(o);)o=o[Oi];return o}function Ch(o,s){return ai(s[o])}function zr(o,s){return ai(s[o.index])}function Wu(o,s){return o.data[s]}function Ku(o,s){return o[s]}function bs(o,s){const l=s[o];return Ai(l)?l:l[Oi]}function qu(o){return!(128&~o[b])}function Cr(o,s){return null==s?null:o[s]}function Nm(o){o[Jn]=0}function vc(o){1024&o[b]||(o[b]|=1024,qu(o)&&al(o))}function zl(o){return!!(9216&o[b]||o[ar]?.dirty)}function sl(o){o[ct].changeDetectionScheduler?.notify(7),64&o[b]&&(o[b]|=1024),zl(o)&&al(o)}function al(o){o[ct].changeDetectionScheduler?.notify(0);let s=cl(o);for(;null!==s&&!(8192&s[b])&&(s[b]|=8192,qu(s));)s=cl(s)}function Sh(o,s){if(!(256&~o[b]))throw new Qt(911,!1);null===o[Pi]&&(o[Pi]=[]),o[Pi].push(s)}function cl(o){const s=o[C];return Ni(s)?s[C]:s}const Dn={lFrame:BS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let kS=!1;function OS(){return Dn.bindingsEnabled}function Wl(){return null!==Dn.skipHydrationRootTNode}function bt(){return Dn.lFrame.lView}function Wn(){return Dn.lFrame.tView}function kk(o){return Dn.lFrame.contextLView=o,o[ie]}function NS(o){return Dn.lFrame.contextLView=null,o}function ki(){let o=FS();for(;null!==o&&64===o.type;)o=o.parent;return o}function FS(){return Dn.lFrame.currentTNode}function Sr(o,s){const l=Dn.lFrame;l.currentTNode=o,l.isParent=s}function $0(){return Dn.lFrame.isParent}function Xu(){Dn.lFrame.isParent=!1}function x_(){return kS}function wa(o){kS=o}function Fr(){const o=Dn.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function yc(){return Dn.lFrame.bindingIndex}function Xa(){return Dn.lFrame.bindingIndex++}function ws(o){const s=Dn.lFrame,l=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,l}function VS(o,s){const l=Dn.lFrame;l.bindingIndex=l.bindingRootIndex=o,R_(s)}function R_(o){Dn.lFrame.currentDirectiveIndex=o}function Vm(o){const s=Dn.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}function Bm(){return Dn.lFrame.currentQueryIndex}function Um(o){Dn.lFrame.currentQueryIndex=o}function jm(o){const s=o[y];return 2===s.type?s.declTNode:1===s.type?o[O]:null}function P_(o,s,l){if(l&yt.SkipSelf){let h=s,m=o;for(;!(h=h.parent,null!==h||l&yt.Host||(h=jm(m),null===h||(m=m[Jt],10&h.type))););if(null===h)return!1;s=h,o=m}const u=Dn.lFrame=W0();return u.currentTNode=s,u.lView=o,!0}function Ah(o){const s=W0(),l=o[y];Dn.lFrame=s,s.currentTNode=l.firstChild,s.lView=o,s.tView=l,s.contextLView=o,s.bindingIndex=l.bindingStartIndex,s.inI18n=!1}function W0(){const o=Dn.lFrame,s=null===o?null:o.child;return null===s?BS(o):s}function BS(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Dh(){const o=Dn.lFrame;return Dn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const US=Dh;function K0(){const o=Dh();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function lo(){return Dn.lFrame.selectedIndex}function bc(o){Dn.lFrame.selectedIndex=o}function Fi(){const o=Dn.lFrame;return Wu(o.tView,o.selectedIndex)}function jS(){Dn.lFrame.currentNamespace=Om}function Nk(){!function Fk(){Dn.lFrame.currentNamespace=null}()}let X0=!0;function Kl(){return X0}function Ec(o){X0=o}function ll(o,s){for(let l=s.directiveStart,u=s.directiveEnd;l<u;l++){const m=o.data[l].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:E,ngAfterViewInit:S,ngAfterViewChecked:k,ngOnDestroy:F}=m;g&&(o.contentHooks??=[]).push(-l,g),E&&((o.contentHooks??=[]).push(l,E),(o.contentCheckHooks??=[]).push(l,E)),S&&(o.viewHooks??=[]).push(-l,S),k&&((o.viewHooks??=[]).push(l,k),(o.viewCheckHooks??=[]).push(l,k)),null!=F&&(o.destroyHooks??=[]).push(l,F)}}function ql(o,s,l){xh(o,s,3,l)}function k_(o,s,l,u){(3&o[b])===l&&xh(o,s,l,u)}function Q0(o,s){let l=o[b];(3&l)===s&&(l&=16383,l+=1,o[b]=l)}function xh(o,s,l,u){const m=u??-1,g=s.length-1;let E=0;for(let S=void 0!==u?65535&o[Jn]:0;S<g;S++)if("number"==typeof s[S+1]){if(E=s[S],null!=u&&E>=u)break}else s[S]<0&&(o[Jn]+=65536),(E<m||-1==m)&&(Vk(o,l,s,S),o[Jn]=(4294901760&o[Jn])+S+2),S++}function Mh(o,s){_c(4,o,s);const l=a(null);try{s.call(o)}finally{a(l),_c(5,o,s)}}function Vk(o,s,l,u){const h=l[u]<0,m=l[u+1],E=o[h?-l[u]:l[u]];h?o[b]>>14<o[Jn]>>16&&(3&o[b])===s&&(o[b]+=16384,Mh(E,m)):Mh(E,m)}const Rh=-1;class Hm{constructor(s,l,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=u}}const Z0={};class Qu{constructor(s,l){this.injector=s,this.parentInjector=l}get(s,l,u){u=Bu(u);const h=this.injector.get(s,Z0,u);return h!==Z0||l===Z0?h:this.parentInjector.get(s,l,u)}}function J0(o){return o!==Rh}function Gm(o){return 32767&o}function zm(o,s){let l=function Uk(o){return o>>16}(o),u=s;for(;l>0;)u=u[Jt],l--;return u}let eE=!0;function N_(o){const s=eE;return eE=o,s}const WS=255,F_=5;let L_=0;const Jo={};function V_(o,s){const l=KS(o,s);if(-1!==l)return l;const u=s[y];u.firstCreatePass&&(o.injectorIndex=s.length,tE(u.data,o),tE(s,null),tE(u.blueprint,null));const h=Ph(o,s),m=o.injectorIndex;if(J0(h)){const g=Gm(h),E=zm(h,s),S=E[y].data;for(let k=0;k<8;k++)s[m+k]=E[g+k]|S[g+k]}return s[m+8]=h,m}function tE(o,s){o.push(0,0,0,0,0,0,0,0,s)}function KS(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Ph(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let l=0,u=null,h=s;for(;null!==h;){if(u=oE(h),null===u)return Rh;if(l++,h=h[Jt],-1!==u.injectorIndex)return u.injectorIndex|l<<16}return Rh}function nE(o,s,l){!function Z3(o,s,l){let u;"string"==typeof l?u=l.charCodeAt(0)||0:l.hasOwnProperty($e)&&(u=l[$e]),null==u&&(u=l[$e]=L_++);const h=u&WS;s.data[o+(h>>F_)]|=1<<h}(o,s,l)}function qS(o,s,l){if(l&yt.Optional||void 0!==o)return o;Xt()}function rE(o,s,l,u){if(l&yt.Optional&&void 0===u&&(u=null),!(l&(yt.Self|yt.Host))){const h=o[Ee],m=wn(void 0);try{return h?h.get(s,u,l&yt.Optional):Vn(s,u,l&yt.Optional)}finally{wn(m)}}return qS(u,0,l)}function XS(o,s,l,u=yt.Default,h){if(null!==o){if(2048&s[b]&&!(u&yt.Self)){const g=function J3(o,s,l,u,h){let m=o,g=s;for(;null!==m&&null!==g&&2048&g[b]&&!(512&g[b]);){const E=QS(m,g,l,u|yt.Self,Jo);if(E!==Jo)return E;let S=m.parent;if(!S){const k=g[Fo];if(k){const F=k.get(l,Jo,u);if(F!==Jo)return F}S=oE(g),g=g[Jt]}m=S}return h}(o,s,l,u,Jo);if(g!==Jo)return g}const m=QS(o,s,l,u,Jo);if(m!==Jo)return m}return rE(s,l,u,h)}function QS(o,s,l,u,h){const m=function Gk(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty($e)?o[$e]:void 0;return"number"==typeof s?s>=0?s&WS:zk:s}(l);if("function"==typeof m){if(!P_(s,o,u))return u&yt.Host?qS(h,0,u):rE(s,l,u,h);try{let g;if(g=m(u),null!=g||u&yt.Optional)return g;Xt()}finally{US()}}else if("number"==typeof m){let g=null,E=KS(o,s),S=Rh,k=u&yt.Host?s[pn][O]:null;for((-1===E||u&yt.SkipSelf)&&(S=-1===E?Ph(o,s):s[E+8],S!==Rh&&ZS(u,!1)?(g=s[y],E=Gm(S),s=zm(S,s)):E=-1);-1!==E;){const F=s[y];if(YS(m,E,F.data)){const z=$k(E,s,l,g,u,k);if(z!==Jo)return z}S=s[E+8],S!==Rh&&ZS(u,s[y].data[E+8]===k)&&YS(m,E,s)?(g=F,E=Gm(S),s=zm(S,s)):E=-1}}return h}function $k(o,s,l,u,h,m){const g=s[y],E=g.data[o+8],F=B_(E,g,l,null==u?qa(E)&&eE:u!=g&&!!(3&E.type),h&yt.Host&&m===E);return null!==F?wc(s,g,F,E):Jo}function B_(o,s,l,u,h){const m=o.providerIndexes,g=s.data,E=1048575&m,S=o.directiveStart,F=m>>20,de=h?E+F:o.directiveEnd;for(let ve=u?E:E+F;ve<de;ve++){const Ze=g[ve];if(ve<S&&l===Ze||ve>=S&&Ze.type===l)return ve}if(h){const ve=g[S];if(ve&&Eo(ve)&&ve.type===l)return S}return null}function wc(o,s,l,u){let h=o[l];const m=s.data;if(function Bk(o){return o instanceof Hm}(h)){const g=h;g.resolving&&function xt(o,s){throw s&&s.join(" > "),new Qt(-200,o)}(function it(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():qe(o)}(m[l]));const E=N_(g.canSeeViewProviders);g.resolving=!0;const k=g.injectImpl?wn(g.injectImpl):null;P_(o,u,yt.Default);try{h=o[l]=g.factory(void 0,m,o,u),s.firstCreatePass&&l>=u.directiveStart&&function Lk(o,s,l){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:m}=s.type.prototype;if(u){const g=AS(s);(l.preOrderHooks??=[]).push(o,g),(l.preOrderCheckHooks??=[]).push(o,g)}h&&(l.preOrderHooks??=[]).push(0-o,h),m&&((l.preOrderHooks??=[]).push(o,m),(l.preOrderCheckHooks??=[]).push(o,m))}(l,m[l],s)}finally{null!==k&&wn(k),N_(E),g.resolving=!1,US()}}return h}function YS(o,s,l){return!!(l[s+(o>>F_)]&1<<o)}function ZS(o,s){return!(o&yt.Self||o&yt.Host&&s)}class Wr{constructor(s,l){this._tNode=s,this._lView=l}get(s,l,u){return XS(this._tNode,this._lView,s,Bu(u),l)}}function zk(){return new Wr(ki(),bt())}function JS(o){return Bs(()=>{const s=o.prototype.constructor,l=s[Ye]||U_(s),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const m=h[Ye]||U_(h);if(m&&m!==l)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function U_(o){return el(o)?()=>{const s=U_(bn(o));return s&&s()}:ju(o)}function oE(o){const s=o[y],l=s.type;return 2===l?s.declTNode:1===l?o[O]:null}function Wm(o){return function iE(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const l=o.attrs;if(l){const u=l.length;let h=0;for(;h<u;){const m=l[h];if(Xi(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<u&&"string"==typeof l[h];)h++;else{if(m===s)return l[h+1];h+=2}}}return null}(ki(),o)}function oA(o,s=null,l=null,u){const h=sA(o,s,l,u);return h.resolveInjectorInitializers(),h}function sA(o,s=null,l=null,u,h=new Set){const m=[l||ti,hS(o)];return u=u||("object"==typeof o?void 0:qi(o)),new zu(m,s||Sm(),u||null,h)}class Lr{static#e=this.THROW_IF_NOT_FOUND=mr;static#t=this.NULL=new $u;static create(s,l){if(Array.isArray(s))return oA({name:""},l,s,"");{const u=s.name??"";return oA({name:u},s.parent,s.providers,u)}}static#n=this.\u0275prov=qn({token:Lr,providedIn:"any",factory:()=>yo(cS)});static#i=this.__NG_ELEMENT_ID__=-1}new An("").__NG_ELEMENT_ID__=o=>{const s=ki();if(null===s)throw new Qt(204,!1);if(2&s.type)return s.value;if(o&yt.Optional)return null;throw new Qt(204,!1)};function uE(o){return o.ngOriginalError}class Ia{constructor(){this._console=console}handleError(s){const l=this._findOriginalError(s);this._console.error("ERROR",s),l&&this._console.error("ORIGINAL ERROR",l)}_findOriginalError(s){let l=s&&uE(s);for(;l&&uE(l);)l=uE(l);return l||null}}const Km=new An("",{providedIn:"root",factory:()=>an(Ia).handleError.bind(void 0)});let qm=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Yk;static#t=this.__NG_ENV_ID__=l=>l}return o})();class Qk extends qm{constructor(s){super(),this._lView=s}onDestroy(s){return Sh(this._lView,s),()=>function T_(o,s){if(null===o[Pi])return;const l=o[Pi].indexOf(s);-1!==l&&o[Pi].splice(l,1)}(this._lView,s)}}function Yk(){return new Qk(bt())}function eO(){return Lh(ki(),bt())}function Lh(o,s){return new gr(zr(o,s))}let gr=(()=>{class o{constructor(l){this.nativeElement=l}static#e=this.__NG_ELEMENT_ID__=eO}return o})();function lA(o){return o instanceof gr?o.nativeElement:o}let Yu=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Rt.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:()=>new o})}return o})();const Ic=class tO extends Ut.B{constructor(s=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=s,v_()&&(this.destroyRef=an(qm,{optional:!0})??void 0,this.pendingTasks=an(Yu,{optional:!0})??void 0)}emit(s){const l=a(null);try{super.next(s)}finally{a(l)}}subscribe(s,l,u){let h=s,m=l||(()=>null),g=u;if(s&&"object"==typeof s){const S=s;h=S.next?.bind(S),m=S.error?.bind(S),g=S.complete?.bind(S)}this.__isAsync&&(m=this.wrapInTimeout(m),h&&(h=this.wrapInTimeout(h)),g&&(g=this.wrapInTimeout(g)));const E=super.subscribe({next:h,error:m,complete:g});return s instanceof rn.yU&&s.add(E),E}wrapInTimeout(s){return l=>{const u=this.pendingTasks?.add();setTimeout(()=>{s(l),void 0!==u&&this.pendingTasks?.remove(u)})}}};function uA(){return this._results[Symbol.iterator]()}class dE{static#e=Symbol.iterator;get changes(){return this._changes??=new Ic}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const l=dE.prototype;l[Symbol.iterator]||(l[Symbol.iterator]=uA)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,l){return this._results.reduce(s,l)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,l){this.dirty=!1;const u=function Qo(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function wk(o,s,l){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],m=s[u];if(l&&(h=l(h),m=l(m)),m!==h)return!1}return!0}(this._results,u,l))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function W_(o){return!(128&~o.flags)}const Ta=new Map;let iO=0;const mE="__ngContext__";function es(o,s){Ai(s)?(o[mE]=s[Ti],function rH(o){Ta.set(o[Ti],o)}(s)):o[mE]=s}function gE(o){return fO(o[St])}function _A(o){return fO(o[I])}function fO(o){for(;null!==o&&!Ni(o);)o=o[I];return o}let q_;function Ym(o){q_=o}const X_=new An("",{providedIn:"root",factory:()=>bO}),bO="ng",Zm=new An(""),Ca=new An("",{providedIn:"platform",factory:()=>"unknown"}),aH=new An(""),yA=new An("",{providedIn:"root",factory:()=>function Tc(){if(void 0!==q_)return q_;if(typeof document<"u")return document;throw new Qt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let IA=()=>null;function TA(o,s,l=!1){return IA(o,s,l)}const MO=new An("",{providedIn:"root",factory:()=>!1});let AE,DE;function ep(o){return function DA(){if(void 0===AE&&(AE=null,Ri.trustedTypes))try{AE=Ri.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return AE}()?.createHTML(o)||o}function kO(o){return function xA(){if(void 0===DE&&(DE=null,Ri.trustedTypes))try{DE=Ri.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return DE}()?.createScriptURL(o)||o}class Gh{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ih})`}}class vH extends Gh{getTypeName(){return"HTML"}}class yH extends Gh{getTypeName(){return"Style"}}class bH extends Gh{getTypeName(){return"Script"}}class EH extends Gh{getTypeName(){return"URL"}}class wH extends Gh{getTypeName(){return"ResourceURL"}}function Yl(o){return o instanceof Gh?o.changingThisBreaksApplicationSecurity:o}function tp(o,s){const l=function IH(o){return o instanceof Gh&&o.getTypeName()||null}(o);if(null!=l&&l!==s){if("ResourceURL"===l&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${l} (see ${ih})`)}return l===s}function TH(o){return new vH(o)}function CH(o){return new yH(o)}function SH(o){return new bH(o)}function AH(o){return new EH(o)}function DH(o){return new wH(o)}class xH{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const l=(new window.DOMParser).parseFromString(ep(s),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(s):(l.removeChild(l.firstChild),l)}catch{return null}}}class MH{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const l=this.inertDocument.createElement("template");return l.innerHTML=ep(s),l}}const PH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function xE(o){return(o=String(o)).match(PH)?o:"unsafe:"+o}function Zl(o){const s={};for(const l of o.split(","))s[l]=!0;return s}function nv(...o){const s={};for(const l of o)for(const u in l)l.hasOwnProperty(u)&&(s[u]=!0);return s}const NO=Zl("area,br,col,hr,img,wbr"),FO=Zl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),LO=Zl("rp,rt"),PA=nv(NO,nv(FO,Zl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nv(LO,Zl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nv(LO,FO)),kA=Zl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),VO=nv(kA,Zl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Zl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kH=Zl("script,style,template");class OH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let l=s.firstChild,u=!0,h=[];for(;l;)if(l.nodeType===Node.ELEMENT_NODE?u=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,u&&l.firstChild)h.push(l),l=LH(l);else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let m=FH(l);if(m){l=m;break}l=h.pop()}return this.buf.join("")}startElement(s){const l=BO(s).toLowerCase();if(!PA.hasOwnProperty(l))return this.sanitizedSomething=!0,!kH.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const u=s.attributes;for(let h=0;h<u.length;h++){const m=u.item(h),g=m.name,E=g.toLowerCase();if(!VO.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let S=m.value;kA[E]&&(S=xE(S)),this.buf.push(" ",g,'="',jO(S),'"')}return this.buf.push(">"),!0}endElement(s){const l=BO(s).toLowerCase();PA.hasOwnProperty(l)&&!NO.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(s){this.buf.push(jO(s))}}function FH(o){const s=o.nextSibling;if(s&&o!==s.previousSibling)throw UO(s);return s}function LH(o){const s=o.firstChild;if(s&&function NH(o,s){return(o.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,s))throw UO(s);return s}function BO(o){const s=o.nodeName;return"string"==typeof s?s:"FORM"}function UO(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const VH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,BH=/([^\#-~ |!])/g;function jO(o){return o.replace(/&/g,"&amp;").replace(VH,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(BH,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ME;function HO(o,s){let l=null;try{ME=ME||function OO(o){const s=new MH(o);return function RH(){try{return!!(new window.DOMParser).parseFromString(ep(""),"text/html")}catch{return!1}}()?new xH(s):s}(o);let u=s?String(s):"";l=ME.getInertBodyElement(u);let h=5,m=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=m,m=l.innerHTML,l=ME.getInertBodyElement(u)}while(u!==m);return ep((new OH).sanitizeChildren(OA(l)||l))}finally{if(l){const u=OA(l)||l;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function OA(o){return"content"in o&&function UH(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var zh=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(zh||{});function $O(o){const s=fl();return s?s.sanitize(zh.URL,o)||"":tp(o,"URL")?Yl(o):xE(qe(o))}function GO(o){const s=fl();if(s)return kO(s.sanitize(zh.RESOURCE_URL,o)||"");if(tp(o,"ResourceURL"))return kO(Yl(o));throw new Qt(904,!1)}function NA(o,s,l){return function iv(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?GO:$O}(s,l)(o)}function fl(){const o=bt();return o&&o[ct].sanitizer}function Ts(o){return o instanceof Function?o():o}function ts(o){return"browser"===(o??an(Lr)).get(Ca)}var lv=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(lv||{});let Kh;function GA(o,s){return Kh(o,s)}function qh(o,s,l,u,h){if(null!=u){let m,g=!1;Ni(u)?m=u:Ai(u)&&(g=!0,u=u[Oi]);const E=ai(u);0===o&&null!==l?null==h?dv(s,l,E):Qh(s,l,E,h||null,!0):1===o&&null!==l?Qh(s,l,E,h||null,!0):2===o?function eu(o,s,l){const u=ip(o,s);u&&function sN(o,s,l,u){o.removeChild(s,l,u)}(o,u,s,l)}(s,E,g):3===o&&s.destroyNode(E),null!=m&&function $E(o,s,l,u,h){const m=l[Zo];m!==ai(l)&&qh(s,o,u,m,h);for(let E=$i;E<l.length;E++){const S=l[E];Dc(S[y],S,o,s,u,m)}}(s,o,m,l,h)}}function uv(o,s,l){return o.createElement(s,l)}function VE(o,s){s[ct].changeDetectionScheduler?.notify(8),Dc(o,s,s[ot],2,null,null)}function KA(o,s){const l=o[gc],u=s[C];(Ai(u)||s[pn]!==u[C][pn])&&(o[b]|=rl.HasTransplantedViews),null===l?o[gc]=[s]:l.push(s)}function BE(o,s){const l=o[gc],u=l.indexOf(s);l.splice(u,1)}function Xh(o,s){if(o.length<=$i)return;const l=$i+s,u=o[l];if(u){const h=u[Mn];null!==h&&h!==o&&BE(h,u),s>0&&(o[l-1][I]=u[I]);const m=i_(o,$i+s);!function nN(o,s){VE(o,s),s[Oi]=null,s[O]=null}(u[y],u);const g=m[yi];null!==g&&g.detachView(m[y]),u[C]=null,u[I]=null,u[b]&=-129}return u}function np(o,s){if(!(256&s[b])){const l=s[ot];l.destroyNode&&Dc(o,s,l,3,null,null),function WA(o){let s=o[St];if(!s)return qA(o[y],o);for(;s;){let l=null;if(Ai(s))l=s[St];else{const u=s[$i];u&&(l=u)}if(!l){for(;s&&!s[I]&&s!==o;)Ai(s)&&qA(s[y],s),s=s[C];null===s&&(s=o),Ai(s)&&qA(s[y],s),l=s&&s[I]}s=l}}(s)}}function qA(o,s){if(256&s[b])return;const l=a(null);try{s[b]&=-129,s[b]|=256,s[ar]&&De(s[ar]),function XH(o,s){let l;if(null!=o&&null!=(l=o.destroyHooks))for(let u=0;u<l.length;u+=2){const h=s[l[u]];if(!(h instanceof Hm)){const m=l[u+1];if(Array.isArray(m))for(let g=0;g<m.length;g+=2){const E=h[m[g]],S=m[g+1];_c(4,E,S);try{S.call(E)}finally{_c(5,E,S)}}else{_c(4,h,m);try{m.call(h)}finally{_c(5,h,m)}}}}}(o,s),function qH(o,s){const l=o.cleanup,u=s[te];if(null!==l)for(let m=0;m<l.length-1;m+=2)if("string"==typeof l[m]){const g=l[m+3];g>=0?u[g]():u[-g].unsubscribe(),m+=2}else l[m].call(u[l[m+1]]);null!==u&&(s[te]=null);const h=s[Pi];if(null!==h){s[Pi]=null;for(let m=0;m<h.length;m++)(0,h[m])()}}(o,s),1===s[y].type&&s[ot].destroy();const u=s[Mn];if(null!==u&&Ni(s[C])){u!==s[C]&&BE(u,s);const h=s[yi];null!==h&&h.detachView(o)}!function dA(o){Ta.delete(o[Ti])}(s)}finally{a(l)}}function XA(o,s,l){return function oN(o,s,l){let u=s;for(;null!==u&&168&u.type;)u=(s=u).parent;if(null===u)return l[Oi];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:m}=o.data[u.directiveStart+h];if(m===ba.None||m===ba.Emulated)return null}return zr(u,l)}}(o,s.parent,l)}function Qh(o,s,l,u,h){o.insertBefore(s,l,u,h)}function dv(o,s,l){o.appendChild(s,l)}function hv(o,s,l,u,h){null!==u?Qh(o,s,l,u,h):dv(o,s,l)}function ip(o,s){return o.parentNode(s)}function QA(o,s,l){return ZA(o,s,l)}let UE,ZA=function YA(o,s,l){return 40&o.type?zr(o,l):null};function rp(o,s,l,u){const h=XA(o,u,s),m=s[ot],E=QA(u.parent||s[O],u,s);if(null!=h)if(Array.isArray(l))for(let S=0;S<l.length;S++)hv(m,h,l[S],E,!1);else hv(m,h,l,E,!1);void 0!==UE&&UE(m,u,s,l,h)}function op(o,s){if(null!==s){const l=s.type;if(3&l)return zr(s,o);if(4&l)return jE(-1,o[s.index]);if(8&l){const u=s.child;if(null!==u)return op(o,u);{const h=o[s.index];return Ni(h)?jE(-1,h):ai(h)}}if(32&l)return GA(s,o)()||ai(o[s.index]);{const u=sp(o,s);return null!==u?Array.isArray(u)?u[0]:op(cl(o[pn]),u):op(o,s.next)}}return null}function sp(o,s){return null!==s?o[pn][O].projection[s.projection]:null}function jE(o,s){const l=$i+o+1;if(l<s.length){const u=s[l],h=u[y].firstChild;if(null!==h)return op(u,h)}return s[Zo]}function eD(o,s,l,u,h,m,g){for(;null!=l;){if(128===l.type){l=l.next;continue}const E=u[l.index],S=l.type;if(g&&0===s&&(E&&es(ai(E),u),l.flags|=2),32&~l.flags)if(8&S)eD(o,s,l.child,u,h,m,!1),qh(s,o,h,E,m);else if(32&S){const k=GA(l,u);let F;for(;F=k();)qh(s,o,h,F,m);qh(s,o,h,E,m)}else 16&S?HE(o,s,u,l,h,m):qh(s,o,h,E,m);l=g?l.projectionNext:l.next}}function Dc(o,s,l,u,h,m){eD(l,u,o.firstChild,s,h,m,!1)}function HE(o,s,l,u,h,m){const g=l[pn],S=g[O].projection[u.projection];if(Array.isArray(S))for(let k=0;k<S.length;k++)qh(s,o,h,S[k],m);else{let k=S;const F=g[C];W_(u)&&(k.flags|=128),eD(o,s,k,F,h,m,!0)}}function iD(o,s,l){""===l?o.removeAttribute(s,"class"):o.setAttribute(s,"class",l)}function rD(o,s,l){const{mergedAttrs:u,classes:h,styles:m}=l;null!==u&&pr(o,s,u),null!==h&&iD(o,s,h),null!==m&&function aN(o,s,l){o.setAttribute(s,"style",l)}(o,s,m)}const On={};function oD(o=1){Ya(Wn(),bt(),lo()+o,!1)}function Ya(o,s,l,u){if(!u)if(3&~s[b]){const m=o.preOrderHooks;null!==m&&k_(s,m,0,l)}else{const m=o.preOrderCheckHooks;null!==m&&ql(s,m,l)}bc(l)}function ap(o,s=yt.Default){const l=bt();return null===l?yo(o,s):XS(ki(),l,bn(o),s)}function Zh(){throw new Error("invalid")}function GE(o,s,l,u,h,m){const g=a(null);try{let E=null;h&jl.SignalBased&&(E=s[u][D]),null!==E&&void 0!==E.transformFn&&(m=E.transformFn(m)),h&jl.HasDecoratorInputTransform&&(m=o.inputTransforms[u].call(s,m)),null!==o.setInput?o.setInput(s,E,m,l,u):SS(s,E,u,m)}finally{a(g)}}function zE(o,s,l,u,h,m,g,E,S,k,F){const z=s.blueprint.slice();return z[Oi]=h,z[b]=204|u,(null!==k||o&&2048&o[b])&&(z[b]|=2048),Nm(z),z[C]=z[Jt]=o,z[ie]=l,z[ct]=g||o&&o[ct],z[ot]=E||o&&o[ot],z[Ee]=S||o&&o[Ee]||null,z[O]=m,z[Ti]=function iH(){return iO++}(),z[j]=F,z[Fo]=k,z[pn]=2==s.type?o[pn]:z,z}function Ju(o,s,l,u,h){let m=o.data[s];if(null===m)m=function WE(o,s,l,u,h){const m=FS(),g=$0(),S=o.data[s]=function n4(o,s,l,u,h,m){let g=s?s.injectorIndex:-1,E=0;return Wl()&&(E|=128),{type:l,index:u,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?m:m&&m.parent,l,s,u,h);return null===o.firstChild&&(o.firstChild=S),null!==m&&(g?null==m.child&&null!==S.parent&&(m.child=S):null===m.next&&(m.next=S,S.prev=m)),S}(o,s,l,u,h),function M_(){return Dn.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=l,m.value=u,m.attrs=h;const g=function Fm(){const o=Dn.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();m.injectorIndex=null===g?-1:g.injectorIndex}return Sr(m,!0),m}function cp(o,s,l,u){if(0===l)return-1;const h=s.length;for(let m=0;m<l;m++)s.push(u),o.blueprint.push(u),o.data.push(null);return h}function sD(o,s,l,u,h){const m=lo(),g=2&u;try{bc(-1),g&&s.length>dn&&Ya(o,s,dn,!1),_c(g?2:0,h),l(u,h)}finally{bc(m),_c(g?3:1,h)}}function KE(o,s,l){if(Ci(s)){const u=a(null);try{const m=s.directiveEnd;for(let g=s.directiveStart;g<m;g++){const E=o.data[g];E.contentQueries&&E.contentQueries(1,l[g],g)}}finally{a(u)}}}function qE(o,s,l){OS()&&(function c4(o,s,l,u){const h=l.directiveStart,m=l.directiveEnd;qa(l)&&function f4(o,s,l){const u=zr(s,o),h=aD(l);let g=16;l.signals?g=4096:l.onPush&&(g=64);const E=lp(o,zE(o,h,null,g,u,s,null,o[ct].rendererFactory.createRenderer(u,l),null,null,null));o[s.index]=E}(s,l,o.data[h+l.componentOffset]),o.firstCreatePass||V_(l,s),es(u,s);const g=l.initialInputs;for(let E=h;E<m;E++){const S=o.data[E],k=wc(s,o,E,l);es(k,s),null!==g&&Aa(0,E-h,k,S,0,g),Eo(S)&&(bs(l.index,s)[ie]=wc(s,o,E,l))}}(o,s,l,zr(l,s)),!(64&~l.flags)&&uD(o,s,l))}function XE(o,s,l=zr){const u=s.localNames;if(null!==u){let h=s.index+1;for(let m=0;m<u.length;m+=2){const g=u[m+1],E=-1===g?l(s,o):o[g];o[h++]=E}}}function aD(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=fv(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):s}function fv(o,s,l,u,h,m,g,E,S,k,F){const z=dn+u,de=z+h,ve=function ZH(o,s){const l=[];for(let u=0;u<s;u++)l.push(u<o?null:On);return l}(z,de),Ze="function"==typeof k?k():k;return ve[y]={type:o,blueprint:ve,template:l,queries:null,viewQuery:E,declTNode:s,data:ve.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:S,consts:Ze,incompleteFirstPass:!1,ssrId:F}}let cD=()=>null;function lN(o,s,l,u,h){for(let m in s){if(!s.hasOwnProperty(m))continue;const g=s[m];if(void 0===g)continue;u??={};let E,S=jl.None;Array.isArray(g)?(E=g[0],S=g[1]):E=g;let k=m;if(null!==h){if(!h.hasOwnProperty(m))continue;k=h[m]}0===o?uN(u,l,k,E,S):uN(u,l,k,E)}return u}function uN(o,s,l,u,h){let m;o.hasOwnProperty(l)?(m=o[l]).push(s,u):m=o[l]=[s,u],void 0!==h&&m.push(h)}function wo(o,s,l,u,h,m,g,E){const S=zr(s,l);let F,k=s.inputs;!E&&null!=k&&(F=k[u])?(ml(o,l,F,u,h),qa(s)&&function o4(o,s){const l=bs(s,o);16&l[b]||(l[b]|=64)}(l,s.index)):3&s.type&&(u=function r4(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=g?g(h,s.value||"",u):h,m.setProperty(S,u,h))}function QE(o,s,l,u){if(OS()){const h=null===u?null:{"":-1},m=function l4(o,s){const l=o.directiveRegistry;let u=null,h=null;if(l)for(let m=0;m<l.length;m++){const g=l[m];if(b0(s,g.selectors,!1))if(u||(u=[]),Eo(g))if(null!==g.findHostDirectiveDefs){const E=[];h=h||new Map,g.findHostDirectiveDefs(g,E,h),u.unshift(...E,g),dD(o,s,E.length)}else u.unshift(g),dD(o,s,0);else h=h||new Map,g.findHostDirectiveDefs?.(g,u,h),u.push(g)}return null===u?null:[u,h]}(o,l);let g,E;null===m?g=E=null:[g,E]=m,null!==g&&lD(o,s,l,g,h,E),h&&function u4(o,s,l){if(s){const u=o.localNames=[];for(let h=0;h<s.length;h+=2){const m=l[s[h+1]];if(null==m)throw new Qt(-301,!1);u.push(s[h],m)}}}(l,u,h)}l.mergedAttrs=kn(l.mergedAttrs,l.attrs)}function lD(o,s,l,u,h,m){for(let k=0;k<u.length;k++)nE(V_(l,s),o,u[k].type);!function mv(o,s,l){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+l,o.providerIndexes=s}(l,o.data.length,u.length);for(let k=0;k<u.length;k++){const F=u[k];F.providersResolver&&F.providersResolver(F)}let g=!1,E=!1,S=cp(o,s,u.length,null);for(let k=0;k<u.length;k++){const F=u[k];l.mergedAttrs=kn(l.mergedAttrs,F.hostAttrs),h4(o,l,s,S,F),d4(S,F,h),null!==F.contentQueries&&(l.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(l.flags|=64);const z=F.type.prototype;!g&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((o.preOrderHooks??=[]).push(l.index),g=!0),!E&&(z.ngOnChanges||z.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(l.index),E=!0),S++}!function i4(o,s,l){const h=s.directiveEnd,m=o.data,g=s.attrs,E=[];let S=null,k=null;for(let F=s.directiveStart;F<h;F++){const z=m[F],de=l?l.get(z):null,Ze=de?de.outputs:null;S=lN(0,z.inputs,F,S,de?de.inputs:null),k=lN(1,z.outputs,F,k,Ze);const _t=null===S||null===g||Em(s)?null:fN(S,F,g);E.push(_t)}null!==S&&(S.hasOwnProperty("class")&&(s.flags|=8),S.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=S,s.outputs=k}(o,l,m)}function uD(o,s,l){const u=l.directiveStart,h=l.directiveEnd,m=l.index,g=function z0(){return Dn.lFrame.currentDirectiveIndex}();try{bc(m);for(let E=u;E<h;E++){const S=o.data[E],k=s[E];R_(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&hN(S,k)}}finally{bc(-1),R_(g)}}function hN(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function dD(o,s,l){s.componentOffset=l,(o.components??=[]).push(s.index)}function d4(o,s,l){if(l){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)l[s.exportAs[u]]=o;Eo(s)&&(l[""]=o)}}function h4(o,s,l,u,h){o.data[u]=h;const m=h.factory||(h.factory=ju(h.type)),g=new Hm(m,Eo(h),ap);o.blueprint[u]=g,l[u]=g,function dN(o,s,l,u,h){const m=h.hostBindings;if(m){let g=o.hostBindingOpCodes;null===g&&(g=o.hostBindingOpCodes=[]);const E=~s.index;(function a4(o){let s=o.length;for(;s>0;){const l=o[--s];if("number"==typeof l&&l<0)return l}return 0})(g)!=E&&g.push(E),g.push(l,u,m)}}(o,s,u,cp(o,l,h.hostVars,On),h)}function Cs(o,s,l,u,h,m){const g=zr(o,s);!function hD(o,s,l,u,h,m,g){if(null==m)o.removeAttribute(s,h,l);else{const E=null==g?qe(m):g(m,u||"",h);o.setAttribute(s,h,E,l)}}(s[ot],g,m,o.value,l,u,h)}function Aa(o,s,l,u,h,m){const g=m[s];if(null!==g)for(let E=0;E<g.length;)GE(u,l,g[E++],g[E++],g[E++],g[E++])}function fN(o,s,l){let u=null,h=0;for(;h<l.length;){const m=l[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===u&&(u=[]);const g=o[m];for(let E=0;E<g.length;E+=3)if(g[E]===s){u.push(m,g[E+1],g[E+2],l[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function YE(o,s,l,u){return[o,!0,0,s,null,u,null,l,null,null]}function fD(o,s){const l=o.contentQueries;if(null!==l){const u=a(null);try{for(let h=0;h<l.length;h+=2){const g=l[h+1];if(-1!==g){const E=o.data[g];Um(l[h]),E.contentQueries(2,s[g],g)}}}finally{a(u)}}}function lp(o,s){return o[St]?o[Dt][I]=s:o[St]=s,o[Dt]=s,s}function ZE(o,s,l){Um(0);const u=a(null);try{s(o,l)}finally{a(u)}}function JE(o){return o[te]??=[]}function ew(o){return o.cleanup??=[]}function Jh(o,s,l){return(null===o||Eo(o))&&(l=function U0(o){for(;Array.isArray(o);){if("object"==typeof o[wh])return o;o=o[Oi]}return null}(l[s.index])),l[ot]}function pv(o,s){const l=o[Ee],u=l?l.get(Ia,null):null;u&&u.handleError(s)}function ml(o,s,l,u,h){for(let m=0;m<l.length;){const g=l[m++],E=l[m++],S=l[m++];GE(o.data[g],s[g],u,E,S,h)}}function Da(o,s,l){const u=Ch(s,o);!function zA(o,s,l){o.setValue(s,l)}(o[ot],u,l)}function up(o,s){const l=bs(s,o),u=l[y];!function pN(o,s){for(let l=s.length;l<o.blueprint.length;l++)s.push(o.blueprint[l])}(u,l);const h=l[Oi];null!==h&&null===l[j]&&(l[j]=TA(h,l[Ee])),gv(u,l,l[ie])}function gv(o,s,l){Ah(s);try{const u=o.viewQuery;null!==u&&ZE(1,u,l);const h=o.template;null!==h&&sD(o,s,h,1,l),o.firstCreatePass&&(o.firstCreatePass=!1),s[yi]?.finishViewCreation(o),o.staticContentQueries&&fD(o,s),o.staticViewQueries&&ZE(2,o.viewQuery,l);const m=o.components;null!==m&&function mD(o,s){for(let l=0;l<s.length;l++)up(o,s[l])}(s,m)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[b]&=-5,K0()}}function dp(o,s,l,u){const h=a(null);try{const m=s.tView,S=zE(o,m,l,4096&o[b]?4096:16,null,s,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);S[Mn]=o[s.index];const F=o[yi];return null!==F&&(S[yi]=F.createEmbeddedView(m)),gv(m,S,l),S}finally{a(h)}}function tw(o,s){const l=$i+s;if(l<o.length)return o[l]}function ef(o,s){return!s||null===s.firstChild||W_(o)}function tf(o,s,l,u=!0){const h=s[y];if(function rN(o,s,l,u){const h=$i+u,m=l.length;u>0&&(l[h-1][I]=s),u<m-$i?(s[I]=l[h],p0(l,$i+u,s)):(l.push(s),s[I]=null),s[C]=l;const g=s[Mn];null!==g&&l!==g&&KA(g,s);const E=s[yi];null!==E&&E.insertView(o),sl(s),s[b]|=128}(h,s,o,l),u){const g=jE(l,o),E=s[ot],S=ip(E,o[Zo]);null!==S&&function iN(o,s,l,u,h,m){u[Oi]=h,u[O]=s,Dc(o,u,l,1,h,m)}(h,o[O],E,s,S,g)}const m=s[j];null!==m&&null!==m.firstChild&&(m.firstChild=null)}function nw(o,s){const l=Xh(o,s);return void 0!==l&&np(l[y],l),l}function ed(o,s,l,u,h=!1){for(;null!==l;){if(128===l.type){l=h?l.projectionNext:l.next;continue}const m=s[l.index];null!==m&&u.push(ai(m)),Ni(m)&&pD(m,u);const g=l.type;if(8&g)ed(o,s,l.child,u);else if(32&g){const E=GA(l,s);let S;for(;S=E();)u.push(S)}else if(16&g){const E=sp(s,l);if(Array.isArray(E))u.push(...E);else{const S=cl(s[pn]);ed(S[y],S,E,u,!0)}}l=h?l.projectionNext:l.next}return u}function pD(o,s){for(let l=$i;l<o.length;l++){const u=o[l],h=u[y].firstChild;null!==h&&ed(u[y],u,h,s)}o[Zo]!==o[Oi]&&s.push(o[Zo])}let gD=[];const iw={...Ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{al(o.lView)},consumerOnSignalRead(){this.lView[ar]=this}},bD={...Ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let s=cl(o.lView);for(;s&&!hp(s[y]);)s=cl(s);s&&vc(s)},consumerOnSignalRead(){this.lView[ar]=this}};function hp(o){return 2!==o.type}const ED=100;function _v(o,s=!0,l=0){const u=o[ct],h=u.rendererFactory;h.begin?.();try{!function gN(o,s){const l=x_();try{wa(!0),sw(o,s);let u=0;for(;zl(o);){if(u===ED)throw new Qt(103,!1);u++,sw(o,1)}}finally{wa(l)}}(o,l)}catch(g){throw s&&pv(o,g),g}finally{h.end?.(),u.inlineEffectRunner?.flush()}}function _N(o,s,l,u){const h=s[b];if(!(256&~h))return;s[ct].inlineEffectRunner?.flush(),Ah(s);let E=!0,S=null,k=null;hp(o)?(k=function _D(o){return o[ar]??function vD(o){const s=gD.pop()??Object.create(iw);return s.lView=o,s}(o)}(s),S=ke(k)):null===function Ce(){return ne}()?(E=!1,k=function rw(o){const s=o[ar]??Object.create(bD);return s.lView=o,s}(s),S=ke(k)):s[ar]&&(De(s[ar]),s[ar]=null);try{Nm(s),function G0(o){return Dn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==l&&sD(o,s,l,2,u);const F=!(3&~h);if(F){const ve=o.preOrderCheckHooks;null!==ve&&ql(s,ve,null)}else{const ve=o.preOrderHooks;null!==ve&&k_(s,ve,0,null),Q0(s,0)}if(function m4(o){for(let s=gE(o);null!==s;s=_A(s)){if(!(s[b]&rl.HasTransplantedViews))continue;const l=s[gc];for(let u=0;u<l.length;u++)vc(l[u])}}(s),ID(s,0),null!==o.contentQueries&&fD(o,s),F){const ve=o.contentCheckHooks;null!==ve&&ql(s,ve)}else{const ve=o.contentHooks;null!==ve&&k_(s,ve,1),Q0(s,1)}!function YH(o,s){const l=o.hostBindingOpCodes;if(null!==l)try{for(let u=0;u<l.length;u++){const h=l[u];if(h<0)bc(~h);else{const m=h,g=l[++u],E=l[++u];VS(g,m),E(2,s[m])}}}finally{bc(-1)}}(o,s);const z=o.components;null!==z&&vv(s,z,0);const de=o.viewQuery;if(null!==de&&ZE(2,de,u),F){const ve=o.viewCheckHooks;null!==ve&&ql(s,ve)}else{const ve=o.viewHooks;null!==ve&&k_(s,ve,2),Q0(s,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[co]){for(const ve of s[co])ve();s[co]=null}s[b]&=-73}catch(F){throw al(s),F}finally{null!==k&&(ge(k,S),E&&function yD(o){o.lView[ar]!==o&&(o.lView=null,gD.push(o))}(k)),K0()}}function ID(o,s){for(let l=gE(o);null!==l;l=_A(l))for(let u=$i;u<l.length;u++)ow(l[u],s)}function vN(o,s,l){ow(bs(s,o),l)}function ow(o,s){qu(o)&&sw(o,s)}function sw(o,s){const u=o[y],h=o[b],m=o[ar];let g=!!(0===s&&16&h);if(g||=!!(64&h&&0===s),g||=!!(1024&h),g||=!(!m?.dirty||!Fe(m)),g||=!1,m&&(m.dirty=!1),o[b]&=-9217,g)_N(u,o,u.template,o[ie]);else if(8192&h){ID(o,1);const E=u.components;null!==E&&vv(o,E,1)}}function vv(o,s,l){for(let u=0;u<s.length;u++)vN(o,s[u],l)}function td(o,s){const l=x_()?64:1088;for(o[ct].changeDetectionScheduler?.notify(s);o;){o[b]|=l;const u=cl(o);if(Mm(o)&&!u)return o;o=u}return null}class zs{get rootNodes(){const s=this._lView,l=s[y];return ed(l,s,l.firstChild,[])}constructor(s,l,u=!0){this._lView=s,this._cdRefInjectingView=l,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ie]}set context(s){this._lView[ie]=s}get destroyed(){return!(256&~this._lView[b])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[C];if(Ni(s)){const l=s[8],u=l?l.indexOf(this):-1;u>-1&&(Xh(s,u),i_(l,u))}this._attachedToViewContainer=!1}np(this._lView[y],this._lView)}onDestroy(s){Sh(this._lView,s)}markForCheck(){td(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[b]&=-129}reattach(){sl(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,_v(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const s=Mm(this._lView),l=this._lView[Mn];null!==l&&!s&&BE(l,this._lView),VE(this._lView[y],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Qt(902,!1);this._appRef=s;const l=Mm(this._lView),u=this._lView[Mn];null!==u&&!l&&KA(u,this._lView),sl(this._lView)}}let yv=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=EN}return o})();const yN=yv,bN=class extends yN{constructor(s,l,u){super(),this._declarationLView=s,this._declarationTContainer=l,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,l){return this.createEmbeddedViewImpl(s,l)}createEmbeddedViewImpl(s,l,u){const h=dp(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:l,dehydratedView:u});return new zs(h)}};function EN(){return bv(ki(),bt())}function bv(o,s){return 4&o.type?new bN(s,o,Lh(o,s)):null}let $N=()=>null;function ad(o,s){return $N(o,s)}class xc{}const _p=new An("",{providedIn:"root",factory:()=>!1}),_w=new An("");class zN{}class vw{}class WN{resolveComponentFactory(s){throw function HD(o){const s=Error(`No component factory found for ${qi(o)}.`);return s.ngComponent=o,s}(s)}}class Pv{static#e=this.NULL=new WN}class af{}let $D=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function KN(){const o=bt(),l=bs(ki().index,o);return(Ai(l)?l:o)[ot]}()}return o})(),qN=(()=>{class o{static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:()=>null})}return o})();const GD=new Set;function Io(o){GD.has(o)||(GD.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function zD(o){let s=!0;return setTimeout(()=>{s&&(s=!1,o())}),"function"==typeof Ri.requestAnimationFrame&&Ri.requestAnimationFrame(()=>{s&&(s=!1,o())}),()=>{s=!1}}function WD(o){let s=!0;return queueMicrotask(()=>{s&&o()}),()=>{s=!1}}function To(...o){}class zi{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ic(!1),this.onMicrotaskEmpty=new Ic(!1),this.onStable=new Ic(!1),this.onError=new Ic(!1),typeof Zone>"u")throw new Qt(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&l,h.shouldCoalesceRunChangeDetection=u,h.callbackScheduled=!1,function KD(o){const s=()=>{!function XN(o){o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,Zone.root.run(()=>{zD(()=>{o.callbackScheduled=!1,Ov(o),o.isCheckStableRunning=!0,cf(o),o.isCheckStableRunning=!1})}),Ov(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,u,h,m,g,E)=>{if(function YN(o){return XD(o,"__ignore_ng_zone__")}(E))return l.invokeTask(h,m,g,E);try{return QN(o),l.invokeTask(h,m,g,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&s(),qD(o)}},onInvoke:(l,u,h,m,g,E,S)=>{try{return QN(o),l.invoke(h,m,g,E,S)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function N4(o){return XD(o,"__scheduler_tick__")}(E)&&s(),qD(o)}},onHasTask:(l,u,h,m)=>{l.hasTask(h,m),u===h&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Ov(o),cf(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(l,u,h,m)=>(l.handleError(h,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zi.isInAngularZone())throw new Qt(909,!1)}static assertNotInAngularZone(){if(zi.isInAngularZone())throw new Qt(909,!1)}run(s,l,u){return this._inner.run(s,l,u)}runTask(s,l,u,h){const m=this._inner,g=m.scheduleEventTask("NgZoneEvent: "+h,s,kv,To,To);try{return m.runTask(g,l,u)}finally{m.cancelTask(g)}}runGuarded(s,l,u){return this._inner.runGuarded(s,l,u)}runOutsideAngular(s){return this._outer.run(s)}}const kv={};function cf(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Ov(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function QN(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function qD(o){o._nesting--,cf(o)}class bw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ic,this.onMicrotaskEmpty=new Ic,this.onStable=new Ic,this.onError=new Ic}run(s,l,u){return s.apply(l,u)}runGuarded(s,l,u){return s.apply(l,u)}runOutsideAngular(s){return s()}runTask(s,l,u,h){return s.apply(l,u)}}function XD(o,s){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[s]}var ns=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(ns||{});const vp={destroy(){}};function YD(o,s){!s&&Dm();const l=s?.injector??an(Lr);return ts(l)?(Io("NgAfterRender"),Ew(o,l,!1,s?.phase??ns.MixedReadWrite)):vp}function nu(o,s){!s&&Dm();const l=s?.injector??an(Lr);return ts(l)?(Io("NgAfterNextRender"),Ew(o,l,!0,s?.phase??ns.MixedReadWrite)):vp}function Ew(o,s,l,u){const h=function ZN(o,s){if(o instanceof Function)switch(s){case ns.EarlyRead:return{earlyRead:o};case ns.Write:return{write:o};case ns.MixedReadWrite:return{mixedReadWrite:o};case ns.Read:return{read:o}}return o}(o,u),m=s.get(is),g=m.handler??=new Nv,E=[],S=[],k=()=>{for(const ve of S)g.unregister(ve);F()},F=s.get(qm).onDestroy(k);let z=0;const de=(ve,Ze)=>{if(!Ze)return;const _t=l?(...Ht)=>{z--,z<1&&k(),Ze(...Ht)}:Ze,Ot=__(s,()=>new ZD(ve,E,_t));g.register(Ot),S.push(Ot),z++};return de(ns.EarlyRead,h.earlyRead),de(ns.Write,h.write),de(ns.MixedReadWrite,h.mixedReadWrite),de(ns.Read,h.read),{destroy:k}}class ZD{constructor(s,l,u){this.phase=s,this.pipelinedArgs=l,this.callbackFn=u,this.zone=an(zi),this.errorHandler=an(Ia,{optional:!0}),an(xc,{optional:!0})?.notify(6)}invoke(){try{const s=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,s)}catch(s){this.errorHandler?.handleError(s)}}}class Nv{constructor(){this.executingCallbacks=!1,this.buckets={[ns.EarlyRead]:new Set,[ns.Write]:new Set,[ns.MixedReadWrite]:new Set,[ns.Read]:new Set},this.deferredCallbacks=new Set}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const l of s)l.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let is=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const l=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of l)u()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:()=>new o})}return o})();function Mc(o){return!!Gr(o)}function Tw(o,s,l){let u=l?o.styles:null,h=l?o.classes:null,m=0;if(null!==s)for(let g=0;g<s.length;g++){const E=s[g];"number"==typeof E?m=E:1==m?h=Ll(h,E):2==m&&(u=Ll(u,E+": "+s[++g]+";"))}l?o.styles=u:o.stylesWithoutHost=u,l?o.classes=h:o.classesWithoutHost=h}class tx extends Pv{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const l=Bn(s);return new yp(l,this.ngModule)}}function nx(o,s){const l=[];for(const u in o){if(!o.hasOwnProperty(u))continue;const h=o[u];if(void 0===h)continue;const m=Array.isArray(h),g=m?h[0]:h;l.push(s?{propName:g,templateName:u,isSignal:!!((m?h[1]:jl.None)&jl.SignalBased)}:{propName:g,templateName:u})}return l}class yp extends vw{get inputs(){const s=this.componentDef,l=s.inputTransforms,u=nx(s.inputs,!0);if(null!==l)for(const h of u)l.hasOwnProperty(h.propName)&&(h.transform=l[h.propName]);return u}get outputs(){return nx(this.componentDef.outputs,!1)}constructor(s,l){super(),this.componentDef=s,this.ngModule=l,this.componentType=s.type,this.selector=function vi(o){return o.map(s_).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!l}create(s,l,u,h){const m=a(null);try{let g=(h=h||this.ngModule)instanceof $s?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const E=g?new Qu(s,g):s,S=E.get(af,null);if(null===S)throw new Qt(407,!1);const k=E.get(qN,null),de={rendererFactory:S,sanitizer:k,inlineEffectRunner:null,afterRenderEventManager:E.get(is,null),changeDetectionScheduler:E.get(xc,null)},ve=S.createRenderer(null,this.componentDef),Ze=this.componentDef.selectors[0][0]||"div",_t=u?function JH(o,s,l,u){const m=u.get(MO,!1)||l===ba.ShadowDom,g=o.selectRootElement(s,m);return function cN(o){cD(o)}(g),g}(ve,u,this.componentDef.encapsulation,E):uv(ve,Ze,function Vv(o){const s=o.toLowerCase();return"svg"===s?Om:"math"===s?"math":null}(Ze));let Ot=512;this.componentDef.signals?Ot|=4096:this.componentDef.onPush||(Ot|=16);let Ht=null;null!==_t&&(Ht=TA(_t,E,!0));const Tt=fv(0,null,null,1,0,null,null,null,null,null,null),In=zE(null,Tt,null,Ot,null,null,de,ve,E,null,Ht);let ni,Mi;Ah(In);try{const Qr=this.componentDef;let ss,Ud=null;Qr.findHostDirectiveDefs?(ss=[],Ud=new Map,Qr.findHostDirectiveDefs(Qr,ss,Ud),ss.push(Qr)):ss=[Qr];const zT=function Cw(o,s){const l=o[y],u=dn;return o[u]=s,Ju(l,u,2,"#host",null)}(In,_t),gV=function V4(o,s,l,u,h,m,g){const E=h[y];!function eF(o,s,l,u){for(const h of o)s.mergedAttrs=kn(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(Tw(s,s.mergedAttrs,!0),null!==l&&rD(u,l,s))}(u,o,s,g);let S=null;null!==s&&(S=TA(s,h[Ee]));const k=m.rendererFactory.createRenderer(s,l);let F=16;l.signals?F=4096:l.onPush&&(F=64);const z=zE(h,aD(l),null,F,h[o.index],o,m,k,null,null,S);return E.firstCreatePass&&dD(E,o,u.length-1),lp(h,z),h[o.index]=z}(zT,_t,Qr,ss,In,de,ve);Mi=Wu(Tt,dn),_t&&function tF(o,s,l,u){if(u)pr(o,l,["ng-version","18.1.1"]);else{const{attrs:h,classes:m}=function mh(o){const s=[],l=[];let u=1,h=2;for(;u<o.length;){let m=o[u];if("string"==typeof m)2===h?""!==m&&s.push(m,o[++u]):8===h&&l.push(m);else{if(!_i(h))break;h=m}u++}return{attrs:s,classes:l}}(s.selectors[0]);h&&pr(o,l,h),m&&m.length>0&&iD(o,l,m.join(" "))}}(ve,Qr,_t,u),void 0!==l&&function nF(o,s,l){const u=o.projection=[];for(let h=0;h<s.length;h++){const m=l[h];u.push(null!=m?Array.from(m):null)}}(Mi,this.ngContentSelectors,l),ni=function ix(o,s,l,u,h,m){const g=ki(),E=h[y],S=zr(g,h);lD(E,h,g,l,null,u);for(let F=0;F<l.length;F++)es(wc(h,E,g.directiveStart+F,g),h);uD(E,h,g),S&&es(S,h);const k=wc(h,E,g.directiveStart+g.componentOffset,g);if(o[ie]=h[ie]=k,null!==m)for(const F of m)F(k,s);return KE(E,g,h),k}(gV,Qr,ss,Ud,In,[rx]),gv(Tt,In,null)}finally{K0()}return new JN(this.componentType,ni,Lh(Mi,In),In,Mi)}finally{a(m)}}}class JN extends zN{constructor(s,l,u,h,m){super(),this.location=u,this._rootLView=h,this._tNode=m,this.previousInputValues=null,this.instance=l,this.hostView=this.changeDetectorRef=new zs(h,void 0,!1),this.componentType=s}setInput(s,l){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),l))return;const m=this._rootLView;ml(m[y],m,h,s,l),this.previousInputValues.set(s,l),td(bs(this._tNode.index,m),1)}}get injector(){return new Wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function rx(){const o=ki();ll(bt()[y],o)}let uf=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=B4}return o})();function B4(){return oF(ki(),bt())}const U4=uf,iF=class extends U4{constructor(s,l,u){super(),this._lContainer=s,this._hostTNode=l,this._hostLView=u}get element(){return Lh(this._hostTNode,this._hostLView)}get injector(){return new Wr(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ph(this._hostTNode,this._hostLView);if(J0(s)){const l=zm(s,this._hostLView),u=Gm(s);return new Wr(l[y].data[u+8],l)}return new Wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const l=rF(this._lContainer);return null!==l&&l[s]||null}get length(){return this._lContainer.length-$i}createEmbeddedView(s,l,u){let h,m;"number"==typeof u?h=u:null!=u&&(h=u.index,m=u.injector);const g=ad(this._lContainer,s.ssrId),E=s.createEmbeddedViewImpl(l||{},m,g);return this.insertImpl(E,h,ef(this._hostTNode,g)),E}createComponent(s,l,u,h,m){const g=s&&!function Gl(o){return"function"==typeof o}(s);let E;if(g)E=l;else{const Ze=l||{};E=Ze.index,u=Ze.injector,h=Ze.projectableNodes,m=Ze.environmentInjector||Ze.ngModuleRef}const S=g?s:new yp(Bn(s)),k=u||this.parentInjector;if(!m&&null==S.ngModule){const _t=(g?k:this.parentInjector).get($s,null);_t&&(m=_t)}const F=Bn(S.componentType??{}),z=ad(this._lContainer,F?.id??null),ve=S.create(k,h,z?.firstChild??null,m);return this.insertImpl(ve.hostView,E,ef(this._hostTNode,z)),ve}insert(s,l){return this.insertImpl(s,l,!0)}insertImpl(s,l,u){const h=s._lView;if(function ei(o){return Ni(o[C])}(h)){const E=this.indexOf(s);if(-1!==E)this.detach(E);else{const S=h[C],k=new iF(S,S[O],S[C]);k.detach(k.indexOf(s))}}const m=this._adjustIndex(l),g=this._lContainer;return tf(g,h,m,u),s.attachToViewContainerRef(),p0(ox(g),m,s),s}move(s,l){return this.insert(s,l)}indexOf(s){const l=rF(this._lContainer);return null!==l?l.indexOf(s):-1}remove(s){const l=this._adjustIndex(s,-1),u=Xh(this._lContainer,l);u&&(i_(ox(this._lContainer),l),np(u[y],u))}detach(s){const l=this._adjustIndex(s,-1),u=Xh(this._lContainer,l);return u&&null!=i_(ox(this._lContainer),l)?new zs(u):null}_adjustIndex(s,l=0){return s??this.length+l}};function rF(o){return o[8]}function ox(o){return o[8]||(o[8]=[])}function oF(o,s){let l;const u=s[o.index];return Ni(u)?l=u:(l=YE(u,s,null,o),s[o.index]=l,lp(s,l)),df(l,s,o,u),new iF(l,o,s)}let df=function bp(o,s,l,u){if(o[Zo])return;let h;h=8&l.type?ai(u):function Sw(o,s){const l=o[ot],u=l.createComment(""),h=zr(s,o);return Qh(l,ip(l,h),u,function Yh(o,s){return o.nextSibling(s)}(l,h),!1),u}(s,l),o[Zo]=h},iu=()=>!1;class ax{constructor(s){this.queryList=s,this.matches=null}clone(){return new ax(this.queryList)}setDirty(){this.queryList.setDirty()}}class cx{constructor(s=[]){this.queries=s}createEmbeddedView(s){const l=s.queries;if(null!==l){const u=null!==s.contentQueries?s.contentQueries[0]:l.length,h=[];for(let m=0;m<u;m++){const g=l.getByIndex(m);h.push(this.queries[g.indexInDeclarationView].clone())}return new cx(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let l=0;l<this.queries.length;l++)null!==xw(s,l).matches&&this.queries[l].setDirty()}}class cd{constructor(s,l,u=null){this.flags=l,this.read=u,this.predicate="string"==typeof s?function lF(o){return o.split(",").map(s=>s.trim())}(s):s}}class lx{constructor(s=[]){this.queries=s}elementStart(s,l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,l)}elementEnd(s){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(s)}embeddedTView(s){let l=null;for(let u=0;u<this.length;u++){const h=null!==l?l.length:0,m=this.getByIndex(u).embeddedTView(s,h);m&&(m.indexInDeclarationView=u,null!==l?l.push(m):l=[m])}return null!==l?new lx(l):null}template(s,l){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,l)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class ld{constructor(s,l=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(s,l){this.isApplyingToNode(l)&&this.matchTNode(s,l)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,l){this.elementStart(s,l)}embeddedTView(s,l){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,l),new ld(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const l=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==l;)u=u.parent;return l===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,l){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const m=u[h];this.matchTNodeWithReadOption(s,l,$4(l,m)),this.matchTNodeWithReadOption(s,l,B_(l,s,m,!1,!1))}else u===yv?4&l.type&&this.matchTNodeWithReadOption(s,l,-1):this.matchTNodeWithReadOption(s,l,B_(l,s,u,!1,!1))}matchTNodeWithReadOption(s,l,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===gr||h===uf||h===yv&&4&l.type)this.addMatch(l.index,-2);else{const m=B_(l,s,h,!1,!1);null!==m&&this.addMatch(l.index,m)}else this.addMatch(l.index,u)}}addMatch(s,l){null===this.matches?this.matches=[s,l]:this.matches.push(s,l)}}function $4(o,s){const l=o.localNames;if(null!==l)for(let u=0;u<l.length;u+=2)if(l[u]===s)return l[u+1];return null}function aF(o,s,l,u){return-1===l?function en(o,s){return 11&o.type?Lh(o,s):4&o.type?bv(o,s):null}(s,o):-2===l?function cF(o,s,l){return l===gr?Lh(s,o):l===yv?bv(s,o):l===uf?oF(s,o):void 0}(o,s,u):wc(o,o[y],l,s)}function ux(o,s,l,u){const h=s[yi].queries[u];if(null===h.matches){const m=o.data,g=l.matches,E=[];for(let S=0;null!==g&&S<g.length;S+=2){const k=g[S];E.push(k<0?null:aF(s,m[k],g[S+1],l.metadata.read))}h.matches=E}return h.matches}function Aw(o,s,l,u){const h=o.queries.getByIndex(l),m=h.matches;if(null!==m){const g=ux(o,s,h,l);for(let E=0;E<m.length;E+=2){const S=m[E];if(S>0)u.push(g[E/2]);else{const k=m[E+1],F=s[-S];for(let z=$i;z<F.length;z++){const de=F[z];de[Mn]===de[C]&&Aw(de[y],de,k,u)}if(null!==F[gc]){const z=F[gc];for(let de=0;de<z.length;de++){const ve=z[de];Aw(ve[y],ve,k,u)}}}}}return u}function ru(o,s){return o[yi].queries[s].queryList}function Dw(o,s,l){const u=new dE(!(4&~l));return function t4(o,s,l,u){const h=JE(s);h.push(l),o.firstCreatePass&&ew(o).push(u,h.length-1)}(o,s,u,u.destroy),(s[yi]??=new cx).queries.push(new ax(u))-1}function hx(o,s,l,u){const h=Wn();if(h.firstCreatePass){const m=ki();hf(h,new cd(s,l,u),m.index),function uF(o,s){const l=o.contentQueries||(o.contentQueries=[]);s!==(l.length?l[l.length-1]:-1)&&l.push(o.queries.length-1,s)}(h,o),!(2&~l)&&(h.staticContentQueries=!0)}return Dw(h,bt(),l)}function hf(o,s,l){null===o.queries&&(o.queries=new lx),o.queries.track(new ld(s,l))}function xw(o,s){return o.queries.getByIndex(s)}function fx(o,s){const l=o[y],u=xw(l,s);return u.crossesNgTemplate?Aw(l,o,s,[]):ux(l,o,u,s)}function mx(o){return"function"==typeof o&&void 0!==o[D]}function hF(o,s){Io("NgSignals");const l=function se(o){const s=Object.create(Z);s.value=o;const l=()=>(Y(s),s.value);return l[D]=s,l}(o),u=l[D];return s?.equal&&(u.equal=s.equal),l.set=h=>B(u,h),l.update=h=>function H(o,s){ze()||mn(),B(o,s(o.value))}(u,h),l.asReadonly=fF.bind(l),l}function fF(){const o=this[D];if(void 0===o.readonlyFn){const s=()=>this();s[D]=o,o.readonlyFn=s}return o.readonlyFn}function px(o,s){let l;const u=ue(()=>{l._dirtyCounter();const h=function _F(o,s){const l=o._lView,u=o._queryIndex;if(void 0===l||void 0===u||4&l[b])return s?void 0:ti;const h=ru(l,u),m=fx(l,u);return h.reset(m,lA),s?h.first:h._changesDetected||void 0===o._flatValue?o._flatValue=h.toArray():o._flatValue}(l,o);if(s&&void 0===h)throw new Qt(-951,!1);return h});return l=u[D],l._dirtyCounter=hF(0),l._flatValue=void 0,u}function vF(o,s){return function pF(){return px(!0,!1)}()}const K4=(vF.required=function W4(o,s){return function gF(){return px(!0,!0)}()},vF);function jv(o){let s=function ou(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),l=!0;const u=[o];for(;s;){let h;if(Eo(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Qt(903,!1);h=s.\u0275dir}if(h){if(l){u.push(h);const g=o;g.inputs=Nw(o.inputs),g.inputTransforms=Nw(o.inputTransforms),g.declaredInputs=Nw(o.declaredInputs),g.outputs=Nw(o.outputs);const E=h.hostBindings;E&&DF(o,E);const S=h.viewQuery,k=h.contentQueries;if(S&&n$(o,S),k&&wx(o,k),Ex(o,h),gm(o.outputs,h.outputs),Eo(h)&&h.data.animation){const F=o.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let g=0;g<m.length;g++){const E=m[g];E&&E.ngInherit&&E(o),E===jv&&(l=!1)}}s=Object.getPrototypeOf(s)}!function AF(o){let s=0,l=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=s+=h.hostVars,h.hostAttrs=kn(h.hostAttrs,l=kn(l,h.hostAttrs))}}(u)}function Ex(o,s){for(const l in s.inputs){if(!s.inputs.hasOwnProperty(l)||o.inputs.hasOwnProperty(l))continue;const u=s.inputs[l];if(void 0!==u&&(o.inputs[l]=u,o.declaredInputs[l]=s.declaredInputs[l],null!==s.inputTransforms)){const h=Array.isArray(u)?u[0]:u;if(!s.inputTransforms.hasOwnProperty(h))continue;o.inputTransforms??={},o.inputTransforms[h]=s.inputTransforms[h]}}}function Nw(o){return o===pc?{}:o===ti?[]:o}function n$(o,s){const l=o.viewQuery;o.viewQuery=l?(u,h)=>{s(u,h),l(u,h)}:s}function wx(o,s){const l=o.contentQueries;o.contentQueries=l?(u,h,m)=>{s(u,h,m),l(u,h,m)}:s}function DF(o,s){const l=o.hostBindings;o.hostBindings=l?(u,h)=>{s(u,h),l(u,h)}:s}function Ix(o){const s=l=>{const u=(Array.isArray(o)?o:o()).map(h=>"function"==typeof h?{directive:bn(h),inputs:pc,outputs:pc}:{directive:bn(h.directive),inputs:Ip(h.inputs),outputs:Ip(h.outputs)});null===l.hostDirectives?(l.findHostDirectiveDefs=Fw,l.hostDirectives=u):l.hostDirectives.unshift(...u)};return s.ngInherit=!0,s}function Fw(o,s,l){if(null!==o.hostDirectives)for(const u of o.hostDirectives){const h=Ir(u.directive);Tx(h.declaredInputs,u.inputs),Fw(h,s,l),l.set(h,u),s.push(h)}}function Ip(o){if(void 0===o||0===o.length)return pc;const s={};for(let l=0;l<o.length;l+=2)s[o[l]]=o[l+1];return s}function Tx(o,s){for(const l in s)s.hasOwnProperty(l)&&(o[s[l]]=o[l])}function Tp(o){const s=o.inputConfig,l={};for(const u in s)if(s.hasOwnProperty(u)){const h=s[u];Array.isArray(h)&&h[3]&&(l[u]=h[3])}o.inputTransforms=l}class ff{}class Sx{}function RF(o,s){return new Lw(o,s??null,[])}class Lw extends ff{constructor(s,l,u){super(),this._parent=l,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tx(this);const h=Gr(s);this._bootstrapComponents=Ts(h.bootstrap),this._r3Injector=sA(s,l,[{provide:ff,useValue:this},{provide:Pv,useValue:this.componentFactoryResolver},...u],qi(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Vw extends Sx{constructor(s){super(),this.moduleType=s}create(s){return new Lw(this.moduleType,s,[])}}class Hv extends ff{constructor(s){super(),this.componentFactoryResolver=new tx(this),this.instance=null;const l=new zu([...s.providers,{provide:ff,useValue:this},{provide:Pv,useValue:this.componentFactoryResolver}],s.parent||Sm(),s.debugName,new Set(["environment"]));this.injector=l,s.runEnvironmentInitializers&&l.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function mf(o,s,l=null){return new Hv({providers:o,parent:s,debugName:l,runEnvironmentInitializers:!0}).injector}function Bw(o){return!!pf(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function pf(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function _l(o,s,l){return o[s]=l}function Ar(o,s,l){return!Object.is(o[s],l)&&(o[s]=l,!0)}function dd(o,s,l,u){const h=Ar(o,s,l);return Ar(o,s+1,u)||h}function _f(o,s,l,u,h,m,g,E,S,k){const F=l+dn,z=s.firstCreatePass?function OF(o,s,l,u,h,m,g,E,S){const k=s.consts,F=Ju(s,o,4,g||null,E||null);QE(s,l,F,Cr(k,S)),ll(s,F);const z=F.tView=fv(2,F,u,h,m,s.directiveRegistry,s.pipeRegistry,null,s.schemas,k,null);return null!==s.queries&&(s.queries.template(s,F),z.queries=s.queries.embeddedTView(F)),F}(F,s,o,u,h,m,g,E,S):s.data[F];Sr(z,!1);const de=Dx(s,o,z,l);Kl()&&rp(s,o,de,z),es(de,o);const ve=YE(de,o,de,z);return o[F]=ve,lp(o,ve),function sx(o,s,l){return iu(o,s,l)}(ve,z,o),b_(z)&&qE(s,o,z),null!=S&&XE(o,z,k),z}function Ax(o,s,l,u,h,m,g,E){const S=bt(),k=Wn();return _f(S,k,o,s,l,u,h,Cr(k.consts,m),g,E),Ax}let Dx=function xx(o,s,l,u){return Ec(!0),s[ot].createComment("")};function Jw(o,s,l,u){const h=bt();return Ar(h,Xa(),s)&&(Wn(),Cs(Fi(),h,o,s,l,u)),Jw}function If(o,s,l,u){return Ar(o,Xa(),l)?s+qe(l)+u:On}function uu(o,s,l,u,h,m,g,E){const k=function su(o,s,l,u,h){const m=dd(o,s,l,u);return Ar(o,s+2,h)||m}(o,yc(),l,h,g);return ws(3),k?s+qe(l)+u+qe(h)+m+qe(g)+E:On}function Df(o,s){return o<<17|s<<2}function vl(o){return o>>17&32767}function oI(o){return 2|o}function _d(o){return(131068&o)>>2}function Rp(o,s){return-131069&o|s<<2}function sI(o){return 1|o}function rL(o,s,l,u){const h=o[l+1],m=null===s;let g=u?vl(h):_d(h),E=!1;for(;0!==g&&(!1===E||m);){const k=o[g+1];oL(o[g],s)&&(E=!0,o[g+1]=u?sI(k):oI(k)),g=u?vl(k):_d(k)}E&&(o[l+1]=u?oI(h):sI(h))}function oL(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&uh(o,s)>=0}const Kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Xv(o){return o.substring(Kr.key,Kr.keyEnd)}function Kx(o,s){const l=Kr.textEnd;return l===s?-1:(s=Kr.keyEnd=function aL(o,s,l){for(;s<l&&o.charCodeAt(s)>32;)s++;return s}(o,Kr.key=s,l),xf(o,s,l))}function xf(o,s,l){for(;s<l&&o.charCodeAt(s)<=32;)s++;return s}function cI(o,s,l){const u=bt();return Ar(u,Xa(),s)&&wo(Wn(),Fi(),u,o,s,u[ot],l,!1),cI}function lI(o,s,l,u,h){const g=h?"class":"style";ml(o,l,s.inputs[g],g,u)}function uI(o,s,l){return Ja(o,s,l,!1),uI}function dI(o,s){return Ja(o,s,null,!0),dI}function Qx(o){ec(gL,kc,o,!0)}function kc(o,s){for(let l=function sL(o){return function du(o){Kr.key=0,Kr.keyEnd=0,Kr.value=0,Kr.valueEnd=0,Kr.textEnd=o.length}(o),Kx(o,xf(o,0,Kr.textEnd))}(s);l>=0;l=Kx(s,l))Hs(o,Xv(s),!0)}function Ja(o,s,l,u){const h=bt(),m=Wn(),g=ws(2);m.firstUpdatePass&&Zx(m,o,g,u),s!==On&&Ar(h,g,s)&&Mf(m,m.data[lo()],h,h[ot],o,h[g+1]=function b$(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=qi(Yl(o)))),o}(s,l),u,g)}function ec(o,s,l,u){const h=Wn(),m=ws(2);h.firstUpdatePass&&Zx(h,null,m,u);const g=bt();if(l!==On&&Ar(g,m,l)){const E=h.data[lo()];if(bd(E,u)&&!Yx(h,m)){let S=u?E.classesWithoutHost:E.stylesWithoutHost;null!==S&&(l=Ll(S,l||"")),lI(h,E,g,l,u)}else!function yd(o,s,l,u,h,m,g,E){h===On&&(h=ti);let S=0,k=0,F=0<h.length?h[0]:null,z=0<m.length?m[0]:null;for(;null!==F||null!==z;){const de=S<h.length?h[S+1]:void 0,ve=k<m.length?m[k+1]:void 0;let _t,Ze=null;F===z?(S+=2,k+=2,de!==ve&&(Ze=z,_t=ve)):null===z||null!==F&&F<z?(S+=2,Ze=F):(k+=2,Ze=z,_t=ve),null!==Ze&&Mf(o,s,l,u,Ze,_t,g,E),F=S<h.length?h[S]:null,z=k<m.length?m[k]:null}}(h,E,g,g[ot],g[m+1],g[m+1]=function pL(o,s,l){if(null==l||""===l)return ti;const u=[],h=Yl(l);if(Array.isArray(h))for(let m=0;m<h.length;m++)o(u,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&o(u,m,h[m]);else"string"==typeof h&&s(u,h);return u}(o,s,l),u,m)}}function Yx(o,s){return s>=o.expandoStartIndex}function Zx(o,s,l,u){const h=o.data;if(null===h[l+1]){const m=h[lo()],g=Yx(o,l);bd(m,u)&&null===s&&!g&&(s=!1),s=function dL(o,s,l,u){const h=Vm(o);let m=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(l=Pp(l=hI(null,o,s,l,u),s.attrs,u),m=null);else{const g=s.directiveStylingLast;if(-1===g||o[g]!==h)if(l=hI(h,o,s,l,u),null===m){let S=function hL(o,s,l){const u=l?s.classBindings:s.styleBindings;if(0!==_d(u))return o[vl(u)]}(o,s,u);void 0!==S&&Array.isArray(S)&&(S=hI(null,o,s,S[1],u),S=Pp(S,s.attrs,u),function fL(o,s,l,u){o[vl(l?s.classBindings:s.styleBindings)]=u}(o,s,u,S))}else m=function mL(o,s,l){let u;const h=s.directiveEnd;for(let m=1+s.directiveStylingLast;m<h;m++)u=Pp(u,o[m].hostAttrs,l);return Pp(u,s.attrs,l)}(o,s,u)}return void 0!==m&&(u?s.residualClasses=m:s.residualStyles=m),l}(h,m,s,u),function aI(o,s,l,u,h,m){let g=m?s.classBindings:s.styleBindings,E=vl(g),S=_d(g);o[u]=l;let F,k=!1;if(Array.isArray(l)?(F=l[1],(null===F||uh(l,F)>0)&&(k=!0)):F=l,h)if(0!==S){const de=vl(o[E+1]);o[u+1]=Df(de,E),0!==de&&(o[de+1]=Rp(o[de+1],u)),o[E+1]=function rI(o,s){return 131071&o|s<<17}(o[E+1],u)}else o[u+1]=Df(E,0),0!==E&&(o[E+1]=Rp(o[E+1],u)),E=u;else o[u+1]=Df(S,0),0===E?E=u:o[S+1]=Rp(o[S+1],u),S=u;k&&(o[u+1]=oI(o[u+1])),rL(o,F,u,!0),rL(o,F,u,!1),function iL(o,s,l,u,h){const m=h?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof s&&uh(m,s)>=0&&(l[u+1]=sI(l[u+1]))}(s,F,o,u,m),g=Df(E,S),m?s.classBindings=g:s.styleBindings=g}(h,m,s,l,g,u)}}function hI(o,s,l,u,h){let m=null;const g=l.directiveEnd;let E=l.directiveStylingLast;for(-1===E?E=l.directiveStart:E++;E<g&&(m=s[E],u=Pp(u,m.hostAttrs,h),m!==o);)E++;return null!==o&&(l.directiveStylingLast=E),u}function Pp(o,s,l){const u=l?1:2;let h=-1;if(null!==s)for(let m=0;m<s.length;m++){const g=s[m];"number"==typeof g?h=g:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Hs(o,g,!!l||s[++m]))}return void 0===o?null:o}function gL(o,s,l){const u=String(s);""!==u&&!u.includes(" ")&&Hs(o,u,l)}function Mf(o,s,l,u,h,m,g,E){if(!(3&s.type))return;const S=o.data,k=S[E+1],F=function nL(o){return!(1&~o)}(k)?Rf(S,s,l,h,_d(k),g):void 0;Op(F)||(Op(m)||function iI(o){return!(2&~o)}(k)&&(m=Rf(S,null,l,h,E,g)),function nD(o,s,l,u,h){if(s)h?o.addClass(l,u):o.removeClass(l,u);else{let m=-1===u.indexOf("-")?void 0:lv.DashCase;null==h?o.removeStyle(l,u,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=lv.Important),o.setStyle(l,u,h,m))}}(u,g,Ch(lo(),l),h,m))}function Rf(o,s,l,u,h,m){const g=null===s;let E;for(;h>0;){const S=o[h],k=Array.isArray(S),F=k?S[1]:S,z=null===F;let de=l[h+1];de===On&&(de=z?ti:void 0);let ve=z?v0(de,u):F===u?de:void 0;if(k&&!Op(ve)&&(ve=v0(S,u)),Op(ve)&&(E=ve,g))return E;const Ze=o[h+1];h=g?vl(Ze):_d(Ze)}if(null!==s){let S=m?s.residualClasses:s.residualStyles;null!=S&&(E=v0(S,u))}return E}function Op(o){return void 0!==o}function bd(o,s){return!!(o.flags&(s?8:16))}function Np(o,s,l){ec(Hs,kc,If(bt(),o,s,l),!0)}class eM{destroy(s){}updateValue(s,l){}swap(s,l){const u=Math.min(s,l),h=Math.max(s,l),m=this.detach(h);if(h-u>1){const g=this.detach(u);this.attach(u,m),this.attach(h,g)}else this.attach(u,m)}move(s,l){this.attach(l,this.detach(s))}}function tM(o,s,l,u,h){return o===l&&Object.is(s,u)?1:Object.is(h(o,s),h(l,u))?-1:0}function fI(o,s,l,u){return!(void 0===s||!s.has(u)||(o.attach(l,s.get(u)),s.delete(u),0))}function Zv(o,s,l,u,h){if(fI(o,s,u,l(u,h)))o.updateValue(u,h);else{const m=o.create(u,h);o.attach(u,m)}}function Oc(o,s,l,u){const h=new Set;for(let m=s;m<=l;m++)h.add(u(m,o.at(m)));return h}class EL{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const l=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(l)?(this.kvMap.set(s,this._vMap.get(l)),this._vMap.delete(l)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,l){if(this.kvMap.has(s)){let u=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const h=this._vMap;for(;h.has(u);)u=h.get(u);h.set(u,l)}else this.kvMap.set(s,l)}forEach(s){for(let[l,u]of this.kvMap)if(s(u,l),void 0!==this._vMap){const h=this._vMap;for(;h.has(u);)u=h.get(u),s(u,l)}}}function wL(o,s){Io("NgControlFlow");const l=bt(),u=Xa(),h=l[u]!==On?l[u]:-1,m=-1!==h?Lp(l,dn+h):void 0;if(Ar(l,u,o)){const E=a(null);try{if(void 0!==m&&nw(m,0),-1!==o){const S=dn+o,k=Lp(l,S),F=gI(l[y],S),z=ad(k,F.tView.ssrId);tf(k,dp(l,F,s,{dehydratedView:z}),0,ef(F,z))}}finally{a(E)}}else if(void 0!==m){const E=tw(m,0);void 0!==E&&(E[ie]=s)}}class IL{constructor(s,l,u){this.lContainer=s,this.$implicit=l,this.$index=u}get $count(){return this.lContainer.length-$i}}function nM(o){return o}class mI{constructor(s,l,u){this.hasEmptyBlock=s,this.trackByFn=l,this.liveCollection=u}}function pI(o,s,l,u,h,m,g,E,S,k,F,z,de){Io("NgControlFlow");const ve=bt(),Ze=Wn(),_t=void 0!==S,Ot=bt(),Ht=E?g.bind(Ot[pn][ie]):g,Tt=new mI(_t,Ht);Ot[dn+o]=Tt,_f(ve,Ze,o+1,s,l,u,h,Cr(Ze.consts,m)),_t&&_f(ve,Ze,o+2,S,k,F,z,Cr(Ze.consts,de))}class rM extends eM{constructor(s,l,u){super(),this.lContainer=s,this.hostLView=l,this.templateTNode=u,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-$i}at(s){return this.getLView(s)[ie].$implicit}attach(s,l){const u=l[j];this.needsIndexUpdate||=s!==this.length,tf(this.lContainer,l,s,ef(this.templateTNode,u))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function TL(o,s){return Xh(o,s)}(this.lContainer,s)}create(s,l){const u=ad(this.lContainer,this.templateTNode.tView.ssrId),h=dp(this.hostLView,this.templateTNode,new IL(this.lContainer,l,s),{dehydratedView:u});return this.operationsCounter?.recordCreate(),h}destroy(s){np(s[y],s),this.operationsCounter?.recordDestroy()}updateValue(s,l){this.getLView(s)[ie].$implicit=l}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[ie].$index=s}getLView(s){return function CL(o,s){return tw(o,s)}(this.lContainer,s)}}function Jv(o){const s=a(null),l=lo();try{const u=bt(),h=u[y],m=u[l],g=l+1,E=Lp(u,g);if(void 0===m.liveCollection){const k=gI(h,g);m.liveCollection=new rM(E,u,k)}else m.liveCollection.reset();const S=m.liveCollection;if(function I$(o,s,l){let u,h,m=0,g=o.length-1;if(Array.isArray(s)){let S=s.length-1;for(;m<=g&&m<=S;){const k=o.at(m),F=s[m],z=tM(m,k,m,F,l);if(0!==z){z<0&&o.updateValue(m,F),m++;continue}const de=o.at(g),ve=s[S],Ze=tM(g,de,S,ve,l);if(0!==Ze){Ze<0&&o.updateValue(g,ve),g--,S--;continue}const _t=l(m,k),Ot=l(g,de),Ht=l(m,F);if(Object.is(Ht,Ot)){const Tt=l(S,ve);Object.is(Tt,_t)?(o.swap(m,g),o.updateValue(g,ve),S--,g--):o.move(g,m),o.updateValue(m,F),m++}else if(u??=new EL,h??=Oc(o,m,g,l),fI(o,u,m,Ht))o.updateValue(m,F),m++,g++;else if(h.has(Ht))u.set(_t,o.detach(m)),g--;else{const Tt=o.create(m,s[m]);o.attach(m,Tt),m++,g++}}for(;m<=S;)Zv(o,u,l,m,s[m]),m++}else if(null!=s){const S=s[Symbol.iterator]();let k=S.next();for(;!k.done&&m<=g;){const F=o.at(m),z=k.value,de=tM(m,F,m,z,l);if(0!==de)de<0&&o.updateValue(m,z),m++,k=S.next();else{u??=new EL,h??=Oc(o,m,g,l);const ve=l(m,z);if(fI(o,u,m,ve))o.updateValue(m,z),m++,g++,k=S.next();else if(h.has(ve)){const Ze=l(m,F);u.set(Ze,o.detach(m)),g--}else o.attach(m,o.create(m,z)),m++,g++,k=S.next()}}for(;!k.done;)Zv(o,u,l,o.length,k.value),k=S.next()}for(;m<=g;)o.destroy(o.detach(g--));u?.forEach(S=>{o.destroy(S)})}(S,o,m.trackByFn),S.updateIndexes(),m.hasEmptyBlock){const k=Xa(),F=0===S.length;if(Ar(u,k,F)){const z=l+2,de=Lp(u,z);if(F){const ve=gI(h,z),Ze=ad(de,ve.tView.ssrId);tf(de,dp(u,ve,void 0,{dehydratedView:Ze}),0,ef(ve,Ze))}else nw(de,0)}}}finally{a(s)}}function Lp(o,s){return o[s]}function gI(o,s){return Wu(o,s)}function ey(o,s,l,u){const h=bt(),m=Wn(),g=dn+o,E=h[ot],S=m.firstCreatePass?function oM(o,s,l,u,h,m){const g=s.consts,S=Ju(s,o,2,u,Cr(g,h));return QE(s,l,S,Cr(g,m)),null!==S.attrs&&Tw(S,S.attrs,!1),null!==S.mergedAttrs&&Tw(S,S.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,S),S}(g,m,h,s,l,u):m.data[g],k=sM(m,h,S,E,s,o);h[g]=k;const F=b_(S);return Sr(S,!0),rD(E,k,S),!function gf(o){return!(32&~o.flags)}(S)&&Kl()&&rp(m,h,k,S),0===function xk(){return Dn.lFrame.elementDepthCount}()&&es(k,h),function Mk(){Dn.lFrame.elementDepthCount++}(),F&&(qE(m,h,S),KE(m,S,h)),null!==u&&XE(h,S),ey}function ty(){let o=ki();$0()?Xu():(o=o.parent,Sr(o,!1));const s=o;(function H0(o){return Dn.skipHydrationRootTNode===o})(s)&&function Q3(){Dn.skipHydrationRootTNode=null}(),function Rk(){Dn.lFrame.elementDepthCount--}();const l=Wn();return l.firstCreatePass&&(ll(l,o),Ci(o)&&l.queries.elementEnd(o)),null!=s.classesWithoutHost&&function zS(o){return!!(8&o.flags)}(s)&&lI(l,s,bt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function O_(o){return!!(16&o.flags)}(s)&&lI(l,s,bt(),s.stylesWithoutHost,!1),ty}function ny(o,s,l,u){return ey(o,s,l,u),ty(),ny}let sM=(o,s,l,u,h,m)=>(Ec(!0),uv(u,h,function $S(){return Dn.lFrame.currentNamespace}()));function uM(){return bt()}function iy(o,s,l){const u=bt();return Ar(u,Xa(),s)&&wo(Wn(),Fi(),u,o,s,u[ot],l,!0),iy}function vI(o,s,l){const u=bt();if(Ar(u,Xa(),s)){const m=Wn(),g=Fi();wo(m,g,u,o,s,Jh(Vm(m.data),g,u),l,!0)}return vI}const Nc=void 0;var ry=["en",[["a","p"],["AM","PM"],Nc],[["AM","PM"],Nc,Nc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nc,"{1} 'at' {0}",Nc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function DL(o){const l=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===u?1:5}];let qr={};function Vp(o){const s=function yl(o){return o.toLowerCase().replace(/_/g,"-")}(o);let l=oy(s);if(l)return l;const u=s.split("-")[0];if(l=oy(u),l)return l;if("en"===u)return ry;throw new Qt(701,!1)}function Ed(o){return Vp(o)[rs.PluralCase]}function oy(o){return o in qr||(qr[o]=Ri.ng&&Ri.ng.common&&Ri.ng.common.locales&&Ri.ng.common.locales[o]),qr[o]}var rs=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(rs||{});const wd="en-US";let bI=wd;let DM=(o,s,l)=>{};function NI(o,s,l,u){const h=bt(),m=Wn(),g=ki();return FI(m,h,h[ot],g,o,s,u),NI}function _y(o,s){const l=ki(),u=bt(),h=Wn();return FI(h,u,Jh(Vm(h.data),l,u),l,o,s),_y}function FI(o,s,l,u,h,m,g){const E=b_(u),k=o.firstCreatePass&&ew(o),F=s[ie],z=JE(s);let de=!0;if(3&u.type||g){const _t=zr(u,s),Ot=g?g(_t):_t,Ht=z.length,Tt=g?ni=>g(ai(ni[u.index])):u.index;let In=null;if(!g&&E&&(In=function UL(o,s,l,u){const h=o.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const g=h[m];if(g===l&&h[m+1]===u){const E=s[te],S=h[m+2];return E.length>S?E[S]:null}"string"==typeof g&&(m+=2)}return null}(o,s,h,u.index)),null!==In)(In.__ngLastListenerFn__||In).__ngNextListenerFn__=m,In.__ngLastListenerFn__=m,de=!1;else{m=xM(u,s,F,m),DM(_t,h,m);const ni=l.listen(Ot,h,m);z.push(m,ni),k&&k.push(h,Tt,Ht,Ht+1)}}else m=xM(u,s,F,m);const ve=u.outputs;let Ze;if(de&&null!==ve&&(Ze=ve[h])){const _t=Ze.length;if(_t)for(let Ot=0;Ot<_t;Ot+=2){const Mi=s[Ze[Ot]][Ze[Ot+1]].subscribe(m),Qr=z.length;z.push(m,Mi),k&&k.push(h,u.index,Qr,-(Qr+1))}}}function vy(o,s,l,u){const h=a(null);try{return _c(6,s,l),!1!==l(u)}catch(m){return pv(o,m),!1}finally{_c(7,s,l),a(h)}}function xM(o,s,l,u){return function h(m){if(m===Function)return u;td(o.componentOffset>-1?bs(o.index,s):s,5);let E=vy(s,l,u,m),S=h.__ngNextListenerFn__;for(;S;)E=vy(s,l,S,m)&&E,S=S.__ngNextListenerFn__;return E}}function MM(o=1){return function q0(o){return(Dn.lFrame.contextLView=function Es(o,s){for(;o>0;)s=s[Jt],o--;return s}(o,Dn.lFrame.contextLView))[ie]}(o)}function xr(o,s){let l=null;const u=function lS(o){const s=o.attrs;if(null!=s){const l=s.indexOf(5);if(!(1&l))return s[l+1]}return null}(o);for(let h=0;h<s.length;h++){const m=s[h];if("*"!==m){if(null===u?b0(o,m,!0):E0(u,m))return h}else l=h}return l}function LI(o){const s=bt()[pn][O];if(!s.projection){const u=s.projection=function bm(o,s){const l=[];for(let u=0;u<o;u++)l.push(s);return l}(o?o.length:1,null),h=u.slice();let m=s.child;for(;null!==m;){if(128!==m.type){const g=o?xr(m,o):0;null!==g&&(h[g]?h[g].projectionNext=m:u[g]=m,h[g]=m)}m=m.next}}}function Lf(o,s=0,l,u,h,m){const g=bt(),E=Wn(),S=u?o+1:null;null!==S&&_f(g,E,S,u,h,m,null,l);const k=Ju(E,dn+o,16,null,l||null);null===k.projection&&(k.projection=s),Xu();const z=!g[j]||Wl();null===g[pn][O].projection[k.projection]&&null!==S?function jL(o,s,l){const u=dn+l,h=s.data[u],m=o[u],g=ad(m,h.tView.ssrId);tf(m,dp(o,h,void 0,{dehydratedView:g}),0,ef(h,g))}(g,E,S):z&&32&~k.flags&&function tD(o,s,l){HE(s[ot],0,s,l,XA(o,l,s),QA(l.parent||s[O],l,s))}(E,g,k)}function Vf(o,s,l,u){hx(o,s,l,u)}function Ey(o,s,l){!function dx(o,s,l){const u=Wn();return u.firstCreatePass&&(hf(u,new cd(o,s,l),-1),!(2&~s)&&(u.staticViewQueries=!0)),Dw(u,bt(),s)}(o,s,l)}function NM(o){const s=bt(),l=Wn(),u=Bm();Um(u+1);const h=xw(l,u);if(o.dirty&&function PS(o){return!(4&~o[b])}(s)===!(2&~h.metadata.flags)){if(null===h.matches)o.reset([]);else{const m=fx(s,u);o.reset(m,lA),o.notifyOnChanges()}return!0}return!1}function wy(){return ru(bt(),Bm())}function FM(o,s,l,u,h){!function Mw(o,s){const l=o[D];l._lView=bt(),l._queryIndex=s,l._queryList=ru(l._lView,s),l._queryList.onDirty(()=>l._dirtyCounter.update(u=>u+1))}(s,hx(o,l,u,h))}function LM(o=1){Um(Bm()+o)}function VM(o){return Ku(function LS(){return Dn.lFrame.contextLView}(),dn+o)}function Dy(o,s=""){const l=bt(),u=Wn(),h=o+dn,m=u.firstCreatePass?Ju(u,h,1,s,null):u.data[h],g=zM(u,l,m,s,o);l[h]=g,Kl()&&rp(u,l,g,m),Sr(m,!1)}let zM=(o,s,l,u,h)=>(Ec(!0),function FE(o,s){return o.createText(s)}(s[ot],u));function Gp(o){return xy("",o,""),Gp}function xy(o,s,l){const u=bt(),h=If(u,o,s,l);return h!==On&&Da(u,lo(),h),xy}function zp(o,s,l,u,h){const m=bt(),g=function Tf(o,s,l,u,h,m){const E=dd(o,yc(),l,h);return ws(2),E?s+qe(l)+u+qe(h)+m:On}(m,o,s,l,u,h);return g!==On&&Da(m,lo(),g),zp}function WI(o,s,l,u,h,m,g){const E=bt(),S=uu(E,o,s,l,u,h,m,g);return S!==On&&Da(E,lo(),S),WI}function Wp(o,s,l,u,h){if(o=bn(o),Array.isArray(o))for(let m=0;m<o.length;m++)Wp(o[m],s,l,u,h);else{const m=Wn(),g=bt(),E=ki();let S=Ea(o)?o:bn(o.provide);const k=p_(o),F=1048575&E.providerIndexes,z=E.directiveStart,de=E.providerIndexes>>20;if(Ea(o)||!o.multi){const ve=new Hm(k,h,ap),Ze=XI(S,s,h?F:F+de,z);-1===Ze?(nE(V_(E,g),m,S),Td(m,o,s.length),s.push(S),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(ve),g.push(ve)):(l[Ze]=ve,g[Ze]=ve)}else{const ve=XI(S,s,F+de,z),Ze=XI(S,s,F,F+de),Ot=Ze>=0&&l[Ze];if(h&&!Ot||!h&&!(ve>=0&&l[ve])){nE(V_(E,g),m,S);const Ht=function El(o,s,l,u,h){const m=new Hm(o,l,ap);return m.multi=[],m.index=s,m.componentProviders=0,QM(m,h,u&&!l),m}(h?k$:Kp,l.length,h,u,k);!h&&Ot&&(l[Ze].providerFactory=Ht),Td(m,o,s.length,0),s.push(S),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),l.push(Ht),g.push(Ht)}else Td(m,o,ve>-1?ve:Ze,QM(l[h?Ze:ve],k,!h&&u));!h&&u&&Ot&&l[Ze].componentProviders++}}}function Td(o,s,l,u){const h=Ea(s),m=function A0(o){return!!o.useClass}(s);if(h||m){const S=(m?bn(s.useClass):s).prototype.ngOnDestroy;if(S){const k=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const F=k.indexOf(l);-1===F?k.push(l,[u,S]):k[F+1].push(u,S)}else k.push(l,S)}}}function QM(o,s,l){return l&&o.componentProviders++,o.multi.push(s)-1}function XI(o,s,l,u){for(let h=l;h<u;h++)if(s[h]===o)return h;return-1}function Kp(o,s,l,u){return qp(this.multi,[])}function k$(o,s,l,u){const h=this.multi;let m;if(this.providerFactory){const g=this.providerFactory.componentProviders,E=wc(l,l[y],this.providerFactory.index,u);m=E.slice(0,g),qp(h,m);for(let S=g;S<E.length;S++)m.push(E[S])}else m=[],qp(h,m);return m}function qp(o,s){for(let l=0;l<o.length;l++)s.push((0,o[l])());return s}function QI(o,s=[]){return l=>{l.providersResolver=(u,h)=>function qL(o,s,l){const u=Wn();if(u.firstCreatePass){const h=Eo(o);Wp(l,u.data,u.blueprint,h,!0),Wp(s,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,s)}}let ky=(()=>{class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const u=d_(0,l.type),h=u.length>0?mf([u],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,h)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=qn({token:o,providedIn:"environment",factory:()=>new o(yo($s))})}return o})();function XL(o){Io("NgStandalone"),o.getStandaloneInjector=s=>s.get(ky).getOrCreateStandaloneInjector(o)}function Ly(o,s,l){const u=Fr()+o,h=bt();return h[u]===On?_l(h,u,l?s.call(l):s()):function Cp(o,s){return o[s]}(h,u)}function qs(o,s,l,u){return By(bt(),Fr(),o,s,l,u)}function ZI(o,s,l,u,h){return function Xp(o,s,l,u,h,m,g){const E=s+l;return dd(o,E,h,m)?_l(o,E+2,g?u.call(g,h,m):u(h,m)):Cd(o,E+2)}(bt(),Fr(),o,s,l,u,h)}function Cd(o,s){const l=o[s];return l===On?void 0:l}function By(o,s,l,u,h,m){const g=s+l;return Ar(o,g,h)?_l(o,g+1,m?u.call(m,h):u(h)):Cd(o,g+1)}function nT(o,s){const l=Wn();let u;const h=o+dn;l.firstCreatePass?(u=function iT(o,s){if(s)for(let l=s.length-1;l>=0;l--){const u=s[l];if(o===u.name)return u}}(s,l.pipeRegistry),l.data[h]=u,u.onDestroy&&(l.destroyHooks??=[]).push(h,u.onDestroy)):u=l.data[h];const m=u.factory||(u.factory=ju(u.type)),E=wn(ap);try{const S=N_(!1),k=m();return N_(S),function Iy(o,s,l,u){l>=o.data.length&&(o.data[l]=null,o.blueprint[l]=null),s[l]=u}(l,bt(),h,k),k}finally{wn(E)}}function n1(o,s,l){const u=o+dn,h=bt(),m=Ku(h,u);return function Sd(o,s){return o[y].data[s].pure}(h,u)?By(h,Fr(),s,m.transform,l,m):m.transform(l)}function ZL(o,s){return bv(o,s)}class l2{constructor(s){this.full=s;const l=s.split(".");this.major=l[0],this.minor=l[1],this.patch=l.slice(2).join(".")}}let Xy=(()=>{class o{log(l){console.log(l)}warn(l){console.warn(l)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const eg=new An(""),yT=new An("");let ig,tg=(()=>{class o{constructor(l,u,h){this._ngZone=l,this.registry=u,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,ig||(function S2(o){ig=o}(h),h.addToWindow(u)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb()}});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(l)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,u,h){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==m),l()},u)),this._callbacks.push({doneCb:l,timeoutId:m,updateCb:h})}whenStable(l,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,u,h),this._runCallbacksIfReady()}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,u,h){return[]}static#e=this.\u0275fac=function(u){return new(u||o)(yo(zi),yo(ng),yo(yT))};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac})}return o})(),ng=(()=>{class o{constructor(){this._applications=new Map}registerApplication(l,u){this._applications.set(l,u)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,u=!0){return ig?.findTestabilityInTree(this,l,u)??null}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function Jy(o){return!!o&&"function"==typeof o.then}function eb(o){return!!o&&"function"==typeof o.subscribe}const v1=new An("");let rg=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,u)=>{this.resolve=l,this.reject=u}),this.appInits=an(v1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const h of this.appInits){const m=h();if(Jy(m))l.push(m);else if(eb(m)){const g=new Promise((E,S)=>{m.subscribe({complete:E,error:S})});l.push(g)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{u()}).catch(h=>{this.reject(h)}),0===l.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const og=new An("");let nc=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=an(Km),this.afterRenderEffectManager=an(is),this.zonelessEnabled=an(_p),this.externalTestViews=new Set,this.beforeRender=new Ut.B,this.afterTick=new Ut.B,this.componentTypes=[],this.components=[],this.isStable=an(Yu).hasPendingTasks.pipe((0,sn.T)(l=>!l)),this._injector=an($s)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,u){const h=l instanceof vw;if(!this._injector.get(rg).done)throw!h&&Ka(l),new Qt(405,!1);let g;g=h?l:this._injector.get(Pv).resolveComponentFactory(l),this.componentTypes.push(g.componentType);const E=function Y$(o){return o.isBoundToModule}(g)?void 0:this._injector.get(ff),k=g.create(Lr.NULL,[],u||g.selector,E),F=k.location.nativeElement,z=k.injector.get(eg,null);return z?.registerApplication(F),k.onDestroy(()=>{this.detachView(k.hostView),tb(this.components,k),z?.unregisterApplication(F)}),this._loadComponent(k),k}tick(){this._tick(!0)}_tick(l){if(this._runningTick)throw new Qt(101,!1);const u=a(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(l)}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1,a(u),this.afterTick.next()}}detectChangesInAttachedViews(l){let u=null;this._injector.destroyed||(u=this._injector.get(af,null,{optional:!0}));let h=0;const m=this.afterRenderEffectManager;for(;h<10;){const g=0===h;if(l||!g){this.beforeRender.next(g);for(let{_lView:E,notifyErrorHandler:S}of this._views)D2(E,S,g,this.zonelessEnabled)}else u?.begin?.(),u?.end?.();if(h++,m.executeInternalCallbacks(),!this.allViews.some(({_lView:E})=>zl(E))&&(m.execute(),!this.allViews.some(({_lView:E})=>zl(E))))break}}attachView(l){const u=l;this._views.push(u),u.attachToAppRef(this)}detachView(l){const u=l;tb(this._views,u),u.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const u=this._injector.get(og,[]);[...this._bootstrapListeners,...u].forEach(h=>h(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>tb(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new Qt(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function tb(o,s){const l=o.indexOf(s);l>-1&&o.splice(l,1)}function D2(o,s,l,u){(l||zl(o))&&_v(o,s,l&&!u?0:1)}class x2{constructor(s,l){this.ngModuleFactory=s,this.componentFactories=l}}let bT=(()=>{class o{compileModuleSync(l){return new Vw(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const u=this.compileModuleSync(l),m=Ts(Gr(l).declarations).reduce((g,E)=>{const S=Bn(E);return S&&g.push(new yp(S)),g},[]);return new x2(u,m)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),T1=(()=>{class o{constructor(){this.zone=an(zi),this.changeDetectionScheduler=an(xc),this.applicationRef=an(nc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function C1({ngZoneFactory:o,ignoreChangesOutsideZone:s}){return o??=()=>new zi(function A1(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}()),[{provide:zi,useFactory:o},{provide:Wa,multi:!0,useFactory:()=>{const l=an(T1,{optional:!0});return()=>l.initialize()}},{provide:Wa,multi:!0,useFactory:()=>{const l=an(ET);return()=>{l.initialize()}}},{provide:Km,useFactory:k2},!0===s?{provide:_w,useValue:!0}:[]]}function k2(){const o=an(zi),s=an(Ia);return l=>o.runOutsideAngular(()=>s.handleError(l))}let ET=(()=>{class o{constructor(){this.subscription=new rn.yU,this.initialized=!1,this.zone=an(zi),this.pendingTasks=an(Yu)}initialize(){if(this.initialized)return;this.initialized=!0;let l=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(l=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{zi.assertNotInAngularZone(),queueMicrotask(()=>{null!==l&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(l),l=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{zi.assertInAngularZone(),l??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Pd=(()=>{class o{constructor(){this.appRef=an(nc),this.taskService=an(Yu),this.ngZone=an(zi),this.zonelessEnabled=an(_p),this.disableScheduling=an(_w,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new rn.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof bw||!this.zoneIsDefined)}notify(l){if(!this.zonelessEnabled&&5===l)return;switch(l){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const u=this.useMicrotaskScheduler?WD:zD;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&zi.isInAngularZone())}tick(l){if(this.runningTick||this.appRef.destroyed)return;const u=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(l)},void 0,this.schedulerTickApplyArgs)}catch(h){throw this.taskService.remove(u),h}finally{this.cleanup()}this.useMicrotaskScheduler=!0,WD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(u)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const l=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(l)}}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=qn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Hf=new An("",{providedIn:"root",factory:()=>an(Hf,yt.Optional|yt.SkipSelf)||function e5(){return typeof $localize<"u"&&$localize.locale||wd}()}),t5=new An("",{providedIn:"root",factory:()=>"USD"}),wT=new An("");let Bc=null;function B2(){return!1}let N1=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=F1}return o})();function F1(o){return function L1(o,s,l){if(qa(o)&&!l){const u=bs(o.index,s);return new zs(u,u)}return 175&o.type?new zs(s[pn],s):null}(ki(),bt(),!(16&~o))}class ab{constructor(){}supports(s){return Bw(s)}create(s){return new z2(s)}}const G2=(o,s)=>s;class z2{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||G2}forEachItem(s){let l;for(l=this._itHead;null!==l;l=l._next)s(l)}forEachOperation(s){let l=this._itHead,u=this._removalsHead,h=0,m=null;for(;l||u;){const g=!u||l&&l.currentIndex<U1(u,h,m)?l:u,E=U1(g,h,m),S=g.currentIndex;if(g===u)h--,u=u._nextRemoved;else if(l=l._next,null==g.previousIndex)h++;else{m||(m=[]);const k=E-h,F=S-h;if(k!=F){for(let de=0;de<k;de++){const ve=de<m.length?m[de]:m[de]=0,Ze=ve+de;F<=Ze&&Ze<k&&(m[de]=ve+1)}m[g.previousIndex]=F-k}}E!==S&&s(g,E,S)}}forEachPreviousItem(s){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachMovedItem(s){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}forEachIdentityChange(s){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)s(l)}diff(s){if(null==s&&(s=[]),!Bw(s))throw new Qt(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,m,g,l=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)m=s[E],g=this._trackByFn(E,m),null!==l&&Object.is(l.trackById,g)?(u&&(l=this._verifyReinsertion(l,m,g,E)),Object.is(l.item,m)||this._addIdentityChange(l,m)):(l=this._mismatch(l,m,g,E),u=!0),l=l._next}else h=0,function s$(o,s){if(Array.isArray(o))for(let l=0;l<o.length;l++)s(o[l]);else{const l=o[Symbol.iterator]();let u;for(;!(u=l.next()).done;)s(u.value)}}(s,E=>{g=this._trackByFn(h,E),null!==l&&Object.is(l.trackById,g)?(u&&(l=this._verifyReinsertion(l,E,g,h)),Object.is(l.item,E)||this._addIdentityChange(l,E)):(l=this._mismatch(l,E,g,h),u=!0),l=l._next,h++}),this.length=h;return this._truncate(l),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,l,u,h){let m;return null===s?m=this._itTail:(m=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._reinsertAfter(s,m,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,l)||this._addIdentityChange(s,l),this._moveAfter(s,m,h)):s=this._addAfter(new W2(l,u),m,h),s}_verifyReinsertion(s,l,u,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?s=this._reinsertAfter(m,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const l=s._next;this._addToRemovals(this._unlink(s)),s=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,l,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,m=s._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(s,l,u),this._addToMoves(s,u),s}_moveAfter(s,l,u){return this._unlink(s),this._insertAfter(s,l,u),this._addToMoves(s,u),s}_addAfter(s,l,u){return this._insertAfter(s,l,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,l,u){const h=null===l?this._itHead:l._next;return s._next=h,s._prev=l,null===h?this._itTail=s:h._prev=s,null===l?this._itHead=s:l._next=s,null===this._linkedRecords&&(this._linkedRecords=new B1),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const l=s._prev,u=s._next;return null===l?this._itHead=u:l._next=u,null===u?this._itTail=l:u._prev=l,s}_addToMoves(s,l){return s.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new B1),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,l){return s.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class W2{constructor(s,l){this.item=s,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class RT{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,l){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===l||l<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const l=s._prevDup,u=s._nextDup;return null===l?this._head=u:l._nextDup=u,null===u?this._tail=l:u._prevDup=l,null===this._head}}class B1{constructor(){this.map=new Map}put(s){const l=s.trackById;let u=this.map.get(l);u||(u=new RT,this.map.set(l,u)),u.add(s)}get(s,l){const h=this.map.get(s);return h?h.get(s,l):null}remove(s){const l=s.trackById;return this.map.get(l).remove(s)&&this.map.delete(l),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function U1(o,s,l){const u=o.previousIndex;if(null===u)return u;let h=0;return l&&u<l.length&&(h=l[u]),u+s+h}class PT{constructor(){}supports(s){return s instanceof Map||pf(s)}create(){return new K2}}class K2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let l;for(l=this._mapHead;null!==l;l=l._next)s(l)}forEachPreviousItem(s){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)s(l)}forEachChangedItem(s){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)s(l)}forEachAddedItem(s){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)s(l)}forEachRemovedItem(s){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)s(l)}diff(s){if(s){if(!(s instanceof Map||pf(s)))throw new Qt(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(l&&l.key===h)this._maybeAddToChanges(l,u),this._appendAfter=l,l=l._next;else{const m=this._getOrCreateRecordForKey(h,u);l=this._insertBeforeOrAppend(l,m)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let u=l;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,l){if(s){const u=s._prev;return l._next=s,l._prev=u,s._prev=l,u&&(u._next=l),s===this._mapHead&&(this._mapHead=l),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(s,l){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,l);const m=h._prev,g=h._next;return m&&(m._next=g),g&&(g._prev=m),h._next=null,h._prev=null,h}const u=new cb(s);return this._records.set(s,u),u.currentValue=l,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,l){Object.is(l,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=l,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,l){s instanceof Map?s.forEach(l):Object.keys(s).forEach(u=>l(s[u],u))}}class cb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function j1(){return new kT([new ab])}let kT=(()=>{class o{static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:j1});constructor(l){this.factories=l}static create(l,u){if(null!=u){const h=u.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||j1()),deps:[[o,new n_,new ym]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(null!=u)return u;throw new Qt(901,!1)}}return o})();function H1(){return new OT([new PT])}let OT=(()=>{class o{static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:H1});constructor(l){this.factories=l}static create(l,u){if(u){const h=u.factories.slice();l=l.concat(h)}return new o(l)}static extend(l){return{provide:o,useFactory:u=>o.create(l,u||H1()),deps:[[o,new n_,new ym]]}}find(l){const u=this.factories.find(h=>h.supports(l));if(u)return u;throw new Qt(901,!1)}}return o})();function gu(o){try{const{rootComponent:s,appProviders:l,platformProviders:u}=o,h=function TT(o=[]){if(Bc)return Bc;const s=function nb(o=[],s){return Lr.create({name:s,providers:[{provide:h_,useValue:"platform"},{provide:wT,useValue:new Set([()=>Bc=null])},...o]})}(o);return Bc=s,function y1(){!function Rn(o){tn=o}(()=>{throw new Qt(600,!1)})}(),function ib(o){o.get(Zm,null)?.forEach(l=>l())}(s),s}(u),m=[C1({}),{provide:xc,useExisting:Pd},...l||[]],E=new Hv({providers:m,parent:h,debugName:"",runEnvironmentInitializers:!1}).injector,S=E.get(zi);return S.run(()=>{E.resolveInjectorInitializers();const k=E.get(Ia,null);let F;S.runOutsideAngular(()=>{F=S.onError.subscribe({next:ve=>{k.handleError(ve)}})});const z=()=>E.destroy(),de=h.get(wT);return de.add(z),E.onDestroy(()=>{F.unsubscribe(),de.delete(z)}),function b1(o,s,l){try{const u=l();return Jy(u)?u.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(k,S,()=>{const ve=E.get(rg);return ve.runInitializers(),ve.donePromise.then(()=>{!function dM(o){"string"==typeof o&&(bI=o.toLowerCase().replace(/_/g,"-"))}(E.get(Hf,wd)||wd);const _t=E.get(nc);return void 0!==s&&_t.bootstrap(s),_t})})})}catch(s){return Promise.reject(s)}}const nn=new An("");function cR(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function lR(o,s=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?s:Number(o)}function Bd(o,s){Io("NgSignals");const l=ue(o);return s?.equal&&(l[D].equal=s.equal),l}function hR(o){const s=a(null);try{return o()}finally{a(s)}}const GT=new An("",{providedIn:"root",factory:()=>an(mV)});let mV=(()=>{class o{static#e=this.\u0275prov=qn({token:o,providedIn:"root",factory:()=>new pV})}return o})();class pV{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=an(Yu),this.taskId=null}scheduleEffect(s){if(this.enqueue(s),null===this.taskId){const l=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(l),this.taskId=null})}}enqueue(s){const l=s.creationZone;this.queues.has(l)||this.queues.set(l,new Set);const u=this.queues.get(l);u.has(s)||(this.queuedEffectCount++,u.add(s))}flush(){for(;this.queuedEffectCount>0;)for(const[s,l]of this.queues)null===s?this.flushQueue(l):s.run(()=>this.flushQueue(l))}flushQueue(s){for(const l of s)s.delete(l),this.queuedEffectCount--,l.run()}}class Qs{constructor(s,l,u,h,m,g){this.scheduler=s,this.effectFn=l,this.creationZone=u,this.injector=m,this.watcher=function ce(o,s,l){const u=Object.create(It);l&&(u.consumerAllowSignalWrites=!0),u.fn=o,u.schedule=s;const h=S=>{u.cleanupFn=S};return u.ref={notify:()=>Re(u),run:()=>{if(null===u.fn)return;if(function lt(){return pe}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(u.dirty=!1,u.hasRun&&!Fe(u))return;u.hasRun=!0;const S=ke(u);try{u.cleanupFn(),u.cleanupFn=Se,u.fn(h)}finally{ge(u,S)}},cleanup:()=>u.cleanupFn(),destroy:()=>function g(S){(function m(S){return null===S.fn&&null===S.schedule})(S)||(De(S),S.cleanupFn(),S.fn=null,S.schedule=null,S.cleanupFn=Se)}(u),[D]:u},u.ref}(E=>this.runEffect(E),()=>this.schedule(),g),this.unregisterOnDestroy=h?.onDestroy(()=>this.destroy())}runEffect(s){try{this.effectFn(s)}catch(l){this.injector.get(Ia,null,{optional:!0})?.handleError(l)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Kf(o,s){Io("NgSignals"),!s?.injector&&Dm();const l=s?.injector??an(Lr),u=!0!==s?.manualCleanup?l.get(qm):null,h=new Qs(l.get(GT),o,typeof Zone>"u"?null:Zone.current,u,l,s?.allowSignalWrites??!1),m=l.get(N1,null,{optional:!0});return m&&8&m._lView[b]?(m._lView[co]??=[]).push(h.watcher.notify):h.watcher.notify(),h}function fR(o){const s=Bn(o);if(!s)return null;const l=new yp(s);return{get selector(){return l.selector},get type(){return l.componentType},get inputs(){return l.inputs},get outputs(){return l.outputs},get ngContentSelectors(){return l.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},9556:(Bt,et,P)=>{"use strict";P.d(et,{p4:()=>J});class J{ttl;map=new Map;_to=!1;constructor(D){this.ttl=D}has(D){return this.map.has(D)}add(D){this.map.set(D,pe()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,function ne(ae){const D=pe()-ae.ttl,a=ae.map[Symbol.iterator]();for(;;){const Ce=a.next().value;if(!Ce)return;if(!(Ce[1]<D))return;ae.map.delete(Ce[0])}}(this)},0))}clear(){this.map.clear()}}function pe(){return Date.now()}},9825:(Bt,et,P)=>{"use strict";P.d(et,{K:()=>Ce,X:()=>Be});var J=P(6126),ne=P(5520),pe=P(9403),ae=P(6434),D=P(6568),a=P(3896),Ce=function(){function oe(Re,ke,ge){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry="function"==typeof FinalizationRegistry?new FinalizationRegistry(Fe=>{var De=Fe.docId,Ae=this.cacheItemByDocId.get(De);Ae&&(Ae[0].delete(Fe.revisionHeight),0===Ae[0].size&&this.cacheItemByDocId.delete(De))}):void 0,this.primaryPath=Re,this.changes$=ke,this.documentCreator=ge,ke.subscribe(Fe=>{this.tasks.add(()=>{for(var De=this.cacheItemByDocId,Ae=0;Ae<Fe.length;Ae++){var We=Fe[Ae],Ie=De.get(We.documentId);if(Ie){var st=We.documentData;st||(st=We.previousDocumentData),Ie[1]=st}}}),this.tasks.size<=1&&(0,ne.vN)().then(()=>{this.processTasks()})})}var ze=oe.prototype;return ze.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(ge=>ge()),this.tasks.clear())},ze.getLatestDocumentData=function(ke){return this.processTasks(),(0,pe.m)(this.cacheItemByDocId,ke)[1]},ze.getLatestDocumentDataIfExists=function(ke){this.processTasks();var ge=this.cacheItemByDocId.get(ke);if(ge)return ge[1]},(0,J.A)(oe,[{key:"getCachedRxDocuments",get:function(){var Re=lt(this);return(0,ae.Ns)(this,"getCachedRxDocuments",Re)}},{key:"getCachedRxDocument",get:function(){var Re=lt(this);return(0,ae.Ns)(this,"getCachedRxDocument",ke=>Re([ke])[0])}}])}();function lt(oe){var ze=oe.primaryPath,Re=oe.cacheItemByDocId,ke=oe.registry,ge=a.h.deepFreezeWhenDevMode,Fe=oe.documentCreator;return Ae=>{for(var We=new Array(Ae.length),Ie=[],st=0;st<Ae.length;st++){var Qe=Ae[st],_e=Qe[ze],ue=(0,D.Wg)(Qe._rev),Q=void 0,pt=void 0,Ct=Re.get(_e);Ct?pt=(Q=Ct[0]).get(ue):Re.set(_e,Ct=[Q=new Map,Qe]);var At=pt?pt.deref():void 0;At||(Qe=ge(Qe),At=Fe(Qe),Q.set(ue,Y(At)),ke&&Ie.push(At)),We[st]=At}return Ie.length>0&&ke&&(oe.tasks.add(()=>{for(var un=0;un<Ie.length;un++){var tn=Ie[un];ke.register(tn,{docId:tn.primary,revisionHeight:(0,D.Wg)(tn.revision)})}}),oe.tasks.size<=1&&(0,ne.vN)().then(()=>{oe.processTasks()})),We}}function Be(oe,ze){return(0,oe.getCachedRxDocuments)(ze)}var Y="function"==typeof WeakRef?function Me(oe){return new WeakRef(oe)}:function Ne(oe){return{deref:()=>oe}}},2284:(Bt,et,P)=>{"use strict";P.d(et,{FX:()=>pe,Xi:()=>ne,r:()=>J});var J={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function ne(D,a){J[D].length>0&&J[D].forEach(Ce=>Ce(a))}function pe(D,a){return Promise.all(J[D].map(Ce=>Ce(a)))}},6706:(Bt,et,P)=>{"use strict";P.d(et,{Hl:()=>Ue,N6:()=>Be});var J=P(467),ne=P(7650),pe=P(9403),ae=P(8663),D=P(6434),a=P(2060),Ce=P(6568),lt=P(6893),Be=function(){function Me(oe,ze,Re,ke){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=oe,this.primaryPath=ze,this.preWrite=Re,this.postWrite=ke}var Ne=Me.prototype;return Ne.addWrite=function(ze,Re){var ge=(0,pe.q)(this.queueByDocId,ze[this.primaryPath],()=>[]);return new Promise((De,Ae)=>{var We={lastKnownDocumentState:ze,modifier:Re,resolve:De,reject:Ae};(0,ae.ZN)(ge).push(We),this.triggerRun()})},Ne.triggerRun=function(){var oe=(0,J.A)(function*(){var Re=this;if(!0!==this.isRunning&&0!==this.queueByDocId.size){this.isRunning=!0;var ke=[],ge=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(ge.entries()).map(function(){var De=(0,J.A)(function*([Ae,We]){var Ie=function Y(Me){var Ne=Me[0],oe=(0,Ce.Wg)(Ne._rev);return Me.forEach(ze=>{var Re=(0,Ce.Wg)(ze._rev);Re>oe&&(Ne=ze,oe=Re)}),Ne}(We.map(_e=>_e.lastKnownDocumentState)),st=Ie;for(var Qe of We)try{st=yield Qe.modifier((0,D.o8)(st))}catch(_e){Qe.reject(_e),Qe.reject=()=>{},Qe.resolve=()=>{}}try{yield Re.preWrite(st,Ie)}catch(_e){return void We.forEach(ue=>ue.reject(_e))}ke.push({previous:Ie,document:st})});return function(Ae){return De.apply(this,arguments)}}()));var Fe=ke.length>0?yield this.storageInstance.bulkWrite(ke,"incremental-write"):{error:[]};return yield Promise.all((0,lt.YN)(this.primaryPath,ke,Fe).map(De=>{var Ae=De[this.primaryPath];this.postWrite(De),(0,pe.m)(ge,Ae).forEach(Ie=>Ie.resolve(De))})),Fe.error.forEach(De=>{var Ae=De.documentId,We=(0,pe.m)(ge,Ae),Ie=(0,ne.sX)(De);if(Ie){var st=(0,pe.q)(this.queueByDocId,Ae,()=>[]);We.reverse().forEach(_e=>{_e.lastKnownDocumentState=(0,ae.ZN)(Ie.documentInDb),(0,ae.ZN)(st).unshift(_e)})}else{var Qe=(0,ne.cg)(De);We.forEach(_e=>_e.reject(Qe))}}),this.isRunning=!1,this.triggerRun()}});return function ze(){return oe.apply(this,arguments)}}(),Me}();function Ue(Me){var Ne=function(){var oe=(0,J.A)(function*(ze){var Re=(0,a.Xz)(ze);Re._deleted=ze._deleted;var ke=yield Me(Re),ge=Object.assign({},ke,{_meta:ze._meta,_attachments:ze._attachments,_rev:ze._rev,_deleted:typeof ke._deleted<"u"?ke._deleted:ze._deleted});return typeof ge._deleted>"u"&&(ge._deleted=!1),ge});return function(Re){return oe.apply(this,arguments)}}();return Ne}},3896:(Bt,et,P)=>{"use strict";P.d(et,{h:()=>J});var J={isDevMode:()=>!1,deepFreezeWhenDevMode:ne=>ne,tunnelErrorMessage:ne=>"RxDB Error-Code "+ne+".\n        Error messages are not included in RxDB core to reduce build size.\n        "}},7176:(Bt,et,P)=>{"use strict";P.d(et,{$r:()=>D,Aj:()=>a,Hb:()=>Re,S7:()=>Ue,Sd:()=>Y,dG:()=>ne,j7:()=>Me,jw:()=>ke,k_:()=>lt});var J=P(467);function ne(ge){return ge[ge.length-1]}function D(ge){return Array.isArray(ge)?ge.slice(0):[ge]}function a(ge,Fe){ge=ge.slice(0);for(var De=[];ge.length;){var Ae=ge.splice(0,Fe);De.push(Ae)}return De}function lt(ge){return Array.isArray(ge)}function Ue(ge){return null!=ge}function Y(ge,Fe){var De=0,Ae=-1;for(var We of ge){if(!Fe(We,Ae+=1))break;De+=1}return De}function Me(ge,Fe){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,J.A)(function*(ge,Fe){var De=yield Promise.all(ge.map(Fe));return ge.filter((...[,Ae])=>De[Ae])})).apply(this,arguments)}function Re(ge,Fe){var De=Fe.length;if(0!==De){var Ae=ge.length;ge.length=Ae+Fe.length;for(var We=0;We<De;++We)ge[Ae+We]=Fe[We]}}function ke(ge){return ge.filter(function(Fe,De,Ae){return Ae.indexOf(Fe)===De})}},2060:(Bt,et,P)=>{"use strict";P.d(et,{Fq:()=>pe,MC:()=>J,Xz:()=>ae,YL:()=>D,o4:()=>ne});var J=1;function ne(){return{lwt:J}}function pe(){return""}function ae(Be){return Object.assign({},Be,{_meta:void 0,_deleted:void 0,_rev:void 0})}function D(Be,Ue,Y){if(Ue.length!==Y.length)return!1;for(var Me=0,Ne=Ue.length;Me<Ne;){var oe=Ue[Me],ze=Y[Me];if(Me++,oe._rev!==ze._rev||oe[Be]!==ze[Be])return!1}return!0}},203:(Bt,et,P)=>{"use strict";P.d(et,{S:()=>pe,u:()=>ne});var J=P(720);function ne(ae){var D=ae.split("-"),a="RxDB";return D.forEach(Ce=>{a+=(0,J.Z2)(Ce)}),a+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+a+" } from 'rxdb/plugins/"+ae+"';\n            addRxPlugin("+a+");\n        ")}function pe(ae){return{name:ae.name,message:ae.message,rxdb:ae.rxdb,parameters:ae.parameters,extensions:ae.extensions,code:ae.code,url:ae.url,stack:ae.stack?ae.stack.replace(/\n/g," \n "):void 0}}},7014:(Bt,et,P)=>{"use strict";P.d(et,{P:()=>J,Y:()=>ne});var J={},ne="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93"},6243:(Bt,et,P)=>{"use strict";P.d(et,{V0:()=>Rn});var J=P(467);Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0}),Object.freeze(["prototype","__proto__","constructor"]);class Be{constructor(be,W){be=this.words=be||[],this.sigBytes=void 0===W?4*be.length:W}toString(be){return(be||Ue).stringify(this)}concat(be){if(this.clamp(),this.sigBytes%4)for(let W=0;W<be.sigBytes;W++)this.words[this.sigBytes+W>>>2]|=(be.words[W>>>2]>>>24-W%4*8&255)<<24-(this.sigBytes+W)%4*8;else for(let W=0;W<be.sigBytes;W+=4)this.words[this.sigBytes+W>>>2]=be.words[W>>>2];return this.sigBytes+=be.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Be([...this.words])}}const Ue={stringify(se){const be=[];for(let W=0;W<se.sigBytes;W++){const B=se.words[W>>>2]>>>24-W%4*8&255;be.push((B>>>4).toString(16),(15&B).toString(16))}return be.join("")}},Me={parse(se){const be=se.length,W=[];for(let B=0;B<be;B++)W[B>>>2]|=(255&se.charCodeAt(B))<<24-B%4*8;return new Be(W,be)}},Ne_parse=se=>Me.parse(unescape(encodeURIComponent(se)));class oe{constructor(){this._data=new Be,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=16}reset(){this._data=new Be,this._nDataBytes=0}_append(be){"string"==typeof be&&(be=Ne_parse(be)),this._data.concat(be),this._nDataBytes+=be.sigBytes}_doProcessBlock(be,W){}_process(be){let W,B=this._data.sigBytes/(4*this.blockSize);B=be?Math.ceil(B):Math.max((0|B)-this._minBufferSize,0);const H=B*this.blockSize,X=Math.min(4*H,this._data.sigBytes);if(H){for(let Z=0;Z<H;Z+=this.blockSize)this._doProcessBlock(this._data.words,Z);W=this._data.words.splice(0,H),this._data.sigBytes-=X}return new Be(W,X)}}class ze extends oe{update(be){return this._append(be),this._process(),this}finalize(be){be&&this._append(be)}}const Re=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ke=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ge=[];class Fe extends ze{constructor(){super(...arguments),this._hash=new Be([...Re])}reset(){super.reset(),this._hash=new Be([...Re])}_doProcessBlock(be,W){const B=this._hash.words;let H=B[0],X=B[1],Z=B[2],re=B[3],ce=B[4],Se=B[5],It=B[6],Lt=B[7];for(let Rt=0;Rt<64;Rt++){if(Rt<16)ge[Rt]=0|be[W+Rt];else{const on=ge[Rt-15],Tn=ge[Rt-2];ge[Rt]=((on<<25|on>>>7)^(on<<14|on>>>18)^on>>>3)+ge[Rt-7]+((Tn<<15|Tn>>>17)^(Tn<<13|Tn>>>19)^Tn>>>10)+ge[Rt-16]}const rn=H&X^H&Z^X&Z,$t=Lt+((ce<<26|ce>>>6)^(ce<<21|ce>>>11)^(ce<<7|ce>>>25))+(ce&Se^~ce&It)+ke[Rt]+ge[Rt];Lt=It,It=Se,Se=ce,ce=re+$t|0,re=Z,Z=X,X=H,H=$t+(((H<<30|H>>>2)^(H<<19|H>>>13)^(H<<10|H>>>22))+rn)|0}B[0]=B[0]+H|0,B[1]=B[1]+X|0,B[2]=B[2]+Z|0,B[3]=B[3]+re|0,B[4]=B[4]+ce|0,B[5]=B[5]+Se|0,B[6]=B[6]+It|0,B[7]=B[7]+Lt|0}finalize(be){super.finalize(be);const W=8*this._nDataBytes,B=8*this._data.sigBytes;return this._data.words[B>>>5]|=128<<24-B%32,this._data.words[14+(B+64>>>9<<4)]=Math.floor(W/4294967296),this._data.words[15+(B+64>>>9<<4)]=W,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function tn(){return(tn=(0,J.A)(function*(se){var be=(new TextEncoder).encode(se),W=yield crypto.subtle.digest("SHA-256",be);return Array.prototype.map.call(new Uint8Array(W),H=>("00"+H.toString(16)).slice(-2)).join("")})).apply(this,arguments)}var Rn=typeof crypto<"u"&&typeof crypto.subtle<"u"&&"function"==typeof crypto.subtle.digest?function un(se){return tn.apply(this,arguments)}:function At(se){return Promise.resolve(function De(se){return(new Fe).finalize(se).toString()}(se))}},9403:(Bt,et,P)=>{"use strict";function J(pe,ae){var D=pe.get(ae);if(typeof D>"u")throw new Error("missing value from map "+ae);return D}function ne(pe,ae,D,a){var Ce=pe.get(ae);return typeof Ce>"u"?(Ce=D(),pe.set(ae,Ce)):a&&a(Ce),Ce}P.d(et,{m:()=>J,q:()=>ne})},6636:(Bt,et,P)=>{"use strict";function J(ne,pe){if(ne===pe)return!0;if(ne&&pe&&"object"==typeof ne&&"object"==typeof pe){if(ne.constructor!==pe.constructor)return!1;var ae,D;if(Array.isArray(ne)){if((ae=ne.length)!==pe.length)return!1;for(D=ae;0!=D--;)if(!J(ne[D],pe[D]))return!1;return!0}if(ne.constructor===RegExp)return ne.source===pe.source&&ne.flags===pe.flags;if(ne.valueOf!==Object.prototype.valueOf)return ne.valueOf()===pe.valueOf();if(ne.toString!==Object.prototype.toString)return ne.toString()===pe.toString();var a=Object.keys(ne);if((ae=a.length)!==Object.keys(pe).length)return!1;for(D=ae;0!=D--;)if(!Object.prototype.hasOwnProperty.call(pe,a[D]))return!1;for(D=ae;0!=D--;){var Ce=a[D];if(!J(ne[Ce],pe[Ce]))return!1}return!0}return ne!=ne&&pe!=pe}P.d(et,{b:()=>J})},1744:(Bt,et,P)=>{"use strict";P.d(et,{UU:()=>Ce,oq:()=>lt});var J=Re=>{var ke=typeof Re;return null!==Re&&("object"===ke||"function"===ke)},ne=new Set(["__proto__","prototype","constructor"]),pe=new Set("0123456789");function ae(Re){var ke=[],ge="",Fe="start",De=!1;for(var Ae of Re)switch(Ae){case"\\":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");De&&(ge+=Ae),Fe="property",De=!De;break;case".":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="property";break}if(De){De=!1,ge+=Ae;break}if(ne.has(ge))return[];ke.push(ge),ge="",Fe="property";break;case"[":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="index";break}if(De){De=!1,ge+=Ae;break}if("property"===Fe){if(ne.has(ge))return[];ke.push(ge),ge=""}Fe="index";break;case"]":if("index"===Fe){ke.push(Number.parseInt(ge,10)),ge="",Fe="indexEnd";break}if("indexEnd"===Fe)throw new Error("Invalid character after an index");default:if("index"===Fe&&!pe.has(Ae))throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");"start"===Fe&&(Fe="property"),De&&(De=!1,ge+="\\"),ge+=Ae}switch(De&&(ge+="\\"),Fe){case"property":if(ne.has(ge))return[];ke.push(ge);break;case"index":throw new Error("Index was not closed");case"start":ke.push("")}return ke}function D(Re,ke){if("number"!=typeof ke&&Array.isArray(Re)){var ge=Number.parseInt(ke,10);return Number.isInteger(ge)&&Re[ge]===Re[ke]}return!1}function a(Re,ke){if(D(Re,ke))throw new Error("Cannot use string index")}function Ce(Re,ke,ge){if(Array.isArray(ke)&&(ke=ke.join(".")),!ke.includes(".")&&!ke.includes("["))return Re[ke];if(!J(Re)||"string"!=typeof ke)return void 0===ge?Re:ge;var Fe=ae(ke);if(0===Fe.length)return ge;for(var De=0;De<Fe.length;De++){var Ae=Fe[De];if(null==(Re=D(Re,Ae)?De===Fe.length-1?void 0:null:Re[Ae])){if(De!==Fe.length-1)return ge;break}}return void 0===Re?ge:Re}function lt(Re,ke,ge){if(Array.isArray(ke)&&(ke=ke.join(".")),!J(Re)||"string"!=typeof ke)return Re;for(var Fe=Re,De=ae(ke),Ae=0;Ae<De.length;Ae++){var We=De[Ae];a(Re,We),Ae===De.length-1?Re[We]=ge:J(Re[We])||(Re[We]="number"==typeof De[Ae+1]?[]:{}),Re=Re[We]}return Fe}},6434:(Bt,et,P)=>{"use strict";function J(Ne){return Object.freeze(Ne),Object.getOwnPropertyNames(Ne).forEach(function(oe){Object.prototype.hasOwnProperty.call(Ne,oe)&&null!==Ne[oe]&&("object"==typeof Ne[oe]||"function"==typeof Ne[oe])&&!Object.isFrozen(Ne[oe])&&J(Ne[oe])}),Ne}function ne(Ne){var oe=Ne.split("."),ze=oe.length;return 1===ze?Re=>Re[Ne]:Re=>{for(var ke=Re,ge=0;ge<ze;++ge)if(typeof(ke=ke[oe[ge]])>"u")return ke;return ke}}function ae(Ne){var oe={};for(var ze in Ne)if(Object.prototype.hasOwnProperty.call(Ne,ze))if("object"==typeof Ne[ze]){var Re=ae(Ne[ze]);for(var ke in Re)Object.prototype.hasOwnProperty.call(Re,ke)&&(oe[ze+"."+ke]=Re[ke])}else oe[ze]=Ne[ze];return oe}function D(Ne){return Object.assign({},Ne)}function a(Ne){return Object.keys(Ne)[0]}function lt(Ne,oe=!1){if(!Ne)return Ne;if(!oe&&Array.isArray(Ne))return Ne.sort((Re,ke)=>"string"==typeof Re&&"string"==typeof ke?Re.localeCompare(ke):"object"==typeof Re?1:-1).map(Re=>lt(Re,oe));if("object"==typeof Ne&&!Array.isArray(Ne)){var ze={};return Object.keys(Ne).sort((Re,ke)=>Re.localeCompare(ke)).forEach(Re=>{ze[Re]=lt(Ne[Re],oe)}),ze}return Ne}P.d(et,{FD:()=>D,Ln:()=>a,Ns:()=>Y,SQ:()=>ne,YO:()=>ae,mf:()=>lt,o8:()=>Ue,ol:()=>J});var Ue=function Be(Ne){if(!Ne||null===Ne||"object"!=typeof Ne)return Ne;if(Array.isArray(Ne)){for(var oe=new Array(Ne.length),ze=oe.length;ze--;)oe[ze]=Be(Ne[ze]);return oe}var Re={};for(var ke in Ne)Re[ke]=Be(Ne[ke]);return Re};function Y(Ne,oe,ze){return Object.defineProperty(Ne,oe,{get:function(){return ze}}),ze}},8663:(Bt,et,P)=>{"use strict";function ne(D,a){if(!D)throw a||(a=""),new Error("ensureNotFalsy() is falsy: "+a);return D}P.d(et,{ZN:()=>ne,bz:()=>ae});var ae={bufferSize:1,refCount:!0}},5520:(Bt,et,P)=>{"use strict";function J(){return new Promise(oe=>setTimeout(oe,0))}function pe(oe){return oe&&"function"==typeof oe.then?oe:Promise.resolve(oe)}P.d(et,{$A:()=>Ce,Dr:()=>a,Ms:()=>D,Ve:()=>Y,dY:()=>J,em:()=>lt,h$:()=>Ne,hq:()=>pe,vN:()=>Be});var D=Promise.resolve(!0),a=Promise.resolve(!1),Ce=Promise.resolve(null),lt=Promise.resolve();function Be(oe=1e4){return"function"==typeof requestIdleCallback?new Promise(ze=>{requestIdleCallback(()=>ze(),{timeout:oe})}):function ne(oe=0){return new Promise(ze=>setTimeout(ze,oe))}(0)}var Ue=lt;function Y(oe=void 0){return Ue=Ue.then(()=>Be(oe))}function Ne(oe,ze){return oe.reduce((Re,ke)=>Re.then(ke),Promise.resolve(ze))}},6568:(Bt,et,P)=>{"use strict";function ne(ae){for(var D="",a=0;a<ae.length;a++){var Ce=ae[a];if("-"===Ce)return parseInt(D,10);D+=Ce}throw new Error("malformatted revision: "+ae)}function pe(ae,D){return(D?ne(D._rev)+1:1)+"-"+ae}P.d(et,{CM:()=>pe,Wg:()=>ne})},6052:(Bt,et,P)=>{"use strict";P.d(et,{o:()=>J});var J="15.28.1"},720:(Bt,et,P)=>{"use strict";P.d(et,{L$:()=>D,Z2:()=>ae,ky:()=>Ce,z3:()=>ne});var J="abcdefghijklmnopqrstuvwxyz";function ne(Y=10){for(var Me="",Ne=0;Ne<Y;Ne++)Me+=J.charAt(Math.floor(Math.random()*J.length));return Me}function ae(Y){return(Y+="").charAt(0).toUpperCase()+Y.substr(1)}function D(Y){for(;"."===Y.charAt(0);)Y=Y.substr(1);for(;"."===Y.slice(-1);)Y=Y.slice(0,-1);return Y}function Ce(Y){return!(!Y.includes("/")&&!Y.includes("\\"))}},4552:(Bt,et,P)=>{"use strict";P.d(et,{t:()=>ne});var J=0;function ne(){var pe=Date.now();(pe+=.01)<=J&&(pe=J+.01);var ae=parseFloat(pe.toFixed(2));return J=ae,ae}},6259:(Bt,et,P)=>{"use strict";P.d(et,{Cx:()=>Y,XA:()=>D,n9:()=>Ne});var J=P(9403),ne=P(4552),pe=P(5520),ae=function(){function oe(){this._map=new Map}return oe.prototype.getByQuery=function(ke){var ge=ke.toString();return(0,J.q)(this._map,ge,()=>ke)},oe}();function D(){return new ae}function a(oe,ze){ze.uncached=!0;var Re=ze.toString();oe._map.delete(Re)}function Ce(oe){return oe.refCount$.observers.length}var Y=(100,3e4,(Re,ke)=>{if(!(ke._map.size<100)){var ge=(0,ne.t)()-3e4,Fe=[],De=Array.from(ke._map.values());for(var Ae of De)if(!(Ce(Ae)>0)){if(0===Ae._lastEnsureEqual&&Ae._creationTime<ge){a(ke,Ae);continue}Fe.push(Ae)}var We=Fe.length-100;We<=0||Fe.sort((Qe,_e)=>Qe._lastEnsureEqual-_e._lastEnsureEqual).slice(0,We).forEach(Qe=>a(ke,Qe))}}),Me=new WeakSet;function Ne(oe){Me.has(oe)||(Me.add(oe),(0,pe.dY)().then(()=>(0,pe.Ve)(200)).then(()=>{oe.destroyed||oe.cacheReplacementPolicy(oe,oe._queryCache),Me.delete(oe)}))}},997:(Bt,et,P)=>{"use strict";P.d(et,{Cf:()=>Ce,OK:()=>D,g0:()=>ae,sk:()=>a});var J=P(7176),ne=P(7650),pe=P(1885),ae="\uffff",D=Number.MIN_SAFE_INTEGER;function a(Ne,oe){var ze=oe.selector,Re=Ne.indexes?Ne.indexes.slice(0):[];oe.index&&(Re=[oe.index]);var ke=!!oe.sort.find(Ie=>"desc"===Object.values(Ie)[0]),ge=new Set;Object.keys(ze).forEach(Ie=>{var st=(0,pe.nT)(Ne,Ie);st&&"boolean"===st.type&&Object.prototype.hasOwnProperty.call(ze[Ie],"$eq")&&ge.add(Ie)});var We,De=oe.sort.map(Ie=>Object.keys(Ie)[0]).filter(Ie=>!ge.has(Ie)).join(","),Ae=-1;if(Re.forEach(Ie=>{var st=!0,Qe=!0,_e=Ie.map(At=>{var un=ze[At],tn=un?Object.keys(un):[],mn={};return un&&tn.length?tn.forEach(Ge=>{if(Ce.has(Ge)){var be=function Y(Ne,oe){switch(Ne){case"$eq":return{startKey:oe,endKey:oe,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:oe,inclusiveEnd:!0};case"$gte":return{startKey:oe,inclusiveStart:!0};case"$lt":return{endKey:oe,inclusiveEnd:!1};case"$gt":return{startKey:oe,inclusiveStart:!1};default:throw new Error("SNH")}}(Ge,un[Ge]);mn=Object.assign(mn,be)}}):mn={startKey:Qe?D:ae,endKey:st?ae:D,inclusiveStart:!0,inclusiveEnd:!0},typeof mn.startKey>"u"&&(mn.startKey=D),typeof mn.endKey>"u"&&(mn.endKey=ae),typeof mn.inclusiveStart>"u"&&(mn.inclusiveStart=!0),typeof mn.inclusiveEnd>"u"&&(mn.inclusiveEnd=!0),Qe&&!mn.inclusiveStart&&(Qe=!1),st&&!mn.inclusiveEnd&&(st=!1),mn}),ue=_e.map(At=>At.startKey),Q=_e.map(At=>At.endKey),pt={index:Ie,startKeys:ue,endKeys:Q,inclusiveEnd:st,inclusiveStart:Qe,sortSatisfiedByIndex:!ke&&De===Ie.filter(At=>!ge.has(At)).join(","),selectorSatisfiedByIndex:Ue(Ie,oe.selector,ue,Q)},Ct=function Me(Ne,oe,ze){var Re=0,ke=Ie=>{Ie>0&&(Re+=Ie)},Fe=(0,J.Sd)(ze.startKeys,Ie=>Ie!==D&&Ie!==ae);ke(10*Fe);var De=(0,J.Sd)(ze.startKeys,Ie=>Ie!==ae&&Ie!==D);ke(10*De);var Ae=(0,J.Sd)(ze.startKeys,(Ie,st)=>Ie===ze.endKeys[st]);return ke(10*Ae*1.5),ke(ze.sortSatisfiedByIndex?5:0),Re}(0,0,pt);(Ct>=Ae||oe.index)&&(Ae=Ct,We=pt)}),!We)throw(0,ne.Br)("SNH",{query:oe});return We}var Ce=new Set(["$eq","$gt","$gte","$lt","$lte"]),lt=new Set(["$eq","$gt","$gte"]),Be=new Set(["$eq","$lt","$lte"]);function Ue(Ne,oe,ze,Re){if(Object.entries(oe).find(([Ge,se])=>!Ne.includes(Ge)||Object.entries(se).find(([W,B])=>!Ce.has(W)))||oe.$and||oe.$or)return!1;var Fe=[],De=new Set;for(var[Ae,We]of Object.entries(oe)){if(!Ne.includes(Ae))return!1;var Ie=Object.keys(We).filter(Ge=>lt.has(Ge));if(Ie.length>1)return!1;var st=Ie[0];if(st&&De.add(Ae),"$eq"!==st){if(Fe.length>0)return!1;Fe.push(st)}}var Qe=[],_e=new Set;for(var[ue,Q]of Object.entries(oe)){if(!Ne.includes(ue))return!1;var pt=Object.keys(Q).filter(Ge=>Be.has(Ge));if(pt.length>1)return!1;var Ct=pt[0];if(Ct&&_e.add(ue),"$eq"!==Ct){if(Qe.length>0)return!1;Qe.push(Ct)}}var At=0;for(var un of Ne){for(var tn of[De,_e]){if(!tn.has(un)&&tn.size>0)return!1;tn.delete(un)}if(ze[At]!==Re[At]&&De.size>0&&_e.size>0)return!1;At++}return!0}},327:(Bt,et,P)=>{"use strict";P.d(et,{a:()=>lt,r:()=>Be});var J=P(467),ne=P(6636),pe=P(6434),ae=P(2060),D=P(4552),a=P(6568),Ce=P(6893),lt=function(Y,Me){var Ne=(0,Ce.on)(Y.newDocumentState),oe=(0,Ce.on)(Y.realMasterState);return(0,ne.b)(Ne,oe)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:Y.realMasterState})};function Be(Y,Me,Ne){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,J.A)(function*(Y,Me,Ne){var oe=Y.input.conflictHandler,ze=yield oe(Me,"replication-resolve-conflict");if(!ze.isEqual){var Re=Object.assign({},ze.documentData,{_meta:(0,pe.FD)(Ne._meta),_rev:(0,ae.Fq)(),_attachments:(0,pe.FD)(Ne._attachments)});return Re._meta.lwt=(0,D.t)(),Re._rev=(0,a.CM)(yield Y.checkpointKey,Ne),{resolvedDoc:Re,output:ze}}})).apply(this,arguments)}},312:(Bt,et,P)=>{"use strict";P.d(et,{_r:()=>pe,vk:()=>ne});var J=P(3896);function ne(D){return D.documentData?D.documentData:D.previousDocumentData}function pe(D){switch(D.operation){case"INSERT":return{operation:D.operation,id:D.documentId,doc:D.documentData,previous:null};case"UPDATE":return{operation:D.operation,id:D.documentId,doc:J.h.deepFreezeWhenDevMode(D.documentData),previous:D.previousDocumentData?D.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:D.operation,id:D.documentId,doc:null,previous:D.previousDocumentData}}}},1318:(Bt,et,P)=>{"use strict";P.d(et,{JY:()=>Me,X3:()=>ke,vK:()=>Ne,vM:()=>ze});var J=P(467),ne=P(6434),pe=P(2060),ae=P(4552),D=P(6568),a=P(1885),Ce=P(2284),lt=P(2104),Be=P(6893),Ue=P(3896),Y=P(7650);function Me(ge,Fe){return Fe=(0,ne.FD)(Fe),Fe=(0,a.pA)(ge,Fe),"string"!=typeof ge.jsonSchema.primaryKey&&(Fe=(0,a.Nq)(ge.primaryPath,ge.jsonSchema,Fe)),Fe._meta=(0,pe.o4)(),Object.prototype.hasOwnProperty.call(Fe,"_deleted")||(Fe._deleted=!1),Object.prototype.hasOwnProperty.call(Fe,"_attachments")||(Fe._attachments={}),Object.prototype.hasOwnProperty.call(Fe,"_rev")||(Fe._rev=(0,pe.Fq)()),Fe}function Ne(ge,Fe){return oe.apply(this,arguments)}function oe(){return(oe=(0,J.A)(function*(ge,Fe){return Fe.multiInstance=ge.multiInstance,yield ge.storage.createStorageInstance(Fe)})).apply(this,arguments)}function ze(ge,Fe,De,Ae,We,Ie,st){return Re.apply(this,arguments)}function Re(){return Re=(0,J.A)(function*(ge,Fe,De,Ae,We,Ie,st){var _e=(yield(0,lt.WY)(Fe)).filter(Ct=>Ct.data.name===We),ue=[];_e.forEach(Ct=>{ue.push({collectionName:Ct.data.name,schema:Ct.data.schema,isCollection:!0}),Ct.data.connectedStorages.forEach(At=>ue.push({collectionName:At.collectionName,isCollection:!1,schema:At.schema}))});var Q=new Set;if(ue=ue.filter(Ct=>{var At=Ct.collectionName+"||"+Ct.schema.version;return!Q.has(At)&&(Q.add(At),!0)}),yield Promise.all(ue.map(function(){var Ct=(0,J.A)(function*(At){var un=yield ge.createStorageInstance({collectionName:At.collectionName,databaseInstanceToken:De,databaseName:Ae,multiInstance:!1,options:{},schema:At.schema,password:Ie,devMode:Ue.h.isDevMode()});yield un.remove(),At.isCollection&&(yield(0,Ce.FX)("postRemoveRxCollection",{storage:ge,databaseName:Ae,collectionName:We}))});return function(At){return Ct.apply(this,arguments)}}())),st){var pt=_e.map(Ct=>{var At=(0,Be.C9)(Ct);return At._deleted=!0,At._meta.lwt=(0,ae.t)(),At._rev=(0,D.CM)(De,Ct),{previous:Ct,document:At}});yield Fe.bulkWrite(pt,"rx-database-remove-collection-all")}}),Re.apply(this,arguments)}function ke(ge){if(ge.destroyed)throw(0,Y.Br)("COL21",{collection:ge.name,version:ge.schema.version})}},4395:(Bt,et,P)=>{"use strict";P.d(et,{wm:()=>mn,dN:()=>be});var J=P(467),ne=P(6126),pe=P(5964),ae=P(1397),D=P(6354),a=P(5520),Ce=P(203),lt=P(8663),Be=P(6434),Ue=P(9403),Y=P(720),Me=P(1318),Ne=P(5672),oe=P(7650),ze=P(9825),Re=P(6259),ke=P(7176),ge=function(){function B(X){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=X,this.subs.push(this.collection.database.eventBulks$.pipe((0,pe.p)(Z=>Z.collectionName===this.collection.name),(0,pe.p)(Z=>!Z.events[0].isLocal)).subscribe(Z=>{this.tasks.add(()=>this._handleChangeEvents(Z.events)),this.tasks.size<=1&&(0,a.vN)().then(()=>{this.processTasks()})}))}var H=B.prototype;return H.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(re=>re()),this.tasks.clear())},H._handleChangeEvents=function(Z){var re=this.counter;this.counter=this.counter+Z.length,Z.length>this.limit?this.buffer=Z.slice(-1*Z.length):((0,ke.Hb)(this.buffer,Z),this.buffer=this.buffer.slice(-1*this.limit));for(var ce=re+1,Se=this.eventCounterMap,It=0;It<Z.length;It++)Se.set(Z[It],ce+It)},H.getCounter=function(){return this.processTasks(),this.counter},H.getBuffer=function(){return this.processTasks(),this.buffer},H.getArrayIndexByPointer=function(Z){this.processTasks();var ce=this.eventCounterMap.get(this.buffer[0]);return Z<ce?null:Z-ce},H.getFrom=function(Z){this.processTasks();var re=[],ce=this.getArrayIndexByPointer(Z);if(null===ce)return null;for(;;){var Se=this.buffer[ce];if(ce++,!Se)return re;re.push(Se)}},H.runFrom=function(Z,re){this.processTasks();var ce=this.getFrom(Z);if(null===ce)throw new Error("out of bounds");ce.forEach(Se=>re(Se))},H.reduceByLastOfDoc=function(Z){return this.processTasks(),Z.slice(0)},H.destroy=function(){this.tasks.clear(),this.subs.forEach(Z=>Z.unsubscribe())},B}(),De=P(2284),Ae=P(5908),We=P(3896),Ie=new WeakMap;var Q=P(6893),pt=P(327),Ct=P(6706),At=["pre","post"],un=["insert","save","remove","create"],tn=!1,mn=function(){function B(X,Z,re,ce,Se={},It={},Lt={},Rt={},Ut={},rn=Re.Cx,sn={},ln=pt.a){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=(0,Re.XA)(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=X,this.name=Z,this.schema=re,this.internalStorageInstance=ce,this.instanceCreationOptions=Se,this.migrationStrategies=It,this.methods=Lt,this.attachments=Rt,this.options=Ut,this.cacheReplacementPolicy=rn,this.statics=sn,this.conflictHandler=ln,function Rn(B){if(!tn){tn=!0;var H=Object.getPrototypeOf(B);un.forEach(X=>{At.map(Z=>{var re=Z+(0,Y.Z2)(X);H[re]=function(ce,Se){return this.addHook(Z,X,ce,Se)}})})}}(this.asRxCollection)}var H=B.prototype;return H.prepare=function(){var X=(0,J.A)(function*(){var re=this;this.storageInstance=(0,Q.AM)(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Ct.N6(this.storageInstance,this.schema.primaryPath,(Ut,rn)=>(0,Ae.Lt)(this,Ut,rn),Ut=>this._runHooks("post","save",Ut));var Se,ce=this.database.eventBulks$.pipe((0,pe.p)(Ut=>Ut.collectionName===this.name));this.$=ce.pipe((0,ae.Z)(Ut=>Ut.events)),this.checkpoint$=ce.pipe((0,D.T)(Ut=>Ut.checkpoint)),this._changeEventBuffer=function Fe(B){return new ge(B)}(this.asRxCollection),this._docCache=new ze.K(this.schema.primaryPath,this.database.eventBulks$.pipe((0,pe.p)(Ut=>Ut.collectionName===this.name&&!Ut.events[0].isLocal),(0,D.T)(Ut=>Ut.events)),Ut=>(Se||(Se=function Qe(B){return(0,Ue.q)(Ie,B,()=>(0,Ae.cM)(function st(B){var H=B.schema.getDocumentPrototype(),X=function ue(B){var H={};return Object.entries(B.methods).forEach(([X,Z])=>{H[X]=Z}),H}(B),re={};return[H,X,Ae.ky].forEach(ce=>{Object.getOwnPropertyNames(ce).forEach(It=>{var Lt=Object.getOwnPropertyDescriptor(ce,It),Rt=!0;(It.startsWith("_")||It.endsWith("_")||It.startsWith("$")||It.endsWith("$"))&&(Rt=!1),"function"==typeof Lt.value?Object.defineProperty(re,It,{get(){return Lt.value.bind(this)},enumerable:Rt,configurable:!1}):(Lt.enumerable=Rt,Lt.configurable=!1,Lt.writable&&(Lt.writable=!1),Object.defineProperty(re,It,Lt))})}),re}(B)))}(this.asRxCollection)),function _e(B,H,X){var Z=(0,Ae.Zb)(H,B,We.h.deepFreezeWhenDevMode(X));return B._runHooksSync("post","create",X,Z),(0,De.Xi)("postCreateRxDocument",Z),Z}(this.asRxCollection,Se,Ut)));var It=this.database.internalStore.changeStream().pipe((0,pe.p)(Ut=>{var rn=this.name+"-"+this.schema.version;return!!Ut.events.find(ln=>"collection"===ln.documentData.context&&ln.documentData.key===rn&&"DELETE"===ln.operation)})).subscribe((0,J.A)(function*(){yield re.destroy(),yield Promise.all(re.onRemove.map(Ut=>Ut()))}));this._subs.push(It);var Lt=yield this.database.storageToken,Rt=this.storageInstance.changeStream().subscribe(Ut=>{for(var rn=new Array(Ut.events.length),sn=Ut.events,ln=this.name,$t=We.h.deepFreezeWhenDevMode,hn=0;hn<sn.length;hn++){var on=sn[hn];rn[hn]={documentId:on.documentId,collectionName:ln,isLocal:!1,operation:on.operation,documentData:$t(on.documentData),previousDocumentData:$t(on.previousDocumentData)}}this.database.$emit({id:Ut.id,internal:!1,collectionName:this.name,storageToken:Lt,events:rn,databaseToken:this.database.token,checkpoint:Ut.checkpoint,context:Ut.context,endTime:Ut.endTime,startTime:Ut.startTime})});return this._subs.push(Rt),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(Ut=>{this.conflictHandler(Ut.input,Ut.context).then(rn=>{this.storageInstance.resolveConflictResultionTask({id:Ut.id,output:rn})})})),a.em});return function Z(){return X.apply(this,arguments)}}(),H.cleanup=function(Z){throw(0,Me.X3)(this),(0,Ce.u)("cleanup")},H.migrationNeeded=function(){throw(0,Ce.u)("migration-schema")},H.getMigrationState=function(){throw(0,Ce.u)("migration-schema")},H.startMigration=function(Z=10){return(0,Me.X3)(this),this.getMigrationState().startMigration(Z)},H.migratePromise=function(Z=10){return this.getMigrationState().migratePromise(Z)},H.insert=function(){var X=(0,J.A)(function*(re){(0,Me.X3)(this);var ce=yield this.bulkInsert([re]);return(0,Q.WX)(this,re[this.schema.primaryPath],re,ce.error[0]),(0,lt.ZN)(ce.success[0])});return function Z(re){return X.apply(this,arguments)}}(),H.bulkInsert=function(){var X=(0,J.A)(function*(re){if((0,Me.X3)(this),0===re.length)return{success:[],error:[]};var Se,ce=this.schema.primaryPath;if(this.hasHooks("pre","insert"))Se=yield Promise.all(re.map(on=>{var Nn=(0,Me.JY)(this.schema,on);return this._runHooks("pre","insert",Nn).then(()=>({document:Nn}))}));else{Se=new Array(re.length);for(var It=this.schema,Lt=0;Lt<re.length;Lt++){var Ut=(0,Me.JY)(It,re[Lt]);Se[Lt]={document:Ut}}}var sn,rn=yield this.storageInstance.bulkWrite(Se,"rx-collection-bulk-insert"),ln=this,$t={get success(){if(!sn){var on=(0,Q.YN)(ln.schema.primaryPath,Se,rn);sn=(0,ze.X)(ln._docCache,on)}return sn},error:rn.error};if(this.hasHooks("post","insert")){var hn=new Map;Se.forEach(on=>{var Nn=on.document;hn.set(Nn[ce],Nn)}),yield Promise.all($t.success.map(on=>this._runHooks("post","insert",hn.get(on.primary),on)))}return $t});return function Z(re){return X.apply(this,arguments)}}(),H.bulkRemove=function(){var X=(0,J.A)(function*(re){(0,Me.X3)(this);var ce=this.schema.primaryPath;if(0===re.length)return{success:[],error:[]};var Se=yield this.findByIds(re).exec(),It=[],Lt=new Map;Array.from(Se.values()).forEach($t=>{var hn=$t.toMutableJSON(!0);It.push(hn),Lt.set($t.primary,hn)}),yield Promise.all(It.map($t=>this._runHooks("pre","remove",$t,Se.get($t[this.schema.primaryPath]))));var Rt=It.map($t=>{var hn=(0,Be.FD)($t);return hn._deleted=!0,{previous:$t,document:hn}}),Ut=yield this.storageInstance.bulkWrite(Rt,"rx-collection-bulk-remove"),sn=(0,Q.YN)(this.schema.primaryPath,Rt,Ut).map($t=>$t[ce]);return yield Promise.all(sn.map($t=>this._runHooks("post","remove",Lt.get($t),Se.get($t)))),{success:sn.map($t=>(0,Ue.m)(Se,$t)),error:Ut.error}});return function Z(re){return X.apply(this,arguments)}}(),H.bulkUpsert=function(){var X=(0,J.A)(function*(re){var ce=this;(0,Me.X3)(this);var Se=[],It=new Map;re.forEach(rn=>{var sn=(0,Me.JY)(this.schema,rn),ln=sn[this.schema.primaryPath];if(!ln)throw(0,oe.Br)("COL3",{primaryPath:this.schema.primaryPath,data:sn,schema:this.schema.jsonSchema});It.set(ln,sn),Se.push(sn)});var Lt=yield this.bulkInsert(Se),Rt=Lt.success.slice(0),Ut=[];return yield Promise.all(Lt.error.map(function(){var rn=(0,J.A)(function*(sn){if(409!==sn.status)Ut.push(sn);else{var $t=(0,Ue.m)(It,sn.documentId),hn=(0,lt.ZN)(sn.documentInDb),on=ce._docCache.getCachedRxDocuments([hn])[0],Nn=yield on.incrementalModify(()=>$t);Rt.push(Nn)}});return function(sn){return rn.apply(this,arguments)}}())),{error:Ut,success:Rt}});return function Z(re){return X.apply(this,arguments)}}(),H.upsert=function(){var X=(0,J.A)(function*(re){(0,Me.X3)(this);var ce=yield this.bulkUpsert([re]);return(0,Q.WX)(this.asRxCollection,re[this.schema.primaryPath],re,ce.error[0]),ce.success[0]});return function Z(re){return X.apply(this,arguments)}}(),H.incrementalUpsert=function(Z){(0,Me.X3)(this);var re=(0,Me.JY)(this.schema,Z),ce=re[this.schema.primaryPath];if(!ce)throw(0,oe.Br)("COL4",{data:Z});var Se=this._incrementalUpsertQueues.get(ce);return Se||(Se=a.em),Se=Se.then(()=>function se(B,H,X){var Z=B._docCache.getLatestDocumentDataIfExists(H);return Z?Promise.resolve({doc:B._docCache.getCachedRxDocuments([Z])[0],inserted:!1}):B.findOne(H).exec().then(re=>re?{doc:re,inserted:!1}:B.insert(X).then(ce=>({doc:ce,inserted:!0})))}(this,ce,re)).then(It=>It.inserted?It.doc:function Ge(B,H){return B.incrementalModify(X=>H)}(It.doc,re)),this._incrementalUpsertQueues.set(ce,Se),Se},H.find=function(Z){if((0,Me.X3)(this),"string"==typeof Z)throw(0,oe.Br)("COL5",{queryObj:Z});return Z||(Z=(0,Ne.XX)()),(0,Ne.nd)("find",Z,this)},H.findOne=function(Z){if((0,Me.X3)(this),"number"==typeof Z||Array.isArray(Z))throw(0,oe.JX)("COL6",{queryObj:Z});var re;if("string"==typeof Z)re=(0,Ne.nd)("findOne",{selector:{[this.schema.primaryPath]:Z},limit:1},this);else{if(Z||(Z=(0,Ne.XX)()),Z.limit)throw(0,oe.Br)("QU6");(Z=(0,Be.FD)(Z)).limit=1,re=(0,Ne.nd)("findOne",Z,this)}return re},H.count=function(Z){return(0,Me.X3)(this),Z||(Z=(0,Ne.XX)()),(0,Ne.nd)("count",Z,this)},H.findByIds=function(Z){(0,Me.X3)(this);var re={selector:{[this.schema.primaryPath]:{$in:Z.slice(0)}}};return(0,Ne.nd)("findByIds",re,this)},H.exportJSON=function(){throw(0,Ce.u)("json-dump")},H.importJSON=function(Z){throw(0,Ce.u)("json-dump")},H.insertCRDT=function(Z){throw(0,Ce.u)("crdt")},H.addHook=function(Z,re,ce,Se=!1){if("function"!=typeof ce)throw(0,oe.JX)("COL7",{key:re,when:Z});if(!At.includes(Z))throw(0,oe.JX)("COL8",{key:re,when:Z});if(!un.includes(re))throw(0,oe.Br)("COL9",{key:re});if("post"===Z&&"create"===re&&!0===Se)throw(0,oe.Br)("COL10",{when:Z,key:re,parallel:Se});var It=ce.bind(this),Lt=Se?"parallel":"series";this.hooks[re]=this.hooks[re]||{},this.hooks[re][Z]=this.hooks[re][Z]||{series:[],parallel:[]},this.hooks[re][Z][Lt].push(It)},H.getHooks=function(Z,re){return this.hooks[re]&&this.hooks[re][Z]?this.hooks[re][Z]:{series:[],parallel:[]}},H.hasHooks=function(Z,re){if(!this.hooks[re]||!this.hooks[re][Z])return!1;var ce=this.getHooks(Z,re);return!!ce&&(ce.series.length>0||ce.parallel.length>0)},H._runHooks=function(Z,re,ce,Se){var It=this.getHooks(Z,re);if(!It)return a.em;var Lt=It.series.map(Rt=>()=>Rt(ce,Se));return(0,a.h$)(Lt).then(()=>Promise.all(It.parallel.map(Rt=>Rt(ce,Se))))},H._runHooksSync=function(Z,re,ce,Se){if(this.hasHooks(Z,re)){var It=this.getHooks(Z,re);It&&It.series.forEach(Lt=>Lt(ce,Se))}},H.promiseWait=function(Z){return new Promise(ce=>{var Se=setTimeout(()=>{this.timeouts.delete(Se),ce()},Z);this.timeouts.add(Se)})},H.destroy=function(){var X=(0,J.A)(function*(){return this.destroyed?a.Dr:(yield Promise.all(this.onDestroy.map(re=>re())),this.destroyed=!0,Array.from(this.timeouts).forEach(re=>clearTimeout(re)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(re=>re.unsubscribe()),delete this.database.collections[this.name],(0,De.FX)("postDestroyRxCollection",this).then(()=>!0))))});return function Z(){return X.apply(this,arguments)}}(),H.remove=function(){var X=(0,J.A)(function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(re=>re())),yield(0,Me.vM)(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)});return function Z(){return X.apply(this,arguments)}}(),(0,ne.A)(B,[{key:"insert$",get:function(){return this.$.pipe((0,pe.p)(X=>"INSERT"===X.operation))}},{key:"update$",get:function(){return this.$.pipe((0,pe.p)(X=>"UPDATE"===X.operation))}},{key:"remove$",get:function(){return this.$.pipe((0,pe.p)(X=>"DELETE"===X.operation))}},{key:"asRxCollection",get:function(){return this}}])}();function be({database:B,name:H,schema:X,instanceCreationOptions:Z={},migrationStrategies:re={},autoMigrate:ce=!0,statics:Se={},methods:It={},attachments:Lt={},options:Rt={},localDocuments:Ut=!1,cacheReplacementPolicy:rn=Re.Cx,conflictHandler:sn=pt.a}){var ln={databaseInstanceToken:B.token,databaseName:B.name,collectionName:H,schema:X.jsonSchema,options:Z,multiInstance:B.multiInstance,password:B.password,devMode:We.h.isDevMode()};return(0,De.Xi)("preCreateRxStorageInstance",ln),(0,Me.vK)(B,ln).then($t=>{var hn=new mn(B,H,X,$t,Z,re,It,Lt,Rt,rn,Se,sn);return hn.prepare().then(()=>{Object.entries(Se).forEach(([Nn,Tn])=>{Object.defineProperty(hn,Nn,{get:()=>Tn.bind(hn)})});var on=a.em;return ce&&0!==hn.schema.version&&(on=hn.migratePromise()),on}).then(()=>((0,De.Xi)("createRxCollection",{collection:hn,creator:{name:H,schema:X,storageInstance:$t,instanceCreationOptions:Z,migrationStrategies:re,methods:It,attachments:Lt,options:Rt,cacheReplacementPolicy:rn,localDocuments:Ut,statics:Se}}),hn)).catch(on=>$t.close().then(()=>Promise.reject(on)))})}},2104:(Bt,et,P)=>{"use strict";P.d(et,{CC:()=>oe,Nu:()=>Ue,WY:()=>Re,bD:()=>Qe,bV:()=>ue,lz:()=>ze,ol:()=>De,vV:()=>Ie});var J=P(467),ne=P(7650),pe=P(1885),ae=P(6893),D=P(720),a=P(2060),Ce=P(8663),lt=P(6434),Be=P(5672),Ue="collection",Y="storage-token",oe=(0,pe.Ud)({version:0,title:"RxInternalDocument",primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Ue,Y,"rx-migration-status","OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function ze(Q,pt){return(0,pe.U)(oe,{key:Q,context:pt})}function Re(Q){return ke.apply(this,arguments)}function ke(){return(ke=(0,J.A)(function*(Q){var pt=(0,Be.Ib)(Q.schema,{selector:{context:Ue,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0});return(yield Q.query(pt)).documents})).apply(this,arguments)}var ge="storageToken",Fe=ze(ge,Y);function De(Q){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,J.A)(function*(Q){var pt=(0,D.z3)(10),Ct=Q.password?yield Q.hashFunction(JSON.stringify(Q.password)):void 0,un=[{document:{id:Fe,context:Y,key:ge,data:{rxdbVersion:Q.rxdbVersion,token:pt,instanceToken:Q.token,passwordHash:Ct},_deleted:!1,_meta:(0,a.o4)(),_rev:(0,a.Fq)(),_attachments:{}}}],tn=yield Q.internalStore.bulkWrite(un,"internal-add-storage-token");if(!tn.error[0])return(0,ae.YN)("id",un,tn)[0];var mn=(0,Ce.ZN)(tn.error[0]);if(mn.isError&&(0,ne.sX)(mn)){var Rn=mn;if(!function We(Q,pt){return!(!Q||pt.includes("beta")&&pt!==Q)&&Q.split(".")[0]===pt.split(".")[0]}(Rn.documentInDb.data.rxdbVersion,Q.rxdbVersion))throw(0,ne.Br)("DM5",{args:{database:Q.name,databaseStateVersion:Rn.documentInDb.data.rxdbVersion,codeVersion:Q.rxdbVersion}});if(Ct&&Ct!==Rn.documentInDb.data.passwordHash)throw(0,ne.Br)("DB1",{passwordHash:Ct,existingPasswordHash:Rn.documentInDb.data.passwordHash});return(0,Ce.ZN)(Rn.documentInDb)}throw mn})).apply(this,arguments)}function Ie(Q,pt,Ct){return st.apply(this,arguments)}function st(){return(st=(0,J.A)(function*(Q,pt,Ct){if(Q.schema.version!==Ct.version)throw(0,ne.Br)("SNH",{schema:Ct,version:Q.schema.version,name:Q.name,collection:Q,args:{storageCollectionName:pt}});for(var un=ze(ue(Q.name,Q.schema.jsonSchema),Ue);;){var tn=yield(0,ae.O5)(Q.database.internalStore,un),mn=(0,lt.o8)((0,Ce.ZN)(tn));if(mn.data.connectedStorages.find(Ge=>Ge.collectionName===pt&&Ge.schema.version===Ct.version))return;mn.data.connectedStorages.push({collectionName:pt,schema:Ct});try{yield(0,ae.mQ)(Q.database.internalStore,{previous:(0,Ce.ZN)(tn),document:mn},"add-connected-storage-to-collection")}catch(Ge){if(!(0,ne.sX)(Ge))throw Ge}}})).apply(this,arguments)}function Qe(Q,pt,Ct){return _e.apply(this,arguments)}function _e(){return(_e=(0,J.A)(function*(Q,pt,Ct){if(Q.schema.version!==Ct.version)throw(0,ne.Br)("SNH",{schema:Ct,version:Q.schema.version,name:Q.name,collection:Q,args:{storageCollectionName:pt}});for(var un=ze(ue(Q.name,Q.schema.jsonSchema),Ue);;){var tn=yield(0,ae.O5)(Q.database.internalStore,un),mn=(0,lt.o8)((0,Ce.ZN)(tn));if(!mn.data.connectedStorages.find(Ge=>Ge.collectionName===pt&&Ge.schema.version===Ct.version))return;mn.data.connectedStorages=mn.data.connectedStorages.filter(Ge=>Ge.collectionName!==pt);try{yield(0,ae.mQ)(Q.database.internalStore,{previous:(0,Ce.ZN)(tn),document:mn},"remove-connected-storage-from-collection")}catch(Ge){if(!(0,ne.sX)(Ge))throw Ge}}})).apply(this,arguments)}function ue(Q,pt){return Q+"-"+pt.version}},7396:(Bt,et,P)=>{"use strict";P.d(et,{lB:()=>Q,uh:()=>un,NI:()=>se});var J=P(467),ne=P(6126),pe=function(){this._parallels=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function D(H,X){if(X){if(X._timeoutObj&&clearTimeout(X._timeoutObj),H._pHM.has(X)){var Z=H._pHM.get(X);H._hPM.delete(Z),H._pHM.delete(X)}H._iC.delete(X)}}function a(H){H._tryIR||0===H._iC.size||(H._tryIR=!0,setTimeout(function(){H.isIdle()?setTimeout(function(){H.isIdle()?(function ae(H){0!==H._iC.size&&(H._iC.values().next().value._manRes(),setTimeout(function(){return a(H)},0))}(H),H._tryIR=!1):H._tryIR=!1},0):H._tryIR=!1},0))}pe.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,a(this)},wrapCall:function(X){var re,Z=this;this.lock();try{re=X()}catch(ce){throw this.unlock(),ce}return re.then&&"function"==typeof re.then?re.then(function(ce){return Z.unlock(),ce}).catch(function(ce){throw Z.unlock(),ce}):(this.unlock(),re)},requestIdlePromise:function(X){var Z=this;X=X||{};var re,ce=new Promise(function(Lt){return re=Lt});if(ce._manRes=function(){D(Z,ce),re()},X.timeout){var It=setTimeout(function(){ce._manRes()},X.timeout);ce._timeoutObj=It}return this._iC.add(ce),a(this),ce},cancelIdlePromise:function(X){D(this,X)},requestIdleCallback:function(X,Z){var re=this._lHN++,ce=this.requestIdlePromise(Z);return this._hPM.set(re,ce),this._pHM.set(ce,re),ce.then(function(){return X()}),re},cancelIdleCallback:function(X){var Z=this._hPM.get(X);this.cancelIdlePromise(Z)},clear:function(){var X=this;this._iC.forEach(function(Z){return D(X,Z)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var Ce=P(6052),lt=P(5520),Be=P(2060),Ue=P(6434),Y=P(8663),Me=P(203),Ne=P(6243),oe=P(720),ze=P(7650),Re=P(9182),ke=P(2284),ge=P(1413),Fe=P(1397),De=P(4395),Ae=P(6893),We=P(9556),Ie=P(2104),st=P(1318),Qe=P(3896),_e=new Set,Q=function(){function H(Z,re,ce,Se,It,Lt,Rt=!1,Ut={},rn,sn,ln,$t,hn){this.idleQueue=new pe,this.rxdbVersion=Ce.o,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new ge.B,this.observable$=this.eventBulks$.pipe((0,Fe.Z)(on=>on.events)),this.storageToken=lt.Dr,this.storageTokenDocument=lt.Dr,this.emittedEventBulkIds=new We.p4(6e4),this.name=Z,this.token=re,this.storage=ce,this.instanceCreationOptions=Se,this.password=It,this.multiInstance=Lt,this.eventReduce=Rt,this.options=Ut,this.internalStore=rn,this.hashFunction=sn,this.cleanupPolicy=ln,this.allowSlowCount=$t,this.reactivity=hn,"pseudoInstance"!==this.name&&(this.internalStore=(0,Ae.AM)(this.asRxDatabase,rn,Ie.CC),this.storageTokenDocument=(0,Ie.ol)(this.asRxDatabase).catch(on=>this.startupErrors.push(on)),this.storageToken=this.storageTokenDocument.then(on=>on.data.token).catch(on=>this.startupErrors.push(on)))}var X=H.prototype;return X.getReactivityFactory=function(){if(!this.reactivity)throw(0,ze.Br)("DB14",{database:this.name});return this.reactivity},X.$emit=function(re){this.emittedEventBulkIds.has(re.id)||(this.emittedEventBulkIds.add(re.id),this.eventBulks$.next(re))},X.removeCollectionDoc=function(){var Z=(0,J.A)(function*(ce,Se){var It=yield(0,Ae.O5)(this.internalStore,(0,Ie.lz)((0,Ie.bV)(ce,Se),Ie.Nu));if(!It)throw(0,ze.Br)("SNH",{name:ce,schema:Se});var Lt=(0,Ae.C9)(It);Lt._deleted=!0,yield this.internalStore.bulkWrite([{document:Lt,previous:It}],"rx-database-remove-collection")});return function re(ce,Se){return Z.apply(this,arguments)}}(),X.addCollections=function(){var Z=(0,J.A)(function*(ce){var Se=this,It={},Lt={},Rt=[],Ut={};yield Promise.all(Object.entries(ce).map(function(){var ln=(0,J.A)(function*([$t,hn]){var on=$t,Nn=hn.schema;It[on]=Nn;var Tn=(0,Re.Wq)(Nn,Se.hashFunction);if(Lt[on]=Tn,Se.collections[$t])throw(0,ze.Br)("DB3",{name:$t});var eo=(0,Ie.bV)($t,Nn),to={id:(0,Ie.lz)(eo,Ie.Nu),key:eo,context:Ie.Nu,data:{name:on,schemaHash:yield Tn.hash,schema:Tn.jsonSchema,version:Tn.version,connectedStorages:[]},_deleted:!1,_meta:(0,Be.o4)(),_rev:(0,Be.Fq)(),_attachments:{}};Rt.push({document:to});var Bi=Object.assign({},hn,{name:on,schema:Tn,database:Se}),zt=(0,Ue.FD)(hn);zt.database=Se,zt.name=$t,(0,ke.Xi)("preCreateRxCollection",zt),Bi.conflictHandler=zt.conflictHandler,Ut[on]=Bi});return function($t){return ln.apply(this,arguments)}}()));var rn=yield this.internalStore.bulkWrite(Rt,"rx-database-add-collection");yield function W(H){return B.apply(this,arguments)}(this),yield Promise.all(rn.error.map(function(){var ln=(0,J.A)(function*($t){if(409!==$t.status)throw(0,ze.Br)("DB12",{database:Se.name,writeError:$t});var hn=(0,Y.ZN)($t.documentInDb),on=hn.data.name,Nn=Lt[on];if(hn.data.schemaHash!==(yield Nn.hash))throw(0,ze.Br)("DB6",{database:Se.name,collection:on,previousSchemaHash:hn.data.schemaHash,schemaHash:yield Nn.hash,previousSchema:hn.data.schema,schema:(0,Y.ZN)(It[on])})});return function($t){return ln.apply(this,arguments)}}()));var sn={};return yield Promise.all(Object.keys(ce).map(function(){var ln=(0,J.A)(function*($t){var hn=Ut[$t],on=yield(0,De.dN)(hn);sn[$t]=on,Se.collections[$t]=on,Se[$t]||Object.defineProperty(Se,$t,{get:()=>Se.collections[$t]})});return function($t){return ln.apply(this,arguments)}}())),sn});return function re(ce){return Z.apply(this,arguments)}}(),X.lockedRun=function(re){return this.idleQueue.wrapCall(re)},X.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},X.exportJSON=function(re){throw(0,Me.u)("json-dump")},X.addState=function(re){throw(0,Me.u)("state")},X.importJSON=function(re){throw(0,Me.u)("json-dump")},X.backup=function(re){throw(0,Me.u)("backup")},X.leaderElector=function(){throw(0,Me.u)("leader-election")},X.isLeader=function(){throw(0,Me.u)("leader-election")},X.waitForLeadership=function(){throw(0,Me.u)("leader-election")},X.migrationStates=function(){throw(0,Me.u)("migration-schema")},X.destroy=function(){var Z=(0,J.A)(function*(){return this.destroyed||(this.destroyed=!0,yield(0,ke.FX)("preDestroyRxDatabase",this),this.eventBulks$.complete(),this._subs.map(ce=>ce.unsubscribe()),"pseudoInstance"===this.name)?lt.Dr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(ce=>ce()))).then(()=>Promise.all(Object.keys(this.collections).map(ce=>this.collections[ce]).map(ce=>ce.destroy()))).then(()=>this.internalStore.close()).then(()=>_e.delete(this.storage.name+"|"+this.name)).then(()=>!0)});return function re(){return Z.apply(this,arguments)}}(),X.remove=function(){return this.destroy().then(()=>function tn(H,X,Z){return mn.apply(this,arguments)}(this.name,this.storage,this.password))},(0,ne.A)(H,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function Ct(H,X,Z,re,ce,Se){return At.apply(this,arguments)}function At(){return(At=(0,J.A)(function*(H,X,Z,re,ce,Se){return yield X.createStorageInstance({databaseInstanceToken:H,databaseName:Z,collectionName:Ae.OG,schema:Ie.CC,options:re,multiInstance:ce,password:Se,devMode:Qe.h.isDevMode()})})).apply(this,arguments)}function un({storage:H,instanceCreationOptions:X,name:Z,password:re,multiInstance:ce=!0,eventReduce:Se=!0,ignoreDuplicate:It=!1,options:Lt={},cleanupPolicy:Rt,allowSlowCount:Ut=!1,localDocuments:rn=!1,hashFunction:sn=Ne.V0,reactivity:ln}){(0,ke.Xi)("preCreateRxDatabase",{storage:H,instanceCreationOptions:X,name:Z,password:re,multiInstance:ce,eventReduce:Se,ignoreDuplicate:It,options:Lt,localDocuments:rn}),It||function pt(H,X){if(_e.has(X.name+"|"+H))throw(0,ze.Br)("DB8",{name:H,storage:X.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}(Z,H),_e.add(H.name+"|"+Z);var $t=(0,oe.z3)(10);return Ct($t,H,Z,X,ce,re).catch(hn=>{throw _e.delete(H.name+"|"+Z),hn}).then(hn=>{var on=new Q(Z,$t,H,X,re,ce,Se,Lt,hn,sn,Rt,Ut,ln);return(0,ke.FX)("createRxDatabase",{database:on,creator:{storage:H,instanceCreationOptions:X,name:Z,password:re,multiInstance:ce,eventReduce:Se,ignoreDuplicate:It,options:Lt,localDocuments:rn}}).then(()=>on)})}function mn(){return(mn=(0,J.A)(function*(H,X,Z){var re=(0,oe.z3)(10),ce=yield Ct(re,X,H,{},!1,Z),Se=yield(0,Ie.WY)(ce),It=new Set;Se.forEach(Rt=>It.add(Rt.data.name));var Lt=Array.from(It);return yield Promise.all(Lt.map(Rt=>(0,st.vM)(X,ce,re,H,Rt,Z))),yield(0,ke.FX)("postRemoveRxDatabase",{databaseName:H,storage:X}),yield ce.remove(),Lt})).apply(this,arguments)}function se(H){return be.apply(this,arguments)}function be(){return(be=(0,J.A)(function*(H){return(yield H.storageTokenDocument).data.instanceToken===H.token})).apply(this,arguments)}function B(){return(B=(0,J.A)(function*(H){if(yield H.storageToken,H.startupErrors[0])throw H.startupErrors[0]})).apply(this,arguments)}},5908:(Bt,et,P)=>{"use strict";P.d(et,{Lt:()=>Qe,Zb:()=>Ie,cM:()=>We,ky:()=>Ae});var J=P(467),ne=P(6354),pe=P(5964),ae=P(9172),D=P(3294),a=P(6496),Ce=P(8663),lt=P(1744),Be=P(5520),Ue=P(9403),Y=P(6434),Me=P(720),Ne=P(203),oe=P(7650),ze=P(2284),Re=P(312),ke=P(3896),ge=P(1885),Fe=P(6893),De=P(6706),Ae={get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){if(this.isInstanceOfRxDocument)return this._data[this.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this.$.pipe((0,ne.T)(ue=>ue._data._deleted))},get deleted$$(){return this.collection.database.getReactivityFactory().fromObservable(this.deleted$,this.getLatest().deleted,this.collection.database)},get deleted(){if(this.isInstanceOfRxDocument)return this._data._deleted},getLatest(){var _e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(_e)},get $(){return this.collection.$.pipe((0,pe.p)(ue=>!ue.isLocal),(0,pe.p)(ue=>ue.documentId===this.primary),(0,ne.T)(ue=>(0,Re.vk)(ue)),(0,ae.Z)(this.collection._docCache.getLatestDocumentData(this.primary)),(0,D.F)((ue,Q)=>ue._rev===Q._rev),(0,ne.T)(ue=>this.collection._docCache.getCachedRxDocument(ue)),(0,a.t)(Ce.bz))},get $$(){return this.collection.database.getReactivityFactory().fromObservable(this.$,this.getLatest()._data,this.collection.database)},get$(_e){if(ke.h.isDevMode()){if(_e.includes(".item."))throw(0,oe.Br)("DOC1",{path:_e});if(_e===this.primaryPath)throw(0,oe.Br)("DOC2");if(this.collection.schema.finalFields.includes(_e))throw(0,oe.Br)("DOC3",{path:_e});if(!(0,ge.nT)(this.collection.schema.jsonSchema,_e))throw(0,oe.Br)("DOC4",{path:_e})}return this.$.pipe((0,ne.T)(Q=>(0,lt.UU)(Q,_e)),(0,D.F)())},get$$(_e){var ue=this.get$(_e);return this.collection.database.getReactivityFactory().fromObservable(ue,this.getLatest().get(_e),this.collection.database)},populate(_e){var ue=(0,ge.nT)(this.collection.schema.jsonSchema,_e),Q=this.get(_e);if(!Q)return Be.$A;if(!ue)throw(0,oe.Br)("DOC5",{path:_e});if(!ue.ref)throw(0,oe.Br)("DOC6",{path:_e,schemaObj:ue});var pt=this.collection.database.collections[ue.ref];if(!pt)throw(0,oe.Br)("DOC7",{ref:ue.ref,path:_e,schemaObj:ue});return"array"===ue.type?pt.findByIds(Q).exec().then(Ct=>{var At=Ct.values();return Array.from(At)}):pt.findOne(Q).exec()},get(_e){return(0,Ue.q)(this._propertyCache,_e,()=>{var ue=(0,lt.UU)(this._data,_e);if("object"!=typeof ue||null===ue||Array.isArray(ue))return ke.h.deepFreezeWhenDevMode(ue);var Q=this;return new Proxy((0,Y.FD)(ue),{get(Ct,At){if("string"!=typeof At)return Ct[At];var un=At.charAt(At.length-1);if(At.endsWith("$$")){var tn=At.slice(0,-2);return Q.get$$((0,Me.L$)(_e+"."+tn))}if("$"===un){var mn=At.slice(0,-1);return Q.get$((0,Me.L$)(_e+"."+mn))}if("_"===un){var Rn=At.slice(0,-1);return Q.populate((0,Me.L$)(_e+"."+Rn))}return Q.get((0,Me.L$)(_e+"."+At))}})})},toJSON(_e=!1){if(_e)return ke.h.deepFreezeWhenDevMode(this._data);var ue=(0,Y.FD)(this._data);return delete ue._rev,delete ue._attachments,delete ue._deleted,delete ue._meta,ke.h.deepFreezeWhenDevMode(ue)},toMutableJSON(_e=!1){return(0,Y.o8)(this.toJSON(_e))},update(_e){throw(0,Ne.u)("update")},incrementalUpdate(_e){throw(0,Ne.u)("update")},updateCRDT(_e){throw(0,Ne.u)("crdt")},putAttachment(){throw(0,Ne.u)("attachments")},getAttachment(){throw(0,Ne.u)("attachments")},allAttachments(){throw(0,Ne.u)("attachments")},get allAttachments$(){throw(0,Ne.u)("attachments")},modify(_e,ue){var Q=this;return(0,J.A)(function*(){var pt=Q._data,Ct=yield(0,De.Hl)(_e)(pt);return Q._saveData(Ct,pt)})()},incrementalModify(_e,ue){return this.collection.incrementalWriteQueue.addWrite(this._data,(0,De.Hl)(_e)).then(Q=>this.collection._docCache.getCachedRxDocument(Q))},patch(_e){var ue=this._data,Q=(0,Y.o8)(ue);return Object.entries(_e).forEach(([pt,Ct])=>{Q[pt]=Ct}),this._saveData(Q,ue)},incrementalPatch(_e){return this.incrementalModify(ue=>(Object.entries(_e).forEach(([Q,pt])=>{ue[Q]=pt}),ue))},_saveData(_e,ue){var Q=this;return(0,J.A)(function*(){if(_e=(0,Y.FD)(_e),Q._data._deleted)throw(0,oe.Br)("DOC11",{id:Q.primary,document:Q});yield Qe(Q.collection,_e,ue);var pt=[{previous:ue,document:_e}],Ct=yield Q.collection.storageInstance.bulkWrite(pt,"rx-document-save-data");return(0,Fe.WX)(Q.collection,Q.primary,_e,Ct.error[0]),yield Q.collection._runHooks("post","save",_e,Q),Q.collection._docCache.getCachedRxDocument((0,Fe.YN)(Q.collection.schema.primaryPath,pt,Ct)[0])})()},remove(){var _e=this,ue=this.collection;if(this.deleted)return Promise.reject((0,oe.Br)("DOC13",{document:this,id:this.primary}));var pt,Q=(0,Y.FD)(this._data);return ue._runHooks("pre","remove",Q,this).then((0,J.A)(function*(){Q._deleted=!0;var Ct=[{previous:_e._data,document:Q}],At=yield ue.storageInstance.bulkWrite(Ct,"rx-document-remove");return(0,Fe.WX)(ue,_e.primary,Q,At.error[0]),(0,Fe.YN)(_e.collection.schema.primaryPath,Ct,At)[0]})).then(Ct=>(pt=Ct,this.collection._runHooks("post","remove",Q,this))).then(()=>this.collection._docCache.getCachedRxDocument(pt))},incrementalRemove(){var _e=this;return this.incrementalModify(function(){var ue=(0,J.A)(function*(Q){return yield _e.collection._runHooks("pre","remove",Q,_e),Q._deleted=!0,Q});return function(Q){return ue.apply(this,arguments)}}()).then(function(){var ue=(0,J.A)(function*(Q){return yield _e.collection._runHooks("post","remove",Q._data,Q),Q});return function(Q){return ue.apply(this,arguments)}}())},destroy(){throw(0,oe.Br)("DOC14")}};function We(_e=Ae){var ue=function(pt,Ct){this.collection=pt,this._data=Ct,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return ue.prototype=_e,ue}function Ie(_e,ue,Q){var pt=new _e(ue,Q);return(0,ze.Xi)("createRxDocument",pt),pt}function Qe(_e,ue,Q){return ue._meta=Object.assign({},Q._meta,ue._meta),ke.h.isDevMode()&&_e.schema.validateChange(Q,ue),_e._runHooks("pre","save",ue,Q)}},7650:(Bt,et,P)=>{"use strict";P.d(et,{sX:()=>ge,Br:()=>Re,JX:()=>ke,cg:()=>De});var J=P(6126),ne=P(6719);function pe(Ae){return(pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)})(Ae)}var ae=P(4394);function a(){try{var Ae=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a=function(){return!!Ae})()}function lt(Ae){var We="function"==typeof Map?new Map:void 0;return lt=function(st){if(null===st||!function D(Ae){try{return-1!==Function.toString.call(Ae).indexOf("[native code]")}catch{return"function"==typeof Ae}}(st))return st;if("function"!=typeof st)throw new TypeError("Super expression must either be null or a function");if(void 0!==We){if(We.has(st))return We.get(st);We.set(st,Qe)}function Qe(){return function Ce(Ae,We,Ie){if(a())return Reflect.construct.apply(null,arguments);var st=[null];st.push.apply(st,We);var Qe=new(Ae.bind.apply(Ae,st));return Ie&&(0,ae.A)(Qe,Ie.prototype),Qe}(st,arguments,pe(this).constructor)}return Qe.prototype=Object.create(st.prototype,{constructor:{value:Qe,enumerable:!1,writable:!0,configurable:!0}}),(0,ae.A)(Qe,st)},lt(Ae)}var Be=P(3896);function Y(Ae,We,Ie){return"RxError ("+We+"):\n"+Ae+"\n"+function Ue(Ae){var We="";return 0===Object.keys(Ae).length||(We+="Given parameters: {\n",We+=Object.keys(Ae).map(Ie=>{var st="[object Object]";try{st="errors"===Ie?Ae[Ie].map(Qe=>JSON.stringify(Qe,Object.getOwnPropertyNames(Qe))):JSON.stringify(Ae[Ie],function(Qe,_e){return void 0===_e?null:_e},2)}catch{}return Ie+":"+st}).join("\n"),We+="}"),We}(Ie)}var Me=function(Ae){function We(st,Qe,_e={}){var ue,Q=Y(Qe,st,_e);return(ue=Ae.call(this,Q)||this).code=st,ue.message=Q,ue.url=oe(st),ue.parameters=_e,ue.rxdb=!0,ue}return(0,ne.A)(We,Ae),We.prototype.toString=function(){return this.message},(0,J.A)(We,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(lt(Error)),Ne=function(Ae){function We(st,Qe,_e={}){var ue,Q=Y(Qe,st,_e);return(ue=Ae.call(this,Q)||this).code=st,ue.message=Q,ue.url=oe(st),ue.parameters=_e,ue.rxdb=!0,ue}return(0,ne.A)(We,Ae),We.prototype.toString=function(){return this.message},(0,J.A)(We,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(lt(TypeError));function oe(Ae){return"https://rxdb.info/errors.html?console=errors#"+Ae}function ze(Ae){return"\n You can find out more about this error here: "+oe(Ae)+" "}function Re(Ae,We){return new Me(Ae,Be.h.tunnelErrorMessage(Ae)+ze(Ae),We)}function ke(Ae,We){return new Ne(Ae,Be.h.tunnelErrorMessage(Ae)+ze(Ae),We)}function ge(Ae){return!(!Ae||409!==Ae.status)&&Ae}var Fe={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function De(Ae){return Re("COL20",{name:Fe[Ae.status],document:Ae.documentId,writeError:Ae})}},5365:(Bt,et,P)=>{"use strict";P.d(et,{Lr:()=>y_,Xw:()=>bS,_V:()=>yS,dx:()=>xm});var J=P(467),ne=P(997),pe=P(1885),ae=P(6434),D=P(7176);class a extends Error{}const Be=Number.MAX_SAFE_INTEGER,Ue=Number.MIN_SAFE_INTEGER,Y=Symbol("missing"),Me=Object.freeze(new Error("mingo: cycle detected while processing object/array")),Ne=Object.getPrototypeOf([]),oe=Object.getPrototypeOf({}),Re=/^\[object ([a-zA-Z0-9]+)\]$/;class ke{}class ge{}const Fe=y=>null===y?ke:void 0===y?ge:y.constructor,De=y=>{const b=function to(y){const b=new Set,C=I=>{const O=Fe(I);if(Qe.has(O))return Qe.get(O)(I);const j=O===Object?"":O.name;if(Z(I.toJSON))return`${j}(${JSON.stringify(I)})`;if(b.has(I))throw Me;b.add(I);try{if(O===Array)return"["+I.map(C).join(",")+"]";if(O!==Object){const[ie,Ee]=Nn(I);if(be(I))return`${j}${C([...I,ie])}`;I=ie}const te=Object.keys(I);return te.sort(),`${j}{`+te.map(ie=>`${ie}:${C(I[ie])}`).join(",")+"}"}finally{b.delete(I)}};return C(y)}(y);let C=0,I=b.length;for(;I;)C=(C<<5)-C^b.charCodeAt(--I);return C>>>0},Ae=new Set(["null","undefined","boolean","number","string","date","regexp"]),We=new Set([ge,ke,Boolean,String,Number]),Ie=y=>y.toString(),st=y=>`${Fe(y).name}[${y.toString()}]`,Qe=new Map([[Number,Ie],[Boolean,Ie],[RegExp,Ie],[Function,Ie],[Symbol,Ie],[Date,y=>y.toISOString()],[String,JSON.stringify],[ke,y=>"null"],[ge,y=>"undefined"],[Int8Array,st],[Uint8Array,st],[Uint8ClampedArray,st],[Int16Array,st],[Uint16Array,st],[Int32Array,st],[Uint32Array,st],[Float32Array,st],[Float64Array,st]]);typeof BigInt<"u"&&Qe.set(BigInt,y=>"0x"+y.toString(16)),typeof BigInt64Array<"u"&&Qe.set(BigInt64Array,st),typeof BigUint64Array<"u"&&Qe.set(BigUint64Array,st);const _e={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},ue=(y,b)=>{y===Y&&(y=void 0),b===Y&&(b=void 0);const[C,I]=[y,b].map(O=>_e[At(O).toLowerCase()]);return C!==I?C-I:1===C||2===C||6===C?y<b?-1:y>b?1:0:Tn(y,b)?0:y<b?-1:y>b?1:0};function Q(y,b){if(!y)throw new a(b)}const Ct=y=>{if(We.has(Fe(y)))return y;const b=new Set,C=I=>{if(b.has(I))throw Me;const O=Fe(I);if(We.has(O))return I;try{if(be(I))return b.add(I),I.map(C);if(W(I)){b.add(I);const j={};for(const te in I)j[te]=C(I[te]);return j}}finally{b.delete(I)}return O===Date||O===RegExp||(y=>{const b=Object.getPrototypeOf(Fe(y));return b&&"TypedArray"===b.name})(I)?new O(I):I};return C(y)},At=y=>Re.exec(Object.prototype.toString.call(y))[1],un=y=>"boolean"==typeof y,tn=y=>"string"==typeof y,Rn=y=>!isNaN(y)&&"number"==typeof y,be=Array.isArray,W=y=>{if(!y)return!1;const b=Object.getPrototypeOf(y);return(b===oe||null===b)&&"[object Object]"===Object.prototype.toString.call(y)},B=y=>y===Object(y),H=y=>y instanceof Date,X=y=>y instanceof RegExp,Z=y=>"function"==typeof y,re=y=>null==y,ce=(y,b)=>y.includes(b),Se=(y,b)=>!ce(y,b),Lt=y=>re(y)||tn(y)&&!y||y instanceof Array&&0===y.length||W(y)&&0===Object.keys(y).length,Rt=y=>y===Y,Ut=y=>y instanceof Array?y:[y],rn=(y,b)=>!!y&&Object.prototype.hasOwnProperty.call(y,b),sn=(y,b)=>W(y)&&W(b)||be(y)&&be(b);function ln(y,b,C){if(C=C||{flatten:!1},Rt(y)||re(y))return b;if(Rt(b)||re(b))return y;if(!sn(y,b)){if(C.skipValidation)return b||y;throw Error("mismatched types. must both be array or object")}if(C.skipValidation=!0,be(y)){const I=y,O=b;if(C.flatten){let j=0,te=0;for(;j<I.length&&te<O.length;)I[j]=ln(I[j++],O[te++],C);for(;te<O.length;)I.push(b[te++])}else Zn(I,O)}else for(const I in b)y[I]=ln(y[I],b[I],C);return y}function $t(y,b=De){const C=new Map;return y.forEach((I,O)=>{const j=Bi(I,b);C.has(j)?C.get(j).some(te=>Tn(y[te],I))||C.get(j).push(O):C.set(j,[O])}),C}function hn(y,b=De){if(y.some(ie=>0==ie.length))return[];if(1===y.length)return Array.from(y);const C=function zt(y,b,C=ue){if(Lt(y))return y;const I=new Array,O=new Array;for(let j=0;j<y.length;j++){const te=y[j],ie=b(te,j);re(ie)?O.push(te):I.push([ie,te])}return I.sort((j,te)=>C(j[0],te[0])),Zn(O,I.map(j=>j[1]))}(y.map((ie,Ee)=>[Ee,ie.length]),ie=>ie[1]),I=y[C[0][0]],O=$t(I,b),j=new Map,te=new Array;return O.forEach((ie,Ee)=>{const ct=ie.map(Jt=>I[Jt]),ot=ct.map(Jt=>0),St=ct.map(Jt=>[C[0][0],0]);let Dt=!1;for(let Jt=1;Jt<y.length;Jt++){const[pn,Mn]=C[Jt],Jn=y[pn];if(j.has(Jt)||j.set(Jt,$t(Jn)),j.get(Jt).has(Ee)){const yi=j.get(Jt).get(Ee).map(Ti=>Jn[Ti]);Dt=ct.map((Ti,Fo)=>yi.some((Pi,co)=>{const ar=ot[Fo];return Tn(Ti,Pi)&&(ot[Fo]++,pn<St[Fo][0]&&(St[Fo]=[pn,j.get(Jt).get(Ee)[co]])),ar<ot[Fo]})).some(Boolean)}if(!Dt)return}Dt&&Zn(te,ot.map((Jt,pn)=>Jt===y.length-1?[ct[pn],St[pn]]:Y).filter(Jt=>Jt!==Y))}),te.sort((ie,Ee)=>{const[ct,[ot,St]]=ie,[Dt,[Jt,pn]]=Ee,Mn=ue(ot,Jt);return 0!==Mn?Mn:ue(St,pn)}).map(ie=>ie[0])}function on(y,b=0){const C=new Array;return function I(O,j){for(let te=0,ie=O.length;te<ie;te++)be(O[te])&&(j>0||j<0)?I(O[te],Math.max(-1,j-1)):C.push(O[te])}(y,b),C}const Nn=y=>{let[b,C]=[Object.getPrototypeOf(y),Object.getOwnPropertyNames(y)],I=b;for(;!C.length&&b!==oe&&b!==Ne;)I=b,C=Object.getOwnPropertyNames(b),b=Object.getPrototypeOf(b);const O={};return C.forEach(j=>O[j]=y[j]),[O,I]};function Tn(y,b){const C=[[y,b]];for(;C.length>0;){if([y,b]=C.pop(),y===b)continue;const I=Fe(y);if(I!==Fe(b)||Z(y))return!1;if(Qe.has(I)){const O=Qe.get(I);if(O(y)!==O(b))return!1}else{if(I!==Array&&I!==Object)return!1;{const O=Object.keys(y),j=Object.keys(b);if(O.length!==j.length||new Set(O.concat(j)).size!=O.length)return!1;for(const te of O)C.push([y[te],b[te]])}}}return!C.length}function Bi(y,b){return b=b||De,re(y)?null:b(y).toString()}function Ei(y,b,C=De){if(y.length<1)return new Map;const I=new Map,O=new Map;for(let j=0;j<y.length;j++){const te=y[j],ie=b(te,j),Ee=Bi(ie,C);if(null===Ee)O.has(null)?O.get(null).push(te):O.set(null,[te]);else{const ct=I.has(Ee)?I.get(Ee).find(ot=>Tn(ot,ie)):null;re(ct)?(O.set(ie,[te]),I.has(Ee)?I.get(Ee).push(ie):I.set(Ee,[ie])):O.get(ct).push(te)}}return O}const fi=5e4;function Zn(y,...b){return y instanceof Array?b.reduce((C,I)=>{let O=Math.ceil(I.length/fi),j=0;for(;O-- >0;)Array.prototype.push.apply(C,I.slice(j,j+fi)),j+=fi;return C},y):b.filter(B).reduce((C,I)=>(Object.assign(C,I),C),y)}function ri(y,b){return B(y)?y[b]:void 0}function Wo(y,b,C){let I=0;const j=Ae.has(At(y).toLowerCase())?y:function O(te,ie){let Ee=te;for(let ct=0;ct<ie.length;ct++){const ot=ie[ct];if(null===/^\d+$/.exec(ot)&&Ee instanceof Array){if(0===ct&&I>0)break;I+=1;const Dt=ie.slice(ct);Ee=Ee.reduce((Jt,pn)=>{const Mn=O(pn,Dt);return void 0!==Mn&&Jt.push(Mn),Jt},[]);break}if(Ee=ri(Ee,ot),void 0===Ee)break}return Ee}(y,b.split("."));return j instanceof Array&&C?.unwrapArray?function jt(y,b){if(b<1)return y;for(;b--&&1===y.length;)y=y[0];return y}(j,I):j}function xo(y,b,C){const I=b.split("."),O=I[0],j=I.slice(1).join("."),te=null!==/^\d+$/.exec(O),ie=I.length>1;let Ee,ct;if(y instanceof Array)if(te)Ee=ri(y,Number(O)),ie&&(Ee=xo(Ee,j,C)),Ee=[Ee];else{Ee=[];for(const ot of y)ct=xo(ot,b,C),C?.preserveMissing?(void 0===ct&&(ct=Y),Ee.push(ct)):void 0!==ct&&Ee.push(ct)}else{if(ct=ri(y,O),ie&&(ct=xo(ct,j,C)),void 0===ct)return;Ee=C?.preserveKeys?Object.assign({},y):{},Ee[O]=ct}return Ee}function oa(y){if(y instanceof Array)for(let b=y.length-1;b>=0;b--)y[b]===Y?y.splice(b,1):oa(y[b]);else if(W(y))for(const b in y)rn(y,b)&&oa(y[b])}const kt=/^\d+$/;function Ko(y,b,C,I){const O=b.split("."),j=O[0],te=O.slice(1).join(".");if(1===O.length)(W(y)||be(y)&&kt.test(j))&&C(y,j);else{I?.buildGraph&&re(y[j])&&(y[j]={});const ie=y[j];if(!ie)return;const Ee=!!(O.length>1&&kt.test(O[1]));ie instanceof Array&&I?.descendArray&&!Ee?ie.forEach(ct=>Ko(ct,te,C,I)):Ko(ie,te,C,I)}}function sa(y,b,C){Ko(y,b,(I,O)=>{I[O]=Z(C)?C(I[O]):C},{buildGraph:!0})}function aa(y,b,C){Ko(y,b,(I,O)=>{if(I instanceof Array){if(/^\d+$/.test(O))I.splice(parseInt(O),1);else if(C&&C.descendArray)for(const j of I)W(j)&&delete j[O]}else W(I)&&delete I[O]},C)}const oc=/^\$[a-zA-Z0-9_]+$/;function no(y){return oc.test(y)}function Ui(y){if(Ae.has(At(y).toLowerCase()))return X(y)?{$regex:y}:{$eq:y};if(B(y)){if(!Object.keys(y).some(no))return{$eq:y};if(rn(y,"$regex")){const C=Object.assign({},y);return C.$regex=new RegExp(y.$regex,y.$options),delete C.$options,C}}return y}var wi=P(7650),dr=function(y){return y.CLONE_ALL="CLONE_ALL",y.CLONE_INPUT="CLONE_INPUT",y.CLONE_OUTPUT="CLONE_OUTPUT",y.CLONE_OFF="CLONE_OFF",y}(dr||{});class Mo{constructor(b,C,I,O=Date.now()){this._opts=b,this._root=C,this._local=I,this.timestamp=O,this.update(C,I)}static init(b,C,I){return b instanceof Mo?new Mo(b._opts,re(b.root)?C:b.root,Object.assign({},b.local,I)):new Mo(b,C,I)}update(b,C){var I;return this._root=b,this._local=C&&Object.assign({},C,{variables:Object.assign({},null===(I=this._local)||void 0===I?void 0:I.variables,C?.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:mi.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collation}get processingMode(){var b;return(null===(b=this._opts)||void 0===b?void 0:b.processingMode)||dr.CLONE_OFF}get useStrictMode(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useStrictMode}get scriptEnabled(){var b;return null===(b=this._opts)||void 0===b?void 0:b.scriptEnabled}get useGlobalContext(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useGlobalContext}get hashFunction(){var b;return null===(b=this._opts)||void 0===b?void 0:b.hashFunction}get collectionResolver(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collectionResolver}get jsonSchemaValidator(){var b;return null===(b=this._opts)||void 0===b?void 0:b.jsonSchemaValidator}get variables(){var b;return null===(b=this._opts)||void 0===b?void 0:b.variables}get context(){var b;return null===(b=this._opts)||void 0===b?void 0:b.context}}function sc(y){return y instanceof Mo?y.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:dr.CLONE_OFF},y),{context:y?.context?mi.from(y?.context):mi.init({})}))}var yn=function(y){return y.ACCUMULATOR="accumulator",y.EXPRESSION="expression",y.PIPELINE="pipeline",y.PROJECTION="projection",y.QUERY="query",y.WINDOW="window",y}(yn||{});class mi{constructor(b){this.operators={[yn.ACCUMULATOR]:{},[yn.EXPRESSION]:{},[yn.PIPELINE]:{},[yn.PROJECTION]:{},[yn.QUERY]:{},[yn.WINDOW]:{}};for(const[C,I]of Object.entries(b))this.addOperators(C,I)}static init(b={}){return new mi(b)}static from(b){return new mi(b.operators)}addOperators(b,C){for(const[I,O]of Object.entries(C))this.getOperator(b,I)||(this.operators[b][I]=O);return this}addAccumulatorOps(b){return this.addOperators(yn.ACCUMULATOR,b)}addExpressionOps(b){return this.addOperators(yn.EXPRESSION,b)}addQueryOps(b){return this.addOperators(yn.QUERY,b)}addPipelineOps(b){return this.addOperators(yn.PIPELINE,b)}addProjectionOps(b){return this.addOperators(yn.PROJECTION,b)}addWindowOps(b){return this.addOperators(yn.WINDOW,b)}getOperator(b,C){return b in this.operators&&this.operators[b][C]||null}}const fs=mi.init();function ca(y,b){for(const[C,I]of Object.entries(b)){Q(Z(I)&&no(C),`'${C}' is not a valid operator`);const O=Ro(y,C,null);Q(!O||I===O,`${C} already exists for '${y}' operators. Cannot change operator function once registered.`)}switch(y){case yn.ACCUMULATOR:fs.addAccumulatorOps(b);break;case yn.EXPRESSION:fs.addExpressionOps(b);break;case yn.PIPELINE:fs.addPipelineOps(b);break;case yn.PROJECTION:fs.addProjectionOps(b);break;case yn.QUERY:fs.addQueryOps(b);break;case yn.WINDOW:fs.addWindowOps(b)}}function Ro(y,b,C){const{context:I,useGlobalContext:O}=C||{},j=I?I.getOperator(y,b):null;return!j&&O?fs.getOperator(y,b):j}const la={$$ROOT:(y,b,C)=>C.root,$$CURRENT:(y,b,C)=>y,$$REMOVE(y,b,C){},$$NOW:(y,b,C)=>new Date(C.timestamp)},$c={$$KEEP:(y,b,C)=>y,$$PRUNE(y,b,C){},$$DESCEND(y,b,C){if(!rn(b,"$cond"))return y;let I;for(const[O,j]of Object.entries(y))if(B(j)){if(j instanceof Array){const te=[];for(let ie of j)W(ie)&&(ie=qo(ie,b,C.update(ie))),re(ie)||te.push(ie);I=te}else I=qo(j,b,C.update(j));re(I)?delete y[O]:y[O]=I}return y}};function Kn(y,b,C,I){var O;const j=Mo.init(I,y);if(no(C=C||"")){const te=Ro(yn.EXPRESSION,C,I);if(te)return te(y,b,j);const ie=Ro(yn.ACCUMULATOR,C,I);if(ie)return y instanceof Array||(y=Kn(y,b,null,j),b=null),Q(y instanceof Array,`'${C}' target must be an array.`),ie(y,b,j.update(null,j.local));throw new a(`operator '${C}' is not registered`)}if(tn(b)&&b.length>0&&"$"===b[0]){if(rn($c,b))return b;let te=j.root;const ie=b.split(".");if(rn(la,ie[0]))te=la[ie[0]](y,null,j),b=b.slice(ie[0].length+1);else if("$$"===ie[0].slice(0,2)){te=Object.assign({},j.variables,{this:y},null===(O=j.local)||void 0===O?void 0:O.variables);const Ee=ie[0].slice(2);Q(rn(te,Ee),`Use of undefined variable: ${Ee}`),b=b.slice(2)}else b=b.slice(1);return""===b?te:Wo(te,b)}if(be(b))return b.map(te=>Kn(y,te,null,j));if(W(b)){const te={};for(const[ie,Ee]of Object.entries(b))if(te[ie]=Kn(y,Ee,ie,j),[yn.EXPRESSION,yn.ACCUMULATOR].some(ct=>!!Ro(ct,ie,I)))return Q(1===Object.keys(b).length,"Invalid aggregation expression '"+JSON.stringify(b)+"'"),te[ie];return te}return b}function qo(y,b,C){const I=Kn(y,b,null,C);return rn($c,I)?$c[I](y,b,C):I}function kr(y){return y instanceof Fn?y:new Fn(y)}function ms(y,b){const C=y.slice(b+1);y.splice(b),Array.prototype.push.apply(y,C)}const ps=new Error;var hr=function(y){return y[y.MAP=0]="MAP",y[y.FILTER=1]="FILTER",y[y.TAKE=2]="TAKE",y[y.DROP=3]="DROP",y}(hr||{});class Fn{constructor(b){let C;if(this.iteratees=[],this.yieldedValues=[],this.isDone=!1,b instanceof Function&&(b={next:b}),function Rl(y){return!!y&&"object"==typeof y&&y?.next instanceof Function}(b)){const I=b;C=()=>{const O=I.next();if(O.done)throw ps;return O.value}}else if(b instanceof Array){const I=b,O=b.length;let j=0;C=()=>{if(j<O)return I[j++];throw ps}}else if(!(b instanceof Function))throw new a("Lazy must be initialized with an array, generator, or function.");this.getNext=function mo(y,b,C){let I=!1,O=-1,j=0;return function(te){try{e:for(;!I;){let ie=y();O++;let Ee=-1;const ct=b.length;let ot=!1;for(;++Ee<ct;){const St=b[Ee];switch(St.action){case hr.MAP:ie=St.func(ie,O);break;case hr.FILTER:if(!St.func(ie,O))continue e;break;case hr.TAKE:--St.count,St.count||(ot=!0);break;case hr.DROP:--St.count,St.count||ms(b,Ee);continue e;default:break e}}if(I=ot,!te)return{value:ie,done:!1};C[j++]=ie}}catch(ie){if(ie!==ps)throw ie}return I=!0,{done:I}}}(C,this.iteratees,this.yieldedValues)}push(b,C){return"function"==typeof C?this.iteratees.push({action:b,func:C}):"number"==typeof C&&this.iteratees.push({action:b,count:C}),this}next(){return this.getNext()}map(b){return this.push(hr.MAP,b)}filter(b){return this.push(hr.FILTER,b)}take(b){return b>0?this.push(hr.TAKE,b):this}drop(b){return b>0?this.push(hr.DROP,b):this}transform(b){const C=this;let I;return kr(()=>(I||(I=kr(b(C.value()))),I.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(b){for(;;){const C=this.next();if(C.done)break;if(!1===b(C.value))return!1}return!0}reduce(b,C){let I=this.next();for(void 0===C&&!I.done&&(C=I.value,I=this.next());!I.done;)C=b(C,I.value),I=this.next();return C}size(){return this.reduce((b,C)=>++b,0)}[Symbol.iterator](){return this}}class _n{constructor(b,C){this.pipeline=b,this.options=sc(C)}stream(b){let C=kr(b);const I=this.options.processingMode;(I==dr.CLONE_ALL||I==dr.CLONE_INPUT)&&C.map(Ct);const O=new Array;if(!Lt(this.pipeline))for(const j of this.pipeline){const te=Object.keys(j),ie=te[0],Ee=Ro(yn.PIPELINE,ie,this.options);Q(1===te.length&&!!Ee,`invalid pipeline operator ${ie}`),O.push(ie),C=Ee(C,j[ie],this.options)}return(I==dr.CLONE_OUTPUT||I==dr.CLONE_ALL&&hn([["$group","$unwind"],O]).length)&&C.map(Ct),C}run(b){return this.stream(b).value()}}class gs{constructor(b,C,I,O){this.source=b,this.predicate=C,this.projection=I,this.options=O,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result||(W(this.projection)&&this.operators.push({$project:this.projection}),this.result=kr(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new _n(this.operators,this.options).stream(this.result))),this.result}fetchAll(){const b=kr([...this.buffer]);return this.buffer=[],function Na(...y){let b=0;return kr(()=>{for(;b<y.length;){const C=y[b].next();if(!C.done)return C;b++}return{done:!0}})}(b,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(b){return this.operators.push({$skip:b}),this}limit(b){return this.operators.push({$limit:b}),this}sort(b){return this.operators.push({$sort:b}),this}collation(b){return this.options=Object.assign(Object.assign({},this.options),{collation:b}),this}next(){if(this.buffer.length>0)return this.buffer.pop();const b=this.fetch().next();return b.done?void 0:b.value}hasNext(){if(this.buffer.length>0)return!0;const b=this.fetch().next();return!b.done&&(this.buffer.push(b.value),!0)}map(b){return this.all().map(b)}forEach(b){this.all().forEach(b)}[Symbol.iterator](){return this.fetchAll()}}class fr{constructor(b,C){this.condition=b,this.options=sc(C),this.compiled=[],this.compile()}compile(){Q(W(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);const b={};for(const[C,I]of Object.entries(this.condition)){if("$where"===C)Object.assign(b,{field:C,expr:I});else if(ce(["$and","$or","$nor","$expr","$jsonSchema"],C))this.processOperator(C,C,I);else{Q(!no(C),`unknown top level operator: ${C}`);for(const[O,j]of Object.entries(Ui(I)))this.processOperator(C,O,j)}b.field&&this.processOperator(b.field,b.field,b.expr)}}processOperator(b,C,I){const O=Ro(yn.QUERY,C,this.options);if(!O)throw new a(`unknown query operator ${C}`);const j=O(b,I,this.options);this.compiled.push(j)}test(b){for(let C=0,I=this.compiled.length;C<I;C++)if(!this.compiled[C](b))return!1;return!0}find(b,C){return new gs(b,I=>this.test(I),C||{},this.options)}remove(b){return b.reduce((C,I)=>(this.test(I)||C.push(I),C),[])}}const Mu=(y,b,C)=>{if(Lt(b)||!W(b))return y;let I=ue;const O=C.collation;return W(O)&&tn(O.locale)&&(I=function Yc(y){const b={sensitivity:Ru[y.strength||3],caseFirst:"off"===y.caseFirst?"false":y.caseFirst||"false",numeric:y.numericOrdering||!1,ignorePunctuation:"shifted"===y.alternate};!0===(y.caseLevel||!1)&&("base"===b.sensitivity&&(b.sensitivity="case"),"accent"===b.sensitivity&&(b.sensitivity="variant"));const C=new Intl.Collator(y.locale,b);return(I,O)=>{if(!tn(I)||!tn(O))return ue(I,O);const j=C.compare(I,O);return j<0?-1:j>0?1:0}}(O)),y.transform(j=>{const te=Object.keys(b);for(const ie of te.reverse()){const Ee=Ei(j,ot=>Wo(ot,ie),C.hashFunction),ct=Array.from(Ee.keys()).sort(I);-1===b[ie]&&ct.reverse(),ct.reduce((ot,St)=>Zn(ot,Ee.get(St)),j=[])}return j})},Ru={1:"base",2:"accent",3:"variant"};function so(y){const b=(C,I,O)=>{const j={unwrapArray:!0},te=Math.max(1,C.split(".").length-1);return ie=>{const Ee=Wo(ie,C,j);return y(Ee,I,Object.assign(Object.assign({},O),{depth:te}))}};return b.op="query",b}function hc(y){return(b,C,I)=>{const O=Kn(b,C,null,I);return y(...O)}}function ch(y,b,C){if(Tn(y,b)||re(y)&&re(b))return!0;if(y instanceof Array){const I=Tn.bind(null,b);return y.some(I)||on(y,C?.depth).some(I)}return!1}function qn(y,b,C){return!ch(y,b,C)}function _a(y,b,C){return re(y)?b.some(I=>null===I):hn([Ut(y),b],C?.hashFunction).length>0}function li(y,b,C){return!_a(y,b,C)}function $a(y,b,C){return ye(y,b,(I,O)=>ue(I,O)<0)}function ao(y,b,C){return ye(y,b,(I,O)=>ue(I,O)<=0)}function Lu(y,b,C){return ye(y,b,(I,O)=>ue(I,O)>0)}function Vl(y,b,C){return ye(y,b,(I,O)=>ue(I,O)>=0)}function An(y){return no(y)&&-1===["$and","$or","$nor"].indexOf(y)}function v(y,b,C){if(be(y)&&!Lt(y)){let I=te=>te,O=b;Object.keys(b).every(An)&&(O={temp:b},I=te=>({temp:te}));const j=new fr(O,C);for(let te=0,ie=y.length;te<ie;te++)if(j.test(I(y[te])))return!0}return!1}const T=y=>null===y,x=y=>Rn(y)&&y>=-2147483648&&y<=2147483647&&-1===y.toString().indexOf("."),N=y=>Rn(y)&&y>=Ue&&y<=Be&&-1===y.toString().indexOf("."),V={array:be,bool:un,boolean:un,date:H,decimal:Rn,double:Rn,int:x,long:N,number:Rn,null:T,object:W,regex:X,regexp:X,string:tn,undefined:re,function:y=>{throw new a("unsupported type key `function`.")},1:Rn,2:tn,3:W,4:be,6:re,8:un,9:H,10:T,11:X,16:x,18:N,19:Rn};function $(y,b,C){const I=V[b];return!!I&&I(y)}function ye(y,b,C){return Ut(y).some(I=>At(I)===At(b)&&C(I,b))}hc(li);const $e=(y,b)=>(C,I,O)=>{Q(be(I),`${y}: expression must be an array.`);const j=Kn(C,I,null,O);return j.some(re)?null:(Q(j.every(Rn),`${y}: expression must evalue to array of numbers.`),b(j))};$e("$bitAnd",y=>y.reduce((b,C)=>b&C,-1)),$e("$bitOr",y=>y.reduce((b,C)=>b|C,0)),$e("$bitXor",y=>y.reduce((b,C)=>b^C,0)),hc(ch),hc(Lu),hc(Vl),hc($a),hc(ao),hc(qn);const e_=(y,b)=>{const C={};return y.split("").forEach((I,O)=>C[I]=b*(O+1)),C};Object.assign(Object.assign(Object.assign({},e_("ABCDEFGHIKLM",1)),e_("NOPQRSTUVWXY",-1)),{Z:0});const hh={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Yo(y,b=hh){const C=Object.assign({},hh,b),I=new Set(Object.keys(C));return(O,j,te)=>{const ie=Kn(O,j,null,te);if(I.has(`${ie}`)){const Ee=C[`${ie}`];if(Ee instanceof Error)throw new a(`cannot apply $${y.name} to -inf, value must in (-inf,inf)`);return Ee}return y(ie)}}Yo(Math.acos,{Infinity:1/0,0:new Error}),Yo(Math.acosh,{Infinity:1/0,0:new Error}),Yo(Math.asin),Yo(Math.asinh,{Infinity:1/0,"-Infinity":-1/0}),Yo(Math.atan),Yo(Math.atanh,{1:1/0,"-1":-1/0}),Yo(Math.cos),Yo(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const l_=Math.PI/180,u_=(Yo(y=>y*l_,{Infinity:1/0,"-Infinity":1/0}),180/Math.PI);Yo(y=>y*u_,{Infinity:1/0,"-Infinity":-1/0}),Yo(Math.sin),Yo(Math.sinh,{"-Infinity":-1/0,Infinity:1/0}),Yo(Math.tan),Error;const Tm=(y,b,C)=>{if(Lt(b))return y;let I=Object.keys(b),O=!1;Ea(b,C);const j=C.idKey;if(ce(I,j)){const ie=b[j];(0===ie||!1===ie)&&(I=I.filter(Se.bind(null,[j])),O=0==I.length)}else I.push(j);const te=Mo.init(C);return y.map(ie=>bh(ie,b,te.update(ie),I,O))};function bh(y,b,C,I,O){let j={},te=!1,ie=!1;const Ee=[];O&&Ee.push(C.idKey);for(const ct of I){let ot;const St=b[ct];if(ct!==C.idKey&&ce([0,!1],St)&&(ie=!0),ct===C.idKey&&Lt(St))ot=y[ct];else if(tn(St))ot=Kn(y,St,ct,C);else if(!ce([1,!0],St))if(St instanceof Array)ot=St.map(Jt=>{const pn=Kn(y,Jt,null,C);return re(pn)?null:pn});else{if(!W(St)){Ee.push(ct);continue}{const Jt=St,pn=Object.keys(St),Mn=1==pn.length?pn[0]:"",Jn=Ro(yn.PROJECTION,Mn,C);if(Jn)"$slice"===Mn?Ut(Jt[Mn]).every(Rn)?(ot=Jn(y,Jt[Mn],ct,C),te=!0):ot=Kn(y,Jt,ct,C):ot=Jn(y,Jt[Mn],ct,C);else if(no(Mn))ot=Kn(y,Jt[Mn],Mn,C);else if(rn(y,ct)){Ea(Jt,C);let yi=y[ct];yi instanceof Array?ot=yi.map(Ti=>bh(Ti,Jt,C,pn,!1)):(yi=W(yi)?yi:y,ot=bh(yi,Jt,C,pn,!1))}else ot=Kn(y,St,null,C)}}const Dt=xo(y,ct,{preserveMissing:!0});void 0!==Dt&&ln(j,Dt,{flatten:!0}),Se([0,1,!1,!0],St)&&(void 0===ot?aa(j,ct,{descendArray:!0}):sa(j,ct,ot))}if(oa(j),(te||ie||O)&&(j=Zn({},y,j),Ee.length>0))for(const ct of Ee)aa(j,ct,{descendArray:!0});return j}function Ea(y,b){const C=[!1,!1];for(const[I,O]of Object.entries(y)){if(I===b?.idKey)return;0===O||!1===O?C[0]=!0:(1===O||!0===O)&&(C[1]=!0),Q(!(C[0]&&C[1]),"Projection cannot have a mix of inclusion and exclusion.")}}const m_=(y,b,C)=>{Q(be(b),"Invalid expression: $and expects value to be an Array.");const I=b.map(O=>new fr(O,C));return O=>I.every(j=>j.test(O))},Am=(y,b,C)=>{Q(be(b),"Invalid expression. $or expects value to be an Array");const I=b.map(O=>new fr(O,C));return O=>I.some(j=>j.test(O))},mS=(y,b,C)=>{Q(be(b),"Invalid expression. $nor expects value to be an array.");const I=Am("$or",b,C);return O=>!I(O)},p_=(y,b,C)=>{const I={};I[y]=Ui(b);const O=new fr(I,C);return j=>!O.test(j)},$l=so(ch),x0=so(Lu),M0=so(Vl),pS=so(_a),g_=so($a),__=so(ao),v_=so(qn),Dm=so(li),gS=so(function Us(y,b,C){return Ut(y).some(I=>2===b.length&&I%b[0]===b[1])}),R0=so(function Xo(y,b,C){const I=Ut(y),O=j=>tn(j)&&((y,b=!0)=>!!y||b&&""===y)(b.exec(j),C?.useStrictMode);return I.some(O)||on(I,1).some(O)});so(function Ga(y,b,C){if(!(be(y)&&be(b)&&y.length&&b.length))return!1;let I=!0;for(const O of b){if(!I)break;I=W(O)&&ce(Object.keys(O),"$elemMatch")?v(y,O.$elemMatch,C):O instanceof RegExp?y.some(j=>"string"==typeof j&&O.test(j)):y.some(j=>Tn(O,j))}return I});const k0=so(v),Gl=so(function va(y,b,C){return Array.isArray(y)&&y.length===b}),_S=so(function Bl(y,b,C){return(!1===b||0===b)&&void 0===y||(!0===b||1===b)&&void 0!==y}),vS=so(function ee(y,b,C){return Array.isArray(b)?b.findIndex(I=>$(y,I))>=0:$(y,b)});var O0=!1;function yS(y,b){var C=(0,pe.xQ)(y.primaryKey);b=(0,ae.FD)(b);var I=(0,ae.o8)(b);if("number"!=typeof I.skip&&(I.skip=0),I.selector?(I.selector=I.selector,Object.entries(I.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot)&&(I.selector[ct]={$eq:ot})})):I.selector={},I.index){var O=(0,D.$r)(I.index);O.includes(C)||O.push(C),I.index=O}if(I.sort)I.sort.find(ct=>(0,ae.Ln)(ct)===C)||(I.sort=I.sort.slice(0),I.sort.push({[C]:"asc"}));else if(I.index)I.sort=I.index.map(ct=>({[ct]:"asc"}));else{if(y.indexes){var j=new Set;Object.entries(I.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot||Object.keys(ot).find(Dt=>ne.Cf.has(Dt)))&&j.add(ct)});var ie,te=-1;y.indexes.forEach(ct=>{var ot=(0,D.k_)(ct)?ct:[ct],St=ot.findIndex(Dt=>!j.has(Dt));St>0&&St>te&&(te=St,ie=ot)}),ie&&(I.sort=ie.map(ct=>({[ct]:"asc"})))}I.sort||(I.sort=[{[C]:"asc"}])}return I}function bS(y,b){if(!b.sort)throw(0,wi.Br)("SNH",{query:b});var C=[];return b.sort.forEach(O=>{var j=Object.keys(O)[0],te=Object.values(O)[0];C.push({key:j,direction:te,getValueFn:(0,ae.SQ)(j)})}),(O,j)=>{for(var te=0;te<C.length;++te){var ie=C[te],Ee=ie.getValueFn(O),ct=ie.getValueFn(j);if(Ee!==ct)return"asc"===ie.direction?ue(Ee,ct):ue(ct,Ee)}}}function y_(y,b){if(!b.sort)throw(0,wi.Br)("SNH",{query:b});var C=function N0(y){return O0||(ca(yn.PIPELINE,{$sort:Mu,$project:Tm}),ca(yn.QUERY,{$and:m_,$eq:$l,$elemMatch:k0,$exists:_S,$gt:x0,$gte:M0,$in:pS,$lt:g_,$lte:__,$ne:v_,$nin:Dm,$mod:gS,$nor:mS,$not:p_,$or:Am,$regex:R0,$size:Gl,$type:vS}),O0=!0),new fr(y)}(b.selector);return O=>C.test(O)}function xm(y,b){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,J.A)(function*(y,b){var C=yield y.exec();return C?Array.isArray(C)?Promise.all(C.map(O=>b(O))):yield b(C):null})).apply(this,arguments)}},5672:(Bt,et,P)=>{"use strict";P.d(et,{Mh:()=>ko,XX:()=>ha,nd:()=>Kc,Ib:()=>Du});var J=P(467),ne=P(6126),pe=P(4412),ae=P(4843),D=P(7786),a=P(5964),Ce=P(9172),lt=P(1397),Be=P(6354),Ue=P(6496),Y=P(3294),Me=P(4552),Ne=P(5520),oe=P(8663),ze=P(6434),Re=P(203),ke=P(2060),ge=P(7176),Fe=P(7650),De=P(2284);const Ie=G=>{G.previousResults.unshift(G.changeEvent.doc),G.keyDocumentMap&&G.keyDocumentMap.set(G.changeEvent.id,G.changeEvent.doc)},st=G=>{G.previousResults.push(G.changeEvent.doc),G.keyDocumentMap&&G.keyDocumentMap.set(G.changeEvent.id,G.changeEvent.doc)},Qe=G=>{const Pe=G.previousResults.shift();G.keyDocumentMap&&Pe&&G.keyDocumentMap.delete(Pe[G.queryParams.primaryKey])},_e=G=>{const Pe=G.previousResults.pop();G.keyDocumentMap&&Pe&&G.keyDocumentMap.delete(Pe[G.queryParams.primaryKey])},At=G=>{G.keyDocumentMap&&G.keyDocumentMap.delete(G.changeEvent.id);const Pe=G.queryParams.primaryKey,Je=G.previousResults;for(let dt=0;dt<Je.length;dt++)if(Je[dt][Pe]===G.changeEvent.id){Je.splice(dt,1);break}},mn=G=>{const Pe=G.changeEvent.id,Je=G.changeEvent.doc;if(G.keyDocumentMap){if(G.keyDocumentMap.has(Pe))return;G.keyDocumentMap.set(Pe,Je)}else if(G.previousResults.find(Nt=>Nt[G.queryParams.primaryKey]===Pe))return;!function Ae(G,Pe,Je,dt){var Xn,Nt=G.length,Cn=Nt-1,Ln=0;if(0===Nt)return G.push(Pe),0;for(;dt<=Cn;)Je(Xn=G[Ln=dt+(Cn-dt>>1)],Pe)<=0?dt=Ln+1:Cn=Ln-1;Je(Xn,Pe)<=0&&Ln++,G.splice(Ln,0,Pe)}(G.previousResults,Je,G.queryParams.sortComparator,0)},be=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],W={doNothing:G=>{},insertFirst:Ie,insertLast:st,removeFirstItem:Qe,removeLastItem:_e,removeFirstInsertLast:G=>{Qe(G),st(G)},removeLastInsertFirst:G=>{_e(G),Ie(G)},removeFirstInsertFirst:G=>{Qe(G),Ie(G)},removeLastInsertLast:G=>{_e(G),st(G)},removeExisting:At,replaceExisting:G=>{const Pe=G.changeEvent.doc,Je=G.queryParams.primaryKey,dt=G.previousResults;for(let Nt=0;Nt<dt.length;Nt++)if(dt[Nt][Je]===G.changeEvent.id){dt[Nt]=Pe,G.keyDocumentMap&&G.keyDocumentMap.set(G.changeEvent.id,Pe);break}},alwaysWrong:G=>{const Pe={_id:"wrongHuman"+(new Date).getTime()};G.previousResults.length=0,G.previousResults.push(Pe),G.keyDocumentMap&&(G.keyDocumentMap.clear(),G.keyDocumentMap.set(Pe._id,Pe))},insertAtSortPosition:mn,removeExistingAndInsertAtSortPosition:G=>{At(G),mn(G)},runFullQueryAgain:G=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:G=>{throw new Error("Action unknownAction should never be called")}};function H(G){return G?"1":"0"}function Nn(G,Pe){const Je=[];for(let dt=0,Nt=G.length;dt<Nt;dt+=Pe)Je.push(G.substring(dt,dt+Pe));return Je}!function re(G=6){let Pe="";for(let Nt=0;Nt<G;Nt++)Pe+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()))}(4);const Tn=40;function to(G){return G.charCodeAt(0)-Tn}function $n(G){return G[G.length-1]}function wi(G,Pe,Je){if(Array.isArray(Pe)&&(Pe=Pe.join(".")),!function rr(G){const Pe=typeof G;return null!==G&&("object"===Pe||"function"===Pe)}(G)||"string"!=typeof Pe)return void 0===Je?G:Je;const dt=Pe.split(".");if(0===dt.length)return Je;for(let Nt=0;Nt<dt.length;Nt++){const Cn=dt[Nt];if(null==(G=dr(G,Cn)?Nt===dt.length-1?void 0:null:G[Cn])){if(Nt!==dt.length-1)return Je;break}}return void 0===G?Je:G}function dr(G,Pe){if("number"!=typeof Pe&&Array.isArray(G)){const Je=Number.parseInt(Pe,10);return Number.isInteger(Je)&&G[Je]===G[Pe]}return!1}const Mo=G=>!!G.queryParams.limit,gs={0:G=>"INSERT"===G.changeEvent.operation,1:G=>"UPDATE"===G.changeEvent.operation,2:G=>"DELETE"===G.changeEvent.operation,3:Mo,4:G=>1===G.queryParams.limit,5:G=>!!(G.queryParams.skip&&G.queryParams.skip>0),6:G=>0===G.previousResults.length,7:G=>Mo(G)&&G.previousResults.length>=G.queryParams.limit,8:G=>{const Pe=G.previousResults[0];return!(!Pe||Pe[G.queryParams.primaryKey]!==G.changeEvent.id)},9:G=>{const Pe=$n(G.previousResults);return!(!Pe||Pe[G.queryParams.primaryKey]!==G.changeEvent.id)},10:G=>{const Pe=G.queryParams.sortFields,Je=G.changeEvent.previous,dt=G.changeEvent.doc;if(!dt)return!1;if(!Je)return!0;for(let Nt=0;Nt<Pe.length;Nt++){const Cn=Pe[Nt];if(wi(Je,Cn)!==wi(dt,Cn))return!0}return!1},11:G=>{const Pe=G.changeEvent.id;if(G.keyDocumentMap)return G.keyDocumentMap.has(Pe);{const Je=G.queryParams.primaryKey,dt=G.previousResults;for(let Nt=0;Nt<dt.length;Nt++)if(dt[Nt][Je]===Pe)return!0;return!1}},12:G=>{const Pe=G.changeEvent.previous;if(!Pe)return!1;const Je=G.previousResults[0];return!!Je&&(Je[G.queryParams.primaryKey]===G.changeEvent.id||G.queryParams.sortComparator(Pe,Je)<0)},13:G=>{const Pe=G.changeEvent.previous;if(!Pe)return!1;const Je=$n(G.previousResults);return!!Je&&(Je[G.queryParams.primaryKey]===G.changeEvent.id||G.queryParams.sortComparator(Pe,Je)>0)},14:G=>{const Pe=G.changeEvent.doc;if(!Pe)return!1;const Je=G.previousResults[0];return!!Je&&(Je[G.queryParams.primaryKey]===G.changeEvent.id||G.queryParams.sortComparator(Pe,Je)<0)},15:G=>{const Pe=G.changeEvent.doc;if(!Pe)return!1;const Je=$n(G.previousResults);return!!Je&&(Je[G.queryParams.primaryKey]===G.changeEvent.id||G.queryParams.sortComparator(Pe,Je)>0)},16:G=>{const Pe=G.changeEvent.previous;return!!Pe&&G.queryParams.queryMatcher(Pe)},17:G=>{const Pe=G.changeEvent.doc;return!!Pe&&G.queryParams.queryMatcher(Pe)}};let ac;const ua=G=>function Zn(G,Pe,Je){let dt=G,Nt=G.l;for(;;){if(dt=dt[H(Pe[Nt](Je))],"number"==typeof dt||"string"==typeof dt)return dt;Nt=dt.l}}(function ji(){return ac||(ac=function fi(G){const Pe=new Map,dt=2+2*parseInt(G.charAt(0)+G.charAt(1),10),Cn=Nn(G.substring(2,dt),2);for(let No=0;No<Cn.length;No++){const fa=Cn[No],ma=fa.charAt(0),_o=to(fa.charAt(1));Pe.set(ma,_o)}const Xn=Nn(G.substring(dt,G.length-3),4);for(let No=0;No<Xn.length;No++){const fa=Xn[No],ma=fa.charAt(0),_o=fa.charAt(1),dc=fa.charAt(2),qc=to(fa.charAt(3));if(!Pe.has(_o))throw new Error("missing node with id "+_o);if(!Pe.has(dc))throw new Error("missing node with id "+dc);const Nl=Pe.get(_o),Xc=Pe.get(dc);Pe.set(ma,{l:qc,0:Nl,1:Xc})}const pi=G.slice(-3),Hi=pi.charAt(0),Zi=pi.charAt(1);return{l:to(pi.charAt(2)),0:Pe.get(Hi),1:Pe.get(Zi)}}("14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7fae9\xa1bf9\xa2bq9\xa3cg9\xa4ck9\xa5cn9\xa6nd9\xa7np9\xa8nq9\xa9nf9\xaang9\xabnm9\xacnk9\xadmr9\xaems9\xafmt9\xb0mj9\xb1mk9\xb2ml9\xb3mn9\xb4mc8\xb5\xb3{8\xb6\xaf}8\xb7\xb0\xa48\xb8\xb3\xa78\xb9mn8\xba\xb3\xab8\xbb\xb3m8\xbcm\xb44\xbdz\xb24\xbe\xb3w4\xbfz\xb54\xc0\xaf\xb64\xc1\xb0\xb74\xc2\xb3\xba4\xc3\xb3\xb84\xc4m\xb94\xc5v\xa47\xc6yn7\xc7\xc0\xc17\xc8~\x7f7\xc9\xa5\xa47\xca\xc3\xc47\xcb\xa8n7\xcc\xba\xb97\xcd\xad\xb07\xce\xaem7\xcf\xaf\xb07\xd0\xb1m7\xd1\xb3m7\xd2\xbcm5\xd3\xc4m5\xd4\xb9m5\xd5\xbd\xb05\xd6\xbem5\xd7\xbf\xb05\xd8\xc7\xcf5\xd9\xc2m5\xda\xca\xd15\xdb\xb1m5\xdc\xbam5\xdd\xcc\xd15\xde\xd5\xcd2\xdf|\x7f2\xe0\xa1u2\xe1\xa3\xc52\xe2\xd6\xce2\xe3\xa6\xc62\xe4\xa9x2\xe5\xaa\xc62\xe6\xd7\xd82\xe7|\xc82\xe8\xa1\xa22\xe9\xa3\xc92\xea\xa4\xa52\xeb\xd9\xda2\xec\xa6\xcb2\xed\xa9n2\xee\xaan2\xef\xdb\xd02\xf0\xdc\xdd2\xf1\xacn2\xf2\xd2\xd3/\xf3an/\xf4bn/\xf5cn/\xf6\xde\xe2/\xf7\xdf\xe3/\xf8\xe0\xe4/\xf9\xe1\xe5/\xfa\xe6\xeb/\xfb\xe7\xec/\xfc\xe8\xed/\xfd\xe9\xee/\xfe\xcd\xce/\xff\xcf\xd1/\u0100\xf2\xd4,\u0101cn,\u0102\xf6\xef,\u0103\xa4\xf1,\u0104\xfa\xf0,\u0105\xea\xf1,\u0106\xfe\xd0,\u0107\xff\xd1,\u0108ac0\u0109bc0\u010a\xf3\xf50\u010b\xf4\u01010\u010c\xdf\xe10\u010d\xe0\xa40\u010e\xe7\xe90\u010f\xe8\xea0\u0110\xf7\xf90\u0111\xf8\u01030\u0112\xfb\xfd0\u0113\xfc\u01050\u0114m\xd2-\u0115m\u0100-\u0116\xde\xe6-\u0117\u010c\u010e-\u0118\u010d\u010f-\u0119\u0102\u0104-\u011a\u0110\u0112-\u011b\u0111\u0113-\u011c\xb2\xbb-\u011d\xcd\xcf-\u011e\u0106\u0107-\u011f\xb2\xb3-\u0120\u0114\u01083\u0121\u0115\u010a3\u0122\u0116\u01173\u0123\u0119\u011a3\u0124\u0122\u011d(\u0125\u011c\u011f(\u0126\u0123\u011e(\u0127\u0120\u0121+\u0128\u0109\u010b+\u0129\u0124\u0126+\u012a\u0118\u011b+\u012b\u0127\u01281\u012c\u0129\u012a1\u012d\u012c\u012b*\u012e\u0125m*\u012d\u012e.")),ac}(),gs,G);var Ls=P(312),Pl=P(9403),Hr=P(5365);function oi(G,Pe){return Pe.sort&&0!==Pe.sort.length?Pe.sort.map(Je=>Object.keys(Je)[0]):[G]}var vs=new WeakMap;function Fa(G,Pe){if(!G.collection.database.eventReduce)return{runFullQueryAgain:!0};var Je=function da(G){return(0,Pl.q)(vs,G,()=>{var Pe=G.collection,Je=(0,Hr._V)(Pe.storageInstance.schema,(0,ze.o8)(G.mangoQuery)),dt=Pe.schema.primaryPath,Nt=(0,Hr.Xw)(Pe.schema.jsonSchema,Je),Ln=(0,Hr.Lr)(Pe.schema.jsonSchema,Je);return{primaryKey:G.collection.schema.primaryPath,skip:Je.skip,limit:Je.limit,sortFields:oi(dt,Je),sortComparator:(Hi,Zi)=>{var Ji={docA:Hi,docB:Zi,rxQuery:G};return Nt(Ji.docA,Ji.docB)},queryMatcher:Hi=>Ln({doc:Hi,rxQuery:G}.doc)}})}(G),dt=(0,oe.ZN)(G._result).docsData.slice(0),Nt=(0,oe.ZN)(G._result).docsDataMap,Cn=!1,Xn=Pe.map(pi=>(0,Ls._r)(pi)).filter(ge.S7).find(pi=>{var Zi=function cc(G){const Pe=ua(G);return be[Pe]}({queryParams:Je,changeEvent:pi,previousResults:dt,keyDocumentMap:Nt});return"runFullQueryAgain"===Zi||("doNothing"!==Zi?(Cn=!0,function Gn(G,Pe,Je,dt,Nt){(0,W[G])({queryParams:Pe,changeEvent:Je,previousResults:dt,keyDocumentMap:Nt})}(Zi,Je,pi,dt,Nt),!1):void 0)});return Xn?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:Cn,newResults:dt}}var Gc=P(6259),La=P(9825),Va=function(){return(0,ne.A)(function G(Pe,Je,dt){this.time=(0,Me.t)(),this.collection=Pe,this.count=dt,this.documents=(0,La.X)(this.collection._docCache,Je)},[{key:"docsData",get:function(){return(0,ze.Ns)(this,"docsData",this.documents.map(Pe=>Pe._data))}},{key:"docsDataMap",get:function(){var Pe=new Map;return this.documents.forEach(Je=>{Pe.set(Je.primary,Je._data)}),(0,ze.Ns)(this,"docsDataMap",Pe)}},{key:"docsMap",get:function(){for(var Pe=new Map,Je=this.documents,dt=0;dt<Je.length;dt++){var Nt=Je[dt];Pe.set(Nt.primary,Nt)}return(0,ze.Ns)(this,"docsMap",Pe)}}])}(),zc=P(997),kl=0,ko=function(){function G(Je,dt,Nt,Cn={}){this.id=++kl,this._execOverDatabaseCount=0,this._creationTime=(0,Me.t)(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new pe.t(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Ne.Dr,this.op=Je,this.mangoQuery=dt,this.collection=Nt,this.other=Cn,dt||(this.mangoQuery={selector:{}}),this.isFindOneByIdQuery=function uc(G,Pe){if(!Pe.skip&&Pe.selector&&1===Object.keys(Pe.selector).length&&Pe.selector[G]){var Je=Pe.selector[G];if("string"==typeof Je)return Je;if(1===Object.keys(Je).length&&"string"==typeof Je.$eq||1===Object.keys(Je).length&&Array.isArray(Je.$eq)&&!Je.$eq.find(dt=>"string"!=typeof dt))return Je.$eq}return!1}(this.collection.schema.primaryPath,dt)}var Pe=G.prototype;return Pe._setResultData=function(dt){if("number"!=typeof dt){dt instanceof Map&&(dt=Array.from(dt.values()));var Nt=new Va(this.collection,dt,dt.length);this._result=Nt}else this._result=new Va(this.collection,[],dt)},Pe._execOverDatabase=function(){var Je=(0,J.A)(function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=(0,Me.t)(),"count"===this.op){var Nt=this.getPreparedQuery(),Cn=yield this.collection.storageInstance.count(Nt);if("slow"===Cn.mode&&!this.collection.database.allowSlowCount)throw(0,Fe.Br)("QU14",{collection:this.collection,queryObj:this.mangoQuery});return Cn.count}if("findByIds"===this.op){var Ln=(0,oe.ZN)(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,Xn=new Map,pi=[];return Ln.forEach(Ji=>{var Oo=this.collection._docCache.getLatestDocumentDataIfExists(Ji);if(Oo){if(!Oo._deleted){var Vs=this.collection._docCache.getCachedRxDocument(Oo);Xn.set(Ji,Vs)}}else pi.push(Ji)}),pi.length>0&&(yield this.collection.storageInstance.findDocumentsById(pi,!1)).forEach(Ji=>{var Oo=this.collection._docCache.getCachedRxDocument(Ji);Xn.set(Oo.primary,Oo)}),Xn}var Zi=function po(G){return io.apply(this,arguments)}(this);return Zi.then(Ji=>(this._lastExecEnd=(0,Me.t)(),Ji))});return function dt(){return Je.apply(this,arguments)}}(),Pe.exec=function(dt){if(dt&&"findOne"!==this.op)throw(0,Fe.Br)("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return lc(this).then(()=>(0,ae._)(this.$)).then(Nt=>{if(!Nt&&dt)throw(0,Fe.Br)("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Nt})},Pe.toString=function(){var dt=(0,ze.mf)({op:this.op,query:this.mangoQuery,other:this.other},!0),Nt=JSON.stringify(dt);return this.toString=()=>Nt,Nt},Pe.getPreparedQuery=function(){var dt={rxQuery:this,mangoQuery:(0,Hr._V)(this.collection.schema.jsonSchema,this.mangoQuery)};dt.mangoQuery.selector._deleted={$eq:!1},dt.mangoQuery.index&&dt.mangoQuery.index.unshift("_deleted"),(0,De.Xi)("prePrepareQuery",dt);var Nt=Du(this.collection.schema.jsonSchema,dt.mangoQuery);return this.getPreparedQuery=()=>Nt,Nt},Pe.doesDocumentDataMatch=function(dt){return!dt._deleted&&this.queryMatcher(dt)},Pe.remove=function(){return this.exec().then(dt=>Array.isArray(dt)?Promise.all(dt.map(Nt=>Nt.remove())):dt.remove())},Pe.incrementalRemove=function(){return(0,Hr.dx)(this.asRxQuery,dt=>dt.incrementalRemove())},Pe.update=function(dt){throw(0,Re.u)("update")},Pe.patch=function(dt){return(0,Hr.dx)(this.asRxQuery,Nt=>Nt.patch(dt))},Pe.incrementalPatch=function(dt){return(0,Hr.dx)(this.asRxQuery,Nt=>Nt.incrementalPatch(dt))},Pe.modify=function(dt){return(0,Hr.dx)(this.asRxQuery,Nt=>Nt.modify(dt))},Pe.incrementalModify=function(dt){return(0,Hr.dx)(this.asRxQuery,Nt=>Nt.incrementalModify(dt))},Pe.where=function(dt){throw(0,Re.u)("query-builder")},Pe.sort=function(dt){throw(0,Re.u)("query-builder")},Pe.skip=function(dt){throw(0,Re.u)("query-builder")},Pe.limit=function(dt){throw(0,Re.u)("query-builder")},(0,ne.A)(G,[{key:"$",get:function(){if(!this._$){var Je=this.collection.$.pipe((0,a.p)(dt=>!dt.isLocal),(0,Ce.Z)(null),(0,lt.Z)(()=>lc(this)),(0,Be.T)(()=>this._result),(0,Ue.t)(oe.bz),(0,Y.F)((dt,Nt)=>!(!dt||dt.time!==(0,oe.ZN)(Nt).time)),(0,a.p)(dt=>!!dt),(0,Be.T)(dt=>{var Nt=(0,oe.ZN)(dt);return"count"===this.op?Nt.count:"findOne"===this.op?0===Nt.documents.length?null:Nt.documents[0]:"findByIds"===this.op?Nt.docsMap:Nt.documents.slice(0)}));this._$=(0,D.h)(Je,this.refCount$.pipe((0,a.p)(()=>!1)))}return this._$}},{key:"$$",get:function(){return this.collection.database.getReactivityFactory().fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var Je=this.collection.schema.jsonSchema,dt=(0,Hr._V)(this.collection.schema.jsonSchema,this.mangoQuery);return(0,ze.Ns)(this,"queryMatcher",(0,Hr.Lr)(Je,dt))}},{key:"asRxQuery",get:function(){return this}}])}();function ha(){return{selector:{}}}function Kc(G,Pe,Je,dt){(0,De.Xi)("preCreateRxQuery",{op:G,queryObj:Pe,collection:Je,other:dt});var Nt=new ko(G,Pe,Je,dt);return Nt=function Wc(G){return G.collection._queryCache.getByQuery(G)}(Nt),(0,Gc.n9)(Je),Nt}function zn(G){var Pe=G.asRxQuery.collection._changeEventBuffer.getCounter();return G._latestChangeEvent>=Pe}function lc(G){return G.collection.database.destroyed||zn(G)?Ne.Dr:(G._ensureEqualQueue=G._ensureEqualQueue.then(()=>function Ol(G){if(G._lastEnsureEqual=(0,Me.t)(),G.collection.database.destroyed||zn(G))return Ne.Dr;var Pe=!1,Je=!1;if(-1===G._latestChangeEvent&&(Je=!0),!Je){var dt=G.asRxQuery.collection._changeEventBuffer.getFrom(G._latestChangeEvent+1);if(null===dt)Je=!0;else{G._latestChangeEvent=G.asRxQuery.collection._changeEventBuffer.getCounter();var Nt=G.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(dt);if("count"===G.op){var Cn=(0,oe.ZN)(G._result).count,Ln=Cn;Nt.forEach(pi=>{var Hi=pi.previousDocumentData&&G.doesDocumentDataMatch(pi.previousDocumentData),Zi=G.doesDocumentDataMatch(pi.documentData);!Hi&&Zi&&Ln++,Hi&&!Zi&&Ln--}),Ln!==Cn&&(Pe=!0,G._setResultData(Ln))}else{var Xn=Fa(G,Nt);Xn.runFullQueryAgain?Je=!0:Xn.changed&&(Pe=!0,G._setResultData(Xn.newResults))}}}return Je?G._execOverDatabase().then(pi=>(G._latestChangeEvent=G.collection._changeEventBuffer.getCounter(),"number"==typeof pi?((!G._result||pi!==G._result.count)&&(Pe=!0,G._setResultData(pi)),Pe):((!G._result||!(0,ke.YL)(G.collection.schema.primaryPath,pi,G._result.docsData))&&(Pe=!0,G._setResultData(pi)),Pe))):Promise.resolve(Pe)}(G)),G._ensureEqualQueue)}function Du(G,Pe){if(!Pe.sort)throw(0,Fe.Br)("SNH",{query:Pe});return{query:Pe,queryPlan:(0,zc.sk)(G,Pe)}}function io(){return(io=(0,J.A)(function*(G){var Pe=[],Je=G.collection;if(G.isFindOneByIdQuery)if(Array.isArray(G.isFindOneByIdQuery)){var dt=G.isFindOneByIdQuery;if((dt=dt.filter(Zi=>{var Ji=G.collection._docCache.getLatestDocumentDataIfExists(Zi);return!Ji||(Ji._deleted||Pe.push(Ji),!1)})).length>0){var Nt=yield Je.storageInstance.findDocumentsById(dt,!1);(0,ge.Hb)(Pe,Nt)}}else{var Cn=G.isFindOneByIdQuery,Ln=G.collection._docCache.getLatestDocumentDataIfExists(Cn);if(!Ln){var Xn=yield Je.storageInstance.findDocumentsById([Cn],!1);Xn[0]&&(Ln=Xn[0])}Ln&&!Ln._deleted&&Pe.push(Ln)}else{var pi=G.getPreparedQuery(),Hi=yield Je.storageInstance.query(pi);Pe=Hi.documents}return Pe})).apply(this,arguments)}},1885:(Bt,et,P)=>{"use strict";P.d(et,{pA:()=>Ae,Nq:()=>Me,Ud:()=>ge,U:()=>ze,uK:()=>De,Hq:()=>oe,xQ:()=>Ne,nT:()=>Y,d1:()=>Re});var J=P(7650),ne=/\./g,ae=P(720),D=P(1744),a=P(8663),Ce=P(6434),lt=P(7176);function Y(Ie,st){var Qe=st;return Qe=Qe.replace(ne,".properties."),Qe=(0,ae.L$)(Qe="properties."+Qe),(0,D.UU)(Ie,Qe)}function Me(Ie,st,Qe){if("string"==typeof st.primaryKey)return Qe;var _e=ze(st,Qe),ue=Qe[Ie];if(ue&&ue!==_e)throw(0,J.Br)("DOC19",{args:{documentData:Qe,existingPrimary:ue,newPrimary:_e},schema:st});return Qe[Ie]=_e,Qe}function Ne(Ie){return"string"==typeof Ie?Ie:Ie.key}function oe(Ie){var Qe=Y(Ie,Ne(Ie.primaryKey));return(0,a.ZN)(Qe.maxLength)}function ze(Ie,st){if("string"==typeof Ie.primaryKey)return st[Ie.primaryKey];var Qe=Ie.primaryKey;return Qe.fields.map(_e=>{var ue=(0,D.UU)(st,_e);if(typeof ue>"u")throw(0,J.Br)("DOC18",{args:{field:_e,documentData:st}});return ue}).join(Qe.separator)}function Re(Ie){return(0,Ce.mf)(Ie,!0)}function ge(Ie){var st=Ne((Ie=(0,Ce.FD)(Ie)).primaryKey);Ie.properties=(0,Ce.FD)(Ie.properties),Ie.additionalProperties=!1,Object.prototype.hasOwnProperty.call(Ie,"keyCompression")||(Ie.keyCompression=!1),Ie.indexes=Ie.indexes?Ie.indexes.slice(0):[],Ie.required=Ie.required?Ie.required.slice(0):[],Ie.encrypted=Ie.encrypted?Ie.encrypted.slice(0):[],Ie.properties._rev={type:"string",minLength:1},Ie.properties._attachments={type:"object"},Ie.properties._deleted={type:"boolean"},Ie.properties._meta=Fe,Ie.required=Ie.required?Ie.required.slice(0):[],Ie.required.push("_deleted"),Ie.required.push("_rev"),Ie.required.push("_meta"),Ie.required.push("_attachments");var Qe=De(Ie);(0,lt.Hb)(Ie.required,Qe),Ie.required=Ie.required.filter(Q=>!Q.includes(".")).filter((Q,pt,Ct)=>Ct.indexOf(Q)===pt),Ie.version=Ie.version||0;var _e=Ie.indexes.map(Q=>{var pt=(0,lt.k_)(Q)?Q.slice(0):[Q];return pt.includes(st)||pt.push(st),"_deleted"!==pt[0]&&pt.unshift("_deleted"),pt});0===_e.length&&_e.push(function ke(Ie){return["_deleted",Ie]}(st)),_e.push(["_meta.lwt",st]),Ie.internalIndexes&&Ie.internalIndexes.map(Q=>{_e.push(Q)});var ue=new Set;return _e.filter(Q=>{var pt=Q.join(",");return!ue.has(pt)&&(ue.add(pt),!0)}),Ie.indexes=_e,Ie}var Fe={type:"object",properties:{lwt:{type:"number",minimum:P(2060).MC,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function De(Ie){var st=Object.keys(Ie.properties).filter(_e=>Ie.properties[_e].final),Qe=Ne(Ie.primaryKey);return st.push(Qe),"string"!=typeof Ie.primaryKey&&Ie.primaryKey.fields.forEach(_e=>st.push(_e)),st}function Ae(Ie,st){for(var Qe=Object.keys(Ie.defaultValues),_e=0;_e<Qe.length;++_e){var ue=Qe[_e];(!Object.prototype.hasOwnProperty.call(st,ue)||typeof st[ue]>"u")&&(st[ue]=Ie.defaultValues[ue])}return st}},9182:(Bt,et,P)=>{"use strict";P.d(et,{NP:()=>Y,Wq:()=>Me,wJ:()=>Be});var J=P(6126),ne=P(6636),pe=P(6434),ae=P(7176),D=P(7650),a=P(2284),Ce=P(1885),lt=P(3896),Be=function(){function ze(ke,ge){this.jsonSchema=ke,this.hashFunction=ge,this.indexes=function Ue(ze){return(ze.indexes||[]).map(Re=>(0,ae.k_)(Re)?Re:[Re])}(this.jsonSchema),this.primaryPath=(0,Ce.xQ)(this.jsonSchema.primaryKey),this.finalFields=(0,Ce.uK)(this.jsonSchema)}var Re=ze.prototype;return Re.validateChange=function(ge,Fe){this.finalFields.forEach(De=>{if(!(0,ne.b)(ge[De],Fe[De]))throw(0,D.Br)("DOC9",{dataBefore:ge,dataAfter:Fe,fieldName:De,schema:this.jsonSchema})})},Re.getDocumentPrototype=function(){var ge={},Fe=(0,Ce.nT)(this.jsonSchema,"");return Object.keys(Fe).forEach(De=>{var Ae=De;ge.__defineGetter__(De,function(){if(this.get&&"function"==typeof this.get)return this.get(Ae)}),Object.defineProperty(ge,De+"$",{get:function(){return this.get$(Ae)},enumerable:!1,configurable:!1}),Object.defineProperty(ge,De+"$$",{get:function(){return this.get$$(Ae)},enumerable:!1,configurable:!1}),Object.defineProperty(ge,De+"_",{get:function(){return this.populate(Ae)},enumerable:!1,configurable:!1})}),(0,pe.Ns)(this,"getDocumentPrototype",()=>ge),ge},Re.getPrimaryOfDocumentData=function(ge){return(0,Ce.U)(this.jsonSchema,ge)},(0,J.A)(ze,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var ke={};return Object.entries(this.jsonSchema.properties).filter(([,ge])=>Object.prototype.hasOwnProperty.call(ge,"default")).forEach(([ge,Fe])=>ke[ge]=Fe.default),(0,pe.Ns)(this,"defaultValues",ke)}},{key:"hash",get:function(){return(0,pe.Ns)(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function Y(ze){var ke=0;return new Array(ze.version?ze.version:0).fill(0).map(()=>ke++)}function Me(ze,Re,ke=!0){ke&&(0,a.Xi)("preCreateRxSchema",ze);var ge=(0,Ce.Ud)(ze);ge=(0,Ce.d1)(ge),lt.h.deepFreezeWhenDevMode(ge);var Fe=new Be(ge,Re);return(0,a.Xi)("createRxSchema",Fe),Fe}},6893:(Bt,et,P)=>{"use strict";P.d(et,{AM:()=>At,C9:()=>pt,ME:()=>tn,Mu:()=>We,O5:()=>ke,OG:()=>ze,WX:()=>Ie,YN:()=>se,gi:()=>st,mQ:()=>Fe,on:()=>Q,p0:()=>Rn,pZ:()=>un});var J=P(467),ne=P(3896),pe=P(7650),ae=P(1885),D=P(720),a=P(4552),Ce=P(8663),lt=P(6434),Be=P(6568),Ue=P(7176),Y=P(2060),Me=P(5672),Ne=P(5365),oe=P(2284),ze="_rxdb_internal";function ke(W,B){return ge.apply(this,arguments)}function ge(){return(ge=(0,J.A)(function*(W,B){var X=(yield W.findDocumentsById([B],!1))[0];if(X)return X})).apply(this,arguments)}function Fe(W,B,H){return De.apply(this,arguments)}function De(){return(De=(0,J.A)(function*(W,B,H){var X=yield W.bulkWrite([B],H);if(X.error.length>0)throw X.error[0];return se((0,ae.xQ)(W.schema.primaryKey),[B],X)[0]})).apply(this,arguments)}function We(W){return Object.assign({},...W)}function Ie(W,B,H,X){if(X)throw 409===X.status?(0,pe.Br)("CONFLICT",{collection:W.name,id:B,writeError:X,data:H}):422===X.status?(0,pe.Br)("VD2",{collection:W.name,id:B,writeError:X,data:H}):X}function st(W,B,H,X,Z,re,ce){for(var Nn,Se=!!W.schema.attachments,It=[],Lt=[],Rt=[],rn={id:(0,D.z3)(10),events:[],checkpoint:null,context:Z,startTime:(0,a.t)(),endTime:0},sn=rn.events,ln=[],$t=[],hn=[],on=H.size>0,Tn=X.length,eo=function(){var jt,Bi=X[to],zt=Bi.document,Ei=Bi.previous,fi=zt[B],Zn=zt._deleted,$n=Ei&&Ei._deleted,ri=void 0;if(on&&(ri=H.get(fi)),ri){if(!Ei||Ei&&ri._rev!==Ei._rev)return Rt.push({isError:!0,status:409,documentId:fi,writeRow:Bi,documentInDb:ri}),1;var Ko=Se?Qe(Bi):Bi;Se&&(Zn?Ei&&Object.keys(Ei._attachments).forEach(Ui=>{$t.push({documentId:fi,attachmentId:Ui,digest:(0,Ce.ZN)(Ei)._attachments[Ui].digest})}):(Object.entries(zt._attachments).find(([Ui,rr])=>(!(Ei?Ei._attachments[Ui]:void 0)&&!rr.data&&(jt={documentId:fi,documentInDb:ri,isError:!0,status:510,writeRow:Bi,attachmentId:Ui}),!0)),jt||Object.entries(zt._attachments).forEach(([Ui,rr])=>{var wi=Ei?Ei._attachments[Ui]:void 0;wi?rr.data&&wi.digest!==Ko.document._attachments[Ui].digest&&hn.push({documentId:fi,attachmentId:Ui,attachmentData:rr,digest:rr.digest}):ln.push({documentId:fi,attachmentId:Ui,attachmentData:rr,digest:rr.digest})}))),jt?Rt.push(jt):(Se?(Lt.push(Qe(Ko)),ce&&ce(zt)):(Lt.push(Ko),ce&&ce(zt)),Nn=Ko);var sa=null,aa=null,oc=null;if($n&&!Zn)oc="INSERT",sa=Se?Q(zt):zt;else if(!Ei||$n||Zn){if(!Zn)throw(0,pe.Br)("SNH",{args:{writeRow:Bi}});oc="DELETE",sa=(0,Ce.ZN)(zt),aa=Ei}else oc="UPDATE",sa=Se?Q(zt):zt,aa=Ei;sn.push({documentId:fi,documentData:sa,previousDocumentData:aa,operation:oc})}else{var Wo=!!Zn;if(Se&&Object.entries(zt._attachments).forEach(([Ui,rr])=>{rr.data?ln.push({documentId:fi,attachmentId:Ui,attachmentData:rr,digest:rr.digest}):Rt.push(jt={documentId:fi,isError:!0,status:510,writeRow:Bi,attachmentId:Ui})}),jt||(Se?(It.push(Qe(Bi)),re&&re(zt)):(It.push(Bi),re&&re(zt)),Nn=Bi),!Wo){var xo={documentId:fi,operation:"INSERT",documentData:Se?Q(zt):zt,previousDocumentData:Se&&Ei?Q(Ei):Ei};sn.push(xo)}}},to=0;to<Tn;to++)eo();return{bulkInsertDocs:It,bulkUpdateDocs:Lt,newestRow:Nn,errors:Rt,eventBulk:rn,attachmentsAdd:ln,attachmentsRemove:$t,attachmentsUpdate:hn}}function Qe(W){return{previous:W.previous,document:Q(W.document)}}function _e(W){return atob(W).length}function Q(W){if(!W._attachments||0===Object.keys(W._attachments).length)return W;var B=(0,lt.FD)(W);return B._attachments={},Object.entries(W._attachments).forEach(([H,X])=>{B._attachments[H]=function ue(W){var B=W.data;return B?{length:_e(B),digest:W.digest,type:W.type}:W}(X)}),B}function pt(W){return Object.assign({},W,{_meta:(0,lt.FD)(W._meta)})}var Ct=new WeakMap;function At(W,B,H){ne.h.deepFreezeWhenDevMode(H);var X=(0,ae.xQ)(B.schema.primaryKey),Z={originalStorageInstance:B,schema:B.schema,internals:B.internals,collectionName:B.collectionName,databaseName:B.databaseName,options:B.options,bulkWrite(re,ce){for(var Se=W.token,It=new Array(re.length),Lt=(0,a.t)(),Rt=0;Rt<re.length;Rt++){var Ut=re[Rt],rn=pt(Ut.document);rn._meta.lwt=Lt;var sn=Ut.previous;rn._rev=(0,Be.CM)(Se,sn),It[Rt]={document:rn,previous:sn}}return(0,oe.Xi)("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:It}),W.lockedRun(()=>B.bulkWrite(It,ce)).then(ln=>{var $t={error:[]},hn=se(X,It,ln);Ct.set($t,hn);var on=0===ln.error.length?[]:ln.error.filter(Tn=>!(409!==Tn.status||Tn.writeRow.previous||Tn.writeRow.document._deleted||!(0,Ce.ZN)(Tn.documentInDb)._deleted)||($t.error.push(Tn),!1));if(on.length>0){var Nn=on.map(Tn=>({previous:Tn.documentInDb,document:Object.assign({},Tn.writeRow.document,{_rev:(0,Be.CM)(W.token,Tn.documentInDb)})}));return W.lockedRun(()=>B.bulkWrite(Nn,ce)).then(Tn=>{(0,Ue.Hb)($t.error,Tn.error);var eo=se(X,Nn,Tn);return(0,Ue.Hb)(hn,eo),$t})}return $t})},query:re=>W.lockedRun(()=>B.query(re)),count:re=>W.lockedRun(()=>B.count(re)),findDocumentsById:(re,ce)=>W.lockedRun(()=>B.findDocumentsById(re,ce)),getAttachmentData:(re,ce,Se)=>W.lockedRun(()=>B.getAttachmentData(re,ce,Se)),getChangedDocumentsSince:B.getChangedDocumentsSince?(re,ce)=>W.lockedRun(()=>B.getChangedDocumentsSince((0,Ce.ZN)(re),ce)):void 0,cleanup:re=>W.lockedRun(()=>B.cleanup(re)),remove:()=>(W.storageInstances.delete(Z),W.lockedRun(()=>B.remove())),close:()=>(W.storageInstances.delete(Z),W.lockedRun(()=>B.close())),changeStream:()=>B.changeStream(),conflictResultionTasks:()=>B.conflictResultionTasks(),resolveConflictResultionTask(re){if(re.output.isEqual)return B.resolveConflictResultionTask(re);var ce=Object.assign({},re.output.documentData,{_meta:(0,Y.o4)(),_rev:(0,Y.Fq)(),_attachments:{}}),Se=(0,lt.FD)(ce);return delete Se._meta,delete Se._rev,delete Se._attachments,B.resolveConflictResultionTask({id:re.id,output:{isEqual:!1,documentData:Se}})}};return W.storageInstances.add(Z),Z}function un(W){if(W.schema.keyCompression)throw(0,pe.Br)("UT5",{args:{params:W}});if(tn(W.schema))throw(0,pe.Br)("UT6",{args:{params:W}});if(W.schema.attachments&&W.schema.attachments.compression)throw(0,pe.Br)("UT7",{args:{params:W}})}function tn(W){return!!(W.encrypted&&W.encrypted.length>0||W.attachments&&W.attachments.encrypted)}function Rn(W,B,H){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,J.A)(function*(W,B,H){if(W.getChangedDocumentsSince)return W.getChangedDocumentsSince(B,H);var X=(0,ae.xQ)(W.schema.primaryKey),Z=(0,Me.Ib)(W.schema,function mn(W,B,H){var X=(0,ae.xQ)(W.schema.primaryKey),Z=H?H.lwt:Y.MC;return(0,Ne._V)(W.schema,{selector:{$or:[{"_meta.lwt":{$gt:Z}},{"_meta.lwt":{$eq:Z},[X]:{$gt:H&&H?H.id:""}}],"_meta.lwt":{$gte:Z}},sort:[{"_meta.lwt":"asc"},{[X]:"asc"}],skip:0,limit:B})}(W,B,H)),ce=(yield W.query(Z)).documents,Se=(0,Ue.dG)(ce);return{documents:ce,checkpoint:Se?{id:Se[X],lwt:Se._meta.lwt}:H||{id:"",lwt:0}}})).apply(this,arguments)}function se(W,B,H){var X=Ct.get(H);if(X)return X;var Z=[];if(H.error.length>0){for(var re=new Set,ce=0;ce<H.error.length;ce++)re.add(H.error[ce].documentId);for(var It=0;It<B.length;It++){var Lt=B[It].document;re.has(Lt[W])||Z.push(Q(Lt))}}else{Z.length=B.length-H.error.length;for(var Rt=0;Rt<B.length;Rt++)Z[Rt]=Q(B[Rt].document)}return Z}},467:(Bt,et,P)=>{"use strict";function J(pe,ae,D,a,Ce,lt,Be){try{var Ue=pe[lt](Be),Y=Ue.value}catch(Me){return void D(Me)}Ue.done?ae(Y):Promise.resolve(Y).then(a,Ce)}function ne(pe){return function(){var ae=this,D=arguments;return new Promise(function(a,Ce){var lt=pe.apply(ae,D);function Be(Y){J(lt,a,Ce,Be,Ue,"next",Y)}function Ue(Y){J(lt,a,Ce,Be,Ue,"throw",Y)}Be(void 0)})}}P.d(et,{A:()=>ne})},6126:(Bt,et,P)=>{"use strict";function J(a){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ce){return typeof Ce}:function(Ce){return Ce&&"function"==typeof Symbol&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce})(a)}function pe(a){var Ce=function ne(a,Ce){if("object"!=J(a)||!a)return a;var lt=a[Symbol.toPrimitive];if(void 0!==lt){var Be=lt.call(a,Ce||"default");if("object"!=J(Be))return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ce?String:Number)(a)}(a,"string");return"symbol"==J(Ce)?Ce:Ce+""}function ae(a,Ce){for(var lt=0;lt<Ce.length;lt++){var Be=Ce[lt];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(a,pe(Be.key),Be)}}function D(a,Ce,lt){return Ce&&ae(a.prototype,Ce),lt&&ae(a,lt),Object.defineProperty(a,"prototype",{writable:!1}),a}P.d(et,{A:()=>D})},6719:(Bt,et,P)=>{"use strict";P.d(et,{A:()=>ne});var J=P(4394);function ne(pe,ae){pe.prototype=Object.create(ae.prototype),pe.prototype.constructor=pe,(0,J.A)(pe,ae)}},4394:(Bt,et,P)=>{"use strict";function J(ne,pe){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,D){return ae.__proto__=D,ae})(ne,pe)}P.d(et,{A:()=>J})},1635:(Bt,et,P)=>{"use strict";function ae(Ge,se){var be={};for(var W in Ge)Object.prototype.hasOwnProperty.call(Ge,W)&&se.indexOf(W)<0&&(be[W]=Ge[W]);if(null!=Ge&&"function"==typeof Object.getOwnPropertySymbols){var B=0;for(W=Object.getOwnPropertySymbols(Ge);B<W.length;B++)se.indexOf(W[B])<0&&Object.prototype.propertyIsEnumerable.call(Ge,W[B])&&(be[W[B]]=Ge[W[B]])}return be}function Me(Ge,se,be,W){return new(be||(be=Promise))(function(H,X){function Z(Se){try{ce(W.next(Se))}catch(It){X(It)}}function re(Se){try{ce(W.throw(Se))}catch(It){X(It)}}function ce(Se){Se.done?H(Se.value):function B(H){return H instanceof be?H:new be(function(X){X(H)})}(Se.value).then(Z,re)}ce((W=W.apply(Ge,se||[])).next())})}function Ae(Ge){return this instanceof Ae?(this.v=Ge,this):new Ae(Ge)}function We(Ge,se,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,W=be.apply(Ge,se||[]),H=[];return B={},Z("next"),Z("throw"),Z("return",function X(Rt){return function(Ut){return Promise.resolve(Ut).then(Rt,It)}}),B[Symbol.asyncIterator]=function(){return this},B;function Z(Rt,Ut){W[Rt]&&(B[Rt]=function(rn){return new Promise(function(sn,ln){H.push([Rt,rn,sn,ln])>1||re(Rt,rn)})},Ut&&(B[Rt]=Ut(B[Rt])))}function re(Rt,Ut){try{!function ce(Rt){Rt.value instanceof Ae?Promise.resolve(Rt.value.v).then(Se,It):Lt(H[0][2],Rt)}(W[Rt](Ut))}catch(rn){Lt(H[0][3],rn)}}function Se(Rt){re("next",Rt)}function It(Rt){re("throw",Rt)}function Lt(Rt,Ut){Rt(Ut),H.shift(),H.length&&re(H[0][0],H[0][1])}}function st(Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,se=Ge[Symbol.asyncIterator];return se?se.call(Ge):(Ge=function Re(Ge){var se="function"==typeof Symbol&&Symbol.iterator,be=se&&Ge[se],W=0;if(be)return be.call(Ge);if(Ge&&"number"==typeof Ge.length)return{next:function(){return Ge&&W>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[W++],done:!Ge}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ge),be={},W("next"),W("throw"),W("return"),be[Symbol.asyncIterator]=function(){return this},be);function W(H){be[H]=Ge[H]&&function(X){return new Promise(function(Z,re){!function B(H,X,Z,re){Promise.resolve(re).then(function(ce){H({value:ce,done:Z})},X)}(Z,re,(X=Ge[H](X)).done,X.value)})}}}P.d(et,{AQ:()=>We,N3:()=>Ae,Tt:()=>ae,sH:()=>Me,xN:()=>st}),"function"==typeof SuppressedError&&SuppressedError}},Bt=>{Bt(Bt.s=1720)}]);