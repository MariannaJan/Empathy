(self.webpackChunkEmpathy=self.webpackChunkEmpathy||[]).push([[792],{7133:(Bt,et,O)=>{"use strict";var J=O(1985),re=O(8359),me=O(7707);!function ae(n){n.__load_patch("rxjs",(t,e,r)=>{const i=e.__symbol__,m=Object.defineProperties;r.patchMethod(J.c.prototype,"lift",B=>(K,pe)=>{const fe=B.apply(K,pe);return fe.operator&&(fe.operator._zone=e.current,r.patchMethod(fe.operator,"call",he=>(ht,vt)=>ht._zone&&ht._zone!==e.current?ht._zone.run(he,ht,vt):he.apply(ht,vt))),fe}),function(){const B=J.c.prototype,pe=B[i("_subscribe")]=B._subscribe;m(J.c.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneSource:{value:null,writable:!0,configurable:!0},_zoneSubscribe:{value:null,writable:!0,configurable:!0},source:{configurable:!0,get:function(){return this._zoneSource},set:function(fe){this._zone=e.current,this._zoneSource=fe}},_subscribe:{configurable:!0,get:function(){if(this._zoneSubscribe)return this._zoneSubscribe;if(this.constructor===J.c)return pe;const fe=Object.getPrototypeOf(this);return fe&&fe._subscribe},set:function(fe){this._zone=e.current,this._zoneSubscribe=fe?function(){if(this._zone&&this._zone!==e.current){const he=this._zone.run(fe,this,arguments);if("function"==typeof he){const ht=this._zone;return function(){return ht!==e.current?ht.run(he,this,arguments):he.apply(this,arguments)}}return he}return fe.apply(this,arguments)}:fe}},subjectFactory:{get:function(){return this._zoneSubjectFactory},set:function(fe){const he=this._zone;this._zoneSubjectFactory=function(){return he&&he!==e.current?he.run(fe,this,arguments):fe.apply(this,arguments)}}}})}(),m(re.yU.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneUnsubscribe:{value:null,writable:!0,configurable:!0},_unsubscribe:{get:function(){if(this._zoneUnsubscribe||this._zoneUnsubscribeCleared)return this._zoneUnsubscribe;const B=Object.getPrototypeOf(this);return B&&B._unsubscribe},set:function(B){this._zone=e.current,B?(this._zoneUnsubscribeCleared=!1,this._zoneUnsubscribe=function(){return this._zone&&this._zone!==e.current?this._zone.run(B,this,arguments):B.apply(this,arguments)}):(this._zoneUnsubscribe=B,this._zoneUnsubscribeCleared=!0)}}}),function(){const B=me.vU.prototype.next,K=me.vU.prototype.error,pe=me.vU.prototype.complete;Object.defineProperty(me.vU.prototype,"destination",{configurable:!0,get:function(){return this._zoneDestination},set:function(fe){this._zone=e.current,this._zoneDestination=fe}}),me.vU.prototype.next=function(){const he=this._zone;return he&&he!==e.current?he.run(B,this,arguments,"rxjs.Subscriber.next"):B.apply(this,arguments)},me.vU.prototype.error=function(){const he=this._zone;return he&&he!==e.current?he.run(K,this,arguments,"rxjs.Subscriber.error"):K.apply(this,arguments)},me.vU.prototype.complete=function(){const he=this._zone;return he&&he!==e.current?he.run(pe,this,arguments,"rxjs.Subscriber.complete"):pe.call(this)}}()})}(Zone);var x=O(467),l=O(3953),De=O(8071);var Be=O(6648),Ue=O(9326);function Y(...n){const t=(0,Ue.lI)(n);return(0,Be.H)(n,t)}var Me=O(4412);const{isArray:Ne}=Array,{getPrototypeOf:oe,prototype:ze,keys:Re}=Object;function Pe(n){if(1===n.length){const t=n[0];if(Ne(t))return{args:t,keys:null};if(function ge(n){return n&&"object"==typeof n&&oe(n)===ze}(t)){const e=Re(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var Fe=O(3669),xe=O(6354);const{isArray:Ae}=Array;function Ie(n){return(0,xe.T)(t=>function We(n,t){return Ae(t)?n(...t):n(t)}(n,t))}function st(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}var Qe=O(4360),_e=O(5225);function ue(...n){const t=(0,Ue.lI)(n),e=(0,Ue.ms)(n),{args:r,keys:i}=Pe(n);if(0===r.length)return(0,Be.H)([],t);const c=new J.c(function Q(n,t,e=Fe.D){return r=>{mt(t,()=>{const{length:i}=n,c=new Array(i);let d=i,f=i;for(let m=0;m<i;m++)mt(t,()=>{const w=(0,Be.H)(n[m],t);let A=!1;w.subscribe((0,Qe._)(r,R=>{c[m]=R,A||(A=!0,f--),f||r.next(e(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,t,i?d=>st(i,d):Fe.D));return e?c.pipe(Ie(e)):c}function mt(n,t,e){n?(0,_e.N)(e,n,t):t()}var Dt=O(9350),At=O(8793),ln=O(8750);function en(n){return new J.c(t=>{(0,ln.Tg)(n()).subscribe(t)})}var fn=O(1203);function On(n,t){const e=(0,De.T)(n)?n:()=>n,r=i=>i.error(e());return new J.c(t?i=>t.schedule(r,0,i):r)}var Ge=O(983),se=O(9974);function be(){return(0,se.N)((n,t)=>{let e=null;n._refCount++;const r=(0,Qe._)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,c=e;e=null,i&&(!c||i===c)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class W extends J.c{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,se.S)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new re.yU;const e=this.getSubject();t.add(this.source.subscribe((0,Qe._)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=re.yU.EMPTY)}return t}refCount(){return be()(this)}}var U=O(1413);let $=null;function X(){return $}class ie{}const Te=new l.nKC("");let It=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(Rt),providedIn:"platform"})}return n})();const Lt=new l.nKC("");let Rt=(()=>{class n extends It{constructor(){super(),this._doc=(0,l.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(e){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ut(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function nn(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function on(n){return n&&"?"!==n[0]?"?"+n:n}let cn=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(dn),providedIn:"root"})}return n})();const Ht=new l.nKC("");let dn=(()=>{class n extends cn{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ut(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+on(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,c){const d=this.prepareExternalUrl(i+on(c));this._platformLocation.pushState(e,r,d)}replaceState(e,r,i,c){const d=this.prepareExternalUrl(i+on(c));this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(It),l.KVO(Ht,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rn=(()=>{class n extends cn{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ut(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,c){let d=this.prepareExternalUrl(i+on(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,r,d)}replaceState(e,r,i,c){let d=this.prepareExternalUrl(i+on(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(It),l.KVO(Ht,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),kn=(()=>{class n{constructor(e){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function Vr(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(nn(eo(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+on(r))}normalize(e){return n.stripTrailingSlash(function Ji(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,eo(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+on(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+on(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static#e=this.normalizeQueryParams=on;static#t=this.joinWithSlash=Ut;static#n=this.stripTrailingSlash=nn;static#r=this.\u0275fac=function(r){return new(r||n)(l.KVO(cn))};static#i=this.\u0275prov=l.jDH({token:n,factory:()=>function Cn(){return new kn((0,l.KVO)(cn))}(),providedIn:"root"})}return n})();function eo(n){return n.replace(/\/index.html$/,"")}const Xr=/\s+/,Ao=[];let As=(()=>{class n{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=Ao,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Xr):Ao}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Xr):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Xr).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.sFG))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})(),vl=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.c1b))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.OA$]})}return n})();function ni(n,t){return new l.wOt(2100,!1)}class Ra{createSubscription(t,e){return(0,l.O8t)(()=>t.subscribe({next:e,error:r=>{throw r}}))}dispose(t){(0,l.O8t)(()=>t.unsubscribe())}}class ia{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const Iu=new ia,yl=new Ra;let wr=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,l.jNT)(e))return Iu;if((0,l.zjR)(e))return yl;throw ni()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.gRc,16))};static#t=this.\u0275pipe=l.EJ8({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Ar=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Fd=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw ni();return e.replace(Ar,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=l.EJ8({name:"titlecase",type:n,pure:!0,standalone:!0})}return n})(),jo=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const Bf="browser";function jd(n){return n===Bf}function ro(n){return"server"===n}let pg=(()=>{class n{static#e=this.\u0275prov=(0,l.jDH)({token:n,providedIn:"root",factory:()=>jd((0,l.WQX)(l.Agw))?new mg((0,l.WQX)(Te),window):new nc})}return n})();class mg{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function io(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const c=i.shadowRoot;if(c){const d=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],i-c[1])}}class nc{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}function fi(n,t){return(0,se.N)((e,r)=>{let i=null,c=0,d=!1;const f=()=>d&&!i&&r.complete();e.subscribe((0,Qe._)(r,m=>{i?.unsubscribe();let w=0;const A=c++;(0,ln.Tg)(n(m,A)).subscribe(i=(0,Qe._)(r,R=>r.next(t?t(m,R,A,w++):R),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function Qr(n){return n<=0?()=>Ge.w:(0,se.N)((t,e)=>{let r=0;t.subscribe((0,Qe._)(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}var zo=O(9172),Un=O(5964),Pi=O(1397);function Gd(n){return(0,se.N)((t,e)=>{let r=!1;t.subscribe((0,Qe._)(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Eg(n=Hf){return(0,se.N)((t,e)=>{let r=!1;t.subscribe((0,Qe._)(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function Hf(){return new Dt.G}function Bc(n,t){const e=arguments.length>=2;return r=>r.pipe(n?(0,Un.p)((i,c)=>n(i,c,r)):Fe.D,Qr(1),e?Gd(t):Eg(()=>new Dt.G))}function ku(n,t){return(0,De.T)(t)?(0,Pi.Z)(n,t,1):(0,Pi.Z)(n,1)}function gr(n,t,e){const r=(0,De.T)(n)||t||e?{next:n,error:t,complete:e}:n;return r?(0,se.N)((i,c)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let f=!0;i.subscribe((0,Qe._)(c,m=>{var w;null===(w=r.next)||void 0===w||w.call(r,m),c.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),c.complete()},m=>{var w;f=!1,null===(w=r.error)||void 0===w||w.call(r,m),c.error(m)},()=>{var m,w;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(w=r.finalize)||void 0===w||w.call(r)}))}):Fe.D}function Dl(n){return(0,se.N)((t,e)=>{let c,r=null,i=!1;r=t.subscribe((0,Qe._)(e,void 0,void 0,d=>{c=(0,ln.Tg)(n(d,Dl(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,c.subscribe(e))})}function Wd(n){return n<=0?()=>Ge.w:(0,se.N)((t,e)=>{let r=[];t.subscribe((0,Qe._)(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function e0(n){return(0,xe.T)(()=>n)}function Kd(n){return(0,se.N)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var wg=O(5343);function Sr(n){return(0,se.N)((t,e)=>{(0,ln.Tg)(n).subscribe((0,Qe._)(e,()=>e.complete(),wg.l)),!e.closed&&t.subscribe(e)})}var qd=O(6365);class t0 extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ig extends t0{static makeCurrent(){!function Z(n){$??=n}(new Ig)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Cg(){return Xd=Xd||document.querySelector("base"),Xd?Xd.getAttribute("href"):null}();return null==e?null:function Dg(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){Xd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function qr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Xd=null,Tg=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const Vn=new l.nKC("");let Ei=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(c=>c.supports(e)),!r)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(e,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Vn),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class ki{constructor(t){this._doc=t}}const La="ng-app-id";let Gi=(()=>{class n{constructor(e,r,i,c={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ro(c),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${La}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const c=i.get(e);return c.usage+=r,c.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,c=i?.get(r);if(c?.parentNode===e)return i.delete(r),c.removeAttribute(La),c;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(La,this.appId),e.appendChild(d),d}}addStyleToHost(e,r){const i=this.getStyleElement(e,r),c=this.styleRef,d=c.get(r)?.elements;d?d.push(i):c.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const zf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gf=/%COMP%/g,tT=new l.nKC("",{providedIn:"root",factory:()=>!0});function Zd(n,t){return t.map(e=>e.replace(Gf,n))}let o0=(()=>{class n{constructor(e,r,i,c,d,f,m,w=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=c,this.doc=d,this.platformId=f,this.ngZone=m,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=ro(f),this.defaultRenderer=new Jd(e,d,m,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===l.gXe.ShadowDom&&(r={...r,encapsulation:l.gXe.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof a0?i.applyToHost(e):i instanceof la&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let c=i.get(r.id);if(!c){const d=this.doc,f=this.ngZone,m=this.eventManager,w=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(r.encapsulation){case l.gXe.Emulated:c=new a0(m,w,r,this.appId,A,d,f,R);break;case l.gXe.ShadowDom:return new eh(m,w,e,r,d,f,this.nonce,R);default:c=new la(m,w,r,A,d,f,R)}i.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Ei),l.KVO(Gi),l.KVO(l.sZ2),l.KVO(tT),l.KVO(Te),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class Jd{constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(zf[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Wf(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Wf(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new l.wOt(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const c=zf[i];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=zf[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(l.czy.DashCase|l.czy.Important)?t.style.setProperty(e,r,i&l.czy.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&l.czy.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){null!=t&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r){if("string"==typeof t&&!(t=X().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Wf(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class eh extends Jd{constructor(t,e,r,i,c,d,f,m){super(t,c,d,m),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=Zd(i.id,i.styles);for(const A of w){const R=document.createElement("style");f&&R.setAttribute("nonce",f),R.textContent=A,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class la extends Jd{constructor(t,e,r,i,c,d,f,m){super(t,c,d,f),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=m?Zd(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class a0 extends la{constructor(t,e,r,i,c,d,f,m){const w=i+"-"+r.id;super(t,e,r,c,d,f,m,w),this.contentAttr=function Ag(n){return"_ngcontent-%COMP%".replace(Gf,n)}(w),this.hostAttr=function r0(n){return"_nghost-%COMP%".replace(Gf,n)}(w)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let Sg=(()=>{class n extends ki{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),Kf=(()=>{class n extends ki{constructor(e){super(e),this.delegate=(0,l.WQX)(l.zAP,{optional:!0})}supports(e){return!!this.delegate&&this.delegate.supports(e)}addEventListener(e,r,i){return this.delegate.addEventListener(e,r,i)}removeEventListener(e,r,i){return this.delegate.removeEventListener(e,r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const c0=["alt","control","meta","shift"],xg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Os=(()=>{class n extends ki{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>X().onAndCancel(e,c.domEventName,d))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),c0.forEach(w=>{const A=r.indexOf(w);A>-1&&(r.splice(A,1),d+=w+".")}),d+=c,0!=r.length||0===c.length)return null;const m={};return m.domEventName=i,m.fullKey=d,m}static matchEventFullKeyCode(e,r){let i=xg[e.key]||e.key,c="";return r.indexOf("code.")>-1&&(i=e.code,c="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),c0.forEach(d=>{d!==i&&(0,qf[d])(e)&&(c+=d+".")}),c+=i,c===r)}static eventCallback(e,r,i){return c=>{n.matchEventFullKeyCode(c,e)&&i.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function Xf(n){return{appProviders:[...kg,...n?.providers??[]],platformProviders:u0}}const u0=[{provide:l.Agw,useValue:Bf},{provide:l.PLl,useValue:function Rg(){Ig.makeCurrent()},multi:!0},{provide:Te,useFactory:function l0(){return(0,l.TL$)(document),document},deps:[]}],kg=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function Tl(){return new l.zcH},deps:[]},{provide:Vn,useClass:Sg,multi:!0,deps:[Te,l.SKi,l.Agw]},{provide:Vn,useClass:Os,multi:!0,deps:[Te]},{provide:Vn,useClass:Kf,multi:!0},o0,Gi,Ei,{provide:l._9s,useExisting:o0},{provide:class $d{},useClass:Tg,deps:[]},[]];let d0=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:function(r){let i=null;return i=r?new(r||n):l.KVO(D),i},providedIn:"root"})}return n})(),D=(()=>{class n extends b{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case l.WPN.NONE:return r;case l.WPN.HTML:return(0,l.ZF7)(r,"HTML")?(0,l.rcV)(r):(0,l.h9k)(this._doc,String(r)).toString();case l.WPN.STYLE:return(0,l.ZF7)(r,"Style")?(0,l.rcV)(r):r;case l.WPN.SCRIPT:if((0,l.ZF7)(r,"Script"))return(0,l.rcV)(r);throw new l.wOt(5200,!1);case l.WPN.URL:return(0,l.ZF7)(r,"URL")?(0,l.rcV)(r):(0,l.$MX)(String(r));case l.WPN.RESOURCE_URL:if((0,l.ZF7)(r,"ResourceURL"))return(0,l.rcV)(r);throw new l.wOt(5201,!1);default:throw new l.wOt(5202,!1)}}bypassSecurityTrustHtml(e){return(0,l.Kcf)(e)}bypassSecurityTrustStyle(e){return(0,l.cWb)(e)}bypassSecurityTrustScript(e){return(0,l.UyX)(e)}bypassSecurityTrustUrl(e){return(0,l.osQ)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.e5t)(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const St="primary",Jt=Symbol("RouteTitle");class pn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function xn(n){return new pn(n)}function er(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let c=0;c<r.length;c++){const d=r[c],f=n[c];if(":"===d[0])i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ir(n,t){const e=n?xo(n):void 0,r=t?xo(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let c=0;c<e.length;c++)if(i=e[c],!xr(n[i],t[i]))return!1;return!0}function xo(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function xr(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,c)=>r[c]===i)}return n===t}function so(n){return n.length>0?n[n.length-1]:null}function ii(n){return function ut(n){return!!n&&(n instanceof J.c||(0,De.T)(n.lift)&&(0,De.T)(n.subscribe))}(n)?n:(0,l.jNT)(n)?(0,Be.H)(Promise.resolve(n)):Y(n)}const un={exact:function Uc(n,t,e){if(!yo(n.segments,t.segments)||!Tr(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Uc(n.children[r],t.children[r],e))return!1;return!0},subset:$r},nh={exact:function Wo(n,t){return Ir(n,t)},subset:function sc(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>xr(n[e],t[e]))},ignored:()=>!0};function Mo(n,t,e){return un[e.paths](n.root,t.root,e.matrixParams)&&nh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function $r(n,t,e){return jc(n,t,t.segments,e)}function jc(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!yo(i,e)||t.hasChildren()||!Tr(i,e,r))}if(n.segments.length===e.length){if(!yo(n.segments,e)||!Tr(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!$r(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(yo(n.segments,i)&&Tr(n.segments,i,r)&&n.children[St])&&jc(n.children[St],t,c,r)}}function Tr(n,t,e){return t.every((r,i)=>nh[e](n[i].parameters,r.parameters))}class kr{constructor(t=new Cr([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xn(this.queryParams),this._queryParamMap}toString(){return g0.serialize(this)}}class Cr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jf(this)}}class Va{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=xn(this.parameters),this._parameterMap}toString(){return ak(this)}}function yo(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let rh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>new Lg,providedIn:"root"})}return n})();class Lg{parse(t){const e=new u$(t);return new kr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${ep(t.root,!0)}`,r=function i$(n){const t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${_0(e)}=${_0(i)}`).join("&"):`${_0(e)}=${_0(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function n$(n){return encodeURI(n)}(t.fragment)}`:""}`}}const g0=new Lg;function Jf(n){return n.segments.map(t=>ak(t)).join("/")}function ep(n,t){if(!n.hasChildren())return Jf(n);if(t){const e=n.children[St]?ep(n.children[St],!1):"",r=[];return Object.entries(n.children).forEach(([i,c])=>{i!==St&&r.push(`${i}:${ep(c,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Zf(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===St&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==St&&(e=e.concat(t(i,r)))}),e}(n,(r,i)=>i===St?[ep(n.children[St],!1)]:[`${i}:${ep(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${Jf(n)}/${e[0]}`:`${Jf(n)}/(${e.join("//")})`}}function Vg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _0(n){return Vg(n).replace(/%3B/gi,";")}function uT(n){return Vg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function v0(n){return decodeURIComponent(n)}function sk(n){return v0(n.replace(/\+/g,"%20"))}function ak(n){return`${uT(n.path)}${function r$(n){return Object.entries(n).map(([t,e])=>`;${uT(t)}=${uT(e)}`).join("")}(n.parameters)}`}const o$=/^[^\/()?;#]+/;function dT(n){const t=n.match(o$);return t?t[0]:""}const s$=/^[^\/()?;=#]+/,hT=/^[^=?&#]+/,c$=/^[^&#]+/;class u${constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cr([],{}):new Cr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[St]=new Cr(t,e)),r}parseSegment(){const t=dT(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(t),new Va(v0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function a$(n){const t=n.match(s$);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=dT(this.remaining);i&&(r=i,this.capture(r))}t[v0(e)]=v0(r)}parseQueryParam(t){const e=function fT(n){const t=n.match(hT);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const d=function l$(n){const t=n.match(c$);return t?t[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=sk(e),c=sk(r);if(t.hasOwnProperty(i)){let d=t[i];Array.isArray(d)||(d=[d],t[i]=d),d.push(c)}else t[i]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=dT(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.wOt(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=St);const d=this.parseChildren();e[c]=1===Object.keys(d).length?d[St]:new Cr([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.wOt(4011,!1)}}function ck(n){return n.segments.length>0?new Cr([],{[St]:n}):n}function pT(n){const t={};for(const[r,i]of Object.entries(n.children)){const c=pT(i);if(r===St&&0===c.segments.length&&c.hasChildren())for(const[d,f]of Object.entries(c.children))t[d]=f;else(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function mT(n){if(1===n.numberOfChildren&&n.children[St]){const t=n.children[St];return new Cr(n.segments.concat(t.segments),t.children)}return n}(new Cr(n.segments,t))}function $c(n){return n instanceof kr}function _T(n){let t;const i=ck(function e(c){const d={};for(const m of c.children){const w=e(m);d[m.outlet]=w}const f=new Cr(c.url,d);return c===n&&(t=f),f}(n.root));return t??i}function vT(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(0===t.length)return y0(i,i,i,e,r);const c=function ac(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yT(!0,0,n);let t=0,e=!1;const r=n.reduce((i,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return Object.entries(c.outlets).forEach(([m,w])=>{f[m]="string"==typeof w?w.split("/"):w}),[...i,{outlets:f}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===d?(c.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?t++:""!=f&&i.push(f))}),i):[...i,c]},[]);return new yT(e,t,r)}(t);if(c.toRoot())return y0(i,i,new Cr([],{}),e,r);const d=function bT(n,t,e){if(n.isAbsolute)return new np(t,!0,0);if(!e)return new np(t,!1,NaN);if(null===e.parent)return new np(e,!0,0);const r=tp(n.commands[0])?0:1;return function cr(n,t,e){let r=n,i=t,c=e;for(;c>i;){if(c-=i,r=r.parent,!r)throw new l.wOt(4005,!1);i=r.segments.length}return new np(r,!1,i-c)}(e,e.segments.length-1+r,n.numberOfDoubleDots)}(c,i,n),f=d.processChildren?Wi(d.segmentGroup,d.index,c.commands):oh(d.segmentGroup,d.index,c.commands);return y0(i,d.segmentGroup,f,e,r)}function tp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ih(n){return"object"==typeof n&&null!=n&&n.outlets}function y0(n,t,e,r,i){let d,c={};r&&Object.entries(r).forEach(([m,w])=>{c[m]=Array.isArray(w)?w.map(A=>`${A}`):`${w}`}),d=n===t?e:Bg(n,t,e);const f=ck(pT(d));return new kr(f,c,i)}function Bg(n,t,e){const r={};return Object.entries(n.children).forEach(([i,c])=>{r[i]=c===t?e:Bg(c,t,e)}),new Cr(n.segments,r)}class yT{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&tp(r[0]))throw new l.wOt(4003,!1);const i=r.find(ih);if(i&&i!==so(r))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class np{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function oh(n,t,e){if(n??=new Cr([],{}),0===n.segments.length&&n.hasChildren())return Wi(n,t,e);const r=function lk(n,t,e){let r=0,i=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return c;const d=n.segments[i],f=e[r];if(ih(f))break;const m=`${f}`,w=r<e.length-1?e[r+1]:null;if(i>0&&void 0===m)break;if(m&&w&&"object"==typeof w&&void 0===w.outlets){if(!ET(m,w,d))return c;r+=2}else{if(!ET(m,{},d))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Cr(n.segments.slice(0,r.pathIndex),{});return c.children[St]=new Cr(n.segments.slice(r.pathIndex),n.children),Wi(c,0,i)}return r.match&&0===i.length?new Cr(n.segments,{}):r.match&&!n.hasChildren()?Fu(n,t,e):r.match?Wi(n,0,i):Fu(n,t,e)}function Wi(n,t,e){if(0===e.length)return new Cr(n.segments,{});{const r=function b0(n){return ih(n[0])?n[0].outlets:{[St]:n}}(e),i={};if(Object.keys(r).some(c=>c!==St)&&n.children[St]&&1===n.numberOfChildren&&0===n.children[St].segments.length){const c=Wi(n.children[St],t,e);return new Cr(n.segments,c.children)}return Object.entries(r).forEach(([c,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(i[c]=oh(n.children[c],t,d))}),Object.entries(n.children).forEach(([c,d])=>{void 0===r[c]&&(i[c]=d)}),new Cr(n.segments,i)}}function Fu(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const c=e[i];if(ih(c)){const m=Lu(c.outlets);return new Cr(r,m)}if(0===i&&tp(e[0])){r.push(new Va(n.segments[t].path,ds(e[0]))),i++;continue}const d=ih(c)?c.outlets[St]:`${c}`,f=i<e.length-1?e[i+1]:null;d&&f&&tp(f)?(r.push(new Va(d,ds(f))),i+=2):(r.push(new Va(d,{})),i++)}return new Cr(r,{})}function Lu(n){const t={};return Object.entries(n).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[e]=Fu(new Cr([],{}),0,r))}),t}function ds(n){const t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function ET(n,t,e){return n==e.path&&Ir(t,e.parameters)}const Vu="imperative";var tr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(tr||{});class Ii{constructor(t,e){this.id=t,this.url=e}}class rp extends Ii{constructor(t,e,r="imperative",i=null){super(t,e),this.type=tr.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cc extends Ii{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=tr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var hs=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(hs||{}),Sl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Sl||{});class Hc extends Ii{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=tr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zc extends Ii{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=tr.NavigationSkipped}}class sh extends Ii{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=tr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ug extends Ii{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=tr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gc extends Ii{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=tr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An extends Ii{constructor(t,e,r,i,c){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c,this.type=tr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class jg extends Ii{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=tr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E0 extends Ii{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=tr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wT{constructor(t){this.route=t,this.type=tr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class d${constructor(t){this.route=t,this.type=tr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class uk{constructor(t){this.snapshot=t,this.type=tr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dk{constructor(t){this.snapshot=t,this.type=tr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hk{constructor(t){this.snapshot=t,this.type=tr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class IT{constructor(t){this.snapshot=t,this.type=tr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xl{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=tr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class w0{}class $g{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function Ci(n){return n.outlet||St}function Bu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class TT{get injector(){return Bu(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new Hg(this.rootInjector),this.attachRef=null}}let Hg=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new TT(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.uvJ))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class mk{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zg(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=zg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Gg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Gg(t,this._root).map(e=>e.value)}}function zg(n,t){if(n===t.value)return t;for(const e of t.children){const r=zg(n,e);if(r)return r}return null}function Gg(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Gg(n,e);if(r.length)return r.unshift(t),r}return[]}class ua{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ni(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class lc extends mk{constructor(t,e){super(t),this.snapshot=e,D0(this,t)}toString(){return this.snapshot.toString()}}function C0(n){const t=function Ba(n){const c=new op([],{},{},"",{},St,n,null,{});return new AT("",new ua(c,[]))}(n),e=new Me.t([new Va("",{})]),r=new Me.t({}),i=new Me.t({}),c=new Me.t({}),d=new Me.t(""),f=new fs(e,r,c,d,i,St,n,t.root);return f.snapshot=t.root,new lc(new ua(f,[]),t)}class fs{constructor(t,e,r,i,c,d,f,m){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=c,this.outlet=d,this.component=f,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,xe.T)(w=>w[Jt]))??Y(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,xe.T)(t=>xn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,xe.T)(t=>xn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wg(n,t,e="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===t||"always"!==e&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...i?.data,...n._resolvedData}},i&&cp(i)&&(r.resolve[Jt]=i.title),r}class op{get title(){return this.data?.[Jt]}constructor(t,e,r,i,c,d,f,m,w){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=d,this.component=f,this.routeConfig=m,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AT extends mk{constructor(t,e){super(e),this.url=t,D0(this,e)}toString(){return Kg(this._root)}}function D0(n,t){t.value._routerState=n,t.children.forEach(e=>D0(n,e))}function Kg(n){const t=n.children.length>0?` { ${n.children.map(Kg).join(", ")} } `:"";return`${n.value}${t}`}function sp(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ir(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Ir(t.params,e.params)||n.paramsSubject.next(e.params),function _r(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ir(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Ir(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ap(n,t){const e=Ir(n.params,t.params)&&function Fg(n,t){return yo(n,t)&&n.every((e,r)=>Ir(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ap(n.parent,t.parent))}function cp(n){return"string"==typeof n.title||null===n.title}let lp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(Hg),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.inputBinder=(0,l.WQX)(ah,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=e;const i=this.location,d=e.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new qg(e,f,i.injector);this.activated=i.createComponent(d,{index:i.length,injector:m,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}return n})();class qg{__ngOutletInjector(t){return new qg(this.route,this.childContexts,t)}constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===fs?this.route:t===Hg?this.childContexts:this.parent.get(t,e)}}const ah=new l.nKC("");let T0=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=ue([r.queryParams,r.params,r.data]).pipe(fi(([c,d,f],m)=>(f={...c,...d,...f},0===m?Y(f):Promise.resolve(f)))).subscribe(c=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const d=(0,l.HJs)(r.component);if(d)for(const{templateName:f}of d.inputs)e.activatedComponentRef.setInput(f,c[f]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function ch(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function xT(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ch(n,r,i);return ch(n,r)})}(n,t,e);return new ua(r,i)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(f=>ch(n,f)),d}}const r=function A0(n){return new fs(new Me.t(n.url),new Me.t(n.params),new Me.t(n.queryParams),new Me.t(n.fragment),new Me.t(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(c=>ch(n,c));return new ua(r,i)}}class S0{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const ao="ngNavigationCancelingError";function uc(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=$c(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Nr(!1,hs.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Nr(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[ao]=!0,e.cancellationCode=t,e}function RT(n){return!!n&&n[ao]}class OT{constructor(t,e,r,i,c){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=c}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),sp(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=Ni(e);t.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,i[d],r),delete i[d]}),Object.values(i).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const i=t.value,c=e?e.value:null;if(i===c)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,c=Ni(t);for(const d of Object.values(c))this.deactivateRouteAndItsChildren(d,i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,c=Ni(t);for(const d of Object.values(c))this.deactivateRouteAndItsChildren(d,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){const i=Ni(e);t.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new IT(c.value.snapshot))}),t.children.length&&this.forwardEvent(new dk(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,c=e?e.value:null;if(sp(i),i===c)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),sp(f.route.value),this.activateChildRoutes(t,null,d.children)}else d.attachRef=null,d.route=i,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(t,null,d.children)}else this.activateChildRoutes(t,null,r)}}class x0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ml{constructor(t,e){this.component=t,this.route=e}}function dc(n,t,e){const r=n._root;return Rl(r,t?t._root:null,e,[r.value])}function Wc(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,l.LfX)(n)?t.get(n):n:r}function Rl(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=Ni(t);return n.children.forEach(d=>{(function Xg(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const m=function M0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!yo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!yo(n.url,t.url)||!Ir(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ap(n,t)||!Ir(n.queryParams,t.queryParams);default:return!ap(n,t)}}(d,c,c.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new x0(r)):(c.data=d.data,c._resolvedData=d._resolvedData),Rl(n,t,c.component?f?f.children:null:e,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Ml(f.outlet.component,d))}else d&&lh(t,f,i),i.canActivateChecks.push(new x0(r)),Rl(n,null,c.component?f?f.children:null:e,r,i)})(d,c[d.value.outlet],e,r.concat([d.value]),i),delete c[d.value.outlet]}),Object.entries(c).forEach(([d,f])=>lh(f,e.getContext(d),i)),i}function lh(n,t,e){const r=Ni(n),i=n.value;Object.entries(r).forEach(([c,d])=>{lh(d,i.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Ml(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function uh(n){return"function"==typeof n}function kT(n){return n instanceof Dt.G||"EmptyError"===n?.name}const Qg=Symbol("INITIAL_VALUE");function dp(){return fi(n=>ue(n.map(t=>t.pipe(Qr(1),(0,zo.Z)(Qg)))).pipe((0,xe.T)(t=>{for(const e of t)if(!0!==e){if(e===Qg)return Qg;if(!1===e||m$(e))return e}return!0}),(0,Un.p)(t=>t!==Qg),Qr(1)))}function m$(n){return $c(n)||n instanceof S0}function wk(n){return(0,fn.F)(gr(t=>{if("boolean"!=typeof t)throw uc(0,t)}),(0,xe.T)(t=>!0===t))}class Zg{constructor(t){this.segmentGroup=t||null}}class Jg extends Error{constructor(t){super(),this.urlTree=t}}function Ko(n){return On(new Zg(n))}class FT{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Y(r);if(i.numberOfChildren>1||!i.children[St])return On(new l.wOt(4e3,!1));i=i.children[St]}}applyRedirectCommands(t,e,r,i,c){if("string"!=typeof e){const f=e,{queryParams:m,fragment:w,routeConfig:A,url:R,outlet:B,params:K,data:pe,title:fe}=i,he=(0,l.N4e)(c,()=>f({params:K,data:pe,queryParams:m,fragment:w,routeConfig:A,url:R,outlet:B,title:fe}));if(he instanceof kr)throw new Jg(he);e=he}const d=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if("/"===e[0])throw new Jg(d);return d}applyRedirectCreateUrlTree(t,e,r,i){const c=this.createSegmentGroup(t,e.root,r,i);return new kr(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Object.entries(t).forEach(([i,c])=>{if("string"==typeof c&&":"===c[0]){const f=c.substring(1);r[i]=e[f]}else r[i]=c}),r}createSegmentGroup(t,e,r,i){const c=this.createSegments(t,e.segments,r,i);let d={};return Object.entries(e.children).forEach(([f,m])=>{d[f]=this.createSegmentGroup(t,m,r,i)}),new Cr(c,d)}createSegments(t,e,r,i){return e.map(c=>":"===c.path[0]?this.findPosParam(t,c,i):this.findOrReturn(c,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new l.wOt(4001,!1);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}const hh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function F0(n,t,e,r,i){const c=L0(n,t,e);return c.matched?(r=function fk(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.Ol2)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,r),function NT(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?Y(i.map(d=>{const f=Wc(d,n);return ii(function PT(n){return n&&uh(n.canMatch)}(f)?f.canMatch(t,e):(0,l.N4e)(n,()=>f(t,e)))})).pipe(dp(),wk()):Y(!0)}(r,t,e).pipe((0,xe.T)(d=>!0===d?c:{...hh}))):Y(c)}function L0(n,t,e){if("**"===t.path)return function LT(n){return{matched:!0,parameters:n.length>0?so(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...hh}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||er)(e,n,t);if(!i)return{...hh};const c={};Object.entries(i.posParams??{}).forEach(([f,m])=>{c[f]=m.path});const d=i.consumed.length>0?{...c,...i.consumed[i.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function V0(n,t,e,r){return e.length>0&&function Ik(n,t,e){return e.some(r=>hc(n,t,r)&&Ci(r)!==St)}(n,e,r)?{segmentGroup:new Cr(t,BT(r,new Cr(e,n.children))),slicedSegments:[]}:0===e.length&&function t_(n,t,e){return e.some(r=>hc(n,t,r))}(n,e,r)?{segmentGroup:new Cr(n.segments,VT(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new Cr(n.segments,n.children),slicedSegments:e}}function VT(n,t,e,r){const i={};for(const c of e)if(hc(n,t,c)&&!r[Ci(c)]){const d=new Cr([],{});i[Ci(c)]=d}return{...r,...i}}function BT(n,t){const e={};e[St]=t;for(const r of n)if(""===r.path&&Ci(r)!==St){const i=new Cr([],{});e[Ci(r)]=i}return e}function hc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class jT{}class Ki{constructor(t,e,r,i,c,d,f){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=c,this.paramsInheritanceStrategy=d,this.urlSerializer=f,this.applyRedirects=new FT(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new l.wOt(4002,`'${t.segmentGroup}'`)}recognize(){const t=V0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe((0,xe.T)(({children:e,rootSnapshot:r})=>{const i=new ua(r,e),c=new AT("",i),d=function gT(n,t,e=null,r=null){return vT(_T(n),t,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(d),{state:c,tree:d}}))}match(t){const e=new op([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),St,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,St,e).pipe((0,xe.T)(r=>({children:r,rootSnapshot:e})),Dl(r=>{if(r instanceof Jg)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Zg?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,c){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r,c):this.processSegment(t,e,r,r.segments,i,!0,c).pipe((0,xe.T)(d=>d instanceof ua?[d]:[]))}processChildren(t,e,r,i){const c=[];for(const d of Object.keys(r.children))"primary"===d?c.unshift(d):c.push(d);return(0,Be.H)(c).pipe(ku(d=>{const f=r.children[d],m=function I0(n,t){const e=n.filter(r=>Ci(r)===t);return e.push(...n.filter(r=>Ci(r)!==t)),e}(e,d);return this.processSegmentGroup(t,m,f,d,i)}),function ZD(n,t){return(0,se.N)(function Jb(n,t,e,r,i){return(c,d)=>{let f=e,m=t,w=0;c.subscribe((0,Qe._)(d,A=>{const R=w++;m=f?n(m,A,R):(f=!0,A),r&&d.next(m)},i&&(()=>{f&&d.next(m),d.complete()})))}}(n,t,arguments.length>=2,!0))}((d,f)=>(d.push(...f),d)),Gd(null),function Go(n,t){const e=arguments.length>=2;return r=>r.pipe(n?(0,Un.p)((i,c)=>n(i,c,r)):Fe.D,Wd(1),e?Gd(t):Eg(()=>new Dt.G))}(),(0,Pi.Z)(d=>{if(null===d)return Ko(r);const f=n_(d);return function Dk(n){n.sort((t,e)=>t.value.outlet===St?-1:e.value.outlet===St?1:t.value.outlet.localeCompare(e.value.outlet))}(f),Y(f)}))}processSegment(t,e,r,i,c,d,f){return(0,Be.H)(e).pipe(ku(m=>this.processSegmentAgainstRoute(m._injector??t,e,m,r,i,c,d,f).pipe(Dl(w=>{if(w instanceof Zg)return Y(null);throw w}))),Bc(m=>!!m),Dl(m=>{if(kT(m))return function UT(n,t,e){return 0===t.length&&!n.children[e]}(r,i,c)?Y(new jT):Ko(r);throw m}))}processSegmentAgainstRoute(t,e,r,i,c,d,f,m){return function Ck(n,t,e,r){return!!(Ci(n)===r||r!==St&&hc(t,e,n))&&L0(t,n,e).matched}(r,i,c,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,c,d,m):this.allowRedirects&&f?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,c,d,m):Ko(i):Ko(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,c,d,f){const{matched:m,parameters:w,consumedSegments:A,positionalParamSegments:R,remainingSegments:B}=L0(e,i,c);if(!m)return Ko(e);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const K=new op(c,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B0(i),Ci(i),i.component??i._loadedComponent??null,i,pp(i)),pe=Wg(K,f,this.paramsInheritanceStrategy);K.params=Object.freeze(pe.params),K.data=Object.freeze(pe.data);const fe=this.applyRedirects.applyRedirectCommands(A,i.redirectTo,R,K,t);return this.applyRedirects.lineralizeSegments(i,fe).pipe((0,Pi.Z)(he=>this.processSegment(t,r,e,he.concat(B),d,!1,f)))}matchSegmentAgainstRoute(t,e,r,i,c,d){const f=F0(e,r,i,t);return"**"===r.path&&(e.children={}),f.pipe(fi(m=>m.matched?this.getChildConfig(t=r._injector??t,r,i).pipe(fi(({routes:w})=>{const A=r._loadedInjector??t,{parameters:R,consumedSegments:B,remainingSegments:K}=m,pe=new op(B,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,B0(r),Ci(r),r.component??r._loadedComponent??null,r,pp(r)),fe=Wg(pe,d,this.paramsInheritanceStrategy);pe.params=Object.freeze(fe.params),pe.data=Object.freeze(fe.data);const{segmentGroup:he,slicedSegments:ht}=V0(e,B,K,w);if(0===ht.length&&he.hasChildren())return this.processChildren(A,w,he,pe).pipe((0,xe.T)(Et=>new ua(pe,Et)));if(0===w.length&&0===ht.length)return Y(new ua(pe,[]));const vt=Ci(r)===c;return this.processSegment(A,w,he,ht,vt?St:c,!0,pe).pipe((0,xe.T)(Et=>new ua(pe,Et instanceof ua?[Et]:[])))})):Ko(e)))}getChildConfig(t,e,r){return e.children?Y({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Y({routes:e._loadedRoutes,injector:e._loadedInjector}):function Yg(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?Y(!0):Y(i.map(d=>{const f=Wc(d,n);return ii(function dh(n){return n&&uh(n.canLoad)}(f)?f.canLoad(t,e):(0,l.N4e)(n,()=>f(t,e)))})).pipe(dp(),wk())}(t,e,r).pipe((0,Pi.Z)(i=>i?this.configLoader.loadChildren(t,e).pipe(gr(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function N0(n){return On(Nr(!1,hs.GuardRejected))}())):Y({routes:[],injector:t})}}function $T(n){const t=n.value.routeConfig;return t&&""===t.path}function n_(n){const t=[],e=new Set;for(const r of n){if(!$T(r)){t.push(r);continue}const i=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=n_(r.children);t.push(new ua(r.value,i))}return t.filter(r=>!e.has(r))}function B0(n){return n.data||{}}function pp(n){return n.resolve||{}}function r_(n){const t=n.children.map(e=>r_(e)).flat();return[n,...t]}function U0(n){return fi(t=>{const e=n(t);return e?(0,Be.H)(e).pipe((0,xe.T)(()=>t)):Y(t)})}let GT=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(c=>c.outlet===St);return r}getResolvedTitleForRoute(e){return e.data[Jt]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(WT),providedIn:"root"})}return n})(),WT=(()=>{class n extends GT{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(d0))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const mh=new l.nKC("",{providedIn:"root",factory:()=>({})});let j0=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(r,i){1&r&&l.nrm(0,"router-outlet")},dependencies:[lp],encapsulation:2})}return n})();function $0(n){const t=n.children&&n.children.map($0),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==St&&(e.component=j0),e}const gh=new l.nKC("");let KT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Y(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=ii(e.loadComponent()).pipe((0,xe.T)(Fi),gr(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),Kd(()=>{this.componentLoaders.delete(e)})),i=new W(r,()=>new U.B).pipe(be());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=function qT(n,t,e,r){return ii(n.loadChildren()).pipe((0,xe.T)(Fi),(0,Pi.Z)(i=>i instanceof l.Co$||Array.isArray(i)?Y(i):(0,Be.H)(t.compileModuleAsync(i))),(0,xe.T)(i=>{r&&r(n);let c,d,f=!1;return Array.isArray(i)?(d=i,!0):(c=i.create(e).injector,d=c.get(gh,[],{optional:!0,self:!0}).flat()),{routes:d.map($0),injector:c}}))}(r,this.compiler,e,this.onLoadEndListener).pipe(Kd(()=>{this.childrenLoaders.delete(r)})),d=new W(c,()=>new U.B).pipe(be());return this.childrenLoaders.set(r,d),d}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fi(n){return function XT(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let QT=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(Sk),providedIn:"root"})}return n})(),Sk=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const xk=new l.nKC(""),H0=new l.nKC("");function v$(n,t,e){const r=n.get(H0),i=n.get(Te);return n.get(l.SKi).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(w=>setTimeout(w));let c;const d=new Promise(w=>{c=w}),f=i.startViewTransition(()=>(c(),function z0(n){return new Promise(t=>{(0,l.mal)({read:()=>setTimeout(t)},{injector:n})})}(n))),{onViewTransitionCreated:m}=r;return m&&(0,l.N4e)(n,()=>m({transition:f,from:t,to:e})),d})}const da=new l.nKC("");let mp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new U.B,this.transitionAbortSubject=new U.B,this.configLoader=(0,l.WQX)(KT),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(rh),this.rootContexts=(0,l.WQX)(Hg),this.location=(0,l.WQX)(kn),this.inputBindingEnabled=null!==(0,l.WQX)(ah,{optional:!0}),this.titleStrategy=(0,l.WQX)(GT),this.options=(0,l.WQX)(mh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(QT),this.createViewTransition=(0,l.WQX)(xk,{optional:!0}),this.navigationErrorHandler=(0,l.WQX)(da,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new d$(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new wT(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,i){return this.transitions=new Me.t({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Vu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Un.p)(c=>0!==c.id),(0,xe.T)(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),fi(c=>{let d=!1,f=!1;return Y(c).pipe(fi(m=>{if(this.navigationId>c.id)return this.cancelNavigationTransition(c,"",hs.SupersededByNewNavigation),Ge.w;this.currentTransition=c,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,targetBrowserUrl:"string"==typeof m.extras.browserUrl?this.urlSerializer.parse(m.extras.browserUrl):m.extras.browserUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const w=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!w&&"reload"!==(m.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const R="";return this.events.next(new zc(m.id,this.urlSerializer.serialize(m.rawUrl),R,Sl.IgnoredSameUrlNavigation)),m.resolve(!1),Ge.w}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Y(m).pipe(fi(R=>{const B=this.transitions?.getValue();return this.events.next(new rp(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),B!==this.transitions?.getValue()?Ge.w:Promise.resolve(R)}),function Tk(n,t,e,r,i,c){return(0,Pi.Z)(d=>function fh(n,t,e,r,i,c,d="emptyOnly"){return new Ki(n,t,e,r,i,d,c).recognize()}(n,t,e,r,d.extractedUrl,i,c).pipe((0,xe.T)(({state:f,tree:m})=>({...d,targetSnapshot:f,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),gr(R=>{c.targetSnapshot=R.targetSnapshot,c.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const B=new Ug(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(B)}));if(w&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:R,extractedUrl:B,source:K,restoredState:pe,extras:fe}=m,he=new rp(R,this.urlSerializer.serialize(B),K,pe);this.events.next(he);const ht=C0(this.rootComponentType).snapshot;return this.currentTransition=c={...m,targetSnapshot:ht,urlAfterRedirects:B,extras:{...fe,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=B,Y(c)}{const R="";return this.events.next(new zc(m.id,this.urlSerializer.serialize(m.extractedUrl),R,Sl.IgnoredByUrlHandlingStrategy)),m.resolve(!1),Ge.w}}),gr(m=>{const w=new Gc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),(0,xe.T)(m=>(this.currentTransition=c={...m,guards:dc(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},c)),function O0(n,t){return(0,Pi.Z)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:d}}=e;return 0===d.length&&0===c.length?Y({...e,guardsResult:!0}):function Uu(n,t,e,r){return(0,Be.H)(n).pipe((0,Pi.Z)(i=>function k0(n,t,e,r,i){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Y(c.map(f=>{const m=Bu(t)??i,w=Wc(f,m);return ii(function R0(n){return n&&uh(n.canDeactivate)}(w)?w.canDeactivate(n,t,e,r):(0,l.N4e)(m,()=>w(n,t,e,r))).pipe(Bc())})).pipe(dp()):Y(!0)}(i.component,i.route,e,t,r)),Bc(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Pi.Z)(f=>f&&function vk(n){return"boolean"==typeof n}(f)?function P0(n,t,e,r){return(0,Be.H)(t).pipe(ku(i=>(0,At.x)(function bk(n,t){return null!==n&&t&&t(new uk(n)),Y(!0)}(i.route.parent,r),function hp(n,t){return null!==n&&t&&t(new hk(n)),Y(!0)}(i.route,r),function Ek(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(d=>function _k(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>en(()=>Y(d.guards.map(m=>{const w=Bu(d.node)??e,A=Wc(m,w);return ii(function yk(n){return n&&uh(n.canActivateChild)}(A)?A.canActivateChild(r,n):(0,l.N4e)(w,()=>A(r,n))).pipe(Bc())})).pipe(dp())));return Y(c).pipe(dp())}(n,i.path,e),function fp(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const i=r.map(c=>en(()=>{const d=Bu(t)??e,f=Wc(c,d);return ii(function up(n){return n&&uh(n.canActivate)}(f)?f.canActivate(t,n):(0,l.N4e)(d,()=>f(t,n))).pipe(Bc())}));return Y(i).pipe(dp())}(n,i.route,e))),Bc(i=>!0!==i,!0))}(r,c,n,t):Y(f)),(0,xe.T)(f=>({...e,guardsResult:f})))})}(this.environmentInjector,m=>this.events.next(m)),gr(m=>{if(c.guardsResult=m.guardsResult,m.guardsResult&&"boolean"!=typeof m.guardsResult)throw uc(0,m.guardsResult);const w=new An(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(w)}),(0,Un.p)(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",hs.GuardRejected),!1)),U0(m=>{if(m.guards.canActivateChecks.length)return Y(m).pipe(gr(w=>{const A=new jg(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(A)}),fi(w=>{let A=!1;return Y(w).pipe(function HT(n,t){return(0,Pi.Z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Y(e);const c=new Set(i.map(m=>m.route)),d=new Set;for(const m of c)if(!d.has(m))for(const w of r_(m))d.add(w);let f=0;return(0,Be.H)(d).pipe(ku(m=>c.has(m)?function i_(n,t,e,r){const i=n.routeConfig,c=n._resolve;return void 0!==i?.title&&!cp(i)&&(c[Jt]=i.title),function zT(n,t,e,r){const i=xo(n);if(0===i.length)return Y({});const c={};return(0,Be.H)(i).pipe((0,Pi.Z)(d=>function Ak(n,t,e,r){const i=Bu(t)??r,c=Wc(n,i);return ii(c.resolve?c.resolve(t,e):(0,l.N4e)(i,()=>c(t,e)))}(n[d],t,e,r).pipe(Bc(),gr(f=>{if(f instanceof S0)throw uc(new Lg,f);c[d]=f}))),Wd(1),e0(c),Dl(d=>kT(d)?Ge.w:On(d)))}(c,n,t,r).pipe((0,xe.T)(d=>(n._resolvedData=d,n.data=Wg(n,n.parent,e).resolve,null)))}(m,r,n,t):(m.data=Wg(m,m.parent,n).resolve,Y(void 0))),gr(()=>f++),Wd(1),(0,Pi.Z)(m=>f===d.size?Y(e):Ge.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),gr({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(w,"",hs.NoDataFromResolver)}}))}),gr(w=>{const A=new E0(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(A)}))}),U0(m=>{const w=A=>{const R=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(A.routeConfig).pipe(gr(B=>{A.component=B}),(0,xe.T)(()=>{})));for(const B of A.children)R.push(...w(B));return R};return ue(w(m.targetSnapshot.root)).pipe(Gd(null),Qr(1))}),U0(()=>this.afterPreactivation()),fi(()=>{const{currentSnapshot:m,targetSnapshot:w}=c,A=this.createViewTransition?.(this.environmentInjector,m.root,w.root);return A?(0,Be.H)(A).pipe((0,xe.T)(()=>c)):Y(c)}),(0,xe.T)(m=>{const w=function ST(n,t,e){const r=ch(n,t._root,e?e._root:void 0);return new lc(r,t)}(e.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=c={...m,targetRouterState:w},this.currentNavigation.targetRouterState=w,c}),gr(()=>{this.events.next(new w0)}),((n,t,e,r)=>(0,xe.T)(i=>(new OT(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Qr(1),gr({next:m=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{d=!0}}),Sr(this.transitionAbortSubject.pipe(gr(m=>{throw m}))),Kd(()=>{!d&&!f&&this.cancelNavigationTransition(c,"",hs.SupersededByNewNavigation),this.currentTransition?.id===c.id&&(this.currentNavigation=null,this.currentTransition=null)}),Dl(m=>{if(f=!0,RT(m))this.events.next(new Hc(c.id,this.urlSerializer.serialize(c.extractedUrl),m.message,m.cancellationCode)),function MT(n){return RT(n)&&$c(n.url)}(m)?this.events.next(new $g(m.url,m.navigationBehaviorOptions)):c.resolve(!1);else{const w=new sh(c.id,this.urlSerializer.serialize(c.extractedUrl),m,c.targetSnapshot??void 0);try{const A=(0,l.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(w));if(A instanceof S0){const{message:R,cancellationCode:B}=uc(0,A);this.events.next(new Hc(c.id,this.urlSerializer.serialize(c.extractedUrl),R,B)),this.events.next(new $g(A.redirectTo,A.navigationBehaviorOptions))}else{this.events.next(w);const R=e.errorHandler(m);c.resolve(!!R)}}catch(A){this.options.resolveNavigationPromiseOnError?c.resolve(!1):c.reject(A)}}return Ge.w}))}))}cancelNavigationTransition(e,r,i){const c=new Hc(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(c),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gp(n){return n!==Vu}let Mk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(YT),providedIn:"root"})}return n})();class Rk{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let YT=(()=>{class n extends Rk{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ok=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(y$),providedIn:"root"})}return n})(),y$=(()=>{class n extends Ok{constructor(){super(...arguments),this.location=(0,l.WQX)(kn),this.urlSerializer=(0,l.WQX)(rh),this.options=(0,l.WQX)(mh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(QT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=C0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{"popstate"===r.type&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof rp)this.stateMemento=this.createStateMemento();else if(e instanceof zc)this.rawUrlTree=r.initialUrl;else if(e instanceof Ug){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof w0?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof Hc&&(e.code===hs.GuardRejected||e.code===hs.NoDataFromResolver)?this.restoreHistory(r):e instanceof sh?this.restoreHistory(r,!0):e instanceof cc&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){const i=e instanceof kr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",d)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",c)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===e.finalUrl&&0===c&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var o_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(o_||{});function Pk(n,t){n.events.pipe((0,Un.p)(e=>e instanceof cc||e instanceof Hc||e instanceof sh||e instanceof zc),(0,xe.T)(e=>e instanceof cc||e instanceof zc?o_.COMPLETE:e instanceof Hc&&(e.code===hs.Redirect||e.code===hs.SupersededByNewNavigation)?o_.REDIRECTING:o_.FAILED),(0,Un.p)(e=>e!==o_.REDIRECTING),Qr(1)).subscribe(()=>{t()})}function b$(n){throw n}const kk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_h={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let co=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(Ok),this.options=(0,l.WQX)(mh,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(mp),this.urlSerializer=(0,l.WQX)(rh),this.location=(0,l.WQX)(kn),this.urlHandlingStrategy=(0,l.WQX)(QT),this._events=new U.B,this.errorHandler=this.options.errorHandler||b$,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(Mk),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,l.WQX)(gh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,l.WQX)(ah,{optional:!0}),this.eventsSubscription=new re.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(null!==i&&null!==c)if(this.stateManager.handleRouterEvent(r,c),r instanceof Hc&&r.code!==hs.Redirect&&r.code!==hs.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cc)this.navigated=!0;else if(r instanceof $g){const d=r.navigationBehaviorOptions,f=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),m={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||gp(i.source),...d};this.scheduleNavigation(f,Vu,null,m,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function ju(n){return!(n instanceof w0||n instanceof $g)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){const c={replaceUrl:!0},d=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(c.state=m)}const f=this.parseUrl(e);this.scheduleNavigation(f,r,d,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map($0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:i,queryParams:c,fragment:d,queryParamsHandling:f,preserveFragment:m}=r,w=m?this.currentUrlTree.fragment:d;let R,A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...c};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=c||null}null!==A&&(A=this.removeEmptyProps(A));try{R=_T(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),R=this.currentUrlTree.root}return vT(R,e,A,w??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=$c(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,Vu,null,r)}navigate(e,r={skipLocationChange:!1}){return function ZT(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new l.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(i=!0===r?{...kk}:!1===r?{..._h}:r,$c(e))return Mo(this.currentUrlTree,e,i);const c=this.parseUrl(e);return Mo(this.currentUrlTree,c,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,c])=>(null!=c&&(r[i]=c),r),{})}scheduleNavigation(e,r,i,c,d){if(this.disposed)return Promise.resolve(!1);let f,m,w;d?(f=d.resolve,m=d.reject,w=d.promise):w=new Promise((R,B)=>{f=R,m=B});const A=this.pendingTasks.add();return Pk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:c,resolve:f,reject:m,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(R=>Promise.reject(R))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fc=(()=>{class n{constructor(e,r,i,c,d,f){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=c,this.el=d,this.locationStrategy=f,this.href=null,this.onChanges=new U.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const m=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=e.events.subscribe(w=>{w instanceof cc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null==e?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=$c(e)||Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,c,d){const f=this.urlTree;return!!(null===f||this.isAnchorElement&&(0!==e||r||i||c||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(f,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const r=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){const i=this.renderer,c=this.el.nativeElement;null!==r?i.setAttribute(c,e,r):i.removeAttribute(c,e)}get urlTree(){return null===this.routerLinkInput?null:$c(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(co),l.rXU(fs),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(cn))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&r&&l.BMQ("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",l.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",l.L39],replaceUrl:[2,"replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}return n})();class JT{}let Fk=(()=>{class n{constructor(e,r,i,c,d){this.router=e,this.injector=i,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe((0,Un.p)(e=>e instanceof cc),ku(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,l.Ol2)(c.providers,e,`Route: ${c.path}`));const d=c._injector??e,f=c._loadedInjector??d;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&i.push(this.preloadConfig(d,c)),(c.children||c._loadedRoutes)&&i.push(this.processRoutes(f,c.children??c._loadedRoutes))}return(0,Be.H)(i).pipe((0,qd.U)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Y(null);const c=i.pipe((0,Pi.Z)(d=>null===d?Y(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Be.H)([c,d]).pipe((0,qd.U)())}return c})}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(co),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(JT),l.KVO(KT))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const a_=new l.nKC("");let W0=(()=>{class n{constructor(e,r,i,c,d={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=c,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,l.WQX)(l.uvJ),d.scrollPositionRestoration||="disabled",d.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof rp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof cc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof zc&&e.code===Sl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof xl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){var i=this;this.zone.runOutsideAngular((0,x.A)(function*(){yield new Promise(c=>{setTimeout(()=>{c()}),(0,l.mal)(()=>{c()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new xl(e,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function _p(n){return n.routerState.root}function ha(n,t){return{\u0275kind:n,\u0275providers:t}}function eA(){const n=(0,l.WQX)(l.zZn);return t=>{const e=n.get(l.o8S);if(t!==e.components[0])return;const r=n.get(co),i=n.get(tA);1===n.get(Ro)&&r.initialNavigation(),n.get(Bk,null,l.$GK.Optional)?.setUpPreloading(),n.get(a_,null,l.$GK.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const tA=new l.nKC("",{factory:()=>new U.B}),Ro=new l.nKC("",{providedIn:"root",factory:()=>1}),Bk=new l.nKC("");function I$(n){return ha(0,[{provide:Bk,useExisting:Fk},{provide:JT,useExisting:n}])}function X0(){return ha(8,[T0,{provide:ah,useExisting:T0}])}function jk(n){return ha(9,[{provide:xk,useValue:v$},{provide:H0,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const rA=new l.nKC("ROUTER_FORROOT_GUARD"),iA=[kn,{provide:rh,useClass:Lg},co,Hg,{provide:fs,useFactory:_p,deps:[co]},KT,[]];let yp=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[iA,[],{provide:gh,multi:!0,useValue:e},{provide:rA,useFactory:Gk,deps:[[co,new l.Xx1,new l.kdw]]},{provide:mh,useValue:r||{}},r?.useHash?{provide:cn,useClass:rn}:{provide:cn,useClass:dn},{provide:a_,useFactory:()=>{const n=(0,l.WQX)(pg),t=(0,l.WQX)(l.SKi),e=(0,l.WQX)(mh),r=(0,l.WQX)(mp),i=(0,l.WQX)(rh);return e.scrollOffset&&n.setOffset(e.scrollOffset),new W0(i,r,n,t,e)}},r?.preloadingStrategy?I$(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Wk(r):[],r?.bindToComponentInputs?X0().\u0275providers:[],r?.enableViewTransitions?jk().\u0275providers:[],[{provide:Q0,useFactory:eA},{provide:l.iLQ,multi:!0,useExisting:Q0}]]}}static forChild(e){return{ngModule:n,providers:[{provide:gh,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(rA,8))};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();function Gk(n){return"guarded"}function Wk(n){return["disabled"===n.initialNavigation?ha(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const t=(0,l.WQX)(co);return()=>{t.setUpLocationChangeListener()}}},{provide:Ro,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ha(2,[{provide:Ro,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:t=>{const e=t.get(Lt,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=t.get(co),c=t.get(tA);Pk(i,()=>{r(!0)}),t.get(mp).afterPreactivation=()=>(r(!0),c.closed?Y(void 0):c),i.initialNavigation()}))}}]).\u0275providers:[]]}const Q0=new l.nKC("");let Z0;try{Z0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Z0=!1}let vh,pi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?jd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Z0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.Agw))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const J0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Zk(){if(vh)return vh;if("object"!=typeof document||!document)return vh=new Set(J0),vh;let n=document.createElement("input");return vh=new Set(J0.filter(t=>(n.setAttribute("type",t),n.type===t))),vh}let yh;function bh(n){return function Jk(){if(null==yh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yh=!0}))}finally{yh=yh||!1}return yh}()?n:!!n.capture}var Kc=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Kc||{});let l_,Ol,mc;function u_(){if(null==Ol){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ol=!1,Ol;if("scrollBehavior"in document.documentElement.style)Ol=!0;else{const n=Element.prototype.scrollTo;Ol=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ol}function bp(){if("object"!=typeof document||!document)return Kc.NORMAL;if(null==l_){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),l_=Kc.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,l_=0===n.scrollLeft?Kc.NEGATED:Kc.INVERTED),n.remove()}return l_}function h_(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function fa(n){return n.composedPath?n.composedPath()[0]:n.target}function aA(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function gc(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class A1 extends re.yU{constructor(t,e){super()}schedule(t,e=0){return this}}const b_={setInterval(n,t,...e){const{delegate:r}=b_;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=b_;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var DA=O(7908);class TA extends A1{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,c=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(c,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(c,this.id,e),this}requestAsyncId(t,e,r=0){return b_.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&b_.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(c){r=!0,i=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,DA.o)(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}var aH=O(6129);class Yc{constructor(t,e=Yc.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Yc.now=aH.U.now;class uE extends Yc{constructor(t,e=Yc.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const E_=new uE(TA),S1=E_;function dE(n,t=E_){return(0,se.N)((e,r)=>{let i=null,c=null,d=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=c;c=null,r.next(w)}};function m(){const w=d+n,A=t.now();if(A<w)return i=this.schedule(void 0,w-A),void r.add(i);f()}e.subscribe((0,Qe._)(r,w=>{c=w,d=t.now(),i||(i=t.schedule(m,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{c=i=null}))})}function AA(n){return(0,Un.p)((t,e)=>n<=e)}var SA=O(3294);function w_(n){return null!=n&&"false"!=`${n}`}function xA(n,t=0){return function x1(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function I_(n){return Array.isArray(n)?n:[n]}function mi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Hu(n){return n instanceof l.aKT?n.nativeElement:n}const M1=new Set;let Dh,cH=(()=>{class n{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):uH}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function lH(n,t){if(!M1.has(n))try{Dh||(Dh=document.createElement("style"),t&&Dh.setAttribute("nonce",t),Dh.setAttribute("type","text/css"),document.head.appendChild(Dh)),Dh.sheet&&(Dh.sheet.insertRule(`@media ${n} {body{ }}`,0),M1.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(pi),l.KVO(l.BIS,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uH(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let R1=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new U.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Cp(I_(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let c=ue(Cp(I_(e)).map(d=>this._registerQuery(d).observable));return c=(0,At.x)(c.pipe(Qr(1)),c.pipe(AA(1),dE(0))),c.pipe((0,xe.T)(d=>{const f={matches:!1,breakpoints:{}};return d.forEach(({matches:m,query:w})=>{f.matches=f.matches||m,f.breakpoints[w]=m}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),c={observable:new J.c(d=>{const f=m=>this._zone.run(()=>d.next(m));return r.addListener(f),()=>{r.removeListener(f)}}).pipe((0,zo.Z)(r),(0,xe.T)(({matches:d})=>({query:e,matches:d})),Sr(this._destroySubject)),mql:r};return this._queries.set(e,c),c}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(cH),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cp(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function pE(n,t,e){const r=OA(n,t);e=e.trim();const i=r.filter(c=>c!==e);i.length?n.setAttribute(t,i.join(" ")):n.removeAttribute(t)}function OA(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}class kA{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new U.B,this._typeaheadSubscription=re.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this._pressedLetters=[],this.tabOut=new U.B,this.change=new U.B,t instanceof l.rOR?this._itemChangesSubscription=t.changes.subscribe(r=>this._itemsChanged(r.toArray())):(0,l.Hps)(t)&&(this._effectRef=(0,l.QZP)(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(gr(e=>this._pressedLetters.push(e)),dE(t),(0,Un.p)(()=>this._pressedLetters.length>0),(0,xe.T)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const c=(this._activeItemIndex+i)%r.length,d=r[c];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!t[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const c=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(c>0?c:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const c=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(c<d?c:d-1,-1);break}return;default:return void((i||gc(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return(0,l.Hps)(this._items)?this._items():this._items instanceof l.rOR?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){const e=t.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}}}class hH extends kA{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class P1 extends kA{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let C_=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function D_(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function fH(n){try{return n.frameElement}catch{return null}}(function L1(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===T_(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),c=T_(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function A_(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==c:"video"===i?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function F1(n){return!function gE(n){return function Th(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function mE(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function N1(n){return function _E(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||vE(n))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(pi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function T_(n){if(!vE(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class yE{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,r,i,c=!1,d){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._injector=d,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?(0,l.mal)(t,{injector:this._injector}):setTimeout(t)}}let NA=(()=>{class n{constructor(e,r,i){this._checker=e,this._ngZone=r,this._injector=(0,l.WQX)(l.zZn),this._document=i}create(e,r=!1){return new yE(e,this._checker,this._ngZone,this._document,r,this._injector)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(C_),l.KVO(l.SKi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EE(n){return 0===n.buttons||0===n.detail}function wE(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const IE=new l.nKC("cdk-input-modality-detector-options"),VA={ignoreKeys:[18,17,224,91,16]},zu=bh({passive:!0,capture:!0});let BA=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,r,i,c){this._platform=e,this._mostRecentTarget=null,this._modality=new Me.t(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(f=>f===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=fa(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(EE(d)?"keyboard":"mouse"),this._mostRecentTarget=fa(d))},this._onTouchstart=d=>{wE(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fa(d))},this._options={...VA,...c},this.modalityDetected=this._modality.pipe(AA(1)),this.modalityChanged=this.modalityDetected.pipe((0,SA.F)()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,zu),i.addEventListener("mousedown",this._onMousedown,zu),i.addEventListener("touchstart",this._onTouchstart,zu)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zu),document.removeEventListener("mousedown",this._onMousedown,zu),document.removeEventListener("touchstart",this._onTouchstart,zu))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(pi),l.KVO(l.SKi),l.KVO(Te),l.KVO(IE,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const B1=new l.nKC("liveAnnouncerElement",{providedIn:"root",factory:function mH(){return null}}),x_=new l.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let U1=0,UA=(()=>{class n{constructor(e,r,i,c){this._ngZone=r,this._defaultOptions=c,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...r){const i=this._defaultOptions;let c,d;return 1===r.length&&"number"==typeof r[0]?d=r[0]:[c,d]=r,this.clear(),clearTimeout(this._previousTimeout),c||(c=i&&i.politeness?i.politeness:"polite"),null==d&&i&&(d=i.duration),this._liveElement.setAttribute("aria-live",c),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let c=0;c<r.length;c++)r[c].remove();return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+U1++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(e){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const c=r[i],d=c.getAttribute("aria-owns");d?-1===d.indexOf(e)&&c.setAttribute("aria-owns",d+" "+e):c.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(B1,8),l.KVO(l.SKi),l.KVO(Te),l.KVO(x_,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Tp=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(Tp||{});const CE=new l.nKC("cdk-focus-monitor-default-options"),Ap=bh({passive:!0,capture:!0});let Ua=(()=>{class n{constructor(e,r,i,c,d){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new U.B,this._rootNodeFocusAndBlurListener=f=>{for(let w=fa(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=c,this._detectionMode=d?.detectionMode||Tp.IMMEDIATE}monitor(e,r=!1){const i=Hu(e);if(!this._platform.isBrowser||1!==i.nodeType)return Y();const c=function e1(n){if(function d_(){if(null==mc){const n=typeof document<"u"?document.head:null;mc=!(!n||!n.createShadowRoot&&!n.attachShadow)}return mc}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const f={checkChildren:r,subject:new U.B,rootNode:c};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const r=Hu(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const c=Hu(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([f,m])=>this._originChanged(f,r,m)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Tp.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,this._detectionMode===Tp.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),c=fa(e);!i||!i.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Ap),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Ap)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Sr(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Ap),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Ap),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,c)=>{(c===e||i.checkChildren&&c.contains(e))&&r.push([c,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const c=e.labels;if(c)for(let d=0;d<c.length;d++)if(c[d].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.SKi),l.KVO(pi),l.KVO(BA),l.KVO(Te,8),l.KVO(CE,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Vl=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Vl||{});const M_="cdk-high-contrast-black-on-white",Ah="cdk-high-contrast-white-on-black",R_="cdk-high-contrast-active";let DE=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,l.WQX)(R1).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Vl.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Vl.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Vl.BLACK_ON_WHITE}return Vl.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(R_,M_,Ah),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===Vl.BLACK_ON_WHITE?e.add(R_,M_):r===Vl.WHITE_ON_BLACK&&e.add(R_,Ah)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(pi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $1=new l.nKC("cdk-dir-doc",{providedIn:"root",factory:function jA(){return(0,l.WQX)(Te)}}),H1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _c=(()=>{class n{constructor(e){this.value="ltr",this.change=new l.bkB,e&&(this.value=function z1(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?H1.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO($1,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Sh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const xh=["text"],$A=[[["mat-icon"]],"*"],HA=["mat-icon","*"];function q1(n,t){if(1&n&&l.nrm(0,"mat-pseudo-checkbox",1),2&n){const e=l.XpG();l.Y8G("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function O_(n,t){if(1&n&&l.nrm(0,"mat-pseudo-checkbox",3),2&n){const e=l.XpG();l.Y8G("disabled",e.disabled)}}function Gu(n,t){if(1&n&&(l.j41(0,"span",4),l.EFF(1),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.SpI("(",e.group.label,")")}}const AE=["mat-internal-form-field",""],xp=["*"],WA=new l.nKC("mat-sanity-checks",{providedIn:"root",factory:function xE(){return!0}});let Fr=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!aA()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(DE),l.KVO(WA,8),l.KVO(Te))};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Sh,Sh]})}return n})();class P_{constructor(t,e,r,i,c){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=c,this.errorState=!1}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,c=r?.isErrorState(i,e)??!1;c!==t&&(this.errorState=c,this._stateChanges.next())}}let k_=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var pa=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(pa||{});class tN{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=pa.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const XA=bh({passive:!0,capture:!0});class vc{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=fa(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(c=>c.handleEvent(t))})}}addHandler(t,e,r,i){const c=this._events.get(e);if(c){const d=c.get(r);d?d.add(i):c.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,XA)})}removeHandler(t,e,r){const i=this._events.get(t);if(!i)return;const c=i.get(e);c&&(c.delete(r),0===c.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,XA)))}}const N_={enterDuration:225,exitDuration:150},QA=bh({passive:!0,capture:!0}),RE=["mousedown","touchstart"],OE=["mouseup","mouseleave","touchend","touchcancel"];class Wu{static#e=this._eventManager=new vc;constructor(t,e,r,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Hu(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...N_,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const d=r.radius||function PE(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),f=t-i.left,m=e-i.top,w=c.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=f-d+"px",A.style.top=m-d+"px",A.style.height=2*d+"px",A.style.width=2*d+"px",null!=r.color&&(A.style.backgroundColor=r.color),A.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(A);const R=window.getComputedStyle(A),K=R.transitionDuration,pe="none"===R.transitionProperty||"0s"===K||"0s, 0s"===K||0===i.width&&0===i.height,fe=new tN(this,A,r,pe);A.style.transform="scale3d(1, 1, 1)",fe.state=pa.FADING_IN,r.persistent||(this._mostRecentTransientRipple=fe);let he=null;return!pe&&(w||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ht=()=>{he&&(he.fallbackTimer=null),clearTimeout(Et),this._finishRippleTransition(fe)},vt=()=>this._destroyRipple(fe),Et=setTimeout(vt,w+100);A.addEventListener("transitionend",ht),A.addEventListener("transitioncancel",vt),he={onTransitionEnd:ht,onTransitionCancel:vt,fallbackTimer:Et}}),this._activeRipples.set(fe,he),(pe||!w)&&this._finishRippleTransition(fe),fe}fadeOutRipple(t){if(t.state===pa.FADING_OUT||t.state===pa.HIDDEN)return;const e=t.element,r={...N_,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=pa.FADING_OUT,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Hu(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,RE.forEach(r=>{Wu._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{OE.forEach(e=>{this._triggerElement.addEventListener(e,this,QA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===pa.FADING_IN?this._startFadeOutTransition(t):t.state===pa.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=pa.VISIBLE,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=pa.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=EE(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!wE(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===pa.VISIBLE||t.config.terminateOnPointerUp&&t.state===pa.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(RE.forEach(e=>Wu._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(OE.forEach(e=>t.removeEventListener(e,this,QA)),this._pointerUpEventsRegistered=!1))}}const kE=new l.nKC("mat-ripple-global-options");let Rp=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,c,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new Wu(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(pi),l.rXU(kE,8),l.rXU(l.bc$,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),Op=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Fr]})}return n})(),YA=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){2&r&&l.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[l.aNF],decls:0,vars:0,template:function(r,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),F_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr]})}return n})();const L_=new l.nKC("MAT_OPTION_PARENT_COMPONENT"),ZA=new l.nKC("MatOptgroup");let NE=0;class rN{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Ul=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,r,i,c){this._element=e,this._changeDetectorRef=r,this._parent=i,this.group=c,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+NE++,this.onSelectionChange=new l.bkB,this._stateChanges=new U.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!gc(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new rN(this,e))}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(L_,8),l.rXU(ZA,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-option"]],viewQuery:function(r,i){if(1&r&&l.GBs(xh,7),2&r){let c;l.mGM(c=l.lsd())&&(i._text=c.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,i){1&r&&l.bIt("click",function(){return i._selectViaInteraction()})("keydown",function(d){return i._handleKeydown(d)}),2&r&&(l.Mr5("id",i.id),l.BMQ("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),l.AVh("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",l.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:HA,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,i){1&r&&(l.NAR($A),l.DNE(0,q1,1,2,"mat-pseudo-checkbox",1),l.SdG(1),l.j41(2,"span",2,0),l.SdG(4,1),l.k0s(),l.DNE(5,O_,1,1,"mat-pseudo-checkbox",3)(6,Gu,2,1,"span",4),l.nrm(7,"div",5)),2&r&&(l.vxM(i.multiple?0:-1),l.R7$(5),l.vxM(i.multiple||!i.selected||i.hideSingleSelectionIndicator?-1:5),l.R7$(),l.vxM(i.group&&i.group._inert?6:-1),l.R7$(),l.Y8G("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[YA,Rp],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),qu=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Op,Fr,F_]})}return n})();const V_={capture:!0},Mh=["focus","mousedown","mouseenter","touchstart"],B_="mat-ripple-loader-uninitialized",U_="mat-ripple-loader-class-name",eS="mat-ripple-loader-centered",j_="mat-ripple-loader-disabled";let tS=(()=>{class n{constructor(){this._document=(0,l.WQX)(Te,{optional:!0}),this._animationMode=(0,l.WQX)(l.bc$,{optional:!0}),this._globalRippleOptions=(0,l.WQX)(kE,{optional:!0}),this._platform=(0,l.WQX)(pi),this._ngZone=(0,l.WQX)(l.SKi),this._hosts=new Map,this._onInteraction=e=>{const r=fa(e);if(r instanceof HTMLElement){const i=r.closest(`[${B_}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}},this._ngZone.runOutsideAngular(()=>{for(const e of Mh)this._document?.addEventListener(e,this._onInteraction,V_)})}ngOnDestroy(){const e=this._hosts.keys();for(const r of e)this.destroyRipple(r);for(const r of Mh)this._document?.removeEventListener(r,this._onInteraction,V_)}configureRipple(e,r){e.setAttribute(B_,this._globalRippleOptions?.namespace??""),(r.className||!e.hasAttribute(U_))&&e.setAttribute(U_,r.className||""),r.centered&&e.setAttribute(eS,""),r.disabled&&e.setAttribute(j_,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,r){const i=this._hosts.get(e);i?i.disabled=r:r?e.setAttribute(j_,""):e.removeAttribute(j_)}_createRipple(e){if(!this._document)return;const r=this._hosts.get(e);if(r)return r;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(U_)),e.append(i);const c=new Rp(new l.aKT(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return c._isInitialized=!0,c.trigger=e,c.centered=e.hasAttribute(eS),c.disabled=e.hasAttribute(j_),this.attachRipple(e,c),c}attachRipple(e,r){e.removeAttribute(B_),this._hosts.set(e,r)}destroyRipple(e){const r=this._hosts.get(e);r&&(r.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),iN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mdc-form-field--align-end","before"===i.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[l.aNF],attrs:AE,ngContentSelectors:xp,decls:1,vars:0,template:function(r,i){1&r&&(l.NAR(),l.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return n})();const oN=["*",[["mat-toolbar-row"]]],sN=["*","mat-toolbar-row"];let nS=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),aN=(()=>{class n{constructor(e,r,i){this._elementRef=e,this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(pi),l.rXU(Te))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,i,c){if(1&r&&l.wni(c,nS,5),2&r){let d;l.mGM(d=l.lsd())&&(i._toolbarRows=d)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,i){2&r&&(l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[l.aNF],ngContentSelectors:sN,decls:2,vars:0,template:function(r,i){1&r&&(l.NAR(oN),l.SdG(0),l.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),cN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Fr]})}return n})();function LE(...n){const t=(0,Ue.ms)(n),{args:e,keys:r}=Pe(n),i=new J.c(c=>{const{length:d}=e;if(!d)return void c.complete();const f=new Array(d);let m=d,w=d;for(let A=0;A<d;A++){let R=!1;(0,ln.Tg)(e[A]).subscribe((0,Qe._)(c,B=>{R||(R=!0,w--),f[A]=B},()=>m--,void 0,()=>{(!m||!R)&&(w||c.next(r?st(r,f):f),c.complete())}))}});return t?i.pipe(Ie(t)):i}var lN=O(7647);class $_{}class Zc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),c=i.toLowerCase(),d=e.slice(r+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Zc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Zc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Zc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const c=t.value;if(c){let d=this.headers.get(e);if(!d)return;d=d.filter(f=>-1===c.indexOf(f)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const r=(Array.isArray(e)?e:[e]).map(c=>c.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class BE{encodeKey(t){return Rh(t)}encodeValue(t){return Rh(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Pp=/%(\d[a-f0-9])/gi,kp={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Rh(n){return encodeURIComponent(n).replace(Pp,(t,e)=>kp[e]??t)}function H_(n){return`${n}`}class jl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new BE,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function rS(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const c=i.indexOf("="),[d,f]=-1==c?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,c)),t.decodeValue(i.slice(c+1))],m=e.get(d)||[];m.push(f),e.set(d,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(H_):[H_(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new jl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(H_(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(H_(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class z_{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function iS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function dN(n){return typeof Blob<"u"&&n instanceof Blob}function hN(n){return typeof FormData<"u"&&n instanceof FormData}class Np{constructor(t,e,r,i){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function UE(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,c=i):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new Zc,this.context??=new z_,this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+d}}else this.params=new jl,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||iS(this.body)||dN(this.body)||hN(this.body)||function fN(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof jl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hN(this.body)?null:dN(this.body)?this.body.type||null:iS(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,c=t.transferCache??this.transferCache,d=void 0!==t.body?t.body:this.body,f=t.withCredentials??this.withCredentials,m=t.reportProgress??this.reportProgress;let w=t.headers||this.headers,A=t.params||this.params;const R=t.context??this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((B,K)=>B.set(K,t.setHeaders[K]),w)),t.setParams&&(A=Object.keys(t.setParams).reduce((B,K)=>B.set(K,t.setParams[K]),A)),new Np(e,r,d,{params:A,headers:w,context:R,reportProgress:m,responseType:i,withCredentials:f,transferCache:c})}}var oS=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(oS||{});class jE{constructor(t,e=200,r="OK"){this.headers=t.headers||new Zc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Fp extends jE{constructor(t={}){super(t),this.type=oS.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Fp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Vp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let Oh=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let c;if(e instanceof Np)c=e;else{let m,w;m=i.headers instanceof Zc?i.headers:new Zc(i.headers),i.params&&(w=i.params instanceof jl?i.params:new jl({fromObject:i.params})),c=new Np(e,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const d=Y(c).pipe(ku(m=>this.handler.handle(m)));if(e instanceof Np||"events"===i.observe)return d;const f=d.pipe((0,Un.p)(m=>m instanceof Fp));switch(i.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return f.pipe((0,xe.T)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,xe.T)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,xe.T)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,xe.T)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new jl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Vp(i,r))}post(e,r,i={}){return this.request("POST",e,Vp(i,r))}put(e,r,i={}){return this.request("PUT",e,Vp(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO($_))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const BN=["*"];let Y_;function Hp(n){return function wS(){if(void 0===Y_&&(Y_=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Y_=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Y_}()?.createHTML(n)||n}function IS(n){return Error(`Unable to find icon with the name "${n}"`)}function Gl(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Fh(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Lh{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let zp=(()=>{class n{constructor(e,r,i,c){this._httpClient=e,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,c){return this._addSvgIconConfig(e,r,new Lh(i,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,c){const d=this._sanitizer.sanitize(l.WPN.HTML,i);if(!d)throw Fh(i);const f=Hp(d);return this._addSvgIconConfig(e,r,new Lh("",f,c))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new Lh(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const c=this._sanitizer.sanitize(l.WPN.HTML,r);if(!c)throw Fh(r);const d=Hp(c);return this._addSvgIconSetConfig(e,new Lh("",d,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(l.WPN.RESOURCE_URL,e);if(!r)throw Gl(e);const i=this._cachedIconsByUrl.get(r);return i?Y(Z_(i)):this._loadSvgIconFromConfig(new Lh(e,null)).pipe(gr(c=>this._cachedIconsByUrl.set(r,c)),(0,xe.T)(c=>Z_(c)))}getNamedSvgIcon(e,r=""){const i=XE(r,e);let c=this._svgIconConfigs.get(i);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,e),c)return this._svgIconConfigs.set(i,c),this._getSvgFromConfig(c);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(e,d):On(IS(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Y(Z_(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,xe.T)(r=>Z_(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?Y(i):LE(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Dl(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(l.WPN.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),Y(null)})))).pipe((0,xe.T)(()=>{const d=this._extractIconWithNameFromAnySet(e,r);if(!d)throw IS(e);return d}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const c=r[i];if(c.svgText&&c.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(c),f=this._extractSvgIconFromSet(d,e,c.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(gr(r=>e.svgText=r),(0,xe.T)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Y(null):this._fetchIcon(e).pipe(gr(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const c=e.querySelector(`[id="${r}"]`);if(!c)return null;const d=c.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,i);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),i);const f=this._svgElementFromString(Hp("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(Hp("<svg></svg>")),i=e.attributes;for(let c=0;c<i.length;c++){const{name:d,value:f}=i[c];"id"!==d&&r.setAttribute(d,f)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,c=i?.withCredentials??!1;if(!this._httpClient)throw function Xu(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(l.WPN.RESOURCE_URL,r);if(!d)throw Gl(r);const f=this._inProgressUrlFetches.get(d);if(f)return f;const m=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,xe.T)(w=>Hp(w)),Kd(()=>this._inProgressUrlFetches.delete(d)),(0,lN.u)());return this._inProgressUrlFetches.set(d,m),m}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(XE(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const c=this._resolvers[i](r,e);if(c)return GH(c)?new Lh(c.url,null,c.options):new Lh(c,null)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Oh,8),l.KVO(b),l.KVO(Te,8),l.KVO(l.zcH))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Z_(n){return n.cloneNode(!0)}function XE(n,t){return n+":"+t}function GH(n){return!(!n.url||!n.options)}const $N=new l.nKC("MAT_ICON_DEFAULT_OPTIONS"),Gp=new l.nKC("mat-icon-location",{providedIn:"root",factory:function QE(){const n=(0,l.WQX)(Te),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),CS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],HN=CS.map(n=>`[${n}]`).join(", "),zN=/^url\(['"]?#(.*?)['"]?\)$/;let Wl=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,c,d,f){this._elementRef=e,this._iconRegistry=r,this._location=c,this._errorHandler=d,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=re.yU.EMPTY,f&&(f.color&&(this.color=this._defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,c)=>{i.forEach(d=>{c.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(HN),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)CS.forEach(d=>{const f=r[c],m=f.getAttribute(d),w=m?m.match(zN):null;if(w){let A=i.get(f);A||(A=[],i.set(f,A)),A.push({name:d,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Qr(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${c.message}`))})}}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(zp),l.kS0("aria-hidden"),l.rXU(Gp),l.rXU(l.zcH),l.rXU($N,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){2&r&&(l.BMQ("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:[2,"inline","inline",l.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:BN,decls:1,vars:0,template:function(r,i){1&r&&(l.NAR(),l.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),yc=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Fr]})}return n})();const bo=["mat-button",""],Wp=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Kp=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],GN=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Hr=["mat-fab",""],WN=["mat-icon-button",""],KN=["*"],AS=new l.nKC("MAT_BUTTON_CONFIG"),ZE=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let J_=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,r,i,c){this._elementRef=e,this._platform=r,this._ngZone=i,this._animationMode=c,this._focusMonitor=(0,l.WQX)(Ua),this._rippleLoader=(0,l.WQX)(tS),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const d=(0,l.WQX)(AS,{optional:!0}),f=e.nativeElement,m=f.classList;this.disabledInteractive=d?.disabledInteractive??!1,this.color=d?.color??null,this._rippleLoader?.configureRipple(f,{className:"mat-mdc-button-ripple"});for(const{attribute:w,mdcClasses:A}of ZE)f.hasAttribute(w)&&m.add(...A)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275dir=l.FsC({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",l.L39],disabled:[2,"disabled","disabled",l.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",l.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",l.L39]},features:[l.GFd]})}return n})(),SS=(()=>{class n extends J_{constructor(e,r,i,c){super(e,r,i,c),this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275dir=l.FsC({type:n,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,l.Udg)(e)]},features:[l.GFd,l.Vt3]})}return n})(),XN=(()=>{class n extends J_{constructor(e,r,i,c){super(e,r,i,c)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(pi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[l.Vt3,l.aNF],attrs:bo,ngContentSelectors:Kp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(Wp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Xo=(()=>{class n extends SS{constructor(e,r,i,c){super(e,r,i,c)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(pi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-disabled",i._getDisabledAttribute()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[l.Vt3,l.aNF],attrs:bo,ngContentSelectors:Kp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(Wp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',GN],encapsulation:2,changeDetection:0})}return n})();const JE=new l.nKC("mat-mdc-fab-default-options",{providedIn:"root",factory:ev});function ev(){return{color:"accent"}}const qp=ev();let Qu=(()=>{class n extends J_{constructor(e,r,i,c,d){super(e,r,i,c),this._options=d,this._isFab=!0,this._options=this._options||qp,this.color=this._options.color||qp.color}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(pi),l.rXU(l.SKi),l.rXU(l.bc$,8),l.rXU(JE,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{extended:[2,"extended","extended",l.L39]},exportAs:["matButton"],standalone:!0,features:[l.GFd,l.Vt3,l.aNF],attrs:Hr,ngContentSelectors:Kp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(Wp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),ew=(()=>{class n extends Xo{constructor(e,r,i,c,d){super(e,r,i,c),this._options=d,this._isFab=!0,this._options=this._options||qp,this.color=this._options.color||qp.color}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(pi),l.rXU(l.SKi),l.rXU(l.bc$,8),l.rXU(JE,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["a","mat-fab",""]],hostVars:19,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-disabled",i._getDisabledAttribute()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{extended:[2,"extended","extended",l.L39]},exportAs:["matButton","matAnchor"],standalone:!0,features:[l.GFd,l.Vt3,l.aNF],attrs:Hr,ngContentSelectors:Kp,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(Wp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),QN=(()=>{class n extends J_{constructor(e,r,i,c){super(e,r,i,c),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(pi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[l.Vt3,l.aNF],attrs:WN,ngContentSelectors:KN,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(),l.nrm(0,"span",0),l.SdG(1),l.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',GN],encapsulation:2,changeDetection:0})}return n})(),ma=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Op,Fr]})}return n})();var Di=O(7786);let nv,tv=1;const Kl={};function xS(n){return n in Kl&&(delete Kl[n],!0)}const YN={setImmediate(n){const t=tv++;return Kl[t]=!0,nv||(nv=Promise.resolve()),nv.then(()=>xS(t)&&n()),t},clearImmediate(n){xS(n)}},{setImmediate:RS,clearImmediate:ql}=YN,Xl={setImmediate(...n){const{delegate:t}=Xl;return(t?.setImmediate||RS)(...n)},clearImmediate(n){const{delegate:t}=Xl;return(t?.clearImmediate||ql)(n)},delegate:void 0},iv=new class rv extends uE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class QH extends TA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Xl.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:c}=t;null!=e&&(null===(i=c[c.length-1])||void 0===i?void 0:i.id)!==e&&(Xl.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function Vh(n,t){return t?e=>(0,At.x)(t.pipe(Qr(1),function JN(){return(0,se.N)((n,t)=>{n.subscribe((0,Qe._)(t,wg.l))})}()),e.pipe(Vh(n))):(0,Pi.Z)((e,r)=>(0,ln.Tg)(n(e,r)).pipe(Qr(1),e0(e)))}var eF=O(9470);function OS(n=0,t,e=S1){let r=-1;return null!=t&&((0,eF.m)(t)?e=t:r=t),new J.c(i=>{let c=function tF(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let d=0;return e.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},c)})}function nw(n,t=E_){const e=OS(n,t);return Vh(()=>e)}class iw{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class ov extends iw{constructor(t,e,r,i,c){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=c}}class Xp extends iw{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class ow extends iw{constructor(t){super(),this.element=t instanceof l.aKT?t.nativeElement:t}}class sv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof ov?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Xp?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ow?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class PS extends sv{constructor(t,e,r,i,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=d=>{const f=d.element,m=this._document.createComment("dom-portal");f.parentNode.insertBefore(m,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(f,m)})},this._document=c}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||l.zZn.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let sw=(()=>{class n extends sv{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.bkB,this.attachDomPortal=c=>{const d=c.element,f=this._document.createComment("dom-portal");c.setAttachedHost(this),d.parentNode.insertBefore(f,d),this._getRootNode().appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=r.createComponent(c,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.OM3),l.rXU(l.c1b),l.rXU(Te))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[l.Vt3]})}return n})(),iF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();var wn=O(9969),FS=O(7441);const aw=["addListener","removeListener"],cw=["addEventListener","removeEventListener"],oF=["on","off"];function Bh(n,t,e,r){if((0,De.T)(e)&&(r=e,e=void 0),r)return Bh(n,t,e).pipe(Ie(r));const[i,c]=function lw(n){return(0,De.T)(n.addEventListener)&&(0,De.T)(n.removeEventListener)}(n)?cw.map(d=>f=>n[d](t,f,e)):function sF(n){return(0,De.T)(n.addListener)&&(0,De.T)(n.removeListener)}(n)?aw.map(LS(n,t)):function VS(n){return(0,De.T)(n.on)&&(0,De.T)(n.off)}(n)?oF.map(LS(n,t)):[];if(!i&&(0,FS.X)(n))return(0,Pi.Z)(d=>Bh(d,t,e))((0,ln.Tg)(n));if(!i)throw new TypeError("Invalid event target");return new J.c(d=>{const f=(...m)=>d.next(1<m.length?m:m[0]);return i(f),()=>c(f)})}function LS(n,t){return e=>r=>n[e](t,r)}const Yu={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Yu;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(c=>{e=void 0,n(c)});return new re.yU(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=Yu;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Yu;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class US extends uE{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class BS extends TA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Yu.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:c}=t;null!=e&&(null===(i=c[c.length-1])||void 0===i?void 0:i.id)!==e&&(Yu.cancelAnimationFrame(e),t._scheduled=void 0)}});function HS(n,t=E_){return function $S(n){return(0,se.N)((t,e)=>{let r=!1,i=null,c=null,d=!1;const f=()=>{if(c?.unsubscribe(),c=null,r){r=!1;const w=i;i=null,e.next(w)}d&&e.complete()},m=()=>{c=null,d&&e.complete()};t.subscribe((0,Qe._)(e,w=>{r=!0,i=w,c||(0,ln.Tg)(n(w)).subscribe(c=(0,Qe._)(e,f,m))},()=>{d=!0,(!r||!c||c.closed)&&e.complete()}))})}(()=>OS(n,t))}let uw=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new U.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new J.c(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(HS(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe((0,Un.p)(c=>!c||i.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Hu(r),c=e.getElementRef().nativeElement;do{if(i==c)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Bh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.SKi),l.KVO(pi),l.KVO(Te,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),dw=(()=>{class n{constructor(e,r,i,c){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=i,this.dir=c,this._destroyed=new U.B,this._elementScrolled=new J.c(d=>this.ngZone.runOutsideAngular(()=>Bh(this.elementRef.nativeElement,"scroll").pipe(Sr(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&bp()!=Kc.NORMAL?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),bp()==Kc.INVERTED?e.left=e.right:bp()==Kc.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;u_()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",i="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?i:r:"end"==e&&(e=d?r:i),d&&bp()==Kc.INVERTED?e==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:d&&bp()==Kc.NEGATED?e==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(uw),l.rXU(l.SKi),l.rXU(_c,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),av=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new U.B,this._changeListener=c=>{this._change.next(c)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,c=i.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(HS(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(pi),l.KVO(l.SKi),l.KVO(Te,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})(),hF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Sh,cv,Sh,cv]})}return n})();const hw=u_();class a4{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=mi(-this._previousScrollPosition.left),t.style.top=mi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,c=r.scrollBehavior||"",d=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),hw&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),hw&&(r.scrollBehavior=c,i.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class c4{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe((0,Un.p)(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class fF{enable(){}disable(){}attach(){}}function XS(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function pF(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class l4{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();XS(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let u4=(()=>{class n{constructor(e,r,i,c){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new fF,this.close=d=>new c4(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new a4(this._viewportRuler,this._document),this.reposition=d=>new l4(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=c}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(uw),l.KVO(av),l.KVO(l.SKi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class fw{constructor(t){if(this.scrollStrategy=new fF,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class Yp{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let pw=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mF=(()=>{class n extends pw{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const c=this._attachedOverlays;for(let d=c.length-1;d>-1;d--)if(c[d]._keydownEvents.observers.length>0){const f=c[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(l.SKi,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),f4=(()=>{class n extends pw{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=fa(c)},this._clickListener=c=>{const d=fa(c),f="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let w=m.length-1;w>-1;w--){const A=m[w];if(A._outsidePointerEvents.observers.length<1||!A.hasAttached())continue;if(QS(A.overlayElement,d)||QS(A.overlayElement,f))break;const R=A._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(c)):R.next(c)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(pi),l.KVO(l.SKi,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function QS(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let r=t;for(;r;){if(r===n)return!0;r=e&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}let lv=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||aA()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<i.length;c++)i[c].remove()}const r=this._document.createElement("div");r.classList.add(e),aA()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(pi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class uv{constructor(t,e,r,i,c,d,f,m,w,A=!1,R){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=c,this._keyboardDispatcher=d,this._document=f,this._location=m,this._outsideClickDispatcher=w,this._animationsDisabled=A,this._injector=R,this._backdropElement=null,this._backdropClick=new U.B,this._attachments=new U.B,this._detachments=new U.B,this._locationChanges=re.yU.EMPTY,this._backdropClickHandler=B=>this._backdropClick.next(B),this._backdropTransitionendHandler=B=>{this._disposeBackdrop(B.target)},this._keydownEvents=new U.B,this._outsidePointerEvents=new U.B,this._renders=new U.B,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=(0,l.O8t)(()=>(0,l.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,l.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=mi(this._config.width),t.height=mi(this._config.height),t.minWidth=mi(this._config.minWidth),t.minHeight=mi(this._config.minHeight),t.maxWidth=mi(this._config.maxWidth),t.maxHeight=mi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=I_(e||[]).filter(c=>!!c);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(Sr((0,Di.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Zp="cdk-overlay-connected-position-bounding-box",YS=/([A-Za-z%]+)$/;class gF{get positions(){return this._preferredPositions}constructor(t,e,r,i,c){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U.B,this._resizeSubscription=re.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(Zp),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,c=[];let d;for(let f of this._preferredPositions){let m=this._getOriginPoint(t,i,f),w=this._getOverlayPoint(m,e,f),A=this._getOverlayFit(w,e,r,f);if(A.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,m);this._canFitWithFlexibleDimensions(A,w,r)?c.push({position:f,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,f)}):(!d||d.overlayFit.visibleArea<A.visibleArea)&&(d={overlayFit:A,overlayPoint:w,originPoint:m,position:f,overlayRect:e})}if(c.length){let f=null,m=-1;for(const w of c){const A=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);A>m&&(m=A,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ql(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Zp),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,c;if("center"==r.originX)i=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;i="start"==r.originX?d:f}return e.left<0&&(i-=e.left),c="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(c-=e.top),{x:i,y:c}}_getOverlayPoint(t,e,r){let i,c;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+c}}_getOverlayFit(t,e,r,i){const c=mw(e);let{x:d,y:f}=t,m=this._getOffset(i,"x"),w=this._getOffset(i,"y");m&&(d+=m),w&&(f+=w);let B=0-f,K=f+c.height-r.height,pe=this._subtractOverflows(c.width,0-d,d+c.width-r.width),fe=this._subtractOverflows(c.height,B,K),he=pe*fe;return{visibleArea:he,isCompletelyWithinViewport:c.width*c.height===he,fitsInViewportVertically:fe===c.height,fitsInViewportHorizontally:pe==c.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,c=r.right-e.x,d=_F(this._overlayRef.getConfig().minHeight),f=_F(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=d&&d<=i)&&(t.fitsInViewportHorizontally||null!=f&&f<=c)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=mw(e),c=this._viewportRect,d=Math.max(t.x+i.width-c.width,0),f=Math.max(t.y+i.height-c.height,0),m=Math.max(c.top-r.top-t.y,0),w=Math.max(c.left-r.left-t.x,0);let A=0,R=0;return A=i.width<=c.width?w||-d:t.x<this._viewportMargin?c.left-r.left-t.x:0,R=i.height<=c.height?m||-f:t.y<this._viewportMargin?c.top-r.top-t.y:0,this._previousPushAmount={x:A,y:R},{x:t.x+A,y:t.y+R}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function p4(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new Yp(t,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let c,d,f,A,R,B;if("top"===e.overlayY)d=t.y,c=r.height-d+this._viewportMargin;else if("bottom"===e.overlayY)f=r.height-t.y+2*this._viewportMargin,c=r.height-f+this._viewportMargin;else{const K=Math.min(r.bottom-t.y+r.top,t.y),pe=this._lastBoundingBoxSize.height;c=2*K,d=t.y-K,c>pe&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-pe/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)B=r.width-t.x+2*this._viewportMargin,A=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)R=t.x,A=r.right-t.x;else{const K=Math.min(r.right-t.x+r.left,t.x),pe=this._lastBoundingBoxSize.width;A=2*K,R=t.x-K,A>pe&&!this._isInitialRender&&!this._growAfterOpen&&(R=t.x-pe/2)}return{top:d,left:R,bottom:f,right:B,width:A,height:c}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;i.height=mi(r.height),i.top=mi(r.top),i.bottom=mi(r.bottom),i.width=mi(r.width),i.left=mi(r.left),i.right=mi(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(i.maxHeight=mi(c)),d&&(i.maxWidth=mi(d))}this._lastBoundingBoxSize=r,Ql(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Ql(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ql(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),c=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(i){const A=this._viewportRuler.getViewportScrollPosition();Ql(r,this._getExactOverlayY(e,t,A)),Ql(r,this._getExactOverlayX(e,t,A))}else r.position="static";let f="",m=this._getOffset(e,"x"),w=this._getOffset(e,"y");m&&(f+=`translateX(${m}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),d.maxHeight&&(i?r.maxHeight=mi(d.maxHeight):c&&(r.maxHeight="")),d.maxWidth&&(i?r.maxWidth=mi(d.maxWidth):c&&(r.maxWidth="")),Ql(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":i.top=mi(c.y),i}_getExactOverlayX(t,e,r){let d,i={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?i.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":i.left=mi(c.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:pF(t,r),isOriginOutsideView:XS(t,r),isOverlayClipped:pF(e,r),isOverlayOutsideView:XS(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&I_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.aKT)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Ql(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function _F(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(YS);return e&&"px"!==e?null:parseFloat(t)}return n||null}function mw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const dv="cdk-global-overlay-wrapper";class yF{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(dv),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:c,maxWidth:d,maxHeight:f}=r,m=!("100%"!==i&&"100vw"!==i||d&&"100%"!==d&&"100vw"!==d),w=!("100%"!==c&&"100vh"!==c||f&&"100%"!==f&&"100vh"!==f),A=this._xPosition,R=this._xOffset,B="rtl"===this._overlayRef.getConfig().direction;let K="",pe="",fe="";m?fe="flex-start":"center"===A?(fe="center",B?pe=R:K=R):B?"left"===A||"end"===A?(fe="flex-end",K=R):("right"===A||"start"===A)&&(fe="flex-start",pe=R):"left"===A||"start"===A?(fe="flex-start",K=R):("right"===A||"end"===A)&&(fe="flex-end",pe=R),t.position=this._cssPosition,t.marginLeft=m?"0":K,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":pe,e.justifyContent=fe,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(dv),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let bF=(()=>{class n{constructor(e,r,i,c){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=c}global(){return new yF}flexibleConnectedTo(e){return new gF(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(av),l.KVO(Te),l.KVO(pi),l.KVO(lv))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),hv=0,Qo=(()=>{class n{constructor(e,r,i,c,d,f,m,w,A,R,B,K){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=c,this._keyboardDispatcher=d,this._injector=f,this._ngZone=m,this._document=w,this._directionality=A,this._location=R,this._outsideClickDispatcher=B,this._animationsModuleType=K}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),c=this._createPortalOutlet(i),d=new fw(e);return d.direction=d.direction||this._directionality.value,new uv(c,r,i,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(l.uvJ))}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+hv++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.o8S)),new PS(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(u4),l.KVO(lv),l.KVO(l.OM3),l.KVO(bF),l.KVO(mF),l.KVO(l.zZn),l.KVO(l.SKi),l.KVO(Te),l.KVO(_c),l.KVO(kn),l.KVO(f4),l.KVO(l.bc$,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const EF=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],ZS=new l.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Qo);return()=>n.scrollStrategies.reposition()}});let fv=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),JS=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,r,i,c,d){this._overlay=e,this._dir=d,this._backdropSubscription=re.yU.EMPTY,this._attachSubscription=re.yU.EMPTY,this._detachSubscription=re.yU.EMPTY,this._positionSubscription=re.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,l.WQX)(l.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new l.bkB,this.positionChange=new l.bkB,this.attach=new l.bkB,this.detach=new l.bkB,this.overlayKeydown=new l.bkB,this.overlayOutsideClick=new l.bkB,this._templatePortal=new Xp(r,i),this._scrollStrategyFactory=c,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=EF);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!gc(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{const i=this._getOriginElement(),c=fa(r);(!i||i!==c&&!i.contains(c))&&this.overlayOutsideClick.next(r)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new fw({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof fv?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof fv?this.origin.elementRef.nativeElement:this.origin instanceof l.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function qS(n,t=!1){return(0,se.N)((e,r)=>{let i=0;e.subscribe((0,Qe._)(r,c=>{const d=n(c,i++);(d||t)&&r.next(c),!d&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Qo),l.rXU(l.C4Q),l.rXU(l.c1b),l.rXU(ZS),l.rXU(_c,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",l.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",l.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",l.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",l.L39],push:[2,"cdkConnectedOverlayPush","push",l.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",l.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[l.GFd,l.OA$]})}return n})();const ex={provide:ZS,deps:[Qo],useFactory:function wF(n){return()=>n.scrollStrategies.reposition()}};let gw=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[Qo,ex],imports:[Sh,iF,hF,hF]})}return n})();const CF=["mat-menu-item",""],g4=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],tx=["mat-icon, [matMenuItemIcon]","*"];function nx(n,t){1&n&&(l.qSk(),l.j41(0,"svg",2),l.nrm(1,"polygon",3),l.k0s())}const Zu=["*"];function rx(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",0),l.bIt("keydown",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._handleKeydown(i))})("click",function(){l.eBV(e);const i=l.XpG();return l.Njj(i.closed.emit("click"))})("@transformMenu.start",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._onAnimationStart(i))})("@transformMenu.done",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._onAnimationDone(i))}),l.j41(1,"div",1),l.SdG(2),l.k0s()()}if(2&n){const e=l.XpG();l.HbH(e._classList),l.Y8G("id",e.panelId)("@transformMenu",e._panelAnimationState),l.BMQ("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const _w=new l.nKC("MAT_MENU_PANEL");let vw=(()=>{class n{constructor(e,r,i,c,d){this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=c,this._changeDetectorRef=d,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new U.B,this._focused=new U.B,this._highlighted=!1,this._triggersSubmenu=!1,c?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(Te),l.rXU(Ua),l.rXU(_w,8),l.rXU(l.gRc))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._checkDisabled(d)})("mouseenter",function(){return i._handleMouseEnter()}),2&r&&(l.BMQ("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),l.AVh("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39]},exportAs:["matMenuItem"],standalone:!0,features:[l.GFd,l.aNF],attrs:CF,ngContentSelectors:tx,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,i){1&r&&(l.NAR(g4),l.SdG(0),l.j41(1,"span",0),l.SdG(2,1),l.k0s(),l.nrm(3,"div",1),l.DNE(4,nx,2,0,":svg:svg",2)),2&r&&(l.R7$(3),l.Y8G("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.R7$(),l.vxM(i._triggersSubmenu?4:-1))},dependencies:[Rp],encapsulation:2,changeDetection:0})}return n})();const sx=new l.nKC("MatMenuContent"),pv={transformMenu:(0,wn.hZ)("transformMenu",[(0,wn.wk)("void",(0,wn.iF)({opacity:0,transform:"scale(0.8)"})),(0,wn.kY)("void => enter",(0,wn.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,wn.iF)({opacity:1,transform:"scale(1)"}))),(0,wn.kY)("* => void",(0,wn.i0)("100ms 25ms linear",(0,wn.iF)({opacity:0})))]),fadeInItems:(0,wn.hZ)("fadeInItems",[(0,wn.wk)("showing",(0,wn.iF)({opacity:1})),(0,wn.kY)("void => *",[(0,wn.iF)({opacity:0}),(0,wn.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let DF=0;const TF=new l.nKC("mat-menu-default-options",{providedIn:"root",factory:function bw(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Jp=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){const r=this._previousPanelClass,i={...this._classList};r&&r.length&&r.split(" ").forEach(c=>{i[c]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(c=>{i[c]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,i,c){this._elementRef=e,this._changeDetectorRef=c,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new l.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new U.B,this.closed=new l.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+DF++,this._injector=(0,l.WQX)(l.zZn),this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this.overlapTrigger=i.overlapTrigger,this.hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new P1(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,zo.Z)(this._directDescendantItems),fi(e=>(0,Di.h)(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=e.toArray(),c=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[c]&&!i[c].disabled?r.setActiveItem(c):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,zo.Z)(this._directDescendantItems),fi(r=>(0,Di.h)(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:gc(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,l.mal)(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(null===this._baseElevation){const f=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(f)}const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,c=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));if(!c||c===this._previousElevation){const d={...this._classList};this._previousElevation&&(d[this._previousElevation]=!1),d[i]=!0,this._previousElevation=i,this._classList=d}}setPositionClasses(e=this.xPosition,r=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===e,"mat-menu-after":"after"===e,"mat-menu-above":"above"===r,"mat-menu-below":"below"===r},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,zo.Z)(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(TF),l.rXU(l.gRc))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-menu"]],contentQueries:function(r,i,c){if(1&r&&(l.wni(c,sx,5),l.wni(c,vw,5),l.wni(c,vw,4)),2&r){let d;l.mGM(d=l.lsd())&&(i.lazyContent=d.first),l.mGM(d=l.lsd())&&(i._allItems=d),l.mGM(d=l.lsd())&&(i.items=d)}},viewQuery:function(r,i){if(1&r&&l.GBs(l.C4Q,5),2&r){let c;l.mGM(c=l.lsd())&&(i.templateRef=c.first)}},hostVars:3,hostBindings:function(r,i){2&r&&l.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",l.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>null==e?null:(0,l.L39)(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[l.Jv_([{provide:_w,useExisting:n}]),l.GFd,l.aNF],ngContentSelectors:Zu,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(r,i){1&r&&(l.NAR(),l.DNE(0,rx,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[pv.transformMenu,pv.fadeInItems]},changeDetection:0})}return n})();const ja=new l.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Qo);return()=>n.scrollStrategies.reposition()}}),Ti={provide:ja,deps:[Qo],useFactory:function em(n){return()=>n.scrollStrategies.reposition()}},Yl=bh({passive:!0});let ga=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,i,c,d,f,m,w,A){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=f,this._dir=m,this._focusMonitor=w,this._ngZone=A,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=re.yU.EMPTY,this._hoverSubscription=re.yU.EMPTY,this._menuCloseSubscription=re.yU.EMPTY,this._changeDetectorRef=(0,l.WQX)(l.gRc),this._handleTouchStart=R=>{wE(R)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=d instanceof Jp?d:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,Yl)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Yl),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),i=r.getConfig(),c=i.positionStrategy;this._setPosition(e,c),i.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Jp&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Sr(e.close)).subscribe(()=>{c.withLockedPosition(!1).reapplyLastPosition(),c.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Jp?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe((0,Un.p)(i=>"void"===i.toState),Qr(1),Sr(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new fw({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{const c="start"===i.connectionPair.overlayX?"after":"before",d="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(c,d)):e.setPositionClasses(c,d)})}_setPosition(e,r){let[i,c]="before"===e.xPosition?["end","start"]:["start","end"],[d,f]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[m,w]=[d,f],[A,R]=[i,c],B=0;if(this.triggersSubmenu()){if(R=i="before"===e.xPosition?"start":"end",c=A="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const K=this._parentMaterialMenu.items.first;this._parentInnerPadding=K?K._getHostElement().offsetTop:0}B="bottom"===d?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(m="top"===d?"bottom":"top",w="top"===f?"bottom":"top");r.withPositions([{originX:i,originY:m,overlayX:A,overlayY:d,offsetY:B},{originX:c,originY:m,overlayX:R,overlayY:d,offsetY:B},{originX:i,originY:w,overlayX:A,overlayY:f,offsetY:-B},{originX:c,originY:w,overlayX:R,overlayY:f,offsetY:-B}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:Y(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Un.p)(d=>d!==this._menuItemInstance),(0,Un.p)(()=>this._menuOpen)):Y();return(0,Di.h)(e,i,c,r)}_handleMousedown(e){EE(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Un.p)(e=>e===this._menuItemInstance&&!e.disabled),nw(0,iv)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Jp&&this.menu._isAnimating?this.menu._animationDone.pipe(Qr(1),nw(0,iv),Sr(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Xp(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Qo),l.rXU(l.aKT),l.rXU(l.c1b),l.rXU(ja),l.rXU(_w,8),l.rXU(vw,10),l.rXU(_c,8),l.rXU(Ua),l.rXU(l.SKi))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._handleClick(d)})("mousedown",function(d){return i._handleMousedown(d)})("keydown",function(d){return i._handleKeydown(d)}),2&r&&l.BMQ("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return n})(),Uh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[Ti],imports:[jo,Op,Fr,gw,cv,Fr]})}return n})();const Cw=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=63&i|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=63&i|128)}return t},lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const c=n[i],d=i+1<n.length,f=d?n[i+1]:0,m=i+2<n.length,w=m?n[i+2]:0;let B=(15&f)<<2|w>>6,K=63&w;m||(K=64,d||(B=64)),r.push(e[c>>2],e[(3&c)<<4|f>>4],e[B],e[K])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(Cw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,r=0;for(;e<n.length;){const i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const c=n[e++];t[r++]=String.fromCharCode((31&i)<<6|63&c)}else if(i>239&&i<365){const m=((7&i)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(1023&m))}else{const c=n[e++],d=n[e++];t[r++]=String.fromCharCode((15&i)<<12|(63&c)<<6|63&d)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const c=e[n.charAt(i++)],f=i<n.length?e[n.charAt(i)]:0;++i;const w=i<n.length?e[n.charAt(i)]:64;++i;const R=i<n.length?e[n.charAt(i)]:64;if(++i,null==c||null==f||null==w||null==R)throw new AF;r.push(c<<2|f>>4),64!==w&&(r.push(f<<4&240|w>>2),64!==R&&r.push(w<<6&192|R))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class AF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nm=function(n){return function(n){const t=Cw(n);return lx.encodeByteArray(t,!0)}(n).replace(/\./g,"")},mv=function(n){try{return lx.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},im=()=>{try{return function gv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&mv(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},Dw=n=>{var t,e;return null===(e=null===(t=im())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]},yv=()=>{var n;return null===(n=im())||void 0===n?void 0:n.config},Tw=n=>{var t;return null===(t=im())||void 0===t?void 0:t[`_${n}`]};class om{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,r))}}}function gi(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class ms extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ed.prototype.create)}}class ed{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},i=`${this.service}/${t}`,c=this.errors[t],d=c?function xw(n,t){return n.replace(px,(e,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(c,r):"Error";return new ms(i,`${this.serviceName}: ${d} (${i}).`,r)}}const px=/\{\$([^}]+)}/g;function zh(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const i of e){if(!r.includes(i))return!1;const c=n[i],d=t[i];if(PF(c)&&PF(d)){if(!zh(c,d))return!1}else if(c!==d)return!1}for(const i of r)if(!e.includes(i))return!1;return!0}function PF(n){return null!==n&&"object"==typeof n}function td(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function nd(n){const t={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,c]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(c)}}),t}function am(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}class NF{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");i=function FF(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:r},void 0===i.next&&(i.next=Rw),void 0===i.error&&(i.error=Rw),void 0===i.complete&&(i.complete=Rw);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),c}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Rw(){}function Vi(n){return n&&n._delegate?n._delegate:n}class Jl{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const eu="[DEFAULT]";class cm{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new om;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(i)return null;throw c}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function Gh(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:eu})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const c=this.getOrInitializeService({instanceIdentifier:i});r.resolve(c)}catch{}}}}clearInstance(t=eu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,x.A)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=eu){return this.instances.has(t)}getOptions(t=eu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[c,d]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(c)&&d.resolve(i);return i}onInit(t,e){var r;const i=this.normalizeInstanceIdentifier(e),c=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;c.add(t),this.onInitCallbacks.set(i,c);const d=this.instances.get(i);return d&&t(d,i),()=>{c.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===eu?void 0:n),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(t=eu){return this.component?this.component.multipleInstances?t:eu:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class bx{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new cm(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const tu=[];var qn=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(qn||{});const rd={debug:qn.DEBUG,verbose:qn.VERBOSE,info:qn.INFO,warn:qn.WARN,error:qn.ERROR,silent:qn.SILENT},Wh=qn.INFO,Kh={[qn.DEBUG]:"log",[qn.VERBOSE]:"log",[qn.INFO]:"info",[qn.WARN]:"warn",[qn.ERROR]:"error"},qh=(n,t,...e)=>{if(t<n.logLevel)return;const r=(new Date).toISOString(),i=Kh[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${n.name}:`,...e)};class nu{constructor(t){this.name=t,this._logLevel=Wh,this._logHandler=qh,this._userLogHandler=null,tu.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?rd[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qn.DEBUG,...t),this._logHandler(this,qn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qn.VERBOSE,...t),this._logHandler(this,qn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qn.INFO,...t),this._logHandler(this,qn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qn.WARN,...t),this._logHandler(this,qn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qn.ERROR,...t),this._logHandler(this,qn.ERROR,...t)}}const Xh=(n,t)=>t.some(e=>n instanceof e);let id,kw;const Nw=new WeakMap,Iv=new WeakMap,Fw=new WeakMap,Cv=new WeakMap,Dv=new WeakMap;let bc={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return Iv.get(n);if("objectStoreNames"===t)return n.objectStoreNames||Fw.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return gs(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function Lw(n){return"function"==typeof n?function BF(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function wx(){return kw||(kw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(dm(this),t),gs(Nw.get(this))}:function(...t){return gs(n.apply(dm(this),t))}:function(t,...e){const r=n.call(dm(this),t,...e);return Fw.set(r,t.sort?t.sort():[t]),gs(r)}}(n):(n instanceof IDBTransaction&&function Tv(n){if(Iv.has(n))return;const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{e(),i()},d=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});Iv.set(n,t)}(n),Xh(n,function Ex(){return id||(id=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,bc):n)}function gs(n){if(n instanceof IDBRequest)return function Ix(n){const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{e(gs(n.result)),i()},d=()=>{r(n.error),i()};n.addEventListener("success",c),n.addEventListener("error",d)});return t.then(e=>{e instanceof IDBCursor&&Nw.set(e,n)}).catch(()=>{}),Dv.set(t,n),t}(n);if(Cv.has(n))return Cv.get(n);const t=Lw(n);return t!==n&&(Cv.set(n,t),Dv.set(t,n)),t}const dm=n=>Dv.get(n),L4=["get","getKey","getAll","getAllKeys","count"],V4=["put","add","delete","clear"],Vw=new Map;function Dx(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(Vw.get(t))return Vw.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,i=V4.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!L4.includes(e))return;const c=function(){var d=(0,x.A)(function*(f,...m){const w=this.transaction(f,i?"readwrite":"readonly");let A=w.store;return r&&(A=A.index(m.shift())),(yield Promise.all([A[e](...m),i&&w.done]))[0]});return function(m){return d.apply(this,arguments)}}();return Vw.set(t,c),c}!function VF(n){bc=n(bc)}(n=>({...n,get:(t,e,r)=>Dx(t,e)||n.get(t,e,r),has:(t,e)=>!!Dx(t,e)||n.has(t,e)}));class Tx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function jF(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}return null}).filter(e=>e).join(" ")}}const _i="@firebase/app",od=new nu("@firebase/app"),Sv="[DEFAULT]",QF={[_i]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Jc=new Map,el=new Map,hm=new Map;function Hw(n,t){try{n.container.addComponent(t)}catch(e){od.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Yh(n){const t=n.name;if(hm.has(t))return od.debug(`There were multiple attempts to register component ${t}.`),!1;hm.set(t,n);for(const e of Jc.values())Hw(e,n);for(const e of el.values())Hw(e,n);return!0}function fm(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function _a(n){return void 0!==n.settings}const va=new ed("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Fx{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw va.create("app-deleted",{appName:this._name})}}const Zh="10.12.4";function Lx(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Sv,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw va.create("bad-app-name",{appName:String(i)});if(e||(e=yv()),!e)throw va.create("no-options");const c=Jc.get(i);if(c){if(zh(e,c.options)&&zh(r,c.config))return c;throw va.create("duplicate-app",{appName:i})}const d=new bx(i);for(const m of hm.values())d.addComponent(m);const f=new Fx(e,r,d);return Jc.set(i,f),f}function Vx(n=Sv){const t=Jc.get(n);if(!t&&n===Sv&&yv())return Lx();if(!t)throw va.create("no-app",{appName:n});return t}function za(n,t,e){var r;let i=null!==(r=QF[n])&&void 0!==r?r:n;e&&(i+=`-${e}`);const c=i.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const f=[`Unable to register library "${i}" with version "${t}":`];return c&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),c&&d&&f.push("and"),d&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void od.warn(f.join(" "))}Yh(new Jl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Gw="firebase-heartbeat-database",Bx=1,Jh="firebase-heartbeat-store";let Mv=null;function Ww(){return Mv||(Mv=function UF(n,t,{blocked:e,upgrade:r,blocking:i,terminated:c}={}){const d=indexedDB.open(n,t),f=gs(d);return r&&d.addEventListener("upgradeneeded",m=>{r(gs(d.result),m.oldVersion,m.newVersion,gs(d.transaction),m)}),e&&d.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),f.then(m=>{c&&m.addEventListener("close",()=>c()),i&&m.addEventListener("versionchange",w=>i(w.oldVersion,w.newVersion,w))}).catch(()=>{}),f}(Gw,Bx,{upgrade:(n,t)=>{if(0===t)try{n.createObjectStore(Jh)}catch(e){console.warn(e)}}}).catch(n=>{throw va.create("idb-open",{originalErrorMessage:n.message})})),Mv}function Rv(){return(Rv=(0,x.A)(function*(n){try{const e=(yield Ww()).transaction(Jh),r=yield e.objectStore(Jh).get(qw(n));return yield e.done,r}catch(t){if(t instanceof ms)od.warn(t.message);else{const e=va.create("idb-get",{originalErrorMessage:t?.message});od.warn(e.message)}}})).apply(this,arguments)}function Ux(n,t){return Kw.apply(this,arguments)}function Kw(){return(Kw=(0,x.A)(function*(n,t){try{const r=(yield Ww()).transaction(Jh,"readwrite");yield r.objectStore(Jh).put(t,qw(n)),yield r.done}catch(e){if(e instanceof ms)od.warn(e.message);else{const r=va.create("idb-set",{originalErrorMessage:e?.message});od.warn(r.message)}}})).apply(this,arguments)}function qw(n){return`${n.name}!${n.options.appId}`}class nL{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new rL(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return(0,x.A)(function*(){var e,r;const c=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=Xw();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(r=t._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==d&&!t._heartbeatsCache.heartbeats.some(f=>f.date===d))return t._heartbeatsCache.heartbeats.push({date:d,agent:c}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return(0,x.A)(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const r=Xw(),{heartbeatsToSend:i,unsentEntries:c}=function Ov(n,t=1024){const e=[];let r=n.slice();for(const i of n){const c=e.find(d=>d.agent===i.agent);if(c){if(c.dates.push(i.date),jx(e)>t){c.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),jx(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}(t._heartbeatsCache.heartbeats),d=nm(JSON.stringify({version:2,heartbeats:i}));return t._heartbeatsCache.lastSentHeartbeatDate=r,c.length>0?(t._heartbeatsCache.heartbeats=c,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),d})()}}function Xw(){return(new Date).toISOString().substring(0,10)}class rL{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,x.A)(function*(){return!!function Ev(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Hh(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var c;t((null===(c=i.error)||void 0===c?void 0:c.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,x.A)(function*(){if(yield t._canUseIndexedDBPromise){const r=yield function tL(n){return Rv.apply(this,arguments)}(t.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return(0,x.A)(function*(){var r;if(yield e._canUseIndexedDBPromise){const c=yield e.read();return Ux(e.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return(0,x.A)(function*(){var r;if(yield e._canUseIndexedDBPromise){const c=yield e.read();return Ux(e.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...t.heartbeats]})}})()}}function jx(n){return nm(JSON.stringify({version:2,heartbeats:n})).length}!function Qw(n){Yh(new Jl("platform-logger",t=>new Tx(t),"PRIVATE")),Yh(new Jl("heartbeat",t=>new nL(t),"PRIVATE")),za(_i,"0.10.7",n),za(_i,"0.10.7","esm2017"),za("fire-js","")}("");var Yw=O(1635);const eI=function Hx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},tI=new ed("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Pv=new nu("@firebase/auth");function pm(n,...t){Pv.logLevel<=qn.ERROR&&Pv.error(`Auth (${Zh}): ${n}`,...t)}function Oo(n,...t){throw ru(n,...t)}function Po(n,...t){return ru(n,...t)}function tl(n,t,e){const r=Object.assign(Object.assign({},eI()),{[t]:e});return new ed("auth","Firebase",r).create(t,{appName:n.name})}function lo(n){return tl(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ru(n,...t){if("string"!=typeof n){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return tI.create(n,...t)}function Wt(n,t,...e){if(!n)throw ru(t,...e)}function ya(n){const t="INTERNAL ASSERTION FAILED: "+n;throw pm(t),new Error(t)}function iu(n,t){n||ya(t)}function tf(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function aL(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function nf(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function kv(){return"http:"===aL()||"https:"===aL()}()||function dx(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class mm{constructor(t,e){this.shortDelay=t,this.longDelay=e,iu(e>t,"Short delay should be less than long delay!"),this.isMobile=function Ns(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gi())}()||function hx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return nf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function nI(n,t){iu(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class sd{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nv=new mm(3e4,6e4);function Rr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function Xn(n,t,e,r){return Fv.apply(this,arguments)}function Fv(){return(Fv=(0,x.A)(function*(n,t,e,r,i={}){return rI(n,i,(0,x.A)(function*(){let c={},d={};r&&("GET"===t?d=r:c={body:JSON.stringify(r)});const f=td(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),sd.fetch()(Gx(n,n.config.apiHost,e,f),Object.assign({method:t,headers:m,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function rI(n,t,e){return iI.apply(this,arguments)}function iI(){return(iI=(0,x.A)(function*(n,t,e){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},lL),t);try{const i=new Wx(n),c=yield Promise.race([e(),i.promise]);i.clearNetworkTimeout();const d=yield c.json();if("needConfirmation"in d)throw nl(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[m,w]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===m)throw nl(n,"credential-already-in-use",d);if("EMAIL_EXISTS"===m)throw nl(n,"email-already-in-use",d);if("USER_DISABLED"===m)throw nl(n,"user-disabled",d);const A=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw tl(n,A,w);Oo(n,A)}}catch(i){if(i instanceof ms)throw i;Oo(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Fs(n,t,e,r){return ad.apply(this,arguments)}function ad(){return(ad=(0,x.A)(function*(n,t,e,r,i={}){const c=yield Xn(n,t,e,r,i);return"mfaPendingCredential"in c&&Oo(n,"multi-factor-auth-required",{_serverResponse:c}),c})).apply(this,arguments)}function Gx(n,t,e,r){const i=`${t}${e}?${r}`;return n.config.emulator?nI(n.config,i):`${n.config.apiScheme}://${i}`}function uL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Wx{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Po(this.auth,"network-request-failed")),Nv.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function nl(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const i=Po(n,t,r);return i.customData._tokenResponse=e,i}function qx(n){return void 0!==n&&void 0!==n.enterprise}class Xx{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return uL(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}}function oI(n,t){return sI.apply(this,arguments)}function sI(){return(sI=(0,x.A)(function*(n,t){return Xn(n,"GET","/v2/recaptchaConfig",Rr(n,t))})).apply(this,arguments)}function aI(){return(aI=(0,x.A)(function*(n,t){return Xn(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function dL(n,t){return Jx.apply(this,arguments)}function Jx(){return(Jx=(0,x.A)(function*(n,t){return Xn(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function rf(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function lI(){return(lI=(0,x.A)(function*(n,t=!1){const e=Vi(n),r=yield e.getIdToken(t),i=ou(r);Wt(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const c="object"==typeof i.firebase?i.firebase:void 0,d=c?.sign_in_provider;return{claims:i,token:r,authTime:rf(Vv(i.auth_time)),issuedAtTime:rf(Vv(i.iat)),expirationTime:rf(Vv(i.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}})).apply(this,arguments)}function Vv(n){return 1e3*Number(n)}function ou(n){const[t,e,r]=n.split(".");if(void 0===t||void 0===e||void 0===r)return pm("JWT malformed, contained fewer than 3 sections"),null;try{const i=mv(e);return i?JSON.parse(i):(pm("Failed to decode base64 JWT payload"),null)}catch(i){return pm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function eM(n){const t=ou(n);return Wt(t,"internal-error"),Wt(typeof t.exp<"u","internal-error"),Wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function rl(n,t){return uI.apply(this,arguments)}function uI(){return(uI=(0,x.A)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(r){throw r instanceof ms&&function fL({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class X4{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout((0,x.A)(function*(){yield e.iteration()}),r)}iteration(){var t=this;return(0,x.A)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class dI{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=rf(this.lastLoginAt),this.creationTime=rf(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sf(n){return hI.apply(this,arguments)}function hI(){return(hI=(0,x.A)(function*(n){var t;const e=n.auth,r=yield n.getIdToken(),i=yield rl(n,dL(e,{idToken:r}));Wt(i?.users.length,e,"internal-error");const c=i.users[0];n._notifyReloadListener(c);const d=null!==(t=c.providerUserInfo)&&void 0!==t&&t.length?fI(c.providerUserInfo):[],f=function mL(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(n.providerData,d),A=!!n.isAnonymous&&!(n.email&&c.passwordHash||f?.length),R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new dI(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(n,R)})).apply(this,arguments)}function cd(){return(cd=(0,x.A)(function*(n){const t=Vi(n);yield sf(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function fI(n){return n.map(t=>{var{providerId:e}=t,r=(0,Yw.Tt)(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function pI(){return(pI=(0,x.A)(function*(n,t){const e=yield rI(n,{},(0,x.A)(function*(){const r=td({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:c}=n.config,d=Gx(n,i,"/v1/token",`key=${c}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",sd.fetch()(d,{method:"POST",headers:f,body:r})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function mI(){return(mI=(0,x.A)(function*(n,t){return Xn(n,"POST","/v2/accounts:revokeToken",Rr(n,t))})).apply(this,arguments)}class su{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Wt(t.idToken,"internal-error"),Wt(typeof t.idToken<"u","internal-error"),Wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):eM(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Wt(0!==t.length,"internal-error");const e=eM(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){var r=this;return(0,x.A)(function*(){return e||!r.accessToken||r.isExpired?(Wt(r.refreshToken,t,"user-token-expired"),r.refreshToken?(yield r.refresh(t,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var r=this;return(0,x.A)(function*(){const{accessToken:i,refreshToken:c,expiresIn:d}=yield function tM(n,t){return pI.apply(this,arguments)}(t,e);r.updateTokensAndExpiration(i,c,Number(d))})()}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,e){const{refreshToken:r,accessToken:i,expirationTime:c}=e,d=new su;return r&&(Wt("string"==typeof r,"internal-error",{appName:t}),d.refreshToken=r),i&&(Wt("string"==typeof i,"internal-error",{appName:t}),d.accessToken=i),c&&(Wt("number"==typeof c,"internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new su,this.toJSON())}_performRefresh(){return ya("not implemented")}}function au(n,t){Wt("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class Ic{constructor(t){var{uid:e,auth:r,stsTokenManager:i}=t,c=(0,Yw.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new X4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new dI(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,x.A)(function*(){const r=yield rl(e,e.stsTokenManager.getToken(e.auth,t));return Wt(r,e.auth,"internal-error"),e.accessToken!==r&&(e.accessToken=r,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),r})()}getIdTokenResult(t){return function hL(n){return lI.apply(this,arguments)}(this,t)}reload(){return function pL(n){return cd.apply(this,arguments)}(this)}_assign(t){this!==t&&(Wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ic(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var r=this;return(0,x.A)(function*(){let i=!1;t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield sf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var t=this;return(0,x.A)(function*(){if(_a(t.auth.app))return Promise.reject(lo(t.auth));const e=yield t.getIdToken();return yield rl(t,function Yx(n,t){return aI.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,i,c,d,f,m,w,A;const R=null!==(r=e.displayName)&&void 0!==r?r:void 0,B=null!==(i=e.email)&&void 0!==i?i:void 0,K=null!==(c=e.phoneNumber)&&void 0!==c?c:void 0,pe=null!==(d=e.photoURL)&&void 0!==d?d:void 0,fe=null!==(f=e.tenantId)&&void 0!==f?f:void 0,he=null!==(m=e._redirectEventId)&&void 0!==m?m:void 0,ht=null!==(w=e.createdAt)&&void 0!==w?w:void 0,vt=null!==(A=e.lastLoginAt)&&void 0!==A?A:void 0,{uid:Et,emailVerified:zt,isAnonymous:_n,providerData:an,stsTokenManager:Ve}=e;Wt(Et&&Ve,t,"internal-error");const le=su.fromJSON(this.name,Ve);Wt("string"==typeof Et,t,"internal-error"),au(R,t.name),au(B,t.name),Wt("boolean"==typeof zt,t,"internal-error"),Wt("boolean"==typeof _n,t,"internal-error"),au(K,t.name),au(pe,t.name),au(fe,t.name),au(he,t.name),au(ht,t.name),au(vt,t.name);const we=new Ic({uid:Et,auth:t,email:B,emailVerified:zt,displayName:R,isAnonymous:_n,photoURL:pe,phoneNumber:K,tenantId:fe,stsTokenManager:le,createdAt:ht,lastLoginAt:vt});return an&&Array.isArray(an)&&(we.providerData=an.map(je=>Object.assign({},je))),he&&(we._redirectEventId=he),we}static _fromIdTokenResponse(t,e,r=!1){return(0,x.A)(function*(){const i=new su;i.updateFromServerResponse(e);const c=new Ic({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield sf(c),c})()}static _fromGetAccountInfoResponse(t,e,r){return(0,x.A)(function*(){const i=e.users[0];Wt(void 0!==i.localId,"internal-error");const c=void 0!==i.providerUserInfo?fI(i.providerUserInfo):[],d=!(i.email&&i.passwordHash||c?.length),f=new su;f.updateFromIdToken(r);const m=new Ic({uid:i.localId,auth:t,stsTokenManager:f,isAnonymous:d}),w={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new dI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||c?.length)};return Object.assign(m,w),m})()}}const gI=new Map;function il(n){iu(n instanceof Function,"Expected a class definition");let t=gI.get(n);return t?(iu(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,gI.set(n,t),t)}const rM=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,x.A)(function*(){return!0})()}_set(e,r){var i=this;return(0,x.A)(function*(){i.storage[e]=r})()}_get(e){var r=this;return(0,x.A)(function*(){const i=r.storage[e];return void 0===i?null:i})()}_remove(e){var r=this;return(0,x.A)(function*(){delete r.storage[e]})()}_addListener(e,r){}_removeListener(e,r){}}return n.type="NONE",n})();function af(n,t,e){return`firebase:${n}:${t}:${e}`}class cf{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:i,name:c}=this.auth;this.fullUserKey=af(this.userKey,i.apiKey,c),this.fullPersistenceKey=af("persistence",i.apiKey,c),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,x.A)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?Ic._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,x.A)(function*(){if(e.persistence===t)return;const r=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,r?e.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,r="authUser"){return(0,x.A)(function*(){if(!e.length)return new cf(il(rM),t,r);const i=(yield Promise.all(e.map(function(){var w=(0,x.A)(function*(A){if(yield A._isAvailable())return A});return function(A){return w.apply(this,arguments)}}()))).filter(w=>w);let c=i[0]||il(rM);const d=af(r,t.config.apiKey,t.name);let f=null;for(const w of e)try{const A=yield w._get(d);if(A){const R=Ic._fromJSON(t,A);w!==c&&(f=R),c=w;break}}catch{}const m=i.filter(w=>w._shouldAllowMigration);return c._shouldAllowMigration&&m.length?(c=m[0],f&&(yield c._set(d,f.toJSON())),yield Promise.all(e.map(function(){var w=(0,x.A)(function*(A){if(A!==c)try{yield A._remove(d)}catch{}});return function(A){return w.apply(this,arguments)}}())),new cf(c,t,r)):new cf(c,t,r)})()}}function _I(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sM(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(iM(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cM(t))return"Blackberry";if(lM(t))return"Webos";if(vI(t))return"Safari";if((t.includes("chrome/")||oM(t))&&!t.includes("edge/"))return"Chrome";if(aM(t))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function iM(n=gi()){return/firefox\//i.test(n)}function vI(n=gi()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function oM(n=gi()){return/crios\//i.test(n)}function sM(n=gi()){return/iemobile/i.test(n)}function aM(n=gi()){return/android/i.test(n)}function cM(n=gi()){return/blackberry/i.test(n)}function lM(n=gi()){return/webos/i.test(n)}function Bv(n=gi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function dM(n=gi()){return Bv(n)||aM(n)||lM(n)||cM(n)||/windows phone/i.test(n)||sM(n)}function fM(n,t=[]){let e;switch(n){case"Browser":e=_I(gi());break;case"Worker":e=`${_I(gi())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Zh}/${r}`}class vL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=c=>new Promise((d,f)=>{try{d(t(c))}catch(m){f(m)}});r.onAbort=e,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,x.A)(function*(){if(e.auth.currentUser===t)return;const r=[];try{for(const i of e.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const c of r)try{c()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function gm(){return(gm=(0,x.A)(function*(n,t={}){return Xn(n,"GET","/v2/passwordPolicy",Rr(n,t))})).apply(this,arguments)}class mM{constructor(t){var e,r,i,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=d.minPasswordLength)&&void 0!==e?e:6,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),void 0!==d.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),void 0!==d.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),void 0!==d.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),void 0!==d.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(c=t.forceUpgradeOnSignin)&&void 0!==c&&c,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,i,c,d,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=null===(e=m.meetsMinPasswordLength)||void 0===e||e),m.isValid&&(m.isValid=null===(r=m.meetsMaxPasswordLength)||void 0===r||r),m.isValid&&(m.isValid=null===(i=m.containsLowercaseLetter)||void 0===i||i),m.isValid&&(m.isValid=null===(c=m.containsUppercaseLetter)||void 0===c||c),m.isValid&&(m.isValid=null===(d=m.containsNumericCharacter)||void 0===d||d),m.isValid&&(m.isValid=null===(f=m.containsNonAlphanumericCharacter)||void 0===f||f),m}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){let r;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class yL{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bI(this),this.idTokenSubscription=new bI(this),this.beforeStateQueue=new vL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){var r=this;return e&&(this._popupRedirectResolver=il(e)),this._initializationPromise=this.queue((0,x.A)(function*(){var i,c;if(!r._deleted&&(r.persistenceManager=yield cf.create(r,t),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(e),r.lastNotifiedUid=(null===(c=r.currentUser)||void 0===c?void 0:c.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,x.A)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUserFromIdToken(t){var e=this;return(0,x.A)(function*(){try{const r=yield dL(e,{idToken:t}),i=yield Ic._fromGetAccountInfoResponse(e,r,t);yield e.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield e.directlySetCurrentUser(null)}})()}initializeCurrentUser(t){var e=this;return(0,x.A)(function*(){var r;if(_a(e.app)){const f=e.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>e.initializeCurrentUserFromIdToken(f).then(m,m))}):e.directlySetCurrentUser(null)}const i=yield e.assertedPersistence.getCurrentUser();let c=i,d=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const f=null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId,m=c?._redirectEventId,w=yield e.tryRedirectSignIn(t);(!f||f===m)&&w?.user&&(c=w.user,d=!0)}if(!c)return e.directlySetCurrentUser(null);if(!c._redirectEventId){if(d)try{yield e.beforeStateQueue.runMiddleware(c)}catch(f){c=i,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(f))}return c?e.reloadAndSetCurrentUserOrClear(c):e.directlySetCurrentUser(null)}return Wt(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===c._redirectEventId?e.directlySetCurrentUser(c):e.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(t){var e=this;return(0,x.A)(function*(){let r=null;try{r=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,x.A)(function*(){try{yield sf(t)}catch(r){if("auth/network-request-failed"!==r?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function cL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,x.A)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,x.A)(function*(){if(_a(e.app))return Promise.reject(lo(e));const r=t?Vi(t):null;return r&&Wt(r.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(r&&r._clone(e))})()}_updateCurrentUser(t,e=!1){var r=this;return(0,x.A)(function*(){if(!r._deleted)return t&&Wt(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),e||(yield r.beforeStateQueue.runMiddleware(t)),r.queue((0,x.A)(function*(){yield r.directlySetCurrentUser(t),r.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,x.A)(function*(){return _a(t.app)?Promise.reject(lo(t)):(yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0))})()}setPersistence(t){var e=this;return _a(this.app)?Promise.reject(lo(this)):this.queue((0,x.A)(function*(){yield e.assertedPersistence.setPersistence(il(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return(0,x.A)(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const r=e._getPasswordPolicyInternal();return r.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return(0,x.A)(function*(){const e=yield function pM(n){return gm.apply(this,arguments)}(t),r=new mM(e);null===t.tenantId?t._projectPasswordPolicy=r:t._tenantPasswordPolicies[t.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ed("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}revokeAccessToken(t){var e=this;return(0,x.A)(function*(){if(e.currentUser){const r=yield e.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};null!=e.tenantId&&(i.tenantId=e.tenantId),yield function nM(n,t){return mI.apply(this,arguments)}(e,i)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var r=this;return(0,x.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,x.A)(function*(){if(!e.redirectPersistenceManager){const r=t&&il(t)||e._popupRedirectResolver;Wt(r,e,"argument-error"),e.redirectPersistenceManager=yield cf.create(e,[il(r._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,x.A)(function*(){var r,i;return e._isInitialized&&(yield e.queue((0,x.A)(function*(){}))),(null===(r=e._currentUser)||void 0===r?void 0:r._redirectEventId)===t?e._currentUser:(null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,x.A)(function*(){if(t===e.currentUser)return e.queue((0,x.A)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};const c="function"==typeof e?e:e.next.bind(e);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),"function"==typeof e){const m=t.addObserver(e,r,i);return()=>{d=!0,m()}}{const m=t.addObserver(e);return()=>{d=!0,m()}}}directlySetCurrentUser(t){var e=this;return(0,x.A)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=fM(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,x.A)(function*(){var e;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const c=yield t._getAppCheckToken();return c&&(r["X-Firebase-AppCheck"]=c),r})()}_getAppCheckToken(){var t=this;return(0,x.A)(function*(){var e;const r=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return r?.error&&function sL(n,...t){Pv.logLevel<=qn.WARN&&Pv.warn(`Auth (${Zh}): ${n}`,...t)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function oi(n){return Vi(n)}class bI{constructor(t){this.auth=t,this.observer=null,this.addObserver=function kF(n,t){const e=new NF(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lf={loadJS:()=>(0,x.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Uv(n){return lf.loadJS(n)}function vM(n){return`__${n}${Math.floor(1e6*Math.random())}`}class wI{constructor(t){this.type="recaptcha-enterprise",this.auth=oi(t)}verify(t="verify",e=!1){var r=this;return(0,x.A)(function*(){function c(){return c=(0,x.A)(function*(f){if(!e){if(null==f.tenantId&&null!=f._agentRecaptchaConfig)return f._agentRecaptchaConfig.siteKey;if(null!=f.tenantId&&void 0!==f._tenantRecaptchaConfigs[f.tenantId])return f._tenantRecaptchaConfigs[f.tenantId].siteKey}return new Promise(function(){var m=(0,x.A)(function*(w,A){oI(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(R=>{if(void 0!==R.recaptchaKey){const B=new Xx(R);return null==f.tenantId?f._agentRecaptchaConfig=B:f._tenantRecaptchaConfigs[f.tenantId]=B,w(B.siteKey)}A(new Error("recaptcha Enterprise site key undefined"))}).catch(R=>{A(R)})});return function(w,A){return m.apply(this,arguments)}}())}),c.apply(this,arguments)}function d(f,m,w){const A=window.grecaptcha;qx(A)?A.enterprise.ready(()=>{A.enterprise.execute(f,{action:t}).then(R=>{m(R)}).catch(()=>{m("NO_RECAPTCHA")})}):w(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((f,m)=>{(function i(f){return c.apply(this,arguments)})(r.auth).then(w=>{if(!e&&qx(window.grecaptcha))d(w,f,m);else{if(typeof window>"u")return void m(new Error("RecaptchaVerifier is only supported in browser"));let A=function gM(){return lf.recaptchaEnterpriseScript}();0!==A.length&&(A+=w),Uv(A).then(()=>{d(w,f,m)}).catch(R=>{m(R)})}}).catch(w=>{m(w)})})})()}}function II(n,t,e){return jv.apply(this,arguments)}function jv(){return(jv=(0,x.A)(function*(n,t,e,r=!1){const i=new wI(n);let c;try{c=yield i.verify(e)}catch{c=yield i.verify(e,!0)}const d=Object.assign({},t);return Object.assign(d,r?{captchaResp:c}:{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d})).apply(this,arguments)}function uf(n,t,e,r){return $v.apply(this,arguments)}function $v(){return $v=(0,x.A)(function*(n,t,e,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=yield II(n,t,e,"getOobCode"===e);return r(n,c)}return r(n,t).catch(function(){var c=(0,x.A)(function*(d){if("auth/missing-recaptcha-token"===d.code){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=yield II(n,t,e,"getOobCode"===e);return r(n,f)}return Promise.reject(d)});return function(d){return c.apply(this,arguments)}}())}),$v.apply(this,arguments)}function CI(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function DI(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}class df{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ya("not implemented")}_getIdTokenResponse(t){return ya("not implemented")}_linkToIdToken(t,e){return ya("not implemented")}_getReauthenticationResolver(t){return ya("not implemented")}}function IL(n,t){return AI.apply(this,arguments)}function AI(){return(AI=(0,x.A)(function*(n,t){return Xn(n,"POST","/v1/accounts:signUp",t)})).apply(this,arguments)}function DL(n,t){return xI.apply(this,arguments)}function xI(){return(xI=(0,x.A)(function*(n,t){return Fs(n,"POST","/v1/accounts:signInWithPassword",Rr(n,t))})).apply(this,arguments)}function Zv(){return(Zv=(0,x.A)(function*(n,t){return Fs(n,"POST","/v1/accounts:signInWithEmailLink",Rr(n,t))})).apply(this,arguments)}function MI(){return(MI=(0,x.A)(function*(n,t){return Fs(n,"POST","/v1/accounts:signInWithEmailLink",Rr(n,t))})).apply(this,arguments)}class ld extends df{constructor(t,e,r,i=null){super("password",r),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new ld(t,e,"password")}static _fromEmailAndCode(t,e,r=null){return new ld(t,e,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if(e?.email&&e?.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,x.A)(function*(){switch(e.signInMethod){case"password":return uf(t,{returnSecureToken:!0,email:e._email,password:e._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",DL);case"emailLink":return function xM(n,t){return Zv.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:Oo(t,"internal-error")}})()}_linkToIdToken(t,e){var r=this;return(0,x.A)(function*(){switch(r.signInMethod){case"password":return uf(t,{idToken:e,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",IL);case"emailLink":return function TL(n,t){return MI.apply(this,arguments)}(t,{idToken:e,email:r._email,oobCode:r._password});default:Oo(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function ba(n,t){return _m.apply(this,arguments)}function _m(){return(_m=(0,x.A)(function*(n,t){return Fs(n,"POST","/v1/accounts:signInWithIdp",Rr(n,t))})).apply(this,arguments)}class ud extends df{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ud(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Oo("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:r,signInMethod:i}=e,c=(0,Yw.Tt)(e,["providerId","signInMethod"]);if(!r||!i)return null;const d=new ud(r,i);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){return ba(t,this.buildRequest())}_linkToIdToken(t,e){const r=this.buildRequest();return r.idToken=e,ba(t,r)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ba(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=td(e)}return t}}class vm{constructor(t){var e,r,i,c,d,f;const m=nd(am(t)),w=null!==(e=m.apiKey)&&void 0!==e?e:null,A=null!==(r=m.oobCode)&&void 0!==r?r:null,R=function SL(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=m.mode)&&void 0!==i?i:null);Wt(w&&A&&R,"argument-error"),this.apiKey=w,this.operation=R,this.code=A,this.continueUrl=null!==(c=m.continueUrl)&&void 0!==c?c:null,this.languageCode=null!==(d=m.languageCode)&&void 0!==d?d:null,this.tenantId=null!==(f=m.tenantId)&&void 0!==f?f:null}static parseLink(t){const e=function xL(n){const t=nd(am(n)).link,e=t?nd(am(t)).deep_link_id:null,r=nd(am(n)).deep_link_id;return(r?nd(am(r)).link:null)||r||e||t||n}(t);try{return new vm(e)}catch{return null}}}let ry=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(e,r){return ld._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const i=vm.parseLink(r);return Wt(i,"argument-error"),ld._fromEmailAndCode(e,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Cc{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class iy extends Cc{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}let ym=(()=>{class n extends iy{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return ud._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return n.credentialFromTaggedObject(e)}static credentialFromError(e){return n.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:i}=e;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();function Em(n,t){return sy.apply(this,arguments)}function sy(){return(sy=(0,x.A)(function*(n,t){return Fs(n,"POST","/v1/accounts:signUp",Rr(n,t))})).apply(this,arguments)}class Yo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,r,i=!1){return(0,x.A)(function*(){const c=yield Ic._fromIdTokenResponse(t,r,i),d=ML(r);return new Yo({user:c,providerId:d,_tokenResponse:r,operationType:e})})()}static _forOperation(t,e,r){return(0,x.A)(function*(){yield t._updateTokensIfNecessary(r,!0);const i=ML(r);return new Yo({user:t,providerId:i,_tokenResponse:r,operationType:e})})()}}function ML(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function ay(){return(ay=(0,x.A)(function*(n){var t;if(_a(n.app))return Promise.reject(lo(n));const e=oi(n);if(yield e._initializationPromise,null!==(t=e.currentUser)&&void 0!==t&&t.isAnonymous)return new Yo({user:e.currentUser,providerId:null,operationType:"signIn"});const r=yield Em(e,{returnSecureToken:!0}),i=yield Yo._fromIdTokenResponse(e,"signIn",r,!0);return yield e._updateCurrentUser(i.user),i})).apply(this,arguments)}class wm extends ms{constructor(t,e,r,i){var c;super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,wm.prototype),this.customData={appName:t.name,tenantId:null!==(c=t.tenantId)&&void 0!==c?c:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new wm(t,e,r,i)}}function PI(n,t,e,r){return("reauthenticate"===t?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(c=>{throw"auth/multi-factor-auth-required"===c.code?wm._fromErrorAndOperation(n,c,t,r):c})}function LI(){return(LI=(0,x.A)(function*(n,t,e=!1){const r=yield rl(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return Yo._forOperation(n,"link",r)})).apply(this,arguments)}function dd(){return(dd=(0,x.A)(function*(n,t,e=!1){const{auth:r}=n;if(_a(r.app))return Promise.reject(lo(r));const i="reauthenticate";try{const c=yield rl(n,PI(r,i,t,n),e);Wt(c.idToken,r,"internal-error");const d=ou(c.idToken);Wt(d,r,"internal-error");const{sub:f}=d;return Wt(n.uid===f,r,"user-mismatch"),Yo._forOperation(n,i,c)}catch(c){throw"auth/user-not-found"===c?.code&&Oo(r,"user-mismatch"),c}})).apply(this,arguments)}function BI(n,t){return ly.apply(this,arguments)}function ly(){return(ly=(0,x.A)(function*(n,t,e=!1){if(_a(n.app))return Promise.reject(lo(n));const r="signIn",i=yield PI(n,r,t),c=yield Yo._fromIdTokenResponse(n,r,i);return e||(yield n._updateCurrentUser(c.user)),c})).apply(this,arguments)}function uy(n,t){return dy.apply(this,arguments)}function dy(){return(dy=(0,x.A)(function*(n,t){return BI(oi(n),t)})).apply(this,arguments)}function $I(n){return HI.apply(this,arguments)}function HI(){return(HI=(0,x.A)(function*(n){const t=oi(n);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})).apply(this,arguments)}function KI(){return(KI=(0,x.A)(function*(n,t,e){if(_a(n.app))return Promise.reject(lo(n));const r=oi(n),d=yield uf(r,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Em).catch(m=>{throw"auth/password-does-not-meet-requirements"===m.code&&$I(n),m}),f=yield Yo._fromIdTokenResponse(r,"signIn",d);return yield r._updateCurrentUser(f.user),f})).apply(this,arguments)}const _y="__sak";class ZM{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(_y,"1"),this.storage.removeItem(_y),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const GL=(()=>{class n extends ZM{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function HL(){const n=gi();return vI(n)||Bv(n)}()&&function hM(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=dM(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),c=this.localCache[r];i!==c&&e(r,c,i)}}onStorageEvent(e,r=!1){if(!e.key)return void this.forAllChangedKeys((f,m,w)=>{this.notifyListeners(f,w)});const i=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(e.newValue!==f)null!==e.newValue?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!r)return}const c=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},d=this.storage.getItem(i);!function _L(){return function b4(){const n=gi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||d===e.newValue||e.newValue===e.oldValue?c():setTimeout(c,10)}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const c of Array.from(i))c(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,r){var i=()=>super._set,c=this;return(0,x.A)(function*(){yield i().call(c,e,r),c.localCache[e]=JSON.stringify(r)})()}_get(e){var r=()=>super._get,i=this;return(0,x.A)(function*(){const c=yield r().call(i,e);return i.localCache[e]=JSON.stringify(c),c})()}_remove(e){var r=()=>super._remove,i=this;return(0,x.A)(function*(){yield r().call(i,e),delete i.localCache[e]})()}}return n.type="LOCAL",n})(),eR=(()=>{class n extends ZM{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}return n.type="SESSION",n})();let KL=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(c=>c.isListeningto(e));if(r)return r;const i=new n(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}handleEvent(e){var r=this;return(0,x.A)(function*(){const i=e,{eventId:c,eventType:d,data:f}=i.data,m=r.handlersMap[d];if(!m?.size)return;i.ports[0].postMessage({status:"ack",eventId:c,eventType:d});const w=Array.from(m).map(function(){var R=(0,x.A)(function*(B){return B(i.origin,f)});return function(B){return R.apply(this,arguments)}}()),A=yield function WL(n){return Promise.all(n.map(function(){var t=(0,x.A)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(r){return{fulfilled:!1,reason:r}}});return function(e){return t.apply(this,arguments)}}()))}(w);i.ports[0].postMessage({status:"done",eventId:c,eventType:d,response:A})})()}_subscribe(e,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function vy(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(10*Math.random());return n+e}class qL{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,r=50){var i=this;return(0,x.A)(function*(){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,f;return new Promise((m,w)=>{const A=vy("",20);c.port1.start();const R=setTimeout(()=>{w(new Error("unsupported_event"))},r);f={messageChannel:c,onMessage(B){const K=B;if(K.data.eventId===A)switch(K.data.status){case"ack":clearTimeout(R),d=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),m(K.data.response);break;default:clearTimeout(R),clearTimeout(d),w(new Error("invalid_response"))}}},i.handlers.add(f),c.port1.addEventListener("message",f.onMessage),i.target.postMessage({eventType:t,eventId:A,data:e},[c.port2])}).finally(()=>{f&&i.removeMessageHandler(f)})})()}}function Bi(){return window}function rC(){return typeof Bi().WorkerGlobalScope<"u"&&"function"==typeof Bi().importScripts}function iC(){return(iC=(0,x.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const nR="firebaseLocalStorageDb",Sm="firebaseLocalStorage",rR="fbase_key";class mf{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function sC(n,t){return n.transaction([Sm],t?"readwrite":"readonly").objectStore(Sm)}function yy(){const n=indexedDB.open(nR,1);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Sm,{keyPath:rR})}catch(i){e(i)}}),n.addEventListener("success",(0,x.A)(function*(){const r=n.result;r.objectStoreNames.contains(Sm)?t(r):(r.close(),yield function ZL(){const n=indexedDB.deleteDatabase(nR);return new mf(n).toPromise()}(),t(yield yy()))}))})}function aC(n,t,e){return cC.apply(this,arguments)}function cC(){return(cC=(0,x.A)(function*(n,t,e){const r=sC(n,!0).put({[rR]:t,value:e});return new mf(r).toPromise()})).apply(this,arguments)}function lC(){return(lC=(0,x.A)(function*(n,t){const e=sC(n,!1).get(t),r=yield new mf(e).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function by(n,t){const e=sC(n,!0).delete(t);return new mf(e).toPromise()}const dC=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,x.A)(function*(){return e.db||(e.db=yield yy()),e.db})()}_withRetries(e){var r=this;return(0,x.A)(function*(){let i=0;for(;;)try{const c=yield r._openDb();return yield e(c)}catch(c){if(i++>3)throw c;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,x.A)(function*(){return rC()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,x.A)(function*(){e.receiver=KL._getInstance(function oC(){return rC()?self:null}()),e.receiver._subscribe("keyChanged",function(){var r=(0,x.A)(function*(i,c){return{keyProcessed:(yield e._poll()).includes(c.key)}});return function(i,c){return r.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var r=(0,x.A)(function*(i,c){return["keyChanged"]});return function(i,c){return r.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,x.A)(function*(){var r,i;if(e.activeServiceWorker=yield function QL(){return iC.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new qL(e.activeServiceWorker);const c=yield e.sender._send("ping",{},800);c&&null!==(r=c[0])&&void 0!==r&&r.fulfilled&&null!==(i=c[0])&&void 0!==i&&i.value.includes("keyChanged")&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var r=this;return(0,x.A)(function*(){if(r.sender&&r.activeServiceWorker&&function tR(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:e},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,x.A)(function*(){try{if(!indexedDB)return!1;const e=yield yy();return yield aC(e,_y,"1"),yield by(e,_y),!0}catch{}return!1})()}_withPendingWrite(e){var r=this;return(0,x.A)(function*(){r.pendingWrites++;try{yield e()}finally{r.pendingWrites--}})()}_set(e,r){var i=this;return(0,x.A)(function*(){return i._withPendingWrite((0,x.A)(function*(){return yield i._withRetries(c=>aC(c,e,r)),i.localCache[e]=r,i.notifyServiceWorker(e)}))})()}_get(e){var r=this;return(0,x.A)(function*(){const i=yield r._withRetries(c=>function iR(n,t){return lC.apply(this,arguments)}(c,e));return r.localCache[e]=i,i})()}_remove(e){var r=this;return(0,x.A)(function*(){return r._withPendingWrite((0,x.A)(function*(){return yield r._withRetries(i=>by(i,e)),delete r.localCache[e],r.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,x.A)(function*(){const r=yield e._withRetries(d=>{const f=sC(d,!1).getAll();return new mf(f).toPromise()});if(!r)return[];if(0!==e.pendingWrites)return[];const i=[],c=new Set;if(0!==r.length)for(const{fbase_key:d,value:f}of r)c.add(d),JSON.stringify(e.localCache[d])!==JSON.stringify(f)&&(e.notifyListeners(d,f),i.push(d));for(const d of Object.keys(e.localCache))e.localCache[d]&&!c.has(d)&&(e.notifyListeners(d,null),i.push(d));return i})()}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const c of Array.from(i))c(r)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,x.A)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Wa(n,t){return t?il(t):(Wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}vM("rcb"),new mm(3e4,6e4);class fR extends df{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ba(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ba(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function oV(n){return BI(n.auth,new fR(n),n.bypassAuthState)}function Ay(n){const{auth:t,user:e}=n;return Wt(e,t,"internal-error"),function LM(n,t){return dd.apply(this,arguments)}(e,new fR(n),n.bypassAuthState)}function sV(n){return pR.apply(this,arguments)}function pR(){return(pR=(0,x.A)(function*(n){const{auth:t,user:e}=n;return Wt(e,t,"internal-error"),function FI(n,t){return LI.apply(this,arguments)}(e,new fR(n),n.bypassAuthState)})).apply(this,arguments)}class aV{constructor(t,e,r,i,c=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,x.A)(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(c){t.reject(c)}});return function(r,i){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,x.A)(function*(){const{urlResponse:r,sessionId:i,postBody:c,tenantId:d,error:f,type:m}=t;if(f)return void e.reject(f);const w={auth:e.auth,requestUri:r,sessionId:i,tenantId:d||void 0,postBody:c||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(m)(w))}catch(A){e.reject(A)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oV;case"linkViaPopup":case"linkViaRedirect":return sV;case"reauthViaPopup":case"reauthViaRedirect":return Ay;default:Oo(this.auth,"internal-error")}}resolve(t){iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){iu(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cV=new mm(2e3,1e4);function Sy(){return(Sy=(0,x.A)(function*(n,t,e){if(_a(n.app))return Promise.reject(Po(n,"operation-not-supported-in-this-environment"));const r=oi(n);!function ef(n,t,e){if(!(t instanceof e))throw e.name!==t.constructor.name&&Oo(n,"argument-error"),tl(n,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,t,Cc);const i=Wa(r,e);return new My(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}let My=(()=>{class n extends aV{constructor(e,r,i,c,d){super(e,r,c,d),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var e=this;return(0,x.A)(function*(){const r=yield e.execute();return Wt(r,e.auth,"internal-error"),r})()}onExecution(){var e=this;return(0,x.A)(function*(){iu(1===e.filter.length,"Popup operations only handle one event");const r=vy();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],r),e.authWindow.associatedEvent=r,e.resolver._originValidation(e.auth).catch(i=>{e.reject(i)}),e.resolver._isIframeWebStorageSupported(e.auth,i=>{i||e.reject(Po(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Po(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Po(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(e,cV.get())};e()}}return n.currentPopupAction=null,n})();const lV="pendingRedirect",md=new Map;class E3 extends aV{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,x.A)(function*(){let r=md.get(e.auth._key());if(!r){try{const c=(yield function uV(n,t){return Ry.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;r=()=>Promise.resolve(c)}catch(i){r=()=>Promise.reject(i)}md.set(e.auth._key(),r)}return e.bypassAuthState||md.set(e.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,r=this;return(0,x.A)(function*(){if("signInViaRedirect"===t.type)return e().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,e().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,x.A)(function*(){})()}cleanUp(){}}function Ry(){return(Ry=(0,x.A)(function*(n,t){const e=function fV(n){return af(lV,n.config.apiKey,n.name)}(t),r=function hV(n){return il(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(e));return yield r._remove(e),i})).apply(this,arguments)}function dV(n,t){md.set(n._key(),t)}function Mm(n,t){return gC.apply(this,arguments)}function gC(){return(gC=(0,x.A)(function*(n,t,e=!1){if(_a(n.app))return Promise.reject(lo(n));const r=oi(n),i=Wa(r,t),d=yield new E3(r,i,e).execute();return d&&!e&&(delete d.user._redirectEventId,yield r._persistUserIfCurrent(d.user),yield r._setRedirectUser(null,t)),d})).apply(this,arguments)}class wR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function mV(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fy(n);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!Fy(t)){const i=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";e.onError(Po(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ny(t))}saveEventToCache(t){this.cachedEventUids.add(Ny(t)),this.lastProcessedEventTime=Date.now()}}function Ny(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Fy({type:n,error:t}){return"unknown"===n&&"auth/no-auth-event"===t?.code}function Rm(){return(Rm=(0,x.A)(function*(n,t={}){return Xn(n,"GET","/v1/projects",t)})).apply(this,arguments)}const Ly=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,C3=/^https?/;function IR(){return IR=(0,x.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:t}=yield function _C(n){return Rm.apply(this,arguments)}(n);for(const e of t)try{if(CR(e))return}catch{}Oo(n,"unauthorized-domain")}),IR.apply(this,arguments)}function CR(n){const t=tf(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const d=new URL(n);return""===d.hostname&&""===r?"chrome-extension:"===e&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&d.hostname===r}if(!C3.test(e))return!1;if(Ly.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const gV=new mm(3e4,6e4);function DR(){const n=Bi().___jsl;if(n?.H)for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}let Vy=null;const AR=new mm(5e3,15e3),SR="__/auth/iframe",vV="emulator/auth/iframe",yV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vC(n){const t=n.config;Wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?nI(t,vV):`https://${n.config.authDomain}/${SR}`,r={apiKey:t.apiKey,appName:n.name,v:Zh},i=xR.get(n.config.apiHost);i&&(r.eid=i);const c=n._getFrameworks();return c.length&&(r.fw=c.join(",")),`${e}?${td(r).slice(1)}`}function By(){return By=(0,x.A)(function*(n){const t=yield function TR(n){return Vy=Vy||function _V(n){return new Promise((t,e)=>{var r,i,c;function d(){DR(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{DR(),e(Po(n,"network-request-failed"))},timeout:gV.get()})}if(null!==(i=null===(r=Bi().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(c=Bi().gapi)||void 0===c||!c.load){const f=vM("iframefcb");return Bi()[f]=()=>{gapi.load?d():e(Po(n,"network-request-failed"))},Uv(`${function _M(){return lf.gapiScript}()}?onload=${f}`).catch(m=>e(m))}d()}}).catch(t=>{throw Vy=null,t})}(n),Vy}(n),e=Bi().gapi;return Wt(e,n,"internal-error"),t.open({where:document.body,url:vC(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yV,dontclear:!0},r=>new Promise(function(){var i=(0,x.A)(function*(c,d){yield r.restyle({setHideOnLeave:!1});const f=Po(n,"network-request-failed"),m=Bi().setTimeout(()=>{d(f)},AR.get());function w(){Bi().clearTimeout(m),c(r)}r.ping(w).then(w,()=>{d(f)})});return function(c,d){return i.apply(this,arguments)}}()))}),By.apply(this,arguments)}const yC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wV{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const qi="__/auth/handler",Om="emulator/auth/handler",Uy=encodeURIComponent("fac");function Pm(n,t,e,r,i,c){return jy.apply(this,arguments)}function jy(){return(jy=(0,x.A)(function*(n,t,e,r,i,c){Wt(n.config.authDomain,n,"auth-domain-config-required"),Wt(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Zh,eventId:i};if(t instanceof Cc){t.setDefaultLanguage(n.languageCode),d.providerId=t.providerId||"",function mx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,R]of Object.entries(c||{}))d[A]=R}if(t instanceof iy){const A=t.getScopes().filter(R=>""!==R);A.length>0&&(d.scopes=A.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const A of Object.keys(f))void 0===f[A]&&delete f[A];const m=yield n._getAppCheckToken(),w=m?`#${Uy}=${encodeURIComponent(m)}`:"";return`${function R3({config:n}){return n.emulator?nI(n,Om):`https://${n.authDomain}/${qi}`}(n)}?${td(f).slice(1)}${w}`})).apply(this,arguments)}const bC="webStorageSupport",P3=class O3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eR,this._completeRedirectFn=Mm,this._overrideRedirectResult=dV}_openPopup(t,e,r,i){var c=this;return(0,x.A)(function*(){var d;iu(null===(d=c.eventManagers[t._key()])||void 0===d?void 0:d.manager,"_initialize() not called before _openPopup()");const f=yield Pm(t,e,r,tf(),i);return function x3(n,t,e,r=500,i=600){const c=Math.max((window.screen.availHeight-i)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},yC),{width:r.toString(),height:i.toString(),top:c,left:d}),w=gi().toLowerCase();e&&(f=oM(w)?"_blank":e),iM(w)&&(t=t||"http://localhost",m.scrollbars="yes");const A=Object.entries(m).reduce((B,[K,pe])=>`${B}${K}=${pe},`,"");if(function uM(n=gi()){var t;return Bv(n)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(w)&&"_self"!==f)return function M3(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}(t||"",f),new wV(null);const R=window.open(t||"",f,A);Wt(R,n,"popup-blocked");try{R.focus()}catch{}return new wV(R)}(t,f,vy())})()}_openRedirect(t,e,r,i){var c=this;return(0,x.A)(function*(){return yield c._originValidation(t),function XL(n){Bi().location.href=n}(yield Pm(t,e,r,tf(),i)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:c}=this.eventManagers[e];return i?Promise.resolve(i):(iu(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}initAndGetManager(t){var e=this;return(0,x.A)(function*(){const r=yield function T3(n){return By.apply(this,arguments)}(t),i=new wR(t);return r.register("authEvent",c=>(Wt(c?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:i},e.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(bC,{type:bC},i=>{var c;const d=null===(c=i?.[0])||void 0===c?void 0:c[bC];void 0!==d&&e(!!d),Oo(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function D3(n){return IR.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return dM()||vI()||Bv()}};var RR="@firebase/auth";class DV{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,x.A)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Wy=Tw("authIdTokenMaxAge")||300;let IC=null;const PR=n=>function(){var t=(0,x.A)(function*(e){const r=e&&(yield e.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Wy)return;const c=r?.token;IC!==c&&(IC=c,yield fetch(n,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))});return function(e){return t.apply(this,arguments)}}();function k3(n=Vx()){const t=fm(n,"auth");if(t.isInitialized())return t.getImmediate();const e=function EM(n,t){const e=fm(n,"auth");if(e.isInitialized()){const i=e.getImmediate();if(zh(e.getOptions(),t??{}))return i;Oo(i,"already-initialized")}return e.initialize({options:t})}(n,{popupRedirectResolver:P3,persistence:[dC,GL,eR]}),r=Tw("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=PR(c.toString());(function XM(n,t,e){Vi(n).beforeAuthStateChanged(t,e)})(e,d,()=>d(e.currentUser)),function d3(n,t,e,r){Vi(n).onIdTokenChanged(t,e,r)}(e,f=>d(f))}}const i=Dw("auth");return i&&function IM(n,t,e){const r=oi(n);Wt(r._canInitEmulator,r,"emulator-config-failed"),Wt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!e?.disableWarnings,c=CI(t),{host:d,port:f}=function CM(n){const t=CI(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const c=i[1];return{host:c,port:DI(r.substr(c.length+1))}}{const[c,d]=r.split(":");return{host:c,port:DI(d)}}}(t);r.config.emulator={url:`${c}//${d}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function EL(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(e,`http://${i}`),e}(function Y4(n){lf=n})({loadJS:n=>new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{const c=Po("internal-error");c.customData=i,e(c)},r.type="text/javascript",r.charset="UTF-8",function N3(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function Gy(n){Yh(new Jl("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=r.options;Wt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fM(n)},w=new yL(r,i,c,m);return function wM(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map(il);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}(w,e),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Yh(new Jl("auth-internal",t=>{const e=oi(t.getProvider("auth").getImmediate());return new DV(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),za(RR,"1.7.5",function OR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),za(RR,"1.7.5","esm2017")}("Browser"),za("firebase","10.12.4","app");var uu,CC,kR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},AV={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(Ve,le,we){we||(we=0);var je=Array(16);if("string"==typeof le)for(var Ke=0;16>Ke;++Ke)je[Ke]=le.charCodeAt(we++)|le.charCodeAt(we++)<<8|le.charCodeAt(we++)<<16|le.charCodeAt(we++)<<24;else for(Ke=0;16>Ke;++Ke)je[Ke]=le[we++]|le[we++]<<8|le[we++]<<16|le[we++]<<24;var it=Ve.g[3],Ce=(le=Ve.g[0])+(it^(we=Ve.g[1])&((Ke=Ve.g[2])^it))+je[0]+3614090360&4294967295;Ce=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=(we=(Ke=(it=(le=we+(Ce<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^le&(we^Ke))+je[1]+3905402710&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(le^we))+je[2]+606105819&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(le^Ke&(it^le))+je[3]+3250441966&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(it^we&(Ke^it))+je[4]+4118548399&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^le&(we^Ke))+je[5]+1200080426&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(le^we))+je[6]+2821735955&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(le^Ke&(it^le))+je[7]+4249261313&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(it^we&(Ke^it))+je[8]+1770035416&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^le&(we^Ke))+je[9]+2336552879&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(le^we))+je[10]+4294925233&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(le^Ke&(it^le))+je[11]+2304563134&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(it^we&(Ke^it))+je[12]+1804603682&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^le&(we^Ke))+je[13]+4254626195&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(le^we))+je[14]+2792965006&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(le^Ke&(it^le))+je[15]+1236535329&4294967295)<<22&4294967295|Ce>>>10))+((Ce=le+(Ke^it&(we^Ke))+je[1]+4129170786&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(le^we))+je[6]+3225465664&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^we&(it^le))+je[11]+643717713&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^le&(Ke^it))+je[0]+3921069994&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(Ke^it&(we^Ke))+je[5]+3593408605&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(le^we))+je[10]+38016083&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^we&(it^le))+je[15]+3634488961&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^le&(Ke^it))+je[4]+3889429448&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(Ke^it&(we^Ke))+je[9]+568446438&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(le^we))+je[14]+3275163606&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^we&(it^le))+je[3]+4107603335&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^le&(Ke^it))+je[8]+1163531501&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(Ke^it&(we^Ke))+je[13]+2850285829&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(le^we))+je[2]+4243563512&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(le^we&(it^le))+je[7]+1735328473&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^le&(Ke^it))+je[12]+2368359562&4294967295)<<20&4294967295|Ce>>>12))+((Ce=le+(we^Ke^it)+je[5]+4294588738&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(le^we^Ke)+je[8]+2272392833&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^le^we)+je[11]+1839030562&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^le)+je[14]+4259657740&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(we^Ke^it)+je[1]+2763975236&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(le^we^Ke)+je[4]+1272893353&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^le^we)+je[7]+4139469664&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^le)+je[10]+3200236656&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(we^Ke^it)+je[13]+681279174&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(le^we^Ke)+je[0]+3936430074&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^le^we)+je[3]+3572445317&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^le)+je[6]+76029189&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(we^Ke^it)+je[9]+3654602809&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(le^we^Ke)+je[12]+3873151461&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^le^we)+je[15]+530742520&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^le)+je[2]+3299628645&4294967295)<<23&4294967295|Ce>>>9))+((Ce=le+(Ke^(we|~it))+je[0]+4096336452&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(le|~Ke))+je[7]+1126891415&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(le^(it|~we))+je[14]+2878612391&4294967295)<<15&4294967295|Ce>>>17))+((Ce=we+(it^(Ke|~le))+je[5]+4237533241&4294967295)<<21&4294967295|Ce>>>11))+((Ce=le+(Ke^(we|~it))+je[12]+1700485571&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(le|~Ke))+je[3]+2399980690&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(le^(it|~we))+je[10]+4293915773&4294967295)<<15&4294967295|Ce>>>17))+((Ce=we+(it^(Ke|~le))+je[1]+2240044497&4294967295)<<21&4294967295|Ce>>>11))+((Ce=le+(Ke^(we|~it))+je[8]+1873313359&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(le|~Ke))+je[15]+4264355552&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(le^(it|~we))+je[6]+2734768916&4294967295)<<15&4294967295|Ce>>>17))+((Ce=we+(it^(Ke|~le))+je[13]+1309151649&4294967295)<<21&4294967295|Ce>>>11))+((it=(le=we+((Ce=le+(Ke^(we|~it))+je[4]+4149444226&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(le|~Ke))+je[11]+3174756917&4294967295)<<10&4294967295|Ce>>>22))^((Ke=it+((Ce=Ke+(le^(it|~we))+je[2]+718787259&4294967295)<<15&4294967295|Ce>>>17))|~le))+je[9]+3951481745&4294967295,Ve.g[0]=Ve.g[0]+le&4294967295,Ve.g[1]=Ve.g[1]+(Ke+(Ce<<21&4294967295|Ce>>>11))&4294967295,Ve.g[2]=Ve.g[2]+Ke&4294967295,Ve.g[3]=Ve.g[3]+it&4294967295}function d(Ve,le){this.h=le;for(var we=[],je=!0,Ke=Ve.length-1;0<=Ke;Ke--){var it=0|Ve[Ke];je&&it==le||(we[Ke]=it,je=!1)}this.g=we}(function t(Ve,le){function we(){}we.prototype=le.prototype,Ve.D=le.prototype,Ve.prototype=new we,Ve.prototype.constructor=Ve,Ve.C=function(je,Ke,it){for(var Ce=Array(arguments.length-2),hr=2;hr<arguments.length;hr++)Ce[hr-2]=arguments[hr];return le.prototype[Ke].apply(je,Ce)}})(r,function e(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(Ve,le){void 0===le&&(le=Ve.length);for(var we=le-this.blockSize,je=this.B,Ke=this.h,it=0;it<le;){if(0==Ke)for(;it<=we;)i(this,Ve,it),it+=this.blockSize;if("string"==typeof Ve){for(;it<le;)if(je[Ke++]=Ve.charCodeAt(it++),Ke==this.blockSize){i(this,je),Ke=0;break}}else for(;it<le;)if(je[Ke++]=Ve[it++],Ke==this.blockSize){i(this,je),Ke=0;break}}this.h=Ke,this.o+=le},r.prototype.v=function(){var Ve=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ve[0]=128;for(var le=1;le<Ve.length-8;++le)Ve[le]=0;var we=8*this.o;for(le=Ve.length-8;le<Ve.length;++le)Ve[le]=255&we,we/=256;for(this.u(Ve),Ve=Array(16),le=we=0;4>le;++le)for(var je=0;32>je;je+=8)Ve[we++]=this.g[le]>>>je&255;return Ve};var f={};function m(Ve){return-128<=Ve&&128>Ve?function c(Ve,le){var we=f;return Object.prototype.hasOwnProperty.call(we,Ve)?we[Ve]:we[Ve]=le(Ve)}(Ve,function(le){return new d([0|le],0>le?-1:0)}):new d([0|Ve],0>Ve?-1:0)}function w(Ve){if(isNaN(Ve)||!isFinite(Ve))return R;if(0>Ve)return he(w(-Ve));for(var le=[],we=1,je=0;Ve>=we;je++)le[je]=Ve/we|0,we*=4294967296;return new d(le,0)}var R=m(0),B=m(1),K=m(16777216);function pe(Ve){if(0!=Ve.h)return!1;for(var le=0;le<Ve.g.length;le++)if(0!=Ve.g[le])return!1;return!0}function fe(Ve){return-1==Ve.h}function he(Ve){for(var le=Ve.g.length,we=[],je=0;je<le;je++)we[je]=~Ve.g[je];return new d(we,~Ve.h).add(B)}function ht(Ve,le){return Ve.add(he(le))}function vt(Ve,le){for(;(65535&Ve[le])!=Ve[le];)Ve[le+1]+=Ve[le]>>>16,Ve[le]&=65535,le++}function Et(Ve,le){this.g=Ve,this.h=le}function zt(Ve,le){if(pe(le))throw Error("division by zero");if(pe(Ve))return new Et(R,R);if(fe(Ve))return le=zt(he(Ve),le),new Et(he(le.g),he(le.h));if(fe(le))return le=zt(Ve,he(le)),new Et(he(le.g),le.h);if(30<Ve.g.length){if(fe(Ve)||fe(le))throw Error("slowDivide_ only works with positive integers.");for(var we=B,je=le;0>=je.l(Ve);)we=_n(we),je=_n(je);var Ke=an(we,1),it=an(je,1);for(je=an(je,2),we=an(we,2);!pe(je);){var Ce=it.add(je);0>=Ce.l(Ve)&&(Ke=Ke.add(we),it=Ce),je=an(je,1),we=an(we,1)}return le=ht(Ve,Ke.j(le)),new Et(Ke,le)}for(Ke=R;0<=Ve.l(le);){for(we=Math.max(1,Math.floor(Ve.m()/le.m())),je=48>=(je=Math.ceil(Math.log(we)/Math.LN2))?1:Math.pow(2,je-48),Ce=(it=w(we)).j(le);fe(Ce)||0<Ce.l(Ve);)Ce=(it=w(we-=je)).j(le);pe(it)&&(it=B),Ke=Ke.add(it),Ve=ht(Ve,Ce)}return new Et(Ke,Ve)}function _n(Ve){for(var le=Ve.g.length+1,we=[],je=0;je<le;je++)we[je]=Ve.i(je)<<1|Ve.i(je-1)>>>31;return new d(we,Ve.h)}function an(Ve,le){var we=le>>5;le%=32;for(var je=Ve.g.length-we,Ke=[],it=0;it<je;it++)Ke[it]=0<le?Ve.i(it+we)>>>le|Ve.i(it+we+1)<<32-le:Ve.i(it+we);return new d(Ke,Ve.h)}(n=d.prototype).m=function(){if(fe(this))return-he(this).m();for(var Ve=0,le=1,we=0;we<this.g.length;we++){var je=this.i(we);Ve+=(0<=je?je:4294967296+je)*le,le*=4294967296}return Ve},n.toString=function(Ve){if(2>(Ve=Ve||10)||36<Ve)throw Error("radix out of range: "+Ve);if(pe(this))return"0";if(fe(this))return"-"+he(this).toString(Ve);for(var le=w(Math.pow(Ve,6)),we=this,je="";;){var Ke=zt(we,le).g,it=((0<(we=ht(we,Ke.j(le))).g.length?we.g[0]:we.h)>>>0).toString(Ve);if(pe(we=Ke))return it+je;for(;6>it.length;)it="0"+it;je=it+je}},n.i=function(Ve){return 0>Ve?0:Ve<this.g.length?this.g[Ve]:this.h},n.l=function(Ve){return fe(Ve=ht(this,Ve))?-1:pe(Ve)?0:1},n.abs=function(){return fe(this)?he(this):this},n.add=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0,Ke=0;Ke<=le;Ke++){var it=je+(65535&this.i(Ke))+(65535&Ve.i(Ke)),Ce=(it>>>16)+(this.i(Ke)>>>16)+(Ve.i(Ke)>>>16);je=Ce>>>16,we[Ke]=(Ce&=65535)<<16|(it&=65535)}return new d(we,-2147483648&we[we.length-1]?-1:0)},n.j=function(Ve){if(pe(this)||pe(Ve))return R;if(fe(this))return fe(Ve)?he(this).j(he(Ve)):he(he(this).j(Ve));if(fe(Ve))return he(this.j(he(Ve)));if(0>this.l(K)&&0>Ve.l(K))return w(this.m()*Ve.m());for(var le=this.g.length+Ve.g.length,we=[],je=0;je<2*le;je++)we[je]=0;for(je=0;je<this.g.length;je++)for(var Ke=0;Ke<Ve.g.length;Ke++){var it=this.i(je)>>>16,Ce=65535&this.i(je),hr=Ve.i(Ke)>>>16,Es=65535&Ve.i(Ke);we[2*je+2*Ke]+=Ce*Es,vt(we,2*je+2*Ke),we[2*je+2*Ke+1]+=it*Es,vt(we,2*je+2*Ke+1),we[2*je+2*Ke+1]+=Ce*hr,vt(we,2*je+2*Ke+1),we[2*je+2*Ke+2]+=it*hr,vt(we,2*je+2*Ke+2)}for(je=0;je<le;je++)we[je]=we[2*je+1]<<16|we[2*je];for(je=le;je<2*le;je++)we[je]=0;return new d(we,0)},n.A=function(Ve){return zt(this,Ve).h},n.and=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<le;je++)we[je]=this.i(je)&Ve.i(je);return new d(we,this.h&Ve.h)},n.or=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<le;je++)we[je]=this.i(je)|Ve.i(je);return new d(we,this.h|Ve.h)},n.xor=function(Ve){for(var le=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<le;je++)we[je]=this.i(je)^Ve.i(je);return new d(we,this.h^Ve.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CC=AV.Md5=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=w,d.fromString=function A(Ve,le){if(0==Ve.length)throw Error("number format error: empty string");if(2>(le=le||10)||36<le)throw Error("radix out of range: "+le);if("-"==Ve.charAt(0))return he(A(Ve.substring(1),le));if(0<=Ve.indexOf("-"))throw Error('number format error: interior "-" character');for(var we=w(Math.pow(le,8)),je=R,Ke=0;Ke<Ve.length;Ke+=8){var it=Math.min(8,Ve.length-Ke),Ce=parseInt(Ve.substring(Ke,Ke+it),le);8>it?(it=w(Math.pow(le,it)),je=je.j(it).add(w(Ce))):je=(je=je.j(we)).add(w(Ce))}return je},uu=AV.Integer=d}).apply(typeof kR<"u"?kR:typeof self<"u"?self:typeof window<"u"?window:{});var SV,xV,Ky,NR,TC,FR,LR,VR,MV,DC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ea={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(_,M,L){return _==Array.prototype||_==Object.prototype||(_[M]=L.value),_},r=function e(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof DC&&DC];for(var M=0;M<_.length;++M){var L=_[M];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}(this);!function i(_,M){if(M)e:{var L=r;_=_.split(".");for(var q=0;q<_.length-1;q++){var at=_[q];if(!(at in L))break e;L=L[at]}(M=M(q=L[_=_[_.length-1]]))!=q&&null!=M&&t(L,_,{configurable:!0,writable:!0,value:M})}}("Array.prototype.values",function(_){return _||function(){return function c(_,M){_ instanceof String&&(_+="");var L=0,q=!1,at={next:function(){if(!q&&L<_.length){var gt=L++;return{value:M(gt,_[gt]),done:!1}}return q=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}(this,function(M,L){return L})}});var d=d||{},f=this||self;function m(_){var M=typeof _;return"array"==(M="object"!=M?M:_?Array.isArray(_)?"array":M:"null")||"object"==M&&"number"==typeof _.length}function w(_){var M=typeof _;return"object"==M&&null!=_||"function"==M}function A(_,M,L){return _.call.apply(_.bind,arguments)}function R(_,M,L){if(!_)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,q),_.apply(M,at)}}return function(){return _.apply(M,arguments)}}function B(_,M,L){return(B=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?A:R).apply(null,arguments)}function K(_,M){var L=Array.prototype.slice.call(arguments,1);return function(){var q=L.slice();return q.push.apply(q,arguments),_.apply(this,q)}}function pe(_,M){function L(){}L.prototype=M.prototype,_.aa=M.prototype,_.prototype=new L,_.prototype.constructor=_,_.Qb=function(q,at,gt){for(var Yt=Array(arguments.length-2),Kr=2;Kr<arguments.length;Kr++)Yt[Kr-2]=arguments[Kr];return M.prototype[at].apply(q,Yt)}}function fe(_){const M=_.length;if(0<M){const L=Array(M);for(let q=0;q<M;q++)L[q]=_[q];return L}return[]}function he(_,M){for(let L=1;L<arguments.length;L++){const q=arguments[L];if(m(q)){const at=_.length||0,gt=q.length||0;_.length=at+gt;for(let Yt=0;Yt<gt;Yt++)_[at+Yt]=q[Yt]}else _.push(q)}}function vt(_){return/^[\s\xa0]*$/.test(_)}function Et(){var _=f.navigator;return _&&(_=_.userAgent)?_:""}function zt(_){return zt[" "](_),_}zt[" "]=function(){};var _n=!(-1==Et().indexOf("Gecko")||-1!=Et().toLowerCase().indexOf("webkit")&&-1==Et().indexOf("Edge")||-1!=Et().indexOf("Trident")||-1!=Et().indexOf("MSIE")||-1!=Et().indexOf("Edge"));function an(_,M,L){for(const q in _)M.call(L,_[q],q,_)}function le(_){const M={};for(const L in _)M[L]=_[L];return M}const we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(_,M){let L,q;for(let at=1;at<arguments.length;at++){for(L in q=arguments[at],q)_[L]=q[L];for(let gt=0;gt<we.length;gt++)L=we[gt],Object.prototype.hasOwnProperty.call(q,L)&&(_[L]=q[L])}}function Ke(_){var M=1;_=_.split(":");const L=[];for(;0<M&&_.length;)L.push(_.shift()),M--;return _.length&&L.push(_.join(":")),L}function it(_){f.setTimeout(()=>{throw _},0)}function Ce(){var _=ji;let M=null;return _.g&&(M=_.g,_.g=_.g.next,_.g||(_.h=null),M.next=null),M}var Es=new class ht{constructor(M,L){this.i=M,this.j=L,this.h=0,this.g=null}get(){let M;return 0<this.h?(this.h--,M=this.g,this.g=M.next,M.next=null):M=this.i(),M}}(()=>new ns,_=>_.reset());class ns{constructor(){this.next=this.g=this.h=null}set(M,L){this.h=M,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let Zi,Jr=!1,ji=new class hr{constructor(){this.h=this.g=null}add(M,L){const q=Es.get();q.set(M,L),this.h?this.h.next=q:this.g=q,this.h=q}},Lo=()=>{const _=f.Promise.resolve(void 0);Zi=()=>{_.then(zs)}};var zs=()=>{for(var _;_=Ce();){try{_.h.call(_.g)}catch(L){it(L)}var M=Es;M.j(_),100>M.h&&(M.h++,_.next=M.g,M.g=_)}Jr=!1};function lr(){this.s=this.s,this.C=this.C}function ei(_,M){this.type=_,this.g=this.target=M,this.defaultPrevented=!1}lr.prototype.s=!1,lr.prototype.ma=function(){this.s||(this.s=!0,this.N())},lr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ei.prototype.h=function(){this.defaultPrevented=!0};var FP=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var _=!1,M=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const L=()=>{};f.addEventListener("test",L,M),f.removeEventListener("test",L,M)}catch{}return _}();function OD(_,M){if(ei.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var L=this.type=_.type,q=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=M,M=_.relatedTarget){if(_n){e:{try{zt(M.nodeName);var at=!0;break e}catch{}at=!1}at||(M=null)}}else"mouseover"==L?M=_.fromElement:"mouseout"==L&&(M=_.toElement);this.relatedTarget=M,q?(this.clientX=void 0!==q.clientX?q.clientX:q.pageX,this.clientY=void 0!==q.clientY?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:une[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&OD.aa.h.call(this)}}pe(OD,ei);var une={2:"touch",3:"pen",4:"mouse"};OD.prototype.h=function(){OD.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var PD="closure_listenable_"+(1e6*Math.random()|0),dne=0;function hne(_,M,L,q,at){this.listener=_,this.proxy=null,this.src=M,this.type=L,this.capture=!!q,this.ha=at,this.key=++dne,this.da=this.fa=!1}function LP(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function VP(_){this.src=_,this.g={},this.h=0}function Mj(_,M){var L=M.type;if(L in _.g){var gt,q=_.g[L],at=Array.prototype.indexOf.call(q,M,void 0);(gt=0<=at)&&Array.prototype.splice.call(q,at,1),gt&&(LP(M),0==_.g[L].length&&(delete _.g[L],_.h--))}}function Rj(_,M,L,q){for(var at=0;at<_.length;++at){var gt=_[at];if(!gt.da&&gt.listener==M&&gt.capture==!!L&&gt.ha==q)return at}return-1}VP.prototype.add=function(_,M,L,q,at){var gt=_.toString();(_=this.g[gt])||(_=this.g[gt]=[],this.h++);var Yt=Rj(_,M,q,at);return-1<Yt?(M=_[Yt],L||(M.fa=!1)):((M=new hne(M,this.src,gt,!!q,at)).fa=L,_.push(M)),M};var Oj="closure_lm_"+(1e6*Math.random()|0),Pj={};function YW(_,M,L,q,at){if(q&&q.once)return JW(_,M,L,q,at);if(Array.isArray(M)){for(var gt=0;gt<M.length;gt++)YW(_,M[gt],L,q,at);return null}return L=Lj(L),_&&_[PD]?_.K(M,L,w(q)?!!q.capture:!!q,at):ZW(_,M,L,!1,q,at)}function ZW(_,M,L,q,at,gt){if(!M)throw Error("Invalid event type");var Yt=w(at)?!!at.capture:!!at,Kr=Nj(_);if(Kr||(_[Oj]=Kr=new VP(_)),(L=Kr.add(M,L,q,Yt,gt)).proxy)return L;if(q=function fne(){const M=pne;return function _(L){return M.call(_.src,_.listener,L)}}(),L.proxy=q,q.src=_,q.listener=L,_.addEventListener)FP||(at=Yt),void 0===at&&(at=!1),_.addEventListener(M.toString(),q,at);else if(_.attachEvent)_.attachEvent(tK(M.toString()),q);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(q)}return L}function JW(_,M,L,q,at){if(Array.isArray(M)){for(var gt=0;gt<M.length;gt++)JW(_,M[gt],L,q,at);return null}return L=Lj(L),_&&_[PD]?_.L(M,L,w(q)?!!q.capture:!!q,at):ZW(_,M,L,!0,q,at)}function eK(_,M,L,q,at){if(Array.isArray(M))for(var gt=0;gt<M.length;gt++)eK(_,M[gt],L,q,at);else q=w(q)?!!q.capture:!!q,L=Lj(L),_&&_[PD]?(_=_.i,(M=String(M).toString())in _.g&&-1<(L=Rj(gt=_.g[M],L,q,at))&&(LP(gt[L]),Array.prototype.splice.call(gt,L,1),0==gt.length&&(delete _.g[M],_.h--))):_&&(_=Nj(_))&&(M=_.g[M.toString()],_=-1,M&&(_=Rj(M,L,q,at)),(L=-1<_?M[_]:null)&&kj(L))}function kj(_){if("number"!=typeof _&&_&&!_.da){var M=_.src;if(M&&M[PD])Mj(M.i,_);else{var L=_.type,q=_.proxy;M.removeEventListener?M.removeEventListener(L,q,_.capture):M.detachEvent?M.detachEvent(tK(L),q):M.addListener&&M.removeListener&&M.removeListener(q),(L=Nj(M))?(Mj(L,_),0==L.h&&(L.src=null,M[Oj]=null)):LP(_)}}}function tK(_){return _ in Pj?Pj[_]:Pj[_]="on"+_}function pne(_,M){if(_.da)_=!0;else{M=new OD(M,this);var L=_.listener,q=_.ha||_.src;_.fa&&kj(_),_=L.call(q,M)}return _}function Nj(_){return(_=_[Oj])instanceof VP?_:null}var Fj="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lj(_){return"function"==typeof _?_:(_[Fj]||(_[Fj]=function(M){return _.handleEvent(M)}),_[Fj])}function ws(){lr.call(this),this.i=new VP(this),this.M=this,this.F=null}function Gs(_,M){var L,q=_.F;if(q)for(L=[];q;q=q.F)L.push(q);if(_=_.M,q=M.type||M,"string"==typeof M)M=new ei(M,_);else if(M instanceof ei)M.target=M.target||_;else{var at=M;je(M=new ei(q,_),at)}if(at=!0,L)for(var gt=L.length-1;0<=gt;gt--){var Yt=M.g=L[gt];at=BP(Yt,q,!0,M)&&at}if(at=BP(Yt=M.g=_,q,!0,M)&&at,at=BP(Yt,q,!1,M)&&at,L)for(gt=0;gt<L.length;gt++)at=BP(Yt=M.g=L[gt],q,!1,M)&&at}function BP(_,M,L,q){if(!(M=_.i.g[String(M)]))return!0;M=M.concat();for(var at=!0,gt=0;gt<M.length;++gt){var Yt=M[gt];if(Yt&&!Yt.da&&Yt.capture==L){var Kr=Yt.listener,rs=Yt.ha||Yt.src;Yt.fa&&Mj(_.i,Yt),at=!1!==Kr.call(rs,q)&&at}}return at&&!q.defaultPrevented}function nK(_,M,L){if("function"==typeof _)L&&(_=B(_,L));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=B(_.handleEvent,_)}return 2147483647<Number(M)?-1:f.setTimeout(_,M||0)}function rK(_){_.g=nK(()=>{_.g=null,_.i&&(_.i=!1,rK(_))},_.l);const M=_.h;_.h=null,_.m.apply(null,M)}pe(ws,lr),ws.prototype[PD]=!0,ws.prototype.removeEventListener=function(_,M,L,q){eK(this,_,M,L,q)},ws.prototype.N=function(){if(ws.aa.N.call(this),this.i){var M,_=this.i;for(M in _.g){for(var L=_.g[M],q=0;q<L.length;q++)LP(L[q]);delete _.g[M],_.h--}}this.F=null},ws.prototype.K=function(_,M,L,q){return this.i.add(String(_),M,!1,L,q)},ws.prototype.L=function(_,M,L,q){return this.i.add(String(_),M,!0,L,q)};class mne extends lr{constructor(M,L){super(),this.m=M,this.l=L,this.h=null,this.i=!1,this.g=null}j(M){this.h=arguments,this.g?this.i=!0:rK(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kD(_){lr.call(this),this.h=_,this.g={}}pe(kD,lr);var iK=[];function oK(_){an(_.g,function(M,L){this.g.hasOwnProperty(L)&&kj(M)},_),_.g={}}kD.prototype.N=function(){kD.aa.N.call(this),oK(this)},kD.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vj=f.JSON.stringify,gne=f.JSON.parse,_ne=class{stringify(_){return f.JSON.stringify(_,void 0)}parse(_){return f.JSON.parse(_,void 0)}};function Bj(){}function aK(){}Bj.prototype.h=null;var ND={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Uj(){ei.call(this,"d")}function jj(){ei.call(this,"c")}pe(Uj,ei),pe(jj,ei);var lg={},cK=null;function UP(){return cK=cK||new ws}function lK(_){ei.call(this,lg.La,_)}function FD(_){const M=UP();Gs(M,new lK(M))}function uK(_,M){ei.call(this,lg.STAT_EVENT,_),this.stat=M}function Ws(_){const M=UP();Gs(M,new uK(M,_))}function dK(_,M){ei.call(this,lg.Ma,_),this.size=M}function LD(_,M){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){_()},M)}function VD(){this.g=!0}function Ub(_,M,L,q){_.info(function(){return"XMLHTTP TEXT ("+M+"): "+function Ene(_,M){if(!_.g)return M;if(!M)return null;try{var L=JSON.parse(M);if(L)for(_=0;_<L.length;_++)if(Array.isArray(L[_])){var q=L[_];if(!(2>q.length)){var at=q[1];if(Array.isArray(at)&&!(1>at.length)){var gt=at[0];if("noop"!=gt&&"stop"!=gt&&"close"!=gt)for(var Yt=1;Yt<at.length;Yt++)at[Yt]=""}}}return Vj(L)}catch{return M}}(_,L)+(q?" "+q:"")})}lg.La="serverreachability",pe(lK,ei),lg.STAT_EVENT="statevent",pe(uK,ei),lg.Ma="timingevent",pe(dK,ei),VD.prototype.xa=function(){this.g=!1},VD.prototype.info=function(){};var $j,jP={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hK={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function $P(){}function kf(_,M,L,q){this.j=_,this.i=M,this.l=L,this.R=q||1,this.U=new kD(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fK}function fK(){this.i=null,this.g="",this.h=!1}pe($P,Bj),$P.prototype.g=function(){return new XMLHttpRequest},$P.prototype.i=function(){return{}},$j=new $P;var pK={},Hj={};function zj(_,M,L){_.L=1,_.v=WP(Pd(M)),_.m=L,_.P=!0,mK(_,null)}function mK(_,M){_.F=Date.now(),HP(_),_.A=Pd(_.v);var L=_.A,q=_.R;Array.isArray(q)||(q=[String(q)]),xK(L.i,"t",q),_.C=0,L=_.j.J,_.h=new fK,_.g=KK(_.j,L?M:null,!_.m),0<_.O&&(_.M=new mne(B(_.Y,_,_.g),_.O)),M=_.U,L=_.g,q=_.ca;var at="readystatechange";Array.isArray(at)||(at&&(iK[0]=at.toString()),at=iK);for(var gt=0;gt<at.length;gt++){var Yt=YW(L,at[gt],q||M.handleEvent,!1,M.h||M);if(!Yt)break;M.g[Yt.key]=Yt}M=_.H?le(_.H):{},_.m?(_.u||(_.u="POST"),M["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,M)):(_.u="GET",_.g.ea(_.A,_.u,null,M)),FD(),function vne(_,M,L,q,at,gt){_.info(function(){if(_.g)if(gt)for(var Yt="",Kr=gt.split("&"),rs=0;rs<Kr.length;rs++){var Dr=Kr[rs].split("=");if(1<Dr.length){var Is=Dr[0];Dr=Dr[1];var Cs=Is.split("_");Yt=2<=Cs.length&&"type"==Cs[1]?Yt+(Is+"=")+Dr+"&":Yt+(Is+"=redacted&")}}else Yt=null;else Yt=gt;return"XMLHTTP REQ ("+q+") [attempt "+at+"]: "+M+"\n"+L+"\n"+Yt})}(_.i,_.u,_.A,_.l,_.R,_.m)}function gK(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function wne(_,M){var L=_.C,q=M.indexOf("\n",L);return-1==q?Hj:(L=Number(M.substring(L,q)),isNaN(L)?pK:(q+=1)+L>M.length?Hj:(M=M.slice(q,q+L),_.C=q+L,M))}function HP(_){_.S=Date.now()+_.I,_K(_,_.I)}function _K(_,M){if(null!=_.B)throw Error("WatchDog timer not null");_.B=LD(B(_.ba,_),M)}function Gj(_){_.B&&(f.clearTimeout(_.B),_.B=null)}function BD(_){0==_.j.G||_.J||HK(_.j,_)}function ug(_){Gj(_);var M=_.M;M&&"function"==typeof M.ma&&M.ma(),_.M=null,oK(_.U),_.g&&(M=_.g,_.g=null,M.abort(),M.ma())}function Wj(_,M){try{var L=_.j;if(0!=L.G&&(L.g==_||Kj(L.h,_)))if(!_.K&&Kj(L.h,_)&&3==L.G){try{var q=L.Da.g.parse(M)}catch{q=null}if(Array.isArray(q)&&3==q.length){var at=q;if(0==at[0]){e:if(!L.u){if(L.g){if(!(L.g.F+3e3<_.F))break e;YP(L),XP(L)}Yj(L),Ws(18)}}else L.za=at[1],0<L.za-L.T&&37500>at[2]&&L.F&&0==L.v&&!L.C&&(L.C=LD(B(L.Za,L),6e3));if(1>=bK(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else hg(L,11)}else if((_.K||L.g==_)&&YP(L),!vt(M))for(at=L.Da.g.parse(M),M=0;M<at.length;M++){let Dr=at[M];if(L.T=Dr[0],Dr=Dr[1],2==L.G)if("c"==Dr[0]){L.K=Dr[1],L.ia=Dr[2];const Is=Dr[3];null!=Is&&(L.la=Is,L.j.info("VER="+L.la));const Cs=Dr[4];null!=Cs&&(L.Aa=Cs,L.j.info("SVER="+L.Aa));const Hb=Dr[5];null!=Hb&&"number"==typeof Hb&&0<Hb&&(L.L=q=1.5*Hb,L.j.info("backChannelRequestTimeoutMs_="+q)),q=L;const hl=_.g;if(hl){const JP=hl.g?hl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(JP){var gt=q.h;gt.g||-1==JP.indexOf("spdy")&&-1==JP.indexOf("quic")&&-1==JP.indexOf("h2")||(gt.j=gt.l,gt.g=new Set,gt.h&&(qj(gt,gt.h),gt.h=null))}if(q.D){const Jj=hl.g?hl.g.getResponseHeader("X-HTTP-Session-Id"):null;Jj&&(q.ya=Jj,ci(q.I,q.D,Jj))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-_.F,L.j.info("Handshake RTT: "+L.R+"ms"));var Yt=_;if((q=L).qa=WK(q,q.J?q.ia:null,q.W),Yt.K){EK(q.h,Yt);var Kr=Yt,rs=q.L;rs&&(Kr.I=rs),Kr.B&&(Gj(Kr),HP(Kr)),q.g=Yt}else jK(q);0<L.i.length&&QP(L)}else"stop"!=Dr[0]&&"close"!=Dr[0]||hg(L,7);else 3==L.G&&("stop"==Dr[0]||"close"==Dr[0]?"stop"==Dr[0]?hg(L,7):Qj(L):"noop"!=Dr[0]&&L.l&&L.l.ta(Dr),L.v=0)}FD()}catch{}}kf.prototype.ca=function(_){_=_.target;const M=this.M;M&&3==kd(_)?M.j():this.Y(_)},kf.prototype.Y=function(_){try{if(_==this.g)e:{const Cs=kd(this.g);var M=this.g.Ba();if(this.g.Z(),!(3>Cs)&&(3!=Cs||this.g&&(this.h.h||this.g.oa()||FK(this.g)))){this.J||4!=Cs||7==M||FD(),Gj(this);var L=this.g.Z();this.X=L;t:if(gK(this)){var q=FK(this.g);_="";var at=q.length,gt=4==kd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ug(this),BD(this);var Yt="";break t}this.h.i=new f.TextDecoder}for(M=0;M<at;M++)this.h.h=!0,_+=this.h.i.decode(q[M],{stream:!(gt&&M==at-1)});q.length=0,this.h.g+=_,this.C=0,Yt=this.h.g}else Yt=this.g.oa();if(this.o=200==L,function yne(_,M,L,q,at,gt,Yt){_.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+at+"]: "+M+"\n"+L+"\n"+gt+" "+Yt})}(this.i,this.u,this.A,this.l,this.R,Cs,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Kr,rs=this.g;if((Kr=rs.g?rs.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!vt(Kr)){var Dr=Kr;break t}}Dr=null}if(!(L=Dr)){this.o=!1,this.s=3,Ws(12),ug(this),BD(this);break e}Ub(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wj(this,L)}if(this.P){let hl;for(L=!0;!this.J&&this.C<Yt.length;){if(hl=wne(this,Yt),hl==Hj){4==Cs&&(this.s=4,Ws(14),L=!1),Ub(this.i,this.l,null,"[Incomplete Response]");break}if(hl==pK){this.s=4,Ws(15),Ub(this.i,this.l,Yt,"[Invalid Chunk]"),L=!1;break}Ub(this.i,this.l,hl,null),Wj(this,hl)}if(gK(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Cs||0!=Yt.length||this.h.h||(this.s=1,Ws(16),L=!1),this.o=this.o&&L,L){if(0<Yt.length&&!this.W){this.W=!0;var Is=this.j;Is.g==this&&Is.ba&&!Is.M&&(Is.j.info("Great, no buffering proxy detected. Bytes received: "+Yt.length),Zj(Is),Is.M=!0,Ws(11))}}else Ub(this.i,this.l,Yt,"[Invalid Chunked Response]"),ug(this),BD(this)}else Ub(this.i,this.l,Yt,null),Wj(this,Yt);4==Cs&&ug(this),this.o&&!this.J&&(4==Cs?HK(this.j,this):(this.o=!1,HP(this)))}else(function Bne(_){const M={};_=(_.g&&2<=kd(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let q=0;q<_.length;q++){if(vt(_[q]))continue;var L=Ke(_[q]);const at=L[0];if("string"!=typeof(L=L[1]))continue;L=L.trim();const gt=M[at]||[];M[at]=gt,gt.push(L)}!function Ve(_,M){for(const L in _)M.call(void 0,_[L],L,_)}(M,function(q){return q.join(", ")})})(this.g),400==L&&0<Yt.indexOf("Unknown SID")?(this.s=3,Ws(12)):(this.s=0,Ws(13)),ug(this),BD(this)}}}catch{}},kf.prototype.cancel=function(){this.J=!0,ug(this)},kf.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function bne(_,M){_.info(function(){return"TIMEOUT: "+M})}(this.i,this.A),2!=this.L&&(FD(),Ws(17)),ug(this),this.s=2,BD(this)):_K(this,this.S-_)};var Ine=class{constructor(_,M){this.g=_,this.map=M}};function vK(_){this.l=_||10,_=f.PerformanceNavigationTiming?0<(_=f.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yK(_){return!!_.h||!!_.g&&_.g.size>=_.j}function bK(_){return _.h?1:_.g?_.g.size:0}function Kj(_,M){return _.h?_.h==M:!!_.g&&_.g.has(M)}function qj(_,M){_.g?_.g.add(M):_.h=M}function EK(_,M){_.h&&_.h==M?_.h=null:_.g&&_.g.has(M)&&_.g.delete(M)}function wK(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let M=_.i;for(const L of _.g.values())M=M.concat(L.D);return M}return fe(_.i)}function IK(_,M){if(_.forEach&&"function"==typeof _.forEach)_.forEach(M,void 0);else if(m(_)||"string"==typeof _)Array.prototype.forEach.call(_,M,void 0);else for(var L=function Dne(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(m(_)||"string"==typeof _){var M=[];_=_.length;for(var L=0;L<_;L++)M.push(L);return M}M=[],L=0;for(const q in _)M[L++]=q;return M}}}(_),q=function Cne(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(m(_)){for(var M=[],L=_.length,q=0;q<L;q++)M.push(_[q]);return M}for(q in M=[],L=0,_)M[L++]=_[q];return M}(_),at=q.length,gt=0;gt<at;gt++)M.call(void 0,q[gt],L&&L[gt],_)}vK.prototype.cancel=function(){if(this.i=wK(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var CK=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dg(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof dg){this.h=_.h,zP(this,_.j),this.o=_.o,this.g=_.g,GP(this,_.s),this.l=_.l;var M=_.i,L=new $D;L.i=M.i,M.g&&(L.g=new Map(M.g),L.h=M.h),DK(this,L),this.m=_.m}else _&&(M=String(_).match(CK))?(this.h=!1,zP(this,M[1]||"",!0),this.o=UD(M[2]||""),this.g=UD(M[3]||"",!0),GP(this,M[4]),this.l=UD(M[5]||"",!0),DK(this,M[6]||"",!0),this.m=UD(M[7]||"")):(this.h=!1,this.i=new $D(null,this.h))}function Pd(_){return new dg(_)}function zP(_,M,L){_.j=L?UD(M,!0):M,_.j&&(_.j=_.j.replace(/:$/,""))}function GP(_,M){if(M){if(M=Number(M),isNaN(M)||0>M)throw Error("Bad port number "+M);_.s=M}else _.s=null}function DK(_,M,L){M instanceof $D?(_.i=M,function One(_,M){M&&!_.j&&(Nf(_),_.i=null,_.g.forEach(function(L,q){var at=q.toLowerCase();q!=at&&(AK(this,q),xK(this,at,L))},_)),_.j=M}(_.i,_.h)):(L||(M=jD(M,Mne)),_.i=new $D(M,_.h))}function ci(_,M,L){_.i.set(M,L)}function WP(_){return ci(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function UD(_,M){return _?M?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function jD(_,M,L){return"string"==typeof _?(_=encodeURI(_).replace(M,Ane),L&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Ane(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}dg.prototype.toString=function(){var _=[],M=this.j;M&&_.push(jD(M,TK,!0),":");var L=this.g;return(L||"file"==M)&&(_.push("//"),(M=this.o)&&_.push(jD(M,TK,!0),"@"),_.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(L=this.s)&&_.push(":",String(L))),(L=this.l)&&(this.g&&"/"!=L.charAt(0)&&_.push("/"),_.push(jD(L,"/"==L.charAt(0)?xne:Sne,!0))),(L=this.i.toString())&&_.push("?",L),(L=this.m)&&_.push("#",jD(L,Rne)),_.join("")};var TK=/[#\/\?@]/g,Sne=/[#\?:]/g,xne=/[#\?]/g,Mne=/[#\?@]/g,Rne=/#/g;function $D(_,M){this.h=this.g=null,this.i=_||null,this.j=!!M}function Nf(_){_.g||(_.g=new Map,_.h=0,_.i&&function Tne(_,M){if(_){_=_.split("&");for(var L=0;L<_.length;L++){var q=_[L].indexOf("="),at=null;if(0<=q){var gt=_[L].substring(0,q);at=_[L].substring(q+1)}else gt=_[L];M(gt,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}(_.i,function(M,L){_.add(decodeURIComponent(M.replace(/\+/g," ")),L)}))}function AK(_,M){Nf(_),M=jb(_,M),_.g.has(M)&&(_.i=null,_.h-=_.g.get(M).length,_.g.delete(M))}function SK(_,M){return Nf(_),M=jb(_,M),_.g.has(M)}function xK(_,M,L){AK(_,M),0<L.length&&(_.i=null,_.g.set(jb(_,M),fe(L)),_.h+=L.length)}function jb(_,M){return M=String(M),_.j&&(M=M.toLowerCase()),M}function Ff(_,M,L,q,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),q(L)}catch{}}function Nne(){this.g=new _ne}function Fne(_,M,L){const q=L||"";try{IK(_,function(at,gt){let Yt=at;w(at)&&(Yt=Vj(at)),M.push(q+gt+"="+encodeURIComponent(Yt))})}catch(at){throw M.push(q+"type="+encodeURIComponent("_badmap")),at}}function HD(_){this.l=_.Ub||null,this.j=_.eb||!1}function KP(_,M){ws.call(this),this.D=_,this.o=M,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function MK(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function zD(_){_.readyState=4,_.l=null,_.j=null,_.v=null,GD(_)}function GD(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function RK(_){let M="";return an(_,function(L,q){M+=q,M+=":",M+=L,M+="\r\n"}),M}function Xj(_,M,L){e:{for(q in L){var q=!1;break e}q=!0}q||(L=RK(L),"string"==typeof _?null!=L&&encodeURIComponent(String(L)):ci(_,M,L))}function $i(_){ws.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=$D.prototype).add=function(_,M){Nf(this),this.i=null,_=jb(this,_);var L=this.g.get(_);return L||this.g.set(_,L=[]),L.push(M),this.h+=1,this},n.forEach=function(_,M){Nf(this),this.g.forEach(function(L,q){L.forEach(function(at){_.call(M,at,q,this)},this)},this)},n.na=function(){Nf(this);const _=Array.from(this.g.values()),M=Array.from(this.g.keys()),L=[];for(let q=0;q<M.length;q++){const at=_[q];for(let gt=0;gt<at.length;gt++)L.push(M[q])}return L},n.V=function(_){Nf(this);let M=[];if("string"==typeof _)SK(this,_)&&(M=M.concat(this.g.get(jb(this,_))));else{_=Array.from(this.g.values());for(let L=0;L<_.length;L++)M=M.concat(_[L])}return M},n.set=function(_,M){return Nf(this),this.i=null,SK(this,_=jb(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[M]),this.h+=1,this},n.get=function(_,M){return _&&0<(_=this.V(_)).length?String(_[0]):M},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],M=Array.from(this.g.keys());for(var L=0;L<M.length;L++){var q=M[L];const gt=encodeURIComponent(String(q)),Yt=this.V(q);for(q=0;q<Yt.length;q++){var at=gt;""!==Yt[q]&&(at+="="+encodeURIComponent(String(Yt[q]))),_.push(at)}}return this.i=_.join("&")},pe(HD,Bj),HD.prototype.g=function(){return new KP(this.l,this.j)},HD.prototype.i=function(_){return function(){return _}}({}),pe(KP,ws),(n=KP.prototype).open=function(_,M){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=M,this.readyState=1,GD(this)},n.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const M={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(M.body=_),(this.D||f).fetch(new Request(this.A,M)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zD(this)),this.readyState=0},n.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,GD(this)),this.g&&(this.readyState=3,GD(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;MK(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var M=_.value?_.value:new Uint8Array(0);(M=this.v.decode(M,{stream:!_.done}))&&(this.response=this.responseText+=M)}_.done?zD(this):GD(this),3==this.readyState&&MK(this)}},n.Ra=function(_){this.g&&(this.response=this.responseText=_,zD(this))},n.Qa=function(_){this.g&&(this.response=_,zD(this))},n.ga=function(){this.g&&zD(this)},n.setRequestHeader=function(_,M){this.u.append(_,M)},n.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],M=this.h.entries();for(var L=M.next();!L.done;)_.push((L=L.value)[0]+": "+L[1]),L=M.next();return _.join("\r\n")},Object.defineProperty(KP.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),pe($i,ws);var Lne=/^https?$/i,Vne=["POST","PUT"];function OK(_,M){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=M,_.m=5,PK(_),qP(_)}function PK(_){_.A||(_.A=!0,Gs(_,"complete"),Gs(_,"error"))}function kK(_){if(_.h&&typeof d<"u"&&(!_.v[1]||4!=kd(_)||2!=_.Z()))if(_.u&&4==kd(_))nK(_.Ea,0,_);else if(Gs(_,"readystatechange"),4==kd(_)){_.h=!1;try{const Yt=_.Z();e:switch(Yt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var M=!0;break e;default:M=!1}var L;if(!(L=M)){var q;if(q=0===Yt){var at=String(_.D).match(CK)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),q=!Lne.test(at?at.toLowerCase():"")}L=q}if(L)Gs(_,"complete"),Gs(_,"success");else{_.m=6;try{var gt=2<kd(_)?_.g.statusText:""}catch{gt=""}_.l=gt+" ["+_.Z()+"]",PK(_)}}finally{qP(_)}}}function qP(_,M){if(_.g){NK(_);const L=_.g,q=_.v[0]?()=>{}:null;_.g=null,_.v=null,M||Gs(_,"ready");try{L.onreadystatechange=q}catch{}}}function NK(_){_.I&&(f.clearTimeout(_.I),_.I=null)}function kd(_){return _.g?_.g.readyState:0}function FK(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function WD(_,M,L){return L&&L.internalChannelParams&&L.internalChannelParams[_]||M}function LK(_){this.Aa=0,this.i=[],this.j=new VD,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=WD("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=WD("baseRetryDelayMs",5e3,_),this.cb=WD("retryDelaySeedMs",1e4,_),this.Wa=WD("forwardChannelMaxRetries",2,_),this.wa=WD("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new vK(_&&_.concurrentRequestLimit),this.Da=new Nne,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qj(_){if(VK(_),3==_.G){var M=_.U++,L=Pd(_.I);if(ci(L,"SID",_.K),ci(L,"RID",M),ci(L,"TYPE","terminate"),KD(_,L),(M=new kf(_,_.j,M)).L=2,M.v=WP(Pd(L)),L=!1,f.navigator&&f.navigator.sendBeacon)try{L=f.navigator.sendBeacon(M.v.toString(),"")}catch{}!L&&f.Image&&((new Image).src=M.v,L=!0),L||(M.g=KK(M.j,null),M.g.ea(M.v)),M.F=Date.now(),HP(M)}GK(_)}function XP(_){_.g&&(Zj(_),_.g.cancel(),_.g=null)}function VK(_){XP(_),_.u&&(f.clearTimeout(_.u),_.u=null),YP(_),_.h.cancel(),_.s&&("number"==typeof _.s&&f.clearTimeout(_.s),_.s=null)}function QP(_){if(!yK(_.h)&&!_.s){_.s=!0;var M=_.Ga;Zi||Lo(),Jr||(Zi(),Jr=!0),ji.add(M,_),_.B=0}}function BK(_,M){var L;L=M?M.l:_.U++;const q=Pd(_.I);ci(q,"SID",_.K),ci(q,"RID",L),ci(q,"AID",_.T),KD(_,q),_.m&&_.o&&Xj(q,_.m,_.o),L=new kf(_,_.j,L,_.B+1),null===_.m&&(L.H=_.o),M&&(_.i=M.D.concat(_.i)),M=UK(_,L,1e3),L.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),qj(_.h,L),zj(L,q,M)}function KD(_,M){_.H&&an(_.H,function(L,q){ci(M,q,L)}),_.l&&IK({},function(L,q){ci(M,q,L)})}function UK(_,M,L){L=Math.min(_.i.length,L);var q=_.l?B(_.l.Na,_.l,_):null;e:{var at=_.i;let gt=-1;for(;;){const Yt=["count="+L];-1==gt?0<L?(gt=at[0].g,Yt.push("ofs="+gt)):gt=0:Yt.push("ofs="+gt);let Kr=!0;for(let rs=0;rs<L;rs++){let Dr=at[rs].g;const Is=at[rs].map;if(Dr-=gt,0>Dr)gt=Math.max(0,at[rs].g-100),Kr=!1;else try{Fne(Is,Yt,"req"+Dr+"_")}catch{q&&q(Is)}}if(Kr){q=Yt.join("&");break e}}}return _=_.i.splice(0,L),M.D=_,q}function jK(_){if(!_.g&&!_.u){_.Y=1;var M=_.Fa;Zi||Lo(),Jr||(Zi(),Jr=!0),ji.add(M,_),_.v=0}}function Yj(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=LD(B(_.Fa,_),zK(_,_.v)),_.v++,0))}function Zj(_){null!=_.A&&(f.clearTimeout(_.A),_.A=null)}function $K(_){_.g=new kf(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var M=Pd(_.qa);ci(M,"RID","rpc"),ci(M,"SID",_.K),ci(M,"AID",_.T),ci(M,"CI",_.F?"0":"1"),!_.F&&_.ja&&ci(M,"TO",_.ja),ci(M,"TYPE","xmlhttp"),KD(_,M),_.m&&_.o&&Xj(M,_.m,_.o),_.L&&(_.g.I=_.L);var L=_.g;_=_.ia,L.L=1,L.v=WP(Pd(M)),L.m=null,L.P=!0,mK(L,_)}function YP(_){null!=_.C&&(f.clearTimeout(_.C),_.C=null)}function HK(_,M){var L=null;if(_.g==M){YP(_),Zj(_),_.g=null;var q=2}else{if(!Kj(_.h,M))return;L=M.D,EK(_.h,M),q=1}if(0!=_.G)if(M.o)if(1==q){L=M.m?M.m.length:0,M=Date.now()-M.F;var at=_.B;Gs(q=UP(),new dK(q,L)),QP(_)}else jK(_);else if(3==(at=M.s)||0==at&&0<M.X||!(1==q&&function Une(_,M){return!(bK(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=M.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=LD(B(_.Ga,_,M),zK(_,_.B)),_.B++,0)))}(_,M)||2==q&&Yj(_)))switch(L&&0<L.length&&(M=_.h,M.i=M.i.concat(L)),at){case 1:hg(_,5);break;case 4:hg(_,10);break;case 3:hg(_,6);break;default:hg(_,2)}}function zK(_,M){let L=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(L*=2),L*M}function hg(_,M){if(_.j.info("Error code "+M),2==M){var L=B(_.fb,_),q=_.Xa;const at=!q;q=new dg(q||"//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||zP(q,"https"),WP(q),at?function Pne(_,M){const L=new VD;if(f.Image){const q=new Image;q.onload=K(Ff,L,"TestLoadImage: loaded",!0,M,q),q.onerror=K(Ff,L,"TestLoadImage: error",!1,M,q),q.onabort=K(Ff,L,"TestLoadImage: abort",!1,M,q),q.ontimeout=K(Ff,L,"TestLoadImage: timeout",!1,M,q),f.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=_}else M(!1)}(q.toString(),L):function kne(_,M){new VD;const q=new AbortController,at=setTimeout(()=>{q.abort(),Ff(0,0,!1,M)},1e4);fetch(_,{signal:q.signal}).then(gt=>{clearTimeout(at),Ff(0,0,!!gt.ok,M)}).catch(()=>{clearTimeout(at),Ff(0,0,!1,M)})}(q.toString(),L)}else Ws(2);_.G=0,_.l&&_.l.sa(M),GK(_),VK(_)}function GK(_){if(_.G=0,_.ka=[],_.l){const M=wK(_.h);(0!=M.length||0!=_.i.length)&&(he(_.ka,M),he(_.ka,_.i),_.h.i.length=0,fe(_.i),_.i.length=0),_.l.ra()}}function WK(_,M,L){var q=L instanceof dg?Pd(L):new dg(L);if(""!=q.g)M&&(q.g=M+"."+q.g),GP(q,q.s);else{var at=f.location;q=at.protocol,M=M?M+"."+at.hostname:at.hostname,at=+at.port;var gt=new dg(null);q&&zP(gt,q),M&&(gt.g=M),at&&GP(gt,at),L&&(gt.l=L),q=gt}return M=_.ya,(L=_.D)&&M&&ci(q,L,M),ci(q,"VER",_.la),KD(_,q),q}function KK(_,M,L){if(M&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(M=new $i(_.Ca&&!_.pa?new HD({eb:L}):_.pa)).Ha(_.J),M}function qK(){}function ZP(){}function qa(_,M){ws.call(this),this.g=new LK(M),this.l=_,this.h=M&&M.messageUrlParams||null,_=M&&M.messageHeaders||null,M&&M.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=M&&M.initMessageHeaders||null,M&&M.messageContentType&&(_?_["X-WebChannel-Content-Type"]=M.messageContentType:_={"X-WebChannel-Content-Type":M.messageContentType}),M&&M.va&&(_?_["X-WebChannel-Client-Profile"]=M.va:_={"X-WebChannel-Client-Profile":M.va}),this.g.S=_,(_=M&&M.Sb)&&!vt(_)&&(this.g.m=_),this.v=M&&M.supportsCrossDomainXhr||!1,this.u=M&&M.sendRawJson||!1,(M=M&&M.httpSessionIdParam)&&!vt(M)&&(this.g.D=M,null!==(_=this.h)&&M in _&&M in(_=this.h)&&delete _[M]),this.j=new $b(this)}function XK(_){Uj.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var M=_.__sm__;if(M){e:{for(const L in M){_=L;break e}_=void 0}(this.i=_)&&(_=this.i,M=null!==M&&_ in M?M[_]:void 0),this.data=M}else this.data=_}function QK(){jj.call(this),this.status=1}function $b(_){this.g=_}(n=$i.prototype).Ha=function(_){this.J=_},n.ea=function(_,M,L,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);M=M?M.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$j.g(),this.v=function sK(_){return _.h||(_.h=_.i())}(this.o?this.o:$j),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(M,String(_),!0),this.B=!1}catch(gt){return void OK(this,gt)}if(_=L||"",L=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var at in q)L.set(at,q[at]);else{if("function"!=typeof q.keys||"function"!=typeof q.get)throw Error("Unknown input type for opt_headers: "+String(q));for(const gt of q.keys())L.set(gt,q.get(gt))}q=Array.from(L.keys()).find(gt=>"content-type"==gt.toLowerCase()),at=f.FormData&&_ instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Vne,M,void 0))||q||at||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[gt,Yt]of L)this.g.setRequestHeader(gt,Yt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{NK(this),this.u=!0,this.g.send(_),this.u=!1}catch(gt){OK(this,gt)}},n.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Gs(this,"complete"),Gs(this,"abort"),qP(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qP(this,!0)),$i.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?kK(this):this.bb())},n.bb=function(){kK(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<kd(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(_){if(this.g){var M=this.g.responseText;return _&&0==M.indexOf(_)&&(M=M.substring(_.length)),gne(M)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=LK.prototype).la=8,n.G=1,n.connect=function(_,M,L,q){Ws(0),this.W=_,this.H=M||{},L&&void 0!==q&&(this.H.OSID=L,this.H.OAID=q),this.F=this.X,this.I=WK(this,null,this.W),QP(this)},n.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const at=new kf(this,this.j,_);let gt=this.o;if(this.S&&(gt?(gt=le(gt),je(gt,this.S)):gt=this.S),null!==this.m||this.O||(at.H=gt,gt=null),this.P)e:{for(var M=0,L=0;L<this.i.length;L++){var q=this.i[L];if(void 0===(q="__data__"in q.map&&"string"==typeof(q=q.map.__data__)?q.length:void 0))break;if(4096<(M+=q)){M=L;break e}if(4096===M||L===this.i.length-1){M=L+1;break e}}M=1e3}else M=1e3;M=UK(this,at,M),ci(L=Pd(this.I),"RID",_),ci(L,"CVER",22),this.D&&ci(L,"X-HTTP-Session-Id",this.D),KD(this,L),gt&&(this.O?M="headers="+encodeURIComponent(String(RK(gt)))+"&"+M:this.m&&Xj(L,this.m,gt)),qj(this.h,at),this.Ua&&ci(L,"TYPE","init"),this.P?(ci(L,"$req",M),ci(L,"SID","null"),at.T=!0,zj(at,L,null)):zj(at,L,M),this.G=2}}else 3==this.G&&(_?BK(this,_):0==this.i.length||yK(this.h)||BK(this))},n.Fa=function(){if(this.u=null,$K(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=LD(B(this.ab,this),_)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ws(10),XP(this),$K(this))},n.Za=function(){null!=this.C&&(this.C=null,XP(this),Yj(this),Ws(19))},n.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Ws(2)):(this.j.info("Failed to ping google.com"),Ws(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=qK.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},ZP.prototype.g=function(_,M){return new qa(_,M)},pe(qa,ws),qa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qa.prototype.close=function(){Qj(this.g)},qa.prototype.o=function(_){var M=this.g;if("string"==typeof _){var L={};L.__data__=_,_=L}else this.u&&((L={}).__data__=Vj(_),_=L);M.i.push(new Ine(M.Ya++,_)),3==M.G&&QP(M)},qa.prototype.N=function(){this.g.l=null,delete this.j,Qj(this.g),delete this.g,qa.aa.N.call(this)},pe(XK,Uj),pe(QK,jj),pe($b,qK),$b.prototype.ua=function(){Gs(this.g,"a")},$b.prototype.ta=function(_){Gs(this.g,new XK(_))},$b.prototype.sa=function(_){Gs(this.g,new QK)},$b.prototype.ra=function(){Gs(this.g,"b")},ZP.prototype.createWebChannel=ZP.prototype.g,qa.prototype.send=qa.prototype.o,qa.prototype.open=qa.prototype.m,qa.prototype.close=qa.prototype.close,MV=Ea.createWebChannelTransport=function(){return new ZP},VR=Ea.getStatEventTarget=function(){return UP()},LR=Ea.Event=lg,FR=Ea.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jP.NO_ERROR=0,jP.TIMEOUT=8,jP.HTTP_ERROR=6,TC=Ea.ErrorCode=jP,hK.COMPLETE="complete",NR=Ea.EventType=hK,aK.EventType=ND,ND.OPEN="a",ND.CLOSE="b",ND.ERROR="c",ND.MESSAGE="d",ws.prototype.listen=ws.prototype.K,Ky=Ea.WebChannel=aK,xV=Ea.FetchXmlHttpFactory=HD,$i.prototype.listenOnce=$i.prototype.L,$i.prototype.getLastError=$i.prototype.Ka,$i.prototype.getLastErrorCode=$i.prototype.Ba,$i.prototype.getStatus=$i.prototype.Z,$i.prototype.getResponseJson=$i.prototype.Oa,$i.prototype.getResponseText=$i.prototype.oa,$i.prototype.send=$i.prototype.ea,$i.prototype.setWithCredentials=$i.prototype.Ha,SV=Ea.XhrIo=$i}).apply(typeof DC<"u"?DC:typeof self<"u"?self:typeof window<"u"?window:{});const AC="@firebase/firestore";class uo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}uo.UNAUTHENTICATED=new uo(null),uo.GOOGLE_CREDENTIALS=new uo("google-credentials-uid"),uo.FIRST_PARTY=new uo("first-party-uid"),uo.MOCK_USER=new uo("mock-user");let Nm="10.12.3";const du=new nu("@firebase/firestore");function _d(){return du.logLevel}function Ot(n,...t){if(du.logLevel<=qn.DEBUG){const e=t.map(qy);du.debug(`Firestore (${Nm}): ${n}`,...e)}}function Si(n,...t){if(du.logLevel<=qn.ERROR){const e=t.map(qy);du.error(`Firestore (${Nm}): ${n}`,...e)}}function Ls(n,...t){if(du.logLevel<=qn.WARN){const e=t.map(qy);du.warn(`Firestore (${Nm}): ${n}`,...e)}}function qy(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function tn(n="Unexpected state"){const t=`FIRESTORE (${Nm}) INTERNAL ASSERTION FAILED: `+n;throw Si(t),new Error(t)}function hn(n,t){n||tn()}function Xt(n,t){return n}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Mt extends ms{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xi{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class BR{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class UR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(uo.UNAUTHENTICATED))}shutdown(){}}class OV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class jR{constructor(t){this.t=t,this.currentUser=uo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const c=w=>this.i!==i?(i=this.i,e(w)):Promise.resolve();let d=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Xi,t.enqueueRetryable(()=>c(this.currentUser))};const f=()=>{const w=d;t.enqueueRetryable((0,x.A)(function*(){yield w.promise,yield c(r.currentUser)}))},m=w=>{Ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>m(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?m(w):(Ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Xi)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(hn("string"==typeof r.accessToken),new BR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return hn(null===t||"string"==typeof t),new uo(t)}}class L3{constructor(t,e,r){this.l=t,this.h=e,this.P=r,this.type="FirstParty",this.user=uo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class PV{constructor(t,e,r){this.l=t,this.h=e,this.P=r}getToken(){return Promise.resolve(new L3(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(uo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $R{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kV{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const r=c=>{null!=c.error&&Ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,Ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const i=c=>{Ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?i(c):Ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(hn("string"==typeof e.token),this.R=e.token,new $R(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function HR(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class SC{static newId(){const e=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=HR(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<e&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[c]%62))}return r}}function Rn(n,t){return n<t?-1:n>t?1:0}function vd(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}class si{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Mt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Mt(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Mt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Mt(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return si.fromMillis(Date.now())}static fromDate(t){return si.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new si(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Rn(this.nanoseconds,t.nanoseconds):Rn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new mn(t)}static min(){return new mn(new si(0,0))}static max(){return new mn(new si(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ol{constructor(t,e,r){void 0===e?e=0:e>t.length&&tn(),void 0===r?r=t.length-e:r>t.length-e&&tn(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===ol.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ol?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const c=t.get(i),d=e.get(i);if(c<d)return-1;if(c>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Qn extends ol{construct(t,e,r){return new Qn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Mt(pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new Qn(e)}static emptyPath(){return new Qn([])}}const zR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yr extends ol{construct(t,e,r){return new Yr(t,e,r)}static isValidIdentifier(t){return zR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yr(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const c=()=>{if(0===r.length)throw new Mt(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let d=!1;for(;i<t.length;){const f=t[i];if("\\"===f){if(i+1===t.length)throw new Mt(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Mt(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(c(),i++)}if(c(),d)throw new Mt(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yr(e)}static emptyPath(){return new Yr([])}}class Zt{constructor(t){this.path=t}static fromPath(t){return new Zt(Qn.fromString(t))}static fromName(t){return new Zt(Qn.fromString(t).popFirst(5))}static empty(){return new Zt(Qn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Qn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Qn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Zt(new Qn(t.slice()))}}class Vs{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new Vs(mn.min(),Zt.empty(),-1)}static max(){return new Vs(mn.max(),Zt.empty(),-1)}}function KR(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Zt.comparator(n.documentKey,t.documentKey),0!==e?e:Rn(n.largestBatchId,t.largestBatchId))}const FV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function fu(n){return qR.apply(this,arguments)}function qR(){return(qR=(0,x.A)(function*(n){if(n.code!==pt.FAILED_PRECONDITION||n.message!==FV)throw n;Ot("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class lt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new lt((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(e,c).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof lt?e:lt.resolve(e)}catch(e){return lt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):lt.reject(e)}static resolve(t){return new lt((e,r)=>{e(t)})}static reject(t){return new lt((e,r)=>{r(t)})}static waitFor(t){return new lt((e,r)=>{let i=0,c=0,d=!1;t.forEach(f=>{++i,f.next(()=>{++c,d&&c===i&&e()},m=>r(m))}),d=!0,c===i&&e()})}static or(t){let e=lt.resolve(!1);for(const r of t)e=e.next(i=>i?lt.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,c)=>{r.push(e.call(this,i,c))}),this.waitFor(r)}static mapArray(t,e){return new lt((r,i)=>{const c=t.length,d=new Array(c);let f=0;for(let m=0;m<c;m++){const w=m;e(t[w]).next(A=>{d[w]=A,++f,f===c&&r(d)},A=>i(A))}})}static doWhile(t,e){return new lt((r,i)=>{const c=()=>{!0===t()?e().next(()=>{c()},i):r()};c()})}}function bd(n){return"IndexedDbTransactionError"===n.name}let Bs=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function Fm(n){return null==n}function Lm(n){return 0===n&&1/n==-1/0}function wd(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function cl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function z3(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Zr{constructor(t,e){this.comparator=t,this.root=e||Zo.EMPTY}insert(t,e){return new Zr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Zo.BLACK,null,null))}remove(t){return new Zr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Zo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new JR(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new JR(this.root,t,this.comparator,!1)}getReverseIterator(){return new JR(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new JR(this.root,t,this.comparator,!0)}}class JR{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=e?r(t.key,e):1,e&&i&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Zo{constructor(t,e,r,i,c){this.key=t,this.value=e,this.color=r??Zo.RED,this.left=i??Zo.EMPTY,this.right=c??Zo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,c){return new Zo(t??this.key,e??this.value,r??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const c=r(t,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===c?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Zo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return Zo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Zo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Zo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tn();const t=this.left.check();if(t!==this.right.check())throw tn();return t+(this.isRed()?0:1)}}Zo.EMPTY=null,Zo.RED=!0,Zo.BLACK=!1,Zo.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(t,e,r,i,c){return this}insert(t,e,r){return new Zo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class zr{constructor(t){this.comparator=t,this.data=new Zr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new G3(this.data.getIterator())}getIteratorFrom(t){return new G3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof zr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new zr(this.comparator);return e.data=t,e}}class G3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wa{constructor(t){this.fields=t,t.sort(Yr.comparator)}static empty(){return new wa([])}unionWith(t){let e=new zr(Yr.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new wa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return vd(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class W3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Eo{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new W3("Invalid base64 string: "+c):c}}(t);return new Eo(e)}static fromUint8Array(t){const e=function(i){let c="";for(let d=0;d<i.length;++d)c+=String.fromCharCode(i[d]);return c}(t);return new Eo(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Rn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Eo.EMPTY_BYTE_STRING=new Eo("");const N9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Id(n){if(hn(!!n),"string"==typeof n){let t=0;const e=N9.exec(n);if(hn(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ui(n.seconds),nanos:Ui(n.nanos)}}function Ui(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Cd(n){return"string"==typeof n?Eo.fromBase64String(n):Eo.fromUint8Array(n)}function eO(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function tO(n){const t=n.mapValue.fields.__previous_value__;return eO(t)?tO(t):t}function PC(n){const t=Id(n.mapValue.fields.__local_write_time__.timestampValue);return new si(t.seconds,t.nanos)}class F9{constructor(t,e,r,i,c,d,f,m,w){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=w}}class Vm{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Vm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Vm&&t.projectId===this.projectId&&t.database===this.database}}const vf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function yf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?eO(n)?4:Q3(n)?9007199254740991:10:tn()}function pu(n,t){if(n===t)return!0;const e=yf(n);if(e!==yf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return PC(n).isEqual(PC(t));case 3:return function(i,c){if("string"==typeof i.timestampValue&&"string"==typeof c.timestampValue&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const d=Id(i.timestampValue),f=Id(c.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return c=t,Cd(n.bytesValue).isEqual(Cd(c.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,c){return Ui(i.geoPointValue.latitude)===Ui(c.geoPointValue.latitude)&&Ui(i.geoPointValue.longitude)===Ui(c.geoPointValue.longitude)}(n,t);case 2:return function(i,c){if("integerValue"in i&&"integerValue"in c)return Ui(i.integerValue)===Ui(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const d=Ui(i.doubleValue),f=Ui(c.doubleValue);return d===f?Lm(d)===Lm(f):isNaN(d)&&isNaN(f)}return!1}(n,t);case 9:return vd(n.arrayValue.values||[],t.arrayValue.values||[],pu);case 10:return function(i,c){const d=i.mapValue.fields||{},f=c.mapValue.fields||{};if(wd(d)!==wd(f))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(void 0===f[m]||!pu(d[m],f[m])))return!1;return!0}(n,t);default:return tn()}var c}function kC(n,t){return void 0!==(n.values||[]).find(e=>pu(e,t))}function bf(n,t){if(n===t)return 0;const e=yf(n),r=yf(t);if(e!==r)return Rn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Rn(n.booleanValue,t.booleanValue);case 2:return function(c,d){const f=Ui(c.integerValue||c.doubleValue),m=Ui(d.integerValue||d.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,t);case 3:return K3(n.timestampValue,t.timestampValue);case 4:return K3(PC(n),PC(t));case 5:return Rn(n.stringValue,t.stringValue);case 6:return function(c,d){const f=Cd(c),m=Cd(d);return f.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(c,d){const f=c.split("/"),m=d.split("/");for(let w=0;w<f.length&&w<m.length;w++){const A=Rn(f[w],m[w]);if(0!==A)return A}return Rn(f.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(c,d){const f=Rn(Ui(c.latitude),Ui(d.latitude));return 0!==f?f:Rn(Ui(c.longitude),Ui(d.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(c,d){const f=c.values||[],m=d.values||[];for(let w=0;w<f.length&&w<m.length;++w){const A=bf(f[w],m[w]);if(A)return A}return Rn(f.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(c,d){if(c===vf.mapValue&&d===vf.mapValue)return 0;if(c===vf.mapValue)return 1;if(d===vf.mapValue)return-1;const f=c.fields||{},m=Object.keys(f),w=d.fields||{},A=Object.keys(w);m.sort(),A.sort();for(let R=0;R<m.length&&R<A.length;++R){const B=Rn(m[R],A[R]);if(0!==B)return B;const K=bf(f[m[R]],w[A[R]]);if(0!==K)return K}return Rn(m.length,A.length)}(n.mapValue,t.mapValue);default:throw tn()}}function K3(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Rn(n,t);const e=Id(n),r=Id(t),i=Rn(e.seconds,r.seconds);return 0!==i?i:Rn(e.nanos,r.nanos)}function Zy(n){return jV(n)}function jV(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=Id(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Cd(n.bytesValue).toBase64():"referenceValue"in n?Zt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",i=!0;for(const c of e.values||[])i?i=!1:r+=",",r+=jV(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let i="{",c=!0;for(const d of r)c?c=!1:i+=",",i+=`${d}:${jV(e.fields[d])}`;return i+"}"}(n.mapValue):tn()}function Bm(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function $V(n){return!!n&&"integerValue"in n}function NC(n){return!!n&&"arrayValue"in n}function q3(n){return!!n&&"nullValue"in n}function X3(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function iO(n){return!!n&&"mapValue"in n}function FC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return cl(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=FC(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=FC(n.arrayValue.values[e]);return t}return Object.assign({},n)}function Q3(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Jo{constructor(t){this.value=t}static empty(){return new Jo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!iO(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=FC(e)}setAll(t){let e=Yr.emptyPath(),r={},i=[];t.forEach((d,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,r,i),r={},i=[],e=f.popLast()}d?r[f.lastSegment()]=FC(d):i.push(f.lastSegment())});const c=this.getFieldsMap(e);this.applyChanges(c,r,i)}delete(t){const e=this.field(t.popLast());iO(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return pu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];iO(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){cl(e,(i,c)=>t[i]=c);for(const i of r)delete t[i]}clone(){return new Jo(FC(this.value))}}function J3(n){const t=[];return cl(n.fields,(e,r)=>{const i=new Yr([e]);if(iO(r)){const c=J3(r.mapValue).fields;if(0===c.length)t.push(i);else for(const d of c)t.push(i.child(d))}else t.push(i)}),new wa(t)}class ai{constructor(t,e,r,i,c,d,f){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=c,this.data=d,this.documentState=f}static newInvalidDocument(t){return new ai(t,0,mn.min(),mn.min(),mn.min(),Jo.empty(),0)}static newFoundDocument(t,e,r,i){return new ai(t,1,e,mn.min(),r,i,0)}static newNoDocument(t,e){return new ai(t,2,e,mn.min(),mn.min(),Jo.empty(),0)}static newUnknownDocument(t,e){return new ai(t,3,e,mn.min(),mn.min(),Jo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ai&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ai(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ef{constructor(t,e){this.position=t,this.inclusive=e}}function ez(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const c=t[i],d=n.position[i];if(r=c.field.isKeyField()?Zt.comparator(Zt.fromName(d.referenceValue),e.key):bf(d,e.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function tz(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!pu(n.position[e],t.position[e]))return!1;return!0}class LC{constructor(t,e="asc"){this.field=t,this.dir=e}}function B9(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class nz{}class ir extends nz{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,r):new U9(t,e,r):"array-contains"===e?new H9(t,r):"in"===e?new cz(t,r):"not-in"===e?new z9(t,r):"array-contains-any"===e?new G9(t,r):new ir(t,e,r)}static createKeyFieldInFilter(t,e,r){return"in"===e?new j9(t,r):new $9(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(bf(e,this.value)):null!==e&&yf(this.value)===yf(e)&&this.matchesComparison(bf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends nz{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Lr(t,e)}matches(t){return Jy(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Jy(n){return"and"===n.op}function zV(n){return function rz(n){for(const t of n.filters)if(t instanceof Lr)return!1;return!0}(n)&&Jy(n)}function GV(n){if(n instanceof ir)return n.field.canonicalString()+n.op.toString()+Zy(n.value);if(zV(n))return n.filters.map(t=>GV(t)).join(",");{const t=n.filters.map(e=>GV(e)).join(",");return`${n.op}(${t})`}}function iz(n,t){return n instanceof ir?(r=n,(i=t)instanceof ir&&r.op===i.op&&r.field.isEqual(i.field)&&pu(r.value,i.value)):n instanceof Lr?function(r,i){return i instanceof Lr&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((c,d,f)=>c&&iz(d,i.filters[f]),!0)}(n,t):void tn();var r,i}function sz(n){return n instanceof ir?`${(e=n).field.canonicalString()} ${e.op} ${Zy(e.value)}`:n instanceof Lr?function(e){return e.op.toString()+" {"+e.getFilters().map(sz).join(" ,")+"}"}(n):"Filter";var e}class U9 extends ir{constructor(t,e,r){super(t,e,r),this.key=Zt.fromName(r.referenceValue)}matches(t){const e=Zt.comparator(t.key,this.key);return this.matchesComparison(e)}}class j9 extends ir{constructor(t,e){super(t,"in",e),this.keys=az(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class $9 extends ir{constructor(t,e){super(t,"not-in",e),this.keys=az(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function az(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>Zt.fromName(r.referenceValue))}class H9 extends ir{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return NC(e)&&kC(e.arrayValue,this.value)}}class cz extends ir{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&kC(this.value.arrayValue,e)}}class z9 extends ir{constructor(t,e){super(t,"not-in",e)}matches(t){if(kC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!kC(this.value.arrayValue,e)}}class G9 extends ir{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!NC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>kC(this.value.arrayValue,r))}}class W9{constructor(t,e=null,r=[],i=[],c=null,d=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=d,this.endAt=f,this.ue=null}}function WV(n,t=null,e=[],r=[],i=null,c=null,d=null){return new W9(n,t,e,r,i,c,d)}function Um(n){const t=Xt(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>GV(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(c=r).field.canonicalString()+c.dir;var c}).join(","),Fm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>Zy(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>Zy(r)).join(",")),t.ue=e}return t.ue}function VC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!B9(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!iz(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!tz(n.startAt,t.startAt)&&tz(n.endAt,t.endAt)}function oO(n){return Zt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Dd{constructor(t,e=null,r=[],i=[],c=null,d="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=m,this.ce=null,this.le=null,this.he=null}}function eb(n){return new Dd(n)}function hz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function KV(n){return null!==n.collectionGroup}function tb(n){const t=Xt(n);if(null===t.ce){t.ce=[];const e=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),e.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new zr(Yr.comparator);return d.filters.forEach(m=>{m.getFlattenedFilters().forEach(w=>{w.isInequality()&&(f=f.add(w.field))})}),f})(t).forEach(c=>{e.has(c.canonicalString())||c.isKeyField()||t.ce.push(new LC(c,r))}),e.has(Yr.keyField().canonicalString())||t.ce.push(new LC(Yr.keyField(),r))}return t.ce}function vs(n){const t=Xt(n);return t.le||(t.le=function pz(n,t){if("F"===n.limitType)return WV(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(i=>new LC(i.field,"desc"===i.dir?"asc":"desc"));const e=n.endAt?new Ef(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ef(n.startAt.position,n.startAt.inclusive):null;return WV(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}(t,tb(n))),t.le}function qV(n,t){const e=n.filters.concat([t]);return new Dd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function aO(n,t,e){return new Dd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function BC(n,t){return VC(vs(n),vs(t))&&n.limitType===t.limitType}function mz(n){return`${Um(vs(n))}|lt:${n.limitType}`}function nb(n){return`Query(target=${function(e){let r=e.path.canonicalString();return null!==e.collectionGroup&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(i=>sz(i)).join(", ")}]`),Fm(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(i=>{return`${(d=i).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>Zy(i)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>Zy(i)).join(",")),`Target(${r})`}(vs(n))}; limitType=${n.limitType})`}function UC(n,t){return t.isFoundDocument()&&function(r,i){const c=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Zt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(n,t)&&function(r,i){for(const c of tb(r))if(!c.field.isKeyField()&&null===i.data.field(c.field))return!1;return!0}(n,t)&&function(r,i){for(const c of r.filters)if(!c.matches(i))return!1;return!0}(n,t)&&(i=t,!((r=n).startAt&&!function(d,f,m){const w=ez(d,f,m);return d.inclusive?w<=0:w<0}(r.startAt,tb(r),i)||r.endAt&&!function(d,f,m){const w=ez(d,f,m);return d.inclusive?w>=0:w>0}(r.endAt,tb(r),i)));var r,i}function _z(n){return(t,e)=>{let r=!1;for(const i of tb(n)){const c=K9(i,t,e);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function K9(n,t,e){const r=n.field.isKeyField()?Zt.comparator(t.key,e.key):function(c,d,f){const m=d.data.field(c),w=f.data.field(c);return null!==m&&null!==w?bf(m,w):tn()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tn()}}class Td{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,t))return c}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,e]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],t))return void(i[c]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){cl(this.inner,(e,r)=>{for(const[i,c]of r)t(i,c)})}isEmpty(){return z3(this.inner)}size(){return this.innerSize}}const q9=new Zr(Zt.comparator);function Ia(){return q9}const vz=new Zr(Zt.comparator);function jC(...n){let t=vz;for(const e of n)t=t.insert(e.key,e);return t}function yz(n){let t=vz;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function mu(){return $C()}function bz(){return $C()}function $C(){return new Td(n=>n.toString(),(n,t)=>n.isEqual(t))}const X9=new Zr(Zt.comparator),Q9=new zr(Zt.comparator);function jn(...n){let t=Q9;for(const e of n)t=t.add(e);return t}const Y9=new zr(Rn);function Ez(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lm(t)?"-0":t}}function wz(n){return{integerValue:""+n}}function Iz(n,t){return function QR(n){return"number"==typeof n&&Number.isInteger(n)&&!Lm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?wz(t):Ez(n,t)}class cO{constructor(){this._=void 0}}function Z9(n,t,e){return n instanceof rb?function(i,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&eO(c)&&(c=tO(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(e,t):n instanceof jm?Dz(n,t):n instanceof $m?Tz(n,t):function(i,c){const d=Cz(i,c),f=Az(d)+Az(i.Pe);return $V(d)&&$V(i.Pe)?wz(f):Ez(i.serializer,f)}(n,t)}function J9(n,t,e){return n instanceof jm?Dz(n,t):n instanceof $m?Tz(n,t):e}function Cz(n,t){return n instanceof ib?$V(r=t)||(c=r)&&"doubleValue"in c?t:{integerValue:0}:null;var r,c}class rb extends cO{}class jm extends cO{constructor(t){super(),this.elements=t}}function Dz(n,t){const e=Sz(t);for(const r of n.elements)e.some(i=>pu(i,r))||e.push(r);return{arrayValue:{values:e}}}class $m extends cO{constructor(t){super(),this.elements=t}}function Tz(n,t){let e=Sz(t);for(const r of n.elements)e=e.filter(i=>!pu(i,r));return{arrayValue:{values:e}}}class ib extends cO{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function Az(n){return Ui(n.integerValue||n.doubleValue)}function Sz(n){return NC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class HC{constructor(t,e){this.field=t,this.transform=e}}class tq{constructor(t,e){this.version=t,this.transformResults=e}}class vi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new vi}static exists(t){return new vi(void 0,t)}static updateTime(t){return new vi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function lO(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class uO{}function xz(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new sb(n.key,vi.none()):new ob(n.key,n.data,vi.none());{const e=n.data,r=Jo.empty();let i=new zr(Yr.comparator);for(let c of t.fields)if(!i.has(c)){let d=e.field(c);null===d&&c.length>1&&(c=c.popLast(),d=e.field(c)),null===d?r.delete(c):r.set(c,d),i=i.add(c)}return new Ad(n.key,r,new wa(i.toArray()),vi.none())}}function nq(n,t,e){n instanceof ob?function(i,c,d){const f=i.value.clone(),m=Oz(i.fieldTransforms,c,d.transformResults);f.setAll(m),c.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(n,t,e):n instanceof Ad?function(i,c,d){if(!lO(i.precondition,c))return void c.convertToUnknownDocument(d.version);const f=Oz(i.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(Rz(i)),m.setAll(f),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function zC(n,t,e,r){return n instanceof ob?function(c,d,f,m){if(!lO(c.precondition,d))return f;const w=c.value.clone(),A=Pz(c.fieldTransforms,m,d);return w.setAll(A),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),null}(n,t,e,r):n instanceof Ad?function(c,d,f,m){if(!lO(c.precondition,d))return f;const w=Pz(c.fieldTransforms,m,d),A=d.data;return A.setAll(Rz(c)),A.setAll(w),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),null===f?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(n,t,e,r):(f=e,lO(n.precondition,d=t)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f);var d,f}function rq(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),c=Cz(r.transform,i||null);null!=c&&(null===e&&(e=Jo.empty()),e.set(r.field,c))}return e||null}function Mz(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&vd(r,i,(c,d)=>function eq(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(r=n.transform)instanceof jm&&i instanceof jm||r instanceof $m&&i instanceof $m?vd(r.elements,i.elements,pu):r instanceof ib&&i instanceof ib?pu(r.Pe,i.Pe):r instanceof rb&&i instanceof rb);var r,i}(c,d))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var r,i}class ob extends uO{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ad extends uO{constructor(t,e,r,i,c=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Rz(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function Oz(n,t,e){const r=new Map;hn(n.length===e.length);for(let i=0;i<e.length;i++){const c=n[i],d=c.transform,f=t.data.field(c.field);r.set(c.field,J9(d,f,e[i]))}return r}function Pz(n,t,e){const r=new Map;for(const i of n){const c=i.transform,d=e.data.field(i.field);r.set(i.field,Z9(c,d,t))}return r}class sb extends uO{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QV extends uO{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class YV{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(t.key)&&nq(c,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=zC(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=zC(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=bz();return this.mutations.forEach(i=>{const c=t.get(i.key),d=c.overlayedDocument;let f=this.applyToLocalView(d,c.mutatedFields);f=e.has(i.key)?null:f;const m=xz(d,f);null!==m&&r.set(i.key,m),d.isValidDocument()||d.convertToNoDocument(mn.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),jn())}isEqual(t){return this.batchId===t.batchId&&vd(this.mutations,t.mutations,(e,r)=>Mz(e,r))&&vd(this.baseMutations,t.baseMutations,(e,r)=>Mz(e,r))}}class ZV{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){hn(t.mutations.length===r.length);let i=function(){return X9}();const c=t.mutations;for(let d=0;d<c.length;d++)i=i.insert(c[d].key,r[d].version);return new ZV(t,e,r,i)}}class JV{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class iq{constructor(t,e){this.count=t,this.unchangedNames=e}}var ho,dr;function Nz(n){switch(n){default:return tn();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function Fz(n){if(void 0===n)return Si("GRPC error has no .code"),pt.UNKNOWN;switch(n){case ho.OK:return pt.OK;case ho.CANCELLED:return pt.CANCELLED;case ho.UNKNOWN:return pt.UNKNOWN;case ho.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case ho.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case ho.INTERNAL:return pt.INTERNAL;case ho.UNAVAILABLE:return pt.UNAVAILABLE;case ho.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case ho.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case ho.NOT_FOUND:return pt.NOT_FOUND;case ho.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case ho.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case ho.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case ho.ABORTED:return pt.ABORTED;case ho.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case ho.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case ho.DATA_LOSS:return pt.DATA_LOSS;default:return tn()}}(dr=ho||(ho={}))[dr.OK=0]="OK",dr[dr.CANCELLED=1]="CANCELLED",dr[dr.UNKNOWN=2]="UNKNOWN",dr[dr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dr[dr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dr[dr.NOT_FOUND=5]="NOT_FOUND",dr[dr.ALREADY_EXISTS=6]="ALREADY_EXISTS",dr[dr.PERMISSION_DENIED=7]="PERMISSION_DENIED",dr[dr.UNAUTHENTICATED=16]="UNAUTHENTICATED",dr[dr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dr[dr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dr[dr.ABORTED=10]="ABORTED",dr[dr.OUT_OF_RANGE=11]="OUT_OF_RANGE",dr[dr.UNIMPLEMENTED=12]="UNIMPLEMENTED",dr[dr.INTERNAL=13]="INTERNAL",dr[dr.UNAVAILABLE=14]="UNAVAILABLE",dr[dr.DATA_LOSS=15]="DATA_LOSS";const oq=new uu([4294967295,4294967295],0);function Vz(n){const t=function Lz(){return new TextEncoder}().encode(n),e=new CC;return e.update(t),new Uint8Array(e.digest())}function Bz(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new uu([e,r],0),new uu([i,c],0)]}class e2{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new GC(`Invalid padding: ${e}`);if(r<0)throw new GC(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new GC(`Invalid hash count: ${r}`);if(0===t.length&&0!==e)throw new GC(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=uu.fromNumber(this.Ie)}Ee(t,e,r){let i=t.add(e.multiply(uu.fromNumber(r)));return 1===i.compare(oq)&&(i=new uu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=Vz(t),[r,i]=Bz(e);for(let c=0;c<this.hashCount;c++){const d=this.Ee(r,i,c);if(!this.de(d))return!1}return!0}static create(t,e,r){const i=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new e2(c,i,e);return r.forEach(f=>d.insert(f)),d}insert(t){if(0===this.Ie)return;const e=Vz(t),[r,i]=Bz(e);for(let c=0;c<this.hashCount;c++){const d=this.Ee(r,i,c);this.Ae(d)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class GC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class WC{constructor(t,e,r,i,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const i=new Map;return i.set(t,KC.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new WC(mn.min(),i,new Zr(Rn),Ia(),jn())}}class KC{constructor(t,e,r,i,c){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new KC(r,e,jn(),jn(),jn())}}class hO{constructor(t,e,r,i){this.Re=t,this.removedTargetIds=e,this.key=r,this.Ve=i}}class Uz{constructor(t,e){this.targetId=t,this.me=e}}class jz{constructor(t,e,r=Eo.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class $z{constructor(){this.fe=0,this.ge=zz(),this.pe=Eo.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=jn(),e=jn(),r=jn();return this.ge.forEach((i,c)=>{switch(c){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:tn()}}),new KC(this.pe,this.ye,t,e,r)}ve(){this.we=!1,this.ge=zz()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,hn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sq{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ia(),this.qe=Hz(),this.Qe=new Zr(Rn)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const r=this.Ge(e);switch(t.state){case 0:this.ze(e)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),r.De(t.resumeToken));break;default:tn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((r,i)=>{this.ze(i)&&e(i)})}He(t){const e=t.targetId,r=t.me.count,i=this.Je(e);if(i){const c=i.target;if(oO(c))if(0===r){const d=new Zt(c.path);this.Ue(e,d,ai.newNoDocument(d,mn.min()))}else hn(1===r);else{const d=this.Ye(e);if(d!==r){const f=this.Ze(t),m=f?this.Xe(f,t,d):1;0!==m&&(this.je(e),this.Qe=this.Qe.insert(e,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:c=0}=e;let d,f;try{d=Cd(r).toUint8Array()}catch(m){if(m instanceof W3)return Ls("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new e2(d,i,c)}catch(m){return Ls(m instanceof GC?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return 0===f.Ie?null:f}Xe(t,e,r){return e.me.count===r-this.nt(t,e.targetId)?0:2}nt(t,e){const r=this.Le.getRemoteKeysForTarget(e);let i=0;return r.forEach(c=>{const d=this.Le.tt(),f=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(f)||(this.Ue(e,c,null),i++)}),i}rt(t){const e=new Map;this.Be.forEach((c,d)=>{const f=this.Je(d);if(f){if(c.current&&oO(f.target)){const m=new Zt(f.target.path);null!==this.ke.get(m)||this.it(d,m)||this.Ue(d,m,ai.newNoDocument(m,t))}c.be&&(e.set(d,c.Ce()),c.ve())}});let r=jn();this.qe.forEach((c,d)=>{let f=!0;d.forEachWhile(m=>{const w=this.Je(m);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(r=r.add(c))}),this.ke.forEach((c,d)=>d.setReadTime(t));const i=new WC(t,e,this.Qe,this.ke,r);return this.ke=Ia(),this.qe=Hz(),this.Qe=new Zr(Rn),i}$e(t,e){if(!this.ze(t))return;const r=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,r),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,e)?i.Fe(e,1):i.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),r&&(this.ke=this.ke.insert(e,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new $z,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new zr(Rn),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Ot("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new $z),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Hz(){return new Zr(Zt.comparator)}function zz(){return new Zr(Zt.comparator)}const aq={asc:"ASCENDING",desc:"DESCENDING"},cq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lq={and:"AND",or:"OR"};class uq{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function t2(n,t){return n.useProto3Json||Fm(t)?t:{value:t}}function ab(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Gz(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function dq(n,t){return ab(n,t.toTimestamp())}function Qi(n){return hn(!!n),mn.fromTimestamp(function(e){const r=Id(e);return new si(r.seconds,r.nanos)}(n))}function n2(n,t){return r2(n,t).canonicalString()}function r2(n,t){const e=(i=n,new Qn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===t?e:e.child(t)}function Wz(n){const t=Qn.fromString(n);return hn(r5(t)),t}function qC(n,t){return n2(n.databaseId,t.path)}function gu(n,t){const e=Wz(t);if(e.get(1)!==n.databaseId.projectId)throw new Mt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Mt(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Zt(Xz(e))}function Kz(n,t){return n2(n.databaseId,t)}function o2(n){return new Qn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Xz(n){return hn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Qz(n,t,e){return{name:qC(n,t),fields:e.value.mapValue.fields}}function XC(n,t){let e;if(t instanceof ob)e={update:Qz(n,t.key,t.value)};else if(t instanceof sb)e={delete:qC(n,t.key)};else if(t instanceof Ad)e={update:Qz(n,t.key,t.data),updateMask:yq(t.fieldMask)};else{if(!(t instanceof QV))return tn();e={verify:qC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(c,d){const f=d.transform;if(f instanceof rb)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof jm)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof $m)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof ib)return{fieldPath:d.field.canonicalString(),increment:f.Pe};throw tn()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(c=t.precondition).updateTime?{updateTime:dq(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:tn()),e;var c}function Zz(n,t){return{documents:[Kz(n,t.path)]}}function fO(n,t){const e={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=Kz(n,i);const c=function(w){if(0!==w.length)return n5(Lr.create(w,"and"))}(t.filters);c&&(e.structuredQuery.where=c);const d=function(w){if(0!==w.length)return w.map(A=>{return{field:wf((B=A).field),direction:gq(B.dir)};var B})}(t.orderBy);d&&(e.structuredQuery.orderBy=d);const f=t2(n,t.limit);return null!==f&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt={before:(w=t.startAt).inclusive,values:w.position}),t.endAt&&(e.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(t.endAt)),{_t:e,parent:i};var w}function e5(n){let t=function qz(n){const t=Wz(n);return 4===t.length?Qn.emptyPath():Xz(t)}(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){hn(1===r);const A=e.from[0];A.allDescendants?i=A.collectionId:t=t.child(A.collectionId)}let c=[];e.where&&(c=function(R){const B=t5(R);return B instanceof Lr&&zV(B)?B.getFilters():[B]}(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(B=>{return new LC(cb((pe=B).field),function(he){switch(he){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(pe.direction));var pe}));let f=null;e.limit&&(f=function(R){let B;return B="object"==typeof R?R.value:R,Fm(B)?null:B}(e.limit));let m=null;var R;e.startAt&&(m=new Ef((R=e.startAt).values||[],!!R.before));let w=null;return e.endAt&&(w=function(R){return new Ef(R.values||[],!R.before)}(e.endAt)),function dz(n,t,e,r,i,c,d,f){return new Dd(n,t,e,r,i,c,d,f)}(t,i,d,c,f,"F",m,w)}function t5(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=cb(e.unaryFilter.field);return ir.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=cb(e.unaryFilter.field);return ir.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=cb(e.unaryFilter.field);return ir.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cb(e.unaryFilter.field);return ir.create(d,"!=",{nullValue:"NULL_VALUE"});default:return tn()}}(n):void 0!==n.fieldFilter?ir.create(cb((e=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Lr.create(e.compositeFilter.filters.map(r=>t5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return tn()}}(e.compositeFilter.op))}(n):tn();var e}function gq(n){return aq[n]}function _q(n){return cq[n]}function vq(n){return lq[n]}function wf(n){return{fieldPath:n.canonicalString()}}function cb(n){return Yr.fromServerFormat(n.fieldPath)}function n5(n){return n instanceof ir?function(e){if("=="===e.op){if(X3(e.value))return{unaryFilter:{field:wf(e.field),op:"IS_NAN"}};if(q3(e.value))return{unaryFilter:{field:wf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(X3(e.value))return{unaryFilter:{field:wf(e.field),op:"IS_NOT_NAN"}};if(q3(e.value))return{unaryFilter:{field:wf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wf(e.field),op:_q(e.op),value:e.value}}}(n):n instanceof Lr?function(e){const r=e.getFilters().map(i=>n5(i));return 1===r.length?r[0]:{compositeFilter:{op:vq(e.op),filters:r}}}(n):tn()}function yq(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function r5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Sd{constructor(t,e,r,i,c=mn.min(),d=mn.min(),f=Eo.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new Sd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Sd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class i5{constructor(t){this.ct=t}}function a2(n){const t=e5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?aO(t,t.limit,"L"):t}class Wm{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(Ui(t.integerValue));else if("doubleValue"in t){const r=Ui(t.doubleValue);isNaN(r)?this.Et(e,13):(this.Et(e,15),Lm(r)?e.dt(0):e.dt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Et(e,20),"string"==typeof r&&(r=Id(r)),e.At(`${r.seconds||""}`),e.dt(r.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Cd(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.Et(e,45),e.dt(r.latitude||0),e.dt(r.longitude||0)}else"mapValue"in t?Q3(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):tn()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const r=t.fields||{};this.Et(e,55);for(const i of Object.keys(r))this.Rt(i,e),this.It(r[i],e)}wt(t,e){const r=t.values||[];this.Et(e,50);for(const i of r)this.It(i,e)}gt(t,e){this.Et(e,37),Zt.fromName(t).path.forEach(r=>{this.Et(e,60),this.St(r,e)})}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}Wm.bt=new Wm;class Aq{constructor(){this._n=new f2}addToCollectionParentIndex(t,e){return this._n.add(e),lt.resolve()}getCollectionParents(t,e){return lt.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return lt.resolve()}deleteFieldIndex(t,e){return lt.resolve()}deleteAllFieldIndexes(t){return lt.resolve()}createTargetIndexes(t,e){return lt.resolve()}getDocumentsMatchingTarget(t,e){return lt.resolve(null)}getIndexType(t,e){return lt.resolve(0)}getFieldIndexes(t,e){return lt.resolve([])}getNextCollectionGroupToUpdate(t){return lt.resolve(null)}getMinOffset(t,e){return lt.resolve(Vs.min())}getMinOffsetFromCollectionGroup(t,e){return lt.resolve(Vs.min())}updateCollectionGroup(t,e,r){return lt.resolve()}updateIndexEntries(t,e){return lt.resolve()}}class f2{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new zr(Qn.comparator),c=!i.has(r);return this.index[e]=i.add(r),c}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new zr(Qn.comparator)).toArray()}}new Uint8Array(0);class ys{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new ys(t,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ys.DEFAULT_COLLECTION_PERCENTILE=10,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ys.DEFAULT=new ys(41943040,ys.DEFAULT_COLLECTION_PERCENTILE,ys.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ys.DISABLED=new ys(-1,0,0);class qm{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new qm(0)}static Ln(){return new qm(-1)}}class A5{constructor(){this.changes=new Td(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ai.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?lt.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Nq{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class O5{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(null!==r&&zC(r.mutation,i,wa.empty(),si.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,jn()).next(()=>r))}getLocalViewOfDocuments(t,e,r=jn()){const i=mu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(c=>{let d=jC();return c.forEach((f,m)=>{d=d.insert(f,m.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const r=mu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,jn()))}populateOverlays(t,e,r){const i=[];return r.forEach(c=>{e.has(c)||i.push(c)}),this.documentOverlayCache.getOverlays(t,i).next(c=>{c.forEach((d,f)=>{e.set(d,f)})})}computeViews(t,e,r,i){let c=Ia();const d=$C(),f=$C();return e.forEach((m,w)=>{const A=r.get(w.key);i.has(w.key)&&(void 0===A||A.mutation instanceof Ad)?c=c.insert(w.key,w):void 0!==A?(d.set(w.key,A.mutation.getFieldMask()),zC(A.mutation,w,A.mutation.getFieldMask(),si.now())):d.set(w.key,wa.empty())}),this.recalculateAndSaveOverlays(t,c).next(m=>(m.forEach((w,A)=>d.set(w,A)),e.forEach((w,A)=>{var R;return f.set(w,new Nq(A,null!==(R=d.get(w))&&void 0!==R?R:null))}),f))}recalculateAndSaveOverlays(t,e){const r=$C();let i=new Zr((d,f)=>d-f),c=jn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const f of d)f.keys().forEach(m=>{const w=e.get(m);if(null===w)return;let A=r.get(m)||wa.empty();A=f.applyToLocalView(w,A),r.set(m,A);const R=(i.get(f.batchId)||jn()).add(m);i=i.insert(f.batchId,R)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),w=m.key,A=m.value,R=bz();A.forEach(B=>{if(!c.has(B)){const K=xz(e.get(B),r.get(B));null!==K&&R.set(B,K),c=c.add(B)}}),d.push(this.documentOverlayCache.saveOverlays(t,w,R))}return lt.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,i){return Zt.isDocumentKey((d=e).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):KV(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i);var d}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(c=>{const d=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-c.size):lt.resolve(mu());let f=-1,m=c;return d.next(w=>lt.forEach(w,(A,R)=>(f<R.largestBatchId&&(f=R.largestBatchId),c.get(A)?lt.resolve():this.remoteDocumentCache.getEntry(t,A).next(B=>{m=m.insert(A,B)}))).next(()=>this.populateOverlays(t,w,c)).next(()=>this.computeViews(t,m,w,jn())).next(A=>({batchId:f,changes:yz(A)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Zt(e)).next(r=>{let i=jC();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){const c=e.collectionGroup;let d=jC();return this.indexManager.getCollectionParents(t,c).next(f=>lt.forEach(f,m=>{const w=(R=e,B=m.child(c),new Dd(B,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt));var R,B;return this.getDocumentsMatchingCollectionQuery(t,w,r,i).next(A=>{A.forEach((R,B)=>{d=d.insert(R,B)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,e,r,i){let c;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,c,i))).next(d=>{c.forEach((m,w)=>{const A=w.getKey();null===d.get(A)&&(d=d.insert(A,ai.newInvalidDocument(A)))});let f=jC();return d.forEach((m,w)=>{const A=c.get(m);void 0!==A&&zC(A.mutation,w,wa.empty(),si.now()),UC(e,w)&&(f=f.insert(m,w))}),f})}}class Fq{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return lt.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,{id:(i=e).id,version:i.version,createTime:Qi(i.createTime)}),lt.resolve();var i}getNamedQuery(t,e){return lt.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,{name:(i=e).name,query:a2(i.bundledQuery),readTime:Qi(i.readTime)}),lt.resolve();var i}}class Lq{constructor(){this.overlays=new Zr(Zt.comparator),this.hr=new Map}getOverlay(t,e){return lt.resolve(this.overlays.get(e))}getOverlays(t,e){const r=mu();return lt.forEach(e,i=>this.getOverlay(t,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,c)=>{this.ht(t,e,c)}),lt.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.hr.delete(r)),lt.resolve()}getOverlaysForCollection(t,e,r){const i=mu(),c=e.length+1,d=new Zt(e.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const m=f.getNext().value,w=m.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===c&&m.largestBatchId>r&&i.set(m.getKey(),m)}return lt.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let c=new Zr((w,A)=>w-A);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>r){let A=c.get(w.largestBatchId);null===A&&(A=mu(),c=c.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const f=mu(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((w,A)=>f.set(w,A)),!(f.size()>=i)););return lt.resolve(f)}ht(t,e,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new JV(e,r));let c=this.hr.get(e);void 0===c&&(c=jn(),this.hr.set(e,c)),this.hr.set(e,c.add(r.key))}}class p2{constructor(){this.Pr=new zr(No.Ir),this.Tr=new zr(No.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const r=new No(t,e);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Ar(new No(t,e))}Rr(t,e){t.forEach(r=>this.removeReference(r,e))}Vr(t){const e=new Zt(new Qn([])),r=new No(e,t),i=new No(e,t+1),c=[];return this.Tr.forEachInRange([r,i],d=>{this.Ar(d),c.push(d.key)}),c}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new Zt(new Qn([])),r=new No(e,t),i=new No(e,t+1);let c=jn();return this.Tr.forEachInRange([r,i],d=>{c=c.add(d.key)}),c}containsKey(t){const e=new No(t,0),r=this.Pr.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class No{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return Zt.comparator(t.key,e.key)||Rn(t.pr,e.pr)}static Er(t,e){return Rn(t.pr,e.pr)||Zt.comparator(t.key,e.key)}}class Vq{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new zr(No.Ir)}checkEmpty(t){return lt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,i){const c=this.yr;this.yr++;const d=new YV(c,e,r,i);this.mutationQueue.push(d);for(const f of i)this.wr=this.wr.add(new No(f.key,c)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return lt.resolve(d)}lookupMutationBatch(t,e){return lt.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.br(e+1),c=i<0?0:i;return lt.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new No(e,0),i=new No(e,Number.POSITIVE_INFINITY),c=[];return this.wr.forEachInRange([r,i],d=>{const f=this.Sr(d.pr);c.push(f)}),lt.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new zr(Rn);return e.forEach(i=>{const c=new No(i,0),d=new No(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([c,d],f=>{r=r.add(f.pr)})}),lt.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let c=r;Zt.isDocumentKey(c)||(c=c.child(""));const d=new No(new Zt(c),0);let f=new zr(Rn);return this.wr.forEachWhile(m=>{const w=m.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(m.pr)),!0)},d),lt.resolve(this.Dr(f))}Dr(t){const e=[];return t.forEach(r=>{const i=this.Sr(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){hn(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return lt.forEach(e.mutations,i=>{const c=new No(i.key,e.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,e){const r=new No(e,0),i=this.wr.firstAfterOrEqual(r);return lt.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return lt.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Bq{constructor(t){this.vr=t,this.docs=new Zr(Zt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),c=i?i.size:0,d=this.vr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return lt.resolve(r?r.document.mutableCopy():ai.newInvalidDocument(e))}getEntries(t,e){let r=Ia();return e.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():ai.newInvalidDocument(i))}),lt.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let c=Ia();const d=e.path,f=new Zt(d.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:w,value:{document:A}}=m.getNext();if(!d.isPrefixOf(w.path))break;w.path.length>d.length+1||KR(new Vs((n=A).readTime,n.key,-1),r)<=0||(i.has(A.key)||UC(e,A))&&(c=c.insert(A.key,A.mutableCopy()))}var n;return lt.resolve(c)}getAllFromCollectionGroup(t,e,r,i){tn()}Fr(t,e){return lt.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new Uq(this)}getSize(t){return lt.resolve(this.size)}}class Uq extends A5{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),lt.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class jq{constructor(t){this.persistence=t,this.Mr=new Td(e=>Um(e),VC),this.lastRemoteSnapshotVersion=mn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new p2,this.targetCount=0,this.Lr=qm.Nn()}forEachTarget(t,e){return this.Mr.forEach((r,i)=>e(i)),lt.resolve()}getLastRemoteSnapshotVersion(t){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return lt.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Or&&(this.Or=e),lt.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new qm(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,lt.resolve()}updateTargetData(t,e){return this.qn(e),lt.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,lt.resolve()}removeTargets(t,e,r){let i=0;const c=[];return this.Mr.forEach((d,f)=>{f.sequenceNumber<=e&&null===r.get(f.targetId)&&(this.Mr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,f.targetId)),i++)}),lt.waitFor(c).next(()=>i)}getTargetCount(t){return lt.resolve(this.targetCount)}getTargetData(t,e){const r=this.Mr.get(e)||null;return lt.resolve(r)}addMatchingKeys(t,e,r){return this.Nr.dr(e,r),lt.resolve()}removeMatchingKeys(t,e,r){this.Nr.Rr(e,r);const i=this.persistence.referenceDelegate,c=[];return i&&e.forEach(d=>{c.push(i.markPotentiallyOrphaned(t,d))}),lt.waitFor(c)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),lt.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Nr.gr(e);return lt.resolve(r)}containsKey(t,e){return lt.resolve(this.Nr.containsKey(e))}}class m2{constructor(t,e){this.Br={},this.overlays={},this.kr=new Bs(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new jq(this),this.indexManager=new Aq,this.remoteDocumentCache=new Bq(r=>this.referenceDelegate.Kr(r)),this.serializer=new i5(e),this.$r=new Fq(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Lq,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.Br[t.toKey()];return r||(r=new Vq(e,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,r){Ot("MemoryPersistence","Starting transaction:",t);const i=new $q(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(c=>this.referenceDelegate.Wr(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}Gr(t,e){return lt.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,e)))}}class $q extends LV{constructor(t){super(),this.currentSequenceNumber=t}}class EO{constructor(t){this.persistence=t,this.zr=new p2,this.jr=null}static Hr(t){return new EO(t)}get Jr(){if(this.jr)return this.jr;throw tn()}addReference(t,e,r){return this.zr.addReference(r,e),this.Jr.delete(r.toString()),lt.resolve()}removeReference(t,e,r){return this.zr.removeReference(r,e),this.Jr.add(r.toString()),lt.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),lt.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(c=>this.Jr.add(c.toString()))}).next(()=>r.removeTargetData(t,e))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.Jr,r=>{const i=Zt.fromPath(r);return this.Yr(t,i).next(c=>{c||e.removeEntry(i,mn.min())})}).next(()=>(this.jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Yr(t,e).next(r=>{r?this.Jr.delete(e.toString()):this.Jr.add(e.toString())})}Kr(t){return 0}Yr(t,e){return lt.or([()=>lt.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class y2{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.qi=r,this.Qi=i}static Ki(t,e){let r=jn(),i=jn();for(const c of e.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new y2(t,e.fromCache,r,i)}}class zq{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class k5{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function bv(){return!function SF(){var n;const t=null===(n=im())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function VV(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}(gi())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,r,i){const c={result:null};return this.ji(t,e).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Hi(t,e,i,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new zq;return this.Ji(t,e,d).next(f=>{if(c.result=f,this.Ui)return this.Yi(t,e,d,f.size)})}).next(()=>c.result)}Yi(t,e,r,i){return r.documentReadCount<this.Wi?(_d()<=qn.DEBUG&&Ot("QueryEngine","SDK will not create cache indexes for query:",nb(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),lt.resolve()):(_d()<=qn.DEBUG&&Ot("QueryEngine","Query:",nb(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(_d()<=qn.DEBUG&&Ot("QueryEngine","The SDK decides to create cache indexes for query:",nb(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vs(e))):lt.resolve())}ji(t,e){if(hz(e))return lt.resolve(null);let r=vs(e);return this.indexManager.getIndexType(t,r).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=aO(e,null,"F"),r=vs(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const d=jn(...c);return this.zi.getDocuments(t,d).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const w=this.Zi(e,f);return this.Xi(e,w,d,m.readTime)?this.ji(t,aO(e,null,"F")):this.es(t,w,e,m)}))})))}Hi(t,e,r,i){return hz(e)||i.isEqual(mn.min())?lt.resolve(null):this.zi.getDocuments(t,r).next(c=>{const d=this.Zi(e,c);return this.Xi(e,d,r,i)?lt.resolve(null):(_d()<=qn.DEBUG&&Ot("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),nb(e)),this.es(t,d,e,function WR(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=mn.fromTimestamp(1e9===r?new si(e+1,0):new si(e,r));return new Vs(i,Zt.empty(),t)}(i,-1)).next(f=>f))})}Zi(t,e){let r=new zr(_z(t));return e.forEach((i,c)=>{UC(t,c)&&(r=r.add(c))}),r}Xi(t,e,r,i){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const c="F"===t.limitType?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Ji(t,e,r){return _d()<=qn.DEBUG&&Ot("QueryEngine","Using full collection scan to execute query:",nb(e)),this.zi.getDocumentsMatchingQuery(t,e,Vs.min(),r)}es(t,e,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(c=>(e.forEach(d=>{c=c.insert(d.key,d)}),c))}}class Gq{constructor(t,e,r,i){this.persistence=t,this.ts=e,this.serializer=i,this.ns=new Zr(Rn),this.rs=new Td(c=>Um(c),VC),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new O5(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ns))}}function F5(n,t){return b2.apply(this,arguments)}function b2(){return(b2=(0,x.A)(function*(n,t){const e=Xt(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(c=>(i=c,e._s(t),e.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],f=[];let m=jn();for(const w of i){d.push(w.batchId);for(const A of w.mutations)m=m.add(A.key)}for(const w of c){f.push(w.batchId);for(const A of w.mutations)m=m.add(A.key)}return e.localDocuments.getDocuments(r,m).next(w=>({us:w,removedBatchIds:d,addedBatchIds:f}))})})})).apply(this,arguments)}function L5(n){const t=Xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function qq(n,t){const e=Xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function pb(n,t,e){return E2.apply(this,arguments)}function E2(){return(E2=(0,x.A)(function*(n,t,e){const r=Xt(n),i=r.ns.get(t),c=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!bd(d))throw d;Ot("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)})).apply(this,arguments)}function CO(n,t,e){const r=Xt(n);let i=mn.min(),c=jn();return r.persistence.runTransaction("Execute query","readwrite",d=>function(m,w,A){const R=Xt(m),B=R.rs.get(A);return void 0!==B?lt.resolve(R.ns.get(B)):R.Qr.getTargetData(w,A)}(r,d,vs(t)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(d,f.targetId).next(m=>{c=m})}).next(()=>r.ts.getDocumentsMatchingQuery(d,t,e?i:mn.min(),e?c:jn())).next(f=>(function j5(n,t,e){let r=n.ss.get(t)||mn.min();e.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.ss.set(t,r)}(r,function gz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),f),{documents:f,hs:c})))}class T2{constructor(){this.activeTargetIds=function XV(){return Y9}()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class z5{constructor(){this.no=new T2,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,r){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new T2,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Yq{io(t){}shutdown(){}}class G5{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Ot("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Ot("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let AO=null;function S2(){return null===AO?AO=268435456+Math.round(2147483648*Math.random()):AO++,"0x"+AO.toString(16)}const Zq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Jq{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const bs="WebChannelConnection";class e7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+e.host,this.So=`projects/${i}/databases/${c}`,this.bo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${c}`}get Do(){return!1}Co(e,r,i,c,d){const f=S2(),m=this.vo(e,r.toUriEncodedString());Ot("RestConnection",`Sending RPC '${e}' ${f}:`,m,i);const w={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(w,c,d),this.Mo(e,m,w,i).then(A=>(Ot("RestConnection",`Received RPC '${e}' ${f}: `,A),A),A=>{throw Ls("RestConnection",`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",i),A})}xo(e,r,i,c,d,f){return this.Co(e,r,i,c,d)}Fo(e,r,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+Nm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((c,d)=>e[d]=c),i&&i.headers.forEach((c,d)=>e[d]=c)}vo(e,r){return`${this.wo}/v1/${r}:${Zq[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,e,r,i){const c=S2();return new Promise((d,f)=>{const m=new SV;m.setWithCredentials(!0),m.listenOnce(NR.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case TC.NO_ERROR:const A=m.getResponseJson();Ot(bs,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case TC.TIMEOUT:Ot(bs,`RPC '${t}' ${c} timed out`),f(new Mt(pt.DEADLINE_EXCEEDED,"Request time out"));break;case TC.HTTP_ERROR:const R=m.getStatus();if(Ot(bs,`RPC '${t}' ${c} failed with status:`,R,"response text:",m.getResponseText()),R>0){let B=m.getResponseJson();Array.isArray(B)&&(B=B[0]);const K=B?.error;if(K&&K.status&&K.message){const pe=function(he){const ht=he.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(ht)>=0?ht:pt.UNKNOWN}(K.status);f(new Mt(pe,K.message))}else f(new Mt(pt.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Mt(pt.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{Ot(bs,`RPC '${t}' ${c} completed.`)}});const w=JSON.stringify(i);Ot(bs,`RPC '${t}' ${c} sending request:`,i),m.send(e,"POST",w,r,15)})}Oo(t,e,r){const i=S2(),c=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=MV(),f=VR(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(m.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(m.xmlHttpFactory=new xV({})),this.Fo(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const A=c.join("");Ot(bs,`Creating RPC '${t}' stream ${i}: ${A}`,m);const R=d.createWebChannel(A,m);let B=!1,K=!1;const pe=new Jq({lo:he=>{K?Ot(bs,`Not sending because RPC '${t}' stream ${i} is closed:`,he):(B||(Ot(bs,`Opening RPC '${t}' stream ${i} transport.`),R.open(),B=!0),Ot(bs,`RPC '${t}' stream ${i} sending:`,he),R.send(he))},ho:()=>R.close()}),fe=(he,ht,vt)=>{he.listen(ht,Et=>{try{vt(Et)}catch(zt){setTimeout(()=>{throw zt},0)}})};return fe(R,Ky.EventType.OPEN,()=>{K||(Ot(bs,`RPC '${t}' stream ${i} transport opened.`),pe.mo())}),fe(R,Ky.EventType.CLOSE,()=>{K||(K=!0,Ot(bs,`RPC '${t}' stream ${i} transport closed`),pe.po())}),fe(R,Ky.EventType.ERROR,he=>{K||(K=!0,Ls(bs,`RPC '${t}' stream ${i} transport errored:`,he),pe.po(new Mt(pt.UNAVAILABLE,"The operation could not be completed")))}),fe(R,Ky.EventType.MESSAGE,he=>{var ht;if(!K){const vt=he.data[0];hn(!!vt);const zt=vt.error||(null===(ht=vt[0])||void 0===ht?void 0:ht.error);if(zt){Ot(bs,`RPC '${t}' stream ${i} received error:`,zt);const _n=zt.status;let an=function(we){const je=ho[we];if(void 0!==je)return Fz(je)}(_n),Ve=zt.message;void 0===an&&(an=pt.INTERNAL,Ve="Unknown error status: "+_n+" with message "+zt.message),K=!0,pe.po(new Mt(an,Ve)),R.close()}else Ot(bs,`RPC '${t}' stream ${i} received:`,vt),pe.yo(vt)}}),fe(f,LR.STAT_EVENT,he=>{he.stat===FR.PROXY?Ot(bs,`RPC '${t}' stream ${i} detected buffering proxy`):he.stat===FR.NOPROXY&&Ot(bs,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{pe.fo()},0),pe}}function SO(){return typeof document<"u"?document:null}function rD(n){return new uq(n,!0)}class x2{constructor(t,e,r=1e3,i=1.5,c=6e4){this.oi=t,this.timerId=e,this.No=r,this.Lo=i,this.Bo=c,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const e=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,e-r);i>0&&Ot("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class K5{constructor(t,e,r,i,c,d,f,m){this.oi=t,this.Go=r,this.zo=i,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new x2(t,e)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var t=this;return(0,x.A)(function*(){t.Zo()&&(yield t.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){var t=this;return(0,x.A)(function*(){if(t.Xo())return t.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,e){var r=this;return(0,x.A)(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==t?r.Yo.reset():e&&e.code===pt.RESOURCE_EXHAUSTED?(Si(e.toString()),Si("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):e&&e.code===pt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Ao(e)})()}__(){}auth(){this.state=1;const t=this.a_(this.jo),e=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===e&&this.u_(r,i)},r=>{t(()=>{const i=new Mt(pt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(t,e){const r=this.a_(this.jo);this.stream=this.l_(t,e),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){var t=this;this.state=5,this.Yo.$o((0,x.A)(function*(){t.state=0,t.start()}))}c_(t){return Ot("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return e=>{this.oi.enqueueAndForget(()=>this.jo===t?e():(Ot("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class t7 extends K5{constructor(t,e,r,i,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,d),this.serializer=c}l_(t,e){return this.connection.Oo("Listen",t,e)}onMessage(t){this.Yo.reset();const e=function fq(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(w=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:tn(),i=t.targetChange.targetIds||[],c=function(w,A){return w.useProto3Json?(hn(void 0===A||"string"==typeof A),Eo.fromBase64String(A||"")):(hn(void 0===A||A instanceof Buffer||A instanceof Uint8Array),Eo.fromUint8Array(A||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,f=d&&function(w){const A=void 0===w.code?pt.UNKNOWN:Fz(w.code);return new Mt(A,w.message||"")}(d);e=new jz(r,i,c,f||null)}else if("documentChange"in t){const r=t.documentChange,i=gu(n,r.document.name),c=Qi(r.document.updateTime),d=r.document.createTime?Qi(r.document.createTime):mn.min(),f=new Jo({mapValue:{fields:r.document.fields}}),m=ai.newFoundDocument(i,c,d,f);e=new hO(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const r=t.documentDelete,i=gu(n,r.document),c=r.readTime?Qi(r.readTime):mn.min(),d=ai.newNoDocument(i,c);e=new hO([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const r=t.documentRemove,i=gu(n,r.document);e=new hO([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return tn();{const r=t.filter,{count:i=0,unchangedNames:c}=r,d=new iq(i,c);e=new Uz(r.targetId,d)}}var w;return e}(this.serializer,t),r=function(c){if(!("targetChange"in c))return mn.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?mn.min():d.readTime?Qi(d.readTime):mn.min()}(t);return this.listener.h_(e,r)}P_(t){const e={};e.database=o2(this.serializer),e.addTarget=function(c,d){let f;const m=d.target;if(f=oO(m)?{documents:Zz(c,m)}:{query:fO(c,m)._t},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=Gz(c,d.resumeToken);const w=t2(c,d.expectedCount);null!==w&&(f.expectedCount=w)}else if(d.snapshotVersion.compareTo(mn.min())>0){f.readTime=ab(c,d.snapshotVersion.toTimestamp());const w=t2(c,d.expectedCount);null!==w&&(f.expectedCount=w)}return f}(this.serializer,t);const r=function mq(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.i_(e)}I_(t){const e={};e.database=o2(this.serializer),e.removeTarget=t,this.i_(e)}}class n7 extends K5{constructor(t,e,r,i,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,d),this.serializer=c,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,e){return this.connection.Oo("Write",t,e)}onMessage(t){if(hn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const e=function pq(n,t){return n&&n.length>0?(hn(void 0!==t),n.map(e=>function(i,c){let d=Qi(i.updateTime?i.updateTime:c);return d.isEqual(mn.min())&&(d=Qi(c)),new tq(d,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Qi(t.commitTime);return this.listener.A_(r,e)}return hn(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=o2(this.serializer),this.i_(t)}d_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>XC(this.serializer,r))};this.i_(e)}}class r7 extends class{}{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Mt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,e,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(t,r2(e,r),i,c,d)).catch(c=>{throw"FirebaseError"===c.name?(c.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Mt(pt.UNKNOWN,c.toString())})}xo(t,e,r,i,c){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.xo(t,r2(e,r),i,d,f,c)).catch(d=>{throw"FirebaseError"===d.name?(d.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Mt(pt.UNKNOWN,d.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class i7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Si(e),this.y_=!1):Ot("OnlineStateTracker",e)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class o7{constructor(t,e,r,i,c){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=c,this.O_.io(f=>{r.enqueueAndForget((0,x.A)(function*(){var m;Tf(d)&&(Ot("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,x.A)(function*(A){const R=Xt(A);R.M_.add(4),yield mb(R),R.N_.set("Unknown"),R.M_.delete(4),yield iD(R)}),function w(A){return m.apply(this,arguments)})(d))}))}),this.N_=new i7(r,i)}}function iD(n){return M2.apply(this,arguments)}function M2(){return(M2=(0,x.A)(function*(n){if(Tf(n))for(const t of n.x_)yield t(!0)})).apply(this,arguments)}function mb(n){return R2.apply(this,arguments)}function R2(){return(R2=(0,x.A)(function*(n){for(const t of n.x_)yield t(!1)})).apply(this,arguments)}function xO(n,t){const e=Xt(n);e.F_.has(t.targetId)||(e.F_.set(t.targetId,t),k2(e)?P2(e):vb(e).Xo()&&O2(e,t))}function gb(n,t){const e=Xt(n),r=vb(e);e.F_.delete(t),r.Xo()&&q5(e,t),0===e.F_.size&&(r.Xo()?r.n_():Tf(e)&&e.N_.set("Unknown"))}function O2(n,t){if(n.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}vb(n).P_(t)}function q5(n,t){n.L_.xe(t),vb(n).I_(t)}function P2(n){n.L_=new sq({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.F_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),vb(n).start(),n.N_.w_()}function k2(n){return Tf(n)&&!vb(n).Zo()&&n.F_.size>0}function Tf(n){return 0===Xt(n).M_.size}function X5(n){n.L_=void 0}function s7(n){return N2.apply(this,arguments)}function N2(){return(N2=(0,x.A)(function*(n){n.N_.set("Online")})).apply(this,arguments)}function a7(n){return F2.apply(this,arguments)}function F2(){return(F2=(0,x.A)(function*(n){n.F_.forEach((t,e)=>{O2(n,t)})})).apply(this,arguments)}function c7(n,t){return L2.apply(this,arguments)}function L2(){return(L2=(0,x.A)(function*(n,t){X5(n),k2(n)?(n.N_.D_(t),P2(n)):n.N_.set("Unknown")})).apply(this,arguments)}function l7(n,t,e){return V2.apply(this,arguments)}function V2(){return V2=(0,x.A)(function*(n,t,e){if(n.N_.set("Online"),t instanceof jz&&2===t.state&&t.cause)try{yield(r=(0,x.A)(function*(c,d){const f=d.cause;for(const m of d.targetIds)c.F_.has(m)&&(yield c.remoteSyncer.rejectListen(m,f),c.F_.delete(m),c.L_.removeTarget(m))}),function i(c,d){return r.apply(this,arguments)})(n,t)}catch(r){Ot("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield MO(n,r)}else if(t instanceof hO?n.L_.Ke(t):t instanceof Uz?n.L_.He(t):n.L_.We(t),!e.isEqual(mn.min()))try{const r=yield L5(n.localStore);e.compareTo(r)>=0&&(yield function(c,d){const f=c.L_.rt(d);return f.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const A=c.F_.get(w);A&&c.F_.set(w,A.withResumeToken(m.resumeToken,d))}}),f.targetMismatches.forEach((m,w)=>{const A=c.F_.get(m);if(!A)return;c.F_.set(m,A.withResumeToken(Eo.EMPTY_BYTE_STRING,A.snapshotVersion)),q5(c,m);const R=new Sd(A.target,m,w,A.sequenceNumber);O2(c,R)}),c.remoteSyncer.applyRemoteEvent(f)}(n,e))}catch(r){Ot("RemoteStore","Failed to raise snapshot:",r),yield MO(n,r)}var r}),V2.apply(this,arguments)}function MO(n,t,e){return B2.apply(this,arguments)}function B2(){return(B2=(0,x.A)(function*(n,t,e){if(!bd(t))throw t;n.M_.add(1),yield mb(n),n.N_.set("Offline"),e||(e=()=>L5(n.localStore)),n.asyncQueue.enqueueRetryable((0,x.A)(function*(){Ot("RemoteStore","Retrying IndexedDB access"),yield e(),n.M_.delete(1),yield iD(n)}))})).apply(this,arguments)}function Q5(n,t){return t().catch(e=>MO(n,e,t))}function _b(n){return U2.apply(this,arguments)}function U2(){return(U2=(0,x.A)(function*(n){const t=Xt(n),e=Af(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;u7(t);)try{const i=yield qq(t.localStore,r);if(null===i){0===t.v_.length&&e.n_();break}r=i.batchId,d7(t,i)}catch(i){yield MO(t,i)}Y5(t)&&Z5(t)})).apply(this,arguments)}function u7(n){return Tf(n)&&n.v_.length<10}function d7(n,t){n.v_.push(t);const e=Af(n);e.Xo()&&e.E_&&e.d_(t.mutations)}function Y5(n){return Tf(n)&&!Af(n).Zo()&&n.v_.length>0}function Z5(n){Af(n).start()}function h7(n){return j2.apply(this,arguments)}function j2(){return(j2=(0,x.A)(function*(n){Af(n).V_()})).apply(this,arguments)}function f7(n){return $2.apply(this,arguments)}function $2(){return($2=(0,x.A)(function*(n){const t=Af(n);for(const e of n.v_)t.d_(e.mutations)})).apply(this,arguments)}function p7(n,t,e){return H2.apply(this,arguments)}function H2(){return(H2=(0,x.A)(function*(n,t,e){const r=n.v_.shift(),i=ZV.from(r,t,e);yield Q5(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield _b(n)})).apply(this,arguments)}function m7(n,t){return z2.apply(this,arguments)}function z2(){return z2=(0,x.A)(function*(n,t){var e;t&&Af(n).E_&&(yield(e=(0,x.A)(function*(i,c){if(Nz(f=c.code)&&f!==pt.ABORTED){const d=i.v_.shift();Af(i).t_(),yield Q5(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,c)),yield _b(i)}var f}),function r(i,c){return e.apply(this,arguments)})(n,t)),Y5(n)&&Z5(n)}),z2.apply(this,arguments)}function J5(n,t){return G2.apply(this,arguments)}function G2(){return(G2=(0,x.A)(function*(n,t){const e=Xt(n);e.asyncQueue.verifyOperationInProgress(),Ot("RemoteStore","RemoteStore received new credentials");const r=Tf(e);e.M_.add(3),yield mb(e),r&&e.N_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.M_.delete(3),yield iD(e)})).apply(this,arguments)}function W2(n,t){return K2.apply(this,arguments)}function K2(){return(K2=(0,x.A)(function*(n,t){const e=Xt(n);t?(e.M_.delete(2),yield iD(e)):t||(e.M_.add(2),yield mb(e),e.N_.set("Unknown"))})).apply(this,arguments)}function vb(n){return n.B_||(n.B_=function(e,r,i){const c=Xt(e);return c.f_(),new t7(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{Po:s7.bind(null,n),To:a7.bind(null,n),Ao:c7.bind(null,n),h_:l7.bind(null,n)}),n.x_.push(function(){var t=(0,x.A)(function*(e){e?(n.B_.t_(),k2(n)?P2(n):n.N_.set("Unknown")):(yield n.B_.stop(),X5(n))});return function(e){return t.apply(this,arguments)}}())),n.B_}function Af(n){return n.k_||(n.k_=function(e,r,i){const c=Xt(e);return c.f_(),new n7(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:h7.bind(null,n),Ao:m7.bind(null,n),R_:f7.bind(null,n),A_:p7.bind(null,n)}),n.x_.push(function(){var t=(0,x.A)(function*(e){e?(n.k_.t_(),yield _b(n)):(yield n.k_.stop(),n.v_.length>0&&(Ot("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(e){return t.apply(this,arguments)}}())),n.k_}class q2{constructor(t,e,r,i,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,c){const d=Date.now()+r,f=new q2(t,e,d,i,c);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Mt(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yb(n,t){if(Si("AsyncQueue",`${t}: ${n}`),bd(n))return new Mt(pt.UNAVAILABLE,`${t}: ${n}`);throw n}class bb{constructor(t){this.comparator=t?(e,r)=>t(e,r)||Zt.comparator(e.key,r.key):(e,r)=>Zt.comparator(e.key,r.key),this.keyedMap=jC(),this.sortedSet=new Zr(this.comparator)}static emptySet(t){return new bb(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof bb)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new bb;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class eG{constructor(){this.q_=new Zr(Zt.comparator)}track(t){const e=t.doc.key,r=this.q_.get(e);r?0!==t.type&&3===r.type?this.q_=this.q_.insert(e,t):3===t.type&&1!==r.type?this.q_=this.q_.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.q_=this.q_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.q_=this.q_.remove(e):1===t.type&&2===r.type?this.q_=this.q_.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):tn():this.q_=this.q_.insert(e,t)}Q_(){const t=[];return this.q_.inorderTraversal((e,r)=>{t.push(r)}),t}}class Eb{constructor(t,e,r,i,c,d,f,m,w){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=w}static fromInitialDocuments(t,e,r,i,c){const d=[];return e.forEach(f=>{d.push({type:0,doc:f})}),new Eb(t,e,bb.emptySet(e),d,r,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&BC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class g7{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class _7{constructor(){this.queries=new Td(t=>mz(t),BC),this.onlineState="Unknown",this.z_=new Set}}function X2(n,t){return Q2.apply(this,arguments)}function Q2(){return(Q2=(0,x.A)(function*(n,t){const e=Xt(n);let r=3;const i=t.query;let c=e.queries.get(i);c?!c.W_()&&t.G_()&&(r=2):(c=new g7,r=t.G_()?0:1);try{switch(r){case 0:c.K_=yield e.onListen(i,!0);break;case 1:c.K_=yield e.onListen(i,!1);break;case 2:yield e.onFirstRemoteStoreListen(i)}}catch(d){const f=yb(d,`Initialization of query '${nb(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,c),c.U_.push(t),t.j_(e.onlineState),c.K_&&t.H_(c.K_)&&J2(e)})).apply(this,arguments)}function Y2(n,t){return Z2.apply(this,arguments)}function Z2(){return(Z2=(0,x.A)(function*(n,t){const e=Xt(n),r=t.query;let i=3;const c=e.queries.get(r);if(c){const d=c.U_.indexOf(t);d>=0&&(c.U_.splice(d,1),0===c.U_.length?i=t.G_()?0:1:!c.W_()&&t.G_()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function v7(n,t){const e=Xt(n);let r=!1;for(const i of t){const d=e.queries.get(i.query);if(d){for(const f of d.U_)f.H_(i)&&(r=!0);d.K_=i}}r&&J2(e)}function y7(n,t,e){const r=Xt(n),i=r.queries.get(t);if(i)for(const c of i.U_)c.onError(e);r.queries.delete(t)}function J2(n){n.z_.forEach(t=>{t.next()})}var eB,tG;(tG=eB||(eB={})).J_="default",tG.Cache="cache";class tB{constructor(t,e,r){this.query=t,this.Y_=e,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new Eb(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),e=!0):this.ta(t,this.onlineState)&&(this.na(t),e=!0),this.X_=t,e}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let e=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),e=!0),e}ta(t,e){return!t.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ea(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(t){t=Eb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==eB.Cache}}class iG{constructor(t){this.key=t}}class oG{constructor(t){this.key=t}}class sG{constructor(t,e){this.query=t,this.la=e,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=jn(),this.mutatedKeys=jn(),this.Ia=_z(t),this.Ta=new bb(this.Ia)}get Ea(){return this.la}da(t,e){const r=e?e.Aa:new eG,i=e?e.Ta:this.Ta;let c=e?e.mutatedKeys:this.mutatedKeys,d=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((A,R)=>{const B=i.get(A),K=UC(this.query,R)?R:null,pe=!!B&&this.mutatedKeys.has(B.key),fe=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let he=!1;B&&K?B.data.isEqual(K.data)?pe!==fe&&(r.track({type:3,doc:K}),he=!0):this.Ra(B,K)||(r.track({type:2,doc:K}),he=!0,(m&&this.Ia(K,m)>0||w&&this.Ia(K,w)<0)&&(f=!0)):!B&&K?(r.track({type:0,doc:K}),he=!0):B&&!K&&(r.track({type:1,doc:B}),he=!0,(m||w)&&(f=!0)),he&&(K?(d=d.add(K),c=fe?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{Ta:d,Aa:r,Xi:f,mutatedKeys:c}}Ra(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){const c=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const d=t.Aa.Q_();d.sort((A,R)=>function(K,pe){const fe=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return fe(K)-fe(pe)}(A.type,R.type)||this.Ia(A.doc,R.doc)),this.Va(r),i=null!=i&&i;const f=e&&!i?this.ma():[],m=0===this.Pa.size&&this.current&&!i?1:0,w=m!==this.ha;return this.ha=m,0!==d.length||w?{snapshot:new Eb(this.query,t.Ta,c,d,t.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:f}:{fa:f}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new eG,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(e=>this.la=this.la.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.la=this.la.delete(e)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=jn(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const e=[];return t.forEach(r=>{this.Pa.has(r)||e.push(new oG(r))}),this.Pa.forEach(r=>{t.has(r)||e.push(new iG(r))}),e}pa(t){this.la=t.hs,this.Pa=jn();const e=this.da(t.documents);return this.applyChanges(e,!0)}ya(){return Eb.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class w7{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class I7{constructor(t){this.key=t,this.wa=!1}}class C7{constructor(t,e,r,i,c,d){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Sa={},this.ba=new Td(f=>mz(f),BC),this.Da=new Map,this.Ca=new Set,this.va=new Zr(Zt.comparator),this.Fa=new Map,this.Ma=new p2,this.xa={},this.Oa=new Map,this.Na=qm.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function D7(n,t){return nB.apply(this,arguments)}function nB(){return(nB=(0,x.A)(function*(n,t,e=!0){const r=RO(n);let i;const c=r.ba.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),i=c.view.ya()):i=yield aG(r,t,e,!0),i})).apply(this,arguments)}function T7(n,t){return rB.apply(this,arguments)}function rB(){return(rB=(0,x.A)(function*(n,t){const e=RO(n);yield aG(e,t,!0,!1)})).apply(this,arguments)}function aG(n,t,e,r){return iB.apply(this,arguments)}function iB(){return(iB=(0,x.A)(function*(n,t,e,r){const i=yield function fb(n,t){const e=Xt(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Qr.getTargetData(r,t).next(c=>c?(i=c,lt.resolve(i)):e.Qr.allocateTargetId(r).next(d=>(i=new Sd(t,d,"TargetPurposeListen",r.currentSequenceNumber),e.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.ns=e.ns.insert(r.targetId,r),e.rs.set(t,r.targetId)),r})}(n.localStore,vs(t)),c=i.targetId,d=e?n.sharedClientState.addLocalQueryTarget(c):"not-current";let f;return r&&(f=yield function oB(n,t,e,r,i){return sB.apply(this,arguments)}(n,t,c,"current"===d,i.resumeToken)),n.isPrimaryClient&&e&&xO(n.remoteStore,i),f})).apply(this,arguments)}function sB(){return sB=(0,x.A)(function*(n,t,e,r,i){n.Ba=(R,B,K)=>{return(pe=(0,x.A)(function*(he,ht,vt,Et){let zt=ht.view.da(vt);zt.Xi&&(zt=yield CO(he.localStore,ht.query,!1).then(({documents:le})=>ht.view.da(le,zt)));const _n=Et&&Et.targetChanges.get(ht.targetId),an=Et&&null!=Et.targetMismatches.get(ht.targetId),Ve=ht.view.applyChanges(zt,he.isPrimaryClient,_n,an);return _B(he,ht.targetId,Ve.fa),Ve.snapshot}),function fe(he,ht,vt,Et){return pe.apply(this,arguments)})(n,R,B,K);var pe};const c=yield CO(n.localStore,t,!0),d=new sG(t,c.hs),f=d.da(c.documents),m=KC.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState,i),w=d.applyChanges(f,n.isPrimaryClient,m);_B(n,e,w.fa);const A=new w7(t,e,d);return n.ba.set(t,A),n.Da.has(e)?n.Da.get(e).push(t):n.Da.set(e,[t]),w.snapshot}),sB.apply(this,arguments)}function A7(n,t,e){return aB.apply(this,arguments)}function aB(){return(aB=(0,x.A)(function*(n,t,e){const r=Xt(n),i=r.ba.get(t),c=r.Da.get(i.targetId);if(c.length>1)return r.Da.set(i.targetId,c.filter(d=>!BC(d,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield pb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),e&&gb(r.remoteStore,i.targetId),wb(r,i.targetId)}).catch(fu))):(wb(r,i.targetId),yield pb(r.localStore,i.targetId,!0))})).apply(this,arguments)}function S7(n,t){return cB.apply(this,arguments)}function cB(){return(cB=(0,x.A)(function*(n,t){const e=Xt(n),r=e.ba.get(t),i=e.Da.get(r.targetId);e.isPrimaryClient&&1===i.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),gb(e.remoteStore,r.targetId))})).apply(this,arguments)}function lB(){return(lB=(0,x.A)(function*(n,t,e){const r=function SB(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=R7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=O7.bind(null,t),t}(n);try{const i=yield function(d,f){const m=Xt(d),w=si.now(),A=f.reduce((K,pe)=>K.add(pe.key),jn());let R,B;return m.persistence.runTransaction("Locally write mutations","readwrite",K=>{let pe=Ia(),fe=jn();return m.os.getEntries(K,A).next(he=>{pe=he,pe.forEach((ht,vt)=>{vt.isValidDocument()||(fe=fe.add(ht))})}).next(()=>m.localDocuments.getOverlayedDocuments(K,pe)).next(he=>{R=he;const ht=[];for(const vt of f){const Et=rq(vt,R.get(vt.key).overlayedDocument);null!=Et&&ht.push(new Ad(vt.key,Et,J3(Et.value.mapValue),vi.exists(!0)))}return m.mutationQueue.addMutationBatch(K,w,ht,f)}).next(he=>{B=he;const ht=he.applyToLocalDocumentSet(R,fe);return m.documentOverlayCache.saveOverlays(K,he.batchId,ht)})}).then(()=>({batchId:B.batchId,changes:yz(R)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(d,f,m){let w=d.xa[d.currentUser.toKey()];w||(w=new Zr(Rn)),w=w.insert(f,m),d.xa[d.currentUser.toKey()]=w}(r,i.batchId,e),yield xd(r,i.changes),yield _b(r.remoteStore)}catch(i){const c=yb(i,"Failed to persist write");e.reject(c)}})).apply(this,arguments)}function cG(n,t){return uB.apply(this,arguments)}function uB(){return(uB=(0,x.A)(function*(n,t){const e=Xt(n);try{const r=yield function Kq(n,t){const e=Xt(n),r=t.snapshotVersion;let i=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=e.os.newChangeBuffer({trackRemovals:!0});i=e.ns;const f=[];t.targetChanges.forEach((A,R)=>{const B=i.get(R);if(!B)return;f.push(e.Qr.removeMatchingKeys(c,A.removedDocuments,R).next(()=>e.Qr.addMatchingKeys(c,A.addedDocuments,R)));let K=B.withSequenceNumber(c.currentSequenceNumber);var fe,he,ht;null!==t.targetMismatches.get(R)?K=K.withResumeToken(Eo.EMPTY_BYTE_STRING,mn.min()).withLastLimboFreeSnapshotVersion(mn.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,r)),i=i.insert(R,K),he=K,ht=A,(0===(fe=B).resumeToken.approximateByteSize()||he.snapshotVersion.toMicroseconds()-fe.snapshotVersion.toMicroseconds()>=3e8||ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0)&&f.push(e.Qr.updateTargetData(c,K))});let m=Ia(),w=jn();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(c,A))}),f.push(function V5(n,t,e){let r=jn(),i=jn();return e.forEach(c=>r=r.add(c)),t.getEntries(n,r).next(c=>{let d=Ia();return e.forEach((f,m)=>{const w=c.get(f);m.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(mn.min())?(t.removeEntry(f,m.readTime),d=d.insert(f,m)):!w.isValidDocument()||m.version.compareTo(w.version)>0||0===m.version.compareTo(w.version)&&w.hasPendingWrites?(t.addEntry(m),d=d.insert(f,m)):Ot("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",m.version)}),{cs:d,ls:i}})}(c,d,t.documentUpdates).next(A=>{m=A.cs,w=A.ls})),!r.isEqual(mn.min())){const A=e.Qr.getLastRemoteSnapshotVersion(c).next(R=>e.Qr.setTargetsMetadata(c,c.currentSequenceNumber,r));f.push(A)}return lt.waitFor(f).next(()=>d.apply(c)).next(()=>e.localDocuments.getLocalViewOfDocuments(c,m,w)).next(()=>m)}).then(c=>(e.ns=i,c))}(e.localStore,t);t.targetChanges.forEach((i,c)=>{const d=e.Fa.get(c);d&&(hn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.wa=!0:i.modifiedDocuments.size>0?hn(d.wa):i.removedDocuments.size>0&&(hn(d.wa),d.wa=!1))}),yield xd(e,r,t)}catch(r){yield fu(r)}})).apply(this,arguments)}function lG(n,t,e){const r=Xt(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.ba.forEach((c,d)=>{const f=d.view.j_(t);f.snapshot&&i.push(f.snapshot)}),function(d,f){const m=Xt(d);m.onlineState=f;let w=!1;m.queries.forEach((A,R)=>{for(const B of R.U_)B.j_(f)&&(w=!0)}),w&&J2(m)}(r.eventManager,t),i.length&&r.Sa.h_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function M7(n,t,e){return dB.apply(this,arguments)}function dB(){return(dB=(0,x.A)(function*(n,t,e){const r=Xt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.Fa.get(t),c=i&&i.key;if(c){let d=new Zr(Zt.comparator);d=d.insert(c,ai.newNoDocument(c,mn.min()));const f=jn().add(c),m=new WC(mn.min(),new Map,new Zr(Rn),d,f);yield cG(r,m),r.va=r.va.remove(c),r.Fa.delete(t),vB(r)}else yield pb(r.localStore,t,!1).then(()=>wb(r,t,e)).catch(fu)})).apply(this,arguments)}function R7(n,t){return hB.apply(this,arguments)}function hB(){return(hB=(0,x.A)(function*(n,t){const e=Xt(n),r=t.batch.batchId;try{const i=yield function Wq(n,t){const e=Xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),c=e.os.newChangeBuffer({trackRemovals:!0});return function(f,m,w,A){const R=w.batch,B=R.keys();let K=lt.resolve();return B.forEach(pe=>{K=K.next(()=>A.getEntry(m,pe)).next(fe=>{const he=w.docVersions.get(pe);hn(null!==he),fe.version.compareTo(he)<0&&(R.applyToRemoteDocument(fe,w),fe.isValidDocument()&&(fe.setReadTime(w.commitVersion),A.addEntry(fe)))})}),K.next(()=>f.mutationQueue.removeMutationBatch(m,R))}(e,r,t,c).next(()=>c.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=jn();for(let w=0;w<f.mutationResults.length;++w)f.mutationResults[w].transformResults.length>0&&(m=m.add(f.batch.mutations[w].key));return m}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}(e.localStore,t);gB(e,r,null),mB(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield xd(e,i)}catch(i){yield fu(i)}})).apply(this,arguments)}function O7(n,t,e){return fB.apply(this,arguments)}function fB(){return(fB=(0,x.A)(function*(n,t,e){const r=Xt(n);try{const i=yield function(d,f){const m=Xt(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let A;return m.mutationQueue.lookupMutationBatch(w,f).next(R=>(hn(null!==R),A=R.keys(),m.mutationQueue.removeMutationBatch(w,R))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,A,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,A)).next(()=>m.localDocuments.getDocuments(w,A))})}(r.localStore,t);gB(r,t,e),mB(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield xd(r,i)}catch(i){yield fu(i)}})).apply(this,arguments)}function pB(){return(pB=(0,x.A)(function*(n,t){const e=Xt(n);Tf(e.remoteStore)||Ot("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(d){const f=Xt(d);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.mutationQueue.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===r)return void t.resolve();const i=e.Oa.get(r)||[];i.push(t),e.Oa.set(r,i)}catch(r){const i=yb(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}})).apply(this,arguments)}function mB(n,t){(n.Oa.get(t)||[]).forEach(e=>{e.resolve()}),n.Oa.delete(t)}function gB(n,t,e){const r=Xt(n);let i=r.xa[r.currentUser.toKey()];if(i){const c=i.get(t);c&&(e?c.reject(e):c.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function wb(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Da.get(t))n.ba.delete(r),e&&n.Sa.ka(r,e);n.Da.delete(t),n.isPrimaryClient&&n.Ma.Vr(t).forEach(r=>{n.Ma.containsKey(r)||uG(n,r)})}function uG(n,t){n.Ca.delete(t.path.canonicalString());const e=n.va.get(t);null!==e&&(gb(n.remoteStore,e),n.va=n.va.remove(t),n.Fa.delete(e),vB(n))}function _B(n,t,e){for(const r of e)r instanceof iG?(n.Ma.addReference(r.key,t),k7(n,r)):r instanceof oG?(Ot("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,t),n.Ma.containsKey(r.key)||uG(n,r.key)):tn()}function k7(n,t){const e=t.key,r=e.path.canonicalString();n.va.get(e)||n.Ca.has(r)||(Ot("SyncEngine","New document in limbo: "+e),n.Ca.add(r),vB(n))}function vB(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const t=n.Ca.values().next().value;n.Ca.delete(t);const e=new Zt(Qn.fromString(t)),r=n.Na.next();n.Fa.set(r,new I7(e)),n.va=n.va.insert(e,r),xO(n.remoteStore,new Sd(vs(eb(e.path)),r,"TargetPurposeLimboResolution",Bs.oe))}}function xd(n,t,e){return yB.apply(this,arguments)}function yB(){return yB=(0,x.A)(function*(n,t,e){const r=Xt(n),i=[],c=[],d=[];var f;r.ba.isEmpty()||(r.ba.forEach((f,m)=>{d.push(r.Ba(m,t,e).then(w=>{var A;if((w||e)&&r.isPrimaryClient){const R=w?!w.fromCache:null===(A=e?.targetChanges.get(m.targetId))||void 0===A?void 0:A.current;r.sharedClientState.updateQueryState(m.targetId,R?"current":"not-current")}if(w){i.push(w);const R=y2.Ki(m.targetId,w);c.push(R)}}))}),yield Promise.all(d),r.Sa.h_(i),yield(f=(0,x.A)(function*(w,A){const R=Xt(w);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",B=>lt.forEach(A,K=>lt.forEach(K.qi,pe=>R.persistence.referenceDelegate.addReference(B,K.targetId,pe)).next(()=>lt.forEach(K.Qi,pe=>R.persistence.referenceDelegate.removeReference(B,K.targetId,pe)))))}catch(B){if(!bd(B))throw B;Ot("LocalStore","Failed to update sequence numbers: "+B)}for(const B of A){const K=B.targetId;if(!B.fromCache){const pe=R.ns.get(K),he=pe.withLastLimboFreeSnapshotVersion(pe.snapshotVersion);R.ns=R.ns.insert(K,he)}}}),function m(w,A){return f.apply(this,arguments)})(r.localStore,c))}),yB.apply(this,arguments)}function N7(n,t){return bB.apply(this,arguments)}function bB(){return(bB=(0,x.A)(function*(n,t){const e=Xt(n);if(!e.currentUser.isEqual(t)){Ot("SyncEngine","User change. New user:",t.toKey());const r=yield F5(e.localStore,t);e.currentUser=t,(c=e).Oa.forEach(f=>{f.forEach(m=>{m.reject(new Mt(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Oa.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield xd(e,r.us)}var c})).apply(this,arguments)}function F7(n,t){const e=Xt(n),r=e.Fa.get(t);if(r&&r.wa)return jn().add(r.key);{let i=jn();const c=e.Da.get(t);if(!c)return i;for(const d of c){const f=e.ba.get(d);i=i.unionWith(f.view.Ea)}return i}}function RO(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=cG.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=F7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=M7.bind(null,t),t.Sa.h_=v7.bind(null,t.eventManager),t.Sa.ka=y7.bind(null,t.eventManager),t}class Ib{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,x.A)(function*(){e.serializer=rD(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function N5(n,t,e,r){return new Gq(n,t,e,r)}(this.persistence,new k5,t.initialUser,this.serializer)}createPersistence(t){return new m2(EO.Hr,this.serializer)}createSharedClientState(t){return new z5}terminate(){var t=this;return(0,x.A)(function*(){var e,r;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(r=t.indexBackfillerScheduler)||void 0===r||r.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Cb{initialize(t,e){var r=this;return(0,x.A)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>lG(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=N7.bind(null,r.syncEngine),yield W2(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new _7}createDatastore(t){const e=rD(t.databaseInfo.databaseId),r=new e7(t.databaseInfo);return new r7(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return r=this.localStore,i=this.datastore,c=t.asyncQueue,d=e=>lG(this.syncEngine,e,0),f=G5.D()?new G5:new Yq,new o7(r,i,c,d,f);var r,i,c,d,f}createSyncEngine(t,e){return function(i,c,d,f,m,w,A){const R=new C7(i,c,d,f,m,w);return A&&(R.La=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,x.A)(function*(){var e,r;yield(r=(0,x.A)(function*(c){const d=Xt(c);Ot("RemoteStore","RemoteStore shutting down."),d.M_.add(5),yield mb(d),d.O_.shutdown(),d.N_.set("Unknown")}),function i(c){return r.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate()})()}}class OO{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Si("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class K7{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,x.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Mt(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const r=yield(i=(0,x.A)(function*(d,f){const m=Xt(d),w={documents:f.map(K=>qC(m.serializer,K))},A=yield m.xo("BatchGetDocuments",m.serializer.databaseId,Qn.emptyPath(),w,f.length),R=new Map;A.forEach(K=>{const pe=function hq(n,t){return"found"in t?function(r,i){hn(!!i.found);const c=gu(r,i.found.name),d=Qi(i.found.updateTime),f=i.found.createTime?Qi(i.found.createTime):mn.min(),m=new Jo({mapValue:{fields:i.found.fields}});return ai.newFoundDocument(c,d,f,m)}(n,t):"missing"in t?function(r,i){hn(!!i.missing),hn(!!i.readTime);const c=gu(r,i.missing),d=Qi(i.readTime);return ai.newNoDocument(c,d)}(n,t):tn()}(m.serializer,K);R.set(pe.key.toString(),pe)});const B=[];return f.forEach(K=>{const pe=R.get(K.toString());hn(!!pe),B.push(pe)}),B}),function c(d,f){return i.apply(this,arguments)})(e.datastore,t);var i;return r.forEach(i=>e.recordVersion(i)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new sb(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,x.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,i)=>{const c=Zt.fromPath(i);t.mutations.push(new QV(c,t.precondition(c)))}),yield(r=(0,x.A)(function*(c,d){const f=Xt(c),m={writes:d.map(w=>XC(f.serializer,w))};yield f.Co("Commit",f.serializer.databaseId,Qn.emptyPath(),m)}),function i(c,d){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw tn();e=mn.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Mt(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(mn.min())?vi.exists(!1):vi.updateTime(e):vi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(mn.min()))throw new Mt(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vi.updateTime(e)}return vi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class q7{constructor(t,e,r,i,c){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=i,this.deferred=c,this.Za=r.maxAttempts,this.Yo=new x2(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var t=this;this.Yo.$o((0,x.A)(function*(){const e=new K7(t.datastore),r=t.tu(e);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(i)}).catch(c=>{t.nu(c)}))}).catch(i=>{t.nu(i)})}))}tu(t){try{const e=this.updateFunction(t);return!Fm(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Nz(e)}return!1}}class X7{constructor(t,e,r,i){var c=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=uo.UNAUTHENTICATED,this.clientId=SC.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,x.A)(function*(f){Ot("FirestoreClient","Received user=",f.uid),yield c.authCredentialListener(f),c.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ot("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Mt(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,x.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=yb(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function PO(n,t){return MB.apply(this,arguments)}function MB(){return MB=(0,x.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ot("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,x.A)(function*(c){r.isEqual(c)||(yield F5(t.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),MB.apply(this,arguments)}function RB(n,t){return OB.apply(this,arguments)}function OB(){return(OB=(0,x.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function PB(n){return kB.apply(this,arguments)}(n);Ot("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>J5(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>J5(t.remoteStore,i)),n._onlineComponents=t})).apply(this,arguments)}function kB(){return(kB=(0,x.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ot("FirestoreClient","Using user provided OfflineComponentProvider");try{yield PO(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function mG(n){return"FirebaseError"===n.name?n.code===pt.FAILED_PRECONDITION||n.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;Ls("Error using user provided cache. Falling back to memory cache: "+e),yield PO(n,new Ib)}}else Ot("FirestoreClient","Using default OfflineComponentProvider"),yield PO(n,new Ib);return n._offlineComponents})).apply(this,arguments)}function kO(n){return NB.apply(this,arguments)}function NB(){return(NB=(0,x.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ot("FirestoreClient","Using user provided OnlineComponentProvider"),yield RB(n,n._uninitializedComponentsProvider._online)):(Ot("FirestoreClient","Using default OnlineComponentProvider"),yield RB(n,new Cb))),n._onlineComponents})).apply(this,arguments)}function FB(n){return kO(n).then(t=>t.syncEngine)}function Tb(n){return LB.apply(this,arguments)}function LB(){return(LB=(0,x.A)(function*(n){const t=yield kO(n),e=t.eventManager;return e.onListen=D7.bind(null,t.syncEngine),e.onUnlisten=A7.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=T7.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=S7.bind(null,t.syncEngine),e})).apply(this,arguments)}function EG(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const wG=new Map;function VB(n,t,e){if(!e)throw new Mt(pt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function IG(n){if(!Zt.isDocumentKey(n))throw new Mt(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function CG(n){if(Zt.isDocumentKey(n))throw new Mt(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NO(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(r=n).constructor?r.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var r;return"function"==typeof n?"a function":tn()}function Zn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Mt(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=NO(n);throw new Mt(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class TG{constructor(t){var e,r;if(void 0===t.host){if(void 0!==t.ssl)throw new Mt(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Mt(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function aX(n,t,e,r){if(!0===t&&!0===r)throw new Mt(pt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=EG(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Mt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Mt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Mt(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class oD{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Mt(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Mt(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TG(t),void 0!==t.credentials&&(this._authCredentials=function(r){if(!r)return new UR;switch(r.type){case"firstParty":return new PV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Mt(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=wG.get(e);r&&(Ot("ComponentProvider","Removing Datastore"),wG.delete(e),r.terminate())}(this),Promise.resolve()}}class es{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new es(this.firestore,t,this._query)}}class Yi{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _u(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yi(this.firestore,t,this._key)}}class _u extends es{constructor(t,e,r){super(t,e,eb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yi(this.firestore,null,new Zt(t))}withConverter(t){return new _u(this.firestore,t,this._path)}}class uX{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new x2(this,"async_queue_retry"),this.hu=()=>{const e=SO();e&&Ot("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const t=SO();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const e=SO();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const e=new Xi;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){var t=this;return(0,x.A)(function*(){if(0!==t.su.length){try{yield t.su[0](),t.su.shift(),t.Yo.reset()}catch(e){if(!bd(e))throw e;Ot("AsyncQueue","Operation failed with retryable error: "+e)}t.su.length>0&&t.Yo.$o(()=>t.Tu())}})()}Iu(t){const e=this.iu.then(()=>(this.uu=!0,t().catch(r=>{throw this.au=r,this.uu=!1,Si("INTERNAL UNHANDLED ERROR: ",function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),f}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=e,e}enqueueAfterDelay(t,e,r){this.Pu(),this.lu.indexOf(t)>-1&&(e=0);const i=q2.createAndSchedule(this,t,e,r,c=>this.Eu(c));return this._u.push(i),i}Pu(){this.au&&tn()}verifyOperationInProgress(){}du(){var t=this;return(0,x.A)(function*(){let e;do{e=t.iu,yield e}while(e!==t.iu)})()}Au(t){for(const e of this._u)if(e.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this._u)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const e=this._u.indexOf(t);this._u.splice(e,1)}}function BB(n){return function(e,r){if("object"!=typeof e||null===e)return!1;const i=e;for(const c of["next","error","complete"])if(c in i&&"function"==typeof i[c])return!0;return!1}(n)}class Gr extends oD{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new uX,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xG(this),this._firestoreClient.terminate()}}function hX(n,t){const r="string"==typeof n?n:t||"(default)",i=fm("object"==typeof n?n:Vx(),"firestore").getImmediate({identifier:r});if(!i._initialized){const c=(n=>{const t=Dw("firestore");if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),r]:[t.substring(0,e),r]})();c&&function cX(n,t,e,r={}){var i;const c=(n=Zn(n,oD))._getSettings(),d=`${t}:${e}`;if("firestore.googleapis.com"!==c.host&&c.host!==d&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=uo.MOCK_USER;else{f=function Ju(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},n);return[nm(JSON.stringify({alg:"none",type:"JWT"})),nm(JSON.stringify(d)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Mt(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new uo(w)}n._authCredentials=new OV(new BR(f,m))}}(i,...c)}return i}function Mi(n){return n._firestoreClient||xG(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function xG(n){var t,e,r;const i=n._freezeSettings(),c=(m=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new F9(n._databaseId,m,n._persistenceKey,(A=i).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,EG(A.experimentalLongPollingOptions),A.useFetchStreams));var m,A;n._firestoreClient=new X7(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(e=i.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function UB(n){return function(e){const r=new Xi;return e.asyncQueue.enqueueAndForget((0,x.A)(function*(){return function P7(n,t){return pB.apply(this,arguments)}(yield FB(e),r)})),r.promise}(Mi(n=Zn(n,Gr)))}class Qm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qm(Eo.fromBase64String(t))}catch(e){throw new Mt(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Qm(Eo.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Ym{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Mt(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Zm{constructor(t){this._methodName=t}}class jB{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Mt(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Mt(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Rn(this._lat,t._lat)||Rn(this._long,t._long)}}const mX=/^__.*__$/;class gX{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new Ad(t,this.data,this.fieldMask,e,this.fieldTransforms):new ob(t,this.data,e,this.fieldTransforms)}}class OG{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new Ad(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function PG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class FO{constructor(t,e,r,i,c,d){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===c&&this.mu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new FO(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.gu({path:r,yu:!1});return i.wu(t),i}Su(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return BO(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(PG(this.fu)&&mX.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class _X{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||rD(t)}Fu(t,e,r,i=!1){return new FO({fu:t,methodName:e,vu:r,path:Yr.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jm(n){const t=n._freezeSettings(),e=rD(n._databaseId);return new _X(n._databaseId,!!t.ignoreUndefinedProperties,e)}function LO(n,t,e,r,i,c={}){const d=n.Fu(c.merge||c.mergeFields?2:0,t,e,i);qB("Data must be an object, but it was:",d,r);const f=FG(r,d);let m,w;if(c.merge)m=new wa(d.fieldMask),w=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const R of c.mergeFields){const B=cD(t,R,e);if(!d.contains(B))throw new Mt(pt.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);VG(A,B)||A.push(B)}m=new wa(A),w=d.fieldTransforms.filter(R=>m.covers(R.field))}else m=null,w=d.fieldTransforms;return new gX(new Jo(f),m,w)}class aD extends Zm{_toFieldTransform(t){if(2!==t.fu)throw t.Du(1===t.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof aD}}class $B extends Zm{_toFieldTransform(t){return new HC(t.path,new rb)}isEqual(t){return t instanceof $B}}function WB(n,t,e,r){const i=n.Fu(1,t,e);qB("Data must be an object, but it was:",i,r);const c=[],d=Jo.empty();cl(r,(m,w)=>{const A=VO(t,m,e);w=Vi(w);const R=i.Su(A);if(w instanceof aD)c.push(A);else{const B=eg(w,R);null!=B&&(c.push(A),d.set(A,B))}});const f=new wa(c);return new OG(d,f,i.fieldTransforms)}function KB(n,t,e,r,i,c){const d=n.Fu(1,t,e),f=[cD(t,r,e)],m=[i];if(c.length%2!=0)throw new Mt(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<c.length;B+=2)f.push(cD(t,c[B])),m.push(c[B+1]);const w=[],A=Jo.empty();for(let B=f.length-1;B>=0;--B)if(!VG(w,f[B])){const K=f[B];let pe=m[B];pe=Vi(pe);const fe=d.Su(K);if(pe instanceof aD)w.push(K);else{const he=eg(pe,fe);null!=he&&(w.push(K),A.set(K,he))}}const R=new wa(w);return new OG(A,R,d.fieldTransforms)}function eg(n,t){if(LG(n=Vi(n)))return qB("Unsupported field value:",t,n),FG(n,t);if(n instanceof Zm)return function(r,i){if(!PG(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(i);c&&i.fieldTransforms.push(c)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(r,i){const c=[];let d=0;for(const f of r){let m=eg(f,i.bu(d));null==m&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}}(n,t)}return function(r,i){if(null===(r=Vi(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Iz(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=si.fromDate(r);return{timestampValue:ab(i.serializer,c)}}if(r instanceof si){const c=new si(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ab(i.serializer,c)}}if(r instanceof jB)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qm)return{bytesValue:Gz(i.serializer,r._byteString)};if(r instanceof Yi){const c=i.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw i.Du(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:n2(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${NO(r)}`)}(n,t)}function FG(n,t){const e={};return z3(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):cl(n,(r,i)=>{const c=eg(i,t.pu(r));null!=c&&(e[r]=c)}),{mapValue:{fields:e}}}function LG(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof si||n instanceof jB||n instanceof Qm||n instanceof Yi||n instanceof Zm)}function qB(n,t,e){if(!LG(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=NO(e);throw t.Du("an object"===r?n+" a custom object":n+" "+r)}var i}function cD(n,t,e){if((t=Vi(t))instanceof Ym)return t._internalPath;if("string"==typeof t)return VO(n,t);throw BO("Field path arguments must be of type string or ",n,!1,void 0,e)}const vX=new RegExp("[~\\*/\\[\\]]");function VO(n,t,e){if(t.search(vX)>=0)throw BO(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ym(...t.split("."))._internalPath}catch{throw BO(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function BO(n,t,e,r,i){const c=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${r}`),d&&(m+=` in document ${i}`),m+=")"),new Mt(pt.INVALID_ARGUMENT,f+n+m)}function VG(n,t){return n.some(e=>e.isEqual(t))}class lD{constructor(t,e,r,i,c){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Yi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new yX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(UO("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class yX extends lD{data(){return super.data()}}function UO(n,t){return"string"==typeof t?VO(n,t):t instanceof Ym?t._internalPath:t._delegate._internalPath}function BG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Mt(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XB{}class uD extends XB{}function Ab(n,t,...e){let r=[];t instanceof XB&&r.push(t),r=r.concat(e),function(c){const d=c.filter(m=>m instanceof Sb).length,f=c.filter(m=>m instanceof dD).length;if(d>1||d>0&&f>0)throw new Mt(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class dD extends uD{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new dD(t,e,r)}_apply(t){const e=this._parse(t);return HG(t._query,e),new es(t.firestore,t.converter,qV(t._query,e))}_parse(t){const e=Jm(t.firestore);return function(c,d,f,m,w,A,R){let B;if(w.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Mt(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){$G(R,A);const K=[];for(const pe of R)K.push(jG(m,c,pe));B={arrayValue:{values:K}}}else B=jG(m,c,R)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||$G(R,A),B=function NG(n,t,e,r=!1){return eg(e,n.Fu(r?4:3,t))}(f,"where",R,"in"===A||"not-in"===A);return ir.create(w,A,B)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function jO(n,t,e){const r=t,i=UO("where",n);return dD._create(i,r,e)}class Sb extends XB{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Sb(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return 1===e.length?e[0]:Lr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,c){let d=i;const f=c.getFlattenedFilters();for(const m of f)HG(d,m),d=qV(d,m)}(t._query,e),new es(t.firestore,t.converter,qV(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class QB extends uD{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new QB(t,e)}_apply(t){const e=function(i,c,d){if(null!==i.startAt)throw new Mt(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Mt(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new LC(c,d)}(t._query,this._field,this._direction);return new es(t.firestore,t.converter,function(i,c){const d=i.explicitOrderBy.concat([c]);return new Dd(i.path,i.collectionGroup,d,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}function $O(n,t="asc"){const e=t,r=UO("orderBy",n);return QB._create(r,e)}class HO extends uD{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new HO(t,e,r)}_apply(t){return new es(t.firestore,t.converter,aO(t._query,this._limit,this._limitType))}}function zO(n){return function DG(n,t){if(t<=0)throw new Mt(pt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}("limit",n),HO._create("limit",n,"F")}function jG(n,t,e){if("string"==typeof(e=Vi(e))){if(""===e)throw new Mt(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KV(t)&&-1!==e.indexOf("/"))throw new Mt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Qn.fromString(e));if(!Zt.isDocumentKey(r))throw new Mt(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Bm(n,new Zt(r))}if(e instanceof Yi)return Bm(n,e._key);throw new Mt(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${NO(e)}.`)}function $G(n,t){if(!Array.isArray(n)||0===n.length)throw new Mt(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function HG(n,t){const e=function(i,c){for(const d of i)for(const f of d.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Mt(pt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class GG{convertValue(t,e="none"){switch(yf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ui(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Cd(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw tn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return cl(t,(i,c)=>{r[i]=this.convertValue(c,e)}),r}convertGeoPoint(t){return new jB(Ui(t.latitude),Ui(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=tO(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(PC(t));default:return null}}convertTimestamp(t){const e=Id(t);return new si(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Qn.fromString(t);hn(r5(r));const i=new Vm(r.get(1),r.get(3)),c=new Zt(r.popFirst(5));return i.isEqual(e)||Si(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),c}}function KO(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class bX extends GG{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yi(this.firestore,null,e)}}class tg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class xb extends lD{constructor(t,e,r,i,c,d){super(t,e,r,i,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new qO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(UO("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class qO extends xb{data(t={}){return super.data(t)}}class Mb{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new tg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new qO(this._firestore,this._userDataWriter,r.key,r,new tg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Mt(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,c){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map(f=>({type:"added",doc:new qO(i._firestore,i._userDataWriter,f.doc.key,f.doc,new tg(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:d++}))}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(f=>c||3!==f.type).map(f=>{const m=new qO(i._firestore,i._userDataWriter,f.doc.key,f.doc,new tg(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let w=-1,A=-1;return 0!==f.type&&(w=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),1!==f.type&&(d=d.add(f.doc),A=d.indexOf(f.doc.key)),{type:wX(f.type),doc:m,oldIndex:w,newIndex:A}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function wX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}class Sf extends GG{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Yi(this.firestore,null,e)}}function YB(n){n=Zn(n,es);const t=Zn(n.firestore,Gr),e=Mi(t),r=new Sf(t);return BG(n._query),function bG(n,t,e={}){const r=new Xi;return n.asyncQueue.enqueueAndForget((0,x.A)(function*(){return function(c,d,f,m,w){const A=new OO({next:B=>{d.enqueueAndForget(()=>Y2(c,R)),B.fromCache&&"server"===m.source?w.reject(new Mt(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(B)},error:B=>w.reject(B)}),R=new tB(f,A,{includeMetadataChanges:!0,ra:!0});return X2(c,R)}(yield Tb(n),n.asyncQueue,t,e,r)})),r.promise}(e,n._query).then(i=>new Mb(t,r,n,i))}const OX={maxAttempts:5};class PX{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Jm(t)}set(t,e,r){this._verifyNotCommitted();const i=xf(t,this._firestore),c=KO(i.converter,e,r),d=LO(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,vi.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const c=xf(t,this._firestore);let d;return d="string"==typeof(e=Vi(e))||e instanceof Ym?KB(this._dataReader,"WriteBatch.update",c._key,e,r,i):WB(this._dataReader,"WriteBatch.update",c._key,e),this._mutations.push(d.toMutation(c._key,vi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=xf(t,this._firestore);return this._mutations=this._mutations.concat(new sb(e._key,vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Mt(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xf(n,t){if((n=Vi(n)).firestore!==t)throw new Mt(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class kX extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=Jm(e)}get(e){const r=xf(e,this._firestore),i=new bX(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return tn();const d=c[0];if(d.isFoundDocument())return new lD(this._firestore,i,d.key,d,r.converter);if(d.isNoDocument())return new lD(this._firestore,i,r._key,null,r.converter);throw tn()})}set(e,r,i){const c=xf(e,this._firestore),d=KO(c.converter,r,i),f=LO(this._dataReader,"Transaction.set",c._key,d,null!==c.converter,i);return this._transaction.set(c._key,f),this}update(e,r,i,...c){const d=xf(e,this._firestore);let f;return f="string"==typeof(r=Vi(r))||r instanceof Ym?KB(this._dataReader,"Transaction.update",d._key,r,i,c):WB(this._dataReader,"Transaction.update",d._key,r),this._transaction.update(d._key,f),this}delete(e){const r=xf(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=xf(t,this._firestore),r=new Sf(this._firestore);return super.get(t).then(i=>new xb(this._firestore,r,e._key,i._document,new tg(!1,!1),e.converter))}}function WG(n,t,e){n=Zn(n,Gr);const r=Object.assign(Object.assign({},OX),e);return function(c){if(c.maxAttempts<1)throw new Mt(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(c,d,f){const m=new Xi;return c.asyncQueue.enqueueAndForget((0,x.A)(function*(){const w=yield function vG(n){return kO(n).then(t=>t.datastore)}(c);new q7(c.asyncQueue,w,f,d,m).Xa()})),m.promise}(Mi(n),i=>t(new kX(n,i)),r)}!function(t,e=!0){Nm=Zh,Yh(new Jl("firestore",(r,{instanceIdentifier:i,options:c})=>{const d=r.getProvider("app").getImmediate(),f=new Gr(new jR(r.getProvider("auth-internal")),new kV(r.getProvider("app-check-internal")),function(w,A){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Mt(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vm(w.options.projectId,A)}(d,i),d);return c=Object.assign({useFetchStreams:e},c),f._setSettings(c),f},"PUBLIC").setMultipleInstances(!0)),za(AC,"4.6.4",t),za(AC,"4.6.4","esm2017")}();var yi=function(n){return n.USER_STATE="user_state",n.STORIES="stories",n.CHAPTERS="chapters",n}(yi||{});const $X={user_state:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},chapters:{type:"array"}},required:["id","name"]}},stories:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},languages:{type:"array"},description:{type:"string"}},required:["id","name","languages"]}},chapters:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},chapter_number:{type:"number"},story_id:{type:"string"},name:{type:"string"},language:{type:"string"},is_premium:{type:"boolean"},author:{type:"string"},pages:{type:"array"},description:{type:"string"},empathy_name:{type:"string"},sympathy_name:{type:"string"}},required:["id","chapter_number","story_id","name","language","empathy_name","sympathy_name"]}}},QG={apiKey:"AIzaSyBnagIv1jnnkGEMASLY3bJIrc5Iuz-Syks",authDomain:"empathy-7224d.firebaseapp.com",projectId:"empathy-7224d",storageBucket:"empathy-7224d.appspot.com",messagingSenderId:"957387697152",appId:"1:957387697152:web:a2fd71b0ac7fc060703ce5",measurementId:"G-WBFW0YBS26"};var zX=O(6719),Ka=O(7176),Ri=O(8663),Us=O(6434),eU=O(203);Promise.resolve(!1);var WX=Promise.resolve(!0),Md=Promise.resolve();function ng(n,t){return n||(n=0),new Promise(function(e){return setTimeout(function(){return e(t)},n)})}function fD(){return Math.random().toString(36).substring(2)}var tU=0;function pD(){var n=1e3*Date.now();return n<=tU&&(n=tU+1),tU=n,n}var ZX="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)?function QX(n){process.on("exit",function(){return n()}),process.on("beforeExit",function(){return n().then(function(){return process.exit()})}),process.on("SIGINT",function(){return n().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return n().then(function(){console.trace(t),process.exit(101)})})}:function XX(n){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return n(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){n()},!0),window.addEventListener("unload",function(){n()},!0)}},rg=new Set,YG=!1;function tQ(){var n=[];return rg.forEach(function(t){n.push(t()),rg.delete(t)}),Promise.all(n)}function ig(n,t){return n.broadcastChannel.postInternal({context:"leader",action:t,token:n.token})}function ZG(n){n.isLeader=!0,n._hasLeader=!0;var t=function eQ(n){if(function JX(){YG||(YG=!0,ZX(tQ))}(),"function"!=typeof n)throw new Error("Listener is no function");return rg.add(n),{remove:function(){return rg.delete(n)},run:function(){return rg.delete(n),n()}}}(function(){return n.die()});n._unl.push(t);var e=function(i){"leader"===i.context&&"apply"===i.action&&ig(n,"tell"),"leader"===i.context&&"tell"===i.action&&!n._dpLC&&(n._dpLC=!0,n._dpL(),ig(n,"tell"))};return n.broadcastChannel.addEventListener("internal",e),n._lstns.push(e),ig(n,"tell")}var JG=function(t,e){var r=this;this.broadcastChannel=t,t._befC.push(function(){return r.die()}),this._options=e,this.isLeader=!1,this.isDead=!1,this.token=fD(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};JG.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(e){var r=e.held?e.held.filter(function(i){return i.name===t.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var e=new Promise(function(r,i){t._wKMC.res=r,t._wKMC.rej=i});this._wLMP=new Promise(function(r){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,ZG(t),r(),e}).catch(function(){})})}return this._wLMP},set onduplicate(n){},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),ig(this,"death")}};var e8=function(t,e){var r=this;this.broadcastChannel=t,this._options=e,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=fD(),this._aplQ=Md,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(d){"leader"===d.context&&("death"===d.action&&(r._hasLeader=!1),"tell"===d.action&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};e8.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var e=this;return this.isLeader?ng(0,!0):this.isDead?ng(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return function(){if(e.isLeader)return WX;var d,c=!1,f=new Promise(function(A){d=function(){c=!0,A()}}),m=function(R){"leader"===R.context&&R.token!=e.token&&("apply"===R.action&&R.token>e.token&&d(),"tell"===R.action&&(d(),e._hasLeader=!0))};e.broadcastChannel.addEventListener("internal",m);var w=t?4*e._options.responseTime:e._options.responseTime;return ig(e,"apply").then(function(){return Promise.race([ng(w),f.then(function(){return Promise.reject(new Error)})])}).then(function(){return ig(e,"apply")}).then(function(){return Promise.race([ng(w),f.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return e.broadcastChannel.removeEventListener("internal",m),!c&&ZG(e).then(function(){return!0})})}()}).then(function(){e._aplQC=e._aplQC-1}),this._aplQ.then(function(){return e.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function nQ(n){return n.isLeader?Md:new Promise(function(t){var e=!1;function r(){e||(e=!0,n.broadcastChannel.removeEventListener("internal",c),t(!0))}n.applyOnce().then(function(){n.isLeader&&r()}),function d(){return ng(n._options.fallbackInterval).then(function(){if(!n.isDead&&!e){if(!n.isLeader)return n.applyOnce(!0).then(function(){n.isLeader?r():d()});r()}})}();var c=function(f){"leader"===f.context&&"death"===f.action&&(n._hasLeader=!1,n.applyOnce().then(function(){n.isLeader&&r()}))};n.broadcastChannel.addEventListener("internal",c),n._lstns.push(c)})}(this)),this._aLP},set onduplicate(n){this._dpL=n},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,ig(this,"death")}};const{isArray:oQ}=Array;var _Q={create:function dQ(n){var t={time:pD(),messagesCallback:null,bc:new BroadcastChannel(n),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function hQ(n){n.bc.close(),n.subFns=[]},onMessage:function pQ(n,t){n.messagesCallback=t},postMessage:function fQ(n,t){try{return n.bc.postMessage(t,!1),Md}catch(e){return Promise.reject(e)}},canBeUsed:function mQ(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&"function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function gQ(){return 150},microSeconds:pD},t8=O(9556);function nU(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(n));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),n.idb&&"function"==typeof n.idb.onclose&&(t.idb.onclose=n.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),n.methods&&(t.methods=n.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var ll="messages",mD={durability:"relaxed"};function n8(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function QO(n){n.commit&&n.commit()}function r8(n){n.closed||i8(n).then(function(){return ng(n.options.idb.fallbackInterval)}).then(function(){return r8(n)})}function i8(n){return n.closed||!n.messagesCallback?Md:function IQ(n,t){var e=n.transaction(ll,"readonly",mD),r=e.objectStore(ll),i=[],c=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var d=r.getAll(c);return new Promise(function(m,w){d.onerror=function(A){return w(A)},d.onsuccess=function(A){m(A.target.result)}})}return new Promise(function(m,w){var A=function f(){try{return c=IDBKeyRange.bound(t+1,1/0),r.openCursor(c)}catch{return r.openCursor()}}();A.onerror=function(R){return w(R)},A.onsuccess=function(R){var B=R.target.result;B?B.value.id<t+1?B.continue(t+1):(i.push(B.value),B.continue()):(QO(e),m(i))}})}(n.db,n.lastCursorId).then(function(t){var e=t.filter(function(r){return!!r}).map(function(r){return r.id>n.lastCursorId&&(n.lastCursorId=r.id),r}).filter(function(r){return function SQ(n,t){return!(n.uuid===t.uuid||t.eMIs.has(n.id)||n.data.time<t.messagesCallbackTime)}(r,n)}).sort(function(r,i){return r.time-i.time});return e.forEach(function(r){n.messagesCallback&&(n.eMIs.add(r.id),n.messagesCallback(r.data))}),Md})}var kQ={create:function AQ(n,t){return t=nU(t),function EQ(n){var r=n8().open("pubkey.broadcast-channel-0-"+n);return r.onupgradeneeded=function(i){i.target.result.createObjectStore(ll,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,c){r.onerror=function(d){return c(d)},r.onsuccess=function(){i(r.result)}})}(n).then(function(e){var r={closed:!1,lastCursorId:0,channelName:n,options:t,uuid:fD(),eMIs:new t8.p4(2*t.idb.ttl),writeBlockPromise:Md,messagesCallback:null,readQueuePromises:[],db:e};return e.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},r8(r),r})},close:function xQ(n){n.closed=!0,n.db.close()},onMessage:function RQ(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t,i8(n)},postMessage:function MQ(n,t){return n.writeBlockPromise=n.writeBlockPromise.then(function(){return function wQ(n,t,e){var i={uuid:t,time:Date.now(),data:e},c=n.transaction([ll],"readwrite",mD);return new Promise(function(d,f){c.oncomplete=function(){return d()},c.onerror=function(w){return f(w)},c.objectStore(ll).add(i),QO(c)})}(n.db,n.uuid,t)}).then(function(){0===function KX(n,t){return Math.floor(Math.random()*(t-n+1)+n)}(0,10)&&function TQ(n){return function DQ(n,t){var e=Date.now()-t,r=n.transaction(ll,"readonly",mD),i=r.objectStore(ll),c=[];return new Promise(function(d){i.openCursor().onsuccess=function(f){var m=f.target.result;if(m){var w=m.value;w.time<e?(c.push(w),m.continue()):(QO(r),d(c))}else d(c)}})}(n.db,n.options.idb.ttl).then(function(t){return function CQ(n,t){if(n.closed)return Promise.resolve([]);var r=n.db.transaction(ll,"readwrite",mD).objectStore(ll);return Promise.all(t.map(function(i){var c=r.delete(i);return new Promise(function(d){c.onsuccess=function(){return d()}})}))}(n,t.map(function(e){return e.id}))})}(n)}),n.writeBlockPromise},canBeUsed:function OQ(){return!!n8()},type:"idb",averageResponseTime:function PQ(n){return 2*n.idb.fallbackInterval},microSeconds:pD};function o8(){var n;if(typeof window>"u")return null;try{n=window.localStorage,n=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return n}function s8(n){return"pubkey.broadcastChannel-"+n}function a8(){var n=o8();if(!n)return!1;try{var t="__broadcastchannel_check";n.setItem(t,"works"),n.removeItem(t)}catch{return!1}return!0}var GQ={create:function jQ(n,t){if(t=nU(t),!a8())throw new Error("BroadcastChannel: localstorage cannot be used");var e=fD(),r=new t8.p4(t.localstorage.removeTimeout),i={channelName:n,uuid:e,eMIs:r};return i.listener=function BQ(n,t){var e=s8(n),r=function(c){c.key===e&&t(JSON.parse(c.newValue))};return window.addEventListener("storage",r),r}(n,function(c){i.messagesCallback&&c.uuid!==e&&(!c.token||r.has(c.token)||c.data.time&&c.data.time<i.messagesCallbackTime||(r.add(c.token),i.messagesCallback(c.data)))}),i},close:function $Q(n){!function UQ(n){window.removeEventListener("storage",n)}(n.listener)},onMessage:function HQ(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t},postMessage:function VQ(n,t){return new Promise(function(e){ng().then(function(){var r=s8(n.channelName),i={token:fD(),time:Date.now(),data:t,uuid:n.uuid},c=JSON.stringify(i);o8().setItem(r,c);var d=document.createEvent("Event");d.initEvent("storage",!0,!0),d.key=r,d.newValue=c,window.dispatchEvent(d),e()})})},canBeUsed:a8,type:"localstorage",averageResponseTime:function zQ(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:pD},c8=pD,rU=new Set,JQ={create:function KQ(n){var t={time:c8(),name:n,messagesCallback:null};return rU.add(t),t},close:function qQ(n){rU.delete(n)},onMessage:function QQ(n,t){n.messagesCallback=t},postMessage:function XQ(n,t){return new Promise(function(e){return setTimeout(function(){Array.from(rU).forEach(function(i){i.name===n.name&&i!==n&&i.messagesCallback&&i.time<t.time&&i.messagesCallback(t)}),e()},5)})},canBeUsed:function YQ(){return!0},type:"simulate",averageResponseTime:function ZQ(){return 5},microSeconds:c8},u8=[_Q,kQ,GQ],d8=new Set,tY=0,iU=function(t,e){this.id=tY++,d8.add(this),this.name=t,this.options=nU(e),this.method=function eY(n){var t=[].concat(n.methods,u8).filter(Boolean);if(n.type){if("simulate"===n.type)return JQ;var e=t.find(function(i){return i.type===n.type});if(e)return e;throw new Error("method-type "+n.type+" not found")}n.webWorkerSupport||(t=t.filter(function(i){return"idb"!==i.type}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(u8.map(function(i){return i.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function nY(n){var t=n.method.create(n.name,n.options);!function GX(n){return n&&"function"==typeof n.then}(t)?n._state=t:(n._prepP=t,t.then(function(e){n._state=e}))}(this)};function h8(n,t,e){var i={time:n.method.microSeconds(),type:t,data:e};return(n._prepP?n._prepP:Md).then(function(){var d=n.method.postMessage(n._state,i);return n._uMP.add(d),d.catch().then(function(){return n._uMP.delete(d)}),d})}function f8(n){return n._addEL.message.length>0||n._addEL.internal.length>0}function p8(n,t,e){n._addEL[t].push(e),function rY(n){if(!n._iL&&f8(n)){var t=function(i){n._addEL[i.type].forEach(function(c){i.time>=c.time&&c.fn(i.data)})},e=n.method.microSeconds();n._prepP?n._prepP.then(function(){n._iL=!0,n.method.onMessage(n._state,t,e)}):(n._iL=!0,n.method.onMessage(n._state,t,e))}}(n)}function m8(n,t,e){n._addEL[t]=n._addEL[t].filter(function(r){return r!==e}),function iY(n){if(n._iL&&!f8(n)){n._iL=!1;var t=n.method.microSeconds();n.method.onMessage(n._state,null,t)}}(n)}iU._pubkey=!0,iU.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return h8(this,"message",t)},postInternal:function(t){return h8(this,"internal",t)},set onmessage(n){var e={time:this.method.microSeconds(),fn:n};m8(this,"message",this._onML),n&&"function"==typeof n?(this._onML=e,p8(this,"message",e)):this._onML=null},addEventListener:function(t,e){p8(this,t,{time:this.method.microSeconds(),fn:e})},removeEventListener:function(t,e){m8(this,t,this._addEL[t].find(function(i){return i.fn===e}))},close:function(){var t=this;if(!this.closed){d8.delete(this),this.closed=!0;var e=this._prepP?this._prepP:Md;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var YO=new Map;function g8(n,t,e,r){var i=YO.get(t);return i||(i={bc:new iU(["RxDB:",n,e].join("|")),refs:new Set},YO.set(t,i)),i.refs.add(r),i.bc}function sU(n,t){var e=YO.get(n);if(e&&(e.refs.delete(t),0===e.refs.size))return YO.delete(n),e.bc.close()}function oY(n,t,e,r){if(t.multiInstance){var i=r||g8(n,t.databaseInstanceToken,e.databaseName,e),c=new U.B,d=B=>{B.storageName===n&&B.databaseName===t.databaseName&&B.collectionName===t.collectionName&&B.version===t.schema.version&&c.next(B.eventBulk)};i.addEventListener("message",d);var f=e.changeStream(),m=!1,w=f.subscribe(B=>{m||i.postMessage({storageName:n,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:B})});e.changeStream=function(){return c.asObservable().pipe(function cQ(...n){return function aQ(...n){const t=(0,Ue.lI)(n),e=(0,Ue.R0)(n,1/0);return n=function sQ(n){return 1===n.length&&oQ(n[0])?n[0]:n}(n),(0,se.N)((r,i)=>{(0,qd.U)(e)((0,Be.H)([r,...n],t)).subscribe(i)})}(...n)}(f))};var A=e.close.bind(e);e.close=(0,x.A)(function*(){return m=!0,w.unsubscribe(),i.removeEventListener("message",d),r||(yield sU(t.databaseInstanceToken,e)),A()});var R=e.remove.bind(e);e.remove=(0,x.A)(function*(){return m=!0,w.unsubscribe(),i.removeEventListener("message",d),r||(yield sU(t.databaseInstanceToken,e)),R()})}}var aU=O(9403),js=O(5520),_8=new WeakMap,sY=new WeakMap;function v8(n){return(0,aU.q)(sY,n,()=>function iQ(n,t){if(n._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function rQ(n,t){return n||(n={}),(n=JSON.parse(JSON.stringify(n))).fallbackInterval||(n.fallbackInterval=3e3),n.responseTime||(n.responseTime=t.method.averageResponseTime(t.options)),n}(t,n);var e=function qX(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&"function"==typeof navigator.locks.request}()?new JG(n,t):new e8(n,t);return n._befC.push(function(){return e.die()}),n._leaderElector=e,e}(n))}function aY(){var n=g8(this.storage.name,this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return sU(this.token,this),t()};var e=v8(n);return e||(e=v8(n),_8.set(this,e)),this.leaderElector=()=>e,e}function cY(){return!this.multiInstance||this.leaderElector().isLeader}function lY(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):js.Ms}var y8={name:"leader-election",rxdb:!0,prototypes:{RxDatabase:n=>{n.leaderElector=aY,n.isLeader=cY,n.waitForLeadership=lY}},hooks:{preDestroyRxDatabase:{after:function uY(n){var t=_8.get(n);t&&t.die()}}}},Tc=O(1885),$s=O(6893),gD=O(2060),Rb=O(4552),og=O(6568);function b8(n,t){return n.input.metaInstance.findDocumentsById(t.map(e=>(0,Tc.U)(n.input.metaInstance.schema,{itemId:e,isCheckpoint:"0"})),!0).then(e=>{var r={};return Object.values(e).forEach(i=>{r[i.itemId]={docData:i.docData,metaDocument:i}}),r})}function ZO(n,t,e,r){return cU.apply(this,arguments)}function cU(){return(cU=(0,x.A)(function*(n,t,e,r){var i=t[n.primaryPath],c=e?(0,$s.C9)(e):{id:"",isCheckpoint:"0",itemId:i,docData:t,_attachments:{},_deleted:!1,_rev:(0,gD.Fq)(),_meta:{lwt:0}};return c.docData=t,r&&(c.isResolvedConflict=r),c._meta.lwt=(0,Rb.t)(),c.id=(0,Tc.U)(n.input.metaInstance.schema,c),c._rev=(0,og.CM)(yield n.checkpointKey,e),{previous:e,document:c}})).apply(this,arguments)}var JO=O(4843);function eP(n,t){return lU.apply(this,arguments)}function lU(){return(lU=(0,x.A)(function*(n,t){var e=(0,Tc.U)(n.input.metaInstance.schema,{isCheckpoint:"1",itemId:t}),i=(yield n.input.metaInstance.findDocumentsById([e],!1))[0];if(n.lastCheckpointDoc[t]=i,i)return i.checkpointData})).apply(this,arguments)}function tP(n,t,e){return uU.apply(this,arguments)}function uU(){return(uU=(0,x.A)(function*(n,t,e){n.checkpointQueue=n.checkpointQueue.then((0,x.A)(function*(){var r=n.lastCheckpointDoc[t];if(e&&!n.events.canceled.getValue()&&(!r||JSON.stringify(r.checkpointData)!==JSON.stringify(e))){var i={id:"",isCheckpoint:"1",itemId:t,_deleted:!1,_attachments:{},checkpointData:e,_meta:(0,gD.o4)(),_rev:(0,gD.Fq)()};for(i.id=(0,Tc.U)(n.input.metaInstance.schema,i);!n.events.canceled.getValue();){if(r&&(i.checkpointData=(0,$s.Mu)([r.checkpointData,i.checkpointData])),i._meta.lwt=(0,Rb.t)(),i._rev=(0,og.CM)(yield n.checkpointKey,r),n.events.canceled.getValue())return;var c=[{previous:r,document:i}],d=yield n.input.metaInstance.bulkWrite(c,"replication-set-checkpoint"),f=(0,$s.YN)(n.primaryPath,c,d)[0];if(f)return void(n.lastCheckpointDoc[t]=f);var m=d.error[0];if(409!==m.status)throw m;r=(0,Ri.ZN)(m.documentInDb),i._rev=(0,og.CM)(yield n.checkpointKey,r)}}})),yield n.checkpointQueue})).apply(this,arguments)}function dU(){return(dU=(0,x.A)(function*(n){return"rx_storage_replication_"+(yield n.hashFunction([n.identifier,n.forkInstance.databaseName,n.forkInstance.collectionName].join("||")))})).apply(this,arguments)}var vu=O(7650);function E8(n,t,e){var r=(0,Us.FD)(n);return t||delete r._attachments,e||(delete r._meta,delete r._rev),r}function hU(n,t){return n.hasAttachments?t.map(e=>{var r=(0,Us.o8)(e.document);return r.docData=(0,$s.on)(r.docData),{document:r,previous:e.previous}}):t}function w8(n){for(;;){if(!n.underlyingPersistentStorage)return n;n=n.underlyingPersistentStorage}}function fU(){return fU=(0,x.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.downstream&&((yield eP(n,"down"))||(yield tP(n,"down",n.input.initialCheckpoint.downstream)));var e=yield n.input.hashFunction(n.input.identifier),r=n.input.replicationHandler,i=0,c=[];function d(fe){n.stats.down.addNewTask=n.stats.down.addNewTask+1;var he={time:i++,task:fe};c.push(he),n.streamQueue.down=n.streamQueue.down.then(()=>{for(var ht=[];c.length>0;){n.events.active.down.next(!0);var vt=(0,Ri.ZN)(c.shift());if(!(vt.time<m)){if("RESYNC"===vt.task){if(0===ht.length){ht.push(vt.task);break}break}ht.push(vt.task)}}if(0!==ht.length)return"RESYNC"===ht[0]?function w(){return A.apply(this,arguments)}():function R(fe){n.stats.down.downstreamProcessChanges=n.stats.down.downstreamProcessChanges+1;var he=[],ht=null;return fe.forEach(vt=>{if("RESYNC"===vt)throw new Error("SNH");(0,Ka.Hb)(he,vt.documents),ht=(0,$s.Mu)([ht,vt.checkpoint])}),pe(he,(0,Ri.ZN)(ht))}(ht)}).then(()=>{n.events.active.down.next(!1),!n.firstSyncDone.down.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.down.next(!0)})}if(d("RESYNC"),!n.events.canceled.getValue()){var f=r.masterChangeStream$.pipe((0,Pi.Z)(function(){var fe=(0,x.A)(function*(he){return yield(0,JO._)(n.events.active.up.pipe((0,Un.p)(ht=>!ht))),he});return function(he){return fe.apply(this,arguments)}}())).subscribe(fe=>{n.stats.down.masterChangeStreamEmit=n.stats.down.masterChangeStreamEmit+1,d(fe)});(0,JO._)(n.events.canceled.pipe((0,Un.p)(fe=>!!fe))).then(()=>f.unsubscribe())}var m=-1;function A(){return(A=(0,x.A)(function*(){if(n.stats.down.downstreamResyncOnce=n.stats.down.downstreamResyncOnce+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>eP(n,"down"));for(var fe=yield n.checkpointQueue,he=[];!n.events.canceled.getValue();){m=i++;var ht=yield r.masterChangesSince(fe,n.input.pullBatchSize);if(0===ht.documents.length||(fe=(0,$s.Mu)([fe,ht.checkpoint]),he.push(pe(ht.documents,fe)),ht.documents.length<n.input.pullBatchSize))break}yield Promise.all(he)}})).apply(this,arguments)}var B=js.em,K={docs:{}};function pe(fe,he){var ht=n.primaryPath;return n.stats.down.persistFromMaster=n.stats.down.persistFromMaster+1,fe.forEach(vt=>{K.docs[vt[ht]]=vt}),K.checkpoint=he,B=B.then(()=>{var vt=K.docs;K.docs={};var Et=K.checkpoint,zt=Object.keys(vt);if(n.events.canceled.getValue()||0===zt.length)return js.em;var _n=[],an={},Ve={},le=[];return Promise.all([n.input.forkInstance.findDocumentsById(zt,!0),b8(n,zt)]).then(([we,je])=>{var Ke=new Map;return we.forEach(it=>Ke.set(it[ht],it)),Promise.all(zt.map(function(){var it=(0,x.A)(function*(Ce){var hr=Ke.get(Ce),Es=hr?E8(hr,n.hasAttachments,!1):void 0,ns=vt[Ce],Zi=je[Ce];Zi&&hr&&Zi.metaDocument.isResolvedConflict===hr._rev&&(yield n.streamQueue.up);var Jr=!(!Zi||!Es)&&(yield n.input.conflictHandler({realMasterState:Zi.docData,newDocumentState:Es},"downstream-check-if-equal-0").then(ei=>ei.isEqual));if(!Jr&&Zi&&Zi.docData._rev&&hr&&hr._meta[n.input.identifier]&&(0,og.Wg)(hr._rev)===hr._meta[n.input.identifier]&&(Jr=!0),hr&&Zi&&!1===Jr||hr&&!Zi)return js.em;var ji=!!Es&&(yield n.input.conflictHandler({realMasterState:ns,newDocumentState:Es},"downstream-check-if-equal-1").then(ei=>ei.isEqual));if(Es&&ji)return(!Zi||!1===Jr)&&le.push(yield ZO(n,Es,Zi?Zi.metaDocument:void 0)),js.em;var Lo=Object.assign({},ns,hr?{_meta:(0,Us.FD)(hr._meta),_attachments:n.hasAttachments&&ns._attachments?ns._attachments:{},_rev:(0,gD.Fq)()}:{_meta:{lwt:(0,Rb.t)()},_rev:(0,gD.Fq)(),_attachments:n.hasAttachments&&ns._attachments?ns._attachments:{}});if(ns._rev){var zs=hr?(0,og.Wg)(hr._rev)+1:1;Lo._meta[n.input.identifier]=zs,n.input.keepMeta&&(Lo._rev=ns._rev)}n.input.keepMeta&&ns._meta&&(Lo._meta=ns._meta);var lr={previous:hr,document:Lo};lr.document._rev=lr.document._rev?lr.document._rev:(0,og.CM)(e,lr.previous),_n.push(lr),an[Ce]=lr,Ve[Ce]=yield ZO(n,ns,Zi?Zi.metaDocument:void 0)});return function(Ce){return it.apply(this,arguments)}}()))}).then((0,x.A)(function*(){if(_n.length>0)return n.input.forkInstance.bulkWrite(_n,yield n.downstreamBulkWriteFlag).then(we=>{(0,$s.YN)(n.primaryPath,_n,we).forEach(Ke=>{var it=Ke[ht];n.events.processed.down.next(an[it]),le.push(Ve[it])}),we.error.forEach(Ke=>{409!==Ke.status&&n.events.error.next((0,vu.Br)("RC_PULL",{writeError:Ke}))})})})).then(()=>{if(le.length>0)return n.input.metaInstance.bulkWrite(hU(n,le),"replication-down-write-meta").then(we=>{we.error.forEach(je=>{n.events.error.next((0,vu.Br)("RC_PULL",{id:je.documentId,writeError:je}))})})}).then(()=>{tP(n,"down",Et)})}).catch(vt=>n.events.error.next(vt)),B}}),fU.apply(this,arguments)}var _Y=O(327);function pU(){return pU=(0,x.A)(function*(n,t,e,r){if(!e._attachments||r&&!r._attachments)throw new Error("_attachments missing");var i=e[n],c=new Set(r&&r._attachments?Object.keys(r._attachments):[]);return yield Promise.all(Object.entries(e._attachments).map(function(){var d=(0,x.A)(function*([f,m]){if((!c.has(f)||r&&(0,Ri.ZN)(r._attachments)[f].digest!==m.digest)&&!m.data){var w=yield t.getAttachmentData(i,f,m.digest);m.data=w}});return function(f){return d.apply(this,arguments)}}())),e}),pU.apply(this,arguments)}function mU(){return mU=(0,x.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.upstream&&((yield eP(n,"up"))||(yield tP(n,"up",n.input.initialCheckpoint.upstream)));var e=n.input.replicationHandler;n.streamQueue.up=n.streamQueue.up.then(()=>w().then(()=>{R()}));var r=0,i=-1,c=[],d=js.Dr,f={docs:{}},m=n.input.forkInstance.changeStream().subscribe(function(){var K=(0,x.A)(function*(pe){if(pe.context!==(yield n.downstreamBulkWriteFlag))return n.stats.up.forkChangeStreamEmit=n.stats.up.forkChangeStreamEmit+1,c.push({task:pe,time:r++}),n.events.active.up.getValue()||n.events.active.up.next(!0),n.input.waitBeforePersist?n.input.waitBeforePersist().then(()=>R()):R()});return function(pe){return K.apply(this,arguments)}}());function w(){return A.apply(this,arguments)}function A(){return A=(0,x.A)(function*(){if(n.stats.up.upstreamInitialSync=n.stats.up.upstreamInitialSync+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>eP(n,"up"));for(var K=yield n.checkpointQueue,pe=new Set,fe=function(){var vt=(0,x.A)(function*(){i=r++,pe.size>3&&(yield Promise.race(Array.from(pe)));var Et=yield(0,$s.p0)(n.input.forkInstance,n.input.pushBatchSize,K);if(0===Et.documents.length)return 1;K=(0,$s.Mu)([K,Et.checkpoint]);var zt=B(Et.documents,(0,Ri.ZN)(K));pe.add(zt),zt.catch().then(()=>pe.delete(zt))});return function(){return vt.apply(this,arguments)}}();!n.events.canceled.getValue()&&!(yield fe()););(yield Promise.all(pe)).find(vt=>!!vt)?yield w():!n.firstSyncDone.up.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.up.next(!0)}}),A.apply(this,arguments)}function R(){n.events.canceled.getValue()||0===c.length?n.events.active.up.next(!1):(n.stats.up.processTasks=n.stats.up.processTasks+1,n.events.active.up.next(!0),n.streamQueue.up=n.streamQueue.up.then(()=>{for(var K=[],pe={};c.length>0;){var fe=(0,Ri.ZN)(c.shift());fe.time<i||((0,Ka.Hb)(K,fe.task.events.map(ht=>ht.documentData)),pe=(0,$s.Mu)([pe,fe.task.checkpoint]))}return(0===K.length?js.Dr:B(K,pe)).then(()=>{0===c.length?n.events.active.up.next(!1):R()})}))}function B(K,pe){return n.stats.up.persistToMaster=n.stats.up.persistToMaster+1,K.forEach(fe=>{f.docs[fe[n.primaryPath]]=fe}),f.checkpoint=pe,d=d.then((0,x.A)(function*(){if(n.events.canceled.getValue())return!1;var fe=f.docs;f.docs={};var he=f.checkpoint,ht=Object.keys(fe);if(0===ht.length)return!1;var vt=yield b8(n,ht),Et={},zt=[],_n={},an={};if(yield Promise.all(ht.map(function(){var Jr=(0,x.A)(function*(ji){var Lo=fe[ji];an[ji]=Lo;var zs=E8(Lo,n.hasAttachments,!!n.input.keepMeta),lr=vt[ji];lr&&lr.metaDocument.isResolvedConflict!==Lo._rev&&(yield n.input.conflictHandler({realMasterState:lr.docData,newDocumentState:zs},"upstream-check-if-equal")).isEqual||lr&&lr.docData._rev&&(0,og.Wg)(Lo._rev)===Lo._meta[n.input.identifier]||(zt.push(ji),Et[ji]={assumedMasterState:lr?lr.docData:void 0,newDocumentState:zs},_n[ji]=yield ZO(n,zs,lr?lr.metaDocument:void 0))});return function(ji){return Jr.apply(this,arguments)}}())),0===zt.length)return!1;var Ve=Object.values(Et),le=new Set,we={},je=(0,Ka.Aj)(Ve,n.input.pushBatchSize);yield Promise.all(je.map(function(){var Jr=(0,x.A)(function*(ji){n.hasAttachments&&(yield Promise.all(ji.map(function(){var zs=(0,x.A)(function*(lr){lr.newDocumentState=yield function vY(n,t,e,r){return pU.apply(this,arguments)}(n.primaryPath,n.input.forkInstance,(0,Us.o8)(lr.newDocumentState),lr.assumedMasterState)});return function(lr){return zs.apply(this,arguments)}}()))),(yield e.masterWrite(ji)).forEach(zs=>{var lr=zs[n.primaryPath];le.add(lr),we[lr]=zs})});return function(ji){return Jr.apply(this,arguments)}}()));var Ke=[];if(zt.forEach(Jr=>{le.has(Jr)||(n.events.processed.up.next(Et[Jr]),Ke.push(_n[Jr]))}),n.events.canceled.getValue())return!1;Ke.length>0&&(yield n.input.metaInstance.bulkWrite(hU(n,Ke),"replication-up-write-meta"));var it=!1;if(le.size>0){n.stats.up.persistToMasterHadConflicts=n.stats.up.persistToMasterHadConflicts+1;var Ce=[],hr={};if(yield Promise.all(Object.entries(we).map(([Jr,ji])=>{var Lo=Et[Jr],zs={newDocumentState:Lo.newDocumentState,assumedMasterState:Lo.assumedMasterState,realMasterState:ji};return(0,_Y.r)(n,zs,an[Jr]).then(function(){var lr=(0,x.A)(function*(ei){if(ei){n.events.resolvedConflicts.next({input:zs,output:ei.output}),Ce.push({previous:an[Jr],document:ei.resolvedDoc});var FP=vt[Jr];hr[Jr]=yield ZO(n,(0,Ri.ZN)(ji),FP?FP.metaDocument:void 0,ei.resolvedDoc._rev)}});return function(ei){return lr.apply(this,arguments)}}())})),Ce.length>0){it=!0,n.stats.up.persistToMasterConflictWrites=n.stats.up.persistToMasterConflictWrites+1;var Es=yield n.input.forkInstance.bulkWrite(Ce,"replication-up-write-conflict"),ns=[];(0,$s.YN)(n.primaryPath,Ce,Es).forEach(Jr=>{ns.push(hr[Jr[n.primaryPath]])}),ns.length>0&&(yield n.input.metaInstance.bulkWrite(hU(n,ns),"replication-up-write-conflict-meta"))}}return tP(n,"up",he),it})).catch(fe=>(n.events.error.next(fe),!1)),d}(0,JO._)(n.events.canceled.pipe((0,Un.p)(K=>!!K))).then(()=>m.unsubscribe())}),mU.apply(this,arguments)}function nP(n){return(0,JO._)(ue([n.firstSyncDone.down.pipe((0,Un.p)(t=>!!t)),n.firstSyncDone.up.pipe((0,Un.p)(t=>!!t))])).then(()=>{})}function I8(n){return Promise.all([n.streamQueue.up,n.streamQueue.down,n.checkpointQueue])}function _U(){return(_U=(0,x.A)(function*(n){n.events.canceled.next(!0),n.events.active.up.complete(),n.events.active.down.complete(),n.events.processed.up.complete(),n.events.processed.down.complete(),n.events.resolvedConflicts.complete(),n.events.canceled.complete(),yield n.checkpointQueue})).apply(this,arguments)}var C8=n=>Promise.resolve(n);function D8(n,t){return"_deleted"===n||((t=(0,Us.FD)(t))[n]=!!t._deleted,delete t._deleted),t}function vU(n,t,e){return e.map(r=>{var i=(0,Us.FD)(r);return"_deleted"!==t?(i._deleted=!!i[t],delete i[t]):i._deleted=!!i._deleted,i[n.schema.primaryPath]=(0,Tc.U)(n.schema.jsonSchema,i),i})}function T8(n,t){if(typeof window>"u"||"object"!=typeof window||typeof window.addEventListener>"u"||navigator.onLine)return n.promiseWait(t);var e,r=new Promise(i=>{e=()=>{window.removeEventListener("online",e),i()},window.addEventListener("online",e)});return Promise.race([r,n.promiseWait(t)]).then(()=>{window.removeEventListener("online",e)})}var A8=O(2104),S8=O(3896),_D=O(2284),yU=new WeakMap,x8=function(){function n(e,r,i,c,d,f,m,w){var A=this;this.subs=[],this.subjects={received:new U.B,sent:new U.B,error:new U.B,canceled:new Me.t(!1),active:new Me.t(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.onCancel=[],this.callOnStart=void 0,this.remoteEvents$=new U.B,this.replicationIdentifier=e,this.collection=r,this.deletedField=i,this.pull=c,this.push=d,this.live=f,this.retryTime=m,this.autoStart=w,this.metaInfoPromise=(0,x.A)(function*(){var K="rx-replication-meta-"+(yield r.database.hashFunction([A.collection.name,A.replicationIdentifier].join("-"))),pe=function pY(n,t){var e=(0,Tc.Hq)(n),r={title:"RxReplicationProtocolMetaData",primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:n.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:e+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:e>4?e:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:n.properties},isResolvedConflict:{type:"string"}},keyCompression:n.keyCompression,required:["id","isCheckpoint","itemId"]};return t&&(r.encrypted=["docData"]),(0,Tc.Ud)(r)}(A.collection.schema.jsonSchema,(0,$s.ME)(A.collection.schema.jsonSchema));return{collectionName:K,schema:pe}})(),(0,aU.q)(yU,r,()=>[]).push(this),this.collection.onDestroy.push(()=>this.cancel()),Object.keys(this.subjects).forEach(K=>{Object.defineProperty(this,K+"$",{get:function(){return this.subjects[K].asObservable()}})});var B=new Promise(K=>{this.callOnStart=K});this.startPromise=B}var t=n.prototype;return t.start=function(){var e=(0,x.A)(function*(){var A,i=this;if(!this.isStopped()){var c=this.pull&&this.pull.modifier?this.pull.modifier:C8,d=this.push&&this.push.modifier?this.push.modifier:C8,f=this.collection.database,m=yield this.metaInfoPromise,[w]=yield Promise.all([this.collection.database.storage.createStorageInstance({databaseName:f.name,collectionName:m.collectionName,databaseInstanceToken:f.token,multiInstance:f.multiInstance,options:{},schema:m.schema,password:f.password,devMode:S8.h.isDevMode()}),(0,A8.vV)(this.collection,m.collectionName,m.schema)]);this.metaInstance=w,this.internalReplicationState=function bY(n){(n=(0,Us.FD)(n)).forkInstance=w8(n.forkInstance),n.metaInstance=w8(n.metaInstance);var t=function mY(n){return dU.apply(this,arguments)}(n),e={primaryPath:(0,Tc.xQ)(n.forkInstance.schema.primaryKey),hasAttachments:!!n.forkInstance.schema.attachments,input:n,checkpointKey:t,downstreamBulkWriteFlag:t.then(r=>"replication-downstream-"+r),events:{canceled:new Me.t(!1),active:{down:new Me.t(!0),up:new Me.t(!0)},processed:{down:new U.B,up:new U.B},resolvedConflicts:new U.B,error:new U.B},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new Me.t(!1),up:new Me.t(!1)},streamQueue:{down:js.em,up:js.em},checkpointQueue:js.em,lastCheckpointDoc:{}};return function gY(n){fU.apply(this,arguments)}(e),function yY(n){mU.apply(this,arguments)}(e),e}({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:f.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe((0,Un.p)(A=>!!this.pull),(0,Pi.Z)(function(){var A=(0,x.A)(function*(R){if("RESYNC"===R)return R;var B=(0,Us.FD)(R);return B.documents=vU(i.collection,i.deletedField,B.documents),B.documents=yield Promise.all(B.documents.map(K=>c(K))),B});return function(R){return A.apply(this,arguments)}}())),masterChangesSince:(A=(0,x.A)(function*(R,B){if(!i.pull)return{checkpoint:null,documents:[]};for(var K=!1,pe={};!K&&!i.isStopped();)try{pe=yield i.pull.handler(R,B),K=!0}catch(ht){var fe=(0,vu.Br)("RC_PULL",{checkpoint:R,errors:(0,Ka.$r)(ht).map(vt=>(0,eU.S)(vt)),direction:"pull"});i.subjects.error.next(fe),yield T8(i.collection,(0,Ri.ZN)(i.retryTime))}if(i.isStopped())return{checkpoint:null,documents:[]};var he=(0,Us.FD)(pe);return he.documents=vU(i.collection,i.deletedField,he.documents),he.documents=yield Promise.all(he.documents.map(ht=>c(ht))),he}),function(B,K){return A.apply(this,arguments)}),masterWrite:function(){var A=(0,x.A)(function*(R){if(!i.push)return[];var B=!1;yield(0,_D.FX)("preReplicationMasterWrite",{rows:R,collection:i.collection});var K=yield Promise.all(R.map(function(){var vt=(0,x.A)(function*(Et){return Et.newDocumentState=yield d(Et.newDocumentState),null===Et.newDocumentState?null:(Et.assumedMasterState&&(Et.assumedMasterState=yield d(Et.assumedMasterState)),"_deleted"!==i.deletedField&&(Et.newDocumentState=D8(i.deletedField,Et.newDocumentState),Et.assumedMasterState&&(Et.assumedMasterState=D8(i.deletedField,Et.assumedMasterState))),Et)});return function(Et){return vt.apply(this,arguments)}}())),pe=K.filter(Ka.S7),fe=null;for(0===pe.length&&(B=!0,fe=[]);!B&&!i.isStopped();)try{if(fe=yield i.push.handler(pe),!Array.isArray(fe))throw(0,vu.Br)("RC_PUSH_NO_AR",{pushRows:R,direction:"push",args:{result:fe}});B=!0}catch(vt){var he=vt.rxdb?vt:(0,vu.Br)("RC_PUSH",{pushRows:R,errors:(0,Ka.$r)(vt).map(Et=>(0,eU.S)(Et)),direction:"push"});i.subjects.error.next(he),yield T8(i.collection,(0,Ri.ZN)(i.retryTime))}return i.isStopped()?[]:(yield(0,_D.FX)("preReplicationMasterWriteDocumentsHandle",{result:fe,collection:i.collection}),vU(i.collection,i.deletedField,(0,Ri.ZN)(fe)))});return function(B){return A.apply(this,arguments)}}()}}),this.subs.push(this.internalReplicationState.events.error.subscribe(A=>{this.subjects.error.next(A)}),this.internalReplicationState.events.processed.down.subscribe(A=>this.subjects.received.next(A.document)),this.internalReplicationState.events.processed.up.subscribe(A=>{this.subjects.sent.next(A.newDocumentState)}),ue([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([A,R])=>{this.subjects.active.next(A||R)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:A=>{this.remoteEvents$.next(A)},error:A=>{this.subjects.error.next(A)}})),this.live||(yield nP(this.internalReplicationState),yield I8(this.internalReplicationState),yield this.cancel()),this.callOnStart()}});return function r(){return e.apply(this,arguments)}}(),t.isStopped=function(){return!!this.subjects.canceled.getValue()},t.awaitInitialReplication=function(){var e=(0,x.A)(function*(){return yield this.startPromise,nP((0,Ri.ZN)(this.internalReplicationState))});return function r(){return e.apply(this,arguments)}}(),t.awaitInSync=function(){var e=(0,x.A)(function*(){yield this.startPromise,yield nP((0,Ri.ZN)(this.internalReplicationState));for(var i=2;i>0;)i--,yield this.collection.database.requestIdlePromise(),yield I8((0,Ri.ZN)(this.internalReplicationState));return!0});return function r(){return e.apply(this,arguments)}}(),t.reSync=function(){this.remoteEvents$.next("RESYNC")},t.emitEvent=function(r){this.remoteEvents$.next(r)},t.cancel=function(){var e=(0,x.A)(function*(){if(this.isStopped())return js.Dr;var i=this.onCancel.map(c=>(0,js.hq)(c()));return this.internalReplicationState&&(yield function EY(n){return _U.apply(this,arguments)}(this.internalReplicationState)),this.metaInstance&&i.push((0,Ri.ZN)(this.internalReplicationState).checkpointQueue.then(()=>(0,Ri.ZN)(this.metaInstance).close())),this.subs.forEach(c=>c.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(i)});return function r(){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,x.A)(function*(){yield(0,Ri.ZN)(this.metaInstance).remove();var i=yield this.metaInfoPromise;yield this.cancel(),yield(0,A8.bD)(this.collection,i.collectionName,i.schema)});return function r(){return e.apply(this,arguments)}}(),n}();var wY=O(9182),IY=O(5908),CY=O(5672),DY=O(4395),R8=O(7396),TY={RxSchema:wY.wJ.prototype,RxDocument:IY.ky,RxQuery:CY.Mh.prototype,RxCollection:DY.wm.prototype,RxDatabase:R8.lB.prototype},bU=new Set,O8=new Set;function rP(n){if((0,_D.Xi)("preAddRxPlugin",{plugin:n,plugins:bU}),!bU.has(n)){if(O8.has(n.name))throw(0,vu.Br)("PL3",{name:n.name,plugin:n});if(bU.add(n),O8.add(n.name),!n.rxdb)throw(0,vu.JX)("PL1",{plugin:n});n.init&&n.init(),n.prototypes&&Object.entries(n.prototypes).forEach(([t,e])=>e(TY[t])),n.overwritable&&Object.assign(S8.h,n.overwritable),n.hooks&&Object.entries(n.hooks).forEach(([t,e])=>{e.after&&_D.r[t].push(e.after),e.before&&_D.r[t].unshift(e.before)})}}function P8(n,t){var e=(0,Us.FD)(t);return delete e[n],e}function AY(n,t){return t[n].toDate().toISOString()}function k8(n,t){return delete(t=(0,Us.FD)(t))[n],t}var RY=function(n){function t(e,r,i,c,d,f=!0,m=5e3,w=!0){var A;return(A=n.call(this,r,i,"_deleted",c,d,f,m,w)||this).firestore=e,A.replicationIdentifierHash=r,A.collection=i,A.pull=c,A.push=d,A.live=f,A.retryTime=m,A.autoStart=w,A}return(0,zX.A)(t,n),t}(x8);function OY(n){var t=n.collection;rP(y8);var r,e=new U.B;n.live=typeof n.live>"u"||n.live,n.waitForLeadership=typeof n.waitForLeadership>"u"||n.waitForLeadership;var i=typeof n.serverTimestampField>"u"?"serverTimestamp":n.serverTimestampField;n.serverTimestampField=i;var c=t.schema.primaryPath;if((0,Tc.nT)(t.schema.jsonSchema,i)||i.includes("."))throw(0,vu.Br)("RC6",{field:i,schema:t.schema.jsonSchema});var w,f=void 0!==n.pull?.filter?(0,Ka.$r)(n.pull.filter):[],m=Ab(n.firestore.collection,...f);if(n.pull&&(r={handler:(pe,fe)=>(0,x.A)(function*(){var he,ht;if(pe){var vt=function SY(n){var t=new Date(n);return si.fromDate(t)}(pe.serverTimestamp);he=Ab(m,jO(i,">",vt),$O(i,"asc"),zO(fe)),ht=Ab(m,jO(i,"==",vt),jO(c,">",pe.id),$O(c,"asc"),zO(fe))}else he=Ab(m,$O(i,"asc"),zO(fe));for(var Et=!0,zt=[];Et;)yield UB(n.firestore.database),yield WG(n.firestore.database,function(){var we=(0,x.A)(function*(je){zt=[];var[Ke,it]=yield Promise.all([YB(he),ht?YB(ht):void 0]);if(!(Ke.metadata.hasPendingWrites||ht&&(0,Ri.ZN)(it).metadata.hasPendingWrites)){Et=!1,ht&&(zt=(0,Ri.ZN)(it).docs);var Ce=fe-zt.length;if(Ce>0){var hr=Ke.docs.slice(0,Ce).filter(Es=>!!Es);(0,Ka.Hb)(zt,hr)}}});return function(je){return we.apply(this,arguments)}}());if(0===zt.length)return{checkpoint:pe??null,documents:[]};var _n=(0,Ri.ZN)((0,Ka.dG)(zt)),an=zt.map(we=>function xY(n,t,e){var r=P8(n,e.data());return r[t]=e.id,r}(i,c,we));return{documents:an,checkpoint:{id:_n.id,serverTimestamp:AY(i,_n.data())}}})(),batchSize:(0,Ri.ZN)(n.pull).batchSize,modifier:(0,Ri.ZN)(n.pull).modifier,stream$:e.asObservable()}),n.push){var A=n.push?.filter;w={handler:pe=>(0,x.A)(function*(){void 0!==A&&(pe=yield(0,Ka.j7)(pe,vt=>A(vt.newDocumentState)));var fe={},he=pe.map(vt=>{var Et=vt.newDocumentState[c];return fe[Et]=vt,Et});yield UB(n.firestore.database);var ht=[];return yield WG(n.firestore.database,function(){var vt=(0,x.A)(function*(Et){ht=[];var _n=yield function MY(n,t){for(var e=[];n.length;){var r=n.splice(0,10);e.push(t(r))}return Promise.all(e).then(i=>i.map(c=>c.docs).flat())}(he,we=>YB(Ab(n.firestore.collection,jO(function pX(){return new Ym("__name__")}(),"in",we)))),an={};_n.forEach(we=>{var je=P8(i,we.data()),Ke=we.id;je[c]=Ke,an[Ke]=je});var Ve=function FX(n){return Mi(n=Zn(n,Gr)),new PX(n,t=>function hD(n,t){return function(r,i){const c=new Xi;return r.asyncQueue.enqueueAndForget((0,x.A)(function*(){return function x7(n,t,e){return lB.apply(this,arguments)}(yield FB(r),i,c)})),c.promise}(Mi(n),t)}(n,t))}(n.firestore.database),le=!1;yield Promise.all(Object.entries(fe).map(function(){var we=(0,x.A)(function*([je,Ke]){var it=an[je];if(!it||Ke.assumedMasterState&&!1!==(yield t.conflictHandler({newDocumentState:it,realMasterState:Ke.assumedMasterState},"replication-firestore-push")).isEqual){le=!0;var Ce=function AG(n,t,...e){if(n=Vi(n),1===arguments.length&&(t=SC.newId()),VB("doc","path",t),n instanceof oD){const r=Qn.fromString(t,...e);return IG(r),new Yi(n,null,new Zt(r))}{if(!(n instanceof Yi||n instanceof _u))throw new Mt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qn.fromString(t,...e));return IG(r),new Yi(n.firestore,n instanceof _u?n.converter:null,new Zt(r))}}(n.firestore.collection,je),hr=(0,Us.FD)(Ke.newDocumentState);hr[i]=function NX(){return new $B("serverTimestamp")}(),it?Ve.update(Ce,k8(c,hr)):Ve.set(Ce,k8(c,hr))}else ht.push(it)});return function(je){return we.apply(this,arguments)}}())),le&&(yield Ve.commit())});return function(Et){return vt.apply(this,arguments)}}()),yield UB(n.firestore.database),ht})(),batchSize:n.push.batchSize,modifier:n.push.modifier}}var R=new RY(n.firestore,n.replicationIdentifier,t,r,w,n.live,n.retryTime,n.autoStart);if(n.live&&n.pull){var B=R.start.bind(R),K=R.cancel.bind(R);R.start=()=>{var fe=function IX(n,...t){var e,r,i;n=Vi(n);let c={includeMetadataChanges:!1,source:"default"},d=0;"object"!=typeof t[d]||BB(t[d])||(c=t[d],d++);const f={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(BB(t[d])){const R=t[d];t[d]=null===(e=R.next)||void 0===e?void 0:e.bind(R),t[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),t[d+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let m,w,A;if(n instanceof Yi)w=Zn(n.firestore,Gr),A=eb(n._key.path),m={next:R=>{t[d]&&t[d](function ZB(n,t,e){const r=e.docs.get(t._key),i=new Sf(n);return new xb(n,i,t._key,r,new tg(e.hasPendingWrites,e.fromCache),t.converter)}(w,n,R))},error:t[d+1],complete:t[d+2]};else{const R=Zn(n,es);w=Zn(R.firestore,Gr),A=R._query;const B=new Sf(w);m={next:K=>{t[d]&&t[d](new Mb(w,B,R,K))},error:t[d+1],complete:t[d+2]},BG(n._query)}return function(B,K,pe,fe){const he=new OO(fe),ht=new tB(K,he,pe);return B.asyncQueue.enqueueAndForget((0,x.A)(function*(){return X2(yield Tb(B),ht)})),()=>{he.$a(),B.asyncQueue.enqueueAndForget((0,x.A)(function*(){return Y2(yield Tb(B),ht)}))}}(Mi(w),A,f,m)}(Ab(m,$O(i,"desc"),zO(1)),he=>{R.reSync()},he=>{R.subjects.error.next((0,vu.Br)("RC_STREAM",{error:(0,eU.S)(he)}))});return R.cancel=()=>(fe(),K()),B()}}return function M8(n,t){return(n&&t.collection.database.multiInstance?t.collection.database.waitForLeadership():js.Ms).then(()=>{t.isStopped()||t.autoStart&&t.start()})}(n.waitForLeadership,R),R}let N8=(()=>{class n{constructor(){this.firebaseApp=Lx(QG)}replicateCollection(e,r){var i=this;return(0,x.A)(function*(){const c=hX(i.firebaseApp),d=function lX(n,t,...e){if(n=Vi(n),VB("collection","path",t),n instanceof oD){const r=Qn.fromString(t,...e);return CG(r),new _u(n,null,r)}{if(!(n instanceof Yi||n instanceof _u))throw new Mt(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Qn.fromString(t,...e));return CG(r),new _u(n.firestore,null,r)}}(c,e),f=OY({collection:r,firestore:{projectId:QG.projectId,database:c,collection:d},pull:{},push:{},live:!0,replicationIdentifier:"Empathy-to-firebase"});return console.log(`LOL: REPLICATION for COLEECTION: ${e}: ${f.replicationIdentifier}`),f})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EU=(()=>{class n{constructor(e){this.remoteDbService=e,this.googleProvider=new ym,this.auth=k3(this.remoteDbService.firebaseApp),this.user$=this.observeAuthState(this.auth)}observeAuthState(e){return new J.c(i=>{e.onAuthStateChanged(c=>c?i.next(c):null,c=>i.error(c),()=>i.complete())})}anonymousLogin(){var e=this;return(0,x.A)(function*(){yield function RL(n){return ay.apply(this,arguments)}(e.auth).then(r=>{console.log(`LOL: Logging in for USER: ${r.user.uid}, PROV: ${r.providerId}, OP: ${r.operationType}`)}).catch(r=>{console.log(`LOL: error on sign in: ${r.code} MESS: ${r.message}`)})})()}googleLogin(){var e=this;return(0,x.A)(function*(){yield function mC(n,t,e){return Sy.apply(this,arguments)}(e.auth,e.googleProvider).then(r=>{ym.credentialFromResult(r),console.log(`LOL: Logging in for USER: ${r.user.uid}, PROV: ${r.user.providerId}, OP: ${r.operationType} `)}).catch(r=>{const i=r.code,c=r.message;ym.credentialFromError(r),console.log(`LOL: error on google sign in: ${i} MESS: ${c}`)})})()}registerUser(e,r){var i=this;return(0,x.A)(function*(){return yield function $M(n,t,e){return KI.apply(this,arguments)}(i.auth,e,r).then(c=>{const d=c.user;return console.log(`LOL: Successfully created account for email: ${e}; User: ${JSON.stringify(d)}`),d}).catch(c=>{console.log(`LOL: error on creating account for email: ${e}: ${c.code} MESS: ${c.message}`)})})()}loginWithEmail(e,r){var i=this;return(0,x.A)(function*(){return function PL(n,t,e){return _a(n.app)?Promise.reject(lo(n)):uy(Vi(n),ry.credential(t,e)).catch(function(){var r=(0,x.A)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&$I(n),i});return function(i){return r.apply(this,arguments)}}())}(i.auth,e,r).then(c=>{const d=c.user;return console.log(`LOL: Logging in for USER: ${d.uid}, PROV: ${c.user.providerId}, OP: ${c.operationType} `),d}).catch(c=>{console.log(`LOL: error on email sign in: ${c.code} MESS: ${c.message}`)})})()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(N8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function PY(n,t){1&n&&(l.j41(0,"button",8)(1,"span",9),l.EFF(2,"Editor"),l.k0s()())}let kY=(()=>{class n{constructor(e){this.authService=e,this.isDev=(0,l.naY)(),this.userName$=this.authService.user$.pipe((0,xe.T)(r=>r?r.isAnonymous?"Guest":r?.displayName||r.uid:"Local")),this.showEditor$=this.authService.user$.pipe((0,xe.T)(r=>!!r?.displayName))}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(EU))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["main-bar"]],standalone:!0,features:[l.aNF],decls:18,vars:7,consts:[["menu","matMenu"],["routerLink","/library"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","","routerLink",""],["data-test-id","user-entry"],["mat-menu-item","","routerLink","/library"],["data-test-id","library-entry"],["mat-menu-item","","routerLink","/editor"],["data-test-id","editor-entry"]],template:function(r,i){if(1&r&&(l.j41(0,"mat-toolbar")(1,"span",1),l.EFF(2,"Empathy"),l.k0s(),l.nrm(3,"span",2),l.j41(4,"button",3)(5,"mat-icon"),l.EFF(6,"menu"),l.k0s()(),l.j41(7,"mat-menu",null,0)(9,"button",4)(10,"span",5),l.EFF(11),l.nI1(12,"async"),l.k0s()(),l.j41(13,"button",6)(14,"span",7),l.EFF(15,"Library"),l.k0s()(),l.DNE(16,PY,3,0,"button",8),l.nI1(17,"async"),l.k0s()()),2&r){const c=l.sdS(8);l.R7$(4),l.Y8G("matMenuTriggerFor",c),l.R7$(7),l.JRh(l.bMT(12,3,i.userName$)||"Signed Out"),l.R7$(5),l.vxM(l.bMT(17,5,i.showEditor$)||i.isDev?16:-1)}},dependencies:[jo,wr,fc,cN,aN,yc,Wl,ma,QN,Uh,Jp,vw,ga],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background:var(--sys-background)}"]})}return n})(),NY=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-root"]],standalone:!0,features:[l.aNF],decls:3,vars:0,consts:[[1,"container"]],template:function(r,i){1&r&&(l.nrm(0,"main-bar"),l.j41(1,"div",0),l.nrm(2,"router-outlet"),l.k0s())},dependencies:[kY,lp],styles:[".container[_ngcontent-%COMP%] {margin:auto;width:85%}"]})}return n})(),LY=(()=>{class n{constructor(e,r,i,c,d){this.doc=e,this.delegate=r,this.zone=i,this.animationType=c,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=(0,l.WQX)(l.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??O.e(8).then(O.bind(O,8008)).then(r=>r)).catch(r=>{throw new l.wOt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:i})=>{this._engine=r(this.animationType,this.doc);const c=new i(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(e,r){const i=this.delegate.createRenderer(e,r);if(0===i.\u0275type)return i;"boolean"==typeof i.throwOnSyntheticProps&&(i.throwOnSyntheticProps=!1);const c=new VY(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{const f=d.createRenderer(e,r);c.use(f),this.scheduler?.notify(9)}).catch(d=>{c.use(i)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class VY{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,null!==this.replay){for(const e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,r,i){this.delegate.insertBefore(t,e,r,i)}removeChild(t,e,r){this.delegate.removeChild(t,e,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(t,e,r)),this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(t,e,r)),this.delegate.listen(t,e,r)}shouldReplay(t){return null!==this.replay&&t.startsWith("@")}}var wU=O(5505);const F8=Symbol.for("Dexie"),iP=globalThis[F8]||(globalThis[F8]=wU);if(wU.semVer!==iP.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${wU.semVer} and ${iP.semVer}`);var oP=O(1744),sP="docs",L8="attachments",B8=new Map,aP=new Map;function IU(){return(IU=(0,x.A)(function*(n){var t=yield n,r=aP.get(n)-1;0===r?(t.dexieDb.close(),aP.delete(n)):aP.set(n,r)})).apply(this,arguments)}var CU="__";function vD(n){var t=n.split(".");if(t.length>1)return t.map(r=>vD(r)).join(".");if(n.startsWith("|")){var e=n.substring(1);return CU+e}return n}function U8(n){var t=n.split(".");return t.length>1?t.map(r=>U8(r)).join("."):n.startsWith(CU)?"|"+n.substring(CU.length):n}function HY(n,t){return t&&(t=DU(t=(0,Us.FD)(t)),n.forEach(e=>{var r=(0,oP.UU)(t,e);(0,oP.oq)(t,e,r?"1":"0")}),t)}function j8(n,t){return t&&(t=TU(t=(0,Us.FD)(t)),n.forEach(e=>{var r=(0,oP.UU)(t,e);(0,oP.oq)(t,e,"1"===r)}),t)}function DU(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>DU(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,r])=>{"object"==typeof r&&(r=DU(r)),t[vD(e)]=r}),t}}function TU(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>TU(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,r])=>{("object"==typeof r||Array.isArray(n))&&(r=TU(r)),t[U8(e)]=r}),t}}function zY(n){var t=[],e=(0,Tc.xQ)(n.primaryKey);t.push([e]),t.push(["_deleted",e]),n.indexes&&n.indexes.forEach(c=>{var d=(0,Ka.$r)(c);t.push(d)}),t.push(["_meta.lwt",e]),t.push(["_meta.lwt"]);var r=(t=t.map(c=>c.map(d=>vD(d)))).map(c=>1===c.length?c[0]:"["+c.join("+")+"]");return(r=r.filter((c,d,f)=>f.indexOf(c)===d)).join(", ")}function $8(n,t){return AU.apply(this,arguments)}function AU(){return(AU=(0,x.A)(function*(n,t){var e=yield n;return(yield e.dexieTable.bulkGet(t)).map(i=>j8(e.booleanIndexes,i))})).apply(this,arguments)}function cP(n,t){return n+"||"+t}function GY(n){var t=new Set,e=[];return n.indexes?(n.indexes.forEach(r=>{(0,Ka.$r)(r).forEach(c=>{t.has(c)||(t.add(c),"boolean"===(0,Tc.nT)(n,c).type&&e.push(c))})}),e.push("_deleted"),(0,Ka.jw)(e)):e}var lP=O(7014),WY=O(6243),H8=O(997),z8=O(5365);function G8(n){return n===H8.OK?-1/0:n}function W8(n,t,e){return n.includes(t)?e===H8.g0||!0===e?"1":"0":e}function K8(n,t,e){if(!e){if(typeof window>"u")throw new Error("IDBKeyRange missing");e=window.IDBKeyRange}var r=t.startKeys.map((d,f)=>W8(n,t.index[f],d)).map(G8),i=t.endKeys.map((d,f)=>W8(n,t.index[f],d)).map(G8);return e.bound(r,i,!t.inclusiveStart,!t.inclusiveEnd)}function q8(n,t){return SU.apply(this,arguments)}function SU(){return SU=(0,x.A)(function*(n,t){var e=yield n.internals,r=t.query,i=r.skip?r.skip:0,d=i+(r.limit?r.limit:1/0),f=t.queryPlan,m=!1;f.selectorSatisfiedByIndex||(m=(0,z8.Lr)(n.schema,t.query));var w=K8(e.booleanIndexes,f,e.dexieDb._options.IDBKeyRange),A=f.index,R=[];if(yield e.dexieDb.transaction("r",e.dexieTable,function(){var K=(0,x.A)(function*(pe){var vt,he=pe.idbtrans.objectStore(sP);vt="["+A.map(zt=>vD(zt)).join("+")+"]";var Et=he.index(vt).openCursor(w);yield new Promise(zt=>{Et.onsuccess=function(_n){var an=_n.target.result;if(an){var Ve=j8(e.booleanIndexes,an.value);(!m||m(Ve))&&R.push(Ve),f.sortSatisfiedByIndex&&R.length===d?zt():an.continue()}else zt()}})});return function(pe){return K.apply(this,arguments)}}()),!f.sortSatisfiedByIndex){var B=(0,z8.Xw)(n.schema,t.query);R=R.sort(B)}return{documents:R=R.slice(i,d)}}),SU.apply(this,arguments)}function xU(){return xU=(0,x.A)(function*(n,t){var e=yield n.internals,r=t.queryPlan,i=r.index,c=K8(e.booleanIndexes,r,e.dexieDb._options.IDBKeyRange),d=-1;return yield e.dexieDb.transaction("r",e.dexieTable,function(){var f=(0,x.A)(function*(m){var B,A=m.idbtrans.objectStore(sP);B="["+i.map(pe=>vD(pe)).join("+")+"]";var K=A.index(B).count(c);d=yield new Promise((pe,fe)=>{K.onsuccess=function(){pe(K.result)},K.onerror=he=>fe(he)})});return function(m){return f.apply(this,arguments)}}()),d}),xU.apply(this,arguments)}var qY=(0,Rb.t)(),MU=!1,XY=function(){function n(e,r,i,c,d,f,m,w){this.changes$=new U.B,this.instanceId=qY++,this.storage=e,this.databaseName=r,this.collectionName=i,this.schema=c,this.internals=d,this.options=f,this.settings=m,this.devMode=w,this.primaryPath=(0,Tc.xQ)(this.schema.primaryKey)}var t=n.prototype;return t.bulkWrite=function(){var e=(0,x.A)(function*(i,c){var d=this;sg(this),!MU&&(!lP.P.premium||"string"!=typeof lP.P.premium||(yield(0,WY.V0)(lP.P.premium))!==lP.Y)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join("\n")),MU=!0,i.forEach(B=>{if(!B.document._rev||B.previous&&!B.previous._rev)throw(0,vu.Br)("SNH",{args:{row:B}})});var f=yield this.internals,m={error:[]};this.devMode&&(i=i.map(B=>{var K=(0,$s.C9)(B.document);return{previous:B.previous,document:K}}));var A,w=i.map(B=>B.document[this.primaryPath]);if(yield f.dexieDb.transaction("rw",f.dexieTable,f.dexieAttachmentsTable,(0,x.A)(function*(){var B=new Map;(yield $8(d.internals,w)).forEach(he=>{var ht=he;return ht&&B.set(ht[d.primaryPath],ht),ht}),A=(0,$s.gi)(d,d.primaryPath,B,i,c),m.error=A.errors;var pe=[];A.bulkInsertDocs.forEach(he=>{pe.push(he.document)}),A.bulkUpdateDocs.forEach(he=>{pe.push(he.document)}),(pe=pe.map(he=>HY(f.booleanIndexes,he))).length>0&&(yield f.dexieTable.bulkPut(pe));var fe=[];A.attachmentsAdd.forEach(he=>{fe.push({id:cP(he.documentId,he.attachmentId),data:he.attachmentData.data})}),A.attachmentsUpdate.forEach(he=>{fe.push({id:cP(he.documentId,he.attachmentId),data:he.attachmentData.data})}),yield f.dexieAttachmentsTable.bulkPut(fe),yield f.dexieAttachmentsTable.bulkDelete(A.attachmentsRemove.map(he=>cP(he.documentId,he.attachmentId)))})),(A=(0,Ri.ZN)(A)).eventBulk.events.length>0){var R=(0,Ri.ZN)(A.newestRow).document;A.eventBulk.checkpoint={id:R[this.primaryPath],lwt:R._meta.lwt},A.eventBulk.endTime=(0,Rb.t)(),this.changes$.next(A.eventBulk)}return m});return function r(i,c){return e.apply(this,arguments)}}(),t.findDocumentsById=function(){var e=(0,x.A)(function*(i,c){var d=this;sg(this);var f=yield this.internals,m=[];return yield f.dexieDb.transaction("r",f.dexieTable,(0,x.A)(function*(){(yield $8(d.internals,i)).forEach(A=>{A&&(!A._deleted||c)&&m.push(A)})})),m});return function r(i,c){return e.apply(this,arguments)}}(),t.query=function(r){return sg(this),q8(this,r)},t.count=function(){var e=(0,x.A)(function*(i){if(i.queryPlan.selectorSatisfiedByIndex){var c=yield function KY(n,t){return xU.apply(this,arguments)}(this,i);return{count:c,mode:"fast"}}return{count:(yield q8(this,i)).documents.length,mode:"slow"}});return function r(i){return e.apply(this,arguments)}}(),t.changeStream=function(){return sg(this),this.changes$.asObservable()},t.cleanup=function(){var e=(0,x.A)(function*(i){var c=this;sg(this);var d=yield this.internals;return yield d.dexieDb.transaction("rw",d.dexieTable,(0,x.A)(function*(){var f=(0,Rb.t)()-i,m=yield d.dexieTable.where("_meta.lwt").below(f).toArray(),w=[];m.forEach(A=>{"1"===A._deleted&&w.push(A[c.primaryPath])}),yield d.dexieTable.bulkDelete(w)})),!0});return function r(i){return e.apply(this,arguments)}}(),t.getAttachmentData=function(){var e=(0,x.A)(function*(i,c,d){sg(this);var f=yield this.internals,m=cP(i,c);return yield f.dexieDb.transaction("r",f.dexieAttachmentsTable,(0,x.A)(function*(){var w=yield f.dexieAttachmentsTable.get(m);if(w)return w.data;throw new Error("attachment missing documentId: "+i+" attachmentId: "+c)}))});return function r(i,c,d){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,x.A)(function*(){sg(this);var i=yield this.internals;return yield i.dexieTable.clear(),this.close()});return function r(){return e.apply(this,arguments)}}(),t.close=function(){var r=this;return this.closed||(this.closed=(0,x.A)(function*(){r.changes$.complete(),yield function $Y(n){return IU.apply(this,arguments)}(r.internals)})()),this.closed},t.conflictResultionTasks=function(){return new U.B},t.resolveConflictResultionTask=function(){var e=(0,x.A)(function*(i){});return function r(i){return e.apply(this,arguments)}}(),n}();function RU(){return(RU=(0,x.A)(function*(n,t,e){var r=function jY(n,t,e,r){var i="rxdb-dexie-"+n+"--"+r.version+"--"+t,c=(0,aU.q)(B8,i,()=>{var d=(0,x.A)(function*(){var f=(0,Us.FD)(e);f.autoOpen=!1;var m=new iP(i,f),w={[sP]:zY(r),changes:"++sequence, id",[L8]:"id"};return m.version(1).stores(w),yield m.open(),{dexieDb:m,dexieTable:m[sP],dexieAttachmentsTable:m[L8],booleanIndexes:GY(r)}})();return B8.set(i,c),aP.set(c,0),d});return c}(t.databaseName,t.collectionName,e,t.schema),i=new XY(n,t.databaseName,t.collectionName,t.schema,r,t.options,e,t.devMode);return yield oY("dexie",t,i),Promise.resolve(i)})).apply(this,arguments)}function sg(n){if(n.closed)throw new Error("RxStorageInstanceDexie is closed "+n.databaseName+"-"+n.collectionName)}var YY=O(6052),ZY=function(){function n(e){this.name="dexie",this.rxdbVersion=YY.o,this.settings=e}return n.prototype.createStorageInstance=function(r){return(0,$s.pZ)(r),function QY(n,t,e){return RU.apply(this,arguments)}(this,r,this.settings)},n}();function JY(n={}){return new ZY(n)}var OU={minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0},PU=js.Ms;function kU(){return kU=(0,x.A)(function*(n){var t=n.database,e=Object.assign({},OU,t.cleanupPolicy?t.cleanupPolicy:{});yield X8(n,e),!n.destroyed&&(yield Q8(n,e),yield function tZ(n,t){return LU.apply(this,arguments)}(n,e))}),kU.apply(this,arguments)}function X8(n,t){return NU.apply(this,arguments)}function NU(){return(NU=(0,x.A)(function*(n,t){yield n.promiseWait(t.minimumCollectionAge),!n.destroyed&&t.waitForLeadership&&(yield n.database.waitForLeadership())})).apply(this,arguments)}function Q8(n,t){return FU.apply(this,arguments)}function FU(){return(FU=(0,x.A)(function*(n,t){for(var e=n.database,r=n.storageInstance,i=!1;!i&&!n.destroyed;){if(t.awaitReplicationsInSync){var c=yU.get(n);c&&(yield Promise.all(c.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(n.destroyed)return;PU=PU.then((0,x.A)(function*(){return!!n.destroyed||(yield e.requestIdlePromise(),r.cleanup(t.minimumDeletedTime))})),i=yield PU}})).apply(this,arguments)}function LU(){return(LU=(0,x.A)(function*(n,t){for(;!n.destroyed;){if(yield n.promiseWait(t.runEach),n.destroyed)return;yield Q8(n,t)}})).apply(this,arguments)}var VU=js.Ms;function BU(){return BU=(0,x.A)(function*(n){var t=n.collection,e=t.database,r=Object.assign({},OU,e.cleanupPolicy?e.cleanupPolicy:{});yield X8(t,r),!t.destroyed&&(yield Y8(n,r),yield function rZ(n,t){return jU.apply(this,arguments)}(n,r))}),BU.apply(this,arguments)}function Y8(n,t){return UU.apply(this,arguments)}function UU(){return(UU=(0,x.A)(function*(n,t){for(var e=n.collection,r=e.database,i=!1;!i&&!e.destroyed;){if(t.awaitReplicationsInSync){var c=yU.get(e);c&&(yield Promise.all(c.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(e.destroyed)return;VU=VU.then((0,x.A)(function*(){return!!e.destroyed||(yield r.requestIdlePromise(),n._cleanup())})),i=yield VU}})).apply(this,arguments)}function jU(){return(jU=(0,x.A)(function*(n,t){for(var e=n.collection;!e.destroyed;){if(yield e.promiseWait(t.runEach),e.destroyed)return;yield Y8(n,t)}})).apply(this,arguments)}var iZ={name:"cleanup",rxdb:!0,prototypes:{RxCollection:n=>{n.cleanup=function(){var t=(0,x.A)(function*(e){var r=Object.assign({},OU,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof e>"u"&&(e=r.minimumDeletedTime);for(var i=!1;!i&&!this.destroyed;)i=yield this.storageInstance.cleanup(e)});return function(e){return t.apply(this,arguments)}}()}},hooks:{createRxCollection:{after:n=>{!function eZ(n){kU.apply(this,arguments)}(n.collection)}},createRxState:{after:n=>{!function nZ(n){BU.apply(this,arguments)}(n.state)}}}};const Z8={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var uP,sZ=new Uint8Array(16);function aZ(){if(!uP&&!(uP=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uP(sZ)}for(var ts=[],$U=0;$U<256;++$U)ts.push(($U+256).toString(16).slice(1));const lZ=function cZ(n,t,e){if(Z8.randomUUID&&!t&&!n)return Z8.randomUUID();var r=(n=n||{}).random||(n.rng||aZ)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=r[i];return t}return function J8(n,t=0){return(ts[n[t+0]]+ts[n[t+1]]+ts[n[t+2]]+ts[n[t+3]]+"-"+ts[n[t+4]]+ts[n[t+5]]+"-"+ts[n[t+6]]+ts[n[t+7]]+"-"+ts[n[t+8]]+ts[n[t+9]]+"-"+ts[n[t+10]]+ts[n[t+11]]+ts[n[t+12]]+ts[n[t+13]]+ts[n[t+14]]+ts[n[t+15]]).toLowerCase()}(r)};let ul=(()=>{class n{constructor(e){this.remoteDbService=e,this.localDb=this.setupLocalDb("local_db",$X)}setupLocalDb(e,r){return(0,x.A)(function*(){(0,l.naY)()&&(yield O.e(486).then(O.bind(O,6486)).then(c=>rP(c.RxDBDevModePlugin))),rP(y8),rP(iZ);const i=yield(0,R8.uh)({name:e,storage:JY(),eventReduce:!0,cleanupPolicy:{minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0}});return yield i.addCollections(r),i})()}addDocument(e,r,i){return this.localDb.then(c=>{const d={...r,id:i||lZ()};return c[e].insert(d)}).catch(c=>{throw console.log(`LOL: Error on adding document into ${e}: ${c}`),new Error(`LOL: Error on adding document into ${e}: ${c}`)})}getDocumentsByIds(e,r){return this.localDb.then(i=>i[e].findByIds(r).$).catch(i=>{throw console.log(`LOL: Error on getting document from ${e}: ${i}`),new Error(`LOL: Error on getting document from ${e}: ${i}`)})}getDocumentById(e,r){var i=this;return(0,x.A)(function*(){return(yield i.getDocumentsByIds(e,[r])).pipe((0,xe.T)(d=>d.get(r)))})()}getAllCollectionDocs(e){return this.localDb.then(r=>r[e].find().$).catch(r=>{throw console.log(`LOL: Error on getting document from ${e}: ${r}`),new Error(`LOL: Error on getting document from ${e}: ${r}`)})}updateDocument(e,r,i){var c=this;return(0,x.A)(function*(){return(yield c.localDb)[e].findByIds([r]).exec().then(f=>f.get(r)).then(f=>f.patch(i)).catch(f=>{throw console.log(`LOL: Error on updating document id: ${r} in collection ${e}: ${f}`),new Error(`LOL: Error on updating document id: ${r} in collection ${e}: ${f}`)})})()}deleteDocument(e,r){var i=this;return(0,x.A)(function*(){return(yield i.localDb)[e].findByIds([r]).exec().then(d=>d.get(r)).then(d=>d.remove()).catch(d=>{throw console.log(`LOL: Error on removing document id: ${r} from collection: ${e}`),new Error(`LOL: Error on removing document id: ${r} from collection: ${e}`)})})()}cleanupCollection(e){var r=this;return(0,x.A)(function*(){yield(yield r.localDb)[e].cleanup(0)})()}replicateCollection(e){var r=this;return(0,x.A)(function*(){const i=(yield r.localDb).collections[e];r.remoteDbService.replicateCollection(e,i)})()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(N8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const uZ=["*"],fZ=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],pZ=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],mZ=new l.nKC("MAT_CARD_CONFIG");let yD=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(mZ,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,i){2&r&&l.AVh("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[l.aNF],ngContentSelectors:uZ,decls:1,vars:0,template:function(r,i){1&r&&(l.NAR(),l.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),HU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return n})(),bD=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return n})(),e6=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return n})(),zU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[l.aNF],ngContentSelectors:pZ,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,i){1&r&&(l.NAR(fZ),l.SdG(0),l.j41(1,"div",0),l.SdG(2,1),l.k0s(),l.SdG(3,2))},encapsulation:2,changeDetection:0})}return n})(),GU=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return n})(),ED=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,jo,Fr]})}return n})(),t6=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.sFG),l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n})}return n})(),ag=(()=>{class n extends t6{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,features:[l.Vt3]})}return n})();const Ac=new l.nKC(""),yZ={provide:Ac,useExisting:(0,l.Rfq)(()=>Ob),multi:!0},EZ=new l.nKC("");let Ob=(()=>{class n extends t6{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function bZ(){const n=X()?X().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(EZ,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&l.bIt("input",function(d){return i._handleInput(d.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(d){return i._compositionEnd(d.target.value)})},features:[l.Jv_([yZ]),l.Vt3]})}return n})();function Mf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function r6(n){return null!=n&&"number"==typeof n.length}const Fo=new l.nKC(""),Rf=new l.nKC(""),wZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ca{static min(t){return function i6(n){return t=>{if(Mf(t.value)||Mf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function o6(n){return t=>{if(Mf(t.value)||Mf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function s6(n){return Mf(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function a6(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function c6(n){return Mf(n.value)||wZ.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function l6(n){return t=>Mf(t.value)||!r6(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function u6(n){return t=>r6(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function d6(n){if(!n)return dP;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Mf(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return _6(t)}static composeAsync(t){return v6(t)}}function dP(n){return null}function h6(n){return null!=n}function f6(n){return(0,l.jNT)(n)?(0,Be.H)(n):n}function p6(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function m6(n,t){return t.map(e=>e(n))}function g6(n){return n.map(t=>function IZ(n){return!n.validate}(t)?t:e=>t.validate(e))}function _6(n){if(!n)return null;const t=n.filter(h6);return 0==t.length?null:function(e){return p6(m6(e,t))}}function WU(n){return null!=n?_6(g6(n)):null}function v6(n){if(!n)return null;const t=n.filter(h6);return 0==t.length?null:function(e){return LE(m6(e,t).map(f6)).pipe((0,xe.T)(p6))}}function KU(n){return null!=n?v6(g6(n)):null}function y6(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function b6(n){return n._rawValidators}function E6(n){return n._rawAsyncValidators}function qU(n){return n?Array.isArray(n)?n:[n]:[]}function hP(n,t){return Array.isArray(n)?n.includes(t):n===t}function w6(n,t){const e=qU(t);return qU(n).forEach(i=>{hP(e,i)||e.push(i)}),e}function I6(n,t){return qU(t).filter(e=>!hP(n,e))}class C6{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=WU(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=KU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Hs extends C6{get formDirective(){return null}get path(){return null}}class dl extends C6{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class D6{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let fP=(()=>{class n extends D6{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(dl,2))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&l.AVh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.Vt3]})}return n})(),pP=(()=>{class n extends D6{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Hs,10))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&l.AVh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.Vt3]})}return n})();const wD="VALID",gP="INVALID",Pb="PENDING",ID="DISABLED";class kb{}class A6 extends kb{constructor(t,e){super(),this.value=t,this.source=e}}class YU extends kb{constructor(t,e){super(),this.pristine=t,this.source=e}}class ZU extends kb{constructor(t,e){super(),this.touched=t,this.source=e}}class _P extends kb{constructor(t,e){super(),this.status=t,this.source=e}}class SZ extends kb{constructor(t){super(),this.source=t}}class xZ extends kb{constructor(t){super(),this.source=t}}function JU(n){return(vP(n)?n.validators:n)||null}function ej(n,t){return(vP(t)?t.asyncValidators:n)||null}function vP(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function S6(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.wOt(1e3,"");if(!r[e])throw new l.wOt(1001,"")}function x6(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new l.wOt(1002,"")})}class yP{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,l.EWP)(()=>this.statusReactive()),this.statusReactive=(0,l.vPA)(void 0),this._pristine=(0,l.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,l.vPA)(!0),this._touched=(0,l.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,l.vPA)(!1),this._events=new U.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return(0,l.O8t)(this.statusReactive)}set status(t){(0,l.O8t)(()=>this.statusReactive.set(t))}get valid(){return this.status===wD}get invalid(){return this.status===gP}get pending(){return this.status==Pb}get disabled(){return this.status===ID}get enabled(){return this.status!==ID}get pristine(){return(0,l.O8t)(this.pristineReactive)}set pristine(t){(0,l.O8t)(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return(0,l.O8t)(this.touchedReactive)}set touched(t){(0,l.O8t)(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(w6(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(w6(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(I6(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(I6(t,this._rawAsyncValidators))}hasValidator(t){return hP(this._rawValidators,t)}hasAsyncValidator(t){return hP(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),e&&!1!==t.emitEvent&&this._events.next(new ZU(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&!1!==t.emitEvent&&this._events.next(new ZU(!1,r))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),e&&!1!==t.emitEvent&&this._events.next(new YU(!1,r))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&!1!==t.emitEvent&&this._events.next(new YU(!0,r))}markAsPending(t={}){this.status=Pb;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new _P(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ID,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new A6(this.value,r)),this._events.next(new _P(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=wD,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wD||this.status===Pb)&&this._runAsyncValidator(r,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new A6(this.value,e)),this._events.next(new _P(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ID:wD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Pb,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const r=f6(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new _P(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?ID:this.errors?gP:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Pb)?Pb:this._anyControlsHaveStatus(gP)?gP:wD}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new YU(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ZU(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){vP(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function MZ(n){return Array.isArray(n)?WU(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function RZ(n){return Array.isArray(n)?KU(n):n||null}(this._rawAsyncValidators)}}class CD extends yP{constructor(t,e,r){super(JU(e),ej(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){x6(this,0,t),Object.keys(t).forEach(r=>{S6(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,c)=>{r=e(r,i,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class M6 extends CD{}const Nb=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>bP}),bP="always";function DD(n,t,e=bP){tj(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function PZ(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&R6(n,t)})}(n,t),function NZ(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function kZ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&R6(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function OZ(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function wP(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),CP(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function IP(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function tj(n,t){const e=b6(n);null!==t.validator?n.setValidators(y6(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=E6(n);null!==t.asyncValidator?n.setAsyncValidators(y6(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();IP(t._rawValidators,i),IP(t._rawAsyncValidators,i)}function CP(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=b6(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(d=>d!==t.validator);c.length!==i.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const i=E6(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(d=>d!==t.asyncValidator);c.length!==i.length&&(e=!0,n.setAsyncValidators(c))}}}const r=()=>{};return IP(t._rawValidators,r),IP(t._rawAsyncValidators,r),e}function R6(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function O6(n,t){tj(n,t)}function P6(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const UZ={provide:Hs,useExisting:(0,l.Rfq)(()=>Fb)},TD=Promise.resolve();let Fb=(()=>{class n extends Hs{get submitted(){return(0,l.O8t)(this.submittedReactive)}constructor(e,r,i){super(),this.callSetDisabledState=i,this._submitted=(0,l.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,l.vPA)(!1),this._directives=new Set,this.ngSubmit=new l.bkB,this.form=new CD({},WU(e),KU(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){TD.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),DD(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){TD.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){TD.then(()=>{const r=this._findContainer(e.path),i=new CD({});O6(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){TD.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){TD.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),P6(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Fo,10),l.rXU(Rf,10),l.rXU(Nb,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&l.bIt("submit",function(d){return i.onSubmit(d)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([UZ]),l.Vt3]})}return n})();function k6(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function N6(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const AD=class extends yP{constructor(t=null,e,r){super(JU(e),ej(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),vP(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=N6(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){k6(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){k6(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){N6(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};Promise.resolve();let DP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const zZ={provide:Ac,useExisting:(0,l.Rfq)(()=>oj),multi:!0};let oj=(()=>{class n extends ag{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&l.bIt("input",function(d){return i.onChange(d.target.value)})("blur",function(){return i.onTouched()})},features:[l.Jv_([zZ]),l.Vt3]})}return n})();const sj=new l.nKC(""),XZ={provide:Hs,useExisting:(0,l.Rfq)(()=>Rd)};let Rd=(()=>{class n extends Hs{get submitted(){return(0,l.O8t)(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,r,i){super(),this.callSetDisabledState=i,this._submitted=(0,l.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,l.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.bkB,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(CP(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return DD(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){wP(e.control||null,e,!1),function BZ(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),P6(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new SZ(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new xZ(this.form))}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(wP(r||null,e),(n=>n instanceof AD)(i)&&(DD(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);O6(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function FZ(n,t){return CP(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){tj(this.form,this),this._oldForm&&CP(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Fo,10),l.rXU(Rf,10),l.rXU(Nb,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&l.bIt("submit",function(d){return i.onSubmit(d)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([XZ]),l.Vt3,l.OA$]})}return n})();const ZZ={provide:dl,useExisting:(0,l.Rfq)(()=>SD)};let SD=(()=>{class n extends dl{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,r,i,c,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new l.bkB,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function ij(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(c=>{c.constructor===Ob?e=c:function VZ(n){return Object.getPrototypeOf(n.constructor)===ag}(c)?r=c:i=c}),i||r||e||null}(0,c)}ngOnChanges(e){this._added||this._setUpControl(),function rj(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function EP(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(l.rXU(Hs,13),l.rXU(Fo,10),l.rXU(Rf,10),l.rXU(Ac,10),l.rXU(sj,8))};static#n=this.\u0275dir=l.FsC({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.Jv_([ZZ]),l.Vt3,l.OA$]})}return n})(),fJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();class eW extends yP{constructor(t,e,r){super(JU(e),ej(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){x6(this,0,t),t.forEach((r,i)=>{S6(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function tW(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let pJ=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let c={};return tW(r)?c=r:null!==r&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new CD(i,c)}record(e,r=null){const i=this._reduceControls(e);return new M6(i,r)}control(e,r,i){let c={};return this.useNonNullable?(tW(r)?c=r:(c.validators=r,c.asyncValidators=i),new AD(e,{...c,nonNullable:!0})):new AD(e,r,i)}array(e,r,i){const c=e.map(d=>this._createControl(d));return new eW(c,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof AD||e instanceof yP?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fj=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(pJ).nonNullable,providedIn:"root"})}return n})(),pj=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:sj,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Nb,useValue:e.callSetDisabledState??bP}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[fJ]})}return n})();var mJ=O(6496);class gJ{constructor(t){this._box=t,this._destroyed=new U.B,this._resizeSubject=new U.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new J.c(e=>{const r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),r.unsubscribe(),this._elementObservables.delete(t)}}).pipe((0,Un.p)(e=>e.some(r=>r.target===t)),(0,mJ.t)({bufferSize:1,refCount:!0}),Sr(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let _J=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,l.WQX)(l.SKi)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new gJ(i)),this._observers.get(i).observe(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vJ=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),yJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[vJ]})}return n})();const bJ=["notch"],EJ=["matFormFieldNotchedOutline",""],wJ=["*"],IJ=["textField"],CJ=["iconPrefixContainer"],DJ=["textPrefixContainer"],TJ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],AJ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function SJ(n,t){1&n&&l.nrm(0,"span",19)}function xJ(n,t){if(1&n&&(l.j41(0,"label",18),l.SdG(1,1),l.DNE(2,SJ,1,0,"span",19),l.k0s()),2&n){const e=l.XpG(2);l.Y8G("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),l.BMQ("for",e._control.disableAutomaticLabeling?null:e._control.id),l.R7$(2),l.vxM(!e.hideRequiredMarker&&e._control.required?2:-1)}}function MJ(n,t){if(1&n&&l.DNE(0,xJ,3,5,"label",18),2&n){const e=l.XpG();l.vxM(e._hasFloatingLabel()?0:-1)}}function RJ(n,t){1&n&&l.nrm(0,"div",5)}function OJ(n,t){}function PJ(n,t){if(1&n&&l.DNE(0,OJ,0,0,"ng-template",11),2&n){l.XpG(2);const e=l.sdS(1);l.Y8G("ngTemplateOutlet",e)}}function kJ(n,t){if(1&n&&(l.j41(0,"div",7),l.DNE(1,PJ,1,1,null,11),l.k0s()),2&n){const e=l.XpG();l.Y8G("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),l.R7$(),l.vxM(e._forceDisplayInfixLabel()?-1:1)}}function NJ(n,t){1&n&&(l.j41(0,"div",8,2),l.SdG(2,2),l.k0s())}function FJ(n,t){1&n&&(l.j41(0,"div",9,3),l.SdG(2,3),l.k0s())}function LJ(n,t){}function VJ(n,t){if(1&n&&l.DNE(0,LJ,0,0,"ng-template",11),2&n){l.XpG();const e=l.sdS(1);l.Y8G("ngTemplateOutlet",e)}}function BJ(n,t){1&n&&(l.j41(0,"div",12),l.SdG(1,4),l.k0s())}function UJ(n,t){1&n&&(l.j41(0,"div",13),l.SdG(1,5),l.k0s())}function jJ(n,t){1&n&&l.nrm(0,"div",14)}function $J(n,t){if(1&n&&(l.j41(0,"div",16),l.SdG(1,6),l.k0s()),2&n){const e=l.XpG();l.Y8G("@transitionMessages",e._subscriptAnimationState)}}function HJ(n,t){if(1&n&&(l.j41(0,"mat-hint",20),l.EFF(1),l.k0s()),2&n){const e=l.XpG(2);l.Y8G("id",e._hintLabelId),l.R7$(),l.JRh(e.hintLabel)}}function zJ(n,t){if(1&n&&(l.j41(0,"div",17),l.DNE(1,HJ,2,2,"mat-hint",20),l.SdG(2,7),l.nrm(3,"div",21),l.SdG(4,8),l.k0s()),2&n){const e=l.XpG();l.Y8G("@transitionMessages",e._subscriptAnimationState),l.R7$(),l.vxM(e.hintLabel?1:-1)}}let xD=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-label"]],standalone:!0})}return n})();const GJ=new l.nKC("MatError");let WJ=0,nW=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+WJ++}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){2&r&&(l.Mr5("id",i.id),l.BMQ("align",null),l.AVh("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},standalone:!0})}return n})();const KJ=new l.nKC("MatPrefix"),rW=new l.nKC("MatSuffix");let qJ=(()=>{class n{constructor(){this._isText=!1}set _isTextSelector(e){this._isText=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","matSuffix",""],["","matIconSuffix",""],["","matTextSuffix",""]],inputs:{_isTextSelector:[0,"matTextSuffix","_isTextSelector"]},standalone:!0,features:[l.Jv_([{provide:rW,useExisting:n}])]})}return n})();const iW=new l.nKC("FloatingLabelParent");let oW=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,l.WQX)(_J),this._ngZone=(0,l.WQX)(l.SKi),this._parent=(0,l.WQX)(iW),this._resizeSubscription=new re.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function XJ(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return n})();const sW="mdc-line-ripple--active",TP="mdc-line-ripple--deactivating";let aW=(()=>{class n{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=i=>{const c=this._elementRef.nativeElement.classList,d=c.contains(TP);"opacity"===i.propertyName&&d&&c.remove(sW,TP)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(TP),e.add(sW)}deactivate(){this._elementRef.nativeElement.classList.add(TP)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return n})(),cW=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(1&r&&l.GBs(bJ,5),2&r){let c;l.mGM(c=l.lsd())&&(i._notch=c.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[l.aNF],attrs:EJ,ngContentSelectors:wJ,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){1&r&&(l.NAR(),l.nrm(0,"div",1),l.j41(1,"div",2,0),l.SdG(3),l.k0s(),l.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const QJ={transitionMessages:(0,wn.hZ)("transitionMessages",[(0,wn.wk)("enter",(0,wn.iF)({opacity:1,transform:"translateY(0%)"})),(0,wn.kY)("void => enter",[(0,wn.iF)({opacity:0,transform:"translateY(-5px)"}),(0,wn.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let AP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n})}return n})();const SP=new l.nKC("MatFormField"),YJ=new l.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let lW=0,mj=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=w_(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,i,c,d,f,m,w){this._elementRef=e,this._changeDetectorRef=r,this._dir=c,this._platform=d,this._defaults=f,this._animationMode=m,this._labelChild=(0,l.sbv)(xD),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+lW++,this._hintLabelId="mat-mdc-hint-"+lW++,this._subscriptAnimationState="",this._destroyed=new U.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,l.WQX)(l.zZn),this.getLabelId=(0,l.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,l.EWP)(()=>!!this._labelChild()),f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=!!f?.hideRequiredMarker,f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Sr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Di.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,l.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Sr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,i=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,c=r?.getBoundingClientRect().width??0,d=i?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${c+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(_c),l.rXU(pi),l.rXU(YJ,8),l.rXU(l.bc$,8),l.rXU(Te))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,c){if(1&r&&(l.C6U(c,i._labelChild,xD,5),l.wni(c,AP,5),l.wni(c,KJ,5),l.wni(c,rW,5),l.wni(c,GJ,5),l.wni(c,nW,5)),2&r){let d;l.NyB(),l.mGM(d=l.lsd())&&(i._formFieldControl=d.first),l.mGM(d=l.lsd())&&(i._prefixChildren=d),l.mGM(d=l.lsd())&&(i._suffixChildren=d),l.mGM(d=l.lsd())&&(i._errorChildren=d),l.mGM(d=l.lsd())&&(i._hintChildren=d)}},viewQuery:function(r,i){if(1&r&&(l.GBs(IJ,5),l.GBs(CJ,5),l.GBs(DJ,5),l.GBs(oW,5),l.GBs(cW,5),l.GBs(aW,5)),2&r){let c;l.mGM(c=l.lsd())&&(i._textField=c.first),l.mGM(c=l.lsd())&&(i._iconPrefixContainer=c.first),l.mGM(c=l.lsd())&&(i._textPrefixContainer=c.first),l.mGM(c=l.lsd())&&(i._floatingLabel=c.first),l.mGM(c=l.lsd())&&(i._notchedOutline=c.first),l.mGM(c=l.lsd())&&(i._lineRipple=c.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,i){2&r&&l.AVh("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[l.Jv_([{provide:SP,useExisting:n},{provide:iW,useExisting:n}]),l.aNF],ngContentSelectors:AJ,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(1&r){const c=l.RV6();l.NAR(TJ),l.DNE(0,MJ,1,1,"ng-template",null,0,l.C5r),l.j41(2,"div",4,1),l.bIt("click",function(f){return l.eBV(c),l.Njj(i._control.onContainerClick(f))}),l.DNE(4,RJ,1,0,"div",5),l.j41(5,"div",6),l.DNE(6,kJ,2,2,"div",7)(7,NJ,3,0,"div",8)(8,FJ,3,0,"div",9),l.j41(9,"div",10),l.DNE(10,VJ,1,1,null,11),l.SdG(11),l.k0s(),l.DNE(12,BJ,2,0,"div",12)(13,UJ,2,0,"div",13),l.k0s(),l.DNE(14,jJ,1,0,"div",14),l.k0s(),l.j41(15,"div",15),l.DNE(16,$J,2,1,"div",16)(17,zJ,5,2,"div",17),l.k0s()}if(2&r){let c;l.R7$(2),l.AVh("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),l.R7$(2),l.vxM(i._hasOutline()||i._control.disabled?-1:4),l.R7$(2),l.vxM(i._hasOutline()?6:-1),l.R7$(),l.vxM(i._hasIconPrefix?7:-1),l.R7$(),l.vxM(i._hasTextPrefix?8:-1),l.R7$(2),l.vxM(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),l.R7$(2),l.vxM(i._hasTextSuffix?12:-1),l.R7$(),l.vxM(i._hasIconSuffix?13:-1),l.R7$(),l.vxM(i._hasOutline()?-1:14),l.R7$(),l.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),l.R7$(),l.vxM("error"===(c=i._getDisplayedMessages())?16:"hint"===c?17:-1)}},dependencies:[oW,cW,vl,aW,nW],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[QJ.transitionMessages]},changeDetection:0})}return n})(),Lb=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,jo,yJ,Fr]})}return n})();const hW=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],fW=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function eee(n,t){1&n&&(l.j41(0,"span",3),l.SdG(1,1),l.k0s())}function tee(n,t){1&n&&(l.j41(0,"span",6),l.SdG(1,2),l.k0s())}const gj=["*"],xP=new l.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),_j=new l.nKC("MatChipAvatar"),vj=new l.nKC("MatChipTrailingIcon"),yj=new l.nKC("MatChipRemove"),MP=new l.nKC("MatChip");let Vb=(()=>{class n{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=e}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,r){this._elementRef=e,this._parentChip=r,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(MP))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._handleClick(d)})("keydown",function(d){return i._handleKeydown(d)}),2&r&&(l.BMQ("tabindex",i._getTabindex())("disabled",i._getDisabledAttribute())("aria-disabled",i.disabled),l.AVh("mdc-evolution-chip__action--primary",i._isPrimary)("mdc-evolution-chip__action--presentational",!i.isInteractive)("mdc-evolution-chip__action--trailing",!i._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?-1:(0,l.Udg)(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[l.GFd]})}return n})(),gee=0,Of=(()=>{class n{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,r,i,c,d,f,m,w){this._changeDetectorRef=e,this._elementRef=r,this._ngZone=i,this._focusMonitor=c,this._globalRippleOptions=m,this._onFocus=new U.B,this._onBlur=new U.B,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+gee++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new l.bkB,this.destroyed=new l.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,l.WQX)(tS),this._injector=(0,l.WQX)(l.zZn),this._document=d,this._animationsDisabled="NoopAnimations"===f,null!=w&&(this.tabIndex=parseInt(w)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,Di.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode&&!e.repeat||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(r=>{const i=r._elementRef.nativeElement;return i===e||i.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const r=null!==e;r!==this._hasFocusInternal&&(this._hasFocusInternal=r,r?this._onFocus.next({chip:this}):(0,l.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(Ua),l.rXU(Te),l.rXU(l.bc$,8),l.rXU(kE,8),l.kS0("tabindex"))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(r,i,c){if(1&r&&(l.wni(c,_j,5),l.wni(c,vj,5),l.wni(c,yj,5),l.wni(c,_j,5),l.wni(c,vj,5),l.wni(c,yj,5)),2&r){let d;l.mGM(d=l.lsd())&&(i.leadingIcon=d.first),l.mGM(d=l.lsd())&&(i.trailingIcon=d.first),l.mGM(d=l.lsd())&&(i.removeIcon=d.first),l.mGM(d=l.lsd())&&(i._allLeadingIcons=d),l.mGM(d=l.lsd())&&(i._allTrailingIcons=d),l.mGM(d=l.lsd())&&(i._allRemoveIcons=d)}},viewQuery:function(r,i){if(1&r&&l.GBs(Vb,5),2&r){let c;l.mGM(c=l.lsd())&&(i.primaryAction=c.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(r,i){1&r&&l.bIt("keydown",function(d){return i._handleKeydown(d)}),2&r&&(l.Mr5("id",i.id),l.BMQ("role",i.role)("tabindex",i._getTabIndex())("aria-label",i.ariaLabel),l.HbH("mat-"+(i.color||"primary")),l.AVh("mdc-evolution-chip",!i._isBasicChip)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",i.leadingIcon)("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-basic-chip",i._isBasicChip)("mat-mdc-standard-chip",!i._isBasicChip)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon())("_mat-animation-noopable",i._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",l.L39],highlighted:[2,"highlighted","highlighted",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],disabled:[2,"disabled","disabled",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,l.Udg)(e)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[l.Jv_([{provide:MP,useExisting:n}]),l.GFd,l.aNF],ngContentSelectors:fW,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(r,i){1&r&&(l.NAR(hW),l.nrm(0,"span",0),l.j41(1,"span",1)(2,"span",2),l.DNE(3,eee,2,0,"span",3),l.j41(4,"span",4),l.SdG(5),l.nrm(6,"span",5),l.k0s()()(),l.DNE(7,tee,2,0,"span",6)),2&r&&(l.R7$(2),l.Y8G("isInteractive",!1),l.R7$(),l.vxM(i.leadingIcon?3:-1),l.R7$(4),l.vxM(i._hasTrailingIcon()?7:-1))},dependencies:[Vb],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),MD=(()=>{class n{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,r,i){this._elementRef=e,this._changeDetectorRef=r,this._dir=i,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new U.B,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new l.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=e,this._changeDetectorRef.markForCheck()})}}_getChipStream(e){return this._chips.changes.pipe((0,zo.Z)(null),fi(()=>(0,Di.h)(...this._chips.map(e))))}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-mdc-chip"))return!0;r=r.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,zo.Z)(this._chips)).subscribe(e=>{const r=[];e.forEach(i=>i._getActions().forEach(c=>r.push(c))),this._chipActions.reset(r),this._chipActions.notifyOnChanges()}),this._keyManager=new P1(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(Sr(this._destroyed)).subscribe(({chip:e})=>{const r=e._getSourceAction(document.activeElement);r&&this._keyManager.updateActiveItem(r)}),this._dir?.change.pipe(Sr(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,zo.Z)(null),Sr(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Sr(this._destroyed)).subscribe(e=>{const i=this._chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=i)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),r=this._chips.toArray()[e];r.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():r.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(_c,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-chip-set"]],contentQueries:function(r,i,c){if(1&r&&l.wni(c,Of,5),2&r){let d;l.mGM(d=l.lsd())&&(i._chips=d)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(r,i){1&r&&l.bIt("keydown",function(d){return i._handleKeydown(d)}),2&r&&l.BMQ("role",i.role)},inputs:{disabled:[2,"disabled","disabled",l.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)]},standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:gj,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(r,i){1&r&&(l.NAR(),l.j41(0,"div",0),l.SdG(1),l.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),bj=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[k_,{provide:xP,useValue:{separatorKeyCodes:[13]}}],imports:[Fr,Op,Fr]})}return n})(),wee=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(ul)}replicate(){this.dbService.replicateCollection(yi.STORIES),this.dbService.replicateCollection(yi.CHAPTERS)}cleanup(){this.dbService.cleanupCollection(yi.STORIES),this.dbService.cleanupCollection(yi.CHAPTERS),console.log(`LOL: Running ceanup for collections: ${yi.STORIES}, ${yi.CHAPTERS}`)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["editor"]],standalone:!0,features:[l.aNF],decls:11,vars:0,consts:[[1,"flex-container"],["mat-fab","","extended","",3,"click"],[1,"outlet-container"]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"button",1),l.bIt("click",function(){return i.cleanup()}),l.j41(2,"mat-icon"),l.EFF(3,"cleaning_services"),l.k0s(),l.EFF(4," Cleanup "),l.k0s(),l.j41(5,"button",1),l.bIt("click",function(){return i.replicate()}),l.j41(6,"mat-icon"),l.EFF(7,"sync"),l.k0s(),l.EFF(8," Replicate "),l.k0s()(),l.j41(9,"div",2),l.nrm(10,"router-outlet"),l.k0s())},dependencies:[jo,yp,lp,ED,yc,Wl,ma,Qu,bj],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;row-gap:15px;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:flex;justify-content:center;width:150px}.outlet-container[_ngcontent-%COMP%]{margin-top:15px}"]})}return n})();const Iee=(n,t)=>t.id,Cee=(n,t)=>["/library/story",n,"gameboard",t];function Dee(n,t){1&n&&(l.j41(0,"h2",0),l.EFF(1),l.k0s()),2&n&&(l.R7$(),l.JRh(t.name))}function Tee(n,t){1&n&&(l.j41(0,"mat-icon"),l.EFF(1,"star"),l.k0s())}function Aee(n,t){if(1&n&&(l.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),l.EFF(3),l.DNE(4,Tee,2,0,"mat-icon"),l.k0s(),l.j41(5,"mat-card-subtitle"),l.EFF(6),l.k0s()(),l.j41(7,"mat-card-content"),l.EFF(8),l.k0s()()),2&n){const e=t.$implicit,r=l.XpG();l.Y8G("routerLink",l.l_i(6,Cee,r.storyId,e.id)),l.R7$(3),l.Lme(" ",e.chapter_number,": ",e.name," "),l.R7$(),l.vxM(e.is_premium?4:-1),l.R7$(2),l.JRh(e.author),l.R7$(2),l.JRh(e.description)}}let See=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(ul),this.story$=this.getStory()}ngOnInit(){this.story$=this.getStory()}getStory(){var e=this;return(0,x.A)(function*(){return yield e.dbService.getDocumentById(yi.STORIES,e.storyId)})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["story"]],inputs:{storyId:"storyId",chapters$:"chapters$"},standalone:!0,features:[l.aNF],decls:6,vars:7,consts:[[1,"title"],["appearance","outlined",3,"routerLink"]],template:function(r,i){if(1&r&&(l.DNE(0,Dee,2,1,"h2",0),l.nI1(1,"async"),l.nI1(2,"async"),l.Z7z(3,Aee,9,9,"mat-card",1,Iee),l.nI1(5,"async")),2&r){let c;l.vxM((c=l.bMT(2,3,l.bMT(1,1,i.story$)))?0:-1,c),l.R7$(3),l.Dyx(l.bMT(5,5,i.chapters$))}},dependencies:[jo,wr,yp,fc,ED,yD,bD,zU,e6,HU,yc,Wl],styles:[".title[_ngcontent-%COMP%]{margin-bottom:15px}"]})}return n})();function xee(n,t){1&n&&l.nrm(0,"div",2)}const Mee=new l.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Oee=(()=>{class n{constructor(e,r,i,c,d){this._elementRef=e,this._ngZone=r,this._changeDetectorRef=i,this._animationMode=c,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new l.bkB,this._mode="determinate",this._transitionendHandler=f=>{0===this.animationEnd.observers.length||!f.target||!f.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===c,d&&(d.color&&(this.color=this._defaultColor=d.color),this.mode=d.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=yW(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=yW(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(l.gRc),l.rXU(l.bc$,8),l.rXU(Mee,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(r,i){2&r&&(l.BMQ("aria-valuenow",i._isIndeterminate()?null:i.value)("mode",i.mode),l.HbH("mat-"+i.color),l.AVh("_mat-animation-noopable",i._isNoopAnimation)("mdc-linear-progress--animation-ready",!i._isNoopAnimation)("mdc-linear-progress--indeterminate",i._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",l.Udg],bufferValue:[2,"bufferValue","bufferValue",l.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[l.GFd,l.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(r,i){1&r&&(l.j41(0,"div",0),l.nrm(1,"div",1),l.DNE(2,xee,1,0,"div",2),l.k0s(),l.j41(3,"div",3),l.nrm(4,"span",4),l.k0s(),l.j41(5,"div",5),l.nrm(6,"span",4),l.k0s()),2&r&&(l.R7$(),l.xc7("flex-basis",i._getBufferBarFlexBasis()),l.R7$(),l.vxM("buffer"===i.mode?2:-1),l.R7$(),l.xc7("transform",i._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color);border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape)}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color)}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return n})();function yW(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let Pee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr]})}return n})(),kee=(()=>{class n{constructor(){this.el=(0,l.WQX)(l.aKT),this.renderer=(0,l.WQX)(l.sFG),this.listeners=[]}ngAfterViewInit(){this.createInteractiveText(this.text)}ngOnDestroy(){this.listeners.forEach(e=>{e&&e()})}createInteractiveText(e){let i=`${e}`;[...i.matchAll(/[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}/g)].forEach(d=>{const f=i.indexOf(d[0]),m=f+d[0].length,w=i.slice(0,f);this.addText(w);const A=i.slice(f,m);this.addRef(A),i=i.slice(m)}),this.addText(i)}addText(e){const r=this.renderer.createText(e);this.renderer.appendChild(this.el.nativeElement,r)}addRef(e){const r=this.renderer.createText(e),i=this.renderer.createElement("span");this.renderer.addClass(i,"ref"),this.renderer.appendChild(i,r),this.renderer.appendChild(this.el.nativeElement,i);const c=this.renderer.listen(i,"click",d=>{console.log(`LOL: Event ${d} for ID: ${e}`)});this.listeners.push(c)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["game-text"]],inputs:{text:"text"},standalone:!0,features:[l.aNF],decls:0,vars:0,template:function(r,i){},styles:[".ref[_ngcontent-%COMP%]{color:red;cursor:pointer}.ref[_ngcontent-%COMP%]:hover{color:green}"]})}return n})();function Nee(n,t){if(1&n&&(l.j41(0,"div",1),l.EFF(1),l.nI1(2,"titlecase"),l.nrm(3,"mat-progress-bar",5),l.EFF(4),l.nI1(5,"titlecase"),l.nrm(6,"mat-progress-bar",5),l.k0s()),2&n){const e=t;l.R7$(),l.SpI(" ",l.bMT(2,8,e.empathy_name),": 65 "),l.R7$(2),l.Y8G("mode","determinate")("value",65)("bufferValue",100),l.R7$(),l.SpI(" ",l.bMT(5,10,e.sympathy_name),": 100 "),l.R7$(2),l.Y8G("mode","determinate")("value",100)("bufferValue",100)}}let Fee=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(ul),this.chapter$=this.dbService.getDocumentById(yi.CHAPTERS,this.chapterId),this.text="This defines 5e0f2bd0-2b43-4df3-9542-1d4969e24f87 the ability for a flex item to grow if necessary. It accepts a unitless value that serves as a proportion. It dictates what amount of the available space inside the flex container the item should take up.\n\nIf all items have flex-grow set to 1, the fb506849-9ef5-4771-a1c0-508460bf16ce remaining space in the container will be distributed equally to all children. If one of the children has a value of 2, that child would take up twice as much of the space as either one of the others (or it will try, at least)."}ngOnInit(){this.chapter$=this.dbService.getDocumentById(yi.CHAPTERS,this.chapterId)}lol(e){return()=>console.log(`LOL pipe ${e}`)}buildRefs(e){return()=>{}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-gameboard"]],inputs:{chapterId:"chapterId"},standalone:!0,features:[l.aNF],decls:14,vars:6,consts:[[1,"game-container"],[1,"stats-area"],[1,"text-area",3,"text"],[1,"button-area"],["mat-fab","","extended",""],[3,"mode","value","bufferValue"]],template:function(r,i){if(1&r&&(l.j41(0,"div",0),l.DNE(1,Nee,7,12,"div",1),l.nI1(2,"async"),l.nI1(3,"async"),l.nrm(4,"game-text",2),l.j41(5,"div",3)(6,"button",4),l.EFF(7," Inventory "),l.j41(8,"mat-icon"),l.EFF(9,"business_center"),l.k0s()(),l.j41(10,"button",4),l.EFF(11," Info "),l.j41(12,"mat-icon"),l.EFF(13,"menu_book"),l.k0s()()()()),2&r){let c;l.R7$(),l.vxM((c=l.bMT(3,4,l.bMT(2,2,i.chapter$)))?1:-1,c),l.R7$(3),l.Y8G("text",i.text)}},dependencies:[jo,wr,Fd,ma,Qu,yc,Wl,Pee,Oee,kee],styles:[".game-container[_ngcontent-%COMP%]{height:90vh;display:flex;flex-direction:column;align-content:stretch;justify-content:space-between}.stats-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1}.stats-area[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px}.text-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:7;outline:2px solid white;padding:15px;font-size:18px;line-height:25px}.button-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:2;display:flex;flex-wrap:wrap;align-content:center;justify-content:space-around;row-gap:15px}.button-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:70px}"]})}return n})(),Lee=(()=>{class n{constructor(e,r){this.authService=e,this.router=r}guestLogin(){this.authService.anonymousLogin().then(()=>{console.log("LOL: Logging in as guest"),this.router.navigate(["/library"])})}googleLogin(){this.authService.googleLogin().then(()=>{console.log("LOL: Login via google"),this.router.navigate(["/library"])})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(EU),l.rXU(co))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["start"]],standalone:!0,features:[l.aNF],decls:9,vars:0,consts:[[1,"start-container"],["src","assets/interface/Detective.jpg","alt","Detective"],["mat-fab","","extended","",3,"click"],["mat-fab","","extended","","routerLink","/signin"]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"div"),l.nrm(2,"img",1),l.k0s(),l.j41(3,"button",2),l.bIt("click",function(){return i.guestLogin()}),l.EFF(4,"Sign in as Guest"),l.k0s(),l.j41(5,"button",3),l.EFF(6,"Sign in via email"),l.k0s(),l.j41(7,"button",2),l.bIt("click",function(){return i.googleLogin()}),l.EFF(8,"Sign in via Google"),l.k0s()())},dependencies:[fc,ma,Qu],styles:[".start-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:90vh;align-items:center;justify-content:space-around}.start-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:300px}"]})}return n})();const Vee=(n,t)=>t.id,Bee=n=>["/library/story",n];function Uee(n,t){if(1&n&&(l.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),l.EFF(3),l.k0s()(),l.j41(4,"mat-card-content"),l.EFF(5),l.k0s()()),2&n){const e=t.$implicit,r=t.$index;l.Y8G("routerLink",l.eq3(4,Bee,e.id)),l.R7$(3),l.Lme("",r," ",e.name,""),l.R7$(2),l.SpI(" ",e.description," ")}}let jee=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["library"]],inputs:{stories$:"stories$"},standalone:!0,features:[l.aNF],decls:6,vars:2,consts:[["appearance","outlined",3,"routerLink"]],template:function(r,i){1&r&&(l.j41(0,"h3"),l.EFF(1,"Stories"),l.k0s(),l.nrm(2,"router-outlet"),l.Z7z(3,Uee,6,6,"mat-card",0,Vee),l.nI1(5,"async")),2&r&&(l.R7$(3),l.Dyx(l.bMT(5,0,i.stories$)))},dependencies:[jo,wr,yp,lp,fc,ED,yD,bD,zU,HU],styles:[".mat-mdc-card-content[_ngcontent-%COMP%]:hover{color:red}"]})}return n})();function $ee(n,t){}class OP{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let bW=(()=>{class n extends sv{constructor(e,r,i,c,d,f,m,w){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=d,this._ngZone=f,this._overlayRef=m,this._focusMonitor=w,this._platform=(0,l.WQX)(pi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,l.WQX)(l.gRc),this._injector=(0,l.WQX)(l.zZn),this._isDestroyed=!1,this.attachDomPortal=A=>{this._portalOutlet.hasAttached();const R=this._portalOutlet.attachDomPortal(A);return this._contentAttached(),R},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const r=this._ariaLabelledByQueue.indexOf(e);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(r)}_focusByCssSelector(e,r){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,r)}_trapFocus(){this._isDestroyed||(0,l.mal)(()=>{const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let r=null;if("string"==typeof e?r=this._document.querySelector(e):"boolean"==typeof e?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=h_(),c=this._elementRef.nativeElement;(!i||i===this._document.body||i===c||c.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=h_();return e===r||e.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=h_()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(NA),l.rXU(Te,8),l.rXU(OP),l.rXU(C_),l.rXU(l.SKi),l.rXU(uv),l.rXU(Ua))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(1&r&&l.GBs(sw,7),2&r){let c;l.mGM(c=l.lsd())&&(i._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){2&r&&l.BMQ("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},standalone:!0,features:[l.Vt3,l.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&l.DNE(0,$ee,0,0,"ng-template",0)},dependencies:[sw],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class Ej{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new U.B,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!gc(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const EW=new l.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Qo);return()=>n.scrollStrategies.block()}}),Hee=new l.nKC("DialogData"),zee=new l.nKC("DefaultDialogConfig");let Wee=0,Kee=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,r,i,c,d,f){this._overlay=e,this._injector=r,this._defaultOptions=i,this._parentDialog=c,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new U.B,this._afterOpenedAtThisLevel=new U.B,this._ariaHiddenElements=new Map,this.afterAllClosed=en(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,zo.Z)(void 0))),this._scrollStrategy=f}open(e,r){(r={...this._defaultOptions||new OP,...r}).id=r.id||"cdk-dialog-"+Wee++,r.id&&this.getDialogById(r.id);const c=this._getOverlayConfig(r),d=this._overlay.create(c),f=new Ej(d,r),m=this._attachContainer(d,f,r);return f.containerInstance=m,this._attachDialogContent(e,f,m,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){wj(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){wj(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),wj(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const r=new fw({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,i){const c=i.injector||i.viewContainerRef?.injector,d=[{provide:OP,useValue:i},{provide:Ej,useValue:r},{provide:uv,useValue:e}];let f;i.container?"function"==typeof i.container?f=i.container:(f=i.container.type,d.push(...i.container.providers(i))):f=bW;const m=new ov(f,i.viewContainerRef,l.zZn.create({parent:c||this._injector,providers:d}),i.componentFactoryResolver);return e.attach(m).instance}_attachDialogContent(e,r,i,c){if(e instanceof l.C4Q){const d=this._createInjector(c,r,i,void 0);let f={$implicit:c.data,dialogRef:r};c.templateContext&&(f={...f,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),i.attachTemplatePortal(new Xp(e,null,f,d))}else{const d=this._createInjector(c,r,i,this._injector),f=i.attachComponentPortal(new ov(e,c.viewContainerRef,d,c.componentFactoryResolver));r.componentRef=f,r.componentInstance=f.instance}}_createInjector(e,r,i,c){const d=e.injector||e.viewContainerRef?.injector,f=[{provide:Hee,useValue:e.data},{provide:Ej,useValue:r}];return e.providers&&("function"==typeof e.providers?f.push(...e.providers(r,e,i)):f.push(...e.providers)),e.direction&&(!d||!d.get(_c,null,{optional:!0}))&&f.push({provide:_c,useValue:{value:e.direction,change:Y()}}),l.zZn.create({parent:d||c,providers:f})}_removeOpenDialog(e,r){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,d)=>{c?d.setAttribute("aria-hidden",c):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){const c=r[i];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Qo),l.KVO(l.zZn),l.KVO(zee,8),l.KVO(n,12),l.KVO(lv),l.KVO(EW))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wj(n,t){let e=n.length;for(;e--;)t(n[e])}function qee(n,t){}class Ij{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Cj="mdc-dialog--open",wW="mdc-dialog--opening",IW="mdc-dialog--closing";let CW=(()=>{class n extends bW{constructor(e,r,i,c,d,f,m,w,A){super(e,r,i,c,d,f,m,A),this._animationMode=w,this._animationStateChanged=new l.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?TW(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?TW(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(DW,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(wW,Cj)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Cj),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Cj),this._animationsEnabled?(this._hostElement.style.setProperty(DW,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(IW)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(wW,IW)}_waitForAnimationToComplete(e,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const r=super.attachComponentPortal(e);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(NA),l.rXU(Te,8),l.rXU(Ij),l.rXU(C_),l.rXU(l.SKi),l.rXU(uv),l.rXU(l.bc$,8),l.rXU(Ua))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,i){2&r&&(l.Mr5("id",i._config.id),l.BMQ("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.AVh("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},standalone:!0,features:[l.Vt3,l.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"div",1),l.DNE(2,qee,0,0,"ng-template",2),l.k0s()())},dependencies:[sw],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return n})();const DW="--mat-dialog-transition-duration";function TW(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?xA(n.substring(0,n.length-2)):n.endsWith("s")?1e3*xA(n.substring(0,n.length-1)):"0"===n?0:null}var PP=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(PP||{});class Dj{constructor(t,e,r){this._ref=t,this._containerInstance=r,this._afterOpened=new U.B,this._beforeClosed=new U.B,this._state=PP.OPEN,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe((0,Un.p)(i=>"opened"===i.state),Qr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe((0,Un.p)(i=>"closed"===i.state),Qr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Di.h)(this.backdropClick(),this.keydownEvents().pipe((0,Un.p)(i=>27===i.keyCode&&!this.disableClose&&!gc(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),AW(this,"keydown"===i.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe((0,Un.p)(e=>"closing"===e.state),Qr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=PP.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=PP.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function AW(n,t,e){return n._closeInteractionType=t,n.close(e)}const SW=new l.nKC("MatMdcDialogData"),Yee=new l.nKC("mat-mdc-dialog-default-options"),xW=new l.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Qo);return()=>n.scrollStrategies.block()}});let Jee=0,kP=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,r,i,c,d,f,m,w){this._overlay=e,this._defaultOptions=c,this._scrollStrategy=d,this._parentDialog=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new U.B,this._afterOpenedAtThisLevel=new U.B,this.dialogConfigClass=Ij,this.afterAllClosed=en(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,zo.Z)(void 0))),this._dialog=r.get(Kee),this._dialogRefConstructor=Dj,this._dialogContainerType=CW,this._dialogDataToken=SW}open(e,r){let i;(r={...this._defaultOptions||new Ij,...r}).id=r.id||"mat-mdc-dialog-"+Jee++,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(e,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:OP,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(d,f,m)=>(i=new this._dialogRefConstructor(d,r,m),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentRef=c.componentRef,i.componentInstance=c.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(i);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Qo),l.KVO(l.zZn),l.KVO(kn,8),l.KVO(Yee,8),l.KVO(xW),l.KVO(n,12),l.KVO(lv),l.KVO(l.bc$,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ete=0,MW=(()=>{class n{constructor(e,r,i){this.dialogRef=e,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=NW(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){AW(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Dj,8),l.rXU(l.aKT),l.rXU(kP))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._onButtonClick(d)}),2&r&&l.BMQ("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[l.OA$]})}return n})(),RW=(()=>{class n{constructor(e,r,i){this._dialogRef=e,this._elementRef=r,this._dialog=i}ngOnInit(){this._dialogRef||(this._dialogRef=NW(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Dj,8),l.rXU(l.aKT),l.rXU(kP))};static#t=this.\u0275dir=l.FsC({type:n,standalone:!0})}return n})(),OW=(()=>{class n extends RW{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+ete++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(r,i){2&r&&l.Mr5("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[l.Vt3]})}return n})(),PW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[l.nM4([dw])]})}return n})(),kW=(()=>{class n extends RW{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,i){2&r&&l.AVh("mat-mdc-dialog-actions-align-start","start"===i.align)("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"},standalone:!0,features:[l.Vt3]})}return n})();function NW(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(r=>r.id===e.id):null}let LW=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(SW))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["delete-confirmation"]],standalone:!0,features:[l.aNF],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""],["mat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(r,i){1&r&&(l.j41(0,"h2",0),l.EFF(1,"Delete element"),l.k0s(),l.j41(2,"mat-dialog-content"),l.EFF(3),l.k0s(),l.j41(4,"mat-dialog-actions")(5,"button",1),l.EFF(6,"No"),l.k0s(),l.j41(7,"button",2),l.bIt("click",function(){return i.data.deleteFunction()}),l.EFF(8,"Ok"),l.k0s()()),2&r&&(l.R7$(3),l.E5c(" Do you want to delete ",i.data.name," (ID: ",i.data.id,") from ",i.data.collection,"? "))},dependencies:[ma,XN,OW,PW,kW,MW],changeDetection:0})}return n})();const tte=(n,t)=>t.id,nte=()=>["/editor/stories",null],rte=n=>["/editor/stories",n],ite=n=>["/editor/stories",n,"chapters"];function ote(n,t){if(1&n){const e=l.RV6();l.j41(0,"mat-card",3)(1,"mat-card-content"),l.EFF(2),l.k0s(),l.j41(3,"mat-card-footer",4)(4,"mat-chip-set",5)(5,"mat-chip",6)(6,"mat-icon"),l.EFF(7,"edit"),l.k0s(),l.EFF(8," Edit "),l.k0s(),l.j41(9,"mat-chip",7),l.bIt("click",function(){const i=l.eBV(e).$implicit,c=l.XpG();return l.Njj(c.delete(i))}),l.j41(10,"mat-icon"),l.EFF(11,"delete"),l.k0s(),l.EFF(12," Delete "),l.k0s(),l.j41(13,"mat-chip",6)(14,"mat-icon"),l.EFF(15,"edit_square"),l.k0s(),l.EFF(16," Chapters "),l.k0s()()()()}if(2&n){const e=t.$implicit,r=t.$index;l.R7$(2),l.Lme("",r," ",e.name,""),l.R7$(3),l.Y8G("routerLink",l.eq3(4,rte,e.id)),l.R7$(8),l.Y8G("routerLink",l.eq3(6,ite,e.id))}}let ste=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(ul),this.dialog=(0,l.WQX)(kP),this.stories$=this.getStories()}getStories(){var e=this;return(0,x.A)(function*(){return yield e.dbService.getAllCollectionDocs(yi.STORIES)})()}addStory(e){return this.dbService.addDocument(yi.STORIES,e)}delete(e){this.dialog.open(LW,{data:{id:e.id,name:e.name,collection:yi.STORIES,deleteFunction:()=>this.deleteStory(e)}})}deleteStory(e){console.log(`LOL: Deleting story: ${e.name}: ${e.id}`),this.dbService.deleteDocument(yi.STORIES,e.id)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["editor-stories"]],standalone:!0,features:[l.aNF],decls:10,vars:6,consts:[[1,"edit-stories-container"],["mat-fab","","extended","",1,"button-container",3,"routerLink"],[1,"stories"],["appearance","outlined"],[1,"card-footer"],["aria-label","Story-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"a",1)(2,"mat-icon"),l.EFF(3,"add"),l.k0s(),l.EFF(4," Add story "),l.k0s(),l.j41(5,"div",2),l.Z7z(6,ote,17,8,"mat-card",3,tte),l.nI1(8,"async"),l.nI1(9,"async"),l.k0s()()),2&r&&(l.R7$(),l.Y8G("routerLink",l.lJ4(5,nte)),l.R7$(5),l.Dyx(l.bMT(9,3,l.bMT(8,1,i.stories$))))},dependencies:[jo,wr,yp,fc,ED,yD,bD,GU,yc,Wl,ma,ew,bj,Of,MD],styles:[".edit-stories-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.edit-stories-container[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{margin-top:15px}.stories[_ngcontent-%COMP%]{height:70vh;overflow-y:auto;margin-top:15px}.card-footer[_ngcontent-%COMP%]{padding:15px}"]})}return n})();const ate=(n,t)=>t.id,cte=n=>["/editor/stories",n,"chapters",null],lte=(n,t)=>["/editor/stories",n,"chapters",t];function ute(n,t){1&n&&(l.j41(0,"h3"),l.EFF(1),l.nI1(2,"titlecase"),l.k0s()),2&n&&(l.R7$(),l.SpI("",l.bMT(2,1,t.name)," chapters"))}function dte(n,t){if(1&n){const e=l.RV6();l.j41(0,"mat-card",3)(1,"mat-card-content"),l.EFF(2),l.k0s(),l.j41(3,"mat-card-footer",4)(4,"mat-chip-set",5)(5,"mat-chip",6)(6,"mat-icon"),l.EFF(7,"edit"),l.k0s(),l.EFF(8," Edit "),l.k0s(),l.j41(9,"mat-chip",7),l.bIt("click",function(){const i=l.eBV(e).$implicit,c=l.XpG();return l.Njj(c.delete(i))}),l.j41(10,"mat-icon"),l.EFF(11,"delete"),l.k0s(),l.EFF(12," Delete "),l.k0s()()()()}if(2&n){const e=t.$implicit,r=t.$index,i=l.XpG();l.R7$(2),l.Lme("",r," ",e.name,""),l.R7$(3),l.Y8G("routerLink",l.l_i(3,lte,i.storyId,e.id))}}let hte=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(ul),this.dialog=(0,l.WQX)(kP)}delete(e){var r=this;return(0,x.A)(function*(){r.dialog.open(LW,{data:{id:e.id,name:e.name,collection:yi.CHAPTERS,deleteFunction:()=>r.deleteChapter(e)}})})()}deleteChapter(e){console.log(`LOL: Deleting chapter: ${e.name}: ${e.id}`),this.dbService.deleteDocument(yi.CHAPTERS,e.id)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["editor-chapters"]],inputs:{storyId:"storyId",chapters$:"chapters$",story$:"story$"},standalone:!0,features:[l.aNF],decls:14,vars:8,consts:[[1,"flex-container"],["mat-fab","","extended","",1,"button-container",3,"routerLink"],["mat-fab","","extended","","routerLink","/editor/stories",1,"button-container"],["appearance","outlined"],[1,"card-footer"],["aria-label","chapter-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(r,i){if(1&r&&(l.j41(0,"div",0)(1,"a",1)(2,"mat-icon"),l.EFF(3,"add"),l.k0s(),l.EFF(4," Add chapter "),l.k0s(),l.j41(5,"a",2)(6,"mat-icon"),l.EFF(7,"arrow_back"),l.k0s(),l.EFF(8," Stories "),l.k0s()(),l.DNE(9,ute,3,3,"h3"),l.nI1(10,"async"),l.Z7z(11,dte,13,6,"mat-card",3,ate),l.nI1(13,"async")),2&r){let c;l.R7$(),l.Y8G("routerLink",l.eq3(6,cte,i.storyId)),l.R7$(8),l.vxM((c=l.bMT(10,2,i.story$))?9:-1,c),l.R7$(2),l.Dyx(l.bMT(13,4,i.chapters$))}},dependencies:[jo,wr,Fd,yp,fc,ED,yD,bD,GU,yc,Wl,ma,ew,bj,Of,MD],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;row-gap:15px;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .flex-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;justify-content:center;width:150px}"]})}return n})();class pte{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,r=!0,i){this._multiple=t,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new U.B,e&&e.length&&(t?e.forEach(c=>this._markSelected(c)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,r=new Set(t);t.forEach(c=>this._markSelected(c)),e.filter(c=>!r.has(this._getConcreteValue(c,r))).forEach(c=>this._unmarkSelected(c));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let r of e)if(this.compareWith(t,r))return r;return t}return t}}const mte=["trigger"],gte=["panel"],_te=[[["mat-select-trigger"]],"*"],vte=["mat-select-trigger","*"];function yte(n,t){if(1&n&&(l.j41(0,"span",4),l.EFF(1),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.JRh(e.placeholder)}}function bte(n,t){1&n&&l.SdG(0)}function Ete(n,t){if(1&n&&(l.j41(0,"span",11),l.EFF(1),l.k0s()),2&n){const e=l.XpG(2);l.R7$(),l.JRh(e.triggerValue)}}function wte(n,t){if(1&n&&(l.j41(0,"span",5),l.DNE(1,bte,1,0)(2,Ete,2,1,"span",11),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.vxM(e.customTrigger?1:2)}}function Ite(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",12,1),l.bIt("@transformPanel.done",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._handleKeydown(i))}),l.SdG(2,1),l.k0s()}if(2&n){const e=l.XpG();l.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),l.Y8G("ngClass",e.panelClass)("@transformPanel","showing"),l.BMQ("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Cte={transformPanelWrap:(0,wn.hZ)("transformPanelWrap",[(0,wn.kY)("* => void",(0,wn.P)("@transformPanel",[(0,wn.MA)()],{optional:!0}))]),transformPanel:(0,wn.hZ)("transformPanel",[(0,wn.wk)("void",(0,wn.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,wn.kY)("void => showing",(0,wn.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,wn.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,wn.kY)("* => void",(0,wn.i0)("100ms linear",(0,wn.iF)({opacity:0})))])};let VW=0;const BW=new l.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Qo);return()=>n.scrollStrategies.reposition()}}),Tte=new l.nKC("MAT_SELECT_CONFIG"),Ate={provide:BW,deps:[Qo],useFactory:function Dte(n){return()=>n.scrollStrategies.reposition()}},Ste=new l.nKC("MatSelectTrigger");class xte{constructor(t,e){this.source=t,this.value=e}}let UW=(()=>{class n{_scrollOptionIntoView(e){const r=this.options.toArray()[e];if(r){const i=this.panel.nativeElement,c=function JA(n,t,e){if(e.length){let r=t.toArray(),i=e.toArray(),c=0;for(let d=0;d<n+1;d++)r[d].group&&r[d].group===i[c]&&c++;return c}return 0}(e,this.options,this.optionGroups),d=r._getHostElement();i.scrollTop=0===e&&1===c?0:function Ku(n,t,e,r){return n<e?n:n+t>e+r?Math.max(0,n-r+t):e}(d.offsetTop,d.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new xte(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Ca.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,i,c,d,f,m,w,A,R,B,K,pe,fe){this._viewportRuler=e,this._changeDetectorRef=r,this._elementRef=d,this._dir=f,this._parentFormField=A,this.ngControl=R,this._liveAnnouncer=pe,this._defaultOptions=fe,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(he,ht)=>he===ht,this._uid="mat-select-"+VW++,this._triggerAriaLabelledBy=null,this._destroy=new U.B,this.stateChanges=new U.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+VW++,this._panelDoneAnimatingStream=new U.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new U.B,this.optionSelectionChanges=en(()=>{const he=this.options;return he?he.changes.pipe((0,zo.Z)(he),fi(()=>(0,Di.h)(...he.map(ht=>ht.onSelectionChange)))):this._initialized.pipe(fi(()=>this.optionSelectionChanges))}),this.openedChange=new l.bkB,this._openedStream=this.openedChange.pipe((0,Un.p)(he=>he),(0,xe.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,Un.p)(he=>!he),(0,xe.T)(()=>{})),this.selectionChange=new l.bkB,this.valueChange=new l.bkB,this._trackedModal=null,this._skipPredicate=he=>!this.panelOpen&&he.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=fe?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=fe.typeaheadDebounceInterval),this._errorStateTracker=new P_(c,R,w,m,this.stateChanges),this._scrollStrategyFactory=K,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(B)||0,this.id=this.id}ngOnInit(){this._selectionModel=new pte(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,SA.F)(),Sr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Sr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Sr(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe((0,zo.Z)(null),Sr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const r=`${this.id}-panel`;this._trackedModal&&pE(this._trackedModal,"aria-owns",r),function RA(n,t,e){const r=OA(n,t);e=e.trim(),!r.some(i=>i.trim()===e)&&(r.push(e),n.setAttribute(t,r.join(" ")))}(e,"aria-owns",r),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(pE(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const r=e.keyCode,i=40===r||38===r||37===r||39===r,c=13===r||32===r,d=this._keyManager;if(!d.isTyping()&&c&&!gc(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;d.onKeydown(e);const m=this.selected;m&&f!==m&&this._liveAnnouncer.announce(m.viewValue,1e4)}}_handleOpenKeydown(e){const r=this._keyManager,i=e.keyCode,c=40===i||38===i,d=r.isTyping();if(c&&e.altKey)e.preventDefault(),this.close();else if(d||13!==i&&32!==i||!r.activeItem||gc(e))if(!d&&this._multiple&&65===i&&e.ctrlKey){e.preventDefault();const f=this.options.some(m=>!m.disabled&&!m.selected);this.options.forEach(m=>{m.disabled||(f?m.select():m.deselect())})}else{const f=r.activeItemIndex;r.onKeydown(e),this._multiple&&c&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==f&&r.activeItem._selectViaInteraction()}else e.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Qr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,e)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof fv?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new hH(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Di.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Sr(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Di.h)(...this.options.map(r=>r._stateChanges)).pipe(Sr(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,r){const i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,e):e.indexOf(r)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let r;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){e=r;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let r=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(av),l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(k_),l.rXU(l.aKT),l.rXU(_c,8),l.rXU(Fb,8),l.rXU(Rd,8),l.rXU(SP,8),l.rXU(dl,10),l.kS0("tabindex"),l.rXU(BW),l.rXU(UA),l.rXU(Tte,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-select"]],contentQueries:function(r,i,c){if(1&r&&(l.wni(c,Ste,5),l.wni(c,Ul,5),l.wni(c,ZA,5)),2&r){let d;l.mGM(d=l.lsd())&&(i.customTrigger=d.first),l.mGM(d=l.lsd())&&(i.options=d),l.mGM(d=l.lsd())&&(i.optionGroups=d)}},viewQuery:function(r,i){if(1&r&&(l.GBs(mte,5),l.GBs(gte,5),l.GBs(JS,5)),2&r){let c;l.mGM(c=l.lsd())&&(i.trigger=c.first),l.mGM(c=l.lsd())&&(i.panel=c.first),l.mGM(c=l.lsd())&&(i._overlayDir=c.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,i){1&r&&l.bIt("keydown",function(d){return i._handleKeydown(d)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&r&&(l.BMQ("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),l.AVh("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",l.L39],placeholder:"placeholder",required:[2,"required","required",l.L39],multiple:[2,"multiple","multiple",l.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",l.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",l.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[l.Jv_([{provide:AP,useExisting:n},{provide:L_,useExisting:n}]),l.GFd,l.OA$,l.aNF],ngContentSelectors:vte,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,i){if(1&r){const c=l.RV6();l.NAR(_te),l.j41(0,"div",2,0),l.bIt("click",function(){return l.eBV(c),l.Njj(i.open())}),l.j41(3,"div",3),l.DNE(4,yte,2,1,"span",4)(5,wte,3,1,"span",5),l.k0s(),l.j41(6,"div",6)(7,"div",7),l.qSk(),l.j41(8,"svg",8),l.nrm(9,"path",9),l.k0s()()()(),l.DNE(10,Ite,3,9,"ng-template",10),l.bIt("backdropClick",function(){return l.eBV(c),l.Njj(i.close())})("attach",function(){return l.eBV(c),l.Njj(i._onAttached())})("detach",function(){return l.eBV(c),l.Njj(i.close())})}if(2&r){const c=l.sdS(1);l.R7$(3),l.BMQ("id",i._valueId),l.R7$(),l.vxM(i.empty?4:5),l.R7$(6),l.Y8G("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||c)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[fv,JS,As],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[Cte.transformPanel]},changeDetection:0})}return n})(),jW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[Ate],imports:[jo,gw,qu,Fr,cv,Lb,qu,Fr]})}return n})();const $W=bh({passive:!0});let Mte=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ge.w;const r=Hu(e),i=this._monitoredElements.get(r);if(i)return i.subject;const c=new U.B,d="cdk-text-field-autofilled",f=m=>{"cdk-text-field-autofill-start"!==m.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===m.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>c.next({target:m.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>c.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,$W),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:c,unlisten:()=>{r.removeEventListener("animationstart",f,$W)}}),c}stopMonitoring(e){const r=Hu(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(pi),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Rte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const Ote=new l.nKC("MAT_INPUT_VALUE_ACCESSOR"),Pte=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let kte=0,Tj=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=w_(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ca.required)??!1}set required(e){this._required=w_(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Zk().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=w_(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,i,c,d,f,m,w,A,R){this._elementRef=e,this._platform=r,this.ngControl=i,this._autofillMonitor=w,this._formField=R,this._uid="mat-input-"+kte++,this.focused=!1,this.stateChanges=new U.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(pe=>Zk().has(pe)),this._iOSKeyupListener=pe=>{const fe=pe.target;!fe.value&&0===fe.selectionStart&&0===fe.selectionEnd&&(fe.setSelectionRange(1,1),fe.setSelectionRange(0,0))};const B=this._elementRef.nativeElement,K=B.nodeName.toLowerCase();this._inputValueAccessor=m||B,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&A.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new P_(f,i,d,c,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===K,this._isTextarea="textarea"===K,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Pte.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(pi),l.rXU(dl,10),l.rXU(Fb,8),l.rXU(Rd,8),l.rXU(k_),l.rXU(Ote,10),l.rXU(Mte),l.rXU(l.SKi),l.rXU(SP,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,i){1&r&&l.bIt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&r&&(l.Mr5("id",i.id)("disabled",i.disabled)("required",i.required),l.BMQ("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),l.AVh("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[l.Jv_([{provide:AP,useExisting:n}]),l.OA$]})}return n})(),Aj=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Lb,Lb,Rte,Fr]})}return n})();var Od=function(n){return n.ENGLISH="en",n.POLISH="pl",n}(Od||{});function Nte(n,t){if(1&n&&(l.j41(0,"mat-option",5),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e),l.R7$(),l.JRh(e)}}let Fte=(()=>{class n{constructor(){this.availableLanguages=Object.values(Od),this.story=null,this.formBuilder=(0,l.WQX)(fj),this.dbService=(0,l.WQX)(ul),this.router=(0,l.WQX)(co),this.storySubscription=null,this.storyEditForm=this.formBuilder.group({id:[""],name:["",Ca.required],languages:[[],Ca.required],description:[""]})}ngOnInit(){this.setupStory()}ngOnDestroy(){this.storySubscription&&this.storySubscription.unsubscribe()}setupStory(){console.log(`LOL: StoryID: ${this.storyId}`),this.storyId&&(this.storySubscription=this.story$.subscribe(e=>{console.log(`LOL: Story: ${JSON.stringify(e)}`),this.story=e,this.storyEditForm.patchValue({id:this.story?.id,name:this.story?.name,languages:this.story?.languages,description:this.story?.description})}))}save(){var e=this;return(0,x.A)(function*(){const r=yield e.saveStory();e.updateInterface(r,!e.story?.id)})()}saveStory(){var e=this;return(0,x.A)(function*(){const r=e.storyEditForm.value;if(!r.name||!r.languages?.length)throw new Error("LOL Error on saving the story because of the missing required values");const i={name:r.name,languages:r.languages.map(c=>Od[Object.keys(Od)[Object.values(Od).indexOf(c)]]),description:r.description};if(e.story?.id){const c={...i,id:e.story.id};return yield e.editStory(e.story.id,c)}return yield e.addStory(i)})()}addStory(e){return this.dbService.addDocument(yi.STORIES,e)}editStory(e,r){return this.dbService.updateDocument(yi.STORIES,e,r)}updateInterface(e,r=!1){this.story={...this.story,...e,id:e.id},r&&(this.router.navigate(["/editor/stories",e.id]),this.storyEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["story-edit-form"]],inputs:{storyId:"storyId",story$:"story$"},standalone:!0,features:[l.aNF],decls:28,vars:2,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly","","placeholder","Save story to add id"],["matInput","","type","text","formControlName","name"],["multiple","","formControlName","languages"],[3,"value"],["matInput","","placeholder","A short description of the story content","formControlName","description"],[1,"button-container"],["mat-fab","","extended","","routerLink","/editor"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(r,i){1&r&&(l.j41(0,"form",0),l.bIt("ngSubmit",function(){return i.save()}),l.j41(1,"mat-form-field",1)(2,"mat-label"),l.EFF(3,"Story id"),l.k0s(),l.nrm(4,"input",2),l.k0s(),l.j41(5,"mat-form-field")(6,"mat-label"),l.EFF(7,"Story name"),l.k0s(),l.nrm(8,"input",3),l.k0s(),l.j41(9,"mat-form-field")(10,"mat-label"),l.EFF(11,"Languages"),l.k0s(),l.j41(12,"mat-select",4),l.Z7z(13,Nte,2,2,"mat-option",5,l.Vm6),l.k0s()(),l.j41(15,"mat-form-field")(16,"mat-label"),l.EFF(17,"Description"),l.k0s(),l.nrm(18,"textarea",6),l.k0s(),l.j41(19,"div",7)(20,"button",8)(21,"mat-icon"),l.EFF(22,"arrow_back"),l.k0s(),l.EFF(23," Back "),l.k0s(),l.j41(24,"button",9)(25,"mat-icon"),l.EFF(26,"save"),l.k0s(),l.EFF(27," Save story "),l.k0s()()()),2&r&&(l.Y8G("formGroup",i.storyEditForm),l.R7$(13),l.Dyx(i.availableLanguages),l.R7$(11),l.Y8G("disabled",!i.storyEditForm.valid))},dependencies:[fc,pj,DP,Ob,fP,pP,Rd,SD,jW,mj,xD,UW,Ul,Aj,Tj,Lb,yc,Wl,ma,Qu],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between}"]})}return n})();const Lte=["switch"],Vte=["*"];function Bte(n,t){1&n&&(l.j41(0,"div",10),l.qSk(),l.j41(1,"svg",12),l.nrm(2,"path",13),l.k0s(),l.j41(3,"svg",14),l.nrm(4,"path",15),l.k0s()())}const Ute=new l.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),jte={provide:Ac,useExisting:(0,l.Rfq)(()=>Sj),multi:!0};class HW{constructor(t,e){this.source=t,this.checked=e}}let $te=0,Sj=(()=>{class n{_createChangeEvent(e){return new HW(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,r,i,c,d,f){this._elementRef=e,this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=d,this._onChange=m=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new l.bkB,this.toggleChange=new l.bkB,this.tabIndex=parseInt(c)||0,this.color=d.color||"accent",this._noopAnimations="NoopAnimations"===f,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++$te,this.hideIcon=d.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&!0!==e.value?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new HW(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(Ua),l.rXU(l.gRc),l.kS0("tabindex"),l.rXU(Ute),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(r,i){if(1&r&&l.GBs(Lte,5),2&r){let c;l.mGM(c=l.lsd())&&(i._switchElement=c.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,i){2&r&&(l.Mr5("id",i.id),l.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",l.L39],color:"color",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)],checked:[2,"checked","checked",l.L39],hideIcon:[2,"hideIcon","hideIcon",l.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[l.Jv_([jte,{provide:Fo,useExisting:n,multi:!0}]),l.GFd,l.OA$,l.aNF],ngContentSelectors:Vte,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,i){if(1&r){const c=l.RV6();l.NAR(),l.j41(0,"div",1)(1,"button",2,0),l.bIt("click",function(){return l.eBV(c),l.Njj(i._handleClick())}),l.nrm(3,"div",3),l.j41(4,"div",4)(5,"div",5)(6,"div",6),l.nrm(7,"div",7),l.k0s(),l.j41(8,"div",8),l.nrm(9,"div",9),l.k0s(),l.DNE(10,Bte,5,0,"div",10),l.k0s()()(),l.j41(11,"label",11),l.bIt("click",function(f){return l.eBV(c),l.Njj(f.stopPropagation())}),l.SdG(12),l.k0s()()}if(2&r){const c=l.sdS(2);l.Y8G("labelPosition",i.labelPosition),l.R7$(),l.AVh("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),l.Y8G("tabIndex",i.disabled?-1:i.tabIndex)("disabled",i.disabled),l.BMQ("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),l.R7$(8),l.Y8G("matRippleTrigger",c)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),l.R7$(),l.vxM(i.hideIcon?-1:10),l.R7$(),l.Y8G("for",i.buttonId),l.BMQ("id",i._labelId)}},dependencies:[Rp,iN],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return n})(),Gte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Sj,Fr,Fr]})}return n})();const Wte=n=>["/editor/stories",n,"chapters"];function Kte(n,t){if(1&n&&(l.j41(0,"mat-option",4),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e.id),l.R7$(),l.JRh(e.name)}}function qte(n,t){if(1&n&&(l.j41(0,"mat-option",4),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e),l.R7$(),l.JRh(e)}}let Xte=(()=>{class n{constructor(){this.chapter=null,this.availableLanguages=Object.values(Od),this.formBuilder=(0,l.WQX)(fj),this.dbService=(0,l.WQX)(ul),this.router=(0,l.WQX)(co),this.chapterSubscription=null,this.chapterEditForm=this.formBuilder.group({id:[""],name:["",Ca.required],story:["",Ca.required],chapterNo:[0,Ca.required],language:["",Ca.required],author:[""],isPremium:[!1],description:[""],empathyName:["",Ca.required],sympathyName:["",Ca.required]})}ngOnInit(){this.setupChapter()}ngOnDestroy(){}setupChapter(){console.log(`LOL: ChapterID: ${this.chapterId}, stroryId: ${this.storyId}`),this.chapterSubscription=this.chapter$.subscribe(e=>{this.chapter=e,this.chapterEditForm.patchValue({id:this.chapter?.id,name:this.chapter?.name,story:this.chapter?.story_id||this.storyId,chapterNo:this.chapter?.chapter_number,language:this.chapter?.language,author:this.chapter?.author,isPremium:this.chapter?.is_premium,description:this.chapter?.description,empathyName:this.chapter?.empathy_name||"empathy",sympathyName:this.chapter?.sympathy_name||"sympathy"})})}save(){var e=this;return(0,x.A)(function*(){const r=!e.chapter?.id||e.storyId!=e.chapterEditForm.value.story,i=yield e.saveChapter();e.updateInterface(i,r),console.log(`LOL: Saving chapter: ${JSON.stringify(e.chapterEditForm.value)}`)})()}saveChapter(){var e=this;return(0,x.A)(function*(){const r=e.chapterEditForm.value;if(!(r.name&&r.story&&r.chapterNo&&r.language&&r.empathyName&&r.sympathyName))throw new Error("LOL Error on saving the chapter because of the missing required values");const i={name:r.name,story_id:r.story,chapter_number:r.chapterNo,language:Od[Object.keys(Od)[Object.values(Od).indexOf(r.language)]],author:r.author,is_premium:r.isPremium,description:r.description,empathy_name:r.empathyName,sympathy_name:r.sympathyName};if(e.chapter?.id){const c={id:e.chapter.id,...i};return yield e.dbService.updateDocument(yi.CHAPTERS,e.chapter.id,c)}return yield e.dbService.addDocument(yi.CHAPTERS,i)})()}updateInterface(e,r=!1){this.chapter={...this.chapter,...e,id:e.id},r&&(this.router.navigate(["/editor/stories",this.chapterEditForm.value.story,"chapters",e.id]),this.chapterEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["chapter-edit-form"]],inputs:{storyId:"storyId",chapterId:"chapterId",chapter$:"chapter$",stories$:"stories$"},standalone:!0,features:[l.aNF],decls:53,vars:7,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly","","placeholder","Save chapter to add id"],["formControlName","story"],[3,"value"],["matInput","","type","text","formControlName","name"],[1,"example-full-width"],["matInput","","type","number","formControlName","chapterNo"],["formControlName","language"],["matInput","","type","text","formControlName","empathyName"],["matInput","","type","text","formControlName","sympathyName"],["matInput","","type","text","formControlName","author"],["matInput","","placeholder","A short description of the chapter content","formControlName","description"],["labelPosition","before","formControlName","isPremium"],[1,"button-container"],["mat-fab","","extended","",3,"routerLink"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(r,i){1&r&&(l.j41(0,"form",0),l.bIt("ngSubmit",function(){return i.save()}),l.j41(1,"mat-form-field",1)(2,"mat-label"),l.EFF(3,"Chapter id"),l.k0s(),l.nrm(4,"input",2),l.k0s(),l.j41(5,"mat-form-field")(6,"mat-label"),l.EFF(7,"Story"),l.k0s(),l.j41(8,"mat-select",3),l.Z7z(9,Kte,2,2,"mat-option",4,l.Vm6),l.nI1(11,"async"),l.k0s()(),l.j41(12,"mat-form-field")(13,"mat-label"),l.EFF(14,"Chapter name"),l.k0s(),l.nrm(15,"input",5),l.k0s(),l.j41(16,"mat-form-field",6)(17,"mat-label"),l.EFF(18,"Chapter number"),l.k0s(),l.nrm(19,"input",7),l.k0s(),l.j41(20,"mat-form-field")(21,"mat-label"),l.EFF(22,"Language"),l.k0s(),l.j41(23,"mat-select",8),l.Z7z(24,qte,2,2,"mat-option",4,l.Vm6),l.k0s()(),l.j41(26,"mat-form-field")(27,"mat-label"),l.EFF(28,"Empathy name"),l.k0s(),l.nrm(29,"input",9),l.k0s(),l.j41(30,"mat-form-field")(31,"mat-label"),l.EFF(32,"Sympathy name"),l.k0s(),l.nrm(33,"input",10),l.k0s(),l.j41(34,"mat-form-field")(35,"mat-label"),l.EFF(36,"Author"),l.k0s(),l.nrm(37,"input",11),l.k0s(),l.j41(38,"mat-form-field")(39,"mat-label"),l.EFF(40,"Description"),l.k0s(),l.nrm(41,"textarea",12),l.k0s(),l.j41(42,"mat-slide-toggle",13),l.EFF(43,"Premium: "),l.k0s(),l.j41(44,"div",14)(45,"button",15)(46,"mat-icon"),l.EFF(47,"arrow_back"),l.k0s(),l.EFF(48," Back to chapters "),l.k0s(),l.j41(49,"button",16)(50,"mat-icon"),l.EFF(51,"save"),l.k0s(),l.EFF(52," Save chapter "),l.k0s()()()),2&r&&(l.Y8G("formGroup",i.chapterEditForm),l.R7$(9),l.Dyx(l.bMT(11,3,i.stories$)),l.R7$(15),l.Dyx(i.availableLanguages),l.R7$(21),l.Y8G("routerLink",l.eq3(5,Wte,i.storyId)),l.R7$(4),l.Y8G("disabled",!i.chapterEditForm.valid))},dependencies:[jo,wr,fc,pj,DP,Ob,oj,fP,pP,Rd,SD,jW,mj,xD,UW,Ul,Aj,Tj,Lb,yc,Wl,ma,Qu,Gte,Sj],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between;margin-top:15px}"]})}return n})();const zW=function(){var n=(0,x.A)(function*(t,e){const r=(0,l.WQX)(ul),i=t.paramMap.get("storyId");return console.log(`LOL: Running chapters resolver for StoryId: ${i}`),(yield r.getAllCollectionDocs(yi.CHAPTERS)).pipe((0,xe.T)(d=>d.filter(f=>f.story_id==i).sort((f,m)=>f.chapter_number-m.chapter_number)))});return function(e,r){return n.apply(this,arguments)}}(),Yte=function(){var n=(0,x.A)(function*(t,e){const r=(0,l.WQX)(ul),i=t.paramMap.get("chapterId");return console.log(`LOL: Running chapter resolver for chapterId: ${i}`),i?yield r.getDocumentById(yi.CHAPTERS,i):null});return function(e,r){return n.apply(this,arguments)}}(),GW=function(){var n=(0,x.A)(function*(t,e){const r=(0,l.WQX)(ul),i=t.paramMap.get("storyId");return console.log(`LOL: Running story resolver for StoryId: ${i}`),i?yield r.getDocumentById(yi.STORIES,i):null});return function(e,r){return n.apply(this,arguments)}}(),WW=function(){var n=(0,x.A)(function*(t,e){const r=(0,l.WQX)(ul);return console.log("LOL: Running stories resolver"),yield r.getAllCollectionDocs(yi.STORIES)});return function(e,r){return n.apply(this,arguments)}}(),Zte=[{path:"library/story/:storyId/gameboard/:chapterId",component:Fee},{path:"library/story/:storyId",component:See,resolve:{chapters$:zW}},{path:"library",component:jee,title:"Library",resolve:{stories$:WW}},{path:"editor",component:wee,title:"Editor",canActivateChild:[(n,t)=>{const e=(0,l.WQX)(EU),r=(0,l.WQX)(co);return e.user$.pipe((0,xe.T)(i=>(console.log(`LOL: AuthGuard running for user: ${i?.uid}`),!(!i||!i?.displayName)||(0,l.naY)()||r.createUrlTree(["/library"]))))}],children:[{path:"",redirectTo:"stories",pathMatch:"full"},{path:"stories/:storyId/chapters/:chapterId",component:Xte,resolve:{stories$:WW,chapter$:Yte}},{path:"stories/:storyId/chapters",component:hte,resolve:{chapters$:zW,story$:GW}},{path:"stories/:storyId",component:Fte,resolve:{story$:GW}},{path:"stories",component:ste}]},{path:"signin",component:(()=>{class n{constructor(){this.hide=!0,this.formBuilder=(0,l.WQX)(fj),this.loginForm=this.formBuilder.group({email:["",[Ca.required,Ca.email]],password:["",Ca.required]})}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["sign-in"]],standalone:!0,features:[l.aNF],decls:22,vars:4,consts:[[1,"login-container"],[3,"formGroup"],["matInput","","type","email","formControlName","email"],[1,"password-container"],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],[1,"button-container"],["mat-fab","","extended","","routerLink",""],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"form",1)(2,"mat-form-field")(3,"mat-label"),l.EFF(4,"Email"),l.k0s(),l.nrm(5,"input",2),l.k0s(),l.j41(6,"div",3)(7,"mat-form-field")(8,"mat-label"),l.EFF(9,"Password"),l.k0s(),l.nrm(10,"input",4),l.k0s(),l.j41(11,"mat-icon",5),l.bIt("click",function(){return i.hide=!i.hide}),l.EFF(12),l.k0s()(),l.j41(13,"div",6)(14,"button",7)(15,"mat-icon"),l.EFF(16,"arrow_back"),l.k0s(),l.EFF(17," Back "),l.k0s(),l.j41(18,"button",8)(19,"mat-icon"),l.EFF(20,"login"),l.k0s(),l.EFF(21," Sign in "),l.k0s()()()()),2&r&&(l.R7$(),l.Y8G("formGroup",i.loginForm),l.R7$(9),l.Y8G("type",i.hide?"password":"text"),l.R7$(2),l.JRh(i.hide?"visibility_off":"visibility"),l.R7$(6),l.Y8G("disabled",!i.loginForm.valid))},dependencies:[pj,DP,Ob,fP,pP,Rd,SD,Aj,Tj,mj,xD,qJ,Lb,yc,Wl,ma,Qu],styles:[".login-container[_ngcontent-%COMP%] {display:flex;flex-direction:column;height:90vh;align-content:space-around;flex-wrap:wrap;justify-content:center}form[_ngcontent-%COMP%] {display:flex;flex-direction:column;align-content:space-between}.password-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.password-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-top:16px;margin-left:16px}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between}"]})}return n})(),title:"SignIn"},{path:"",component:Lee,title:"Start"}],Bb=new J.c(wg.l),ene={connector:()=>new U.B};function KW(n,t=ene){const{connector:e}=t;return(0,se.N)((r,i)=>{const c=e();(0,ln.Tg)(n(function Jte(n){return new J.c(t=>n.subscribe(t))}(c))).subscribe(i),i.add(r.subscribe(c))})}const RD="Service workers are disabled or not supported by this browser";class NP{constructor(t){if(this.serviceWorker=t,t){const r=Bh(t,"controllerchange").pipe((0,xe.T)(()=>t.controller)),i=en(()=>Y(t.controller)),c=(0,At.x)(i,r);this.worker=c.pipe((0,Un.p)(A=>!!A)),this.registration=this.worker.pipe(fi(()=>t.getRegistration()));const w=Bh(t,"message").pipe((0,xe.T)(A=>A.data)).pipe((0,Un.p)(A=>A&&A.type)).pipe(function nne(n){return n?t=>KW(n)(t):t=>function tne(n,t){const e=(0,De.T)(n)?n:()=>n;return(0,De.T)(t)?KW(t,{connector:e}):r=>new W(r,e)}(new U.B)(t)}());w.connect(),this.events=w}else this.worker=this.events=this.registration=function rne(n){return en(()=>On(new Error(n)))}(RD)}postMessage(t,e){return this.worker.pipe(Qr(1),gr(r=>{r.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,r){const i=this.waitForOperationCompleted(r),c=this.postMessage(t,e);return Promise.all([c,i]).then(([,d])=>d)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?r=>r.type===t:r=>t.includes(r.type),this.events.pipe((0,Un.p)(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Qr(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Un.p)(e=>e.nonce===t),Qr(1),(0,xe.T)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let ine=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new U.B,!e.isEnabled)return this.messages=Bb,this.notificationClicks=Bb,void(this.subscription=Bb);this.messages=this.sw.eventsOfType("PUSH").pipe((0,xe.T)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,xe.T)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,xe.T)(i=>i.pushManager));const r=this.pushManager.pipe(fi(i=>i.getSubscription()));this.subscription=(0,Di.h)(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(RD));const r={userVisibleOnly:!0};let i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),c=new Uint8Array(new ArrayBuffer(i.length));for(let d=0;d<i.length;d++)c[d]=i.charCodeAt(d);return r.applicationServerKey=c,this.pushManager.pipe(fi(d=>d.subscribe(r)),Qr(1)).toPromise().then(d=>(this.subscriptionChanges.next(d),d))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Qr(1),fi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(RD))}decodeBase64(e){return atob(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(NP))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),one=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=Bb,void(this.unrecoverable=Bb);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(RD));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(RD));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(NP))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const qW=new l.nKC("");function sne(n,t,e,r){return()=>{if(!jd(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;const i=n.get(l.SKi),c=n.get(l.o8S);let d;if(i.runOutsideAngular(()=>{const f=navigator.serviceWorker,m=()=>f.controller?.postMessage({action:"INITIALIZE"});f.addEventListener("controllerchange",m),c.onDestroy(()=>{f.removeEventListener("controllerchange",m)})}),"function"==typeof e.registrationStrategy)d=e.registrationStrategy();else{const[f,...m]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(f){case"registerImmediately":d=Y(null);break;case"registerWithDelay":d=XW(+m[0]||0);break;case"registerWhenStable":d=m[0]?(0,Di.h)(QW(n),XW(+m[0])):QW(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}i.runOutsideAngular(()=>d.pipe(Qr(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(f=>console.error("Service worker registration failed with:",f))))}}function XW(n){return Y(null).pipe(nw(n))}function QW(n){return n.get(l.o8S).isStable.pipe((0,Un.p)(e=>e))}function ane(n,t){return new NP(jd(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class xj{}(function Nu(n,t){return(0,l.TL3)({rootComponent:n,...Xf(t)})})(NY,{providers:[function c_(n,...t){return(0,l.EmA)([{provide:gh,multi:!0,useValue:n},[],{provide:fs,useFactory:_p,deps:[co]},{provide:l.iLQ,multi:!0,useFactory:eA},t.map(e=>e.\u0275providers)])}(Zte,X0()),function cne(n,t={}){return(0,l.EmA)([ine,one,{provide:qW,useValue:n},{provide:xj,useValue:t},{provide:NP,useFactory:ane,deps:[xj,l.Agw]},{provide:l.hnV,useFactory:sne,deps:[l.zZn,qW,xj,l.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,l.naY)(),registrationStrategy:"registerWhenStable:3000"}),function BY(n="animations"){return(0,l.ngT)("NgAsyncAnimations"),(0,l.EmA)([{provide:l._9s,useFactory:(t,e,r)=>new LY(t,e,r,n),deps:[Te,o0,l.SKi]},{provide:l.bc$,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}()]}).catch(n=>console.error(n))},5505:function(Bt){Bt.exports=function(){"use strict";var et=function(v,C){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,N){S.__proto__=N}||function(S,N){for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&(S[V]=N[V])})(v,C)},O=function(){return(O=Object.assign||function(v){for(var C,S=1,N=arguments.length;S<N;S++)for(var V in C=arguments[S])Object.prototype.hasOwnProperty.call(C,V)&&(v[V]=C[V]);return v}).apply(this,arguments)};function J(v,C,S){if(S||2===arguments.length)for(var N,V=0,H=C.length;V<H;V++)!N&&V in C||((N=N||Array.prototype.slice.call(C,0,V))[V]=C[V]);return v.concat(N||Array.prototype.slice.call(C))}var re=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,me=Object.keys,ae=Array.isArray;function x(v,C){return"object"!=typeof C||me(C).forEach(function(S){v[S]=C[S]}),v}typeof Promise>"u"||re.Promise||(re.Promise=Promise);var l=Object.getPrototypeOf,De={}.hasOwnProperty;function ut(v,C){return De.call(v,C)}function Be(v,C){"function"==typeof C&&(C=C(l(v))),(typeof Reflect>"u"?me:Reflect.ownKeys)(C).forEach(function(S){Y(v,S,C[S])})}var Ue=Object.defineProperty;function Y(v,C,S,N){Ue(v,C,x(S&&ut(S,"get")&&"function"==typeof S.get?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},N))}function Me(v){return{from:function(C){return v.prototype=Object.create(C.prototype),Y(v.prototype,"constructor",v),{extend:Be.bind(null,v.prototype)}}}}var Ne=Object.getOwnPropertyDescriptor,oe=[].slice;function ze(v,C,S){return oe.call(v,C,S)}function Re(v,C){return C(v)}function Pe(v){if(!v)throw new Error("Assertion Failed")}function ge(v){re.setImmediate?setImmediate(v):setTimeout(v,0)}function Fe(v,C){if("string"==typeof C&&ut(v,C))return v[C];if(!C)return v;if("string"!=typeof C){for(var S=[],N=0,V=C.length;N<V;++N){var H=Fe(v,C[N]);S.push(H)}return S}var ee=C.indexOf(".");if(-1!==ee){var ye=v[C.substr(0,ee)];return null==ye?void 0:Fe(ye,C.substr(ee+1))}}function xe(v,C,S){if(v&&void 0!==C&&(!("isFrozen"in Object)||!Object.isFrozen(v)))if("string"!=typeof C&&"length"in C){Pe("string"!=typeof S&&"length"in S);for(var N=0,V=C.length;N<V;++N)xe(v,C[N],S[N])}else{var H,ee,ye=C.indexOf(".");-1!==ye?(H=C.substr(0,ye),""===(ee=C.substr(ye+1))?void 0===S?ae(v)&&!isNaN(parseInt(H))?v.splice(H,1):delete v[H]:v[H]=S:xe(ye=(ye=v[H])&&ut(v,H)?ye:v[H]={},ee,S)):void 0===S?ae(v)&&!isNaN(parseInt(C))?v.splice(C,1):delete v[C]:v[C]=S}}function Ae(v){var C,S={};for(C in v)ut(v,C)&&(S[C]=v[C]);return S}var We=[].concat;function Ie(v){return We.apply([],v)}var To="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ie([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(C){return C+v+"Array"})}))).filter(function(v){return re[v]}),st=new Set(To.map(function(v){return re[v]})),Qe=null;function _e(v){return Qe=new WeakMap,v=function C(S){if(!S||"object"!=typeof S)return S;var N=Qe.get(S);if(N)return N;if(ae(S)){Qe.set(S,N=[]);for(var V=0,H=S.length;V<H;++V)N.push(C(S[V]))}else if(st.has(S.constructor))N=S;else{var ee,ye=l(S);for(ee in N=ye===Object.prototype?{}:Object.create(ye),Qe.set(S,N),S)ut(S,ee)&&(N[ee]=C(S[ee]))}return N}(v),Qe=null,v}var ue={}.toString;function Q(v){return ue.call(v).slice(8,-1)}var mt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Dt="symbol"==typeof mt?function(v){var C;return null!=v&&(C=v[mt])&&C.apply(v)}:function(){return null};function At(v,C){return 0<=(C=v.indexOf(C))&&v.splice(C,1),0<=C}var ln={};function en(v){var C,S,N,V;if(1===arguments.length){if(ae(v))return v.slice();if(this===ln&&"string"==typeof v)return[v];if(V=Dt(v)){for(S=[];!(N=V.next()).done;)S.push(N.value);return S}if(null==v)return[v];if("number"!=typeof(C=v.length))return[v];for(S=new Array(C);C--;)S[C]=v[C];return S}for(C=arguments.length,S=new Array(C);C--;)S[C]=arguments[C];return S}var fn=typeof Symbol<"u"?function(v){return"AsyncFunction"===v[Symbol.toStringTag]}:function(){return!1},oo=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Cn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),On={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ge(v,C){this.name=v,this.message=C}function se(v,C){return v+". Errors: "+Object.keys(C).map(function(S){return C[S].toString()}).filter(function(S,N,V){return V.indexOf(S)===N}).join("\n")}function be(v,C,S,N){this.failures=C,this.failedKeys=N,this.successCount=S,this.message=se(v,C)}function W(v,C){this.name="BulkError",this.failures=Object.keys(C).map(function(S){return C[S]}),this.failuresByPos=C,this.message=se(v,this.failures)}Me(Ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Me(be).from(Ge),Me(W).from(Ge);var U=oo.reduce(function(v,C){return v[C]=C+"Error",v},{}),$=Ge,X=oo.reduce(function(v,C){var S=C+"Error";function N(V,H){this.name=S,V?"string"==typeof V?(this.message="".concat(V).concat(H?"\n "+H:""),this.inner=H||null):"object"==typeof V&&(this.message="".concat(V.name," ").concat(V.message),this.inner=V):(this.message=On[C]||S,this.inner=null)}return Me(N).from($),v[C]=N,v},{});X.Syntax=SyntaxError,X.Type=TypeError,X.Range=RangeError;var Z=Cn.reduce(function(v,C){return v[C+"Error"]=X[C],v},{}),ie=oo.reduce(function(v,C){return-1===["Syntax","Type","Range"].indexOf(C)&&(v[C+"Error"]=X[C]),v},{});function ce(){}function Te(v){return v}function It(v,C){return null==v||v===Te?C:function(S){return C(v(S))}}function Lt(v,C){return function(){v.apply(this,arguments),C.apply(this,arguments)}}function Rt(v,C){return v===ce?C:function(){var S=v.apply(this,arguments);void 0!==S&&(arguments[0]=S);var N=this.onsuccess,V=this.onerror;this.onsuccess=null,this.onerror=null;var H=C.apply(this,arguments);return N&&(this.onsuccess=this.onsuccess?Lt(N,this.onsuccess):N),V&&(this.onerror=this.onerror?Lt(V,this.onerror):V),void 0!==H?H:S}}function Ut(v,C){return v===ce?C:function(){v.apply(this,arguments);var S=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,C.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?Lt(S,this.onsuccess):S),N&&(this.onerror=this.onerror?Lt(N,this.onerror):N)}}function nn(v,C){return v===ce?C:function(S){var N=v.apply(this,arguments);x(S,N);var V=this.onsuccess,H=this.onerror;return this.onsuccess=null,this.onerror=null,S=C.apply(this,arguments),V&&(this.onsuccess=this.onsuccess?Lt(V,this.onsuccess):V),H&&(this.onerror=this.onerror?Lt(H,this.onerror):H),void 0===N?void 0===S?void 0:S:x(N,S)}}function on(v,C){return v===ce?C:function(){return!1!==C.apply(this,arguments)&&v.apply(this,arguments)}}function cn(v,C){return v===ce?C:function(){var S=v.apply(this,arguments);if(S&&"function"==typeof S.then){for(var N=this,V=arguments.length,H=new Array(V);V--;)H[V]=arguments[V];return S.then(function(){return C.apply(N,H)})}return C.apply(this,arguments)}}ie.ModifyError=be,ie.DexieError=Ge,ie.BulkError=W;var Ht=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function dn(v){Ht=v}var Cn,rn={},kn=100,Ji=(oo=(oo=(To=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,l(v),v];var C=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[C,l(C),v]}())[1])&&oo.then,(Cn=To[0])&&Cn.constructor),eo=!!(To=To[2]),Vr=function(v,C){Vo.push([v,C]),yr&&(queueMicrotask(ti),yr=!1)},Gt=!0,yr=!0,fr=[],Jn=[],$n=Te,or={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ce,pgp:!1,env:{},finalize:ce},jt=or,Vo=[],wo=0,Ks=[];function Pt(v){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var C=this._PSD=jt;if("function"!=typeof v){if(v!==rn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Xs(this,this._value))}this._state=null,this._value=null,++C.ref,function S(N,V){try{V(function(H){if(null===N._state){if(H===N)throw new TypeError("A promise cannot be resolved with itself.");var ee=N._lib&&br();H&&"function"==typeof H.then?S(N,function(ye,$e){H instanceof Pt?H._then(ye,$e):H.then(ye,$e)}):(N._state=!0,N._value=H,Xa(N)),ee&&li()}},Xs.bind(null,N))}catch(H){Xs(N,H)}}(this,v)}var Bo={get:function(){var v=jt,C=Ys;function S(N,V){var H=this,ee=!v.global&&(v!==jt||C!==Ys),ye=ee&&!Oi(),$e=new Pt(function(ke,tt){to(H,new qs(fo(N,v,ee,ye),fo(V,v,ee,ye),ke,tt,v))});return this._consoleTask&&($e._consoleTask=this._consoleTask),$e}return S.prototype=rn,S},set:function(v){Y(this,"then",v&&v.prototype===rn?Bo:{get:function(){return v},set:Bo.set})}};function qs(v,C,S,N,V){this.onFulfilled="function"==typeof v?v:null,this.onRejected="function"==typeof C?C:null,this.resolve=S,this.reject=N,this.psd=V}function Xs(v,C){var S,N;Jn.push(C),null===v._state&&(S=v._lib&&br(),C=$n(C),v._state=!1,v._value=C,N=v,fr.some(function(V){return V._value===N._value})||fr.push(N),Xa(v),S&&li())}function Xa(v){var C=v._listeners;v._listeners=[];for(var S=0,N=C.length;S<N;++S)to(v,C[S]);var V=v._PSD;--V.ref||V.finalize(),0===wo&&(++wo,Vr(function(){0==--wo&&Io()},[]))}function to(v,C){if(null!==v._state){var S=v._state?C.onFulfilled:C.onRejected;if(null===S)return(v._state?C.resolve:C.reject)(v._value);++C.psd.ref,++wo,Vr(Br,[S,v,C])}else v._listeners.push(C)}function Br(v,C,S){try{var N,V=C._value;!C._state&&Jn.length&&(Jn=[]),N=Ht&&C._consoleTask?C._consoleTask.run(function(){return v(V)}):v(V),C._state||-1!==Jn.indexOf(V)||function(H){for(var ee=fr.length;ee;)if(fr[--ee]._value===H._value)return fr.splice(ee,1)}(C),S.resolve(N)}catch(H){S.reject(H)}finally{0==--wo&&Io(),--S.psd.ref||S.psd.finalize()}}function ti(){ui(or,function(){br()&&li()})}function br(){var v=Gt;return yr=Gt=!1,v}function li(){var v,C,S;do{for(;0<Vo.length;)for(v=Vo,Vo=[],S=v.length,C=0;C<S;++C){var N=v[C];N[0].apply(null,N[1])}}while(0<Vo.length);yr=Gt=!0}function Io(){var v=fr;fr=[],v.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)});for(var C=Ks.slice(0),S=C.length;S;)C[--S]()}function Qa(v){return new Pt(rn,!1,v)}function vn(v,C){var S=jt;return function(){var N=br(),V=jt;try{return os(S,!0),v.apply(this,arguments)}catch(H){C&&C(H)}finally{os(V,!1),N&&li()}}}Be(Pt.prototype,{then:Bo,_then:function(v,C){to(this,new qs(null,null,v,C,jt))},catch:function(v){if(1===arguments.length)return this.then(null,v);var C=v,S=arguments[1];return this.then(null,"function"==typeof C?function(N){return(N instanceof C?S:Qa)(N)}:function(N){return(N&&N.name===C?S:Qa)(N)})},finally:function(v){return this.then(function(C){return Pt.resolve(v()).then(function(){return C})},function(C){return Pt.resolve(v()).then(function(){return Qa(C)})})},timeout:function(v,C){var S=this;return v<1/0?new Pt(function(N,V){var H=setTimeout(function(){return V(new X.Timeout(C))},v);S.then(N,V).finally(clearTimeout.bind(null,H))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Y(Pt.prototype,Symbol.toStringTag,"Dexie.Promise"),or.env=ss(),Be(Pt,{all:function(){var v=en.apply(null,arguments).map(Da);return new Pt(function(C,S){0===v.length&&C([]);var N=v.length;v.forEach(function(V,H){return Pt.resolve(V).then(function(ee){v[H]=ee,--N||C(v)},S)})})},resolve:function(v){return v instanceof Pt?v:v&&"function"==typeof v.then?new Pt(function(C,S){v.then(C,S)}):new Pt(rn,!0,v)},reject:Qa,race:function(){var v=en.apply(null,arguments).map(Da);return new Pt(function(C,S){v.map(function(N){return Pt.resolve(N).then(C,S)})})},PSD:{get:function(){return jt},set:function(v){return jt=v}},totalEchoes:{get:function(){return Ys}},newPSD:Wn,usePSD:ui,scheduler:{get:function(){return Vr},set:function(v){Vr=v}},rejectionMapper:{get:function(){return $n},set:function(v){$n=v}},follow:function(v,C){return new Pt(function(S,N){return Wn(function(V,H){var ee=jt;ee.unhandleds=[],ee.onunhandled=H,ee.finalize=Lt(function(){var ye,$e=this;ye=function(){0===$e.unhandleds.length?V():H($e.unhandleds[0])},Ks.push(function ke(){ye(),Ks.splice(Ks.indexOf(ke),1)}),++wo,Vr(function(){0==--wo&&Io()},[])},ee.finalize),v()},C,S,N)})}}),Ji&&(Ji.allSettled&&Y(Pt,"allSettled",function(){var v=en.apply(null,arguments).map(Da);return new Pt(function(C){0===v.length&&C([]);var S=v.length,N=new Array(S);v.forEach(function(V,H){return Pt.resolve(V).then(function(ee){return N[H]={status:"fulfilled",value:ee}},function(ee){return N[H]={status:"rejected",reason:ee}}).then(function(){return--S||C(N)})})})}),Ji.any&&typeof AggregateError<"u"&&Y(Pt,"any",function(){var v=en.apply(null,arguments).map(Da);return new Pt(function(C,S){0===v.length&&S(new AggregateError([]));var N=v.length,V=new Array(N);v.forEach(function(H,ee){return Pt.resolve(H).then(function(ye){return C(ye)},function(ye){V[ee]=ye,--N||S(new AggregateError(V))})})})}));var pr={awaits:0,echoes:0,id:0},is=0,Qs=[],Co=0,Ys=0,Sc=0;function Wn(v,C,S,N){var V=jt,H=Object.create(V);return H.parent=V,H.ref=0,H.global=!1,H.id=++Sc,H.env=eo?{Promise:Pt,PromiseProp:{value:Pt,configurable:!0,writable:!0},all:Pt.all,race:Pt.race,allSettled:Pt.allSettled,any:Pt.any,resolve:Pt.resolve,reject:Pt.reject}:{},C&&x(H,C),++V.ref,H.finalize=function(){--this.parent.ref||this.parent.finalize()},N=ui(H,v,S,N),0===H.ref&&H.finalize(),N}function Uo(){return pr.id||(pr.id=++is),++pr.awaits,pr.echoes+=kn,pr.id}function Oi(){return!!pr.awaits&&(0==--pr.awaits&&(pr.id=0),pr.echoes=pr.awaits*kn,!0)}function Da(v){return pr.echoes&&v&&v.constructor===Ji?(Uo(),v.then(function(C){return Oi(),C},function(C){return Oi(),gn(C)})):v}function fl(){var v=Qs[Qs.length-1];Qs.pop(),os(v,!1)}function os(v,C){var S,N=jt;(C?!pr.echoes||Co++&&v===jt:!Co||--Co&&v===jt)||queueMicrotask(C?function(V){++Ys,pr.echoes&&0!=--pr.echoes||(pr.echoes=pr.awaits=pr.id=0),Qs.push(jt),os(V,!0)}.bind(null,v):fl),v!==jt&&(jt=v,N===or&&(or.env=ss()),eo&&(S=or.env.Promise,C=v.env,(N.global||v.global)&&(Object.defineProperty(re,"Promise",C.PromiseProp),S.all=C.all,S.race=C.race,S.resolve=C.resolve,S.reject=C.reject,C.allSettled&&(S.allSettled=C.allSettled),C.any&&(S.any=C.any))))}function ss(){var v=re.Promise;return eo?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(re,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function ui(v,C,S,N,V){var H=jt;try{return os(v,!0),C(S,N,V)}finally{os(H,!1)}}function fo(v,C,S,N){return"function"!=typeof v?v:function(){var V=jt;S&&Uo(),os(C,!0);try{return v.apply(this,arguments)}finally{os(V,!1),N&&queueMicrotask(Oi)}}}function Nn(v){Promise===Ji&&0===pr.echoes?0===Co?v():enqueueNativeMicroTask(v):setTimeout(v,0)}-1===(""+oo).indexOf("[native code]")&&(Uo=Oi=ce);var gn=Pt.reject,di="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",cs="String expected.",Ds=[],bi="__dbnames",Ya="readonly",Ur="readwrite";function Zs(v,C){return v?C?function(){return v.apply(this,arguments)&&C.apply(this,arguments)}:v:C}var Er={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Za(v){return"string"!=typeof v||/\./.test(v)?function(C){return C}:function(C){return void 0===C[v]&&v in C&&delete(C=_e(C))[v],C}}function Do(){throw X.Type()}function Hn(v,C){try{var S=Ts(v),N=Ts(C);if(S!==N)return"Array"===S?1:"Array"===N?-1:"binary"===S?1:"binary"===N?-1:"string"===S?1:"string"===N?-1:"Date"===S?1:"Date"!==N?NaN:-1;switch(S){case"number":case"Date":case"string":return C<v?1:v<C?-1:0;case"binary":return function(V,H){for(var ee=V.length,ye=H.length,$e=ee<ye?ee:ye,ke=0;ke<$e;++ke)if(V[ke]!==H[ke])return V[ke]<H[ke]?-1:1;return ee===ye?0:ee<ye?-1:1}(pl(v),pl(C));case"Array":return function(V,H){for(var ee=V.length,ye=H.length,$e=ee<ye?ee:ye,ke=0;ke<$e;++ke){var tt=Hn(V[ke],H[ke]);if(0!==tt)return tt}return ee===ye?0:ee<ye?-1:1}(v,C)}}catch{}return NaN}function Ts(v){var C=typeof v;return"object"!=C?C:ArrayBuffer.isView(v)||"ArrayBuffer"===(v=Q(v))?"binary":v}function pl(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var Hi=(sr.prototype._trans=function(v,C,S){var N=this._tx||jt.trans,V=this.name,H=Ht&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===v?"read":"write"," ").concat(this.name));function ee(ke,tt,Se){if(!Se.schema[V])throw new X.NotFound("Table "+V+" not part of transaction");return C(Se.idbtrans,Se)}var ye=br();try{var $e=N&&N.db._novip===this.db._novip?N===jt.trans?N._promise(v,ee,S):Wn(function(){return N._promise(v,ee,S)},{trans:N,transless:jt.transless||jt}):function ke(tt,Se,nt,Le){if(tt.idbdb&&(tt._state.openComplete||jt.letThrough||tt._vip)){var Xe=tt._createTransaction(Se,nt,tt._dbSchema);try{Xe.create(),tt._state.PR1398_maxLoop=3}catch(Ye){return Ye.name===U.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return ke(tt,Se,nt,Le)})):gn(Ye)}return Xe._promise(Se,function(Ye,He){return Wn(function(){return jt.trans=Xe,Le(Ye,He,Xe)})}).then(function(Ye){if("readwrite"===Se)try{Xe.idbtrans.commit()}catch{}return"readonly"===Se?Ye:Xe._completion.then(function(){return Ye})})}if(tt._state.openComplete)return gn(new X.DatabaseClosed(tt._state.dbOpenError));if(!tt._state.isBeingOpened){if(!tt._state.autoOpen)return gn(new X.DatabaseClosed);tt.open().catch(ce)}return tt._state.dbReadyPromise.then(function(){return ke(tt,Se,nt,Le)})}(this.db,v,[this.name],ee);return H&&($e._consoleTask=H,$e=$e.catch(function(ke){return console.trace(ke),gn(ke)})),$e}finally{ye&&li()}},sr.prototype.get=function(v,C){var S=this;return v&&v.constructor===Object?this.where(v).first(C):null==v?gn(new X.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return S.core.get({trans:N,key:v}).then(function(V){return S.hook.reading.fire(V)})}).then(C)},sr.prototype.where=function(v){if("string"==typeof v)return new this.db.WhereClause(this,v);if(ae(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var C=me(v);if(1===C.length)return this.where(C[0]).equals(v[C[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function($e){if($e.compound&&C.every(function(tt){return 0<=$e.keyPath.indexOf(tt)})){for(var ke=0;ke<C.length;++ke)if(-1===C.indexOf($e.keyPath[ke]))return!1;return!0}return!1}).sort(function($e,ke){return $e.keyPath.length-ke.keyPath.length})[0];if(S&&"\uffff"!==this.db._maxKey){var ee=S.keyPath.slice(0,C.length);return this.where(ee).equals(ee.map(function(ke){return v[ke]}))}!S&&Ht&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(C.join("+"),"]"));var N=this.schema.idxByName,V=this.db._deps.indexedDB;function H($e,ke){return 0===V.cmp($e,ke)}ee=(ye=C.reduce(function(nt,ke){var tt=nt[0],Se=nt[1],Le=(nt=N[ke],v[ke]);return[tt||nt,tt||!nt?Zs(Se,nt&&nt.multi?function(Xe){return Xe=Fe(Xe,ke),ae(Xe)&&Xe.some(function(Ye){return H(Le,Ye)})}:function(Xe){return H(Le,Fe(Xe,ke))}):Se]},[null,null]))[0];var ye=ye[1];return ee?this.where(ee.name).equals(v[ee.keyPath]).filter(ye):S?this.filter(ye):this.where(C).equals("")},sr.prototype.filter=function(v){return this.toCollection().and(v)},sr.prototype.count=function(v){return this.toCollection().count(v)},sr.prototype.offset=function(v){return this.toCollection().offset(v)},sr.prototype.limit=function(v){return this.toCollection().limit(v)},sr.prototype.each=function(v){return this.toCollection().each(v)},sr.prototype.toArray=function(v){return this.toCollection().toArray(v)},sr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},sr.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,ae(v)?"[".concat(v.join("+"),"]"):v))},sr.prototype.reverse=function(){return this.toCollection().reverse()},sr.prototype.mapToClass=function(v){var C,S=this.db,N=this.name;function V(){return null!==C&&C.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof Do&&(function($e,ke){if("function"!=typeof ke&&null!==ke)throw new TypeError("Class extends value "+String(ke)+" is not a constructor or null");function tt(){this.constructor=$e}et($e,ke),$e.prototype=null===ke?Object.create(ke):(tt.prototype=ke.prototype,new tt)}(V,C=v),Object.defineProperty(V.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),V.prototype.table=function(){return N},v=V);for(var H=new Set,ee=v.prototype;ee;ee=l(ee))Object.getOwnPropertyNames(ee).forEach(function($e){return H.add($e)});function ye($e){if(!$e)return $e;var ke,tt=Object.create(v.prototype);for(ke in $e)if(!H.has(ke))try{tt[ke]=$e[ke]}catch{}return tt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ye,this.hook("reading",ye),v},sr.prototype.defineClass=function(){return this.mapToClass(function(v){x(this,v)})},sr.prototype.add=function(v,C){var S=this,N=this.schema.primKey,H=N.keyPath,ee=v;return H&&N.auto&&(ee=Za(H)(v)),this._trans("readwrite",function(ye){return S.core.mutate({trans:ye,type:"add",keys:null!=C?[C]:null,values:[ee]})}).then(function(ye){return ye.numFailures?Pt.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if(H)try{xe(v,H,ye)}catch{}return ye})},sr.prototype.update=function(v,C){return"object"!=typeof v||ae(v)?this.where(":id").equals(v).modify(C):void 0===(v=Fe(v,this.schema.primKey.keyPath))?gn(new X.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(C)},sr.prototype.put=function(v,C){var S=this,N=this.schema.primKey,H=N.keyPath,ee=v;return H&&N.auto&&(ee=Za(H)(v)),this._trans("readwrite",function(ye){return S.core.mutate({trans:ye,type:"put",values:[ee],keys:null!=C?[C]:null})}).then(function(ye){return ye.numFailures?Pt.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if(H)try{xe(v,H,ye)}catch{}return ye})},sr.prototype.delete=function(v){var C=this;return this._trans("readwrite",function(S){return C.core.mutate({trans:S,type:"delete",keys:[v]})}).then(function(S){return S.numFailures?Pt.reject(S.failures[0]):void 0})},sr.prototype.clear=function(){var v=this;return this._trans("readwrite",function(C){return v.core.mutate({trans:C,type:"deleteRange",range:Er})}).then(function(C){return C.numFailures?Pt.reject(C.failures[0]):void 0})},sr.prototype.bulkGet=function(v){var C=this;return this._trans("readonly",function(S){return C.core.getMany({keys:v,trans:S}).then(function(N){return N.map(function(V){return C.hook.reading.fire(V)})})})},sr.prototype.bulkAdd=function(v,C,S){var N=this,V=Array.isArray(C)?C:void 0,H=(S=S||(V?void 0:C))?S.allKeys:void 0;return this._trans("readwrite",function(ee){var ye=(ke=N.schema.primKey).auto;if((ke=ke.keyPath)&&V)throw new X.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var $e=v.length,ke=ke&&ye?v.map(Za(ke)):v;return N.core.mutate({trans:ee,type:"add",keys:V,values:ke,wantResults:H}).then(function(Xe){var Se=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===Se)return H?nt:Le;throw new W("".concat(N.name,".bulkAdd(): ").concat(Se," of ").concat($e," operations failed"),Xe)})})},sr.prototype.bulkPut=function(v,C,S){var N=this,V=Array.isArray(C)?C:void 0,H=(S=S||(V?void 0:C))?S.allKeys:void 0;return this._trans("readwrite",function(ee){var ye=(ke=N.schema.primKey).auto;if((ke=ke.keyPath)&&V)throw new X.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new X.InvalidArgument("Arguments objects and keys must have the same length");var $e=v.length,ke=ke&&ye?v.map(Za(ke)):v;return N.core.mutate({trans:ee,type:"put",keys:V,values:ke,wantResults:H}).then(function(Xe){var Se=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===Se)return H?nt:Le;throw new W("".concat(N.name,".bulkPut(): ").concat(Se," of ").concat($e," operations failed"),Xe)})})},sr.prototype.bulkUpdate=function(v){var C=this,S=this.core,N=v.map(function(ee){return ee.key}),V=v.map(function(ee){return ee.changes}),H=[];return this._trans("readwrite",function(ee){return S.getMany({trans:ee,keys:N,cache:"clone"}).then(function(ye){var $e=[],ke=[];v.forEach(function(Se,nt){var Le=Se.key,Xe=Se.changes,Ye=ye[nt];if(Ye){for(var He=0,ft=Object.keys(Xe);He<ft.length;He++){var qe=ft[He],rt=Xe[qe];if(qe===C.schema.primKey.keyPath){if(0!==Hn(rt,Le))throw new X.Constraint("Cannot update primary key in bulkUpdate()")}else xe(Ye,qe,rt)}H.push(nt),$e.push(Le),ke.push(Ye)}});var tt=$e.length;return S.mutate({trans:ee,type:"put",keys:$e,values:ke,updates:{keys:N,changeSpecs:V}}).then(function(Se){var nt=Se.numFailures,Le=Se.failures;if(0===nt)return tt;for(var Xe=0,Ye=Object.keys(Le);Xe<Ye.length;Xe++){var He,ft=Ye[Xe],qe=H[Number(ft)];null!=qe&&(He=Le[ft],delete Le[ft],Le[qe]=He)}throw new W("".concat(C.name,".bulkUpdate(): ").concat(nt," of ").concat(tt," operations failed"),Le)})})})},sr.prototype.bulkDelete=function(v){var C=this,S=v.length;return this._trans("readwrite",function(N){return C.core.mutate({trans:N,type:"delete",keys:v})}).then(function(ee){var V=ee.numFailures,H=ee.lastResult;if(ee=ee.failures,0===V)return H;throw new W("".concat(C.name,".bulkDelete(): ").concat(V," of ").concat(S," operations failed"),ee)})},sr);function sr(){}function ls(v){function C(ee,ye){if(ye){for(var $e=arguments.length,ke=new Array($e-1);--$e;)ke[$e-1]=arguments[$e];return S[ee].subscribe.apply(null,ke),v}if("string"==typeof ee)return S[ee]}var S={};C.addEventType=H;for(var N=1,V=arguments.length;N<V;++N)H(arguments[N]);return C;function H(ee,ye,$e){if("object"!=typeof ee){var ke;ye=ye||on;var tt={subscribers:[],fire:$e=$e||ce,subscribe:function(Se){-1===tt.subscribers.indexOf(Se)&&(tt.subscribers.push(Se),tt.fire=ye(tt.fire,Se))},unsubscribe:function(Se){tt.subscribers=tt.subscribers.filter(function(nt){return nt!==Se}),tt.fire=tt.subscribers.reduce(ye,$e)}};return S[ee]=C[ee]=tt}me(ke=ee).forEach(function(Se){var nt=ke[Se];if(ae(nt))H(Se,ke[Se][0],ke[Se][1]);else{if("asap"!==nt)throw new X.InvalidArgument("Invalid event config");var Le=H(Se,Te,function(){for(var Xe=arguments.length,Ye=new Array(Xe);Xe--;)Ye[Xe]=arguments[Xe];Le.subscribers.forEach(function(He){ge(function(){He.apply(null,Ye)})})})}})}}function Js(v,C){return Me(C).from({prototype:v}),C}function Ta(v,C){return!(v.filter||v.algorithm||v.or)&&(C?v.justLimit:!v.replayFilter)}function xc(v,C){v.filter=Zs(v.filter,C)}function Aa(v,C,S){var N=v.replayFilter;v.replayFilter=N?function(){return Zs(N(),C())}:C,v.justLimit=S&&!N}function Sa(v,C){if(v.isPrimKey)return C.primaryKey;var S=C.getIndexByKeyPath(v.index);if(!S)throw new X.Schema("KeyPath "+v.index+" on object store "+C.name+" is not indexed");return S}function Mc(v,C,S){var N=Sa(v,C.schema);return C.openCursor({trans:S,values:!v.keysOnly,reverse:"prev"===v.dir,unique:!!v.unique,query:{index:N,range:v.range}})}function ml(v,C,S,N){var V=v.replayFilter?Zs(v.filter,v.replayFilter()):v.filter;if(v.or){var H={},ee=function(ye,$e,ke){var tt,Se;V&&!V($e,ke,function(nt){return $e.stop(nt)},function(nt){return $e.fail(nt)})||("[object ArrayBuffer]"==(Se=""+(tt=$e.primaryKey))&&(Se=""+new Uint8Array(tt)),ut(H,Se)||(H[Se]=!0,C(ye,$e,ke)))};return Promise.all([v.or._iterate(ee,S),xa(Mc(v,N,S),v.algorithm,ee,!v.keysOnly&&v.valueMapper)])}return xa(Mc(v,N,S),Zs(v.algorithm,V),C,!v.keysOnly&&v.valueMapper)}function xa(v,C,S,N){var V=vn(N?function(H,ee,ye){return S(N(H),ee,ye)}:S);return v.then(function(H){if(H)return H.start(function(){var ee=function(){return H.continue()};C&&!C(H,function(ye){return ee=ye},function(ye){H.stop(ye),ee=ce},function(ye){H.fail(ye),ee=ce})||V(H.value,H,function(ye){return ee=ye}),ee()})})}To=Symbol();var ea=(Rc.prototype.execute=function(v){if(void 0!==this.add){var C=this.add;if(ae(C))return J(J([],ae(v)?v:[],!0),C,!0).sort();if("number"==typeof C)return(Number(v)||0)+C;if("bigint"==typeof C)try{return BigInt(v)+C}catch{return BigInt(0)+C}throw new TypeError("Invalid term ".concat(C))}if(void 0!==this.remove){var S=this.remove;if(ae(S))return ae(v)?v.filter(function(N){return!S.includes(N)}).sort():[];if("number"==typeof S)return Number(v)-S;if("bigint"==typeof S)try{return BigInt(v)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return(C=null===(C=this.replacePrefix)||void 0===C?void 0:C[0])&&"string"==typeof v&&v.startsWith(C)?this.replacePrefix[1]+v.substring(C.length):v},Rc);function Rc(v){Object.assign(this,v)}var Oc=(zn.prototype._read=function(v,C){var S=this._ctx;return S.error?S.table._trans(null,gn.bind(null,S.error)):S.table._trans("readonly",v).then(C)},zn.prototype._write=function(v){var C=this._ctx;return C.error?C.table._trans(null,gn.bind(null,C.error)):C.table._trans("readwrite",v,"locked")},zn.prototype._addAlgorithm=function(v){var C=this._ctx;C.algorithm=Zs(C.algorithm,v)},zn.prototype._iterate=function(v,C){return ml(this._ctx,v,C,this._ctx.table.core)},zn.prototype.clone=function(v){var C=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return v&&x(S,v),C._ctx=S,C},zn.prototype.raw=function(){return this._ctx.valueMapper=null,this},zn.prototype.each=function(v){var C=this._ctx;return this._read(function(S){return ml(C,v,S,C.table.core)})},zn.prototype.count=function(v){var C=this;return this._read(function(S){var N=C._ctx,V=N.table.core;if(Ta(N,!0))return V.count({trans:S,query:{index:Sa(N,V.schema),range:N.range}}).then(function(ee){return Math.min(ee,N.limit)});var H=0;return ml(N,function(){return++H,!1},S,V).then(function(){return H})}).then(v)},zn.prototype.sortBy=function(v,C){var S=v.split(".").reverse(),N=S[0],V=S.length-1;function H($e,ke){return ke?H($e[S[ke]],ke-1):$e[N]}var ee="next"===this._ctx.dir?1:-1;function ye($e,ke){return($e=H($e,V))<(ke=H(ke,V))?-ee:ke<$e?ee:0}return this.toArray(function($e){return $e.sort(ye)}).then(C)},zn.prototype.toArray=function(v){var C=this;return this._read(function(S){var N=C._ctx;if("next"===N.dir&&Ta(N,!0)&&0<N.limit){var V=N.valueMapper,H=Sa(N,N.table.core.schema);return N.table.core.query({trans:S,limit:N.limit,values:!0,query:{index:H,range:N.range}}).then(function(ye){return ye=ye.result,V?ye.map(V):ye})}var ee=[];return ml(N,function(ye){return ee.push(ye)},S,N.table.core).then(function(){return ee})},v)},zn.prototype.offset=function(v){var C=this._ctx;return v<=0||(C.offset+=v,Ta(C)?Aa(C,function(){var S=v;return function(N,V){return 0===S||(1===S?--S:V(function(){N.advance(S),S=0}),!1)}}):Aa(C,function(){var S=v;return function(){return--S<0}})),this},zn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),Aa(this._ctx,function(){var C=v;return function(S,N,V){return--C<=0&&N(V),0<=C}},!0),this},zn.prototype.until=function(v,C){return xc(this._ctx,function(S,N,V){return!v(S.value)||(N(V),C)}),this},zn.prototype.first=function(v){return this.limit(1).toArray(function(C){return C[0]}).then(v)},zn.prototype.last=function(v){return this.reverse().first(v)},zn.prototype.filter=function(v){var C;return xc(this._ctx,function(S){return v(S.value)}),(C=this._ctx).isMatch=Zs(C.isMatch,v),this},zn.prototype.and=function(v){return this.filter(v)},zn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},zn.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},zn.prototype.desc=function(){return this.reverse()},zn.prototype.eachKey=function(v){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(S,N){v(N.key,N)})},zn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},zn.prototype.eachPrimaryKey=function(v){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(S,N){v(N.primaryKey,N)})},zn.prototype.keys=function(v){var C=this._ctx;C.keysOnly=!C.isMatch;var S=[];return this.each(function(N,V){S.push(V.key)}).then(function(){return S}).then(v)},zn.prototype.primaryKeys=function(v){var C=this._ctx;if("next"===C.dir&&Ta(C,!0)&&0<C.limit)return this._read(function(N){var V=Sa(C,C.table.core.schema);return C.table.core.query({trans:N,values:!1,limit:C.limit,query:{index:V,range:C.range}})}).then(function(N){return N.result}).then(v);C.keysOnly=!C.isMatch;var S=[];return this.each(function(N,V){S.push(V.primaryKey)}).then(function(){return S}).then(v)},zn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},zn.prototype.firstKey=function(v){return this.limit(1).keys(function(C){return C[0]}).then(v)},zn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},zn.prototype.distinct=function(){var v;if(!(v=(v=this._ctx).index&&v.table.schema.idxByName[v.index])||!v.multi)return this;var C={};return xc(this._ctx,function(V){var N=V.primaryKey.toString();return V=ut(C,N),C[N]=!0,!V}),this},zn.prototype.modify=function(v){var C=this,S=this._ctx;return this._write(function(N){var V,H,ee;function ye(He,rt){var qe=rt.failures;Xe+=He-(rt=rt.numFailures);for(var wt=0,Ft=me(qe);wt<Ft.length;wt++)Le.push(qe[Ft[wt]])}ee="function"==typeof v?v:(V=me(v),H=V.length,function(He){for(var ft=!1,qe=0;qe<H;++qe){var rt=V[qe],wt=v[rt],Ft=Fe(He,rt);wt instanceof ea?(xe(He,rt,wt.execute(Ft)),ft=!0):Ft!==wt&&(xe(He,rt,wt),ft=!0)}return ft});var $e=S.table.core,ke=$e.schema.primaryKey,tt=ke.outbound,Se=ke.extractKey,nt=C.db._options.modifyChunkSize||200,Le=[],Xe=0,Ye=[];return C.clone().primaryKeys().then(function(He){var qe=Ta(S)&&S.limit===1/0&&("function"!=typeof v||v===Ja)&&{index:S.index,range:S.range};return function ft(rt){var wt=Math.min(nt,He.length-rt);return $e.getMany({trans:N,keys:He.slice(rt,rt+wt),cache:"immutable"}).then(function(Ft){for(var xt=[],Vt=[],Kt=tt?[]:null,qt=[],yt=0;yt<wt;++yt){var Sn=Ft[yt],Pn={value:_e(Sn),primKey:He[rt+yt]};!1!==ee.call(Pn,Pn.value,Pn)&&(null==Pn.value?qt.push(He[rt+yt]):tt||0===Hn(Se(Sn),Se(Pn.value))?(Vt.push(Pn.value),tt&&Kt.push(He[rt+yt])):(qt.push(He[rt+yt]),xt.push(Pn.value)))}return Promise.resolve(0<xt.length&&$e.mutate({trans:N,type:"add",values:xt}).then(function(En){for(var Ln in En.failures)qt.splice(parseInt(Ln),1);ye(xt.length,En)})).then(function(){return(0<Vt.length||qe&&"object"==typeof v)&&$e.mutate({trans:N,type:"put",keys:Kt,values:Vt,criteria:qe,changeSpec:"function"!=typeof v&&v,isAdditionalChunk:0<rt}).then(function(En){return ye(Vt.length,En)})}).then(function(){return(0<qt.length||qe&&v===Ja)&&$e.mutate({trans:N,type:"delete",keys:qt,criteria:qe,isAdditionalChunk:0<rt}).then(function(En){return ye(qt.length,En)})}).then(function(){return He.length>rt+wt&&ft(rt+nt)})})}(0).then(function(){if(0<Le.length)throw new be("Error modifying one or more objects",Le,Xe,Ye);return He.length})})})},zn.prototype.delete=function(){var v=this._ctx,C=v.range;return Ta(v)&&(v.isPrimKey||3===C.type)?this._write(function(S){var V=C;return v.table.core.count({trans:S,query:{index:v.table.core.schema.primaryKey,range:V}}).then(function(H){return v.table.core.mutate({trans:S,type:"deleteRange",range:V}).then(function(ee){var ye=ee.failures;if(ee=ee.numFailures)throw new be("Could not delete some values",Object.keys(ye).map(function($e){return ye[$e]}),H-ee);return H-ee})})}):this.modify(Ja)},zn);function zn(){}var Ja=function(v,C){return C.value=null};function gl(v,C){return v<C?-1:v===C?0:1}function yu(v,C){return C<v?-1:v===C?0:1}function po(v,C,S){return(v=v instanceof Oe?new v.Collection(v):v)._ctx.error=new(S||TypeError)(C),v}function no(v){return new v.Collection(v,function(){return z("")}).limit(0)}function ec(v,C,S,N){var V,H,ee,ye,$e,ke,tt,Se=S.length;if(!S.every(function(Xe){return"string"==typeof Xe}))return po(v,cs);function nt(Xe){V="next"===Xe?function(He){return He.toUpperCase()}:function(He){return He.toLowerCase()},H="next"===Xe?function(He){return He.toLowerCase()}:function(He){return He.toUpperCase()},ee="next"===Xe?gl:yu;var Ye=S.map(function(He){return{lower:H(He),upper:V(He)}}).sort(function(He,ft){return ee(He.lower,ft.lower)});ye=Ye.map(function(He){return He.upper}),$e=Ye.map(function(He){return He.lower}),tt="next"===(ke=Xe)?"":N}nt("next"),(v=new v.Collection(v,function(){return us(ye[0],$e[Se-1]+N)}))._ondirectionchange=function(Xe){nt(Xe)};var Le=0;return v._addAlgorithm(function(Xe,Ye,He){var ft=Xe.key;if("string"!=typeof ft)return!1;var qe=H(ft);if(C(qe,$e,Le))return!0;for(var rt=null,wt=Le;wt<Se;++wt){var Ft=function(xt,Vt,Kt,qt,yt,Sn){for(var Pn=Math.min(xt.length,qt.length),En=-1,Ln=0;Ln<Pn;++Ln){var aa=Vt[Ln];if(aa!==qt[Ln])return yt(xt[Ln],Kt[Ln])<0?xt.substr(0,Ln)+Kt[Ln]+Kt.substr(Ln+1):yt(xt[Ln],qt[Ln])<0?xt.substr(0,Ln)+qt[Ln]+Kt.substr(Ln+1):0<=En?xt.substr(0,En)+Vt[En]+Kt.substr(En+1):null;yt(xt[Ln],aa)<0&&(En=Ln)}return Pn<qt.length&&"next"===Sn?xt+Kt.substr(xt.length):Pn<xt.length&&"prev"===Sn?xt.substr(0,Kt.length):En<0?null:xt.substr(0,En)+qt[En]+Kt.substr(En+1)}(ft,qe,ye[wt],$e[wt],ee,ke);null===Ft&&null===rt?Le=wt+1:(null===rt||0<ee(rt,Ft))&&(rt=Ft)}return Ye(null!==rt?function(){Xe.continue(rt+tt)}:He),!1}),v}function us(v,C,S,N){return{type:2,lower:v,upper:C,lowerOpen:S,upperOpen:N}}function z(v){return{type:1,lower:v,upper:v}}var Oe=(Object.defineProperty(Je.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Je.prototype.between=function(v,C,S,N){S=!1!==S,N=!0===N;try{return 0<this._cmp(v,C)||0===this._cmp(v,C)&&(S||N)&&(!S||!N)?no(this):new this.Collection(this,function(){return us(v,C,!S,!N)})}catch{return po(this,di)}},Je.prototype.equals=function(v){return null==v?po(this,di):new this.Collection(this,function(){return z(v)})},Je.prototype.above=function(v){return null==v?po(this,di):new this.Collection(this,function(){return us(v,void 0,!0)})},Je.prototype.aboveOrEqual=function(v){return null==v?po(this,di):new this.Collection(this,function(){return us(v,void 0,!1)})},Je.prototype.below=function(v){return null==v?po(this,di):new this.Collection(this,function(){return us(void 0,v,!1,!0)})},Je.prototype.belowOrEqual=function(v){return null==v?po(this,di):new this.Collection(this,function(){return us(void 0,v)})},Je.prototype.startsWith=function(v){return"string"!=typeof v?po(this,cs):this.between(v,v+"\uffff",!0,!0)},Je.prototype.startsWithIgnoreCase=function(v){return""===v?this.startsWith(v):ec(this,function(C,S){return 0===C.indexOf(S[0])},[v],"\uffff")},Je.prototype.equalsIgnoreCase=function(v){return ec(this,function(C,S){return C===S[0]},[v],"")},Je.prototype.anyOfIgnoreCase=function(){var v=en.apply(ln,arguments);return 0===v.length?no(this):ec(this,function(C,S){return-1!==S.indexOf(C)},v,"")},Je.prototype.startsWithAnyOfIgnoreCase=function(){var v=en.apply(ln,arguments);return 0===v.length?no(this):ec(this,function(C,S){return S.some(function(N){return 0===C.indexOf(N)})},v,"\uffff")},Je.prototype.anyOf=function(){var v=this,C=en.apply(ln,arguments),S=this._cmp;try{C.sort(S)}catch{return po(this,di)}if(0===C.length)return no(this);var N=new this.Collection(this,function(){return us(C[0],C[C.length-1])});N._ondirectionchange=function(H){C.sort(S="next"===H?v._ascending:v._descending)};var V=0;return N._addAlgorithm(function(H,ee,ye){for(var $e=H.key;0<S($e,C[V]);)if(++V===C.length)return ee(ye),!1;return 0===S($e,C[V])||(ee(function(){H.continue(C[V])}),!1)}),N},Je.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Je.prototype.noneOf=function(){var v=en.apply(ln,arguments);if(0===v.length)return new this.Collection(this);try{v.sort(this._ascending)}catch{return po(this,di)}var C=v.reduce(function(S,N){return S?S.concat([[S[S.length-1][1],N]]):[[-1/0,N]]},null);return C.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(C,{includeLowers:!1,includeUppers:!1})},Je.prototype.inAnyRange=function(ft,C){var S=this,N=this._cmp,V=this._ascending,H=this._descending,ee=this._min,ye=this._max;if(0===ft.length)return no(this);if(!ft.every(function(qe){return void 0!==qe[0]&&void 0!==qe[1]&&V(qe[0],qe[1])<=0}))return po(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",X.InvalidArgument);var tt,$e=!C||!1!==C.includeLowers,ke=C&&!0===C.includeUppers,Se=V;function nt(qe,rt){return Se(qe[0],rt[0])}try{(tt=ft.reduce(function(qe,rt){for(var wt=0,Ft=qe.length;wt<Ft;++wt){var xt=qe[wt];if(N(rt[0],xt[1])<0&&0<N(rt[1],xt[0])){xt[0]=ee(xt[0],rt[0]),xt[1]=ye(xt[1],rt[1]);break}}return wt===Ft&&qe.push(rt),qe},[])).sort(nt)}catch{return po(this,di)}var Le=0,Xe=ke?function(qe){return 0<V(qe,tt[Le][1])}:function(qe){return 0<=V(qe,tt[Le][1])},Ye=$e?function(qe){return 0<H(qe,tt[Le][0])}:function(qe){return 0<=H(qe,tt[Le][0])},He=Xe;return(ft=new this.Collection(this,function(){return us(tt[0][0],tt[tt.length-1][1],!$e,!ke)}))._ondirectionchange=function(qe){Se="next"===qe?(He=Xe,V):(He=Ye,H),tt.sort(nt)},ft._addAlgorithm(function(qe,rt,wt){for(var Ft,xt=qe.key;He(xt);)if(++Le===tt.length)return rt(wt),!1;return!Xe(Ft=xt)&&!Ye(Ft)||(0===S._cmp(xt,tt[Le][1])||0===S._cmp(xt,tt[Le][0])||rt(function(){qe.continue(Se===V?tt[Le][0]:tt[Le][1])}),!1)}),ft},Je.prototype.startsWithAnyOf=function(){var v=en.apply(ln,arguments);return v.every(function(C){return"string"==typeof C})?0===v.length?no(this):this.inAnyRange(v.map(function(C){return[C,C+"\uffff"]})):po(this,"startsWithAnyOf() only works with strings")},Je);function Je(){}function dt(v){return vn(function(C){return Nt(C),v(C.target.error),!1})}function Nt(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var Dn="storagemutated",Fn="x-storagemutated-1",Yn=ls(null,Dn),mr=(jr.prototype._lock=function(){return Pe(!jt.global),++this._reculock,1!==this._reculock||jt.global||(jt.lockOwnerFor=this),this},jr.prototype._unlock=function(){if(Pe(!jt.global),0==--this._reculock)for(jt.global||(jt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{ui(v[1],v[0])}catch{}}return this},jr.prototype._locked=function(){return this._reculock&&jt.lockOwnerFor!==this},jr.prototype.create=function(v){var C=this;if(!this.mode)return this;var S=this.db.idbdb,N=this.db._state.dbOpenError;if(Pe(!this.idbtrans),!v&&!S)switch(N&&N.name){case"DatabaseClosedError":throw new X.DatabaseClosed(N);case"MissingAPIError":throw new X.MissingAPI(N.message,N);default:throw new X.OpenFailed(N)}if(!this.active)throw new X.TransactionInactive;return Pe(null===this._completion._state),(v=this.idbtrans=v||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=vn(function(V){Nt(V),C._reject(v.error)}),v.onabort=vn(function(V){Nt(V),C.active&&C._reject(new X.Abort(v.error)),C.active=!1,C.on("abort").fire(V)}),v.oncomplete=vn(function(){C.active=!1,C._resolve(),"mutatedParts"in v&&Yn.storagemutated.fire(v.mutatedParts)}),this},jr.prototype._promise=function(v,C,S){var N=this;if("readwrite"===v&&"readwrite"!==this.mode)return gn(new X.ReadOnly("Transaction is readonly"));if(!this.active)return gn(new X.TransactionInactive);if(this._locked())return new Pt(function(H,ee){N._blockedFuncs.push([function(){N._promise(v,C,S).then(H,ee)},jt])});if(S)return Wn(function(){var H=new Pt(function(ee,ye){N._lock();var $e=C(ee,ye,N);$e&&$e.then&&$e.then(ee,ye)});return H.finally(function(){return N._unlock()}),H._lib=!0,H});var V=new Pt(function(H,ee){var ye=C(H,ee,N);ye&&ye.then&&ye.then(H,ee)});return V._lib=!0,V},jr.prototype._root=function(){return this.parent?this.parent._root():this},jr.prototype.waitFor=function(v){var C,S=this._root(),N=Pt.resolve(v);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return N}):(S._waitingFor=N,S._waitingQueue=[],C=S.idbtrans.objectStore(S.storeNames[0]),function H(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(C.get(-1/0).onsuccess=H)}());var V=S._waitingFor;return new Pt(function(H,ee){N.then(function(ye){return S._waitingQueue.push(vn(H.bind(null,ye)))},function(ye){return S._waitingQueue.push(vn(ee.bind(null,ye)))}).finally(function(){S._waitingFor===V&&(S._waitingFor=null)})})},jr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new X.Abort))},jr.prototype.table=function(v){var C=this._memoizedTables||(this._memoizedTables={});if(ut(C,v))return C[v];var S=this.schema[v];if(!S)throw new X.NotFound("Table "+v+" not part of transaction");return(S=new this.db.Table(v,S,this)).core=this.db.core.table(v),C[v]=S},jr);function jr(){}function qr(v,C,S,N,V,H,ee){return{name:v,keyPath:C,unique:S,multi:N,auto:V,compound:H,src:(S&&!ee?"&":"")+(N?"*":"")+(V?"++":"")+Xr(C)}}function Xr(v){return"string"==typeof v?v:v?"["+[].join.call(v,"+")+"]":""}function Ao(v,C,S){return{name:v,primKey:C,indexes:S,mappedClass:null,idxByName:(N=function(V){return[V.name,V]},S.reduce(function(V,H,ee){return(ee=N(H))&&(V[ee[0]]=ee[1]),V},{}))};var N}var As=function(v){try{return v.only([[]]),As=function(){return[[]]},[[]]}catch{return As=function(){return"\uffff"},"\uffff"}};function mo(v){return null==v?function(){}:"string"==typeof v?1===(C=v).split(".").length?function(S){return S[C]}:function(S){return Fe(S,C)}:function(S){return Fe(S,v)};var C}function So(v){return[].slice.call(v)}var ta=0;function na(v){return null==v?":id":"string"==typeof v?v:"[".concat(v.join("+"),"]")}function go(v,C,$e){function N(He){if(3===He.type)return null;if(4===He.type)throw new Error("Cannot convert never type to IDBKeyRange");var Le=He.lower,Xe=He.upper,Ye=He.lowerOpen;return He=He.upperOpen,void 0===Le?void 0===Xe?null:C.upperBound(Xe,!!He):void 0===Xe?C.lowerBound(Le,!!Ye):C.bound(Le,Xe,!!Ye,!!He)}var H,ee,ye,ke=(ee=$e,ye=So((H=v).objectStoreNames),tt={schema:{name:H.name,tables:ye.map(function(nt){return ee.objectStore(nt)}).map(function(nt){var Le=nt.keyPath,He=nt.autoIncrement,Xe=ae(Le),Ye={};return He={name:nt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==Le,compound:Xe,keyPath:Le,autoIncrement:He,unique:!0,extractKey:mo(Le)},indexes:So(nt.indexNames).map(function(ft){return nt.index(ft)}).map(function(wt){var rt=wt.unique,Ft=wt.multiEntry;return Ft={name:wt.name,compound:ae(wt=wt.keyPath),keyPath:wt,unique:rt,multiEntry:Ft,extractKey:mo(wt)},Ye[na(wt)]=Ft}),getIndexByKeyPath:function(ft){return Ye[na(ft)]}},Ye[":id"]=He.primaryKey,null!=Le&&(Ye[na(Le)]=He.primaryKey),He})},hasGetAll:0<ye.length&&"getAll"in ee.objectStore(ye[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,tt=($e=tt.schema).tables.map(function V(nt){var Le,Xe=nt.name;return{name:Xe,schema:nt,mutate:function(Ye){var He=Ye.trans,ft=Ye.type,qe=Ye.keys,rt=Ye.values,wt=Ye.range;return new Promise(function(Ft,xt){Ft=vn(Ft);var Vt=He.objectStore(Xe),Kt=null==Vt.keyPath,qt="put"===ft||"add"===ft;if(!qt&&"delete"!==ft&&"deleteRange"!==ft)throw new Error("Invalid operation type: "+ft);var yt,Sn=(qe||rt||{length:1}).length;if(qe&&rt&&qe.length!==rt.length)throw new Error("Given keys array must have same length as given values array.");if(0===Sn)return Ft({numFailures:0,failures:{},results:[],lastResult:void 0});function Pn(zi){++aa,Nt(zi)}var En=[],Ln=[],aa=0;if("deleteRange"===ft){if(4===wt.type)return Ft({numFailures:aa,failures:Ln,results:[],lastResult:void 0});En.push(yt=3===wt.type?Vt.clear():Vt.delete(N(wt)))}else{var Bn=(Kt=qt?Kt?[rt,qe]:[rt,null]:[qe,null])[0],hi=Kt[1];if(qt)for(var ri=0;ri<Sn;++ri)En.push(yt=hi&&void 0!==hi[ri]?Vt[ft](Bn[ri],hi[ri]):Vt[ft](Bn[ri])),yt.onerror=Pn;else for(ri=0;ri<Sn;++ri)En.push(yt=Vt[ft](Bn[ri])),yt.onerror=Pn}function Na(zi){zi=zi.target.result,En.forEach(function(Ms,rc){return null!=Ms.error&&(Ln[rc]=Ms.error)}),Ft({numFailures:aa,failures:Ln,results:"delete"===ft?qe:En.map(function(Ms){return Ms.result}),lastResult:zi})}yt.onerror=function(zi){Pn(zi),Na(zi)},yt.onsuccess=Na})},getMany:function(Ye){var He=Ye.trans,ft=Ye.keys;return new Promise(function(qe,rt){qe=vn(qe);for(var wt,Ft=He.objectStore(Xe),xt=ft.length,Vt=new Array(xt),Kt=0,qt=0,yt=function(En){Vt[(En=En.target)._pos]=En.result,++qt===Kt&&qe(Vt)},Sn=dt(rt),Pn=0;Pn<xt;++Pn)null!=ft[Pn]&&((wt=Ft.get(ft[Pn]))._pos=Pn,wt.onsuccess=yt,wt.onerror=Sn,++Kt);0===Kt&&qe(Vt)})},get:function(Ye){var He=Ye.trans,ft=Ye.key;return new Promise(function(qe,rt){qe=vn(qe);var wt=He.objectStore(Xe).get(ft);wt.onsuccess=function(Ft){return qe(Ft.target.result)},wt.onerror=dt(rt)})},query:(Le=ke,function(Ye){return new Promise(function(He,ft){He=vn(He);var qe,rt,wt,Ft=Ye.values,xt=Ye.limit,Vt=xt===1/0?void 0:xt,qt=(yt=Ye.query).index,yt=yt.range,Kt=(Kt=Ye.trans).objectStore(Xe);if(qt=qt.isPrimaryKey?Kt:Kt.index(qt.name),yt=N(yt),0===xt)return He({result:[]});Le?((Vt=Ft?qt.getAll(yt,Vt):qt.getAllKeys(yt,Vt)).onsuccess=function(Sn){return He({result:Sn.target.result})},Vt.onerror=dt(ft)):(qe=0,rt=!Ft&&"openKeyCursor"in qt?qt.openKeyCursor(yt):qt.openCursor(yt),wt=[],rt.onsuccess=function(Sn){var Pn=rt.result;return Pn?(wt.push(Ft?Pn.value:Pn.primaryKey),++qe===xt?He({result:wt}):void Pn.continue()):He({result:wt})},rt.onerror=dt(ft))})}),openCursor:function(Ye){var He=Ye.trans,ft=Ye.values,qe=Ye.query,rt=Ye.reverse,wt=Ye.unique;return new Promise(function(Ft,xt){Ft=vn(Ft);var qt=qe.index,Vt=qe.range,Kt=He.objectStore(Xe),yt=(Kt=qt.isPrimaryKey?Kt:Kt.index(qt.name),qt=rt?wt?"prevunique":"prev":wt?"nextunique":"next",!ft&&"openKeyCursor"in Kt?Kt.openKeyCursor(N(Vt),qt):Kt.openCursor(N(Vt),qt));yt.onerror=dt(xt),yt.onsuccess=vn(function(Sn){var Pn,En,Ln,aa,Bn=yt.result;Bn?(Bn.___id=++ta,Bn.done=!1,Pn=Bn.continue.bind(Bn),En=(En=Bn.continuePrimaryKey)&&En.bind(Bn),Ln=Bn.advance.bind(Bn),aa=function(){throw new Error("Cursor not stopped")},Bn.trans=He,Bn.stop=Bn.continue=Bn.continuePrimaryKey=Bn.advance=function(){throw new Error("Cursor not started")},Bn.fail=vn(xt),Bn.next=function(){var hi=this,ri=1;return this.start(function(){return ri--?hi.continue():hi.stop()}).then(function(){return hi})},Bn.start=function(hi){function ri(){if(yt.result)try{hi()}catch(zi){Bn.fail(zi)}else Bn.done=!0,Bn.start=function(){throw new Error("Cursor behind last entry")},Bn.stop()}var Na=new Promise(function(zi,Ms){zi=vn(zi),yt.onerror=dt(Ms),Bn.fail=Ms,Bn.stop=function(rc){Bn.stop=Bn.continue=Bn.continuePrimaryKey=Bn.advance=aa,zi(rc)}});return yt.onsuccess=vn(function(zi){yt.onsuccess=ri,ri()}),Bn.continue=Pn,Bn.continuePrimaryKey=En,Bn.advance=Ln,ri(),Na},Ft(Bn)):Ft(null)},xt)})},count:function(Ye){var He=Ye.query,ft=Ye.trans,qe=He.index,rt=He.range;return new Promise(function(wt,Ft){var xt=ft.objectStore(Xe),Vt=qe.isPrimaryKey?xt:xt.index(qe.name);(Vt=(xt=N(rt))?Vt.count(xt):Vt.count()).onsuccess=vn(function(Kt){return wt(Kt.target.result)}),Vt.onerror=dt(Ft)})}}}),Se={};return tt.forEach(function(nt){return Se[nt.name]=nt}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(nt){if(!Se[nt])throw new Error("Table '".concat(nt,"' not found"));return Se[nt]},MIN_KEY:-1/0,MAX_KEY:As(C),schema:$e}}function Pc(v,N){N=function tc(v,C,S,N){return{dbcore:(N=go(C,S.IDBKeyRange,N),v.dbcore.reduce(function(H,ee){return ee=ee.create,O(O({},H),ee(H))},N))}}(v._middlewares,N.db,v._deps,N),v.core=N.dbcore,v.tables.forEach(function(V){var H=V.name;v.core.schema.tables.some(function(ee){return ee.name===H})&&(V.core=v.core.table(H),v[H]instanceof v.Table&&(v[H].core=V.core))})}function _l(v,C,S,N){S.forEach(function(V){var H=N[V];C.forEach(function(ee){var ye=function $e(ke,tt){return Ne(ke,tt)||(ke=l(ke))&&$e(ke,tt)}(ee,V);(!ye||"value"in ye&&void 0===ye.value)&&(ee===v.Transaction.prototype||ee instanceof v.Transaction?Y(ee,V,{get:function(){return this.table(V)},set:function($e){Ue(this,V,{value:$e,writable:!0,configurable:!0,enumerable:!0})}}):ee[V]=new v.Table(V,H))})})}function kc(v,C){C.forEach(function(S){for(var N in S)S[N]instanceof v.Table&&delete S[N]})}function bu(v,C){return v._cfg.version-C._cfg.version}function Qt(v,C){var S,N={del:[],add:[],change:[]};for(S in v)C[S]||N.del.push(S);for(S in C){var V=v[S],H=C[S];if(V){var ee={name:S,def:H,recreate:!1,del:[],add:[],change:[]};if(""+(V.primKey.keyPath||"")!=""+(H.primKey.keyPath||"")||V.primKey.auto!==H.primKey.auto)ee.recreate=!0,N.change.push(ee);else{var ye=V.idxByName,$e=H.idxByName,ke=void 0;for(ke in ye)$e[ke]||ee.del.push(ke);for(ke in $e){var tt=ye[ke],Se=$e[ke];tt?tt.src!==Se.src&&ee.change.push(Se):ee.add.push(Se)}(0<ee.del.length||0<ee.add.length||0<ee.change.length)&&N.change.push(ee)}}else N.add.push([S,H])}return N}function ra(v,C,S,N){var V=v.db.createObjectStore(C,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return N.forEach(function(H){return Nc(V,H)}),V}function Ma(v,C){me(v).forEach(function(S){C.db.objectStoreNames.contains(S)||(Ht&&console.debug("Dexie: Creating missing table",S),ra(C,S,v[S].primKey,v[S].indexes))})}function Nc(v,C){v.createIndex(C.name,C.keyPath,{unique:C.unique,multiEntry:C.multi})}function Eu(v,C,S){var N={};return ze(C.objectStoreNames,0).forEach(function(V){for(var H=S.objectStore(V),ee=qr(Xr(ke=H.keyPath),ke||"",!0,!1,!!H.autoIncrement,ke&&"string"!=typeof ke,!0),ye=[],$e=0;$e<H.indexNames.length;++$e){var ke=(tt=H.index(H.indexNames[$e])).keyPath,tt=qr(tt.name,ke,!!tt.unique,!!tt.multiEntry,!1,ke&&"string"!=typeof ke,!1);ye.push(tt)}N[V]=Ao(V,ee,ye)}),N}function wu(v,C,S){for(var N=S.db.objectStoreNames,V=0;V<N.length;++V){var H=N[V],ee=S.objectStore(H);v._hasGetAll="getAll"in ee;for(var ye=0;ye<ee.indexNames.length;++ye){var $e=ee.indexNames[ye],ke=ee.index($e).keyPath,tt="string"==typeof ke?ke:"["+ze(ke).join("+")+"]";!C[H]||(ke=C[H].idxByName[tt])&&(ke.name=$e,delete C[H].idxByName[tt],C[H].idxByName[$e]=ke)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&re.WorkerGlobalScope&&re instanceof re.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function vl(v){return v.split(",").map(function(C,S){var N=(C=C.trim()).replace(/([&*]|\+\+)/g,""),V=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return qr(N,V||null,/\&/.test(C),/\*/.test(C),/\+\+/.test(C),ae(V),0===S)})}var Ss=(ni.prototype._parseStoresSpec=function(v,C){me(v).forEach(function(S){if(null!==v[S]){var N=vl(v[S]),V=N.shift();if(V.unique=!0,V.multi)throw new X.Schema("Primary key cannot be multi-valued");N.forEach(function(H){if(H.auto)throw new X.Schema("Only primary key can be marked as autoIncrement (++)");if(!H.keyPath)throw new X.Schema("Index must have a name and cannot be an empty string")}),C[S]=Ao(S,V,N)}})},ni.prototype.stores=function(S){var C=this.db;this._cfg.storesSource=this._cfg.storesSource?x(this._cfg.storesSource,S):S;var N={},V={};return(S=C._versions).forEach(function(H){x(N,H._cfg.storesSource),V=H._cfg.dbschema={},H._parseStoresSpec(N,V)}),C._dbSchema=V,kc(C,[C._allTables,C,C.Transaction.prototype]),_l(C,[C._allTables,C,C.Transaction.prototype,this._cfg.tables],me(V),V),C._storeNames=me(V),this},ni.prototype.upgrade=function(v){return this._cfg.contentUpgrade=cn(this._cfg.contentUpgrade||ce,v),this},ni);function ni(){}function Ra(v,C){var S=v._dbNamesDB;return S||(S=v._dbNamesDB=new oa(bi,{addons:[],indexedDB:v,IDBKeyRange:C})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function ia(v){return v&&"function"==typeof v.databases}function Iu(v){return Wn(function(){return jt.letThrough=!0,v()})}function yl(v){return!("from"in v)}var wr=function(v,C){if(!this){var S=new wr;return v&&"d"in v&&x(S,v),S}x(this,arguments.length?{d:1,from:v,to:1<arguments.length?C:v}:{d:0})};function Cu(v,C,S){var N=Hn(C,S);if(!isNaN(N)){if(0<N)throw RangeError();if(yl(v))return x(v,{from:C,to:S,d:1});var V=v.l;if(N=v.r,Hn(S,v.from)<0)return V?Cu(V,C,S):v.l={from:C,to:S,d:1,l:null,r:null},ar(v);if(0<Hn(C,v.to))return N?Cu(N,C,S):v.r={from:C,to:S,d:1,l:null,r:null},ar(v);Hn(C,v.from)<0&&(v.from=C,v.l=null,v.d=N?N.d+1:1),0<Hn(S,v.to)&&(v.to=S,v.r=null,v.d=v.l?v.l.d+1:1),S=!v.r,V&&!v.l&&Ar(v,V),N&&S&&Ar(v,N)}}function Ar(v,C){yl(C)||function S(N,$e){var H=$e.from,ee=$e.to,ye=$e.l;$e=$e.r,Cu(N,H,ee),ye&&S(N,ye),$e&&S(N,$e)}(v,C)}function Fd(v,C){var S=Ld(C),N=S.next();if(N.done)return!1;for(var V=N.value,H=Ld(v),ee=H.next(V.from),ye=ee.value;!N.done&&!ee.done;){if(Hn(ye.from,V.to)<=0&&0<=Hn(ye.to,V.from))return!0;Hn(V.from,ye.from)<0?V=(N=S.next(ye.from)).value:ye=(ee=H.next(V.from)).value}return!1}function Ld(v){var C=yl(v)?null:{s:0,n:v};return{next:function(S){for(var N=0<arguments.length;C;)switch(C.s){case 0:if(C.s=1,N)for(;C.n.l&&Hn(S,C.n.from)<0;)C={up:C,n:C.n.l,s:1};else for(;C.n.l;)C={up:C,n:C.n.l,s:1};case 1:if(C.s=2,!N||Hn(S,C.n.to)<=0)return{value:C.n,done:!1};case 2:if(C.n.r){C.s=3,C={up:C,n:C.n.r,s:0};continue}case 3:C=C.up}return{done:!0}}}}function ar(v){var C,S,N=((null===(C=v.r)||void 0===C?void 0:C.d)||0)-((null===(S=v.l)||void 0===S?void 0:S.d)||0),V=1<N?"r":N<-1?"l":"";V&&(C="r"==V?"l":"r",S=O({},v),v.from=(N=v[V]).from,v.to=N.to,v[V]=N[V],S[V]=N[C],(v[C]=S).d=Vf(S)),v.d=Vf(v)}function Vf(S){var C=S.r;return S=S.l,(C?S?Math.max(C.d,S.d):C.d:S?S.d:0)+1}function Wr(v,C){return me(C).forEach(function(S){v[S]?Ar(v[S],C[S]):v[S]=function N(V){var H,ee,ye={};for(H in V)ut(V,H)&&(ye[H]=!(ee=V[H])||"object"!=typeof ee||st.has(ee.constructor)?ee:N(ee));return ye}(C[S])}),v}function bl(v,C){return v.all||C.all||Object.keys(v).some(function(S){return C[S]&&Fd(C[S],v[S])})}Be(wr.prototype,((oo={add:function(v){return Ar(this,v),this},addKey:function(v){return Cu(this,v,v),this},addKeys:function(v){var C=this;return v.forEach(function(S){return Cu(C,S,S)}),this},hasKey:function(v){var C=Ld(this).next(v).value;return C&&Hn(C.from,v)<=0&&0<=Hn(C.to,v)}})[mt]=function(){return Ld(this)},oo));var Fc={},Vd={},Lc=!1;function yn(v){Wr(Vd,v),Lc||(Lc=!0,setTimeout(function(){Lc=!1,Vc(Vd,!(Vd={}))},0))}function Vc(v,C){void 0===C&&(C=!1);var S=new Set;if(v.all)for(var N=0,V=Object.values(Fc);N<V.length;N++)_o(ee=V[N],v,S,C);else for(var H in v){var ee,ye=/^idb\:\/\/(.*)\/(.*)\//.exec(H);ye&&(H=ye[1],ye=ye[2],(ee=Fc["idb://".concat(H,"/").concat(ye)])&&_o(ee,v,S,C))}S.forEach(function($e){return $e()})}function _o(v,C,S,N){for(var V=[],H=0,ee=Object.entries(v.queries.query);H<ee.length;H++){for(var ye=ee[H],$e=ye[0],ke=[],tt=0,Se=ye[1];tt<Se.length;tt++){var nt=Se[tt];bl(C,nt.obsSet)?nt.subscribers.forEach(function(He){return S.add(He)}):N&&ke.push(nt)}N&&V.push([$e,ke])}if(N)for(var Le=0,Xe=V;Le<Xe.length;Le++){var Ye=Xe[Le];v.queries.query[$e=Ye[0]]=ke=Ye[1]}}function fg(v){var C=v._state,S=v._deps.indexedDB;if(C.isBeingOpened||v.idbdb)return C.dbReadyPromise.then(function(){return C.dbOpenError?gn(C.dbOpenError):v});C.isBeingOpened=!0,C.dbOpenError=null,C.openComplete=!1;var N=C.openCanceller,V=Math.round(10*v.verno),H=!1;function ee(){if(C.openCanceller!==N)throw new X.DatabaseClosed("db.open() was cancelled")}var $e,ke=C.dbReadyResolve,tt=null,Se=!1;return Pt.race([N,(typeof navigator>"u"?Pt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(nt){function Le(){return indexedDB.databases().finally(nt)}$e=setInterval(Le,100),Le()}).finally(function(){return clearInterval($e)}):Promise.resolve()).then(function ye(){return new Pt(function(nt,Le){if(ee(),!S)throw new X.MissingAPI;var Xe=v.name,Ye=C.autoSchema||!V?S.open(Xe):S.open(Xe,V);if(!Ye)throw new X.MissingAPI;Ye.onerror=dt(Le),Ye.onblocked=vn(v._fireOnBlocked),Ye.onupgradeneeded=vn(function(He){var ft;tt=Ye.transaction,C.autoSchema&&!v._options.allowEmptyDB?(Ye.onerror=Nt,tt.abort(),Ye.result.close(),(ft=S.deleteDatabase(Xe)).onsuccess=ft.onerror=vn(function(){Le(new X.NoSuchDatabase("Database ".concat(Xe," doesnt exist")))})):(tt.onerror=dt(Le),He=He.oldVersion>Math.pow(2,62)?0:He.oldVersion,Se=He<1,v.idbdb=Ye.result,H&&function Nd(v,C){Ma(v._dbSchema,C),C.db.version%10!=0||C.objectStoreNames.contains("$meta")||C.db.createObjectStore("$meta").add(Math.ceil(C.db.version/10-1),"version");var S=Eu(0,v.idbdb,C);wu(v,v._dbSchema,C);for(var N=0,V=Qt(S,v._dbSchema).change;N<V.length;N++){var H=function(ee){if(ee.change.length||ee.recreate)return console.warn("Unable to patch indexes of table ".concat(ee.name," because it has changes on the type of index or primary key.")),{value:void 0};var ye=C.objectStore(ee.name);ee.add.forEach(function($e){Ht&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ee.name,".").concat($e.src)),Nc(ye,$e)})}(V[N]);if("object"==typeof H)return H.value}}(v,tt),function Lf(v,C,S,N){var V=v._dbSchema;S.objectStoreNames.contains("$meta")&&!V.$meta&&(V.$meta=Ao("$meta",vl("")[0],[]),v._storeNames.push("$meta"));var H=v._createTransaction("readwrite",v._storeNames,V);H.create(S),H._completion.catch(N);var ee=H._reject.bind(H),ye=jt.transless||jt;Wn(function(){return jt.trans=H,jt.transless=ye,0!==C?(Pc(v,S),ke=C,(($e=H).storeNames.includes("$meta")?$e.table("$meta").get("version").then(function(tt){return tt??ke}):Pt.resolve(ke)).then(function(tt){return nt=tt,Le=H,Ye=[],tt=(Se=v)._versions,He=Se._dbSchema=Eu(0,Se.idbdb,Xe=S),0!==(tt=tt.filter(function(ft){return ft._cfg.version>=nt})).length?(tt.forEach(function(ft){Ye.push(function(){var qe=He,rt=ft._cfg.dbschema;wu(Se,qe,Xe),wu(Se,rt,Xe),He=Se._dbSchema=rt;var wt=Qt(qe,rt);wt.add.forEach(function(qt){ra(Xe,qt[0],qt[1].primKey,qt[1].indexes)}),wt.change.forEach(function(qt){if(qt.recreate)throw new X.Upgrade("Not yet support for changing primary key");var yt=Xe.objectStore(qt.name);qt.add.forEach(function(Sn){return Nc(yt,Sn)}),qt.change.forEach(function(Sn){yt.deleteIndex(Sn.name),Nc(yt,Sn)}),qt.del.forEach(function(Sn){return yt.deleteIndex(Sn)})});var Ft=ft._cfg.contentUpgrade;if(Ft&&ft._cfg.version>nt){Pc(Se,Xe),Le._memoizedTables={};var xt=Ae(rt);wt.del.forEach(function(qt){xt[qt]=qe[qt]}),kc(Se,[Se.Transaction.prototype]),_l(Se,[Se.Transaction.prototype],me(xt),xt),Le.schema=xt;var Vt,Kt=fn(Ft);return Kt&&Uo(),wt=Pt.follow(function(){var qt;(Vt=Ft(Le))&&Kt&&(qt=Oi.bind(null,null),Vt.then(qt,qt))}),Vt&&"function"==typeof Vt.then?Pt.resolve(Vt):wt.then(function(){return Vt})}}),Ye.push(function(qe){var rt,wt;rt=ft._cfg.dbschema,[].slice.call((wt=qe).db.objectStoreNames).forEach(function(xt){return null==rt[xt]&&wt.db.deleteObjectStore(xt)}),kc(Se,[Se.Transaction.prototype]),_l(Se,[Se.Transaction.prototype],Se._storeNames,Se._dbSchema),Le.schema=Se._dbSchema}),Ye.push(function(qe){Se.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Se.idbdb.version/10)===ft._cfg.version?(Se.idbdb.deleteObjectStore("$meta"),delete Se._dbSchema.$meta,Se._storeNames=Se._storeNames.filter(function(rt){return"$meta"!==rt})):qe.objectStore("$meta").put(ft._cfg.version,"version"))})}),function ft(){return Ye.length?Pt.resolve(Ye.shift()(Le.idbtrans)).then(ft):Pt.resolve()}().then(function(){Ma(He,Xe)})):Pt.resolve();var Se,nt,Le,Xe,Ye,He}).catch(ee)):(me(V).forEach(function(tt){ra(S,tt,V[tt].primKey,V[tt].indexes)}),Pc(v,S),void Pt.follow(function(){return v.on.populate.fire(H)}).catch(ee));var $e,ke})}(v,He/10,tt,Le))},Le),Ye.onsuccess=vn(function(){tt=null;var He,ft,qe,rt,wt,Ft=v.idbdb=Ye.result,xt=ze(Ft.objectStoreNames);if(0<xt.length)try{var Vt=Ft.transaction(1===(rt=xt).length?rt[0]:rt,"readonly");if(C.autoSchema)qe=Vt,(He=v).verno=(ft=Ft).version/10,qe=He._dbSchema=Eu(0,ft,qe),He._storeNames=ze(ft.objectStoreNames,0),_l(He,[He._allTables],me(qe),qe);else if(wu(v,v._dbSchema,Vt),((wt=Qt(Eu(0,(wt=v).idbdb,Vt),wt._dbSchema)).add.length||wt.change.some(function(Kt){return Kt.add.length||Kt.change.length}))&&!H)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ft.close(),V=Ft.version+1,H=!0,nt(ye());Pc(v,Vt)}catch{}Ds.push(v),Ft.onversionchange=vn(function(Kt){C.vcFired=!0,v.on("versionchange").fire(Kt)}),Ft.onclose=vn(function(Kt){v.on("close").fire(Kt)}),Se&&(Vt=Xe,Ft=(wt=v._deps).indexedDB,wt=wt.IDBKeyRange,ia(Ft)||Vt===bi||Ra(Ft,wt).put({name:Vt}).catch(ce)),nt()},Le)}).catch(function(nt){switch(nt?.name){case"UnknownError":if(0<C.PR1398_maxLoop)return C.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ye();break;case"VersionError":if(0<V)return V=0,ye()}return Pt.reject(nt)})})]).then(function(){return ee(),C.onReadyBeingFired=[],Pt.resolve(Iu(function(){return v.on.ready.fire(v.vip)})).then(function nt(){if(0<C.onReadyBeingFired.length){var Le=C.onReadyBeingFired.reduce(cn,ce);return C.onReadyBeingFired=[],Pt.resolve(Iu(function(){return Le(v.vip)})).then(nt)}})}).finally(function(){C.openCanceller===N&&(C.onReadyBeingFired=null,C.isBeingOpened=!1)}).catch(function(nt){C.dbOpenError=nt;try{tt&&tt.abort()}catch{}return N===C.openCanceller&&v._close(),gn(nt)}).finally(function(){C.openComplete=!0,ke()}).then(function(){var nt;return Se&&(nt={},v.tables.forEach(function(Le){Le.schema.indexes.forEach(function(Xe){Xe.name&&(nt["idb://".concat(v.name,"/").concat(Le.name,"/").concat(Xe.name)]=new wr(-1/0,[[[]]]))}),nt["idb://".concat(v.name,"/").concat(Le.name,"/")]=nt["idb://".concat(v.name,"/").concat(Le.name,"/:dels")]=new wr(-1/0,[[[]]])}),Yn(Dn).fire(nt),Vc(nt,!0)),v})}function Bd(v){function C(H){return v.next(H)}var S=V(C),N=V(function(H){return v.throw(H)});function V(H){return function($e){var ye=H($e);return $e=ye.value,ye.done?$e:$e&&"function"==typeof $e.then?$e.then(S,N):ae($e)?Promise.all($e).then(S,N):S($e)}}return V(C)()}function Ud(v,C,S){for(var N=ae(v)?v.slice():[v],V=0;V<S;++V)N.push(C);return N}var Oa={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return O(O({},v),{table:function(C){var S=v.table(C),N=S.schema,V={},H=[];function ee(Se,nt,Le){var Xe=na(Se),Ye=V[Xe]=V[Xe]||[],He=null==Se?0:"string"==typeof Se?1:Se.length,ft=0<nt;return ft=O(O({},Le),{name:ft?"".concat(Xe,"(virtual-from:").concat(Le.name,")"):Le.name,lowLevelIndex:Le,isVirtual:ft,keyTail:nt,keyLength:He,extractKey:mo(Se),unique:!ft&&Le.unique}),Ye.push(ft),ft.isPrimaryKey||H.push(ft),1<He&&ee(2===He?Se[0]:Se.slice(0,He-1),nt+1,Le),Ye.sort(function(qe,rt){return qe.keyTail-rt.keyTail}),ft}C=ee(N.primaryKey.keyPath,0,N.primaryKey),V[":id"]=[C];for(var ye=0,$e=N.indexes;ye<$e.length;ye++){var ke=$e[ye];ee(ke.keyPath,0,ke)}function tt(Se){var nt,Le=Se.query.index;return Le.isVirtual?O(O({},Se),{query:{index:Le.lowLevelIndex,range:(nt=Se.query.range,Le=Le.keyTail,{type:1===nt.type?2:nt.type,lower:Ud(nt.lower,nt.lowerOpen?v.MAX_KEY:v.MIN_KEY,Le),lowerOpen:!0,upper:Ud(nt.upper,nt.upperOpen?v.MIN_KEY:v.MAX_KEY,Le),upperOpen:!0})}}):Se}return O(O({},S),{schema:O(O({},N),{primaryKey:C,indexes:H,getIndexByKeyPath:function(Se){return(Se=V[na(Se)])&&Se[0]}}),count:function(Se){return S.count(tt(Se))},query:function(Se){return S.query(tt(Se))},openCursor:function(Se){var nt=Se.query.index,Le=nt.keyTail,Ye=nt.keyLength;return nt.isVirtual?S.openCursor(tt(Se)).then(function(ft){return ft&&function He(ft){return Object.create(ft,{continue:{value:function(qe){null!=qe?ft.continue(Ud(qe,Se.reverse?v.MAX_KEY:v.MIN_KEY,Le)):Se.unique?ft.continue(ft.key.slice(0,Ye).concat(Se.reverse?v.MIN_KEY:v.MAX_KEY,Le)):ft.continue()}},continuePrimaryKey:{value:function(qe,rt){ft.continuePrimaryKey(Ud(qe,v.MAX_KEY,Le),rt)}},primaryKey:{get:function(){return ft.primaryKey}},key:{get:function(){var qe=ft.key;return 1===Ye?qe[0]:qe.slice(0,Ye)}},value:{get:function(){return ft.value}}})}(ft)}):S.openCursor(Se)}})}})}};function Du(v,C,S,N){return S=S||{},N=N||"",me(v).forEach(function(V){var H,ee,ye;ut(C,V)?(ee=C[V],"object"==typeof(H=v[V])&&"object"==typeof ee&&H&&ee?(ye=Q(H))!==Q(ee)?S[N+V]=C[V]:"Object"===ye?Du(H,ee,S,N+V+"."):H!==ee&&(S[N+V]=C[V]):H!==ee&&(S[N+V]=C[V])):S[N+V]=void 0}),me(C).forEach(function(V){ut(v,V)||(S[N+V]=C[V])}),S}function Tu(v,C){return"delete"===C.type?C.keys:C.keys||C.values.map(v.extractKey)}var qD={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return O(O({},v),{table:function(C){var S=v.table(C),N=S.schema.primaryKey;return O(O({},S),{mutate:function(V){var H=jt.trans,ee=H.table(C).hook,ye=ee.deleting,$e=ee.creating,ke=ee.updating;switch(V.type){case"add":if($e.fire===ce)break;return H._promise("readwrite",function(){return tt(V)},!0);case"put":if($e.fire===ce&&ke.fire===ce)break;return H._promise("readwrite",function(){return tt(V)},!0);case"delete":if(ye.fire===ce)break;return H._promise("readwrite",function(){return tt(V)},!0);case"deleteRange":if(ye.fire===ce)break;return H._promise("readwrite",function(){return function Se(nt,Le,Xe){return S.query({trans:nt,values:!1,query:{index:N,range:Le},limit:Xe}).then(function(Ye){var He=Ye.result;return tt({type:"delete",keys:He,trans:nt}).then(function(ft){return 0<ft.numFailures?Promise.reject(ft.failures[0]):He.length<Xe?{failures:[],numFailures:0,lastResult:void 0}:Se(nt,O(O({},Le),{lower:He[He.length-1],lowerOpen:!0}),Xe)})})}(V.trans,V.range,1e4)},!0)}return S.mutate(V);function tt(Se){var nt,Le,Xe,Ye=jt.trans,He=Se.keys||Tu(N,Se);if(!He)throw new Error("Keys missing");return"delete"!==(Se="add"===Se.type||"put"===Se.type?O(O({},Se),{keys:He}):O({},Se)).type&&(Se.values=J([],Se.values,!0)),Se.keys&&(Se.keys=J([],Se.keys,!0)),nt=S,Xe=He,("add"===(Le=Se).type?Promise.resolve([]):nt.getMany({trans:Le.trans,keys:Xe,cache:"immutable"})).then(function(ft){var qe=He.map(function(rt,wt){var Ft,xt,Vt,Kt=ft[wt],qt={onerror:null,onsuccess:null};return"delete"===Se.type?ye.fire.call(qt,rt,Kt,Ye):"add"===Se.type||void 0===Kt?(Ft=$e.fire.call(qt,rt,Se.values[wt],Ye),null==rt&&null!=Ft&&(Se.keys[wt]=rt=Ft,N.outbound||xe(Se.values[wt],N.keyPath,rt))):(Ft=Du(Kt,Se.values[wt]),(xt=ke.fire.call(qt,Ft,rt,Kt,Ye))&&(Vt=Se.values[wt],Object.keys(xt).forEach(function(yt){ut(Vt,yt)?Vt[yt]=xt[yt]:xe(Vt,yt,xt[yt])}))),qt});return S.mutate(Se).then(function(rt){for(var wt=rt.failures,Ft=rt.results,xt=rt.numFailures,Vt=(rt=rt.lastResult,0);Vt<He.length;++Vt){var Kt=(Ft||He)[Vt],qt=qe[Vt];null==Kt?qt.onerror&&qt.onerror(wt[Vt]):qt.onsuccess&&qt.onsuccess("put"===Se.type&&ft[Vt]?Se.values[Vt]:Kt)}return{failures:wt,results:Ft,numFailures:xt,lastResult:rt}}).catch(function(rt){return qe.forEach(function(wt){return wt.onerror&&wt.onerror(rt)}),Promise.reject(rt)})})}}})}})}};function zb(v,C,S){try{if(!C||C.keys.length<v.length)return null;for(var N=[],V=0,H=0;V<C.keys.length&&H<v.length;++V)0===Hn(C.keys[V],v[H])&&(N.push(S?_e(C.values[V]):C.values[V]),++H);return N.length===v.length?N:null}catch{return null}}var jo={stack:"dbcore",level:-1,create:function(v){return{table:function(C){var S=v.table(C);return O(O({},S),{getMany:function(N){if(!N.cache)return S.getMany(N);var V=zb(N.keys,N.trans._cache,"clone"===N.cache);return V?Pt.resolve(V):S.getMany(N).then(function(H){return N.trans._cache={keys:N.keys,values:"clone"===N.cache?_e(H):H},H})},mutate:function(N){return"add"!==N.type&&(N.trans._cache=null),S.mutate(N)}})}}}};function Bf(v,C){return"readonly"===v.trans.mode&&!!v.subscr&&!v.trans.explicit&&"disabled"!==v.trans.db._options.cache&&!C.schema.primaryKey.outbound}function Uf(v,C){switch(v){case"query":return C.values&&!C.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var jd={stack:"dbcore",level:0,name:"Observability",create:function(v){var C=v.schema.name,S=new wr(v.MIN_KEY,v.MAX_KEY);return O(O({},v),{transaction:function(N,V,H){if(jt.subscr&&"readonly"!==V)throw new X.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(jt.querier));return v.transaction(N,V,H)},table:function(N){var V=v.table(N),H=V.schema,ee=H.primaryKey,Se=H.indexes,ye=ee.extractKey,$e=ee.outbound,ke=ee.autoIncrement&&Se.filter(function(Le){return Le.compound&&Le.keyPath.includes(ee.keyPath)}),tt=O(O({},V),{mutate:function(Le){function Xe(yt){return yt="idb://".concat(C,"/").concat(N,"/").concat(yt),rt[yt]||(rt[yt]=new wr)}var Ye,He,ft,qe=Le.trans,rt=Le.mutatedParts||(Le.mutatedParts={}),wt=Xe(""),Ft=Xe(":dels"),xt=Le.type,Vt=(qt="deleteRange"===Le.type?[Le.range]:"delete"===Le.type?[Le.keys]:Le.values.length<50?[Tu(ee,Le).filter(function(yt){return yt}),Le.values]:[])[0],Kt=qt[1],qt=Le.trans._cache;return ae(Vt)?(wt.addKeys(Vt),(qt="delete"===xt||Vt.length===Kt.length?zb(Vt,qt):null)||Ft.addKeys(Vt),(qt||Kt)&&(Ye=Xe,He=qt,ft=Kt,H.indexes.forEach(function(yt){var Sn=Ye(yt.name||"");function Pn(Ln){return null!=Ln?yt.extractKey(Ln):null}function En(Ln){return yt.multiEntry&&ae(Ln)?Ln.forEach(function(aa){return Sn.addKey(aa)}):Sn.addKey(Ln)}(He||ft).forEach(function(Ln,hi){var Bn=He&&Pn(He[hi]);0!==Hn(Bn,hi=ft&&Pn(ft[hi]))&&(null!=Bn&&En(Bn),null!=hi&&En(hi))})}))):Vt?(Ft.add(Kt={from:Vt.lower,to:Vt.upper}),wt.add(Kt)):(wt.add(S),Ft.add(S),H.indexes.forEach(function(yt){return Xe(yt.name).add(S)})),V.mutate(Le).then(function(yt){return!Vt||"add"!==Le.type&&"put"!==Le.type||(wt.addKeys(yt.results),ke&&ke.forEach(function(Sn){var Pn=Le.values.map(function(Ln){return Sn.extractKey(Ln)}),En=Sn.keyPath.findIndex(function(Ln){return Ln===ee.keyPath});yt.results.forEach(function(Ln){return Pn[En]=Ln}),Xe(Sn.name).addKeys(Pn)})),qe.mutatedParts=Wr(qe.mutatedParts||{},rt),yt})}}),nt={get:function(Le){return[ee,new wr(Le.key)]},getMany:function(Le){return[ee,(new wr).addKeys(Le.keys)]},count:Se=function(Xe){var Ye;return[Xe=(Ye=Xe.query).index,new wr(null!==(Xe=(Ye=Ye.range).lower)&&void 0!==Xe?Xe:v.MIN_KEY,null!==(Ye=Ye.upper)&&void 0!==Ye?Ye:v.MAX_KEY)]},query:Se,openCursor:Se};return me(nt).forEach(function(Le){tt[Le]=function(Xe){var He=!!(Ye=jt.subscr),ft=Bf(jt,V)&&Uf(Le,Xe)?Xe.obsSet={}:Ye;if(He){var qe=function(Kt){return Kt="idb://".concat(C,"/").concat(N,"/").concat(Kt),ft[Kt]||(ft[Kt]=new wr)},rt=qe(""),wt=qe(":dels"),Ye=(He=(Ye=nt[Le](Xe))[0],Ye[1]);if(("query"===Le&&He.isPrimaryKey&&!Xe.values?wt:qe(He.name||"")).add(Ye),!He.isPrimaryKey){if("count"!==Le){var Ft="query"===Le&&$e&&Xe.values&&V.query(O(O({},Xe),{values:!1}));return V[Le].apply(this,arguments).then(function(Kt){if("query"===Le){if($e&&Xe.values)return Ft.then(function(Pn){return rt.addKeys(Pn=Pn.result),Kt});var qt=Xe.values?Kt.result.map(ye):Kt.result;(Xe.values?rt:wt).addKeys(qt)}else if("openCursor"===Le){var yt=Kt,Sn=Xe.values;return yt&&Object.create(yt,{key:{get:function(){return wt.addKey(yt.primaryKey),yt.key}},primaryKey:{get:function(){var Pn=yt.primaryKey;return wt.addKey(Pn),Pn}},value:{get:function(){return Sn&&rt.addKey(yt.primaryKey),yt.value}}})}return Kt})}wt.add(S)}}return V[Le].apply(this,arguments)}}),tt}})}};function ro(v,C,S){return 0===S.numFailures?C:"deleteRange"===C.type||S.numFailures===(C.keys?C.keys.length:"values"in C&&C.values?C.values.length:1)?null:(C=O({},C),ae(C.keys)&&(C.keys=C.keys.filter(function(V,H){return!(H in S.failures)})),"values"in C&&ae(C.values)&&(C.values=C.values.filter(function(V,H){return!(H in S.failures)})),C)}function bn(v,C){return S=v,(void 0===(N=C).lower||(N.lowerOpen?0<Hn(S,N.lower):0<=Hn(S,N.lower)))&&(void 0===C.upper||(C.upperOpen?Hn(v,C.upper)<0:Hn(v,C.upper)<=0));var S,N}function pg(v,C,nt,N,V,H){if(!nt||0===nt.length)return v;var ee=C.query.index,ye=ee.multiEntry,$e=C.query.range,ke=N.schema.primaryKey.extractKey,tt=ee.extractKey,Se=(ee.lowLevelIndex||ee).extractKey;return(nt=nt.reduce(function(Le,Xe){var Ye=Le,He=[];if("add"===Xe.type||"put"===Xe.type)for(var ft=new wr,qe=Xe.values.length-1;0<=qe;--qe){var rt,wt=Xe.values[qe],Ft=ke(wt);ft.hasKey(Ft)||(rt=tt(wt),(ye&&ae(rt)?rt.some(function(qt){return bn(qt,$e)}):bn(rt,$e))&&(ft.addKey(Ft),He.push(wt)))}switch(Xe.type){case"add":Ye=Le.concat(C.values?He:He.map(function(yt){return ke(yt)}));break;case"put":var xt=(new wr).addKeys(Xe.values.map(function(yt){return ke(yt)}));Ye=Le.filter(function(yt){return!xt.hasKey(C.values?ke(yt):yt)}).concat(C.values?He:He.map(function(yt){return ke(yt)}));break;case"delete":var Vt=(new wr).addKeys(Xe.keys);Ye=Le.filter(function(yt){return!Vt.hasKey(C.values?ke(yt):yt)});break;case"deleteRange":var Kt=Xe.range;Ye=Le.filter(function(yt){return!bn(ke(yt),Kt)})}return Ye},v))===v?v:(nt.sort(function(Le,Xe){return Hn(Se(Le),Se(Xe))||Hn(ke(Le),ke(Xe))}),C.limit&&C.limit<1/0&&(nt.length>C.limit?nt.length=C.limit:v.length===C.limit&&nt.length<C.limit&&(V.dirty=!0)),H?Object.freeze(nt):nt)}function mg(v,C){return 0===Hn(v.lower,C.lower)&&0===Hn(v.upper,C.upper)&&!!v.lowerOpen==!!C.lowerOpen&&!!v.upperOpen==!!C.upperOpen}var $d={stack:"dbcore",level:0,name:"Cache",create:function(v){var C=v.schema.name;return O(O({},v),{transaction:function(S,N,V){var H,ee,ye=v.transaction(S,N,V);return"readwrite"===N&&(ee=(H=new AbortController).signal,ye.addEventListener("abort",(V=function($e){return function(){if(H.abort(),"readwrite"===N){for(var ke=new Set,tt=0,Se=S;tt<Se.length;tt++){var nt=Se[tt],Le=Fc["idb://".concat(C,"/").concat(nt)];if(Le){var Xe=v.table(nt),Ye=Le.optimisticOps.filter(function(Sn){return Sn.trans===ye});if(ye._explicit&&$e&&ye.mutatedParts)for(var He=0,ft=Object.values(Le.queries.query);He<ft.length;He++)for(var qe=0,rt=(xt=ft[He]).slice();qe<rt.length;qe++)bl((Vt=rt[qe]).obsSet,ye.mutatedParts)&&(At(xt,Vt),Vt.subscribers.forEach(function(Sn){return ke.add(Sn)}));else if(0<Ye.length){Le.optimisticOps=Le.optimisticOps.filter(function(Sn){return Sn.trans!==ye});for(var wt=0,Ft=Object.values(Le.queries.query);wt<Ft.length;wt++)for(var xt,Vt,Kt,qt=0,yt=(xt=Ft[wt]).slice();qt<yt.length;qt++)null!=(Vt=yt[qt]).res&&ye.mutatedParts&&($e&&!Vt.dirty?(Kt=Object.isFrozen(Vt.res),Kt=pg(Vt.res,Vt.req,Ye,Xe,Vt,Kt),Vt.dirty?(At(xt,Vt),Vt.subscribers.forEach(function(Sn){return ke.add(Sn)})):Kt!==Vt.res&&(Vt.res=Kt,Vt.promise=Pt.resolve({result:Kt}))):(Vt.dirty&&At(xt,Vt),Vt.subscribers.forEach(function(Sn){return ke.add(Sn)})))}}}ke.forEach(function(Sn){return Sn()})}}})(!1),{signal:ee}),ye.addEventListener("error",V(!1),{signal:ee}),ye.addEventListener("complete",V(!0),{signal:ee})),ye},table:function(S){var N=v.table(S),V=N.schema.primaryKey;return O(O({},N),{mutate:function(H){var ee=jt.trans;if(V.outbound||"disabled"===ee.db._options.cache||ee.explicit)return N.mutate(H);var ye=Fc["idb://".concat(C,"/").concat(S)];return ye?(ee=N.mutate(H),"add"!==H.type&&"put"!==H.type||!(50<=H.values.length||Tu(V,H).some(function($e){return null==$e}))?(ye.optimisticOps.push(H),H.mutatedParts&&yn(H.mutatedParts),ee.then(function($e){0<$e.numFailures&&(At(ye.optimisticOps,H),($e=ro(0,H,$e))&&ye.optimisticOps.push($e),H.mutatedParts&&yn(H.mutatedParts))}),ee.catch(function(){At(ye.optimisticOps,H),H.mutatedParts&&yn(H.mutatedParts)})):ee.then(function($e){var ke=ro(0,O(O({},H),{values:H.values.map(function(Le,Se){var nt;return xe(Le=null!==(nt=V.keyPath)&&void 0!==nt&&nt.includes(".")?_e(Le):O({},Le),V.keyPath,$e.results[Se]),Le})}),$e);ye.optimisticOps.push(ke),queueMicrotask(function(){return H.mutatedParts&&yn(H.mutatedParts)})}),ee):N.mutate(H)},query:function(H){if(!Bf(jt,N)||!Uf("query",H))return N.query(H);var ee="immutable"===(null===(ke=jt.trans)||void 0===ke?void 0:ke.db._options.cache),ye=(Se=jt).requery,$e=Se.signal,ke=function(Xe,Ye,He,ft){var qe=Fc["idb://".concat(Xe,"/").concat(Ye)];if(!qe)return[];if(!(Ye=qe.queries.query))return[null,!1,qe,null];var rt=Ye[(ft.query?ft.query.index.name:null)||""];if(!rt)return[null,!1,qe,null];var wt=rt.find(function(Ft){return Ft.req.limit===ft.limit&&Ft.req.values===ft.values&&mg(Ft.req.query.range,ft.query.range)});return wt?[wt,!0,qe,rt]:[rt.find(function(Ft){return("limit"in Ft.req?Ft.req.limit:1/0)>=ft.limit&&(!ft.values||Ft.req.values)&&function io(v,C){return function(S,N,V,H){if(void 0===S)return void 0!==N?-1:0;if(void 0===N)return 1;if(0===(N=Hn(S,N))){if(V&&H)return 0;if(V)return 1;if(H)return-1}return N}(v.lower,C.lower,v.lowerOpen,C.lowerOpen)<=0&&0<=function(S,N,V,H){if(void 0===S)return void 0!==N?1:0;if(void 0===N)return-1;if(0===(N=Hn(S,N))){if(V&&H)return 0;if(V)return-1;if(H)return 1}return N}(v.upper,C.upper,v.upperOpen,C.upperOpen)}(Ft.req.query.range,ft.query.range)}),!1,qe,rt]}(C,S,0,H),tt=ke[0],Se=ke[1],nt=ke[2],Le=ke[3];return tt&&Se?tt.obsSet=H.obsSet:(Se=N.query(H).then(function(Xe){var Ye=Xe.result;if(tt&&(tt.res=Ye),ee){for(var He=0,ft=Ye.length;He<ft;++He)Object.freeze(Ye[He]);Object.freeze(Ye)}else Xe.result=_e(Ye);return Xe}).catch(function(Xe){return Le&&tt&&At(Le,tt),Promise.reject(Xe)}),tt={obsSet:H.obsSet,promise:Se,subscribers:new Set,type:"query",req:H,dirty:!1},Le?Le.push(tt):(Le=[tt],(nt=nt||(Fc["idb://".concat(C,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[H.query.index.name||""]=Le)),function nc(v,C,S,N){v.subscribers.add(S),N.addEventListener("abort",function(){var V,H;v.subscribers.delete(S),0===v.subscribers.size&&(V=v,H=C,setTimeout(function(){0===V.subscribers.size&&At(H,V)},3e3))})}(tt,Le,ye,$e),tt.promise.then(function(Xe){return{result:pg(Xe.result,H,nt?.optimisticOps,N,tt,ee)}})}})}})}};function Kn(v,C){return new Proxy(v,{get:function(S,N,V){return"db"===N?C:Reflect.get(S,N,V)}})}var oa=(ur.prototype.version=function(v){if(isNaN(v)||v<.1)throw new X.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new X.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var C=this._versions,S=C.filter(function(N){return N._cfg.version===v})[0];return S||(S=new this.Version(v),C.push(S),C.sort(bu),S.stores({}),this._state.autoSchema=!1,S)},ur.prototype._whenReady=function(v){var C=this;return this.idbdb&&(this._state.openComplete||jt.letThrough||this._vip)?v():new Pt(function(S,N){if(C._state.openComplete)return N(new X.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return void N(new X.DatabaseClosed);C.open().catch(ce)}C._state.dbReadyPromise.then(S,N)}).then(v)},ur.prototype.use=function(v){var C=v.stack,S=v.create,N=v.level,V=v.name;return V&&this.unuse({stack:C,name:V}),(v=this._middlewares[C]||(this._middlewares[C]=[])).push({stack:C,create:S,level:N??10,name:V}),v.sort(function(H,ee){return H.level-ee.level}),this},ur.prototype.unuse=function(v){var C=v.stack,S=v.name,N=v.create;return C&&this._middlewares[C]&&(this._middlewares[C]=this._middlewares[C].filter(function(V){return N?V.create!==N:!!S&&V.name!==S})),this},ur.prototype.open=function(){var v=this;return ui(or,function(){return fg(v)})},ur.prototype._close=function(){var v=this._state,C=Ds.indexOf(this);if(0<=C&&Ds.splice(C,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new Pt(function(S){v.dbReadyResolve=S}),v.openCanceller=new Pt(function(S,N){v.cancelOpen=N}))},ur.prototype.close=function(S){var C=(void 0===S?{disableAutoOpen:!0}:S).disableAutoOpen;S=this._state,C?(S.isBeingOpened&&S.cancelOpen(new X.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new X.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},ur.prototype.delete=function(v){var C=this;void 0===v&&(v={disableAutoOpen:!0});var S=0<arguments.length&&"object"!=typeof arguments[0],N=this._state;return new Pt(function(V,H){function ee(){C.close(v);var ye=C._deps.indexedDB.deleteDatabase(C.name);ye.onsuccess=vn(function(){var $e,ke,tt;ke=C.name,tt=($e=C._deps).indexedDB,$e=$e.IDBKeyRange,ia(tt)||ke===bi||Ra(tt,$e).delete(ke).catch(ce),V()}),ye.onerror=dt(H),ye.onblocked=C._fireOnBlocked}if(S)throw new X.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then(ee):ee()})},ur.prototype.backendDB=function(){return this.idbdb},ur.prototype.isOpen=function(){return null!==this.idbdb},ur.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&"DatabaseClosed"===v.name},ur.prototype.hasFailed=function(){return null!==this._state.dbOpenError},ur.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(ur.prototype,"tables",{get:function(){var v=this;return me(this._allTables).map(function(C){return v._allTables[C]})},enumerable:!1,configurable:!0}),ur.prototype.transaction=function(){var v=function(C,S,N){var V=arguments.length;if(V<2)throw new X.InvalidArgument("Too few arguments");for(var H=new Array(V-1);--V;)H[V-1]=arguments[V];return N=H.pop(),[C,Ie(H),N]}.apply(this,arguments);return this._transaction.apply(this,v)},ur.prototype._transaction=function(v,C,S){var N=this,V=jt.trans;V&&V.db===this&&-1===v.indexOf("!")||(V=null);var H,ee,ye=-1!==v.indexOf("?");v=v.replace("!","").replace("?","");try{if(ee=C.map(function(ke){if("string"!=typeof(ke=ke instanceof N.Table?ke.name:ke))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ke}),"r"==v||v===Ya)H=Ya;else{if("rw"!=v&&v!=Ur)throw new X.InvalidArgument("Invalid transaction mode: "+v);H=Ur}if(V){if(V.mode===Ya&&H===Ur){if(!ye)throw new X.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");V=null}V&&ee.forEach(function(ke){if(V&&-1===V.storeNames.indexOf(ke)){if(!ye)throw new X.SubTransaction("Table "+ke+" not included in parent transaction.");V=null}}),ye&&V&&!V.active&&(V=null)}}catch(ke){return V?V._promise(null,function(tt,Se){Se(ke)}):gn(ke)}var $e=function ke(tt,Se,nt,Le,Xe){return Pt.resolve().then(function(){var Ye=jt.transless||jt,He=tt._createTransaction(Se,nt,tt._dbSchema,Le);if(He.explicit=!0,Ye={trans:He,transless:Ye},Le)He.idbtrans=Le.idbtrans;else try{He.create(),He.idbtrans._explicit=!0,tt._state.PR1398_maxLoop=3}catch(rt){return rt.name===U.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return ke(tt,Se,nt,null,Xe)})):gn(rt)}var ft,qe=fn(Xe);return qe&&Uo(),Ye=Pt.follow(function(){var rt;(ft=Xe.call(He,He))&&(qe?(rt=Oi.bind(null,null),ft.then(rt,rt)):"function"==typeof ft.next&&"function"==typeof ft.throw&&(ft=Bd(ft)))},Ye),(ft&&"function"==typeof ft.then?Pt.resolve(ft).then(function(rt){return He.active?rt:gn(new X.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ye.then(function(){return ft})).then(function(rt){return Le&&He._resolve(),He._completion.then(function(){return rt})}).catch(function(rt){return He._reject(rt),gn(rt)})})}.bind(null,this,H,ee,V,S);return V?V._promise(H,$e,"lock"):jt.trans?ui(jt.transless,function(){return N._whenReady($e)}):this._whenReady($e)},ur.prototype.table=function(v){if(!ut(this._allTables,v))throw new X.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},ur);function ur(v,C){var S=this;this._middlewares={},this.verno=0;var N=ur.dependencies;this._options=C=O({addons:ur.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},C),this._deps={indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange},N=C.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var V,H,ee,ye,$e,ke={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ce,dbReadyPromise:null,cancelOpen:ce,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:C.autoOpen};ke.dbReadyPromise=new Pt(function(Se){ke.dbReadyResolve=Se}),ke.openCanceller=new Pt(function(Se,nt){ke.cancelOpen=nt}),this._state=ke,this.name=v,this.on=ls(this,"populate","blocked","versionchange","close",{ready:[cn,ce]}),this.on.ready.subscribe=Re(this.on.ready.subscribe,function(Se){return function(nt,Le){ur.vip(function(){var Xe,Ye=S._state;Ye.openComplete?(Ye.dbOpenError||Pt.resolve().then(nt),Le&&Se(nt)):Ye.onReadyBeingFired?(Ye.onReadyBeingFired.push(nt),Le&&Se(nt)):(Se(nt),Xe=S,Le||Se(function He(){Xe.on.ready.unsubscribe(nt),Xe.on.ready.unsubscribe(He)}))})}}),this.Collection=(V=this,Js(Oc.prototype,function(ft,He){this.db=V;var Le=Er,Xe=null;if(He)try{Le=He()}catch(qe){Xe=qe}var Ye=ft._ctx;this._ctx={table:He=Ye.table,index:Ye.index,isPrimKey:!Ye.index||He.schema.primKey.keyPath&&Ye.index===He.schema.primKey.name,range:Le,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Xe,or:Ye.or,valueMapper:(ft=He.hook.reading.fire)!==Te?ft:null}})),this.Table=(H=this,Js(Hi.prototype,function(Se,nt,Le){this.db=H,this._tx=Le,this.name=Se,this.schema=nt,this.hook=H._allTables[Se]?H._allTables[Se].hook:ls(null,{creating:[Rt,ce],reading:[It,Te],updating:[nn,ce],deleting:[Ut,ce]})})),this.Transaction=(ee=this,Js(mr.prototype,function(Se,nt,Le,Xe,Ye){var He=this;this.db=ee,this.mode=Se,this.storeNames=nt,this.schema=Le,this.chromeTransactionDurability=Xe,this.idbtrans=null,this.on=ls(this,"complete","error","abort"),this.parent=Ye||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Pt(function(ft,qe){He._resolve=ft,He._reject=qe}),this._completion.then(function(){He.active=!1,He.on.complete.fire()},function(ft){var qe=He.active;return He.active=!1,He.on.error.fire(ft),He.parent?He.parent._reject(ft):qe&&He.idbtrans&&He.idbtrans.abort(),gn(ft)})})),this.Version=(ye=this,Js(Ss.prototype,function(Se){this.db=ye,this._cfg={version:Se,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=($e=this,Js(Oe.prototype,function(Se,nt,Le){if(this.db=$e,this._ctx={table:Se,index:":id"===nt?null:nt,or:Le},this._cmp=this._ascending=Hn,this._descending=function(Xe,Ye){return Hn(Ye,Xe)},this._max=function(Xe,Ye){return 0<Hn(Xe,Ye)?Xe:Ye},this._min=function(Xe,Ye){return Hn(Xe,Ye)<0?Xe:Ye},this._IDBKeyRange=$e._deps.IDBKeyRange,!this._IDBKeyRange)throw new X.MissingAPI})),this.on("versionchange",function(Se){0<Se.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(Se){!Se.newVersion||Se.newVersion<Se.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(Se.oldVersion/10))}),this._maxKey=As(C.IDBKeyRange),this._createTransaction=function(Se,nt,Le,Xe){return new S.Transaction(Se,nt,Le,S._options.chromeTransactionDurability,Xe)},this._fireOnBlocked=function(Se){S.on("blocked").fire(Se),Ds.filter(function(nt){return nt.name===S.name&&nt!==S&&!nt._state.vcFired}).map(function(nt){return nt.on("versionchange").fire(Se)})},this.use(jo),this.use($d),this.use(jd),this.use(Oa),this.use(qD);var tt=new Proxy(this,{get:function(Se,nt,Le){if("_vip"===nt)return!0;if("table"===nt)return function(Ye){return Kn(S.table(Ye),tt)};var Xe=Reflect.get(Se,nt,Le);return Xe instanceof Hi?Kn(Xe,tt):"tables"===nt?Xe.map(function(Ye){return Kn(Ye,tt)}):"_createTransaction"===nt?function(){return Kn(Xe.apply(this,arguments),tt)}:Xe}});this.vip=tt,N.forEach(function(Se){return Se(S)})}oo=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var Pa,Au=(El.prototype.subscribe=function(v,C,S){return this._subscribe(v&&"function"!=typeof v?v:{next:v,error:C,complete:S})},El.prototype[oo]=function(){return this},El);function El(v){this._subscribe=v}try{Pa={indexedDB:re.indexedDB||re.mozIndexedDB||re.webkitIndexedDB||re.msIndexedDB,IDBKeyRange:re.IDBKeyRange||re.webkitIDBKeyRange}}catch{Pa={indexedDB:null,IDBKeyRange:null}}function xs(v){var C,S=!1,N=new Au(function(V){var ee,H=fn(v),ye=!1,$e={},ke={},tt={get closed(){return ye},unsubscribe:function(){ye||(ye=!0,ee&&ee.abort(),Se&&Yn.storagemutated.unsubscribe(Le))}};V.start&&V.start(tt);var Se=!1,nt=function(){return Nn(Xe)},Le=function(Ye){Wr($e,Ye),bl(ke,$e)&&nt()},Xe=function(){var Ye,He,ft;!ye&&Pa.indexedDB&&($e={},Ye={},ee&&ee.abort(),ee=new AbortController,ft=function(qe){var rt=br();try{H&&Uo();var wt=Wn(v,qe);return wt=H?wt.finally(Oi):wt}finally{rt&&li()}}(He={subscr:Ye,signal:ee.signal,requery:nt,querier:v,trans:null}),Promise.resolve(ft).then(function(qe){S=!0,C=qe,ye||He.signal.aborted||($e={},function(rt){for(var wt in rt)if(ut(rt,wt))return;return 1}(ke=Ye)||Se||(Yn(Dn,Le),Se=!0),Nn(function(){return!ye&&V.next&&V.next(qe)}))},function(qe){S=!1,["DatabaseClosedError","AbortError"].includes(qe?.name)||ye||Nn(function(){ye||V.error&&V.error(qe)})}))};return setTimeout(nt,0),tt});return N.hasValue=function(){return S},N.getValue=function(){return C},N}var $o=oa;function wl(v){var C=sa;try{sa=!0,Yn.storagemutated.fire(v),Vc(v,!0)}finally{sa=C}}Be($o,O(O({},ie),{delete:function(v){return new $o(v,{addons:[]}).delete()},exists:function(v){return new $o(v,{addons:[]}).open().then(function(C){return C.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return S=(C=$o.dependencies).indexedDB,C=C.IDBKeyRange,(ia(S)?Promise.resolve(S.databases()).then(function(N){return N.map(function(V){return V.name}).filter(function(V){return V!==bi})}):Ra(S,C).toCollection().primaryKeys()).then(v)}catch{return gn(new X.MissingAPI)}var C,S},defineClass:function(){return function(v){x(this,v)}},ignoreTransaction:function(v){return jt.trans?ui(jt.transless,v):v()},vip:Iu,async:function(v){return function(){try{var C=Bd(v.apply(this,arguments));return C&&"function"==typeof C.then?C:Pt.resolve(C)}catch(S){return gn(S)}}},spawn:function(v,C,S){try{var N=Bd(v.apply(S,C||[]));return N&&"function"==typeof N.then?N:Pt.resolve(N)}catch(V){return gn(V)}},currentTransaction:{get:function(){return jt.trans||null}},waitFor:function(v,C){return C=Pt.resolve("function"==typeof v?$o.ignoreTransaction(v):v).timeout(C||6e4),jt.trans?jt.trans.waitFor(C):C},Promise:Pt,debug:{get:function(){return Ht},set:function(v){dn(v)}},derive:Me,extend:x,props:Be,override:Re,Events:ls,on:Yn,liveQuery:xs,extendObservabilitySet:Wr,getByKeyPath:Fe,setByKeyPath:xe,delByKeyPath:function(v,C){"string"==typeof C?xe(v,C,void 0):"length"in C&&[].map.call(C,function(S){xe(v,S,void 0)})},shallowClone:Ae,deepClone:_e,getObjectDiff:Du,cmp:Hn,asap:ge,minKey:-1/0,addons:[],connections:Ds,errnames:U,dependencies:Pa,cache:Fc,semVer:"4.0.8",version:"4.0.8".split(".").map(function(v){return parseInt(v)}).reduce(function(v,C,S){return v+C/Math.pow(10,2*S)})})),$o.maxKey=As($o.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Yn(Dn,function(v){sa||(v=new CustomEvent(Fn,{detail:v}),sa=!0,dispatchEvent(v),sa=!1)}),addEventListener(Fn,function(v){v=v.detail,sa||wl(v)}));var ka,sa=!1,Tn=function(){};return typeof BroadcastChannel<"u"&&((Tn=function(){(ka=new BroadcastChannel(Fn)).onmessage=function(v){return v.data&&wl(v.data)}})(),"function"==typeof ka.unref&&ka.unref(),Yn(Dn,function(v){sa||ka.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!oa.disableBfCache&&v.persisted){Ht&&console.debug("Dexie: handling persisted pagehide"),ka?.close();for(var C=0,S=Ds;C<S.length;C++)S[C].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!oa.disableBfCache&&v.persisted&&(Ht&&console.debug("Dexie: handling persisted pageshow"),Tn(),wl({all:new wr(-1/0,[[]])}))})),Pt.rejectionMapper=function(v,C){return!v||v instanceof Ge||v instanceof TypeError||v instanceof SyntaxError||!v.name||!Z[v.name]?v:(C=new Z[v.name](C||v.message,v),"stack"in v&&Y(C,"stack",{get:function(){return this.inner.stack}}),C)},dn(Ht),O(oa,Object.freeze({__proto__:null,Dexie:oa,liveQuery:xs,Entity:Do,cmp:Hn,PropModSymbol:To,PropModification:ea,replacePrefix:function(v,C){return new ea({replacePrefix:[v,C]})},add:function(v){return new ea({add:v})},remove:function(v){return new ea({remove:v})},default:oa,RangeSet:wr,mergeRanges:Ar,rangesOverlap:Fd}),{default:oa}),oa}()},4412:(Bt,et,O)=>{"use strict";O.d(et,{t:()=>re});var J=O(1413);class re extends J.B{constructor(ae){super(),this._value=ae}get value(){return this.getValue()}_subscribe(ae){const x=super._subscribe(ae);return!x.closed&&ae.next(this._value),x}getValue(){const{hasError:ae,thrownError:x,_value:l}=this;if(ae)throw x;return this._throwIfClosed(),l}next(ae){super.next(this._value=ae)}}},1985:(Bt,et,O)=>{"use strict";O.d(et,{c:()=>ut});var J=O(7707),re=O(8359),me=O(3494),ae=O(1203),x=O(1026),l=O(8071),De=O(9786);let ut=(()=>{class Me{constructor(oe){oe&&(this._subscribe=oe)}lift(oe){const ze=new Me;return ze.source=this,ze.operator=oe,ze}subscribe(oe,ze,Re){const Pe=function Y(Me){return Me&&Me instanceof J.vU||function Ue(Me){return Me&&(0,l.T)(Me.next)&&(0,l.T)(Me.error)&&(0,l.T)(Me.complete)}(Me)&&(0,re.Uv)(Me)}(oe)?oe:new J.Ms(oe,ze,Re);return(0,De.Y)(()=>{const{operator:ge,source:Fe}=this;Pe.add(ge?ge.call(Pe,Fe):Fe?this._subscribe(Pe):this._trySubscribe(Pe))}),Pe}_trySubscribe(oe){try{return this._subscribe(oe)}catch(ze){oe.error(ze)}}forEach(oe,ze){return new(ze=Be(ze))((Re,Pe)=>{const ge=new J.Ms({next:Fe=>{try{oe(Fe)}catch(xe){Pe(xe),ge.unsubscribe()}},error:Pe,complete:Re});this.subscribe(ge)})}_subscribe(oe){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(oe)}[me.s](){return this}pipe(...oe){return(0,ae.m)(oe)(this)}toPromise(oe){return new(oe=Be(oe))((ze,Re)=>{let Pe;this.subscribe(ge=>Pe=ge,ge=>Re(ge),()=>ze(Pe))})}}return Me.create=Ne=>new Me(Ne),Me})();function Be(Me){var Ne;return null!==(Ne=Me??x.$.Promise)&&void 0!==Ne?Ne:Promise}},1413:(Bt,et,O)=>{"use strict";O.d(et,{B:()=>De});var J=O(1985),re=O(8359);const ae=(0,O(1853).L)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=O(7908),l=O(9786);let De=(()=>{class Be extends J.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const Me=new ut(this,this);return Me.operator=Y,Me}_throwIfClosed(){if(this.closed)throw new ae}next(Y){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(Y)}})}error(Y){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:Me}=this;for(;Me.length;)Me.shift().error(Y)}})}complete(){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:Me,isStopped:Ne,observers:oe}=this;return Me||Ne?re.Kn:(this.currentObservers=null,oe.push(Y),new re.yU(()=>{this.currentObservers=null,(0,x.o)(oe,Y)}))}_checkFinalizedStatuses(Y){const{hasError:Me,thrownError:Ne,isStopped:oe}=this;Me?Y.error(Ne):oe&&Y.complete()}asObservable(){const Y=new J.c;return Y.source=this,Y}}return Be.create=(Ue,Y)=>new ut(Ue,Y),Be})();class ut extends De{constructor(Ue,Y){super(),this.destination=Ue,this.source=Y}next(Ue){var Y,Me;null===(Me=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===Me||Me.call(Y,Ue)}error(Ue){var Y,Me;null===(Me=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===Me||Me.call(Y,Ue)}complete(){var Ue,Y;null===(Y=null===(Ue=this.destination)||void 0===Ue?void 0:Ue.complete)||void 0===Y||Y.call(Ue)}_subscribe(Ue){var Y,Me;return null!==(Me=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(Ue))&&void 0!==Me?Me:re.Kn}}},7707:(Bt,et,O)=>{"use strict";O.d(et,{Ms:()=>Re,vU:()=>Me});var J=O(8071),re=O(8359),me=O(1026),ae=O(5334),x=O(5343);const l=Be("C",void 0,void 0);function Be(Ae,We,Ie){return{kind:Ae,value:We,error:Ie}}var Ue=O(9270),Y=O(9786);class Me extends re.yU{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,re.Uv)(We)&&We.add(this)):this.destination=xe}static create(We,Ie,st){return new Re(We,Ie,st)}next(We){this.isStopped?Fe(function ut(Ae){return Be("N",Ae,void 0)}(We),this):this._next(We)}error(We){this.isStopped?Fe(function De(Ae){return Be("E",void 0,Ae)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?Fe(l,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function oe(Ae,We){return Ne.call(Ae,We)}class ze{constructor(We){this.partialObserver=We}next(We){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(We)}catch(st){Pe(st)}}error(We){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(We)}catch(st){Pe(st)}else Pe(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(Ie){Pe(Ie)}}}class Re extends Me{constructor(We,Ie,st){let Qe;if(super(),(0,J.T)(We)||!We)Qe={next:We??void 0,error:Ie??void 0,complete:st??void 0};else{let _e;this&&me.$.useDeprecatedNextContext?(_e=Object.create(We),_e.unsubscribe=()=>this.unsubscribe(),Qe={next:We.next&&oe(We.next,_e),error:We.error&&oe(We.error,_e),complete:We.complete&&oe(We.complete,_e)}):Qe=We}this.destination=new ze(Qe)}}function Pe(Ae){me.$.useDeprecatedSynchronousErrorHandling?(0,Y.l)(Ae):(0,ae.m)(Ae)}function Fe(Ae,We){const{onStoppedNotification:Ie}=me.$;Ie&&Ue.f.setTimeout(()=>Ie(Ae,We))}const xe={closed:!0,next:x.l,error:function ge(Ae){throw Ae},complete:x.l}},8359:(Bt,et,O)=>{"use strict";O.d(et,{Kn:()=>l,yU:()=>x,Uv:()=>De});var J=O(8071);const me=(0,O(1853).L)(Be=>function(Y){Be(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((Me,Ne)=>`${Ne+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var ae=O(7908);class x{constructor(Ue){this.initialTeardown=Ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ue;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const oe of Y)oe.remove(this);else Y.remove(this);const{initialTeardown:Me}=this;if((0,J.T)(Me))try{Me()}catch(oe){Ue=oe instanceof me?oe.errors:[oe]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const oe of Ne)try{ut(oe)}catch(ze){Ue=Ue??[],ze instanceof me?Ue=[...Ue,...ze.errors]:Ue.push(ze)}}if(Ue)throw new me(Ue)}}add(Ue){var Y;if(Ue&&Ue!==this)if(this.closed)ut(Ue);else{if(Ue instanceof x){if(Ue.closed||Ue._hasParent(this))return;Ue._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(Ue)}}_hasParent(Ue){const{_parentage:Y}=this;return Y===Ue||Array.isArray(Y)&&Y.includes(Ue)}_addParent(Ue){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(Ue),Y):Y?[Y,Ue]:Ue}_removeParent(Ue){const{_parentage:Y}=this;Y===Ue?this._parentage=null:Array.isArray(Y)&&(0,ae.o)(Y,Ue)}remove(Ue){const{_finalizers:Y}=this;Y&&(0,ae.o)(Y,Ue),Ue instanceof x&&Ue._removeParent(this)}}x.EMPTY=(()=>{const Be=new x;return Be.closed=!0,Be})();const l=x.EMPTY;function De(Be){return Be instanceof x||Be&&"closed"in Be&&(0,J.T)(Be.remove)&&(0,J.T)(Be.add)&&(0,J.T)(Be.unsubscribe)}function ut(Be){(0,J.T)(Be)?Be():Be.unsubscribe()}},1026:(Bt,et,O)=>{"use strict";O.d(et,{$:()=>J});const J={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4843:(Bt,et,O)=>{"use strict";O.d(et,{_:()=>me});var J=O(9350),re=O(7707);function me(ae,x){const l="object"==typeof x;return new Promise((De,ut)=>{const Be=new re.Ms({next:Ue=>{De(Ue),Be.unsubscribe()},error:ut,complete:()=>{l?De(x.defaultValue):ut(new J.G)}});ae.subscribe(Be)})}},8793:(Bt,et,O)=>{"use strict";O.d(et,{x:()=>x});var J=O(6365),me=O(9326),ae=O(6648);function x(...l){return function re(){return(0,J.U)(1)}()((0,ae.H)(l,(0,me.lI)(l)))}},983:(Bt,et,O)=>{"use strict";O.d(et,{w:()=>re});const re=new(O(1985).c)(x=>x.complete())},6648:(Bt,et,O)=>{"use strict";O.d(et,{H:()=>st});var J=O(8750),re=O(5225),me=O(9974),ae=O(4360);function x(Qe,_e=0){return(0,me.N)((ue,Q)=>{ue.subscribe((0,ae._)(Q,mt=>(0,re.N)(Q,Qe,()=>Q.next(mt),_e),()=>(0,re.N)(Q,Qe,()=>Q.complete(),_e),mt=>(0,re.N)(Q,Qe,()=>Q.error(mt),_e)))})}function l(Qe,_e=0){return(0,me.N)((ue,Q)=>{Q.add(Qe.schedule(()=>ue.subscribe(Q),_e))})}var Be=O(1985),Y=O(4761),Me=O(8071);function oe(Qe,_e){if(!Qe)throw new Error("Iterable cannot be null");return new Be.c(ue=>{(0,re.N)(ue,_e,()=>{const Q=Qe[Symbol.asyncIterator]();(0,re.N)(ue,_e,()=>{Q.next().then(mt=>{mt.done?ue.complete():ue.next(mt.value)})},0,!0)})})}var ze=O(5055),Re=O(9858),Pe=O(7441),ge=O(5397),Fe=O(7953),xe=O(591),Ae=O(5196);function st(Qe,_e){return _e?function Ie(Qe,_e){if(null!=Qe){if((0,ze.l)(Qe))return function De(Qe,_e){return(0,J.Tg)(Qe).pipe(l(_e),x(_e))}(Qe,_e);if((0,Pe.X)(Qe))return function Ue(Qe,_e){return new Be.c(ue=>{let Q=0;return _e.schedule(function(){Q===Qe.length?ue.complete():(ue.next(Qe[Q++]),ue.closed||this.schedule())})})}(Qe,_e);if((0,Re.y)(Qe))return function ut(Qe,_e){return(0,J.Tg)(Qe).pipe(l(_e),x(_e))}(Qe,_e);if((0,Fe.T)(Qe))return oe(Qe,_e);if((0,ge.x)(Qe))return function Ne(Qe,_e){return new Be.c(ue=>{let Q;return(0,re.N)(ue,_e,()=>{Q=Qe[Y.l](),(0,re.N)(ue,_e,()=>{let mt,Dt;try{({value:mt,done:Dt}=Q.next())}catch(At){return void ue.error(At)}Dt?ue.complete():ue.next(mt)},0,!0)}),()=>(0,Me.T)(Q?.return)&&Q.return()})}(Qe,_e);if((0,Ae.U)(Qe))return function We(Qe,_e){return oe((0,Ae.C)(Qe),_e)}(Qe,_e)}throw(0,xe.L)(Qe)}(Qe,_e):(0,J.Tg)(Qe)}},8750:(Bt,et,O)=>{"use strict";O.d(et,{Tg:()=>Ne});var J=O(1635),re=O(7441),me=O(9858),ae=O(1985),x=O(5055),l=O(7953),De=O(591),ut=O(5397),Be=O(5196),Ue=O(8071),Y=O(5334),Me=O(3494);function Ne(Ae){if(Ae instanceof ae.c)return Ae;if(null!=Ae){if((0,x.l)(Ae))return function oe(Ae){return new ae.c(We=>{const Ie=Ae[Me.s]();if((0,Ue.T)(Ie.subscribe))return Ie.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,re.X)(Ae))return function ze(Ae){return new ae.c(We=>{for(let Ie=0;Ie<Ae.length&&!We.closed;Ie++)We.next(Ae[Ie]);We.complete()})}(Ae);if((0,me.y)(Ae))return function Re(Ae){return new ae.c(We=>{Ae.then(Ie=>{We.closed||(We.next(Ie),We.complete())},Ie=>We.error(Ie)).then(null,Y.m)})}(Ae);if((0,l.T)(Ae))return ge(Ae);if((0,ut.x)(Ae))return function Pe(Ae){return new ae.c(We=>{for(const Ie of Ae)if(We.next(Ie),We.closed)return;We.complete()})}(Ae);if((0,Be.U)(Ae))return function Fe(Ae){return ge((0,Be.C)(Ae))}(Ae)}throw(0,De.L)(Ae)}function ge(Ae){return new ae.c(We=>{(function xe(Ae,We){var Ie,st,Qe,_e;return(0,J.sH)(this,void 0,void 0,function*(){try{for(Ie=(0,J.xN)(Ae);!(st=yield Ie.next()).done;)if(We.next(st.value),We.closed)return}catch(ue){Qe={error:ue}}finally{try{st&&!st.done&&(_e=Ie.return)&&(yield _e.call(Ie))}finally{if(Qe)throw Qe.error}}We.complete()})})(Ae,We).catch(Ie=>We.error(Ie))})}},7786:(Bt,et,O)=>{"use strict";O.d(et,{h:()=>l});var J=O(6365),re=O(8750),me=O(983),ae=O(9326),x=O(6648);function l(...De){const ut=(0,ae.lI)(De),Be=(0,ae.R0)(De,1/0),Ue=De;return Ue.length?1===Ue.length?(0,re.Tg)(Ue[0]):(0,J.U)(Be)((0,x.H)(Ue,ut)):me.w}},4360:(Bt,et,O)=>{"use strict";O.d(et,{_:()=>re});var J=O(7707);function re(ae,x,l,De,ut){return new me(ae,x,l,De,ut)}class me extends J.vU{constructor(x,l,De,ut,Be,Ue){super(x),this.onFinalize=Be,this.shouldUnsubscribe=Ue,this._next=l?function(Y){try{l(Y)}catch(Me){x.error(Me)}}:super._next,this._error=ut?function(Y){try{ut(Y)}catch(Me){x.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(Y){x.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:l}=this;super.unsubscribe(),!l&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},3294:(Bt,et,O)=>{"use strict";O.d(et,{F:()=>ae});var J=O(3669),re=O(9974),me=O(4360);function ae(l,De=J.D){return l=l??x,(0,re.N)((ut,Be)=>{let Ue,Y=!0;ut.subscribe((0,me._)(Be,Me=>{const Ne=De(Me);(Y||!l(Ue,Ne))&&(Y=!1,Ue=Ne,Be.next(Me))}))})}function x(l,De){return l===De}},5964:(Bt,et,O)=>{"use strict";O.d(et,{p:()=>me});var J=O(9974),re=O(4360);function me(ae,x){return(0,J.N)((l,De)=>{let ut=0;l.subscribe((0,re._)(De,Be=>ae.call(x,Be,ut++)&&De.next(Be)))})}},6354:(Bt,et,O)=>{"use strict";O.d(et,{T:()=>me});var J=O(9974),re=O(4360);function me(ae,x){return(0,J.N)((l,De)=>{let ut=0;l.subscribe((0,re._)(De,Be=>{De.next(ae.call(x,Be,ut++))}))})}},6365:(Bt,et,O)=>{"use strict";O.d(et,{U:()=>me});var J=O(1397),re=O(3669);function me(ae=1/0){return(0,J.Z)(re.D,ae)}},1397:(Bt,et,O)=>{"use strict";O.d(et,{Z:()=>ut});var J=O(6354),re=O(8750),me=O(9974),ae=O(5225),x=O(4360),De=O(8071);function ut(Be,Ue,Y=1/0){return(0,De.T)(Ue)?ut((Me,Ne)=>(0,J.T)((oe,ze)=>Ue(Me,oe,Ne,ze))((0,re.Tg)(Be(Me,Ne))),Y):("number"==typeof Ue&&(Y=Ue),(0,me.N)((Me,Ne)=>function l(Be,Ue,Y,Me,Ne,oe,ze,Re){const Pe=[];let ge=0,Fe=0,xe=!1;const Ae=()=>{xe&&!Pe.length&&!ge&&Ue.complete()},We=st=>ge<Me?Ie(st):Pe.push(st),Ie=st=>{oe&&Ue.next(st),ge++;let Qe=!1;(0,re.Tg)(Y(st,Fe++)).subscribe((0,x._)(Ue,_e=>{Ne?.(_e),oe?We(_e):Ue.next(_e)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(ge--;Pe.length&&ge<Me;){const _e=Pe.shift();ze?(0,ae.N)(Ue,ze,()=>Ie(_e)):Ie(_e)}Ae()}catch(_e){Ue.error(_e)}}))};return Be.subscribe((0,x._)(Ue,We,()=>{xe=!0,Ae()})),()=>{Re?.()}}(Me,Ne,Be,Y)))}},7647:(Bt,et,O)=>{"use strict";O.d(et,{u:()=>x});var J=O(8750),re=O(1413),me=O(7707),ae=O(9974);function x(De={}){const{connector:ut=(()=>new re.B),resetOnError:Be=!0,resetOnComplete:Ue=!0,resetOnRefCountZero:Y=!0}=De;return Me=>{let Ne,oe,ze,Re=0,Pe=!1,ge=!1;const Fe=()=>{oe?.unsubscribe(),oe=void 0},xe=()=>{Fe(),Ne=ze=void 0,Pe=ge=!1},Ae=()=>{const We=Ne;xe(),We?.unsubscribe()};return(0,ae.N)((We,Ie)=>{Re++,!ge&&!Pe&&Fe();const st=ze=ze??ut();Ie.add(()=>{Re--,0===Re&&!ge&&!Pe&&(oe=l(Ae,Y))}),st.subscribe(Ie),!Ne&&Re>0&&(Ne=new me.Ms({next:Qe=>st.next(Qe),error:Qe=>{ge=!0,Fe(),oe=l(xe,Be,Qe),st.error(Qe)},complete:()=>{Pe=!0,Fe(),oe=l(xe,Ue),st.complete()}}),(0,J.Tg)(We).subscribe(Ne))})(Me)}}function l(De,ut,...Be){if(!0===ut)return void De();if(!1===ut)return;const Ue=new me.Ms({next:()=>{Ue.unsubscribe(),De()}});return(0,J.Tg)(ut(...Be)).subscribe(Ue)}},6496:(Bt,et,O)=>{"use strict";O.d(et,{t:()=>x});var J=O(1413),re=O(6129);class me extends J.B{constructor(De=1/0,ut=1/0,Be=re.U){super(),this._bufferSize=De,this._windowTime=ut,this._timestampProvider=Be,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=ut===1/0,this._bufferSize=Math.max(1,De),this._windowTime=Math.max(1,ut)}next(De){const{isStopped:ut,_buffer:Be,_infiniteTimeWindow:Ue,_timestampProvider:Y,_windowTime:Me}=this;ut||(Be.push(De),!Ue&&Be.push(Y.now()+Me)),this._trimBuffer(),super.next(De)}_subscribe(De){this._throwIfClosed(),this._trimBuffer();const ut=this._innerSubscribe(De),{_infiniteTimeWindow:Be,_buffer:Ue}=this,Y=Ue.slice();for(let Me=0;Me<Y.length&&!De.closed;Me+=Be?1:2)De.next(Y[Me]);return this._checkFinalizedStatuses(De),ut}_trimBuffer(){const{_bufferSize:De,_timestampProvider:ut,_buffer:Be,_infiniteTimeWindow:Ue}=this,Y=(Ue?1:2)*De;if(De<1/0&&Y<Be.length&&Be.splice(0,Be.length-Y),!Ue){const Me=ut.now();let Ne=0;for(let oe=1;oe<Be.length&&Be[oe]<=Me;oe+=2)Ne=oe;Ne&&Be.splice(0,Ne+1)}}}var ae=O(7647);function x(l,De,ut){let Be,Ue=!1;return l&&"object"==typeof l?({bufferSize:Be=1/0,windowTime:De=1/0,refCount:Ue=!1,scheduler:ut}=l):Be=l??1/0,(0,ae.u)({connector:()=>new me(Be,De,ut),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}},9172:(Bt,et,O)=>{"use strict";O.d(et,{Z:()=>ae});var J=O(8793),re=O(9326),me=O(9974);function ae(...x){const l=(0,re.lI)(x);return(0,me.N)((De,ut)=>{(l?(0,J.x)(x,De,l):(0,J.x)(x,De)).subscribe(ut)})}},6129:(Bt,et,O)=>{"use strict";O.d(et,{U:()=>J});const J={now:()=>(J.delegate||Date).now(),delegate:void 0}},9270:(Bt,et,O)=>{"use strict";O.d(et,{f:()=>J});const J={setTimeout(re,me,...ae){const{delegate:x}=J;return x?.setTimeout?x.setTimeout(re,me,...ae):setTimeout(re,me,...ae)},clearTimeout(re){const{delegate:me}=J;return(me?.clearTimeout||clearTimeout)(re)},delegate:void 0}},4761:(Bt,et,O)=>{"use strict";O.d(et,{l:()=>re});const re=function J(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Bt,et,O)=>{"use strict";O.d(et,{s:()=>J});const J="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Bt,et,O)=>{"use strict";O.d(et,{G:()=>re});const re=(0,O(1853).L)(me=>function(){me(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Bt,et,O)=>{"use strict";O.d(et,{R0:()=>l,lI:()=>x,ms:()=>ae});var J=O(8071),re=O(9470);function me(De){return De[De.length-1]}function ae(De){return(0,J.T)(me(De))?De.pop():void 0}function x(De){return(0,re.m)(me(De))?De.pop():void 0}function l(De,ut){return"number"==typeof me(De)?De.pop():ut}},7908:(Bt,et,O)=>{"use strict";function J(re,me){if(re){const ae=re.indexOf(me);0<=ae&&re.splice(ae,1)}}O.d(et,{o:()=>J})},1853:(Bt,et,O)=>{"use strict";function J(re){const ae=re(x=>{Error.call(x),x.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}O.d(et,{L:()=>J})},9786:(Bt,et,O)=>{"use strict";O.d(et,{Y:()=>me,l:()=>ae});var J=O(1026);let re=null;function me(x){if(J.$.useDeprecatedSynchronousErrorHandling){const l=!re;if(l&&(re={errorThrown:!1,error:null}),x(),l){const{errorThrown:De,error:ut}=re;if(re=null,De)throw ut}}else x()}function ae(x){J.$.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=x)}},5225:(Bt,et,O)=>{"use strict";function J(re,me,ae,x=0,l=!1){const De=me.schedule(function(){ae(),l?re.add(this.schedule(null,x)):this.unsubscribe()},x);if(re.add(De),!l)return De}O.d(et,{N:()=>J})},3669:(Bt,et,O)=>{"use strict";function J(re){return re}O.d(et,{D:()=>J})},7441:(Bt,et,O)=>{"use strict";O.d(et,{X:()=>J});const J=re=>re&&"number"==typeof re.length&&"function"!=typeof re},7953:(Bt,et,O)=>{"use strict";O.d(et,{T:()=>re});var J=O(8071);function re(me){return Symbol.asyncIterator&&(0,J.T)(me?.[Symbol.asyncIterator])}},8071:(Bt,et,O)=>{"use strict";function J(re){return"function"==typeof re}O.d(et,{T:()=>J})},5055:(Bt,et,O)=>{"use strict";O.d(et,{l:()=>me});var J=O(3494),re=O(8071);function me(ae){return(0,re.T)(ae[J.s])}},5397:(Bt,et,O)=>{"use strict";O.d(et,{x:()=>me});var J=O(4761),re=O(8071);function me(ae){return(0,re.T)(ae?.[J.l])}},9858:(Bt,et,O)=>{"use strict";O.d(et,{y:()=>re});var J=O(8071);function re(me){return(0,J.T)(me?.then)}},5196:(Bt,et,O)=>{"use strict";O.d(et,{C:()=>me,U:()=>ae});var J=O(1635),re=O(8071);function me(x){return(0,J.AQ)(this,arguments,function*(){const De=x.getReader();try{for(;;){const{value:ut,done:Be}=yield(0,J.N3)(De.read());if(Be)return yield(0,J.N3)(void 0);yield yield(0,J.N3)(ut)}}finally{De.releaseLock()}})}function ae(x){return(0,re.T)(x?.getReader)}},9470:(Bt,et,O)=>{"use strict";O.d(et,{m:()=>re});var J=O(8071);function re(me){return me&&(0,J.T)(me.schedule)}},9974:(Bt,et,O)=>{"use strict";O.d(et,{N:()=>me,S:()=>re});var J=O(8071);function re(ae){return(0,J.T)(ae?.lift)}function me(ae){return x=>{if(re(x))return x.lift(function(l){try{return ae(l,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Bt,et,O)=>{"use strict";function J(){}O.d(et,{l:()=>J})},1203:(Bt,et,O)=>{"use strict";O.d(et,{F:()=>re,m:()=>me});var J=O(3669);function re(...ae){return me(ae)}function me(ae){return 0===ae.length?J.D:1===ae.length?ae[0]:function(l){return ae.reduce((De,ut)=>ut(De),l)}}},5334:(Bt,et,O)=>{"use strict";O.d(et,{m:()=>me});var J=O(1026),re=O(9270);function me(ae){re.f.setTimeout(()=>{const{onUnhandledError:x}=J.$;if(!x)throw ae;x(ae)})}},591:(Bt,et,O)=>{"use strict";function J(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(et,{L:()=>J})},9969:(Bt,et,O)=>{"use strict";O.d(et,{FX:()=>_e,If:()=>J,K2:()=>l,MA:()=>Me,Os:()=>x,P:()=>oe,hZ:()=>me,i0:()=>ae,iF:()=>De,kY:()=>Ue,kp:()=>re,sf:()=>st,ui:()=>Qe,wk:()=>ut});var J=function(ue){return ue[ue.State=0]="State",ue[ue.Transition=1]="Transition",ue[ue.Sequence=2]="Sequence",ue[ue.Group=3]="Group",ue[ue.Animate=4]="Animate",ue[ue.Keyframes=5]="Keyframes",ue[ue.Style=6]="Style",ue[ue.Trigger=7]="Trigger",ue[ue.Reference=8]="Reference",ue[ue.AnimateChild=9]="AnimateChild",ue[ue.AnimateRef=10]="AnimateRef",ue[ue.Query=11]="Query",ue[ue.Stagger=12]="Stagger",ue}(J||{});const re="*";function me(ue,Q){return{type:J.Trigger,name:ue,definitions:Q,options:{}}}function ae(ue,Q=null){return{type:J.Animate,styles:Q,timings:ue}}function x(ue,Q=null){return{type:J.Group,steps:ue,options:Q}}function l(ue,Q=null){return{type:J.Sequence,steps:ue,options:Q}}function De(ue){return{type:J.Style,styles:ue,offset:null}}function ut(ue,Q,mt){return{type:J.State,name:ue,styles:Q,options:mt}}function Ue(ue,Q,mt=null){return{type:J.Transition,expr:ue,animation:Q,options:mt}}function Me(ue=null){return{type:J.AnimateChild,options:ue}}function oe(ue,Q,mt=null){return{type:J.Query,selector:ue,animation:Q,options:mt}}class st{constructor(Q=0,mt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Q+mt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}onStart(Q){this._originalOnStartFns.push(Q),this._onStartFns.push(Q)}onDone(Q){this._originalOnDoneFns.push(Q),this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Q=>Q()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Q){this._position=this.totalTime?Q*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Q){const mt="start"==Q?this._onStartFns:this._onDoneFns;mt.forEach(Dt=>Dt()),mt.length=0}}class Qe{constructor(Q){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Q;let mt=0,Dt=0,At=0;const ln=this.players.length;0==ln?queueMicrotask(()=>this._onFinish()):this.players.forEach(en=>{en.onDone(()=>{++mt==ln&&this._onFinish()}),en.onDestroy(()=>{++Dt==ln&&this._onDestroy()}),en.onStart(()=>{++At==ln&&this._onStart()})}),this.totalTime=this.players.reduce((en,fn)=>Math.max(en,fn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}init(){this.players.forEach(Q=>Q.init())}onStart(Q){this._onStartFns.push(Q)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Q=>Q()),this._onStartFns=[])}onDone(Q){this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Q=>Q.play())}pause(){this.players.forEach(Q=>Q.pause())}restart(){this.players.forEach(Q=>Q.restart())}finish(){this._onFinish(),this.players.forEach(Q=>Q.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Q=>Q.destroy()),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this.players.forEach(Q=>Q.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Q){const mt=Q*this.totalTime;this.players.forEach(Dt=>{const At=Dt.totalTime?Math.min(1,mt/Dt.totalTime):1;Dt.setPosition(At)})}getPosition(){const Q=this.players.reduce((mt,Dt)=>null===mt||Dt.totalTime>mt.totalTime?Dt:mt,null);return null!=Q?Q.getPosition():0}beforeDestroy(){this.players.forEach(Q=>{Q.beforeDestroy&&Q.beforeDestroy()})}triggerCallback(Q){const mt="start"==Q?this._onStartFns:this._onDoneFns;mt.forEach(Dt=>Dt()),mt.length=0}}const _e="!"},3953:(Bt,et,O)=>{"use strict";function J(o,s){return Object.is(o,s)}O.d(et,{bc$:()=>D$,iLQ:()=>Ey,sZ2:()=>d_,hnV:()=>JL,o8S:()=>Ga,BIS:()=>cA,gRc:()=>Oy,Ql9:()=>uR,OM3:()=>Gp,Ocv:()=>sV,Z63:()=>Fa,aKT:()=>co,uvJ:()=>Os,zcH:()=>da,bkB:()=>pc,$GK:()=>yt,nKC:()=>Tn,zZn:()=>Fi,_q3:()=>vC,MKu:()=>yC,xe9:()=>Ay,Co$:()=>rx,Vns:()=>Zu,SKi:()=>Hr,Xx1:()=>jf,Agw:()=>fa,PLl:()=>h_,rOR:()=>G0,sFG:()=>CS,_9s:()=>QE,czy:()=>D_,WPN:()=>Ch,kdw:()=>vg,C4Q:()=>Rh,NYb:()=>cC,giA:()=>iR,RxE:()=>my,c1b:()=>rw,gXe:()=>ca,mal:()=>Qu,Tzd:()=>qp,L39:()=>Xy,EWP:()=>Bs,sbv:()=>cv,Ol2:()=>ax,w6W:()=>_w,QZP:()=>RC,Rfq:()=>Lc,WQX:()=>sn,naY:()=>dV,Hps:()=>GS,QuC:()=>La,EmA:()=>Yd,Udg:()=>Dc,HJs:()=>YR,N4e:()=>Pg,vPA:()=>cF,O8t:()=>Fm,An2:()=>Gl,H3F:()=>YM,zAP:()=>Mt,H8p:()=>Sg,KH2:()=>nf,TgB:()=>ju,wOt:()=>Qt,WHO:()=>yy,e01:()=>aC,lNU:()=>Nd,h9k:()=>I1,$MX:()=>cE,ZF7:()=>Ip,Kcf:()=>$$,e5t:()=>W$,UyX:()=>z$,cWb:()=>H$,osQ:()=>G$,H5H:()=>ya,mq5:()=>tf,JZv:()=>Ar,TL3:()=>Ls,LfX:()=>oo,plB:()=>Di,jNT:()=>uC,zjR:()=>oR,ngT:()=>bo,TL$:()=>bp,Tbb:()=>Wr,rcV:()=>Nl,nM4:()=>ex,Vt3:()=>dv,GFd:()=>nx,OA$:()=>$c,Jv_:()=>NM,aNF:()=>FM,R7$:()=>W1,BMQ:()=>qn,HbH:()=>Ox,ZvI:()=>Nx,AVh:()=>$w,vxM:()=>Ww,wni:()=>wM,C6U:()=>DI,VBU:()=>t0,FsC:()=>n0,jDH:()=>Kn,G2t:()=>ur,$C:()=>Cg,EJ8:()=>Tg,rXU:()=>xh,nrm:()=>$x,k0s:()=>Jw,j41:()=>Zw,RV6:()=>pm,xGo:()=>$T,Mr5:()=>Oo,KVO:()=>vo,kS0:()=>pp,QTQ:()=>$A,bIt:()=>yI,lsd:()=>CM,qSk:()=>MT,XpG:()=>Uv,nI1:()=>hy,bMT:()=>fy,SdG:()=>_M,NAR:()=>gM,Y8G:()=>Bw,lJ4:()=>wm,eq3:()=>PI,l_i:()=>kI,NyB:()=>df,mGM:()=>CI,sdS:()=>Gv,Dyx:()=>Xw,Z7z:()=>qw,Vm6:()=>Rv,Njj:()=>CT,eBV:()=>pk,n$t:()=>DA,xc7:()=>jw,DNE:()=>Iw,C5r:()=>Cm,EFF:()=>xM,JRh:()=>ld,SpI:()=>ba,Lme:()=>_m,E5c:()=>RI,GBs:()=>IM});let re=null,me=!1,ae=1;const x=Symbol("SIGNAL");function l(o){const s=re;return re=o,s}const Ue={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Y(o){if(me)throw new Error("");if(null===re)return;re.consumerOnSignalRead(o);const s=re.nextProducerIndex++;st(re),s<re.producerNode.length&&re.producerNode[s]!==o&&Ie(re)&&We(re.producerNode[s],re.producerIndexOfThis[s]),re.producerNode[s]!==o&&(re.producerNode[s]=o,re.producerIndexOfThis[s]=Ie(re)?Ae(o,re,s):0),re.producerLastReadVersion[s]=o.version}function Ne(o){if((!Ie(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==ae)){if(!o.producerMustRecompute(o)&&!Fe(o))return o.dirty=!1,void(o.lastCleanEpoch=ae);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=ae}}function oe(o){if(void 0===o.liveConsumerNode)return;const s=me;me=!0;try{for(const a of o.liveConsumerNode)a.dirty||Re(a)}finally{me=s}}function ze(){return!1!==re?.consumerAllowSignalWrites}function Re(o){o.dirty=!0,oe(o),o.consumerMarkedDirty?.(o)}function Pe(o){return o&&(o.nextProducerIndex=0),l(o)}function ge(o,s){if(l(s),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(Ie(o))for(let a=o.nextProducerIndex;a<o.producerNode.length;a++)We(o.producerNode[a],o.producerIndexOfThis[a]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Fe(o){st(o);for(let s=0;s<o.producerNode.length;s++){const a=o.producerNode[s],u=o.producerLastReadVersion[s];if(u!==a.version||(Ne(a),u!==a.version))return!0}return!1}function xe(o){if(st(o),Ie(o))for(let s=0;s<o.producerNode.length;s++)We(o.producerNode[s],o.producerIndexOfThis[s]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function Ae(o,s,a){if(Qe(o),0===o.liveConsumerNode.length&&_e(o))for(let u=0;u<o.producerNode.length;u++)o.producerIndexOfThis[u]=Ae(o.producerNode[u],o,u);return o.liveConsumerIndexOfThis.push(a),o.liveConsumerNode.push(s)-1}function We(o,s){if(Qe(o),1===o.liveConsumerNode.length&&_e(o))for(let u=0;u<o.producerNode.length;u++)We(o.producerNode[u],o.producerIndexOfThis[u]);const a=o.liveConsumerNode.length-1;if(o.liveConsumerNode[s]=o.liveConsumerNode[a],o.liveConsumerIndexOfThis[s]=o.liveConsumerIndexOfThis[a],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,s<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[s],h=o.liveConsumerNode[s];st(h),h.producerIndexOfThis[u]=s}}function Ie(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function st(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function Qe(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function _e(o){return void 0!==o.producerNode}function ue(o){const s=Object.create(At);s.computation=o;const a=()=>{if(Ne(s),Y(s),s.value===Dt)throw s.error;return s.value};return a[x]=s,a}const Q=Symbol("UNSET"),mt=Symbol("COMPUTING"),Dt=Symbol("ERRORED"),At={...Ue,value:Q,dirty:!0,error:null,equal:J,producerMustRecompute:o=>o.value===Q||o.value===mt,producerRecomputeValue(o){if(o.value===mt)throw new Error("Detected cycle in computations.");const s=o.value;o.value=mt;const a=Pe(o);let u;try{u=o.computation()}catch(h){u=Dt,o.error=h}finally{ge(o,a)}s!==Q&&s!==Dt&&u!==Dt&&o.equal(s,u)?o.value=s:(o.value=u,o.version++)}};let en=function ln(){throw new Error};function fn(){en()}let Ge=null;function U(o,s){ze()||fn(),o.equal(o.value,s)||(o.value=s,function ie(o){o.version++,function Me(){ae++}(),oe(o),Ge?.()}(o))}const Z={...Ue,equal:J,value:void 0};const Te=()=>{},It={...Ue,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:Te};var Rt=O(4412),Ut=O(1413),nn=O(8359),on=O(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Nd="https://g.co/ng/security#xss";class Qt extends Error{constructor(s,a){super(function ra(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,a)),this.code=s}}function Ss(o){return{toString:o}.toString()}const Ra="__parameters__";function wr(o,s,a){return Ss(()=>{const u=function yl(o){return function(...a){if(o){const u=o(...a);for(const h in u)this[h]=u[h]}}}(s);function h(...p){if(this instanceof h)return u.apply(this,p),this;const g=new h(...p);return E.annotation=g,E;function E(T,P,F){const G=T.hasOwnProperty(Ra)?T[Ra]:Object.defineProperty(T,Ra,{value:[]})[Ra];for(;G.length<=F;)G.push(null);return(G[F]=G[F]||[]).push(g),T}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}const Ar=globalThis;function ar(o){for(let s in o)if(o[s]===ar)return s;throw Error("Could not find renamed property on target object.")}function Vf(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function Wr(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Wr).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function bl(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const Vd=ar({__forward_ref__:ar});function Lc(o){return o.__forward_ref__=Lc,o.toString=function(){return Wr(this())},o}function yn(o){return Vc(o)?o():o}function Vc(o){return"function"==typeof o&&o.hasOwnProperty(Vd)&&o.__forward_ref__===Lc}function Kn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function ur(o){return{providers:o.providers||[],imports:o.imports||[]}}function Pa(o){return Au(o,$o)||Au(o,ka)}function oo(o){return null!==Pa(o)}function Au(o,s){return o.hasOwnProperty(s)?o[s]:null}function xs(o){return o&&(o.hasOwnProperty(wl)||o.hasOwnProperty(sa))?o[wl]:null}const $o=ar({\u0275prov:ar}),wl=ar({\u0275inj:ar}),ka=ar({ngInjectableDef:ar}),sa=ar({ngInjectorDef:ar});class Tn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Kn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function tt(o){return o&&!!o.\u0275providers}const Se=ar({\u0275cmp:ar}),nt=ar({\u0275dir:ar}),Le=ar({\u0275pipe:ar}),Xe=ar({\u0275mod:ar}),Ye=ar({\u0275fac:ar}),He=ar({__NG_ELEMENT_ID__:ar}),ft=ar({__NG_ENV_ID__:ar});function qe(o){return"string"==typeof o?o:null==o?"":String(o)}function qt(o,s){throw new Qt(-201,!1)}var yt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(yt||{});let Sn;function Pn(){return Sn}function En(o){const s=Sn;return Sn=o,s}function Ln(o,s,a){const u=Pa(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&yt.Optional?null:void 0!==s?s:void qt()}const hi={},ri="__NG_DI_FLAG__",Na="ngTempTokenPath",Ms=/\n/gm,gg="__source";let Su;function ic(o){const s=Su;return Su=o,s}function ek(o,s=yt.Default){if(void 0===Su)throw new Qt(-203,!1);return null===Su?Ln(o,void 0,s):Su.get(o,s&yt.Optional?null:void 0,s)}function vo(o,s=yt.Default){return(Pn()||ek)(yn(o),s)}function sn(o,s=yt.Default){return vo(o,xu(s))}function xu(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function Hd(o){const s=[];for(let a=0;a<o.length;a++){const u=yn(o[a]);if(Array.isArray(u)){if(0===u.length)throw new Qt(900,!1);let h,p=yt.Default;for(let g=0;g<u.length;g++){const E=u[g],T=_g(E);"number"==typeof T?-1===T?h=E.token:p|=T:h=E}s.push(vo(h,p))}else s.push(vo(u))}return s}function Mu(o,s){return o[ri]=s,o.prototype[ri]=s,o}function _g(o){return o[ri]}const jf=Mu(wr("Optional"),8),vg=Mu(wr("SkipSelf"),4);function Ru(o,s){return o.hasOwnProperty(Ye)?o[Ye]:null}function Ou(o,s){o.forEach(a=>Array.isArray(a)?Ou(a,s):s(a))}function qb(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function yg(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Rs(o,s,a){let u=zd(o,s);return u>=0?o[1|u]=a:(u=~u,function Qb(o,s,a,u){let h=o.length;if(h==s)o.push(a,u);else if(1===h)o.push(u,o[0]),o[0]=a;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=a,o[s+1]=u}}(o,u,s,a)),u}function Yb(o,s){const a=zd(o,s);if(a>=0)return o[1|a]}function zd(o,s){return function QD(o,s,a){let u=0,h=o.length>>a;for(;h!==u;){const p=u+(h-u>>1),g=o[p<<a];if(s===g)return p<<a;g>s?h=p:u=p+1}return~(h<<a)}(o,s,1)}const oc={},rr=[],Fa=new Tn(""),YD=new Tn("",-1),Zb=new Tn("");class Pu{get(s,a=hi){if(a===hi){const u=new Error(`NullInjectorError: No provider for ${Wr(s)}!`);throw u.name="NullInjectorError",u}return a}}var bg=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(bg||{}),ca=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(ca||{}),Cl=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(Cl||{});function ok(o,s,a){let u=o.length;for(;;){const h=o.indexOf(s,a);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=s.length;if(h+p===u||o.charCodeAt(h+p)<=32)return h}a=h+1}}function fi(o,s,a){let u=0;for(;u<a.length;){const h=a[u];if("number"==typeof h){if(0!==h)break;u++;const p=a[u++],g=a[u++],E=a[u++];o.setAttribute(s,g,E,p)}else{const p=h,g=a[++u];zo(p)?o.setProperty(s,p,g):o.setAttribute(s,p,g),u++}}return u}function Qr(o){return 3===o||4===o||6===o}function zo(o){return 64===o.charCodeAt(0)}function Un(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?a=h:0===a||Pi(o,a,h,null,-1===a||2===a?s[++u]:null)}}return o}function Pi(o,s,a,u,h){let p=0,g=o.length;if(-1===s)g=-1;else for(;p<o.length;){const E=o[p++];if("number"==typeof E){if(E===s){g=-1;break}if(E>s){g=p-1;break}}}for(;p<o.length;){const E=o[p];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==h&&(o[p+1]=h));if(u===o[p+1])return void(o[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==g&&(o.splice(g,0,s),p=g+1),o.splice(p++,0,a),null!==u&&o.splice(p++,0,u),null!==h&&o.splice(p++,0,h)}const Gd="ng-template";function Eg(o,s,a,u){let h=0;if(u){for(;h<s.length&&"string"==typeof s[h];h+=2)if("class"===s[h]&&-1!==ok(s[h+1].toLowerCase(),a,0))return!0}else if(Hf(o))return!1;if(h=s.indexOf(1,h),h>-1){let p;for(;++h<s.length&&"string"==typeof(p=s[h]);)if(p.toLowerCase()===a)return!0}return!1}function Hf(o){return 4===o.type&&o.value!==Gd}function Bc(o,s,a){return s===(4!==o.type||a?o.value:Gd)}function ku(o,s,a){let u=4;const h=o.attrs,p=null!==h?function Wd(o){for(let s=0;s<o.length;s++)if(Qr(o[s]))return s;return o.length}(h):0;let g=!1;for(let E=0;E<s.length;E++){const T=s[E];if("number"!=typeof T){if(!g)if(4&u){if(u=2|1&u,""!==T&&!Bc(o,T,a)||""===T&&1===s.length){if(gr(u))return!1;g=!0}}else if(8&u){if(null===h||!Eg(o,h,T,a)){if(gr(u))return!1;g=!0}}else{const P=s[++E],F=Dl(T,h,Hf(o),a);if(-1===F){if(gr(u))return!1;g=!0;continue}if(""!==P){let G;if(G=F>p?"":h[F+1].toLowerCase(),2&u&&P!==G){if(gr(u))return!1;g=!0}}}}else{if(!g&&!gr(u)&&!gr(T))return!1;if(g&&gr(T))continue;g=!1,u=T|1&u}}return gr(u)||g}function gr(o){return!(1&o)}function Dl(o,s,a,u){if(null===s)return-1;let h=0;if(u||!a){let p=!1;for(;h<s.length;){const g=s[h];if(g===o)return h;if(3===g||6===g)p=!0;else{if(1===g||2===g){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===g)break;if(0===g){h+=4;continue}}h+=p?1:2}return-1}return function Go(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const u=o[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,o)}function Jb(o,s,a=!1){for(let u=0;u<s.length;u++)if(ku(o,s[u],a))return!0;return!1}function e0(o,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function Kd(o,s){return o?":not("+s.trim()+")":s}function wg(o){let s=o[0],a=1,u=2,h="",p=!1;for(;a<o.length;){let g=o[a];if("string"==typeof g)if(2&u){const E=o[++a];h+="["+g+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+g:4&u&&(h+=" "+g);else""!==h&&!gr(g)&&(s+=Kd(p,h),h=""),u=g,p=p||!gr(u);a++}return""!==h&&(s+=Kd(p,h)),s}function t0(o){return Ss(()=>{const s=zf(o),a={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===bg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||ca.Emulated,styles:o.styles||rr,_:null,schemas:o.schemas||null,tView:null,id:""};Gf(a);const u=o.dependencies;return a.directiveDefs=Qd(u,!1),a.pipeDefs=Qd(u,!0),a.id=function eT(o){let s=0;const a=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of a)s=Math.imul(31,s)+h.charCodeAt(0)|0;return s+=2147483648,"c"+s}(a),a})}function Ig(o){return Vn(o)||Ei(o)}function Xd(o){return null!==o}function Cg(o){return Ss(()=>({type:o.type,bootstrap:o.bootstrap||rr,declarations:o.declarations||rr,imports:o.imports||rr,exports:o.exports||rr,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Dg(o,s){if(null==o)return oc;const a={};for(const u in o)if(o.hasOwnProperty(u)){const h=o[u];let p,g,E=Cl.None;Array.isArray(h)?(E=h[0],p=h[1],g=h[2]??p):(p=h,g=h),s?(a[p]=E!==Cl.None?[u,E]:u,s[p]=g):a[p]=u}return a}function n0(o){return Ss(()=>{const s=zf(o);return Gf(s),s})}function Tg(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Vn(o){return o[Se]||null}function Ei(o){return o[nt]||null}function ki(o){return o[Le]||null}function La(o){const s=Vn(o)||Ei(o)||ki(o);return null!==s&&s.standalone}function Gi(o,s){const a=o[Xe]||null;if(!a&&!0===s)throw new Error(`Type ${Wr(o)} does not have '\u0275mod' property.`);return a}function zf(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:o.inputs||oc,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||rr,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dg(o.inputs,s),outputs:Dg(o.outputs),debugInfo:null}}function Gf(o){o.features?.forEach(s=>s(o))}function Qd(o,s){if(!o)return null;const a=s?ki:Ig;return()=>("function"==typeof o?o():o).map(u=>a(u)).filter(Xd)}function Yd(o){return{\u0275providers:o}}function tT(...o){return{\u0275providers:Ag(0,o),\u0275fromNgModule:!0}}function Ag(o,...s){const a=[],u=new Set;let h;const p=g=>{a.push(g)};return Ou(s,g=>{const E=g;Zd(E,p,[],u)&&(h||=[],h.push(E))}),void 0!==h&&r0(h,p),a}function r0(o,s){for(let a=0;a<o.length;a++){const{ngModule:u,providers:h}=o[a];Jd(h,p=>{s(p,u)})}}function Zd(o,s,a,u){if(!(o=yn(o)))return!1;let h=null,p=xs(o);const g=!p&&Vn(o);if(p||g){if(g&&!g.standalone)return!1;h=o}else{const T=o.ngModule;if(p=xs(T),!p)return!1;h=T}const E=u.has(h);if(g){if(E)return!1;if(u.add(h),g.dependencies){const T="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const P of T)Zd(P,s,a,u)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let P;u.add(h);try{Ou(p.imports,F=>{Zd(F,s,a,u)&&(P||=[],P.push(F))})}finally{}void 0!==P&&r0(P,s)}if(!E){const P=Ru(h)||(()=>new h);s({provide:h,useFactory:P,deps:rr},h),s({provide:Zb,useValue:h,multi:!0},h),s({provide:Fa,useValue:()=>vo(h),multi:!0},h)}const T=p.providers;if(null!=T&&!E){const P=o;Jd(T,F=>{s(F,P)})}}}return h!==o&&void 0!==o.providers}function Jd(o,s){for(let a of o)tt(a)&&(a=a.\u0275providers),Array.isArray(a)?Jd(a,s):s(a)}const nT=ar({provide:String,useValue:ar});function s0(o){return null!==o&&"object"==typeof o&&nT in o}function la(o){return"function"==typeof o}const Sg=new Tn(""),Kf={},c0={};let xg;function qf(){return void 0===xg&&(xg=new Pu),xg}class Os{}class Nu extends Os{get destroyed(){return this._destroyed}constructor(s,a,u,h){super(),this.parent=a,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Og(s,g=>this.processProvider(g)),this.records.set(YD,Tl(void 0,this)),h.has("environment")&&this.records.set(Os,Tl(void 0,this));const p=this.records.get(Sg);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Zb,rr,yt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=l(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of a)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),l(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=ic(this),u=En(void 0);try{return s()}finally{ic(a),En(u)}}get(s,a=hi,u=yt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ft))return s[ft](this);u=xu(u);const p=ic(this),g=En(void 0);try{if(!(u&yt.SkipSelf)){let T=this.records.get(s);if(void 0===T){const P=function iT(o){return"function"==typeof o||"object"==typeof o&&o instanceof Tn}(s)&&Pa(s);T=P&&this.injectableDefInScope(P)?Tl(Mg(s),Kf):null,this.records.set(s,T)}if(null!=T)return this.hydrate(s,T)}return(u&yt.Self?qf():this.parent).get(s,a=u&yt.Optional&&a===hi?null:a)}catch(E){if("NullInjectorError"===E.name){if((E[Na]=E[Na]||[]).unshift(Wr(s)),p)throw E;return function Il(o,s,a,u){const h=o[Na];throw s[gg]&&h.unshift(s[gg]),o.message=function XD(o,s,a,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=Wr(s);if(Array.isArray(s))h=s.map(Wr).join(" -> ");else if("object"==typeof s){let p=[];for(let g in s)if(s.hasOwnProperty(g)){let E=s[g];p.push(g+":"+("string"==typeof E?JSON.stringify(E):Wr(E)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${o.replace(Ms,"\n  ")}`}("\n"+o.message,h,a,u),o.ngTokenPath=h,o[Na]=null,o}(E,s,"R3InjectorError",this.source)}throw E}finally{En(g),ic(p)}}resolveInjectorInitializers(){const s=l(null),a=ic(this),u=En(void 0);try{const p=this.get(Fa,rr,yt.Self);for(const g of p)g()}finally{ic(a),En(u),l(s)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(Wr(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qt(205,!1)}processProvider(s){let a=la(s=yn(s))?s:yn(s&&s.provide);const u=function rT(o){return s0(o)?Tl(void 0,o.useValue):Tl(Rg(o),Kf)}(s);if(!la(s)&&!0===s.multi){let h=this.records.get(a);h||(h=Tl(void 0,Kf,!0),h.factory=()=>Hd(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,u)}hydrate(s,a){const u=l(null);try{return a.value===Kf&&(a.value=c0,a.value=a.factory()),"object"==typeof a.value&&a.value&&function u0(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}finally{l(u)}}injectableDefInScope(s){if(!s.providedIn)return!1;const a=yn(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Mg(o){const s=Pa(o),a=null!==s?s.factory:Ru(o);if(null!==a)return a;if(o instanceof Tn)throw new Qt(204,!1);if(o instanceof Function)return function Xf(o){if(o.length>0)throw new Qt(204,!1);const a=function El(o){return o&&(o[$o]||o[ka])||null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new Qt(204,!1)}function Rg(o,s,a){let u;if(la(o)){const h=yn(o);return Ru(h)||Mg(h)}if(s0(o))u=()=>yn(o.useValue);else if(function eh(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...Hd(o.deps||[]));else if(function Wf(o){return!(!o||!o.useExisting)}(o))u=()=>vo(yn(o.useExisting));else{const h=yn(o&&(o.useClass||o.provide));if(!function l0(o){return!!o.deps}(o))return Ru(h)||Mg(h);u=()=>new h(...Hd(o.deps))}return u}function Tl(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function Og(o,s){for(const a of o)Array.isArray(a)?Og(a,s):a&&tt(a)?Og(a.\u0275providers,s):s(a)}function Pg(o,s){o instanceof Nu&&o.assertNotDestroyed();const u=ic(o),h=En(void 0);try{return s()}finally{ic(u),En(h)}}function kg(){return void 0!==Pn()||null!=function Gb(){return Su}()}function Qf(o){if(!kg())throw new Qt(-203,!1)}const Pr=0,y=1,b=2,D=3,I=4,k=5,j=6,te=7,ne=8,Ee=9,ct=10,ot=11,Tt=12,St=13,Jt=14,pn=15,xn=16,er=17,_r=18,Ir=19,xo=20,xr=21,so=22,ii=23,un=25,nh=1,Wo=7,sc=9,$r=10;var jc=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(jc||{});function Tr(o){return Array.isArray(o)&&"object"==typeof o[nh]}function kr(o){return Array.isArray(o)&&!0===o[nh]}function Cr(o){return!!(4&o.flags)}function Va(o){return o.componentOffset>-1}function Fg(o){return!(1&~o.flags)}function yo(o){return!!o.template}function Zf(o){return!!(512&o[b])}class pT{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function mT(o,s,a,u){null!==s?s.applyValueToInputSignal(s,u):o[a]=u}function $c(){return gT}function gT(o){return o.type.prototype.ngOnChanges&&(o.setInput=vT),_T}function _T(){const o=ih(this),s=o?.current;if(s){const a=o.previous;if(a===oc)o.previous=s;else for(let u in s)a[u]=s[u];o.current=null,this.ngOnChanges(s)}}function vT(o,s,a,u,h){const p=this.declaredInputs[u],g=ih(o)||function y0(o,s){return o[tp]=s}(o,{previous:oc,current:null}),E=g.current||(g.current={}),T=g.previous,P=T[p];E[p]=new pT(P&&P.currentValue,a,T===oc),mT(o,s,h,a)}$c.ngInherit=!0;const tp="__ngSimpleChanges__";function ih(o){return o[tp]||null}const ac=function(o,s,a){},np="svg";function cr(o){for(;Array.isArray(o);)o=o[Pr];return o}function oh(o,s){return cr(s[o])}function Wi(o,s){return cr(s[o.index])}function Fu(o,s){return o.data[s]}function Lu(o,s){return o[s]}function ds(o,s){const a=s[o];return Tr(a)?a:a[Pr]}function Vu(o){return!(128&~o[b])}function Ii(o,s){return null==s?null:o[s]}function rp(o){o[er]=0}function cc(o){1024&o[b]||(o[b]|=1024,Vu(o)&&zc(o))}function Sl(o){return!!(9216&o[b]||o[ii]?.dirty)}function Hc(o){o[ct].changeDetectionScheduler?.notify(7),64&o[b]&&(o[b]|=1024),Sl(o)&&zc(o)}function zc(o){o[ct].changeDetectionScheduler?.notify(0);let s=Gc(o);for(;null!==s&&!(8192&s[b])&&(s[b]|=8192,Vu(s));)s=Gc(s)}function sh(o,s){if(!(256&~o[b]))throw new Qt(911,!1);null===o[xr]&&(o[xr]=[]),o[xr].push(s)}function Gc(o){const s=o[D];return kr(s)?s[D]:s}const An={lFrame:ST(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let wT=!1;function IT(){return An.bindingsEnabled}function xl(){return null!==An.skipHydrationRootTNode}function bt(){return An.lFrame.lView}function Gn(){return An.lFrame.tView}function pk(o){return An.lFrame.contextLView=o,o[ne]}function CT(o){return An.lFrame.contextLView=null,o}function Mr(){let o=DT();for(;null!==o&&64===o.type;)o=o.parent;return o}function DT(){return An.lFrame.currentTNode}function Ci(o,s){const a=An.lFrame;a.currentTNode=o,a.isParent=s}function I0(){return An.lFrame.isParent}function Bu(){An.lFrame.isParent=!1}function Gg(){return wT}function ua(o){wT=o}function Ni(){const o=An.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function lc(){return An.lFrame.bindingIndex}function Ba(){return An.lFrame.bindingIndex++}function fs(o){const s=An.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}function AT(o,s){const a=An.lFrame;a.bindingIndex=a.bindingRootIndex=o,Kg(s)}function Kg(o){An.lFrame.currentDirectiveIndex=o}function ap(){return An.lFrame.currentQueryIndex}function cp(o){An.lFrame.currentQueryIndex=o}function lp(o){const s=o[y];return 2===s.type?s.declTNode:1===s.type?o[k]:null}function qg(o,s,a){if(a&yt.SkipSelf){let h=s,p=o;for(;!(h=h.parent,null!==h||a&yt.Host||(h=lp(p),null===h||(p=p[Jt],10&h.type))););if(null===h)return!1;s=h,o=p}const u=An.lFrame=T0();return u.currentTNode=s,u.lView=o,!0}function ah(o){const s=T0(),a=o[y];An.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function T0(){const o=An.lFrame,s=null===o?null:o.child;return null===s?ST(o):s}function ST(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function ch(){const o=An.lFrame;return An.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const xT=ch;function A0(){const o=ch();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ao(){return An.lFrame.selectedIndex}function uc(o){An.lFrame.selectedIndex=o}function Nr(){const o=An.lFrame;return Fu(o.tView,o.selectedIndex)}function MT(){An.lFrame.currentNamespace=np}let x0=!0;function Ml(){return x0}function dc(o){x0=o}function Wc(o,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=o.data[a].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:P,ngOnDestroy:F}=p;g&&(o.contentHooks??=[]).push(-a,g),E&&((o.contentHooks??=[]).push(a,E),(o.contentCheckHooks??=[]).push(a,E)),T&&(o.viewHooks??=[]).push(-a,T),P&&((o.viewHooks??=[]).push(a,P),(o.viewCheckHooks??=[]).push(a,P)),null!=F&&(o.destroyHooks??=[]).push(a,F)}}function Rl(o,s,a){lh(o,s,3,a)}function Xg(o,s,a,u){(3&o[b])===a&&lh(o,s,a,u)}function M0(o,s){let a=o[b];(3&a)===s&&(a&=16383,a+=1,o[b]=a)}function lh(o,s,a,u){const p=u??-1,g=s.length-1;let E=0;for(let T=void 0!==u?65535&o[er]:0;T<g;T++)if("number"==typeof s[T+1]){if(E=s[T],null!=u&&E>=u)break}else s[T]<0&&(o[er]+=65536),(E<p||-1==p)&&(vk(o,a,s,T),o[er]=(4294901760&o[er])+T+2),T++}function uh(o,s){ac(4,o,s);const a=l(null);try{s.call(o)}finally{l(a),ac(5,o,s)}}function vk(o,s,a,u){const h=a[u]<0,p=a[u+1],E=o[h?-a[u]:a[u]];h?o[b]>>14<o[er]>>16&&(3&o[b])===s&&(o[b]+=16384,uh(E,p)):uh(E,p)}const dh=-1;class up{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}const O0={};class Uu{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){u=xu(u);const h=this.injector.get(s,O0,u);return h!==O0||a===O0?h:this.parentInjector.get(s,a,u)}}function P0(o){return o!==dh}function hp(o){return 32767&o}function fp(o,s){let a=function bk(o){return o>>16}(o),u=s;for(;a>0;)u=u[Jt],a--;return u}let k0=!0;function Yg(o){const s=k0;return k0=o,s}const NT=255,Zg=5;let Jg=0;const Ko={};function e_(o,s){const a=FT(o,s);if(-1!==a)return a;const u=s[y];u.firstCreatePass&&(o.injectorIndex=s.length,N0(u.data,o),N0(s,null),N0(u.blueprint,null));const h=hh(o,s),p=o.injectorIndex;if(P0(h)){const g=hp(h),E=fp(h,s),T=E[y].data;for(let P=0;P<8;P++)s[p+P]=E[g+P]|T[g+P]}return s[p+8]=h,p}function N0(o,s){o.push(0,0,0,0,0,0,0,0,s)}function FT(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function hh(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,u=null,h=s;for(;null!==h;){if(u=B0(h),null===u)return dh;if(a++,h=h[Jt],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return dh}function F0(o,s,a){!function g$(o,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(He)&&(u=a[He]),null==u&&(u=a[He]=Jg++);const h=u&NT;s.data[o+(h>>Zg)]|=1<<h}(o,s,a)}function LT(o,s,a){if(a&yt.Optional||void 0!==o)return o;qt()}function V0(o,s,a,u){if(a&yt.Optional&&void 0===u&&(u=null),!(a&(yt.Self|yt.Host))){const h=o[Ee],p=En(void 0);try{return h?h.get(s,u,a&yt.Optional):Ln(s,u,a&yt.Optional)}finally{En(p)}}return LT(u,0,a)}function VT(o,s,a,u=yt.Default,h){if(null!==o){if(2048&s[b]&&!(u&yt.Self)){const g=function _$(o,s,a,u,h){let p=o,g=s;for(;null!==p&&null!==g&&2048&g[b]&&!(512&g[b]);){const E=BT(p,g,a,u|yt.Self,Ko);if(E!==Ko)return E;let T=p.parent;if(!T){const P=g[xo];if(P){const F=P.get(a,Ko,u);if(F!==Ko)return F}T=B0(g),g=g[Jt]}p=T}return h}(o,s,a,u,Ko);if(g!==Ko)return g}const p=BT(o,s,a,u,Ko);if(p!==Ko)return p}return V0(s,a,u,h)}function BT(o,s,a,u,h){const p=function Ck(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(He)?o[He]:void 0;return"number"==typeof s?s>=0?s&NT:Dk:s}(a);if("function"==typeof p){if(!qg(s,o,u))return u&yt.Host?LT(h,0,u):V0(s,a,u,h);try{let g;if(g=p(u),null!=g||u&yt.Optional)return g;qt()}finally{xT()}}else if("number"==typeof p){let g=null,E=FT(o,s),T=dh,P=u&yt.Host?s[pn][k]:null;for((-1===E||u&yt.SkipSelf)&&(T=-1===E?hh(o,s):s[E+8],T!==dh&&jT(u,!1)?(g=s[y],E=hp(T),s=fp(T,s)):E=-1);-1!==E;){const F=s[y];if(UT(p,E,F.data)){const G=Ik(E,s,a,g,u,P);if(G!==Ko)return G}T=s[E+8],T!==dh&&jT(u,s[y].data[E+8]===P)&&UT(p,E,s)?(g=F,E=hp(T),s=fp(T,s)):E=-1}}return h}function Ik(o,s,a,u,h,p){const g=s[y],E=g.data[o+8],F=t_(E,g,a,null==u?Va(E)&&k0:u!=g&&!!(3&E.type),h&yt.Host&&p===E);return null!==F?hc(s,g,F,E):Ko}function t_(o,s,a,u,h){const p=o.providerIndexes,g=s.data,E=1048575&p,T=o.directiveStart,F=p>>20,de=h?E+F:o.directiveEnd;for(let ve=u?E:E+F;ve<de;ve++){const Ze=g[ve];if(ve<T&&a===Ze||ve>=T&&Ze.type===a)return ve}if(h){const ve=g[T];if(ve&&yo(ve)&&ve.type===a)return T}return null}function hc(o,s,a,u){let h=o[a];const p=s.data;if(function yk(o){return o instanceof up}(h)){const g=h;g.resolving&&function xt(o,s){throw s&&s.join(" > "),new Qt(-200,o)}(function rt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():qe(o)}(p[a]));const E=Yg(g.canSeeViewProviders);g.resolving=!0;const P=g.injectImpl?En(g.injectImpl):null;qg(o,u,yt.Default);try{h=o[a]=g.factory(void 0,p,o,u),s.firstCreatePass&&a>=u.directiveStart&&function _k(o,s,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(u){const g=gT(s);(a.preOrderHooks??=[]).push(o,g),(a.preOrderCheckHooks??=[]).push(o,g)}h&&(a.preOrderHooks??=[]).push(0-o,h),p&&((a.preOrderHooks??=[]).push(o,p),(a.preOrderCheckHooks??=[]).push(o,p))}(a,p[a],s)}finally{null!==P&&En(P),Yg(E),g.resolving=!1,xT()}}return h}function UT(o,s,a){return!!(a[s+(o>>Zg)]&1<<o)}function jT(o,s){return!(o&yt.Self||o&yt.Host&&s)}class Ki{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return VT(this._tNode,this._lView,s,xu(u),a)}}function Dk(){return new Ki(Mr(),bt())}function $T(o){return Ss(()=>{const s=o.prototype.constructor,a=s[Ye]||n_(s),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const p=h[Ye]||n_(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function n_(o){return Vc(o)?()=>{const s=n_(yn(o));return s&&s()}:Ru(o)}function B0(o){const s=o[y],a=s.type;return 2===a?s.declTNode:1===a?o[k]:null}function pp(o){return function L0(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(Qr(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===s)return a[h+1];h+=2}}}return null}(Mr(),o)}function qT(o,s=null,a=null,u){const h=XT(o,s,a,u);return h.resolveInjectorInitializers(),h}function XT(o,s=null,a=null,u,h=new Set){const p=[a||rr,tT(o)];return u=u||("object"==typeof o?void 0:Wr(o)),new Nu(p,s||qf(),u||null,h)}class Fi{static#e=this.THROW_IF_NOT_FOUND=hi;static#t=this.NULL=new Pu;static create(s,a){if(Array.isArray(s))return qT({name:""},a,s,"");{const u=s.name??"";return qT({name:u},s.parent,s.providers,u)}}static#n=this.\u0275prov=Kn({token:Fi,providedIn:"any",factory:()=>vo(YD)});static#r=this.__NG_ELEMENT_ID__=-1}new Tn("").__NG_ELEMENT_ID__=o=>{const s=Mr();if(null===s)throw new Qt(204,!1);if(2&s.type)return s.value;if(o&yt.Optional)return null;throw new Qt(204,!1)};function z0(o){return o.ngOriginalError}class da{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&z0(s);for(;a&&z0(a);)a=z0(a);return a||null}}const mp=new Tn("",{providedIn:"root",factory:()=>sn(da).handleError.bind(void 0)});let gp=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=Rk;static#t=this.__NG_ENV_ID__=a=>a}return o})();class Mk extends gp{constructor(s){super(),this._lView=s}onDestroy(s){return sh(this._lView,s),()=>function Ug(o,s){if(null===o[xr])return;const a=o[xr].indexOf(s);-1!==a&&o[xr].splice(a,1)}(this._lView,s)}}function Rk(){return new Mk(bt())}function kk(){return _h(Mr(),bt())}function _h(o,s){return new co(Wi(o,s))}let co=(()=>{class o{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=kk}return o})();function ZT(o){return o instanceof co?o.nativeElement:o}let ju=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Rt.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:()=>new o})}return o})();const pc=class Nk extends Ut.B{constructor(s=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=s,kg()&&(this.destroyRef=sn(gp,{optional:!0})??void 0,this.pendingTasks=sn(ju,{optional:!0})??void 0)}emit(s){const a=l(null);try{super.next(s)}finally{l(a)}}subscribe(s,a,u){let h=s,p=a||(()=>null),g=u;if(s&&"object"==typeof s){const T=s;h=T.next?.bind(T),p=T.error?.bind(T),g=T.complete?.bind(T)}this.__isAsync&&(p=this.wrapInTimeout(p),h&&(h=this.wrapInTimeout(h)),g&&(g=this.wrapInTimeout(g)));const E=super.subscribe({next:h,error:p,complete:g});return s instanceof nn.yU&&s.add(E),E}wrapInTimeout(s){return a=>{const u=this.pendingTasks?.add();setTimeout(()=>{s(a),void 0!==u&&this.pendingTasks?.remove(u)})}}};function JT(){return this._results[Symbol.iterator]()}class G0{static#e=Symbol.iterator;get changes(){return this._changes??=new pc}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=G0.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=JT)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){this.dirty=!1;const u=function Ho(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function rk(o,s,a){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],p=s[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(this._results,u,a))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function c_(o){return!(128&~o.flags)}const ha=new Map;let Lk=0;const q0="__ngContext__";function qo(o,s){Tr(s)?(o[q0]=s[Ir],function w$(o){ha.set(o[Ir],o)}(s)):o[q0]=s}function Q0(o){return Kk(o[Tt])}function sA(o){return Kk(o[I])}function Kk(o){for(;null!==o&&!kr(o);)o=o[I];return o}let u_;function bp(o){u_=o}const d_=new Tn("",{providedIn:"root",factory:()=>e1}),e1="ng",h_=new Tn(""),fa=new Tn("",{providedIn:"platform",factory:()=>"unknown"}),D$=new Tn(""),cA=new Tn("",{providedIn:"root",factory:()=>function mc(){if(void 0!==u_)return u_;if(typeof document<"u")return document;throw new Qt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let hA=()=>null;function fA(o,s,a=!1){return hA(o,s,a)}const d1=new Tn("",{providedIn:"root",factory:()=>!1});let sE,aE;function wp(o){return function vA(){if(void 0===sE&&(sE=null,Ar.trustedTypes))try{sE=Ar.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return sE}()?.createHTML(o)||o}function p1(o){return function yA(){if(void 0===aE&&(aE=null,Ar.trustedTypes))try{aE=Ar.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return aE}()?.createScriptURL(o)||o}class Ih{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nd})`}}class F$ extends Ih{getTypeName(){return"HTML"}}class L$ extends Ih{getTypeName(){return"Style"}}class V$ extends Ih{getTypeName(){return"Script"}}class B$ extends Ih{getTypeName(){return"URL"}}class U$ extends Ih{getTypeName(){return"ResourceURL"}}function Nl(o){return o instanceof Ih?o.changingThisBreaksApplicationSecurity:o}function Ip(o,s){const a=function j$(o){return o instanceof Ih&&o.getTypeName()||null}(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${Nd})`)}return a===s}function $$(o){return new F$(o)}function H$(o){return new L$(o)}function z$(o){return new V$(o)}function G$(o){return new B$(o)}function W$(o){return new U$(o)}class K${constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(wp(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class q${constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=wp(s),a}}const Q$=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function cE(o){return(o=String(o)).match(Q$)?o:"unsafe:"+o}function Fl(o){const s={};for(const a of o.split(","))s[a]=!0;return s}function y_(...o){const s={};for(const a of o)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const g1=Fl("area,br,col,hr,img,wbr"),_1=Fl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v1=Fl("rp,rt"),wA=y_(g1,y_(_1,Fl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),y_(v1,Fl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),y_(v1,_1)),IA=Fl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),y1=y_(IA,Fl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Fl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Y$=Fl("script,style,template");class Z${constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0,h=[];for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)h.push(a),a=tH(a);else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let p=eH(a);if(p){a=p;break}a=h.pop()}return this.buf.join("")}startElement(s){const a=b1(s).toLowerCase();if(!wA.hasOwnProperty(a))return this.sanitizedSomething=!0,!Y$.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),g=p.name,E=g.toLowerCase();if(!y1.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=p.value;IA[E]&&(T=cE(T)),this.buf.push(" ",g,'="',w1(T),'"')}return this.buf.push(">"),!0}endElement(s){const a=b1(s).toLowerCase();wA.hasOwnProperty(a)&&!g1.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(w1(s))}}function eH(o){const s=o.nextSibling;if(s&&o!==s.previousSibling)throw E1(s);return s}function tH(o){const s=o.firstChild;if(s&&function J$(o,s){return(o.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,s))throw E1(s);return s}function b1(o){const s=o.nodeName;return"string"==typeof s?s:"FORM"}function E1(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const nH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,rH=/([^\#-~ |!])/g;function w1(o){return o.replace(/&/g,"&amp;").replace(nH,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(rH,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lE;function I1(o,s){let a=null;try{lE=lE||function m1(o){const s=new q$(o);return function X$(){try{return!!(new window.DOMParser).parseFromString(wp(""),"text/html")}catch{return!1}}()?new K$(s):s}(o);let u=s?String(s):"";a=lE.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=a.innerHTML,a=lE.getInertBodyElement(u)}while(u!==p);return wp((new Z$).sanitizeChildren(CA(a)||a))}finally{if(a){const u=CA(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function CA(o){return"content"in o&&function iH(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Ch=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(Ch||{});function C1(o){const s=Yc();return s?s.sanitize(Ch.URL,o)||"":Ip(o,"URL")?Nl(o):cE(qe(o))}function D1(o){const s=Yc();if(s)return p1(s.sanitize(Ch.RESOURCE_URL,o)||"");if(Ip(o,"ResourceURL"))return p1(Nl(o));throw new Qt(904,!1)}function DA(o,s,a){return function b_(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?D1:C1}(s,a)(o)}function Yc(){const o=bt();return o&&o[ct].sanitizer}function Ps(o){return o instanceof Function?o():o}function ks(o){return"browser"===(o??sn(Fi)).get(fa)}var D_=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(D_||{});let mE;function gE(o,s){return mE(o,s)}function Th(o,s,a,u,h){if(null!=u){let p,g=!1;kr(u)?p=u:Tr(u)&&(g=!0,u=u[Pr]);const E=cr(u);0===o&&null!==a?null==h?zu(s,a,E):Ll(s,a,E,h||null,!0):1===o&&null!==a?Ll(s,a,E,h||null,!0):2===o?function Ah(o,s,a){const u=x_(o,s);u&&function B1(o,s,a,u){o.removeChild(s,a,u)}(o,u,s,a)}(s,E,g):3===o&&s.destroyNode(E),null!=p&&function H1(o,s,a,u,h){const p=a[Wo];p!==cr(a)&&Th(s,o,u,p,h);for(let E=$r;E<a.length;E++){const T=a[E];TE(T[y],T,o,s,u,p)}}(s,o,p,a,h)}}function A_(o,s,a){return o.createElement(s,a)}function yE(o,s){s[ct].changeDetectionScheduler?.notify(8),TE(o,s,s[ot],2,null,null)}function V1(o,s){const a=o[sc],u=s[D];(Tr(u)||s[pn]!==u[D][pn])&&(o[b]|=jc.HasTransplantedViews),null===a?o[sc]=[s]:a.push(s)}function FA(o,s){const a=o[sc],u=a.indexOf(s);a.splice(u,1)}function S_(o,s){if(o.length<=$r)return;const a=$r+s,u=o[a];if(u){const h=u[xn];null!==h&&h!==o&&FA(h,u),s>0&&(o[a-1][I]=u[I]);const p=yg(o,$r+s);!function F1(o,s){yE(o,s),s[Pr]=null,s[k]=null}(u[y],u);const g=p[_r];null!==g&&g.detachView(p[y]),u[D]=null,u[I]=null,u[b]&=-129}return u}function bE(o,s){if(!(256&s[b])){const a=s[ot];a.destroyNode&&TE(o,s,a,3,null,null),function NA(o){let s=o[Tt];if(!s)return LA(o[y],o);for(;s;){let a=null;if(Tr(s))a=s[Tt];else{const u=s[$r];u&&(a=u)}if(!a){for(;s&&!s[I]&&s!==o;)Tr(s)&&LA(s[y],s),s=s[D];null===s&&(s=o),Tr(s)&&LA(s[y],s),a=s&&s[I]}s=a}}(s)}}function LA(o,s){if(256&s[b])return;const a=l(null);try{s[b]&=-129,s[b]|=256,s[ii]&&xe(s[ii]),function wE(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let u=0;u<a.length;u+=2){const h=s[a[u]];if(!(h instanceof up)){const p=a[u+1];if(Array.isArray(p))for(let g=0;g<p.length;g+=2){const E=h[p[g]],T=p[g+1];ac(4,E,T);try{T.call(E)}finally{ac(5,E,T)}}else{ac(4,h,p);try{p.call(h)}finally{ac(5,h,p)}}}}}(o,s),function EE(o,s){const a=o.cleanup,u=s[te];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const g=a[p+3];g>=0?u[g]():u[-g].unsubscribe(),p+=2}else a[p].call(u[a[p+1]]);null!==u&&(s[te]=null);const h=s[xr];if(null!==h){s[xr]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(o,s),1===s[y].type&&s[ot].destroy();const u=s[xn];if(null!==u&&kr(s[D])){u!==s[D]&&FA(u,s);const h=s[_r];null!==h&&h.detachView(o)}!function eA(o){ha.delete(o[Ir])}(s)}finally{l(a)}}function IE(o,s,a){return function VA(o,s,a){let u=s;for(;null!==u&&168&u.type;)u=(s=u).parent;if(null===u)return a[Pr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:p}=o.data[u.directiveStart+h];if(p===ca.None||p===ca.Emulated)return null}return Wi(u,a)}}(o,s.parent,a)}function Ll(o,s,a,u,h){o.insertBefore(s,a,u,h)}function zu(o,s,a){o.appendChild(s,a)}function BA(o,s,a,u,h){null!==u?Ll(o,s,a,u,h):zu(o,s,a)}function x_(o,s){return o.parentNode(s)}function UA(o,s,a){return Tp(o,s,a)}let CE,Tp=function j1(o,s,a){return 40&o.type?Wi(o,a):null};function Ua(o,s,a,u){const h=IE(o,u,s),p=s[ot],E=UA(u.parent||s[k],u,s);if(null!=h)if(Array.isArray(a))for(let T=0;T<a.length;T++)BA(p,h,a[T],E,!1);else BA(p,h,a,E,!1);void 0!==CE&&CE(p,u,s,a,h)}function Sp(o,s){if(null!==s){const a=s.type;if(3&a)return Wi(s,o);if(4&a)return M_(-1,o[s.index]);if(8&a){const u=s.child;if(null!==u)return Sp(o,u);{const h=o[s.index];return kr(h)?M_(-1,h):cr(h)}}if(32&a)return gE(s,o)()||cr(o[s.index]);{const u=Vl(o,s);return null!==u?Array.isArray(u)?u[0]:Sp(Gc(o[pn]),u):Sp(o,s.next)}}return null}function Vl(o,s){return null!==s?o[pn][k].projection[s.projection]:null}function M_(o,s){const a=$r+o+1;if(a<s.length){const u=s[a],h=u[y].firstChild;if(null!==h)return Sp(u,h)}return s[Wo]}function DE(o,s,a,u,h,p,g){for(;null!=a;){if(128===a.type){a=a.next;continue}const E=u[a.index],T=a.type;if(g&&0===s&&(E&&qo(cr(E),u),a.flags|=2),32&~a.flags)if(8&T)DE(o,s,a.child,u,h,p,!1),Th(s,o,h,E,p);else if(32&T){const P=gE(a,u);let F;for(;F=P();)Th(s,o,h,F,p);Th(s,o,h,E,p)}else 16&T?jA(o,s,u,a,h,p):Th(s,o,h,E,p);a=g?a.projectionNext:a.next}}function TE(o,s,a,u,h,p){DE(a,u,o.firstChild,s,h,p,!1)}function jA(o,s,a,u,h,p){const g=a[pn],T=g[k].projection[u.projection];if(Array.isArray(T))for(let P=0;P<T.length;P++)Th(s,o,h,T[P],p);else{let P=T;const F=g[D];c_(u)&&(P.flags|=128),DE(o,s,P,F,h,p,!0)}}function G1(o,s,a){""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a)}function Sh(o,s,a){const{mergedAttrs:u,classes:h,styles:p}=a;null!==u&&fi(o,s,u),null!==h&&G1(o,s,h),null!==p&&function _c(o,s,a){o.setAttribute(s,"style",a)}(o,s,p)}const Mn={};function W1(o=1){K1(Gn(),bt(),ao()+o,!1)}function K1(o,s,a,u){if(!u)if(3&~s[b]){const p=o.preOrderHooks;null!==p&&Xg(s,p,0,a)}else{const p=o.preOrderCheckHooks;null!==p&&Rl(s,p,a)}uc(a)}function xh(o,s=yt.Default){const a=bt();return null===a?vo(o,s):VT(Mr(),a,yn(o),s)}function $A(){throw new Error("invalid")}function HA(o,s,a,u,h,p){const g=l(null);try{let E=null;h&Cl.SignalBased&&(E=s[u][x]),null!==E&&void 0!==E.transformFn&&(p=E.transformFn(p)),h&Cl.HasDecoratorInputTransform&&(p=o.inputTransforms[u].call(s,p)),null!==o.setInput?o.setInput(s,E,p,a,u):mT(s,E,u,p)}finally{l(g)}}function O_(o,s,a,u,h,p,g,E,T,P,F){const G=s.blueprint.slice();return G[Pr]=h,G[b]=204|u,(null!==P||o&&2048&o[b])&&(G[b]|=2048),rp(G),G[D]=G[Jt]=o,G[ne]=a,G[ct]=g||o&&o[ct],G[ot]=E||o&&o[ot],G[Ee]=T||o&&o[Ee]||null,G[k]=p,G[Ir]=function E$(){return Lk++}(),G[j]=F,G[xo]=P,G[pn]=2==s.type?o[pn]:G,G}function Gu(o,s,a,u,h){let p=o.data[s];if(null===p)p=function AE(o,s,a,u,h){const p=DT(),g=I0(),T=o.data[s]=function P_(o,s,a,u,h,p){let g=s?s.injectorIndex:-1,E=0;return xl()&&(E|=128),{type:a,index:u,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?p:p&&p.parent,a,s,u,h);return null===o.firstChild&&(o.firstChild=T),null!==p&&(g?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T,T.prev=p)),T}(o,s,a,u,h),function Wg(){return An.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const g=function ip(){const o=An.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();p.injectorIndex=null===g?-1:g.injectorIndex}return Ci(p,!0),p}function xp(o,s,a,u){if(0===a)return-1;const h=s.length;for(let p=0;p<a;p++)s.push(u),o.blueprint.push(u),o.data.push(null);return h}function SE(o,s,a,u,h){const p=ao(),g=2&u;try{uc(-1),g&&s.length>un&&K1(o,s,un,!1),ac(g?2:0,h),a(u,h)}finally{uc(p),ac(g?3:1,h)}}function zA(o,s,a){if(Cr(s)){const u=l(null);try{const p=s.directiveEnd;for(let g=s.directiveStart;g<p;g++){const E=o.data[g];E.contentQueries&&E.contentQueries(1,a[g],g)}}finally{l(u)}}}function GA(o,s,a){IT()&&(function TH(o,s,a,u){const h=a.directiveStart,p=a.directiveEnd;Va(a)&&function XA(o,s,a){const u=Wi(s,o),h=WA(a);let g=16;a.signals?g=4096:a.onPush&&(g=64);const E=Wu(o,O_(o,h,null,g,u,s,null,o[ct].rendererFactory.createRenderer(u,a),null,null,null));o[s.index]=E}(s,a,o.data[h+a.componentOffset]),o.firstCreatePass||e_(a,s),qo(u,s);const g=a.initialInputs;for(let E=h;E<p;E++){const T=o.data[E],P=hc(s,o,E,a);qo(P,s),null!==g&&nN(0,E-h,P,T,0,g),yo(T)&&(ds(a.index,s)[ne]=hc(s,o,E,a))}}(o,s,a,Wi(a,s)),!(64&~a.flags)&&eN(o,s,a))}function xE(o,s,a=Wi){const u=s.localNames;if(null!==u){let h=s.index+1;for(let p=0;p<u.length;p+=2){const g=u[p+1],E=-1===g?a(s,o):o[g];o[h++]=E}}}function WA(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Fr(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):s}function Fr(o,s,a,u,h,p,g,E,T,P,F){const G=un+u,de=G+h,ve=function gH(o,s){const a=[];for(let u=0;u<s;u++)a.push(u<o?null:Mn);return a}(G,de),Ze="function"==typeof P?P():P;return ve[y]={type:o,blueprint:ve,template:a,queries:null,viewQuery:E,declTNode:s,data:ve.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:T,consts:Ze,incompleteFirstPass:!1,ssrId:F}}let X1=()=>null;function Q1(o,s,a,u,h){for(let p in s){if(!s.hasOwnProperty(p))continue;const g=s[p];if(void 0===g)continue;u??={};let E,T=Cl.None;Array.isArray(g)?(E=g[0],T=g[1]):E=g;let P=p;if(null!==h){if(!h.hasOwnProperty(p))continue;P=h[p]}0===o?Y1(u,a,P,E,T):Y1(u,a,P,E)}return u}function Y1(o,s,a,u,h){let p;o.hasOwnProperty(a)?(p=o[a]).push(s,u):p=o[a]=[s,u],void 0!==h&&p.push(h)}function ps(o,s,a,u,h,p,g,E){const T=Wi(s,a);let F,P=s.inputs;!E&&null!=P&&(F=P[u])?(L_(o,a,F,u,h),Va(s)&&function J1(o,s){const a=ds(s,o);16&a[b]||(a[b]|=64)}(a,s.index)):3&s.type&&(u=function Z1(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=g?g(h,s.value||"",u):h,p.setProperty(T,u,h))}function ME(o,s,a,u){if(IT()){const h=null===u?null:{"":-1},p=function AH(o,s){const a=o.directiveRegistry;let u=null,h=null;if(a)for(let p=0;p<a.length;p++){const g=a[p];if(Jb(s,g.selectors,!1))if(u||(u=[]),yo(g))if(null!==g.findHostDirectiveDefs){const E=[];h=h||new Map,g.findHostDirectiveDefs(g,E,h),u.unshift(...E,g),qA(o,s,E.length)}else u.unshift(g),qA(o,s,0);else h=h||new Map,g.findHostDirectiveDefs?.(g,u,h),u.push(g)}return null===u?null:[u,h]}(o,a);let g,E;null===p?g=E=null:[g,E]=p,null!==g&&KA(o,s,a,g,h,E),h&&function Mp(o,s,a){if(s){const u=o.localNames=[];for(let h=0;h<s.length;h+=2){const p=a[s[h+1]];if(null==p)throw new Qt(-301,!1);u.push(s[h],p)}}}(a,u,h)}a.mergedAttrs=Un(a.mergedAttrs,a.attrs)}function KA(o,s,a,u,h,p){for(let P=0;P<u.length;P++)F0(e_(a,s),o,u[P].type);!function pa(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}(a,o.data.length,u.length);for(let P=0;P<u.length;P++){const F=u[P];F.providersResolver&&F.providersResolver(F)}let g=!1,E=!1,T=xp(o,s,u.length,null);for(let P=0;P<u.length;P++){const F=u[P];a.mergedAttrs=Un(a.mergedAttrs,F.hostAttrs),tN(o,a,s,T,F),SH(T,F,h),null!==F.contentQueries&&(a.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=64);const G=F.type.prototype;!g&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((o.preOrderHooks??=[]).push(a.index),g=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(a.index),E=!0),T++}!function wH(o,s,a){const h=s.directiveEnd,p=o.data,g=s.attrs,E=[];let T=null,P=null;for(let F=s.directiveStart;F<h;F++){const G=p[F],de=a?a.get(G):null,Ze=de?de.outputs:null;T=Q1(0,G.inputs,F,T,de?de.inputs:null),P=Q1(1,G.outputs,F,P,Ze);const _t=null===T||null===g||Hf(s)?null:QA(T,F,g);E.push(_t)}null!==T&&(T.hasOwnProperty("class")&&(s.flags|=8),T.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=T,s.outputs=P}(o,a,p)}function eN(o,s,a){const u=a.directiveStart,h=a.directiveEnd,p=a.index,g=function D0(){return An.lFrame.currentDirectiveIndex}();try{uc(p);for(let E=u;E<h;E++){const T=o.data[E],P=s[E];Kg(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&k_(T,P)}}finally{uc(-1),Kg(g)}}function k_(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function qA(o,s,a){s.componentOffset=a,(o.components??=[]).push(s.index)}function SH(o,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=o;yo(s)&&(a[""]=o)}}function tN(o,s,a,u,h){o.data[u]=h;const p=h.factory||(h.factory=Ru(h.type)),g=new up(p,yo(h),xh);o.blueprint[u]=g,a[u]=g,function CH(o,s,a,u,h){const p=h.hostBindings;if(p){let g=o.hostBindingOpCodes;null===g&&(g=o.hostBindingOpCodes=[]);const E=~s.index;(function DH(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(g)!=E&&g.push(E),g.push(a,u,p)}}(o,s,u,xp(o,a,h.hostVars,Mn),h)}function vc(o,s,a,u,h,p){const g=Wi(o,s);!function N_(o,s,a,u,h,p,g){if(null==p)o.removeAttribute(s,h,a);else{const E=null==g?qe(p):g(p,u||"",h);o.setAttribute(s,h,E,a)}}(s[ot],g,p,o.value,a,u,h)}function nN(o,s,a,u,h,p){const g=p[s];if(null!==g)for(let E=0;E<g.length;)HA(u,a,g[E++],g[E++],g[E++],g[E++])}function QA(o,s,a){let u=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===u&&(u=[]);const g=o[p];for(let E=0;E<g.length;E+=3)if(g[E]===s){u.push(p,g[E+1],g[E+2],a[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function RE(o,s,a,u){return[o,!0,0,s,null,u,null,a,null,null]}function OE(o,s){const a=o.contentQueries;if(null!==a){const u=l(null);try{for(let h=0;h<a.length;h+=2){const g=a[h+1];if(-1!==g){const E=o.data[g];cp(a[h]),E.contentQueries(2,s[g],g)}}}finally{l(u)}}}function Wu(o,s){return o[Tt]?o[St][I]=s:o[Tt]=s,o[St]=s,s}function PE(o,s,a){cp(0);const u=l(null);try{s(o,a)}finally{l(u)}}function Rp(o){return o[te]??=[]}function Op(o){return o.cleanup??=[]}function F_(o,s){const a=o[Ee],u=a?a.get(da,null):null;u&&u.handleError(s)}function L_(o,s,a,u,h){for(let p=0;p<a.length;){const g=a[p++],E=a[p++],T=a[p++];HA(o.data[g],s[g],u,E,T,h)}}function Bl(o,s,a){const u=oh(s,o);!function vE(o,s,a){o.setValue(s,a)}(o[ot],u,a)}function ZA(o,s){const a=ds(s,o),u=a[y];!function xH(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])}(u,a);const h=a[Pr];null!==h&&null===a[j]&&(a[j]=fA(h,a[Ee])),NE(u,a,a[ne])}function NE(o,s,a){ah(s);try{const u=o.viewQuery;null!==u&&PE(1,u,a);const h=o.template;null!==h&&SE(o,s,h,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),s[_r]?.finishViewCreation(o),o.staticContentQueries&&OE(o,s),o.staticViewQueries&&PE(2,o.viewQuery,a);const p=o.components;null!==p&&function rN(o,s){for(let a=0;a<s.length;a++)ZA(o,s[a])}(s,p)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[b]&=-5,A0()}}function Ul(o,s,a,u){const h=l(null);try{const p=s.tView,T=O_(o,p,a,4096&o[b]?4096:16,null,s,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);T[xn]=o[s.index];const F=o[_r];return null!==F&&(T[_r]=F.createEmbeddedView(p)),NE(p,T,a),T}finally{l(h)}}function JA(o,s){const a=$r+s;if(a<o.length)return o[a]}function Ku(o,s){return!s||null===s.firstChild||c_(o)}function qu(o,s,a,u=!0){const h=s[y];if(function pH(o,s,a,u){const h=$r+u,p=a.length;u>0&&(a[h-1][I]=s),u<p-$r?(s[I]=a[h],qb(a,$r+u,s)):(a.push(s),s[I]=null),s[D]=a;const g=s[xn];null!==g&&a!==g&&V1(g,s);const E=s[_r];null!==E&&E.insertView(o),Hc(s),s[b]|=128}(h,s,o,a),u){const g=M_(a,o),E=s[ot],T=x_(E,o[Wo]);null!==T&&function L1(o,s,a,u,h,p){u[Pr]=h,u[k]=s,TE(o,u,a,1,h,p)}(h,o[k],E,s,T,g)}const p=s[j];null!==p&&null!==p.firstChild&&(p.firstChild=null)}function V_(o,s){const a=S_(o,s);return void 0!==a&&bE(a[y],a),a}function Mh(o,s,a,u,h=!1){for(;null!==a;){if(128===a.type){a=h?a.projectionNext:a.next;continue}const p=s[a.index];null!==p&&u.push(cr(p)),kr(p)&&B_(p,u);const g=a.type;if(8&g)Mh(o,s,a.child,u);else if(32&g){const E=gE(a,s);let T;for(;T=E();)u.push(T)}else if(16&g){const E=Vl(s,a);if(Array.isArray(E))u.push(...E);else{const T=Gc(s[pn]);Mh(T[y],T,E,u,!0)}}a=h?a.projectionNext:a.next}return u}function B_(o,s){for(let a=$r;a<o.length;a++){const u=o[a],h=u[y].firstChild;null!==h&&Mh(u[y],u,h,s)}o[Wo]!==o[Pr]&&s.push(o[Wo])}let U_=[];const iN={...Ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{zc(o.lView)},consumerOnSignalRead(){this.lView[ii]=this}},sN={...Ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let s=Gc(o.lView);for(;s&&!nS(s[y]);)s=Gc(s);s&&cc(s)},consumerOnSignalRead(){this.lView[ii]=this}};function nS(o){return 2!==o.type}const aN=100;function FE(o,s=!0,a=0){const u=o[ct],h=u.rendererFactory;h.begin?.();try{!function cN(o,s){const a=Gg();try{ua(!0),BE(o,s);let u=0;for(;Sl(o);){if(u===aN)throw new Qt(103,!1);u++,BE(o,1)}}finally{ua(a)}}(o,a)}catch(g){throw s&&F_(o,g),g}finally{h.end?.(),u.inlineEffectRunner?.flush()}}function lN(o,s,a,u){const h=s[b];if(!(256&~h))return;s[ct].inlineEffectRunner?.flush(),ah(s);let E=!0,T=null,P=null;nS(o)?(P=function eS(o){return o[ii]??function j_(o){const s=U_.pop()??Object.create(iN);return s.lView=o,s}(o)}(s),T=Pe(P)):null===function De(){return re}()?(E=!1,P=function oN(o){const s=o[ii]??Object.create(sN);return s.lView=o,s}(s),T=Pe(P)):s[ii]&&(xe(s[ii]),s[ii]=null);try{rp(s),function C0(o){return An.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&SE(o,s,a,2,u);const F=!(3&~h);if(F){const ve=o.preOrderCheckHooks;null!==ve&&Rl(s,ve,null)}else{const ve=o.preOrderHooks;null!==ve&&Xg(s,ve,0,null),M0(s,0)}if(function VE(o){for(let s=Q0(o);null!==s;s=sA(s)){if(!(s[b]&jc.HasTransplantedViews))continue;const a=s[sc];for(let u=0;u<a.length;u++)cc(a[u])}}(s),$_(s,0),null!==o.contentQueries&&OE(o,s),F){const ve=o.contentCheckHooks;null!==ve&&Rl(s,ve)}else{const ve=o.contentHooks;null!==ve&&Xg(s,ve,1),M0(s,1)}!function q1(o,s){const a=o.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)uc(~h);else{const p=h,g=a[++u],E=a[++u];AT(g,p),E(2,s[p])}}}finally{uc(-1)}}(o,s);const G=o.components;null!==G&&rS(s,G,0);const de=o.viewQuery;if(null!==de&&PE(2,de,u),F){const ve=o.viewCheckHooks;null!==ve&&Rl(s,ve)}else{const ve=o.viewHooks;null!==ve&&Xg(s,ve,2),M0(s,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[so]){for(const ve of s[so])ve();s[so]=null}s[b]&=-73}catch(F){throw zc(s),F}finally{null!==P&&(ge(P,T),E&&function tS(o){o.lView[ii]!==o&&(o.lView=null,U_.push(o))}(P)),A0()}}function $_(o,s){for(let a=Q0(o);null!==a;a=sA(a))for(let u=$r;u<a.length;u++)uN(a[u],s)}function Zc(o,s,a){uN(ds(s,o),a)}function uN(o,s){Vu(o)&&BE(o,s)}function BE(o,s){const u=o[y],h=o[b],p=o[ii];let g=!!(0===s&&16&h);if(g||=!!(64&h&&0===s),g||=!!(1024&h),g||=!(!p?.dirty||!Fe(p)),g||=!1,p&&(p.dirty=!1),o[b]&=-9217,g)lN(u,o,u.template,o[ne]);else if(8192&h){$_(o,1);const E=u.components;null!==E&&rS(o,E,1)}}function rS(o,s,a){for(let u=0;u<s.length;u++)Zc(o,s[u],a)}function Pp(o,s){const a=Gg()?64:1088;for(o[ct].changeDetectionScheduler?.notify(s);o;){o[b]|=a;const u=Gc(o);if(Zf(o)&&!u)return o;o=u}return null}class kp{get rootNodes(){const s=this._lView,a=s[y];return Mh(a,s,a.firstChild,[])}constructor(s,a,u=!0){this._lView=s,this._cdRefInjectingView=a,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ne]}set context(s){this._lView[ne]=s}get destroyed(){return!(256&~this._lView[b])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[D];if(kr(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(S_(s,u),yg(a,u))}this._attachedToViewContainer=!1}bE(this._lView[y],this._lView)}onDestroy(s){sh(this._lView,s)}markForCheck(){Pp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[b]&=-129}reattach(){Hc(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,FE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const s=Zf(this._lView),a=this._lView[xn];null!==a&&!s&&FA(a,this._lView),yE(this._lView[y],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Qt(902,!1);this._appRef=s;const a=Zf(this._lView),u=this._lView[xn];null!==u&&!a&&V1(u,this._lView),Hc(this._lView)}}let Rh=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=MH}return o})();const H_=Rh,jl=class extends H_{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,u){const h=Ul(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:a,dehydratedView:u});return new kp(h)}};function MH(){return z_(Mr(),bt())}function z_(o,s){return 4&o.type?new jl(s,o,_h(o,s)):null}let wS=()=>null;function Xu(o,s){return wS(o,s)}class Gl{}const Fh=new Tn("",{providedIn:"root",factory:()=>!1}),zp=new Tn("");class UN{}class jN{}class $N{resolveComponentFactory(s){throw function Z_(o){const s=Error(`No component factory found for ${Wr(o)}.`);return s.ngComponent=o,s}(s)}}class Gp{static#e=this.NULL=new $N}class QE{}let CS=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function HN(){const o=bt(),a=ds(Mr().index,o);return(Tr(a)?a:o)[ot]}()}return o})(),zN=(()=>{class o{static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:()=>null})}return o})();const yc=new Set;function bo(o){yc.has(o)||(yc.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function Wp(o){let s=!0;return setTimeout(()=>{s&&(s=!1,o())}),"function"==typeof Ar.requestAnimationFrame&&Ar.requestAnimationFrame(()=>{s&&(s=!1,o())}),()=>{s=!1}}function Kp(o){let s=!0;return queueMicrotask(()=>{s&&o()}),()=>{s=!1}}function DS(...o){}class Hr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pc(!1),this.onMicrotaskEmpty=new pc(!1),this.onStable=new pc(!1),this.onError=new pc(!1),typeof Zone>"u")throw new Qt(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.callbackScheduled=!1,function KN(o){const s=()=>{!function WN(o){o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,Zone.root.run(()=>{Wp(()=>{o.callbackScheduled=!1,TS(o),o.isCheckStableRunning=!0,YE(o),o.isCheckStableRunning=!1})}),TS(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,g,E)=>{if(function J_(o){return SS(o,"__ignore_ng_zone__")}(E))return a.invokeTask(h,p,g,E);try{return AS(o),a.invokeTask(h,p,g,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&s(),qN(o)}},onInvoke:(a,u,h,p,g,E,T)=>{try{return AS(o),a.invoke(h,p,g,E,T)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function KH(o){return SS(o,"__scheduler_tick__")}(E)&&s(),qN(o)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,TS(o),YE(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hr.isInAngularZone())throw new Qt(909,!1)}static assertNotInAngularZone(){if(Hr.isInAngularZone())throw new Qt(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,h){const p=this._inner,g=p.scheduleEventTask("NgZoneEvent: "+h,s,WH,DS,DS);try{return p.runTask(g,a,u)}finally{p.cancelTask(g)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const WH={};function YE(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function TS(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function AS(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function qN(o){o._nesting--,YE(o)}class ZE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pc,this.onMicrotaskEmpty=new pc,this.onStable=new pc,this.onError=new pc}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,h){return s.apply(a,u)}}function SS(o,s){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[s]}var Xo=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(Xo||{});const JE={destroy(){}};function qp(o,s){!s&&Qf();const a=s?.injector??sn(Fi);return ks(a)?(bo("NgAfterRender"),ew(o,a,!1,s?.phase??Xo.MixedReadWrite)):JE}function Qu(o,s){!s&&Qf();const a=s?.injector??sn(Fi);return ks(a)?(bo("NgAfterNextRender"),ew(o,a,!0,s?.phase??Xo.MixedReadWrite)):JE}function ew(o,s,a,u){const h=function qH(o,s){if(o instanceof Function)switch(s){case Xo.EarlyRead:return{earlyRead:o};case Xo.Write:return{write:o};case Xo.MixedReadWrite:return{mixedReadWrite:o};case Xo.Read:return{read:o}}return o}(o,u),p=s.get(tw),g=p.handler??=new QN,E=[],T=[],P=()=>{for(const ve of T)g.unregister(ve);F()},F=s.get(gp).onDestroy(P);let G=0;const de=(ve,Ze)=>{if(!Ze)return;const _t=a?(...$t)=>{G--,G<1&&P(),Ze(...$t)}:Ze,kt=Pg(s,()=>new XH(ve,E,_t));g.register(kt),T.push(kt),G++};return de(Xo.EarlyRead,h.earlyRead),de(Xo.Write,h.write),de(Xo.MixedReadWrite,h.mixedReadWrite),de(Xo.Read,h.read),{destroy:P}}class XH{constructor(s,a,u){this.phase=s,this.pipelinedArgs=a,this.callbackFn=u,this.zone=sn(Hr),this.errorHandler=sn(da,{optional:!0}),sn(Gl,{optional:!0})?.notify(6)}invoke(){try{const s=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,s)}catch(s){this.errorHandler?.handleError(s)}}}class QN{constructor(){this.executingCallbacks=!1,this.buckets={[Xo.EarlyRead]:new Set,[Xo.Write]:new Set,[Xo.MixedReadWrite]:new Set,[Xo.Read]:new Set},this.deferredCallbacks=new Set}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const a of s)a.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let tw=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of a)u()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:()=>new o})}return o})();function Di(o){return!!Gi(o)}function rv(o,s,a){let u=a?o.styles:null,h=a?o.classes:null,p=0;if(null!==s)for(let g=0;g<s.length;g++){const E=s[g];"number"==typeof E?p=E:1==p?h=bl(h,E):2==p&&(u=bl(u,E+": "+s[++g]+";"))}a?o.styles=u:o.stylesWithoutHost=u,a?o.classes=h:o.classesWithoutHost=h}class iv extends Gp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Vn(s);return new Vh(a,this.ngModule)}}function ZN(o,s){const a=[];for(const u in o){if(!o.hasOwnProperty(u))continue;const h=o[u];if(void 0===h)continue;const p=Array.isArray(h),g=p?h[0]:h;a.push(s?{propName:g,templateName:u,isSignal:!!((p?h[1]:Cl.None)&Cl.SignalBased)}:{propName:g,templateName:u})}return a}class Vh extends jN{get inputs(){const s=this.componentDef,a=s.inputTransforms,u=ZN(s.inputs,!0);if(null!==a)for(const h of u)a.hasOwnProperty(h.propName)&&(h.transform=a[h.propName]);return u}get outputs(){return ZN(this.componentDef.outputs,!1)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Sr(o){return o.map(wg).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,u,h){const p=l(null);try{let g=(h=h||this.ngModule)instanceof Os?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const E=g?new Uu(s,g):s,T=E.get(QE,null);if(null===T)throw new Qt(407,!1);const P=E.get(zN,null),de={rendererFactory:T,sanitizer:P,inlineEffectRunner:null,afterRenderEventManager:E.get(tw,null),changeDetectionScheduler:E.get(Gl,null)},ve=T.createRenderer(null,this.componentDef),Ze=this.componentDef.selectors[0][0]||"div",_t=u?function _H(o,s,a,u){const p=u.get(d1,!1)||a===ca.ShadowDom,g=o.selectRootElement(s,p);return function vH(o){X1(o)}(g),g}(ve,u,this.componentDef.encapsulation,E):A_(ve,Ze,function JN(o){const s=o.toLowerCase();return"svg"===s?np:"math"===s?"math":null}(Ze));let kt=512;this.componentDef.signals?kt|=4096:this.componentDef.onPush||(kt|=16);let $t=null;null!==_t&&($t=fA(_t,E,!0));const Ct=Fr(0,null,null,1,0,null,null,null,null,null,null),In=O_(null,Ct,null,kt,null,null,de,ve,E,null,$t);let nr,Or;ah(In);try{const xi=this.componentDef;let vr,wd=null;xi.findHostDirectiveDefs?(vr=[],wd=new Map,xi.findHostDirectiveDefs(xi,vr,wd),vr.push(xi)):vr=[xi];const cl=function tF(o,s){const a=o[y],u=un;return o[u]=s,Gu(a,u,2,"#host",null)}(In,_t),ZR=function OS(o,s,a,u,h,p,g){const E=h[y];!function nw(o,s,a,u){for(const h of o)s.mergedAttrs=Un(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(rv(s,s.mergedAttrs,!0),null!==a&&Sh(u,a,s))}(u,o,s,g);let T=null;null!==s&&(T=fA(s,h[Ee]));const P=p.rendererFactory.createRenderer(s,a);let F=16;a.signals?F=4096:a.onPush&&(F=64);const G=O_(h,WA(a),null,F,h[o.index],o,p,P,null,null,T);return E.firstCreatePass&&qA(E,o,u.length-1),Wu(h,G),h[o.index]=G}(cl,_t,xi,vr,In,de,ve);Or=Fu(Ct,un),_t&&function ZH(o,s,a,u){if(u)fi(o,a,["ng-version","18.1.1"]);else{const{attrs:h,classes:p}=function qd(o){const s=[],a=[];let u=1,h=2;for(;u<o.length;){let p=o[u];if("string"==typeof p)2===h?""!==p&&s.push(p,o[++u]):8===h&&a.push(p);else{if(!gr(h))break;h=p}u++}return{attrs:s,classes:a}}(s.selectors[0]);h&&fi(o,a,h),p&&p.length>0&&G1(o,a,p.join(" "))}}(ve,xi,_t,u),void 0!==a&&function JH(o,s,a){const u=o.projection=[];for(let h=0;h<s.length;h++){const p=a[h];u.push(null!=p?Array.from(p):null)}}(Or,this.ngContentSelectors,a),nr=function YH(o,s,a,u,h,p){const g=Mr(),E=h[y],T=Wi(g,h);KA(E,h,g,a,null,u);for(let F=0;F<a.length;F++)qo(hc(h,E,g.directiveStart+F,g),h);eN(E,h,g),T&&qo(T,h);const P=hc(h,E,g.directiveStart+g.componentOffset,g);if(o[ne]=h[ne]=P,null!==p)for(const F of p)F(P,s);return zA(E,g,h),P}(ZR,xi,vr,wd,In,[e4]),NE(Ct,In,null)}finally{A0()}return new eF(this.componentType,nr,_h(Or,In),In,Or)}finally{l(p)}}}class eF extends UN{constructor(s,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new kp(h,void 0,!1),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const p=this._rootLView;L_(p[y],p,h,s,a),this.previousInputValues.set(s,a),Pp(ds(this._tNode.index,p),1)}}get injector(){return new Ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function e4(){const o=Mr();Wc(bt()[y],o)}let rw=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=t4}return o})();function t4(){return sv(Mr(),bt())}const iw=rw,ov=class extends iw{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return _h(this._hostTNode,this._hostLView)}get injector(){return new Ki(this._hostTNode,this._hostLView)}get parentInjector(){const s=hh(this._hostTNode,this._hostLView);if(P0(s)){const a=fp(s,this._hostLView),u=hp(s);return new Ki(a[y].data[u+8],a)}return new Ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Xp(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-$r}createEmbeddedView(s,a,u){let h,p;"number"==typeof u?h=u:null!=u&&(h=u.index,p=u.injector);const g=Xu(this._lContainer,s.ssrId),E=s.createEmbeddedViewImpl(a||{},p,g);return this.insertImpl(E,h,Ku(this._hostTNode,g)),E}createComponent(s,a,u,h,p){const g=s&&!function Al(o){return"function"==typeof o}(s);let E;if(g)E=a;else{const Ze=a||{};E=Ze.index,u=Ze.injector,h=Ze.projectableNodes,p=Ze.environmentInjector||Ze.ngModuleRef}const T=g?s:new Vh(Vn(s)),P=u||this.parentInjector;if(!p&&null==T.ngModule){const _t=(g?P:this.parentInjector).get(Os,null);_t&&(p=_t)}const F=Vn(T.componentType??{}),G=Xu(this._lContainer,F?.id??null),ve=T.create(P,h,G?.firstChild??null,p);return this.insertImpl(ve.hostView,E,Ku(this._hostTNode,G)),ve}insert(s,a){return this.insertImpl(s,a,!0)}insertImpl(s,a,u){const h=s._lView;if(function tr(o){return kr(o[D])}(h)){const E=this.indexOf(s);if(-1!==E)this.detach(E);else{const T=h[D],P=new ov(T,T[k],T[D]);P.detach(P.indexOf(s))}}const p=this._adjustIndex(a),g=this._lContainer;return qu(g,h,p,u),s.attachToViewContainerRef(),qb(ow(g),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Xp(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=S_(this._lContainer,a);u&&(yg(ow(this._lContainer),a),bE(u[y],u))}detach(s){const a=this._adjustIndex(s,-1),u=S_(this._lContainer,a);return u&&null!=yg(ow(this._lContainer),a)?new kp(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function Xp(o){return o[8]}function ow(o){return o[8]||(o[8]=[])}function sv(o,s){let a;const u=s[o.index];return kr(u)?a=u:(a=RE(u,s,null,o),s[o.index]=a,Wu(s,a)),PS(a,s,o,u),new ov(a,o,s)}let PS=function rF(o,s,a,u){if(o[Wo])return;let h;h=8&a.type?cr(u):function n4(o,s){const a=o[ot],u=a.createComment(""),h=Wi(s,o);return Ll(a,x_(a,h),u,function U1(o,s){return o.nextSibling(s)}(a,h),!1),u}(s,a),o[Wo]=h},kS=()=>!1;class NS{constructor(s){this.queryList=s,this.matches=null}clone(){return new NS(this.queryList)}setDirty(){this.queryList.setDirty()}}class wn{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const g=a.getByIndex(p);h.push(this.queries[g.indexInDeclarationView].clone())}return new wn(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==zS(s,a).matches&&this.queries[a].setDirty()}}class FS{constructor(s,a,u=null){this.flags=a,this.read=u,this.predicate="string"==typeof s?function i4(o){return o.split(",").map(s=>s.trim())}(s):s}}class aw{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new aw(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class cw{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new cw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(s,a,oF(a,p)),this.matchTNodeWithReadOption(s,a,t_(a,s,p,!1,!1))}else u===Rh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,t_(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===co||h===rw||h===Rh&&4&a.type)this.addMatch(a.index,-2);else{const p=t_(a,s,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function oF(o,s){const a=o.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function LS(o,s,a,u){return-1===a?function Bh(o,s){return 11&o.type?_h(o,s):4&o.type?z_(o,s):null}(s,o):-2===a?function sF(o,s,a){return a===co?_h(s,o):a===Rh?z_(s,o):a===rw?sv(s,o):void 0}(o,s,u):hc(o,o[y],a,s)}function VS(o,s,a,u){const h=s[_r].queries[u];if(null===h.matches){const p=o.data,g=a.matches,E=[];for(let T=0;null!==g&&T<g.length;T+=2){const P=g[T];E.push(P<0?null:LS(s,p[P],g[T+1],a.metadata.read))}h.matches=E}return h.matches}function lw(o,s,a,u){const h=o.queries.getByIndex(a),p=h.matches;if(null!==p){const g=VS(o,s,h,a);for(let E=0;E<p.length;E+=2){const T=p[E];if(T>0)u.push(g[E/2]);else{const P=p[E+1],F=s[-T];for(let G=$r;G<F.length;G++){const de=F[G];de[xn]===de[D]&&lw(de[y],de,P,u)}if(null!==F[sc]){const G=F[sc];for(let de=0;de<G.length;de++){const ve=G[de];lw(ve[y],ve,P,u)}}}}}return u}function Yu(o,s){return o[_r].queries[s].queryList}function BS(o,s,a){const u=new G0(!(4&~a));return function EH(o,s,a,u){const h=Rp(s);h.push(a),o.firstCreatePass&&Op(o).push(u,h.length-1)}(o,s,u,u.destroy),(s[_r]??=new wn).queries.push(new NS(u))-1}function jS(o,s,a,u){const h=Gn();if(h.firstCreatePass){const p=Mr();$S(h,new FS(s,a,u),p.index),function HS(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(h,o),!(2&~a)&&(h.staticContentQueries=!0)}return BS(h,bt(),a)}function $S(o,s,a){null===o.queries&&(o.queries=new aw),o.queries.track(new cw(s,a))}function zS(o,s){return o.queries.getByIndex(s)}function aF(o,s){const a=o[y],u=zS(a,s);return u.crossesNgTemplate?lw(a,o,s,[]):VS(a,o,u,s)}function GS(o){return"function"==typeof o&&void 0!==o[x]}function cF(o,s){bo("NgSignals");const a=function se(o){const s=Object.create(Z);s.value=o;const a=()=>(Y(s),s.value);return a[x]=s,a}(o),u=a[x];return s?.equal&&(u.equal=s.equal),a.set=h=>U(u,h),a.update=h=>function $(o,s){ze()||fn(),U(o,s(o.value))}(u,h),a.asReadonly=WS.bind(a),a}function WS(){const o=this[x];if(void 0===o.readonlyFn){const s=()=>this();s[x]=o,o.readonlyFn=s}return o.readonlyFn}function dw(o,s){let a;const u=ue(()=>{a._dirtyCounter();const h=function o4(o,s){const a=o._lView,u=o._queryIndex;if(void 0===a||void 0===u||4&a[b])return s?void 0:rr;const h=Yu(a,u),p=aF(a,u);return h.reset(p,ZT),s?h.first:h._changesDetected||void 0===o._flatValue?o._flatValue=h.toArray():o._flatValue}(a,o);if(s&&void 0===h)throw new Qt(-951,!1);return h});return a=u[x],a._dirtyCounter=cF(0),a._flatValue=void 0,u}function dF(o,s){return function KS(){return dw(!0,!1)}()}const cv=(dF.required=function s4(o,s){return function av(){return dw(!0,!0)}()},dF);function dv(o){let s=function vF(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const u=[o];for(;s;){let h;if(yo(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Qt(903,!1);h=s.\u0275dir}if(h){if(a){u.push(h);const g=o;g.inputs=hv(o.inputs),g.inputTransforms=hv(o.inputTransforms),g.declaredInputs=hv(o.declaredInputs),g.outputs=hv(o.outputs);const E=h.hostBindings;E&&ZS(o,E);const T=h.viewQuery,P=h.contentQueries;if(T&&Qo(o,T),P&&EF(o,P),yF(o,h),Vf(o.outputs,h.outputs),yo(h)&&h.data.animation){const F=o.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let g=0;g<p.length;g++){const E=p[g];E&&E.ngInherit&&E(o),E===dv&&(a=!1)}}s=Object.getPrototypeOf(s)}!function bF(o){let s=0,a=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=s+=h.hostVars,h.hostAttrs=Un(h.hostAttrs,a=Un(a,h.hostAttrs))}}(u)}function yF(o,s){for(const a in s.inputs){if(!s.inputs.hasOwnProperty(a)||o.inputs.hasOwnProperty(a))continue;const u=s.inputs[a];if(void 0!==u&&(o.inputs[a]=u,o.declaredInputs[a]=s.declaredInputs[a],null!==s.inputTransforms)){const h=Array.isArray(u)?u[0]:u;if(!s.inputTransforms.hasOwnProperty(h))continue;o.inputTransforms??={},o.inputTransforms[h]=s.inputTransforms[h]}}}function hv(o){return o===oc?{}:o===rr?[]:o}function Qo(o,s){const a=o.viewQuery;o.viewQuery=a?(u,h)=>{s(u,h),a(u,h)}:s}function EF(o,s){const a=o.contentQueries;o.contentQueries=a?(u,h,p)=>{s(u,h,p),a(u,h,p)}:s}function ZS(o,s){const a=o.hostBindings;o.hostBindings=a?(u,h)=>{s(u,h),a(u,h)}:s}function ex(o){const s=a=>{const u=(Array.isArray(o)?o:o()).map(h=>"function"==typeof h?{directive:yn(h),inputs:oc,outputs:oc}:{directive:yn(h.directive),inputs:IF(h.inputs),outputs:IF(h.outputs)});null===a.hostDirectives?(a.findHostDirectiveDefs=gw,a.hostDirectives=u):a.hostDirectives.unshift(...u)};return s.ngInherit=!0,s}function gw(o,s,a){if(null!==o.hostDirectives)for(const u of o.hostDirectives){const h=Ei(u.directive);CF(h.declaredInputs,u.inputs),gw(h,s,a),a.set(h,u),s.push(h)}}function IF(o){if(void 0===o||0===o.length)return oc;const s={};for(let a=0;a<o.length;a+=2)s[o[a]]=o[a+1];return s}function CF(o,s){for(const a in s)s.hasOwnProperty(a)&&(o[s[a]]=o[a])}function nx(o){const s=o.inputConfig,a={};for(const u in s)if(s.hasOwnProperty(u)){const h=s[u];Array.isArray(h)&&h[3]&&(a[u]=h[3])}o.inputTransforms=a}class Zu{}class rx{}function _w(o,s){return new ix(o,s??null,[])}class ix extends Zu{constructor(s,a,u){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new iv(this);const h=Gi(s);this._bootstrapComponents=Ps(h.bootstrap),this._r3Injector=XT(s,a,[{provide:Zu,useValue:this},{provide:Gp,useValue:this.componentFactoryResolver},...u],Wr(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class ox extends rx{constructor(s){super(),this.moduleType=s}create(s){return new ix(this.moduleType,s,[])}}class sx extends Zu{constructor(s){super(),this.componentFactoryResolver=new iv(this),this.instance=null;const a=new Nu([...s.providers,{provide:Zu,useValue:this},{provide:Gp,useValue:this.componentFactoryResolver}],s.parent||qf(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function ax(o,s,a=null){return new sx({providers:o,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}function yw(o){return!!bw(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function bw(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ja(o,s,a){return o[s]=a}function Ti(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function Yl(o,s,a,u){const h=Ti(o,s,a);return Ti(o,s+1,u)||h}function tm(o,s,a,u,h,p,g,E,T,P){const F=a+un,G=s.firstCreatePass?function ww(o,s,a,u,h,p,g,E,T){const P=s.consts,F=Gu(s,o,4,g||null,E||null);ME(s,a,F,Ii(P,T)),Wc(s,F);const G=F.tView=Fr(2,F,u,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,P,null);return null!==s.queries&&(s.queries.template(s,F),G.queries=s.queries.embeddedTView(F)),F}(F,s,o,u,h,p,g,E,T):s.data[F];Ci(G,!1);const de=Cw(s,o,G,a);Ml()&&Ua(s,o,de,G),qo(de,o);const ve=RE(de,o,de,G);return o[F]=ve,Wu(o,ve),function nF(o,s,a){return kS(o,s,a)}(ve,G,o),Fg(G)&&GA(s,o,G),null!=T&&xE(o,G,P),G}function Iw(o,s,a,u,h,p,g,E){const T=bt(),P=Gn();return tm(T,P,o,s,a,u,h,Ii(P.consts,p),g,E),Iw}let Cw=function cx(o,s,a,u){return dc(!0),s[ot].createComment("")};function qn(o,s,a,u){const h=bt();return Ti(h,Ba(),s)&&(Gn(),vc(Nr(),h,o,s,a,u)),qn}function Wh(o,s,a,u){return Ti(o,Ba(),a)?s+qe(a)+u:Mn}function qh(o,s,a,u,h,p,g,E){const P=function Ew(o,s,a,u,h){const p=Yl(o,s,a,u);return Ti(o,s+2,h)||p}(o,lc(),a,h,g);return fs(3),P?s+qe(a)+u+qe(h)+p+qe(g)+E:Mn}function Tv(o,s){return o<<17|s<<2}function bc(o){return o>>17&32767}function Lw(o){return 2|o}function gs(o){return(131068&o)>>2}function dm(o,s){return-131069&o|s<<2}function Cx(o){return 1|o}function Tx(o,s,a,u){const h=o[a+1],p=null===s;let g=u?bc(h):gs(h),E=!1;for(;0!==g&&(!1===E||p);){const P=o[g+1];jF(o[g],s)&&(E=!0,o[g+1]=u?Cx(P):Lw(P)),g=u?bc(P):gs(P)}E&&(o[a+1]=u?Lw(h):Cx(h))}function jF(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&zd(o,s)>=0}const _i={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Av(o){return o.substring(_i.key,_i.keyEnd)}function Ax(o,s){const a=_i.textEnd;return a===s?-1:(s=_i.keyEnd=function zF(o,s,a){for(;s<a&&o.charCodeAt(s)>32;)s++;return s}(o,_i.key=s,a),Qh(o,s,a))}function Qh(o,s,a){for(;s<a&&o.charCodeAt(s)<=32;)s++;return s}function Bw(o,s,a){const u=bt();return Ti(u,Ba(),s)&&ps(Gn(),Nr(),u,o,s,u[ot],a,!1),Bw}function Uw(o,s,a,u,h){const g=h?"class":"style";L_(o,a,s.inputs[g],g,u)}function jw(o,s,a){return $a(o,s,a,!1),jw}function $w(o,s){return $a(o,s,null,!0),$w}function Ox(o){Ha(U4,wc,o,!0)}function wc(o,s){for(let a=function $F(o){return function xx(o){_i.key=0,_i.keyEnd=0,_i.value=0,_i.valueEnd=0,_i.textEnd=o.length}(o),Ax(o,Qh(o,0,_i.textEnd))}(s);a>=0;a=Ax(s,a))Rs(o,Av(s),!0)}function $a(o,s,a,u){const h=bt(),p=Gn(),g=fs(2);p.firstUpdatePass&&kx(p,o,g,u),s!==Mn&&Ti(h,g,s)&&fm(p,p.data[ao()],h,h[ot],o,h[g+1]=function _a(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=Wr(Nl(o)))),o}(s,a),u,g)}function Ha(o,s,a,u){const h=Gn(),p=fs(2);h.firstUpdatePass&&kx(h,null,p,u);const g=bt();if(a!==Mn&&Ti(g,p,a)){const E=h.data[ao()];if(ZF(E,u)&&!Px(h,p)){let T=u?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(a=bl(T,a||"")),Uw(h,E,g,a,u)}else!function Yh(o,s,a,u,h,p,g,E){h===Mn&&(h=rr);let T=0,P=0,F=0<h.length?h[0]:null,G=0<p.length?p[0]:null;for(;null!==F||null!==G;){const de=T<h.length?h[T+1]:void 0,ve=P<p.length?p[P+1]:void 0;let _t,Ze=null;F===G?(T+=2,P+=2,de!==ve&&(Ze=G,_t=ve)):null===G||null!==F&&F<G?(T+=2,Ze=F):(P+=2,Ze=G,_t=ve),null!==Ze&&fm(o,s,a,u,Ze,_t,g,E),F=T<h.length?h[T]:null,G=P<p.length?p[P]:null}}(h,E,g,g[ot],g[p+1],g[p+1]=function hm(o,s,a){if(null==a||""===a)return rr;const u=[],h=Nl(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)o(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&o(u,p,h[p]);else"string"==typeof h&&s(u,h);return u}(o,s,a),u,p)}}function Px(o,s){return s>=o.expandoStartIndex}function kx(o,s,a,u){const h=o.data;if(null===h[a+1]){const p=h[ao()],g=Px(o,a);ZF(p,u)&&null===s&&!g&&(s=!1),s=function qF(o,s,a,u){const h=function sp(o){const s=An.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let p=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(a=el(a=Jc(null,o,s,a,u),s.attrs,u),p=null);else{const g=s.directiveStylingLast;if(-1===g||o[g]!==h)if(a=Jc(h,o,s,a,u),null===p){let T=function XF(o,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==gs(u))return o[bc(u)]}(o,s,u);void 0!==T&&Array.isArray(T)&&(T=Jc(null,o,s,T[1],u),T=el(T,s.attrs,u),function Sv(o,s,a,u){o[bc(a?s.classBindings:s.styleBindings)]=u}(o,s,u,T))}else p=function QF(o,s,a){let u;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)u=el(u,o[p].hostAttrs,a);return el(u,s.attrs,a)}(o,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(h,p,s,u),function Vw(o,s,a,u,h,p){let g=p?s.classBindings:s.styleBindings,E=bc(g),T=gs(g);o[u]=a;let F,P=!1;if(Array.isArray(a)?(F=a[1],(null===F||zd(a,F)>0)&&(P=!0)):F=a,h)if(0!==T){const de=bc(o[E+1]);o[u+1]=Tv(de,E),0!==de&&(o[de+1]=dm(o[de+1],u)),o[E+1]=function BF(o,s){return 131071&o|s<<17}(o[E+1],u)}else o[u+1]=Tv(E,0),0!==E&&(o[E+1]=dm(o[E+1],u)),E=u;else o[u+1]=Tv(T,0),0===E?E=u:o[T+1]=dm(o[T+1],u),T=u;P&&(o[u+1]=Lw(o[u+1])),Tx(o,F,u,!0),Tx(o,F,u,!1),function Dx(o,s,a,u,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof s&&zd(p,s)>=0&&(a[u+1]=Cx(a[u+1]))}(s,F,o,u,p),g=Tv(E,T),p?s.classBindings=g:s.styleBindings=g}(h,p,s,a,g,u)}}function Jc(o,s,a,u,h){let p=null;const g=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<g&&(p=s[E],u=el(u,p.hostAttrs,h),p!==o);)E++;return null!==o&&(a.directiveStylingLast=E),u}function el(o,s,a){const u=a?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const g=s[p];"number"==typeof g?h=g:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Rs(o,g,!!a||s[++p]))}return void 0===o?null:o}function U4(o,s,a){const u=String(s);""!==u&&!u.includes(" ")&&Rs(o,u,a)}function fm(o,s,a,u,h,p,g,E){if(!(3&s.type))return;const T=o.data,P=T[E+1],F=function UF(o){return!(1&~o)}(P)?YF(T,s,a,h,gs(P),g):void 0;xv(F)||(xv(p)||function VF(o){return!(2&~o)}(P)&&(p=YF(T,null,a,h,E,g)),function z1(o,s,a,u,h){if(s)h?o.addClass(a,u):o.removeClass(a,u);else{let p=-1===u.indexOf("-")?void 0:D_.DashCase;null==h?o.removeStyle(a,u,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=D_.Important),o.setStyle(a,u,h,p))}}(u,g,oh(ao(),a),h,p))}function YF(o,s,a,u,h,p){const g=null===s;let E;for(;h>0;){const T=o[h],P=Array.isArray(T),F=P?T[1]:T,G=null===F;let de=a[h+1];de===Mn&&(de=G?rr:void 0);let ve=G?Yb(de,u):F===u?de:void 0;if(P&&!xv(ve)&&(ve=Yb(T,u)),xv(ve)&&(E=ve,g))return E;const Ze=o[h+1];h=g?bc(Ze):gs(Ze)}if(null!==s){let T=p?s.residualClasses:s.residualStyles;null!=T&&(E=Yb(T,u))}return E}function xv(o){return void 0!==o}function ZF(o,s){return!!(o.flags&(s?8:16))}function Nx(o,s,a){Ha(Rs,wc,Wh(bt(),o,s,a),!0)}class zw{destroy(s){}updateValue(s,a){}swap(s,a){const u=Math.min(s,a),h=Math.max(s,a),p=this.detach(h);if(h-u>1){const g=this.detach(u);this.attach(u,p),this.attach(h,g)}else this.attach(u,p)}move(s,a){this.attach(a,this.detach(s))}}function za(o,s,a,u,h){return o===a&&Object.is(s,u)?1:Object.is(h(o,s),h(a,u))?-1:0}function Gw(o,s,a,u){return!(void 0===s||!s.has(u)||(o.attach(a,s.get(u)),s.delete(u),0))}function Bx(o,s,a,u,h){if(Gw(o,s,u,a(u,h)))o.updateValue(u,h);else{const p=o.create(u,h);o.attach(u,p)}}function Jh(o,s,a,u){const h=new Set;for(let p=s;p<=a;p++)h.add(u(p,o.at(p)));return h}class Mv{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const a=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(a)?(this.kvMap.set(s,this._vMap.get(a)),this._vMap.delete(a)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,a){if(this.kvMap.has(s)){let u=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const h=this._vMap;for(;h.has(u);)u=h.get(u);h.set(u,a)}else this.kvMap.set(s,a)}forEach(s){for(let[a,u]of this.kvMap)if(s(u,a),void 0!==this._vMap){const h=this._vMap;for(;h.has(u);)u=h.get(u),s(u,a)}}}function Ww(o,s){bo("NgControlFlow");const a=bt(),u=Ba(),h=a[u]!==Mn?a[u]:-1,p=-1!==h?Ov(a,un+h):void 0;if(Ti(a,u,o)){const E=l(null);try{if(void 0!==p&&V_(p,0),-1!==o){const T=un+o,P=Ov(a,T),F=Qw(a[y],T),G=Xu(P,F.tView.ssrId);qu(P,Ul(a,F,s,{dehydratedView:G}),0,Ku(F,G))}}finally{l(E)}}else if(void 0!==p){const E=JA(p,0);void 0!==E&&(E[ne]=s)}}class tL{constructor(s,a,u){this.lContainer=s,this.$implicit=a,this.$index=u}get $count(){return this.lContainer.length-$r}}function Rv(o){return o}class Kw{constructor(s,a,u){this.hasEmptyBlock=s,this.trackByFn=a,this.liveCollection=u}}function qw(o,s,a,u,h,p,g,E,T,P,F,G,de){bo("NgControlFlow");const ve=bt(),Ze=Gn(),_t=void 0!==T,kt=bt(),$t=E?g.bind(kt[pn][ne]):g,Ct=new Kw(_t,$t);kt[un+o]=Ct,tm(ve,Ze,o+1,s,a,u,h,Ii(Ze.consts,p)),_t&&tm(ve,Ze,o+2,T,P,F,G,Ii(Ze.consts,de))}class nL extends zw{constructor(s,a,u){super(),this.lContainer=s,this.hostLView=a,this.templateTNode=u,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-$r}at(s){return this.getLView(s)[ne].$implicit}attach(s,a){const u=a[j];this.needsIndexUpdate||=s!==this.length,qu(this.lContainer,a,s,Ku(this.templateTNode,u))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function rL(o,s){return S_(o,s)}(this.lContainer,s)}create(s,a){const u=Xu(this.lContainer,this.templateTNode.tView.ssrId),h=Ul(this.hostLView,this.templateTNode,new tL(this.lContainer,a,s),{dehydratedView:u});return this.operationsCounter?.recordCreate(),h}destroy(s){bE(s[y],s),this.operationsCounter?.recordDestroy()}updateValue(s,a){this.getLView(s)[ne].$implicit=a}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[ne].$index=s}getLView(s){return function jx(o,s){return JA(o,s)}(this.lContainer,s)}}function Xw(o){const s=l(null),a=ao();try{const u=bt(),h=u[y],p=u[a],g=a+1,E=Ov(u,g);if(void 0===p.liveCollection){const P=Qw(h,g);p.liveCollection=new nL(E,u,P)}else p.liveCollection.reset();const T=p.liveCollection;if(function H4(o,s,a){let u,h,p=0,g=o.length-1;if(Array.isArray(s)){let T=s.length-1;for(;p<=g&&p<=T;){const P=o.at(p),F=s[p],G=za(p,P,p,F,a);if(0!==G){G<0&&o.updateValue(p,F),p++;continue}const de=o.at(g),ve=s[T],Ze=za(g,de,T,ve,a);if(0!==Ze){Ze<0&&o.updateValue(g,ve),g--,T--;continue}const _t=a(p,P),kt=a(g,de),$t=a(p,F);if(Object.is($t,kt)){const Ct=a(T,ve);Object.is(Ct,_t)?(o.swap(p,g),o.updateValue(g,ve),T--,g--):o.move(g,p),o.updateValue(p,F),p++}else if(u??=new Mv,h??=Jh(o,p,g,a),Gw(o,u,p,$t))o.updateValue(p,F),p++,g++;else if(h.has($t))u.set(_t,o.detach(p)),g--;else{const Ct=o.create(p,s[p]);o.attach(p,Ct),p++,g++}}for(;p<=T;)Bx(o,u,a,p,s[p]),p++}else if(null!=s){const T=s[Symbol.iterator]();let P=T.next();for(;!P.done&&p<=g;){const F=o.at(p),G=P.value,de=za(p,F,p,G,a);if(0!==de)de<0&&o.updateValue(p,G),p++,P=T.next();else{u??=new Mv,h??=Jh(o,p,g,a);const ve=a(p,G);if(Gw(o,u,p,ve))o.updateValue(p,G),p++,g++,P=T.next();else if(h.has(ve)){const Ze=a(p,F);u.set(Ze,o.detach(p)),g--}else o.attach(p,o.create(p,G)),p++,g++,P=T.next()}}for(;!P.done;)Bx(o,u,a,o.length,P.value),P=T.next()}for(;p<=g;)o.destroy(o.detach(g--));u?.forEach(T=>{o.destroy(T)})}(T,o,p.trackByFn),T.updateIndexes(),p.hasEmptyBlock){const P=Ba(),F=0===T.length;if(Ti(u,P,F)){const G=a+2,de=Ov(u,G);if(F){const ve=Qw(h,G),Ze=Xu(de,ve.tView.ssrId);qu(de,Ul(u,ve,void 0,{dehydratedView:Ze}),0,Ku(ve,Ze))}else V_(de,0)}}}finally{l(s)}}function Ov(o,s){return o[s]}function Qw(o,s){return Fu(o,s)}function Zw(o,s,a,u){const h=bt(),p=Gn(),g=un+o,E=h[ot],T=p.firstCreatePass?function Yw(o,s,a,u,h,p){const g=s.consts,T=Gu(s,o,2,u,Ii(g,h));return ME(s,a,T,Ii(g,p)),null!==T.attrs&&rv(T,T.attrs,!1),null!==T.mergedAttrs&&rv(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(g,p,h,s,a,u):p.data[g],P=iL(p,h,T,E,s,o);h[g]=P;const F=Fg(T);return Ci(T,!0),Sh(E,P,T),!function Uh(o){return!(32&~o.flags)}(T)&&Ml()&&Ua(p,h,P,T),0===function uk(){return An.lFrame.elementDepthCount}()&&qo(P,h),function dk(){An.lFrame.elementDepthCount++}(),F&&(GA(p,h,T),zA(p,T,h)),null!==u&&xE(h,T),Zw}function Jw(){let o=Mr();I0()?Bu():(o=o.parent,Ci(o,!1));const s=o;(function w0(o){return An.skipHydrationRootTNode===o})(s)&&function f$(){An.skipHydrationRootTNode=null}(),function hk(){An.lFrame.elementDepthCount--}();const a=Gn();return a.firstCreatePass&&(Wc(a,o),Cr(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function kT(o){return!!(8&o.flags)}(s)&&Uw(a,s,bt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Qg(o){return!!(16&o.flags)}(s)&&Uw(a,s,bt(),s.stylesWithoutHost,!1),Jw}function $x(o,s,a,u){return Zw(o,s,a,u),Jw(),$x}let iL=(o,s,a,u,h,p)=>(dc(!0),A_(u,h,function OT(){return An.lFrame.currentNamespace}()));function pm(){return bt()}function Oo(o,s,a){const u=bt();return Ti(u,Ba(),s)&&ps(Gn(),Nr(),u,o,s,u[ot],a,!0),Oo}const tl=void 0;var ef=["en",[["a","p"],["AM","PM"],tl],[["AM","PM"],tl,tl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tl,"{1} 'at' {0}",tl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lo(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let ru={};function ya(o){const s=function cL(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=kv(s);if(a)return a;const u=s.split("-")[0];if(a=kv(u),a)return a;if("en"===u)return ef;throw new Qt(701,!1)}function tf(o){return ya(o)[nf.PluralCase]}function kv(o){return o in ru||(ru[o]=Ar.ng&&Ar.ng.common&&Ar.ng.common.locales&&Ar.ng.common.locales[o]),ru[o]}var nf=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(nf||{});const sd="en-US";let Fv=sd;let pM=(o,s,a)=>{};function yI(o,s,a,u){const h=bt(),p=Gn(),g=Mr();return function oi(o,s,a,u,h,p,g){const E=Fg(u),P=o.firstCreatePass&&Op(o),F=s[ne],G=Rp(s);let de=!0;if(3&u.type||g){const _t=Wi(u,s),kt=g?g(_t):_t,$t=G.length,Ct=g?nr=>g(cr(nr[u.index])):u.index;let In=null;if(!g&&E&&(In=function yL(o,s,a,u){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const g=h[p];if(g===a&&h[p+1]===u){const E=s[te],T=h[p+2];return E.length>T?E[T]:null}"string"==typeof g&&(p+=2)}return null}(o,s,h,u.index)),null!==In)(In.__ngLastListenerFn__||In).__ngNextListenerFn__=p,In.__ngLastListenerFn__=p,de=!1;else{p=lf(u,s,F,p),pM(_t,h,p);const nr=a.listen(kt,h,p);G.push(p,nr),P&&P.push(h,Ct,$t,$t+1)}}else p=lf(u,s,F,p);const ve=u.outputs;let Ze;if(de&&null!==ve&&(Ze=ve[h])){const _t=Ze.length;if(_t)for(let kt=0;kt<_t;kt+=2){const Or=s[Ze[kt]][Ze[kt+1]].subscribe(p),xi=G.length;G.push(p,Or),P&&P.push(h,u.index,xi,-(xi+1))}}}(p,h,h[ot],g,o,s,u),yI}function bI(o,s,a,u){const h=l(null);try{return ac(6,s,a),!1!==a(u)}catch(p){return F_(o,p),!1}finally{ac(7,s,a),l(h)}}function lf(o,s,a,u){return function h(p){if(p===Function)return u;Pp(o.componentOffset>-1?ds(o.index,s):s,5);let E=bI(s,a,u,p),T=h.__ngNextListenerFn__;for(;T;)E=bI(s,a,T,p)&&E,T=T.__ngNextListenerFn__;return E}}function Uv(o=1){return function S0(o){return(An.lFrame.contextLView=function hs(o,s){for(;o>0;)s=s[Jt],o--;return s}(o,An.lFrame.contextLView))[ne]}(o)}function bL(o,s){let a=null;const u=function ZD(o){const s=o.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(o);for(let h=0;h<s.length;h++){const p=s[h];if("*"!==p){if(null===u?Jb(o,p,!0):e0(u,p))return h}else a=h}return a}function gM(o){const s=bt()[pn][k];if(!s.projection){const u=s.projection=function $f(o,s){const a=[];for(let u=0;u<o;u++)a.push(s);return a}(o?o.length:1,null),h=u.slice();let p=s.child;for(;null!==p;){if(128!==p.type){const g=o?bL(p,o):0;null!==g&&(h[g]?h[g].projectionNext=p:u[g]=p,h[g]=p)}p=p.next}}}function _M(o,s=0,a,u,h,p){const g=bt(),E=Gn(),T=u?o+1:null;null!==T&&tm(g,E,T,u,h,p,null,a);const P=Gu(E,un+o,16,null,a||null);null===P.projection&&(P.projection=s),Bu();const G=!g[j]||xl();null===g[pn][k].projection[P.projection]&&null!==T?function vM(o,s,a){const u=un+a,h=s.data[u],p=o[u],g=Xu(p,h.tView.ssrId);qu(p,Ul(o,h,void 0,{dehydratedView:g}),0,Ku(h,g))}(g,E,T):G&&32&~P.flags&&function $1(o,s,a){jA(s[ot],0,s,a,IE(o,a,s),UA(a.parent||s[k],a,s))}(E,g,P)}function wM(o,s,a,u){jS(o,s,a,u)}function IM(o,s,a){!function US(o,s,a){const u=Gn();return u.firstCreatePass&&($S(u,new FS(o,s,a),-1),!(2&~s)&&(u.staticViewQueries=!0)),BS(u,bt(),s)}(o,s,a)}function CI(o){const s=bt(),a=Gn(),u=ap();cp(u+1);const h=zS(a,u);if(o.dirty&&function ET(o){return!(4&~o[b])}(s)===!(2&~h.metadata.flags)){if(null===h.matches)o.reset([]);else{const p=aF(s,u);o.reset(p,ZT),o.notifyOnChanges()}return!0}return!1}function CM(){return Yu(bt(),ap())}function DI(o,s,a,u,h){!function uF(o,s){const a=o[x];a._lView=bt(),a._queryIndex=s,a._queryList=Yu(a._lView,s),a._queryList.onDirty(()=>a._dirtyCounter.update(u=>u+1))}(s,jS(o,a,u,h))}function df(o=1){cp(ap()+o)}function Gv(o){return Lu(function TT(){return An.lFrame.contextLView}(),un+o)}function xM(o,s=""){const a=bt(),u=Gn(),h=o+un,p=u.firstCreatePass?Gu(u,h,1,s,null):u.data[h],g=Zv(u,a,p,s,o);a[h]=g,Ml()&&Ua(u,a,g,p),Ci(p,!1)}let Zv=(o,s,a,u,h)=>(dc(!0),function _E(o,s){return o.createText(s)}(s[ot],u));function ld(o){return ba("",o,""),ld}function ba(o,s,a){const u=bt(),h=Wh(u,o,s,a);return h!==Mn&&Bl(u,ao(),h),ba}function _m(o,s,a,u,h){const p=bt(),g=function Kh(o,s,a,u,h,p){const E=Yl(o,lc(),a,h);return fs(2),E?s+qe(a)+u+qe(h)+p:Mn}(p,o,s,a,u,h);return g!==Mn&&Bl(p,ao(),g),_m}function RI(o,s,a,u,h,p,g){const E=bt(),T=qh(E,o,s,a,u,h,p,g);return T!==Mn&&Bl(E,ao(),T),RI}function kM(o,s,a,u,h){if(o=yn(o),Array.isArray(o))for(let p=0;p<o.length;p++)kM(o[p],s,a,u,h);else{const p=Gn(),g=bt(),E=Mr();let T=la(o)?o:yn(o.provide);const P=Rg(o),F=1048575&E.providerIndexes,G=E.directiveStart,de=E.providerIndexes>>20;if(la(o)||!o.multi){const ve=new up(P,h,xh),Ze=iy(T,s,h?F:F+de,G);-1===Ze?(F0(e_(E,g),p,T),ry(p,o,s.length),s.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),a.push(ve),g.push(ve)):(a[Ze]=ve,g[Ze]=ve)}else{const ve=iy(T,s,F+de,G),Ze=iy(T,s,F,F+de),kt=Ze>=0&&a[Ze];if(h&&!kt||!h&&!(ve>=0&&a[ve])){F0(e_(E,g),p,T);const $t=function J4(o,s,a,u,h){const p=new up(o,a,xh);return p.multi=[],p.index=s,p.componentProviders=0,Cc(p,h,u&&!a),p}(h?Z4:oy,a.length,h,u,P);!h&&kt&&(a[Ze].providerFactory=$t),ry(p,o,s.length,0),s.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),a.push($t),g.push($t)}else ry(p,o,ve>-1?ve:Ze,Cc(a[h?Ze:ve],P,!h&&u));!h&&u&&kt&&a[Ze].componentProviders++}}}function ry(o,s,a,u){const h=la(s),p=function a0(o){return!!o.useClass}(s);if(h||p){const T=(p?yn(s.useClass):s).prototype.ngOnDestroy;if(T){const P=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const F=P.indexOf(a);-1===F?P.push(a,[u,T]):P[F+1].push(u,T)}else P.push(a,T)}}}function Cc(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function iy(o,s,a,u){for(let h=a;h<u;h++)if(s[h]===o)return h;return-1}function oy(o,s,a,u){return ym(this.multi,[])}function Z4(o,s,a,u){const h=this.multi;let p;if(this.providerFactory){const g=this.providerFactory.componentProviders,E=hc(a,a[y],this.providerFactory.index,u);p=E.slice(0,g),ym(h,p);for(let T=g;T<E.length;T++)p.push(E[T])}else p=[],ym(h,p);return p}function ym(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function NM(o,s=[]){return a=>{a.providersResolver=(u,h)=>function vm(o,s,a){const u=Gn();if(u.firstCreatePass){const h=yo(o);kM(a,u.data,u.blueprint,h,!0),kM(s,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,s)}}let bm=(()=>{class o{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=Ag(0,a.type),h=u.length>0?ax([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Kn({token:o,providedIn:"environment",factory:()=>new o(vo(Os))})}return o})();function FM(o){bo("NgStandalone"),o.getStandaloneInjector=s=>s.get(bm).getOrCreateStandaloneInjector(o)}function wm(o,s,a){const u=Ni()+o,h=bt();return h[u]===Mn?ja(h,u,a?s.call(a):s()):function em(o,s){return o[s]}(h,u)}function PI(o,s,a,u){return BI(bt(),Ni(),o,s,a,u)}function kI(o,s,a,u,h){return function ly(o,s,a,u,h,p,g){const E=s+a;return Yl(o,E,h,p)?ja(o,E+2,g?u.call(g,h,p):u(h,p)):dd(o,E+2)}(bt(),Ni(),o,s,a,u,h)}function dd(o,s){const a=o[s];return a===Mn?void 0:a}function BI(o,s,a,u,h,p){const g=s+a;return Ti(o,g,h)?ja(o,g+1,p?u.call(p,h):u(h)):dd(o,g+1)}function hy(o,s){const a=Gn();let u;const h=o+un;a.firstCreatePass?(u=function OL(o,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(o===u.name)return u}}(s,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks??=[]).push(h,u.onDestroy)):u=a.data[h];const p=u.factory||(u.factory=Ru(u.type)),E=En(xh);try{const T=Yg(!1),P=p();return Yg(T),function zv(o,s,a,u){a>=o.data.length&&(o.data[a]=null,o.blueprint[a]=null),s[a]=u}(a,bt(),h,P),P}finally{En(E)}}function fy(o,s,a){const u=o+un,h=bt(),p=Lu(h,u);return function hd(o,s){return o[y].data[s].pure}(h,u)?BI(h,Ni(),s,p.transform,a,p):p.transform(a)}function Cm(o,s){return z_(o,s)}class my{constructor(s){this.full=s;const a=s.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}let YM=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const yy=new Tn(""),aC=new Tn("");let by,cC=(()=>{class o{constructor(a,u,h){this._ngZone=a,this.registry=u,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,by||(function lC(o){by=o}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==p),a()},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}static#e=this.\u0275fac=function(u){return new(u||o)(vo(Hr),vo(iR),vo(aC))};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac})}return o})(),iR=(()=>{class o{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return by?.findTestabilityInTree(this,a,u)??null}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function uC(o){return!!o&&"function"==typeof o.then}function oR(o){return!!o&&"function"==typeof o.subscribe}const JL=new Tn("");let dC=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u}),this.appInits=sn(JL,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const p=h();if(uC(p))a.push(p);else if(oR(p)){const g=new Promise((E,T)=>{p.subscribe({complete:E,error:T})});a.push(g)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Ey=new Tn("");let Ga=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=sn(mp),this.afterRenderEffectManager=sn(tw),this.zonelessEnabled=sn(Fh),this.externalTestViews=new Set,this.beforeRender=new Ut.B,this.afterTick=new Ut.B,this.componentTypes=[],this.components=[],this.isStable=sn(ju).hasPendingTasks.pipe((0,on.T)(a=>!a)),this._injector=sn(Os)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof jN;if(!this._injector.get(dC).done)throw!h&&La(a),new Qt(405,!1);let g;g=h?a:this._injector.get(Gp).resolveComponentFactory(a),this.componentTypes.push(g.componentType);const E=function eV(o){return o.isBoundToModule}(g)?void 0:this._injector.get(Zu),P=g.create(Fi.NULL,[],u||g.selector,E),F=P.location.nativeElement,G=P.injector.get(yy,null);return G?.registerApplication(F),P.onDestroy(()=>{this.detachView(P.hostView),gf(this.components,P),G?.unregisterApplication(F)}),this._loadComponent(P),P}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new Qt(101,!1);const u=l(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1,l(u),this.afterTick.next()}}detectChangesInAttachedViews(a){let u=null;this._injector.destroyed||(u=this._injector.get(QE,null,{optional:!0}));let h=0;const p=this.afterRenderEffectManager;for(;h<10;){const g=0===h;if(a||!g){this.beforeRender.next(g);for(let{_lView:E,notifyErrorHandler:T}of this._views)tV(E,T,g,this.zonelessEnabled)}else u?.begin?.(),u?.end?.();if(h++,p.executeInternalCallbacks(),!this.allViews.some(({_lView:E})=>Sl(E))&&(p.execute(),!this.allViews.some(({_lView:E})=>Sl(E))))break}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;gf(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(Ey,[]);[...this._bootstrapListeners,...u].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>gf(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Qt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function gf(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}function tV(o,s,a,u){(a||Sl(o))&&FE(o,s,a&&!u?0:1)}class nV{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let uR=(()=>{class o{compileModuleSync(a){return new ox(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=Ps(Gi(a).declarations).reduce((g,E)=>{const T=Vn(E);return T&&g.push(new Vh(T)),g},[]);return new nV(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),y3=(()=>{class o{constructor(){this.zone=sn(Hr),this.changeDetectionScheduler=sn(Gl),this.applicationRef=sn(Ga)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function dR({ngZoneFactory:o,ignoreChangesOutsideZone:s}){return o??=()=>new Hr(function xm(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}()),[{provide:Hr,useFactory:o},{provide:Fa,multi:!0,useFactory:()=>{const a=sn(y3,{optional:!0});return()=>a.initialize()}},{provide:Fa,multi:!0,useFactory:()=>{const a=sn(pC);return()=>{a.initialize()}}},{provide:mp,useFactory:fC},!0===s?{provide:zp,useValue:!0}:[]]}function fC(){const o=sn(Hr),s=sn(da);return a=>o.runOutsideAngular(()=>s.handleError(a))}let pC=(()=>{class o{constructor(){this.subscription=new nn.yU,this.initialized=!1,this.zone=sn(Hr),this.pendingTasks=sn(ju)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Hr.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Hr.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Wa=(()=>{class o{constructor(){this.appRef=sn(Ga),this.taskService=sn(ju),this.ngZone=sn(Hr),this.zonelessEnabled=sn(Fh),this.disableScheduling=sn(zp,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new nn.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ZE||!this.zoneIsDefined)}notify(a){if(!this.zonelessEnabled&&5===a)return;switch(a){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const u=this.useMicrotaskScheduler?Kp:Wp;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Hr.isInAngularZone())}tick(a){if(this.runningTick||this.appRef.destroyed)return;const u=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(a)},void 0,this.schedulerTickApplyArgs)}catch(h){throw this.taskService.remove(u),h}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Kp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(u)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Kn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Ay=new Tn("",{providedIn:"root",factory:()=>sn(Ay,yt.Optional|yt.SkipSelf)||function oV(){return typeof $localize<"u"&&$localize.locale||sd}()}),sV=new Tn("",{providedIn:"root",factory:()=>"USD"}),mC=new Tn("");let pd=null;function dV(){return!1}let Oy=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=w3}return o})();function w3(o){return function pV(o,s,a){if(Va(o)&&!a){const u=ds(o.index,s);return new kp(u,u)}return 175&o.type?new kp(s[pn],s):null}(Mr(),bt(),!(16&~o))}class CR{constructor(){}supports(s){return yw(s)}create(s){return new DR(s)}}const gV=(o,s)=>s;class DR{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||gV}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const g=!u||a&&a.currentIndex<AR(u,h,p)?a:u,E=AR(g,h,p),T=g.currentIndex;if(g===u)h--,u=u._nextRemoved;else if(a=a._next,null==g.previousIndex)h++;else{p||(p=[]);const P=E-h,F=T-h;if(P!=F){for(let de=0;de<P;de++){const ve=de<p.length?p[de]:p[de]=0,Ze=ve+de;F<=Ze&&Ze<P&&(p[de]=ve+1)}p[g.previousIndex]=F-P}}E!==T&&s(g,E,T)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!yw(s))throw new Qt(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,g,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)p=s[E],g=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,g)?(u&&(a=this._verifyReinsertion(a,p,g,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,g,E),u=!0),a=a._next}else h=0,function TF(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[Symbol.iterator]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,E=>{g=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,g)?(u&&(a=this._verifyReinsertion(a,E,g,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,g,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,h)):s=this._addAfter(new _V(a,u),p,h),s}_verifyReinsertion(s,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new TR),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new TR),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class _V{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Vy{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class TR{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new Vy,this.map.set(a,u)),u.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function AR(o,s,a){const u=o.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+s+h}class SR{constructor(){}supports(s){return s instanceof Map||bw(s)}create(){return new vV}}class vV{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||bw(s)))throw new Qt(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const p=h._prev,g=h._next;return p&&(p._next=g),g&&(g._prev=p),h._next=null,h._prev=null,h}const u=new yV(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class yV{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xR(){return new vC([new CR])}let vC=(()=>{class o{static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:xR});constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||xR()),deps:[[o,new vg,new jf]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Qt(901,!1)}}return o})();function By(){return new yC([new SR])}let yC=(()=>{class o{static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:By});constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||By()),deps:[[o,new vg,new jf]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Qt(901,!1)}}return o})();function Ls(o){try{const{rootComponent:s,appProviders:a,platformProviders:u}=o,h=function uV(o=[]){if(pd)return pd;const s=function My(o=[],s){return Fi.create({name:s,providers:[{provide:Sg,useValue:"platform"},{provide:mC,useValue:new Set([()=>pd=null])},...o]})}(o);return pd=s,function sR(){!function On(o){en=o}(()=>{throw new Qt(600,!1)})}(),function Ry(o){o.get(h_,null)?.forEach(a=>a())}(s),s}(u),p=[dR({}),{provide:Gl,useExisting:Wa},...a||[]],E=new sx({providers:p,parent:h,debugName:"",runEnvironmentInitializers:!1}).injector,T=E.get(Hr);return T.run(()=>{E.resolveInjectorInitializers();const P=E.get(da,null);let F;T.runOutsideAngular(()=>{F=T.onError.subscribe({next:ve=>{P.handleError(ve)}})});const G=()=>E.destroy(),de=h.get(mC);return de.add(G),E.onDestroy(()=>{F.unsubscribe(),de.delete(G)}),function aR(o,s,a){try{const u=a();return uC(u)?u.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(P,T,()=>{const ve=E.get(dC);return ve.runInitializers(),ve.donePromise.then(()=>{!function rI(o){"string"==typeof o&&(Fv=o.toLowerCase().replace(/_/g,"-"))}(E.get(Ay,sd)||sd);const _t=E.get(Ga);return void 0!==s&&_t.bootstrap(s),_t})})})}catch(s){return Promise.reject(s)}}const Mt=new Tn("");function Xy(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function Dc(o,s=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?s:Number(o)}function Bs(o,s){bo("NgSignals");const a=ue(o);return s?.equal&&(a[x].equal=s.equal),a}function Fm(o){const s=l(null);try{return o()}finally{l(s)}}const Lm=new Tn("",{providedIn:"root",factory:()=>sn(QR)});let QR=(()=>{class o{static#e=this.\u0275prov=Kn({token:o,providedIn:"root",factory:()=>new ko})}return o})();class ko{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=sn(ju),this.taskId=null}scheduleEffect(s){if(this.enqueue(s),null===this.taskId){const a=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(a),this.taskId=null})}}enqueue(s){const a=s.creationZone;this.queues.has(a)||this.queues.set(a,new Set);const u=this.queues.get(a);u.has(s)||(this.queuedEffectCount++,u.add(s))}flush(){for(;this.queuedEffectCount>0;)for(const[s,a]of this.queues)null===s?this.flushQueue(a):s.run(()=>this.flushQueue(a))}flushQueue(s){for(const a of s)s.delete(a),this.queuedEffectCount--,a.run()}}class UV{constructor(s,a,u,h,p,g){this.scheduler=s,this.effectFn=a,this.creationZone=u,this.injector=p,this.watcher=function ce(o,s,a){const u=Object.create(It);a&&(u.consumerAllowSignalWrites=!0),u.fn=o,u.schedule=s;const h=T=>{u.cleanupFn=T};return u.ref={notify:()=>Re(u),run:()=>{if(null===u.fn)return;if(function ut(){return me}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(u.dirty=!1,u.hasRun&&!Fe(u))return;u.hasRun=!0;const T=Pe(u);try{u.cleanupFn(),u.cleanupFn=Te,u.fn(h)}finally{ge(u,T)}},cleanup:()=>u.cleanupFn(),destroy:()=>function g(T){(function p(T){return null===T.fn&&null===T.schedule})(T)||(xe(T),T.cleanupFn(),T.fn=null,T.schedule=null,T.cleanupFn=Te)}(u),[x]:u},u.ref}(E=>this.runEffect(E),()=>this.schedule(),g),this.unregisterOnDestroy=h?.onDestroy(()=>this.destroy())}runEffect(s){try{this.effectFn(s)}catch(a){this.injector.get(da,null,{optional:!0})?.handleError(a)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function RC(o,s){bo("NgSignals"),!s?.injector&&Qf();const a=s?.injector??sn(Fi),u=!0!==s?.manualCleanup?a.get(gp):null,h=new UV(a.get(Lm),o,typeof Zone>"u"?null:Zone.current,u,a,s?.allowSignalWrites??!1),p=a.get(Oy,null,{optional:!0});return p&&8&p._lView[b]?(p._lView[so]??=[]).push(h.watcher.notify):h.watcher.notify(),h}function YR(o){const s=Vn(o);if(!s)return null;const a=new Vh(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},9556:(Bt,et,O)=>{"use strict";O.d(et,{p4:()=>J});class J{ttl;map=new Map;_to=!1;constructor(x){this.ttl=x}has(x){return this.map.has(x)}add(x){this.map.set(x,me()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,function re(ae){const x=me()-ae.ttl,l=ae.map[Symbol.iterator]();for(;;){const De=l.next().value;if(!De)return;if(!(De[1]<x))return;ae.map.delete(De[0])}}(this)},0))}clear(){this.map.clear()}}function me(){return Date.now()}},9825:(Bt,et,O)=>{"use strict";O.d(et,{K:()=>De,X:()=>Be});var J=O(6126),re=O(5520),me=O(9403),ae=O(6434),x=O(6568),l=O(3896),De=function(){function oe(Re,Pe,ge){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry="function"==typeof FinalizationRegistry?new FinalizationRegistry(Fe=>{var xe=Fe.docId,Ae=this.cacheItemByDocId.get(xe);Ae&&(Ae[0].delete(Fe.revisionHeight),0===Ae[0].size&&this.cacheItemByDocId.delete(xe))}):void 0,this.primaryPath=Re,this.changes$=Pe,this.documentCreator=ge,Pe.subscribe(Fe=>{this.tasks.add(()=>{for(var xe=this.cacheItemByDocId,Ae=0;Ae<Fe.length;Ae++){var We=Fe[Ae],Ie=xe.get(We.documentId);if(Ie){var st=We.documentData;st||(st=We.previousDocumentData),Ie[1]=st}}}),this.tasks.size<=1&&(0,re.vN)().then(()=>{this.processTasks()})})}var ze=oe.prototype;return ze.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(ge=>ge()),this.tasks.clear())},ze.getLatestDocumentData=function(Pe){return this.processTasks(),(0,me.m)(this.cacheItemByDocId,Pe)[1]},ze.getLatestDocumentDataIfExists=function(Pe){this.processTasks();var ge=this.cacheItemByDocId.get(Pe);if(ge)return ge[1]},(0,J.A)(oe,[{key:"getCachedRxDocuments",get:function(){var Re=ut(this);return(0,ae.Ns)(this,"getCachedRxDocuments",Re)}},{key:"getCachedRxDocument",get:function(){var Re=ut(this);return(0,ae.Ns)(this,"getCachedRxDocument",Pe=>Re([Pe])[0])}}])}();function ut(oe){var ze=oe.primaryPath,Re=oe.cacheItemByDocId,Pe=oe.registry,ge=l.h.deepFreezeWhenDevMode,Fe=oe.documentCreator;return Ae=>{for(var We=new Array(Ae.length),Ie=[],st=0;st<Ae.length;st++){var Qe=Ae[st],_e=Qe[ze],ue=(0,x.Wg)(Qe._rev),Q=void 0,mt=void 0,Dt=Re.get(_e);Dt?mt=(Q=Dt[0]).get(ue):Re.set(_e,Dt=[Q=new Map,Qe]);var At=mt?mt.deref():void 0;At||(Qe=ge(Qe),At=Fe(Qe),Q.set(ue,Y(At)),Pe&&Ie.push(At)),We[st]=At}return Ie.length>0&&Pe&&(oe.tasks.add(()=>{for(var ln=0;ln<Ie.length;ln++){var en=Ie[ln];Pe.register(en,{docId:en.primary,revisionHeight:(0,x.Wg)(en.revision)})}}),oe.tasks.size<=1&&(0,re.vN)().then(()=>{oe.processTasks()})),We}}function Be(oe,ze){return(0,oe.getCachedRxDocuments)(ze)}var Y="function"==typeof WeakRef?function Me(oe){return new WeakRef(oe)}:function Ne(oe){return{deref:()=>oe}}},2284:(Bt,et,O)=>{"use strict";O.d(et,{FX:()=>me,Xi:()=>re,r:()=>J});var J={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function re(x,l){J[x].length>0&&J[x].forEach(De=>De(l))}function me(x,l){return Promise.all(J[x].map(De=>De(l)))}},6706:(Bt,et,O)=>{"use strict";O.d(et,{Hl:()=>Ue,N6:()=>Be});var J=O(467),re=O(7650),me=O(9403),ae=O(8663),x=O(6434),l=O(2060),De=O(6568),ut=O(6893),Be=function(){function Me(oe,ze,Re,Pe){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=oe,this.primaryPath=ze,this.preWrite=Re,this.postWrite=Pe}var Ne=Me.prototype;return Ne.addWrite=function(ze,Re){var ge=(0,me.q)(this.queueByDocId,ze[this.primaryPath],()=>[]);return new Promise((xe,Ae)=>{var We={lastKnownDocumentState:ze,modifier:Re,resolve:xe,reject:Ae};(0,ae.ZN)(ge).push(We),this.triggerRun()})},Ne.triggerRun=function(){var oe=(0,J.A)(function*(){var Re=this;if(!0!==this.isRunning&&0!==this.queueByDocId.size){this.isRunning=!0;var Pe=[],ge=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(ge.entries()).map(function(){var xe=(0,J.A)(function*([Ae,We]){var Ie=function Y(Me){var Ne=Me[0],oe=(0,De.Wg)(Ne._rev);return Me.forEach(ze=>{var Re=(0,De.Wg)(ze._rev);Re>oe&&(Ne=ze,oe=Re)}),Ne}(We.map(_e=>_e.lastKnownDocumentState)),st=Ie;for(var Qe of We)try{st=yield Qe.modifier((0,x.o8)(st))}catch(_e){Qe.reject(_e),Qe.reject=()=>{},Qe.resolve=()=>{}}try{yield Re.preWrite(st,Ie)}catch(_e){return void We.forEach(ue=>ue.reject(_e))}Pe.push({previous:Ie,document:st})});return function(Ae){return xe.apply(this,arguments)}}()));var Fe=Pe.length>0?yield this.storageInstance.bulkWrite(Pe,"incremental-write"):{error:[]};return yield Promise.all((0,ut.YN)(this.primaryPath,Pe,Fe).map(xe=>{var Ae=xe[this.primaryPath];this.postWrite(xe),(0,me.m)(ge,Ae).forEach(Ie=>Ie.resolve(xe))})),Fe.error.forEach(xe=>{var Ae=xe.documentId,We=(0,me.m)(ge,Ae),Ie=(0,re.sX)(xe);if(Ie){var st=(0,me.q)(this.queueByDocId,Ae,()=>[]);We.reverse().forEach(_e=>{_e.lastKnownDocumentState=(0,ae.ZN)(Ie.documentInDb),(0,ae.ZN)(st).unshift(_e)})}else{var Qe=(0,re.cg)(xe);We.forEach(_e=>_e.reject(Qe))}}),this.isRunning=!1,this.triggerRun()}});return function ze(){return oe.apply(this,arguments)}}(),Me}();function Ue(Me){var Ne=function(){var oe=(0,J.A)(function*(ze){var Re=(0,l.Xz)(ze);Re._deleted=ze._deleted;var Pe=yield Me(Re),ge=Object.assign({},Pe,{_meta:ze._meta,_attachments:ze._attachments,_rev:ze._rev,_deleted:typeof Pe._deleted<"u"?Pe._deleted:ze._deleted});return typeof ge._deleted>"u"&&(ge._deleted=!1),ge});return function(Re){return oe.apply(this,arguments)}}();return Ne}},3896:(Bt,et,O)=>{"use strict";O.d(et,{h:()=>J});var J={isDevMode:()=>!1,deepFreezeWhenDevMode:re=>re,tunnelErrorMessage:re=>"RxDB Error-Code "+re+".\n        Error messages are not included in RxDB core to reduce build size.\n        "}},7176:(Bt,et,O)=>{"use strict";O.d(et,{$r:()=>x,Aj:()=>l,Hb:()=>Re,S7:()=>Ue,Sd:()=>Y,dG:()=>re,j7:()=>Me,jw:()=>Pe,k_:()=>ut});var J=O(467);function re(ge){return ge[ge.length-1]}function x(ge){return Array.isArray(ge)?ge.slice(0):[ge]}function l(ge,Fe){ge=ge.slice(0);for(var xe=[];ge.length;){var Ae=ge.splice(0,Fe);xe.push(Ae)}return xe}function ut(ge){return Array.isArray(ge)}function Ue(ge){return null!=ge}function Y(ge,Fe){var xe=0,Ae=-1;for(var We of ge){if(!Fe(We,Ae+=1))break;xe+=1}return xe}function Me(ge,Fe){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,J.A)(function*(ge,Fe){var xe=yield Promise.all(ge.map(Fe));return ge.filter((...[,Ae])=>xe[Ae])})).apply(this,arguments)}function Re(ge,Fe){var xe=Fe.length;if(0!==xe){var Ae=ge.length;ge.length=Ae+Fe.length;for(var We=0;We<xe;++We)ge[Ae+We]=Fe[We]}}function Pe(ge){return ge.filter(function(Fe,xe,Ae){return Ae.indexOf(Fe)===xe})}},2060:(Bt,et,O)=>{"use strict";O.d(et,{Fq:()=>me,MC:()=>J,Xz:()=>ae,YL:()=>x,o4:()=>re});var J=1;function re(){return{lwt:J}}function me(){return""}function ae(Be){return Object.assign({},Be,{_meta:void 0,_deleted:void 0,_rev:void 0})}function x(Be,Ue,Y){if(Ue.length!==Y.length)return!1;for(var Me=0,Ne=Ue.length;Me<Ne;){var oe=Ue[Me],ze=Y[Me];if(Me++,oe._rev!==ze._rev||oe[Be]!==ze[Be])return!1}return!0}},203:(Bt,et,O)=>{"use strict";O.d(et,{S:()=>me,u:()=>re});var J=O(720);function re(ae){var x=ae.split("-"),l="RxDB";return x.forEach(De=>{l+=(0,J.Z2)(De)}),l+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+l+" } from 'rxdb/plugins/"+ae+"';\n            addRxPlugin("+l+");\n        ")}function me(ae){return{name:ae.name,message:ae.message,rxdb:ae.rxdb,parameters:ae.parameters,extensions:ae.extensions,code:ae.code,url:ae.url,stack:ae.stack?ae.stack.replace(/\n/g," \n "):void 0}}},7014:(Bt,et,O)=>{"use strict";O.d(et,{P:()=>J,Y:()=>re});var J={},re="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93"},6243:(Bt,et,O)=>{"use strict";O.d(et,{V0:()=>On});var J=O(467);Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0}),Object.freeze(["prototype","__proto__","constructor"]);class Be{constructor(be,W){be=this.words=be||[],this.sigBytes=void 0===W?4*be.length:W}toString(be){return(be||Ue).stringify(this)}concat(be){if(this.clamp(),this.sigBytes%4)for(let W=0;W<be.sigBytes;W++)this.words[this.sigBytes+W>>>2]|=(be.words[W>>>2]>>>24-W%4*8&255)<<24-(this.sigBytes+W)%4*8;else for(let W=0;W<be.sigBytes;W+=4)this.words[this.sigBytes+W>>>2]=be.words[W>>>2];return this.sigBytes+=be.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Be([...this.words])}}const Ue={stringify(se){const be=[];for(let W=0;W<se.sigBytes;W++){const U=se.words[W>>>2]>>>24-W%4*8&255;be.push((U>>>4).toString(16),(15&U).toString(16))}return be.join("")}},Me={parse(se){const be=se.length,W=[];for(let U=0;U<be;U++)W[U>>>2]|=(255&se.charCodeAt(U))<<24-U%4*8;return new Be(W,be)}},Ne_parse=se=>Me.parse(unescape(encodeURIComponent(se)));class oe{constructor(){this._data=new Be,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=16}reset(){this._data=new Be,this._nDataBytes=0}_append(be){"string"==typeof be&&(be=Ne_parse(be)),this._data.concat(be),this._nDataBytes+=be.sigBytes}_doProcessBlock(be,W){}_process(be){let W,U=this._data.sigBytes/(4*this.blockSize);U=be?Math.ceil(U):Math.max((0|U)-this._minBufferSize,0);const $=U*this.blockSize,X=Math.min(4*$,this._data.sigBytes);if($){for(let Z=0;Z<$;Z+=this.blockSize)this._doProcessBlock(this._data.words,Z);W=this._data.words.splice(0,$),this._data.sigBytes-=X}return new Be(W,X)}}class ze extends oe{update(be){return this._append(be),this._process(),this}finalize(be){be&&this._append(be)}}const Re=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Pe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ge=[];class Fe extends ze{constructor(){super(...arguments),this._hash=new Be([...Re])}reset(){super.reset(),this._hash=new Be([...Re])}_doProcessBlock(be,W){const U=this._hash.words;let $=U[0],X=U[1],Z=U[2],ie=U[3],ce=U[4],Te=U[5],It=U[6],Lt=U[7];for(let Rt=0;Rt<64;Rt++){if(Rt<16)ge[Rt]=0|be[W+Rt];else{const rn=ge[Rt-15],Cn=ge[Rt-2];ge[Rt]=((rn<<25|rn>>>7)^(rn<<14|rn>>>18)^rn>>>3)+ge[Rt-7]+((Cn<<15|Cn>>>17)^(Cn<<13|Cn>>>19)^Cn>>>10)+ge[Rt-16]}const nn=$&X^$&Z^X&Z,Ht=Lt+((ce<<26|ce>>>6)^(ce<<21|ce>>>11)^(ce<<7|ce>>>25))+(ce&Te^~ce&It)+Pe[Rt]+ge[Rt];Lt=It,It=Te,Te=ce,ce=ie+Ht|0,ie=Z,Z=X,X=$,$=Ht+((($<<30|$>>>2)^($<<19|$>>>13)^($<<10|$>>>22))+nn)|0}U[0]=U[0]+$|0,U[1]=U[1]+X|0,U[2]=U[2]+Z|0,U[3]=U[3]+ie|0,U[4]=U[4]+ce|0,U[5]=U[5]+Te|0,U[6]=U[6]+It|0,U[7]=U[7]+Lt|0}finalize(be){super.finalize(be);const W=8*this._nDataBytes,U=8*this._data.sigBytes;return this._data.words[U>>>5]|=128<<24-U%32,this._data.words[14+(U+64>>>9<<4)]=Math.floor(W/4294967296),this._data.words[15+(U+64>>>9<<4)]=W,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function en(){return(en=(0,J.A)(function*(se){var be=(new TextEncoder).encode(se),W=yield crypto.subtle.digest("SHA-256",be);return Array.prototype.map.call(new Uint8Array(W),$=>("00"+$.toString(16)).slice(-2)).join("")})).apply(this,arguments)}var On=typeof crypto<"u"&&typeof crypto.subtle<"u"&&"function"==typeof crypto.subtle.digest?function ln(se){return en.apply(this,arguments)}:function At(se){return Promise.resolve(function xe(se){return(new Fe).finalize(se).toString()}(se))}},9403:(Bt,et,O)=>{"use strict";function J(me,ae){var x=me.get(ae);if(typeof x>"u")throw new Error("missing value from map "+ae);return x}function re(me,ae,x,l){var De=me.get(ae);return typeof De>"u"?(De=x(),me.set(ae,De)):l&&l(De),De}O.d(et,{m:()=>J,q:()=>re})},6636:(Bt,et,O)=>{"use strict";function J(re,me){if(re===me)return!0;if(re&&me&&"object"==typeof re&&"object"==typeof me){if(re.constructor!==me.constructor)return!1;var ae,x;if(Array.isArray(re)){if((ae=re.length)!==me.length)return!1;for(x=ae;0!=x--;)if(!J(re[x],me[x]))return!1;return!0}if(re.constructor===RegExp)return re.source===me.source&&re.flags===me.flags;if(re.valueOf!==Object.prototype.valueOf)return re.valueOf()===me.valueOf();if(re.toString!==Object.prototype.toString)return re.toString()===me.toString();var l=Object.keys(re);if((ae=l.length)!==Object.keys(me).length)return!1;for(x=ae;0!=x--;)if(!Object.prototype.hasOwnProperty.call(me,l[x]))return!1;for(x=ae;0!=x--;){var De=l[x];if(!J(re[De],me[De]))return!1}return!0}return re!=re&&me!=me}O.d(et,{b:()=>J})},1744:(Bt,et,O)=>{"use strict";O.d(et,{UU:()=>De,oq:()=>ut});var J=Re=>{var Pe=typeof Re;return null!==Re&&("object"===Pe||"function"===Pe)},re=new Set(["__proto__","prototype","constructor"]),me=new Set("0123456789");function ae(Re){var Pe=[],ge="",Fe="start",xe=!1;for(var Ae of Re)switch(Ae){case"\\":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");xe&&(ge+=Ae),Fe="property",xe=!xe;break;case".":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="property";break}if(xe){xe=!1,ge+=Ae;break}if(re.has(ge))return[];Pe.push(ge),ge="",Fe="property";break;case"[":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="index";break}if(xe){xe=!1,ge+=Ae;break}if("property"===Fe){if(re.has(ge))return[];Pe.push(ge),ge=""}Fe="index";break;case"]":if("index"===Fe){Pe.push(Number.parseInt(ge,10)),ge="",Fe="indexEnd";break}if("indexEnd"===Fe)throw new Error("Invalid character after an index");default:if("index"===Fe&&!me.has(Ae))throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");"start"===Fe&&(Fe="property"),xe&&(xe=!1,ge+="\\"),ge+=Ae}switch(xe&&(ge+="\\"),Fe){case"property":if(re.has(ge))return[];Pe.push(ge);break;case"index":throw new Error("Index was not closed");case"start":Pe.push("")}return Pe}function x(Re,Pe){if("number"!=typeof Pe&&Array.isArray(Re)){var ge=Number.parseInt(Pe,10);return Number.isInteger(ge)&&Re[ge]===Re[Pe]}return!1}function l(Re,Pe){if(x(Re,Pe))throw new Error("Cannot use string index")}function De(Re,Pe,ge){if(Array.isArray(Pe)&&(Pe=Pe.join(".")),!Pe.includes(".")&&!Pe.includes("["))return Re[Pe];if(!J(Re)||"string"!=typeof Pe)return void 0===ge?Re:ge;var Fe=ae(Pe);if(0===Fe.length)return ge;for(var xe=0;xe<Fe.length;xe++){var Ae=Fe[xe];if(null==(Re=x(Re,Ae)?xe===Fe.length-1?void 0:null:Re[Ae])){if(xe!==Fe.length-1)return ge;break}}return void 0===Re?ge:Re}function ut(Re,Pe,ge){if(Array.isArray(Pe)&&(Pe=Pe.join(".")),!J(Re)||"string"!=typeof Pe)return Re;for(var Fe=Re,xe=ae(Pe),Ae=0;Ae<xe.length;Ae++){var We=xe[Ae];l(Re,We),Ae===xe.length-1?Re[We]=ge:J(Re[We])||(Re[We]="number"==typeof xe[Ae+1]?[]:{}),Re=Re[We]}return Fe}},6434:(Bt,et,O)=>{"use strict";function J(Ne){return Object.freeze(Ne),Object.getOwnPropertyNames(Ne).forEach(function(oe){Object.prototype.hasOwnProperty.call(Ne,oe)&&null!==Ne[oe]&&("object"==typeof Ne[oe]||"function"==typeof Ne[oe])&&!Object.isFrozen(Ne[oe])&&J(Ne[oe])}),Ne}function re(Ne){var oe=Ne.split("."),ze=oe.length;return 1===ze?Re=>Re[Ne]:Re=>{for(var Pe=Re,ge=0;ge<ze;++ge)if(typeof(Pe=Pe[oe[ge]])>"u")return Pe;return Pe}}function ae(Ne){var oe={};for(var ze in Ne)if(Object.prototype.hasOwnProperty.call(Ne,ze))if("object"==typeof Ne[ze]){var Re=ae(Ne[ze]);for(var Pe in Re)Object.prototype.hasOwnProperty.call(Re,Pe)&&(oe[ze+"."+Pe]=Re[Pe])}else oe[ze]=Ne[ze];return oe}function x(Ne){return Object.assign({},Ne)}function l(Ne){return Object.keys(Ne)[0]}function ut(Ne,oe=!1){if(!Ne)return Ne;if(!oe&&Array.isArray(Ne))return Ne.sort((Re,Pe)=>"string"==typeof Re&&"string"==typeof Pe?Re.localeCompare(Pe):"object"==typeof Re?1:-1).map(Re=>ut(Re,oe));if("object"==typeof Ne&&!Array.isArray(Ne)){var ze={};return Object.keys(Ne).sort((Re,Pe)=>Re.localeCompare(Pe)).forEach(Re=>{ze[Re]=ut(Ne[Re],oe)}),ze}return Ne}O.d(et,{FD:()=>x,Ln:()=>l,Ns:()=>Y,SQ:()=>re,YO:()=>ae,mf:()=>ut,o8:()=>Ue,ol:()=>J});var Ue=function Be(Ne){if(!Ne||null===Ne||"object"!=typeof Ne)return Ne;if(Array.isArray(Ne)){for(var oe=new Array(Ne.length),ze=oe.length;ze--;)oe[ze]=Be(Ne[ze]);return oe}var Re={};for(var Pe in Ne)Re[Pe]=Be(Ne[Pe]);return Re};function Y(Ne,oe,ze){return Object.defineProperty(Ne,oe,{get:function(){return ze}}),ze}},8663:(Bt,et,O)=>{"use strict";function re(x,l){if(!x)throw l||(l=""),new Error("ensureNotFalsy() is falsy: "+l);return x}O.d(et,{ZN:()=>re,bz:()=>ae});var ae={bufferSize:1,refCount:!0}},5520:(Bt,et,O)=>{"use strict";function J(){return new Promise(oe=>setTimeout(oe,0))}function me(oe){return oe&&"function"==typeof oe.then?oe:Promise.resolve(oe)}O.d(et,{$A:()=>De,Dr:()=>l,Ms:()=>x,Ve:()=>Y,dY:()=>J,em:()=>ut,h$:()=>Ne,hq:()=>me,vN:()=>Be});var x=Promise.resolve(!0),l=Promise.resolve(!1),De=Promise.resolve(null),ut=Promise.resolve();function Be(oe=1e4){return"function"==typeof requestIdleCallback?new Promise(ze=>{requestIdleCallback(()=>ze(),{timeout:oe})}):function re(oe=0){return new Promise(ze=>setTimeout(ze,oe))}(0)}var Ue=ut;function Y(oe=void 0){return Ue=Ue.then(()=>Be(oe))}function Ne(oe,ze){return oe.reduce((Re,Pe)=>Re.then(Pe),Promise.resolve(ze))}},6568:(Bt,et,O)=>{"use strict";function re(ae){for(var x="",l=0;l<ae.length;l++){var De=ae[l];if("-"===De)return parseInt(x,10);x+=De}throw new Error("malformatted revision: "+ae)}function me(ae,x){return(x?re(x._rev)+1:1)+"-"+ae}O.d(et,{CM:()=>me,Wg:()=>re})},6052:(Bt,et,O)=>{"use strict";O.d(et,{o:()=>J});var J="15.28.1"},720:(Bt,et,O)=>{"use strict";O.d(et,{L$:()=>x,Z2:()=>ae,ky:()=>De,z3:()=>re});var J="abcdefghijklmnopqrstuvwxyz";function re(Y=10){for(var Me="",Ne=0;Ne<Y;Ne++)Me+=J.charAt(Math.floor(Math.random()*J.length));return Me}function ae(Y){return(Y+="").charAt(0).toUpperCase()+Y.substr(1)}function x(Y){for(;"."===Y.charAt(0);)Y=Y.substr(1);for(;"."===Y.slice(-1);)Y=Y.slice(0,-1);return Y}function De(Y){return!(!Y.includes("/")&&!Y.includes("\\"))}},4552:(Bt,et,O)=>{"use strict";O.d(et,{t:()=>re});var J=0;function re(){var me=Date.now();(me+=.01)<=J&&(me=J+.01);var ae=parseFloat(me.toFixed(2));return J=ae,ae}},6259:(Bt,et,O)=>{"use strict";O.d(et,{Cx:()=>Y,XA:()=>x,n9:()=>Ne});var J=O(9403),re=O(4552),me=O(5520),ae=function(){function oe(){this._map=new Map}return oe.prototype.getByQuery=function(Pe){var ge=Pe.toString();return(0,J.q)(this._map,ge,()=>Pe)},oe}();function x(){return new ae}function l(oe,ze){ze.uncached=!0;var Re=ze.toString();oe._map.delete(Re)}function De(oe){return oe.refCount$.observers.length}var Y=(100,3e4,(Re,Pe)=>{if(!(Pe._map.size<100)){var ge=(0,re.t)()-3e4,Fe=[],xe=Array.from(Pe._map.values());for(var Ae of xe)if(!(De(Ae)>0)){if(0===Ae._lastEnsureEqual&&Ae._creationTime<ge){l(Pe,Ae);continue}Fe.push(Ae)}var We=Fe.length-100;We<=0||Fe.sort((Qe,_e)=>Qe._lastEnsureEqual-_e._lastEnsureEqual).slice(0,We).forEach(Qe=>l(Pe,Qe))}}),Me=new WeakSet;function Ne(oe){Me.has(oe)||(Me.add(oe),(0,me.dY)().then(()=>(0,me.Ve)(200)).then(()=>{oe.destroyed||oe.cacheReplacementPolicy(oe,oe._queryCache),Me.delete(oe)}))}},997:(Bt,et,O)=>{"use strict";O.d(et,{Cf:()=>De,OK:()=>x,g0:()=>ae,sk:()=>l});var J=O(7176),re=O(7650),me=O(1885),ae="\uffff",x=Number.MIN_SAFE_INTEGER;function l(Ne,oe){var ze=oe.selector,Re=Ne.indexes?Ne.indexes.slice(0):[];oe.index&&(Re=[oe.index]);var Pe=!!oe.sort.find(Ie=>"desc"===Object.values(Ie)[0]),ge=new Set;Object.keys(ze).forEach(Ie=>{var st=(0,me.nT)(Ne,Ie);st&&"boolean"===st.type&&Object.prototype.hasOwnProperty.call(ze[Ie],"$eq")&&ge.add(Ie)});var We,xe=oe.sort.map(Ie=>Object.keys(Ie)[0]).filter(Ie=>!ge.has(Ie)).join(","),Ae=-1;if(Re.forEach(Ie=>{var st=!0,Qe=!0,_e=Ie.map(At=>{var ln=ze[At],en=ln?Object.keys(ln):[],fn={};return ln&&en.length?en.forEach(Ge=>{if(De.has(Ge)){var be=function Y(Ne,oe){switch(Ne){case"$eq":return{startKey:oe,endKey:oe,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:oe,inclusiveEnd:!0};case"$gte":return{startKey:oe,inclusiveStart:!0};case"$lt":return{endKey:oe,inclusiveEnd:!1};case"$gt":return{startKey:oe,inclusiveStart:!1};default:throw new Error("SNH")}}(Ge,ln[Ge]);fn=Object.assign(fn,be)}}):fn={startKey:Qe?x:ae,endKey:st?ae:x,inclusiveStart:!0,inclusiveEnd:!0},typeof fn.startKey>"u"&&(fn.startKey=x),typeof fn.endKey>"u"&&(fn.endKey=ae),typeof fn.inclusiveStart>"u"&&(fn.inclusiveStart=!0),typeof fn.inclusiveEnd>"u"&&(fn.inclusiveEnd=!0),Qe&&!fn.inclusiveStart&&(Qe=!1),st&&!fn.inclusiveEnd&&(st=!1),fn}),ue=_e.map(At=>At.startKey),Q=_e.map(At=>At.endKey),mt={index:Ie,startKeys:ue,endKeys:Q,inclusiveEnd:st,inclusiveStart:Qe,sortSatisfiedByIndex:!Pe&&xe===Ie.filter(At=>!ge.has(At)).join(","),selectorSatisfiedByIndex:Ue(Ie,oe.selector,ue,Q)},Dt=function Me(Ne,oe,ze){var Re=0,Pe=Ie=>{Ie>0&&(Re+=Ie)},Fe=(0,J.Sd)(ze.startKeys,Ie=>Ie!==x&&Ie!==ae);Pe(10*Fe);var xe=(0,J.Sd)(ze.startKeys,Ie=>Ie!==ae&&Ie!==x);Pe(10*xe);var Ae=(0,J.Sd)(ze.startKeys,(Ie,st)=>Ie===ze.endKeys[st]);return Pe(10*Ae*1.5),Pe(ze.sortSatisfiedByIndex?5:0),Re}(0,0,mt);(Dt>=Ae||oe.index)&&(Ae=Dt,We=mt)}),!We)throw(0,re.Br)("SNH",{query:oe});return We}var De=new Set(["$eq","$gt","$gte","$lt","$lte"]),ut=new Set(["$eq","$gt","$gte"]),Be=new Set(["$eq","$lt","$lte"]);function Ue(Ne,oe,ze,Re){if(Object.entries(oe).find(([Ge,se])=>!Ne.includes(Ge)||Object.entries(se).find(([W,U])=>!De.has(W)))||oe.$and||oe.$or)return!1;var Fe=[],xe=new Set;for(var[Ae,We]of Object.entries(oe)){if(!Ne.includes(Ae))return!1;var Ie=Object.keys(We).filter(Ge=>ut.has(Ge));if(Ie.length>1)return!1;var st=Ie[0];if(st&&xe.add(Ae),"$eq"!==st){if(Fe.length>0)return!1;Fe.push(st)}}var Qe=[],_e=new Set;for(var[ue,Q]of Object.entries(oe)){if(!Ne.includes(ue))return!1;var mt=Object.keys(Q).filter(Ge=>Be.has(Ge));if(mt.length>1)return!1;var Dt=mt[0];if(Dt&&_e.add(ue),"$eq"!==Dt){if(Qe.length>0)return!1;Qe.push(Dt)}}var At=0;for(var ln of Ne){for(var en of[xe,_e]){if(!en.has(ln)&&en.size>0)return!1;en.delete(ln)}if(ze[At]!==Re[At]&&xe.size>0&&_e.size>0)return!1;At++}return!0}},327:(Bt,et,O)=>{"use strict";O.d(et,{a:()=>ut,r:()=>Be});var J=O(467),re=O(6636),me=O(6434),ae=O(2060),x=O(4552),l=O(6568),De=O(6893),ut=function(Y,Me){var Ne=(0,De.on)(Y.newDocumentState),oe=(0,De.on)(Y.realMasterState);return(0,re.b)(Ne,oe)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:Y.realMasterState})};function Be(Y,Me,Ne){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,J.A)(function*(Y,Me,Ne){var oe=Y.input.conflictHandler,ze=yield oe(Me,"replication-resolve-conflict");if(!ze.isEqual){var Re=Object.assign({},ze.documentData,{_meta:(0,me.FD)(Ne._meta),_rev:(0,ae.Fq)(),_attachments:(0,me.FD)(Ne._attachments)});return Re._meta.lwt=(0,x.t)(),Re._rev=(0,l.CM)(yield Y.checkpointKey,Ne),{resolvedDoc:Re,output:ze}}})).apply(this,arguments)}},312:(Bt,et,O)=>{"use strict";O.d(et,{_r:()=>me,vk:()=>re});var J=O(3896);function re(x){return x.documentData?x.documentData:x.previousDocumentData}function me(x){switch(x.operation){case"INSERT":return{operation:x.operation,id:x.documentId,doc:x.documentData,previous:null};case"UPDATE":return{operation:x.operation,id:x.documentId,doc:J.h.deepFreezeWhenDevMode(x.documentData),previous:x.previousDocumentData?x.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:x.operation,id:x.documentId,doc:null,previous:x.previousDocumentData}}}},1318:(Bt,et,O)=>{"use strict";O.d(et,{JY:()=>Me,X3:()=>Pe,vK:()=>Ne,vM:()=>ze});var J=O(467),re=O(6434),me=O(2060),ae=O(4552),x=O(6568),l=O(1885),De=O(2284),ut=O(2104),Be=O(6893),Ue=O(3896),Y=O(7650);function Me(ge,Fe){return Fe=(0,re.FD)(Fe),Fe=(0,l.pA)(ge,Fe),"string"!=typeof ge.jsonSchema.primaryKey&&(Fe=(0,l.Nq)(ge.primaryPath,ge.jsonSchema,Fe)),Fe._meta=(0,me.o4)(),Object.prototype.hasOwnProperty.call(Fe,"_deleted")||(Fe._deleted=!1),Object.prototype.hasOwnProperty.call(Fe,"_attachments")||(Fe._attachments={}),Object.prototype.hasOwnProperty.call(Fe,"_rev")||(Fe._rev=(0,me.Fq)()),Fe}function Ne(ge,Fe){return oe.apply(this,arguments)}function oe(){return(oe=(0,J.A)(function*(ge,Fe){return Fe.multiInstance=ge.multiInstance,yield ge.storage.createStorageInstance(Fe)})).apply(this,arguments)}function ze(ge,Fe,xe,Ae,We,Ie,st){return Re.apply(this,arguments)}function Re(){return Re=(0,J.A)(function*(ge,Fe,xe,Ae,We,Ie,st){var _e=(yield(0,ut.WY)(Fe)).filter(Dt=>Dt.data.name===We),ue=[];_e.forEach(Dt=>{ue.push({collectionName:Dt.data.name,schema:Dt.data.schema,isCollection:!0}),Dt.data.connectedStorages.forEach(At=>ue.push({collectionName:At.collectionName,isCollection:!1,schema:At.schema}))});var Q=new Set;if(ue=ue.filter(Dt=>{var At=Dt.collectionName+"||"+Dt.schema.version;return!Q.has(At)&&(Q.add(At),!0)}),yield Promise.all(ue.map(function(){var Dt=(0,J.A)(function*(At){var ln=yield ge.createStorageInstance({collectionName:At.collectionName,databaseInstanceToken:xe,databaseName:Ae,multiInstance:!1,options:{},schema:At.schema,password:Ie,devMode:Ue.h.isDevMode()});yield ln.remove(),At.isCollection&&(yield(0,De.FX)("postRemoveRxCollection",{storage:ge,databaseName:Ae,collectionName:We}))});return function(At){return Dt.apply(this,arguments)}}())),st){var mt=_e.map(Dt=>{var At=(0,Be.C9)(Dt);return At._deleted=!0,At._meta.lwt=(0,ae.t)(),At._rev=(0,x.CM)(xe,Dt),{previous:Dt,document:At}});yield Fe.bulkWrite(mt,"rx-database-remove-collection-all")}}),Re.apply(this,arguments)}function Pe(ge){if(ge.destroyed)throw(0,Y.Br)("COL21",{collection:ge.name,version:ge.schema.version})}},4395:(Bt,et,O)=>{"use strict";O.d(et,{wm:()=>fn,dN:()=>be});var J=O(467),re=O(6126),me=O(5964),ae=O(1397),x=O(6354),l=O(5520),De=O(203),ut=O(8663),Be=O(6434),Ue=O(9403),Y=O(720),Me=O(1318),Ne=O(5672),oe=O(7650),ze=O(9825),Re=O(6259),Pe=O(7176),ge=function(){function U(X){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=X,this.subs.push(this.collection.database.eventBulks$.pipe((0,me.p)(Z=>Z.collectionName===this.collection.name),(0,me.p)(Z=>!Z.events[0].isLocal)).subscribe(Z=>{this.tasks.add(()=>this._handleChangeEvents(Z.events)),this.tasks.size<=1&&(0,l.vN)().then(()=>{this.processTasks()})}))}var $=U.prototype;return $.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(ie=>ie()),this.tasks.clear())},$._handleChangeEvents=function(Z){var ie=this.counter;this.counter=this.counter+Z.length,Z.length>this.limit?this.buffer=Z.slice(-1*Z.length):((0,Pe.Hb)(this.buffer,Z),this.buffer=this.buffer.slice(-1*this.limit));for(var ce=ie+1,Te=this.eventCounterMap,It=0;It<Z.length;It++)Te.set(Z[It],ce+It)},$.getCounter=function(){return this.processTasks(),this.counter},$.getBuffer=function(){return this.processTasks(),this.buffer},$.getArrayIndexByPointer=function(Z){this.processTasks();var ce=this.eventCounterMap.get(this.buffer[0]);return Z<ce?null:Z-ce},$.getFrom=function(Z){this.processTasks();var ie=[],ce=this.getArrayIndexByPointer(Z);if(null===ce)return null;for(;;){var Te=this.buffer[ce];if(ce++,!Te)return ie;ie.push(Te)}},$.runFrom=function(Z,ie){this.processTasks();var ce=this.getFrom(Z);if(null===ce)throw new Error("out of bounds");ce.forEach(Te=>ie(Te))},$.reduceByLastOfDoc=function(Z){return this.processTasks(),Z.slice(0)},$.destroy=function(){this.tasks.clear(),this.subs.forEach(Z=>Z.unsubscribe())},U}(),xe=O(2284),Ae=O(5908),We=O(3896),Ie=new WeakMap;var Q=O(6893),mt=O(327),Dt=O(6706),At=["pre","post"],ln=["insert","save","remove","create"],en=!1,fn=function(){function U(X,Z,ie,ce,Te={},It={},Lt={},Rt={},Ut={},nn=Re.Cx,on={},cn=mt.a){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=(0,Re.XA)(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=X,this.name=Z,this.schema=ie,this.internalStorageInstance=ce,this.instanceCreationOptions=Te,this.migrationStrategies=It,this.methods=Lt,this.attachments=Rt,this.options=Ut,this.cacheReplacementPolicy=nn,this.statics=on,this.conflictHandler=cn,function On(U){if(!en){en=!0;var $=Object.getPrototypeOf(U);ln.forEach(X=>{At.map(Z=>{var ie=Z+(0,Y.Z2)(X);$[ie]=function(ce,Te){return this.addHook(Z,X,ce,Te)}})})}}(this.asRxCollection)}var $=U.prototype;return $.prepare=function(){var X=(0,J.A)(function*(){var ie=this;this.storageInstance=(0,Q.AM)(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Dt.N6(this.storageInstance,this.schema.primaryPath,(Ut,nn)=>(0,Ae.Lt)(this,Ut,nn),Ut=>this._runHooks("post","save",Ut));var Te,ce=this.database.eventBulks$.pipe((0,me.p)(Ut=>Ut.collectionName===this.name));this.$=ce.pipe((0,ae.Z)(Ut=>Ut.events)),this.checkpoint$=ce.pipe((0,x.T)(Ut=>Ut.checkpoint)),this._changeEventBuffer=function Fe(U){return new ge(U)}(this.asRxCollection),this._docCache=new ze.K(this.schema.primaryPath,this.database.eventBulks$.pipe((0,me.p)(Ut=>Ut.collectionName===this.name&&!Ut.events[0].isLocal),(0,x.T)(Ut=>Ut.events)),Ut=>(Te||(Te=function Qe(U){return(0,Ue.q)(Ie,U,()=>(0,Ae.cM)(function st(U){var $=U.schema.getDocumentPrototype(),X=function ue(U){var $={};return Object.entries(U.methods).forEach(([X,Z])=>{$[X]=Z}),$}(U),ie={};return[$,X,Ae.ky].forEach(ce=>{Object.getOwnPropertyNames(ce).forEach(It=>{var Lt=Object.getOwnPropertyDescriptor(ce,It),Rt=!0;(It.startsWith("_")||It.endsWith("_")||It.startsWith("$")||It.endsWith("$"))&&(Rt=!1),"function"==typeof Lt.value?Object.defineProperty(ie,It,{get(){return Lt.value.bind(this)},enumerable:Rt,configurable:!1}):(Lt.enumerable=Rt,Lt.configurable=!1,Lt.writable&&(Lt.writable=!1),Object.defineProperty(ie,It,Lt))})}),ie}(U)))}(this.asRxCollection)),function _e(U,$,X){var Z=(0,Ae.Zb)($,U,We.h.deepFreezeWhenDevMode(X));return U._runHooksSync("post","create",X,Z),(0,xe.Xi)("postCreateRxDocument",Z),Z}(this.asRxCollection,Te,Ut)));var It=this.database.internalStore.changeStream().pipe((0,me.p)(Ut=>{var nn=this.name+"-"+this.schema.version;return!!Ut.events.find(cn=>"collection"===cn.documentData.context&&cn.documentData.key===nn&&"DELETE"===cn.operation)})).subscribe((0,J.A)(function*(){yield ie.destroy(),yield Promise.all(ie.onRemove.map(Ut=>Ut()))}));this._subs.push(It);var Lt=yield this.database.storageToken,Rt=this.storageInstance.changeStream().subscribe(Ut=>{for(var nn=new Array(Ut.events.length),on=Ut.events,cn=this.name,Ht=We.h.deepFreezeWhenDevMode,dn=0;dn<on.length;dn++){var rn=on[dn];nn[dn]={documentId:rn.documentId,collectionName:cn,isLocal:!1,operation:rn.operation,documentData:Ht(rn.documentData),previousDocumentData:Ht(rn.previousDocumentData)}}this.database.$emit({id:Ut.id,internal:!1,collectionName:this.name,storageToken:Lt,events:nn,databaseToken:this.database.token,checkpoint:Ut.checkpoint,context:Ut.context,endTime:Ut.endTime,startTime:Ut.startTime})});return this._subs.push(Rt),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(Ut=>{this.conflictHandler(Ut.input,Ut.context).then(nn=>{this.storageInstance.resolveConflictResultionTask({id:Ut.id,output:nn})})})),l.em});return function Z(){return X.apply(this,arguments)}}(),$.cleanup=function(Z){throw(0,Me.X3)(this),(0,De.u)("cleanup")},$.migrationNeeded=function(){throw(0,De.u)("migration-schema")},$.getMigrationState=function(){throw(0,De.u)("migration-schema")},$.startMigration=function(Z=10){return(0,Me.X3)(this),this.getMigrationState().startMigration(Z)},$.migratePromise=function(Z=10){return this.getMigrationState().migratePromise(Z)},$.insert=function(){var X=(0,J.A)(function*(ie){(0,Me.X3)(this);var ce=yield this.bulkInsert([ie]);return(0,Q.WX)(this,ie[this.schema.primaryPath],ie,ce.error[0]),(0,ut.ZN)(ce.success[0])});return function Z(ie){return X.apply(this,arguments)}}(),$.bulkInsert=function(){var X=(0,J.A)(function*(ie){if((0,Me.X3)(this),0===ie.length)return{success:[],error:[]};var Te,ce=this.schema.primaryPath;if(this.hasHooks("pre","insert"))Te=yield Promise.all(ie.map(rn=>{var kn=(0,Me.JY)(this.schema,rn);return this._runHooks("pre","insert",kn).then(()=>({document:kn}))}));else{Te=new Array(ie.length);for(var It=this.schema,Lt=0;Lt<ie.length;Lt++){var Ut=(0,Me.JY)(It,ie[Lt]);Te[Lt]={document:Ut}}}var on,nn=yield this.storageInstance.bulkWrite(Te,"rx-collection-bulk-insert"),cn=this,Ht={get success(){if(!on){var rn=(0,Q.YN)(cn.schema.primaryPath,Te,nn);on=(0,ze.X)(cn._docCache,rn)}return on},error:nn.error};if(this.hasHooks("post","insert")){var dn=new Map;Te.forEach(rn=>{var kn=rn.document;dn.set(kn[ce],kn)}),yield Promise.all(Ht.success.map(rn=>this._runHooks("post","insert",dn.get(rn.primary),rn)))}return Ht});return function Z(ie){return X.apply(this,arguments)}}(),$.bulkRemove=function(){var X=(0,J.A)(function*(ie){(0,Me.X3)(this);var ce=this.schema.primaryPath;if(0===ie.length)return{success:[],error:[]};var Te=yield this.findByIds(ie).exec(),It=[],Lt=new Map;Array.from(Te.values()).forEach(Ht=>{var dn=Ht.toMutableJSON(!0);It.push(dn),Lt.set(Ht.primary,dn)}),yield Promise.all(It.map(Ht=>this._runHooks("pre","remove",Ht,Te.get(Ht[this.schema.primaryPath]))));var Rt=It.map(Ht=>{var dn=(0,Be.FD)(Ht);return dn._deleted=!0,{previous:Ht,document:dn}}),Ut=yield this.storageInstance.bulkWrite(Rt,"rx-collection-bulk-remove"),on=(0,Q.YN)(this.schema.primaryPath,Rt,Ut).map(Ht=>Ht[ce]);return yield Promise.all(on.map(Ht=>this._runHooks("post","remove",Lt.get(Ht),Te.get(Ht)))),{success:on.map(Ht=>(0,Ue.m)(Te,Ht)),error:Ut.error}});return function Z(ie){return X.apply(this,arguments)}}(),$.bulkUpsert=function(){var X=(0,J.A)(function*(ie){var ce=this;(0,Me.X3)(this);var Te=[],It=new Map;ie.forEach(nn=>{var on=(0,Me.JY)(this.schema,nn),cn=on[this.schema.primaryPath];if(!cn)throw(0,oe.Br)("COL3",{primaryPath:this.schema.primaryPath,data:on,schema:this.schema.jsonSchema});It.set(cn,on),Te.push(on)});var Lt=yield this.bulkInsert(Te),Rt=Lt.success.slice(0),Ut=[];return yield Promise.all(Lt.error.map(function(){var nn=(0,J.A)(function*(on){if(409!==on.status)Ut.push(on);else{var Ht=(0,Ue.m)(It,on.documentId),dn=(0,ut.ZN)(on.documentInDb),rn=ce._docCache.getCachedRxDocuments([dn])[0],kn=yield rn.incrementalModify(()=>Ht);Rt.push(kn)}});return function(on){return nn.apply(this,arguments)}}())),{error:Ut,success:Rt}});return function Z(ie){return X.apply(this,arguments)}}(),$.upsert=function(){var X=(0,J.A)(function*(ie){(0,Me.X3)(this);var ce=yield this.bulkUpsert([ie]);return(0,Q.WX)(this.asRxCollection,ie[this.schema.primaryPath],ie,ce.error[0]),ce.success[0]});return function Z(ie){return X.apply(this,arguments)}}(),$.incrementalUpsert=function(Z){(0,Me.X3)(this);var ie=(0,Me.JY)(this.schema,Z),ce=ie[this.schema.primaryPath];if(!ce)throw(0,oe.Br)("COL4",{data:Z});var Te=this._incrementalUpsertQueues.get(ce);return Te||(Te=l.em),Te=Te.then(()=>function se(U,$,X){var Z=U._docCache.getLatestDocumentDataIfExists($);return Z?Promise.resolve({doc:U._docCache.getCachedRxDocuments([Z])[0],inserted:!1}):U.findOne($).exec().then(ie=>ie?{doc:ie,inserted:!1}:U.insert(X).then(ce=>({doc:ce,inserted:!0})))}(this,ce,ie)).then(It=>It.inserted?It.doc:function Ge(U,$){return U.incrementalModify(X=>$)}(It.doc,ie)),this._incrementalUpsertQueues.set(ce,Te),Te},$.find=function(Z){if((0,Me.X3)(this),"string"==typeof Z)throw(0,oe.Br)("COL5",{queryObj:Z});return Z||(Z=(0,Ne.XX)()),(0,Ne.nd)("find",Z,this)},$.findOne=function(Z){if((0,Me.X3)(this),"number"==typeof Z||Array.isArray(Z))throw(0,oe.JX)("COL6",{queryObj:Z});var ie;if("string"==typeof Z)ie=(0,Ne.nd)("findOne",{selector:{[this.schema.primaryPath]:Z},limit:1},this);else{if(Z||(Z=(0,Ne.XX)()),Z.limit)throw(0,oe.Br)("QU6");(Z=(0,Be.FD)(Z)).limit=1,ie=(0,Ne.nd)("findOne",Z,this)}return ie},$.count=function(Z){return(0,Me.X3)(this),Z||(Z=(0,Ne.XX)()),(0,Ne.nd)("count",Z,this)},$.findByIds=function(Z){(0,Me.X3)(this);var ie={selector:{[this.schema.primaryPath]:{$in:Z.slice(0)}}};return(0,Ne.nd)("findByIds",ie,this)},$.exportJSON=function(){throw(0,De.u)("json-dump")},$.importJSON=function(Z){throw(0,De.u)("json-dump")},$.insertCRDT=function(Z){throw(0,De.u)("crdt")},$.addHook=function(Z,ie,ce,Te=!1){if("function"!=typeof ce)throw(0,oe.JX)("COL7",{key:ie,when:Z});if(!At.includes(Z))throw(0,oe.JX)("COL8",{key:ie,when:Z});if(!ln.includes(ie))throw(0,oe.Br)("COL9",{key:ie});if("post"===Z&&"create"===ie&&!0===Te)throw(0,oe.Br)("COL10",{when:Z,key:ie,parallel:Te});var It=ce.bind(this),Lt=Te?"parallel":"series";this.hooks[ie]=this.hooks[ie]||{},this.hooks[ie][Z]=this.hooks[ie][Z]||{series:[],parallel:[]},this.hooks[ie][Z][Lt].push(It)},$.getHooks=function(Z,ie){return this.hooks[ie]&&this.hooks[ie][Z]?this.hooks[ie][Z]:{series:[],parallel:[]}},$.hasHooks=function(Z,ie){if(!this.hooks[ie]||!this.hooks[ie][Z])return!1;var ce=this.getHooks(Z,ie);return!!ce&&(ce.series.length>0||ce.parallel.length>0)},$._runHooks=function(Z,ie,ce,Te){var It=this.getHooks(Z,ie);if(!It)return l.em;var Lt=It.series.map(Rt=>()=>Rt(ce,Te));return(0,l.h$)(Lt).then(()=>Promise.all(It.parallel.map(Rt=>Rt(ce,Te))))},$._runHooksSync=function(Z,ie,ce,Te){if(this.hasHooks(Z,ie)){var It=this.getHooks(Z,ie);It&&It.series.forEach(Lt=>Lt(ce,Te))}},$.promiseWait=function(Z){return new Promise(ce=>{var Te=setTimeout(()=>{this.timeouts.delete(Te),ce()},Z);this.timeouts.add(Te)})},$.destroy=function(){var X=(0,J.A)(function*(){return this.destroyed?l.Dr:(yield Promise.all(this.onDestroy.map(ie=>ie())),this.destroyed=!0,Array.from(this.timeouts).forEach(ie=>clearTimeout(ie)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(ie=>ie.unsubscribe()),delete this.database.collections[this.name],(0,xe.FX)("postDestroyRxCollection",this).then(()=>!0))))});return function Z(){return X.apply(this,arguments)}}(),$.remove=function(){var X=(0,J.A)(function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(ie=>ie())),yield(0,Me.vM)(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)});return function Z(){return X.apply(this,arguments)}}(),(0,re.A)(U,[{key:"insert$",get:function(){return this.$.pipe((0,me.p)(X=>"INSERT"===X.operation))}},{key:"update$",get:function(){return this.$.pipe((0,me.p)(X=>"UPDATE"===X.operation))}},{key:"remove$",get:function(){return this.$.pipe((0,me.p)(X=>"DELETE"===X.operation))}},{key:"asRxCollection",get:function(){return this}}])}();function be({database:U,name:$,schema:X,instanceCreationOptions:Z={},migrationStrategies:ie={},autoMigrate:ce=!0,statics:Te={},methods:It={},attachments:Lt={},options:Rt={},localDocuments:Ut=!1,cacheReplacementPolicy:nn=Re.Cx,conflictHandler:on=mt.a}){var cn={databaseInstanceToken:U.token,databaseName:U.name,collectionName:$,schema:X.jsonSchema,options:Z,multiInstance:U.multiInstance,password:U.password,devMode:We.h.isDevMode()};return(0,xe.Xi)("preCreateRxStorageInstance",cn),(0,Me.vK)(U,cn).then(Ht=>{var dn=new fn(U,$,X,Ht,Z,ie,It,Lt,Rt,nn,Te,on);return dn.prepare().then(()=>{Object.entries(Te).forEach(([kn,Cn])=>{Object.defineProperty(dn,kn,{get:()=>Cn.bind(dn)})});var rn=l.em;return ce&&0!==dn.schema.version&&(rn=dn.migratePromise()),rn}).then(()=>((0,xe.Xi)("createRxCollection",{collection:dn,creator:{name:$,schema:X,storageInstance:Ht,instanceCreationOptions:Z,migrationStrategies:ie,methods:It,attachments:Lt,options:Rt,cacheReplacementPolicy:nn,localDocuments:Ut,statics:Te}}),dn)).catch(rn=>Ht.close().then(()=>Promise.reject(rn)))})}},2104:(Bt,et,O)=>{"use strict";O.d(et,{CC:()=>oe,Nu:()=>Ue,WY:()=>Re,bD:()=>Qe,bV:()=>ue,lz:()=>ze,ol:()=>xe,vV:()=>Ie});var J=O(467),re=O(7650),me=O(1885),ae=O(6893),x=O(720),l=O(2060),De=O(8663),ut=O(6434),Be=O(5672),Ue="collection",Y="storage-token",oe=(0,me.Ud)({version:0,title:"RxInternalDocument",primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Ue,Y,"rx-migration-status","OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function ze(Q,mt){return(0,me.U)(oe,{key:Q,context:mt})}function Re(Q){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,J.A)(function*(Q){var mt=(0,Be.Ib)(Q.schema,{selector:{context:Ue,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0});return(yield Q.query(mt)).documents})).apply(this,arguments)}var ge="storageToken",Fe=ze(ge,Y);function xe(Q){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,J.A)(function*(Q){var mt=(0,x.z3)(10),Dt=Q.password?yield Q.hashFunction(JSON.stringify(Q.password)):void 0,ln=[{document:{id:Fe,context:Y,key:ge,data:{rxdbVersion:Q.rxdbVersion,token:mt,instanceToken:Q.token,passwordHash:Dt},_deleted:!1,_meta:(0,l.o4)(),_rev:(0,l.Fq)(),_attachments:{}}}],en=yield Q.internalStore.bulkWrite(ln,"internal-add-storage-token");if(!en.error[0])return(0,ae.YN)("id",ln,en)[0];var fn=(0,De.ZN)(en.error[0]);if(fn.isError&&(0,re.sX)(fn)){var On=fn;if(!function We(Q,mt){return!(!Q||mt.includes("beta")&&mt!==Q)&&Q.split(".")[0]===mt.split(".")[0]}(On.documentInDb.data.rxdbVersion,Q.rxdbVersion))throw(0,re.Br)("DM5",{args:{database:Q.name,databaseStateVersion:On.documentInDb.data.rxdbVersion,codeVersion:Q.rxdbVersion}});if(Dt&&Dt!==On.documentInDb.data.passwordHash)throw(0,re.Br)("DB1",{passwordHash:Dt,existingPasswordHash:On.documentInDb.data.passwordHash});return(0,De.ZN)(On.documentInDb)}throw fn})).apply(this,arguments)}function Ie(Q,mt,Dt){return st.apply(this,arguments)}function st(){return(st=(0,J.A)(function*(Q,mt,Dt){if(Q.schema.version!==Dt.version)throw(0,re.Br)("SNH",{schema:Dt,version:Q.schema.version,name:Q.name,collection:Q,args:{storageCollectionName:mt}});for(var ln=ze(ue(Q.name,Q.schema.jsonSchema),Ue);;){var en=yield(0,ae.O5)(Q.database.internalStore,ln),fn=(0,ut.o8)((0,De.ZN)(en));if(fn.data.connectedStorages.find(Ge=>Ge.collectionName===mt&&Ge.schema.version===Dt.version))return;fn.data.connectedStorages.push({collectionName:mt,schema:Dt});try{yield(0,ae.mQ)(Q.database.internalStore,{previous:(0,De.ZN)(en),document:fn},"add-connected-storage-to-collection")}catch(Ge){if(!(0,re.sX)(Ge))throw Ge}}})).apply(this,arguments)}function Qe(Q,mt,Dt){return _e.apply(this,arguments)}function _e(){return(_e=(0,J.A)(function*(Q,mt,Dt){if(Q.schema.version!==Dt.version)throw(0,re.Br)("SNH",{schema:Dt,version:Q.schema.version,name:Q.name,collection:Q,args:{storageCollectionName:mt}});for(var ln=ze(ue(Q.name,Q.schema.jsonSchema),Ue);;){var en=yield(0,ae.O5)(Q.database.internalStore,ln),fn=(0,ut.o8)((0,De.ZN)(en));if(!fn.data.connectedStorages.find(Ge=>Ge.collectionName===mt&&Ge.schema.version===Dt.version))return;fn.data.connectedStorages=fn.data.connectedStorages.filter(Ge=>Ge.collectionName!==mt);try{yield(0,ae.mQ)(Q.database.internalStore,{previous:(0,De.ZN)(en),document:fn},"remove-connected-storage-from-collection")}catch(Ge){if(!(0,re.sX)(Ge))throw Ge}}})).apply(this,arguments)}function ue(Q,mt){return Q+"-"+mt.version}},7396:(Bt,et,O)=>{"use strict";O.d(et,{lB:()=>Q,uh:()=>ln,NI:()=>se});var J=O(467),re=O(6126),me=function(){this._parallels=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function x($,X){if(X){if(X._timeoutObj&&clearTimeout(X._timeoutObj),$._pHM.has(X)){var Z=$._pHM.get(X);$._hPM.delete(Z),$._pHM.delete(X)}$._iC.delete(X)}}function l($){$._tryIR||0===$._iC.size||($._tryIR=!0,setTimeout(function(){$.isIdle()?setTimeout(function(){$.isIdle()?(function ae($){0!==$._iC.size&&($._iC.values().next().value._manRes(),setTimeout(function(){return l($)},0))}($),$._tryIR=!1):$._tryIR=!1},0):$._tryIR=!1},0))}me.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,l(this)},wrapCall:function(X){var ie,Z=this;this.lock();try{ie=X()}catch(ce){throw this.unlock(),ce}return ie.then&&"function"==typeof ie.then?ie.then(function(ce){return Z.unlock(),ce}).catch(function(ce){throw Z.unlock(),ce}):(this.unlock(),ie)},requestIdlePromise:function(X){var Z=this;X=X||{};var ie,ce=new Promise(function(Lt){return ie=Lt});if(ce._manRes=function(){x(Z,ce),ie()},X.timeout){var It=setTimeout(function(){ce._manRes()},X.timeout);ce._timeoutObj=It}return this._iC.add(ce),l(this),ce},cancelIdlePromise:function(X){x(this,X)},requestIdleCallback:function(X,Z){var ie=this._lHN++,ce=this.requestIdlePromise(Z);return this._hPM.set(ie,ce),this._pHM.set(ce,ie),ce.then(function(){return X()}),ie},cancelIdleCallback:function(X){var Z=this._hPM.get(X);this.cancelIdlePromise(Z)},clear:function(){var X=this;this._iC.forEach(function(Z){return x(X,Z)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var De=O(6052),ut=O(5520),Be=O(2060),Ue=O(6434),Y=O(8663),Me=O(203),Ne=O(6243),oe=O(720),ze=O(7650),Re=O(9182),Pe=O(2284),ge=O(1413),Fe=O(1397),xe=O(4395),Ae=O(6893),We=O(9556),Ie=O(2104),st=O(1318),Qe=O(3896),_e=new Set,Q=function(){function $(Z,ie,ce,Te,It,Lt,Rt=!1,Ut={},nn,on,cn,Ht,dn){this.idleQueue=new me,this.rxdbVersion=De.o,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new ge.B,this.observable$=this.eventBulks$.pipe((0,Fe.Z)(rn=>rn.events)),this.storageToken=ut.Dr,this.storageTokenDocument=ut.Dr,this.emittedEventBulkIds=new We.p4(6e4),this.name=Z,this.token=ie,this.storage=ce,this.instanceCreationOptions=Te,this.password=It,this.multiInstance=Lt,this.eventReduce=Rt,this.options=Ut,this.internalStore=nn,this.hashFunction=on,this.cleanupPolicy=cn,this.allowSlowCount=Ht,this.reactivity=dn,"pseudoInstance"!==this.name&&(this.internalStore=(0,Ae.AM)(this.asRxDatabase,nn,Ie.CC),this.storageTokenDocument=(0,Ie.ol)(this.asRxDatabase).catch(rn=>this.startupErrors.push(rn)),this.storageToken=this.storageTokenDocument.then(rn=>rn.data.token).catch(rn=>this.startupErrors.push(rn)))}var X=$.prototype;return X.getReactivityFactory=function(){if(!this.reactivity)throw(0,ze.Br)("DB14",{database:this.name});return this.reactivity},X.$emit=function(ie){this.emittedEventBulkIds.has(ie.id)||(this.emittedEventBulkIds.add(ie.id),this.eventBulks$.next(ie))},X.removeCollectionDoc=function(){var Z=(0,J.A)(function*(ce,Te){var It=yield(0,Ae.O5)(this.internalStore,(0,Ie.lz)((0,Ie.bV)(ce,Te),Ie.Nu));if(!It)throw(0,ze.Br)("SNH",{name:ce,schema:Te});var Lt=(0,Ae.C9)(It);Lt._deleted=!0,yield this.internalStore.bulkWrite([{document:Lt,previous:It}],"rx-database-remove-collection")});return function ie(ce,Te){return Z.apply(this,arguments)}}(),X.addCollections=function(){var Z=(0,J.A)(function*(ce){var Te=this,It={},Lt={},Rt=[],Ut={};yield Promise.all(Object.entries(ce).map(function(){var cn=(0,J.A)(function*([Ht,dn]){var rn=Ht,kn=dn.schema;It[rn]=kn;var Cn=(0,Re.Wq)(kn,Te.hashFunction);if(Lt[rn]=Cn,Te.collections[Ht])throw(0,ze.Br)("DB3",{name:Ht});var Ji=(0,Ie.bV)(Ht,kn),eo={id:(0,Ie.lz)(Ji,Ie.Nu),key:Ji,context:Ie.Nu,data:{name:rn,schemaHash:yield Cn.hash,schema:Cn.jsonSchema,version:Cn.version,connectedStorages:[]},_deleted:!1,_meta:(0,Be.o4)(),_rev:(0,Be.Fq)(),_attachments:{}};Rt.push({document:eo});var Vr=Object.assign({},dn,{name:rn,schema:Cn,database:Te}),Gt=(0,Ue.FD)(dn);Gt.database=Te,Gt.name=Ht,(0,Pe.Xi)("preCreateRxCollection",Gt),Vr.conflictHandler=Gt.conflictHandler,Ut[rn]=Vr});return function(Ht){return cn.apply(this,arguments)}}()));var nn=yield this.internalStore.bulkWrite(Rt,"rx-database-add-collection");yield function W($){return U.apply(this,arguments)}(this),yield Promise.all(nn.error.map(function(){var cn=(0,J.A)(function*(Ht){if(409!==Ht.status)throw(0,ze.Br)("DB12",{database:Te.name,writeError:Ht});var dn=(0,Y.ZN)(Ht.documentInDb),rn=dn.data.name,kn=Lt[rn];if(dn.data.schemaHash!==(yield kn.hash))throw(0,ze.Br)("DB6",{database:Te.name,collection:rn,previousSchemaHash:dn.data.schemaHash,schemaHash:yield kn.hash,previousSchema:dn.data.schema,schema:(0,Y.ZN)(It[rn])})});return function(Ht){return cn.apply(this,arguments)}}()));var on={};return yield Promise.all(Object.keys(ce).map(function(){var cn=(0,J.A)(function*(Ht){var dn=Ut[Ht],rn=yield(0,xe.dN)(dn);on[Ht]=rn,Te.collections[Ht]=rn,Te[Ht]||Object.defineProperty(Te,Ht,{get:()=>Te.collections[Ht]})});return function(Ht){return cn.apply(this,arguments)}}())),on});return function ie(ce){return Z.apply(this,arguments)}}(),X.lockedRun=function(ie){return this.idleQueue.wrapCall(ie)},X.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},X.exportJSON=function(ie){throw(0,Me.u)("json-dump")},X.addState=function(ie){throw(0,Me.u)("state")},X.importJSON=function(ie){throw(0,Me.u)("json-dump")},X.backup=function(ie){throw(0,Me.u)("backup")},X.leaderElector=function(){throw(0,Me.u)("leader-election")},X.isLeader=function(){throw(0,Me.u)("leader-election")},X.waitForLeadership=function(){throw(0,Me.u)("leader-election")},X.migrationStates=function(){throw(0,Me.u)("migration-schema")},X.destroy=function(){var Z=(0,J.A)(function*(){return this.destroyed||(this.destroyed=!0,yield(0,Pe.FX)("preDestroyRxDatabase",this),this.eventBulks$.complete(),this._subs.map(ce=>ce.unsubscribe()),"pseudoInstance"===this.name)?ut.Dr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(ce=>ce()))).then(()=>Promise.all(Object.keys(this.collections).map(ce=>this.collections[ce]).map(ce=>ce.destroy()))).then(()=>this.internalStore.close()).then(()=>_e.delete(this.storage.name+"|"+this.name)).then(()=>!0)});return function ie(){return Z.apply(this,arguments)}}(),X.remove=function(){return this.destroy().then(()=>function en($,X,Z){return fn.apply(this,arguments)}(this.name,this.storage,this.password))},(0,re.A)($,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function Dt($,X,Z,ie,ce,Te){return At.apply(this,arguments)}function At(){return(At=(0,J.A)(function*($,X,Z,ie,ce,Te){return yield X.createStorageInstance({databaseInstanceToken:$,databaseName:Z,collectionName:Ae.OG,schema:Ie.CC,options:ie,multiInstance:ce,password:Te,devMode:Qe.h.isDevMode()})})).apply(this,arguments)}function ln({storage:$,instanceCreationOptions:X,name:Z,password:ie,multiInstance:ce=!0,eventReduce:Te=!0,ignoreDuplicate:It=!1,options:Lt={},cleanupPolicy:Rt,allowSlowCount:Ut=!1,localDocuments:nn=!1,hashFunction:on=Ne.V0,reactivity:cn}){(0,Pe.Xi)("preCreateRxDatabase",{storage:$,instanceCreationOptions:X,name:Z,password:ie,multiInstance:ce,eventReduce:Te,ignoreDuplicate:It,options:Lt,localDocuments:nn}),It||function mt($,X){if(_e.has(X.name+"|"+$))throw(0,ze.Br)("DB8",{name:$,storage:X.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}(Z,$),_e.add($.name+"|"+Z);var Ht=(0,oe.z3)(10);return Dt(Ht,$,Z,X,ce,ie).catch(dn=>{throw _e.delete($.name+"|"+Z),dn}).then(dn=>{var rn=new Q(Z,Ht,$,X,ie,ce,Te,Lt,dn,on,Rt,Ut,cn);return(0,Pe.FX)("createRxDatabase",{database:rn,creator:{storage:$,instanceCreationOptions:X,name:Z,password:ie,multiInstance:ce,eventReduce:Te,ignoreDuplicate:It,options:Lt,localDocuments:nn}}).then(()=>rn)})}function fn(){return(fn=(0,J.A)(function*($,X,Z){var ie=(0,oe.z3)(10),ce=yield Dt(ie,X,$,{},!1,Z),Te=yield(0,Ie.WY)(ce),It=new Set;Te.forEach(Rt=>It.add(Rt.data.name));var Lt=Array.from(It);return yield Promise.all(Lt.map(Rt=>(0,st.vM)(X,ce,ie,$,Rt,Z))),yield(0,Pe.FX)("postRemoveRxDatabase",{databaseName:$,storage:X}),yield ce.remove(),Lt})).apply(this,arguments)}function se($){return be.apply(this,arguments)}function be(){return(be=(0,J.A)(function*($){return(yield $.storageTokenDocument).data.instanceToken===$.token})).apply(this,arguments)}function U(){return(U=(0,J.A)(function*($){if(yield $.storageToken,$.startupErrors[0])throw $.startupErrors[0]})).apply(this,arguments)}},5908:(Bt,et,O)=>{"use strict";O.d(et,{Lt:()=>Qe,Zb:()=>Ie,cM:()=>We,ky:()=>Ae});var J=O(467),re=O(6354),me=O(5964),ae=O(9172),x=O(3294),l=O(6496),De=O(8663),ut=O(1744),Be=O(5520),Ue=O(9403),Y=O(6434),Me=O(720),Ne=O(203),oe=O(7650),ze=O(2284),Re=O(312),Pe=O(3896),ge=O(1885),Fe=O(6893),xe=O(6706),Ae={get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){if(this.isInstanceOfRxDocument)return this._data[this.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this.$.pipe((0,re.T)(ue=>ue._data._deleted))},get deleted$$(){return this.collection.database.getReactivityFactory().fromObservable(this.deleted$,this.getLatest().deleted,this.collection.database)},get deleted(){if(this.isInstanceOfRxDocument)return this._data._deleted},getLatest(){var _e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(_e)},get $(){return this.collection.$.pipe((0,me.p)(ue=>!ue.isLocal),(0,me.p)(ue=>ue.documentId===this.primary),(0,re.T)(ue=>(0,Re.vk)(ue)),(0,ae.Z)(this.collection._docCache.getLatestDocumentData(this.primary)),(0,x.F)((ue,Q)=>ue._rev===Q._rev),(0,re.T)(ue=>this.collection._docCache.getCachedRxDocument(ue)),(0,l.t)(De.bz))},get $$(){return this.collection.database.getReactivityFactory().fromObservable(this.$,this.getLatest()._data,this.collection.database)},get$(_e){if(Pe.h.isDevMode()){if(_e.includes(".item."))throw(0,oe.Br)("DOC1",{path:_e});if(_e===this.primaryPath)throw(0,oe.Br)("DOC2");if(this.collection.schema.finalFields.includes(_e))throw(0,oe.Br)("DOC3",{path:_e});if(!(0,ge.nT)(this.collection.schema.jsonSchema,_e))throw(0,oe.Br)("DOC4",{path:_e})}return this.$.pipe((0,re.T)(Q=>(0,ut.UU)(Q,_e)),(0,x.F)())},get$$(_e){var ue=this.get$(_e);return this.collection.database.getReactivityFactory().fromObservable(ue,this.getLatest().get(_e),this.collection.database)},populate(_e){var ue=(0,ge.nT)(this.collection.schema.jsonSchema,_e),Q=this.get(_e);if(!Q)return Be.$A;if(!ue)throw(0,oe.Br)("DOC5",{path:_e});if(!ue.ref)throw(0,oe.Br)("DOC6",{path:_e,schemaObj:ue});var mt=this.collection.database.collections[ue.ref];if(!mt)throw(0,oe.Br)("DOC7",{ref:ue.ref,path:_e,schemaObj:ue});return"array"===ue.type?mt.findByIds(Q).exec().then(Dt=>{var At=Dt.values();return Array.from(At)}):mt.findOne(Q).exec()},get(_e){return(0,Ue.q)(this._propertyCache,_e,()=>{var ue=(0,ut.UU)(this._data,_e);if("object"!=typeof ue||null===ue||Array.isArray(ue))return Pe.h.deepFreezeWhenDevMode(ue);var Q=this;return new Proxy((0,Y.FD)(ue),{get(Dt,At){if("string"!=typeof At)return Dt[At];var ln=At.charAt(At.length-1);if(At.endsWith("$$")){var en=At.slice(0,-2);return Q.get$$((0,Me.L$)(_e+"."+en))}if("$"===ln){var fn=At.slice(0,-1);return Q.get$((0,Me.L$)(_e+"."+fn))}if("_"===ln){var On=At.slice(0,-1);return Q.populate((0,Me.L$)(_e+"."+On))}return Q.get((0,Me.L$)(_e+"."+At))}})})},toJSON(_e=!1){if(_e)return Pe.h.deepFreezeWhenDevMode(this._data);var ue=(0,Y.FD)(this._data);return delete ue._rev,delete ue._attachments,delete ue._deleted,delete ue._meta,Pe.h.deepFreezeWhenDevMode(ue)},toMutableJSON(_e=!1){return(0,Y.o8)(this.toJSON(_e))},update(_e){throw(0,Ne.u)("update")},incrementalUpdate(_e){throw(0,Ne.u)("update")},updateCRDT(_e){throw(0,Ne.u)("crdt")},putAttachment(){throw(0,Ne.u)("attachments")},getAttachment(){throw(0,Ne.u)("attachments")},allAttachments(){throw(0,Ne.u)("attachments")},get allAttachments$(){throw(0,Ne.u)("attachments")},modify(_e,ue){var Q=this;return(0,J.A)(function*(){var mt=Q._data,Dt=yield(0,xe.Hl)(_e)(mt);return Q._saveData(Dt,mt)})()},incrementalModify(_e,ue){return this.collection.incrementalWriteQueue.addWrite(this._data,(0,xe.Hl)(_e)).then(Q=>this.collection._docCache.getCachedRxDocument(Q))},patch(_e){var ue=this._data,Q=(0,Y.o8)(ue);return Object.entries(_e).forEach(([mt,Dt])=>{Q[mt]=Dt}),this._saveData(Q,ue)},incrementalPatch(_e){return this.incrementalModify(ue=>(Object.entries(_e).forEach(([Q,mt])=>{ue[Q]=mt}),ue))},_saveData(_e,ue){var Q=this;return(0,J.A)(function*(){if(_e=(0,Y.FD)(_e),Q._data._deleted)throw(0,oe.Br)("DOC11",{id:Q.primary,document:Q});yield Qe(Q.collection,_e,ue);var mt=[{previous:ue,document:_e}],Dt=yield Q.collection.storageInstance.bulkWrite(mt,"rx-document-save-data");return(0,Fe.WX)(Q.collection,Q.primary,_e,Dt.error[0]),yield Q.collection._runHooks("post","save",_e,Q),Q.collection._docCache.getCachedRxDocument((0,Fe.YN)(Q.collection.schema.primaryPath,mt,Dt)[0])})()},remove(){var _e=this,ue=this.collection;if(this.deleted)return Promise.reject((0,oe.Br)("DOC13",{document:this,id:this.primary}));var mt,Q=(0,Y.FD)(this._data);return ue._runHooks("pre","remove",Q,this).then((0,J.A)(function*(){Q._deleted=!0;var Dt=[{previous:_e._data,document:Q}],At=yield ue.storageInstance.bulkWrite(Dt,"rx-document-remove");return(0,Fe.WX)(ue,_e.primary,Q,At.error[0]),(0,Fe.YN)(_e.collection.schema.primaryPath,Dt,At)[0]})).then(Dt=>(mt=Dt,this.collection._runHooks("post","remove",Q,this))).then(()=>this.collection._docCache.getCachedRxDocument(mt))},incrementalRemove(){var _e=this;return this.incrementalModify(function(){var ue=(0,J.A)(function*(Q){return yield _e.collection._runHooks("pre","remove",Q,_e),Q._deleted=!0,Q});return function(Q){return ue.apply(this,arguments)}}()).then(function(){var ue=(0,J.A)(function*(Q){return yield _e.collection._runHooks("post","remove",Q._data,Q),Q});return function(Q){return ue.apply(this,arguments)}}())},destroy(){throw(0,oe.Br)("DOC14")}};function We(_e=Ae){var ue=function(mt,Dt){this.collection=mt,this._data=Dt,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return ue.prototype=_e,ue}function Ie(_e,ue,Q){var mt=new _e(ue,Q);return(0,ze.Xi)("createRxDocument",mt),mt}function Qe(_e,ue,Q){return ue._meta=Object.assign({},Q._meta,ue._meta),Pe.h.isDevMode()&&_e.schema.validateChange(Q,ue),_e._runHooks("pre","save",ue,Q)}},7650:(Bt,et,O)=>{"use strict";O.d(et,{sX:()=>ge,Br:()=>Re,JX:()=>Pe,cg:()=>xe});var J=O(6126),re=O(6719);function me(Ae){return(me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)})(Ae)}var ae=O(4394);function l(){try{var Ae=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!Ae})()}function ut(Ae){var We="function"==typeof Map?new Map:void 0;return ut=function(st){if(null===st||!function x(Ae){try{return-1!==Function.toString.call(Ae).indexOf("[native code]")}catch{return"function"==typeof Ae}}(st))return st;if("function"!=typeof st)throw new TypeError("Super expression must either be null or a function");if(void 0!==We){if(We.has(st))return We.get(st);We.set(st,Qe)}function Qe(){return function De(Ae,We,Ie){if(l())return Reflect.construct.apply(null,arguments);var st=[null];st.push.apply(st,We);var Qe=new(Ae.bind.apply(Ae,st));return Ie&&(0,ae.A)(Qe,Ie.prototype),Qe}(st,arguments,me(this).constructor)}return Qe.prototype=Object.create(st.prototype,{constructor:{value:Qe,enumerable:!1,writable:!0,configurable:!0}}),(0,ae.A)(Qe,st)},ut(Ae)}var Be=O(3896);function Y(Ae,We,Ie){return"RxError ("+We+"):\n"+Ae+"\n"+function Ue(Ae){var We="";return 0===Object.keys(Ae).length||(We+="Given parameters: {\n",We+=Object.keys(Ae).map(Ie=>{var st="[object Object]";try{st="errors"===Ie?Ae[Ie].map(Qe=>JSON.stringify(Qe,Object.getOwnPropertyNames(Qe))):JSON.stringify(Ae[Ie],function(Qe,_e){return void 0===_e?null:_e},2)}catch{}return Ie+":"+st}).join("\n"),We+="}"),We}(Ie)}var Me=function(Ae){function We(st,Qe,_e={}){var ue,Q=Y(Qe,st,_e);return(ue=Ae.call(this,Q)||this).code=st,ue.message=Q,ue.url=oe(st),ue.parameters=_e,ue.rxdb=!0,ue}return(0,re.A)(We,Ae),We.prototype.toString=function(){return this.message},(0,J.A)(We,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(ut(Error)),Ne=function(Ae){function We(st,Qe,_e={}){var ue,Q=Y(Qe,st,_e);return(ue=Ae.call(this,Q)||this).code=st,ue.message=Q,ue.url=oe(st),ue.parameters=_e,ue.rxdb=!0,ue}return(0,re.A)(We,Ae),We.prototype.toString=function(){return this.message},(0,J.A)(We,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(ut(TypeError));function oe(Ae){return"https://rxdb.info/errors.html?console=errors#"+Ae}function ze(Ae){return"\n You can find out more about this error here: "+oe(Ae)+" "}function Re(Ae,We){return new Me(Ae,Be.h.tunnelErrorMessage(Ae)+ze(Ae),We)}function Pe(Ae,We){return new Ne(Ae,Be.h.tunnelErrorMessage(Ae)+ze(Ae),We)}function ge(Ae){return!(!Ae||409!==Ae.status)&&Ae}var Fe={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function xe(Ae){return Re("COL20",{name:Fe[Ae.status],document:Ae.documentId,writeError:Ae})}},5365:(Bt,et,O)=>{"use strict";O.d(et,{Lr:()=>Ng,Xw:()=>lT,_V:()=>cT,dx:()=>Yf});var J=O(467),re=O(997),me=O(1885),ae=O(6434),x=O(7176);class l extends Error{}const Be=Number.MAX_SAFE_INTEGER,Ue=Number.MIN_SAFE_INTEGER,Y=Symbol("missing"),Me=Object.freeze(new Error("mingo: cycle detected while processing object/array")),Ne=Object.getPrototypeOf([]),oe=Object.getPrototypeOf({}),Re=/^\[object ([a-zA-Z0-9]+)\]$/;class Pe{}class ge{}const Fe=y=>null===y?Pe:void 0===y?ge:y.constructor,xe=y=>{const b=function eo(y){const b=new Set,D=I=>{const k=Fe(I);if(Qe.has(k))return Qe.get(k)(I);const j=k===Object?"":k.name;if(Z(I.toJSON))return`${j}(${JSON.stringify(I)})`;if(b.has(I))throw Me;b.add(I);try{if(k===Array)return"["+I.map(D).join(",")+"]";if(k!==Object){const[ne,Ee]=kn(I);if(be(I))return`${j}${D([...I,ne])}`;I=ne}const te=Object.keys(I);return te.sort(),`${j}{`+te.map(ne=>`${ne}:${D(I[ne])}`).join(",")+"}"}finally{b.delete(I)}};return D(y)}(y);let D=0,I=b.length;for(;I;)D=(D<<5)-D^b.charCodeAt(--I);return D>>>0},Ae=new Set(["null","undefined","boolean","number","string","date","regexp"]),We=new Set([ge,Pe,Boolean,String,Number]),Ie=y=>y.toString(),st=y=>`${Fe(y).name}[${y.toString()}]`,Qe=new Map([[Number,Ie],[Boolean,Ie],[RegExp,Ie],[Function,Ie],[Symbol,Ie],[Date,y=>y.toISOString()],[String,JSON.stringify],[Pe,y=>"null"],[ge,y=>"undefined"],[Int8Array,st],[Uint8Array,st],[Uint8ClampedArray,st],[Int16Array,st],[Uint16Array,st],[Int32Array,st],[Uint32Array,st],[Float32Array,st],[Float64Array,st]]);typeof BigInt<"u"&&Qe.set(BigInt,y=>"0x"+y.toString(16)),typeof BigInt64Array<"u"&&Qe.set(BigInt64Array,st),typeof BigUint64Array<"u"&&Qe.set(BigUint64Array,st);const _e={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},ue=(y,b)=>{y===Y&&(y=void 0),b===Y&&(b=void 0);const[D,I]=[y,b].map(k=>_e[At(k).toLowerCase()]);return D!==I?D-I:1===D||2===D||6===D?y<b?-1:y>b?1:0:Cn(y,b)?0:y<b?-1:y>b?1:0};function Q(y,b){if(!y)throw new l(b)}const Dt=y=>{if(We.has(Fe(y)))return y;const b=new Set,D=I=>{if(b.has(I))throw Me;const k=Fe(I);if(We.has(k))return I;try{if(be(I))return b.add(I),I.map(D);if(W(I)){b.add(I);const j={};for(const te in I)j[te]=D(I[te]);return j}}finally{b.delete(I)}return k===Date||k===RegExp||(y=>{const b=Object.getPrototypeOf(Fe(y));return b&&"TypedArray"===b.name})(I)?new k(I):I};return D(y)},At=y=>Re.exec(Object.prototype.toString.call(y))[1],ln=y=>"boolean"==typeof y,en=y=>"string"==typeof y,On=y=>!isNaN(y)&&"number"==typeof y,be=Array.isArray,W=y=>{if(!y)return!1;const b=Object.getPrototypeOf(y);return(b===oe||null===b)&&"[object Object]"===Object.prototype.toString.call(y)},U=y=>y===Object(y),$=y=>y instanceof Date,X=y=>y instanceof RegExp,Z=y=>"function"==typeof y,ie=y=>null==y,ce=(y,b)=>y.includes(b),Te=(y,b)=>!ce(y,b),Lt=y=>ie(y)||en(y)&&!y||y instanceof Array&&0===y.length||W(y)&&0===Object.keys(y).length,Rt=y=>y===Y,Ut=y=>y instanceof Array?y:[y],nn=(y,b)=>!!y&&Object.prototype.hasOwnProperty.call(y,b),on=(y,b)=>W(y)&&W(b)||be(y)&&be(b);function cn(y,b,D){if(D=D||{flatten:!1},Rt(y)||ie(y))return b;if(Rt(b)||ie(b))return y;if(!on(y,b)){if(D.skipValidation)return b||y;throw Error("mismatched types. must both be array or object")}if(D.skipValidation=!0,be(y)){const I=y,k=b;if(D.flatten){let j=0,te=0;for(;j<I.length&&te<k.length;)I[j]=cn(I[j++],k[te++],D);for(;te<k.length;)I.push(b[te++])}else Jn(I,k)}else for(const I in b)y[I]=cn(y[I],b[I],D);return y}function Ht(y,b=xe){const D=new Map;return y.forEach((I,k)=>{const j=Vr(I,b);D.has(j)?D.get(j).some(te=>Cn(y[te],I))||D.get(j).push(k):D.set(j,[k])}),D}function dn(y,b=xe){if(y.some(ne=>0==ne.length))return[];if(1===y.length)return Array.from(y);const D=function Gt(y,b,D=ue){if(Lt(y))return y;const I=new Array,k=new Array;for(let j=0;j<y.length;j++){const te=y[j],ne=b(te,j);ie(ne)?k.push(te):I.push([ne,te])}return I.sort((j,te)=>D(j[0],te[0])),Jn(k,I.map(j=>j[1]))}(y.map((ne,Ee)=>[Ee,ne.length]),ne=>ne[1]),I=y[D[0][0]],k=Ht(I,b),j=new Map,te=new Array;return k.forEach((ne,Ee)=>{const ct=ne.map(Jt=>I[Jt]),ot=ct.map(Jt=>0),Tt=ct.map(Jt=>[D[0][0],0]);let St=!1;for(let Jt=1;Jt<y.length;Jt++){const[pn,xn]=D[Jt],er=y[pn];if(j.has(Jt)||j.set(Jt,Ht(er)),j.get(Jt).has(Ee)){const _r=j.get(Jt).get(Ee).map(Ir=>er[Ir]);St=ct.map((Ir,xo)=>_r.some((xr,so)=>{const ii=ot[xo];return Cn(Ir,xr)&&(ot[xo]++,pn<Tt[xo][0]&&(Tt[xo]=[pn,j.get(Jt).get(Ee)[so]])),ii<ot[xo]})).some(Boolean)}if(!St)return}St&&Jn(te,ot.map((Jt,pn)=>Jt===y.length-1?[ct[pn],Tt[pn]]:Y).filter(Jt=>Jt!==Y))}),te.sort((ne,Ee)=>{const[ct,[ot,Tt]]=ne,[St,[Jt,pn]]=Ee,xn=ue(ot,Jt);return 0!==xn?xn:ue(Tt,pn)}).map(ne=>ne[0])}function rn(y,b=0){const D=new Array;return function I(k,j){for(let te=0,ne=k.length;te<ne;te++)be(k[te])&&(j>0||j<0)?I(k[te],Math.max(-1,j-1)):D.push(k[te])}(y,b),D}const kn=y=>{let[b,D]=[Object.getPrototypeOf(y),Object.getOwnPropertyNames(y)],I=b;for(;!D.length&&b!==oe&&b!==Ne;)I=b,D=Object.getOwnPropertyNames(b),b=Object.getPrototypeOf(b);const k={};return D.forEach(j=>k[j]=y[j]),[k,I]};function Cn(y,b){const D=[[y,b]];for(;D.length>0;){if([y,b]=D.pop(),y===b)continue;const I=Fe(y);if(I!==Fe(b)||Z(y))return!1;if(Qe.has(I)){const k=Qe.get(I);if(k(y)!==k(b))return!1}else{if(I!==Array&&I!==Object)return!1;{const k=Object.keys(y),j=Object.keys(b);if(k.length!==j.length||new Set(k.concat(j)).size!=k.length)return!1;for(const te of k)D.push([y[te],b[te]])}}}return!D.length}function Vr(y,b){return b=b||xe,ie(y)?null:b(y).toString()}function yr(y,b,D=xe){if(y.length<1)return new Map;const I=new Map,k=new Map;for(let j=0;j<y.length;j++){const te=y[j],ne=b(te,j),Ee=Vr(ne,D);if(null===Ee)k.has(null)?k.get(null).push(te):k.set(null,[te]);else{const ct=I.has(Ee)?I.get(Ee).find(ot=>Cn(ot,ne)):null;ie(ct)?(k.set(ne,[te]),I.has(Ee)?I.get(Ee).push(ne):I.set(Ee,[ne])):k.get(ct).push(te)}}return k}const fr=5e4;function Jn(y,...b){return y instanceof Array?b.reduce((D,I)=>{let k=Math.ceil(I.length/fr),j=0;for(;k-- >0;)Array.prototype.push.apply(D,I.slice(j,j+fr)),j+=fr;return D},y):b.filter(U).reduce((D,I)=>(Object.assign(D,I),D),y)}function or(y,b){return U(y)?y[b]:void 0}function Vo(y,b,D){let I=0;const j=Ae.has(At(y).toLowerCase())?y:function k(te,ne){let Ee=te;for(let ct=0;ct<ne.length;ct++){const ot=ne[ct];if(null===/^\d+$/.exec(ot)&&Ee instanceof Array){if(0===ct&&I>0)break;I+=1;const St=ne.slice(ct);Ee=Ee.reduce((Jt,pn)=>{const xn=k(pn,St);return void 0!==xn&&Jt.push(xn),Jt},[]);break}if(Ee=or(Ee,ot),void 0===Ee)break}return Ee}(y,b.split("."));return j instanceof Array&&D?.unwrapArray?function jt(y,b){if(b<1)return y;for(;b--&&1===y.length;)y=y[0];return y}(j,I):j}function wo(y,b,D){const I=b.split("."),k=I[0],j=I.slice(1).join("."),te=null!==/^\d+$/.exec(k),ne=I.length>1;let Ee,ct;if(y instanceof Array)if(te)Ee=or(y,Number(k)),ne&&(Ee=wo(Ee,j,D)),Ee=[Ee];else{Ee=[];for(const ot of y)ct=wo(ot,b,D),D?.preserveMissing?(void 0===ct&&(ct=Y),Ee.push(ct)):void 0!==ct&&Ee.push(ct)}else{if(ct=or(y,k),ne&&(ct=wo(ct,j,D)),void 0===ct)return;Ee=D?.preserveKeys?Object.assign({},y):{},Ee[k]=ct}return Ee}function Ks(y){if(y instanceof Array)for(let b=y.length-1;b>=0;b--)y[b]===Y?y.splice(b,1):Ks(y[b]);else if(W(y))for(const b in y)nn(y,b)&&Ks(y[b])}const Pt=/^\d+$/;function Bo(y,b,D,I){const k=b.split("."),j=k[0],te=k.slice(1).join(".");if(1===k.length)(W(y)||be(y)&&Pt.test(j))&&D(y,j);else{I?.buildGraph&&ie(y[j])&&(y[j]={});const ne=y[j];if(!ne)return;const Ee=!!(k.length>1&&Pt.test(k[1]));ne instanceof Array&&I?.descendArray&&!Ee?ne.forEach(ct=>Bo(ct,te,D,I)):Bo(ne,te,D,I)}}function qs(y,b,D){Bo(y,b,(I,k)=>{I[k]=Z(D)?D(I[k]):D},{buildGraph:!0})}function Xs(y,b,D){Bo(y,b,(I,k)=>{if(I instanceof Array){if(/^\d+$/.test(k))I.splice(parseInt(k),1);else if(D&&D.descendArray)for(const j of I)W(j)&&delete j[k]}else W(I)&&delete I[k]},D)}const Xa=/^\$[a-zA-Z0-9_]+$/;function to(y){return Xa.test(y)}function Br(y){if(Ae.has(At(y).toLowerCase()))return X(y)?{$regex:y}:{$eq:y};if(U(y)){if(!Object.keys(y).some(to))return{$eq:y};if(nn(y,"$regex")){const D=Object.assign({},y);return D.$regex=new RegExp(y.$regex,y.$options),delete D.$options,D}}return y}var br=O(7650),li=function(y){return y.CLONE_ALL="CLONE_ALL",y.CLONE_INPUT="CLONE_INPUT",y.CLONE_OUTPUT="CLONE_OUTPUT",y.CLONE_OFF="CLONE_OFF",y}(li||{});class Io{constructor(b,D,I,k=Date.now()){this._opts=b,this._root=D,this._local=I,this.timestamp=k,this.update(D,I)}static init(b,D,I){return b instanceof Io?new Io(b._opts,ie(b.root)?D:b.root,Object.assign({},b.local,I)):new Io(b,D,I)}update(b,D){var I;return this._root=b,this._local=D&&Object.assign({},D,{variables:Object.assign({},null===(I=this._local)||void 0===I?void 0:I.variables,D?.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:pr.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collation}get processingMode(){var b;return(null===(b=this._opts)||void 0===b?void 0:b.processingMode)||li.CLONE_OFF}get useStrictMode(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useStrictMode}get scriptEnabled(){var b;return null===(b=this._opts)||void 0===b?void 0:b.scriptEnabled}get useGlobalContext(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useGlobalContext}get hashFunction(){var b;return null===(b=this._opts)||void 0===b?void 0:b.hashFunction}get collectionResolver(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collectionResolver}get jsonSchemaValidator(){var b;return null===(b=this._opts)||void 0===b?void 0:b.jsonSchemaValidator}get variables(){var b;return null===(b=this._opts)||void 0===b?void 0:b.variables}get context(){var b;return null===(b=this._opts)||void 0===b?void 0:b.context}}function Qa(y){return y instanceof Io?y.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:li.CLONE_OFF},y),{context:y?.context?pr.from(y?.context):pr.init({})}))}var vn=function(y){return y.ACCUMULATOR="accumulator",y.EXPRESSION="expression",y.PIPELINE="pipeline",y.PROJECTION="projection",y.QUERY="query",y.WINDOW="window",y}(vn||{});class pr{constructor(b){this.operators={[vn.ACCUMULATOR]:{},[vn.EXPRESSION]:{},[vn.PIPELINE]:{},[vn.PROJECTION]:{},[vn.QUERY]:{},[vn.WINDOW]:{}};for(const[D,I]of Object.entries(b))this.addOperators(D,I)}static init(b={}){return new pr(b)}static from(b){return new pr(b.operators)}addOperators(b,D){for(const[I,k]of Object.entries(D))this.getOperator(b,I)||(this.operators[b][I]=k);return this}addAccumulatorOps(b){return this.addOperators(vn.ACCUMULATOR,b)}addExpressionOps(b){return this.addOperators(vn.EXPRESSION,b)}addQueryOps(b){return this.addOperators(vn.QUERY,b)}addPipelineOps(b){return this.addOperators(vn.PIPELINE,b)}addProjectionOps(b){return this.addOperators(vn.PROJECTION,b)}addWindowOps(b){return this.addOperators(vn.WINDOW,b)}getOperator(b,D){return b in this.operators&&this.operators[b][D]||null}}const is=pr.init();function Qs(y,b){for(const[D,I]of Object.entries(b)){Q(Z(I)&&to(D),`'${D}' is not a valid operator`);const k=Co(y,D,null);Q(!k||I===k,`${D} already exists for '${y}' operators. Cannot change operator function once registered.`)}switch(y){case vn.ACCUMULATOR:is.addAccumulatorOps(b);break;case vn.EXPRESSION:is.addExpressionOps(b);break;case vn.PIPELINE:is.addPipelineOps(b);break;case vn.PROJECTION:is.addProjectionOps(b);break;case vn.QUERY:is.addQueryOps(b);break;case vn.WINDOW:is.addWindowOps(b)}}function Co(y,b,D){const{context:I,useGlobalContext:k}=D||{},j=I?I.getOperator(y,b):null;return!j&&k?is.getOperator(y,b):j}const Ys={$$ROOT:(y,b,D)=>D.root,$$CURRENT:(y,b,D)=>y,$$REMOVE(y,b,D){},$$NOW:(y,b,D)=>new Date(D.timestamp)},Sc={$$KEEP:(y,b,D)=>y,$$PRUNE(y,b,D){},$$DESCEND(y,b,D){if(!nn(b,"$cond"))return y;let I;for(const[k,j]of Object.entries(y))if(U(j)){if(j instanceof Array){const te=[];for(let ne of j)W(ne)&&(ne=Uo(ne,b,D.update(ne))),ie(ne)||te.push(ne);I=te}else I=Uo(j,b,D.update(j));ie(I)?delete y[k]:y[k]=I}return y}};function Wn(y,b,D,I){var k;const j=Io.init(I,y);if(to(D=D||"")){const te=Co(vn.EXPRESSION,D,I);if(te)return te(y,b,j);const ne=Co(vn.ACCUMULATOR,D,I);if(ne)return y instanceof Array||(y=Wn(y,b,null,j),b=null),Q(y instanceof Array,`'${D}' target must be an array.`),ne(y,b,j.update(null,j.local));throw new l(`operator '${D}' is not registered`)}if(en(b)&&b.length>0&&"$"===b[0]){if(nn(Sc,b))return b;let te=j.root;const ne=b.split(".");if(nn(Ys,ne[0]))te=Ys[ne[0]](y,null,j),b=b.slice(ne[0].length+1);else if("$$"===ne[0].slice(0,2)){te=Object.assign({},j.variables,{this:y},null===(k=j.local)||void 0===k?void 0:k.variables);const Ee=ne[0].slice(2);Q(nn(te,Ee),`Use of undefined variable: ${Ee}`),b=b.slice(2)}else b=b.slice(1);return""===b?te:Vo(te,b)}if(be(b))return b.map(te=>Wn(y,te,null,j));if(W(b)){const te={};for(const[ne,Ee]of Object.entries(b))if(te[ne]=Wn(y,Ee,ne,j),[vn.EXPRESSION,vn.ACCUMULATOR].some(ct=>!!Co(ct,ne,I)))return Q(1===Object.keys(b).length,"Invalid aggregation expression '"+JSON.stringify(b)+"'"),te[ne];return te}return b}function Uo(y,b,D){const I=Wn(y,b,null,D);return nn(Sc,I)?Sc[I](y,b,D):I}function Oi(y){return y instanceof Nn?y:new Nn(y)}function os(y,b){const D=y.slice(b+1);y.splice(b),Array.prototype.push.apply(y,D)}const ss=new Error;var ui=function(y){return y[y.MAP=0]="MAP",y[y.FILTER=1]="FILTER",y[y.TAKE=2]="TAKE",y[y.DROP=3]="DROP",y}(ui||{});class Nn{constructor(b){let D;if(this.iteratees=[],this.yieldedValues=[],this.isDone=!1,b instanceof Function&&(b={next:b}),function fl(y){return!!y&&"object"==typeof y&&y?.next instanceof Function}(b)){const I=b;D=()=>{const k=I.next();if(k.done)throw ss;return k.value}}else if(b instanceof Array){const I=b,k=b.length;let j=0;D=()=>{if(j<k)return I[j++];throw ss}}else if(!(b instanceof Function))throw new l("Lazy must be initialized with an array, generator, or function.");this.getNext=function fo(y,b,D){let I=!1,k=-1,j=0;return function(te){try{e:for(;!I;){let ne=y();k++;let Ee=-1;const ct=b.length;let ot=!1;for(;++Ee<ct;){const Tt=b[Ee];switch(Tt.action){case ui.MAP:ne=Tt.func(ne,k);break;case ui.FILTER:if(!Tt.func(ne,k))continue e;break;case ui.TAKE:--Tt.count,Tt.count||(ot=!0);break;case ui.DROP:--Tt.count,Tt.count||os(b,Ee);continue e;default:break e}}if(I=ot,!te)return{value:ne,done:!1};D[j++]=ne}}catch(ne){if(ne!==ss)throw ne}return I=!0,{done:I}}}(D,this.iteratees,this.yieldedValues)}push(b,D){return"function"==typeof D?this.iteratees.push({action:b,func:D}):"number"==typeof D&&this.iteratees.push({action:b,count:D}),this}next(){return this.getNext()}map(b){return this.push(ui.MAP,b)}filter(b){return this.push(ui.FILTER,b)}take(b){return b>0?this.push(ui.TAKE,b):this}drop(b){return b>0?this.push(ui.DROP,b):this}transform(b){const D=this;let I;return Oi(()=>(I||(I=Oi(b(D.value()))),I.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(b){for(;;){const D=this.next();if(D.done)break;if(!1===b(D.value))return!1}return!0}reduce(b,D){let I=this.next();for(void 0===D&&!I.done&&(D=I.value,I=this.next());!I.done;)D=b(D,I.value),I=this.next();return D}size(){return this.reduce((b,D)=>++b,0)}[Symbol.iterator](){return this}}class gn{constructor(b,D){this.pipeline=b,this.options=Qa(D)}stream(b){let D=Oi(b);const I=this.options.processingMode;(I==li.CLONE_ALL||I==li.CLONE_INPUT)&&D.map(Dt);const k=new Array;if(!Lt(this.pipeline))for(const j of this.pipeline){const te=Object.keys(j),ne=te[0],Ee=Co(vn.PIPELINE,ne,this.options);Q(1===te.length&&!!Ee,`invalid pipeline operator ${ne}`),k.push(ne),D=Ee(D,j[ne],this.options)}return(I==li.CLONE_OUTPUT||I==li.CLONE_ALL&&dn([["$group","$unwind"],k]).length)&&D.map(Dt),D}run(b){return this.stream(b).value()}}class as{constructor(b,D,I,k){this.source=b,this.predicate=D,this.projection=I,this.options=k,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result||(W(this.projection)&&this.operators.push({$project:this.projection}),this.result=Oi(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new gn(this.operators,this.options).stream(this.result))),this.result}fetchAll(){const b=Oi([...this.buffer]);return this.buffer=[],function Da(...y){let b=0;return Oi(()=>{for(;b<y.length;){const D=y[b].next();if(!D.done)return D;b++}return{done:!0}})}(b,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(b){return this.operators.push({$skip:b}),this}limit(b){return this.operators.push({$limit:b}),this}sort(b){return this.operators.push({$sort:b}),this}collation(b){return this.options=Object.assign(Object.assign({},this.options),{collation:b}),this}next(){if(this.buffer.length>0)return this.buffer.pop();const b=this.fetch().next();return b.done?void 0:b.value}hasNext(){if(this.buffer.length>0)return!0;const b=this.fetch().next();return!b.done&&(this.buffer.push(b.value),!0)}map(b){return this.all().map(b)}forEach(b){this.all().forEach(b)}[Symbol.iterator](){return this.fetchAll()}}class di{constructor(b,D){this.condition=b,this.options=Qa(D),this.compiled=[],this.compile()}compile(){Q(W(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);const b={};for(const[D,I]of Object.entries(this.condition)){if("$where"===D)Object.assign(b,{field:D,expr:I});else if(ce(["$and","$or","$nor","$expr","$jsonSchema"],D))this.processOperator(D,D,I);else{Q(!to(D),`unknown top level operator: ${D}`);for(const[k,j]of Object.entries(Br(I)))this.processOperator(D,k,j)}b.field&&this.processOperator(b.field,b.field,b.expr)}}processOperator(b,D,I){const k=Co(vn.QUERY,D,this.options);if(!k)throw new l(`unknown query operator ${D}`);const j=k(b,I,this.options);this.compiled.push(j)}test(b){for(let D=0,I=this.compiled.length;D<I;D++)if(!this.compiled[D](b))return!1;return!0}find(b,D){return new as(b,I=>this.test(I),D||{},this.options)}remove(b){return b.reduce((D,I)=>(this.test(I)||D.push(I),D),[])}}const Eu=(y,b,D)=>{if(Lt(b)||!W(b))return y;let I=ue;const k=D.collation;return W(k)&&en(k.locale)&&(I=function vl(y){const b={sensitivity:wu[y.strength||3],caseFirst:"off"===y.caseFirst?"false":y.caseFirst||"false",numeric:y.numericOrdering||!1,ignorePunctuation:"shifted"===y.alternate};!0===(y.caseLevel||!1)&&("base"===b.sensitivity&&(b.sensitivity="case"),"accent"===b.sensitivity&&(b.sensitivity="variant"));const D=new Intl.Collator(y.locale,b);return(I,k)=>{if(!en(I)||!en(k))return ue(I,k);const j=D.compare(I,k);return j<0?-1:j>0?1:0}}(k)),y.transform(j=>{const te=Object.keys(b);for(const ne of te.reverse()){const Ee=yr(j,ot=>Vo(ot,ne),D.hashFunction),ct=Array.from(Ee.keys()).sort(I);-1===b[ne]&&ct.reverse(),ct.reduce((ot,Tt)=>Jn(ot,Ee.get(Tt)),j=[])}return j})},wu={1:"base",2:"accent",3:"variant"};function io(y){const b=(D,I,k)=>{const j={unwrapArray:!0},te=Math.max(1,D.split(".").length-1);return ne=>{const Ee=Vo(ne,D,j);return y(Ee,I,Object.assign(Object.assign({},k),{depth:te}))}};return b.op="query",b}function nc(y){return(b,D,I)=>{const k=Wn(b,D,null,I);return y(...k)}}function $d(y,b,D){if(Cn(y,b)||ie(y)&&ie(b))return!0;if(y instanceof Array){const I=Cn.bind(null,b);return y.some(I)||rn(y,D?.depth).some(I)}return!1}function Kn(y,b,D){return!$d(y,b,D)}function oa(y,b,D){return ie(y)?b.some(I=>null===I):dn([Ut(y),b],D?.hashFunction).length>0}function ur(y,b,D){return!oa(y,b,D)}function Pa(y,b,D){return ye(y,b,(I,k)=>ue(I,k)<0)}function oo(y,b,D){return ye(y,b,(I,k)=>ue(I,k)<=0)}function Au(y,b,D){return ye(y,b,(I,k)=>ue(I,k)>0)}function El(y,b,D){return ye(y,b,(I,k)=>ue(I,k)>=0)}function Tn(y){return to(y)&&-1===["$and","$or","$nor"].indexOf(y)}function v(y,b,D){if(be(y)&&!Lt(y)){let I=te=>te,k=b;Object.keys(b).every(Tn)&&(k={temp:b},I=te=>({temp:te}));const j=new di(k,D);for(let te=0,ne=y.length;te<ne;te++)if(j.test(I(y[te])))return!0}return!1}const C=y=>null===y,S=y=>On(y)&&y>=-2147483648&&y<=2147483647&&-1===y.toString().indexOf("."),N=y=>On(y)&&y>=Ue&&y<=Be&&-1===y.toString().indexOf("."),V={array:be,bool:ln,boolean:ln,date:$,decimal:On,double:On,int:S,long:N,number:On,null:C,object:W,regex:X,regexp:X,string:en,undefined:ie,function:y=>{throw new l("unsupported type key `function`.")},1:On,2:en,3:W,4:be,6:ie,8:ln,9:$,10:C,11:X,16:S,18:N,19:On};function H(y,b,D){const I=V[b];return!!I&&I(y)}function ye(y,b,D){return Ut(y).some(I=>At(I)===At(b)&&D(I,b))}nc(ur);const He=(y,b)=>(D,I,k)=>{Q(be(I),`${y}: expression must be an array.`);const j=Wn(D,I,null,k);return j.some(ie)?null:(Q(j.every(On),`${y}: expression must evalue to array of numbers.`),b(j))};He("$bitAnd",y=>y.reduce((b,D)=>b&D,-1)),He("$bitOr",y=>y.reduce((b,D)=>b|D,0)),He("$bitXor",y=>y.reduce((b,D)=>b^D,0)),nc($d),nc(Au),nc(El),nc(Pa),nc(oo),nc(Kn);const gg=(y,b)=>{const D={};return y.split("").forEach((I,k)=>D[I]=b*(k+1)),D};Object.assign(Object.assign(Object.assign({},gg("ABCDEFGHIKLM",1)),gg("NOPQRSTUVWXY",-1)),{Z:0});const Wd={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function Go(y,b=Wd){const D=Object.assign({},Wd,b),I=new Set(Object.keys(D));return(k,j,te)=>{const ne=Wn(k,j,null,te);if(I.has(`${ne}`)){const Ee=D[`${ne}`];if(Ee instanceof Error)throw new l(`cannot apply $${y.name} to -inf, value must in (-inf,inf)`);return Ee}return y(ne)}}Go(Math.acos,{Infinity:1/0,0:new Error}),Go(Math.acosh,{Infinity:1/0,0:new Error}),Go(Math.asin),Go(Math.asinh,{Infinity:1/0,"-Infinity":-1/0}),Go(Math.atan),Go(Math.atanh,{1:1/0,"-1":-1/0}),Go(Math.cos),Go(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const Dg=Math.PI/180,Tg=(Go(y=>y*Dg,{Infinity:1/0,"-Infinity":1/0}),180/Math.PI);Go(y=>y*Tg,{Infinity:1/0,"-Infinity":-1/0}),Go(Math.sin),Go(Math.sinh,{"-Infinity":-1/0,Infinity:1/0}),Go(Math.tan),Error;const Wf=(y,b,D)=>{if(Lt(b))return y;let I=Object.keys(b),k=!1;la(b,D);const j=D.idKey;if(ce(I,j)){const ne=b[j];(0===ne||!1===ne)&&(I=I.filter(Te.bind(null,[j])),k=0==I.length)}else I.push(j);const te=Io.init(D);return y.map(ne=>eh(ne,b,te.update(ne),I,k))};function eh(y,b,D,I,k){let j={},te=!1,ne=!1;const Ee=[];k&&Ee.push(D.idKey);for(const ct of I){let ot;const Tt=b[ct];if(ct!==D.idKey&&ce([0,!1],Tt)&&(ne=!0),ct===D.idKey&&Lt(Tt))ot=y[ct];else if(en(Tt))ot=Wn(y,Tt,ct,D);else if(!ce([1,!0],Tt))if(Tt instanceof Array)ot=Tt.map(Jt=>{const pn=Wn(y,Jt,null,D);return ie(pn)?null:pn});else{if(!W(Tt)){Ee.push(ct);continue}{const Jt=Tt,pn=Object.keys(Tt),xn=1==pn.length?pn[0]:"",er=Co(vn.PROJECTION,xn,D);if(er)"$slice"===xn?Ut(Jt[xn]).every(On)?(ot=er(y,Jt[xn],ct,D),te=!0):ot=Wn(y,Jt,ct,D):ot=er(y,Jt[xn],ct,D);else if(to(xn))ot=Wn(y,Jt[xn],xn,D);else if(nn(y,ct)){la(Jt,D);let _r=y[ct];_r instanceof Array?ot=_r.map(Ir=>eh(Ir,Jt,D,pn,!1)):(_r=W(_r)?_r:y,ot=eh(_r,Jt,D,pn,!1))}else ot=Wn(y,Tt,null,D)}}const St=wo(y,ct,{preserveMissing:!0});void 0!==St&&cn(j,St,{flatten:!0}),Te([0,1,!1,!0],Tt)&&(void 0===ot?Xs(j,ct,{descendArray:!0}):qs(j,ct,ot))}if(Ks(j),(te||ne||k)&&(j=Jn({},y,j),Ee.length>0))for(const ct of Ee)Xs(j,ct,{descendArray:!0});return j}function la(y,b){const D=[!1,!1];for(const[I,k]of Object.entries(y)){if(I===b?.idKey)return;0===k||!1===k?D[0]=!0:(1===k||!0===k)&&(D[1]=!0),Q(!(D[0]&&D[1]),"Projection cannot have a mix of inclusion and exclusion.")}}const Mg=(y,b,D)=>{Q(be(b),"Invalid expression: $and expects value to be an Array.");const I=b.map(k=>new di(k,D));return k=>I.every(j=>j.test(k))},Xf=(y,b,D)=>{Q(be(b),"Invalid expression. $or expects value to be an Array");const I=b.map(k=>new di(k,D));return k=>I.some(j=>j.test(k))},rT=(y,b,D)=>{Q(be(b),"Invalid expression. $nor expects value to be an array.");const I=Xf("$or",b,D);return k=>!I(k)},Rg=(y,b,D)=>{const I={};I[y]=Br(b);const k=new di(I,D);return j=>!k.test(j)},Tl=io($d),l0=io(Au),u0=io(El),iT=io(oa),Og=io(Pa),Pg=io(oo),kg=io(Kn),Qf=io(ur),oT=io(function xs(y,b,D){return Ut(y).some(I=>2===b.length&&I%b[0]===b[1])}),d0=io(function $o(y,b,D){const I=Ut(y),k=j=>en(j)&&((y,b=!0)=>!!y||b&&""===y)(b.exec(j),D?.useStrictMode);return I.some(k)||rn(I,1).some(k)});io(function ka(y,b,D){if(!(be(y)&&be(b)&&y.length&&b.length))return!1;let I=!0;for(const k of b){if(!I)break;I=W(k)&&ce(Object.keys(k),"$elemMatch")?v(y,k.$elemMatch,D):k instanceof RegExp?y.some(j=>"string"==typeof j&&k.test(j)):y.some(j=>Cn(k,j))}return I});const f0=io(v),Al=io(function sa(y,b,D){return Array.isArray(y)&&y.length===b}),sT=io(function wl(y,b,D){return(!1===b||0===b)&&void 0===y||(!0===b||1===b)&&void 0!==y}),aT=io(function ee(y,b,D){return Array.isArray(b)?b.findIndex(I=>H(y,I))>=0:H(y,b)});var p0=!1;function cT(y,b){var D=(0,me.xQ)(y.primaryKey);b=(0,ae.FD)(b);var I=(0,ae.o8)(b);if("number"!=typeof I.skip&&(I.skip=0),I.selector?(I.selector=I.selector,Object.entries(I.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot)&&(I.selector[ct]={$eq:ot})})):I.selector={},I.index){var k=(0,x.$r)(I.index);k.includes(D)||k.push(D),I.index=k}if(I.sort)I.sort.find(ct=>(0,ae.Ln)(ct)===D)||(I.sort=I.sort.slice(0),I.sort.push({[D]:"asc"}));else if(I.index)I.sort=I.index.map(ct=>({[ct]:"asc"}));else{if(y.indexes){var j=new Set;Object.entries(I.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot||Object.keys(ot).find(St=>re.Cf.has(St)))&&j.add(ct)});var ne,te=-1;y.indexes.forEach(ct=>{var ot=(0,x.k_)(ct)?ct:[ct],Tt=ot.findIndex(St=>!j.has(St));Tt>0&&Tt>te&&(te=Tt,ne=ot)}),ne&&(I.sort=ne.map(ct=>({[ct]:"asc"})))}I.sort||(I.sort=[{[D]:"asc"}])}return I}function lT(y,b){if(!b.sort)throw(0,br.Br)("SNH",{query:b});var D=[];return b.sort.forEach(k=>{var j=Object.keys(k)[0],te=Object.values(k)[0];D.push({key:j,direction:te,getValueFn:(0,ae.SQ)(j)})}),(k,j)=>{for(var te=0;te<D.length;++te){var ne=D[te],Ee=ne.getValueFn(k),ct=ne.getValueFn(j);if(Ee!==ct)return"asc"===ne.direction?ue(Ee,ct):ue(ct,Ee)}}}function Ng(y,b){if(!b.sort)throw(0,br.Br)("SNH",{query:b});var D=function m0(y){return p0||(Qs(vn.PIPELINE,{$sort:Eu,$project:Wf}),Qs(vn.QUERY,{$and:Mg,$eq:Tl,$elemMatch:f0,$exists:sT,$gt:l0,$gte:u0,$in:iT,$lt:Og,$lte:Pg,$ne:kg,$nin:Qf,$mod:oT,$nor:rT,$not:Rg,$or:Xf,$regex:d0,$size:Al,$type:aT}),p0=!0),new di(y)}(b.selector);return k=>D.test(k)}function Yf(y,b){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,J.A)(function*(y,b){var D=yield y.exec();return D?Array.isArray(D)?Promise.all(D.map(k=>b(k))):yield b(D):null})).apply(this,arguments)}},5672:(Bt,et,O)=>{"use strict";O.d(et,{Mh:()=>To,XX:()=>ea,nd:()=>Oc,Ib:()=>yu});var J=O(467),re=O(6126),me=O(4412),ae=O(4843),x=O(7786),l=O(5964),De=O(9172),ut=O(1397),Be=O(6354),Ue=O(6496),Y=O(3294),Me=O(4552),Ne=O(5520),oe=O(8663),ze=O(6434),Re=O(203),Pe=O(2060),ge=O(7176),Fe=O(7650),xe=O(2284);const Ie=z=>{z.previousResults.unshift(z.changeEvent.doc),z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,z.changeEvent.doc)},st=z=>{z.previousResults.push(z.changeEvent.doc),z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,z.changeEvent.doc)},Qe=z=>{const Oe=z.previousResults.shift();z.keyDocumentMap&&Oe&&z.keyDocumentMap.delete(Oe[z.queryParams.primaryKey])},_e=z=>{const Oe=z.previousResults.pop();z.keyDocumentMap&&Oe&&z.keyDocumentMap.delete(Oe[z.queryParams.primaryKey])},At=z=>{z.keyDocumentMap&&z.keyDocumentMap.delete(z.changeEvent.id);const Oe=z.queryParams.primaryKey,Je=z.previousResults;for(let dt=0;dt<Je.length;dt++)if(Je[dt][Oe]===z.changeEvent.id){Je.splice(dt,1);break}},fn=z=>{const Oe=z.changeEvent.id,Je=z.changeEvent.doc;if(z.keyDocumentMap){if(z.keyDocumentMap.has(Oe))return;z.keyDocumentMap.set(Oe,Je)}else if(z.previousResults.find(Nt=>Nt[z.queryParams.primaryKey]===Oe))return;!function Ae(z,Oe,Je,dt){var Yn,Nt=z.length,Dn=Nt-1,Fn=0;if(0===Nt)return z.push(Oe),0;for(;dt<=Dn;)Je(Yn=z[Fn=dt+(Dn-dt>>1)],Oe)<=0?dt=Fn+1:Dn=Fn-1;Je(Yn,Oe)<=0&&Fn++,z.splice(Fn,0,Oe)}(z.previousResults,Je,z.queryParams.sortComparator,0)},be=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],W={doNothing:z=>{},insertFirst:Ie,insertLast:st,removeFirstItem:Qe,removeLastItem:_e,removeFirstInsertLast:z=>{Qe(z),st(z)},removeLastInsertFirst:z=>{_e(z),Ie(z)},removeFirstInsertFirst:z=>{Qe(z),Ie(z)},removeLastInsertLast:z=>{_e(z),st(z)},removeExisting:At,replaceExisting:z=>{const Oe=z.changeEvent.doc,Je=z.queryParams.primaryKey,dt=z.previousResults;for(let Nt=0;Nt<dt.length;Nt++)if(dt[Nt][Je]===z.changeEvent.id){dt[Nt]=Oe,z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,Oe);break}},alwaysWrong:z=>{const Oe={_id:"wrongHuman"+(new Date).getTime()};z.previousResults.length=0,z.previousResults.push(Oe),z.keyDocumentMap&&(z.keyDocumentMap.clear(),z.keyDocumentMap.set(Oe._id,Oe))},insertAtSortPosition:fn,removeExistingAndInsertAtSortPosition:z=>{At(z),fn(z)},runFullQueryAgain:z=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:z=>{throw new Error("Action unknownAction should never be called")}};function $(z){return z?"1":"0"}function kn(z,Oe){const Je=[];for(let dt=0,Nt=z.length;dt<Nt;dt+=Oe)Je.push(z.substring(dt,dt+Oe));return Je}!function ie(z=6){let Oe="";for(let Nt=0;Nt<z;Nt++)Oe+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()))}(4);const Cn=40;function eo(z){return z.charCodeAt(0)-Cn}function $n(z){return z[z.length-1]}function br(z,Oe,Je){if(Array.isArray(Oe)&&(Oe=Oe.join(".")),!function ti(z){const Oe=typeof z;return null!==z&&("object"===Oe||"function"===Oe)}(z)||"string"!=typeof Oe)return void 0===Je?z:Je;const dt=Oe.split(".");if(0===dt.length)return Je;for(let Nt=0;Nt<dt.length;Nt++){const Dn=dt[Nt];if(null==(z=li(z,Dn)?Nt===dt.length-1?void 0:null:z[Dn])){if(Nt!==dt.length-1)return Je;break}}return void 0===z?Je:z}function li(z,Oe){if("number"!=typeof Oe&&Array.isArray(z)){const Je=Number.parseInt(Oe,10);return Number.isInteger(Je)&&z[Je]===z[Oe]}return!1}const Io=z=>!!z.queryParams.limit,as={0:z=>"INSERT"===z.changeEvent.operation,1:z=>"UPDATE"===z.changeEvent.operation,2:z=>"DELETE"===z.changeEvent.operation,3:Io,4:z=>1===z.queryParams.limit,5:z=>!!(z.queryParams.skip&&z.queryParams.skip>0),6:z=>0===z.previousResults.length,7:z=>Io(z)&&z.previousResults.length>=z.queryParams.limit,8:z=>{const Oe=z.previousResults[0];return!(!Oe||Oe[z.queryParams.primaryKey]!==z.changeEvent.id)},9:z=>{const Oe=$n(z.previousResults);return!(!Oe||Oe[z.queryParams.primaryKey]!==z.changeEvent.id)},10:z=>{const Oe=z.queryParams.sortFields,Je=z.changeEvent.previous,dt=z.changeEvent.doc;if(!dt)return!1;if(!Je)return!0;for(let Nt=0;Nt<Oe.length;Nt++){const Dn=Oe[Nt];if(br(Je,Dn)!==br(dt,Dn))return!0}return!1},11:z=>{const Oe=z.changeEvent.id;if(z.keyDocumentMap)return z.keyDocumentMap.has(Oe);{const Je=z.queryParams.primaryKey,dt=z.previousResults;for(let Nt=0;Nt<dt.length;Nt++)if(dt[Nt][Je]===Oe)return!0;return!1}},12:z=>{const Oe=z.changeEvent.previous;if(!Oe)return!1;const Je=z.previousResults[0];return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)<0)},13:z=>{const Oe=z.changeEvent.previous;if(!Oe)return!1;const Je=$n(z.previousResults);return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)>0)},14:z=>{const Oe=z.changeEvent.doc;if(!Oe)return!1;const Je=z.previousResults[0];return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)<0)},15:z=>{const Oe=z.changeEvent.doc;if(!Oe)return!1;const Je=$n(z.previousResults);return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)>0)},16:z=>{const Oe=z.changeEvent.previous;return!!Oe&&z.queryParams.queryMatcher(Oe)},17:z=>{const Oe=z.changeEvent.doc;return!!Oe&&z.queryParams.queryMatcher(Oe)}};let Ya;const Zs=z=>function Jn(z,Oe,Je){let dt=z,Nt=z.l;for(;;){if(dt=dt[$(Oe[Nt](Je))],"number"==typeof dt||"string"==typeof dt)return dt;Nt=dt.l}}(function Ur(){return Ya||(Ya=function fr(z){const Oe=new Map,dt=2+2*parseInt(z.charAt(0)+z.charAt(1),10),Dn=kn(z.substring(2,dt),2);for(let So=0;So<Dn.length;So++){const ta=Dn[So],na=ta.charAt(0),go=eo(ta.charAt(1));Oe.set(na,go)}const Yn=kn(z.substring(dt,z.length-3),4);for(let So=0;So<Yn.length;So++){const ta=Yn[So],na=ta.charAt(0),go=ta.charAt(1),tc=ta.charAt(2),Pc=eo(ta.charAt(3));if(!Oe.has(go))throw new Error("missing node with id "+go);if(!Oe.has(tc))throw new Error("missing node with id "+tc);const _l=Oe.get(go),kc=Oe.get(tc);Oe.set(na,{l:Pc,0:_l,1:kc})}const mr=z.slice(-3),jr=mr.charAt(0),qr=mr.charAt(1);return{l:eo(mr.charAt(2)),0:Oe.get(jr),1:Oe.get(qr)}}("14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7fae9\xa1bf9\xa2bq9\xa3cg9\xa4ck9\xa5cn9\xa6nd9\xa7np9\xa8nq9\xa9nf9\xaang9\xabnm9\xacnk9\xadmr9\xaems9\xafmt9\xb0mj9\xb1mk9\xb2ml9\xb3mn9\xb4mc8\xb5\xb3{8\xb6\xaf}8\xb7\xb0\xa48\xb8\xb3\xa78\xb9mn8\xba\xb3\xab8\xbb\xb3m8\xbcm\xb44\xbdz\xb24\xbe\xb3w4\xbfz\xb54\xc0\xaf\xb64\xc1\xb0\xb74\xc2\xb3\xba4\xc3\xb3\xb84\xc4m\xb94\xc5v\xa47\xc6yn7\xc7\xc0\xc17\xc8~\x7f7\xc9\xa5\xa47\xca\xc3\xc47\xcb\xa8n7\xcc\xba\xb97\xcd\xad\xb07\xce\xaem7\xcf\xaf\xb07\xd0\xb1m7\xd1\xb3m7\xd2\xbcm5\xd3\xc4m5\xd4\xb9m5\xd5\xbd\xb05\xd6\xbem5\xd7\xbf\xb05\xd8\xc7\xcf5\xd9\xc2m5\xda\xca\xd15\xdb\xb1m5\xdc\xbam5\xdd\xcc\xd15\xde\xd5\xcd2\xdf|\x7f2\xe0\xa1u2\xe1\xa3\xc52\xe2\xd6\xce2\xe3\xa6\xc62\xe4\xa9x2\xe5\xaa\xc62\xe6\xd7\xd82\xe7|\xc82\xe8\xa1\xa22\xe9\xa3\xc92\xea\xa4\xa52\xeb\xd9\xda2\xec\xa6\xcb2\xed\xa9n2\xee\xaan2\xef\xdb\xd02\xf0\xdc\xdd2\xf1\xacn2\xf2\xd2\xd3/\xf3an/\xf4bn/\xf5cn/\xf6\xde\xe2/\xf7\xdf\xe3/\xf8\xe0\xe4/\xf9\xe1\xe5/\xfa\xe6\xeb/\xfb\xe7\xec/\xfc\xe8\xed/\xfd\xe9\xee/\xfe\xcd\xce/\xff\xcf\xd1/\u0100\xf2\xd4,\u0101cn,\u0102\xf6\xef,\u0103\xa4\xf1,\u0104\xfa\xf0,\u0105\xea\xf1,\u0106\xfe\xd0,\u0107\xff\xd1,\u0108ac0\u0109bc0\u010a\xf3\xf50\u010b\xf4\u01010\u010c\xdf\xe10\u010d\xe0\xa40\u010e\xe7\xe90\u010f\xe8\xea0\u0110\xf7\xf90\u0111\xf8\u01030\u0112\xfb\xfd0\u0113\xfc\u01050\u0114m\xd2-\u0115m\u0100-\u0116\xde\xe6-\u0117\u010c\u010e-\u0118\u010d\u010f-\u0119\u0102\u0104-\u011a\u0110\u0112-\u011b\u0111\u0113-\u011c\xb2\xbb-\u011d\xcd\xcf-\u011e\u0106\u0107-\u011f\xb2\xb3-\u0120\u0114\u01083\u0121\u0115\u010a3\u0122\u0116\u01173\u0123\u0119\u011a3\u0124\u0122\u011d(\u0125\u011c\u011f(\u0126\u0123\u011e(\u0127\u0120\u0121+\u0128\u0109\u010b+\u0129\u0124\u0126+\u012a\u0118\u011b+\u012b\u0127\u01281\u012c\u0129\u012a1\u012d\u012c\u012b*\u012e\u0125m*\u012d\u012e.")),Ya}(),as,z);var Ts=O(312),pl=O(9403),Hi=O(5365);function sr(z,Oe){return Oe.sort&&0!==Oe.sort.length?Oe.sort.map(Je=>Object.keys(Je)[0]):[z]}var ls=new WeakMap;function Ta(z,Oe){if(!z.collection.database.eventReduce)return{runFullQueryAgain:!0};var Je=function Js(z){return(0,pl.q)(ls,z,()=>{var Oe=z.collection,Je=(0,Hi._V)(Oe.storageInstance.schema,(0,ze.o8)(z.mangoQuery)),dt=Oe.schema.primaryPath,Nt=(0,Hi.Xw)(Oe.schema.jsonSchema,Je),Fn=(0,Hi.Lr)(Oe.schema.jsonSchema,Je);return{primaryKey:z.collection.schema.primaryPath,skip:Je.skip,limit:Je.limit,sortFields:sr(dt,Je),sortComparator:(jr,qr)=>{var Xr={docA:jr,docB:qr,rxQuery:z};return Nt(Xr.docA,Xr.docB)},queryMatcher:jr=>Fn({doc:jr,rxQuery:z}.doc)}})}(z),dt=(0,oe.ZN)(z._result).docsData.slice(0),Nt=(0,oe.ZN)(z._result).docsDataMap,Dn=!1,Yn=Oe.map(mr=>(0,Ts._r)(mr)).filter(ge.S7).find(mr=>{var qr=function Za(z){const Oe=Zs(z);return be[Oe]}({queryParams:Je,changeEvent:mr,previousResults:dt,keyDocumentMap:Nt});return"runFullQueryAgain"===qr||("doNothing"!==qr?(Dn=!0,function Hn(z,Oe,Je,dt,Nt){(0,W[z])({queryParams:Oe,changeEvent:Je,previousResults:dt,keyDocumentMap:Nt})}(qr,Je,mr,dt,Nt),!1):void 0)});return Yn?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:Dn,newResults:dt}}var xc=O(6259),Aa=O(9825),Sa=function(){return(0,re.A)(function z(Oe,Je,dt){this.time=(0,Me.t)(),this.collection=Oe,this.count=dt,this.documents=(0,Aa.X)(this.collection._docCache,Je)},[{key:"docsData",get:function(){return(0,ze.Ns)(this,"docsData",this.documents.map(Oe=>Oe._data))}},{key:"docsDataMap",get:function(){var Oe=new Map;return this.documents.forEach(Je=>{Oe.set(Je.primary,Je._data)}),(0,ze.Ns)(this,"docsDataMap",Oe)}},{key:"docsMap",get:function(){for(var Oe=new Map,Je=this.documents,dt=0;dt<Je.length;dt++){var Nt=Je[dt];Oe.set(Nt.primary,Nt)}return(0,ze.Ns)(this,"docsMap",Oe)}}])}(),Mc=O(997),ml=0,To=function(){function z(Je,dt,Nt,Dn={}){this.id=++ml,this._execOverDatabaseCount=0,this._creationTime=(0,Me.t)(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new me.t(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Ne.Dr,this.op=Je,this.mangoQuery=dt,this.collection=Nt,this.other=Dn,dt||(this.mangoQuery={selector:{}}),this.isFindOneByIdQuery=function ec(z,Oe){if(!Oe.skip&&Oe.selector&&1===Object.keys(Oe.selector).length&&Oe.selector[z]){var Je=Oe.selector[z];if("string"==typeof Je)return Je;if(1===Object.keys(Je).length&&"string"==typeof Je.$eq||1===Object.keys(Je).length&&Array.isArray(Je.$eq)&&!Je.$eq.find(dt=>"string"!=typeof dt))return Je.$eq}return!1}(this.collection.schema.primaryPath,dt)}var Oe=z.prototype;return Oe._setResultData=function(dt){if("number"!=typeof dt){dt instanceof Map&&(dt=Array.from(dt.values()));var Nt=new Sa(this.collection,dt,dt.length);this._result=Nt}else this._result=new Sa(this.collection,[],dt)},Oe._execOverDatabase=function(){var Je=(0,J.A)(function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=(0,Me.t)(),"count"===this.op){var Nt=this.getPreparedQuery(),Dn=yield this.collection.storageInstance.count(Nt);if("slow"===Dn.mode&&!this.collection.database.allowSlowCount)throw(0,Fe.Br)("QU14",{collection:this.collection,queryObj:this.mangoQuery});return Dn.count}if("findByIds"===this.op){var Fn=(0,oe.ZN)(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,Yn=new Map,mr=[];return Fn.forEach(Xr=>{var Ao=this.collection._docCache.getLatestDocumentDataIfExists(Xr);if(Ao){if(!Ao._deleted){var As=this.collection._docCache.getCachedRxDocument(Ao);Yn.set(Xr,As)}}else mr.push(Xr)}),mr.length>0&&(yield this.collection.storageInstance.findDocumentsById(mr,!1)).forEach(Xr=>{var Ao=this.collection._docCache.getCachedRxDocument(Xr);Yn.set(Ao.primary,Ao)}),Yn}var qr=function po(z){return no.apply(this,arguments)}(this);return qr.then(Xr=>(this._lastExecEnd=(0,Me.t)(),Xr))});return function dt(){return Je.apply(this,arguments)}}(),Oe.exec=function(dt){if(dt&&"findOne"!==this.op)throw(0,Fe.Br)("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Ja(this).then(()=>(0,ae._)(this.$)).then(Nt=>{if(!Nt&&dt)throw(0,Fe.Br)("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Nt})},Oe.toString=function(){var dt=(0,ze.mf)({op:this.op,query:this.mangoQuery,other:this.other},!0),Nt=JSON.stringify(dt);return this.toString=()=>Nt,Nt},Oe.getPreparedQuery=function(){var dt={rxQuery:this,mangoQuery:(0,Hi._V)(this.collection.schema.jsonSchema,this.mangoQuery)};dt.mangoQuery.selector._deleted={$eq:!1},dt.mangoQuery.index&&dt.mangoQuery.index.unshift("_deleted"),(0,xe.Xi)("prePrepareQuery",dt);var Nt=yu(this.collection.schema.jsonSchema,dt.mangoQuery);return this.getPreparedQuery=()=>Nt,Nt},Oe.doesDocumentDataMatch=function(dt){return!dt._deleted&&this.queryMatcher(dt)},Oe.remove=function(){return this.exec().then(dt=>Array.isArray(dt)?Promise.all(dt.map(Nt=>Nt.remove())):dt.remove())},Oe.incrementalRemove=function(){return(0,Hi.dx)(this.asRxQuery,dt=>dt.incrementalRemove())},Oe.update=function(dt){throw(0,Re.u)("update")},Oe.patch=function(dt){return(0,Hi.dx)(this.asRxQuery,Nt=>Nt.patch(dt))},Oe.incrementalPatch=function(dt){return(0,Hi.dx)(this.asRxQuery,Nt=>Nt.incrementalPatch(dt))},Oe.modify=function(dt){return(0,Hi.dx)(this.asRxQuery,Nt=>Nt.modify(dt))},Oe.incrementalModify=function(dt){return(0,Hi.dx)(this.asRxQuery,Nt=>Nt.incrementalModify(dt))},Oe.where=function(dt){throw(0,Re.u)("query-builder")},Oe.sort=function(dt){throw(0,Re.u)("query-builder")},Oe.skip=function(dt){throw(0,Re.u)("query-builder")},Oe.limit=function(dt){throw(0,Re.u)("query-builder")},(0,re.A)(z,[{key:"$",get:function(){if(!this._$){var Je=this.collection.$.pipe((0,l.p)(dt=>!dt.isLocal),(0,De.Z)(null),(0,ut.Z)(()=>Ja(this)),(0,Be.T)(()=>this._result),(0,Ue.t)(oe.bz),(0,Y.F)((dt,Nt)=>!(!dt||dt.time!==(0,oe.ZN)(Nt).time)),(0,l.p)(dt=>!!dt),(0,Be.T)(dt=>{var Nt=(0,oe.ZN)(dt);return"count"===this.op?Nt.count:"findOne"===this.op?0===Nt.documents.length?null:Nt.documents[0]:"findByIds"===this.op?Nt.docsMap:Nt.documents.slice(0)}));this._$=(0,x.h)(Je,this.refCount$.pipe((0,l.p)(()=>!1)))}return this._$}},{key:"$$",get:function(){return this.collection.database.getReactivityFactory().fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var Je=this.collection.schema.jsonSchema,dt=(0,Hi._V)(this.collection.schema.jsonSchema,this.mangoQuery);return(0,ze.Ns)(this,"queryMatcher",(0,Hi.Lr)(Je,dt))}},{key:"asRxQuery",get:function(){return this}}])}();function ea(){return{selector:{}}}function Oc(z,Oe,Je,dt){(0,xe.Xi)("preCreateRxQuery",{op:z,queryObj:Oe,collection:Je,other:dt});var Nt=new To(z,Oe,Je,dt);return Nt=function Rc(z){return z.collection._queryCache.getByQuery(z)}(Nt),(0,xc.n9)(Je),Nt}function zn(z){var Oe=z.asRxQuery.collection._changeEventBuffer.getCounter();return z._latestChangeEvent>=Oe}function Ja(z){return z.collection.database.destroyed||zn(z)?Ne.Dr:(z._ensureEqualQueue=z._ensureEqualQueue.then(()=>function gl(z){if(z._lastEnsureEqual=(0,Me.t)(),z.collection.database.destroyed||zn(z))return Ne.Dr;var Oe=!1,Je=!1;if(-1===z._latestChangeEvent&&(Je=!0),!Je){var dt=z.asRxQuery.collection._changeEventBuffer.getFrom(z._latestChangeEvent+1);if(null===dt)Je=!0;else{z._latestChangeEvent=z.asRxQuery.collection._changeEventBuffer.getCounter();var Nt=z.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(dt);if("count"===z.op){var Dn=(0,oe.ZN)(z._result).count,Fn=Dn;Nt.forEach(mr=>{var jr=mr.previousDocumentData&&z.doesDocumentDataMatch(mr.previousDocumentData),qr=z.doesDocumentDataMatch(mr.documentData);!jr&&qr&&Fn++,jr&&!qr&&Fn--}),Fn!==Dn&&(Oe=!0,z._setResultData(Fn))}else{var Yn=Ta(z,Nt);Yn.runFullQueryAgain?Je=!0:Yn.changed&&(Oe=!0,z._setResultData(Yn.newResults))}}}return Je?z._execOverDatabase().then(mr=>(z._latestChangeEvent=z.collection._changeEventBuffer.getCounter(),"number"==typeof mr?((!z._result||mr!==z._result.count)&&(Oe=!0,z._setResultData(mr)),Oe):((!z._result||!(0,Pe.YL)(z.collection.schema.primaryPath,mr,z._result.docsData))&&(Oe=!0,z._setResultData(mr)),Oe))):Promise.resolve(Oe)}(z)),z._ensureEqualQueue)}function yu(z,Oe){if(!Oe.sort)throw(0,Fe.Br)("SNH",{query:Oe});return{query:Oe,queryPlan:(0,Mc.sk)(z,Oe)}}function no(){return(no=(0,J.A)(function*(z){var Oe=[],Je=z.collection;if(z.isFindOneByIdQuery)if(Array.isArray(z.isFindOneByIdQuery)){var dt=z.isFindOneByIdQuery;if((dt=dt.filter(qr=>{var Xr=z.collection._docCache.getLatestDocumentDataIfExists(qr);return!Xr||(Xr._deleted||Oe.push(Xr),!1)})).length>0){var Nt=yield Je.storageInstance.findDocumentsById(dt,!1);(0,ge.Hb)(Oe,Nt)}}else{var Dn=z.isFindOneByIdQuery,Fn=z.collection._docCache.getLatestDocumentDataIfExists(Dn);if(!Fn){var Yn=yield Je.storageInstance.findDocumentsById([Dn],!1);Yn[0]&&(Fn=Yn[0])}Fn&&!Fn._deleted&&Oe.push(Fn)}else{var mr=z.getPreparedQuery(),jr=yield Je.storageInstance.query(mr);Oe=jr.documents}return Oe})).apply(this,arguments)}},1885:(Bt,et,O)=>{"use strict";O.d(et,{pA:()=>Ae,Nq:()=>Me,Ud:()=>ge,U:()=>ze,uK:()=>xe,Hq:()=>oe,xQ:()=>Ne,nT:()=>Y,d1:()=>Re});var J=O(7650),re=/\./g,ae=O(720),x=O(1744),l=O(8663),De=O(6434),ut=O(7176);function Y(Ie,st){var Qe=st;return Qe=Qe.replace(re,".properties."),Qe=(0,ae.L$)(Qe="properties."+Qe),(0,x.UU)(Ie,Qe)}function Me(Ie,st,Qe){if("string"==typeof st.primaryKey)return Qe;var _e=ze(st,Qe),ue=Qe[Ie];if(ue&&ue!==_e)throw(0,J.Br)("DOC19",{args:{documentData:Qe,existingPrimary:ue,newPrimary:_e},schema:st});return Qe[Ie]=_e,Qe}function Ne(Ie){return"string"==typeof Ie?Ie:Ie.key}function oe(Ie){var Qe=Y(Ie,Ne(Ie.primaryKey));return(0,l.ZN)(Qe.maxLength)}function ze(Ie,st){if("string"==typeof Ie.primaryKey)return st[Ie.primaryKey];var Qe=Ie.primaryKey;return Qe.fields.map(_e=>{var ue=(0,x.UU)(st,_e);if(typeof ue>"u")throw(0,J.Br)("DOC18",{args:{field:_e,documentData:st}});return ue}).join(Qe.separator)}function Re(Ie){return(0,De.mf)(Ie,!0)}function ge(Ie){var st=Ne((Ie=(0,De.FD)(Ie)).primaryKey);Ie.properties=(0,De.FD)(Ie.properties),Ie.additionalProperties=!1,Object.prototype.hasOwnProperty.call(Ie,"keyCompression")||(Ie.keyCompression=!1),Ie.indexes=Ie.indexes?Ie.indexes.slice(0):[],Ie.required=Ie.required?Ie.required.slice(0):[],Ie.encrypted=Ie.encrypted?Ie.encrypted.slice(0):[],Ie.properties._rev={type:"string",minLength:1},Ie.properties._attachments={type:"object"},Ie.properties._deleted={type:"boolean"},Ie.properties._meta=Fe,Ie.required=Ie.required?Ie.required.slice(0):[],Ie.required.push("_deleted"),Ie.required.push("_rev"),Ie.required.push("_meta"),Ie.required.push("_attachments");var Qe=xe(Ie);(0,ut.Hb)(Ie.required,Qe),Ie.required=Ie.required.filter(Q=>!Q.includes(".")).filter((Q,mt,Dt)=>Dt.indexOf(Q)===mt),Ie.version=Ie.version||0;var _e=Ie.indexes.map(Q=>{var mt=(0,ut.k_)(Q)?Q.slice(0):[Q];return mt.includes(st)||mt.push(st),"_deleted"!==mt[0]&&mt.unshift("_deleted"),mt});0===_e.length&&_e.push(function Pe(Ie){return["_deleted",Ie]}(st)),_e.push(["_meta.lwt",st]),Ie.internalIndexes&&Ie.internalIndexes.map(Q=>{_e.push(Q)});var ue=new Set;return _e.filter(Q=>{var mt=Q.join(",");return!ue.has(mt)&&(ue.add(mt),!0)}),Ie.indexes=_e,Ie}var Fe={type:"object",properties:{lwt:{type:"number",minimum:O(2060).MC,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function xe(Ie){var st=Object.keys(Ie.properties).filter(_e=>Ie.properties[_e].final),Qe=Ne(Ie.primaryKey);return st.push(Qe),"string"!=typeof Ie.primaryKey&&Ie.primaryKey.fields.forEach(_e=>st.push(_e)),st}function Ae(Ie,st){for(var Qe=Object.keys(Ie.defaultValues),_e=0;_e<Qe.length;++_e){var ue=Qe[_e];(!Object.prototype.hasOwnProperty.call(st,ue)||typeof st[ue]>"u")&&(st[ue]=Ie.defaultValues[ue])}return st}},9182:(Bt,et,O)=>{"use strict";O.d(et,{NP:()=>Y,Wq:()=>Me,wJ:()=>Be});var J=O(6126),re=O(6636),me=O(6434),ae=O(7176),x=O(7650),l=O(2284),De=O(1885),ut=O(3896),Be=function(){function ze(Pe,ge){this.jsonSchema=Pe,this.hashFunction=ge,this.indexes=function Ue(ze){return(ze.indexes||[]).map(Re=>(0,ae.k_)(Re)?Re:[Re])}(this.jsonSchema),this.primaryPath=(0,De.xQ)(this.jsonSchema.primaryKey),this.finalFields=(0,De.uK)(this.jsonSchema)}var Re=ze.prototype;return Re.validateChange=function(ge,Fe){this.finalFields.forEach(xe=>{if(!(0,re.b)(ge[xe],Fe[xe]))throw(0,x.Br)("DOC9",{dataBefore:ge,dataAfter:Fe,fieldName:xe,schema:this.jsonSchema})})},Re.getDocumentPrototype=function(){var ge={},Fe=(0,De.nT)(this.jsonSchema,"");return Object.keys(Fe).forEach(xe=>{var Ae=xe;ge.__defineGetter__(xe,function(){if(this.get&&"function"==typeof this.get)return this.get(Ae)}),Object.defineProperty(ge,xe+"$",{get:function(){return this.get$(Ae)},enumerable:!1,configurable:!1}),Object.defineProperty(ge,xe+"$$",{get:function(){return this.get$$(Ae)},enumerable:!1,configurable:!1}),Object.defineProperty(ge,xe+"_",{get:function(){return this.populate(Ae)},enumerable:!1,configurable:!1})}),(0,me.Ns)(this,"getDocumentPrototype",()=>ge),ge},Re.getPrimaryOfDocumentData=function(ge){return(0,De.U)(this.jsonSchema,ge)},(0,J.A)(ze,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var Pe={};return Object.entries(this.jsonSchema.properties).filter(([,ge])=>Object.prototype.hasOwnProperty.call(ge,"default")).forEach(([ge,Fe])=>Pe[ge]=Fe.default),(0,me.Ns)(this,"defaultValues",Pe)}},{key:"hash",get:function(){return(0,me.Ns)(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function Y(ze){var Pe=0;return new Array(ze.version?ze.version:0).fill(0).map(()=>Pe++)}function Me(ze,Re,Pe=!0){Pe&&(0,l.Xi)("preCreateRxSchema",ze);var ge=(0,De.Ud)(ze);ge=(0,De.d1)(ge),ut.h.deepFreezeWhenDevMode(ge);var Fe=new Be(ge,Re);return(0,l.Xi)("createRxSchema",Fe),Fe}},6893:(Bt,et,O)=>{"use strict";O.d(et,{AM:()=>At,C9:()=>mt,ME:()=>en,Mu:()=>We,O5:()=>Pe,OG:()=>ze,WX:()=>Ie,YN:()=>se,gi:()=>st,mQ:()=>Fe,on:()=>Q,p0:()=>On,pZ:()=>ln});var J=O(467),re=O(3896),me=O(7650),ae=O(1885),x=O(720),l=O(4552),De=O(8663),ut=O(6434),Be=O(6568),Ue=O(7176),Y=O(2060),Me=O(5672),Ne=O(5365),oe=O(2284),ze="_rxdb_internal";function Pe(W,U){return ge.apply(this,arguments)}function ge(){return(ge=(0,J.A)(function*(W,U){var X=(yield W.findDocumentsById([U],!1))[0];if(X)return X})).apply(this,arguments)}function Fe(W,U,$){return xe.apply(this,arguments)}function xe(){return(xe=(0,J.A)(function*(W,U,$){var X=yield W.bulkWrite([U],$);if(X.error.length>0)throw X.error[0];return se((0,ae.xQ)(W.schema.primaryKey),[U],X)[0]})).apply(this,arguments)}function We(W){return Object.assign({},...W)}function Ie(W,U,$,X){if(X)throw 409===X.status?(0,me.Br)("CONFLICT",{collection:W.name,id:U,writeError:X,data:$}):422===X.status?(0,me.Br)("VD2",{collection:W.name,id:U,writeError:X,data:$}):X}function st(W,U,$,X,Z,ie,ce){for(var kn,Te=!!W.schema.attachments,It=[],Lt=[],Rt=[],nn={id:(0,x.z3)(10),events:[],checkpoint:null,context:Z,startTime:(0,l.t)(),endTime:0},on=nn.events,cn=[],Ht=[],dn=[],rn=$.size>0,Cn=X.length,Ji=function(){var jt,Vr=X[eo],Gt=Vr.document,yr=Vr.previous,fr=Gt[U],Jn=Gt._deleted,$n=yr&&yr._deleted,or=void 0;if(rn&&(or=$.get(fr)),or){if(!yr||yr&&or._rev!==yr._rev)return Rt.push({isError:!0,status:409,documentId:fr,writeRow:Vr,documentInDb:or}),1;var Bo=Te?Qe(Vr):Vr;Te&&(Jn?yr&&Object.keys(yr._attachments).forEach(Br=>{Ht.push({documentId:fr,attachmentId:Br,digest:(0,De.ZN)(yr)._attachments[Br].digest})}):(Object.entries(Gt._attachments).find(([Br,ti])=>(!(yr?yr._attachments[Br]:void 0)&&!ti.data&&(jt={documentId:fr,documentInDb:or,isError:!0,status:510,writeRow:Vr,attachmentId:Br}),!0)),jt||Object.entries(Gt._attachments).forEach(([Br,ti])=>{var br=yr?yr._attachments[Br]:void 0;br?ti.data&&br.digest!==Bo.document._attachments[Br].digest&&dn.push({documentId:fr,attachmentId:Br,attachmentData:ti,digest:ti.digest}):cn.push({documentId:fr,attachmentId:Br,attachmentData:ti,digest:ti.digest})}))),jt?Rt.push(jt):(Te?(Lt.push(Qe(Bo)),ce&&ce(Gt)):(Lt.push(Bo),ce&&ce(Gt)),kn=Bo);var qs=null,Xs=null,Xa=null;if($n&&!Jn)Xa="INSERT",qs=Te?Q(Gt):Gt;else if(!yr||$n||Jn){if(!Jn)throw(0,me.Br)("SNH",{args:{writeRow:Vr}});Xa="DELETE",qs=(0,De.ZN)(Gt),Xs=yr}else Xa="UPDATE",qs=Te?Q(Gt):Gt,Xs=yr;on.push({documentId:fr,documentData:qs,previousDocumentData:Xs,operation:Xa})}else{var Vo=!!Jn;if(Te&&Object.entries(Gt._attachments).forEach(([Br,ti])=>{ti.data?cn.push({documentId:fr,attachmentId:Br,attachmentData:ti,digest:ti.digest}):Rt.push(jt={documentId:fr,isError:!0,status:510,writeRow:Vr,attachmentId:Br})}),jt||(Te?(It.push(Qe(Vr)),ie&&ie(Gt)):(It.push(Vr),ie&&ie(Gt)),kn=Vr),!Vo){var wo={documentId:fr,operation:"INSERT",documentData:Te?Q(Gt):Gt,previousDocumentData:Te&&yr?Q(yr):yr};on.push(wo)}}},eo=0;eo<Cn;eo++)Ji();return{bulkInsertDocs:It,bulkUpdateDocs:Lt,newestRow:kn,errors:Rt,eventBulk:nn,attachmentsAdd:cn,attachmentsRemove:Ht,attachmentsUpdate:dn}}function Qe(W){return{previous:W.previous,document:Q(W.document)}}function _e(W){return atob(W).length}function Q(W){if(!W._attachments||0===Object.keys(W._attachments).length)return W;var U=(0,ut.FD)(W);return U._attachments={},Object.entries(W._attachments).forEach(([$,X])=>{U._attachments[$]=function ue(W){var U=W.data;return U?{length:_e(U),digest:W.digest,type:W.type}:W}(X)}),U}function mt(W){return Object.assign({},W,{_meta:(0,ut.FD)(W._meta)})}var Dt=new WeakMap;function At(W,U,$){re.h.deepFreezeWhenDevMode($);var X=(0,ae.xQ)(U.schema.primaryKey),Z={originalStorageInstance:U,schema:U.schema,internals:U.internals,collectionName:U.collectionName,databaseName:U.databaseName,options:U.options,bulkWrite(ie,ce){for(var Te=W.token,It=new Array(ie.length),Lt=(0,l.t)(),Rt=0;Rt<ie.length;Rt++){var Ut=ie[Rt],nn=mt(Ut.document);nn._meta.lwt=Lt;var on=Ut.previous;nn._rev=(0,Be.CM)(Te,on),It[Rt]={document:nn,previous:on}}return(0,oe.Xi)("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:It}),W.lockedRun(()=>U.bulkWrite(It,ce)).then(cn=>{var Ht={error:[]},dn=se(X,It,cn);Dt.set(Ht,dn);var rn=0===cn.error.length?[]:cn.error.filter(Cn=>!(409!==Cn.status||Cn.writeRow.previous||Cn.writeRow.document._deleted||!(0,De.ZN)(Cn.documentInDb)._deleted)||(Ht.error.push(Cn),!1));if(rn.length>0){var kn=rn.map(Cn=>({previous:Cn.documentInDb,document:Object.assign({},Cn.writeRow.document,{_rev:(0,Be.CM)(W.token,Cn.documentInDb)})}));return W.lockedRun(()=>U.bulkWrite(kn,ce)).then(Cn=>{(0,Ue.Hb)(Ht.error,Cn.error);var Ji=se(X,kn,Cn);return(0,Ue.Hb)(dn,Ji),Ht})}return Ht})},query:ie=>W.lockedRun(()=>U.query(ie)),count:ie=>W.lockedRun(()=>U.count(ie)),findDocumentsById:(ie,ce)=>W.lockedRun(()=>U.findDocumentsById(ie,ce)),getAttachmentData:(ie,ce,Te)=>W.lockedRun(()=>U.getAttachmentData(ie,ce,Te)),getChangedDocumentsSince:U.getChangedDocumentsSince?(ie,ce)=>W.lockedRun(()=>U.getChangedDocumentsSince((0,De.ZN)(ie),ce)):void 0,cleanup:ie=>W.lockedRun(()=>U.cleanup(ie)),remove:()=>(W.storageInstances.delete(Z),W.lockedRun(()=>U.remove())),close:()=>(W.storageInstances.delete(Z),W.lockedRun(()=>U.close())),changeStream:()=>U.changeStream(),conflictResultionTasks:()=>U.conflictResultionTasks(),resolveConflictResultionTask(ie){if(ie.output.isEqual)return U.resolveConflictResultionTask(ie);var ce=Object.assign({},ie.output.documentData,{_meta:(0,Y.o4)(),_rev:(0,Y.Fq)(),_attachments:{}}),Te=(0,ut.FD)(ce);return delete Te._meta,delete Te._rev,delete Te._attachments,U.resolveConflictResultionTask({id:ie.id,output:{isEqual:!1,documentData:Te}})}};return W.storageInstances.add(Z),Z}function ln(W){if(W.schema.keyCompression)throw(0,me.Br)("UT5",{args:{params:W}});if(en(W.schema))throw(0,me.Br)("UT6",{args:{params:W}});if(W.schema.attachments&&W.schema.attachments.compression)throw(0,me.Br)("UT7",{args:{params:W}})}function en(W){return!!(W.encrypted&&W.encrypted.length>0||W.attachments&&W.attachments.encrypted)}function On(W,U,$){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,J.A)(function*(W,U,$){if(W.getChangedDocumentsSince)return W.getChangedDocumentsSince(U,$);var X=(0,ae.xQ)(W.schema.primaryKey),Z=(0,Me.Ib)(W.schema,function fn(W,U,$){var X=(0,ae.xQ)(W.schema.primaryKey),Z=$?$.lwt:Y.MC;return(0,Ne._V)(W.schema,{selector:{$or:[{"_meta.lwt":{$gt:Z}},{"_meta.lwt":{$eq:Z},[X]:{$gt:$&&$?$.id:""}}],"_meta.lwt":{$gte:Z}},sort:[{"_meta.lwt":"asc"},{[X]:"asc"}],skip:0,limit:U})}(W,U,$)),ce=(yield W.query(Z)).documents,Te=(0,Ue.dG)(ce);return{documents:ce,checkpoint:Te?{id:Te[X],lwt:Te._meta.lwt}:$||{id:"",lwt:0}}})).apply(this,arguments)}function se(W,U,$){var X=Dt.get($);if(X)return X;var Z=[];if($.error.length>0){for(var ie=new Set,ce=0;ce<$.error.length;ce++)ie.add($.error[ce].documentId);for(var It=0;It<U.length;It++){var Lt=U[It].document;ie.has(Lt[W])||Z.push(Q(Lt))}}else{Z.length=U.length-$.error.length;for(var Rt=0;Rt<U.length;Rt++)Z[Rt]=Q(U[Rt].document)}return Z}},467:(Bt,et,O)=>{"use strict";function J(me,ae,x,l,De,ut,Be){try{var Ue=me[ut](Be),Y=Ue.value}catch(Me){return void x(Me)}Ue.done?ae(Y):Promise.resolve(Y).then(l,De)}function re(me){return function(){var ae=this,x=arguments;return new Promise(function(l,De){var ut=me.apply(ae,x);function Be(Y){J(ut,l,De,Be,Ue,"next",Y)}function Ue(Y){J(ut,l,De,Be,Ue,"throw",Y)}Be(void 0)})}}O.d(et,{A:()=>re})},6126:(Bt,et,O)=>{"use strict";function J(l){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(De){return typeof De}:function(De){return De&&"function"==typeof Symbol&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De})(l)}function me(l){var De=function re(l,De){if("object"!=J(l)||!l)return l;var ut=l[Symbol.toPrimitive];if(void 0!==ut){var Be=ut.call(l,De||"default");if("object"!=J(Be))return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===De?String:Number)(l)}(l,"string");return"symbol"==J(De)?De:De+""}function ae(l,De){for(var ut=0;ut<De.length;ut++){var Be=De[ut];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(l,me(Be.key),Be)}}function x(l,De,ut){return De&&ae(l.prototype,De),ut&&ae(l,ut),Object.defineProperty(l,"prototype",{writable:!1}),l}O.d(et,{A:()=>x})},6719:(Bt,et,O)=>{"use strict";O.d(et,{A:()=>re});var J=O(4394);function re(me,ae){me.prototype=Object.create(ae.prototype),me.prototype.constructor=me,(0,J.A)(me,ae)}},4394:(Bt,et,O)=>{"use strict";function J(re,me){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ae,x){return ae.__proto__=x,ae})(re,me)}O.d(et,{A:()=>J})},1635:(Bt,et,O)=>{"use strict";function ae(Ge,se){var be={};for(var W in Ge)Object.prototype.hasOwnProperty.call(Ge,W)&&se.indexOf(W)<0&&(be[W]=Ge[W]);if(null!=Ge&&"function"==typeof Object.getOwnPropertySymbols){var U=0;for(W=Object.getOwnPropertySymbols(Ge);U<W.length;U++)se.indexOf(W[U])<0&&Object.prototype.propertyIsEnumerable.call(Ge,W[U])&&(be[W[U]]=Ge[W[U]])}return be}function Me(Ge,se,be,W){return new(be||(be=Promise))(function($,X){function Z(Te){try{ce(W.next(Te))}catch(It){X(It)}}function ie(Te){try{ce(W.throw(Te))}catch(It){X(It)}}function ce(Te){Te.done?$(Te.value):function U($){return $ instanceof be?$:new be(function(X){X($)})}(Te.value).then(Z,ie)}ce((W=W.apply(Ge,se||[])).next())})}function Ae(Ge){return this instanceof Ae?(this.v=Ge,this):new Ae(Ge)}function We(Ge,se,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,W=be.apply(Ge,se||[]),$=[];return U={},Z("next"),Z("throw"),Z("return",function X(Rt){return function(Ut){return Promise.resolve(Ut).then(Rt,It)}}),U[Symbol.asyncIterator]=function(){return this},U;function Z(Rt,Ut){W[Rt]&&(U[Rt]=function(nn){return new Promise(function(on,cn){$.push([Rt,nn,on,cn])>1||ie(Rt,nn)})},Ut&&(U[Rt]=Ut(U[Rt])))}function ie(Rt,Ut){try{!function ce(Rt){Rt.value instanceof Ae?Promise.resolve(Rt.value.v).then(Te,It):Lt($[0][2],Rt)}(W[Rt](Ut))}catch(nn){Lt($[0][3],nn)}}function Te(Rt){ie("next",Rt)}function It(Rt){ie("throw",Rt)}function Lt(Rt,Ut){Rt(Ut),$.shift(),$.length&&ie($[0][0],$[0][1])}}function st(Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,se=Ge[Symbol.asyncIterator];return se?se.call(Ge):(Ge=function Re(Ge){var se="function"==typeof Symbol&&Symbol.iterator,be=se&&Ge[se],W=0;if(be)return be.call(Ge);if(Ge&&"number"==typeof Ge.length)return{next:function(){return Ge&&W>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[W++],done:!Ge}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ge),be={},W("next"),W("throw"),W("return"),be[Symbol.asyncIterator]=function(){return this},be);function W($){be[$]=Ge[$]&&function(X){return new Promise(function(Z,ie){!function U($,X,Z,ie){Promise.resolve(ie).then(function(ce){$({value:ce,done:Z})},X)}(Z,ie,(X=Ge[$](X)).done,X.value)})}}}O.d(et,{AQ:()=>We,N3:()=>Ae,Tt:()=>ae,sH:()=>Me,xN:()=>st}),"function"==typeof SuppressedError&&SuppressedError}},Bt=>{Bt(Bt.s=7133)}]);