(self.webpackChunkEmpathy=self.webpackChunkEmpathy||[]).push([[792],{5639:(Vt,et,P)=>{"use strict";var ee=P(1985),ie=P(8359),ge=P(7707);!function ce(n){n.__load_patch("rxjs",(t,e,r)=>{const i=e.__symbol__,m=Object.defineProperties;r.patchMethod(ee.c.prototype,"lift",B=>(q,me)=>{const pe=B.apply(q,me);return pe.operator&&(pe.operator._zone=e.current,r.patchMethod(pe.operator,"call",fe=>(dt,_t)=>dt._zone&&dt._zone!==e.current?dt._zone.run(fe,dt,_t):fe.apply(dt,_t))),pe}),function(){const B=ee.c.prototype,me=B[i("_subscribe")]=B._subscribe;m(ee.c.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneSource:{value:null,writable:!0,configurable:!0},_zoneSubscribe:{value:null,writable:!0,configurable:!0},source:{configurable:!0,get:function(){return this._zoneSource},set:function(pe){this._zone=e.current,this._zoneSource=pe}},_subscribe:{configurable:!0,get:function(){if(this._zoneSubscribe)return this._zoneSubscribe;if(this.constructor===ee.c)return me;const pe=Object.getPrototypeOf(this);return pe&&pe._subscribe},set:function(pe){this._zone=e.current,this._zoneSubscribe=pe?function(){if(this._zone&&this._zone!==e.current){const fe=this._zone.run(pe,this,arguments);if("function"==typeof fe){const dt=this._zone;return function(){return dt!==e.current?dt.run(fe,this,arguments):fe.apply(this,arguments)}}return fe}return pe.apply(this,arguments)}:pe}},subjectFactory:{get:function(){return this._zoneSubjectFactory},set:function(pe){const fe=this._zone;this._zoneSubjectFactory=function(){return fe&&fe!==e.current?fe.run(pe,this,arguments):pe.apply(this,arguments)}}}})}(),m(ie.yU.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneUnsubscribe:{value:null,writable:!0,configurable:!0},_unsubscribe:{get:function(){if(this._zoneUnsubscribe||this._zoneUnsubscribeCleared)return this._zoneUnsubscribe;const B=Object.getPrototypeOf(this);return B&&B._unsubscribe},set:function(B){this._zone=e.current,B?(this._zoneUnsubscribeCleared=!1,this._zoneUnsubscribe=function(){return this._zone&&this._zone!==e.current?this._zone.run(B,this,arguments):B.apply(this,arguments)}):(this._zoneUnsubscribe=B,this._zoneUnsubscribeCleared=!0)}}}),function(){const B=ge.vU.prototype.next,q=ge.vU.prototype.error,me=ge.vU.prototype.complete;Object.defineProperty(ge.vU.prototype,"destination",{configurable:!0,get:function(){return this._zoneDestination},set:function(pe){this._zone=e.current,this._zoneDestination=pe}}),ge.vU.prototype.next=function(){const fe=this._zone;return fe&&fe!==e.current?fe.run(B,this,arguments,"rxjs.Subscriber.next"):B.apply(this,arguments)},ge.vU.prototype.error=function(){const fe=this._zone;return fe&&fe!==e.current?fe.run(q,this,arguments,"rxjs.Subscriber.error"):q.apply(this,arguments)},ge.vU.prototype.complete=function(){const fe=this._zone;return fe&&fe!==e.current?fe.run(me,this,arguments,"rxjs.Subscriber.complete"):me.call(this)}}()})}(Zone);var M=P(467),l=P(3953),De=P(8071);var Be=P(6648),Ue=P(9326);function Z(...n){const t=(0,Ue.lI)(n);return(0,Be.H)(n,t)}var Me=P(4412);const{isArray:Ne}=Array,{getPrototypeOf:se,prototype:ze,keys:Re}=Object;function Pe(n){if(1===n.length){const t=n[0];if(Ne(t))return{args:t,keys:null};if(function _e(n){return n&&"object"==typeof n&&se(n)===ze}(t)){const e=Re(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var Fe=P(3669),xe=P(6354);const{isArray:Ae}=Array;function Ie(n){return(0,xe.T)(t=>function We(n,t){return Ae(t)?n(...t):n(t)}(n,t))}function st(n,t){return n.reduce((e,r,i)=>(e[r]=t[i],e),{})}var Ye=P(4360),ve=P(5225);function he(...n){const t=(0,Ue.lI)(n),e=(0,Ue.ms)(n),{args:r,keys:i}=Pe(n);if(0===r.length)return(0,Be.H)([],t);const c=new ee.c(function Y(n,t,e=Fe.D){return r=>{pt(t,()=>{const{length:i}=n,c=new Array(i);let d=i,f=i;for(let m=0;m<i;m++)pt(t,()=>{const w=(0,Be.H)(n[m],t);let A=!1;w.subscribe((0,Ye._)(r,R=>{c[m]=R,A||(A=!0,f--),f||r.next(e(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,t,i?d=>st(i,d):Fe.D));return e?c.pipe(Ie(e)):c}function pt(n,t,e){n?(0,ve.N)(e,n,t):t()}var Ct=P(9350),Tt=P(8793),cn=P(8750);function Jt(n){return new ee.c(t=>{(0,cn.Tg)(n()).subscribe(t)})}var hn=P(1203);function Mn(n,t){const e=(0,De.T)(n)?n:()=>n,r=i=>i.error(e());return new ee.c(t?i=>t.schedule(r,0,i):r)}var Ge=P(983),ae=P(9974);function be(){return(0,ae.N)((n,t)=>{let e=null;n._refCount++;const r=(0,Ye._)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const i=n._connection,c=e;e=null,i&&(!c||i===c)&&i.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class K extends ee.c{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ae.S)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ie.yU;const e=this.getSubject();t.add(this.source.subscribe((0,Ye._)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ie.yU.EMPTY)}return t}refCount(){return be()(this)}}var U=P(1413);let H=null;function Q(){return H}class oe{}const Te=new l.nKC("");let It=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(Mt),providedIn:"platform"})}return n})();const Ft=new l.nKC("");let Mt=(()=>{class n extends It{constructor(){super(),this._doc=(0,l.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Q().getBaseHref(this._doc)}onPopState(e){const r=Q().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=Q().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,i){this._history.pushState(e,r,i)}replaceState(e,r,i){this._history.replaceState(e,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Bt(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function en(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function rn(n){return n&&"?"!==n[0]?"?"+n:n}let an=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(un),providedIn:"root"})}return n})();const $t=new l.nKC("");let un=(()=>{class n extends an{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Bt(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+rn(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,c){const d=this.prepareExternalUrl(i+rn(c));this._platformLocation.pushState(e,r,d)}replaceState(e,r,i,c){const d=this.prepareExternalUrl(i+rn(c));this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(It),l.KVO($t,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tn=(()=>{class n extends an{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Bt(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,c){let d=this.prepareExternalUrl(i+rn(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,r,d)}replaceState(e,r,i,c){let d=this.prepareExternalUrl(i+rn(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(It),l.KVO($t,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),Pn=(()=>{class n{constructor(e){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function Nr(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(en(Qi(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+rn(r))}normalize(e){return n.stripTrailingSlash(function Xi(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Qi(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._locationStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rn(r)),i)}replaceState(e,r="",i=null){this._locationStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+rn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}static#e=this.normalizeQueryParams=rn;static#t=this.joinWithSlash=Bt;static#n=this.stripTrailingSlash=en;static#r=this.\u0275fac=function(r){return new(r||n)(l.KVO(an))};static#i=this.\u0275prov=l.jDH({token:n,factory:()=>function In(){return new Pn((0,l.KVO)(an))}(),providedIn:"root"})}return n})();function Qi(n){return n.replace(/\/index.html$/,"")}const Xr=/\s+/,Co=[];let Cs=(()=>{class n{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=Co,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Xr):Co}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Xr):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const i=this.stateMap.get(e);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],i=e[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Xr).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.sFG))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})(),hl=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,i)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,i),get:(e,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.c1b))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.OA$]})}return n})();function ni(n,t){return new l.wOt(2100,!1)}class Da{createSubscription(t,e){return(0,l.O8t)(()=>t.subscribe({next:e,error:r=>{throw r}}))}dispose(t){(0,l.O8t)(()=>t.unsubscribe())}}class Js{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const du=new Js,fl=new Da;let mr=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,l.jNT)(e))return du;if((0,l.zjR)(e))return fl;throw ni()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.gRc,16))};static#t=this.\u0275pipe=l.EJ8({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Dr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let Of=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw ni();return e.replace(Dr,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=l.EJ8({name:"titlecase",type:n,pure:!0,standalone:!0})}return n})(),Vo=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const kf="browser";function bd(n){return n===kf}function Ji(n){return"server"===n}let yg=(()=>{class n{static#e=this.\u0275prov=(0,l.jDH)({token:n,providedIn:"root",factory:()=>bd((0,l.WQX)(l.Agw))?new bg((0,l.WQX)(Te),window):new Ja})}return n})();class bg{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function eo(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const c=i.shadowRoot;if(c){const d=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],i-c[1])}}class Ja{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}function di(n,t){return(0,ae.N)((e,r)=>{let i=null,c=0,d=!1;const f=()=>d&&!i&&r.complete();e.subscribe((0,Ye._)(r,m=>{i?.unsubscribe();let w=0;const A=c++;(0,cn.Tg)(n(m,A)).subscribe(i=(0,Ye._)(r,R=>r.next(t?t(m,R,A,w++):R),()=>{i=null,f()}))},()=>{d=!0,f()}))})}function Qr(n){return n<=0?()=>Ge.w:(0,ae.N)((t,e)=>{let r=0;t.subscribe((0,Ye._)(e,i=>{++r<=n&&(e.next(i),n<=r&&e.complete())}))})}var jo=P(9172),Bn=P(5964),Mi=P(1397);function Cd(n){return(0,ae.N)((t,e)=>{let r=!1;t.subscribe((0,Ye._)(e,i=>{r=!0,e.next(i)},()=>{r||e.next(n),e.complete()}))})}function Tg(n=Vf){return(0,ae.N)((t,e)=>{let r=!1;t.subscribe((0,Ye._)(e,i=>{r=!0,e.next(i)},()=>r?e.complete():e.error(n())))})}function Vf(){return new Ct.G}function Fc(n,t){const e=arguments.length>=2;return r=>r.pipe(n?(0,Bn.p)((i,c)=>n(i,c,r)):Fe.D,Qr(1),e?Cd(t):Tg(()=>new Ct.G))}function wu(n,t){return(0,De.T)(t)?(0,Mi.Z)(n,t,1):(0,Mi.Z)(n,1)}function gr(n,t,e){const r=(0,De.T)(n)||t||e?{next:n,error:t,complete:e}:n;return r?(0,ae.N)((i,c)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let f=!0;i.subscribe((0,Ye._)(c,m=>{var w;null===(w=r.next)||void 0===w||w.call(r,m),c.next(m)},()=>{var m;f=!1,null===(m=r.complete)||void 0===m||m.call(r),c.complete()},m=>{var w;f=!1,null===(w=r.error)||void 0===w||w.call(r,m),c.error(m)},()=>{var m,w;f&&(null===(m=r.unsubscribe)||void 0===m||m.call(r)),null===(w=r.finalize)||void 0===w||w.call(r)}))}):Fe.D}function yl(n){return(0,ae.N)((t,e)=>{let c,r=null,i=!1;r=t.subscribe((0,Ye._)(e,void 0,void 0,d=>{c=(0,cn.Tg)(n(d,yl(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):i=!0})),i&&(r.unsubscribe(),r=null,c.subscribe(e))})}function Dd(n){return n<=0?()=>Ge.w:(0,ae.N)((t,e)=>{let r=[];t.subscribe((0,Ye._)(e,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)e.next(i);e.complete()},void 0,()=>{r=null}))})}function jb(n){return(0,xe.T)(()=>n)}function Td(n){return(0,ae.N)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var Ag=P(5343);function Tr(n){return(0,ae.N)((t,e)=>{(0,cn.Tg)(n).subscribe((0,Ye._)(e,()=>e.complete(),Ag.l)),!e.closed&&t.subscribe(e)})}var Ad=P(6365);class $b extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Sg extends $b{static makeCurrent(){!function J(n){H??=n}(new Sg)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function xg(){return Sd=Sd||document.querySelector("base"),Sd?Sd.getAttribute("href"):null}();return null==e?null:function Mg(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){Sd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function qr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Sd=null,Rg=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const Ln=new l.nKC("");let _i=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(c=>c.supports(e)),!r)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(e,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Ln),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class Ri{constructor(t){this._doc=t}}const Ra="ng-app-id";let $i=(()=>{class n{constructor(e,r,i,c={}){this.doc=e,this.appId=r,this.nonce=i,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ji(c),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(i=>i.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Ra}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(e,r){const i=this.styleRef;if(i.has(e)){const c=i.get(e);return c.usage+=r,c.usage}return i.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const i=this.styleNodesInDOM,c=i?.get(r);if(c?.parentNode===e)return i.delete(r),c.removeAttribute(Ra),c;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(Ra,this.appId),e.appendChild(d),d}}addStyleToHost(e,r){const i=this.getStyleElement(e,r),c=this.styleRef,d=c.get(r)?.elements;d?d.push(i):c.set(r,{elements:[i],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const Bf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Uf=/%COMP%/g,OD=new l.nKC("",{providedIn:"root",factory:()=>!0});function Rd(n,t){return t.map(e=>e.replace(Uf,n))}let Gb=(()=>{class n{constructor(e,r,i,c,d,f,m,w=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=c,this.doc=d,this.platformId=f,this.ngZone=m,this.nonce=w,this.rendererByCompId=new Map,this.platformIsServer=Ji(f),this.defaultRenderer=new Od(e,d,m,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===l.gXe.ShadowDom&&(r={...r,encapsulation:l.gXe.Emulated});const i=this.getOrCreateRenderer(e,r);return i instanceof Kb?i.applyToHost(e):i instanceof ia&&i.applyStyles(),i}getOrCreateRenderer(e,r){const i=this.rendererByCompId;let c=i.get(r.id);if(!c){const d=this.doc,f=this.ngZone,m=this.eventManager,w=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(r.encapsulation){case l.gXe.Emulated:c=new Kb(m,w,r,this.appId,A,d,f,R);break;case l.gXe.ShadowDom:return new Pd(m,w,e,r,d,f,this.nonce,R);default:c=new ia(m,w,r,A,d,f,R)}i.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(_i),l.KVO($i),l.KVO(l.sZ2),l.KVO(OD),l.KVO(Te),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class Od{constructor(t,e,r,i){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Bf[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(jf(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(jf(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new l.wOt(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const c=Bf[i];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Bf[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(l.czy.DashCase|l.czy.Important)?t.style.setProperty(e,r,i&l.czy.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&l.czy.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){null!=t&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r){if("string"==typeof t&&!(t=Q().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function jf(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Pd extends Od{constructor(t,e,r,i,c,d,f,m){super(t,c,d,m),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const w=Rd(i.id,i.styles);for(const A of w){const R=document.createElement("style");f&&R.setAttribute("nonce",f),R.textContent=A,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ia extends Od{constructor(t,e,r,i,c,d,f,m){super(t,c,d,f),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i,this.styles=m?Rd(m,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Kb extends ia{constructor(t,e,r,i,c,d,f,m){const w=i+"-"+r.id;super(t,e,r,c,d,f,m,w),this.contentAttr=function Og(n){return"_ngcontent-%COMP%".replace(Uf,n)}(w),this.hostAttr=function zb(n){return"_nghost-%COMP%".replace(Uf,n)}(w)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let Pg=(()=>{class n extends Ri{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),$f=(()=>{class n extends Ri{constructor(e){super(e),this.delegate=(0,l.WQX)(l.zAP,{optional:!0})}supports(e){return!!this.delegate&&this.delegate.supports(e)}addEventListener(e,r,i){return this.delegate.addEventListener(e,r,i)}removeEventListener(e,r,i){return this.delegate.removeEventListener(e,r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const qb=["alt","control","meta","shift"],kg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xs=(()=>{class n extends Ri{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Q().onAndCancel(e,c.domEventName,d))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const c=n._normalizeKey(r.pop());let d="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),d="code."),qb.forEach(w=>{const A=r.indexOf(w);A>-1&&(r.splice(A,1),d+=w+".")}),d+=c,0!=r.length||0===c.length)return null;const m={};return m.domEventName=i,m.fullKey=d,m}static matchEventFullKeyCode(e,r){let i=kg[e.key]||e.key,c="";return r.indexOf("code.")>-1&&(i=e.code,c="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),qb.forEach(d=>{d!==i&&(0,Hf[d])(e)&&(c+=d+".")}),c+=i,c===r)}static eventCallback(e,r,i){return c=>{n.matchEventFullKeyCode(c,e)&&i.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function zf(n){return{appProviders:[...Bg,...n?.providers??[]],platformProviders:Qb}}const Qb=[{provide:l.Agw,useValue:kf},{provide:l.PLl,useValue:function Fg(){Sg.makeCurrent()},multi:!0},{provide:Te,useFactory:function Xb(){return(0,l.TL$)(document),document},deps:[]}],Bg=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function bl(){return new l.zcH},deps:[]},{provide:Ln,useClass:Pg,multi:!0,deps:[Te,l.SKi,l.Agw]},{provide:Ln,useClass:xs,multi:!0,deps:[Te]},{provide:Ln,useClass:$f,multi:!0},Gb,$i,_i,{provide:l._9s,useExisting:Gb},{provide:class Ed{},useClass:Rg,deps:[]},[]];let Yb=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:function(r){let i=null;return i=r?new(r||n):l.KVO(D),i},providedIn:"root"})}return n})(),D=(()=>{class n extends b{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case l.WPN.NONE:return r;case l.WPN.HTML:return(0,l.ZF7)(r,"HTML")?(0,l.rcV)(r):(0,l.h9k)(this._doc,String(r)).toString();case l.WPN.STYLE:return(0,l.ZF7)(r,"Style")?(0,l.rcV)(r):r;case l.WPN.SCRIPT:if((0,l.ZF7)(r,"Script"))return(0,l.rcV)(r);throw new l.wOt(5200,!1);case l.WPN.URL:return(0,l.ZF7)(r,"URL")?(0,l.rcV)(r):(0,l.$MX)(String(r));case l.WPN.RESOURCE_URL:if((0,l.ZF7)(r,"ResourceURL"))return(0,l.rcV)(r);throw new l.wOt(5201,!1);default:throw new l.wOt(5202,!1)}}bypassSecurityTrustHtml(e){return(0,l.Kcf)(e)}bypassSecurityTrustStyle(e){return(0,l.cWb)(e)}bypassSecurityTrustScript(e){return(0,l.UyX)(e)}bypassSecurityTrustUrl(e){return(0,l.osQ)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.e5t)(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const At="primary",Zt=Symbol("RouteTitle");class fn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Sn(n){return new fn(n)}function Zn(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let c=0;c<r.length;c++){const d=r[c],f=n[c];if(":"===d[0])i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Er(n,t){const e=n?To(n):void 0,r=t?To(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let c=0;c<e.length;c++)if(i=e[c],!Ar(n[i],t[i]))return!1;return!0}function To(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Ar(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,c)=>r[c]===i)}return n===t}function no(n){return n.length>0?n[n.length-1]:null}function ii(n){return function lt(n){return!!n&&(n instanceof ee.c||(0,De.T)(n.lift)&&(0,De.T)(n.subscribe))}(n)?n:(0,l.jNT)(n)?(0,Be.H)(Promise.resolve(n)):Z(n)}const ln={exact:function Lc(n,t,e){if(!mo(n.segments,t.segments)||!Cr(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Lc(n.children[r],t.children[r],e))return!1;return!0},subset:Br},Nd={exact:function Ho(n,t){return Er(n,t)},subset:function rc(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ar(n[e],t[e]))},ignored:()=>!0};function Ao(n,t,e){return ln[e.paths](n.root,t.root,e.matrixParams)&&Nd[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Br(n,t,e){return Vc(n,t,t.segments,e)}function Vc(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!mo(i,e)||t.hasChildren()||!Cr(i,e,r))}if(n.segments.length===e.length){if(!mo(n.segments,e)||!Cr(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!Br(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(mo(n.segments,i)&&Cr(n.segments,i,r)&&n.children[At])&&Vc(n.children[At],t,c,r)}}function Cr(n,t,e){return t.every((r,i)=>Nd[e](n[i].parameters,r.parameters))}class Mr{constructor(t=new wr([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Sn(this.queryParams),this._queryParamMap}toString(){return n0.serialize(this)}}class wr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qf(this)}}class Oa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Sn(this.parameters),this._parameterMap}toString(){return FP(this)}}function mo(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Fd=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>new $g,providedIn:"root"})}return n})();class $g{parse(t){const e=new p$(t);return new Mr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Xf(t.root,!0)}`,r=function c$(n){const t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(i=>`${r0(e)}=${r0(i)}`).join("&"):`${r0(e)}=${r0(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function s$(n){return encodeURI(n)}(t.fragment)}`:""}`}}const n0=new $g;function qf(n){return n.segments.map(t=>FP(t)).join("/")}function Xf(n,t){if(!n.hasChildren())return qf(n);if(t){const e=n.children[At]?Xf(n.children[At],!1):"",r=[];return Object.entries(n.children).forEach(([i,c])=>{i!==At&&r.push(`${i}:${Xf(c,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Kf(n,t){let e=[];return Object.entries(n.children).forEach(([r,i])=>{r===At&&(e=e.concat(t(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==At&&(e=e.concat(t(i,r)))}),e}(n,(r,i)=>i===At?[Xf(n.children[At],!1)]:[`${i}:${Xf(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[At]?`${qf(n)}/${e[0]}`:`${qf(n)}/(${e.join("//")})`}}function Hg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function r0(n){return Hg(n).replace(/%3B/gi,";")}function jD(n){return Hg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function o0(n){return decodeURIComponent(n)}function NP(n){return o0(n.replace(/\+/g,"%20"))}function FP(n){return`${jD(n.path)}${function a$(n){return Object.entries(n).map(([t,e])=>`;${jD(t)}=${jD(e)}`).join("")}(n.parameters)}`}const l$=/^[^\/()?;#]+/;function $D(n){const t=n.match(l$);return t?t[0]:""}const u$=/^[^\/()?;=#]+/,HD=/^[^=?&#]+/,h$=/^[^&#]+/;class p${constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wr([],{}):new wr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[At]=new wr(t,e)),r}parseSegment(){const t=$D(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(t),new Oa(o0(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function d$(n){const t=n.match(u$);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=$D(this.remaining);i&&(r=i,this.capture(r))}t[o0(e)]=o0(r)}parseQueryParam(t){const e=function zD(n){const t=n.match(HD);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const d=function f$(n){const t=n.match(h$);return t?t[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=NP(e),c=NP(r);if(t.hasOwnProperty(i)){let d=t[i];Array.isArray(d)||(d=[d],t[i]=d),d.push(c)}else t[i]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=$D(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.wOt(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=At);const d=this.parseChildren();e[c]=1===Object.keys(d).length?d[At]:new wr([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.wOt(4011,!1)}}function LP(n){return n.segments.length>0?new wr([],{[At]:n}):n}function GD(n){const t={};for(const[r,i]of Object.entries(n.children)){const c=GD(i);if(r===At&&0===c.segments.length&&c.hasChildren())for(const[d,f]of Object.entries(c.children))t[d]=f;else(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function WD(n){if(1===n.numberOfChildren&&n.children[At]){const t=n.children[At];return new wr(n.segments.concat(t.segments),t.children)}return n}(new wr(n.segments,t))}function Bc(n){return n instanceof Mr}function qD(n){let t;const i=LP(function e(c){const d={};for(const m of c.children){const w=e(m);d[m.outlet]=w}const f=new wr(c.url,d);return c===n&&(t=f),f}(n.root));return t??i}function XD(n,t,e,r){let i=n;for(;i.parent;)i=i.parent;if(0===t.length)return s0(i,i,i,e,r);const c=function ic(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new QD(!0,0,n);let t=0,e=!1;const r=n.reduce((i,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const f={};return Object.entries(c.outlets).forEach(([m,w])=>{f[m]="string"==typeof w?w.split("/"):w}),[...i,{outlets:f}]}if(c.segmentPath)return[...i,c.segmentPath]}return"string"!=typeof c?[...i,c]:0===d?(c.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?t++:""!=f&&i.push(f))}),i):[...i,c]},[]);return new QD(e,t,r)}(t);if(c.toRoot())return s0(i,i,new wr([],{}),e,r);const d=function YD(n,t,e){if(n.isAbsolute)return new Yf(t,!0,0);if(!e)return new Yf(t,!1,NaN);if(null===e.parent)return new Yf(e,!0,0);const r=Qf(n.commands[0])?0:1;return function ar(n,t,e){let r=n,i=t,c=e;for(;c>i;){if(c-=i,r=r.parent,!r)throw new l.wOt(4005,!1);i=r.segments.length}return new Yf(r,!1,i-c)}(e,e.segments.length-1+r,n.numberOfDoubleDots)}(c,i,n),f=d.processChildren?Hi(d.segmentGroup,d.index,c.commands):Vd(d.segmentGroup,d.index,c.commands);return s0(i,d.segmentGroup,f,e,r)}function Qf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ld(n){return"object"==typeof n&&null!=n&&n.outlets}function s0(n,t,e,r,i){let d,c={};r&&Object.entries(r).forEach(([m,w])=>{c[m]=Array.isArray(w)?w.map(A=>`${A}`):`${w}`}),d=n===t?e:zg(n,t,e);const f=LP(GD(d));return new Mr(f,c,i)}function zg(n,t,e){const r={};return Object.entries(n.children).forEach(([i,c])=>{r[i]=c===t?e:zg(c,t,e)}),new wr(n.segments,r)}class QD{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Qf(r[0]))throw new l.wOt(4003,!1);const i=r.find(Ld);if(i&&i!==no(r))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yf{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Vd(n,t,e){if(n??=new wr([],{}),0===n.segments.length&&n.hasChildren())return Hi(n,t,e);const r=function VP(n,t,e){let r=0,i=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return c;const d=n.segments[i],f=e[r];if(Ld(f))break;const m=`${f}`,w=r<e.length-1?e[r+1]:null;if(i>0&&void 0===m)break;if(m&&w&&"object"==typeof w&&void 0===w.outlets){if(!ZD(m,w,d))return c;r+=2}else{if(!ZD(m,{},d))return c;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new wr(n.segments.slice(0,r.pathIndex),{});return c.children[At]=new wr(n.segments.slice(r.pathIndex),n.children),Hi(c,0,i)}return r.match&&0===i.length?new wr(n.segments,{}):r.match&&!n.hasChildren()?Cu(n,t,e):r.match?Hi(n,0,i):Cu(n,t,e)}function Hi(n,t,e){if(0===e.length)return new wr(n.segments,{});{const r=function a0(n){return Ld(n[0])?n[0].outlets:{[At]:n}}(e),i={};if(Object.keys(r).some(c=>c!==At)&&n.children[At]&&1===n.numberOfChildren&&0===n.children[At].segments.length){const c=Hi(n.children[At],t,e);return new wr(n.segments,c.children)}return Object.entries(r).forEach(([c,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(i[c]=Vd(n.children[c],t,d))}),Object.entries(n.children).forEach(([c,d])=>{void 0===r[c]&&(i[c]=d)}),new wr(n.segments,i)}}function Cu(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const c=e[i];if(Ld(c)){const m=Du(c.outlets);return new wr(r,m)}if(0===i&&Qf(e[0])){r.push(new Oa(n.segments[t].path,as(e[0]))),i++;continue}const d=Ld(c)?c.outlets[At]:`${c}`,f=i<e.length-1?e[i+1]:null;d&&f&&Qf(f)?(r.push(new Oa(d,as(f))),i+=2):(r.push(new Oa(d,{})),i++)}return new wr(r,{})}function Du(n){const t={};return Object.entries(n).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[e]=Cu(new wr([],{}),0,r))}),t}function as(n){const t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function ZD(n,t,e){return n==e.path&&Er(t,e.parameters)}const Tu="imperative";var Jn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Jn||{});class yi{constructor(t,e){this.id=t,this.url=e}}class Zf extends yi{constructor(t,e,r="imperative",i=null){super(t,e),this.type=Jn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class oc extends yi{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=Jn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var cs=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(cs||{}),wl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(wl||{});class Uc extends yi{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=Jn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jc extends yi{constructor(t,e,r,i){super(t,e),this.reason=r,this.code=i,this.type=Jn.NavigationSkipped}}class Bd extends yi{constructor(t,e,r,i){super(t,e),this.error=r,this.target=i,this.type=Jn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gg extends yi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=Jn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $c extends yi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=Jn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tn extends yi{constructor(t,e,r,i,c){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=c,this.type=Jn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wg extends yi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=Jn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class c0 extends yi{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i,this.type=Jn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class JD{constructor(t){this.route=t,this.type=Jn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class m${constructor(t){this.route=t,this.type=Jn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BP{constructor(t){this.snapshot=t,this.type=Jn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class UP{constructor(t){this.snapshot=t,this.type=Jn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jP{constructor(t){this.snapshot=t,this.type=Jn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eT{constructor(t){this.snapshot=t,this.type=Jn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Il{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=Jn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class l0{}class Kg{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function bi(n){return n.outlet||At}function Au(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class rT{get injector(){return Au(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new qg(this.rootInjector),this.attachRef=null}}let qg=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,r){const i=this.getOrCreateContext(e);i.outlet=r,this.contexts.set(e,i)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new rT(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.uvJ))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class zP{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Xg(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Xg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Qg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Qg(t,this._root).map(e=>e.value)}}function Xg(n,t){if(n===t.value)return t;for(const e of t.children){const r=Xg(n,e);if(r)return r}return null}function Qg(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Qg(n,e);if(r.length)return r.unshift(t),r}return[]}class oa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Oi(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class sc extends zP{constructor(t,e){super(t),this.snapshot=e,h0(this,t)}toString(){return this.snapshot.toString()}}function d0(n){const t=function Pa(n){const c=new ep([],{},{},"",{},At,n,null,{});return new iT("",new oa(c,[]))}(n),e=new Me.t([new Oa("",{})]),r=new Me.t({}),i=new Me.t({}),c=new Me.t({}),d=new Me.t(""),f=new ls(e,r,c,d,i,At,n,t.root);return f.snapshot=t.root,new sc(new oa(f,[]),t)}class ls{constructor(t,e,r,i,c,d,f,m){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=c,this.outlet=d,this.component=f,this._futureSnapshot=m,this.title=this.dataSubject?.pipe((0,xe.T)(w=>w[Zt]))??Z(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,xe.T)(t=>Sn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,xe.T)(t=>Sn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Yg(n,t,e="emptyOnly"){let r;const{routeConfig:i}=n;return r=null===t||"always"!==e&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...i?.data,...n._resolvedData}},i&&rp(i)&&(r.resolve[Zt]=i.title),r}class ep{get title(){return this.data?.[Zt]}constructor(t,e,r,i,c,d,f,m,w){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=c,this.outlet=d,this.component=f,this.routeConfig=m,this._resolve=w}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Sn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Sn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class iT extends zP{constructor(t,e){super(e),this.url=t,h0(this,e)}toString(){return Zg(this._root)}}function h0(n,t){t.value._routerState=n,t.children.forEach(e=>h0(n,e))}function Zg(n){const t=n.children.length>0?` { ${n.children.map(Zg).join(", ")} } `:"";return`${n.value}${t}`}function tp(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Er(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Er(t.params,e.params)||n.paramsSubject.next(e.params),function _r(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Er(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),Er(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function np(n,t){const e=Er(n.params,t.params)&&function jg(n,t){return mo(n,t)&&n.every((e,r)=>Er(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||np(n.parent,t.parent))}function rp(n){return"string"==typeof n.title||null===n.title}let f0=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=At,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(qg),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.inputBinder=(0,l.WQX)(Ud,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:i}=e.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=e;const i=this.location,d=e.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,m=new Jg(e,f,i.injector);this.activated=i.createComponent(d,{index:i.length,injector:m,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}return n})();class Jg{__ngOutletInjector(t){return new Jg(this.route,this.childContexts,t)}constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===ls?this.route:t===qg?this.childContexts:this.parent.get(t,e)}}const Ud=new l.nKC("");let p0=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,i=he([r.queryParams,r.params,r.data]).pipe(di(([c,d,f],m)=>(f={...c,...d,...f},0===m?Z(f):Promise.resolve(f)))).subscribe(c=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const d=(0,l.HJs)(r.component);if(d)for(const{templateName:f}of d.inputs)e.activatedComponentRef.setInput(f,c[f]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function jd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function sT(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return jd(n,r,i);return jd(n,r)})}(n,t,e);return new oa(r,i)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(f=>jd(n,f)),d}}const r=function m0(n){return new ls(new Me.t(n.url),new Me.t(n.params),new Me.t(n.queryParams),new Me.t(n.fragment),new Me.t(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(c=>jd(n,c));return new oa(r,i)}}class g0{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const ro="ngNavigationCancelingError";function ac(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Bc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=Rr(!1,cs.Redirect);return i.url=e,i.navigationBehaviorOptions=r,i}function Rr(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[ro]=!0,e.cancellationCode=t,e}function cT(n){return!!n&&n[ro]}class lT{constructor(t,e,r,i,c){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=c}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),tp(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=Oi(e);t.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,i[d],r),delete i[d]}),Object.values(i).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const i=t.value,c=e?e.value:null;if(i===c)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,c=Oi(t);for(const d of Object.values(c))this.deactivateRouteAndItsChildren(d,i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:f})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,c=Oi(t);for(const d of Object.values(c))this.deactivateRouteAndItsChildren(d,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){const i=Oi(e);t.children.forEach(c=>{this.activateRoutes(c,i[c.value.outlet],r),this.forwardEvent(new eT(c.value.snapshot))}),t.children.length&&this.forwardEvent(new UP(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,c=e?e.value:null;if(tp(i),i===c)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),tp(f.route.value),this.activateChildRoutes(t,null,d.children)}else d.attachRef=null,d.route=i,d.outlet&&d.outlet.activateWith(i,d.injector),this.activateChildRoutes(t,null,d.children)}else this.activateChildRoutes(t,null,r)}}class _0{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Cl{constructor(t,e){this.component=t,this.route=e}}function cc(n,t,e){const r=n._root;return Dl(r,t?t._root:null,e,[r.value])}function Hc(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,l.LfX)(n)?t.get(n):n:r}function Dl(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=Oi(t);return n.children.forEach(d=>{(function e_(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const m=function v0(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!mo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!mo(n.url,t.url)||!Er(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!np(n,t)||!Er(n.queryParams,t.queryParams);default:return!np(n,t)}}(d,c,c.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new _0(r)):(c.data=d.data,c._resolvedData=d._resolvedData),Dl(n,t,c.component?f?f.children:null:e,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Cl(f.outlet.component,d))}else d&&$d(t,f,i),i.canActivateChecks.push(new _0(r)),Dl(n,null,c.component?f?f.children:null:e,r,i)})(d,c[d.value.outlet],e,r.concat([d.value]),i),delete c[d.value.outlet]}),Object.entries(c).forEach(([d,f])=>$d(f,e.getContext(d),i)),i}function $d(n,t,e){const r=Oi(n),i=n.value;Object.entries(r).forEach(([c,d])=>{$d(d,i.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Cl(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Hd(n){return"function"==typeof n}function dT(n){return n instanceof Ct.G||"EmptyError"===n?.name}const t_=Symbol("INITIAL_VALUE");function op(){return di(n=>he(n.map(t=>t.pipe(Qr(1),(0,jo.Z)(t_)))).pipe((0,xe.T)(t=>{for(const e of t)if(!0!==e){if(e===t_)return t_;if(!1===e||y$(e))return e}return!0}),(0,Bn.p)(t=>t!==t_),Qr(1)))}function y$(n){return Bc(n)||n instanceof g0}function YP(n){return(0,hn.F)(gr(t=>{if("boolean"!=typeof t)throw ac(0,t)}),(0,xe.T)(t=>!0===t))}class r_{constructor(t){this.segmentGroup=t||null}}class i_ extends Error{constructor(t){super(),this.urlTree=t}}function zo(n){return Mn(new r_(n))}class fT{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Z(r);if(i.numberOfChildren>1||!i.children[At])return Mn(new l.wOt(4e3,!1));i=i.children[At]}}applyRedirectCommands(t,e,r,i,c){if("string"!=typeof e){const f=e,{queryParams:m,fragment:w,routeConfig:A,url:R,outlet:B,params:q,data:me,title:pe}=i,fe=(0,l.N4e)(c,()=>f({params:q,data:me,queryParams:m,fragment:w,routeConfig:A,url:R,outlet:B,title:pe}));if(fe instanceof Mr)throw new i_(fe);e=fe}const d=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if("/"===e[0])throw new i_(d);return d}applyRedirectCreateUrlTree(t,e,r,i){const c=this.createSegmentGroup(t,e.root,r,i);return new Mr(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Object.entries(t).forEach(([i,c])=>{if("string"==typeof c&&":"===c[0]){const f=c.substring(1);r[i]=e[f]}else r[i]=c}),r}createSegmentGroup(t,e,r,i){const c=this.createSegments(t,e.segments,r,i);let d={};return Object.entries(e.children).forEach(([f,m])=>{d[f]=this.createSegmentGroup(t,m,r,i)}),new wr(c,d)}createSegments(t,e,r,i){return e.map(c=>":"===c.path[0]?this.findPosParam(t,c,i):this.findOrReturn(c,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new l.wOt(4001,!1);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}const Gd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function C0(n,t,e,r,i){const c=D0(n,t,e);return c.matched?(r=function $P(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.Ol2)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,r),function hT(n,t,e,r){const i=t.canMatch;return i&&0!==i.length?Z(i.map(d=>{const f=Hc(d,n);return ii(function uT(n){return n&&Hd(n.canMatch)}(f)?f.canMatch(t,e):(0,l.N4e)(n,()=>f(t,e)))})).pipe(op(),YP()):Z(!0)}(r,t,e).pipe((0,xe.T)(d=>!0===d?c:{...Gd}))):Z(c)}function D0(n,t,e){if("**"===t.path)return function pT(n){return{matched:!0,parameters:n.length>0?no(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Gd}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Zn)(e,n,t);if(!i)return{...Gd};const c={};Object.entries(i.posParams??{}).forEach(([f,m])=>{c[f]=m.path});const d=i.consumed.length>0?{...c,...i.consumed[i.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:d,positionalParamSegments:i.posParams??{}}}function T0(n,t,e,r){return e.length>0&&function ZP(n,t,e){return e.some(r=>lc(n,t,r)&&bi(r)!==At)}(n,e,r)?{segmentGroup:new wr(t,gT(r,new wr(e,n.children))),slicedSegments:[]}:0===e.length&&function s_(n,t,e){return e.some(r=>lc(n,t,r))}(n,e,r)?{segmentGroup:new wr(n.segments,mT(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new wr(n.segments,n.children),slicedSegments:e}}function mT(n,t,e,r){const i={};for(const c of e)if(lc(n,t,c)&&!r[bi(c)]){const d=new wr([],{});i[bi(c)]=d}return{...r,...i}}function gT(n,t){const e={};e[At]=t;for(const r of n)if(""===r.path&&bi(r)!==At){const i=new wr([],{});e[bi(r)]=i}return e}function lc(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class vT{}class zi{constructor(t,e,r,i,c,d,f){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=i,this.urlTree=c,this.paramsInheritanceStrategy=d,this.urlSerializer=f,this.applyRedirects=new fT(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new l.wOt(4002,`'${t.segmentGroup}'`)}recognize(){const t=T0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe((0,xe.T)(({children:e,rootSnapshot:r})=>{const i=new oa(r,e),c=new iT("",i),d=function KD(n,t,e=null,r=null){return XD(qD(n),t,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(d),{state:c,tree:d}}))}match(t){const e=new ep([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),At,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,At,e).pipe((0,xe.T)(r=>({children:r,rootSnapshot:e})),yl(r=>{if(r instanceof i_)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof r_?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,i,c){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r,c):this.processSegment(t,e,r,r.segments,i,!0,c).pipe((0,xe.T)(d=>d instanceof oa?[d]:[]))}processChildren(t,e,r,i){const c=[];for(const d of Object.keys(r.children))"primary"===d?c.unshift(d):c.push(d);return(0,Be.H)(c).pipe(wu(d=>{const f=r.children[d],m=function u0(n,t){const e=n.filter(r=>bi(r)===t);return e.push(...n.filter(r=>bi(r)!==t)),e}(e,d);return this.processSegmentGroup(t,m,f,d,i)}),function xD(n,t){return(0,ae.N)(function Ub(n,t,e,r,i){return(c,d)=>{let f=e,m=t,w=0;c.subscribe((0,Ye._)(d,A=>{const R=w++;m=f?n(m,A,R):(f=!0,A),r&&d.next(m)},i&&(()=>{f&&d.next(m),d.complete()})))}}(n,t,arguments.length>=2,!0))}((d,f)=>(d.push(...f),d)),Cd(null),function $o(n,t){const e=arguments.length>=2;return r=>r.pipe(n?(0,Bn.p)((i,c)=>n(i,c,r)):Fe.D,Dd(1),e?Cd(t):Tg(()=>new Ct.G))}(),(0,Mi.Z)(d=>{if(null===d)return zo(r);const f=a_(d);return function ek(n){n.sort((t,e)=>t.value.outlet===At?-1:e.value.outlet===At?1:t.value.outlet.localeCompare(e.value.outlet))}(f),Z(f)}))}processSegment(t,e,r,i,c,d,f){return(0,Be.H)(e).pipe(wu(m=>this.processSegmentAgainstRoute(m._injector??t,e,m,r,i,c,d,f).pipe(yl(w=>{if(w instanceof r_)return Z(null);throw w}))),Fc(m=>!!m),yl(m=>{if(dT(m))return function _T(n,t,e){return 0===t.length&&!n.children[e]}(r,i,c)?Z(new vT):zo(r);throw m}))}processSegmentAgainstRoute(t,e,r,i,c,d,f,m){return function JP(n,t,e,r){return!!(bi(n)===r||r!==At&&lc(t,e,n))&&D0(t,n,e).matched}(r,i,c,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,c,d,m):this.allowRedirects&&f?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,r,c,d,m):zo(i):zo(i)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,c,d,f){const{matched:m,parameters:w,consumedSegments:A,positionalParamSegments:R,remainingSegments:B}=D0(e,i,c);if(!m)return zo(e);"string"==typeof i.redirectTo&&"/"===i.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const q=new ep(c,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,A0(i),bi(i),i.component??i._loadedComponent??null,i,cp(i)),me=Yg(q,f,this.paramsInheritanceStrategy);q.params=Object.freeze(me.params),q.data=Object.freeze(me.data);const pe=this.applyRedirects.applyRedirectCommands(A,i.redirectTo,R,q,t);return this.applyRedirects.lineralizeSegments(i,pe).pipe((0,Mi.Z)(fe=>this.processSegment(t,r,e,fe.concat(B),d,!1,f)))}matchSegmentAgainstRoute(t,e,r,i,c,d){const f=C0(e,r,i,t);return"**"===r.path&&(e.children={}),f.pipe(di(m=>m.matched?this.getChildConfig(t=r._injector??t,r,i).pipe(di(({routes:w})=>{const A=r._loadedInjector??t,{parameters:R,consumedSegments:B,remainingSegments:q}=m,me=new ep(B,R,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,A0(r),bi(r),r.component??r._loadedComponent??null,r,cp(r)),pe=Yg(me,d,this.paramsInheritanceStrategy);me.params=Object.freeze(pe.params),me.data=Object.freeze(pe.data);const{segmentGroup:fe,slicedSegments:dt}=T0(e,B,q,w);if(0===dt.length&&fe.hasChildren())return this.processChildren(A,w,fe,me).pipe((0,xe.T)(bt=>new oa(me,bt)));if(0===w.length&&0===dt.length)return Z(new oa(me,[]));const _t=bi(r)===c;return this.processSegment(A,w,fe,dt,_t?At:c,!0,me).pipe((0,xe.T)(bt=>new oa(me,bt instanceof oa?[bt]:[])))})):zo(e)))}getChildConfig(t,e,r){return e.children?Z({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Z({routes:e._loadedRoutes,injector:e._loadedInjector}):function n_(n,t,e,r){const i=t.canLoad;return void 0===i||0===i.length?Z(!0):Z(i.map(d=>{const f=Hc(d,n);return ii(function zd(n){return n&&Hd(n.canLoad)}(f)?f.canLoad(t,e):(0,l.N4e)(n,()=>f(t,e)))})).pipe(op(),YP())}(t,e,r).pipe((0,Mi.Z)(i=>i?this.configLoader.loadChildren(t,e).pipe(gr(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function I0(n){return Mn(Rr(!1,cs.GuardRejected))}())):Z({routes:[],injector:t})}}function yT(n){const t=n.value.routeConfig;return t&&""===t.path}function a_(n){const t=[],e=new Set;for(const r of n){if(!yT(r)){t.push(r);continue}const i=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=a_(r.children);t.push(new oa(r.value,i))}return t.filter(r=>!e.has(r))}function A0(n){return n.data||{}}function cp(n){return n.resolve||{}}function c_(n){const t=n.children.map(e=>c_(e)).flat();return[n,...t]}function S0(n){return di(t=>{const e=n(t);return e?(0,Be.H)(e).pipe((0,xe.T)(()=>t)):Z(t)})}let wT=(()=>{class n{buildTitle(e){let r,i=e.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(c=>c.outlet===At);return r}getResolvedTitleForRoute(e){return e.data[Zt]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(IT),providedIn:"root"})}return n})(),IT=(()=>{class n extends wT{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Yb))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qd=new l.nKC("",{providedIn:"root",factory:()=>({})});let x0=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(r,i){1&r&&l.nrm(0,"router-outlet")},dependencies:[f0],encapsulation:2})}return n})();function M0(n){const t=n.children&&n.children.map(M0),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==At&&(e.component=x0),e}const Xd=new l.nKC("");let CT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Z(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=ii(e.loadComponent()).pipe((0,xe.T)(Pi),gr(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),Td(()=>{this.componentLoaders.delete(e)})),i=new K(r,()=>new U.B).pipe(be());return this.componentLoaders.set(e,i),i}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=function DT(n,t,e,r){return ii(n.loadChildren()).pipe((0,xe.T)(Pi),(0,Mi.Z)(i=>i instanceof l.Co$||Array.isArray(i)?Z(i):(0,Be.H)(t.compileModuleAsync(i))),(0,xe.T)(i=>{r&&r(n);let c,d,f=!1;return Array.isArray(i)?(d=i,!0):(c=i.create(e).injector,d=c.get(Xd,[],{optional:!0,self:!0}).flat()),{routes:d.map(M0),injector:c}}))}(r,this.compiler,e,this.onLoadEndListener).pipe(Td(()=>{this.childrenLoaders.delete(r)})),d=new K(c,()=>new U.B).pipe(be());return this.childrenLoaders.set(r,d),d}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Pi(n){return function TT(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let AT=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(rk),providedIn:"root"})}return n})(),rk=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const ik=new l.nKC(""),R0=new l.nKC("");function w$(n,t,e){const r=n.get(R0),i=n.get(Te);return n.get(l.SKi).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(w=>setTimeout(w));let c;const d=new Promise(w=>{c=w}),f=i.startViewTransition(()=>(c(),function O0(n){return new Promise(t=>{(0,l.mal)({read:()=>setTimeout(t)},{injector:n})})}(n))),{onViewTransitionCreated:m}=r;return m&&(0,l.N4e)(n,()=>m({transition:f,from:t,to:e})),d})}const sa=new l.nKC("");let lp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new U.B,this.transitionAbortSubject=new U.B,this.configLoader=(0,l.WQX)(CT),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(Fd),this.rootContexts=(0,l.WQX)(qg),this.location=(0,l.WQX)(Pn),this.inputBindingEnabled=null!==(0,l.WQX)(Ud,{optional:!0}),this.titleStrategy=(0,l.WQX)(wT),this.options=(0,l.WQX)(qd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(AT),this.createViewTransition=(0,l.WQX)(ik,{optional:!0}),this.navigationErrorHandler=(0,l.WQX)(sa,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new m$(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new JD(i))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,i){return this.transitions=new Me.t({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Tu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Bn.p)(c=>0!==c.id),(0,xe.T)(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),di(c=>{let d=!1,f=!1;return Z(c).pipe(di(m=>{if(this.navigationId>c.id)return this.cancelNavigationTransition(c,"",cs.SupersededByNewNavigation),Ge.w;this.currentTransition=c,this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,targetBrowserUrl:"string"==typeof m.extras.browserUrl?this.urlSerializer.parse(m.extras.browserUrl):m.extras.browserUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const w=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!w&&"reload"!==(m.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const R="";return this.events.next(new jc(m.id,this.urlSerializer.serialize(m.rawUrl),R,wl.IgnoredSameUrlNavigation)),m.resolve(!1),Ge.w}if(this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Z(m).pipe(di(R=>{const B=this.transitions?.getValue();return this.events.next(new Zf(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),B!==this.transitions?.getValue()?Ge.w:Promise.resolve(R)}),function tk(n,t,e,r,i,c){return(0,Mi.Z)(d=>function Wd(n,t,e,r,i,c,d="emptyOnly"){return new zi(n,t,e,r,i,d,c).recognize()}(n,t,e,r,d.extractedUrl,i,c).pipe((0,xe.T)(({state:f,tree:m})=>({...d,targetSnapshot:f,urlAfterRedirects:m}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),gr(R=>{c.targetSnapshot=R.targetSnapshot,c.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const B=new Gg(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(B)}));if(w&&this.urlHandlingStrategy.shouldProcessUrl(m.currentRawUrl)){const{id:R,extractedUrl:B,source:q,restoredState:me,extras:pe}=m,fe=new Zf(R,this.urlSerializer.serialize(B),q,me);this.events.next(fe);const dt=d0(this.rootComponentType).snapshot;return this.currentTransition=c={...m,targetSnapshot:dt,urlAfterRedirects:B,extras:{...pe,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=B,Z(c)}{const R="";return this.events.next(new jc(m.id,this.urlSerializer.serialize(m.extractedUrl),R,wl.IgnoredByUrlHandlingStrategy)),m.resolve(!1),Ge.w}}),gr(m=>{const w=new $c(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(w)}),(0,xe.T)(m=>(this.currentTransition=c={...m,guards:cc(m.targetSnapshot,m.currentSnapshot,this.rootContexts)},c)),function b0(n,t){return(0,Mi.Z)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:c,canDeactivateChecks:d}}=e;return 0===d.length&&0===c.length?Z({...e,guardsResult:!0}):function Su(n,t,e,r){return(0,Be.H)(n).pipe((0,Mi.Z)(i=>function w0(n,t,e,r,i){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Z(c.map(f=>{const m=Au(t)??i,w=Hc(f,m);return ii(function y0(n){return n&&Hd(n.canDeactivate)}(w)?w.canDeactivate(n,t,e,r):(0,l.N4e)(m,()=>w(n,t,e,r))).pipe(Fc())})).pipe(op()):Z(!0)}(i.component,i.route,e,t,r)),Fc(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Mi.Z)(f=>f&&function KP(n){return"boolean"==typeof n}(f)?function E0(n,t,e,r){return(0,Be.H)(t).pipe(wu(i=>(0,Tt.x)(function XP(n,t){return null!==n&&t&&t(new BP(n)),Z(!0)}(i.route.parent,r),function sp(n,t){return null!==n&&t&&t(new jP(n)),Z(!0)}(i.route,r),function QP(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(d=>function WP(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Jt(()=>Z(d.guards.map(m=>{const w=Au(d.node)??e,A=Hc(m,w);return ii(function qP(n){return n&&Hd(n.canActivateChild)}(A)?A.canActivateChild(r,n):(0,l.N4e)(w,()=>A(r,n))).pipe(Fc())})).pipe(op())));return Z(c).pipe(op())}(n,i.path,e),function ap(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Z(!0);const i=r.map(c=>Jt(()=>{const d=Au(t)??e,f=Hc(c,d);return ii(function ip(n){return n&&Hd(n.canActivate)}(f)?f.canActivate(t,n):(0,l.N4e)(d,()=>f(t,n))).pipe(Fc())}));return Z(i).pipe(op())}(n,i.route,e))),Fc(i=>!0!==i,!0))}(r,c,n,t):Z(f)),(0,xe.T)(f=>({...e,guardsResult:f})))})}(this.environmentInjector,m=>this.events.next(m)),gr(m=>{if(c.guardsResult=m.guardsResult,m.guardsResult&&"boolean"!=typeof m.guardsResult)throw ac(0,m.guardsResult);const w=new Tn(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.events.next(w)}),(0,Bn.p)(m=>!!m.guardsResult||(this.cancelNavigationTransition(m,"",cs.GuardRejected),!1)),S0(m=>{if(m.guards.canActivateChecks.length)return Z(m).pipe(gr(w=>{const A=new Wg(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(A)}),di(w=>{let A=!1;return Z(w).pipe(function bT(n,t){return(0,Mi.Z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return Z(e);const c=new Set(i.map(m=>m.route)),d=new Set;for(const m of c)if(!d.has(m))for(const w of c_(m))d.add(w);let f=0;return(0,Be.H)(d).pipe(wu(m=>c.has(m)?function l_(n,t,e,r){const i=n.routeConfig,c=n._resolve;return void 0!==i?.title&&!rp(i)&&(c[Zt]=i.title),function ET(n,t,e,r){const i=To(n);if(0===i.length)return Z({});const c={};return(0,Be.H)(i).pipe((0,Mi.Z)(d=>function nk(n,t,e,r){const i=Au(t)??r,c=Hc(n,i);return ii(c.resolve?c.resolve(t,e):(0,l.N4e)(i,()=>c(t,e)))}(n[d],t,e,r).pipe(Fc(),gr(f=>{if(f instanceof g0)throw ac(new $g,f);c[d]=f}))),Dd(1),jb(c),yl(d=>dT(d)?Ge.w:Mn(d)))}(c,n,t,r).pipe((0,xe.T)(d=>(n._resolvedData=d,n.data=Yg(n,n.parent,e).resolve,null)))}(m,r,n,t):(m.data=Yg(m,m.parent,n).resolve,Z(void 0))),gr(()=>f++),Dd(1),(0,Mi.Z)(m=>f===d.size?Z(e):Ge.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),gr({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(w,"",cs.NoDataFromResolver)}}))}),gr(w=>{const A=new c0(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(A)}))}),S0(m=>{const w=A=>{const R=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(A.routeConfig).pipe(gr(B=>{A.component=B}),(0,xe.T)(()=>{})));for(const B of A.children)R.push(...w(B));return R};return he(w(m.targetSnapshot.root)).pipe(Cd(null),Qr(1))}),S0(()=>this.afterPreactivation()),di(()=>{const{currentSnapshot:m,targetSnapshot:w}=c,A=this.createViewTransition?.(this.environmentInjector,m.root,w.root);return A?(0,Be.H)(A).pipe((0,xe.T)(()=>c)):Z(c)}),(0,xe.T)(m=>{const w=function oT(n,t,e){const r=jd(n,t._root,e?e._root:void 0);return new sc(r,t)}(e.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return this.currentTransition=c={...m,targetRouterState:w},this.currentNavigation.targetRouterState=w,c}),gr(()=>{this.events.next(new l0)}),((n,t,e,r)=>(0,xe.T)(i=>(new lT(t,i.targetRouterState,i.currentRouterState,e,r).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,m=>this.events.next(m),this.inputBindingEnabled),Qr(1),gr({next:m=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oc(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects))),this.titleStrategy?.updateTitle(m.targetRouterState.snapshot),m.resolve(!0)},complete:()=>{d=!0}}),Tr(this.transitionAbortSubject.pipe(gr(m=>{throw m}))),Td(()=>{!d&&!f&&this.cancelNavigationTransition(c,"",cs.SupersededByNewNavigation),this.currentTransition?.id===c.id&&(this.currentNavigation=null,this.currentTransition=null)}),yl(m=>{if(f=!0,cT(m))this.events.next(new Uc(c.id,this.urlSerializer.serialize(c.extractedUrl),m.message,m.cancellationCode)),function aT(n){return cT(n)&&Bc(n.url)}(m)?this.events.next(new Kg(m.url,m.navigationBehaviorOptions)):c.resolve(!1);else{const w=new Bd(c.id,this.urlSerializer.serialize(c.extractedUrl),m,c.targetSnapshot??void 0);try{const A=(0,l.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(w));if(A instanceof g0){const{message:R,cancellationCode:B}=ac(0,A);this.events.next(new Uc(c.id,this.urlSerializer.serialize(c.extractedUrl),R,B)),this.events.next(new Kg(A.redirectTo,A.navigationBehaviorOptions))}else{this.events.next(w);const R=e.errorHandler(m);c.resolve(!!R)}}catch(A){this.options.resolveNavigationPromiseOnError?c.resolve(!1):c.reject(A)}}return Ge.w}))}))}cancelNavigationTransition(e,r,i){const c=new Uc(e.id,this.urlSerializer.serialize(e.extractedUrl),r,i);this.events.next(c),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function up(n){return n!==Tu}let ok=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(ST),providedIn:"root"})}return n})();class sk{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let ST=(()=>{class n extends sk{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ak=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(I$),providedIn:"root"})}return n})(),I$=(()=>{class n extends ak{constructor(){super(...arguments),this.location=(0,l.WQX)(Pn),this.urlSerializer=(0,l.WQX)(Fd),this.options=(0,l.WQX)(qd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(AT),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Mr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=d0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{"popstate"===r.type&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof Zf)this.stateMemento=this.createStateMemento();else if(e instanceof jc)this.rawUrlTree=r.initialUrl;else if(e instanceof Gg){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else e instanceof l0?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof Uc&&(e.code===cs.GuardRejected||e.code===cs.NoDataFromResolver)?this.restoreHistory(r):e instanceof Bd?this.restoreHistory(r,!0):e instanceof oc&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){const i=e instanceof Mr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",d)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",c)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===e.finalUrl&&0===c&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var u_=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(u_||{});function ck(n,t){n.events.pipe((0,Bn.p)(e=>e instanceof oc||e instanceof Uc||e instanceof Bd||e instanceof jc),(0,xe.T)(e=>e instanceof oc||e instanceof jc?u_.COMPLETE:e instanceof Uc&&(e.code===cs.Redirect||e.code===cs.SupersededByNewNavigation)?u_.REDIRECTING:u_.FAILED),(0,Bn.p)(e=>e!==u_.REDIRECTING),Qr(1)).subscribe(()=>{t()})}function C$(n){throw n}const lk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let So=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(ak),this.options=(0,l.WQX)(qd,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(lp),this.urlSerializer=(0,l.WQX)(Fd),this.location=(0,l.WQX)(Pn),this.urlHandlingStrategy=(0,l.WQX)(AT),this._events=new U.B,this.errorHandler=this.options.errorHandler||C$,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(ok),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,l.WQX)(Xd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,l.WQX)(Ud,{optional:!0}),this.eventsSubscription=new ie.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(null!==i&&null!==c)if(this.stateManager.handleRouterEvent(r,c),r instanceof Uc&&r.code!==cs.Redirect&&r.code!==cs.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof oc)this.navigated=!0;else if(r instanceof Kg){const d=r.navigationBehaviorOptions,f=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),m={browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||"eager"===this.urlUpdateStrategy||up(i.source),...d};this.scheduleNavigation(f,Tu,null,m,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function xu(n){return!(n instanceof l0||n instanceof Kg)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Tu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,i){const c={replaceUrl:!0},d=i?.navigationId?i:null;if(i){const m={...i};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(c.state=m)}const f=this.parseUrl(e);this.scheduleNavigation(f,r,d,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(M0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:i,queryParams:c,fragment:d,queryParamsHandling:f,preserveFragment:m}=r,w=m?this.currentUrlTree.fragment:d;let R,A=null;switch(f){case"merge":A={...this.currentUrlTree.queryParams,...c};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=c||null}null!==A&&(A=this.removeEmptyProps(A));try{R=qD(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),R=this.currentUrlTree.root}return XD(R,e,A,w??null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=Bc(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(c,Tu,null,r)}navigate(e,r={skipLocationChange:!1}){return function xT(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new l.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let i;if(i=!0===r?{...lk}:!1===r?{...Qd}:r,Bc(e))return Ao(this.currentUrlTree,e,i);const c=this.parseUrl(e);return Ao(this.currentUrlTree,c,i)}removeEmptyProps(e){return Object.entries(e).reduce((r,[i,c])=>(null!=c&&(r[i]=c),r),{})}scheduleNavigation(e,r,i,c,d){if(this.disposed)return Promise.resolve(!1);let f,m,w;d?(f=d.resolve,m=d.reject,w=d.promise):w=new Promise((R,B)=>{f=R,m=B});const A=this.pendingTasks.add();return ck(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:c,resolve:f,reject:m,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(R=>Promise.reject(R))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zc=(()=>{class n{constructor(e,r,i,c,d,f){this.router=e,this.route=r,this.tabIndexAttribute=i,this.renderer=c,this.el=d,this.locationStrategy=f,this.href=null,this.onChanges=new U.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const m=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=e.events.subscribe(w=>{w instanceof oc&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null==e?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Bc(e)||Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,i,c,d){const f=this.urlTree;return!!(null===f||this.isAnchorElement&&(0!==e||r||i||c||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(f,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const r=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){const i=this.renderer,c=this.el.nativeElement;null!==r?i.setAttribute(c,e,r):i.removeAttribute(c,e)}get urlTree(){return null===this.routerLinkInput?null:Bc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(So),l.rXU(ls),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(an))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&r&&l.BMQ("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",l.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",l.L39],replaceUrl:[2,"replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}return n})();class MT{}let dk=(()=>{class n{constructor(e,r,i,c,d){this.router=e,this.injector=i,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe((0,Bn.p)(e=>e instanceof oc),wu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,l.Ol2)(c.providers,e,`Route: ${c.path}`));const d=c._injector??e,f=c._loadedInjector??d;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&i.push(this.preloadConfig(d,c)),(c.children||c._loadedRoutes)&&i.push(this.processRoutes(f,c.children??c._loadedRoutes))}return(0,Be.H)(i).pipe((0,Ad.U)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Z(null);const c=i.pipe((0,Mi.Z)(d=>null===d?Z(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Be.H)([c,d]).pipe((0,Ad.U)())}return c})}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(So),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(MT),l.KVO(CT))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const h_=new l.nKC("");let k0=(()=>{class n{constructor(e,r,i,c,d={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=i,this.zone=c,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,l.WQX)(l.uvJ),d.scrollPositionRestoration||="disabled",d.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Zf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof oc?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof jc&&e.code===wl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Il&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){var i=this;this.zone.runOutsideAngular((0,M.A)(function*(){yield new Promise(c=>{setTimeout(()=>{c()}),(0,l.mal)(()=>{c()},{injector:i.environmentInjector})}),i.zone.run(()=>{i.transitions.events.next(new Il(e,"popstate"===i.lastSource?i.store[i.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function dp(n){return n.routerState.root}function aa(n,t){return{\u0275kind:n,\u0275providers:t}}function RT(){const n=(0,l.WQX)(l.zZn);return t=>{const e=n.get(l.o8S);if(t!==e.components[0])return;const r=n.get(So),i=n.get(OT);1===n.get(xo)&&r.initialNavigation(),n.get(pk,null,l.$GK.Optional)?.setUpPreloading(),n.get(h_,null,l.$GK.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const OT=new l.nKC("",{factory:()=>new U.B}),xo=new l.nKC("",{providedIn:"root",factory:()=>1}),pk=new l.nKC("");function A$(n){return aa(0,[{provide:pk,useExisting:dk},{provide:MT,useExisting:n}])}function L0(){return aa(8,[p0,{provide:Ud,useExisting:p0}])}function gk(n){return aa(9,[{provide:ik,useValue:w$},{provide:R0,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const kT=new l.nKC("ROUTER_FORROOT_GUARD"),NT=[Pn,{provide:Fd,useClass:$g},So,qg,{provide:ls,useFactory:dp,deps:[So]},CT,[]];let p_=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[NT,[],{provide:Xd,multi:!0,useValue:e},{provide:kT,useFactory:bk,deps:[[So,new l.Xx1,new l.kdw]]},{provide:qd,useValue:r||{}},r?.useHash?{provide:an,useClass:tn}:{provide:an,useClass:un},{provide:h_,useFactory:()=>{const n=(0,l.WQX)(yg),t=(0,l.WQX)(l.SKi),e=(0,l.WQX)(qd),r=(0,l.WQX)(lp),i=(0,l.WQX)(Fd);return e.scrollOffset&&n.setOffset(e.scrollOffset),new k0(i,r,n,t,e)}},r?.preloadingStrategy?A$(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Ek(r):[],r?.bindToComponentInputs?L0().\u0275providers:[],r?.enableViewTransitions?gk().\u0275providers:[],[{provide:V0,useFactory:RT},{provide:l.iLQ,multi:!0,useExisting:V0}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Xd,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(kT,8))};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();function bk(n){return"guarded"}function Ek(n){return["disabled"===n.initialNavigation?aa(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const t=(0,l.WQX)(So);return()=>{t.setUpLocationChangeListener()}}},{provide:xo,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?aa(2,[{provide:xo,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:t=>{const e=t.get(Ft,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const i=t.get(So),c=t.get(OT);ck(i,()=>{r(!0)}),t.get(lp).afterPreactivation=()=>(r(!0),c.closed?Z(void 0):c),i.initialNavigation()}))}}]).\u0275providers:[]]}const V0=new l.nKC("");let U0;try{U0=typeof Intl<"u"&&Intl.v8BreakIterator}catch{U0=!1}let Yd,hi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?bd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!U0)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.Agw))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const j0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Ak(){if(Yd)return Yd;if("object"!=typeof document||!document)return Yd=new Set(j0),Yd;let n=document.createElement("input");return Yd=new Set(j0.filter(t=>(n.setAttribute("type",t),n.type===t))),Yd}let Zd;function Jd(n){return function Sk(){if(null==Zd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zd=!0}))}finally{Zd=Zd||!1}return Zd}()?n:!!n.capture}var Gc=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Gc||{});let m_,Tl,dc;function g_(){if(null==Tl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Tl=!1,Tl;if("scrollBehavior"in document.documentElement.style)Tl=!0;else{const n=Element.prototype.scrollTo;Tl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Tl}function fp(){if("object"!=typeof document||!document)return Gc.NORMAL;if(null==m_){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),m_=Gc.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,m_=0===n.scrollLeft?Gc.NEGATED:Gc.INVERTED),n.remove()}return m_}function v_(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function ca(n){return n.composedPath?n.composedPath()[0]:n.target}function VT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function hc(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class t1 extends ie.yU{constructor(t,e){super()}schedule(t,e=0){return this}}const T_={setInterval(n,t,...e){const{delegate:r}=T_;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=T_;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var nA=P(7908);class rA extends t1{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const i=this.id,c=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(c,i,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(c,this.id,e),this}requestAsyncId(t,e,r=0){return T_.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&T_.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let i,r=!1;try{this.work(t)}catch(c){r=!0,i=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,nA.o)(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}var dH=P(6129);class Xc{constructor(t,e=Xc.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Xc.now=dH.U.now;class Z0 extends Xc{constructor(t,e=Xc.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const A_=new Z0(rA),n1=A_;function J0(n,t=A_){return(0,ae.N)((e,r)=>{let i=null,c=null,d=null;const f=()=>{if(i){i.unsubscribe(),i=null;const w=c;c=null,r.next(w)}};function m(){const w=d+n,A=t.now();if(A<w)return i=this.schedule(void 0,w-A),void r.add(i);f()}e.subscribe((0,Ye._)(r,w=>{c=w,d=t.now(),i||(i=t.schedule(m,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{c=i=null}))})}function iA(n){return(0,Bn.p)((t,e)=>n<=e)}var oA=P(3294);function S_(n){return null!=n&&"false"!=`${n}`}function sA(n,t=0){return function r1(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function x_(n){return Array.isArray(n)?n:[n]}function fi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ru(n){return n instanceof l.aKT?n.nativeElement:n}const o1=new Set;let ih,hH=(()=>{class n{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):pH}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function fH(n,t){if(!o1.has(n))try{ih||(ih=document.createElement("style"),t&&ih.setAttribute("nonce",t),ih.setAttribute("type","text/css"),document.head.appendChild(ih)),ih.sheet&&(ih.sheet.insertRule(`@media ${n} {body{ }}`,0),o1.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(hi),l.KVO(l.BIS,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function pH(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let s1=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new U.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _p(x_(e)).some(i=>this._registerQuery(i).mql.matches)}observe(e){let c=he(_p(x_(e)).map(d=>this._registerQuery(d).observable));return c=(0,Tt.x)(c.pipe(Qr(1)),c.pipe(iA(1),J0(0))),c.pipe((0,xe.T)(d=>{const f={matches:!1,breakpoints:{}};return d.forEach(({matches:m,query:w})=>{f.matches=f.matches||m,f.breakpoints[w]=m}),f}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),c={observable:new ee.c(d=>{const f=m=>this._zone.run(()=>d.next(m));return r.addListener(f),()=>{r.removeListener(f)}}).pipe((0,jo.Z)(r),(0,xe.T)(({matches:d})=>({query:e,matches:d})),Tr(this._destroySubject)),mql:r};return this._queries.set(e,c),c}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(hH),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _p(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function nE(n,t,e){const r=lA(n,t);e=e.trim();const i=r.filter(c=>c!==e);i.length?n.setAttribute(t,i.join(" ")):n.removeAttribute(t)}function lA(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}class dA{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new U.B,this._typeaheadSubscription=ie.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this._pressedLetters=[],this.tabOut=new U.B,this.change=new U.B,t instanceof l.rOR?this._itemChangesSubscription=t.changes.subscribe(r=>this._itemsChanged(r.toArray())):(0,l.Hps)(t)&&(this._effectRef=(0,l.QZP)(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(gr(e=>this._pressedLetters.push(e)),J0(t),(0,Bn.p)(()=>this._pressedLetters.length>0),(0,xe.T)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const c=(this._activeItemIndex+i)%r.length,d=r[c];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!t[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&i){const c=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(c>0?c:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&i){const c=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(c<d?c:d-1,-1);break}return;default:return void((i||hc(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return(0,l.Hps)(this._items)?this._items():this._items instanceof l.rOR?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){const e=t.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}}}class gH extends dA{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class c1 extends dA{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let M_=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function R_(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function _H(n){try{return n.frameElement}catch{return null}}(function h1(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===O_(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),c=O_(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function P_(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==c:"video"===i?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function d1(n){return!function iE(n){return function oh(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function rE(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function u1(n){return function oE(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||sE(n))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(hi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function O_(n){if(!sE(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class aE{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,r,i,c=!1,d){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._injector=d,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?(0,l.mal)(t,{injector:this._injector}):setTimeout(t)}}let hA=(()=>{class n{constructor(e,r,i){this._checker=e,this._ngZone=r,this._injector=(0,l.WQX)(l.zZn),this._document=i}create(e,r=!1){return new aE(e,this._checker,this._ngZone,this._document,r,this._injector)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(M_),l.KVO(l.SKi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lE(n){return 0===n.buttons||0===n.detail}function uE(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const dE=new l.nKC("cdk-input-modality-detector-options"),mA={ignoreKeys:[18,17,224,91,16]},Ou=Jd({passive:!0,capture:!0});let gA=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,r,i,c){this._platform=e,this._mostRecentTarget=null,this._modality=new Me.t(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(f=>f===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ca(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(lE(d)?"keyboard":"mouse"),this._mostRecentTarget=ca(d))},this._onTouchstart=d=>{uE(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ca(d))},this._options={...mA,...c},this.modalityDetected=this._modality.pipe(iA(1)),this.modalityChanged=this.modalityDetected.pipe((0,oA.F)()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Ou),i.addEventListener("mousedown",this._onMousedown,Ou),i.addEventListener("touchstart",this._onTouchstart,Ou)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Ou),document.removeEventListener("mousedown",this._onMousedown,Ou),document.removeEventListener("touchstart",this._onTouchstart,Ou))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(hi),l.KVO(l.SKi),l.KVO(Te),l.KVO(dE,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const p1=new l.nKC("liveAnnouncerElement",{providedIn:"root",factory:function yH(){return null}}),N_=new l.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let m1=0,_A=(()=>{class n{constructor(e,r,i,c){this._ngZone=r,this._defaultOptions=c,this._document=i,this._liveElement=e||this._createLiveElement()}announce(e,...r){const i=this._defaultOptions;let c,d;return 1===r.length&&"number"==typeof r[0]?d=r[0]:[c,d]=r,this.clear(),clearTimeout(this._previousTimeout),c||(c=i&&i.politeness?i.politeness:"polite"),null==d&&i&&(d=i.duration),this._liveElement.setAttribute("aria-live",c),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),i=this._document.createElement("div");for(let c=0;c<r.length;c++)r[c].remove();return i.classList.add(e),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id="cdk-live-announcer-"+m1++,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(e){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){const c=r[i],d=c.getAttribute("aria-owns");d?-1===d.indexOf(e)&&c.setAttribute("aria-owns",d+" "+e):c.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(p1,8),l.KVO(l.SKi),l.KVO(Te),l.KVO(N_,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var yp=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(yp||{});const hE=new l.nKC("cdk-focus-monitor-default-options"),bp=Jd({passive:!0,capture:!0});let ka=(()=>{class n{constructor(e,r,i,c,d){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new U.B,this._rootNodeFocusAndBlurListener=f=>{for(let w=ca(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=c,this._detectionMode=d?.detectionMode||yp.IMMEDIATE}monitor(e,r=!1){const i=Ru(e);if(!this._platform.isBrowser||1!==i.nodeType)return Z();const c=function xk(n){if(function __(){if(null==dc){const n=typeof document<"u"?document.head:null;dc=!(!n||!n.createShadowRoot&&!n.attachShadow)}return dc}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const f={checkChildren:r,subject:new U.B,rootNode:c};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const r=Ru(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const c=Ru(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([f,m])=>this._originChanged(f,r,m)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===yp.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,this._detectionMode===yp.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),c=ca(e);!i||!i.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,bp),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,bp)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Tr(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,bp),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,bp),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,c)=>{(c===e||i.checkChildren&&c.contains(e))&&r.push([c,i])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const c=e.labels;if(c)for(let d=0;d<c.length;d++)if(c[d].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.SKi),l.KVO(hi),l.KVO(gA),l.KVO(Te,8),l.KVO(hE,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ol=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Ol||{});const F_="cdk-high-contrast-black-on-white",sh="cdk-high-contrast-white-on-black",L_="cdk-high-contrast-active";let fE=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,l.WQX)(s1).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ol.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(i&&i.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ol.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ol.BLACK_ON_WHITE}return Ol.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(L_,F_,sh),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===Ol.BLACK_ON_WHITE?e.add(L_,F_):r===Ol.WHITE_ON_BLACK&&e.add(L_,sh)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(hi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _1=new l.nKC("cdk-dir-doc",{providedIn:"root",factory:function vA(){return(0,l.WQX)(Te)}}),v1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let fc=(()=>{class n{constructor(e){this.value="ltr",this.change=new l.bkB,e&&(this.value=function y1(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?v1.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(_1,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ah=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const ch=["text"],yA=[[["mat-icon"]],"*"],bA=["mat-icon","*"];function I1(n,t){if(1&n&&l.nrm(0,"mat-pseudo-checkbox",1),2&n){const e=l.XpG();l.Y8G("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function V_(n,t){if(1&n&&l.nrm(0,"mat-pseudo-checkbox",3),2&n){const e=l.XpG();l.Y8G("disabled",e.disabled)}}function Pu(n,t){if(1&n&&(l.j41(0,"span",4),l.EFF(1),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.SpI("(",e.group.label,")")}}const mE=["mat-internal-form-field",""],wp=["*"],IA=new l.nKC("mat-sanity-checks",{providedIn:"root",factory:function _E(){return!0}});let Or=(()=>{class n{constructor(e,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!VT()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(fE),l.KVO(IA,8),l.KVO(Te))};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[ah,ah]})}return n})();class B_{constructor(t,e,r,i,c){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=c,this.errorState=!1}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,c=r?.isErrorState(i,e)??!1;c!==t&&(this.errorState=c,this._stateChanges.next())}}let U_=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var la=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(la||{});class M1{constructor(t,e,r,i=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=la.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const TA=Jd({passive:!0,capture:!0});class pc{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=ca(t);e&&this._events.get(t.type)?.forEach((r,i)=>{(i===e||i.contains(e))&&r.forEach(c=>c.handleEvent(t))})}}addHandler(t,e,r,i){const c=this._events.get(e);if(c){const d=c.get(r);d?d.add(i):c.set(r,new Set([i]))}else this._events.set(e,new Map([[r,new Set([i])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,TA)})}removeHandler(t,e,r){const i=this._events.get(t);if(!i)return;const c=i.get(e);c&&(c.delete(r),0===c.size&&i.delete(e),0===i.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,TA)))}}const j_={enterDuration:225,exitDuration:150},AA=Jd({passive:!0,capture:!0}),yE=["mousedown","touchstart"],bE=["mouseup","mouseleave","touchend","touchcancel"];class ku{static#e=this._eventManager=new pc;constructor(t,e,r,i){this._target=t,this._ngZone=e,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ru(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...j_,...r.animation};r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const d=r.radius||function EE(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),f=t-i.left,m=e-i.top,w=c.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=f-d+"px",A.style.top=m-d+"px",A.style.height=2*d+"px",A.style.width=2*d+"px",null!=r.color&&(A.style.backgroundColor=r.color),A.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(A);const R=window.getComputedStyle(A),q=R.transitionDuration,me="none"===R.transitionProperty||"0s"===q||"0s, 0s"===q||0===i.width&&0===i.height,pe=new M1(this,A,r,me);A.style.transform="scale3d(1, 1, 1)",pe.state=la.FADING_IN,r.persistent||(this._mostRecentTransientRipple=pe);let fe=null;return!me&&(w||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const dt=()=>{fe&&(fe.fallbackTimer=null),clearTimeout(bt),this._finishRippleTransition(pe)},_t=()=>this._destroyRipple(pe),bt=setTimeout(_t,w+100);A.addEventListener("transitionend",dt),A.addEventListener("transitioncancel",_t),fe={onTransitionEnd:dt,onTransitionCancel:_t,fallbackTimer:bt}}),this._activeRipples.set(pe,fe),(me||!w)&&this._finishRippleTransition(pe),pe}fadeOutRipple(t){if(t.state===la.FADING_OUT||t.state===la.HIDDEN)return;const e=t.element,r={...j_,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=la.FADING_OUT,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ru(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,yE.forEach(r=>{ku._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{bE.forEach(e=>{this._triggerElement.addEventListener(e,this,AA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===la.FADING_IN?this._startFadeOutTransition(t):t.state===la.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=la.VISIBLE,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=la.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=lE(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!uE(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===la.VISIBLE||t.config.terminateOnPointerUp&&t.state===la.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(yE.forEach(e=>ku._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(bE.forEach(e=>t.removeEventListener(e,this,AA)),this._pointerUpEventsRegistered=!1))}}const wE=new l.nKC("mat-ripple-global-options");let Cp=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,i,c,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new ku(this,r,e,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(hi),l.rXU(wE,8),l.rXU(l.bc$,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),Dp=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Or,Or]})}return n})(),SA=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){2&r&&l.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal","minimal"===i.appearance)("mat-pseudo-checkbox-full","full"===i.appearance)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[l.aNF],decls:0,vars:0,template:function(r,i){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),$_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Or]})}return n})();const H_=new l.nKC("MAT_OPTION_PARENT_COMPONENT"),xA=new l.nKC("MatOptgroup");let IE=0;class O1{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let kl=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,r,i,c){this._element=e,this._changeDetectorRef=r,this._parent=i,this.group=c,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+IE++,this.onSelectionChange=new l.bkB,this._stateChanges=new U.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,r){const i=this._getHostElement();"function"==typeof i.focus&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!hc(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new O1(this,e))}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(H_,8),l.rXU(xA,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-option"]],viewQuery:function(r,i){if(1&r&&l.GBs(ch,7),2&r){let c;l.mGM(c=l.lsd())&&(i._text=c.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,i){1&r&&l.bIt("click",function(){return i._selectViaInteraction()})("keydown",function(d){return i._handleKeydown(d)}),2&r&&(l.Mr5("id",i.id),l.BMQ("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),l.AVh("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",l.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:bA,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,i){1&r&&(l.NAR(yA),l.DNE(0,I1,1,2,"mat-pseudo-checkbox",1),l.SdG(1),l.j41(2,"span",2,0),l.SdG(4,1),l.k0s(),l.DNE(5,V_,1,1,"mat-pseudo-checkbox",3)(6,Pu,2,1,"span",4),l.nrm(7,"div",5)),2&r&&(l.vxM(i.multiple?0:-1),l.R7$(5),l.vxM(i.multiple||!i.selected||i.hideSingleSelectionIndicator?-1:5),l.R7$(),l.vxM(i.group&&i.group._inert?6:-1),l.R7$(),l.Y8G("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[SA,Cp],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),Fu=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Dp,Or,$_]})}return n})();const z_={capture:!0},lh=["focus","mousedown","mouseenter","touchstart"],G_="mat-ripple-loader-uninitialized",W_="mat-ripple-loader-class-name",RA="mat-ripple-loader-centered",K_="mat-ripple-loader-disabled";let OA=(()=>{class n{constructor(){this._document=(0,l.WQX)(Te,{optional:!0}),this._animationMode=(0,l.WQX)(l.bc$,{optional:!0}),this._globalRippleOptions=(0,l.WQX)(wE,{optional:!0}),this._platform=(0,l.WQX)(hi),this._ngZone=(0,l.WQX)(l.SKi),this._hosts=new Map,this._onInteraction=e=>{const r=ca(e);if(r instanceof HTMLElement){const i=r.closest(`[${G_}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}},this._ngZone.runOutsideAngular(()=>{for(const e of lh)this._document?.addEventListener(e,this._onInteraction,z_)})}ngOnDestroy(){const e=this._hosts.keys();for(const r of e)this.destroyRipple(r);for(const r of lh)this._document?.removeEventListener(r,this._onInteraction,z_)}configureRipple(e,r){e.setAttribute(G_,this._globalRippleOptions?.namespace??""),(r.className||!e.hasAttribute(W_))&&e.setAttribute(W_,r.className||""),r.centered&&e.setAttribute(RA,""),r.disabled&&e.setAttribute(K_,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,r){const i=this._hosts.get(e);i?i.disabled=r:r?e.setAttribute(K_,""):e.removeAttribute(K_)}_createRipple(e){if(!this._document)return;const r=this._hosts.get(e);if(r)return r;e.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",e.getAttribute(W_)),e.append(i);const c=new Cp(new l.aKT(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return c._isInitialized=!0,c.trigger=e,c.centered=e.hasAttribute(RA),c.disabled=e.hasAttribute(K_),this.attachRipple(e,c),c}attachRipple(e,r){e.removeAttribute(G_),this._hosts.set(e,r)}destroyRipple(e){const r=this._hosts.get(e);r&&(r.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),P1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mdc-form-field--align-end","before"===i.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[l.aNF],attrs:mE,ngContentSelectors:wp,decls:1,vars:0,template:function(r,i){1&r&&(l.NAR(),l.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return n})();const k1=["*",[["mat-toolbar-row"]]],N1=["*","mat-toolbar-row"];let PA=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),F1=(()=>{class n{constructor(e,r,i){this._elementRef=e,this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(hi),l.rXU(Te))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,i,c){if(1&r&&l.wni(c,PA,5),2&r){let d;l.mGM(d=l.lsd())&&(i._toolbarRows=d)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,i){2&r&&(l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[l.aNF],ngContentSelectors:N1,decls:2,vars:0,template:function(r,i){1&r&&(l.NAR(k1),l.SdG(0),l.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),L1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Or,Or]})}return n})();function DE(...n){const t=(0,Ue.ms)(n),{args:e,keys:r}=Pe(n),i=new ee.c(c=>{const{length:d}=e;if(!d)return void c.complete();const f=new Array(d);let m=d,w=d;for(let A=0;A<d;A++){let R=!1;(0,cn.Tg)(e[A]).subscribe((0,Ye._)(c,B=>{R||(R=!0,w--),f[A]=B},()=>m--,void 0,()=>{(!m||!R)&&(w||c.next(r?st(r,f):f),c.complete())}))}});return t?i.pipe(Ie(t)):i}var V1=P(7647);class q_{}class Qc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),c=i.toLowerCase(),d=e.slice(r+1).trim();this.maybeSetNormalizedName(i,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Qc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Qc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Qc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const c=t.value;if(c){let d=this.headers.get(e);if(!d)return;d=d.filter(f=>-1===c.indexOf(f)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const r=(Array.isArray(e)?e:[e]).map(c=>c.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class AE{encodeKey(t){return uh(t)}encodeValue(t){return uh(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Tp=/%(\d[a-f0-9])/gi,Ap={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uh(n){return encodeURIComponent(n).replace(Tp,(t,e)=>Ap[e]??t)}function X_(n){return`${n}`}class Nl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new AE,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function kA(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const c=i.indexOf("="),[d,f]=-1==c?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,c)),t.decodeValue(i.slice(c+1))],m=e.get(d)||[];m.push(f),e.set(d,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],i=Array.isArray(r)?r.map(X_):[X_(r)];this.map.set(e,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Nl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(X_(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(X_(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Q_{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function NA(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function U1(n){return typeof Blob<"u"&&n instanceof Blob}function j1(n){return typeof FormData<"u"&&n instanceof FormData}class Sp{constructor(t,e,r,i){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function SE(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,c=i):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new Qc,this.context??=new Q_,this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+d}}else this.params=new Nl,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||NA(this.body)||U1(this.body)||j1(this.body)||function $1(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Nl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||j1(this.body)?null:U1(this.body)?this.body.type||null:NA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,c=t.transferCache??this.transferCache,d=void 0!==t.body?t.body:this.body,f=t.withCredentials??this.withCredentials,m=t.reportProgress??this.reportProgress;let w=t.headers||this.headers,A=t.params||this.params;const R=t.context??this.context;return void 0!==t.setHeaders&&(w=Object.keys(t.setHeaders).reduce((B,q)=>B.set(q,t.setHeaders[q]),w)),t.setParams&&(A=Object.keys(t.setParams).reduce((B,q)=>B.set(q,t.setParams[q]),A)),new Sp(e,r,d,{params:A,headers:w,context:R,reportProgress:m,responseType:i,withCredentials:f,transferCache:c})}}var FA=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(FA||{});class xE{constructor(t,e=200,r="OK"){this.headers=t.headers||new Qc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class xp extends xE{constructor(t={}){super(t),this.type=FA.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new xp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function Rp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let dh=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let c;if(e instanceof Sp)c=e;else{let m,w;m=i.headers instanceof Qc?i.headers:new Qc(i.headers),i.params&&(w=i.params instanceof Nl?i.params:new Nl({fromObject:i.params})),c=new Sp(e,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:w,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const d=Z(c).pipe(wu(m=>this.handler.handle(m)));if(e instanceof Sp||"events"===i.observe)return d;const f=d.pipe((0,Bn.p)(m=>m instanceof xp));switch(i.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return f.pipe((0,xe.T)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,xe.T)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,xe.T)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return f.pipe((0,xe.T)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Nl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,Rp(i,r))}post(e,r,i={}){return this.request("POST",e,Rp(i,r))}put(e,r,i={}){return this.request("PUT",e,Rp(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(q_))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const pN=["*"];let rv;function Fp(n){return function JA(){if(void 0===rv&&(rv=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(rv=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return rv}()?.createHTML(n)||n}function eS(n){return Error(`Unable to find icon with the name "${n}"`)}function Bl(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function mh(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class gh{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let Lp=(()=>{class n{constructor(e,r,i,c){this._httpClient=e,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,c){return this._addSvgIconConfig(e,r,new gh(i,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,c){const d=this._sanitizer.sanitize(l.WPN.HTML,i);if(!d)throw mh(i);const f=Fp(d);return this._addSvgIconConfig(e,r,new gh("",f,c))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new gh(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const c=this._sanitizer.sanitize(l.WPN.HTML,r);if(!c)throw mh(r);const d=Fp(c);return this._addSvgIconSetConfig(e,new gh("",d,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(l.WPN.RESOURCE_URL,e);if(!r)throw Bl(e);const i=this._cachedIconsByUrl.get(r);return i?Z(iv(i)):this._loadSvgIconFromConfig(new gh(e,null)).pipe(gr(c=>this._cachedIconsByUrl.set(r,c)),(0,xe.T)(c=>iv(c)))}getNamedSvgIcon(e,r=""){const i=LE(r,e);let c=this._svgIconConfigs.get(i);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,e),c)return this._svgIconConfigs.set(i,c),this._getSvgFromConfig(c);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(e,d):Mn(eS(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Z(iv(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,xe.T)(r=>iv(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?Z(i):DE(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(yl(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(l.WPN.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),Z(null)})))).pipe((0,xe.T)(()=>{const d=this._extractIconWithNameFromAnySet(e,r);if(!d)throw eS(e);return d}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const c=r[i];if(c.svgText&&c.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(c),f=this._extractSvgIconFromSet(d,e,c.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(gr(r=>e.svgText=r),(0,xe.T)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Z(null):this._fetchIcon(e).pipe(gr(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const c=e.querySelector(`[id="${r}"]`);if(!c)return null;const d=c.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,i);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),i);const f=this._svgElementFromString(Fp("<svg></svg>"));return f.appendChild(d),this._setSvgAttributes(f,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString(Fp("<svg></svg>")),i=e.attributes;for(let c=0;c<i.length;c++){const{name:d,value:f}=i[c];"id"!==d&&r.setAttribute(d,f)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:i}=e,c=i?.withCredentials??!1;if(!this._httpClient)throw function Lu(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(l.WPN.RESOURCE_URL,r);if(!d)throw Bl(r);const f=this._inProgressUrlFetches.get(d);if(f)return f;const m=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,xe.T)(w=>Fp(w)),Td(()=>this._inProgressUrlFetches.delete(d)),(0,V1.u)());return this._inProgressUrlFetches.set(d,m),m}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(LE(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const c=this._resolvers[i](r,e);if(c)return XH(c)?new gh(c.url,null,c.options):new gh(c,null)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(dh,8),l.KVO(b),l.KVO(Te,8),l.KVO(l.zcH))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iv(n){return n.cloneNode(!0)}function LE(n,t){return n+":"+t}function XH(n){return!(!n.url||!n.options)}const _N=new l.nKC("MAT_ICON_DEFAULT_OPTIONS"),Vp=new l.nKC("mat-icon-location",{providedIn:"root",factory:function VE(){const n=(0,l.WQX)(Te),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),tS=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],vN=tS.map(n=>`[${n}]`).join(", "),yN=/^url\(['"]?#(.*?)['"]?\)$/;let _h=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,i,c,d,f){this._elementRef=e,this._iconRegistry=r,this._location=c,this._errorHandler=d,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ie.yU.EMPTY,f&&(f.color&&(this.color=this._defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),i||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),r.forEach(i=>e.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,c)=>{i.forEach(d=>{c.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(vN),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)tS.forEach(d=>{const f=r[c],m=f.getAttribute(d),w=m?m.match(yN):null;if(w){let A=i.get(f);A||(A=[],i.set(f,A)),A.push({name:d,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(Qr(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${c.message}`))})}}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(Lp),l.kS0("aria-hidden"),l.rXU(Vp),l.rXU(l.zcH),l.rXU(_N,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){2&r&&(l.BMQ("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:[2,"inline","inline",l.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:pN,decls:1,vars:0,template:function(r,i){1&r&&(l.NAR(),l.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Ul=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Or,Or]})}return n})();const go=["mat-button",""],Bp=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Up=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],bN=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Ur=["mat-fab",""],EN=["mat-icon-button",""],wN=["*"],iS=new l.nKC("MAT_BUTTON_CONFIG"),UE=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let ov=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,r,i,c){this._elementRef=e,this._platform=r,this._ngZone=i,this._animationMode=c,this._focusMonitor=(0,l.WQX)(ka),this._rippleLoader=(0,l.WQX)(OA),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const d=(0,l.WQX)(iS,{optional:!0}),f=e.nativeElement,m=f.classList;this.disabledInteractive=d?.disabledInteractive??!1,this.color=d?.color??null,this._rippleLoader?.configureRipple(f,{className:"mat-mdc-button-ripple"});for(const{attribute:w,mdcClasses:A}of UE)f.hasAttribute(w)&&m.add(...A)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275dir=l.FsC({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",l.L39],disabled:[2,"disabled","disabled",l.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",l.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",l.L39]},features:[l.GFd]})}return n})(),oS=(()=>{class n extends ov{constructor(e,r,i,c){super(e,r,i,c),this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275dir=l.FsC({type:n,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,l.Udg)(e)]},features:[l.GFd,l.Vt3]})}return n})(),CN=(()=>{class n extends ov{constructor(e,r,i,c){super(e,r,i,c)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(hi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[l.Vt3,l.aNF],attrs:go,ngContentSelectors:Up,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(Bp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Wo=(()=>{class n extends oS{constructor(e,r,i,c){super(e,r,i,c)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(hi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-disabled",i._getDisabledAttribute()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[l.Vt3,l.aNF],attrs:go,ngContentSelectors:Up,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(Bp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',bN],encapsulation:2,changeDetection:0})}return n})();const jE=new l.nKC("mat-mdc-fab-default-options",{providedIn:"root",factory:sv});function sv(){return{color:"accent"}}const jp=sv();let vh=(()=>{class n extends ov{constructor(e,r,i,c,d){super(e,r,i,c),this._options=d,this._isFab=!0,this._options=this._options||jp,this.color=this._options.color||jp.color}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(hi),l.rXU(l.SKi),l.rXU(l.bc$,8),l.rXU(jE,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{extended:[2,"extended","extended",l.L39]},exportAs:["matButton"],standalone:!0,features:[l.GFd,l.Vt3,l.aNF],attrs:Ur,ngContentSelectors:Up,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(Bp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),$E=(()=>{class n extends Wo{constructor(e,r,i,c,d){super(e,r,i,c),this._options=d,this._isFab=!0,this._options=this._options||jp,this.color=this._options.color||jp.color}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(hi),l.rXU(l.SKi),l.rXU(l.bc$,8),l.rXU(jE,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["a","mat-fab",""]],hostVars:19,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("tabindex",i.disabled&&!i.disabledInteractive?-1:i.tabIndex)("aria-disabled",i._getDisabledAttribute()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0)("mdc-fab--extended",i.extended)("mat-mdc-extended-fab",i.extended))},inputs:{extended:[2,"extended","extended",l.L39]},exportAs:["matButton","matAnchor"],standalone:!0,features:[l.GFd,l.Vt3,l.aNF],attrs:Ur,ngContentSelectors:Up,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(Bp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),DN=(()=>{class n extends ov{constructor(e,r,i,c){super(e,r,i,c),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(hi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,i){2&r&&(l.BMQ("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled()),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[l.Vt3,l.aNF],attrs:EN,ngContentSelectors:wN,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(l.NAR(),l.nrm(0,"span",0),l.SdG(1),l.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',bN],encapsulation:2,changeDetection:0})}return n})(),mc=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Or,Dp,Or]})}return n})();var Ei=P(7786);let cv,av=1;const jl={};function sS(n){return n in jl&&(delete jl[n],!0)}const TN={setImmediate(n){const t=av++;return jl[t]=!0,cv||(cv=Promise.resolve()),cv.then(()=>sS(t)&&n()),t},clearImmediate(n){sS(n)}},{setImmediate:cS,clearImmediate:$l}=TN,Hl={setImmediate(...n){const{delegate:t}=Hl;return(t?.setImmediate||cS)(...n)},clearImmediate(n){const{delegate:t}=Hl;return(t?.clearImmediate||$l)(n)},delegate:void 0},uv=new class lv extends Z0{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class e4 extends rA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Hl.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:c}=t;null!=e&&(null===(i=c[c.length-1])||void 0===i?void 0:i.id)!==e&&(Hl.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function yh(n,t){return t?e=>(0,Tt.x)(t.pipe(Qr(1),function SN(){return(0,ae.N)((n,t)=>{n.subscribe((0,Ye._)(t,Ag.l))})}()),e.pipe(yh(n))):(0,Mi.Z)((e,r)=>(0,cn.Tg)(n(e,r)).pipe(Qr(1),jb(e)))}var xN=P(9470);function lS(n=0,t,e=n1){let r=-1;return null!=t&&((0,xN.m)(t)?e=t:r=t),new ee.c(i=>{let c=function MN(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let d=0;return e.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},c)})}function zE(n,t=A_){const e=lS(n,t);return yh(()=>e)}class WE{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class dv extends WE{constructor(t,e,r,i,c){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=c}}class $p extends WE{constructor(t,e,r,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class KE extends WE{constructor(t){super(),this.element=t instanceof l.aKT?t.nativeElement:t}}class hv{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof dv?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof $p?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof KE?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class uS extends hv{constructor(t,e,r,i,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=d=>{const f=d.element,m=this._document.createComment("dom-portal");f.parentNode.insertBefore(m,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(f,m)})},this._document=c}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector||l.zZn.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let qE=(()=>{class n extends hv{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.bkB,this.attachDomPortal=c=>{const d=c.element,f=this._document.createComment("dom-portal");c.setAttachedHost(this),d.parentNode.insertBefore(f,d),this._getRootNode().appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=r.createComponent(c,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.OM3),l.rXU(l.c1b),l.rXU(Te))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[l.Vt3]})}return n})(),PN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();var wn=P(9969),fS=P(7441);const XE=["addListener","removeListener"],QE=["addEventListener","removeEventListener"],kN=["on","off"];function bh(n,t,e,r){if((0,De.T)(e)&&(r=e,e=void 0),r)return bh(n,t,e).pipe(Ie(r));const[i,c]=function YE(n){return(0,De.T)(n.addEventListener)&&(0,De.T)(n.removeEventListener)}(n)?QE.map(d=>f=>n[d](t,f,e)):function NN(n){return(0,De.T)(n.addListener)&&(0,De.T)(n.removeListener)}(n)?XE.map(pS(n,t)):function mS(n){return(0,De.T)(n.on)&&(0,De.T)(n.off)}(n)?kN.map(pS(n,t)):[];if(!i&&(0,fS.X)(n))return(0,Mi.Z)(d=>bh(d,t,e))((0,cn.Tg)(n));if(!i)throw new TypeError("Invalid event target");return new ee.c(d=>{const f=(...m)=>d.next(1<m.length?m:m[0]);return i(f),()=>c(f)})}function pS(n,t){return e=>r=>n[e](t,r)}const Vu={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Vu;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const i=t(c=>{e=void 0,n(c)});return new ie.yU(()=>e?.(i))},requestAnimationFrame(...n){const{delegate:t}=Vu;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Vu;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class _S extends Z0{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;t=t||r.shift();do{if(i=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw i}}}(class gS extends rA{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Vu.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:c}=t;null!=e&&(null===(i=c[c.length-1])||void 0===i?void 0:i.id)!==e&&(Vu.cancelAnimationFrame(e),t._scheduled=void 0)}});function bS(n,t=A_){return function yS(n){return(0,ae.N)((t,e)=>{let r=!1,i=null,c=null,d=!1;const f=()=>{if(c?.unsubscribe(),c=null,r){r=!1;const w=i;i=null,e.next(w)}d&&e.complete()},m=()=>{c=null,d&&e.complete()};t.subscribe((0,Ye._)(e,w=>{r=!0,i=w,c||(0,cn.Tg)(n(w)).subscribe(c=(0,Ye._)(e,f,m))},()=>{d=!0,(!r||!c||c.closed)&&e.complete()}))})}(()=>lS(n,t))}let ZE=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new U.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ee.c(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(bS(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Z()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe((0,Bn.p)(c=>!c||i.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=Ru(r),c=e.getElementRef().nativeElement;do{if(i==c)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>bh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.SKi),l.KVO(hi),l.KVO(Te,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),JE=(()=>{class n{constructor(e,r,i,c){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=i,this.dir=c,this._destroyed=new U.B,this._elementScrolled=new ee.c(d=>this.ngZone.runOutsideAngular(()=>bh(this.elementRef.nativeElement,"scroll").pipe(Tr(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=i?e.end:e.start),null==e.right&&(e.right=i?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),i&&fp()!=Gc.NORMAL?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),fp()==Gc.INVERTED?e.left=e.right:fp()==Gc.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;g_()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",i="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?i:r:"end"==e&&(e=d?r:i),d&&fp()==Gc.INVERTED?e==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:d&&fp()==Gc.NEGATED?e==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(ZE),l.rXU(l.SKi),l.rXU(fc,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),fv=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new U.B,this._changeListener=c=>{this._change.next(c)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,c=i.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(bS(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(hi),l.KVO(l.SKi),l.KVO(Te,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})(),jN=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[ah,pv,ah,pv]})}return n})();const ew=g_();class d4{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=fi(-this._previousScrollPosition.left),t.style.top=fi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,c=r.scrollBehavior||"",d=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ew&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ew&&(r.scrollBehavior=c,i.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class h4{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe((0,Bn.p)(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class $N{enable(){}disable(){}attach(){}}function TS(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function HN(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class f4{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();TS(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let p4=(()=>{class n{constructor(e,r,i,c){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new $N,this.close=d=>new h4(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new d4(this._viewportRuler,this._document),this.reposition=d=>new f4(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=c}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(ZE),l.KVO(fv),l.KVO(l.SKi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class tw{constructor(t){if(this.scrollStrategy=new $N,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class zp{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let nw=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zN=(()=>{class n extends nw{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=i=>{const c=this._attachedOverlays;for(let d=c.length-1;d>-1;d--)if(c[d]._keydownEvents.observers.length>0){const f=c[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(i)):f.next(i);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(l.SKi,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_4=(()=>{class n extends nw{constructor(e,r,i){super(e),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=ca(c)},this._clickListener=c=>{const d=ca(c),f="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let w=m.length-1;w>-1;w--){const A=m[w];if(A._outsidePointerEvents.observers.length<1||!A.hasAttached())continue;if(AS(A.overlayElement,d)||AS(A.overlayElement,f))break;const R=A._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(c)):R.next(c)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(hi),l.KVO(l.SKi,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AS(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let r=t;for(;r;){if(r===n)return!0;r=e&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}let mv=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||VT()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<i.length;c++)i[c].remove()}const r=this._document.createElement("div");r.classList.add(e),VT()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(hi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class gv{constructor(t,e,r,i,c,d,f,m,w,A=!1,R){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=c,this._keyboardDispatcher=d,this._document=f,this._location=m,this._outsideClickDispatcher=w,this._animationsDisabled=A,this._injector=R,this._backdropElement=null,this._backdropClick=new U.B,this._attachments=new U.B,this._detachments=new U.B,this._locationChanges=ie.yU.EMPTY,this._backdropClickHandler=B=>this._backdropClick.next(B),this._backdropTransitionendHandler=B=>{this._disposeBackdrop(B.target)},this._keydownEvents=new U.B,this._outsidePointerEvents=new U.B,this._renders=new U.B,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy,this._afterRenderRef=(0,l.O8t)(()=>(0,l.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,l.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=fi(this._config.width),t.height=fi(this._config.height),t.minWidth=fi(this._config.minWidth),t.minHeight=fi(this._config.minHeight),t.maxWidth=fi(this._config.maxWidth),t.maxHeight=fi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const i=x_(e||[]).filter(c=>!!c);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(Tr((0,Ei.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Gp="cdk-overlay-connected-position-bounding-box",SS=/([A-Za-z%]+)$/;class GN{get positions(){return this._preferredPositions}constructor(t,e,r,i,c){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new U.B,this._resizeSubscription=ie.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(Gp),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=this._containerRect,c=[];let d;for(let f of this._preferredPositions){let m=this._getOriginPoint(t,i,f),w=this._getOverlayPoint(m,e,f),A=this._getOverlayFit(w,e,r,f);if(A.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,m);this._canFitWithFlexibleDimensions(A,w,r)?c.push({position:f,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,f)}):(!d||d.overlayFit.visibleArea<A.visibleArea)&&(d={overlayFit:A,overlayPoint:w,originPoint:m,position:f,overlayRect:e})}if(c.length){let f=null,m=-1;for(const w of c){const A=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);A>m&&(m=A,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&zl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Gp),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let i,c;if("center"==r.originX)i=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,f=this._isRtl()?t.left:t.right;i="start"==r.originX?d:f}return e.left<0&&(i-=e.left),c="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(c-=e.top),{x:i,y:c}}_getOverlayPoint(t,e,r){let i,c;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+c}}_getOverlayFit(t,e,r,i){const c=rw(e);let{x:d,y:f}=t,m=this._getOffset(i,"x"),w=this._getOffset(i,"y");m&&(d+=m),w&&(f+=w);let B=0-f,q=f+c.height-r.height,me=this._subtractOverflows(c.width,0-d,d+c.width-r.width),pe=this._subtractOverflows(c.height,B,q),fe=me*pe;return{visibleArea:fe,isCompletelyWithinViewport:c.width*c.height===fe,fitsInViewportVertically:pe===c.height,fitsInViewportHorizontally:me==c.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,c=r.right-e.x,d=WN(this._overlayRef.getConfig().minHeight),f=WN(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=d&&d<=i)&&(t.fitsInViewportHorizontally||null!=f&&f<=c)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=rw(e),c=this._viewportRect,d=Math.max(t.x+i.width-c.width,0),f=Math.max(t.y+i.height-c.height,0),m=Math.max(c.top-r.top-t.y,0),w=Math.max(c.left-r.left-t.x,0);let A=0,R=0;return A=i.width<=c.width?w||-d:t.x<this._viewportMargin?c.left-r.left-t.x:0,R=i.height<=c.height?m||-f:t.y<this._viewportMargin?c.top-r.top-t.y:0,this._previousPushAmount={x:A,y:R},{x:t.x+A,y:t.y+R}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function v4(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,r)){const i=new zp(t,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let c,d,f,A,R,B;if("top"===e.overlayY)d=t.y,c=r.height-d+this._viewportMargin;else if("bottom"===e.overlayY)f=r.height-t.y+2*this._viewportMargin,c=r.height-f+this._viewportMargin;else{const q=Math.min(r.bottom-t.y+r.top,t.y),me=this._lastBoundingBoxSize.height;c=2*q,d=t.y-q,c>me&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-me/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)B=r.width-t.x+2*this._viewportMargin,A=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)R=t.x,A=r.right-t.x;else{const q=Math.min(r.right-t.x+r.left,t.x),me=this._lastBoundingBoxSize.width;A=2*q,R=t.x-q,A>me&&!this._isInitialRender&&!this._growAfterOpen&&(R=t.x-me/2)}return{top:d,left:R,bottom:f,right:B,width:A,height:c}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;i.height=fi(r.height),i.top=fi(r.top),i.bottom=fi(r.bottom),i.width=fi(r.width),i.left=fi(r.left),i.right=fi(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(i.maxHeight=fi(c)),d&&(i.maxWidth=fi(d))}this._lastBoundingBoxSize=r,zl(this._boundingBox.style,i)}_resetBoundingBoxStyles(){zl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){zl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),c=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(i){const A=this._viewportRuler.getViewportScrollPosition();zl(r,this._getExactOverlayY(e,t,A)),zl(r,this._getExactOverlayX(e,t,A))}else r.position="static";let f="",m=this._getOffset(e,"x"),w=this._getOffset(e,"y");m&&(f+=`translateX(${m}px) `),w&&(f+=`translateY(${w}px)`),r.transform=f.trim(),d.maxHeight&&(i?r.maxHeight=fi(d.maxHeight):c&&(r.maxHeight="")),d.maxWidth&&(i?r.maxWidth=fi(d.maxWidth):c&&(r.maxWidth="")),zl(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":i.top=fi(c.y),i}_getExactOverlayX(t,e,r){let d,i={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?i.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":i.left=fi(c.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:HN(t,r),isOriginOutsideView:TS(t,r),isOverlayClipped:HN(e,r),isOverlayOutsideView:TS(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&x_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.aKT)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function zl(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function WN(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(SS);return e&&"px"!==e?null:parseFloat(t)}return n||null}function rw(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const _v="cdk-global-overlay-wrapper";class qN{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(_v),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:c,maxWidth:d,maxHeight:f}=r,m=!("100%"!==i&&"100vw"!==i||d&&"100%"!==d&&"100vw"!==d),w=!("100%"!==c&&"100vh"!==c||f&&"100%"!==f&&"100vh"!==f),A=this._xPosition,R=this._xOffset,B="rtl"===this._overlayRef.getConfig().direction;let q="",me="",pe="";m?pe="flex-start":"center"===A?(pe="center",B?me=R:q=R):B?"left"===A||"end"===A?(pe="flex-end",q=R):("right"===A||"start"===A)&&(pe="flex-start",me=R):"left"===A||"start"===A?(pe="flex-start",q=R):("right"===A||"end"===A)&&(pe="flex-end",me=R),t.position=this._cssPosition,t.marginLeft=m?"0":q,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":me,e.justifyContent=pe,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(_v),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let XN=(()=>{class n{constructor(e,r,i,c){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=c}global(){return new qN}flexibleConnectedTo(e){return new GN(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(fv),l.KVO(Te),l.KVO(hi),l.KVO(mv))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vv=0,Ko=(()=>{class n{constructor(e,r,i,c,d,f,m,w,A,R,B,q){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=c,this._keyboardDispatcher=d,this._injector=f,this._ngZone=m,this._document=w,this._directionality=A,this._location=R,this._outsideClickDispatcher=B,this._animationsModuleType=q}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),c=this._createPortalOutlet(i),d=new tw(e);return d.direction=d.direction||this._directionality.value,new gv(c,r,i,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(l.uvJ))}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+vv++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.o8S)),new uS(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(p4),l.KVO(mv),l.KVO(l.OM3),l.KVO(XN),l.KVO(zN),l.KVO(l.zZn),l.KVO(l.SKi),l.KVO(Te),l.KVO(fc),l.KVO(Pn),l.KVO(_4),l.KVO(l.bc$,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const QN=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],xS=new l.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Ko);return()=>n.scrollStrategies.reposition()}});let yv=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),MS=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,r,i,c,d){this._overlay=e,this._dir=d,this._backdropSubscription=ie.yU.EMPTY,this._attachSubscription=ie.yU.EMPTY,this._detachSubscription=ie.yU.EMPTY,this._positionSubscription=ie.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,l.WQX)(l.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new l.bkB,this.positionChange=new l.bkB,this.attach=new l.bkB,this.detach=new l.bkB,this.overlayKeydown=new l.bkB,this.overlayOutsideClick=new l.bkB,this._templatePortal=new $p(r,i),this._scrollStrategyFactory=c,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=QN);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!hc(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{const i=this._getOriginElement(),c=ca(r);(!i||i!==c&&!i.contains(c))&&this.overlayOutsideClick.next(r)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new tw({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){const r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof yv?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof yv?this.origin.elementRef.nativeElement:this.origin instanceof l.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function DS(n,t=!1){return(0,ae.N)((e,r)=>{let i=0;e.subscribe((0,Ye._)(r,c=>{const d=n(c,i++);(d||t)&&r.next(c),!d&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Ko),l.rXU(l.C4Q),l.rXU(l.c1b),l.rXU(xS),l.rXU(fc,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",l.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",l.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",l.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",l.L39],push:[2,"cdkConnectedOverlayPush","push",l.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",l.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[l.GFd,l.OA$]})}return n})();const RS={provide:xS,deps:[Ko],useFactory:function YN(n){return()=>n.scrollStrategies.reposition()}};let iw=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[Ko,RS],imports:[ah,PN,jN,jN]})}return n})();const JN=["mat-menu-item",""],b4=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],OS=["mat-icon, [matMenuItemIcon]","*"];function PS(n,t){1&n&&(l.qSk(),l.j41(0,"svg",2),l.nrm(1,"polygon",3),l.k0s())}const Bu=["*"];function kS(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",0),l.bIt("keydown",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._handleKeydown(i))})("click",function(){l.eBV(e);const i=l.XpG();return l.Njj(i.closed.emit("click"))})("@transformMenu.start",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._onAnimationStart(i))})("@transformMenu.done",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._onAnimationDone(i))}),l.j41(1,"div",1),l.SdG(2),l.k0s()()}if(2&n){const e=l.XpG();l.HbH(e._classList),l.Y8G("id",e.panelId)("@transformMenu",e._panelAnimationState),l.BMQ("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const ow=new l.nKC("MAT_MENU_PANEL");let sw=(()=>{class n{constructor(e,r,i,c,d){this._elementRef=e,this._document=r,this._focusMonitor=i,this._parentMenu=c,this._changeDetectorRef=d,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new U.B,this._focused=new U.B,this._highlighted=!1,this._triggersSubmenu=!1,c?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let i=0;i<r.length;i++)r[i].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(Te),l.rXU(ka),l.rXU(ow,8),l.rXU(l.gRc))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._checkDisabled(d)})("mouseenter",function(){return i._handleMouseEnter()}),2&r&&(l.BMQ("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled)("disabled",i.disabled||null),l.AVh("mat-mdc-menu-item-highlighted",i._highlighted)("mat-mdc-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39]},exportAs:["matMenuItem"],standalone:!0,features:[l.GFd,l.aNF],attrs:JN,ngContentSelectors:OS,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,i){1&r&&(l.NAR(b4),l.SdG(0),l.j41(1,"span",0),l.SdG(2,1),l.k0s(),l.nrm(3,"div",1),l.DNE(4,PS,2,0,":svg:svg",2)),2&r&&(l.R7$(3),l.Y8G("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.R7$(),l.vxM(i._triggersSubmenu?4:-1))},dependencies:[Cp],encapsulation:2,changeDetection:0})}return n})();const LS=new l.nKC("MatMenuContent"),bv={transformMenu:(0,wn.hZ)("transformMenu",[(0,wn.wk)("void",(0,wn.iF)({opacity:0,transform:"scale(0.8)"})),(0,wn.kY)("void => enter",(0,wn.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,wn.iF)({opacity:1,transform:"scale(1)"}))),(0,wn.kY)("* => void",(0,wn.i0)("100ms 25ms linear",(0,wn.iF)({opacity:0})))]),fadeInItems:(0,wn.hZ)("fadeInItems",[(0,wn.wk)("showing",(0,wn.iF)({opacity:1})),(0,wn.kY)("void => *",[(0,wn.iF)({opacity:0}),(0,wn.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let eF=0;const tF=new l.nKC("mat-menu-default-options",{providedIn:"root",factory:function cw(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Wp=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){const r=this._previousPanelClass,i={...this._classList};r&&r.length&&r.split(" ").forEach(c=>{i[c]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(c=>{i[c]=!0}),this._elementRef.nativeElement.className=""),this._classList=i}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,i,c){this._elementRef=e,this._changeDetectorRef=c,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new l.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new U.B,this.closed=new l.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+eF++,this._injector=(0,l.WQX)(l.zZn),this.overlayPanelClass=i.overlayPanelClass||"",this._xPosition=i.xPosition,this._yPosition=i.yPosition,this.backdropClass=i.backdropClass,this.overlapTrigger=i.overlapTrigger,this.hasBackdrop=i.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new c1(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,jo.Z)(this._directDescendantItems),di(e=>(0,Ei.h)(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const i=e.toArray(),c=Math.max(0,Math.min(i.length-1,r.activeItemIndex||0));i[c]&&!i[c].disabled?r.setActiveItem(c):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,jo.Z)(this._directDescendantItems),di(r=>(0,Ei.h)(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:hc(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&i.setFocusOrigin("keyboard"),void i.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,l.mal)(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const i=this._keyManager;i.setFocusOrigin(e).setFirstItemActive(),!i.activeItem&&r&&r.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(null===this._baseElevation){const f=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(f)}const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,c=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));if(!c||c===this._previousElevation){const d={...this._classList};this._previousElevation&&(d[this._previousElevation]=!1),d[i]=!0,this._previousElevation=i,this._classList=d}}setPositionClasses(e=this.xPosition,r=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===e,"mat-menu-after":"after"===e,"mat-menu-above":"above"===r,"mat-menu-below":"below"===r},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,jo.Z)(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(tF),l.rXU(l.gRc))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-menu"]],contentQueries:function(r,i,c){if(1&r&&(l.wni(c,LS,5),l.wni(c,sw,5),l.wni(c,sw,4)),2&r){let d;l.mGM(d=l.lsd())&&(i.lazyContent=d.first),l.mGM(d=l.lsd())&&(i._allItems=d),l.mGM(d=l.lsd())&&(i.items=d)}},viewQuery:function(r,i){if(1&r&&l.GBs(l.C4Q,5),2&r){let c;l.mGM(c=l.lsd())&&(i.templateRef=c.first)}},hostVars:3,hostBindings:function(r,i){2&r&&l.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",l.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>null==e?null:(0,l.L39)(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[l.Jv_([{provide:ow,useExisting:n}]),l.GFd,l.aNF],ngContentSelectors:Bu,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(r,i){1&r&&(l.NAR(),l.DNE(0,kS,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[bv.transformMenu,bv.fadeInItems]},changeDetection:0})}return n})();const Na=new l.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Ko);return()=>n.scrollStrategies.reposition()}}),wi={provide:Na,deps:[Ko],useFactory:function Kp(n){return()=>n.scrollStrategies.reposition()}},Gl=Jd({passive:!0});let ua=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,i,c,d,f,m,w,A){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=f,this._dir=m,this._focusMonitor=w,this._ngZone=A,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=ie.yU.EMPTY,this._hoverSubscription=ie.yU.EMPTY,this._menuCloseSubscription=ie.yU.EMPTY,this._changeDetectorRef=(0,l.WQX)(l.gRc),this._handleTouchStart=R=>{uE(R)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=d instanceof Wp?d:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,Gl)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Gl),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),i=r.getConfig(),c=i.positionStrategy;this._setPosition(e,c),i.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Wp&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Tr(e.close)).subscribe(()=>{c.withLockedPosition(!1).reapplyLastPosition(),c.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Wp?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe((0,Bn.p)(i=>"void"===i.toState),Qr(1),Tr(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,i=e.parentMenu;for(;i;)r++,i=i.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new tw({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(i=>{const c="start"===i.connectionPair.overlayX?"after":"before",d="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(c,d)):e.setPositionClasses(c,d)})}_setPosition(e,r){let[i,c]="before"===e.xPosition?["end","start"]:["start","end"],[d,f]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[m,w]=[d,f],[A,R]=[i,c],B=0;if(this.triggersSubmenu()){if(R=i="before"===e.xPosition?"start":"end",c=A="end"===i?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const q=this._parentMaterialMenu.items.first;this._parentInnerPadding=q?q._getHostElement().offsetTop:0}B="bottom"===d?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(m="top"===d?"bottom":"top",w="top"===f?"bottom":"top");r.withPositions([{originX:i,originY:m,overlayX:A,overlayY:d,offsetY:B},{originX:c,originY:m,overlayX:R,overlayY:d,offsetY:B},{originX:i,originY:w,overlayX:A,overlayY:f,offsetY:-B},{originX:c,originY:w,overlayX:R,overlayY:f,offsetY:-B}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:Z(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,Bn.p)(d=>d!==this._menuItemInstance),(0,Bn.p)(()=>this._menuOpen)):Z();return(0,Ei.h)(e,i,c,r)}_handleMousedown(e){lE(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,Bn.p)(e=>e===this._menuItemInstance&&!e.disabled),zE(0,uv)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Wp&&this.menu._isAnimating?this.menu._animationDone.pipe(Qr(1),zE(0,uv),Tr(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new $p(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Ko),l.rXU(l.aKT),l.rXU(l.c1b),l.rXU(Na),l.rXU(ow,8),l.rXU(sw,10),l.rXU(fc,8),l.rXU(ka),l.rXU(l.SKi))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._handleClick(d)})("mousedown",function(d){return i._handleMousedown(d)})("keydown",function(d){return i._handleKeydown(d)}),2&r&&l.BMQ("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return n})(),Eh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[wi],imports:[Vo,Dp,Or,iw,pv,Or]})}return n})(),nF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["main-bar"]],standalone:!0,features:[l.aNF],decls:15,vars:1,consts:[["menu","matMenu"],["routerLink","/game"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","","routerLink","/game"],["data-test-id","game-entry"],["mat-menu-item","","routerLink","/editor"],["data-test-id","editor-entry"]],template:function(r,i){if(1&r&&(l.j41(0,"mat-toolbar")(1,"span",1),l.EFF(2,"Empathy"),l.k0s(),l.nrm(3,"span",2),l.j41(4,"button",3)(5,"mat-icon"),l.EFF(6,"menu"),l.k0s()(),l.j41(7,"mat-menu",null,0)(9,"button",4)(10,"span",5),l.EFF(11,"Game"),l.k0s()(),l.j41(12,"button",6)(13,"span",7),l.EFF(14,"Editor"),l.k0s()()()()),2&r){const c=l.sdS(8);l.R7$(4),l.Y8G("matMenuTriggerFor",c)}},dependencies:[zc,L1,F1,Ul,_h,mc,DN,Eh,Wp,sw,ua],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background:var(--sys-background)}"]})}return n})(),qp=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-root"]],standalone:!0,features:[l.aNF],decls:3,vars:0,consts:[[1,"container"]],template:function(r,i){1&r&&(l.nrm(0,"main-bar"),l.j41(1,"div",0),l.nrm(2,"router-outlet"),l.k0s())},dependencies:[nF,f0],styles:[".container[_ngcontent-%COMP%] {margin:auto;width:85%}"]})}return n})(),BS=(()=>{class n{constructor(e,r,i,c,d){this.doc=e,this.delegate=r,this.zone=i,this.animationType=c,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=(0,l.WQX)(l.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??P.e(8).then(P.bind(P,8008)).then(r=>r)).catch(r=>{throw new l.wOt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:i})=>{this._engine=r(this.animationType,this.doc);const c=new i(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(e,r){const i=this.delegate.createRenderer(e,r);if(0===i.\u0275type)return i;"boolean"==typeof i.throwOnSyntheticProps&&(i.throwOnSyntheticProps=!1);const c=new US(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{const f=d.createRenderer(e,r);c.use(f),this.scheduler?.notify(9)}).catch(d=>{c.use(i)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class US{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,null!==this.replay){for(const e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,r,i){this.delegate.insertBefore(t,e,r,i)}removeChild(t,e,r){this.delegate.removeChild(t,e,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(t,e,r)),this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(t,e,r)),this.delegate.listen(t,e,r)}shouldReplay(t){return null!==this.replay&&t.startsWith("@")}}const iF=["*"],oF=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Ci=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Xp=new l.nKC("MAT_CARD_CONFIG");let gc=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Xp,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,i){2&r&&l.AVh("mat-mdc-card-outlined","outlined"===i.appearance)("mdc-card--outlined","outlined"===i.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[l.aNF],ngContentSelectors:iF,decls:1,vars:0,template:function(r,i){1&r&&(l.NAR(),l.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),wh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return n})(),Wl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return n})(),dw=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return n})(),Ev=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[l.aNF],ngContentSelectors:Ci,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,i){1&r&&(l.NAR(oF),l.SdG(0),l.j41(1,"div",0),l.SdG(2,1),l.k0s(),l.SdG(3,2))},encapsulation:2,changeDetection:0})}return n})(),Ih=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return n})(),wv=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Or,Vo,Or]})}return n})();var Pr=function(n){return n.USER_STATE="user_state",n.STORIES="stories",n.CHAPTERS="chapters",n}(Pr||{});const cF={user_state:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},chapters:{type:"array"}},required:["id","name"]}},stories:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},languages:{type:"array"},description:{type:"string"}},required:["id","name","languages"]}},chapters:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},chapter_number:{type:"number"},story_id:{type:"string"},name:{type:"string"},language:{type:"string"},is_premium:{type:"boolean"},author:{type:"string"},pages:{type:"array"},description:{type:"string"},empathy_name:{type:"string"},sympathy_name:{type:"string"}},required:["id","chapter_number","story_id","name","language","empathy_name","sympathy_name"]}}},Yp={apiKey:"AIzaSyBnagIv1jnnkGEMASLY3bJIrc5Iuz-Syks",authDomain:"empathy-7224d.firebaseapp.com",projectId:"empathy-7224d",storageBucket:"empathy-7224d.appspot.com",messagingSenderId:"957387697152",appId:"1:957387697152:web:a2fd71b0ac7fc060703ce5",measurementId:"G-WBFW0YBS26"},mw=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?t[e++]=i:i<2048?(t[e++]=i>>6|192,t[e++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),t[e++]=i>>18|240,t[e++]=i>>12&63|128,t[e++]=i>>6&63|128,t[e++]=63&i|128):(t[e++]=i>>12|224,t[e++]=i>>6&63|128,t[e++]=63&i|128)}return t},Iv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const c=n[i],d=i+1<n.length,f=d?n[i+1]:0,m=i+2<n.length,w=m?n[i+2]:0;let B=(15&f)<<2|w>>6,q=63&w;m||(q=64,d||(B=64)),r.push(e[c>>2],e[(3&c)<<4|f>>4],e[B],e[q])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(mw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,r=0;for(;e<n.length;){const i=n[e++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const c=n[e++];t[r++]=String.fromCharCode((31&i)<<6|63&c)}else if(i>239&&i<365){const m=((7&i)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[r++]=String.fromCharCode(55296+(m>>10)),t[r++]=String.fromCharCode(56320+(1023&m))}else{const c=n[e++],d=n[e++];t[r++]=String.fromCharCode((15&i)<<12|(63&c)<<6|63&d)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const c=e[n.charAt(i++)],f=i<n.length?e[n.charAt(i)]:0;++i;const w=i<n.length?e[n.charAt(i)]:64;++i;const R=i<n.length?e[n.charAt(i)]:64;if(++i,null==c||null==f||null==w||null==R)throw new gw;r.push(c<<2|f>>4),64!==w&&(r.push(f<<4&240|w>>2),64!==R&&r.push(w<<6&192|R))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Jp=function(n){return function(n){const t=mw(n);return Iv.encodeByteArray(t,!0)}(n).replace(/\./g,"")},em=function(n){try{return Iv.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},tm=()=>{try{return function XS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&em(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},_w=n=>{var t,e;return null===(e=null===(t=tm())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]},fF=()=>{var n;return null===(n=tm())||void 0===n?void 0:n.config},QS=n=>{var t;return null===(t=tm())||void 0===t?void 0:t[`_${n}`]};class Cv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,r))}}}function pi(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class _c extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,_c.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sh.prototype.create)}}class Sh{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},i=`${this.service}/${t}`,c=this.errors[t],d=c?function Kl(n,t){return n.replace(yw,(e,r)=>{const i=t[r];return null!=i?String(i):`<${r}?>`})}(c,r):"Error";return new _c(i,`${this.serviceName}: ${d} (${i}).`,r)}}const yw=/\{\$([^}]+)}/g;function Fa(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const i of e){if(!r.includes(i))return!1;const c=n[i],d=t[i];if(Uu(c)&&Uu(d)){if(!Fa(c,d))return!1}else if(c!==d)return!1}for(const i of r)if(!e.includes(i))return!1;return!0}function Uu(n){return null!==n&&"object"==typeof n}function vc(n){const t=[];for(const[e,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}class Rh{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,r){let i;if(void 0===t&&void 0===e&&void 0===r)throw new Error("Missing Observer.");i=function nx(n,t){if("object"!=typeof n||null===n)return!1;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:r},void 0===i.next&&(i.next=Av),void 0===i.error&&(i.error=Av),void 0===i.complete&&(i.complete=Av);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),c}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Av(){}function io(n){return n&&n._delegate?n._delegate:n}class Oh{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hu="[DEFAULT]";class kF{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new Cv;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:e});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t?.identifier),i=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(i)return null;throw c}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function NF(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:Hu})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(e);try{const c=this.getOrInitializeService({instanceIdentifier:i});r.resolve(c)}catch{}}}}clearInstance(t=Hu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,M.A)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=Hu){return this.instances.has(t)}getOptions(t=Hu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[c,d]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(c)&&d.resolve(i);return i}onInit(t,e){var r;const i=this.normalizeInstanceIdentifier(e),c=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;c.add(t),this.onInitCallbacks.set(i,c);const d=this.instances.get(i);return d&&t(d,i),()=>{c.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const i of r)try{i(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===Hu?void 0:n),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(t=Hu){return this.component?this.component.multipleInstances?t:Hu:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Gi{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new kF(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const xv=[];var qn=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(qn||{});const ox={debug:qn.DEBUG,verbose:qn.VERBOSE,info:qn.INFO,warn:qn.WARN,error:qn.ERROR,silent:qn.SILENT},sx=qn.INFO,FF={[qn.DEBUG]:"log",[qn.VERBOSE]:"log",[qn.INFO]:"info",[qn.WARN]:"warn",[qn.ERROR]:"error"},ax=(n,t,...e)=>{if(t<n.logLevel)return;const r=(new Date).toISOString(),i=FF[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${n.name}:`,...e)};class Mv{constructor(t){this.name=t,this._logLevel=sx,this._logHandler=ax,this._userLogHandler=null,xv.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qn))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?ox[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qn.DEBUG,...t),this._logHandler(this,qn.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qn.VERBOSE,...t),this._logHandler(this,qn.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qn.INFO,...t),this._logHandler(this,qn.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qn.WARN,...t),this._logHandler(this,qn.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qn.ERROR,...t),this._logHandler(this,qn.ERROR,...t)}}const LF=(n,t)=>t.some(e=>n instanceof e);let Iw,cx;const Rv=new WeakMap,cm=new WeakMap,Ov=new WeakMap,lm=new WeakMap,ha=new WeakMap;let fa={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return cm.get(n);if("objectStoreNames"===t)return n.objectStoreNames||Ov.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Yc(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function dx(n){return"function"==typeof n?function Va(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function O4(){return cx||(cx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(Cw(this),t),Yc(Rv.get(this))}:function(...t){return Yc(n.apply(Cw(this),t))}:function(t,...e){const r=n.call(Cw(this),t,...e);return Ov.set(r,t.sort?t.sort():[t]),Yc(r)}}(n):(n instanceof IDBTransaction&&function ux(n){if(cm.has(n))return;const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{e(),i()},d=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});cm.set(n,t)}(n),LF(n,function lx(){return Iw||(Iw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,fa):n)}function Yc(n){if(n instanceof IDBRequest)return function VF(n){const t=new Promise((e,r)=>{const i=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{e(Yc(n.result)),i()},d=()=>{r(n.error),i()};n.addEventListener("success",c),n.addEventListener("error",d)});return t.then(e=>{e instanceof IDBCursor&&Rv.set(e,n)}).catch(()=>{}),ha.set(t,n),t}(n);if(lm.has(n))return lm.get(n);const t=dx(n);return t!==n&&(lm.set(n,t),ha.set(t,n)),t}const Cw=n=>ha.get(n),UF=["get","getKey","getAll","getAllKeys","count"],Dw=["put","add","delete","clear"],zu=new Map;function hx(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(zu.get(t))return zu.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,i=Dw.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!UF.includes(e))return;const c=function(){var d=(0,M.A)(function*(f,...m){const w=this.transaction(f,i?"readwrite":"readonly");let A=w.store;return r&&(A=A.index(m.shift())),(yield Promise.all([A[e](...m),i&&w.done]))[0]});return function(m){return d.apply(this,arguments)}}();return zu.set(t,c),c}!function La(n){fa=n(fa)}(n=>({...n,get:(t,e,r)=>hx(t,e)||n.get(t,e,r),has:(t,e)=>!!hx(t,e)||n.has(t,e)}));class fx{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function jF(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}return null}).filter(e=>e).join(" ")}}const Pv="@firebase/app",ql=new Mv("@firebase/app"),um="[DEFAULT]",N4={[Pv]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Ph=new Map,dm=new Map,kh=new Map;function hm(n,t){try{n.container.addComponent(t)}catch(e){ql.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Nh(n){const t=n.name;if(kh.has(t))return ql.debug(`There were multiple attempts to register component ${t}.`),!1;kh.set(t,n);for(const e of Ph.values())hm(e,n);for(const e of dm.values())hm(e,n);return!0}function Fh(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function pa(n){return void 0!==n.settings}const ma=new Sh("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Ix{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ma.create("app-deleted",{appName:this._name})}}const Xl="10.12.4";function Lv(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:um,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw ma.create("bad-app-name",{appName:String(i)});if(e||(e=fF()),!e)throw ma.create("no-options");const c=Ph.get(i);if(c){if(Fa(e,c.options)&&Fa(r,c.config))return c;throw ma.create("duplicate-app",{appName:i})}const d=new Gi(i);for(const m of kh.values())d.addComponent(m);const f=new Ix(e,r,d);return Ph.set(i,f),f}function Sw(n=um){const t=Ph.get(n);if(!t&&n===um&&fF())return Lv();if(!t)throw ma.create("no-app",{appName:n});return t}function Ba(n,t,e){var r;let i=null!==(r=N4[n])&&void 0!==r?r:n;e&&(i+=`-${e}`);const c=i.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const f=[`Unable to register library "${i}" with version "${t}":`];return c&&f.push(`library name "${i}" contains illegal characters (whitespace or "/")`),c&&d&&f.push("and"),d&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ql.warn(f.join(" "))}Nh(new Oh(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const aL="firebase-heartbeat-database",cL=1,yc="firebase-heartbeat-store";let Cx=null;function Bv(){return Cx||(Cx=function BF(n,t,{blocked:e,upgrade:r,blocking:i,terminated:c}={}){const d=indexedDB.open(n,t),f=Yc(d);return r&&d.addEventListener("upgradeneeded",m=>{r(Yc(d.result),m.oldVersion,m.newVersion,Yc(d.transaction),m)}),e&&d.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),f.then(m=>{c&&m.addEventListener("close",()=>c()),i&&m.addEventListener("versionchange",w=>i(w.oldVersion,w.newVersion,w))}).catch(()=>{}),f}(aL,cL,{upgrade:(n,t)=>{if(0===t)try{n.createObjectStore(yc)}catch(e){console.warn(e)}}}).catch(n=>{throw ma.create("idb-open",{originalErrorMessage:n.message})})),Cx}function Uv(){return(Uv=(0,M.A)(function*(n){try{const e=(yield Bv()).transaction(yc),r=yield e.objectStore(yc).get(Gu(n));return yield e.done,r}catch(t){if(t instanceof _c)ql.warn(t.message);else{const e=ma.create("idb-get",{originalErrorMessage:t?.message});ql.warn(e.message)}}})).apply(this,arguments)}function xw(n,t){return Dx.apply(this,arguments)}function Dx(){return(Dx=(0,M.A)(function*(n,t){try{const r=(yield Bv()).transaction(yc,"readwrite");yield r.objectStore(yc).put(t,Gu(n)),yield r.done}catch(e){if(e instanceof _c)ql.warn(e.message);else{const r=ma.create("idb-set",{originalErrorMessage:e?.message});ql.warn(r.message)}}})).apply(this,arguments)}function Gu(n){return`${n.name}!${n.options.appId}`}class dL{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new jv(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return(0,M.A)(function*(){var e,r;const c=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=Wu();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(r=t._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==d&&!t._heartbeatsCache.heartbeats.some(f=>f.date===d))return t._heartbeatsCache.heartbeats.push({date:d,agent:c}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return(0,M.A)(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const r=Wu(),{heartbeatsToSend:i,unsentEntries:c}=function hL(n,t=1024){const e=[];let r=n.slice();for(const i of n){const c=e.find(d=>d.agent===i.agent);if(c){if(c.dates.push(i.date),fm(e)>t){c.dates.pop();break}}else if(e.push({agent:i.agent,dates:[i.date]}),fm(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}(t._heartbeatsCache.heartbeats),d=Jp(JSON.stringify({version:2,heartbeats:i}));return t._heartbeatsCache.lastSentHeartbeatDate=r,c.length>0?(t._heartbeatsCache.heartbeats=c,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),d})()}}function Wu(){return(new Date).toISOString().substring(0,10)}class jv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,M.A)(function*(){return!!function ZS(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function bF(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{e=!1},i.onerror=()=>{var c;t((null===(c=i.error)||void 0===c?void 0:c.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,M.A)(function*(){if(yield t._canUseIndexedDBPromise){const r=yield function B4(n){return Uv.apply(this,arguments)}(t.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return(0,M.A)(function*(){var r;if(yield e._canUseIndexedDBPromise){const c=yield e.read();return xw(e.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return(0,M.A)(function*(){var r;if(yield e._canUseIndexedDBPromise){const c=yield e.read();return xw(e.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...t.heartbeats]})}})()}}function fm(n){return Jp(JSON.stringify({version:2,heartbeats:n})).length}!function ds(n){Nh(new Oh("platform-logger",t=>new fx(t),"PRIVATE")),Nh(new Oh("heartbeat",t=>new dL(t),"PRIVATE")),Ba(Pv,"0.10.7",n),Ba(Pv,"0.10.7","esm2017"),Ba("fire-js","")}("");var $v=P(1635);const pL=function Mw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Tx=new Sh("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pm=new Mv("@firebase/auth");function mm(n,...t){pm.logLevel<=qn.ERROR&&pm.error(`Auth (${Xl}): ${n}`,...t)}function hs(n,...t){throw Sx(n,...t)}function Os(n,...t){return Sx(n,...t)}function Rw(n,t,e){const r=Object.assign(Object.assign({},pL()),{[t]:e});return new Sh("auth","Firebase",r).create(t,{appName:n.name})}function _o(n){return Rw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sx(n,...t){if("string"!=typeof n){const e=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(e,...r)}return Tx.create(n,...t)}function Wt(n,t,...e){if(!n)throw Sx(t,...e)}function Ua(n){const t="INTERNAL ASSERTION FAILED: "+n;throw mm(t),new Error(t)}function ja(n,t){n||Ua(t)}function _m(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Pw(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function vm(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Ow(){return"http:"===Pw()||"https:"===Pw()}()||function _F(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class ym{constructor(t,e){this.shortDelay=t,this.longDelay=e,ja(e>t,"Short delay should be less than long delay!"),this.isMobile=function pF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pi())}()||function vF(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return vm()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kw(n,t){ja(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class xx{static initialize(t,e,r){this.fetchImpl=t,e&&(this.headersImpl=e),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ua("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ua("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ua("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const z4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gL=new ym(3e4,6e4);function jr(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}function Gr(n,t,e,r){return Nw.apply(this,arguments)}function Nw(){return(Nw=(0,M.A)(function*(n,t,e,r,i={}){return Vh(n,i,(0,M.A)(function*(){let c={},d={};r&&("GET"===t?d=r:c={body:JSON.stringify(r)});const f=vc(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),xx.fetch()(Mx(n,n.config.apiHost,e,f),Object.assign({method:t,headers:m,referrerPolicy:"no-referrer"},c))}))})).apply(this,arguments)}function Vh(n,t,e){return Fw.apply(this,arguments)}function Fw(){return(Fw=(0,M.A)(function*(n,t,e){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},z4),t);try{const i=new _L(n),c=yield Promise.race([e(),i.promise]);i.clearNetworkTimeout();const d=yield c.json();if("needConfirmation"in d)throw Ku(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const f=c.ok?d.errorMessage:d.error.message,[m,w]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===m)throw Ku(n,"credential-already-in-use",d);if("EMAIL_EXISTS"===m)throw Ku(n,"email-already-in-use",d);if("USER_DISABLED"===m)throw Ku(n,"user-disabled",d);const A=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(w)throw Rw(n,A,w);hs(n,A)}}catch(i){if(i instanceof _c)throw i;hs(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function bc(n,t,e,r){return Wv.apply(this,arguments)}function Wv(){return(Wv=(0,M.A)(function*(n,t,e,r,i={}){const c=yield Gr(n,t,e,r,i);return"mfaPendingCredential"in c&&hs(n,"multi-factor-auth-required",{_serverResponse:c}),c})).apply(this,arguments)}function Mx(n,t,e,r){const i=`${t}${e}?${r}`;return n.config.emulator?kw(n.config,i):`${n.config.apiScheme}://${i}`}class _L{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,r)=>{this.timer=setTimeout(()=>r(Os(this.auth,"network-request-failed")),gL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ku(n,t,e){const r={appName:n.name};e.email&&(r.email=e.email),e.phoneNumber&&(r.phoneNumber=e.phoneNumber);const i=Os(n,t,r);return i.customData._tokenResponse=e,i}function Kv(){return(Kv=(0,M.A)(function*(n,t){return Gr(n,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function kx(n,t){return jw.apply(this,arguments)}function jw(){return(jw=(0,M.A)(function*(n,t){return Gr(n,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function Em(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function $w(){return($w=(0,M.A)(function*(n,t=!1){const e=io(n),r=yield e.getIdToken(t),i=wm(r);Wt(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const c="object"==typeof i.firebase?i.firebase:void 0,d=c?.sign_in_provider;return{claims:i,token:r,authTime:Em(qv(i.auth_time)),issuedAtTime:Em(qv(i.iat)),expirationTime:Em(qv(i.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}})).apply(this,arguments)}function qv(n){return 1e3*Number(n)}function wm(n){const[t,e,r]=n.split(".");if(void 0===t||void 0===e||void 0===r)return mm("JWT malformed, contained fewer than 3 sections"),null;try{const i=em(e);return i?JSON.parse(i):(mm("Failed to decode base64 JWT payload"),null)}catch(i){return mm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Nx(n){const t=wm(n);return Wt(t,"internal-error"),Wt(typeof t.exp<"u","internal-error"),Wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Zc(n,t){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,M.A)(function*(n,t,e=!1){if(e)return t;try{return yield t}catch(r){throw r instanceof _c&&function wL({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class IL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout((0,M.A)(function*(){yield e.iteration()}),r)}iteration(){var t=this;return(0,M.A)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class Qv{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Em(this.lastLoginAt),this.creationTime=Em(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qu(n){return Im.apply(this,arguments)}function Im(){return(Im=(0,M.A)(function*(n){var t;const e=n.auth,r=yield n.getIdToken(),i=yield Zc(n,kx(e,{idToken:r}));Wt(i?.users.length,e,"internal-error");const c=i.users[0];n._notifyReloadListener(c);const d=null!==(t=c.providerUserInfo)&&void 0!==t&&t.length?Gw(c.providerUserInfo):[],f=function zw(n,t){return[...n.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}(n.providerData,d),A=!!n.isAnonymous&&!(n.email&&c.passwordHash||f?.length),R={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:f,metadata:new Qv(c.createdAt,c.lastLoginAt),isAnonymous:A};Object.assign(n,R)})).apply(this,arguments)}function Hw(){return(Hw=(0,M.A)(function*(n){const t=io(n);yield qu(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function Gw(n){return n.map(t=>{var{providerId:e}=t,r=(0,$v.Tt)(t,["providerId"]);return{providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Vx(){return(Vx=(0,M.A)(function*(n,t){const e=yield Vh(n,{},(0,M.A)(function*(){const r=vc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:c}=n.config,d=Mx(n,i,"/v1/token",`key=${c}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",xx.fetch()(d,{method:"POST",headers:f,body:r})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function Ww(){return(Ww=(0,M.A)(function*(n,t){return Gr(n,"POST","/v2/accounts:revokeToken",jr(n,t))})).apply(this,arguments)}class Xu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Wt(t.idToken,"internal-error"),Wt(typeof t.idToken<"u","internal-error"),Wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Nx(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Wt(0!==t.length,"internal-error");const e=Nx(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){var r=this;return(0,M.A)(function*(){return e||!r.accessToken||r.isExpired?(Wt(r.refreshToken,t,"user-token-expired"),r.refreshToken?(yield r.refresh(t,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var r=this;return(0,M.A)(function*(){const{accessToken:i,refreshToken:c,expiresIn:d}=yield function Lx(n,t){return Vx.apply(this,arguments)}(t,e);r.updateTokensAndExpiration(i,c,Number(d))})()}updateTokensAndExpiration(t,e,r){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(t,e){const{refreshToken:r,accessToken:i,expirationTime:c}=e,d=new Xu;return r&&(Wt("string"==typeof r,"internal-error",{appName:t}),d.refreshToken=r),i&&(Wt("string"==typeof i,"internal-error",{appName:t}),d.accessToken=i),c&&(Wt("number"==typeof c,"internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xu,this.toJSON())}_performRefresh(){return Ua("not implemented")}}function Jc(n,t){Wt("string"==typeof n||typeof n>"u","internal-error",{appName:t})}class el{constructor(t){var{uid:e,auth:r,stsTokenManager:i}=t,c=(0,$v.Tt)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Qv(c.createdAt||void 0,c.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,M.A)(function*(){const r=yield Zc(e,e.stsTokenManager.getToken(e.auth,t));return Wt(r,e.auth,"internal-error"),e.accessToken!==r&&(e.accessToken=r,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),r})()}getIdTokenResult(t){return function EL(n){return $w.apply(this,arguments)}(this,t)}reload(){return function Fx(n){return Hw.apply(this,arguments)}(this)}_assign(t){this!==t&&(Wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new el(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var r=this;return(0,M.A)(function*(){let i=!1;t.idToken&&t.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield qu(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var t=this;return(0,M.A)(function*(){if(pa(t.auth.app))return Promise.reject(_o(t.auth));const e=yield t.getIdToken();return yield Zc(t,function yL(n,t){return Kv.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var r,i,c,d,f,m,w,A;const R=null!==(r=e.displayName)&&void 0!==r?r:void 0,B=null!==(i=e.email)&&void 0!==i?i:void 0,q=null!==(c=e.phoneNumber)&&void 0!==c?c:void 0,me=null!==(d=e.photoURL)&&void 0!==d?d:void 0,pe=null!==(f=e.tenantId)&&void 0!==f?f:void 0,fe=null!==(m=e._redirectEventId)&&void 0!==m?m:void 0,dt=null!==(w=e.createdAt)&&void 0!==w?w:void 0,_t=null!==(A=e.lastLoginAt)&&void 0!==A?A:void 0,{uid:bt,emailVerified:Ht,isAnonymous:_n,providerData:sn,stsTokenManager:Ve}=e;Wt(bt&&Ve,t,"internal-error");const ue=Xu.fromJSON(this.name,Ve);Wt("string"==typeof bt,t,"internal-error"),Jc(R,t.name),Jc(B,t.name),Wt("boolean"==typeof Ht,t,"internal-error"),Wt("boolean"==typeof _n,t,"internal-error"),Jc(q,t.name),Jc(me,t.name),Jc(pe,t.name),Jc(fe,t.name),Jc(dt,t.name),Jc(_t,t.name);const we=new el({uid:bt,auth:t,email:B,emailVerified:Ht,displayName:R,isAnonymous:_n,photoURL:me,phoneNumber:q,tenantId:pe,stsTokenManager:ue,createdAt:dt,lastLoginAt:_t});return sn&&Array.isArray(sn)&&(we.providerData=sn.map(je=>Object.assign({},je))),fe&&(we._redirectEventId=fe),we}static _fromIdTokenResponse(t,e,r=!1){return(0,M.A)(function*(){const i=new Xu;i.updateFromServerResponse(e);const c=new el({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:r});return yield qu(c),c})()}static _fromGetAccountInfoResponse(t,e,r){return(0,M.A)(function*(){const i=e.users[0];Wt(void 0!==i.localId,"internal-error");const c=void 0!==i.providerUserInfo?Gw(i.providerUserInfo):[],d=!(i.email&&i.passwordHash||c?.length),f=new Xu;f.updateFromIdToken(r);const m=new el({uid:i.localId,auth:t,stsTokenManager:f,isAnonymous:d}),w={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new Qv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||c?.length)};return Object.assign(m,w),m})()}}const Kw=new Map;function $a(n){ja(n instanceof Function,"Expected a class definition");let t=Kw.get(n);return t?(ja(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Kw.set(n,t),t)}const qw=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,M.A)(function*(){return!0})()}_set(e,r){var i=this;return(0,M.A)(function*(){i.storage[e]=r})()}_get(e){var r=this;return(0,M.A)(function*(){const i=r.storage[e];return void 0===i?null:i})()}_remove(e){var r=this;return(0,M.A)(function*(){delete r.storage[e]})()}_addListener(e,r){}_removeListener(e,r){}}return n.type="NONE",n})();function Cm(n,t,e){return`firebase:${n}:${t}:${e}`}class Qu{constructor(t,e,r){this.persistence=t,this.auth=e,this.userKey=r;const{config:i,name:c}=this.auth;this.fullUserKey=Cm(this.userKey,i.apiKey,c),this.fullPersistenceKey=Cm("persistence",i.apiKey,c),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,M.A)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?el._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,M.A)(function*(){if(e.persistence===t)return;const r=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,r?e.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,r="authUser"){return(0,M.A)(function*(){if(!e.length)return new Qu($a(qw),t,r);const i=(yield Promise.all(e.map(function(){var w=(0,M.A)(function*(A){if(yield A._isAvailable())return A});return function(A){return w.apply(this,arguments)}}()))).filter(w=>w);let c=i[0]||$a(qw);const d=Cm(r,t.config.apiKey,t.name);let f=null;for(const w of e)try{const A=yield w._get(d);if(A){const R=el._fromJSON(t,A);w!==c&&(f=R),c=w;break}}catch{}const m=i.filter(w=>w._shouldAllowMigration);return c._shouldAllowMigration&&m.length?(c=m[0],f&&(yield c._set(d,f.toJSON())),yield Promise.all(e.map(function(){var w=(0,M.A)(function*(A){if(A!==c)try{yield A._remove(d)}catch{}});return function(A){return w.apply(this,arguments)}}())),new Qu(c,t,r)):new Qu(c,t,r)})()}}function Xw(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zw(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Qw(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(eI(t))return"Blackberry";if(tI(t))return"Webos";if(Yv(t))return"Safari";if((t.includes("chrome/")||Yw(t))&&!t.includes("edge/"))return"Chrome";if(Jw(t))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Qw(n=pi()){return/firefox\//i.test(n)}function Yv(n=pi()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Yw(n=pi()){return/crios\//i.test(n)}function Zw(n=pi()){return/iemobile/i.test(n)}function Jw(n=pi()){return/android/i.test(n)}function eI(n=pi()){return/blackberry/i.test(n)}function tI(n=pi()){return/webos/i.test(n)}function Dm(n=pi()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rI(n=pi()){return Dm(n)||Jw(n)||tI(n)||eI(n)||/windows phone/i.test(n)||Zw(n)}function jx(n,t=[]){let e;switch(n){case"Browser":e=Xw(pi());break;case"Worker":e=`${Xw(pi())}-${n}`;break;default:e=n}const r=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Xl}/${r}`}class TL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const r=c=>new Promise((d,f)=>{try{d(t(c))}catch(m){f(m)}});r.onAbort=e,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,M.A)(function*(){if(e.auth.currentUser===t)return;const r=[];try{for(const i of e.queue)yield i(t),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const c of r)try{c()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function iI(){return(iI=(0,M.A)(function*(n,t={}){return Gr(n,"GET","/v2/passwordPolicy",jr(n,t))})).apply(this,arguments)}class xL{constructor(t){var e,r,i,c;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=d.minPasswordLength)&&void 0!==e?e:6,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),void 0!==d.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),void 0!==d.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),void 0!==d.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),void 0!==d.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=t.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(c=t.forceUpgradeOnSignin)&&void 0!==c&&c,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,r,i,c,d,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=null===(e=m.meetsMinPasswordLength)||void 0===e||e),m.isValid&&(m.isValid=null===(r=m.meetsMaxPasswordLength)||void 0===r||r),m.isValid&&(m.isValid=null===(i=m.containsLowercaseLetter)||void 0===i||i),m.isValid&&(m.isValid=null===(c=m.containsUppercaseLetter)||void 0===c||c),m.isValid&&(m.isValid=null===(d=m.containsNumericCharacter)||void 0===d||d),m.isValid&&(m.isValid=null===(f=m.containsNonAlphanumericCharacter)||void 0===f||f),m}validatePasswordLengthOptions(t,e){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(e.meetsMinPasswordLength=t.length>=r),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){let r;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let i=0;i<t.length;i++)r=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,e,r,i,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class ML{constructor(t,e,r,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oI(this),this.idTokenSubscription=new oI(this),this.beforeStateQueue=new TL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){var r=this;return e&&(this._popupRedirectResolver=$a(e)),this._initializationPromise=this.queue((0,M.A)(function*(){var i,c;if(!r._deleted&&(r.persistenceManager=yield Qu.create(r,t),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(e),r.lastNotifiedUid=(null===(c=r.currentUser)||void 0===c?void 0:c.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,M.A)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUserFromIdToken(t){var e=this;return(0,M.A)(function*(){try{const r=yield kx(e,{idToken:t}),i=yield el._fromGetAccountInfoResponse(e,r,t);yield e.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield e.directlySetCurrentUser(null)}})()}initializeCurrentUser(t){var e=this;return(0,M.A)(function*(){var r;if(pa(e.app)){const f=e.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>e.initializeCurrentUserFromIdToken(f).then(m,m))}):e.directlySetCurrentUser(null)}const i=yield e.assertedPersistence.getCurrentUser();let c=i,d=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const f=null===(r=e.redirectUser)||void 0===r?void 0:r._redirectEventId,m=c?._redirectEventId,w=yield e.tryRedirectSignIn(t);(!f||f===m)&&w?.user&&(c=w.user,d=!0)}if(!c)return e.directlySetCurrentUser(null);if(!c._redirectEventId){if(d)try{yield e.beforeStateQueue.runMiddleware(c)}catch(f){c=i,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(f))}return c?e.reloadAndSetCurrentUserOrClear(c):e.directlySetCurrentUser(null)}return Wt(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===c._redirectEventId?e.directlySetCurrentUser(c):e.reloadAndSetCurrentUserOrClear(c)})()}tryRedirectSignIn(t){var e=this;return(0,M.A)(function*(){let r=null;try{r=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,M.A)(function*(){try{yield qu(t)}catch(r){if("auth/network-request-failed"!==r?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function mL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var t=this;return(0,M.A)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,M.A)(function*(){if(pa(e.app))return Promise.reject(_o(e));const r=t?io(t):null;return r&&Wt(r.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(r&&r._clone(e))})()}_updateCurrentUser(t,e=!1){var r=this;return(0,M.A)(function*(){if(!r._deleted)return t&&Wt(r.tenantId===t.tenantId,r,"tenant-id-mismatch"),e||(yield r.beforeStateQueue.runMiddleware(t)),r.queue((0,M.A)(function*(){yield r.directlySetCurrentUser(t),r.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,M.A)(function*(){return pa(t.app)?Promise.reject(_o(t)):(yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0))})()}setPersistence(t){var e=this;return pa(this.app)?Promise.reject(_o(this)):this.queue((0,M.A)(function*(){yield e.assertedPersistence.setPersistence($a(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return(0,M.A)(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const r=e._getPasswordPolicyInternal();return r.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return(0,M.A)(function*(){const e=yield function AL(n){return iI.apply(this,arguments)}(t),r=new xL(e);null===t.tenantId?t._projectPasswordPolicy=r:t._tenantPasswordPolicies[t.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Sh("auth","Firebase",t())}onAuthStateChanged(t,e,r){return this.registerStateListener(this.authStateSubscription,t,e,r)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,r){return this.registerStateListener(this.idTokenSubscription,t,e,r)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},e)}})}revokeAccessToken(t){var e=this;return(0,M.A)(function*(){if(e.currentUser){const r=yield e.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:r};null!=e.tenantId&&(i.tenantId=e.tenantId),yield function Bx(n,t){return Ww.apply(this,arguments)}(e,i)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var r=this;return(0,M.A)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,M.A)(function*(){if(!e.redirectPersistenceManager){const r=t&&$a(t)||e._popupRedirectResolver;Wt(r,e,"argument-error"),e.redirectPersistenceManager=yield Qu.create(e,[$a(r._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,M.A)(function*(){var r,i;return e._isInitialized&&(yield e.queue((0,M.A)(function*(){}))),(null===(r=e._currentUser)||void 0===r?void 0:r._redirectEventId)===t?e._currentUser:(null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,M.A)(function*(){if(t===e.currentUser)return e.queue((0,M.A)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,r,i){if(this._deleted)return()=>{};const c="function"==typeof e?e:e.next.bind(e);let d=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Wt(f,this,"internal-error"),f.then(()=>{d||c(this.currentUser)}),"function"==typeof e){const m=t.addObserver(e,r,i);return()=>{d=!0,m()}}{const m=t.addObserver(e);return()=>{d=!0,m()}}}directlySetCurrentUser(t){var e=this;return(0,M.A)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=jx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,M.A)(function*(){var e;const r={"X-Client-Version":t.clientVersion};t.app.options.appId&&(r["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const c=yield t._getAppCheckToken();return c&&(r["X-Firebase-AppCheck"]=c),r})()}_getAppCheckToken(){var t=this;return(0,M.A)(function*(){var e;const r=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return r?.error&&function Ax(n,...t){pm.logLevel<=qn.WARN&&pm.warn(`Auth (${Xl}): ${n}`,...t)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Di(n){return io(n)}class oI{constructor(t){this.auth=t,this.observer=null,this.addObserver=function Mh(n,t){const e=new Rh(n,t);return e.subscribe.bind(e)}(e=>this.observer=e)}get next(){return Wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bh={loadJS:()=>(0,M.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sI(n){return`__${n}${Math.floor(1e6*Math.random())}`}function uI(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function dI(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}class Am{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Ua("not implemented")}_getIdTokenResponse(t){return Ua("not implemented")}_linkToIdToken(t,e){return Ua("not implemented")}_getReauthenticationResolver(t){return Ua("not implemented")}}function Ec(n,t){return ny.apply(this,arguments)}function ny(){return(ny=(0,M.A)(function*(n,t){return bc(n,"POST","/v1/accounts:signInWithIdp",jr(n,t))})).apply(this,arguments)}class Ql{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class cM extends Ql{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}function TI(){return(TI=(0,M.A)(function*(n,t){return bc(n,"POST","/v1/accounts:signUp",jr(n,t))})).apply(this,arguments)}class ga{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,r,i=!1){return(0,M.A)(function*(){const c=yield el._fromIdTokenResponse(t,r,i),d=BL(r);return new ga({user:c,providerId:d,_tokenResponse:r,operationType:e})})()}static _forOperation(t,e,r){return(0,M.A)(function*(){yield t._updateTokensIfNecessary(r,!0);const i=BL(r);return new ga({user:t,providerId:i,_tokenResponse:r,operationType:e})})()}}function BL(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function Ju(){return(Ju=(0,M.A)(function*(n){var t;if(pa(n.app))return Promise.reject(_o(n));const e=Di(n);if(yield e._initializationPromise,null!==(t=e.currentUser)&&void 0!==t&&t.isAnonymous)return new ga({user:e.currentUser,providerId:null,operationType:"signIn"});const r=yield function Zu(n,t){return TI.apply(this,arguments)}(e,{returnSecureToken:!0}),i=yield ga._fromIdTokenResponse(e,"signIn",r,!0);return yield e._updateCurrentUser(i.user),i})).apply(this,arguments)}class oy extends _c{constructor(t,e,r,i){var c;super(e.code,e.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,oy.prototype),this.customData={appName:t.name,tenantId:null!==(c=t.tenantId)&&void 0!==c?c:void 0,_serverResponse:e.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,e,r,i){return new oy(t,e,r,i)}}function sy(n,t,e,r){return("reauthenticate"===t?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(c=>{throw"auth/multi-factor-auth-required"===c.code?oy._fromErrorAndOperation(n,c,t,r):c})}function xI(){return(xI=(0,M.A)(function*(n,t,e=!1){const r=yield Zc(n,t._linkToIdToken(n.auth,yield n.getIdToken()),e);return ga._forOperation(n,"link",r)})).apply(this,arguments)}function Wh(){return(Wh=(0,M.A)(function*(n,t,e=!1){const{auth:r}=n;if(pa(r.app))return Promise.reject(_o(r));const i="reauthenticate";try{const c=yield Zc(n,sy(r,i,t,n),e);Wt(c.idToken,r,"internal-error");const d=wm(c.idToken);Wt(d,r,"internal-error");const{sub:f}=d;return Wt(n.uid===f,r,"user-mismatch"),ga._forOperation(n,i,c)}catch(c){throw"auth/user-not-found"===c?.code&&hs(r,"user-mismatch"),c}})).apply(this,arguments)}function dM(){return(dM=(0,M.A)(function*(n,t,e=!1){if(pa(n.app))return Promise.reject(_o(n));const r="signIn",i=yield sy(n,r,t),c=yield ga._fromIdTokenResponse(n,r,i);return e||(yield n._updateCurrentUser(c.user)),c})).apply(this,arguments)}const Xh="__sak";class Fm{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Xh,"1"),this.storage.removeItem(Xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const oV=(()=>{class n extends Fm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function p3(){const n=pi();return Yv(n)||Dm(n)}()&&function DL(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=rI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),c=this.localCache[r];i!==c&&e(r,c,i)}}onStorageEvent(e,r=!1){if(!e.key)return void this.forAllChangedKeys((f,m,w)=>{this.notifyListeners(f,w)});const i=e.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(e.newValue!==f)null!==e.newValue?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!r)return}const c=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},d=this.storage.getItem(i);!function nI(){return function yF(){const n=pi();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||d===e.newValue||e.newValue===e.oldValue?c():setTimeout(c,10)}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const c of Array.from(i))c(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,r){var i=()=>super._set,c=this;return(0,M.A)(function*(){yield i().call(c,e,r),c.localCache[e]=JSON.stringify(r)})()}_get(e){var r=()=>super._get,i=this;return(0,M.A)(function*(){const c=yield r().call(i,e);return i.localCache[e]=JSON.stringify(c),c})()}_remove(e){var r=()=>super._remove,i=this;return(0,M.A)(function*(){yield r().call(i,e),delete i.localCache[e]})()}}return n.type="LOCAL",n})(),$I=(()=>{class n extends Fm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}return n.type="SESSION",n})();let Iy=(()=>{class n{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(c=>c.isListeningto(e));if(r)return r;const i=new n(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}handleEvent(e){var r=this;return(0,M.A)(function*(){const i=e,{eventId:c,eventType:d,data:f}=i.data,m=r.handlersMap[d];if(!m?.size)return;i.ports[0].postMessage({status:"ack",eventId:c,eventType:d});const w=Array.from(m).map(function(){var R=(0,M.A)(function*(B){return B(i.origin,f)});return function(B){return R.apply(this,arguments)}}()),A=yield function Ha(n){return Promise.all(n.map(function(){var t=(0,M.A)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(r){return{fulfilled:!1,reason:r}}});return function(e){return t.apply(this,arguments)}}()))}(w);i.ports[0].postMessage({status:"done",eventId:c,eventType:d,response:A})})()}_subscribe(e,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Qh(n="",t=10){let e="";for(let r=0;r<t;r++)e+=Math.floor(10*Math.random());return n+e}class DM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,r=50){var i=this;return(0,M.A)(function*(){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let d,f;return new Promise((m,w)=>{const A=Qh("",20);c.port1.start();const R=setTimeout(()=>{w(new Error("unsupported_event"))},r);f={messageChannel:c,onMessage(B){const q=B;if(q.data.eventId===A)switch(q.data.status){case"ack":clearTimeout(R),d=setTimeout(()=>{w(new Error("timeout"))},3e3);break;case"done":clearTimeout(d),m(q.data.response);break;default:clearTimeout(R),clearTimeout(d),w(new Error("invalid_response"))}}},i.handlers.add(f),c.port1.addEventListener("message",f.onMessage),i.target.postMessage({eventType:t,eventId:A,data:e},[c.port2])}).finally(()=>{f&&i.removeMessageHandler(f)})})()}}function ki(){return window}function HI(){return typeof ki().WorkerGlobalScope<"u"&&"function"==typeof ki().importScripts}function TM(){return(TM=(0,M.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const SM="firebaseLocalStorageDb",Yh="firebaseLocalStorage",xM="fbase_key";class Cy{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Zh(n,t){return n.transaction([Yh],t?"readwrite":"readonly").objectStore(Yh)}function Dy(){const n=indexedDB.open(SM,1);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Yh,{keyPath:xM})}catch(i){e(i)}}),n.addEventListener("success",(0,M.A)(function*(){const r=n.result;r.objectStoreNames.contains(Yh)?t(r):(r.close(),yield function dV(){const n=indexedDB.deleteDatabase(SM);return new Cy(n).toPromise()}(),t(yield Dy()))}))})}function Ty(n,t,e){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,M.A)(function*(n,t,e){const r=Zh(n,!0).put({[xM]:t,value:e});return new Cy(r).toPromise()})).apply(this,arguments)}function td(){return(td=(0,M.A)(function*(n,t){const e=Zh(n,!1).get(t),r=yield new Cy(e).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function hV(n,t){const e=Zh(n,!0).delete(t);return new Cy(e).toPromise()}const _3=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,M.A)(function*(){return e.db||(e.db=yield Dy()),e.db})()}_withRetries(e){var r=this;return(0,M.A)(function*(){let i=0;for(;;)try{const c=yield r._openDb();return yield e(c)}catch(c){if(i++>3)throw c;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,M.A)(function*(){return HI()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,M.A)(function*(){e.receiver=Iy._getInstance(function AM(){return HI()?self:null}()),e.receiver._subscribe("keyChanged",function(){var r=(0,M.A)(function*(i,c){return{keyProcessed:(yield e._poll()).includes(c.key)}});return function(i,c){return r.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var r=(0,M.A)(function*(i,c){return["keyChanged"]});return function(i,c){return r.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,M.A)(function*(){var r,i;if(e.activeServiceWorker=yield function cV(){return TM.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new DM(e.activeServiceWorker);const c=yield e.sender._send("ping",{},800);c&&null!==(r=c[0])&&void 0!==r&&r.fulfilled&&null!==(i=c[0])&&void 0!==i&&i.value.includes("keyChanged")&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var r=this;return(0,M.A)(function*(){if(r.sender&&r.activeServiceWorker&&function lV(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:e},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,M.A)(function*(){try{if(!indexedDB)return!1;const e=yield Dy();return yield Ty(e,Xh,"1"),yield hV(e,Xh),!0}catch{}return!1})()}_withPendingWrite(e){var r=this;return(0,M.A)(function*(){r.pendingWrites++;try{yield e()}finally{r.pendingWrites--}})()}_set(e,r){var i=this;return(0,M.A)(function*(){return i._withPendingWrite((0,M.A)(function*(){return yield i._withRetries(c=>Ty(c,e,r)),i.localCache[e]=r,i.notifyServiceWorker(e)}))})()}_get(e){var r=this;return(0,M.A)(function*(){const i=yield r._withRetries(c=>function m3(n,t){return td.apply(this,arguments)}(c,e));return r.localCache[e]=i,i})()}_remove(e){var r=this;return(0,M.A)(function*(){return r._withPendingWrite((0,M.A)(function*(){return yield r._withRetries(i=>hV(i,e)),delete r.localCache[e],r.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,M.A)(function*(){const r=yield e._withRetries(d=>{const f=Zh(d,!1).getAll();return new Cy(f).toPromise()});if(!r)return[];if(0!==e.pendingWrites)return[];const i=[],c=new Set;if(0!==r.length)for(const{fbase_key:d,value:f}of r)c.add(d),JSON.stringify(e.localCache[d])!==JSON.stringify(f)&&(e.notifyListeners(d,f),i.push(d));for(const d of Object.keys(e.localCache))e.localCache[d]&&!c.has(d)&&(e.notifyListeners(d,null),i.push(d));return i})()}notifyListeners(e,r){this.localCache[e]=r;const i=this.listeners[e];if(i)for(const c of Array.from(i))c(r)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,M.A)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();sI("rcb"),new ym(3e4,6e4);class Jh extends Am{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ec(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ec(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ec(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function bV(n){return function cy(n,t){return dM.apply(this,arguments)}(n.auth,new Jh(n),n.bypassAuthState)}function EV(n){const{auth:t,user:e}=n;return Wt(e,t,"internal-error"),function uM(n,t){return Wh.apply(this,arguments)}(e,new Jh(n),n.bypassAuthState)}function VM(n){return tl.apply(this,arguments)}function tl(){return(tl=(0,M.A)(function*(n){const{auth:t,user:e}=n;return Wt(e,t,"internal-error"),function SI(n,t){return xI.apply(this,arguments)}(e,new Jh(n),n.bypassAuthState)})).apply(this,arguments)}class BM{constructor(t,e,r,i,c=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,M.A)(function*(r,i){t.pendingPromise={resolve:r,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(c){t.reject(c)}});return function(r,i){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,M.A)(function*(){const{urlResponse:r,sessionId:i,postBody:c,tenantId:d,error:f,type:m}=t;if(f)return void e.reject(f);const w={auth:e.auth,requestUri:r,sessionId:i,tenantId:d||void 0,postBody:c||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(m)(w))}catch(A){e.reject(A)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bV;case"linkViaPopup":case"linkViaRedirect":return VM;case"reauthViaPopup":case"reauthViaRedirect":return EV;default:hs(this.auth,"internal-error")}}resolve(t){ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ja(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new ym(2e3,1e4);const I3="pendingRedirect",ef=new Map;class wV extends BM{constructor(t,e,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,r),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,M.A)(function*(){let r=ef.get(e.auth._key());if(!r){try{const c=(yield function IV(n,t){return QI.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;r=()=>Promise.resolve(c)}catch(i){r=()=>Promise.reject(i)}ef.set(e.auth._key(),r)}return e.bypassAuthState||ef.set(e.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,r=this;return(0,M.A)(function*(){if("signInViaRedirect"===t.type)return e().call(r,t);if("unknown"!==t.type){if(t.eventId){const i=yield r.auth._redirectUserForId(t.eventId);if(i)return r.user=i,e().call(r,t);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,M.A)(function*(){})()}cleanUp(){}}function QI(){return(QI=(0,M.A)(function*(n,t){const e=function KM(n){return Cm(I3,n.config.apiKey,n.name)}(t),r=function WM(n){return $a(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(e));return yield r._remove(e),i})).apply(this,arguments)}function GM(n,t){ef.set(n._key(),t)}function AV(n,t){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,M.A)(function*(n,t,e=!1){if(pa(n.app))return Promise.reject(_o(n));const r=Di(n),i=function Jl(n,t){return t?$a(t):(Wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(r,t),d=yield new wV(r,i,e).execute();return d&&!e&&(delete d.user._redirectEventId,yield r._persistUserIfCurrent(d.user),yield r._setRedirectUser(null,t)),d})).apply(this,arguments)}class YM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(e=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function T3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZM(n);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var r;if(t.error&&!ZM(t)){const i=(null===(r=t.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";e.onError(Os(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const r=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(SV(t))}saveEventToCache(t){this.cachedEventUids.add(SV(t)),this.lastProcessedEventTime=Date.now()}}function SV(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function ZM({type:n,error:t}){return"unknown"===n&&"auth/no-auth-event"===t?.code}function Bm(){return(Bm=(0,M.A)(function*(n,t={}){return Gr(n,"GET","/v1/projects",t)})).apply(this,arguments)}const xV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JM=/^https?/;function Oy(){return Oy=(0,M.A)(function*(n){if(n.config.emulator)return;const{authorizedDomains:t}=yield function A3(n){return Bm.apply(this,arguments)}(n);for(const e of t)try{if(tR(e))return}catch{}hs(n,"unauthorized-domain")}),Oy.apply(this,arguments)}function tR(n){const t=_m(),{protocol:e,hostname:r}=new URL(t);if(n.startsWith("chrome-extension://")){const d=new URL(n);return""===d.hostname&&""===r?"chrome-extension:"===e&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&d.hostname===r}if(!JM.test(e))return!1;if(xV.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const MV=new ym(3e4,6e4);function nR(){const n=ki().___jsl;if(n?.H)for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}function rR(n){return new Promise((t,e)=>{var r,i,c;function d(){nR(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{nR(),e(Os(n,"network-request-failed"))},timeout:MV.get()})}if(null!==(i=null===(r=ki().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(c=ki().gapi)||void 0===c||!c.load){const f=sI("iframefcb");return ki()[f]=()=>{gapi.load?d():e(Os(n,"network-request-failed"))},function Zv(n){return Bh.loadJS(n)}(`${function Gx(){return Bh.gapiScript}()}?onload=${f}`).catch(m=>e(m))}d()}}).catch(t=>{throw Py=null,t})}let Py=null;const ky=new ym(5e3,15e3),Um="__/auth/iframe",Ny="emulator/auth/iframe",oR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S3(n){const t=n.config;Wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?kw(t,Ny):`https://${n.config.authDomain}/${Um}`,r={apiKey:t.apiKey,appName:n.name,v:Xl},i=sR.get(n.config.apiHost);i&&(r.eid=i);const c=n._getFrameworks();return c.length&&(r.fw=c.join(",")),`${e}?${vc(r).slice(1)}`}function aR(){return aR=(0,M.A)(function*(n){const t=yield function iR(n){return Py=Py||rR(n),Py}(n),e=ki().gapi;return Wt(e,n,"internal-error"),t.open({where:document.body,url:S3(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oR,dontclear:!0},r=>new Promise(function(){var i=(0,M.A)(function*(c,d){yield r.restyle({setHideOnLeave:!1});const f=Os(n,"network-request-failed"),m=ki().setTimeout(()=>{d(f)},ky.get());function w(){ki().clearTimeout(m),c(r)}r.ping(w).then(w,()=>{d(f)})});return function(c,d){return i.apply(this,arguments)}}()))}),aR.apply(this,arguments)}const RV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class PV{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const O3="__/auth/handler",P3="emulator/auth/handler",kV=encodeURIComponent("fac");function NV(n,t,e,r,i,c){return uR.apply(this,arguments)}function uR(){return(uR=(0,M.A)(function*(n,t,e,r,i,c){Wt(n.config.authDomain,n,"auth-domain-config-required"),Wt(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:r,v:Xl,eventId:i};if(t instanceof Ql){t.setDefaultLanguage(n.languageCode),d.providerId=t.providerId||"",function xh(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,R]of Object.entries(c||{}))d[A]=R}if(t instanceof cM){const A=t.getScopes().filter(R=>""!==R);A.length>0&&(d.scopes=A.join(","))}n.tenantId&&(d.tid=n.tenantId);const f=d;for(const A of Object.keys(f))void 0===f[A]&&delete f[A];const m=yield n._getAppCheckToken(),w=m?`#${kV}=${encodeURIComponent(m)}`:"";return`${function FV({config:n}){return n.emulator?kw(n,P3):`https://${n.authDomain}/${O3}`}(n)}?${vc(f).slice(1)}${w}`})).apply(this,arguments)}const tC="webStorageSupport",dR=class k3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$I,this._completeRedirectFn=AV,this._overrideRedirectResult=GM}_openPopup(t,e,r,i){var c=this;return(0,M.A)(function*(){var d;ja(null===(d=c.eventManagers[t._key()])||void 0===d?void 0:d.manager,"_initialize() not called before _openPopup()");const f=yield NV(t,e,r,_m(),i);return function Fy(n,t,e,r=500,i=600){const c=Math.max((window.screen.availHeight-i)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const m=Object.assign(Object.assign({},RV),{width:r.toString(),height:i.toString(),top:c,left:d}),w=pi().toLowerCase();e&&(f=Yw(w)?"_blank":e),Qw(w)&&(t=t||"http://localhost",m.scrollbars="yes");const A=Object.entries(m).reduce((B,[q,me])=>`${B}${q}=${me},`,"");if(function Ux(n=pi()){var t;return Dm(n)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(w)&&"_self"!==f)return function R3(n,t){const e=document.createElement("a");e.href=n,e.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(r)}(t||"",f),new PV(null);const R=window.open(t||"",f,A);Wt(R,n,"popup-blocked");try{R.focus()}catch{}return new PV(R)}(t,f,Qh())})()}_openRedirect(t,e,r,i){var c=this;return(0,M.A)(function*(){return yield c._originValidation(t),function aV(n){ki().location.href=n}(yield NV(t,e,r,_m(),i)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:c}=this.eventManagers[e];return i?Promise.resolve(i):(ja(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[e]={promise:r},r.catch(()=>{delete this.eventManagers[e]}),r}initAndGetManager(t){var e=this;return(0,M.A)(function*(){const r=yield function x3(n){return aR.apply(this,arguments)}(t),i=new YM(t);return r.register("authEvent",c=>(Wt(c?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:i},e.iframes[t._key()]=r,i})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(tC,{type:tC},i=>{var c;const d=null===(c=i?.[0])||void 0===c?void 0:c[tC];void 0!==d&&e(!!d),hs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function eR(n){return Oy.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return rI()||Yv()||Dm()}};var mR="@firebase/auth";class gR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,M.A)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const rC=QS("authIdTokenMaxAge")||300;let iC=null;const jV=n=>function(){var t=(0,M.A)(function*(e){const r=e&&(yield e.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>rC)return;const c=r?.token;iC!==c&&(iC=c,yield fetch(n,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))});return function(e){return t.apply(this,arguments)}}();function $V(n=Sw()){const t=Fh(n,"auth");if(t.isInitialized())return t.getImmediate();const e=function Xx(n,t){const e=Fh(n,"auth");if(e.isInitialized()){const i=e.getImmediate();if(Fa(e.getOptions(),t??{}))return i;hs(i,"already-initialized")}return e.initialize({options:t})}(n,{popupRedirectResolver:dR,persistence:[_3,oV,$I]}),r=QS("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=jV(c.toString());(function QL(n,t,e){io(n).beforeAuthStateChanged(t,e)})(e,d,()=>d(e.currentUser)),function XL(n,t,e,r){io(n).onIdTokenChanged(t,e,r)}(e,f=>d(f))}}const i=_w("auth");return i&&function Yx(n,t,e){const r=Di(n);Wt(r._canInitEmulator,r,"emulator-config-failed"),Wt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!e?.disableWarnings,c=uI(t),{host:d,port:f}=function Zx(n){const t=uI(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const r=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const c=i[1];return{host:c,port:dI(r.substr(c.length+1))}}{const[c,d]=r.split(":");return{host:c,port:dI(d)}}}(t);r.config.emulator={url:`${c}//${d}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:d,port:f,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Jx(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(e,`http://${i}`),e}(function $x(n){Bh=n})({loadJS:n=>new Promise((t,e)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=t,r.onerror=i=>{const c=Os("internal-error");c.customData=i,e(c)},r.type="text/javascript",r.charset="UTF-8",function vR(){var n,t;return null!==(t=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function _R(n){Nh(new Oh("auth",(t,{options:e})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:f}=r.options;Wt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:d,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jx(n)},w=new ML(r,i,c,m);return function Qx(n,t){const e=t?.persistence||[],r=(Array.isArray(e)?e:[e]).map($a);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(r,t?.popupRedirectResolver)}(w,e),w},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,r)=>{t.getProvider("auth-internal").initialize()})),Nh(new Oh("auth-internal",t=>{const e=Di(t.getProvider("auth").getImmediate());return new gR(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ba(mR,"1.7.5",function BV(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Ba(mR,"1.7.5","esm2017")}("Browser"),Ba("firebase","10.12.4","app");var nd,ER,zV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},bR={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(Ve,ue,we){we||(we=0);var je=Array(16);if("string"==typeof ue)for(var Ke=0;16>Ke;++Ke)je[Ke]=ue.charCodeAt(we++)|ue.charCodeAt(we++)<<8|ue.charCodeAt(we++)<<16|ue.charCodeAt(we++)<<24;else for(Ke=0;16>Ke;++Ke)je[Ke]=ue[we++]|ue[we++]<<8|ue[we++]<<16|ue[we++]<<24;var it=Ve.g[3],Ce=(ue=Ve.g[0])+(it^(we=Ve.g[1])&((Ke=Ve.g[2])^it))+je[0]+3614090360&4294967295;Ce=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=(we=(Ke=(it=(ue=we+(Ce<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^ue&(we^Ke))+je[1]+3905402710&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(ue^we))+je[2]+606105819&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(ue^Ke&(it^ue))+je[3]+3250441966&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(it^we&(Ke^it))+je[4]+4118548399&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^ue&(we^Ke))+je[5]+1200080426&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(ue^we))+je[6]+2821735955&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(ue^Ke&(it^ue))+je[7]+4249261313&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(it^we&(Ke^it))+je[8]+1770035416&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^ue&(we^Ke))+je[9]+2336552879&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(ue^we))+je[10]+4294925233&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(ue^Ke&(it^ue))+je[11]+2304563134&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(it^we&(Ke^it))+je[12]+1804603682&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(Ke^ue&(we^Ke))+je[13]+4254626195&4294967295)<<12&4294967295|Ce>>>20))+((Ce=Ke+(we^it&(ue^we))+je[14]+2792965006&4294967295)<<17&4294967295|Ce>>>15))+((Ce=we+(ue^Ke&(it^ue))+je[15]+1236535329&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(Ke^it&(we^Ke))+je[1]+4129170786&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(ue^we))+je[6]+3225465664&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(ue^we&(it^ue))+je[11]+643717713&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^ue&(Ke^it))+je[0]+3921069994&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(Ke^it&(we^Ke))+je[5]+3593408605&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(ue^we))+je[10]+38016083&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(ue^we&(it^ue))+je[15]+3634488961&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^ue&(Ke^it))+je[4]+3889429448&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(Ke^it&(we^Ke))+je[9]+568446438&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(ue^we))+je[14]+3275163606&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(ue^we&(it^ue))+je[3]+4107603335&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^ue&(Ke^it))+je[8]+1163531501&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(Ke^it&(we^Ke))+je[13]+2850285829&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(we^Ke&(ue^we))+je[2]+4243563512&4294967295)<<9&4294967295|Ce>>>23))+((Ce=Ke+(ue^we&(it^ue))+je[7]+1735328473&4294967295)<<14&4294967295|Ce>>>18))+((Ce=we+(it^ue&(Ke^it))+je[12]+2368359562&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(we^Ke^it)+je[5]+4294588738&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(ue^we^Ke)+je[8]+2272392833&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^ue^we)+je[11]+1839030562&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^ue)+je[14]+4259657740&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(we^Ke^it)+je[1]+2763975236&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(ue^we^Ke)+je[4]+1272893353&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^ue^we)+je[7]+4139469664&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^ue)+je[10]+3200236656&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(we^Ke^it)+je[13]+681279174&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(ue^we^Ke)+je[0]+3936430074&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^ue^we)+je[3]+3572445317&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^ue)+je[6]+76029189&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(we^Ke^it)+je[9]+3654602809&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(ue^we^Ke)+je[12]+3873151461&4294967295)<<11&4294967295|Ce>>>21))+((Ce=Ke+(it^ue^we)+je[15]+530742520&4294967295)<<16&4294967295|Ce>>>16))+((Ce=we+(Ke^it^ue)+je[2]+3299628645&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(Ke^(we|~it))+je[0]+4096336452&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(ue|~Ke))+je[7]+1126891415&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(ue^(it|~we))+je[14]+2878612391&4294967295)<<15&4294967295|Ce>>>17))+((Ce=we+(it^(Ke|~ue))+je[5]+4237533241&4294967295)<<21&4294967295|Ce>>>11))+((Ce=ue+(Ke^(we|~it))+je[12]+1700485571&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(ue|~Ke))+je[3]+2399980690&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(ue^(it|~we))+je[10]+4293915773&4294967295)<<15&4294967295|Ce>>>17))+((Ce=we+(it^(Ke|~ue))+je[1]+2240044497&4294967295)<<21&4294967295|Ce>>>11))+((Ce=ue+(Ke^(we|~it))+je[8]+1873313359&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(ue|~Ke))+je[15]+4264355552&4294967295)<<10&4294967295|Ce>>>22))+((Ce=Ke+(ue^(it|~we))+je[6]+2734768916&4294967295)<<15&4294967295|Ce>>>17))+((Ce=we+(it^(Ke|~ue))+je[13]+1309151649&4294967295)<<21&4294967295|Ce>>>11))+((it=(ue=we+((Ce=ue+(Ke^(we|~it))+je[4]+4149444226&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(we^(ue|~Ke))+je[11]+3174756917&4294967295)<<10&4294967295|Ce>>>22))^((Ke=it+((Ce=Ke+(ue^(it|~we))+je[2]+718787259&4294967295)<<15&4294967295|Ce>>>17))|~ue))+je[9]+3951481745&4294967295,Ve.g[0]=Ve.g[0]+ue&4294967295,Ve.g[1]=Ve.g[1]+(Ke+(Ce<<21&4294967295|Ce>>>11))&4294967295,Ve.g[2]=Ve.g[2]+Ke&4294967295,Ve.g[3]=Ve.g[3]+it&4294967295}function d(Ve,ue){this.h=ue;for(var we=[],je=!0,Ke=Ve.length-1;0<=Ke;Ke--){var it=0|Ve[Ke];je&&it==ue||(we[Ke]=it,je=!1)}this.g=we}(function t(Ve,ue){function we(){}we.prototype=ue.prototype,Ve.D=ue.prototype,Ve.prototype=new we,Ve.prototype.constructor=Ve,Ve.C=function(je,Ke,it){for(var Ce=Array(arguments.length-2),dr=2;dr<arguments.length;dr++)Ce[dr-2]=arguments[dr];return ue.prototype[Ke].apply(je,Ce)}})(r,function e(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(Ve,ue){void 0===ue&&(ue=Ve.length);for(var we=ue-this.blockSize,je=this.B,Ke=this.h,it=0;it<ue;){if(0==Ke)for(;it<=we;)i(this,Ve,it),it+=this.blockSize;if("string"==typeof Ve){for(;it<ue;)if(je[Ke++]=Ve.charCodeAt(it++),Ke==this.blockSize){i(this,je),Ke=0;break}}else for(;it<ue;)if(je[Ke++]=Ve[it++],Ke==this.blockSize){i(this,je),Ke=0;break}}this.h=Ke,this.o+=ue},r.prototype.v=function(){var Ve=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ve[0]=128;for(var ue=1;ue<Ve.length-8;++ue)Ve[ue]=0;var we=8*this.o;for(ue=Ve.length-8;ue<Ve.length;++ue)Ve[ue]=255&we,we/=256;for(this.u(Ve),Ve=Array(16),ue=we=0;4>ue;++ue)for(var je=0;32>je;je+=8)Ve[we++]=this.g[ue]>>>je&255;return Ve};var f={};function m(Ve){return-128<=Ve&&128>Ve?function c(Ve,ue){var we=f;return Object.prototype.hasOwnProperty.call(we,Ve)?we[Ve]:we[Ve]=ue(Ve)}(Ve,function(ue){return new d([0|ue],0>ue?-1:0)}):new d([0|Ve],0>Ve?-1:0)}function w(Ve){if(isNaN(Ve)||!isFinite(Ve))return R;if(0>Ve)return fe(w(-Ve));for(var ue=[],we=1,je=0;Ve>=we;je++)ue[je]=Ve/we|0,we*=4294967296;return new d(ue,0)}var R=m(0),B=m(1),q=m(16777216);function me(Ve){if(0!=Ve.h)return!1;for(var ue=0;ue<Ve.g.length;ue++)if(0!=Ve.g[ue])return!1;return!0}function pe(Ve){return-1==Ve.h}function fe(Ve){for(var ue=Ve.g.length,we=[],je=0;je<ue;je++)we[je]=~Ve.g[je];return new d(we,~Ve.h).add(B)}function dt(Ve,ue){return Ve.add(fe(ue))}function _t(Ve,ue){for(;(65535&Ve[ue])!=Ve[ue];)Ve[ue+1]+=Ve[ue]>>>16,Ve[ue]&=65535,ue++}function bt(Ve,ue){this.g=Ve,this.h=ue}function Ht(Ve,ue){if(me(ue))throw Error("division by zero");if(me(Ve))return new bt(R,R);if(pe(Ve))return ue=Ht(fe(Ve),ue),new bt(fe(ue.g),fe(ue.h));if(pe(ue))return ue=Ht(Ve,fe(ue)),new bt(fe(ue.g),ue.h);if(30<Ve.g.length){if(pe(Ve)||pe(ue))throw Error("slowDivide_ only works with positive integers.");for(var we=B,je=ue;0>=je.l(Ve);)we=_n(we),je=_n(je);var Ke=sn(we,1),it=sn(je,1);for(je=sn(je,2),we=sn(we,2);!me(je);){var Ce=it.add(je);0>=Ce.l(Ve)&&(Ke=Ke.add(we),it=Ce),je=sn(je,1),we=sn(we,1)}return ue=dt(Ve,Ke.j(ue)),new bt(Ke,ue)}for(Ke=R;0<=Ve.l(ue);){for(we=Math.max(1,Math.floor(Ve.m()/ue.m())),je=48>=(je=Math.ceil(Math.log(we)/Math.LN2))?1:Math.pow(2,je-48),Ce=(it=w(we)).j(ue);pe(Ce)||0<Ce.l(Ve);)Ce=(it=w(we-=je)).j(ue);me(it)&&(it=B),Ke=Ke.add(it),Ve=dt(Ve,Ce)}return new bt(Ke,Ve)}function _n(Ve){for(var ue=Ve.g.length+1,we=[],je=0;je<ue;je++)we[je]=Ve.i(je)<<1|Ve.i(je-1)>>>31;return new d(we,Ve.h)}function sn(Ve,ue){var we=ue>>5;ue%=32;for(var je=Ve.g.length-we,Ke=[],it=0;it<je;it++)Ke[it]=0<ue?Ve.i(it+we)>>>ue|Ve.i(it+we+1)<<32-ue:Ve.i(it+we);return new d(Ke,Ve.h)}(n=d.prototype).m=function(){if(pe(this))return-fe(this).m();for(var Ve=0,ue=1,we=0;we<this.g.length;we++){var je=this.i(we);Ve+=(0<=je?je:4294967296+je)*ue,ue*=4294967296}return Ve},n.toString=function(Ve){if(2>(Ve=Ve||10)||36<Ve)throw Error("radix out of range: "+Ve);if(me(this))return"0";if(pe(this))return"-"+fe(this).toString(Ve);for(var ue=w(Math.pow(Ve,6)),we=this,je="";;){var Ke=Ht(we,ue).g,it=((0<(we=dt(we,Ke.j(ue))).g.length?we.g[0]:we.h)>>>0).toString(Ve);if(me(we=Ke))return it+je;for(;6>it.length;)it="0"+it;je=it+je}},n.i=function(Ve){return 0>Ve?0:Ve<this.g.length?this.g[Ve]:this.h},n.l=function(Ve){return pe(Ve=dt(this,Ve))?-1:me(Ve)?0:1},n.abs=function(){return pe(this)?fe(this):this},n.add=function(Ve){for(var ue=Math.max(this.g.length,Ve.g.length),we=[],je=0,Ke=0;Ke<=ue;Ke++){var it=je+(65535&this.i(Ke))+(65535&Ve.i(Ke)),Ce=(it>>>16)+(this.i(Ke)>>>16)+(Ve.i(Ke)>>>16);je=Ce>>>16,we[Ke]=(Ce&=65535)<<16|(it&=65535)}return new d(we,-2147483648&we[we.length-1]?-1:0)},n.j=function(Ve){if(me(this)||me(Ve))return R;if(pe(this))return pe(Ve)?fe(this).j(fe(Ve)):fe(fe(this).j(Ve));if(pe(Ve))return fe(this.j(fe(Ve)));if(0>this.l(q)&&0>Ve.l(q))return w(this.m()*Ve.m());for(var ue=this.g.length+Ve.g.length,we=[],je=0;je<2*ue;je++)we[je]=0;for(je=0;je<this.g.length;je++)for(var Ke=0;Ke<Ve.g.length;Ke++){var it=this.i(je)>>>16,Ce=65535&this.i(je),dr=Ve.i(Ke)>>>16,vs=65535&Ve.i(Ke);we[2*je+2*Ke]+=Ce*vs,_t(we,2*je+2*Ke),we[2*je+2*Ke+1]+=it*vs,_t(we,2*je+2*Ke+1),we[2*je+2*Ke+1]+=Ce*dr,_t(we,2*je+2*Ke+1),we[2*je+2*Ke+2]+=it*dr,_t(we,2*je+2*Ke+2)}for(je=0;je<ue;je++)we[je]=we[2*je+1]<<16|we[2*je];for(je=ue;je<2*ue;je++)we[je]=0;return new d(we,0)},n.A=function(Ve){return Ht(this,Ve).h},n.and=function(Ve){for(var ue=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<ue;je++)we[je]=this.i(je)&Ve.i(je);return new d(we,this.h&Ve.h)},n.or=function(Ve){for(var ue=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<ue;je++)we[je]=this.i(je)|Ve.i(je);return new d(we,this.h|Ve.h)},n.xor=function(Ve){for(var ue=Math.max(this.g.length,Ve.g.length),we=[],je=0;je<ue;je++)we[je]=this.i(je)^Ve.i(je);return new d(we,this.h^Ve.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ER=bR.Md5=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=w,d.fromString=function A(Ve,ue){if(0==Ve.length)throw Error("number format error: empty string");if(2>(ue=ue||10)||36<ue)throw Error("radix out of range: "+ue);if("-"==Ve.charAt(0))return fe(A(Ve.substring(1),ue));if(0<=Ve.indexOf("-"))throw Error('number format error: interior "-" character');for(var we=w(Math.pow(ue,8)),je=R,Ke=0;Ke<Ve.length;Ke+=8){var it=Math.min(8,Ve.length-Ke),Ce=parseInt(Ve.substring(Ke,Ke+it),ue);8>it?(it=w(Math.pow(ue,it)),je=je.j(it).add(w(Ce))):je=(je=je.j(we)).add(w(Ce))}return je},nd=bR.Integer=d}).apply(typeof zV<"u"?zV:typeof self<"u"?self:typeof window<"u"?window:{});var oC,wR,rf,sC,aC,cC,sf,By,lC,Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wc={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(_,x,L){return _==Array.prototype||_==Object.prototype||(_[x]=L.value),_},r=function e(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Vy&&Vy];for(var x=0;x<_.length;++x){var L=_[x];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}(this);!function i(_,x){if(x)e:{var L=r;_=_.split(".");for(var X=0;X<_.length-1;X++){var at=_[X];if(!(at in L))break e;L=L[at]}(x=x(X=L[_=_[_.length-1]]))!=X&&null!=x&&t(L,_,{configurable:!0,writable:!0,value:x})}}("Array.prototype.values",function(_){return _||function(){return function c(_,x){_ instanceof String&&(_+="");var L=0,X=!1,at={next:function(){if(!X&&L<_.length){var gt=L++;return{value:x(gt,_[gt]),done:!1}}return X=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}(this,function(x,L){return L})}});var d=d||{},f=this||self;function m(_){var x=typeof _;return"array"==(x="object"!=x?x:_?Array.isArray(_)?"array":x:"null")||"object"==x&&"number"==typeof _.length}function w(_){var x=typeof _;return"object"==x&&null!=_||"function"==x}function A(_,x,L){return _.call.apply(_.bind,arguments)}function R(_,x,L){if(!_)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,X),_.apply(x,at)}}return function(){return _.apply(x,arguments)}}function B(_,x,L){return(B=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?A:R).apply(null,arguments)}function q(_,x){var L=Array.prototype.slice.call(arguments,1);return function(){var X=L.slice();return X.push.apply(X,arguments),_.apply(this,X)}}function me(_,x){function L(){}L.prototype=x.prototype,_.aa=x.prototype,_.prototype=new L,_.prototype.constructor=_,_.Qb=function(X,at,gt){for(var Qt=Array(arguments.length-2),Kr=2;Kr<arguments.length;Kr++)Qt[Kr-2]=arguments[Kr];return x.prototype[at].apply(X,Qt)}}function pe(_){const x=_.length;if(0<x){const L=Array(x);for(let X=0;X<x;X++)L[X]=_[X];return L}return[]}function fe(_,x){for(let L=1;L<arguments.length;L++){const X=arguments[L];if(m(X)){const at=_.length||0,gt=X.length||0;_.length=at+gt;for(let Qt=0;Qt<gt;Qt++)_[at+Qt]=X[Qt]}else _.push(X)}}function _t(_){return/^[\s\xa0]*$/.test(_)}function bt(){var _=f.navigator;return _&&(_=_.userAgent)?_:""}function Ht(_){return Ht[" "](_),_}Ht[" "]=function(){};var _n=!(-1==bt().indexOf("Gecko")||-1!=bt().toLowerCase().indexOf("webkit")&&-1==bt().indexOf("Edge")||-1!=bt().indexOf("Trident")||-1!=bt().indexOf("MSIE")||-1!=bt().indexOf("Edge"));function sn(_,x,L){for(const X in _)x.call(L,_[X],X,_)}function ue(_){const x={};for(const L in _)x[L]=_[L];return x}const we="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(_,x){let L,X;for(let at=1;at<arguments.length;at++){for(L in X=arguments[at],X)_[L]=X[L];for(let gt=0;gt<we.length;gt++)L=we[gt],Object.prototype.hasOwnProperty.call(X,L)&&(_[L]=X[L])}}function Ke(_){var x=1;_=_.split(":");const L=[];for(;0<x&&_.length;)L.push(_.shift()),x--;return _.length&&L.push(_.join(":")),L}function it(_){f.setTimeout(()=>{throw _},0)}function Ce(){var _=Vi;let x=null;return _.g&&(x=_.g,_.g=_.g.next,_.g||(_.h=null),x.next=null),x}var vs=new class dt{constructor(x,L){this.i=x,this.j=L,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}(()=>new Zo,_=>_.reset());class Zo{constructor(){this.next=this.g=this.h=null}set(x,L){this.h=x,this.g=L,this.next=null}reset(){this.next=this.g=this.h=null}}let qi,Jr=!1,Vi=new class dr{constructor(){this.h=this.g=null}add(x,L){const X=vs.get();X.set(x,L),this.h?this.h.next=X:this.g=X,this.h=X}},ko=()=>{const _=f.Promise.resolve(void 0);qi=()=>{_.then(Bs)}};var Bs=()=>{for(var _;_=Ce();){try{_.h.call(_.g)}catch(L){it(L)}var x=vs;x.j(_),100>x.h&&(x.h++,_.next=x.g,x.g=_)}Jr=!1};function cr(){this.s=this.s,this.C=this.C}function ei(_,x){this.type=_,this.g=this.target=x,this.defaultPrevented=!1}cr.prototype.s=!1,cr.prototype.ma=function(){this.s||(this.s=!0,this.N())},cr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ei.prototype.h=function(){this.defaultPrevented=!0};var dP=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var _=!1,x=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const L=()=>{};f.addEventListener("test",L,x),f.removeEventListener("test",L,x)}catch{}return _}();function lD(_,x){if(ei.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var L=this.type=_.type,X=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=x,x=_.relatedTarget){if(_n){e:{try{Ht(x.nodeName);var at=!0;break e}catch{}at=!1}at||(x=null)}}else"mouseover"==L?x=_.fromElement:"mouseout"==L&&(x=_.toElement);this.relatedTarget=x,X?(this.clientX=void 0!==X.clientX?X.clientX:X.pageX,this.clientY=void 0!==X.clientY?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:dne[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&lD.aa.h.call(this)}}me(lD,ei);var dne={2:"touch",3:"pen",4:"mouse"};lD.prototype.h=function(){lD.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var uD="closure_listenable_"+(1e6*Math.random()|0),hne=0;function fne(_,x,L,X,at){this.listener=_,this.proxy=null,this.src=x,this.type=L,this.capture=!!X,this.ha=at,this.key=++hne,this.da=this.fa=!1}function hP(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function fP(_){this.src=_,this.g={},this.h=0}function kj(_,x){var L=x.type;if(L in _.g){var gt,X=_.g[L],at=Array.prototype.indexOf.call(X,x,void 0);(gt=0<=at)&&Array.prototype.splice.call(X,at,1),gt&&(hP(x),0==_.g[L].length&&(delete _.g[L],_.h--))}}function Nj(_,x,L,X){for(var at=0;at<_.length;++at){var gt=_[at];if(!gt.da&&gt.listener==x&&gt.capture==!!L&&gt.ha==X)return at}return-1}fP.prototype.add=function(_,x,L,X,at){var gt=_.toString();(_=this.g[gt])||(_=this.g[gt]=[],this.h++);var Qt=Nj(_,x,X,at);return-1<Qt?(x=_[Qt],L||(x.fa=!1)):((x=new fne(x,this.src,gt,!!X,at)).fa=L,_.push(x)),x};var Fj="closure_lm_"+(1e6*Math.random()|0),Lj={};function oK(_,x,L,X,at){if(X&&X.once)return aK(_,x,L,X,at);if(Array.isArray(x)){for(var gt=0;gt<x.length;gt++)oK(_,x[gt],L,X,at);return null}return L=jj(L),_&&_[uD]?_.K(x,L,w(X)?!!X.capture:!!X,at):sK(_,x,L,!1,X,at)}function sK(_,x,L,X,at,gt){if(!x)throw Error("Invalid event type");var Qt=w(at)?!!at.capture:!!at,Kr=Bj(_);if(Kr||(_[Fj]=Kr=new fP(_)),(L=Kr.add(x,L,X,Qt,gt)).proxy)return L;if(X=function pne(){const x=mne;return function _(L){return x.call(_.src,_.listener,L)}}(),L.proxy=X,X.src=_,X.listener=L,_.addEventListener)dP||(at=Qt),void 0===at&&(at=!1),_.addEventListener(x.toString(),X,at);else if(_.attachEvent)_.attachEvent(lK(x.toString()),X);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(X)}return L}function aK(_,x,L,X,at){if(Array.isArray(x)){for(var gt=0;gt<x.length;gt++)aK(_,x[gt],L,X,at);return null}return L=jj(L),_&&_[uD]?_.L(x,L,w(X)?!!X.capture:!!X,at):sK(_,x,L,!0,X,at)}function cK(_,x,L,X,at){if(Array.isArray(x))for(var gt=0;gt<x.length;gt++)cK(_,x[gt],L,X,at);else X=w(X)?!!X.capture:!!X,L=jj(L),_&&_[uD]?(_=_.i,(x=String(x).toString())in _.g&&-1<(L=Nj(gt=_.g[x],L,X,at))&&(hP(gt[L]),Array.prototype.splice.call(gt,L,1),0==gt.length&&(delete _.g[x],_.h--))):_&&(_=Bj(_))&&(x=_.g[x.toString()],_=-1,x&&(_=Nj(x,L,X,at)),(L=-1<_?x[_]:null)&&Vj(L))}function Vj(_){if("number"!=typeof _&&_&&!_.da){var x=_.src;if(x&&x[uD])kj(x.i,_);else{var L=_.type,X=_.proxy;x.removeEventListener?x.removeEventListener(L,X,_.capture):x.detachEvent?x.detachEvent(lK(L),X):x.addListener&&x.removeListener&&x.removeListener(X),(L=Bj(x))?(kj(L,_),0==L.h&&(L.src=null,x[Fj]=null)):hP(_)}}}function lK(_){return _ in Lj?Lj[_]:Lj[_]="on"+_}function mne(_,x){if(_.da)_=!0;else{x=new lD(x,this);var L=_.listener,X=_.ha||_.src;_.fa&&Vj(_),_=L.call(X,x)}return _}function Bj(_){return(_=_[Fj])instanceof fP?_:null}var Uj="__closure_events_fn_"+(1e9*Math.random()>>>0);function jj(_){return"function"==typeof _?_:(_[Uj]||(_[Uj]=function(x){return _.handleEvent(x)}),_[Uj])}function ys(){cr.call(this),this.i=new fP(this),this.M=this,this.F=null}function Us(_,x){var L,X=_.F;if(X)for(L=[];X;X=X.F)L.push(X);if(_=_.M,X=x.type||x,"string"==typeof x)x=new ei(x,_);else if(x instanceof ei)x.target=x.target||_;else{var at=x;je(x=new ei(X,_),at)}if(at=!0,L)for(var gt=L.length-1;0<=gt;gt--){var Qt=x.g=L[gt];at=pP(Qt,X,!0,x)&&at}if(at=pP(Qt=x.g=_,X,!0,x)&&at,at=pP(Qt,X,!1,x)&&at,L)for(gt=0;gt<L.length;gt++)at=pP(Qt=x.g=L[gt],X,!1,x)&&at}function pP(_,x,L,X){if(!(x=_.i.g[String(x)]))return!0;x=x.concat();for(var at=!0,gt=0;gt<x.length;++gt){var Qt=x[gt];if(Qt&&!Qt.da&&Qt.capture==L){var Kr=Qt.listener,Jo=Qt.ha||Qt.src;Qt.fa&&kj(_.i,Qt),at=!1!==Kr.call(Jo,X)&&at}}return at&&!X.defaultPrevented}function uK(_,x,L){if("function"==typeof _)L&&(_=B(_,L));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=B(_.handleEvent,_)}return 2147483647<Number(x)?-1:f.setTimeout(_,x||0)}function dK(_){_.g=uK(()=>{_.g=null,_.i&&(_.i=!1,dK(_))},_.l);const x=_.h;_.h=null,_.m.apply(null,x)}me(ys,cr),ys.prototype[uD]=!0,ys.prototype.removeEventListener=function(_,x,L,X){cK(this,_,x,L,X)},ys.prototype.N=function(){if(ys.aa.N.call(this),this.i){var x,_=this.i;for(x in _.g){for(var L=_.g[x],X=0;X<L.length;X++)hP(L[X]);delete _.g[x],_.h--}}this.F=null},ys.prototype.K=function(_,x,L,X){return this.i.add(String(_),x,!1,L,X)},ys.prototype.L=function(_,x,L,X){return this.i.add(String(_),x,!0,L,X)};class gne extends cr{constructor(x,L){super(),this.m=x,this.l=L,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:dK(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dD(_){cr.call(this),this.h=_,this.g={}}me(dD,cr);var hK=[];function fK(_){sn(_.g,function(x,L){this.g.hasOwnProperty(L)&&Vj(x)},_),_.g={}}dD.prototype.N=function(){dD.aa.N.call(this),fK(this)},dD.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $j=f.JSON.stringify,_ne=f.JSON.parse,vne=class{stringify(_){return f.JSON.stringify(_,void 0)}parse(_){return f.JSON.parse(_,void 0)}};function Hj(){}function mK(){}Hj.prototype.h=null;var hD={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zj(){ei.call(this,"d")}function Gj(){ei.call(this,"c")}me(zj,ei),me(Gj,ei);var pg={},gK=null;function mP(){return gK=gK||new ys}function _K(_){ei.call(this,pg.La,_)}function fD(_){const x=mP();Us(x,new _K(x))}function vK(_,x){ei.call(this,pg.STAT_EVENT,_),this.stat=x}function js(_){const x=mP();Us(x,new vK(x,_))}function yK(_,x){ei.call(this,pg.Ma,_),this.size=x}function pD(_,x){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){_()},x)}function mD(){this.g=!0}function Ab(_,x,L,X){_.info(function(){return"XMLHTTP TEXT ("+x+"): "+function wne(_,x){if(!_.g)return x;if(!x)return null;try{var L=JSON.parse(x);if(L)for(_=0;_<L.length;_++)if(Array.isArray(L[_])){var X=L[_];if(!(2>X.length)){var at=X[1];if(Array.isArray(at)&&!(1>at.length)){var gt=at[0];if("noop"!=gt&&"stop"!=gt&&"close"!=gt)for(var Qt=1;Qt<at.length;Qt++)at[Qt]=""}}}return $j(L)}catch{return x}}(_,L)+(X?" "+X:"")})}pg.La="serverreachability",me(_K,ei),pg.STAT_EVENT="statevent",me(vK,ei),pg.Ma="timingevent",me(yK,ei),mD.prototype.xa=function(){this.g=!1},mD.prototype.info=function(){};var Wj,gP={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bK={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function _P(){}function Sf(_,x,L,X){this.j=_,this.i=x,this.l=L,this.R=X||1,this.U=new dD(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new EK}function EK(){this.i=null,this.g="",this.h=!1}me(_P,Hj),_P.prototype.g=function(){return new XMLHttpRequest},_P.prototype.i=function(){return{}},Wj=new _P;var wK={},Kj={};function qj(_,x,L){_.L=1,_.v=EP(fd(x)),_.m=L,_.P=!0,IK(_,null)}function IK(_,x){_.F=Date.now(),vP(_),_.A=fd(_.v);var L=_.A,X=_.R;Array.isArray(X)||(X=[String(X)]),LK(L.i,"t",X),_.C=0,L=_.j.J,_.h=new EK,_.g=t9(_.j,L?x:null,!_.m),0<_.O&&(_.M=new gne(B(_.Y,_,_.g),_.O)),x=_.U,L=_.g,X=_.ca;var at="readystatechange";Array.isArray(at)||(at&&(hK[0]=at.toString()),at=hK);for(var gt=0;gt<at.length;gt++){var Qt=oK(L,at[gt],X||x.handleEvent,!1,x.h||x);if(!Qt)break;x.g[Qt.key]=Qt}x=_.H?ue(_.H):{},_.m?(_.u||(_.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,x)):(_.u="GET",_.g.ea(_.A,_.u,null,x)),fD(),function yne(_,x,L,X,at,gt){_.info(function(){if(_.g)if(gt)for(var Qt="",Kr=gt.split("&"),Jo=0;Jo<Kr.length;Jo++){var Ir=Kr[Jo].split("=");if(1<Ir.length){var bs=Ir[0];Ir=Ir[1];var Es=bs.split("_");Qt=2<=Es.length&&"type"==Es[1]?Qt+(bs+"=")+Ir+"&":Qt+(bs+"=redacted&")}}else Qt=null;else Qt=gt;return"XMLHTTP REQ ("+X+") [attempt "+at+"]: "+x+"\n"+L+"\n"+Qt})}(_.i,_.u,_.A,_.l,_.R,_.m)}function CK(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function Ine(_,x){var L=_.C,X=x.indexOf("\n",L);return-1==X?Kj:(L=Number(x.substring(L,X)),isNaN(L)?wK:(X+=1)+L>x.length?Kj:(x=x.slice(X,X+L),_.C=X+L,x))}function vP(_){_.S=Date.now()+_.I,DK(_,_.I)}function DK(_,x){if(null!=_.B)throw Error("WatchDog timer not null");_.B=pD(B(_.ba,_),x)}function Xj(_){_.B&&(f.clearTimeout(_.B),_.B=null)}function gD(_){0==_.j.G||_.J||YK(_.j,_)}function mg(_){Xj(_);var x=_.M;x&&"function"==typeof x.ma&&x.ma(),_.M=null,fK(_.U),_.g&&(x=_.g,_.g=null,x.abort(),x.ma())}function Qj(_,x){try{var L=_.j;if(0!=L.G&&(L.g==_||Yj(L.h,_)))if(!_.K&&Yj(L.h,_)&&3==L.G){try{var X=L.Da.g.parse(x)}catch{X=null}if(Array.isArray(X)&&3==X.length){var at=X;if(0==at[0]){e:if(!L.u){if(L.g){if(!(L.g.F+3e3<_.F))break e;TP(L),CP(L)}t$(L),js(18)}}else L.za=at[1],0<L.za-L.T&&37500>at[2]&&L.F&&0==L.v&&!L.C&&(L.C=pD(B(L.Za,L),6e3));if(1>=SK(L.h)&&L.ca){try{L.ca()}catch{}L.ca=void 0}}else _g(L,11)}else if((_.K||L.g==_)&&TP(L),!_t(x))for(at=L.Da.g.parse(x),x=0;x<at.length;x++){let Ir=at[x];if(L.T=Ir[0],Ir=Ir[1],2==L.G)if("c"==Ir[0]){L.K=Ir[1],L.ia=Ir[2];const bs=Ir[3];null!=bs&&(L.la=bs,L.j.info("VER="+L.la));const Es=Ir[4];null!=Es&&(L.Aa=Es,L.j.info("SVER="+L.Aa));const Mb=Ir[5];null!=Mb&&"number"==typeof Mb&&0<Mb&&(L.L=X=1.5*Mb,L.j.info("backChannelRequestTimeoutMs_="+X)),X=L;const sl=_.g;if(sl){const SP=sl.g?sl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(SP){var gt=X.h;gt.g||-1==SP.indexOf("spdy")&&-1==SP.indexOf("quic")&&-1==SP.indexOf("h2")||(gt.j=gt.l,gt.g=new Set,gt.h&&(Zj(gt,gt.h),gt.h=null))}if(X.D){const r$=sl.g?sl.g.getResponseHeader("X-HTTP-Session-Id"):null;r$&&(X.ya=r$,si(X.I,X.D,r$))}}L.G=3,L.l&&L.l.ua(),L.ba&&(L.R=Date.now()-_.F,L.j.info("Handshake RTT: "+L.R+"ms"));var Qt=_;if((X=L).qa=e9(X,X.J?X.ia:null,X.W),Qt.K){xK(X.h,Qt);var Kr=Qt,Jo=X.L;Jo&&(Kr.I=Jo),Kr.B&&(Xj(Kr),vP(Kr)),X.g=Qt}else XK(X);0<L.i.length&&DP(L)}else"stop"!=Ir[0]&&"close"!=Ir[0]||_g(L,7);else 3==L.G&&("stop"==Ir[0]||"close"==Ir[0]?"stop"==Ir[0]?_g(L,7):e$(L):"noop"!=Ir[0]&&L.l&&L.l.ta(Ir),L.v=0)}fD()}catch{}}Sf.prototype.ca=function(_){_=_.target;const x=this.M;x&&3==pd(_)?x.j():this.Y(_)},Sf.prototype.Y=function(_){try{if(_==this.g)e:{const Es=pd(this.g);var x=this.g.Ba();if(this.g.Z(),!(3>Es)&&(3!=Es||this.g&&(this.h.h||this.g.oa()||zK(this.g)))){this.J||4!=Es||7==x||fD(),Xj(this);var L=this.g.Z();this.X=L;t:if(CK(this)){var X=zK(this.g);_="";var at=X.length,gt=4==pd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mg(this),gD(this);var Qt="";break t}this.h.i=new f.TextDecoder}for(x=0;x<at;x++)this.h.h=!0,_+=this.h.i.decode(X[x],{stream:!(gt&&x==at-1)});X.length=0,this.h.g+=_,this.C=0,Qt=this.h.g}else Qt=this.g.oa();if(this.o=200==L,function bne(_,x,L,X,at,gt,Qt){_.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+at+"]: "+x+"\n"+L+"\n"+gt+" "+Qt})}(this.i,this.u,this.A,this.l,this.R,Es,L),this.o){if(this.T&&!this.K){t:{if(this.g){var Kr,Jo=this.g;if((Kr=Jo.g?Jo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_t(Kr)){var Ir=Kr;break t}}Ir=null}if(!(L=Ir)){this.o=!1,this.s=3,js(12),mg(this),gD(this);break e}Ab(this.i,this.l,L,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qj(this,L)}if(this.P){let sl;for(L=!0;!this.J&&this.C<Qt.length;){if(sl=Ine(this,Qt),sl==Kj){4==Es&&(this.s=4,js(14),L=!1),Ab(this.i,this.l,null,"[Incomplete Response]");break}if(sl==wK){this.s=4,js(15),Ab(this.i,this.l,Qt,"[Invalid Chunk]"),L=!1;break}Ab(this.i,this.l,sl,null),Qj(this,sl)}if(CK(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Es||0!=Qt.length||this.h.h||(this.s=1,js(16),L=!1),this.o=this.o&&L,L){if(0<Qt.length&&!this.W){this.W=!0;var bs=this.j;bs.g==this&&bs.ba&&!bs.M&&(bs.j.info("Great, no buffering proxy detected. Bytes received: "+Qt.length),n$(bs),bs.M=!0,js(11))}}else Ab(this.i,this.l,Qt,"[Invalid Chunked Response]"),mg(this),gD(this)}else Ab(this.i,this.l,Qt,null),Qj(this,Qt);4==Es&&mg(this),this.o&&!this.J&&(4==Es?YK(this.j,this):(this.o=!1,vP(this)))}else(function Une(_){const x={};_=(_.g&&2<=pd(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let X=0;X<_.length;X++){if(_t(_[X]))continue;var L=Ke(_[X]);const at=L[0];if("string"!=typeof(L=L[1]))continue;L=L.trim();const gt=x[at]||[];x[at]=gt,gt.push(L)}!function Ve(_,x){for(const L in _)x.call(void 0,_[L],L,_)}(x,function(X){return X.join(", ")})})(this.g),400==L&&0<Qt.indexOf("Unknown SID")?(this.s=3,js(12)):(this.s=0,js(13)),mg(this),gD(this)}}}catch{}},Sf.prototype.cancel=function(){this.J=!0,mg(this)},Sf.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function Ene(_,x){_.info(function(){return"TIMEOUT: "+x})}(this.i,this.A),2!=this.L&&(fD(),js(17)),mg(this),this.s=2,gD(this)):DK(this,this.S-_)};var Cne=class{constructor(_,x){this.g=_,this.map=x}};function TK(_){this.l=_||10,_=f.PerformanceNavigationTiming?0<(_=f.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function AK(_){return!!_.h||!!_.g&&_.g.size>=_.j}function SK(_){return _.h?1:_.g?_.g.size:0}function Yj(_,x){return _.h?_.h==x:!!_.g&&_.g.has(x)}function Zj(_,x){_.g?_.g.add(x):_.h=x}function xK(_,x){_.h&&_.h==x?_.h=null:_.g&&_.g.has(x)&&_.g.delete(x)}function MK(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let x=_.i;for(const L of _.g.values())x=x.concat(L.D);return x}return pe(_.i)}function RK(_,x){if(_.forEach&&"function"==typeof _.forEach)_.forEach(x,void 0);else if(m(_)||"string"==typeof _)Array.prototype.forEach.call(_,x,void 0);else for(var L=function Tne(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(m(_)||"string"==typeof _){var x=[];_=_.length;for(var L=0;L<_;L++)x.push(L);return x}x=[],L=0;for(const X in _)x[L++]=X;return x}}}(_),X=function Dne(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(m(_)){for(var x=[],L=_.length,X=0;X<L;X++)x.push(_[X]);return x}for(X in x=[],L=0,_)x[L++]=_[X];return x}(_),at=X.length,gt=0;gt<at;gt++)x.call(void 0,X[gt],L&&L[gt],_)}TK.prototype.cancel=function(){if(this.i=MK(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var OK=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gg(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof gg){this.h=_.h,yP(this,_.j),this.o=_.o,this.g=_.g,bP(this,_.s),this.l=_.l;var x=_.i,L=new yD;L.i=x.i,x.g&&(L.g=new Map(x.g),L.h=x.h),PK(this,L),this.m=_.m}else _&&(x=String(_).match(OK))?(this.h=!1,yP(this,x[1]||"",!0),this.o=_D(x[2]||""),this.g=_D(x[3]||"",!0),bP(this,x[4]),this.l=_D(x[5]||"",!0),PK(this,x[6]||"",!0),this.m=_D(x[7]||"")):(this.h=!1,this.i=new yD(null,this.h))}function fd(_){return new gg(_)}function yP(_,x,L){_.j=L?_D(x,!0):x,_.j&&(_.j=_.j.replace(/:$/,""))}function bP(_,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);_.s=x}else _.s=null}function PK(_,x,L){x instanceof yD?(_.i=x,function Pne(_,x){x&&!_.j&&(xf(_),_.i=null,_.g.forEach(function(L,X){var at=X.toLowerCase();X!=at&&(NK(this,X),LK(this,at,L))},_)),_.j=x}(_.i,_.h)):(L||(x=vD(x,Rne)),_.i=new yD(x,_.h))}function si(_,x,L){_.i.set(x,L)}function EP(_){return si(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function _D(_,x){return _?x?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function vD(_,x,L){return"string"==typeof _?(_=encodeURI(_).replace(x,Sne),L&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function Sne(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}gg.prototype.toString=function(){var _=[],x=this.j;x&&_.push(vD(x,kK,!0),":");var L=this.g;return(L||"file"==x)&&(_.push("//"),(x=this.o)&&_.push(vD(x,kK,!0),"@"),_.push(encodeURIComponent(String(L)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(L=this.s)&&_.push(":",String(L))),(L=this.l)&&(this.g&&"/"!=L.charAt(0)&&_.push("/"),_.push(vD(L,"/"==L.charAt(0)?Mne:xne,!0))),(L=this.i.toString())&&_.push("?",L),(L=this.m)&&_.push("#",vD(L,One)),_.join("")};var kK=/[#\/\?@]/g,xne=/[#\?:]/g,Mne=/[#\?]/g,Rne=/[#\?@]/g,One=/#/g;function yD(_,x){this.h=this.g=null,this.i=_||null,this.j=!!x}function xf(_){_.g||(_.g=new Map,_.h=0,_.i&&function Ane(_,x){if(_){_=_.split("&");for(var L=0;L<_.length;L++){var X=_[L].indexOf("="),at=null;if(0<=X){var gt=_[L].substring(0,X);at=_[L].substring(X+1)}else gt=_[L];x(gt,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}(_.i,function(x,L){_.add(decodeURIComponent(x.replace(/\+/g," ")),L)}))}function NK(_,x){xf(_),x=Sb(_,x),_.g.has(x)&&(_.i=null,_.h-=_.g.get(x).length,_.g.delete(x))}function FK(_,x){return xf(_),x=Sb(_,x),_.g.has(x)}function LK(_,x,L){NK(_,x),0<L.length&&(_.i=null,_.g.set(Sb(_,x),pe(L)),_.h+=L.length)}function Sb(_,x){return x=String(x),_.j&&(x=x.toLowerCase()),x}function Mf(_,x,L,X,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),X(L)}catch{}}function Fne(){this.g=new vne}function Lne(_,x,L){const X=L||"";try{RK(_,function(at,gt){let Qt=at;w(at)&&(Qt=$j(at)),x.push(X+gt+"="+encodeURIComponent(Qt))})}catch(at){throw x.push(X+"type="+encodeURIComponent("_badmap")),at}}function bD(_){this.l=_.Ub||null,this.j=_.eb||!1}function wP(_,x){ys.call(this),this.D=_,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function VK(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function ED(_){_.readyState=4,_.l=null,_.j=null,_.v=null,wD(_)}function wD(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function BK(_){let x="";return sn(_,function(L,X){x+=X,x+=":",x+=L,x+="\r\n"}),x}function Jj(_,x,L){e:{for(X in L){var X=!1;break e}X=!0}X||(L=BK(L),"string"==typeof _?null!=L&&encodeURIComponent(String(L)):si(_,x,L))}function Bi(_){ys.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=yD.prototype).add=function(_,x){xf(this),this.i=null,_=Sb(this,_);var L=this.g.get(_);return L||this.g.set(_,L=[]),L.push(x),this.h+=1,this},n.forEach=function(_,x){xf(this),this.g.forEach(function(L,X){L.forEach(function(at){_.call(x,at,X,this)},this)},this)},n.na=function(){xf(this);const _=Array.from(this.g.values()),x=Array.from(this.g.keys()),L=[];for(let X=0;X<x.length;X++){const at=_[X];for(let gt=0;gt<at.length;gt++)L.push(x[X])}return L},n.V=function(_){xf(this);let x=[];if("string"==typeof _)FK(this,_)&&(x=x.concat(this.g.get(Sb(this,_))));else{_=Array.from(this.g.values());for(let L=0;L<_.length;L++)x=x.concat(_[L])}return x},n.set=function(_,x){return xf(this),this.i=null,FK(this,_=Sb(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[x]),this.h+=1,this},n.get=function(_,x){return _&&0<(_=this.V(_)).length?String(_[0]):x},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],x=Array.from(this.g.keys());for(var L=0;L<x.length;L++){var X=x[L];const gt=encodeURIComponent(String(X)),Qt=this.V(X);for(X=0;X<Qt.length;X++){var at=gt;""!==Qt[X]&&(at+="="+encodeURIComponent(String(Qt[X]))),_.push(at)}}return this.i=_.join("&")},me(bD,Hj),bD.prototype.g=function(){return new wP(this.l,this.j)},bD.prototype.i=function(_){return function(){return _}}({}),me(wP,ys),(n=wP.prototype).open=function(_,x){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=x,this.readyState=1,wD(this)},n.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(x.body=_),(this.D||f).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ED(this)),this.readyState=0},n.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,wD(this)),this.g&&(this.readyState=3,wD(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;VK(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var x=_.value?_.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!_.done}))&&(this.response=this.responseText+=x)}_.done?ED(this):wD(this),3==this.readyState&&VK(this)}},n.Ra=function(_){this.g&&(this.response=this.responseText=_,ED(this))},n.Qa=function(_){this.g&&(this.response=_,ED(this))},n.ga=function(){this.g&&ED(this)},n.setRequestHeader=function(_,x){this.u.append(_,x)},n.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],x=this.h.entries();for(var L=x.next();!L.done;)_.push((L=L.value)[0]+": "+L[1]),L=x.next();return _.join("\r\n")},Object.defineProperty(wP.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),me(Bi,ys);var Vne=/^https?$/i,Bne=["POST","PUT"];function UK(_,x){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=x,_.m=5,jK(_),IP(_)}function jK(_){_.A||(_.A=!0,Us(_,"complete"),Us(_,"error"))}function $K(_){if(_.h&&typeof d<"u"&&(!_.v[1]||4!=pd(_)||2!=_.Z()))if(_.u&&4==pd(_))uK(_.Ea,0,_);else if(Us(_,"readystatechange"),4==pd(_)){_.h=!1;try{const Qt=_.Z();e:switch(Qt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var L;if(!(L=x)){var X;if(X=0===Qt){var at=String(_.D).match(OK)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),X=!Vne.test(at?at.toLowerCase():"")}L=X}if(L)Us(_,"complete"),Us(_,"success");else{_.m=6;try{var gt=2<pd(_)?_.g.statusText:""}catch{gt=""}_.l=gt+" ["+_.Z()+"]",jK(_)}}finally{IP(_)}}}function IP(_,x){if(_.g){HK(_);const L=_.g,X=_.v[0]?()=>{}:null;_.g=null,_.v=null,x||Us(_,"ready");try{L.onreadystatechange=X}catch{}}}function HK(_){_.I&&(f.clearTimeout(_.I),_.I=null)}function pd(_){return _.g?_.g.readyState:0}function zK(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function ID(_,x,L){return L&&L.internalChannelParams&&L.internalChannelParams[_]||x}function GK(_){this.Aa=0,this.i=[],this.j=new mD,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ID("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ID("baseRetryDelayMs",5e3,_),this.cb=ID("retryDelaySeedMs",1e4,_),this.Wa=ID("forwardChannelMaxRetries",2,_),this.wa=ID("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new TK(_&&_.concurrentRequestLimit),this.Da=new Fne,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function e$(_){if(WK(_),3==_.G){var x=_.U++,L=fd(_.I);if(si(L,"SID",_.K),si(L,"RID",x),si(L,"TYPE","terminate"),CD(_,L),(x=new Sf(_,_.j,x)).L=2,x.v=EP(fd(L)),L=!1,f.navigator&&f.navigator.sendBeacon)try{L=f.navigator.sendBeacon(x.v.toString(),"")}catch{}!L&&f.Image&&((new Image).src=x.v,L=!0),L||(x.g=t9(x.j,null),x.g.ea(x.v)),x.F=Date.now(),vP(x)}JK(_)}function CP(_){_.g&&(n$(_),_.g.cancel(),_.g=null)}function WK(_){CP(_),_.u&&(f.clearTimeout(_.u),_.u=null),TP(_),_.h.cancel(),_.s&&("number"==typeof _.s&&f.clearTimeout(_.s),_.s=null)}function DP(_){if(!AK(_.h)&&!_.s){_.s=!0;var x=_.Ga;qi||ko(),Jr||(qi(),Jr=!0),Vi.add(x,_),_.B=0}}function KK(_,x){var L;L=x?x.l:_.U++;const X=fd(_.I);si(X,"SID",_.K),si(X,"RID",L),si(X,"AID",_.T),CD(_,X),_.m&&_.o&&Jj(X,_.m,_.o),L=new Sf(_,_.j,L,_.B+1),null===_.m&&(L.H=_.o),x&&(_.i=x.D.concat(_.i)),x=qK(_,L,1e3),L.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Zj(_.h,L),qj(L,X,x)}function CD(_,x){_.H&&sn(_.H,function(L,X){si(x,X,L)}),_.l&&RK({},function(L,X){si(x,X,L)})}function qK(_,x,L){L=Math.min(_.i.length,L);var X=_.l?B(_.l.Na,_.l,_):null;e:{var at=_.i;let gt=-1;for(;;){const Qt=["count="+L];-1==gt?0<L?(gt=at[0].g,Qt.push("ofs="+gt)):gt=0:Qt.push("ofs="+gt);let Kr=!0;for(let Jo=0;Jo<L;Jo++){let Ir=at[Jo].g;const bs=at[Jo].map;if(Ir-=gt,0>Ir)gt=Math.max(0,at[Jo].g-100),Kr=!1;else try{Lne(bs,Qt,"req"+Ir+"_")}catch{X&&X(bs)}}if(Kr){X=Qt.join("&");break e}}}return _=_.i.splice(0,L),x.D=_,X}function XK(_){if(!_.g&&!_.u){_.Y=1;var x=_.Fa;qi||ko(),Jr||(qi(),Jr=!0),Vi.add(x,_),_.v=0}}function t$(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=pD(B(_.Fa,_),ZK(_,_.v)),_.v++,0))}function n$(_){null!=_.A&&(f.clearTimeout(_.A),_.A=null)}function QK(_){_.g=new Sf(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var x=fd(_.qa);si(x,"RID","rpc"),si(x,"SID",_.K),si(x,"AID",_.T),si(x,"CI",_.F?"0":"1"),!_.F&&_.ja&&si(x,"TO",_.ja),si(x,"TYPE","xmlhttp"),CD(_,x),_.m&&_.o&&Jj(x,_.m,_.o),_.L&&(_.g.I=_.L);var L=_.g;_=_.ia,L.L=1,L.v=EP(fd(x)),L.m=null,L.P=!0,IK(L,_)}function TP(_){null!=_.C&&(f.clearTimeout(_.C),_.C=null)}function YK(_,x){var L=null;if(_.g==x){TP(_),n$(_),_.g=null;var X=2}else{if(!Yj(_.h,x))return;L=x.D,xK(_.h,x),X=1}if(0!=_.G)if(x.o)if(1==X){L=x.m?x.m.length:0,x=Date.now()-x.F;var at=_.B;Us(X=mP(),new yK(X,L)),DP(_)}else XK(_);else if(3==(at=x.s)||0==at&&0<x.X||!(1==X&&function jne(_,x){return!(SK(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=x.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=pD(B(_.Ga,_,x),ZK(_,_.B)),_.B++,0)))}(_,x)||2==X&&t$(_)))switch(L&&0<L.length&&(x=_.h,x.i=x.i.concat(L)),at){case 1:_g(_,5);break;case 4:_g(_,10);break;case 3:_g(_,6);break;default:_g(_,2)}}function ZK(_,x){let L=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(L*=2),L*x}function _g(_,x){if(_.j.info("Error code "+x),2==x){var L=B(_.fb,_),X=_.Xa;const at=!X;X=new gg(X||"//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||yP(X,"https"),EP(X),at?function kne(_,x){const L=new mD;if(f.Image){const X=new Image;X.onload=q(Mf,L,"TestLoadImage: loaded",!0,x,X),X.onerror=q(Mf,L,"TestLoadImage: error",!1,x,X),X.onabort=q(Mf,L,"TestLoadImage: abort",!1,x,X),X.ontimeout=q(Mf,L,"TestLoadImage: timeout",!1,x,X),f.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=_}else x(!1)}(X.toString(),L):function Nne(_,x){new mD;const X=new AbortController,at=setTimeout(()=>{X.abort(),Mf(0,0,!1,x)},1e4);fetch(_,{signal:X.signal}).then(gt=>{clearTimeout(at),Mf(0,0,!!gt.ok,x)}).catch(()=>{clearTimeout(at),Mf(0,0,!1,x)})}(X.toString(),L)}else js(2);_.G=0,_.l&&_.l.sa(x),JK(_),WK(_)}function JK(_){if(_.G=0,_.ka=[],_.l){const x=MK(_.h);(0!=x.length||0!=_.i.length)&&(fe(_.ka,x),fe(_.ka,_.i),_.h.i.length=0,pe(_.i),_.i.length=0),_.l.ra()}}function e9(_,x,L){var X=L instanceof gg?fd(L):new gg(L);if(""!=X.g)x&&(X.g=x+"."+X.g),bP(X,X.s);else{var at=f.location;X=at.protocol,x=x?x+"."+at.hostname:at.hostname,at=+at.port;var gt=new gg(null);X&&yP(gt,X),x&&(gt.g=x),at&&bP(gt,at),L&&(gt.l=L),X=gt}return x=_.ya,(L=_.D)&&x&&si(X,L,x),si(X,"VER",_.la),CD(_,X),X}function t9(_,x,L){if(x&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(x=new Bi(_.Ca&&!_.pa?new bD({eb:L}):_.pa)).Ha(_.J),x}function n9(){}function AP(){}function Ga(_,x){ys.call(this),this.g=new GK(x),this.l=_,this.h=x&&x.messageUrlParams||null,_=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(_?_["X-WebChannel-Content-Type"]=x.messageContentType:_={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(_?_["X-WebChannel-Client-Profile"]=x.va:_={"X-WebChannel-Client-Profile":x.va}),this.g.S=_,(_=x&&x.Sb)&&!_t(_)&&(this.g.m=_),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!_t(x)&&(this.g.D=x,null!==(_=this.h)&&x in _&&x in(_=this.h)&&delete _[x]),this.j=new xb(this)}function r9(_){zj.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var x=_.__sm__;if(x){e:{for(const L in x){_=L;break e}_=void 0}(this.i=_)&&(_=this.i,x=null!==x&&_ in x?x[_]:void 0),this.data=x}else this.data=_}function i9(){Gj.call(this),this.status=1}function xb(_){this.g=_}(n=Bi.prototype).Ha=function(_){this.J=_},n.ea=function(_,x,L,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);x=x?x.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wj.g(),this.v=function pK(_){return _.h||(_.h=_.i())}(this.o?this.o:Wj),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(x,String(_),!0),this.B=!1}catch(gt){return void UK(this,gt)}if(_=L||"",L=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var at in X)L.set(at,X[at]);else{if("function"!=typeof X.keys||"function"!=typeof X.get)throw Error("Unknown input type for opt_headers: "+String(X));for(const gt of X.keys())L.set(gt,X.get(gt))}X=Array.from(L.keys()).find(gt=>"content-type"==gt.toLowerCase()),at=f.FormData&&_ instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Bne,x,void 0))||X||at||L.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[gt,Qt]of L)this.g.setRequestHeader(gt,Qt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{HK(this),this.u=!0,this.g.send(_),this.u=!1}catch(gt){UK(this,gt)}},n.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,Us(this,"complete"),Us(this,"abort"),IP(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),IP(this,!0)),Bi.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$K(this):this.bb())},n.bb=function(){$K(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<pd(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(_){if(this.g){var x=this.g.responseText;return _&&0==x.indexOf(_)&&(x=x.substring(_.length)),_ne(x)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=GK.prototype).la=8,n.G=1,n.connect=function(_,x,L,X){js(0),this.W=_,this.H=x||{},L&&void 0!==X&&(this.H.OSID=L,this.H.OAID=X),this.F=this.X,this.I=e9(this,null,this.W),DP(this)},n.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const at=new Sf(this,this.j,_);let gt=this.o;if(this.S&&(gt?(gt=ue(gt),je(gt,this.S)):gt=this.S),null!==this.m||this.O||(at.H=gt,gt=null),this.P)e:{for(var x=0,L=0;L<this.i.length;L++){var X=this.i[L];if(void 0===(X="__data__"in X.map&&"string"==typeof(X=X.map.__data__)?X.length:void 0))break;if(4096<(x+=X)){x=L;break e}if(4096===x||L===this.i.length-1){x=L+1;break e}}x=1e3}else x=1e3;x=qK(this,at,x),si(L=fd(this.I),"RID",_),si(L,"CVER",22),this.D&&si(L,"X-HTTP-Session-Id",this.D),CD(this,L),gt&&(this.O?x="headers="+encodeURIComponent(String(BK(gt)))+"&"+x:this.m&&Jj(L,this.m,gt)),Zj(this.h,at),this.Ua&&si(L,"TYPE","init"),this.P?(si(L,"$req",x),si(L,"SID","null"),at.T=!0,qj(at,L,null)):qj(at,L,x),this.G=2}}else 3==this.G&&(_?KK(this,_):0==this.i.length||AK(this.h)||KK(this))},n.Fa=function(){if(this.u=null,QK(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=pD(B(this.ab,this),_)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,js(10),CP(this),QK(this))},n.Za=function(){null!=this.C&&(this.C=null,CP(this),t$(this),js(19))},n.fb=function(_){_?(this.j.info("Successfully pinged google.com"),js(2)):(this.j.info("Failed to ping google.com"),js(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=n9.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},AP.prototype.g=function(_,x){return new Ga(_,x)},me(Ga,ys),Ga.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ga.prototype.close=function(){e$(this.g)},Ga.prototype.o=function(_){var x=this.g;if("string"==typeof _){var L={};L.__data__=_,_=L}else this.u&&((L={}).__data__=$j(_),_=L);x.i.push(new Cne(x.Ya++,_)),3==x.G&&DP(x)},Ga.prototype.N=function(){this.g.l=null,delete this.j,e$(this.g),delete this.g,Ga.aa.N.call(this)},me(r9,zj),me(i9,Gj),me(xb,n9),xb.prototype.ua=function(){Us(this.g,"a")},xb.prototype.ta=function(_){Us(this.g,new r9(_))},xb.prototype.sa=function(_){Us(this.g,new i9)},xb.prototype.ra=function(){Us(this.g,"b")},AP.prototype.createWebChannel=AP.prototype.g,Ga.prototype.send=Ga.prototype.o,Ga.prototype.open=Ga.prototype.m,Ga.prototype.close=Ga.prototype.close,lC=wc.createWebChannelTransport=function(){return new AP},By=wc.getStatEventTarget=function(){return mP()},sf=wc.Event=pg,cC=wc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gP.NO_ERROR=0,gP.TIMEOUT=8,gP.HTTP_ERROR=6,aC=wc.ErrorCode=gP,bK.COMPLETE="complete",sC=wc.EventType=bK,mK.EventType=hD,hD.OPEN="a",hD.CLOSE="b",hD.ERROR="c",hD.MESSAGE="d",ys.prototype.listen=ys.prototype.K,rf=wc.WebChannel=mK,wR=wc.FetchXmlHttpFactory=bD,Bi.prototype.listenOnce=Bi.prototype.L,Bi.prototype.getLastError=Bi.prototype.Ka,Bi.prototype.getLastErrorCode=Bi.prototype.Ba,Bi.prototype.getStatus=Bi.prototype.Z,Bi.prototype.getResponseJson=Bi.prototype.Oa,Bi.prototype.getResponseText=Bi.prototype.oa,Bi.prototype.send=Bi.prototype.ea,Bi.prototype.setWithCredentials=Bi.prototype.Ha,oC=wc.XhrIo=Bi}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});const IR="@firebase/firestore";class oo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}oo.UNAUTHENTICATED=new oo(null),oo.GOOGLE_CREDENTIALS=new oo("google-credentials-uid"),oo.FIRST_PARTY=new oo("first-party-uid"),oo.MOCK_USER=new oo("mock-user");let nl="10.12.3";const eu=new Mv("@firebase/firestore");function af(){return eu.logLevel}function xt(n,...t){if(eu.logLevel<=qn.DEBUG){const e=t.map(uC);eu.debug(`Firestore (${nl}): ${n}`,...e)}}function Ni(n,...t){if(eu.logLevel<=qn.ERROR){const e=t.map(uC);eu.error(`Firestore (${nl}): ${n}`,...e)}}function Ps(n,...t){if(eu.logLevel<=qn.WARN){const e=t.map(uC);eu.warn(`Firestore (${nl}): ${n}`,...e)}}function uC(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function nn(n="Unexpected state"){const t=`FIRESTORE (${nl}) INTERNAL ASSERTION FAILED: `+n;throw Ni(t),new Error(t)}function dn(n,t){n||nn()}function Xt(n,t){return n}const ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends _c{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class so{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class CR{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(oo.UNAUTHENTICATED))}shutdown(){}}class KV{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class F3{constructor(t){this.t=t,this.currentUser=oo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const c=w=>this.i!==i?(i=this.i,e(w)):Promise.resolve();let d=new so;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new so,t.enqueueRetryable(()=>c(this.currentUser))};const f=()=>{const w=d;t.enqueueRetryable((0,M.A)(function*(){yield w.promise,yield c(r.currentUser)}))},m=w=>{xt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>m(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?m(w):(xt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new so)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(xt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dn("string"==typeof r.accessToken),new CR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return dn(null===t||"string"==typeof t),new oo(t)}}class L3{constructor(t,e,r){this.l=t,this.h=e,this.P=r,this.type="FirstParty",this.user=oo.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class V3{constructor(t,e,r){this.l=t,this.h=e,this.P=r}getToken(){return Promise.resolve(new L3(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(oo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qV{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class B3{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const r=c=>{null!=c.error&&xt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,xt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const i=c=>{xt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>i(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?i(c):xt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(dn("string"==typeof e.token),this.R=e.token,new qV(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function j3(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class XV{static newId(){const e=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=j3(40);for(let c=0;c<i.length;++c)r.length<20&&i[c]<e&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[c]%62))}return r}}function On(n,t){return n<t?-1:n>t?1:0}function jm(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}class Yr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Rt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Rt(ft.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Rt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rt(ft.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Yr.fromMillis(Date.now())}static fromDate(t){return Yr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new Yr(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?On(this.nanoseconds,t.nanoseconds):On(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new pn(t)}static min(){return new pn(new Yr(0,0))}static max(){return new pn(new Yr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class $m{constructor(t,e,r){void 0===e?e=0:e>t.length&&nn(),void 0===r?r=t.length-e:r>t.length-e&&nn(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===$m.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof $m?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const c=t.get(i),d=e.get(i);if(c<d)return-1;if(c>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Xn extends $m{construct(t,e,r){return new Xn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Rt(ft.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new Xn(e)}static emptyPath(){return new Xn([])}}const QV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wr extends $m{construct(t,e,r){return new Wr(t,e,r)}static isValidIdentifier(t){return QV.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wr(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const c=()=>{if(0===r.length)throw new Rt(ft.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let d=!1;for(;i<t.length;){const f=t[i];if("\\"===f){if(i+1===t.length)throw new Rt(ft.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Rt(ft.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(c(),i++)}if(c(),d)throw new Rt(ft.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wr(e)}static emptyPath(){return new Wr([])}}class Yt{constructor(t){this.path=t}static fromPath(t){return new Yt(Xn.fromString(t))}static fromName(t){return new Yt(Xn.fromString(t).popFirst(5))}static empty(){return new Yt(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Xn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Xn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Yt(new Xn(t.slice()))}}class E{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new E(pn.min(),Yt.empty(),-1)}static max(){return new E(pn.max(),Yt.empty(),-1)}}function T(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Yt.comparator(n.documentKey,t.documentKey),0!==e?e:On(n.largestBatchId,t.largestBatchId))}const O="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function W(n){return de.apply(this,arguments)}function de(){return(de=(0,M.A)(function*(n){if(n.code!==ft.FAILED_PRECONDITION||n.message!==O)throw n;xt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new $((r,i)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,i)},this.catchCallback=c=>{this.wrapFailure(e,c).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof $?e:$.resolve(e)}catch(e){return $.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):$.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):$.reject(e)}static resolve(t){return new $((e,r)=>{e(t)})}static reject(t){return new $((e,r)=>{r(t)})}static waitFor(t){return new $((e,r)=>{let i=0,c=0,d=!1;t.forEach(f=>{++i,f.next(()=>{++c,d&&c===i&&e()},m=>r(m))}),d=!0,c===i&&e()})}static or(t){let e=$.resolve(!1);for(const r of t)e=e.next(i=>i?$.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,c)=>{r.push(e.call(this,i,c))}),this.waitFor(r)}static mapArray(t,e){return new $((r,i)=>{const c=t.length,d=new Array(c);let f=0;for(let m=0;m<c;m++){const w=m;e(t[w]).next(A=>{d[w]=A,++f,f===c&&r(d)},A=>i(A))}})}static doWhile(t,e){return new $((r,i)=>{const c=()=>{!0===t()?e().next(()=>{c()},i):r()};c()})}}function gn(n){return"IndexedDbTransactionError"===n.name}let ks=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function dC(n){return null==n}function hC(n){return 0===n&&1/n==-1/0}function Q3(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function uf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Z3(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Zr{constructor(t,e){this.comparator=t,this.root=e||qo.EMPTY}insert(t,e){return new Zr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,qo.BLACK,null,null))}remove(t){return new Zr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,qo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xR(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xR(this.root,t,this.comparator,!1)}getReverseIterator(){return new xR(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xR(this.root,t,this.comparator,!0)}}class xR{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=e?r(t.key,e):1,e&&i&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class qo{constructor(t,e,r,i,c){this.key=t,this.value=e,this.color=r??qo.RED,this.left=i??qo.EMPTY,this.right=c??qo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,c){return new qo(t??this.key,e??this.value,r??this.color,i??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const c=r(t,i.key);return i=c<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===c?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return qo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,qo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,qo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const t=this.left.check();if(t!==this.right.check())throw nn();return t+(this.isRed()?0:1)}}qo.EMPTY=null,qo.RED=!0,qo.BLACK=!1,qo.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(t,e,r,i,c){return this}insert(t,e,r){return new qo(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class $r{constructor(t){this.comparator=t,this.data=new Zr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new J3(this.data.getIterator())}getIteratorFrom(t){return new J3(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof $r)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,c=r.getNext().key;if(0!==this.comparator(i,c))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new $r(this.comparator);return e.data=t,e}}class J3{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _a{constructor(t){this.fields=t,t.sort(Wr.comparator)}static empty(){return new _a([])}unionWith(t){let e=new $r(Wr.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new _a(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return jm(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class ez extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vo{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new ez("Invalid base64 string: "+c):c}}(t);return new vo(e)}static fromUint8Array(t){const e=function(i){let c="";for(let d=0;d<i.length;++d)c+=String.fromCharCode(i[d]);return c}(t);return new vo(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let i=0;i<e.length;i++)r[i]=e.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return On(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vo.EMPTY_BYTE_STRING=new vo("");const rq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rd(n){if(dn(!!n),"string"==typeof n){let t=0;const e=rq.exec(n);if(dn(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Li(n.seconds),nanos:Li(n.nanos)}}function Li(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function id(n){return"string"==typeof n?vo.fromBase64String(n):vo.fromUint8Array(n)}function MR(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function RR(n){const t=n.mapValue.fields.__previous_value__;return MR(t)?RR(t):t}function fC(n){const t=rd(n.mapValue.fields.__local_write_time__.timestampValue);return new Yr(t.seconds,t.nanos)}class iq{constructor(t,e,r,i,c,d,f,m,w){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=w}}class Hm{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Hm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Hm&&t.projectId===this.projectId&&t.database===this.database}}const df={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function hf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?MR(n)?4:iz(n)?9007199254740991:10:nn()}function nu(n,t){if(n===t)return!0;const e=hf(n);if(e!==hf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return fC(n).isEqual(fC(t));case 3:return function(i,c){if("string"==typeof i.timestampValue&&"string"==typeof c.timestampValue&&i.timestampValue.length===c.timestampValue.length)return i.timestampValue===c.timestampValue;const d=rd(i.timestampValue),f=rd(c.timestampValue);return d.seconds===f.seconds&&d.nanos===f.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return c=t,id(n.bytesValue).isEqual(id(c.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,c){return Li(i.geoPointValue.latitude)===Li(c.geoPointValue.latitude)&&Li(i.geoPointValue.longitude)===Li(c.geoPointValue.longitude)}(n,t);case 2:return function(i,c){if("integerValue"in i&&"integerValue"in c)return Li(i.integerValue)===Li(c.integerValue);if("doubleValue"in i&&"doubleValue"in c){const d=Li(i.doubleValue),f=Li(c.doubleValue);return d===f?hC(d)===hC(f):isNaN(d)&&isNaN(f)}return!1}(n,t);case 9:return jm(n.arrayValue.values||[],t.arrayValue.values||[],nu);case 10:return function(i,c){const d=i.mapValue.fields||{},f=c.mapValue.fields||{};if(Q3(d)!==Q3(f))return!1;for(const m in d)if(d.hasOwnProperty(m)&&(void 0===f[m]||!nu(d[m],f[m])))return!1;return!0}(n,t);default:return nn()}var c}function pC(n,t){return void 0!==(n.values||[]).find(e=>nu(e,t))}function ff(n,t){if(n===t)return 0;const e=hf(n),r=hf(t);if(e!==r)return On(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return On(n.booleanValue,t.booleanValue);case 2:return function(c,d){const f=Li(c.integerValue||c.doubleValue),m=Li(d.integerValue||d.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,t);case 3:return tz(n.timestampValue,t.timestampValue);case 4:return tz(fC(n),fC(t));case 5:return On(n.stringValue,t.stringValue);case 6:return function(c,d){const f=id(c),m=id(d);return f.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(c,d){const f=c.split("/"),m=d.split("/");for(let w=0;w<f.length&&w<m.length;w++){const A=On(f[w],m[w]);if(0!==A)return A}return On(f.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(c,d){const f=On(Li(c.latitude),Li(d.latitude));return 0!==f?f:On(Li(c.longitude),Li(d.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(c,d){const f=c.values||[],m=d.values||[];for(let w=0;w<f.length&&w<m.length;++w){const A=ff(f[w],m[w]);if(A)return A}return On(f.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(c,d){if(c===df.mapValue&&d===df.mapValue)return 0;if(c===df.mapValue)return 1;if(d===df.mapValue)return-1;const f=c.fields||{},m=Object.keys(f),w=d.fields||{},A=Object.keys(w);m.sort(),A.sort();for(let R=0;R<m.length&&R<A.length;++R){const B=On(m[R],A[R]);if(0!==B)return B;const q=ff(f[m[R]],w[A[R]]);if(0!==q)return q}return On(m.length,A.length)}(n.mapValue,t.mapValue);default:throw nn()}}function tz(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return On(n,t);const e=rd(n),r=rd(t),i=On(e.seconds,r.seconds);return 0!==i?i:On(e.nanos,r.nanos)}function jy(n){return ZV(n)}function ZV(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=rd(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?id(n.bytesValue).toBase64():"referenceValue"in n?Yt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",i=!0;for(const c of e.values||[])i?i=!1:r+=",",r+=ZV(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let i="{",c=!0;for(const d of r)c?c=!1:i+=",",i+=`${d}:${ZV(e.fields[d])}`;return i+"}"}(n.mapValue):nn()}function zm(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function JV(n){return!!n&&"integerValue"in n}function mC(n){return!!n&&"arrayValue"in n}function nz(n){return!!n&&"nullValue"in n}function rz(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kR(n){return!!n&&"mapValue"in n}function gC(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return uf(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=gC(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=gC(n.arrayValue.values[e]);return t}return Object.assign({},n)}function iz(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Xo{constructor(t){this.value=t}static empty(){return new Xo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!kR(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gC(e)}setAll(t){let e=Wr.emptyPath(),r={},i=[];t.forEach((d,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,r,i),r={},i=[],e=f.popLast()}d?r[f.lastSegment()]=gC(d):i.push(f.lastSegment())});const c=this.getFieldsMap(e);this.applyChanges(c,r,i)}delete(t){const e=this.field(t.popLast());kR(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return nu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];kR(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){uf(e,(i,c)=>t[i]=c);for(const i of r)delete t[i]}clone(){return new Xo(gC(this.value))}}function az(n){const t=[];return uf(n.fields,(e,r)=>{const i=new Wr([e]);if(kR(r)){const c=az(r.mapValue).fields;if(0===c.length)t.push(i);else for(const d of c)t.push(i.child(d))}else t.push(i)}),new _a(t)}class oi{constructor(t,e,r,i,c,d,f){this.key=t,this.documentType=e,this.version=r,this.readTime=i,this.createTime=c,this.data=d,this.documentState=f}static newInvalidDocument(t){return new oi(t,0,pn.min(),pn.min(),pn.min(),Xo.empty(),0)}static newFoundDocument(t,e,r,i){return new oi(t,1,e,pn.min(),r,i,0)}static newNoDocument(t,e){return new oi(t,2,e,pn.min(),pn.min(),Xo.empty(),0)}static newUnknownDocument(t,e){return new oi(t,3,e,pn.min(),pn.min(),Xo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(pn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof oi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new oi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class pf{constructor(t,e){this.position=t,this.inclusive=e}}function cz(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const c=t[i],d=n.position[i];if(r=c.field.isKeyField()?Yt.comparator(Yt.fromName(d.referenceValue),e.key):ff(d,e.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function lz(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!nu(n.position[e],t.position[e]))return!1;return!0}class _C{constructor(t,e="asc"){this.field=t,this.dir=e}}function aq(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class uz{}class rr extends uz{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,r):new cq(t,e,r):"array-contains"===e?new dq(t,r):"in"===e?new gz(t,r):"not-in"===e?new hq(t,r):"array-contains-any"===e?new fq(t,r):new rr(t,e,r)}static createKeyFieldInFilter(t,e,r){return"in"===e?new lq(t,r):new uq(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ff(e,this.value)):null!==e&&hf(this.value)===hf(e)&&this.matchesComparison(ff(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return nn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kr extends uz{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new kr(t,e)}matches(t){return $y(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $y(n){return"and"===n.op}function t2(n){return function dz(n){for(const t of n.filters)if(t instanceof kr)return!1;return!0}(n)&&$y(n)}function n2(n){if(n instanceof rr)return n.field.canonicalString()+n.op.toString()+jy(n.value);if(t2(n))return n.filters.map(t=>n2(t)).join(",");{const t=n.filters.map(e=>n2(e)).join(",");return`${n.op}(${t})`}}function hz(n,t){return n instanceof rr?(r=n,(i=t)instanceof rr&&r.op===i.op&&r.field.isEqual(i.field)&&nu(r.value,i.value)):n instanceof kr?function(r,i){return i instanceof kr&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((c,d,f)=>c&&hz(d,i.filters[f]),!0)}(n,t):void nn();var r,i}function pz(n){return n instanceof rr?`${(e=n).field.canonicalString()} ${e.op} ${jy(e.value)}`:n instanceof kr?function(e){return e.op.toString()+" {"+e.getFilters().map(pz).join(" ,")+"}"}(n):"Filter";var e}class cq extends rr{constructor(t,e,r){super(t,e,r),this.key=Yt.fromName(r.referenceValue)}matches(t){const e=Yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class lq extends rr{constructor(t,e){super(t,"in",e),this.keys=mz(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class uq extends rr{constructor(t,e){super(t,"not-in",e),this.keys=mz(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function mz(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>Yt.fromName(r.referenceValue))}class dq extends rr{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return mC(e)&&pC(e.arrayValue,this.value)}}class gz extends rr{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&pC(this.value.arrayValue,e)}}class hq extends rr{constructor(t,e){super(t,"not-in",e)}matches(t){if(pC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!pC(this.value.arrayValue,e)}}class fq extends rr{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!mC(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>pC(this.value.arrayValue,r))}}class pq{constructor(t,e=null,r=[],i=[],c=null,d=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=c,this.startAt=d,this.endAt=f,this.ue=null}}function r2(n,t=null,e=[],r=[],i=null,c=null,d=null){return new pq(n,t,e,r,i,c,d)}function Gm(n){const t=Xt(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>n2(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(c=r).field.canonicalString()+c.dir;var c}).join(","),dC(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>jy(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>jy(r)).join(",")),t.ue=e}return t.ue}function vC(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!aq(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!hz(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!lz(n.startAt,t.startAt)&&lz(n.endAt,t.endAt)}function NR(n){return Yt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class od{constructor(t,e=null,r=[],i=[],c=null,d="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=c,this.limitType=d,this.startAt=f,this.endAt=m,this.ce=null,this.le=null,this.he=null}}function Hy(n){return new od(n)}function bz(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function o2(n){return null!==n.collectionGroup}function zy(n){const t=Xt(n);if(null===t.ce){t.ce=[];const e=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),e.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let f=new $r(Wr.comparator);return d.filters.forEach(m=>{m.getFlattenedFilters().forEach(w=>{w.isInequality()&&(f=f.add(w.field))})}),f})(t).forEach(c=>{e.has(c.canonicalString())||c.isKeyField()||t.ce.push(new _C(c,r))}),e.has(Wr.keyField().canonicalString())||t.ce.push(new _C(Wr.keyField(),r))}return t.ce}function ms(n){const t=Xt(n);return t.le||(t.le=function wz(n,t){if("F"===n.limitType)return r2(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(i=>new _C(i.field,"desc"===i.dir?"asc":"desc"));const e=n.endAt?new pf(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new pf(n.startAt.position,n.startAt.inclusive):null;return r2(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}(t,zy(n))),t.le}function s2(n,t){const e=n.filters.concat([t]);return new od(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function LR(n,t,e){return new od(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function yC(n,t){return vC(ms(n),ms(t))&&n.limitType===t.limitType}function Iz(n){return`${Gm(ms(n))}|lt:${n.limitType}`}function Gy(n){return`Query(target=${function(e){let r=e.path.canonicalString();return null!==e.collectionGroup&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(i=>pz(i)).join(", ")}]`),dC(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(i=>{return`${(d=i).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(i=>jy(i)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(i=>jy(i)).join(",")),`Target(${r})`}(ms(n))}; limitType=${n.limitType})`}function bC(n,t){return t.isFoundDocument()&&function(r,i){const c=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Yt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(n,t)&&function(r,i){for(const c of zy(r))if(!c.field.isKeyField()&&null===i.data.field(c.field))return!1;return!0}(n,t)&&function(r,i){for(const c of r.filters)if(!c.matches(i))return!1;return!0}(n,t)&&(i=t,!((r=n).startAt&&!function(d,f,m){const w=cz(d,f,m);return d.inclusive?w<=0:w<0}(r.startAt,zy(r),i)||r.endAt&&!function(d,f,m){const w=cz(d,f,m);return d.inclusive?w>=0:w>0}(r.endAt,zy(r),i)));var r,i}function Dz(n){return(t,e)=>{let r=!1;for(const i of zy(n)){const c=mq(i,t,e);if(0!==c)return c;r=r||i.field.isKeyField()}return 0}}function mq(n,t,e){const r=n.field.isKeyField()?Yt.comparator(t.key,e.key):function(c,d,f){const m=d.data.field(c),w=f.data.field(c);return null!==m&&null!==w?ff(m,w):nn()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nn()}}class sd{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,c]of r)if(this.equalsFn(i,t))return c}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0===i)return this.inner[r]=[[t,e]],void this.innerSize++;for(let c=0;c<i.length;c++)if(this.equalsFn(i[c][0],t))return void(i[c]=[t,e]);i.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){uf(this.inner,(e,r)=>{for(const[i,c]of r)t(i,c)})}isEmpty(){return Z3(this.inner)}size(){return this.innerSize}}const gq=new Zr(Yt.comparator);function va(){return gq}const Tz=new Zr(Yt.comparator);function EC(...n){let t=Tz;for(const e of n)t=t.insert(e.key,e);return t}function Az(n){let t=Tz;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function ru(){return wC()}function Sz(){return wC()}function wC(){return new sd(n=>n.toString(),(n,t)=>n.isEqual(t))}const _q=new Zr(Yt.comparator),vq=new $r(Yt.comparator);function Un(...n){let t=vq;for(const e of n)t=t.add(e);return t}const yq=new $r(On);function xz(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hC(t)?"-0":t}}function Mz(n){return{integerValue:""+n}}function Rz(n,t){return function $3(n){return"number"==typeof n&&Number.isInteger(n)&&!hC(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?Mz(t):xz(n,t)}class VR{constructor(){this._=void 0}}function bq(n,t,e){return n instanceof Wy?function(i,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return c&&MR(c)&&(c=RR(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(e,t):n instanceof Wm?Pz(n,t):n instanceof Km?kz(n,t):function(i,c){const d=Oz(i,c),f=Nz(d)+Nz(i.Pe);return JV(d)&&JV(i.Pe)?Mz(f):xz(i.serializer,f)}(n,t)}function Eq(n,t,e){return n instanceof Wm?Pz(n,t):n instanceof Km?kz(n,t):e}function Oz(n,t){return n instanceof Ky?JV(r=t)||(c=r)&&"doubleValue"in c?t:{integerValue:0}:null;var r,c}class Wy extends VR{}class Wm extends VR{constructor(t){super(),this.elements=t}}function Pz(n,t){const e=Fz(t);for(const r of n.elements)e.some(i=>nu(i,r))||e.push(r);return{arrayValue:{values:e}}}class Km extends VR{constructor(t){super(),this.elements=t}}function kz(n,t){let e=Fz(t);for(const r of n.elements)e=e.filter(i=>!nu(i,r));return{arrayValue:{values:e}}}class Ky extends VR{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function Nz(n){return Li(n.integerValue||n.doubleValue)}function Fz(n){return mC(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class IC{constructor(t,e){this.field=t,this.transform=e}}class Iq{constructor(t,e){this.version=t,this.transformResults=e}}class mi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new mi}static exists(t){return new mi(void 0,t)}static updateTime(t){return new mi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function BR(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class UR{}function Lz(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Xy(n.key,mi.none()):new qy(n.key,n.data,mi.none());{const e=n.data,r=Xo.empty();let i=new $r(Wr.comparator);for(let c of t.fields)if(!i.has(c)){let d=e.field(c);null===d&&c.length>1&&(c=c.popLast(),d=e.field(c)),null===d?r.delete(c):r.set(c,d),i=i.add(c)}return new ad(n.key,r,new _a(i.toArray()),mi.none())}}function Cq(n,t,e){n instanceof qy?function(i,c,d){const f=i.value.clone(),m=Uz(i.fieldTransforms,c,d.transformResults);f.setAll(m),c.convertToFoundDocument(d.version,f).setHasCommittedMutations()}(n,t,e):n instanceof ad?function(i,c,d){if(!BR(i.precondition,c))return void c.convertToUnknownDocument(d.version);const f=Uz(i.fieldTransforms,c,d.transformResults),m=c.data;m.setAll(Bz(i)),m.setAll(f),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function CC(n,t,e,r){return n instanceof qy?function(c,d,f,m){if(!BR(c.precondition,d))return f;const w=c.value.clone(),A=jz(c.fieldTransforms,m,d);return w.setAll(A),d.convertToFoundDocument(d.version,w).setHasLocalMutations(),null}(n,t,e,r):n instanceof ad?function(c,d,f,m){if(!BR(c.precondition,d))return f;const w=jz(c.fieldTransforms,m,d),A=d.data;return A.setAll(Bz(c)),A.setAll(w),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),null===f?null:f.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(n,t,e,r):(f=e,BR(n.precondition,d=t)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):f);var d,f}function Dq(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),c=Oz(r.transform,i||null);null!=c&&(null===e&&(e=Xo.empty()),e.set(r.field,c))}return e||null}function Vz(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&jm(r,i,(c,d)=>function wq(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(r=n.transform)instanceof Wm&&i instanceof Wm||r instanceof Km&&i instanceof Km?jm(r.elements,i.elements,nu):r instanceof Ky&&i instanceof Ky?nu(r.Pe,i.Pe):r instanceof Wy&&i instanceof Wy);var r,i}(c,d))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var r,i}class qy extends UR{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ad extends UR{constructor(t,e,r,i,c=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Bz(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function Uz(n,t,e){const r=new Map;dn(n.length===e.length);for(let i=0;i<e.length;i++){const c=n[i],d=c.transform,f=t.data.field(c.field);r.set(c.field,Eq(d,f,e[i]))}return r}function jz(n,t,e){const r=new Map;for(const i of n){const c=i.transform,d=e.data.field(i.field);r.set(i.field,bq(c,d,t))}return r}class Xy extends UR{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c2 extends UR{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class l2{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const c=this.mutations[i];c.key.isEqual(t.key)&&Cq(c,t,r[i])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=CC(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=CC(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=Sz();return this.mutations.forEach(i=>{const c=t.get(i.key),d=c.overlayedDocument;let f=this.applyToLocalView(d,c.mutatedFields);f=e.has(i.key)?null:f;const m=Lz(d,f);null!==m&&r.set(i.key,m),d.isValidDocument()||d.convertToNoDocument(pn.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Un())}isEqual(t){return this.batchId===t.batchId&&jm(this.mutations,t.mutations,(e,r)=>Vz(e,r))&&jm(this.baseMutations,t.baseMutations,(e,r)=>Vz(e,r))}}class u2{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){dn(t.mutations.length===r.length);let i=function(){return _q}();const c=t.mutations;for(let d=0;d<c.length;d++)i=i.insert(c[d].key,r[d].version);return new u2(t,e,r,i)}}class d2{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tq{constructor(t,e){this.count=t,this.unchangedNames=e}}var ao,ur;function Hz(n){switch(n){default:return nn();case ft.CANCELLED:case ft.UNKNOWN:case ft.DEADLINE_EXCEEDED:case ft.RESOURCE_EXHAUSTED:case ft.INTERNAL:case ft.UNAVAILABLE:case ft.UNAUTHENTICATED:return!1;case ft.INVALID_ARGUMENT:case ft.NOT_FOUND:case ft.ALREADY_EXISTS:case ft.PERMISSION_DENIED:case ft.FAILED_PRECONDITION:case ft.ABORTED:case ft.OUT_OF_RANGE:case ft.UNIMPLEMENTED:case ft.DATA_LOSS:return!0}}function zz(n){if(void 0===n)return Ni("GRPC error has no .code"),ft.UNKNOWN;switch(n){case ao.OK:return ft.OK;case ao.CANCELLED:return ft.CANCELLED;case ao.UNKNOWN:return ft.UNKNOWN;case ao.DEADLINE_EXCEEDED:return ft.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return ft.RESOURCE_EXHAUSTED;case ao.INTERNAL:return ft.INTERNAL;case ao.UNAVAILABLE:return ft.UNAVAILABLE;case ao.UNAUTHENTICATED:return ft.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return ft.INVALID_ARGUMENT;case ao.NOT_FOUND:return ft.NOT_FOUND;case ao.ALREADY_EXISTS:return ft.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return ft.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return ft.FAILED_PRECONDITION;case ao.ABORTED:return ft.ABORTED;case ao.OUT_OF_RANGE:return ft.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return ft.UNIMPLEMENTED;case ao.DATA_LOSS:return ft.DATA_LOSS;default:return nn()}}(ur=ao||(ao={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";const Aq=new nd([4294967295,4294967295],0);function Wz(n){const t=function Gz(){return new TextEncoder}().encode(n),e=new ER;return e.update(t),new Uint8Array(e.digest())}function Kz(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new nd([e,r],0),new nd([i,c],0)]}class h2{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new DC(`Invalid padding: ${e}`);if(r<0)throw new DC(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new DC(`Invalid hash count: ${r}`);if(0===t.length&&0!==e)throw new DC(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=nd.fromNumber(this.Ie)}Ee(t,e,r){let i=t.add(e.multiply(nd.fromNumber(r)));return 1===i.compare(Aq)&&(i=new nd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=Wz(t),[r,i]=Kz(e);for(let c=0;c<this.hashCount;c++){const d=this.Ee(r,i,c);if(!this.de(d))return!1}return!0}static create(t,e,r){const i=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new h2(c,i,e);return r.forEach(f=>d.insert(f)),d}insert(t){if(0===this.Ie)return;const e=Wz(t),[r,i]=Kz(e);for(let c=0;c<this.hashCount;c++){const d=this.Ee(r,i,c);this.Ae(d)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class DC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class TC{constructor(t,e,r,i,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const i=new Map;return i.set(t,AC.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new TC(pn.min(),i,new Zr(On),va(),Un())}}class AC{constructor(t,e,r,i,c){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new AC(r,e,Un(),Un(),Un())}}class $R{constructor(t,e,r,i){this.Re=t,this.removedTargetIds=e,this.key=r,this.Ve=i}}class qz{constructor(t,e){this.targetId=t,this.me=e}}class Xz{constructor(t,e,r=vo.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class Qz{constructor(){this.fe=0,this.ge=Zz(),this.pe=vo.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Un(),e=Un(),r=Un();return this.ge.forEach((i,c)=>{switch(c){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:nn()}}),new AC(this.pe,this.ye,t,e,r)}ve(){this.we=!1,this.ge=Zz()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,dn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Sq{constructor(t){this.Le=t,this.Be=new Map,this.ke=va(),this.qe=Yz(),this.Qe=new Zr(On)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const r=this.Ge(e);switch(t.state){case 0:this.ze(e)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),r.De(t.resumeToken));break;default:nn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((r,i)=>{this.ze(i)&&e(i)})}He(t){const e=t.targetId,r=t.me.count,i=this.Je(e);if(i){const c=i.target;if(NR(c))if(0===r){const d=new Yt(c.path);this.Ue(e,d,oi.newNoDocument(d,pn.min()))}else dn(1===r);else{const d=this.Ye(e);if(d!==r){const f=this.Ze(t),m=f?this.Xe(f,t,d):1;0!==m&&(this.je(e),this.Qe=this.Qe.insert(e,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:c=0}=e;let d,f;try{d=id(r).toUint8Array()}catch(m){if(m instanceof ez)return Ps("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new h2(d,i,c)}catch(m){return Ps(m instanceof DC?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return 0===f.Ie?null:f}Xe(t,e,r){return e.me.count===r-this.nt(t,e.targetId)?0:2}nt(t,e){const r=this.Le.getRemoteKeysForTarget(e);let i=0;return r.forEach(c=>{const d=this.Le.tt(),f=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(f)||(this.Ue(e,c,null),i++)}),i}rt(t){const e=new Map;this.Be.forEach((c,d)=>{const f=this.Je(d);if(f){if(c.current&&NR(f.target)){const m=new Yt(f.target.path);null!==this.ke.get(m)||this.it(d,m)||this.Ue(d,m,oi.newNoDocument(m,t))}c.be&&(e.set(d,c.Ce()),c.ve())}});let r=Un();this.qe.forEach((c,d)=>{let f=!0;d.forEachWhile(m=>{const w=this.Je(m);return!w||"TargetPurposeLimboResolution"===w.purpose||(f=!1,!1)}),f&&(r=r.add(c))}),this.ke.forEach((c,d)=>d.setReadTime(t));const i=new TC(t,e,this.Qe,this.ke,r);return this.ke=va(),this.qe=Yz(),this.Qe=new Zr(On),i}$e(t,e){if(!this.ze(t))return;const r=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,r),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,r){if(!this.ze(t))return;const i=this.Ge(t);this.it(t,e)?i.Fe(e,1):i.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),r&&(this.ke=this.ke.insert(e,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new Qz,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new $r(On),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||xt("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Qz),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Yz(){return new Zr(Yt.comparator)}function Zz(){return new Zr(Yt.comparator)}const xq={asc:"ASCENDING",desc:"DESCENDING"},Mq={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rq={and:"AND",or:"OR"};class Oq{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function f2(n,t){return n.useProto3Json||dC(t)?t:{value:t}}function Qy(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jz(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function Pq(n,t){return Qy(n,t.toTimestamp())}function Wi(n){return dn(!!n),pn.fromTimestamp(function(e){const r=rd(e);return new Yr(r.seconds,r.nanos)}(n))}function p2(n,t){return m2(n,t).canonicalString()}function m2(n,t){const e=(i=n,new Xn(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===t?e:e.child(t)}function e5(n){const t=Xn.fromString(n);return dn(d5(t)),t}function SC(n,t){return p2(n.databaseId,t.path)}function iu(n,t){const e=e5(t);if(e.get(1)!==n.databaseId.projectId)throw new Rt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Rt(ft.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Yt(r5(e))}function t5(n,t){return p2(n.databaseId,t)}function g2(n){return new Xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function r5(n){return dn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function i5(n,t,e){return{name:SC(n,t),fields:e.value.mapValue.fields}}function xC(n,t){let e;if(t instanceof qy)e={update:i5(n,t.key,t.value)};else if(t instanceof Xy)e={delete:SC(n,t.key)};else if(t instanceof ad)e={update:i5(n,t.key,t.data),updateMask:jq(t.fieldMask)};else{if(!(t instanceof c2))return nn();e={verify:SC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(c,d){const f=d.transform;if(f instanceof Wy)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Wm)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Km)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ky)return{fieldPath:d.field.canonicalString(),increment:f.Pe};throw nn()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(c=t.precondition).updateTime?{updateTime:Pq(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:nn()),e;var c}function s5(n,t){return{documents:[t5(n,t.path)]}}function HR(n,t){const e={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=t5(n,i);const c=function(w){if(0!==w.length)return u5(kr.create(w,"and"))}(t.filters);c&&(e.structuredQuery.where=c);const d=function(w){if(0!==w.length)return w.map(A=>{return{field:mf((B=A).field),direction:Vq(B.dir)};var B})}(t.orderBy);d&&(e.structuredQuery.orderBy=d);const f=f2(n,t.limit);return null!==f&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt={before:(w=t.startAt).inclusive,values:w.position}),t.endAt&&(e.structuredQuery.endAt=function(w){return{before:!w.inclusive,values:w.position}}(t.endAt)),{_t:e,parent:i};var w}function c5(n){let t=function n5(n){const t=e5(n);return 4===t.length?Xn.emptyPath():r5(t)}(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){dn(1===r);const A=e.from[0];A.allDescendants?i=A.collectionId:t=t.child(A.collectionId)}let c=[];e.where&&(c=function(R){const B=l5(R);return B instanceof kr&&t2(B)?B.getFilters():[B]}(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(B=>{return new _C(Yy((me=B).field),function(fe){switch(fe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(me.direction));var me}));let f=null;e.limit&&(f=function(R){let B;return B="object"==typeof R?R.value:R,dC(B)?null:B}(e.limit));let m=null;var R;e.startAt&&(m=new pf((R=e.startAt).values||[],!!R.before));let w=null;return e.endAt&&(w=function(R){return new pf(R.values||[],!R.before)}(e.endAt)),function yz(n,t,e,r,i,c,d,f){return new od(n,t,e,r,i,c,d,f)}(t,i,d,c,f,"F",m,w)}function l5(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=Yy(e.unaryFilter.field);return rr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Yy(e.unaryFilter.field);return rr.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Yy(e.unaryFilter.field);return rr.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Yy(e.unaryFilter.field);return rr.create(d,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}(n):void 0!==n.fieldFilter?rr.create(Yy((e=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return kr.create(e.compositeFilter.filters.map(r=>l5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nn()}}(e.compositeFilter.op))}(n):nn();var e}function Vq(n){return xq[n]}function Bq(n){return Mq[n]}function Uq(n){return Rq[n]}function mf(n){return{fieldPath:n.canonicalString()}}function Yy(n){return Wr.fromServerFormat(n.fieldPath)}function u5(n){return n instanceof rr?function(e){if("=="===e.op){if(rz(e.value))return{unaryFilter:{field:mf(e.field),op:"IS_NAN"}};if(nz(e.value))return{unaryFilter:{field:mf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(rz(e.value))return{unaryFilter:{field:mf(e.field),op:"IS_NOT_NAN"}};if(nz(e.value))return{unaryFilter:{field:mf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mf(e.field),op:Bq(e.op),value:e.value}}}(n):n instanceof kr?function(e){const r=e.getFilters().map(i=>u5(i));return 1===r.length?r[0]:{compositeFilter:{op:Uq(e.op),filters:r}}}(n):nn()}function jq(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function d5(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class cd{constructor(t,e,r,i,c=pn.min(),d=pn.min(),f=vo.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new cd(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new cd(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new cd(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class h5{constructor(t){this.ct=t}}function v2(n){const t=c5({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?LR(t,t.limit,"L"):t}class Ym{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(Li(t.integerValue));else if("doubleValue"in t){const r=Li(t.doubleValue);isNaN(r)?this.Et(e,13):(this.Et(e,15),hC(r)?e.dt(0):e.dt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Et(e,20),"string"==typeof r&&(r=rd(r)),e.At(`${r.seconds||""}`),e.dt(r.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(id(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.Et(e,45),e.dt(r.latitude||0),e.dt(r.longitude||0)}else"mapValue"in t?iz(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):nn()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const r=t.fields||{};this.Et(e,55);for(const i of Object.keys(r))this.Rt(i,e),this.It(r[i],e)}wt(t,e){const r=t.values||[];this.Et(e,50);for(const i of r)this.It(i,e)}gt(t,e){this.Et(e,37),Yt.fromName(t).path.forEach(r=>{this.Et(e,60),this.St(r,e)})}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}Ym.bt=new Ym;class Xq{constructor(){this._n=new C2}addToCollectionParentIndex(t,e){return this._n.add(e),$.resolve()}getCollectionParents(t,e){return $.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return $.resolve()}deleteFieldIndex(t,e){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,e){return $.resolve()}getDocumentsMatchingTarget(t,e){return $.resolve(null)}getIndexType(t,e){return $.resolve(0)}getFieldIndexes(t,e){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,e){return $.resolve(E.min())}getMinOffsetFromCollectionGroup(t,e){return $.resolve(E.min())}updateCollectionGroup(t,e,r){return $.resolve()}updateIndexEntries(t,e){return $.resolve()}}class C2{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new $r(Xn.comparator),c=!i.has(r);return this.index[e]=i.add(r),c}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new $r(Xn.comparator)).toArray()}}new Uint8Array(0);class gs{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new gs(t,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}gs.DEFAULT_COLLECTION_PERCENTILE=10,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gs.DEFAULT=new gs(41943040,gs.DEFAULT_COLLECTION_PERCENTILE,gs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gs.DISABLED=new gs(-1,0,0);class Jm{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Jm(0)}static Ln(){return new Jm(-1)}}class N5{constructor(){this.changes=new sd(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,oi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?$.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class r7{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class U5{constructor(t,e,r,i){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,e))).next(i=>(null!==r&&CC(r.mutation,i,_a.empty(),Yr.now()),i))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,Un()).next(()=>r))}getLocalViewOfDocuments(t,e,r=Un()){const i=ru();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,r).next(c=>{let d=EC();return c.forEach((f,m)=>{d=d.insert(f,m.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const r=ru();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,Un()))}populateOverlays(t,e,r){const i=[];return r.forEach(c=>{e.has(c)||i.push(c)}),this.documentOverlayCache.getOverlays(t,i).next(c=>{c.forEach((d,f)=>{e.set(d,f)})})}computeViews(t,e,r,i){let c=va();const d=wC(),f=wC();return e.forEach((m,w)=>{const A=r.get(w.key);i.has(w.key)&&(void 0===A||A.mutation instanceof ad)?c=c.insert(w.key,w):void 0!==A?(d.set(w.key,A.mutation.getFieldMask()),CC(A.mutation,w,A.mutation.getFieldMask(),Yr.now())):d.set(w.key,_a.empty())}),this.recalculateAndSaveOverlays(t,c).next(m=>(m.forEach((w,A)=>d.set(w,A)),e.forEach((w,A)=>{var R;return f.set(w,new r7(A,null!==(R=d.get(w))&&void 0!==R?R:null))}),f))}recalculateAndSaveOverlays(t,e){const r=wC();let i=new Zr((d,f)=>d-f),c=Un();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const f of d)f.keys().forEach(m=>{const w=e.get(m);if(null===w)return;let A=r.get(m)||_a.empty();A=f.applyToLocalView(w,A),r.set(m,A);const R=(i.get(f.batchId)||Un()).add(m);i=i.insert(f.batchId,R)})}).next(()=>{const d=[],f=i.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),w=m.key,A=m.value,R=Sz();A.forEach(B=>{if(!c.has(B)){const q=Lz(e.get(B),r.get(B));null!==q&&R.set(B,q),c=c.add(B)}}),d.push(this.documentOverlayCache.saveOverlays(t,w,R))}return $.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,i){return Yt.isDocumentKey((d=e).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):o2(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,i):this.getDocumentsMatchingCollectionQuery(t,e,r,i);var d}getNextDocuments(t,e,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,i).next(c=>{const d=i-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,i-c.size):$.resolve(ru());let f=-1,m=c;return d.next(w=>$.forEach(w,(A,R)=>(f<R.largestBatchId&&(f=R.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next(B=>{m=m.insert(A,B)}))).next(()=>this.populateOverlays(t,w,c)).next(()=>this.computeViews(t,m,w,Un())).next(A=>({batchId:f,changes:Az(A)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Yt(e)).next(r=>{let i=EC();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,e,r,i){const c=e.collectionGroup;let d=EC();return this.indexManager.getCollectionParents(t,c).next(f=>$.forEach(f,m=>{const w=(R=e,B=m.child(c),new od(B,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt));var R,B;return this.getDocumentsMatchingCollectionQuery(t,w,r,i).next(A=>{A.forEach((R,B)=>{d=d.insert(R,B)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,e,r,i){let c;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,c,i))).next(d=>{c.forEach((m,w)=>{const A=w.getKey();null===d.get(A)&&(d=d.insert(A,oi.newInvalidDocument(A)))});let f=EC();return d.forEach((m,w)=>{const A=c.get(m);void 0!==A&&CC(A.mutation,w,_a.empty(),Yr.now()),bC(e,w)&&(f=f.insert(m,w))}),f})}}class i7{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return $.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,{id:(i=e).id,version:i.version,createTime:Wi(i.createTime)}),$.resolve();var i}getNamedQuery(t,e){return $.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,{name:(i=e).name,query:v2(i.bundledQuery),readTime:Wi(i.readTime)}),$.resolve();var i}}class o7{constructor(){this.overlays=new Zr(Yt.comparator),this.hr=new Map}getOverlay(t,e){return $.resolve(this.overlays.get(e))}getOverlays(t,e){const r=ru();return $.forEach(e,i=>this.getOverlay(t,i).next(c=>{null!==c&&r.set(i,c)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((i,c)=>{this.ht(t,e,c)}),$.resolve()}removeOverlaysForBatchId(t,e,r){const i=this.hr.get(r);return void 0!==i&&(i.forEach(c=>this.overlays=this.overlays.remove(c)),this.hr.delete(r)),$.resolve()}getOverlaysForCollection(t,e,r){const i=ru(),c=e.length+1,d=new Yt(e.child("")),f=this.overlays.getIteratorFrom(d);for(;f.hasNext();){const m=f.getNext().value,w=m.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===c&&m.largestBatchId>r&&i.set(m.getKey(),m)}return $.resolve(i)}getOverlaysForCollectionGroup(t,e,r,i){let c=new Zr((w,A)=>w-A);const d=this.overlays.getIterator();for(;d.hasNext();){const w=d.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>r){let A=c.get(w.largestBatchId);null===A&&(A=ru(),c=c.insert(w.largestBatchId,A)),A.set(w.getKey(),w)}}const f=ru(),m=c.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((w,A)=>f.set(w,A)),!(f.size()>=i)););return $.resolve(f)}ht(t,e,r){const i=this.overlays.get(r.key);if(null!==i){const d=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new d2(e,r));let c=this.hr.get(e);void 0===c&&(c=Un(),this.hr.set(e,c)),this.hr.set(e,c.add(r.key))}}class D2{constructor(){this.Pr=new $r(Oo.Ir),this.Tr=new $r(Oo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const r=new Oo(t,e);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Ar(new Oo(t,e))}Rr(t,e){t.forEach(r=>this.removeReference(r,e))}Vr(t){const e=new Yt(new Xn([])),r=new Oo(e,t),i=new Oo(e,t+1),c=[];return this.Tr.forEachInRange([r,i],d=>{this.Ar(d),c.push(d.key)}),c}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new Yt(new Xn([])),r=new Oo(e,t),i=new Oo(e,t+1);let c=Un();return this.Tr.forEachInRange([r,i],d=>{c=c.add(d.key)}),c}containsKey(t){const e=new Oo(t,0),r=this.Pr.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Oo{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return Yt.comparator(t.key,e.key)||On(t.pr,e.pr)}static Er(t,e){return On(t.pr,e.pr)||Yt.comparator(t.key,e.key)}}class s7{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new $r(Oo.Ir)}checkEmpty(t){return $.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,i){const c=this.yr;this.yr++;const d=new l2(c,e,r,i);this.mutationQueue.push(d);for(const f of i)this.wr=this.wr.add(new Oo(f.key,c)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,e){return $.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const i=this.br(e+1),c=i<0?0:i;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Oo(e,0),i=new Oo(e,Number.POSITIVE_INFINITY),c=[];return this.wr.forEachInRange([r,i],d=>{const f=this.Sr(d.pr);c.push(f)}),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new $r(On);return e.forEach(i=>{const c=new Oo(i,0),d=new Oo(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([c,d],f=>{r=r.add(f.pr)})}),$.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let c=r;Yt.isDocumentKey(c)||(c=c.child(""));const d=new Oo(new Yt(c),0);let f=new $r(On);return this.wr.forEachWhile(m=>{const w=m.key.path;return!!r.isPrefixOf(w)&&(w.length===i&&(f=f.add(m.pr)),!0)},d),$.resolve(this.Dr(f))}Dr(t){const e=[];return t.forEach(r=>{const i=this.Sr(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){dn(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return $.forEach(e.mutations,i=>{const c=new Oo(i.key,e.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,e){const r=new Oo(e,0),i=this.wr.firstAfterOrEqual(r);return $.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return $.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class a7{constructor(t){this.vr=t,this.docs=new Zr(Yt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,i=this.docs.get(r),c=i?i.size:0,d=this.vr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return $.resolve(r?r.document.mutableCopy():oi.newInvalidDocument(e))}getEntries(t,e){let r=va();return e.forEach(i=>{const c=this.docs.get(i);r=r.insert(i,c?c.document.mutableCopy():oi.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(t,e,r,i){let c=va();const d=e.path,f=new Yt(d.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:w,value:{document:A}}=m.getNext();if(!d.isPrefixOf(w.path))break;w.path.length>d.length+1||T(new E((n=A).readTime,n.key,-1),r)<=0||(i.has(A.key)||bC(e,A))&&(c=c.insert(A.key,A.mutableCopy()))}var n;return $.resolve(c)}getAllFromCollectionGroup(t,e,r,i){nn()}Fr(t,e){return $.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new c7(this)}getSize(t){return $.resolve(this.size)}}class c7 extends N5{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?e.push(this.ar.addEntry(t,i)):this.ar.removeEntry(r)}),$.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class l7{constructor(t){this.persistence=t,this.Mr=new sd(e=>Gm(e),vC),this.lastRemoteSnapshotVersion=pn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new D2,this.targetCount=0,this.Lr=Jm.Nn()}forEachTarget(t,e){return this.Mr.forEach((r,i)=>e(i)),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Or&&(this.Or=e),$.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new Jm(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,$.resolve()}updateTargetData(t,e){return this.qn(e),$.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,e,r){let i=0;const c=[];return this.Mr.forEach((d,f)=>{f.sequenceNumber<=e&&null===r.get(f.targetId)&&(this.Mr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,f.targetId)),i++)}),$.waitFor(c).next(()=>i)}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,e){const r=this.Mr.get(e)||null;return $.resolve(r)}addMatchingKeys(t,e,r){return this.Nr.dr(e,r),$.resolve()}removeMatchingKeys(t,e,r){this.Nr.Rr(e,r);const i=this.persistence.referenceDelegate,c=[];return i&&e.forEach(d=>{c.push(i.markPotentiallyOrphaned(t,d))}),$.waitFor(c)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),$.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Nr.gr(e);return $.resolve(r)}containsKey(t,e){return $.resolve(this.Nr.containsKey(e))}}class T2{constructor(t,e){this.Br={},this.overlays={},this.kr=new ks(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new l7(this),this.indexManager=new Xq,this.remoteDocumentCache=new a7(r=>this.referenceDelegate.Kr(r)),this.serializer=new h5(e),this.$r=new i7(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new o7,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.Br[t.toKey()];return r||(r=new s7(e,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,r){xt("MemoryPersistence","Starting transaction:",t);const i=new u7(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(c=>this.referenceDelegate.Wr(i).next(()=>c)).toPromise().then(c=>(i.raiseOnCommittedEvent(),c))}Gr(t,e){return $.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,e)))}}class u7 extends F{constructor(t){super(),this.currentSequenceNumber=t}}class YR{constructor(t){this.persistence=t,this.zr=new D2,this.jr=null}static Hr(t){return new YR(t)}get Jr(){if(this.jr)return this.jr;throw nn()}addReference(t,e,r){return this.zr.addReference(r,e),this.Jr.delete(r.toString()),$.resolve()}removeReference(t,e,r){return this.zr.removeReference(r,e),this.Jr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),$.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(c=>this.Jr.add(c.toString()))}).next(()=>r.removeTargetData(t,e))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Jr,r=>{const i=Yt.fromPath(r);return this.Yr(t,i).next(c=>{c||e.removeEntry(i,pn.min())})}).next(()=>(this.jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Yr(t,e).next(r=>{r?this.Jr.delete(e.toString()):this.Jr.add(e.toString())})}Kr(t){return 0}Yr(t,e){return $.or([()=>$.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class M2{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.qi=r,this.Qi=i}static Ki(t,e){let r=Un(),i=Un();for(const c of e.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:i=i.add(c.doc.key)}return new M2(t,e.fromCache,r,i)}}class h7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class $5{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function YS(){return!function mF(){var n;const t=null===(n=tm())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function Pt(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}(pi())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,r,i){const c={result:null};return this.ji(t,e).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Hi(t,e,i,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new h7;return this.Ji(t,e,d).next(f=>{if(c.result=f,this.Ui)return this.Yi(t,e,d,f.size)})}).next(()=>c.result)}Yi(t,e,r,i){return r.documentReadCount<this.Wi?(af()<=qn.DEBUG&&xt("QueryEngine","SDK will not create cache indexes for query:",Gy(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$.resolve()):(af()<=qn.DEBUG&&xt("QueryEngine","Query:",Gy(e),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(af()<=qn.DEBUG&&xt("QueryEngine","The SDK decides to create cache indexes for query:",Gy(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ms(e))):$.resolve())}ji(t,e){if(bz(e))return $.resolve(null);let r=ms(e);return this.indexManager.getIndexType(t,r).next(i=>0===i?null:(null!==e.limit&&1===i&&(e=LR(e,null,"F"),r=ms(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const d=Un(...c);return this.zi.getDocuments(t,d).next(f=>this.indexManager.getMinOffset(t,r).next(m=>{const w=this.Zi(e,f);return this.Xi(e,w,d,m.readTime)?this.ji(t,LR(e,null,"F")):this.es(t,w,e,m)}))})))}Hi(t,e,r,i){return bz(e)||i.isEqual(pn.min())?$.resolve(null):this.zi.getDocuments(t,r).next(c=>{const d=this.Zi(e,c);return this.Xi(e,d,r,i)?$.resolve(null):(af()<=qn.DEBUG&&xt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Gy(e)),this.es(t,d,e,function p(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=pn.fromTimestamp(1e9===r?new Yr(e+1,0):new Yr(e,r));return new E(i,Yt.empty(),t)}(i,-1)).next(f=>f))})}Zi(t,e){let r=new $r(Dz(t));return e.forEach((i,c)=>{bC(t,c)&&(r=r.add(c))}),r}Xi(t,e,r,i){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const c="F"===t.limitType?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(i)>0)}Ji(t,e,r){return af()<=qn.DEBUG&&xt("QueryEngine","Using full collection scan to execute query:",Gy(e)),this.zi.getDocumentsMatchingQuery(t,e,E.min(),r)}es(t,e,r,i){return this.zi.getDocumentsMatchingQuery(t,r,i).next(c=>(e.forEach(d=>{c=c.insert(d.key,d)}),c))}}class f7{constructor(t,e,r,i){this.persistence=t,this.ts=e,this.serializer=i,this.ns=new Zr(On),this.rs=new sd(c=>Gm(c),vC),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new U5(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ns))}}function z5(n,t){return R2.apply(this,arguments)}function R2(){return(R2=(0,M.A)(function*(n,t){const e=Xt(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let i;return e.mutationQueue.getAllMutationBatches(r).next(c=>(i=c,e._s(t),e.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],f=[];let m=Un();for(const w of i){d.push(w.batchId);for(const A of w.mutations)m=m.add(A.key)}for(const w of c){f.push(w.batchId);for(const A of w.mutations)m=m.add(A.key)}return e.localDocuments.getDocuments(r,m).next(w=>({us:w,removedBatchIds:d,addedBatchIds:f}))})})})).apply(this,arguments)}function G5(n){const t=Xt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function g7(n,t){const e=Xt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function rb(n,t,e){return O2.apply(this,arguments)}function O2(){return(O2=(0,M.A)(function*(n,t,e){const r=Xt(n),i=r.ns.get(t),c=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!gn(d))throw d;xt("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)})).apply(this,arguments)}function eO(n,t,e){const r=Xt(n);let i=pn.min(),c=Un();return r.persistence.runTransaction("Execute query","readwrite",d=>function(m,w,A){const R=Xt(m),B=R.rs.get(A);return void 0!==B?$.resolve(R.ns.get(B)):R.Qr.getTargetData(w,A)}(r,d,ms(t)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(d,f.targetId).next(m=>{c=m})}).next(()=>r.ts.getDocumentsMatchingQuery(d,t,e?i:pn.min(),e?c:Un())).next(f=>(function X5(n,t,e){let r=n.ss.get(t)||pn.min();e.forEach((i,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.ss.set(t,r)}(r,function Cz(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),f),{documents:f,hs:c})))}class L2{constructor(){this.activeTargetIds=function a2(){return yq}()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Z5{constructor(){this.no=new L2,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,r){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new L2,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class y7{io(t){}shutdown(){}}class J5{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){xt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){xt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rO=null;function B2(){return null===rO?rO=268435456+Math.round(2147483648*Math.random()):rO++,"0x"+rO.toString(16)}const b7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class E7{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const _s="WebChannelConnection";class w7 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+e.host,this.So=`projects/${i}/databases/${c}`,this.bo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${c}`}get Do(){return!1}Co(e,r,i,c,d){const f=B2(),m=this.vo(e,r.toUriEncodedString());xt("RestConnection",`Sending RPC '${e}' ${f}:`,m,i);const w={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(w,c,d),this.Mo(e,m,w,i).then(A=>(xt("RestConnection",`Received RPC '${e}' ${f}: `,A),A),A=>{throw Ps("RestConnection",`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",i),A})}xo(e,r,i,c,d,f){return this.Co(e,r,i,c,d)}Fo(e,r,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+nl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((c,d)=>e[d]=c),i&&i.headers.forEach((c,d)=>e[d]=c)}vo(e,r){return`${this.wo}/v1/${r}:${b7[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,e,r,i){const c=B2();return new Promise((d,f)=>{const m=new oC;m.setWithCredentials(!0),m.listenOnce(sC.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case aC.NO_ERROR:const A=m.getResponseJson();xt(_s,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case aC.TIMEOUT:xt(_s,`RPC '${t}' ${c} timed out`),f(new Rt(ft.DEADLINE_EXCEEDED,"Request time out"));break;case aC.HTTP_ERROR:const R=m.getStatus();if(xt(_s,`RPC '${t}' ${c} failed with status:`,R,"response text:",m.getResponseText()),R>0){let B=m.getResponseJson();Array.isArray(B)&&(B=B[0]);const q=B?.error;if(q&&q.status&&q.message){const me=function(fe){const dt=fe.toLowerCase().replace(/_/g,"-");return Object.values(ft).indexOf(dt)>=0?dt:ft.UNKNOWN}(q.status);f(new Rt(me,q.message))}else f(new Rt(ft.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Rt(ft.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{xt(_s,`RPC '${t}' ${c} completed.`)}});const w=JSON.stringify(i);xt(_s,`RPC '${t}' ${c} sending request:`,i),m.send(e,"POST",w,r,15)})}Oo(t,e,r){const i=B2(),c=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=lC(),f=By(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},w=this.longPollingOptions.timeoutSeconds;void 0!==w&&(m.longPollingTimeout=Math.round(1e3*w)),this.useFetchStreams&&(m.xmlHttpFactory=new wR({})),this.Fo(m.initMessageHeaders,e,r),m.encodeInitMessageHeaders=!0;const A=c.join("");xt(_s,`Creating RPC '${t}' stream ${i}: ${A}`,m);const R=d.createWebChannel(A,m);let B=!1,q=!1;const me=new E7({lo:fe=>{q?xt(_s,`Not sending because RPC '${t}' stream ${i} is closed:`,fe):(B||(xt(_s,`Opening RPC '${t}' stream ${i} transport.`),R.open(),B=!0),xt(_s,`RPC '${t}' stream ${i} sending:`,fe),R.send(fe))},ho:()=>R.close()}),pe=(fe,dt,_t)=>{fe.listen(dt,bt=>{try{_t(bt)}catch(Ht){setTimeout(()=>{throw Ht},0)}})};return pe(R,rf.EventType.OPEN,()=>{q||(xt(_s,`RPC '${t}' stream ${i} transport opened.`),me.mo())}),pe(R,rf.EventType.CLOSE,()=>{q||(q=!0,xt(_s,`RPC '${t}' stream ${i} transport closed`),me.po())}),pe(R,rf.EventType.ERROR,fe=>{q||(q=!0,Ps(_s,`RPC '${t}' stream ${i} transport errored:`,fe),me.po(new Rt(ft.UNAVAILABLE,"The operation could not be completed")))}),pe(R,rf.EventType.MESSAGE,fe=>{var dt;if(!q){const _t=fe.data[0];dn(!!_t);const Ht=_t.error||(null===(dt=_t[0])||void 0===dt?void 0:dt.error);if(Ht){xt(_s,`RPC '${t}' stream ${i} received error:`,Ht);const _n=Ht.status;let sn=function(we){const je=ao[we];if(void 0!==je)return zz(je)}(_n),Ve=Ht.message;void 0===sn&&(sn=ft.INTERNAL,Ve="Unknown error status: "+_n+" with message "+Ht.message),q=!0,me.po(new Rt(sn,Ve)),R.close()}else xt(_s,`RPC '${t}' stream ${i} received:`,_t),me.yo(_t)}}),pe(f,sf.STAT_EVENT,fe=>{fe.stat===cC.PROXY?xt(_s,`RPC '${t}' stream ${i} detected buffering proxy`):fe.stat===cC.NOPROXY&&xt(_s,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{me.fo()},0),me}}function iO(){return typeof document<"u"?document:null}function LC(n){return new Oq(n,!0)}class U2{constructor(t,e,r=1e3,i=1.5,c=6e4){this.oi=t,this.timerId=e,this.No=r,this.Lo=i,this.Bo=c,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const e=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,e-r);i>0&&xt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class tG{constructor(t,e,r,i,c,d,f,m){this.oi=t,this.Go=r,this.zo=i,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new U2(t,e)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var t=this;return(0,M.A)(function*(){t.Zo()&&(yield t.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){var t=this;return(0,M.A)(function*(){if(t.Xo())return t.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,e){var r=this;return(0,M.A)(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==t?r.Yo.reset():e&&e.code===ft.RESOURCE_EXHAUSTED?(Ni(e.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):e&&e.code===ft.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Ao(e)})()}__(){}auth(){this.state=1;const t=this.a_(this.jo),e=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===e&&this.u_(r,i)},r=>{t(()=>{const i=new Rt(ft.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(t,e){const r=this.a_(this.jo);this.stream=this.l_(t,e),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){var t=this;this.state=5,this.Yo.$o((0,M.A)(function*(){t.state=0,t.start()}))}c_(t){return xt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return e=>{this.oi.enqueueAndForget(()=>this.jo===t?e():(xt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I7 extends tG{constructor(t,e,r,i,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,i,d),this.serializer=c}l_(t,e){return this.connection.Oo("Listen",t,e)}onMessage(t){this.Yo.reset();const e=function Nq(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(w=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:nn(),i=t.targetChange.targetIds||[],c=function(w,A){return w.useProto3Json?(dn(void 0===A||"string"==typeof A),vo.fromBase64String(A||"")):(dn(void 0===A||A instanceof Buffer||A instanceof Uint8Array),vo.fromUint8Array(A||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,f=d&&function(w){const A=void 0===w.code?ft.UNKNOWN:zz(w.code);return new Rt(A,w.message||"")}(d);e=new Xz(r,i,c,f||null)}else if("documentChange"in t){const r=t.documentChange,i=iu(n,r.document.name),c=Wi(r.document.updateTime),d=r.document.createTime?Wi(r.document.createTime):pn.min(),f=new Xo({mapValue:{fields:r.document.fields}}),m=oi.newFoundDocument(i,c,d,f);e=new $R(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const r=t.documentDelete,i=iu(n,r.document),c=r.readTime?Wi(r.readTime):pn.min(),d=oi.newNoDocument(i,c);e=new $R([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const r=t.documentRemove,i=iu(n,r.document);e=new $R([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return nn();{const r=t.filter,{count:i=0,unchangedNames:c}=r,d=new Tq(i,c);e=new qz(r.targetId,d)}}var w;return e}(this.serializer,t),r=function(c){if(!("targetChange"in c))return pn.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?pn.min():d.readTime?Wi(d.readTime):pn.min()}(t);return this.listener.h_(e,r)}P_(t){const e={};e.database=g2(this.serializer),e.addTarget=function(c,d){let f;const m=d.target;if(f=NR(m)?{documents:s5(c,m)}:{query:HR(c,m)._t},f.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){f.resumeToken=Jz(c,d.resumeToken);const w=f2(c,d.expectedCount);null!==w&&(f.expectedCount=w)}else if(d.snapshotVersion.compareTo(pn.min())>0){f.readTime=Qy(c,d.snapshotVersion.toTimestamp());const w=f2(c,d.expectedCount);null!==w&&(f.expectedCount=w)}return f}(this.serializer,t);const r=function Lq(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.i_(e)}I_(t){const e={};e.database=g2(this.serializer),e.removeTarget=t,this.i_(e)}}class C7 extends tG{constructor(t,e,r,i,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,i,d),this.serializer=c,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,e){return this.connection.Oo("Write",t,e)}onMessage(t){if(dn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const e=function Fq(n,t){return n&&n.length>0?(dn(void 0!==t),n.map(e=>function(i,c){let d=Wi(i.updateTime?i.updateTime:c);return d.isEqual(pn.min())&&(d=Wi(c)),new Iq(d,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Wi(t.commitTime);return this.listener.A_(r,e)}return dn(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=g2(this.serializer),this.i_(t)}d_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>xC(this.serializer,r))};this.i_(e)}}class D7 extends class{}{constructor(t,e,r,i){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new Rt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,e,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(t,m2(e,r),i,c,d)).catch(c=>{throw"FirebaseError"===c.name?(c.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Rt(ft.UNKNOWN,c.toString())})}xo(t,e,r,i,c){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,f])=>this.connection.xo(t,m2(e,r),i,d,f,c)).catch(d=>{throw"FirebaseError"===d.name?(d.code===ft.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Rt(ft.UNKNOWN,d.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class T7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ni(e),this.y_=!1):xt("OnlineStateTracker",e)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class A7{constructor(t,e,r,i,c){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=c,this.O_.io(f=>{r.enqueueAndForget((0,M.A)(function*(){var m;yf(d)&&(xt("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,M.A)(function*(A){const R=Xt(A);R.M_.add(4),yield ib(R),R.N_.set("Unknown"),R.M_.delete(4),yield VC(R)}),function w(A){return m.apply(this,arguments)})(d))}))}),this.N_=new T7(r,i)}}function VC(n){return j2.apply(this,arguments)}function j2(){return(j2=(0,M.A)(function*(n){if(yf(n))for(const t of n.x_)yield t(!0)})).apply(this,arguments)}function ib(n){return $2.apply(this,arguments)}function $2(){return($2=(0,M.A)(function*(n){for(const t of n.x_)yield t(!1)})).apply(this,arguments)}function oO(n,t){const e=Xt(n);e.F_.has(t.targetId)||(e.F_.set(t.targetId,t),G2(e)?z2(e):ab(e).Xo()&&H2(e,t))}function ob(n,t){const e=Xt(n),r=ab(e);e.F_.delete(t),r.Xo()&&nG(e,t),0===e.F_.size&&(r.Xo()?r.n_():yf(e)&&e.N_.set("Unknown"))}function H2(n,t){if(n.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ab(n).P_(t)}function nG(n,t){n.L_.xe(t),ab(n).I_(t)}function z2(n){n.L_=new Sq({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.F_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),ab(n).start(),n.N_.w_()}function G2(n){return yf(n)&&!ab(n).Zo()&&n.F_.size>0}function yf(n){return 0===Xt(n).M_.size}function rG(n){n.L_=void 0}function S7(n){return W2.apply(this,arguments)}function W2(){return(W2=(0,M.A)(function*(n){n.N_.set("Online")})).apply(this,arguments)}function x7(n){return K2.apply(this,arguments)}function K2(){return(K2=(0,M.A)(function*(n){n.F_.forEach((t,e)=>{H2(n,t)})})).apply(this,arguments)}function M7(n,t){return q2.apply(this,arguments)}function q2(){return(q2=(0,M.A)(function*(n,t){rG(n),G2(n)?(n.N_.D_(t),z2(n)):n.N_.set("Unknown")})).apply(this,arguments)}function R7(n,t,e){return X2.apply(this,arguments)}function X2(){return X2=(0,M.A)(function*(n,t,e){if(n.N_.set("Online"),t instanceof Xz&&2===t.state&&t.cause)try{yield(r=(0,M.A)(function*(c,d){const f=d.cause;for(const m of d.targetIds)c.F_.has(m)&&(yield c.remoteSyncer.rejectListen(m,f),c.F_.delete(m),c.L_.removeTarget(m))}),function i(c,d){return r.apply(this,arguments)})(n,t)}catch(r){xt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield sO(n,r)}else if(t instanceof $R?n.L_.Ke(t):t instanceof qz?n.L_.He(t):n.L_.We(t),!e.isEqual(pn.min()))try{const r=yield G5(n.localStore);e.compareTo(r)>=0&&(yield function(c,d){const f=c.L_.rt(d);return f.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const A=c.F_.get(w);A&&c.F_.set(w,A.withResumeToken(m.resumeToken,d))}}),f.targetMismatches.forEach((m,w)=>{const A=c.F_.get(m);if(!A)return;c.F_.set(m,A.withResumeToken(vo.EMPTY_BYTE_STRING,A.snapshotVersion)),nG(c,m);const R=new cd(A.target,m,w,A.sequenceNumber);H2(c,R)}),c.remoteSyncer.applyRemoteEvent(f)}(n,e))}catch(r){xt("RemoteStore","Failed to raise snapshot:",r),yield sO(n,r)}var r}),X2.apply(this,arguments)}function sO(n,t,e){return Q2.apply(this,arguments)}function Q2(){return(Q2=(0,M.A)(function*(n,t,e){if(!gn(t))throw t;n.M_.add(1),yield ib(n),n.N_.set("Offline"),e||(e=()=>G5(n.localStore)),n.asyncQueue.enqueueRetryable((0,M.A)(function*(){xt("RemoteStore","Retrying IndexedDB access"),yield e(),n.M_.delete(1),yield VC(n)}))})).apply(this,arguments)}function iG(n,t){return t().catch(e=>sO(n,e,t))}function sb(n){return Y2.apply(this,arguments)}function Y2(){return(Y2=(0,M.A)(function*(n){const t=Xt(n),e=bf(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;O7(t);)try{const i=yield g7(t.localStore,r);if(null===i){0===t.v_.length&&e.n_();break}r=i.batchId,P7(t,i)}catch(i){yield sO(t,i)}oG(t)&&sG(t)})).apply(this,arguments)}function O7(n){return yf(n)&&n.v_.length<10}function P7(n,t){n.v_.push(t);const e=bf(n);e.Xo()&&e.E_&&e.d_(t.mutations)}function oG(n){return yf(n)&&!bf(n).Zo()&&n.v_.length>0}function sG(n){bf(n).start()}function k7(n){return Z2.apply(this,arguments)}function Z2(){return(Z2=(0,M.A)(function*(n){bf(n).V_()})).apply(this,arguments)}function N7(n){return J2.apply(this,arguments)}function J2(){return(J2=(0,M.A)(function*(n){const t=bf(n);for(const e of n.v_)t.d_(e.mutations)})).apply(this,arguments)}function F7(n,t,e){return eB.apply(this,arguments)}function eB(){return(eB=(0,M.A)(function*(n,t,e){const r=n.v_.shift(),i=u2.from(r,t,e);yield iG(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield sb(n)})).apply(this,arguments)}function L7(n,t){return tB.apply(this,arguments)}function tB(){return tB=(0,M.A)(function*(n,t){var e;t&&bf(n).E_&&(yield(e=(0,M.A)(function*(i,c){if(Hz(f=c.code)&&f!==ft.ABORTED){const d=i.v_.shift();bf(i).t_(),yield iG(i,()=>i.remoteSyncer.rejectFailedWrite(d.batchId,c)),yield sb(i)}var f}),function r(i,c){return e.apply(this,arguments)})(n,t)),oG(n)&&sG(n)}),tB.apply(this,arguments)}function aG(n,t){return nB.apply(this,arguments)}function nB(){return(nB=(0,M.A)(function*(n,t){const e=Xt(n);e.asyncQueue.verifyOperationInProgress(),xt("RemoteStore","RemoteStore received new credentials");const r=yf(e);e.M_.add(3),yield ib(e),r&&e.N_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.M_.delete(3),yield VC(e)})).apply(this,arguments)}function rB(n,t){return iB.apply(this,arguments)}function iB(){return(iB=(0,M.A)(function*(n,t){const e=Xt(n);t?(e.M_.delete(2),yield VC(e)):t||(e.M_.add(2),yield ib(e),e.N_.set("Unknown"))})).apply(this,arguments)}function ab(n){return n.B_||(n.B_=function(e,r,i){const c=Xt(e);return c.f_(),new I7(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{Po:S7.bind(null,n),To:x7.bind(null,n),Ao:M7.bind(null,n),h_:R7.bind(null,n)}),n.x_.push(function(){var t=(0,M.A)(function*(e){e?(n.B_.t_(),G2(n)?z2(n):n.N_.set("Unknown")):(yield n.B_.stop(),rG(n))});return function(e){return t.apply(this,arguments)}}())),n.B_}function bf(n){return n.k_||(n.k_=function(e,r,i){const c=Xt(e);return c.f_(),new C7(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,i)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:k7.bind(null,n),Ao:L7.bind(null,n),R_:N7.bind(null,n),A_:F7.bind(null,n)}),n.x_.push(function(){var t=(0,M.A)(function*(e){e?(n.k_.t_(),yield sb(n)):(yield n.k_.stop(),n.v_.length>0&&(xt("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(e){return t.apply(this,arguments)}}())),n.k_}class oB{constructor(t,e,r,i,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=c,this.deferred=new so,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,i,c){const d=Date.now()+r,f=new oB(t,e,d,i,c);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Rt(ft.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cb(n,t){if(Ni("AsyncQueue",`${t}: ${n}`),gn(n))return new Rt(ft.UNAVAILABLE,`${t}: ${n}`);throw n}class lb{constructor(t){this.comparator=t?(e,r)=>t(e,r)||Yt.comparator(e.key,r.key):(e,r)=>Yt.comparator(e.key,r.key),this.keyedMap=EC(),this.sortedSet=new Zr(this.comparator)}static emptySet(t){return new lb(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof lb)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,c=r.getNext().key;if(!i.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new lb;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class cG{constructor(){this.q_=new Zr(Yt.comparator)}track(t){const e=t.doc.key,r=this.q_.get(e);r?0!==t.type&&3===r.type?this.q_=this.q_.insert(e,t):3===t.type&&1!==r.type?this.q_=this.q_.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.q_=this.q_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.q_=this.q_.remove(e):1===t.type&&2===r.type?this.q_=this.q_.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):nn():this.q_=this.q_.insert(e,t)}Q_(){const t=[];return this.q_.inorderTraversal((e,r)=>{t.push(r)}),t}}class ub{constructor(t,e,r,i,c,d,f,m,w){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=w}static fromInitialDocuments(t,e,r,i,c){const d=[];return e.forEach(f=>{d.push({type:0,doc:f})}),new ub(t,e,lb.emptySet(e),d,r,i,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yC(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class V7{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class B7{constructor(){this.queries=new sd(t=>Iz(t),yC),this.onlineState="Unknown",this.z_=new Set}}function sB(n,t){return aB.apply(this,arguments)}function aB(){return(aB=(0,M.A)(function*(n,t){const e=Xt(n);let r=3;const i=t.query;let c=e.queries.get(i);c?!c.W_()&&t.G_()&&(r=2):(c=new V7,r=t.G_()?0:1);try{switch(r){case 0:c.K_=yield e.onListen(i,!0);break;case 1:c.K_=yield e.onListen(i,!1);break;case 2:yield e.onFirstRemoteStoreListen(i)}}catch(d){const f=cb(d,`Initialization of query '${Gy(t.query)}' failed`);return void t.onError(f)}e.queries.set(i,c),c.U_.push(t),t.j_(e.onlineState),c.K_&&t.H_(c.K_)&&uB(e)})).apply(this,arguments)}function cB(n,t){return lB.apply(this,arguments)}function lB(){return(lB=(0,M.A)(function*(n,t){const e=Xt(n),r=t.query;let i=3;const c=e.queries.get(r);if(c){const d=c.U_.indexOf(t);d>=0&&(c.U_.splice(d,1),0===c.U_.length?i=t.G_()?0:1:!c.W_()&&t.G_()&&(i=2))}switch(i){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function U7(n,t){const e=Xt(n);let r=!1;for(const i of t){const d=e.queries.get(i.query);if(d){for(const f of d.U_)f.H_(i)&&(r=!0);d.K_=i}}r&&uB(e)}function j7(n,t,e){const r=Xt(n),i=r.queries.get(t);if(i)for(const c of i.U_)c.onError(e);r.queries.delete(t)}function uB(n){n.z_.forEach(t=>{t.next()})}var dB,lG;(lG=dB||(dB={})).J_="default",lG.Cache="cache";class hB{constructor(t,e,r){this.query=t,this.Y_=e,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new ub(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),e=!0):this.ta(t,this.onlineState)&&(this.na(t),e=!0),this.X_=t,e}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let e=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),e=!0),e}ta(t,e){return!t.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ea(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(t){t=ub.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==dB.Cache}}class hG{constructor(t){this.key=t}}class fG{constructor(t){this.key=t}}class pG{constructor(t,e){this.query=t,this.la=e,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Un(),this.mutatedKeys=Un(),this.Ia=Dz(t),this.Ta=new lb(this.Ia)}get Ea(){return this.la}da(t,e){const r=e?e.Aa:new cG,i=e?e.Ta:this.Ta;let c=e?e.mutatedKeys:this.mutatedKeys,d=i,f=!1;const m="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,w="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((A,R)=>{const B=i.get(A),q=bC(this.query,R)?R:null,me=!!B&&this.mutatedKeys.has(B.key),pe=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let fe=!1;B&&q?B.data.isEqual(q.data)?me!==pe&&(r.track({type:3,doc:q}),fe=!0):this.Ra(B,q)||(r.track({type:2,doc:q}),fe=!0,(m&&this.Ia(q,m)>0||w&&this.Ia(q,w)<0)&&(f=!0)):!B&&q?(r.track({type:0,doc:q}),fe=!0):B&&!q&&(r.track({type:1,doc:B}),fe=!0,(m||w)&&(f=!0)),fe&&(q?(d=d.add(q),c=pe?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{Ta:d,Aa:r,Xi:f,mutatedKeys:c}}Ra(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,i){const c=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const d=t.Aa.Q_();d.sort((A,R)=>function(q,me){const pe=fe=>{switch(fe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return pe(q)-pe(me)}(A.type,R.type)||this.Ia(A.doc,R.doc)),this.Va(r),i=null!=i&&i;const f=e&&!i?this.ma():[],m=0===this.Pa.size&&this.current&&!i?1:0,w=m!==this.ha;return this.ha=m,0!==d.length||w?{snapshot:new ub(this.query,t.Ta,c,d,t.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:f}:{fa:f}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new cG,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(e=>this.la=this.la.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.la=this.la.delete(e)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Un(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const e=[];return t.forEach(r=>{this.Pa.has(r)||e.push(new fG(r))}),this.Pa.forEach(r=>{t.has(r)||e.push(new hG(r))}),e}pa(t){this.la=t.hs,this.Pa=Un();const e=this.da(t.documents);return this.applyChanges(e,!0)}ya(){return ub.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class z7{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class G7{constructor(t){this.key=t,this.wa=!1}}class W7{constructor(t,e,r,i,c,d){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Sa={},this.ba=new sd(f=>Iz(f),yC),this.Da=new Map,this.Ca=new Set,this.va=new Zr(Yt.comparator),this.Fa=new Map,this.Ma=new D2,this.xa={},this.Oa=new Map,this.Na=Jm.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function K7(n,t){return fB.apply(this,arguments)}function fB(){return(fB=(0,M.A)(function*(n,t,e=!0){const r=aO(n);let i;const c=r.ba.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),i=c.view.ya()):i=yield mG(r,t,e,!0),i})).apply(this,arguments)}function q7(n,t){return pB.apply(this,arguments)}function pB(){return(pB=(0,M.A)(function*(n,t){const e=aO(n);yield mG(e,t,!0,!1)})).apply(this,arguments)}function mG(n,t,e,r){return mB.apply(this,arguments)}function mB(){return(mB=(0,M.A)(function*(n,t,e,r){const i=yield function nb(n,t){const e=Xt(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.Qr.getTargetData(r,t).next(c=>c?(i=c,$.resolve(i)):e.Qr.allocateTargetId(r).next(d=>(i=new cd(t,d,"TargetPurposeListen",r.currentSequenceNumber),e.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.ns.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.ns=e.ns.insert(r.targetId,r),e.rs.set(t,r.targetId)),r})}(n.localStore,ms(t)),c=i.targetId,d=e?n.sharedClientState.addLocalQueryTarget(c):"not-current";let f;return r&&(f=yield function gB(n,t,e,r,i){return _B.apply(this,arguments)}(n,t,c,"current"===d,i.resumeToken)),n.isPrimaryClient&&e&&oO(n.remoteStore,i),f})).apply(this,arguments)}function _B(){return _B=(0,M.A)(function*(n,t,e,r,i){n.Ba=(R,B,q)=>{return(me=(0,M.A)(function*(fe,dt,_t,bt){let Ht=dt.view.da(_t);Ht.Xi&&(Ht=yield eO(fe.localStore,dt.query,!1).then(({documents:ue})=>dt.view.da(ue,Ht)));const _n=bt&&bt.targetChanges.get(dt.targetId),sn=bt&&null!=bt.targetMismatches.get(dt.targetId),Ve=dt.view.applyChanges(Ht,fe.isPrimaryClient,_n,sn);return SB(fe,dt.targetId,Ve.fa),Ve.snapshot}),function pe(fe,dt,_t,bt){return me.apply(this,arguments)})(n,R,B,q);var me};const c=yield eO(n.localStore,t,!0),d=new pG(t,c.hs),f=d.da(c.documents),m=AC.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState,i),w=d.applyChanges(f,n.isPrimaryClient,m);SB(n,e,w.fa);const A=new z7(t,e,d);return n.ba.set(t,A),n.Da.has(e)?n.Da.get(e).push(t):n.Da.set(e,[t]),w.snapshot}),_B.apply(this,arguments)}function X7(n,t,e){return vB.apply(this,arguments)}function vB(){return(vB=(0,M.A)(function*(n,t,e){const r=Xt(n),i=r.ba.get(t),c=r.Da.get(i.targetId);if(c.length>1)return r.Da.set(i.targetId,c.filter(d=>!yC(d,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield rb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),e&&ob(r.remoteStore,i.targetId),db(r,i.targetId)}).catch(W))):(db(r,i.targetId),yield rb(r.localStore,i.targetId,!0))})).apply(this,arguments)}function Q7(n,t){return yB.apply(this,arguments)}function yB(){return(yB=(0,M.A)(function*(n,t){const e=Xt(n),r=e.ba.get(t),i=e.Da.get(r.targetId);e.isPrimaryClient&&1===i.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),ob(e.remoteStore,r.targetId))})).apply(this,arguments)}function bB(){return(bB=(0,M.A)(function*(n,t,e){const r=function BB(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=J7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=eX.bind(null,t),t}(n);try{const i=yield function(d,f){const m=Xt(d),w=Yr.now(),A=f.reduce((q,me)=>q.add(me.key),Un());let R,B;return m.persistence.runTransaction("Locally write mutations","readwrite",q=>{let me=va(),pe=Un();return m.os.getEntries(q,A).next(fe=>{me=fe,me.forEach((dt,_t)=>{_t.isValidDocument()||(pe=pe.add(dt))})}).next(()=>m.localDocuments.getOverlayedDocuments(q,me)).next(fe=>{R=fe;const dt=[];for(const _t of f){const bt=Dq(_t,R.get(_t.key).overlayedDocument);null!=bt&&dt.push(new ad(_t.key,bt,az(bt.value.mapValue),mi.exists(!0)))}return m.mutationQueue.addMutationBatch(q,w,dt,f)}).next(fe=>{B=fe;const dt=fe.applyToLocalDocumentSet(R,pe);return m.documentOverlayCache.saveOverlays(q,fe.batchId,dt)})}).then(()=>({batchId:B.batchId,changes:Az(R)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(d,f,m){let w=d.xa[d.currentUser.toKey()];w||(w=new Zr(On)),w=w.insert(f,m),d.xa[d.currentUser.toKey()]=w}(r,i.batchId,e),yield ld(r,i.changes),yield sb(r.remoteStore)}catch(i){const c=cb(i,"Failed to persist write");e.reject(c)}})).apply(this,arguments)}function gG(n,t){return EB.apply(this,arguments)}function EB(){return(EB=(0,M.A)(function*(n,t){const e=Xt(n);try{const r=yield function m7(n,t){const e=Xt(n),r=t.snapshotVersion;let i=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=e.os.newChangeBuffer({trackRemovals:!0});i=e.ns;const f=[];t.targetChanges.forEach((A,R)=>{const B=i.get(R);if(!B)return;f.push(e.Qr.removeMatchingKeys(c,A.removedDocuments,R).next(()=>e.Qr.addMatchingKeys(c,A.addedDocuments,R)));let q=B.withSequenceNumber(c.currentSequenceNumber);var pe,fe,dt;null!==t.targetMismatches.get(R)?q=q.withResumeToken(vo.EMPTY_BYTE_STRING,pn.min()).withLastLimboFreeSnapshotVersion(pn.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,r)),i=i.insert(R,q),fe=q,dt=A,(0===(pe=B).resumeToken.approximateByteSize()||fe.snapshotVersion.toMicroseconds()-pe.snapshotVersion.toMicroseconds()>=3e8||dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0)&&f.push(e.Qr.updateTargetData(c,q))});let m=va(),w=Un();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(c,A))}),f.push(function W5(n,t,e){let r=Un(),i=Un();return e.forEach(c=>r=r.add(c)),t.getEntries(n,r).next(c=>{let d=va();return e.forEach((f,m)=>{const w=c.get(f);m.isFoundDocument()!==w.isFoundDocument()&&(i=i.add(f)),m.isNoDocument()&&m.version.isEqual(pn.min())?(t.removeEntry(f,m.readTime),d=d.insert(f,m)):!w.isValidDocument()||m.version.compareTo(w.version)>0||0===m.version.compareTo(w.version)&&w.hasPendingWrites?(t.addEntry(m),d=d.insert(f,m)):xt("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",m.version)}),{cs:d,ls:i}})}(c,d,t.documentUpdates).next(A=>{m=A.cs,w=A.ls})),!r.isEqual(pn.min())){const A=e.Qr.getLastRemoteSnapshotVersion(c).next(R=>e.Qr.setTargetsMetadata(c,c.currentSequenceNumber,r));f.push(A)}return $.waitFor(f).next(()=>d.apply(c)).next(()=>e.localDocuments.getLocalViewOfDocuments(c,m,w)).next(()=>m)}).then(c=>(e.ns=i,c))}(e.localStore,t);t.targetChanges.forEach((i,c)=>{const d=e.Fa.get(c);d&&(dn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.wa=!0:i.modifiedDocuments.size>0?dn(d.wa):i.removedDocuments.size>0&&(dn(d.wa),d.wa=!1))}),yield ld(e,r,t)}catch(r){yield W(r)}})).apply(this,arguments)}function _G(n,t,e){const r=Xt(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.ba.forEach((c,d)=>{const f=d.view.j_(t);f.snapshot&&i.push(f.snapshot)}),function(d,f){const m=Xt(d);m.onlineState=f;let w=!1;m.queries.forEach((A,R)=>{for(const B of R.U_)B.j_(f)&&(w=!0)}),w&&uB(m)}(r.eventManager,t),i.length&&r.Sa.h_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Z7(n,t,e){return wB.apply(this,arguments)}function wB(){return(wB=(0,M.A)(function*(n,t,e){const r=Xt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.Fa.get(t),c=i&&i.key;if(c){let d=new Zr(Yt.comparator);d=d.insert(c,oi.newNoDocument(c,pn.min()));const f=Un().add(c),m=new TC(pn.min(),new Map,new Zr(On),d,f);yield gG(r,m),r.va=r.va.remove(c),r.Fa.delete(t),xB(r)}else yield rb(r.localStore,t,!1).then(()=>db(r,t,e)).catch(W)})).apply(this,arguments)}function J7(n,t){return IB.apply(this,arguments)}function IB(){return(IB=(0,M.A)(function*(n,t){const e=Xt(n),r=t.batch.batchId;try{const i=yield function p7(n,t){const e=Xt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),c=e.os.newChangeBuffer({trackRemovals:!0});return function(f,m,w,A){const R=w.batch,B=R.keys();let q=$.resolve();return B.forEach(me=>{q=q.next(()=>A.getEntry(m,me)).next(pe=>{const fe=w.docVersions.get(me);dn(null!==fe),pe.version.compareTo(fe)<0&&(R.applyToRemoteDocument(pe,w),pe.isValidDocument()&&(pe.setReadTime(w.commitVersion),A.addEntry(pe)))})}),q.next(()=>f.mutationQueue.removeMutationBatch(m,R))}(e,r,t,c).next(()=>c.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let m=Un();for(let w=0;w<f.mutationResults.length;++w)f.mutationResults[w].transformResults.length>0&&(m=m.add(f.batch.mutations[w].key));return m}(t))).next(()=>e.localDocuments.getDocuments(r,i))})}(e.localStore,t);AB(e,r,null),TB(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield ld(e,i)}catch(i){yield W(i)}})).apply(this,arguments)}function eX(n,t,e){return CB.apply(this,arguments)}function CB(){return(CB=(0,M.A)(function*(n,t,e){const r=Xt(n);try{const i=yield function(d,f){const m=Xt(d);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let A;return m.mutationQueue.lookupMutationBatch(w,f).next(R=>(dn(null!==R),A=R.keys(),m.mutationQueue.removeMutationBatch(w,R))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,A,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,A)).next(()=>m.localDocuments.getDocuments(w,A))})}(r.localStore,t);AB(r,t,e),TB(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield ld(r,i)}catch(i){yield W(i)}})).apply(this,arguments)}function DB(){return(DB=(0,M.A)(function*(n,t){const e=Xt(n);yf(e.remoteStore)||xt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(d){const f=Xt(d);return f.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>f.mutationQueue.getHighestUnacknowledgedBatchId(m))}(e.localStore);if(-1===r)return void t.resolve();const i=e.Oa.get(r)||[];i.push(t),e.Oa.set(r,i)}catch(r){const i=cb(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}})).apply(this,arguments)}function TB(n,t){(n.Oa.get(t)||[]).forEach(e=>{e.resolve()}),n.Oa.delete(t)}function AB(n,t,e){const r=Xt(n);let i=r.xa[r.currentUser.toKey()];if(i){const c=i.get(t);c&&(e?c.reject(e):c.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function db(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Da.get(t))n.ba.delete(r),e&&n.Sa.ka(r,e);n.Da.delete(t),n.isPrimaryClient&&n.Ma.Vr(t).forEach(r=>{n.Ma.containsKey(r)||vG(n,r)})}function vG(n,t){n.Ca.delete(t.path.canonicalString());const e=n.va.get(t);null!==e&&(ob(n.remoteStore,e),n.va=n.va.remove(t),n.Fa.delete(e),xB(n))}function SB(n,t,e){for(const r of e)r instanceof hG?(n.Ma.addReference(r.key,t),nX(n,r)):r instanceof fG?(xt("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,t),n.Ma.containsKey(r.key)||vG(n,r.key)):nn()}function nX(n,t){const e=t.key,r=e.path.canonicalString();n.va.get(e)||n.Ca.has(r)||(xt("SyncEngine","New document in limbo: "+e),n.Ca.add(r),xB(n))}function xB(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const t=n.Ca.values().next().value;n.Ca.delete(t);const e=new Yt(Xn.fromString(t)),r=n.Na.next();n.Fa.set(r,new G7(e)),n.va=n.va.insert(e,r),oO(n.remoteStore,new cd(ms(Hy(e.path)),r,"TargetPurposeLimboResolution",ks.oe))}}function ld(n,t,e){return MB.apply(this,arguments)}function MB(){return MB=(0,M.A)(function*(n,t,e){const r=Xt(n),i=[],c=[],d=[];var f;r.ba.isEmpty()||(r.ba.forEach((f,m)=>{d.push(r.Ba(m,t,e).then(w=>{var A;if((w||e)&&r.isPrimaryClient){const R=w?!w.fromCache:null===(A=e?.targetChanges.get(m.targetId))||void 0===A?void 0:A.current;r.sharedClientState.updateQueryState(m.targetId,R?"current":"not-current")}if(w){i.push(w);const R=M2.Ki(m.targetId,w);c.push(R)}}))}),yield Promise.all(d),r.Sa.h_(i),yield(f=(0,M.A)(function*(w,A){const R=Xt(w);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",B=>$.forEach(A,q=>$.forEach(q.qi,me=>R.persistence.referenceDelegate.addReference(B,q.targetId,me)).next(()=>$.forEach(q.Qi,me=>R.persistence.referenceDelegate.removeReference(B,q.targetId,me)))))}catch(B){if(!gn(B))throw B;xt("LocalStore","Failed to update sequence numbers: "+B)}for(const B of A){const q=B.targetId;if(!B.fromCache){const me=R.ns.get(q),fe=me.withLastLimboFreeSnapshotVersion(me.snapshotVersion);R.ns=R.ns.insert(q,fe)}}}),function m(w,A){return f.apply(this,arguments)})(r.localStore,c))}),MB.apply(this,arguments)}function rX(n,t){return RB.apply(this,arguments)}function RB(){return(RB=(0,M.A)(function*(n,t){const e=Xt(n);if(!e.currentUser.isEqual(t)){xt("SyncEngine","User change. New user:",t.toKey());const r=yield z5(e.localStore,t);e.currentUser=t,(c=e).Oa.forEach(f=>{f.forEach(m=>{m.reject(new Rt(ft.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Oa.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield ld(e,r.us)}var c})).apply(this,arguments)}function iX(n,t){const e=Xt(n),r=e.Fa.get(t);if(r&&r.wa)return Un().add(r.key);{let i=Un();const c=e.Da.get(t);if(!c)return i;for(const d of c){const f=e.ba.get(d);i=i.unionWith(f.view.Ea)}return i}}function aO(n){const t=Xt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=gG.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iX.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Z7.bind(null,t),t.Sa.h_=U7.bind(null,t.eventManager),t.Sa.ka=j7.bind(null,t.eventManager),t}class hb{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,M.A)(function*(){e.serializer=LC(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function H5(n,t,e,r){return new f7(n,t,e,r)}(this.persistence,new $5,t.initialUser,this.serializer)}createPersistence(t){return new T2(YR.Hr,this.serializer)}createSharedClientState(t){return new Z5}terminate(){var t=this;return(0,M.A)(function*(){var e,r;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(r=t.indexBackfillerScheduler)||void 0===r||r.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class fb{initialize(t,e){var r=this;return(0,M.A)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>_G(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=rX.bind(null,r.syncEngine),yield rB(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new B7}createDatastore(t){const e=LC(t.databaseInfo.databaseId),r=new w7(t.databaseInfo);return new D7(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return r=this.localStore,i=this.datastore,c=t.asyncQueue,d=e=>_G(this.syncEngine,e,0),f=J5.D()?new J5:new y7,new A7(r,i,c,d,f);var r,i,c,d,f}createSyncEngine(t,e){return function(i,c,d,f,m,w,A){const R=new W7(i,c,d,f,m,w);return A&&(R.La=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,M.A)(function*(){var e,r;yield(r=(0,M.A)(function*(c){const d=Xt(c);xt("RemoteStore","RemoteStore shutting down."),d.M_.add(5),yield ib(d),d.O_.shutdown(),d.N_.set("Unknown")}),function i(c){return r.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate()})()}}class cO{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Ni("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class mX{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,M.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Rt(ft.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const r=yield(i=(0,M.A)(function*(d,f){const m=Xt(d),w={documents:f.map(q=>SC(m.serializer,q))},A=yield m.xo("BatchGetDocuments",m.serializer.databaseId,Xn.emptyPath(),w,f.length),R=new Map;A.forEach(q=>{const me=function kq(n,t){return"found"in t?function(r,i){dn(!!i.found);const c=iu(r,i.found.name),d=Wi(i.found.updateTime),f=i.found.createTime?Wi(i.found.createTime):pn.min(),m=new Xo({mapValue:{fields:i.found.fields}});return oi.newFoundDocument(c,d,f,m)}(n,t):"missing"in t?function(r,i){dn(!!i.missing),dn(!!i.readTime);const c=iu(r,i.missing),d=Wi(i.readTime);return oi.newNoDocument(c,d)}(n,t):nn()}(m.serializer,q);R.set(me.key.toString(),me)});const B=[];return f.forEach(q=>{const me=R.get(q.toString());dn(!!me),B.push(me)}),B}),function c(d,f){return i.apply(this,arguments)})(e.datastore,t);var i;return r.forEach(i=>e.recordVersion(i)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new Xy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,M.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,i)=>{const c=Yt.fromPath(i);t.mutations.push(new c2(c,t.precondition(c)))}),yield(r=(0,M.A)(function*(c,d){const f=Xt(c),m={writes:d.map(w=>xC(f.serializer,w))};yield f.Co("Commit",f.serializer.databaseId,Xn.emptyPath(),m)}),function i(c,d){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw nn();e=pn.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Rt(ft.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(pn.min())?mi.exists(!1):mi.updateTime(e):mi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(pn.min()))throw new Rt(ft.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return mi.updateTime(e)}return mi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class gX{constructor(t,e,r,i,c){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=i,this.deferred=c,this.Za=r.maxAttempts,this.Yo=new U2(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var t=this;this.Yo.$o((0,M.A)(function*(){const e=new mX(t.datastore),r=t.tu(e);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(i)}).catch(c=>{t.nu(c)}))}).catch(i=>{t.nu(i)})}))}tu(t){try{const e=this.updateFunction(t);return!dC(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Hz(e)}return!1}}class _X{constructor(t,e,r,i){var c=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=i,this.user=oo.UNAUTHENTICATED,this.clientId=XV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,M.A)(function*(f){xt("FirestoreClient","Received user=",f.uid),yield c.authCredentialListener(f),c.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(xt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Rt(ft.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new so;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,M.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const i=cb(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function lO(n,t){return jB.apply(this,arguments)}function jB(){return jB=(0,M.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),xt("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,M.A)(function*(c){r.isEqual(c)||(yield z5(t.localStore,c),r=c)});return function(c){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),jB.apply(this,arguments)}function $B(n,t){return HB.apply(this,arguments)}function HB(){return(HB=(0,M.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function zB(n){return GB.apply(this,arguments)}(n);xt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>aG(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>aG(t.remoteStore,i)),n._onlineComponents=t})).apply(this,arguments)}function GB(){return(GB=(0,M.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){xt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lO(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function IG(n){return"FirebaseError"===n.name?n.code===ft.FAILED_PRECONDITION||n.code===ft.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;Ps("Error using user provided cache. Falling back to memory cache: "+e),yield lO(n,new hb)}}else xt("FirestoreClient","Using default OfflineComponentProvider"),yield lO(n,new hb);return n._offlineComponents})).apply(this,arguments)}function uO(n){return WB.apply(this,arguments)}function WB(){return(WB=(0,M.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(xt("FirestoreClient","Using user provided OnlineComponentProvider"),yield $B(n,n._uninitializedComponentsProvider._online)):(xt("FirestoreClient","Using default OnlineComponentProvider"),yield $B(n,new fb))),n._onlineComponents})).apply(this,arguments)}function KB(n){return uO(n).then(t=>t.syncEngine)}function mb(n){return qB.apply(this,arguments)}function qB(){return(qB=(0,M.A)(function*(n){const t=yield uO(n),e=t.eventManager;return e.onListen=K7.bind(null,t.syncEngine),e.onUnlisten=X7.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=q7.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Q7.bind(null,t.syncEngine),e})).apply(this,arguments)}function xG(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const MG=new Map;function XB(n,t,e){if(!e)throw new Rt(ft.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function RG(n){if(!Yt.isDocumentKey(n))throw new Rt(ft.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OG(n){if(Yt.isDocumentKey(n))throw new Rt(ft.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dO(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(r=n).constructor?r.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var r;return"function"==typeof n?"a function":nn()}function Qn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Rt(ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=dO(n);throw new Rt(ft.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class kG{constructor(t){var e,r;if(void 0===t.host){if(void 0!==t.ssl)throw new Rt(ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Rt(ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function xX(n,t,e,r){if(!0===t&&!0===r)throw new Rt(ft.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xG(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Rt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Rt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Rt(ft.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class BC{constructor(t,e,r,i){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Rt(ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Rt(ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kG(t),void 0!==t.credentials&&(this._authCredentials=function(r){if(!r)return new WV;switch(r.type){case"firstParty":return new V3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Rt(ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=MG.get(e);r&&(xt("ComponentProvider","Removing Datastore"),MG.delete(e),r.terminate())}(this),Promise.resolve()}}class Qo{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Qo(this.firestore,t,this._query)}}class Ki{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ou(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ki(this.firestore,t,this._key)}}class ou extends Qo{constructor(t,e,r){super(t,e,Hy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ki(this.firestore,null,new Yt(t))}withConverter(t){return new ou(this.firestore,t,this._path)}}class OX{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new U2(this,"async_queue_retry"),this.hu=()=>{const e=iO();e&&xt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const t=iO();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const e=iO();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const e=new so;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){var t=this;return(0,M.A)(function*(){if(0!==t.su.length){try{yield t.su[0](),t.su.shift(),t.Yo.reset()}catch(e){if(!gn(e))throw e;xt("AsyncQueue","Operation failed with retryable error: "+e)}t.su.length>0&&t.Yo.$o(()=>t.Tu())}})()}Iu(t){const e=this.iu.then(()=>(this.uu=!0,t().catch(r=>{throw this.au=r,this.uu=!1,Ni("INTERNAL UNHANDLED ERROR: ",function(d){let f=d.message||"";return d.stack&&(f=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),f}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=e,e}enqueueAfterDelay(t,e,r){this.Pu(),this.lu.indexOf(t)>-1&&(e=0);const i=oB.createAndSchedule(this,t,e,r,c=>this.Eu(c));return this._u.push(i),i}Pu(){this.au&&nn()}verifyOperationInProgress(){}du(){var t=this;return(0,M.A)(function*(){let e;do{e=t.iu,yield e}while(e!==t.iu)})()}Au(t){for(const e of this._u)if(e.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this._u)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const e=this._u.indexOf(t);this._u.splice(e,1)}}function QB(n){return function(e,r){if("object"!=typeof e||null===e)return!1;const i=e;for(const c of["next","error","complete"])if(c in i&&"function"==typeof i[c])return!0;return!1}(n)}class Hr extends BC{constructor(t,e,r,i){super(t,e,r,i),this.type="firestore",this._queue=new OX,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LG(this),this._firestoreClient.terminate()}}function kX(n,t){const r="string"==typeof n?n:t||"(default)",i=Fh("object"==typeof n?n:Sw(),"firestore").getImmediate({identifier:r});if(!i._initialized){const c=(n=>{const t=_w("firestore");if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),r]:[t.substring(0,e),r]})();c&&function MX(n,t,e,r={}){var i;const c=(n=Qn(n,BC))._getSettings(),d=`${t}:${e}`;if("firestore.googleapis.com"!==c.host&&c.host!==d&&Ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),r.mockUserToken){let f,m;if("string"==typeof r.mockUserToken)f=r.mockUserToken,m=oo.MOCK_USER;else{f=function vw(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",i=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Jp(JSON.stringify({alg:"none",type:"JWT"})),Jp(JSON.stringify(d)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Rt(ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new oo(w)}n._authCredentials=new KV(new CR(f,m))}}(i,...c)}return i}function Ai(n){return n._firestoreClient||LG(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function LG(n){var t,e,r;const i=n._freezeSettings(),c=(m=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new iq(n._databaseId,m,n._persistenceKey,(A=i).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,xG(A.experimentalLongPollingOptions),A.useFetchStreams));var m,A;n._firestoreClient=new _X(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(e=i.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function YB(n){return function(e){const r=new so;return e.asyncQueue.enqueueAndForget((0,M.A)(function*(){return function tX(n,t){return DB.apply(this,arguments)}(yield KB(e),r)})),r.promise}(Ai(n=Qn(n,Hr)))}class tg{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tg(vo.fromBase64String(t))}catch(e){throw new Rt(ft.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new tg(vo.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ng{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Rt(ft.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class rg{constructor(t){this._methodName=t}}class ZB{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Rt(ft.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Rt(ft.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return On(this._lat,t._lat)||On(this._long,t._long)}}const LX=/^__.*__$/;class VX{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new ad(t,this.data,this.fieldMask,e,this.fieldTransforms):new qy(t,this.data,e,this.fieldTransforms)}}class UG{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new ad(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function jG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class hO{constructor(t,e,r,i,c,d){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===c&&this.mu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new hO(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.gu({path:r,yu:!1});return i.wu(t),i}Su(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return mO(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(jG(this.fu)&&LX.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class BX{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||LC(t)}Fu(t,e,r,i=!1){return new hO({fu:t,methodName:e,vu:r,path:Wr.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ig(n){const t=n._freezeSettings(),e=LC(n._databaseId);return new BX(n._databaseId,!!t.ignoreUndefinedProperties,e)}function fO(n,t,e,r,i,c={}){const d=n.Fu(c.merge||c.mergeFields?2:0,t,e,i);oU("Data must be an object, but it was:",d,r);const f=zG(r,d);let m,w;if(c.merge)m=new _a(d.fieldMask),w=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const R of c.mergeFields){const B=$C(t,R,e);if(!d.contains(B))throw new Rt(ft.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);WG(A,B)||A.push(B)}m=new _a(A),w=d.fieldTransforms.filter(R=>m.covers(R.field))}else m=null,w=d.fieldTransforms;return new VX(new Xo(f),m,w)}class jC extends rg{_toFieldTransform(t){if(2!==t.fu)throw t.Du(1===t.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jC}}class JB extends rg{_toFieldTransform(t){return new IC(t.path,new Wy)}isEqual(t){return t instanceof JB}}function rU(n,t,e,r){const i=n.Fu(1,t,e);oU("Data must be an object, but it was:",i,r);const c=[],d=Xo.empty();uf(r,(m,w)=>{const A=pO(t,m,e);w=io(w);const R=i.Su(A);if(w instanceof jC)c.push(A);else{const B=og(w,R);null!=B&&(c.push(A),d.set(A,B))}});const f=new _a(c);return new UG(d,f,i.fieldTransforms)}function iU(n,t,e,r,i,c){const d=n.Fu(1,t,e),f=[$C(t,r,e)],m=[i];if(c.length%2!=0)throw new Rt(ft.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<c.length;B+=2)f.push($C(t,c[B])),m.push(c[B+1]);const w=[],A=Xo.empty();for(let B=f.length-1;B>=0;--B)if(!WG(w,f[B])){const q=f[B];let me=m[B];me=io(me);const pe=d.Su(q);if(me instanceof jC)w.push(q);else{const fe=og(me,pe);null!=fe&&(w.push(q),A.set(q,fe))}}const R=new _a(w);return new UG(A,R,d.fieldTransforms)}function og(n,t){if(GG(n=io(n)))return oU("Unsupported field value:",t,n),zG(n,t);if(n instanceof rg)return function(r,i){if(!jG(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(i);c&&i.fieldTransforms.push(c)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(r,i){const c=[];let d=0;for(const f of r){let m=og(f,i.bu(d));null==m&&(m={nullValue:"NULL_VALUE"}),c.push(m),d++}return{arrayValue:{values:c}}}(n,t)}return function(r,i){if(null===(r=io(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Rz(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=Yr.fromDate(r);return{timestampValue:Qy(i.serializer,c)}}if(r instanceof Yr){const c=new Yr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qy(i.serializer,c)}}if(r instanceof ZB)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof tg)return{bytesValue:Jz(i.serializer,r._byteString)};if(r instanceof Ki){const c=i.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw i.Du(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:p2(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${dO(r)}`)}(n,t)}function zG(n,t){const e={};return Z3(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):uf(n,(r,i)=>{const c=og(i,t.pu(r));null!=c&&(e[r]=c)}),{mapValue:{fields:e}}}function GG(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Yr||n instanceof ZB||n instanceof tg||n instanceof Ki||n instanceof rg)}function oU(n,t,e){if(!GG(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=dO(e);throw t.Du("an object"===r?n+" a custom object":n+" "+r)}var i}function $C(n,t,e){if((t=io(t))instanceof ng)return t._internalPath;if("string"==typeof t)return pO(n,t);throw mO("Field path arguments must be of type string or ",n,!1,void 0,e)}const UX=new RegExp("[~\\*/\\[\\]]");function pO(n,t,e){if(t.search(UX)>=0)throw mO(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ng(...t.split("."))._internalPath}catch{throw mO(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function mO(n,t,e,r,i){const c=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(c||d)&&(m+=" (found",c&&(m+=` in field ${r}`),d&&(m+=` in document ${i}`),m+=")"),new Rt(ft.INVALID_ARGUMENT,f+n+m)}function WG(n,t){return n.some(e=>e.isEqual(t))}class HC{constructor(t,e,r,i,c){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ki(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new jX(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(gO("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class jX extends HC{data(){return super.data()}}function gO(n,t){return"string"==typeof t?pO(n,t):t instanceof ng?t._internalPath:t._delegate._internalPath}function KG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Rt(ft.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sU{}class zC extends sU{}function gb(n,t,...e){let r=[];t instanceof sU&&r.push(t),r=r.concat(e),function(c){const d=c.filter(m=>m instanceof _b).length,f=c.filter(m=>m instanceof GC).length;if(d>1||d>0&&f>0)throw new Rt(ft.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class GC extends zC{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new GC(t,e,r)}_apply(t){const e=this._parse(t);return YG(t._query,e),new Qo(t.firestore,t.converter,s2(t._query,e))}_parse(t){const e=ig(t.firestore);return function(c,d,f,m,w,A,R){let B;if(w.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Rt(ft.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){QG(R,A);const q=[];for(const me of R)q.push(XG(m,c,me));B={arrayValue:{values:q}}}else B=XG(m,c,R)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||QG(R,A),B=function HG(n,t,e,r=!1){return og(e,n.Fu(r?4:3,t))}(f,"where",R,"in"===A||"not-in"===A);return rr.create(w,A,B)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function _O(n,t,e){const r=t,i=gO("where",n);return GC._create(i,r,e)}class _b extends sU{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new _b(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return 1===e.length?e[0]:kr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,c){let d=i;const f=c.getFlattenedFilters();for(const m of f)YG(d,m),d=s2(d,m)}(t._query,e),new Qo(t.firestore,t.converter,s2(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class aU extends zC{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new aU(t,e)}_apply(t){const e=function(i,c,d){if(null!==i.startAt)throw new Rt(ft.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Rt(ft.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _C(c,d)}(t._query,this._field,this._direction);return new Qo(t.firestore,t.converter,function(i,c){const d=i.explicitOrderBy.concat([c]);return new od(i.path,i.collectionGroup,d,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}function vO(n,t="asc"){const e=t,r=gO("orderBy",n);return aU._create(r,e)}class yO extends zC{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new yO(t,e,r)}_apply(t){return new Qo(t.firestore,t.converter,LR(t._query,this._limit,this._limitType))}}function bO(n){return function PG(n,t){if(t<=0)throw new Rt(ft.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}("limit",n),yO._create("limit",n,"F")}function XG(n,t,e){if("string"==typeof(e=io(e))){if(""===e)throw new Rt(ft.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o2(t)&&-1!==e.indexOf("/"))throw new Rt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(Xn.fromString(e));if(!Yt.isDocumentKey(r))throw new Rt(ft.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zm(n,new Yt(r))}if(e instanceof Ki)return zm(n,e._key);throw new Rt(ft.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dO(e)}.`)}function QG(n,t){if(!Array.isArray(n)||0===n.length)throw new Rt(ft.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function YG(n,t){const e=function(i,c){for(const d of i)for(const f of d.getFlattenedFilters())if(c.indexOf(f.op)>=0)return f.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Rt(ft.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class JG{convertValue(t,e="none"){switch(hf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Li(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(id(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw nn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return uf(t,(i,c)=>{r[i]=this.convertValue(c,e)}),r}convertGeoPoint(t){return new ZB(Li(t.latitude),Li(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=RR(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(fC(t));default:return null}}convertTimestamp(t){const e=rd(t);return new Yr(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=Xn.fromString(t);dn(d5(r));const i=new Hm(r.get(1),r.get(3)),c=new Yt(r.popFirst(5));return i.isEqual(e)||Ni(`Document ${c} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),c}}function IO(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class $X extends JG{constructor(t){super(),this.firestore=t}convertBytes(t){return new tg(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ki(this.firestore,null,e)}}class sg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class vb extends HC{constructor(t,e,r,i,c,d){super(t,e,r,i,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new CO(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(gO("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class CO extends vb{data(t={}){return super.data(t)}}class yb{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new sg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new CO(this._firestore,this._userDataWriter,r.key,r,new sg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Rt(ft.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,c){if(i._snapshot.oldDocs.isEmpty()){let d=0;return i._snapshot.docChanges.map(f=>({type:"added",doc:new CO(i._firestore,i._userDataWriter,f.doc.key,f.doc,new sg(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:d++}))}{let d=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(f=>c||3!==f.type).map(f=>{const m=new CO(i._firestore,i._userDataWriter,f.doc.key,f.doc,new sg(i._snapshot.mutatedKeys.has(f.doc.key),i._snapshot.fromCache),i.query.converter);let w=-1,A=-1;return 0!==f.type&&(w=d.indexOf(f.doc.key),d=d.delete(f.doc.key)),1!==f.type&&(d=d.add(f.doc),A=d.indexOf(f.doc.key)),{type:zX(f.type),doc:m,oldIndex:w,newIndex:A}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function zX(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}class Ef extends JG{constructor(t){super(),this.firestore=t}convertBytes(t){return new tg(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ki(this.firestore,null,e)}}function cU(n){n=Qn(n,Qo);const t=Qn(n.firestore,Hr),e=Ai(t),r=new Ef(t);return KG(n._query),function SG(n,t,e={}){const r=new so;return n.asyncQueue.enqueueAndForget((0,M.A)(function*(){return function(c,d,f,m,w){const A=new cO({next:B=>{d.enqueueAndForget(()=>cB(c,R)),B.fromCache&&"server"===m.source?w.reject(new Rt(ft.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(B)},error:B=>w.reject(B)}),R=new hB(f,A,{includeMetadataChanges:!0,ra:!0});return sB(c,R)}(yield mb(n),n.asyncQueue,t,e,r)})),r.promise}(e,n._query).then(i=>new yb(t,r,n,i))}const eQ={maxAttempts:5};class tQ{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ig(t)}set(t,e,r){this._verifyNotCommitted();const i=wf(t,this._firestore),c=IO(i.converter,e,r),d=fO(this._dataReader,"WriteBatch.set",i._key,c,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,mi.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const c=wf(t,this._firestore);let d;return d="string"==typeof(e=io(e))||e instanceof ng?iU(this._dataReader,"WriteBatch.update",c._key,e,r,i):rU(this._dataReader,"WriteBatch.update",c._key,e),this._mutations.push(d.toMutation(c._key,mi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=wf(t,this._firestore);return this._mutations=this._mutations.concat(new Xy(e._key,mi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(ft.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wf(n,t){if((n=io(n)).firestore!==t)throw new Rt(ft.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class nQ extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=ig(e)}get(e){const r=wf(e,this._firestore),i=new $X(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return nn();const d=c[0];if(d.isFoundDocument())return new HC(this._firestore,i,d.key,d,r.converter);if(d.isNoDocument())return new HC(this._firestore,i,r._key,null,r.converter);throw nn()})}set(e,r,i){const c=wf(e,this._firestore),d=IO(c.converter,r,i),f=fO(this._dataReader,"Transaction.set",c._key,d,null!==c.converter,i);return this._transaction.set(c._key,f),this}update(e,r,i,...c){const d=wf(e,this._firestore);let f;return f="string"==typeof(r=io(r))||r instanceof ng?iU(this._dataReader,"Transaction.update",d._key,r,i,c):rU(this._dataReader,"Transaction.update",d._key,r),this._transaction.update(d._key,f),this}delete(e){const r=wf(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=wf(t,this._firestore),r=new Ef(this._firestore);return super.get(t).then(i=>new vb(this._firestore,r,e._key,i._document,new sg(!1,!1),e.converter))}}function e6(n,t,e){n=Qn(n,Hr);const r=Object.assign(Object.assign({},eQ),e);return function(c){if(c.maxAttempts<1)throw new Rt(ft.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(c,d,f){const m=new so;return c.asyncQueue.enqueueAndForget((0,M.A)(function*(){const w=yield function TG(n){return uO(n).then(t=>t.datastore)}(c);new gX(c.asyncQueue,w,f,d,m).Xa()})),m.promise}(Ai(n),i=>t(new nQ(n,i)),r)}!function(t,e=!0){nl=Xl,Nh(new Oh("firestore",(r,{instanceIdentifier:i,options:c})=>{const d=r.getProvider("app").getImmediate(),f=new Hr(new F3(r.getProvider("auth-internal")),new B3(r.getProvider("app-check-internal")),function(w,A){if(!Object.prototype.hasOwnProperty.apply(w.options,["projectId"]))throw new Rt(ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hm(w.options.projectId,A)}(d,i),d);return c=Object.assign({useFetchStreams:e},c),f._setSettings(c),f},"PUBLIC").setMultipleInstances(!0)),Ba(IR,"4.6.4",t),Ba(IR,"4.6.4","esm2017")}();var sQ=P(6719),za=P(7176),Si=P(8663),Ns=P(6434),dU=P(203);Promise.resolve(!1);var cQ=Promise.resolve(!0),ud=Promise.resolve();function ag(n,t){return n||(n=0),new Promise(function(e){return setTimeout(function(){return e(t)},n)})}function KC(){return Math.random().toString(36).substring(2)}var hU=0;function qC(){var n=1e3*Date.now();return n<=hU&&(n=hU+1),hU=n,n}var pQ="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)?function hQ(n){process.on("exit",function(){return n()}),process.on("beforeExit",function(){return n().then(function(){return process.exit()})}),process.on("SIGINT",function(){return n().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return n().then(function(){console.trace(t),process.exit(101)})})}:function dQ(n){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return n(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){n()},!0),window.addEventListener("unload",function(){n()},!0)}},cg=new Set,i6=!1;function _Q(){var n=[];return cg.forEach(function(t){n.push(t()),cg.delete(t)}),Promise.all(n)}function lg(n,t){return n.broadcastChannel.postInternal({context:"leader",action:t,token:n.token})}function o6(n){n.isLeader=!0,n._hasLeader=!0;var t=function gQ(n){if(function mQ(){i6||(i6=!0,pQ(_Q))}(),"function"!=typeof n)throw new Error("Listener is no function");return cg.add(n),{remove:function(){return cg.delete(n)},run:function(){return cg.delete(n),n()}}}(function(){return n.die()});n._unl.push(t);var e=function(i){"leader"===i.context&&"apply"===i.action&&lg(n,"tell"),"leader"===i.context&&"tell"===i.action&&!n._dpLC&&(n._dpLC=!0,n._dpL(),lg(n,"tell"))};return n.broadcastChannel.addEventListener("internal",e),n._lstns.push(e),lg(n,"tell")}var s6=function(t,e){var r=this;this.broadcastChannel=t,t._befC.push(function(){return r.die()}),this._options=e,this.isLeader=!1,this.isDead=!1,this.token=KC(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};s6.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(e){var r=e.held?e.held.filter(function(i){return i.name===t.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var e=new Promise(function(r,i){t._wKMC.res=r,t._wKMC.rej=i});this._wLMP=new Promise(function(r){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,o6(t),r(),e}).catch(function(){})})}return this._wLMP},set onduplicate(n){},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),lg(this,"death")}};var a6=function(t,e){var r=this;this.broadcastChannel=t,this._options=e,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=KC(),this._aplQ=ud,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var i=function(d){"leader"===d.context&&("death"===d.action&&(r._hasLeader=!1),"tell"===d.action&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",i),this._lstns.push(i)};a6.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var e=this;return this.isLeader?ag(0,!0):this.isDead?ag(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return function(){if(e.isLeader)return cQ;var d,c=!1,f=new Promise(function(A){d=function(){c=!0,A()}}),m=function(R){"leader"===R.context&&R.token!=e.token&&("apply"===R.action&&R.token>e.token&&d(),"tell"===R.action&&(d(),e._hasLeader=!0))};e.broadcastChannel.addEventListener("internal",m);var w=t?4*e._options.responseTime:e._options.responseTime;return lg(e,"apply").then(function(){return Promise.race([ag(w),f.then(function(){return Promise.reject(new Error)})])}).then(function(){return lg(e,"apply")}).then(function(){return Promise.race([ag(w),f.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return e.broadcastChannel.removeEventListener("internal",m),!c&&o6(e).then(function(){return!0})})}()}).then(function(){e._aplQC=e._aplQC-1}),this._aplQ.then(function(){return e.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function vQ(n){return n.isLeader?ud:new Promise(function(t){var e=!1;function r(){e||(e=!0,n.broadcastChannel.removeEventListener("internal",c),t(!0))}n.applyOnce().then(function(){n.isLeader&&r()}),function d(){return ag(n._options.fallbackInterval).then(function(){if(!n.isDead&&!e){if(!n.isLeader)return n.applyOnce(!0).then(function(){n.isLeader?r():d()});r()}})}();var c=function(f){"leader"===f.context&&"death"===f.action&&(n._hasLeader=!1,n.applyOnce().then(function(){n.isLeader&&r()}))};n.broadcastChannel.addEventListener("internal",c),n._lstns.push(c)})}(this)),this._aLP},set onduplicate(n){this._dpL=n},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,lg(this,"death")}};const{isArray:EQ}=Array;var PQ={create:function AQ(n){var t={time:qC(),messagesCallback:null,bc:new BroadcastChannel(n),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function SQ(n){n.bc.close(),n.subFns=[]},onMessage:function MQ(n,t){n.messagesCallback=t},postMessage:function xQ(n,t){try{return n.bc.postMessage(t,!1),ud}catch(e){return Promise.reject(e)}},canBeUsed:function RQ(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&"function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function OQ(){return 150},microSeconds:qC},c6=P(9556);function fU(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(n));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),n.idb&&"function"==typeof n.idb.onclose&&(t.idb.onclose=n.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),n.methods&&(t.methods=n.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var rl="messages",XC={durability:"relaxed"};function l6(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function TO(n){n.commit&&n.commit()}function u6(n){n.closed||d6(n).then(function(){return ag(n.options.idb.fallbackInterval)}).then(function(){return u6(n)})}function d6(n){return n.closed||!n.messagesCallback?ud:function BQ(n,t){var e=n.transaction(rl,"readonly",XC),r=e.objectStore(rl),i=[],c=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var d=r.getAll(c);return new Promise(function(m,w){d.onerror=function(A){return w(A)},d.onsuccess=function(A){m(A.target.result)}})}return new Promise(function(m,w){var A=function f(){try{return c=IDBKeyRange.bound(t+1,1/0),r.openCursor(c)}catch{return r.openCursor()}}();A.onerror=function(R){return w(R)},A.onsuccess=function(R){var B=R.target.result;B?B.value.id<t+1?B.continue(t+1):(i.push(B.value),B.continue()):(TO(e),m(i))}})}(n.db,n.lastCursorId).then(function(t){var e=t.filter(function(r){return!!r}).map(function(r){return r.id>n.lastCursorId&&(n.lastCursorId=r.id),r}).filter(function(r){return function zQ(n,t){return!(n.uuid===t.uuid||t.eMIs.has(n.id)||n.data.time<t.messagesCallbackTime)}(r,n)}).sort(function(r,i){return r.time-i.time});return e.forEach(function(r){n.messagesCallback&&(n.eMIs.add(r.id),n.messagesCallback(r.data))}),ud})}var QQ={create:function HQ(n,t){return t=fU(t),function LQ(n){var r=l6().open("pubkey.broadcast-channel-0-"+n);return r.onupgradeneeded=function(i){i.target.result.createObjectStore(rl,{keyPath:"id",autoIncrement:!0})},new Promise(function(i,c){r.onerror=function(d){return c(d)},r.onsuccess=function(){i(r.result)}})}(n).then(function(e){var r={closed:!1,lastCursorId:0,channelName:n,options:t,uuid:KC(),eMIs:new c6.p4(2*t.idb.ttl),writeBlockPromise:ud,messagesCallback:null,readQueuePromises:[],db:e};return e.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},u6(r),r})},close:function GQ(n){n.closed=!0,n.db.close()},onMessage:function KQ(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t,d6(n)},postMessage:function WQ(n,t){return n.writeBlockPromise=n.writeBlockPromise.then(function(){return function VQ(n,t,e){var i={uuid:t,time:Date.now(),data:e},c=n.transaction([rl],"readwrite",XC);return new Promise(function(d,f){c.oncomplete=function(){return d()},c.onerror=function(w){return f(w)},c.objectStore(rl).add(i),TO(c)})}(n.db,n.uuid,t)}).then(function(){0===function lQ(n,t){return Math.floor(Math.random()*(t-n+1)+n)}(0,10)&&function $Q(n){return function jQ(n,t){var e=Date.now()-t,r=n.transaction(rl,"readonly",XC),i=r.objectStore(rl),c=[];return new Promise(function(d){i.openCursor().onsuccess=function(f){var m=f.target.result;if(m){var w=m.value;w.time<e?(c.push(w),m.continue()):(TO(r),d(c))}else d(c)}})}(n.db,n.options.idb.ttl).then(function(t){return function UQ(n,t){if(n.closed)return Promise.resolve([]);var r=n.db.transaction(rl,"readwrite",XC).objectStore(rl);return Promise.all(t.map(function(i){var c=r.delete(i);return new Promise(function(d){c.onsuccess=function(){return d()}})}))}(n,t.map(function(e){return e.id}))})}(n)}),n.writeBlockPromise},canBeUsed:function qQ(){return!!l6()},type:"idb",averageResponseTime:function XQ(n){return 2*n.idb.fallbackInterval},microSeconds:qC};function h6(){var n;if(typeof window>"u")return null;try{n=window.localStorage,n=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return n}function f6(n){return"pubkey.broadcastChannel-"+n}function p6(){var n=h6();if(!n)return!1;try{var t="__broadcastchannel_check";n.setItem(t,"works"),n.removeItem(t)}catch{return!1}return!0}var aY={create:function rY(n,t){if(t=fU(t),!p6())throw new Error("BroadcastChannel: localstorage cannot be used");var e=KC(),r=new c6.p4(t.localstorage.removeTimeout),i={channelName:n,uuid:e,eMIs:r};return i.listener=function tY(n,t){var e=f6(n),r=function(c){c.key===e&&t(JSON.parse(c.newValue))};return window.addEventListener("storage",r),r}(n,function(c){i.messagesCallback&&c.uuid!==e&&(!c.token||r.has(c.token)||c.data.time&&c.data.time<i.messagesCallbackTime||(r.add(c.token),i.messagesCallback(c.data)))}),i},close:function iY(n){!function nY(n){window.removeEventListener("storage",n)}(n.listener)},onMessage:function oY(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t},postMessage:function eY(n,t){return new Promise(function(e){ag().then(function(){var r=f6(n.channelName),i={token:KC(),time:Date.now(),data:t,uuid:n.uuid},c=JSON.stringify(i);h6().setItem(r,c);var d=document.createEvent("Event");d.initEvent("storage",!0,!0),d.key=r,d.newValue=c,window.dispatchEvent(d),e()})})},canBeUsed:p6,type:"localstorage",averageResponseTime:function sY(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:qC},m6=qC,pU=new Set,mY={create:function lY(n){var t={time:m6(),name:n,messagesCallback:null};return pU.add(t),t},close:function uY(n){pU.delete(n)},onMessage:function hY(n,t){n.messagesCallback=t},postMessage:function dY(n,t){return new Promise(function(e){return setTimeout(function(){Array.from(pU).forEach(function(i){i.name===n.name&&i!==n&&i.messagesCallback&&i.time<t.time&&i.messagesCallback(t)}),e()},5)})},canBeUsed:function fY(){return!0},type:"simulate",averageResponseTime:function pY(){return 5},microSeconds:m6},_6=[PQ,QQ,aY],v6=new Set,_Y=0,mU=function(t,e){this.id=_Y++,v6.add(this),this.name=t,this.options=fU(e),this.method=function gY(n){var t=[].concat(n.methods,_6).filter(Boolean);if(n.type){if("simulate"===n.type)return mY;var e=t.find(function(i){return i.type===n.type});if(e)return e;throw new Error("method-type "+n.type+" not found")}n.webWorkerSupport||(t=t.filter(function(i){return"idb"!==i.type}));var r=t.find(function(i){return i.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(_6.map(function(i){return i.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function vY(n){var t=n.method.create(n.name,n.options);!function aQ(n){return n&&"function"==typeof n.then}(t)?n._state=t:(n._prepP=t,t.then(function(e){n._state=e}))}(this)};function y6(n,t,e){var i={time:n.method.microSeconds(),type:t,data:e};return(n._prepP?n._prepP:ud).then(function(){var d=n.method.postMessage(n._state,i);return n._uMP.add(d),d.catch().then(function(){return n._uMP.delete(d)}),d})}function b6(n){return n._addEL.message.length>0||n._addEL.internal.length>0}function E6(n,t,e){n._addEL[t].push(e),function yY(n){if(!n._iL&&b6(n)){var t=function(i){n._addEL[i.type].forEach(function(c){i.time>=c.time&&c.fn(i.data)})},e=n.method.microSeconds();n._prepP?n._prepP.then(function(){n._iL=!0,n.method.onMessage(n._state,t,e)}):(n._iL=!0,n.method.onMessage(n._state,t,e))}}(n)}function w6(n,t,e){n._addEL[t]=n._addEL[t].filter(function(r){return r!==e}),function bY(n){if(n._iL&&!b6(n)){n._iL=!1;var t=n.method.microSeconds();n.method.onMessage(n._state,null,t)}}(n)}mU._pubkey=!0,mU.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return y6(this,"message",t)},postInternal:function(t){return y6(this,"internal",t)},set onmessage(n){var e={time:this.method.microSeconds(),fn:n};w6(this,"message",this._onML),n&&"function"==typeof n?(this._onML=e,E6(this,"message",e)):this._onML=null},addEventListener:function(t,e){E6(this,t,{time:this.method.microSeconds(),fn:e})},removeEventListener:function(t,e){w6(this,t,this._addEL[t].find(function(i){return i.fn===e}))},close:function(){var t=this;if(!this.closed){v6.delete(this),this.closed=!0;var e=this._prepP?this._prepP:ud;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var AO=new Map;function I6(n,t,e,r){var i=AO.get(t);return i||(i={bc:new mU(["RxDB:",n,e].join("|")),refs:new Set},AO.set(t,i)),i.refs.add(r),i.bc}function _U(n,t){var e=AO.get(n);if(e&&(e.refs.delete(t),0===e.refs.size))return AO.delete(n),e.bc.close()}function EY(n,t,e,r){if(t.multiInstance){var i=r||I6(n,t.databaseInstanceToken,e.databaseName,e),c=new U.B,d=B=>{B.storageName===n&&B.databaseName===t.databaseName&&B.collectionName===t.collectionName&&B.version===t.schema.version&&c.next(B.eventBulk)};i.addEventListener("message",d);var f=e.changeStream(),m=!1,w=f.subscribe(B=>{m||i.postMessage({storageName:n,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:B})});e.changeStream=function(){return c.asObservable().pipe(function CQ(...n){return function IQ(...n){const t=(0,Ue.lI)(n),e=(0,Ue.R0)(n,1/0);return n=function wQ(n){return 1===n.length&&EQ(n[0])?n[0]:n}(n),(0,ae.N)((r,i)=>{(0,Ad.U)(e)((0,Be.H)([r,...n],t)).subscribe(i)})}(...n)}(f))};var A=e.close.bind(e);e.close=(0,M.A)(function*(){return m=!0,w.unsubscribe(),i.removeEventListener("message",d),r||(yield _U(t.databaseInstanceToken,e)),A()});var R=e.remove.bind(e);e.remove=(0,M.A)(function*(){return m=!0,w.unsubscribe(),i.removeEventListener("message",d),r||(yield _U(t.databaseInstanceToken,e)),R()})}}var vU=P(9403),Fs=P(5520),C6=new WeakMap,wY=new WeakMap;function D6(n){return(0,vU.q)(wY,n,()=>function bQ(n,t){if(n._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function yQ(n,t){return n||(n={}),(n=JSON.parse(JSON.stringify(n))).fallbackInterval||(n.fallbackInterval=3e3),n.responseTime||(n.responseTime=t.method.averageResponseTime(t.options)),n}(t,n);var e=function uQ(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&"function"==typeof navigator.locks.request}()?new s6(n,t):new a6(n,t);return n._befC.push(function(){return e.die()}),n._leaderElector=e,e}(n))}function IY(){var n=I6(this.storage.name,this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return _U(this.token,this),t()};var e=D6(n);return e||(e=D6(n),C6.set(this,e)),this.leaderElector=()=>e,e}function CY(){return!this.multiInstance||this.leaderElector().isLeader}function DY(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):Fs.Ms}var T6={name:"leader-election",rxdb:!0,prototypes:{RxDatabase:n=>{n.leaderElector=IY,n.isLeader=CY,n.waitForLeadership=DY}},hooks:{preDestroyRxDatabase:{after:function TY(n){var t=C6.get(n);t&&t.die()}}}},Ic=P(1885),Ls=P(6893),QC=P(2060),bb=P(4552),ug=P(6568);function A6(n,t){return n.input.metaInstance.findDocumentsById(t.map(e=>(0,Ic.U)(n.input.metaInstance.schema,{itemId:e,isCheckpoint:"0"})),!0).then(e=>{var r={};return Object.values(e).forEach(i=>{r[i.itemId]={docData:i.docData,metaDocument:i}}),r})}function SO(n,t,e,r){return yU.apply(this,arguments)}function yU(){return(yU=(0,M.A)(function*(n,t,e,r){var i=t[n.primaryPath],c=e?(0,Ls.C9)(e):{id:"",isCheckpoint:"0",itemId:i,docData:t,_attachments:{},_deleted:!1,_rev:(0,QC.Fq)(),_meta:{lwt:0}};return c.docData=t,r&&(c.isResolvedConflict=r),c._meta.lwt=(0,bb.t)(),c.id=(0,Ic.U)(n.input.metaInstance.schema,c),c._rev=(0,ug.CM)(yield n.checkpointKey,e),{previous:e,document:c}})).apply(this,arguments)}var xO=P(4843);function MO(n,t){return bU.apply(this,arguments)}function bU(){return(bU=(0,M.A)(function*(n,t){var e=(0,Ic.U)(n.input.metaInstance.schema,{isCheckpoint:"1",itemId:t}),i=(yield n.input.metaInstance.findDocumentsById([e],!1))[0];if(n.lastCheckpointDoc[t]=i,i)return i.checkpointData})).apply(this,arguments)}function RO(n,t,e){return EU.apply(this,arguments)}function EU(){return(EU=(0,M.A)(function*(n,t,e){n.checkpointQueue=n.checkpointQueue.then((0,M.A)(function*(){var r=n.lastCheckpointDoc[t];if(e&&!n.events.canceled.getValue()&&(!r||JSON.stringify(r.checkpointData)!==JSON.stringify(e))){var i={id:"",isCheckpoint:"1",itemId:t,_deleted:!1,_attachments:{},checkpointData:e,_meta:(0,QC.o4)(),_rev:(0,QC.Fq)()};for(i.id=(0,Ic.U)(n.input.metaInstance.schema,i);!n.events.canceled.getValue();){if(r&&(i.checkpointData=(0,Ls.Mu)([r.checkpointData,i.checkpointData])),i._meta.lwt=(0,bb.t)(),i._rev=(0,ug.CM)(yield n.checkpointKey,r),n.events.canceled.getValue())return;var c=[{previous:r,document:i}],d=yield n.input.metaInstance.bulkWrite(c,"replication-set-checkpoint"),f=(0,Ls.YN)(n.primaryPath,c,d)[0];if(f)return void(n.lastCheckpointDoc[t]=f);var m=d.error[0];if(409!==m.status)throw m;r=(0,Si.ZN)(m.documentInDb),i._rev=(0,ug.CM)(yield n.checkpointKey,r)}}})),yield n.checkpointQueue})).apply(this,arguments)}function wU(){return(wU=(0,M.A)(function*(n){return"rx_storage_replication_"+(yield n.hashFunction([n.identifier,n.forkInstance.databaseName,n.forkInstance.collectionName].join("||")))})).apply(this,arguments)}var su=P(7650);function S6(n,t,e){var r=(0,Ns.FD)(n);return t||delete r._attachments,e||(delete r._meta,delete r._rev),r}function IU(n,t){return n.hasAttachments?t.map(e=>{var r=(0,Ns.o8)(e.document);return r.docData=(0,Ls.on)(r.docData),{document:r,previous:e.previous}}):t}function x6(n){for(;;){if(!n.underlyingPersistentStorage)return n;n=n.underlyingPersistentStorage}}function CU(){return CU=(0,M.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.downstream&&((yield MO(n,"down"))||(yield RO(n,"down",n.input.initialCheckpoint.downstream)));var e=yield n.input.hashFunction(n.input.identifier),r=n.input.replicationHandler,i=0,c=[];function d(pe){n.stats.down.addNewTask=n.stats.down.addNewTask+1;var fe={time:i++,task:pe};c.push(fe),n.streamQueue.down=n.streamQueue.down.then(()=>{for(var dt=[];c.length>0;){n.events.active.down.next(!0);var _t=(0,Si.ZN)(c.shift());if(!(_t.time<m)){if("RESYNC"===_t.task){if(0===dt.length){dt.push(_t.task);break}break}dt.push(_t.task)}}if(0!==dt.length)return"RESYNC"===dt[0]?function w(){return A.apply(this,arguments)}():function R(pe){n.stats.down.downstreamProcessChanges=n.stats.down.downstreamProcessChanges+1;var fe=[],dt=null;return pe.forEach(_t=>{if("RESYNC"===_t)throw new Error("SNH");(0,za.Hb)(fe,_t.documents),dt=(0,Ls.Mu)([dt,_t.checkpoint])}),me(fe,(0,Si.ZN)(dt))}(dt)}).then(()=>{n.events.active.down.next(!1),!n.firstSyncDone.down.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.down.next(!0)})}if(d("RESYNC"),!n.events.canceled.getValue()){var f=r.masterChangeStream$.pipe((0,Mi.Z)(function(){var pe=(0,M.A)(function*(fe){return yield(0,xO._)(n.events.active.up.pipe((0,Bn.p)(dt=>!dt))),fe});return function(fe){return pe.apply(this,arguments)}}())).subscribe(pe=>{n.stats.down.masterChangeStreamEmit=n.stats.down.masterChangeStreamEmit+1,d(pe)});(0,xO._)(n.events.canceled.pipe((0,Bn.p)(pe=>!!pe))).then(()=>f.unsubscribe())}var m=-1;function A(){return(A=(0,M.A)(function*(){if(n.stats.down.downstreamResyncOnce=n.stats.down.downstreamResyncOnce+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>MO(n,"down"));for(var pe=yield n.checkpointQueue,fe=[];!n.events.canceled.getValue();){m=i++;var dt=yield r.masterChangesSince(pe,n.input.pullBatchSize);if(0===dt.documents.length||(pe=(0,Ls.Mu)([pe,dt.checkpoint]),fe.push(me(dt.documents,pe)),dt.documents.length<n.input.pullBatchSize))break}yield Promise.all(fe)}})).apply(this,arguments)}var B=Fs.em,q={docs:{}};function me(pe,fe){var dt=n.primaryPath;return n.stats.down.persistFromMaster=n.stats.down.persistFromMaster+1,pe.forEach(_t=>{q.docs[_t[dt]]=_t}),q.checkpoint=fe,B=B.then(()=>{var _t=q.docs;q.docs={};var bt=q.checkpoint,Ht=Object.keys(_t);if(n.events.canceled.getValue()||0===Ht.length)return Fs.em;var _n=[],sn={},Ve={},ue=[];return Promise.all([n.input.forkInstance.findDocumentsById(Ht,!0),A6(n,Ht)]).then(([we,je])=>{var Ke=new Map;return we.forEach(it=>Ke.set(it[dt],it)),Promise.all(Ht.map(function(){var it=(0,M.A)(function*(Ce){var dr=Ke.get(Ce),vs=dr?S6(dr,n.hasAttachments,!1):void 0,Zo=_t[Ce],qi=je[Ce];qi&&dr&&qi.metaDocument.isResolvedConflict===dr._rev&&(yield n.streamQueue.up);var Jr=!(!qi||!vs)&&(yield n.input.conflictHandler({realMasterState:qi.docData,newDocumentState:vs},"downstream-check-if-equal-0").then(ei=>ei.isEqual));if(!Jr&&qi&&qi.docData._rev&&dr&&dr._meta[n.input.identifier]&&(0,ug.Wg)(dr._rev)===dr._meta[n.input.identifier]&&(Jr=!0),dr&&qi&&!1===Jr||dr&&!qi)return Fs.em;var Vi=!!vs&&(yield n.input.conflictHandler({realMasterState:Zo,newDocumentState:vs},"downstream-check-if-equal-1").then(ei=>ei.isEqual));if(vs&&Vi)return(!qi||!1===Jr)&&ue.push(yield SO(n,vs,qi?qi.metaDocument:void 0)),Fs.em;var ko=Object.assign({},Zo,dr?{_meta:(0,Ns.FD)(dr._meta),_attachments:n.hasAttachments&&Zo._attachments?Zo._attachments:{},_rev:(0,QC.Fq)()}:{_meta:{lwt:(0,bb.t)()},_rev:(0,QC.Fq)(),_attachments:n.hasAttachments&&Zo._attachments?Zo._attachments:{}});if(Zo._rev){var Bs=dr?(0,ug.Wg)(dr._rev)+1:1;ko._meta[n.input.identifier]=Bs,n.input.keepMeta&&(ko._rev=Zo._rev)}n.input.keepMeta&&Zo._meta&&(ko._meta=Zo._meta);var cr={previous:dr,document:ko};cr.document._rev=cr.document._rev?cr.document._rev:(0,ug.CM)(e,cr.previous),_n.push(cr),sn[Ce]=cr,Ve[Ce]=yield SO(n,Zo,qi?qi.metaDocument:void 0)});return function(Ce){return it.apply(this,arguments)}}()))}).then((0,M.A)(function*(){if(_n.length>0)return n.input.forkInstance.bulkWrite(_n,yield n.downstreamBulkWriteFlag).then(we=>{(0,Ls.YN)(n.primaryPath,_n,we).forEach(Ke=>{var it=Ke[dt];n.events.processed.down.next(sn[it]),ue.push(Ve[it])}),we.error.forEach(Ke=>{409!==Ke.status&&n.events.error.next((0,su.Br)("RC_PULL",{writeError:Ke}))})})})).then(()=>{if(ue.length>0)return n.input.metaInstance.bulkWrite(IU(n,ue),"replication-down-write-meta").then(we=>{we.error.forEach(je=>{n.events.error.next((0,su.Br)("RC_PULL",{id:je.documentId,writeError:je}))})})}).then(()=>{RO(n,"down",bt)})}).catch(_t=>n.events.error.next(_t)),B}}),CU.apply(this,arguments)}var PY=P(327);function DU(){return DU=(0,M.A)(function*(n,t,e,r){if(!e._attachments||r&&!r._attachments)throw new Error("_attachments missing");var i=e[n],c=new Set(r&&r._attachments?Object.keys(r._attachments):[]);return yield Promise.all(Object.entries(e._attachments).map(function(){var d=(0,M.A)(function*([f,m]){if((!c.has(f)||r&&(0,Si.ZN)(r._attachments)[f].digest!==m.digest)&&!m.data){var w=yield t.getAttachmentData(i,f,m.digest);m.data=w}});return function(f){return d.apply(this,arguments)}}())),e}),DU.apply(this,arguments)}function TU(){return TU=(0,M.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.upstream&&((yield MO(n,"up"))||(yield RO(n,"up",n.input.initialCheckpoint.upstream)));var e=n.input.replicationHandler;n.streamQueue.up=n.streamQueue.up.then(()=>w().then(()=>{R()}));var r=0,i=-1,c=[],d=Fs.Dr,f={docs:{}},m=n.input.forkInstance.changeStream().subscribe(function(){var q=(0,M.A)(function*(me){if(me.context!==(yield n.downstreamBulkWriteFlag))return n.stats.up.forkChangeStreamEmit=n.stats.up.forkChangeStreamEmit+1,c.push({task:me,time:r++}),n.events.active.up.getValue()||n.events.active.up.next(!0),n.input.waitBeforePersist?n.input.waitBeforePersist().then(()=>R()):R()});return function(me){return q.apply(this,arguments)}}());function w(){return A.apply(this,arguments)}function A(){return A=(0,M.A)(function*(){if(n.stats.up.upstreamInitialSync=n.stats.up.upstreamInitialSync+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>MO(n,"up"));for(var q=yield n.checkpointQueue,me=new Set,pe=function(){var _t=(0,M.A)(function*(){i=r++,me.size>3&&(yield Promise.race(Array.from(me)));var bt=yield(0,Ls.p0)(n.input.forkInstance,n.input.pushBatchSize,q);if(0===bt.documents.length)return 1;q=(0,Ls.Mu)([q,bt.checkpoint]);var Ht=B(bt.documents,(0,Si.ZN)(q));me.add(Ht),Ht.catch().then(()=>me.delete(Ht))});return function(){return _t.apply(this,arguments)}}();!n.events.canceled.getValue()&&!(yield pe()););(yield Promise.all(me)).find(_t=>!!_t)?yield w():!n.firstSyncDone.up.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.up.next(!0)}}),A.apply(this,arguments)}function R(){n.events.canceled.getValue()||0===c.length?n.events.active.up.next(!1):(n.stats.up.processTasks=n.stats.up.processTasks+1,n.events.active.up.next(!0),n.streamQueue.up=n.streamQueue.up.then(()=>{for(var q=[],me={};c.length>0;){var pe=(0,Si.ZN)(c.shift());pe.time<i||((0,za.Hb)(q,pe.task.events.map(dt=>dt.documentData)),me=(0,Ls.Mu)([me,pe.task.checkpoint]))}return(0===q.length?Fs.Dr:B(q,me)).then(()=>{0===c.length?n.events.active.up.next(!1):R()})}))}function B(q,me){return n.stats.up.persistToMaster=n.stats.up.persistToMaster+1,q.forEach(pe=>{f.docs[pe[n.primaryPath]]=pe}),f.checkpoint=me,d=d.then((0,M.A)(function*(){if(n.events.canceled.getValue())return!1;var pe=f.docs;f.docs={};var fe=f.checkpoint,dt=Object.keys(pe);if(0===dt.length)return!1;var _t=yield A6(n,dt),bt={},Ht=[],_n={},sn={};if(yield Promise.all(dt.map(function(){var Jr=(0,M.A)(function*(Vi){var ko=pe[Vi];sn[Vi]=ko;var Bs=S6(ko,n.hasAttachments,!!n.input.keepMeta),cr=_t[Vi];cr&&cr.metaDocument.isResolvedConflict!==ko._rev&&(yield n.input.conflictHandler({realMasterState:cr.docData,newDocumentState:Bs},"upstream-check-if-equal")).isEqual||cr&&cr.docData._rev&&(0,ug.Wg)(ko._rev)===ko._meta[n.input.identifier]||(Ht.push(Vi),bt[Vi]={assumedMasterState:cr?cr.docData:void 0,newDocumentState:Bs},_n[Vi]=yield SO(n,Bs,cr?cr.metaDocument:void 0))});return function(Vi){return Jr.apply(this,arguments)}}())),0===Ht.length)return!1;var Ve=Object.values(bt),ue=new Set,we={},je=(0,za.Aj)(Ve,n.input.pushBatchSize);yield Promise.all(je.map(function(){var Jr=(0,M.A)(function*(Vi){n.hasAttachments&&(yield Promise.all(Vi.map(function(){var Bs=(0,M.A)(function*(cr){cr.newDocumentState=yield function kY(n,t,e,r){return DU.apply(this,arguments)}(n.primaryPath,n.input.forkInstance,(0,Ns.o8)(cr.newDocumentState),cr.assumedMasterState)});return function(cr){return Bs.apply(this,arguments)}}()))),(yield e.masterWrite(Vi)).forEach(Bs=>{var cr=Bs[n.primaryPath];ue.add(cr),we[cr]=Bs})});return function(Vi){return Jr.apply(this,arguments)}}()));var Ke=[];if(Ht.forEach(Jr=>{ue.has(Jr)||(n.events.processed.up.next(bt[Jr]),Ke.push(_n[Jr]))}),n.events.canceled.getValue())return!1;Ke.length>0&&(yield n.input.metaInstance.bulkWrite(IU(n,Ke),"replication-up-write-meta"));var it=!1;if(ue.size>0){n.stats.up.persistToMasterHadConflicts=n.stats.up.persistToMasterHadConflicts+1;var Ce=[],dr={};if(yield Promise.all(Object.entries(we).map(([Jr,Vi])=>{var ko=bt[Jr],Bs={newDocumentState:ko.newDocumentState,assumedMasterState:ko.assumedMasterState,realMasterState:Vi};return(0,PY.r)(n,Bs,sn[Jr]).then(function(){var cr=(0,M.A)(function*(ei){if(ei){n.events.resolvedConflicts.next({input:Bs,output:ei.output}),Ce.push({previous:sn[Jr],document:ei.resolvedDoc});var dP=_t[Jr];dr[Jr]=yield SO(n,(0,Si.ZN)(Vi),dP?dP.metaDocument:void 0,ei.resolvedDoc._rev)}});return function(ei){return cr.apply(this,arguments)}}())})),Ce.length>0){it=!0,n.stats.up.persistToMasterConflictWrites=n.stats.up.persistToMasterConflictWrites+1;var vs=yield n.input.forkInstance.bulkWrite(Ce,"replication-up-write-conflict"),Zo=[];(0,Ls.YN)(n.primaryPath,Ce,vs).forEach(Jr=>{Zo.push(dr[Jr[n.primaryPath]])}),Zo.length>0&&(yield n.input.metaInstance.bulkWrite(IU(n,Zo),"replication-up-write-conflict-meta"))}}return RO(n,"up",fe),it})).catch(pe=>(n.events.error.next(pe),!1)),d}(0,xO._)(n.events.canceled.pipe((0,Bn.p)(q=>!!q))).then(()=>m.unsubscribe())}),TU.apply(this,arguments)}function OO(n){return(0,xO._)(he([n.firstSyncDone.down.pipe((0,Bn.p)(t=>!!t)),n.firstSyncDone.up.pipe((0,Bn.p)(t=>!!t))])).then(()=>{})}function M6(n){return Promise.all([n.streamQueue.up,n.streamQueue.down,n.checkpointQueue])}function SU(){return(SU=(0,M.A)(function*(n){n.events.canceled.next(!0),n.events.active.up.complete(),n.events.active.down.complete(),n.events.processed.up.complete(),n.events.processed.down.complete(),n.events.resolvedConflicts.complete(),n.events.canceled.complete(),yield n.checkpointQueue})).apply(this,arguments)}var R6=n=>Promise.resolve(n);function O6(n,t){return"_deleted"===n||((t=(0,Ns.FD)(t))[n]=!!t._deleted,delete t._deleted),t}function xU(n,t,e){return e.map(r=>{var i=(0,Ns.FD)(r);return"_deleted"!==t?(i._deleted=!!i[t],delete i[t]):i._deleted=!!i._deleted,i[n.schema.primaryPath]=(0,Ic.U)(n.schema.jsonSchema,i),i})}function P6(n,t){if(typeof window>"u"||"object"!=typeof window||typeof window.addEventListener>"u"||navigator.onLine)return n.promiseWait(t);var e,r=new Promise(i=>{e=()=>{window.removeEventListener("online",e),i()},window.addEventListener("online",e)});return Promise.race([r,n.promiseWait(t)]).then(()=>{window.removeEventListener("online",e)})}var k6=P(2104),N6=P(3896),YC=P(2284),MU=new WeakMap,F6=function(){function n(e,r,i,c,d,f,m,w){var A=this;this.subs=[],this.subjects={received:new U.B,sent:new U.B,error:new U.B,canceled:new Me.t(!1),active:new Me.t(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.onCancel=[],this.callOnStart=void 0,this.remoteEvents$=new U.B,this.replicationIdentifier=e,this.collection=r,this.deletedField=i,this.pull=c,this.push=d,this.live=f,this.retryTime=m,this.autoStart=w,this.metaInfoPromise=(0,M.A)(function*(){var q="rx-replication-meta-"+(yield r.database.hashFunction([A.collection.name,A.replicationIdentifier].join("-"))),me=function MY(n,t){var e=(0,Ic.Hq)(n),r={title:"RxReplicationProtocolMetaData",primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:n.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:e+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:e>4?e:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:n.properties},isResolvedConflict:{type:"string"}},keyCompression:n.keyCompression,required:["id","isCheckpoint","itemId"]};return t&&(r.encrypted=["docData"]),(0,Ic.Ud)(r)}(A.collection.schema.jsonSchema,(0,Ls.ME)(A.collection.schema.jsonSchema));return{collectionName:q,schema:me}})(),(0,vU.q)(MU,r,()=>[]).push(this),this.collection.onDestroy.push(()=>this.cancel()),Object.keys(this.subjects).forEach(q=>{Object.defineProperty(this,q+"$",{get:function(){return this.subjects[q].asObservable()}})});var B=new Promise(q=>{this.callOnStart=q});this.startPromise=B}var t=n.prototype;return t.start=function(){var e=(0,M.A)(function*(){var A,i=this;if(!this.isStopped()){var c=this.pull&&this.pull.modifier?this.pull.modifier:R6,d=this.push&&this.push.modifier?this.push.modifier:R6,f=this.collection.database,m=yield this.metaInfoPromise,[w]=yield Promise.all([this.collection.database.storage.createStorageInstance({databaseName:f.name,collectionName:m.collectionName,databaseInstanceToken:f.token,multiInstance:f.multiInstance,options:{},schema:m.schema,password:f.password,devMode:N6.h.isDevMode()}),(0,k6.vV)(this.collection,m.collectionName,m.schema)]);this.metaInstance=w,this.internalReplicationState=function FY(n){(n=(0,Ns.FD)(n)).forkInstance=x6(n.forkInstance),n.metaInstance=x6(n.metaInstance);var t=function RY(n){return wU.apply(this,arguments)}(n),e={primaryPath:(0,Ic.xQ)(n.forkInstance.schema.primaryKey),hasAttachments:!!n.forkInstance.schema.attachments,input:n,checkpointKey:t,downstreamBulkWriteFlag:t.then(r=>"replication-downstream-"+r),events:{canceled:new Me.t(!1),active:{down:new Me.t(!0),up:new Me.t(!0)},processed:{down:new U.B,up:new U.B},resolvedConflicts:new U.B,error:new U.B},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new Me.t(!1),up:new Me.t(!1)},streamQueue:{down:Fs.em,up:Fs.em},checkpointQueue:Fs.em,lastCheckpointDoc:{}};return function OY(n){CU.apply(this,arguments)}(e),function NY(n){TU.apply(this,arguments)}(e),e}({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:f.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe((0,Bn.p)(A=>!!this.pull),(0,Mi.Z)(function(){var A=(0,M.A)(function*(R){if("RESYNC"===R)return R;var B=(0,Ns.FD)(R);return B.documents=xU(i.collection,i.deletedField,B.documents),B.documents=yield Promise.all(B.documents.map(q=>c(q))),B});return function(R){return A.apply(this,arguments)}}())),masterChangesSince:(A=(0,M.A)(function*(R,B){if(!i.pull)return{checkpoint:null,documents:[]};for(var q=!1,me={};!q&&!i.isStopped();)try{me=yield i.pull.handler(R,B),q=!0}catch(dt){var pe=(0,su.Br)("RC_PULL",{checkpoint:R,errors:(0,za.$r)(dt).map(_t=>(0,dU.S)(_t)),direction:"pull"});i.subjects.error.next(pe),yield P6(i.collection,(0,Si.ZN)(i.retryTime))}if(i.isStopped())return{checkpoint:null,documents:[]};var fe=(0,Ns.FD)(me);return fe.documents=xU(i.collection,i.deletedField,fe.documents),fe.documents=yield Promise.all(fe.documents.map(dt=>c(dt))),fe}),function(B,q){return A.apply(this,arguments)}),masterWrite:function(){var A=(0,M.A)(function*(R){if(!i.push)return[];var B=!1;yield(0,YC.FX)("preReplicationMasterWrite",{rows:R,collection:i.collection});var q=yield Promise.all(R.map(function(){var _t=(0,M.A)(function*(bt){return bt.newDocumentState=yield d(bt.newDocumentState),null===bt.newDocumentState?null:(bt.assumedMasterState&&(bt.assumedMasterState=yield d(bt.assumedMasterState)),"_deleted"!==i.deletedField&&(bt.newDocumentState=O6(i.deletedField,bt.newDocumentState),bt.assumedMasterState&&(bt.assumedMasterState=O6(i.deletedField,bt.assumedMasterState))),bt)});return function(bt){return _t.apply(this,arguments)}}())),me=q.filter(za.S7),pe=null;for(0===me.length&&(B=!0,pe=[]);!B&&!i.isStopped();)try{if(pe=yield i.push.handler(me),!Array.isArray(pe))throw(0,su.Br)("RC_PUSH_NO_AR",{pushRows:R,direction:"push",args:{result:pe}});B=!0}catch(_t){var fe=_t.rxdb?_t:(0,su.Br)("RC_PUSH",{pushRows:R,errors:(0,za.$r)(_t).map(bt=>(0,dU.S)(bt)),direction:"push"});i.subjects.error.next(fe),yield P6(i.collection,(0,Si.ZN)(i.retryTime))}return i.isStopped()?[]:(yield(0,YC.FX)("preReplicationMasterWriteDocumentsHandle",{result:pe,collection:i.collection}),xU(i.collection,i.deletedField,(0,Si.ZN)(pe)))});return function(B){return A.apply(this,arguments)}}()}}),this.subs.push(this.internalReplicationState.events.error.subscribe(A=>{this.subjects.error.next(A)}),this.internalReplicationState.events.processed.down.subscribe(A=>this.subjects.received.next(A.document)),this.internalReplicationState.events.processed.up.subscribe(A=>{this.subjects.sent.next(A.newDocumentState)}),he([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([A,R])=>{this.subjects.active.next(A||R)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:A=>{this.remoteEvents$.next(A)},error:A=>{this.subjects.error.next(A)}})),this.live||(yield OO(this.internalReplicationState),yield M6(this.internalReplicationState),yield this.cancel()),this.callOnStart()}});return function r(){return e.apply(this,arguments)}}(),t.isStopped=function(){return!!this.subjects.canceled.getValue()},t.awaitInitialReplication=function(){var e=(0,M.A)(function*(){return yield this.startPromise,OO((0,Si.ZN)(this.internalReplicationState))});return function r(){return e.apply(this,arguments)}}(),t.awaitInSync=function(){var e=(0,M.A)(function*(){yield this.startPromise,yield OO((0,Si.ZN)(this.internalReplicationState));for(var i=2;i>0;)i--,yield this.collection.database.requestIdlePromise(),yield M6((0,Si.ZN)(this.internalReplicationState));return!0});return function r(){return e.apply(this,arguments)}}(),t.reSync=function(){this.remoteEvents$.next("RESYNC")},t.emitEvent=function(r){this.remoteEvents$.next(r)},t.cancel=function(){var e=(0,M.A)(function*(){if(this.isStopped())return Fs.Dr;var i=this.onCancel.map(c=>(0,Fs.hq)(c()));return this.internalReplicationState&&(yield function LY(n){return SU.apply(this,arguments)}(this.internalReplicationState)),this.metaInstance&&i.push((0,Si.ZN)(this.internalReplicationState).checkpointQueue.then(()=>(0,Si.ZN)(this.metaInstance).close())),this.subs.forEach(c=>c.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(i)});return function r(){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,M.A)(function*(){yield(0,Si.ZN)(this.metaInstance).remove();var i=yield this.metaInfoPromise;yield this.cancel(),yield(0,k6.bD)(this.collection,i.collectionName,i.schema)});return function r(){return e.apply(this,arguments)}}(),n}();var VY=P(9182),BY=P(5908),UY=P(5672),jY=P(4395),V6=P(7396),$Y={RxSchema:VY.wJ.prototype,RxDocument:BY.ky,RxQuery:UY.Mh.prototype,RxCollection:jY.wm.prototype,RxDatabase:V6.lB.prototype},RU=new Set,B6=new Set;function PO(n){if((0,YC.Xi)("preAddRxPlugin",{plugin:n,plugins:RU}),!RU.has(n)){if(B6.has(n.name))throw(0,su.Br)("PL3",{name:n.name,plugin:n});if(RU.add(n),B6.add(n.name),!n.rxdb)throw(0,su.JX)("PL1",{plugin:n});n.init&&n.init(),n.prototypes&&Object.entries(n.prototypes).forEach(([t,e])=>e($Y[t])),n.overwritable&&Object.assign(N6.h,n.overwritable),n.hooks&&Object.entries(n.hooks).forEach(([t,e])=>{e.after&&YC.r[t].push(e.after),e.before&&YC.r[t].unshift(e.before)})}}function U6(n,t){var e=(0,Ns.FD)(t);return delete e[n],e}function HY(n,t){return t[n].toDate().toISOString()}function j6(n,t){return delete(t=(0,Ns.FD)(t))[n],t}var KY=function(n){function t(e,r,i,c,d,f=!0,m=5e3,w=!0){var A;return(A=n.call(this,r,i,"_deleted",c,d,f,m,w)||this).firestore=e,A.replicationIdentifierHash=r,A.collection=i,A.pull=c,A.push=d,A.live=f,A.retryTime=m,A.autoStart=w,A}return(0,sQ.A)(t,n),t}(F6);function qY(n){var t=n.collection;PO(T6);var r,e=new U.B;n.live=typeof n.live>"u"||n.live,n.waitForLeadership=typeof n.waitForLeadership>"u"||n.waitForLeadership;var i=typeof n.serverTimestampField>"u"?"serverTimestamp":n.serverTimestampField;n.serverTimestampField=i;var c=t.schema.primaryPath;if((0,Ic.nT)(t.schema.jsonSchema,i)||i.includes("."))throw(0,su.Br)("RC6",{field:i,schema:t.schema.jsonSchema});var w,f=void 0!==n.pull?.filter?(0,za.$r)(n.pull.filter):[],m=gb(n.firestore.collection,...f);if(n.pull&&(r={handler:(me,pe)=>(0,M.A)(function*(){var fe,dt;if(me){var _t=function zY(n){var t=new Date(n);return Yr.fromDate(t)}(me.serverTimestamp);fe=gb(m,_O(i,">",_t),vO(i,"asc"),bO(pe)),dt=gb(m,_O(i,"==",_t),_O(c,">",me.id),vO(c,"asc"),bO(pe))}else fe=gb(m,vO(i,"asc"),bO(pe));for(var bt=!0,Ht=[];bt;)yield YB(n.firestore.database),yield e6(n.firestore.database,function(){var we=(0,M.A)(function*(je){Ht=[];var[Ke,it]=yield Promise.all([cU(fe),dt?cU(dt):void 0]);if(!(Ke.metadata.hasPendingWrites||dt&&(0,Si.ZN)(it).metadata.hasPendingWrites)){bt=!1,dt&&(Ht=(0,Si.ZN)(it).docs);var Ce=pe-Ht.length;if(Ce>0){var dr=Ke.docs.slice(0,Ce).filter(vs=>!!vs);(0,za.Hb)(Ht,dr)}}});return function(je){return we.apply(this,arguments)}}());if(0===Ht.length)return{checkpoint:me??null,documents:[]};var _n=(0,Si.ZN)((0,za.dG)(Ht)),sn=Ht.map(we=>function GY(n,t,e){var r=U6(n,e.data());return r[t]=e.id,r}(i,c,we));return{documents:sn,checkpoint:{id:_n.id,serverTimestamp:HY(i,_n.data())}}})(),batchSize:(0,Si.ZN)(n.pull).batchSize,modifier:(0,Si.ZN)(n.pull).modifier,stream$:e.asObservable()}),n.push){var A=n.push?.filter;w={handler:me=>(0,M.A)(function*(){void 0!==A&&(me=yield(0,za.j7)(me,_t=>A(_t.newDocumentState)));var pe={},fe=me.map(_t=>{var bt=_t.newDocumentState[c];return pe[bt]=_t,bt});yield YB(n.firestore.database);var dt=[];return yield e6(n.firestore.database,function(){var _t=(0,M.A)(function*(bt){dt=[];var _n=yield function WY(n,t){for(var e=[];n.length;){var r=n.splice(0,10);e.push(t(r))}return Promise.all(e).then(i=>i.map(c=>c.docs).flat())}(fe,we=>cU(gb(n.firestore.collection,_O(function FX(){return new ng("__name__")}(),"in",we)))),sn={};_n.forEach(we=>{var je=U6(i,we.data()),Ke=we.id;je[c]=Ke,sn[Ke]=je});var Ve=function iQ(n){return Ai(n=Qn(n,Hr)),new tQ(n,t=>function WC(n,t){return function(r,i){const c=new so;return r.asyncQueue.enqueueAndForget((0,M.A)(function*(){return function Y7(n,t,e){return bB.apply(this,arguments)}(yield KB(r),i,c)})),c.promise}(Ai(n),t)}(n,t))}(n.firestore.database),ue=!1;yield Promise.all(Object.entries(pe).map(function(){var we=(0,M.A)(function*([je,Ke]){var it=sn[je];if(!it||Ke.assumedMasterState&&!1!==(yield t.conflictHandler({newDocumentState:it,realMasterState:Ke.assumedMasterState},"replication-firestore-push")).isEqual){ue=!0;var Ce=function NG(n,t,...e){if(n=io(n),1===arguments.length&&(t=XV.newId()),XB("doc","path",t),n instanceof BC){const r=Xn.fromString(t,...e);return RG(r),new Ki(n,null,new Yt(r))}{if(!(n instanceof Ki||n instanceof ou))throw new Rt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xn.fromString(t,...e));return RG(r),new Ki(n.firestore,n instanceof ou?n.converter:null,new Yt(r))}}(n.firestore.collection,je),dr=(0,Ns.FD)(Ke.newDocumentState);dr[i]=function rQ(){return new JB("serverTimestamp")}(),it?Ve.update(Ce,j6(c,dr)):Ve.set(Ce,j6(c,dr))}else dt.push(it)});return function(je){return we.apply(this,arguments)}}())),ue&&(yield Ve.commit())});return function(bt){return _t.apply(this,arguments)}}()),yield YB(n.firestore.database),dt})(),batchSize:n.push.batchSize,modifier:n.push.modifier}}var R=new KY(n.firestore,n.replicationIdentifier,t,r,w,n.live,n.retryTime,n.autoStart);if(n.live&&n.pull){var B=R.start.bind(R),q=R.cancel.bind(R);R.start=()=>{var pe=function GX(n,...t){var e,r,i;n=io(n);let c={includeMetadataChanges:!1,source:"default"},d=0;"object"!=typeof t[d]||QB(t[d])||(c=t[d],d++);const f={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(QB(t[d])){const R=t[d];t[d]=null===(e=R.next)||void 0===e?void 0:e.bind(R),t[d+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),t[d+2]=null===(i=R.complete)||void 0===i?void 0:i.bind(R)}let m,w,A;if(n instanceof Ki)w=Qn(n.firestore,Hr),A=Hy(n._key.path),m={next:R=>{t[d]&&t[d](function lU(n,t,e){const r=e.docs.get(t._key),i=new Ef(n);return new vb(n,i,t._key,r,new sg(e.hasPendingWrites,e.fromCache),t.converter)}(w,n,R))},error:t[d+1],complete:t[d+2]};else{const R=Qn(n,Qo);w=Qn(R.firestore,Hr),A=R._query;const B=new Ef(w);m={next:q=>{t[d]&&t[d](new yb(w,B,R,q))},error:t[d+1],complete:t[d+2]},KG(n._query)}return function(B,q,me,pe){const fe=new cO(pe),dt=new hB(q,fe,me);return B.asyncQueue.enqueueAndForget((0,M.A)(function*(){return sB(yield mb(B),dt)})),()=>{fe.$a(),B.asyncQueue.enqueueAndForget((0,M.A)(function*(){return cB(yield mb(B),dt)}))}}(Ai(w),A,f,m)}(gb(m,vO(i,"desc"),bO(1)),fe=>{R.reSync()},fe=>{R.subjects.error.next((0,su.Br)("RC_STREAM",{error:(0,dU.S)(fe)}))});return R.cancel=()=>(pe(),q()),B()}}return function L6(n,t){return(n&&t.collection.database.multiInstance?t.collection.database.waitForLeadership():Fs.Ms).then(()=>{t.isStopped()||t.autoStart&&t.start()})}(n.waitForLeadership,R),R}let $6=(()=>{class n{constructor(){this.firebaseApp=Lv(Yp)}replicateCollection(e,r){var i=this;return(0,M.A)(function*(){const c=kX(i.firebaseApp),d=function RX(n,t,...e){if(n=io(n),XB("collection","path",t),n instanceof BC){const r=Xn.fromString(t,...e);return OG(r),new ou(n,null,r)}{if(!(n instanceof Ki||n instanceof ou))throw new Rt(ft.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Xn.fromString(t,...e));return OG(r),new ou(n.firestore,null,r)}}(c,e),f=qY({collection:r,firestore:{projectId:Yp.projectId,database:c,collection:d},pull:{},push:{},live:!0,replicationIdentifier:"Empathy-to-firebase"});return console.log(`LOL: REPLICATION for COLEECTION: ${e}: ${f.replicationIdentifier}`),f})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),XY=(()=>{class n{constructor(e){this.remoteDbService=e,this.auth=$V(this.remoteDbService.firebaseApp),this.user$=this.observeAuthState(this.auth)}anonymousLogin(){var e=this;return(0,M.A)(function*(){yield function Z4(n){return Ju.apply(this,arguments)}(e.auth).then(r=>{console.log(`LOL: Logging in for USER: ${r.user.uid}, PROV: ${r.providerId}, OP: ${r.operationType}`)}).catch(r=>{console.log(`LOL: error on sign in: ${r.code} MESS: ${r.message}`)})})()}observeAuthState(e){return new ee.c(i=>{e.onAuthStateChanged(c=>c?i.next(c):null,c=>i.error(c),()=>i.complete())})}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO($6))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var OU=P(5505);const H6=Symbol.for("Dexie"),kO=globalThis[H6]||(globalThis[H6]=OU);if(OU.semVer!==kO.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${OU.semVer} and ${kO.semVer}`);var NO=P(1744),FO="docs",z6="attachments",W6=new Map,LO=new Map;function PU(){return(PU=(0,M.A)(function*(n){var t=yield n,r=LO.get(n)-1;0===r?(t.dexieDb.close(),LO.delete(n)):LO.set(n,r)})).apply(this,arguments)}var kU="__";function ZC(n){var t=n.split(".");if(t.length>1)return t.map(r=>ZC(r)).join(".");if(n.startsWith("|")){var e=n.substring(1);return kU+e}return n}function K6(n){var t=n.split(".");return t.length>1?t.map(r=>K6(r)).join("."):n.startsWith(kU)?"|"+n.substring(kU.length):n}function JY(n,t){return t&&(t=NU(t=(0,Ns.FD)(t)),n.forEach(e=>{var r=(0,NO.UU)(t,e);(0,NO.oq)(t,e,r?"1":"0")}),t)}function q6(n,t){return t&&(t=FU(t=(0,Ns.FD)(t)),n.forEach(e=>{var r=(0,NO.UU)(t,e);(0,NO.oq)(t,e,"1"===r)}),t)}function NU(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>NU(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,r])=>{"object"==typeof r&&(r=NU(r)),t[ZC(e)]=r}),t}}function FU(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>FU(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,r])=>{("object"==typeof r||Array.isArray(n))&&(r=FU(r)),t[K6(e)]=r}),t}}function eZ(n){var t=[],e=(0,Ic.xQ)(n.primaryKey);t.push([e]),t.push(["_deleted",e]),n.indexes&&n.indexes.forEach(c=>{var d=(0,za.$r)(c);t.push(d)}),t.push(["_meta.lwt",e]),t.push(["_meta.lwt"]);var r=(t=t.map(c=>c.map(d=>ZC(d)))).map(c=>1===c.length?c[0]:"["+c.join("+")+"]");return(r=r.filter((c,d,f)=>f.indexOf(c)===d)).join(", ")}function X6(n,t){return LU.apply(this,arguments)}function LU(){return(LU=(0,M.A)(function*(n,t){var e=yield n;return(yield e.dexieTable.bulkGet(t)).map(i=>q6(e.booleanIndexes,i))})).apply(this,arguments)}function VO(n,t){return n+"||"+t}function tZ(n){var t=new Set,e=[];return n.indexes?(n.indexes.forEach(r=>{(0,za.$r)(r).forEach(c=>{t.has(c)||(t.add(c),"boolean"===(0,Ic.nT)(n,c).type&&e.push(c))})}),e.push("_deleted"),(0,za.jw)(e)):e}var BO=P(7014),nZ=P(6243),Q6=P(997),Y6=P(5365);function Z6(n){return n===Q6.OK?-1/0:n}function J6(n,t,e){return n.includes(t)?e===Q6.g0||!0===e?"1":"0":e}function e8(n,t,e){if(!e){if(typeof window>"u")throw new Error("IDBKeyRange missing");e=window.IDBKeyRange}var r=t.startKeys.map((d,f)=>J6(n,t.index[f],d)).map(Z6),i=t.endKeys.map((d,f)=>J6(n,t.index[f],d)).map(Z6);return e.bound(r,i,!t.inclusiveStart,!t.inclusiveEnd)}function t8(n,t){return VU.apply(this,arguments)}function VU(){return VU=(0,M.A)(function*(n,t){var e=yield n.internals,r=t.query,i=r.skip?r.skip:0,d=i+(r.limit?r.limit:1/0),f=t.queryPlan,m=!1;f.selectorSatisfiedByIndex||(m=(0,Y6.Lr)(n.schema,t.query));var w=e8(e.booleanIndexes,f,e.dexieDb._options.IDBKeyRange),A=f.index,R=[];if(yield e.dexieDb.transaction("r",e.dexieTable,function(){var q=(0,M.A)(function*(me){var _t,fe=me.idbtrans.objectStore(FO);_t="["+A.map(Ht=>ZC(Ht)).join("+")+"]";var bt=fe.index(_t).openCursor(w);yield new Promise(Ht=>{bt.onsuccess=function(_n){var sn=_n.target.result;if(sn){var Ve=q6(e.booleanIndexes,sn.value);(!m||m(Ve))&&R.push(Ve),f.sortSatisfiedByIndex&&R.length===d?Ht():sn.continue()}else Ht()}})});return function(me){return q.apply(this,arguments)}}()),!f.sortSatisfiedByIndex){var B=(0,Y6.Xw)(n.schema,t.query);R=R.sort(B)}return{documents:R=R.slice(i,d)}}),VU.apply(this,arguments)}function BU(){return BU=(0,M.A)(function*(n,t){var e=yield n.internals,r=t.queryPlan,i=r.index,c=e8(e.booleanIndexes,r,e.dexieDb._options.IDBKeyRange),d=-1;return yield e.dexieDb.transaction("r",e.dexieTable,function(){var f=(0,M.A)(function*(m){var B,A=m.idbtrans.objectStore(FO);B="["+i.map(me=>ZC(me)).join("+")+"]";var q=A.index(B).count(c);d=yield new Promise((me,pe)=>{q.onsuccess=function(){me(q.result)},q.onerror=fe=>pe(fe)})});return function(m){return f.apply(this,arguments)}}()),d}),BU.apply(this,arguments)}var iZ=(0,bb.t)(),UU=!1,oZ=function(){function n(e,r,i,c,d,f,m,w){this.changes$=new U.B,this.instanceId=iZ++,this.storage=e,this.databaseName=r,this.collectionName=i,this.schema=c,this.internals=d,this.options=f,this.settings=m,this.devMode=w,this.primaryPath=(0,Ic.xQ)(this.schema.primaryKey)}var t=n.prototype;return t.bulkWrite=function(){var e=(0,M.A)(function*(i,c){var d=this;dg(this),!UU&&(!BO.P.premium||"string"!=typeof BO.P.premium||(yield(0,nZ.V0)(BO.P.premium))!==BO.Y)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join("\n")),UU=!0,i.forEach(B=>{if(!B.document._rev||B.previous&&!B.previous._rev)throw(0,su.Br)("SNH",{args:{row:B}})});var f=yield this.internals,m={error:[]};this.devMode&&(i=i.map(B=>{var q=(0,Ls.C9)(B.document);return{previous:B.previous,document:q}}));var A,w=i.map(B=>B.document[this.primaryPath]);if(yield f.dexieDb.transaction("rw",f.dexieTable,f.dexieAttachmentsTable,(0,M.A)(function*(){var B=new Map;(yield X6(d.internals,w)).forEach(fe=>{var dt=fe;return dt&&B.set(dt[d.primaryPath],dt),dt}),A=(0,Ls.gi)(d,d.primaryPath,B,i,c),m.error=A.errors;var me=[];A.bulkInsertDocs.forEach(fe=>{me.push(fe.document)}),A.bulkUpdateDocs.forEach(fe=>{me.push(fe.document)}),(me=me.map(fe=>JY(f.booleanIndexes,fe))).length>0&&(yield f.dexieTable.bulkPut(me));var pe=[];A.attachmentsAdd.forEach(fe=>{pe.push({id:VO(fe.documentId,fe.attachmentId),data:fe.attachmentData.data})}),A.attachmentsUpdate.forEach(fe=>{pe.push({id:VO(fe.documentId,fe.attachmentId),data:fe.attachmentData.data})}),yield f.dexieAttachmentsTable.bulkPut(pe),yield f.dexieAttachmentsTable.bulkDelete(A.attachmentsRemove.map(fe=>VO(fe.documentId,fe.attachmentId)))})),(A=(0,Si.ZN)(A)).eventBulk.events.length>0){var R=(0,Si.ZN)(A.newestRow).document;A.eventBulk.checkpoint={id:R[this.primaryPath],lwt:R._meta.lwt},A.eventBulk.endTime=(0,bb.t)(),this.changes$.next(A.eventBulk)}return m});return function r(i,c){return e.apply(this,arguments)}}(),t.findDocumentsById=function(){var e=(0,M.A)(function*(i,c){var d=this;dg(this);var f=yield this.internals,m=[];return yield f.dexieDb.transaction("r",f.dexieTable,(0,M.A)(function*(){(yield X6(d.internals,i)).forEach(A=>{A&&(!A._deleted||c)&&m.push(A)})})),m});return function r(i,c){return e.apply(this,arguments)}}(),t.query=function(r){return dg(this),t8(this,r)},t.count=function(){var e=(0,M.A)(function*(i){if(i.queryPlan.selectorSatisfiedByIndex){var c=yield function rZ(n,t){return BU.apply(this,arguments)}(this,i);return{count:c,mode:"fast"}}return{count:(yield t8(this,i)).documents.length,mode:"slow"}});return function r(i){return e.apply(this,arguments)}}(),t.changeStream=function(){return dg(this),this.changes$.asObservable()},t.cleanup=function(){var e=(0,M.A)(function*(i){var c=this;dg(this);var d=yield this.internals;return yield d.dexieDb.transaction("rw",d.dexieTable,(0,M.A)(function*(){var f=(0,bb.t)()-i,m=yield d.dexieTable.where("_meta.lwt").below(f).toArray(),w=[];m.forEach(A=>{"1"===A._deleted&&w.push(A[c.primaryPath])}),yield d.dexieTable.bulkDelete(w)})),!0});return function r(i){return e.apply(this,arguments)}}(),t.getAttachmentData=function(){var e=(0,M.A)(function*(i,c,d){dg(this);var f=yield this.internals,m=VO(i,c);return yield f.dexieDb.transaction("r",f.dexieAttachmentsTable,(0,M.A)(function*(){var w=yield f.dexieAttachmentsTable.get(m);if(w)return w.data;throw new Error("attachment missing documentId: "+i+" attachmentId: "+c)}))});return function r(i,c,d){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,M.A)(function*(){dg(this);var i=yield this.internals;return yield i.dexieTable.clear(),this.close()});return function r(){return e.apply(this,arguments)}}(),t.close=function(){var r=this;return this.closed||(this.closed=(0,M.A)(function*(){r.changes$.complete(),yield function ZY(n){return PU.apply(this,arguments)}(r.internals)})()),this.closed},t.conflictResultionTasks=function(){return new U.B},t.resolveConflictResultionTask=function(){var e=(0,M.A)(function*(i){});return function r(i){return e.apply(this,arguments)}}(),n}();function jU(){return(jU=(0,M.A)(function*(n,t,e){var r=function YY(n,t,e,r){var i="rxdb-dexie-"+n+"--"+r.version+"--"+t,c=(0,vU.q)(W6,i,()=>{var d=(0,M.A)(function*(){var f=(0,Ns.FD)(e);f.autoOpen=!1;var m=new kO(i,f),w={[FO]:eZ(r),changes:"++sequence, id",[z6]:"id"};return m.version(1).stores(w),yield m.open(),{dexieDb:m,dexieTable:m[FO],dexieAttachmentsTable:m[z6],booleanIndexes:tZ(r)}})();return W6.set(i,c),LO.set(c,0),d});return c}(t.databaseName,t.collectionName,e,t.schema),i=new oZ(n,t.databaseName,t.collectionName,t.schema,r,t.options,e,t.devMode);return yield EY("dexie",t,i),Promise.resolve(i)})).apply(this,arguments)}function dg(n){if(n.closed)throw new Error("RxStorageInstanceDexie is closed "+n.databaseName+"-"+n.collectionName)}var aZ=P(6052),cZ=function(){function n(e){this.name="dexie",this.rxdbVersion=aZ.o,this.settings=e}return n.prototype.createStorageInstance=function(r){return(0,Ls.pZ)(r),function sZ(n,t,e){return jU.apply(this,arguments)}(this,r,this.settings)},n}();function lZ(n={}){return new cZ(n)}var $U={minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0},HU=Fs.Ms;function zU(){return zU=(0,M.A)(function*(n){var t=n.database,e=Object.assign({},$U,t.cleanupPolicy?t.cleanupPolicy:{});yield n8(n,e),!n.destroyed&&(yield r8(n,e),yield function dZ(n,t){return KU.apply(this,arguments)}(n,e))}),zU.apply(this,arguments)}function n8(n,t){return GU.apply(this,arguments)}function GU(){return(GU=(0,M.A)(function*(n,t){yield n.promiseWait(t.minimumCollectionAge),!n.destroyed&&t.waitForLeadership&&(yield n.database.waitForLeadership())})).apply(this,arguments)}function r8(n,t){return WU.apply(this,arguments)}function WU(){return(WU=(0,M.A)(function*(n,t){for(var e=n.database,r=n.storageInstance,i=!1;!i&&!n.destroyed;){if(t.awaitReplicationsInSync){var c=MU.get(n);c&&(yield Promise.all(c.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(n.destroyed)return;HU=HU.then((0,M.A)(function*(){return!!n.destroyed||(yield e.requestIdlePromise(),r.cleanup(t.minimumDeletedTime))})),i=yield HU}})).apply(this,arguments)}function KU(){return(KU=(0,M.A)(function*(n,t){for(;!n.destroyed;){if(yield n.promiseWait(t.runEach),n.destroyed)return;yield r8(n,t)}})).apply(this,arguments)}var qU=Fs.Ms;function XU(){return XU=(0,M.A)(function*(n){var t=n.collection,e=t.database,r=Object.assign({},$U,e.cleanupPolicy?e.cleanupPolicy:{});yield n8(t,r),!t.destroyed&&(yield i8(n,r),yield function fZ(n,t){return YU.apply(this,arguments)}(n,r))}),XU.apply(this,arguments)}function i8(n,t){return QU.apply(this,arguments)}function QU(){return(QU=(0,M.A)(function*(n,t){for(var e=n.collection,r=e.database,i=!1;!i&&!e.destroyed;){if(t.awaitReplicationsInSync){var c=MU.get(e);c&&(yield Promise.all(c.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(e.destroyed)return;qU=qU.then((0,M.A)(function*(){return!!e.destroyed||(yield r.requestIdlePromise(),n._cleanup())})),i=yield qU}})).apply(this,arguments)}function YU(){return(YU=(0,M.A)(function*(n,t){for(var e=n.collection;!e.destroyed;){if(yield e.promiseWait(t.runEach),e.destroyed)return;yield i8(n,t)}})).apply(this,arguments)}var pZ={name:"cleanup",rxdb:!0,prototypes:{RxCollection:n=>{n.cleanup=function(){var t=(0,M.A)(function*(e){var r=Object.assign({},$U,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof e>"u"&&(e=r.minimumDeletedTime);for(var i=!1;!i&&!this.destroyed;)i=yield this.storageInstance.cleanup(e)});return function(e){return t.apply(this,arguments)}}()}},hooks:{createRxCollection:{after:n=>{!function uZ(n){zU.apply(this,arguments)}(n.collection)}},createRxState:{after:n=>{!function hZ(n){XU.apply(this,arguments)}(n.state)}}}};const o8={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var UO,gZ=new Uint8Array(16);function _Z(){if(!UO&&!(UO=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return UO(gZ)}for(var Yo=[],ZU=0;ZU<256;++ZU)Yo.push((ZU+256).toString(16).slice(1));const yZ=function vZ(n,t,e){if(o8.randomUUID&&!t&&!n)return o8.randomUUID();var r=(n=n||{}).random||(n.rng||_Z)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=r[i];return t}return function s8(n,t=0){return(Yo[n[t+0]]+Yo[n[t+1]]+Yo[n[t+2]]+Yo[n[t+3]]+"-"+Yo[n[t+4]]+Yo[n[t+5]]+"-"+Yo[n[t+6]]+Yo[n[t+7]]+"-"+Yo[n[t+8]]+Yo[n[t+9]]+"-"+Yo[n[t+10]]+Yo[n[t+11]]+Yo[n[t+12]]+Yo[n[t+13]]+Yo[n[t+14]]+Yo[n[t+15]]).toLowerCase()}(r)};let dd=(()=>{class n{constructor(e){this.remoteDbService=e,this.localDb=this.setupLocalDb("local_db",cF)}setupLocalDb(e,r){return(0,M.A)(function*(){(0,l.naY)()&&(yield P.e(486).then(P.bind(P,6486)).then(c=>PO(c.RxDBDevModePlugin))),PO(T6),PO(pZ);const i=yield(0,V6.uh)({name:e,storage:lZ(),eventReduce:!0,cleanupPolicy:{minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0}});return yield i.addCollections(r),i})()}addDocument(e,r,i){return this.localDb.then(c=>{const d={...r,id:i||yZ()};return c[e].insert(d)}).catch(c=>{throw console.log(`LOL: Error on adding document into ${e}: ${c}`),new Error(`LOL: Error on adding document into ${e}: ${c}`)})}getDocumentsByIds(e,r){return this.localDb.then(i=>i[e].findByIds(r).$).catch(i=>{throw console.log(`LOL: Error on getting document from ${e}: ${i}`),new Error(`LOL: Error on getting document from ${e}: ${i}`)})}getDocumentById(e,r){var i=this;return(0,M.A)(function*(){return(yield i.getDocumentsByIds(e,[r])).pipe((0,xe.T)(d=>d.get(r)))})()}getAllCollectionDocs(e){return this.localDb.then(r=>r[e].find().$).catch(r=>{throw console.log(`LOL: Error on getting document from ${e}: ${r}`),new Error(`LOL: Error on getting document from ${e}: ${r}`)})}updateDocument(e,r,i){var c=this;return(0,M.A)(function*(){return(yield c.localDb)[e].findByIds([r]).exec().then(f=>f.get(r)).then(f=>f.patch(i)).catch(f=>{throw console.log(`LOL: Error on updating document id: ${r} in collection ${e}: ${f}`),new Error(`LOL: Error on updating document id: ${r} in collection ${e}: ${f}`)})})()}deleteDocument(e,r){var i=this;return(0,M.A)(function*(){return(yield i.localDb)[e].findByIds([r]).exec().then(d=>d.get(r)).then(d=>d.remove()).catch(d=>{throw console.log(`LOL: Error on removing document id: ${r} from collection: ${e}`),new Error(`LOL: Error on removing document id: ${r} from collection: ${e}`)})})()}cleanupCollection(e){var r=this;return(0,M.A)(function*(){yield(yield r.localDb)[e].cleanup(0)})()}replicateCollection(e){var r=this;return(0,M.A)(function*(){const i=(yield r.localDb).collections[e];r.remoteDbService.replicateCollection(e,i)})()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO($6))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const bZ=(n,t)=>t.id,EZ=n=>["/chapters",n];function wZ(n,t){if(1&n&&(l.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),l.EFF(3),l.k0s()(),l.j41(4,"mat-card-content"),l.EFF(5),l.k0s()()),2&n){const e=t.$implicit,r=t.$index;l.Y8G("routerLink",l.eq3(4,EZ,e.id)),l.R7$(3),l.Lme("",r," ",e.name,""),l.R7$(2),l.SpI(" ",e.description," ")}}let IZ=(()=>{class n{constructor(e,r){this.authService=e,this.dbService=r,this.stories$=this.getStories(),this.user$=this.authService.user$.pipe((0,xe.T)(i=>i.uid))}getStories(){var e=this;return(0,M.A)(function*(){return yield e.dbService.getAllCollectionDocs(Pr.STORIES)})()}login(){var e=this;return(0,M.A)(function*(){yield e.authService.anonymousLogin()})()}ngOnInit(){this.login()}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(XY),l.rXU(dd))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-game"]],standalone:!0,features:[l.aNF],decls:9,vars:7,consts:[["appearance","outlined",3,"routerLink"]],template:function(r,i){1&r&&(l.j41(0,"h3"),l.EFF(1,"Stories"),l.k0s(),l.j41(2,"p"),l.EFF(3),l.nI1(4,"async"),l.k0s(),l.Z7z(5,wZ,6,6,"mat-card",0,bZ),l.nI1(7,"async"),l.nI1(8,"async")),2&r&&(l.R7$(3),l.SpI("User: ",l.bMT(4,1,i.user$),""),l.R7$(2),l.Dyx(l.bMT(8,5,l.bMT(7,3,i.stories$))))},dependencies:[Vo,mr,p_,zc,wv,gc,Wl,Ev,wh],styles:[".mat-mdc-card-content[_ngcontent-%COMP%]:hover{color:red}"]})}return n})(),a8=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.sFG),l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n})}return n})(),hg=(()=>{class n extends a8{static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,features:[l.Vt3]})}return n})();const Cc=new l.nKC(""),DZ={provide:Cc,useExisting:(0,l.Rfq)(()=>JC),multi:!0},AZ=new l.nKC("");let JC=(()=>{class n extends a8{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function TZ(){const n=Q()?Q().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(AZ,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&l.bIt("input",function(d){return i._handleInput(d.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(d){return i._compositionEnd(d.target.value)})},features:[l.Jv_([DZ]),l.Vt3]})}return n})();function If(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function l8(n){return null!=n&&"number"==typeof n.length}const Po=new l.nKC(""),Cf=new l.nKC(""),SZ=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class il{static min(t){return function u8(n){return t=>{if(If(t.value)||If(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function d8(n){return t=>{if(If(t.value)||If(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function h8(n){return If(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function f8(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function p8(n){return If(n.value)||SZ.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function m8(n){return t=>If(t.value)||!l8(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function g8(n){return t=>l8(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function _8(n){if(!n)return jO;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(If(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return I8(t)}static composeAsync(t){return C8(t)}}function jO(n){return null}function v8(n){return null!=n}function y8(n){return(0,l.jNT)(n)?(0,Be.H)(n):n}function b8(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function E8(n,t){return t.map(e=>e(n))}function w8(n){return n.map(t=>function xZ(n){return!n.validate}(t)?t:e=>t.validate(e))}function I8(n){if(!n)return null;const t=n.filter(v8);return 0==t.length?null:function(e){return b8(E8(e,t))}}function JU(n){return null!=n?I8(w8(n)):null}function C8(n){if(!n)return null;const t=n.filter(v8);return 0==t.length?null:function(e){return DE(E8(e,t).map(y8)).pipe((0,xe.T)(b8))}}function ej(n){return null!=n?C8(w8(n)):null}function D8(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function T8(n){return n._rawValidators}function A8(n){return n._rawAsyncValidators}function tj(n){return n?Array.isArray(n)?n:[n]:[]}function $O(n,t){return Array.isArray(n)?n.includes(t):n===t}function S8(n,t){const e=tj(t);return tj(n).forEach(i=>{$O(e,i)||e.push(i)}),e}function x8(n,t){return tj(t).filter(e=>!$O(n,e))}class M8{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=JU(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ej(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Vs extends M8{get formDirective(){return null}get path(){return null}}class ol extends M8{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class R8{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let nj=(()=>{class n extends R8{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(ol,2))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&l.AVh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.Vt3]})}return n})(),rj=(()=>{class n extends R8{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Vs,10))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&l.AVh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.Vt3]})}return n})();const eD="VALID",zO="INVALID",Eb="PENDING",tD="DISABLED";class wb{}class P8 extends wb{constructor(t,e){super(),this.value=t,this.source=e}}class sj extends wb{constructor(t,e){super(),this.pristine=t,this.source=e}}class aj extends wb{constructor(t,e){super(),this.touched=t,this.source=e}}class GO extends wb{constructor(t,e){super(),this.status=t,this.source=e}}class kZ extends wb{constructor(t){super(),this.source=t}}class NZ extends wb{constructor(t){super(),this.source=t}}function cj(n){return(WO(n)?n.validators:n)||null}function lj(n,t){return(WO(t)?t.asyncValidators:n)||null}function WO(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function k8(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.wOt(1e3,"");if(!r[e])throw new l.wOt(1001,"")}function N8(n,t,e){n._forEachChild((r,i)=>{if(void 0===e[i])throw new l.wOt(1002,"")})}class KO{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,l.EWP)(()=>this.statusReactive()),this.statusReactive=(0,l.vPA)(void 0),this._pristine=(0,l.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,l.vPA)(!0),this._touched=(0,l.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,l.vPA)(!1),this._events=new U.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return(0,l.O8t)(this.statusReactive)}set status(t){(0,l.O8t)(()=>this.statusReactive.set(t))}get valid(){return this.status===eD}get invalid(){return this.status===zO}get pending(){return this.status==Eb}get disabled(){return this.status===tD}get enabled(){return this.status!==tD}get pristine(){return(0,l.O8t)(this.pristineReactive)}set pristine(t){(0,l.O8t)(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return(0,l.O8t)(this.touchedReactive)}set touched(t){(0,l.O8t)(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(S8(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(S8(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(x8(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(x8(t,this._rawAsyncValidators))}hasValidator(t){return $O(this._rawValidators,t)}hasAsyncValidator(t){return $O(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),e&&!1!==t.emitEvent&&this._events.next(new aj(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&!1!==t.emitEvent&&this._events.next(new aj(!1,r))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),e&&!1!==t.emitEvent&&this._events.next(new sj(!1,r))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&!1!==t.emitEvent&&this._events.next(new sj(!0,r))}markAsPending(t={}){this.status=Eb;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new GO(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tD,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new P8(this.value,r)),this._events.next(new GO(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=eD,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===eD||this.status===Eb)&&this._runAsyncValidator(r,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new P8(this.value,e)),this._events.next(new GO(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tD:eD}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Eb,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const r=y8(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,i)=>r&&r._find(i),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new GO(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?tD:this.errors?zO:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eb)?Eb:this._anyControlsHaveStatus(zO)?zO:eD}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new sj(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new aj(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){WO(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function FZ(n){return Array.isArray(n)?JU(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function LZ(n){return Array.isArray(n)?ej(n):n||null}(this._rawAsyncValidators)}}class nD extends KO{constructor(t,e,r){super(cj(e),lj(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){N8(this,0,t),Object.keys(t).forEach(r=>{k8(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,i)=>((r.enabled||this.disabled)&&(e[i]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,c)=>{r=e(r,i,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class F8 extends nD{}const Ib=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>qO}),qO="always";function rD(n,t,e=qO){uj(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function BZ(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&L8(n,t)})}(n,t),function jZ(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function UZ(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&L8(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function VZ(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function QO(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),ZO(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function YO(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function uj(n,t){const e=T8(n);null!==t.validator?n.setValidators(D8(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=A8(n);null!==t.asyncValidator?n.setAsyncValidators(D8(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();YO(t._rawValidators,i),YO(t._rawAsyncValidators,i)}function ZO(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=T8(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(d=>d!==t.validator);c.length!==i.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const i=A8(n);if(Array.isArray(i)&&i.length>0){const c=i.filter(d=>d!==t.asyncValidator);c.length!==i.length&&(e=!0,n.setAsyncValidators(c))}}}const r=()=>{};return YO(t._rawValidators,r),YO(t._rawAsyncValidators,r),e}function L8(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function V8(n,t){uj(n,t)}function B8(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const WZ={provide:Vs,useExisting:(0,l.Rfq)(()=>Cb)},iD=Promise.resolve();let Cb=(()=>{class n extends Vs{get submitted(){return(0,l.O8t)(this.submittedReactive)}constructor(e,r,i){super(),this.callSetDisabledState=i,this._submitted=(0,l.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,l.vPA)(!1),this._directives=new Set,this.ngSubmit=new l.bkB,this.form=new nD({},JU(e),ej(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){iD.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),rD(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){iD.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){iD.then(()=>{const r=this._findContainer(e.path),i=new nD({});V8(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){iD.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){iD.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),B8(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Po,10),l.rXU(Cf,10),l.rXU(Ib,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&l.bIt("submit",function(d){return i.onSubmit(d)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([WZ]),l.Vt3]})}return n})();function U8(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function j8(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const oD=class extends KO{constructor(t=null,e,r){super(cj(e),lj(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),WO(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=j8(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){U8(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){U8(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){j8(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};Promise.resolve();let pj=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const QZ={provide:Cc,useExisting:(0,l.Rfq)(()=>mj),multi:!0};let mj=(()=>{class n extends hg{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){1&r&&l.bIt("input",function(d){return i.onChange(d.target.value)})("blur",function(){return i.onTouched()})},features:[l.Jv_([QZ]),l.Vt3]})}return n})();const gj=new l.nKC(""),tJ={provide:Vs,useExisting:(0,l.Rfq)(()=>Df)};let Df=(()=>{class n extends Vs{get submitted(){return(0,l.O8t)(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,r,i){super(),this.callSetDisabledState=i,this._submitted=(0,l.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,l.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.bkB,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ZO(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return rD(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){QO(e.control||null,e,!1),function GZ(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),B8(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new kZ(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new NZ(this.form))}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(QO(r||null,e),(n=>n instanceof oD)(i)&&(rD(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);V8(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function $Z(n,t){return ZO(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){uj(this.form,this),this._oldForm&&ZO(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Po,10),l.rXU(Cf,10),l.rXU(Ib,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&l.bIt("submit",function(d){return i.onSubmit(d)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([tJ]),l.Vt3,l.OA$]})}return n})();const iJ={provide:ol,useExisting:(0,l.Rfq)(()=>JO)};let JO=(()=>{class n extends ol{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,r,i,c,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new l.bkB,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function fj(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(c=>{c.constructor===JC?e=c:function zZ(n){return Object.getPrototypeOf(n.constructor)===hg}(c)?r=c:i=c}),i||r||e||null}(0,c)}ngOnChanges(e){this._added||this._setUpControl(),function hj(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function XO(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(l.rXU(Vs,13),l.rXU(Po,10),l.rXU(Cf,10),l.rXU(Cc,10),l.rXU(gj,8))};static#n=this.\u0275dir=l.FsC({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.Jv_([iJ]),l.Vt3,l.OA$]})}return n})(),yJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();class sW extends KO{constructor(t,e,r){super(cj(e),lj(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){N8(this,0,t),t.forEach((r,i)=>{k8(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function aW(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let bJ=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const i=this._reduceControls(e);let c={};return aW(r)?c=r:null!==r&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new nD(i,c)}record(e,r=null){const i=this._reduceControls(e);return new F8(i,r)}control(e,r,i){let c={};return this.useNonNullable?(aW(r)?c=r:(c.validators=r,c.asyncValidators=i),new oD(e,{...c,nonNullable:!0})):new oD(e,r,i)}array(e,r,i){const c=e.map(d=>this._createControl(d));return new sW(c,r,i)}_reduceControls(e){const r={};return Object.keys(e).forEach(i=>{r[i]=this._createControl(e[i])}),r}_createControl(e){return e instanceof oD||e instanceof KO?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(bJ).nonNullable,providedIn:"root"})}return n})(),lW=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:gj,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ib,useValue:e.callSetDisabledState??qO}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[yJ]})}return n})();var EJ=P(6496);class wJ{constructor(t){this._box=t,this._destroyed=new U.B,this._resizeSubject=new U.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new ee.c(e=>{const r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),r.unsubscribe(),this._elementObservables.delete(t)}}).pipe((0,Bn.p)(e=>e.some(r=>r.target===t)),(0,EJ.t)({bufferSize:1,refCount:!0}),Tr(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let IJ=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,l.WQX)(l.SKi)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,r){const i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new wJ(i)),this._observers.get(i).observe(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CJ=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DJ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[CJ]})}return n})();const TJ=["notch"],AJ=["matFormFieldNotchedOutline",""],SJ=["*"],xJ=["textField"],MJ=["iconPrefixContainer"],RJ=["textPrefixContainer"],OJ=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],PJ=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function kJ(n,t){1&n&&l.nrm(0,"span",19)}function NJ(n,t){if(1&n&&(l.j41(0,"label",18),l.SdG(1,1),l.DNE(2,kJ,1,0,"span",19),l.k0s()),2&n){const e=l.XpG(2);l.Y8G("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),l.BMQ("for",e._control.disableAutomaticLabeling?null:e._control.id),l.R7$(2),l.vxM(!e.hideRequiredMarker&&e._control.required?2:-1)}}function FJ(n,t){if(1&n&&l.DNE(0,NJ,3,5,"label",18),2&n){const e=l.XpG();l.vxM(e._hasFloatingLabel()?0:-1)}}function LJ(n,t){1&n&&l.nrm(0,"div",5)}function VJ(n,t){}function BJ(n,t){if(1&n&&l.DNE(0,VJ,0,0,"ng-template",11),2&n){l.XpG(2);const e=l.sdS(1);l.Y8G("ngTemplateOutlet",e)}}function UJ(n,t){if(1&n&&(l.j41(0,"div",7),l.DNE(1,BJ,1,1,null,11),l.k0s()),2&n){const e=l.XpG();l.Y8G("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),l.R7$(),l.vxM(e._forceDisplayInfixLabel()?-1:1)}}function jJ(n,t){1&n&&(l.j41(0,"div",8,2),l.SdG(2,2),l.k0s())}function $J(n,t){1&n&&(l.j41(0,"div",9,3),l.SdG(2,3),l.k0s())}function HJ(n,t){}function zJ(n,t){if(1&n&&l.DNE(0,HJ,0,0,"ng-template",11),2&n){l.XpG();const e=l.sdS(1);l.Y8G("ngTemplateOutlet",e)}}function GJ(n,t){1&n&&(l.j41(0,"div",12),l.SdG(1,4),l.k0s())}function WJ(n,t){1&n&&(l.j41(0,"div",13),l.SdG(1,5),l.k0s())}function KJ(n,t){1&n&&l.nrm(0,"div",14)}function qJ(n,t){if(1&n&&(l.j41(0,"div",16),l.SdG(1,6),l.k0s()),2&n){const e=l.XpG();l.Y8G("@transitionMessages",e._subscriptAnimationState)}}function XJ(n,t){if(1&n&&(l.j41(0,"mat-hint",20),l.EFF(1),l.k0s()),2&n){const e=l.XpG(2);l.Y8G("id",e._hintLabelId),l.R7$(),l.JRh(e.hintLabel)}}function QJ(n,t){if(1&n&&(l.j41(0,"div",17),l.DNE(1,XJ,2,2,"mat-hint",20),l.SdG(2,7),l.nrm(3,"div",21),l.SdG(4,8),l.k0s()),2&n){const e=l.XpG();l.Y8G("@transitionMessages",e._subscriptAnimationState),l.R7$(),l.vxM(e.hintLabel?1:-1)}}let eP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-label"]],standalone:!0})}return n})();const YJ=new l.nKC("MatError");let ZJ=0,uW=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+ZJ++}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){2&r&&(l.Mr5("id",i.id),l.BMQ("align",null),l.AVh("mat-mdc-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},standalone:!0})}return n})();const JJ=new l.nKC("MatPrefix"),eee=new l.nKC("MatSuffix"),dW=new l.nKC("FloatingLabelParent");let hW=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,l.WQX)(IJ),this._ngZone=(0,l.WQX)(l.SKi),this._parent=(0,l.WQX)(dW),this._resizeSubscription=new ie.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function tee(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return n})();const fW="mdc-line-ripple--active",tP="mdc-line-ripple--deactivating";let pW=(()=>{class n{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=i=>{const c=this._elementRef.nativeElement.classList,d=c.contains(tP);"opacity"===i.propertyName&&d&&c.remove(fW,tP)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(tP),e.add(fW)}deactivate(){this._elementRef.nativeElement.classList.add(tP)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return n})(),mW=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(1&r&&l.GBs(TJ,5),2&r){let c;l.mGM(c=l.lsd())&&(i._notch=c.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){2&r&&l.AVh("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[l.aNF],attrs:AJ,ngContentSelectors:SJ,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){1&r&&(l.NAR(),l.nrm(0,"div",1),l.j41(1,"div",2,0),l.SdG(3),l.k0s(),l.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const nee={transitionMessages:(0,wn.hZ)("transitionMessages",[(0,wn.wk)("enter",(0,wn.iF)({opacity:1,transform:"translateY(0%)"})),(0,wn.kY)("void => enter",[(0,wn.iF)({opacity:0,transform:"translateY(-5px)"}),(0,wn.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let nP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n})}return n})();const rP=new l.nKC("MatFormField"),ree=new l.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let gW=0,yW=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=S_(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,i,c,d,f,m,w){this._elementRef=e,this._changeDetectorRef=r,this._dir=c,this._platform=d,this._defaults=f,this._animationMode=m,this._labelChild=(0,l.sbv)(eP),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+gW++,this._hintLabelId="mat-mdc-hint-"+gW++,this._subscriptAnimationState="",this._destroyed=new U.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,l.WQX)(l.zZn),this.getLabelId=(0,l.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,l.EWP)(()=>!!this._labelChild()),f&&(f.appearance&&(this.appearance=f.appearance),this._hideRequiredMarker=!!f?.hideRequiredMarker,f.color&&(this.color=f.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Tr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,Ei.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,l.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(Tr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,i=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const r=this._iconPrefixContainer?.nativeElement,i=this._textPrefixContainer?.nativeElement,c=r?.getBoundingClientRect().width??0,d=i?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${c+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(fc),l.rXU(hi),l.rXU(ree,8),l.rXU(l.bc$,8),l.rXU(Te))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,c){if(1&r&&(l.C6U(c,i._labelChild,eP,5),l.wni(c,nP,5),l.wni(c,JJ,5),l.wni(c,eee,5),l.wni(c,YJ,5),l.wni(c,uW,5)),2&r){let d;l.NyB(),l.mGM(d=l.lsd())&&(i._formFieldControl=d.first),l.mGM(d=l.lsd())&&(i._prefixChildren=d),l.mGM(d=l.lsd())&&(i._suffixChildren=d),l.mGM(d=l.lsd())&&(i._errorChildren=d),l.mGM(d=l.lsd())&&(i._hintChildren=d)}},viewQuery:function(r,i){if(1&r&&(l.GBs(xJ,5),l.GBs(MJ,5),l.GBs(RJ,5),l.GBs(hW,5),l.GBs(mW,5),l.GBs(pW,5)),2&r){let c;l.mGM(c=l.lsd())&&(i._textField=c.first),l.mGM(c=l.lsd())&&(i._iconPrefixContainer=c.first),l.mGM(c=l.lsd())&&(i._textPrefixContainer=c.first),l.mGM(c=l.lsd())&&(i._floatingLabel=c.first),l.mGM(c=l.lsd())&&(i._notchedOutline=c.first),l.mGM(c=l.lsd())&&(i._lineRipple=c.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,i){2&r&&l.AVh("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===i._animationMode)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-focused",i._control.focused)("mat-primary","accent"!==i.color&&"warn"!==i.color)("mat-accent","accent"===i.color)("mat-warn","warn"===i.color)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[l.Jv_([{provide:rP,useExisting:n},{provide:dW,useExisting:n}]),l.aNF],ngContentSelectors:PJ,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(1&r){const c=l.RV6();l.NAR(OJ),l.DNE(0,FJ,1,1,"ng-template",null,0,l.C5r),l.j41(2,"div",4,1),l.bIt("click",function(f){return l.eBV(c),l.Njj(i._control.onContainerClick(f))}),l.DNE(4,LJ,1,0,"div",5),l.j41(5,"div",6),l.DNE(6,UJ,2,2,"div",7)(7,jJ,3,0,"div",8)(8,$J,3,0,"div",9),l.j41(9,"div",10),l.DNE(10,zJ,1,1,null,11),l.SdG(11),l.k0s(),l.DNE(12,GJ,2,0,"div",12)(13,WJ,2,0,"div",13),l.k0s(),l.DNE(14,KJ,1,0,"div",14),l.k0s(),l.j41(15,"div",15),l.DNE(16,qJ,2,1,"div",16)(17,QJ,5,2,"div",17),l.k0s()}if(2&r){let c;l.R7$(2),l.AVh("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),l.R7$(2),l.vxM(i._hasOutline()||i._control.disabled?-1:4),l.R7$(2),l.vxM(i._hasOutline()?6:-1),l.R7$(),l.vxM(i._hasIconPrefix?7:-1),l.R7$(),l.vxM(i._hasTextPrefix?8:-1),l.R7$(2),l.vxM(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),l.R7$(2),l.vxM(i._hasTextSuffix?12:-1),l.R7$(),l.vxM(i._hasIconSuffix?13:-1),l.R7$(),l.vxM(i._hasOutline()?-1:14),l.R7$(),l.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===i.subscriptSizing),l.R7$(),l.vxM("error"===(c=i._getDisplayedMessages())?16:"hint"===c?17:-1)}},dependencies:[hW,mW,hl,pW,uW],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[nee.transitionMessages]},changeDetection:0})}return n})(),sD=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Or,Vo,DJ,Or]})}return n})();const bW=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],EW=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function see(n,t){1&n&&(l.j41(0,"span",3),l.SdG(1,1),l.k0s())}function aee(n,t){1&n&&(l.j41(0,"span",6),l.SdG(1,2),l.k0s())}const Ij=["*"],iP=new l.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),Cj=new l.nKC("MatChipAvatar"),Dj=new l.nKC("MatChipTrailingIcon"),Tj=new l.nKC("MatChipRemove"),oP=new l.nKC("MatChip");let Db=(()=>{class n{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=e}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,r){this._elementRef=e,this._parentChip=r,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(oP))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._handleClick(d)})("keydown",function(d){return i._handleKeydown(d)}),2&r&&(l.BMQ("tabindex",i._getTabindex())("disabled",i._getDisabledAttribute())("aria-disabled",i.disabled),l.AVh("mdc-evolution-chip__action--primary",i._isPrimary)("mdc-evolution-chip__action--presentational",!i.isInteractive)("mdc-evolution-chip__action--trailing",!i._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?-1:(0,l.Udg)(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[l.GFd]})}return n})(),wee=0,Tf=(()=>{class n{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,r,i,c,d,f,m,w){this._changeDetectorRef=e,this._elementRef=r,this._ngZone=i,this._focusMonitor=c,this._globalRippleOptions=m,this._onFocus=new U.B,this._onBlur=new U.B,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+wee++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new l.bkB,this.destroyed=new l.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,l.WQX)(OA),this._injector=(0,l.WQX)(l.zZn),this._document=d,this._animationsDisabled="NoopAnimations"===f,null!=w&&(this.tabIndex=parseInt(w)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,Ei.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode&&!e.repeat||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(r=>{const i=r._elementRef.nativeElement;return i===e||i.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const r=null!==e;r!==this._hasFocusInternal&&(this._hasFocusInternal=r,r?this._onFocus.next({chip:this}):(0,l.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(ka),l.rXU(Te),l.rXU(l.bc$,8),l.rXU(wE,8),l.kS0("tabindex"))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(r,i,c){if(1&r&&(l.wni(c,Cj,5),l.wni(c,Dj,5),l.wni(c,Tj,5),l.wni(c,Cj,5),l.wni(c,Dj,5),l.wni(c,Tj,5)),2&r){let d;l.mGM(d=l.lsd())&&(i.leadingIcon=d.first),l.mGM(d=l.lsd())&&(i.trailingIcon=d.first),l.mGM(d=l.lsd())&&(i.removeIcon=d.first),l.mGM(d=l.lsd())&&(i._allLeadingIcons=d),l.mGM(d=l.lsd())&&(i._allTrailingIcons=d),l.mGM(d=l.lsd())&&(i._allRemoveIcons=d)}},viewQuery:function(r,i){if(1&r&&l.GBs(Db,5),2&r){let c;l.mGM(c=l.lsd())&&(i.primaryAction=c.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(r,i){1&r&&l.bIt("keydown",function(d){return i._handleKeydown(d)}),2&r&&(l.Mr5("id",i.id),l.BMQ("role",i.role)("tabindex",i._getTabIndex())("aria-label",i.ariaLabel),l.HbH("mat-"+(i.color||"primary")),l.AVh("mdc-evolution-chip",!i._isBasicChip)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",i.leadingIcon)("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-basic-chip",i._isBasicChip)("mat-mdc-standard-chip",!i._isBasicChip)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon())("_mat-animation-noopable",i._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",l.L39],highlighted:[2,"highlighted","highlighted",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],disabled:[2,"disabled","disabled",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,l.Udg)(e)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[l.Jv_([{provide:oP,useExisting:n}]),l.GFd,l.aNF],ngContentSelectors:EW,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(r,i){1&r&&(l.NAR(bW),l.nrm(0,"span",0),l.j41(1,"span",1)(2,"span",2),l.DNE(3,see,2,0,"span",3),l.j41(4,"span",4),l.SdG(5),l.nrm(6,"span",5),l.k0s()()(),l.DNE(7,aee,2,0,"span",6)),2&r&&(l.R7$(2),l.Y8G("isInteractive",!1),l.R7$(),l.vxM(i.leadingIcon?3:-1),l.R7$(4),l.vxM(i._hasTrailingIcon()?7:-1))},dependencies:[Db],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),aD=(()=>{class n{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,r,i){this._elementRef=e,this._changeDetectorRef=r,this._dir=i,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new U.B,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new l.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=e,this._changeDetectorRef.markForCheck()})}}_getChipStream(e){return this._chips.changes.pipe((0,jo.Z)(null),di(()=>(0,Ei.h)(...this._chips.map(e))))}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-mdc-chip"))return!0;r=r.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,jo.Z)(this._chips)).subscribe(e=>{const r=[];e.forEach(i=>i._getActions().forEach(c=>r.push(c))),this._chipActions.reset(r),this._chipActions.notifyOnChanges()}),this._keyManager=new c1(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(Tr(this._destroyed)).subscribe(({chip:e})=>{const r=e._getSourceAction(document.activeElement);r&&this._keyManager.updateActiveItem(r)}),this._dir?.change.pipe(Tr(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,jo.Z)(null),Tr(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Tr(this._destroyed)).subscribe(e=>{const i=this._chips.toArray().indexOf(e.chip);this._isValidIndex(i)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=i)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),r=this._chips.toArray()[e];r.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():r.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(fc,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-chip-set"]],contentQueries:function(r,i,c){if(1&r&&l.wni(c,Tf,5),2&r){let d;l.mGM(d=l.lsd())&&(i._chips=d)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(r,i){1&r&&l.bIt("keydown",function(d){return i._handleKeydown(d)}),2&r&&l.BMQ("role",i.role)},inputs:{disabled:[2,"disabled","disabled",l.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)]},standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:Ij,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(r,i){1&r&&(l.NAR(),l.j41(0,"div",0),l.SdG(1),l.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),AW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[U_,{provide:iP,useValue:{separatorKeyCodes:[13]}}],imports:[Or,Dp,Or]})}return n})();function See(n,t){}class aP{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let SW=(()=>{class n extends hv{constructor(e,r,i,c,d,f,m,w){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=d,this._ngZone=f,this._overlayRef=m,this._focusMonitor=w,this._platform=(0,l.WQX)(hi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,l.WQX)(l.gRc),this._injector=(0,l.WQX)(l.zZn),this._isDestroyed=!1,this.attachDomPortal=A=>{this._portalOutlet.hasAttached();const R=this._portalOutlet.attachDomPortal(A);return this._contentAttached(),R},this._document=i,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const r=this._ariaLabelledByQueue.indexOf(e);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const i=()=>{e.removeEventListener("blur",i),e.removeEventListener("mousedown",i),e.removeAttribute("tabindex")};e.addEventListener("blur",i),e.addEventListener("mousedown",i)})),e.focus(r)}_focusByCssSelector(e,r){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,r)}_trapFocus(){this._isDestroyed||(0,l.mal)(()=>{const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let r=null;if("string"==typeof e?r=this._document.querySelector(e):"boolean"==typeof e?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&"function"==typeof r.focus){const i=v_(),c=this._elementRef.nativeElement;(!i||i===this._document.body||i===c||c.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=v_();return e===r||e.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=v_()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(hA),l.rXU(Te,8),l.rXU(aP),l.rXU(M_),l.rXU(l.SKi),l.rXU(gv),l.rXU(ka))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(1&r&&l.GBs(qE,7),2&r){let c;l.mGM(c=l.lsd())&&(i._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){2&r&&l.BMQ("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},standalone:!0,features:[l.Vt3,l.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){1&r&&l.DNE(0,See,0,0,"ng-template",0)},dependencies:[qE],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class Aj{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new U.B,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!hc(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const xW=new l.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Ko);return()=>n.scrollStrategies.block()}}),xee=new l.nKC("DialogData"),Mee=new l.nKC("DefaultDialogConfig");let Oee=0,Pee=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,r,i,c,d,f){this._overlay=e,this._injector=r,this._defaultOptions=i,this._parentDialog=c,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new U.B,this._afterOpenedAtThisLevel=new U.B,this._ariaHiddenElements=new Map,this.afterAllClosed=Jt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,jo.Z)(void 0))),this._scrollStrategy=f}open(e,r){(r={...this._defaultOptions||new aP,...r}).id=r.id||"cdk-dialog-"+Oee++,r.id&&this.getDialogById(r.id);const c=this._getOverlayConfig(r),d=this._overlay.create(c),f=new Aj(d,r),m=this._attachContainer(d,f,r);return f.containerInstance=m,this._attachDialogContent(e,f,m,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){Sj(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){Sj(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Sj(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const r=new tw({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,i){const c=i.injector||i.viewContainerRef?.injector,d=[{provide:aP,useValue:i},{provide:Aj,useValue:r},{provide:gv,useValue:e}];let f;i.container?"function"==typeof i.container?f=i.container:(f=i.container.type,d.push(...i.container.providers(i))):f=SW;const m=new dv(f,i.viewContainerRef,l.zZn.create({parent:c||this._injector,providers:d}),i.componentFactoryResolver);return e.attach(m).instance}_attachDialogContent(e,r,i,c){if(e instanceof l.C4Q){const d=this._createInjector(c,r,i,void 0);let f={$implicit:c.data,dialogRef:r};c.templateContext&&(f={...f,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),i.attachTemplatePortal(new $p(e,null,f,d))}else{const d=this._createInjector(c,r,i,this._injector),f=i.attachComponentPortal(new dv(e,c.viewContainerRef,d,c.componentFactoryResolver));r.componentRef=f,r.componentInstance=f.instance}}_createInjector(e,r,i,c){const d=e.injector||e.viewContainerRef?.injector,f=[{provide:xee,useValue:e.data},{provide:Aj,useValue:r}];return e.providers&&("function"==typeof e.providers?f.push(...e.providers(r,e,i)):f.push(...e.providers)),e.direction&&(!d||!d.get(fc,null,{optional:!0}))&&f.push({provide:fc,useValue:{value:e.direction,change:Z()}}),l.zZn.create({parent:d||c,providers:f})}_removeOpenDialog(e,r){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,d)=>{c?d.setAttribute("aria-hidden",c):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){const c=r[i];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Ko),l.KVO(l.zZn),l.KVO(Mee,8),l.KVO(n,12),l.KVO(mv),l.KVO(xW))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sj(n,t){let e=n.length;for(;e--;)t(n[e])}function kee(n,t){}class xj{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const Mj="mdc-dialog--open",MW="mdc-dialog--opening",RW="mdc-dialog--closing";let OW=(()=>{class n extends SW{constructor(e,r,i,c,d,f,m,w,A){super(e,r,i,c,d,f,m,A),this._animationMode=w,this._animationStateChanged=new l.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?kW(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?kW(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(PW,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(MW,Mj)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Mj),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Mj),this._animationsEnabled?(this._hostElement.style.setProperty(PW,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(RW)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(MW,RW)}_waitForAnimationToComplete(e,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const r=super.attachComponentPortal(e);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(hA),l.rXU(Te,8),l.rXU(xj),l.rXU(M_),l.rXU(l.SKi),l.rXU(gv),l.rXU(l.bc$,8),l.rXU(ka))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,i){2&r&&(l.Mr5("id",i._config.id),l.BMQ("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.AVh("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},standalone:!0,features:[l.Vt3,l.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"div",1),l.DNE(2,kee,0,0,"ng-template",2),l.k0s()())},dependencies:[qE],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return n})();const PW="--mat-dialog-transition-duration";function kW(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?sA(n.substring(0,n.length-2)):n.endsWith("s")?1e3*sA(n.substring(0,n.length-1)):"0"===n?0:null}var cP=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(cP||{});class Rj{constructor(t,e,r){this._ref=t,this._containerInstance=r,this._afterOpened=new U.B,this._beforeClosed=new U.B,this._state=cP.OPEN,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe((0,Bn.p)(i=>"opened"===i.state),Qr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe((0,Bn.p)(i=>"closed"===i.state),Qr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ei.h)(this.backdropClick(),this.keydownEvents().pipe((0,Bn.p)(i=>27===i.keyCode&&!this.disableClose&&!hc(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),NW(this,"keydown"===i.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe((0,Bn.p)(e=>"closing"===e.state),Qr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=cP.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=cP.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function NW(n,t,e){return n._closeInteractionType=t,n.close(e)}const FW=new l.nKC("MatMdcDialogData"),Lee=new l.nKC("mat-mdc-dialog-default-options"),LW=new l.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Ko);return()=>n.scrollStrategies.block()}});let Bee=0,lP=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,r,i,c,d,f,m,w){this._overlay=e,this._defaultOptions=c,this._scrollStrategy=d,this._parentDialog=f,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new U.B,this._afterOpenedAtThisLevel=new U.B,this.dialogConfigClass=xj,this.afterAllClosed=Jt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,jo.Z)(void 0))),this._dialog=r.get(Pee),this._dialogRefConstructor=Rj,this._dialogContainerType=OW,this._dialogDataToken=FW}open(e,r){let i;(r={...this._defaultOptions||new xj,...r}).id=r.id||"mat-mdc-dialog-"+Bee++,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(e,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:aP,useValue:r}]},templateContext:()=>({dialogRef:i}),providers:(d,f,m)=>(i=new this._dialogRefConstructor(d,r,m),i.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:m},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:i}])});return i.componentRef=c.componentRef,i.componentInstance=c.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(i);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Ko),l.KVO(l.zZn),l.KVO(Pn,8),l.KVO(Lee,8),l.KVO(LW),l.KVO(n,12),l.KVO(mv),l.KVO(l.bc$,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uee=0,VW=(()=>{class n{constructor(e,r,i){this.dialogRef=e,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=HW(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){NW(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Rj,8),l.rXU(l.aKT),l.rXU(lP))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(r,i){1&r&&l.bIt("click",function(d){return i._onButtonClick(d)}),2&r&&l.BMQ("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[l.OA$]})}return n})(),BW=(()=>{class n{constructor(e,r,i){this._dialogRef=e,this._elementRef=r,this._dialog=i}ngOnInit(){this._dialogRef||(this._dialogRef=HW(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Rj,8),l.rXU(l.aKT),l.rXU(lP))};static#t=this.\u0275dir=l.FsC({type:n,standalone:!0})}return n})(),UW=(()=>{class n extends BW{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+Uee++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(r,i){2&r&&l.Mr5("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[l.Vt3]})}return n})(),jW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[l.nM4([JE])]})}return n})(),$W=(()=>{class n extends BW{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let e;return function(i){return(e||(e=l.xGo(n)))(i||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,i){2&r&&l.AVh("mat-mdc-dialog-actions-align-start","start"===i.align)("mat-mdc-dialog-actions-align-center","center"===i.align)("mat-mdc-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"},standalone:!0,features:[l.Vt3]})}return n})();function HW(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(r=>r.id===e.id):null}let GW=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(FW))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["delete-confirmation"]],standalone:!0,features:[l.aNF],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""],["mat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(r,i){1&r&&(l.j41(0,"h2",0),l.EFF(1,"Delete element"),l.k0s(),l.j41(2,"mat-dialog-content"),l.EFF(3),l.k0s(),l.j41(4,"mat-dialog-actions")(5,"button",1),l.EFF(6,"No"),l.k0s(),l.j41(7,"button",2),l.bIt("click",function(){return i.data.deleteFunction()}),l.EFF(8,"Ok"),l.k0s()()),2&r&&(l.R7$(3),l.E5c(" Do you want to delete ",i.data.name," (ID: ",i.data.id,") from ",i.data.collection,"? "))},dependencies:[mc,CN,UW,jW,$W,VW],changeDetection:0})}return n})();const jee=(n,t)=>t.id,$ee=()=>["/story-edit",null],Hee=()=>["/chapter-edit",null],zee=n=>["/story-edit",n];function Gee(n,t){if(1&n){const e=l.RV6();l.j41(0,"mat-card",3)(1,"mat-card-content"),l.EFF(2),l.k0s(),l.j41(3,"mat-card-footer",4)(4,"mat-chip-set",5)(5,"mat-chip",6)(6,"mat-icon"),l.EFF(7,"edit"),l.k0s(),l.EFF(8," Edit "),l.k0s(),l.j41(9,"mat-chip",7),l.bIt("click",function(){const i=l.eBV(e).$implicit,c=l.XpG();return l.Njj(c.delete(i))}),l.j41(10,"mat-icon"),l.EFF(11,"delete"),l.k0s(),l.EFF(12," Delete "),l.k0s()()()()}if(2&n){const e=t.$implicit,r=t.$index;l.R7$(2),l.Lme("",r," ",e.name,""),l.R7$(3),l.Y8G("routerLink",l.eq3(3,zee,e.id))}}let Wee=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.dialog=(0,l.WQX)(lP),this.stories$=this.getStories()}getStories(){var e=this;return(0,M.A)(function*(){return yield e.dbService.getAllCollectionDocs(Pr.STORIES)})()}replicate(){this.dbService.replicateCollection(Pr.STORIES),this.dbService.replicateCollection(Pr.CHAPTERS)}addStory(e){return this.dbService.addDocument(Pr.STORIES,e)}delete(e){this.dialog.open(GW,{data:{id:e.id,name:e.name,collection:Pr.STORIES,deleteFunction:()=>this.deleteStory(e)}})}deleteStory(e){console.log(`LOL: Deleting story: ${e.name}: ${e.id}`),this.dbService.deleteDocument(Pr.STORIES,e.id)}cleanup(){this.dbService.cleanupCollection(Pr.STORIES),this.dbService.cleanupCollection(Pr.CHAPTERS),console.log(`LOL: Running ceanup for collections: ${Pr.STORIES}, ${Pr.CHAPTERS}`)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["editor"]],standalone:!0,features:[l.aNF],decls:23,vars:8,consts:[[1,"flex-container"],["mat-fab","","extended","",1,"button-container",3,"routerLink"],["mat-fab","","extended","",1,"button-container",3,"click"],["appearance","outlined"],[1,"card-footer"],["aria-label","Sory-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"a",1)(2,"mat-icon"),l.EFF(3,"add"),l.k0s(),l.EFF(4," Add story "),l.k0s(),l.j41(5,"a",1)(6,"mat-icon"),l.EFF(7,"edit_square"),l.k0s(),l.EFF(8," Chapters "),l.k0s(),l.j41(9,"button",2),l.bIt("click",function(){return i.cleanup()}),l.j41(10,"mat-icon"),l.EFF(11,"cleaning_services"),l.k0s(),l.EFF(12," Cleanup "),l.k0s(),l.j41(13,"button",2),l.bIt("click",function(){return i.replicate()}),l.j41(14,"mat-icon"),l.EFF(15,"sync"),l.k0s(),l.EFF(16," Replicate "),l.k0s()(),l.j41(17,"h3"),l.EFF(18,"Edit story:"),l.k0s(),l.Z7z(19,Gee,13,5,"mat-card",3,jee),l.nI1(21,"async"),l.nI1(22,"async")),2&r&&(l.R7$(),l.Y8G("routerLink",l.lJ4(6,$ee)),l.R7$(4),l.Y8G("routerLink",l.lJ4(7,Hee)),l.R7$(14),l.Dyx(l.bMT(22,4,l.bMT(21,2,i.stories$))))},dependencies:[Vo,mr,p_,zc,wv,gc,Wl,Ih,Ul,_h,mc,$E,vh,AW,Tf,aD],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;row-gap:15px;flex-wrap:wrap}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:150px}.card-footer[_ngcontent-%COMP%]{padding:16px}"]})}return n})();const Kee=(n,t)=>t.id,qee=n=>["/gameboard",n];function Xee(n,t){1&n&&(l.j41(0,"h2",0),l.EFF(1),l.k0s()),2&n&&(l.R7$(),l.JRh(t.name))}function Qee(n,t){1&n&&(l.j41(0,"mat-icon"),l.EFF(1,"star"),l.k0s())}function Yee(n,t){if(1&n&&(l.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),l.EFF(3),l.DNE(4,Qee,2,0,"mat-icon"),l.k0s(),l.j41(5,"mat-card-subtitle"),l.EFF(6),l.k0s()(),l.j41(7,"mat-card-content"),l.EFF(8),l.k0s()()),2&n){const e=t.$implicit;l.Y8G("routerLink",l.eq3(6,qee,e.id)),l.R7$(3),l.Lme(" ",e.chapter_number,": ",e.name," "),l.R7$(),l.vxM(e.is_premium?4:-1),l.R7$(2),l.JRh(e.author),l.R7$(2),l.JRh(e.description)}}let Zee=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.chapters$=this.getChapters(),this.story$=this.getStory()}getChapters(){var e=this;return(0,M.A)(function*(){return(yield e.dbService.getAllCollectionDocs(Pr.CHAPTERS)).pipe((0,xe.T)(r=>r.filter(i=>i.story_id==e.storyId).sort((i,c)=>i.chapter_number-c.chapter_number)))})()}ngOnInit(){this.story$=this.getStory()}getStory(){var e=this;return(0,M.A)(function*(){return yield e.dbService.getDocumentById(Pr.STORIES,e.storyId)})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-chapters"]],inputs:{storyId:"storyId"},standalone:!0,features:[l.aNF],decls:7,vars:9,consts:[[1,"title"],["appearance","outlined",3,"routerLink"]],template:function(r,i){if(1&r&&(l.DNE(0,Xee,2,1,"h2",0),l.nI1(1,"async"),l.nI1(2,"async"),l.Z7z(3,Yee,9,8,"mat-card",1,Kee),l.nI1(5,"async"),l.nI1(6,"async")),2&r){let c;l.vxM((c=l.bMT(2,3,l.bMT(1,1,i.story$)))?0:-1,c),l.R7$(3),l.Dyx(l.bMT(6,7,l.bMT(5,5,i.chapters$)))}},dependencies:[Vo,mr,p_,zc,wv,gc,Wl,Ev,dw,wh,Ul,_h],styles:[".title[_ngcontent-%COMP%]{margin-bottom:15px}"]})}return n})();class ete{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,r=!0,i){this._multiple=t,this._emitChanges=r,this.compareWith=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new U.B,e&&e.length&&(t?e.forEach(c=>this._markSelected(c)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,r=new Set(t);t.forEach(c=>this._markSelected(c)),e.filter(c=>!r.has(this._getConcreteValue(c,r))).forEach(c=>this._unmarkSelected(c));const i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let r of e)if(this.compareWith(t,r))return r;return t}return t}}const tte=["trigger"],nte=["panel"],rte=[[["mat-select-trigger"]],"*"],ite=["mat-select-trigger","*"];function ote(n,t){if(1&n&&(l.j41(0,"span",4),l.EFF(1),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.JRh(e.placeholder)}}function ste(n,t){1&n&&l.SdG(0)}function ate(n,t){if(1&n&&(l.j41(0,"span",11),l.EFF(1),l.k0s()),2&n){const e=l.XpG(2);l.R7$(),l.JRh(e.triggerValue)}}function cte(n,t){if(1&n&&(l.j41(0,"span",5),l.DNE(1,ste,1,0)(2,ate,2,1,"span",11),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.vxM(e.customTrigger?1:2)}}function lte(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",12,1),l.bIt("@transformPanel.done",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._panelDoneAnimatingStream.next(i.toState))})("keydown",function(i){l.eBV(e);const c=l.XpG();return l.Njj(c._handleKeydown(i))}),l.SdG(2,1),l.k0s()}if(2&n){const e=l.XpG();l.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),l.Y8G("ngClass",e.panelClass)("@transformPanel","showing"),l.BMQ("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const ute={transformPanelWrap:(0,wn.hZ)("transformPanelWrap",[(0,wn.kY)("* => void",(0,wn.P)("@transformPanel",[(0,wn.MA)()],{optional:!0}))]),transformPanel:(0,wn.hZ)("transformPanel",[(0,wn.wk)("void",(0,wn.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,wn.kY)("void => showing",(0,wn.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,wn.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,wn.kY)("* => void",(0,wn.i0)("100ms linear",(0,wn.iF)({opacity:0})))])};let WW=0;const KW=new l.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Ko);return()=>n.scrollStrategies.reposition()}}),hte=new l.nKC("MAT_SELECT_CONFIG"),fte={provide:KW,deps:[Ko],useFactory:function dte(n){return()=>n.scrollStrategies.reposition()}},pte=new l.nKC("MatSelectTrigger");class mte{constructor(t,e){this.source=t,this.value=e}}let qW=(()=>{class n{_scrollOptionIntoView(e){const r=this.options.toArray()[e];if(r){const i=this.panel.nativeElement,c=function MA(n,t,e){if(e.length){let r=t.toArray(),i=e.toArray(),c=0;for(let d=0;d<n+1;d++)r[d].group&&r[d].group===i[c]&&c++;return c}return 0}(e,this.options,this.optionGroups),d=r._getHostElement();i.scrollTop=0===e&&1===c?0:function Nu(n,t,e,r){return n<e?n:n+t>e+r?Math.max(0,n-r+t):e}(d.offsetTop,d.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new mte(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(il.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,i,c,d,f,m,w,A,R,B,q,me,pe){this._viewportRuler=e,this._changeDetectorRef=r,this._elementRef=d,this._dir=f,this._parentFormField=A,this.ngControl=R,this._liveAnnouncer=me,this._defaultOptions=pe,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(fe,dt)=>fe===dt,this._uid="mat-select-"+WW++,this._triggerAriaLabelledBy=null,this._destroy=new U.B,this.stateChanges=new U.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+WW++,this._panelDoneAnimatingStream=new U.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new U.B,this.optionSelectionChanges=Jt(()=>{const fe=this.options;return fe?fe.changes.pipe((0,jo.Z)(fe),di(()=>(0,Ei.h)(...fe.map(dt=>dt.onSelectionChange)))):this._initialized.pipe(di(()=>this.optionSelectionChanges))}),this.openedChange=new l.bkB,this._openedStream=this.openedChange.pipe((0,Bn.p)(fe=>fe),(0,xe.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,Bn.p)(fe=>!fe),(0,xe.T)(()=>{})),this.selectionChange=new l.bkB,this.valueChange=new l.bkB,this._trackedModal=null,this._skipPredicate=fe=>!this.panelOpen&&fe.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=pe?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=pe.typeaheadDebounceInterval),this._errorStateTracker=new B_(c,R,w,m,this.stateChanges),this._scrollStrategyFactory=q,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(B)||0,this.id=this.id}ngOnInit(){this._selectionModel=new ete(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,oA.F)(),Tr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(Tr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Tr(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe((0,jo.Z)(null),Tr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){const i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?i.setAttribute("aria-labelledby",e):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const r=`${this.id}-panel`;this._trackedModal&&nE(this._trackedModal,"aria-owns",r),function cA(n,t,e){const r=lA(n,t);e=e.trim(),!r.some(i=>i.trim()===e)&&(r.push(e),n.setAttribute(t,r.join(" ")))}(e,"aria-owns",r),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(nE(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const r=e.keyCode,i=40===r||38===r||37===r||39===r,c=13===r||32===r,d=this._keyManager;if(!d.isTyping()&&c&&!hc(e)||(this.multiple||e.altKey)&&i)e.preventDefault(),this.open();else if(!this.multiple){const f=this.selected;d.onKeydown(e);const m=this.selected;m&&f!==m&&this._liveAnnouncer.announce(m.viewValue,1e4)}}_handleOpenKeydown(e){const r=this._keyManager,i=e.keyCode,c=40===i||38===i,d=r.isTyping();if(c&&e.altKey)e.preventDefault(),this.close();else if(d||13!==i&&32!==i||!r.activeItem||hc(e))if(!d&&this._multiple&&65===i&&e.ctrlKey){e.preventDefault();const f=this.options.some(m=>!m.disabled&&!m.selected);this.options.forEach(m=>{m.disabled||(f?m.select():m.deselect())})}else{const f=r.activeItemIndex;r.onKeydown(e),this._multiple&&c&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==f&&r.activeItem._selectViaInteraction()}else e.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Qr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return null!=i.value&&this._compareWith(i.value,e)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof yv?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new gH(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Ei.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Tr(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Ei.h)(...this.options.map(r=>r._stateChanges)).pipe(Tr(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,r){const i=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(i!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),i!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,e):e.indexOf(r)-e.indexOf(i)),this.stateChanges.next()}}_propagateChanges(e){let r;r=this.multiple?this.selected.map(i=>i.value):this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){e=r;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let r=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(fv),l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(U_),l.rXU(l.aKT),l.rXU(fc,8),l.rXU(Cb,8),l.rXU(Df,8),l.rXU(rP,8),l.rXU(ol,10),l.kS0("tabindex"),l.rXU(KW),l.rXU(_A),l.rXU(hte,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-select"]],contentQueries:function(r,i,c){if(1&r&&(l.wni(c,pte,5),l.wni(c,kl,5),l.wni(c,xA,5)),2&r){let d;l.mGM(d=l.lsd())&&(i.customTrigger=d.first),l.mGM(d=l.lsd())&&(i.options=d),l.mGM(d=l.lsd())&&(i.optionGroups=d)}},viewQuery:function(r,i){if(1&r&&(l.GBs(tte,5),l.GBs(nte,5),l.GBs(MS,5)),2&r){let c;l.mGM(c=l.lsd())&&(i.trigger=c.first),l.mGM(c=l.lsd())&&(i.panel=c.first),l.mGM(c=l.lsd())&&(i._overlayDir=c.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,i){1&r&&l.bIt("keydown",function(d){return i._handleKeydown(d)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&r&&(l.BMQ("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),l.AVh("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",l.L39],placeholder:"placeholder",required:[2,"required","required",l.L39],multiple:[2,"multiple","multiple",l.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",l.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",l.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[l.Jv_([{provide:nP,useExisting:n},{provide:H_,useExisting:n}]),l.GFd,l.OA$,l.aNF],ngContentSelectors:ite,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,i){if(1&r){const c=l.RV6();l.NAR(rte),l.j41(0,"div",2,0),l.bIt("click",function(){return l.eBV(c),l.Njj(i.open())}),l.j41(3,"div",3),l.DNE(4,ote,2,1,"span",4)(5,cte,3,1,"span",5),l.k0s(),l.j41(6,"div",6)(7,"div",7),l.qSk(),l.j41(8,"svg",8),l.nrm(9,"path",9),l.k0s()()()(),l.DNE(10,lte,3,9,"ng-template",10),l.bIt("backdropClick",function(){return l.eBV(c),l.Njj(i.close())})("attach",function(){return l.eBV(c),l.Njj(i._onAttached())})("detach",function(){return l.eBV(c),l.Njj(i.close())})}if(2&r){const c=l.sdS(1);l.R7$(3),l.BMQ("id",i._valueId),l.R7$(),l.vxM(i.empty?4:5),l.R7$(6),l.Y8G("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||c)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)}},dependencies:[yv,MS,Cs],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[ute.transformPanel]},changeDetection:0})}return n})(),XW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[fte],imports:[Vo,iw,Fu,Or,pv,sD,Fu,Or]})}return n})();const QW=Jd({passive:!0});let gte=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ge.w;const r=Ru(e),i=this._monitoredElements.get(r);if(i)return i.subject;const c=new U.B,d="cdk-text-field-autofilled",f=m=>{"cdk-text-field-autofill-start"!==m.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===m.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>c.next({target:m.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>c.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,QW),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:c,unlisten:()=>{r.removeEventListener("animationstart",f,QW)}}),c}stopMonitoring(e){const r=Ru(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(hi),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_te=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const vte=new l.nKC("MAT_INPUT_VALUE_ACCESSOR"),yte=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let bte=0,YW=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=S_(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(il.required)??!1}set required(e){this._required=S_(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Ak().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=S_(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,i,c,d,f,m,w,A,R){this._elementRef=e,this._platform=r,this.ngControl=i,this._autofillMonitor=w,this._formField=R,this._uid="mat-input-"+bte++,this.focused=!1,this.stateChanges=new U.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(me=>Ak().has(me)),this._iOSKeyupListener=me=>{const pe=me.target;!pe.value&&0===pe.selectionStart&&0===pe.selectionEnd&&(pe.setSelectionRange(1,1),pe.setSelectionRange(0,0))};const B=this._elementRef.nativeElement,q=B.nodeName.toLowerCase();this._inputValueAccessor=m||B,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&A.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new B_(f,i,d,c,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===q,this._isTextarea="textarea"===q,this._isInFormField=!!R,this._isNativeSelect&&(this.controlType=B.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){yte.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(hi),l.rXU(ol,10),l.rXU(Cb,8),l.rXU(Df,8),l.rXU(U_),l.rXU(vte,10),l.rXU(gte),l.rXU(l.SKi),l.rXU(rP,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,i){1&r&&l.bIt("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&r&&(l.Mr5("id",i.id)("disabled",i.disabled)("required",i.required),l.BMQ("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required)("id",i.id),l.AVh("mat-input-server",i._isServer)("mat-mdc-form-field-textarea-control",i._isInFormField&&i._isTextarea)("mat-mdc-form-field-input-control",i._isInFormField)("mdc-text-field__input",i._isInFormField)("mat-mdc-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[l.Jv_([{provide:nP,useExisting:n}]),l.OA$]})}return n})(),ZW=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Or,sD,sD,_te,Or]})}return n})();var hd=function(n){return n.ENGLISH="en",n.POLISH="pl",n}(hd||{});function Ete(n,t){if(1&n&&(l.j41(0,"mat-option",5),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e),l.R7$(),l.JRh(e)}}let wte=(()=>{class n{constructor(){this.formBuilder=(0,l.WQX)(cW),this.dbService=(0,l.WQX)(dd),this.router=(0,l.WQX)(So),this.availableLanguages=Object.values(hd),this.storyEditForm=this.formBuilder.group({id:["Save story to add id"],name:["",il.required],languages:[[],il.required],description:[""]})}ngOnInit(){this.story&&this.storyEditForm.patchValue({id:this.story.id,name:this.story.name,languages:this.story.languages,description:this.story.description})}save(){var e=this;return(0,M.A)(function*(){const r=yield e.saveStory();e.updateInterface(r,!e.story?.id)})()}saveStory(){var e=this;return(0,M.A)(function*(){const r=e.storyEditForm.value;if(!r.name||!r.languages?.length)throw new Error("LOL Error on saving the story because of the missing required values");const i={name:r.name,languages:r.languages.map(c=>hd[Object.keys(hd)[Object.values(hd).indexOf(c)]]),description:r.description};if(e.story?.id){const c={...i,id:e.story.id};return yield e.editStory(e.story.id,c)}return yield e.addStory(i)})()}addStory(e){return this.dbService.addDocument(Pr.STORIES,e)}editStory(e,r){return this.dbService.updateDocument(Pr.STORIES,e,r)}updateInterface(e,r=!1){this.story={...this.story,...e,id:e.id},r&&(this.router.navigate(["/story-edit",e.id]),this.storyEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["story-edit-form"]],inputs:{story:"story"},standalone:!0,features:[l.aNF],decls:28,vars:2,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly",""],["matInput","","type","text","formControlName","name"],["multiple","","formControlName","languages"],[3,"value"],["matInput","","placeholder","A short description of the story content","formControlName","description"],[1,"button-container"],["mat-fab","","extended","","routerLink","/editor"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(r,i){1&r&&(l.j41(0,"form",0),l.bIt("ngSubmit",function(){return i.save()}),l.j41(1,"mat-form-field",1)(2,"mat-label"),l.EFF(3,"Story id"),l.k0s(),l.nrm(4,"input",2),l.k0s(),l.j41(5,"mat-form-field")(6,"mat-label"),l.EFF(7,"Story name"),l.k0s(),l.nrm(8,"input",3),l.k0s(),l.j41(9,"mat-form-field")(10,"mat-label"),l.EFF(11,"Languages"),l.k0s(),l.j41(12,"mat-select",4),l.Z7z(13,Ete,2,2,"mat-option",5,l.Vm6),l.k0s()(),l.j41(15,"mat-form-field")(16,"mat-label"),l.EFF(17,"Description"),l.k0s(),l.nrm(18,"textarea",6),l.k0s(),l.j41(19,"div",7)(20,"button",8)(21,"mat-icon"),l.EFF(22,"arrow_back"),l.k0s(),l.EFF(23," Back "),l.k0s(),l.j41(24,"button",9)(25,"mat-icon"),l.EFF(26,"save"),l.k0s(),l.EFF(27," Save story "),l.k0s()()()),2&r&&(l.Y8G("formGroup",i.storyEditForm),l.R7$(13),l.Dyx(i.availableLanguages),l.R7$(11),l.Y8G("disabled",!i.storyEditForm.valid))},dependencies:[zc,lW,pj,JC,nj,rj,Df,JO,XW,yW,eP,qW,kl,ZW,YW,sD,Ul,_h,mc,vh],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between}"]})}return n})();function Ite(n,t){1&n&&l.nrm(0,"story-edit-form",0),2&n&&l.Y8G("story",t)}function Cte(n,t){1&n&&l.nrm(0,"story-edit-form")}let Dte=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.story$=this.dbService.getDocumentById(Pr.STORIES,this.storyId)}ngOnInit(){this.story$=this.dbService.getDocumentById(Pr.STORIES,this.storyId)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["story-edit"]],inputs:{storyId:"storyId"},standalone:!0,features:[l.aNF],decls:4,vars:5,consts:[[3,"story"]],template:function(r,i){if(1&r&&(l.DNE(0,Ite,1,1,"story-edit-form",0),l.nI1(1,"async"),l.nI1(2,"async"),l.DNE(3,Cte,1,0,"story-edit-form")),2&r){let c;l.vxM((c=l.bMT(2,3,l.bMT(1,1,i.story$)))?0:3,c)}},dependencies:[Vo,mr,wte]})}return n})();const Tte=(n,t)=>t.id,Ate=()=>["/chapter-edit-chooser",null],Ste=n=>["/chapter-edit-chooser",n];function xte(n,t){if(1&n){const e=l.RV6();l.j41(0,"mat-card",1)(1,"mat-card-content"),l.EFF(2),l.k0s(),l.j41(3,"mat-card-footer",2)(4,"mat-chip-set",3)(5,"mat-chip",4)(6,"mat-icon"),l.EFF(7,"edit"),l.k0s(),l.EFF(8," Edit "),l.k0s(),l.j41(9,"mat-chip",5),l.bIt("click",function(){const i=l.eBV(e).$implicit,c=l.XpG();return l.Njj(c.delete(i))}),l.j41(10,"mat-icon"),l.EFF(11,"delete"),l.k0s(),l.EFF(12," Delete "),l.k0s()()()()}if(2&n){const e=t.$implicit,r=t.$index;l.R7$(2),l.Lme("",r," ",e.name,""),l.R7$(3),l.Y8G("routerLink",l.eq3(3,Ste,e.id))}}let Mte=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.dialog=(0,l.WQX)(lP),this.chapters$=this.getChapters()}getChapters(){var e=this;return(0,M.A)(function*(){return yield e.dbService.getAllCollectionDocs(Pr.CHAPTERS)})()}delete(e){var r=this;return(0,M.A)(function*(){r.dialog.open(GW,{data:{id:e.id,name:e.name,collection:Pr.CHAPTERS,deleteFunction:()=>r.deleteChapter(e)}})})()}deleteChapter(e){console.log(`LOL: Deleting chapter: ${e.name}: ${e.id}`),this.dbService.deleteDocument(Pr.CHAPTERS,e.id)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["chapter-edit"]],standalone:!0,features:[l.aNF],decls:10,vars:6,consts:[["mat-fab","","extended","",1,"button-container",3,"routerLink"],["appearance","outlined"],[1,"card-footer"],["aria-label","chapter-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(r,i){1&r&&(l.j41(0,"a",0)(1,"mat-icon"),l.EFF(2,"add"),l.k0s(),l.EFF(3," Add chapter\n"),l.k0s(),l.j41(4,"h3"),l.EFF(5,"Chapters"),l.k0s(),l.Z7z(6,xte,13,5,"mat-card",1,Tte),l.nI1(8,"async"),l.nI1(9,"async")),2&r&&(l.Y8G("routerLink",l.lJ4(5,Ate)),l.R7$(6),l.Dyx(l.bMT(9,3,l.bMT(8,1,i.chapters$))))},dependencies:[Vo,mr,p_,zc,wv,gc,Wl,Ih,Ul,_h,mc,$E,AW,Tf,aD],styles:[".card-footer[_ngcontent-%COMP%]{padding:16px}"]})}return n})();const Rte=["switch"],Ote=["*"];function Pte(n,t){1&n&&(l.j41(0,"div",10),l.qSk(),l.j41(1,"svg",12),l.nrm(2,"path",13),l.k0s(),l.j41(3,"svg",14),l.nrm(4,"path",15),l.k0s()())}const kte=new l.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Nte={provide:Cc,useExisting:(0,l.Rfq)(()=>Oj),multi:!0};class JW{constructor(t,e){this.source=t,this.checked=e}}let Fte=0,Oj=(()=>{class n{_createChangeEvent(e){return new JW(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,r,i,c,d,f){this._elementRef=e,this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=d,this._onChange=m=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new l.bkB,this.toggleChange=new l.bkB,this.tabIndex=parseInt(c)||0,this.color=d.color||"accent",this._noopAnimations="NoopAnimations"===f,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++Fte,this.hideIcon=d.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&!0!==e.value?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new JW(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(ka),l.rXU(l.gRc),l.kS0("tabindex"),l.rXU(kte),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(r,i){if(1&r&&l.GBs(Rte,5),2&r){let c;l.mGM(c=l.lsd())&&(i._switchElement=c.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,i){2&r&&(l.Mr5("id",i.id),l.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),l.HbH(i.color?"mat-"+i.color:""),l.AVh("mat-mdc-slide-toggle-focused",i._focused)("mat-mdc-slide-toggle-checked",i.checked)("_mat-animation-noopable",i._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",l.L39],color:"color",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)],checked:[2,"checked","checked",l.L39],hideIcon:[2,"hideIcon","hideIcon",l.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[l.Jv_([Nte,{provide:Po,useExisting:n,multi:!0}]),l.GFd,l.OA$,l.aNF],ngContentSelectors:Ote,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,i){if(1&r){const c=l.RV6();l.NAR(),l.j41(0,"div",1)(1,"button",2,0),l.bIt("click",function(){return l.eBV(c),l.Njj(i._handleClick())}),l.nrm(3,"div",3),l.j41(4,"div",4)(5,"div",5)(6,"div",6),l.nrm(7,"div",7),l.k0s(),l.j41(8,"div",8),l.nrm(9,"div",9),l.k0s(),l.DNE(10,Pte,5,0,"div",10),l.k0s()()(),l.j41(11,"label",11),l.bIt("click",function(f){return l.eBV(c),l.Njj(f.stopPropagation())}),l.SdG(12),l.k0s()()}if(2&r){const c=l.sdS(2);l.Y8G("labelPosition",i.labelPosition),l.R7$(),l.AVh("mdc-switch--selected",i.checked)("mdc-switch--unselected",!i.checked)("mdc-switch--checked",i.checked)("mdc-switch--disabled",i.disabled),l.Y8G("tabIndex",i.disabled?-1:i.tabIndex)("disabled",i.disabled),l.BMQ("id",i.buttonId)("name",i.name)("aria-label",i.ariaLabel)("aria-labelledby",i._getAriaLabelledBy())("aria-describedby",i.ariaDescribedby)("aria-required",i.required||null)("aria-checked",i.checked),l.R7$(8),l.Y8G("matRippleTrigger",c)("matRippleDisabled",i.disableRipple||i.disabled)("matRippleCentered",!0),l.R7$(),l.vxM(i.hideIcon?-1:10),l.R7$(),l.Y8G("for",i.buttonId),l.BMQ("id",i._labelId)}},dependencies:[Cp,P1],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return n})(),Bte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Oj,Or,Or]})}return n})();function Ute(n,t){if(1&n&&(l.j41(0,"mat-option",4),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e.id),l.R7$(),l.JRh(e.name)}}function jte(n,t){if(1&n&&(l.j41(0,"mat-option",4),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e),l.R7$(),l.JRh(e)}}let $te=(()=>{class n{constructor(){this.availableLanguages=Object.values(hd),this.formBuilder=(0,l.WQX)(cW),this.dbService=(0,l.WQX)(dd),this.router=(0,l.WQX)(So),this.chapterEditForm=this.formBuilder.group({id:["Save chapter to add id"],name:["",il.required],story:["",il.required],chapterNo:[0,il.required],language:["",il.required],author:[""],isPremium:[!1],description:[""],empathyName:["empathy",il.required],sympathyName:["sympathy",il.required]}),this.stories$=this.dbService.getAllCollectionDocs(Pr.STORIES).then(e=>e.pipe((0,xe.T)(r=>r.map(i=>({id:i.id,name:i.name})))))}ngOnInit(){this.chapter?.id&&this.chapterEditForm.patchValue({id:this.chapter?.id,name:this.chapter.name,story:this.chapter.story_id,chapterNo:this.chapter.chapter_number,language:this.chapter.language,author:this.chapter.author,isPremium:this.chapter.is_premium,description:this.chapter.description,empathyName:this.chapter.empathy_name,sympathyName:this.chapter.sympathy_name})}save(){var e=this;return(0,M.A)(function*(){const r=yield e.saveChapter();e.updateInterface(r,!e.chapter?.id),console.log(`LOL: Saving chapter: ${JSON.stringify(e.chapterEditForm.value)}`)})()}saveChapter(){var e=this;return(0,M.A)(function*(){const r=e.chapterEditForm.value;if(!(r.name&&r.story&&r.chapterNo&&r.language&&r.empathyName&&r.sympathyName))throw new Error("LOL Error on saving the chapter because of the missing required values");const i={name:r.name,story_id:r.story,chapter_number:r.chapterNo,language:hd[Object.keys(hd)[Object.values(hd).indexOf(r.language)]],author:r.author,is_premium:r.isPremium,description:r.description,empathy_name:r.empathyName,sympathy_name:r.sympathyName};if(e.chapter?.id){const c={id:e.chapter.id,...i};return yield e.dbService.updateDocument(Pr.CHAPTERS,e.chapter.id,c)}return yield e.dbService.addDocument(Pr.CHAPTERS,i)})()}updateInterface(e,r=!1){this.chapter={...this.chapter,...e,id:e.id},r&&(this.router.navigate(["/chapter-edit-chooser",e.id]),this.chapterEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["chapter-edit-form"]],inputs:{chapter:"chapter"},standalone:!0,features:[l.aNF],decls:54,vars:6,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly",""],["formControlName","story"],[3,"value"],["matInput","","type","text","formControlName","name"],[1,"example-full-width"],["matInput","","type","number","formControlName","chapterNo"],["formControlName","language"],["matInput","","type","text","formControlName","empathyName"],["matInput","","type","text","formControlName","sympathyName"],["matInput","","type","text","formControlName","author"],["matInput","","placeholder","A short description of the chapter content","formControlName","description"],["labelPosition","before","formControlName","isPremium"],[1,"button-container"],["mat-fab","","extended","","routerLink","/chapter-edit/null"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(r,i){1&r&&(l.j41(0,"form",0),l.bIt("ngSubmit",function(){return i.save()}),l.j41(1,"mat-form-field",1)(2,"mat-label"),l.EFF(3,"Chapter id"),l.k0s(),l.nrm(4,"input",2),l.k0s(),l.j41(5,"mat-form-field")(6,"mat-label"),l.EFF(7,"Story"),l.k0s(),l.j41(8,"mat-select",3),l.Z7z(9,Ute,2,2,"mat-option",4,l.Vm6),l.nI1(11,"async"),l.nI1(12,"async"),l.k0s()(),l.j41(13,"mat-form-field")(14,"mat-label"),l.EFF(15,"Chapter name"),l.k0s(),l.nrm(16,"input",5),l.k0s(),l.j41(17,"mat-form-field",6)(18,"mat-label"),l.EFF(19,"Chapter number"),l.k0s(),l.nrm(20,"input",7),l.k0s(),l.j41(21,"mat-form-field")(22,"mat-label"),l.EFF(23,"Language"),l.k0s(),l.j41(24,"mat-select",8),l.Z7z(25,jte,2,2,"mat-option",4,l.Vm6),l.k0s()(),l.j41(27,"mat-form-field")(28,"mat-label"),l.EFF(29,"Empathy name"),l.k0s(),l.nrm(30,"input",9),l.k0s(),l.j41(31,"mat-form-field")(32,"mat-label"),l.EFF(33,"Sympathy name"),l.k0s(),l.nrm(34,"input",10),l.k0s(),l.j41(35,"mat-form-field")(36,"mat-label"),l.EFF(37,"Author"),l.k0s(),l.nrm(38,"input",11),l.k0s(),l.j41(39,"mat-form-field")(40,"mat-label"),l.EFF(41,"Description"),l.k0s(),l.nrm(42,"textarea",12),l.k0s(),l.j41(43,"mat-slide-toggle",13),l.EFF(44,"Premium: "),l.k0s(),l.j41(45,"div",14)(46,"button",15)(47,"mat-icon"),l.EFF(48,"arrow_back"),l.k0s(),l.EFF(49," Back to chapters "),l.k0s(),l.j41(50,"button",16)(51,"mat-icon"),l.EFF(52,"save"),l.k0s(),l.EFF(53," Save chapter "),l.k0s()()()),2&r&&(l.Y8G("formGroup",i.chapterEditForm),l.R7$(9),l.Dyx(l.bMT(12,4,l.bMT(11,2,i.stories$))),l.R7$(16),l.Dyx(i.availableLanguages),l.R7$(25),l.Y8G("disabled",!i.chapterEditForm.valid))},dependencies:[Vo,mr,zc,lW,pj,JC,mj,nj,rj,Df,JO,XW,yW,eP,qW,kl,ZW,YW,sD,Ul,_h,mc,vh,Bte,Oj],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between;margin-top:15px}"]})}return n})();function Hte(n,t){1&n&&l.nrm(0,"chapter-edit-form",0),2&n&&l.Y8G("chapter",t)}function zte(n,t){1&n&&l.nrm(0,"chapter-edit-form")}let Gte=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.chapter$=this.dbService.getDocumentById(Pr.CHAPTERS,this.chapterId)}ngOnInit(){this.chapter$=this.dbService.getDocumentById(Pr.CHAPTERS,this.chapterId)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["chapter-edit-chooser"]],inputs:{chapterId:"chapterId"},standalone:!0,features:[l.aNF],decls:4,vars:5,consts:[[3,"chapter"]],template:function(r,i){if(1&r&&(l.DNE(0,Hte,1,1,"chapter-edit-form",0),l.nI1(1,"async"),l.nI1(2,"async"),l.DNE(3,zte,1,0,"chapter-edit-form")),2&r){let c;l.vxM((c=l.bMT(2,3,l.bMT(1,1,i.chapter$)))?0:3,c)}},dependencies:[Vo,mr,$te]})}return n})();function Wte(n,t){1&n&&l.nrm(0,"div",2)}const Kte=new l.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Xte=(()=>{class n{constructor(e,r,i,c,d){this._elementRef=e,this._ngZone=r,this._changeDetectorRef=i,this._animationMode=c,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new l.bkB,this._mode="determinate",this._transitionendHandler=f=>{0===this.animationEnd.observers.length||!f.target||!f.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===c,d&&(d.color&&(this.color=this._defaultColor=d.color),this.mode=d.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=eK(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=eK(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(l.gRc),l.rXU(l.bc$,8),l.rXU(Kte,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(r,i){2&r&&(l.BMQ("aria-valuenow",i._isIndeterminate()?null:i.value)("mode",i.mode),l.HbH("mat-"+i.color),l.AVh("_mat-animation-noopable",i._isNoopAnimation)("mdc-linear-progress--animation-ready",!i._isNoopAnimation)("mdc-linear-progress--indeterminate",i._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",l.Udg],bufferValue:[2,"bufferValue","bufferValue",l.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[l.GFd,l.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(r,i){1&r&&(l.j41(0,"div",0),l.nrm(1,"div",1),l.DNE(2,Wte,1,0,"div",2),l.k0s(),l.j41(3,"div",3),l.nrm(4,"span",4),l.k0s(),l.j41(5,"div",5),l.nrm(6,"span",4),l.k0s()),2&r&&(l.R7$(),l.xc7("flex-basis",i._getBufferBarFlexBasis()),l.R7$(),l.vxM("buffer"===i.mode?2:-1),l.R7$(),l.xc7("transform",i._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color);border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape)}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color)}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return n})();function eK(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let Qte=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Or]})}return n})(),Yte=(()=>{class n{constructor(){this.el=(0,l.WQX)(l.aKT),this.renderer=(0,l.WQX)(l.sFG),this.listeners=[]}ngAfterViewInit(){this.createInteractiveText(this.text)}ngOnDestroy(){this.listeners.forEach(e=>{e&&e()})}createInteractiveText(e){let i=`${e}`;[...i.matchAll(/[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}/g)].forEach(d=>{const f=i.indexOf(d[0]),m=f+d[0].length,w=i.slice(0,f);this.addText(w);const A=i.slice(f,m);this.addRef(A),i=i.slice(m)}),this.addText(i)}addText(e){const r=this.renderer.createText(e);this.renderer.appendChild(this.el.nativeElement,r)}addRef(e){const r=this.renderer.createText(e),i=this.renderer.createElement("span");this.renderer.addClass(i,"ref"),this.renderer.appendChild(i,r),this.renderer.appendChild(this.el.nativeElement,i);const c=this.renderer.listen(i,"click",d=>{console.log(`LOL: Event ${d} for ID: ${e}`)});this.listeners.push(c)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["game-text"]],inputs:{text:"text"},standalone:!0,features:[l.aNF],decls:0,vars:0,template:function(r,i){},styles:[".ref[_ngcontent-%COMP%]{color:red;cursor:pointer}.ref[_ngcontent-%COMP%]:hover{color:green}"]})}return n})();function Zte(n,t){if(1&n&&(l.j41(0,"div",1),l.EFF(1),l.nI1(2,"titlecase"),l.nrm(3,"mat-progress-bar",5),l.EFF(4),l.nI1(5,"titlecase"),l.nrm(6,"mat-progress-bar",5),l.k0s()),2&n){const e=t;l.R7$(),l.SpI(" ",l.bMT(2,8,e.empathy_name),": 65 "),l.R7$(2),l.Y8G("mode","determinate")("value",65)("bufferValue",100),l.R7$(),l.SpI(" ",l.bMT(5,10,e.sympathy_name),": 100 "),l.R7$(2),l.Y8G("mode","determinate")("value",100)("bufferValue",100)}}const Jte=[{path:"game",component:IZ,title:"Game"},{path:"editor",component:Wee,title:"Editor"},{path:"chapters/:storyId",component:Zee},{path:"story-edit/:storyId",component:Dte},{path:"chapter-edit/:chapterId",component:Mte},{path:"chapter-edit-chooser/:chapterId",component:Gte},{path:"gameboard/:chapterId",component:(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.chapter$=this.dbService.getDocumentById(Pr.CHAPTERS,this.chapterId),this.text="This defines 5e0f2bd0-2b43-4df3-9542-1d4969e24f87 the ability for a flex item to grow if necessary. It accepts a unitless value that serves as a proportion. It dictates what amount of the available space inside the flex container the item should take up.\n\nIf all items have flex-grow set to 1, the fb506849-9ef5-4771-a1c0-508460bf16ce remaining space in the container will be distributed equally to all children. If one of the children has a value of 2, that child would take up twice as much of the space as either one of the others (or it will try, at least)."}ngOnInit(){this.chapter$=this.dbService.getDocumentById(Pr.CHAPTERS,this.chapterId)}lol(e){return()=>console.log(`LOL pipe ${e}`)}buildRefs(e){return()=>{}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-gameboard"]],inputs:{chapterId:"chapterId"},standalone:!0,features:[l.aNF],decls:14,vars:6,consts:[[1,"game-container"],[1,"stats-area"],[1,"text-area",3,"text"],[1,"button-area"],["mat-fab","","extended",""],[3,"mode","value","bufferValue"]],template:function(r,i){if(1&r&&(l.j41(0,"div",0),l.DNE(1,Zte,7,12,"div",1),l.nI1(2,"async"),l.nI1(3,"async"),l.nrm(4,"game-text",2),l.j41(5,"div",3)(6,"button",4),l.EFF(7," Inventory "),l.j41(8,"mat-icon"),l.EFF(9,"business_center"),l.k0s()(),l.j41(10,"button",4),l.EFF(11," Info "),l.j41(12,"mat-icon"),l.EFF(13,"menu_book"),l.k0s()()()()),2&r){let c;l.R7$(),l.vxM((c=l.bMT(3,4,l.bMT(2,2,i.chapter$)))?1:-1,c),l.R7$(3),l.Y8G("text",i.text)}},dependencies:[Vo,mr,Of,mc,vh,Ul,_h,Qte,Xte,Yte],styles:[".game-container[_ngcontent-%COMP%]{height:90vh;display:flex;flex-direction:column;align-content:stretch;justify-content:space-between}.stats-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1}.stats-area[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px}.text-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:7;outline:2px solid white;padding:15px;font-size:18px;line-height:25px}.button-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:2;display:flex;flex-wrap:wrap;align-content:center;justify-content:space-around;row-gap:15px}.button-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:70px}"]})}return n})()},{path:"",component:(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["start"]],standalone:!0,features:[l.aNF],decls:9,vars:0,consts:[[1,"start-container"],["src","../../../assets/interface/Detective.jpg","alt","Photo of a Shiba Inu"],["mat-fab","","extended",""]],template:function(r,i){1&r&&(l.j41(0,"div",0)(1,"div"),l.nrm(2,"img",1),l.k0s(),l.j41(3,"button",2),l.EFF(4,"Login as Guest"),l.k0s(),l.j41(5,"button",2),l.EFF(6,"Login"),l.k0s(),l.j41(7,"button",2),l.EFF(8,"Stay Offline"),l.k0s()())},dependencies:[mc,vh],styles:[".start-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:90vh;align-items:center;justify-content:space-around}.start-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:300px}"]})}return n})(),title:"Start"}],Tb=new ee.c(Ag.l),tne={connector:()=>new U.B};function tK(n,t=tne){const{connector:e}=t;return(0,ae.N)((r,i)=>{const c=e();(0,cn.Tg)(n(function ene(n){return new ee.c(t=>n.subscribe(t))}(c))).subscribe(i),i.add(r.subscribe(c))})}const cD="Service workers are disabled or not supported by this browser";class uP{constructor(t){if(this.serviceWorker=t,t){const r=bh(t,"controllerchange").pipe((0,xe.T)(()=>t.controller)),i=Jt(()=>Z(t.controller)),c=(0,Tt.x)(i,r);this.worker=c.pipe((0,Bn.p)(A=>!!A)),this.registration=this.worker.pipe(di(()=>t.getRegistration()));const w=bh(t,"message").pipe((0,xe.T)(A=>A.data)).pipe((0,Bn.p)(A=>A&&A.type)).pipe(function rne(n){return n?t=>tK(n)(t):t=>function nne(n,t){const e=(0,De.T)(n)?n:()=>n;return(0,De.T)(t)?tK(t,{connector:e}):r=>new K(r,e)}(new U.B)(t)}());w.connect(),this.events=w}else this.worker=this.events=this.registration=function ine(n){return Jt(()=>Mn(new Error(n)))}(cD)}postMessage(t,e){return this.worker.pipe(Qr(1),gr(r=>{r.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,r){const i=this.waitForOperationCompleted(r),c=this.postMessage(t,e);return Promise.all([c,i]).then(([,d])=>d)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?r=>r.type===t:r=>t.includes(r.type),this.events.pipe((0,Bn.p)(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Qr(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,Bn.p)(e=>e.nonce===t),Qr(1),(0,xe.T)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let one=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new U.B,!e.isEnabled)return this.messages=Tb,this.notificationClicks=Tb,void(this.subscription=Tb);this.messages=this.sw.eventsOfType("PUSH").pipe((0,xe.T)(i=>i.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,xe.T)(i=>i.data)),this.pushManager=this.sw.registration.pipe((0,xe.T)(i=>i.pushManager));const r=this.pushManager.pipe(di(i=>i.getSubscription()));this.subscription=(0,Ei.h)(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(cD));const r={userVisibleOnly:!0};let i=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),c=new Uint8Array(new ArrayBuffer(i.length));for(let d=0;d<i.length;d++)c[d]=i.charCodeAt(d);return r.applicationServerKey=c,this.pushManager.pipe(di(d=>d.subscribe(r)),Qr(1)).toPromise().then(d=>(this.subscriptionChanges.next(d),d))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Qr(1),di(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(i=>{if(!i)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(cD))}decodeBase64(e){return atob(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(uP))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),sne=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=Tb,void(this.unrecoverable=Tb);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(cD));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(cD));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(uP))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const nK=new l.nKC("");function ane(n,t,e,r){return()=>{if(!bd(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;const i=n.get(l.SKi),c=n.get(l.o8S);let d;if(i.runOutsideAngular(()=>{const f=navigator.serviceWorker,m=()=>f.controller?.postMessage({action:"INITIALIZE"});f.addEventListener("controllerchange",m),c.onDestroy(()=>{f.removeEventListener("controllerchange",m)})}),"function"==typeof e.registrationStrategy)d=e.registrationStrategy();else{const[f,...m]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(f){case"registerImmediately":d=Z(null);break;case"registerWithDelay":d=rK(+m[0]||0);break;case"registerWhenStable":d=m[0]?(0,Ei.h)(iK(n),rK(+m[0])):iK(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}i.runOutsideAngular(()=>d.pipe(Qr(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(f=>console.error("Service worker registration failed with:",f))))}}function rK(n){return Z(null).pipe(zE(n))}function iK(n){return n.get(l.o8S).isStable.pipe((0,Bn.p)(e=>e))}function cne(n,t){return new uP(bd(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class Pj{}(function Iu(n,t){return(0,l.TL3)({rootComponent:n,...zf(t)})})(qp,{providers:[function f_(n,...t){return(0,l.EmA)([{provide:Xd,multi:!0,useValue:n},[],{provide:ls,useFactory:dp,deps:[So]},{provide:l.iLQ,multi:!0,useFactory:RT},t.map(e=>e.\u0275providers)])}(Jte,L0()),function lne(n,t={}){return(0,l.EmA)([one,sne,{provide:nK,useValue:n},{provide:Pj,useValue:t},{provide:uP,useFactory:cne,deps:[Pj,l.Agw]},{provide:l.hnV,useFactory:ane,deps:[l.zZn,nK,Pj,l.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,l.naY)(),registrationStrategy:"registerWhenStable:3000"}),function rF(n="animations"){return(0,l.ngT)("NgAsyncAnimations"),(0,l.EmA)([{provide:l._9s,useFactory:(t,e,r)=>new BS(t,e,r,n),deps:[Te,Gb,l.SKi]},{provide:l.bc$,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}()]}).catch(n=>console.error(n))},5505:function(Vt){Vt.exports=function(){"use strict";var et=function(v,C){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,N){S.__proto__=N}||function(S,N){for(var V in N)Object.prototype.hasOwnProperty.call(N,V)&&(S[V]=N[V])})(v,C)},P=function(){return(P=Object.assign||function(v){for(var C,S=1,N=arguments.length;S<N;S++)for(var V in C=arguments[S])Object.prototype.hasOwnProperty.call(C,V)&&(v[V]=C[V]);return v}).apply(this,arguments)};function ee(v,C,S){if(S||2===arguments.length)for(var N,V=0,z=C.length;V<z;V++)!N&&V in C||((N=N||Array.prototype.slice.call(C,0,V))[V]=C[V]);return v.concat(N||Array.prototype.slice.call(C))}var ie=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ge=Object.keys,ce=Array.isArray;function M(v,C){return"object"!=typeof C||ge(C).forEach(function(S){v[S]=C[S]}),v}typeof Promise>"u"||ie.Promise||(ie.Promise=Promise);var l=Object.getPrototypeOf,De={}.hasOwnProperty;function lt(v,C){return De.call(v,C)}function Be(v,C){"function"==typeof C&&(C=C(l(v))),(typeof Reflect>"u"?ge:Reflect.ownKeys)(C).forEach(function(S){Z(v,S,C[S])})}var Ue=Object.defineProperty;function Z(v,C,S,N){Ue(v,C,M(S&&lt(S,"get")&&"function"==typeof S.get?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},N))}function Me(v){return{from:function(C){return v.prototype=Object.create(C.prototype),Z(v.prototype,"constructor",v),{extend:Be.bind(null,v.prototype)}}}}var Ne=Object.getOwnPropertyDescriptor,se=[].slice;function ze(v,C,S){return se.call(v,C,S)}function Re(v,C){return C(v)}function Pe(v){if(!v)throw new Error("Assertion Failed")}function _e(v){ie.setImmediate?setImmediate(v):setTimeout(v,0)}function Fe(v,C){if("string"==typeof C&&lt(v,C))return v[C];if(!C)return v;if("string"!=typeof C){for(var S=[],N=0,V=C.length;N<V;++N){var z=Fe(v,C[N]);S.push(z)}return S}var te=C.indexOf(".");if(-1!==te){var ye=v[C.substr(0,te)];return null==ye?void 0:Fe(ye,C.substr(te+1))}}function xe(v,C,S){if(v&&void 0!==C&&(!("isFrozen"in Object)||!Object.isFrozen(v)))if("string"!=typeof C&&"length"in C){Pe("string"!=typeof S&&"length"in S);for(var N=0,V=C.length;N<V;++N)xe(v,C[N],S[N])}else{var z,te,ye=C.indexOf(".");-1!==ye?(z=C.substr(0,ye),""===(te=C.substr(ye+1))?void 0===S?ce(v)&&!isNaN(parseInt(z))?v.splice(z,1):delete v[z]:v[z]=S:xe(ye=(ye=v[z])&&lt(v,z)?ye:v[z]={},te,S)):void 0===S?ce(v)&&!isNaN(parseInt(C))?v.splice(C,1):delete v[C]:v[C]=S}}function Ae(v){var C,S={};for(C in v)lt(v,C)&&(S[C]=v[C]);return S}var We=[].concat;function Ie(v){return We.apply([],v)}var Io="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(Ie([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(C){return C+v+"Array"})}))).filter(function(v){return ie[v]}),st=new Set(Io.map(function(v){return ie[v]})),Ye=null;function ve(v){return Ye=new WeakMap,v=function C(S){if(!S||"object"!=typeof S)return S;var N=Ye.get(S);if(N)return N;if(ce(S)){Ye.set(S,N=[]);for(var V=0,z=S.length;V<z;++V)N.push(C(S[V]))}else if(st.has(S.constructor))N=S;else{var te,ye=l(S);for(te in N=ye===Object.prototype?{}:Object.create(ye),Ye.set(S,N),S)lt(S,te)&&(N[te]=C(S[te]))}return N}(v),Ye=null,v}var he={}.toString;function Y(v){return he.call(v).slice(8,-1)}var pt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ct="symbol"==typeof pt?function(v){var C;return null!=v&&(C=v[pt])&&C.apply(v)}:function(){return null};function Tt(v,C){return 0<=(C=v.indexOf(C))&&v.splice(C,1),0<=C}var cn={};function Jt(v){var C,S,N,V;if(1===arguments.length){if(ce(v))return v.slice();if(this===cn&&"string"==typeof v)return[v];if(V=Ct(v)){for(S=[];!(N=V.next()).done;)S.push(N.value);return S}if(null==v)return[v];if("number"!=typeof(C=v.length))return[v];for(S=new Array(C);C--;)S[C]=v[C];return S}for(C=arguments.length,S=new Array(C);C--;)S[C]=arguments[C];return S}var hn=typeof Symbol<"u"?function(v){return"AsyncFunction"===v[Symbol.toStringTag]}:function(){return!1},to=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(In=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),Mn={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ge(v,C){this.name=v,this.message=C}function ae(v,C){return v+". Errors: "+Object.keys(C).map(function(S){return C[S].toString()}).filter(function(S,N,V){return V.indexOf(S)===N}).join("\n")}function be(v,C,S,N){this.failures=C,this.failedKeys=N,this.successCount=S,this.message=ae(v,C)}function K(v,C){this.name="BulkError",this.failures=Object.keys(C).map(function(S){return C[S]}),this.failuresByPos=C,this.message=ae(v,this.failures)}Me(Ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),Me(be).from(Ge),Me(K).from(Ge);var U=to.reduce(function(v,C){return v[C]=C+"Error",v},{}),H=Ge,Q=to.reduce(function(v,C){var S=C+"Error";function N(V,z){this.name=S,V?"string"==typeof V?(this.message="".concat(V).concat(z?"\n "+z:""),this.inner=z||null):"object"==typeof V&&(this.message="".concat(V.name," ").concat(V.message),this.inner=V):(this.message=Mn[C]||S,this.inner=null)}return Me(N).from(H),v[C]=N,v},{});Q.Syntax=SyntaxError,Q.Type=TypeError,Q.Range=RangeError;var J=In.reduce(function(v,C){return v[C+"Error"]=Q[C],v},{}),oe=to.reduce(function(v,C){return-1===["Syntax","Type","Range"].indexOf(C)&&(v[C+"Error"]=Q[C]),v},{});function le(){}function Te(v){return v}function It(v,C){return null==v||v===Te?C:function(S){return C(v(S))}}function Ft(v,C){return function(){v.apply(this,arguments),C.apply(this,arguments)}}function Mt(v,C){return v===le?C:function(){var S=v.apply(this,arguments);void 0!==S&&(arguments[0]=S);var N=this.onsuccess,V=this.onerror;this.onsuccess=null,this.onerror=null;var z=C.apply(this,arguments);return N&&(this.onsuccess=this.onsuccess?Ft(N,this.onsuccess):N),V&&(this.onerror=this.onerror?Ft(V,this.onerror):V),void 0!==z?z:S}}function Bt(v,C){return v===le?C:function(){v.apply(this,arguments);var S=this.onsuccess,N=this.onerror;this.onsuccess=this.onerror=null,C.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?Ft(S,this.onsuccess):S),N&&(this.onerror=this.onerror?Ft(N,this.onerror):N)}}function en(v,C){return v===le?C:function(S){var N=v.apply(this,arguments);M(S,N);var V=this.onsuccess,z=this.onerror;return this.onsuccess=null,this.onerror=null,S=C.apply(this,arguments),V&&(this.onsuccess=this.onsuccess?Ft(V,this.onsuccess):V),z&&(this.onerror=this.onerror?Ft(z,this.onerror):z),void 0===N?void 0===S?void 0:S:M(N,S)}}function rn(v,C){return v===le?C:function(){return!1!==C.apply(this,arguments)&&v.apply(this,arguments)}}function an(v,C){return v===le?C:function(){var S=v.apply(this,arguments);if(S&&"function"==typeof S.then){for(var N=this,V=arguments.length,z=new Array(V);V--;)z[V]=arguments[V];return S.then(function(){return C.apply(N,z)})}return C.apply(this,arguments)}}oe.ModifyError=be,oe.DexieError=Ge,oe.BulkError=K;var $t=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function un(v){$t=v}var In,tn={},Pn=100,Xi=(to=(to=(Io=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,l(v),v];var C=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[C,l(C),v]}())[1])&&to.then,(In=Io[0])&&In.constructor),Qi=!!(Io=Io[2]),Nr=function(v,C){No.push([v,C]),vr&&(queueMicrotask(ti),vr=!1)},zt=!0,vr=!0,hr=[],Yn=[],jn=Te,ir={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:le,pgp:!1,env:{},finalize:le},Ut=ir,No=[],yo=0,$s=[];function Ot(v){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var C=this._PSD=Ut;if("function"!=typeof v){if(v!==tn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&zs(this,this._value))}this._state=null,this._value=null,++C.ref,function S(N,V){try{V(function(z){if(null===N._state){if(z===N)throw new TypeError("A promise cannot be resolved with itself.");var te=N._lib&&yr();z&&"function"==typeof z.then?S(N,function(ye,$e){z instanceof Ot?z._then(ye,$e):z.then(ye,$e)}):(N._state=!0,N._value=z,Wa(N)),te&&ai()}},zs.bind(null,N))}catch(z){zs(N,z)}}(this,v)}var Fo={get:function(){var v=Ut,C=Ws;function S(N,V){var z=this,te=!v.global&&(v!==Ut||C!==Ws),ye=te&&!xi(),$e=new Ot(function(ke,tt){Yi(z,new Hs(co(N,v,te,ye),co(V,v,te,ye),ke,tt,v))});return this._consoleTask&&($e._consoleTask=this._consoleTask),$e}return S.prototype=tn,S},set:function(v){Z(this,"then",v&&v.prototype===tn?Fo:{get:function(){return v},set:Fo.set})}};function Hs(v,C,S,N,V){this.onFulfilled="function"==typeof v?v:null,this.onRejected="function"==typeof C?C:null,this.resolve=S,this.reject=N,this.psd=V}function zs(v,C){var S,N;Yn.push(C),null===v._state&&(S=v._lib&&yr(),C=jn(C),v._state=!1,v._value=C,N=v,hr.some(function(V){return V._value===N._value})||hr.push(N),Wa(v),S&&ai())}function Wa(v){var C=v._listeners;v._listeners=[];for(var S=0,N=C.length;S<N;++S)Yi(v,C[S]);var V=v._PSD;--V.ref||V.finalize(),0===yo&&(++yo,Nr(function(){0==--yo&&bo()},[]))}function Yi(v,C){if(null!==v._state){var S=v._state?C.onFulfilled:C.onRejected;if(null===S)return(v._state?C.resolve:C.reject)(v._value);++C.psd.ref,++yo,Nr(Fr,[S,v,C])}else v._listeners.push(C)}function Fr(v,C,S){try{var N,V=C._value;!C._state&&Yn.length&&(Yn=[]),N=$t&&C._consoleTask?C._consoleTask.run(function(){return v(V)}):v(V),C._state||-1!==Yn.indexOf(V)||function(z){for(var te=hr.length;te;)if(hr[--te]._value===z._value)return hr.splice(te,1)}(C),S.resolve(N)}catch(z){S.reject(z)}finally{0==--yo&&bo(),--S.psd.ref||S.psd.finalize()}}function ti(){ci(ir,function(){yr()&&ai()})}function yr(){var v=zt;return vr=zt=!1,v}function ai(){var v,C,S;do{for(;0<No.length;)for(v=No,No=[],S=v.length,C=0;C<S;++C){var N=v[C];N[0].apply(null,N[1])}}while(0<No.length);vr=zt=!0}function bo(){var v=hr;hr=[],v.forEach(function(N){N._PSD.onunhandled.call(null,N._value,N)});for(var C=$s.slice(0),S=C.length;S;)C[--S]()}function Ka(v){return new Ot(tn,!1,v)}function vn(v,C){var S=Ut;return function(){var N=yr(),V=Ut;try{return ts(S,!0),v.apply(this,arguments)}catch(z){C&&C(z)}finally{ts(V,!1),N&&ai()}}}Be(Ot.prototype,{then:Fo,_then:function(v,C){Yi(this,new Hs(null,null,v,C,Ut))},catch:function(v){if(1===arguments.length)return this.then(null,v);var C=v,S=arguments[1];return this.then(null,"function"==typeof C?function(N){return(N instanceof C?S:Ka)(N)}:function(N){return(N&&N.name===C?S:Ka)(N)})},finally:function(v){return this.then(function(C){return Ot.resolve(v()).then(function(){return C})},function(C){return Ot.resolve(v()).then(function(){return Ka(C)})})},timeout:function(v,C){var S=this;return v<1/0?new Ot(function(N,V){var z=setTimeout(function(){return V(new Q.Timeout(C))},v);S.then(N,V).finally(clearTimeout.bind(null,z))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Z(Ot.prototype,Symbol.toStringTag,"Dexie.Promise"),ir.env=ns(),Be(Ot,{all:function(){var v=Jt.apply(null,arguments).map(ya);return new Ot(function(C,S){0===v.length&&C([]);var N=v.length;v.forEach(function(V,z){return Ot.resolve(V).then(function(te){v[z]=te,--N||C(v)},S)})})},resolve:function(v){return v instanceof Ot?v:v&&"function"==typeof v.then?new Ot(function(C,S){v.then(C,S)}):new Ot(tn,!0,v)},reject:Ka,race:function(){var v=Jt.apply(null,arguments).map(ya);return new Ot(function(C,S){v.map(function(N){return Ot.resolve(N).then(C,S)})})},PSD:{get:function(){return Ut},set:function(v){return Ut=v}},totalEchoes:{get:function(){return Ws}},newPSD:Gn,usePSD:ci,scheduler:{get:function(){return Nr},set:function(v){Nr=v}},rejectionMapper:{get:function(){return jn},set:function(v){jn=v}},follow:function(v,C){return new Ot(function(S,N){return Gn(function(V,z){var te=Ut;te.unhandleds=[],te.onunhandled=z,te.finalize=Ft(function(){var ye,$e=this;ye=function(){0===$e.unhandleds.length?V():z($e.unhandleds[0])},$s.push(function ke(){ye(),$s.splice($s.indexOf(ke),1)}),++yo,Nr(function(){0==--yo&&bo()},[])},te.finalize),v()},C,S,N)})}}),Xi&&(Xi.allSettled&&Z(Ot,"allSettled",function(){var v=Jt.apply(null,arguments).map(ya);return new Ot(function(C){0===v.length&&C([]);var S=v.length,N=new Array(S);v.forEach(function(V,z){return Ot.resolve(V).then(function(te){return N[z]={status:"fulfilled",value:te}},function(te){return N[z]={status:"rejected",reason:te}}).then(function(){return--S||C(N)})})})}),Xi.any&&typeof AggregateError<"u"&&Z(Ot,"any",function(){var v=Jt.apply(null,arguments).map(ya);return new Ot(function(C,S){0===v.length&&S(new AggregateError([]));var N=v.length,V=new Array(N);v.forEach(function(z,te){return Ot.resolve(z).then(function(ye){return C(ye)},function(ye){V[te]=ye,--N||S(new AggregateError(V))})})})}));var fr={awaits:0,echoes:0,id:0},es=0,Gs=[],Eo=0,Ws=0,Dc=0;function Gn(v,C,S,N){var V=Ut,z=Object.create(V);return z.parent=V,z.ref=0,z.global=!1,z.id=++Dc,z.env=Qi?{Promise:Ot,PromiseProp:{value:Ot,configurable:!0,writable:!0},all:Ot.all,race:Ot.race,allSettled:Ot.allSettled,any:Ot.any,resolve:Ot.resolve,reject:Ot.reject}:{},C&&M(z,C),++V.ref,z.finalize=function(){--this.parent.ref||this.parent.finalize()},N=ci(z,v,S,N),0===z.ref&&z.finalize(),N}function Lo(){return fr.id||(fr.id=++es),++fr.awaits,fr.echoes+=Pn,fr.id}function xi(){return!!fr.awaits&&(0==--fr.awaits&&(fr.id=0),fr.echoes=fr.awaits*Pn,!0)}function ya(v){return fr.echoes&&v&&v.constructor===Xi?(Lo(),v.then(function(C){return xi(),C},function(C){return xi(),mn(C)})):v}function al(){var v=Gs[Gs.length-1];Gs.pop(),ts(v,!1)}function ts(v,C){var S,N=Ut;(C?!fr.echoes||Eo++&&v===Ut:!Eo||--Eo&&v===Ut)||queueMicrotask(C?function(V){++Ws,fr.echoes&&0!=--fr.echoes||(fr.echoes=fr.awaits=fr.id=0),Gs.push(Ut),ts(V,!0)}.bind(null,v):al),v!==Ut&&(Ut=v,N===ir&&(ir.env=ns()),Qi&&(S=ir.env.Promise,C=v.env,(N.global||v.global)&&(Object.defineProperty(ie,"Promise",C.PromiseProp),S.all=C.all,S.race=C.race,S.resolve=C.resolve,S.reject=C.reject,C.allSettled&&(S.allSettled=C.allSettled),C.any&&(S.any=C.any))))}function ns(){var v=ie.Promise;return Qi?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(ie,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function ci(v,C,S,N,V){var z=Ut;try{return ts(v,!0),C(S,N,V)}finally{ts(z,!1)}}function co(v,C,S,N){return"function"!=typeof v?v:function(){var V=Ut;S&&Lo(),ts(C,!0);try{return v.apply(this,arguments)}finally{ts(V,!1),N&&queueMicrotask(xi)}}}function kn(v){Promise===Xi&&0===fr.echoes?0===Eo?v():enqueueNativeMicroTask(v):setTimeout(v,0)}-1===(""+to).indexOf("[native code]")&&(Lo=xi=le);var mn=Ot.reject,li="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",is="String expected.",ws=[],gi="__dbnames",qa="readonly",Lr="readwrite";function Ks(v,C){return v?C?function(){return v.apply(this,arguments)&&C.apply(this,arguments)}:v:C}var br={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xa(v){return"string"!=typeof v||/\./.test(v)?function(C){return C}:function(C){return void 0===C[v]&&v in C&&delete(C=ve(C))[v],C}}function wo(){throw Q.Type()}function $n(v,C){try{var S=Is(v),N=Is(C);if(S!==N)return"Array"===S?1:"Array"===N?-1:"binary"===S?1:"binary"===N?-1:"string"===S?1:"string"===N?-1:"Date"===S?1:"Date"!==N?NaN:-1;switch(S){case"number":case"Date":case"string":return C<v?1:v<C?-1:0;case"binary":return function(V,z){for(var te=V.length,ye=z.length,$e=te<ye?te:ye,ke=0;ke<$e;++ke)if(V[ke]!==z[ke])return V[ke]<z[ke]?-1:1;return te===ye?0:te<ye?-1:1}(cl(v),cl(C));case"Array":return function(V,z){for(var te=V.length,ye=z.length,$e=te<ye?te:ye,ke=0;ke<$e;++ke){var tt=$n(V[ke],z[ke]);if(0!==tt)return tt}return te===ye?0:te<ye?-1:1}(v,C)}}catch{}return NaN}function Is(v){var C=typeof v;return"object"!=C?C:ArrayBuffer.isView(v)||"ArrayBuffer"===(v=Y(v))?"binary":v}function cl(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var Ui=(or.prototype._trans=function(v,C,S){var N=this._tx||Ut.trans,V=this.name,z=$t&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===v?"read":"write"," ").concat(this.name));function te(ke,tt,Se){if(!Se.schema[V])throw new Q.NotFound("Table "+V+" not part of transaction");return C(Se.idbtrans,Se)}var ye=yr();try{var $e=N&&N.db._novip===this.db._novip?N===Ut.trans?N._promise(v,te,S):Gn(function(){return N._promise(v,te,S)},{trans:N,transless:Ut.transless||Ut}):function ke(tt,Se,nt,Le){if(tt.idbdb&&(tt._state.openComplete||Ut.letThrough||tt._vip)){var Xe=tt._createTransaction(Se,nt,tt._dbSchema);try{Xe.create(),tt._state.PR1398_maxLoop=3}catch(Ze){return Ze.name===U.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return ke(tt,Se,nt,Le)})):mn(Ze)}return Xe._promise(Se,function(Ze,He){return Gn(function(){return Ut.trans=Xe,Le(Ze,He,Xe)})}).then(function(Ze){if("readwrite"===Se)try{Xe.idbtrans.commit()}catch{}return"readonly"===Se?Ze:Xe._completion.then(function(){return Ze})})}if(tt._state.openComplete)return mn(new Q.DatabaseClosed(tt._state.dbOpenError));if(!tt._state.isBeingOpened){if(!tt._state.autoOpen)return mn(new Q.DatabaseClosed);tt.open().catch(le)}return tt._state.dbReadyPromise.then(function(){return ke(tt,Se,nt,Le)})}(this.db,v,[this.name],te);return z&&($e._consoleTask=z,$e=$e.catch(function(ke){return console.trace(ke),mn(ke)})),$e}finally{ye&&ai()}},or.prototype.get=function(v,C){var S=this;return v&&v.constructor===Object?this.where(v).first(C):null==v?mn(new Q.Type("Invalid argument to Table.get()")):this._trans("readonly",function(N){return S.core.get({trans:N,key:v}).then(function(V){return S.hook.reading.fire(V)})}).then(C)},or.prototype.where=function(v){if("string"==typeof v)return new this.db.WhereClause(this,v);if(ce(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var C=ge(v);if(1===C.length)return this.where(C[0]).equals(v[C[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function($e){if($e.compound&&C.every(function(tt){return 0<=$e.keyPath.indexOf(tt)})){for(var ke=0;ke<C.length;++ke)if(-1===C.indexOf($e.keyPath[ke]))return!1;return!0}return!1}).sort(function($e,ke){return $e.keyPath.length-ke.keyPath.length})[0];if(S&&"\uffff"!==this.db._maxKey){var te=S.keyPath.slice(0,C.length);return this.where(te).equals(te.map(function(ke){return v[ke]}))}!S&&$t&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(C.join("+"),"]"));var N=this.schema.idxByName,V=this.db._deps.indexedDB;function z($e,ke){return 0===V.cmp($e,ke)}te=(ye=C.reduce(function(nt,ke){var tt=nt[0],Se=nt[1],Le=(nt=N[ke],v[ke]);return[tt||nt,tt||!nt?Ks(Se,nt&&nt.multi?function(Xe){return Xe=Fe(Xe,ke),ce(Xe)&&Xe.some(function(Ze){return z(Le,Ze)})}:function(Xe){return z(Le,Fe(Xe,ke))}):Se]},[null,null]))[0];var ye=ye[1];return te?this.where(te.name).equals(v[te.keyPath]).filter(ye):S?this.filter(ye):this.where(C).equals("")},or.prototype.filter=function(v){return this.toCollection().and(v)},or.prototype.count=function(v){return this.toCollection().count(v)},or.prototype.offset=function(v){return this.toCollection().offset(v)},or.prototype.limit=function(v){return this.toCollection().limit(v)},or.prototype.each=function(v){return this.toCollection().each(v)},or.prototype.toArray=function(v){return this.toCollection().toArray(v)},or.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},or.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,ce(v)?"[".concat(v.join("+"),"]"):v))},or.prototype.reverse=function(){return this.toCollection().reverse()},or.prototype.mapToClass=function(v){var C,S=this.db,N=this.name;function V(){return null!==C&&C.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof wo&&(function($e,ke){if("function"!=typeof ke&&null!==ke)throw new TypeError("Class extends value "+String(ke)+" is not a constructor or null");function tt(){this.constructor=$e}et($e,ke),$e.prototype=null===ke?Object.create(ke):(tt.prototype=ke.prototype,new tt)}(V,C=v),Object.defineProperty(V.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),V.prototype.table=function(){return N},v=V);for(var z=new Set,te=v.prototype;te;te=l(te))Object.getOwnPropertyNames(te).forEach(function($e){return z.add($e)});function ye($e){if(!$e)return $e;var ke,tt=Object.create(v.prototype);for(ke in $e)if(!z.has(ke))try{tt[ke]=$e[ke]}catch{}return tt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ye,this.hook("reading",ye),v},or.prototype.defineClass=function(){return this.mapToClass(function(v){M(this,v)})},or.prototype.add=function(v,C){var S=this,N=this.schema.primKey,z=N.keyPath,te=v;return z&&N.auto&&(te=Xa(z)(v)),this._trans("readwrite",function(ye){return S.core.mutate({trans:ye,type:"add",keys:null!=C?[C]:null,values:[te]})}).then(function(ye){return ye.numFailures?Ot.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if(z)try{xe(v,z,ye)}catch{}return ye})},or.prototype.update=function(v,C){return"object"!=typeof v||ce(v)?this.where(":id").equals(v).modify(C):void 0===(v=Fe(v,this.schema.primKey.keyPath))?mn(new Q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(C)},or.prototype.put=function(v,C){var S=this,N=this.schema.primKey,z=N.keyPath,te=v;return z&&N.auto&&(te=Xa(z)(v)),this._trans("readwrite",function(ye){return S.core.mutate({trans:ye,type:"put",values:[te],keys:null!=C?[C]:null})}).then(function(ye){return ye.numFailures?Ot.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if(z)try{xe(v,z,ye)}catch{}return ye})},or.prototype.delete=function(v){var C=this;return this._trans("readwrite",function(S){return C.core.mutate({trans:S,type:"delete",keys:[v]})}).then(function(S){return S.numFailures?Ot.reject(S.failures[0]):void 0})},or.prototype.clear=function(){var v=this;return this._trans("readwrite",function(C){return v.core.mutate({trans:C,type:"deleteRange",range:br})}).then(function(C){return C.numFailures?Ot.reject(C.failures[0]):void 0})},or.prototype.bulkGet=function(v){var C=this;return this._trans("readonly",function(S){return C.core.getMany({keys:v,trans:S}).then(function(N){return N.map(function(V){return C.hook.reading.fire(V)})})})},or.prototype.bulkAdd=function(v,C,S){var N=this,V=Array.isArray(C)?C:void 0,z=(S=S||(V?void 0:C))?S.allKeys:void 0;return this._trans("readwrite",function(te){var ye=(ke=N.schema.primKey).auto;if((ke=ke.keyPath)&&V)throw new Q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");var $e=v.length,ke=ke&&ye?v.map(Xa(ke)):v;return N.core.mutate({trans:te,type:"add",keys:V,values:ke,wantResults:z}).then(function(Xe){var Se=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===Se)return z?nt:Le;throw new K("".concat(N.name,".bulkAdd(): ").concat(Se," of ").concat($e," operations failed"),Xe)})})},or.prototype.bulkPut=function(v,C,S){var N=this,V=Array.isArray(C)?C:void 0,z=(S=S||(V?void 0:C))?S.allKeys:void 0;return this._trans("readwrite",function(te){var ye=(ke=N.schema.primKey).auto;if((ke=ke.keyPath)&&V)throw new Q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new Q.InvalidArgument("Arguments objects and keys must have the same length");var $e=v.length,ke=ke&&ye?v.map(Xa(ke)):v;return N.core.mutate({trans:te,type:"put",keys:V,values:ke,wantResults:z}).then(function(Xe){var Se=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===Se)return z?nt:Le;throw new K("".concat(N.name,".bulkPut(): ").concat(Se," of ").concat($e," operations failed"),Xe)})})},or.prototype.bulkUpdate=function(v){var C=this,S=this.core,N=v.map(function(te){return te.key}),V=v.map(function(te){return te.changes}),z=[];return this._trans("readwrite",function(te){return S.getMany({trans:te,keys:N,cache:"clone"}).then(function(ye){var $e=[],ke=[];v.forEach(function(Se,nt){var Le=Se.key,Xe=Se.changes,Ze=ye[nt];if(Ze){for(var He=0,ht=Object.keys(Xe);He<ht.length;He++){var qe=ht[He],rt=Xe[qe];if(qe===C.schema.primKey.keyPath){if(0!==$n(rt,Le))throw new Q.Constraint("Cannot update primary key in bulkUpdate()")}else xe(Ze,qe,rt)}z.push(nt),$e.push(Le),ke.push(Ze)}});var tt=$e.length;return S.mutate({trans:te,type:"put",keys:$e,values:ke,updates:{keys:N,changeSpecs:V}}).then(function(Se){var nt=Se.numFailures,Le=Se.failures;if(0===nt)return tt;for(var Xe=0,Ze=Object.keys(Le);Xe<Ze.length;Xe++){var He,ht=Ze[Xe],qe=z[Number(ht)];null!=qe&&(He=Le[ht],delete Le[ht],Le[qe]=He)}throw new K("".concat(C.name,".bulkUpdate(): ").concat(nt," of ").concat(tt," operations failed"),Le)})})})},or.prototype.bulkDelete=function(v){var C=this,S=v.length;return this._trans("readwrite",function(N){return C.core.mutate({trans:N,type:"delete",keys:v})}).then(function(te){var V=te.numFailures,z=te.lastResult;if(te=te.failures,0===V)return z;throw new K("".concat(C.name,".bulkDelete(): ").concat(V," of ").concat(S," operations failed"),te)})},or);function or(){}function os(v){function C(te,ye){if(ye){for(var $e=arguments.length,ke=new Array($e-1);--$e;)ke[$e-1]=arguments[$e];return S[te].subscribe.apply(null,ke),v}if("string"==typeof te)return S[te]}var S={};C.addEventType=z;for(var N=1,V=arguments.length;N<V;++N)z(arguments[N]);return C;function z(te,ye,$e){if("object"!=typeof te){var ke;ye=ye||rn;var tt={subscribers:[],fire:$e=$e||le,subscribe:function(Se){-1===tt.subscribers.indexOf(Se)&&(tt.subscribers.push(Se),tt.fire=ye(tt.fire,Se))},unsubscribe:function(Se){tt.subscribers=tt.subscribers.filter(function(nt){return nt!==Se}),tt.fire=tt.subscribers.reduce(ye,$e)}};return S[te]=C[te]=tt}ge(ke=te).forEach(function(Se){var nt=ke[Se];if(ce(nt))z(Se,ke[Se][0],ke[Se][1]);else{if("asap"!==nt)throw new Q.InvalidArgument("Invalid event config");var Le=z(Se,Te,function(){for(var Xe=arguments.length,Ze=new Array(Xe);Xe--;)Ze[Xe]=arguments[Xe];Le.subscribers.forEach(function(He){_e(function(){He.apply(null,Ze)})})})}})}}function qs(v,C){return Me(C).from({prototype:v}),C}function ba(v,C){return!(v.filter||v.algorithm||v.or)&&(C?v.justLimit:!v.replayFilter)}function Tc(v,C){v.filter=Ks(v.filter,C)}function Ea(v,C,S){var N=v.replayFilter;v.replayFilter=N?function(){return Ks(N(),C())}:C,v.justLimit=S&&!N}function wa(v,C){if(v.isPrimKey)return C.primaryKey;var S=C.getIndexByKeyPath(v.index);if(!S)throw new Q.Schema("KeyPath "+v.index+" on object store "+C.name+" is not indexed");return S}function Ac(v,C,S){var N=wa(v,C.schema);return C.openCursor({trans:S,values:!v.keysOnly,reverse:"prev"===v.dir,unique:!!v.unique,query:{index:N,range:v.range}})}function ll(v,C,S,N){var V=v.replayFilter?Ks(v.filter,v.replayFilter()):v.filter;if(v.or){var z={},te=function(ye,$e,ke){var tt,Se;V&&!V($e,ke,function(nt){return $e.stop(nt)},function(nt){return $e.fail(nt)})||("[object ArrayBuffer]"==(Se=""+(tt=$e.primaryKey))&&(Se=""+new Uint8Array(tt)),lt(z,Se)||(z[Se]=!0,C(ye,$e,ke)))};return Promise.all([v.or._iterate(te,S),Ia(Ac(v,N,S),v.algorithm,te,!v.keysOnly&&v.valueMapper)])}return Ia(Ac(v,N,S),Ks(v.algorithm,V),C,!v.keysOnly&&v.valueMapper)}function Ia(v,C,S,N){var V=vn(N?function(z,te,ye){return S(N(z),te,ye)}:S);return v.then(function(z){if(z)return z.start(function(){var te=function(){return z.continue()};C&&!C(z,function(ye){return te=ye},function(ye){z.stop(ye),te=le},function(ye){z.fail(ye),te=le})||V(z.value,z,function(ye){return te=ye}),te()})})}Io=Symbol();var Xs=(Sc.prototype.execute=function(v){if(void 0!==this.add){var C=this.add;if(ce(C))return ee(ee([],ce(v)?v:[],!0),C,!0).sort();if("number"==typeof C)return(Number(v)||0)+C;if("bigint"==typeof C)try{return BigInt(v)+C}catch{return BigInt(0)+C}throw new TypeError("Invalid term ".concat(C))}if(void 0!==this.remove){var S=this.remove;if(ce(S))return ce(v)?v.filter(function(N){return!S.includes(N)}).sort():[];if("number"==typeof S)return Number(v)-S;if("bigint"==typeof S)try{return BigInt(v)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return(C=null===(C=this.replacePrefix)||void 0===C?void 0:C[0])&&"string"==typeof v&&v.startsWith(C)?this.replacePrefix[1]+v.substring(C.length):v},Sc);function Sc(v){Object.assign(this,v)}var xc=(Hn.prototype._read=function(v,C){var S=this._ctx;return S.error?S.table._trans(null,mn.bind(null,S.error)):S.table._trans("readonly",v).then(C)},Hn.prototype._write=function(v){var C=this._ctx;return C.error?C.table._trans(null,mn.bind(null,C.error)):C.table._trans("readwrite",v,"locked")},Hn.prototype._addAlgorithm=function(v){var C=this._ctx;C.algorithm=Ks(C.algorithm,v)},Hn.prototype._iterate=function(v,C){return ll(this._ctx,v,C,this._ctx.table.core)},Hn.prototype.clone=function(v){var C=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return v&&M(S,v),C._ctx=S,C},Hn.prototype.raw=function(){return this._ctx.valueMapper=null,this},Hn.prototype.each=function(v){var C=this._ctx;return this._read(function(S){return ll(C,v,S,C.table.core)})},Hn.prototype.count=function(v){var C=this;return this._read(function(S){var N=C._ctx,V=N.table.core;if(ba(N,!0))return V.count({trans:S,query:{index:wa(N,V.schema),range:N.range}}).then(function(te){return Math.min(te,N.limit)});var z=0;return ll(N,function(){return++z,!1},S,V).then(function(){return z})}).then(v)},Hn.prototype.sortBy=function(v,C){var S=v.split(".").reverse(),N=S[0],V=S.length-1;function z($e,ke){return ke?z($e[S[ke]],ke-1):$e[N]}var te="next"===this._ctx.dir?1:-1;function ye($e,ke){return($e=z($e,V))<(ke=z(ke,V))?-te:ke<$e?te:0}return this.toArray(function($e){return $e.sort(ye)}).then(C)},Hn.prototype.toArray=function(v){var C=this;return this._read(function(S){var N=C._ctx;if("next"===N.dir&&ba(N,!0)&&0<N.limit){var V=N.valueMapper,z=wa(N,N.table.core.schema);return N.table.core.query({trans:S,limit:N.limit,values:!0,query:{index:z,range:N.range}}).then(function(ye){return ye=ye.result,V?ye.map(V):ye})}var te=[];return ll(N,function(ye){return te.push(ye)},S,N.table.core).then(function(){return te})},v)},Hn.prototype.offset=function(v){var C=this._ctx;return v<=0||(C.offset+=v,ba(C)?Ea(C,function(){var S=v;return function(N,V){return 0===S||(1===S?--S:V(function(){N.advance(S),S=0}),!1)}}):Ea(C,function(){var S=v;return function(){return--S<0}})),this},Hn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),Ea(this._ctx,function(){var C=v;return function(S,N,V){return--C<=0&&N(V),0<=C}},!0),this},Hn.prototype.until=function(v,C){return Tc(this._ctx,function(S,N,V){return!v(S.value)||(N(V),C)}),this},Hn.prototype.first=function(v){return this.limit(1).toArray(function(C){return C[0]}).then(v)},Hn.prototype.last=function(v){return this.reverse().first(v)},Hn.prototype.filter=function(v){var C;return Tc(this._ctx,function(S){return v(S.value)}),(C=this._ctx).isMatch=Ks(C.isMatch,v),this},Hn.prototype.and=function(v){return this.filter(v)},Hn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},Hn.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Hn.prototype.desc=function(){return this.reverse()},Hn.prototype.eachKey=function(v){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(S,N){v(N.key,N)})},Hn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},Hn.prototype.eachPrimaryKey=function(v){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(S,N){v(N.primaryKey,N)})},Hn.prototype.keys=function(v){var C=this._ctx;C.keysOnly=!C.isMatch;var S=[];return this.each(function(N,V){S.push(V.key)}).then(function(){return S}).then(v)},Hn.prototype.primaryKeys=function(v){var C=this._ctx;if("next"===C.dir&&ba(C,!0)&&0<C.limit)return this._read(function(N){var V=wa(C,C.table.core.schema);return C.table.core.query({trans:N,values:!1,limit:C.limit,query:{index:V,range:C.range}})}).then(function(N){return N.result}).then(v);C.keysOnly=!C.isMatch;var S=[];return this.each(function(N,V){S.push(V.primaryKey)}).then(function(){return S}).then(v)},Hn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},Hn.prototype.firstKey=function(v){return this.limit(1).keys(function(C){return C[0]}).then(v)},Hn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},Hn.prototype.distinct=function(){var v;if(!(v=(v=this._ctx).index&&v.table.schema.idxByName[v.index])||!v.multi)return this;var C={};return Tc(this._ctx,function(V){var N=V.primaryKey.toString();return V=lt(C,N),C[N]=!0,!V}),this},Hn.prototype.modify=function(v){var C=this,S=this._ctx;return this._write(function(N){var V,z,te;function ye(He,rt){var qe=rt.failures;Xe+=He-(rt=rt.numFailures);for(var wt=0,Nt=ge(qe);wt<Nt.length;wt++)Le.push(qe[Nt[wt]])}te="function"==typeof v?v:(V=ge(v),z=V.length,function(He){for(var ht=!1,qe=0;qe<z;++qe){var rt=V[qe],wt=v[rt],Nt=Fe(He,rt);wt instanceof Xs?(xe(He,rt,wt.execute(Nt)),ht=!0):Nt!==wt&&(xe(He,rt,wt),ht=!0)}return ht});var $e=S.table.core,ke=$e.schema.primaryKey,tt=ke.outbound,Se=ke.extractKey,nt=C.db._options.modifyChunkSize||200,Le=[],Xe=0,Ze=[];return C.clone().primaryKeys().then(function(He){var qe=ba(S)&&S.limit===1/0&&("function"!=typeof v||v===Qa)&&{index:S.index,range:S.range};return function ht(rt){var wt=Math.min(nt,He.length-rt);return $e.getMany({trans:N,keys:He.slice(rt,rt+wt),cache:"immutable"}).then(function(Nt){for(var St=[],Lt=[],Gt=tt?[]:null,Kt=[],vt=0;vt<wt;++vt){var An=Nt[vt],Rn={value:ve(An),primKey:He[rt+vt]};!1!==te.call(Rn,Rn.value,Rn)&&(null==Rn.value?Kt.push(He[rt+vt]):tt||0===$n(Se(An),Se(Rn.value))?(Lt.push(Rn.value),tt&&Gt.push(He[rt+vt])):(Kt.push(He[rt+vt]),St.push(Rn.value)))}return Promise.resolve(0<St.length&&$e.mutate({trans:N,type:"add",values:St}).then(function(En){for(var Fn in En.failures)Kt.splice(parseInt(Fn),1);ye(St.length,En)})).then(function(){return(0<Lt.length||qe&&"object"==typeof v)&&$e.mutate({trans:N,type:"put",keys:Gt,values:Lt,criteria:qe,changeSpec:"function"!=typeof v&&v,isAdditionalChunk:0<rt}).then(function(En){return ye(Lt.length,En)})}).then(function(){return(0<Kt.length||qe&&v===Qa)&&$e.mutate({trans:N,type:"delete",keys:Kt,criteria:qe,isAdditionalChunk:0<rt}).then(function(En){return ye(Kt.length,En)})}).then(function(){return He.length>rt+wt&&ht(rt+nt)})})}(0).then(function(){if(0<Le.length)throw new be("Error modifying one or more objects",Le,Xe,Ze);return He.length})})})},Hn.prototype.delete=function(){var v=this._ctx,C=v.range;return ba(v)&&(v.isPrimKey||3===C.type)?this._write(function(S){var V=C;return v.table.core.count({trans:S,query:{index:v.table.core.schema.primaryKey,range:V}}).then(function(z){return v.table.core.mutate({trans:S,type:"deleteRange",range:V}).then(function(te){var ye=te.failures;if(te=te.numFailures)throw new be("Could not delete some values",Object.keys(ye).map(function($e){return ye[$e]}),z-te);return z-te})})}):this.modify(Qa)},Hn);function Hn(){}var Qa=function(v,C){return C.value=null};function ul(v,C){return v<C?-1:v===C?0:1}function au(v,C){return C<v?-1:v===C?0:1}function lo(v,C,S){return(v=v instanceof Oe?new v.Collection(v):v)._ctx.error=new(S||TypeError)(C),v}function Zi(v){return new v.Collection(v,function(){return G("")}).limit(0)}function Ya(v,C,S,N){var V,z,te,ye,$e,ke,tt,Se=S.length;if(!S.every(function(Xe){return"string"==typeof Xe}))return lo(v,is);function nt(Xe){V="next"===Xe?function(He){return He.toUpperCase()}:function(He){return He.toLowerCase()},z="next"===Xe?function(He){return He.toLowerCase()}:function(He){return He.toUpperCase()},te="next"===Xe?ul:au;var Ze=S.map(function(He){return{lower:z(He),upper:V(He)}}).sort(function(He,ht){return te(He.lower,ht.lower)});ye=Ze.map(function(He){return He.upper}),$e=Ze.map(function(He){return He.lower}),tt="next"===(ke=Xe)?"":N}nt("next"),(v=new v.Collection(v,function(){return ss(ye[0],$e[Se-1]+N)}))._ondirectionchange=function(Xe){nt(Xe)};var Le=0;return v._addAlgorithm(function(Xe,Ze,He){var ht=Xe.key;if("string"!=typeof ht)return!1;var qe=z(ht);if(C(qe,$e,Le))return!0;for(var rt=null,wt=Le;wt<Se;++wt){var Nt=function(St,Lt,Gt,Kt,vt,An){for(var Rn=Math.min(St.length,Kt.length),En=-1,Fn=0;Fn<Rn;++Fn){var na=Lt[Fn];if(na!==Kt[Fn])return vt(St[Fn],Gt[Fn])<0?St.substr(0,Fn)+Gt[Fn]+Gt.substr(Fn+1):vt(St[Fn],Kt[Fn])<0?St.substr(0,Fn)+Kt[Fn]+Gt.substr(Fn+1):0<=En?St.substr(0,En)+Lt[En]+Gt.substr(En+1):null;vt(St[Fn],na)<0&&(En=Fn)}return Rn<Kt.length&&"next"===An?St+Gt.substr(St.length):Rn<St.length&&"prev"===An?St.substr(0,Gt.length):En<0?null:St.substr(0,En)+Kt[En]+Gt.substr(En+1)}(ht,qe,ye[wt],$e[wt],te,ke);null===Nt&&null===rt?Le=wt+1:(null===rt||0<te(rt,Nt))&&(rt=Nt)}return Ze(null!==rt?function(){Xe.continue(rt+tt)}:He),!1}),v}function ss(v,C,S,N){return{type:2,lower:v,upper:C,lowerOpen:S,upperOpen:N}}function G(v){return{type:1,lower:v,upper:v}}var Oe=(Object.defineProperty(Je.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Je.prototype.between=function(v,C,S,N){S=!1!==S,N=!0===N;try{return 0<this._cmp(v,C)||0===this._cmp(v,C)&&(S||N)&&(!S||!N)?Zi(this):new this.Collection(this,function(){return ss(v,C,!S,!N)})}catch{return lo(this,li)}},Je.prototype.equals=function(v){return null==v?lo(this,li):new this.Collection(this,function(){return G(v)})},Je.prototype.above=function(v){return null==v?lo(this,li):new this.Collection(this,function(){return ss(v,void 0,!0)})},Je.prototype.aboveOrEqual=function(v){return null==v?lo(this,li):new this.Collection(this,function(){return ss(v,void 0,!1)})},Je.prototype.below=function(v){return null==v?lo(this,li):new this.Collection(this,function(){return ss(void 0,v,!1,!0)})},Je.prototype.belowOrEqual=function(v){return null==v?lo(this,li):new this.Collection(this,function(){return ss(void 0,v)})},Je.prototype.startsWith=function(v){return"string"!=typeof v?lo(this,is):this.between(v,v+"\uffff",!0,!0)},Je.prototype.startsWithIgnoreCase=function(v){return""===v?this.startsWith(v):Ya(this,function(C,S){return 0===C.indexOf(S[0])},[v],"\uffff")},Je.prototype.equalsIgnoreCase=function(v){return Ya(this,function(C,S){return C===S[0]},[v],"")},Je.prototype.anyOfIgnoreCase=function(){var v=Jt.apply(cn,arguments);return 0===v.length?Zi(this):Ya(this,function(C,S){return-1!==S.indexOf(C)},v,"")},Je.prototype.startsWithAnyOfIgnoreCase=function(){var v=Jt.apply(cn,arguments);return 0===v.length?Zi(this):Ya(this,function(C,S){return S.some(function(N){return 0===C.indexOf(N)})},v,"\uffff")},Je.prototype.anyOf=function(){var v=this,C=Jt.apply(cn,arguments),S=this._cmp;try{C.sort(S)}catch{return lo(this,li)}if(0===C.length)return Zi(this);var N=new this.Collection(this,function(){return ss(C[0],C[C.length-1])});N._ondirectionchange=function(z){C.sort(S="next"===z?v._ascending:v._descending)};var V=0;return N._addAlgorithm(function(z,te,ye){for(var $e=z.key;0<S($e,C[V]);)if(++V===C.length)return te(ye),!1;return 0===S($e,C[V])||(te(function(){z.continue(C[V])}),!1)}),N},Je.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Je.prototype.noneOf=function(){var v=Jt.apply(cn,arguments);if(0===v.length)return new this.Collection(this);try{v.sort(this._ascending)}catch{return lo(this,li)}var C=v.reduce(function(S,N){return S?S.concat([[S[S.length-1][1],N]]):[[-1/0,N]]},null);return C.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(C,{includeLowers:!1,includeUppers:!1})},Je.prototype.inAnyRange=function(ht,C){var S=this,N=this._cmp,V=this._ascending,z=this._descending,te=this._min,ye=this._max;if(0===ht.length)return Zi(this);if(!ht.every(function(qe){return void 0!==qe[0]&&void 0!==qe[1]&&V(qe[0],qe[1])<=0}))return lo(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Q.InvalidArgument);var tt,$e=!C||!1!==C.includeLowers,ke=C&&!0===C.includeUppers,Se=V;function nt(qe,rt){return Se(qe[0],rt[0])}try{(tt=ht.reduce(function(qe,rt){for(var wt=0,Nt=qe.length;wt<Nt;++wt){var St=qe[wt];if(N(rt[0],St[1])<0&&0<N(rt[1],St[0])){St[0]=te(St[0],rt[0]),St[1]=ye(St[1],rt[1]);break}}return wt===Nt&&qe.push(rt),qe},[])).sort(nt)}catch{return lo(this,li)}var Le=0,Xe=ke?function(qe){return 0<V(qe,tt[Le][1])}:function(qe){return 0<=V(qe,tt[Le][1])},Ze=$e?function(qe){return 0<z(qe,tt[Le][0])}:function(qe){return 0<=z(qe,tt[Le][0])},He=Xe;return(ht=new this.Collection(this,function(){return ss(tt[0][0],tt[tt.length-1][1],!$e,!ke)}))._ondirectionchange=function(qe){Se="next"===qe?(He=Xe,V):(He=Ze,z),tt.sort(nt)},ht._addAlgorithm(function(qe,rt,wt){for(var Nt,St=qe.key;He(St);)if(++Le===tt.length)return rt(wt),!1;return!Xe(Nt=St)&&!Ze(Nt)||(0===S._cmp(St,tt[Le][1])||0===S._cmp(St,tt[Le][0])||rt(function(){qe.continue(Se===V?tt[Le][0]:tt[Le][1])}),!1)}),ht},Je.prototype.startsWithAnyOf=function(){var v=Jt.apply(cn,arguments);return v.every(function(C){return"string"==typeof C})?0===v.length?Zi(this):this.inAnyRange(v.map(function(C){return[C,C+"\uffff"]})):lo(this,"startsWithAnyOf() only works with strings")},Je);function Je(){}function ut(v){return vn(function(C){return kt(C),v(C.target.error),!1})}function kt(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var Cn="storagemutated",Nn="x-storagemutated-1",Kn=os(null,Cn),pr=(Vr.prototype._lock=function(){return Pe(!Ut.global),++this._reculock,1!==this._reculock||Ut.global||(Ut.lockOwnerFor=this),this},Vr.prototype._unlock=function(){if(Pe(!Ut.global),0==--this._reculock)for(Ut.global||(Ut.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{ci(v[1],v[0])}catch{}}return this},Vr.prototype._locked=function(){return this._reculock&&Ut.lockOwnerFor!==this},Vr.prototype.create=function(v){var C=this;if(!this.mode)return this;var S=this.db.idbdb,N=this.db._state.dbOpenError;if(Pe(!this.idbtrans),!v&&!S)switch(N&&N.name){case"DatabaseClosedError":throw new Q.DatabaseClosed(N);case"MissingAPIError":throw new Q.MissingAPI(N.message,N);default:throw new Q.OpenFailed(N)}if(!this.active)throw new Q.TransactionInactive;return Pe(null===this._completion._state),(v=this.idbtrans=v||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=vn(function(V){kt(V),C._reject(v.error)}),v.onabort=vn(function(V){kt(V),C.active&&C._reject(new Q.Abort(v.error)),C.active=!1,C.on("abort").fire(V)}),v.oncomplete=vn(function(){C.active=!1,C._resolve(),"mutatedParts"in v&&Kn.storagemutated.fire(v.mutatedParts)}),this},Vr.prototype._promise=function(v,C,S){var N=this;if("readwrite"===v&&"readwrite"!==this.mode)return mn(new Q.ReadOnly("Transaction is readonly"));if(!this.active)return mn(new Q.TransactionInactive);if(this._locked())return new Ot(function(z,te){N._blockedFuncs.push([function(){N._promise(v,C,S).then(z,te)},Ut])});if(S)return Gn(function(){var z=new Ot(function(te,ye){N._lock();var $e=C(te,ye,N);$e&&$e.then&&$e.then(te,ye)});return z.finally(function(){return N._unlock()}),z._lib=!0,z});var V=new Ot(function(z,te){var ye=C(z,te,N);ye&&ye.then&&ye.then(z,te)});return V._lib=!0,V},Vr.prototype._root=function(){return this.parent?this.parent._root():this},Vr.prototype.waitFor=function(v){var C,S=this._root(),N=Ot.resolve(v);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return N}):(S._waitingFor=N,S._waitingQueue=[],C=S.idbtrans.objectStore(S.storeNames[0]),function z(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(C.get(-1/0).onsuccess=z)}());var V=S._waitingFor;return new Ot(function(z,te){N.then(function(ye){return S._waitingQueue.push(vn(z.bind(null,ye)))},function(ye){return S._waitingQueue.push(vn(te.bind(null,ye)))}).finally(function(){S._waitingFor===V&&(S._waitingFor=null)})})},Vr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Q.Abort))},Vr.prototype.table=function(v){var C=this._memoizedTables||(this._memoizedTables={});if(lt(C,v))return C[v];var S=this.schema[v];if(!S)throw new Q.NotFound("Table "+v+" not part of transaction");return(S=new this.db.Table(v,S,this)).core=this.db.core.table(v),C[v]=S},Vr);function Vr(){}function qr(v,C,S,N,V,z,te){return{name:v,keyPath:C,unique:S,multi:N,auto:V,compound:z,src:(S&&!te?"&":"")+(N?"*":"")+(V?"++":"")+Xr(C)}}function Xr(v){return"string"==typeof v?v:v?"["+[].join.call(v,"+")+"]":""}function Co(v,C,S){return{name:v,primKey:C,indexes:S,mappedClass:null,idxByName:(N=function(V){return[V.name,V]},S.reduce(function(V,z,te){return(te=N(z))&&(V[te[0]]=te[1]),V},{}))};var N}var Cs=function(v){try{return v.only([[]]),Cs=function(){return[[]]},[[]]}catch{return Cs=function(){return"\uffff"},"\uffff"}};function uo(v){return null==v?function(){}:"string"==typeof v?1===(C=v).split(".").length?function(S){return S[C]}:function(S){return Fe(S,C)}:function(S){return Fe(S,v)};var C}function Do(v){return[].slice.call(v)}var Qs=0;function Ys(v){return null==v?":id":"string"==typeof v?v:"[".concat(v.join("+"),"]")}function ho(v,C,$e){function N(He){if(3===He.type)return null;if(4===He.type)throw new Error("Cannot convert never type to IDBKeyRange");var Le=He.lower,Xe=He.upper,Ze=He.lowerOpen;return He=He.upperOpen,void 0===Le?void 0===Xe?null:C.upperBound(Xe,!!He):void 0===Xe?C.lowerBound(Le,!!Ze):C.bound(Le,Xe,!!Ze,!!He)}var z,te,ye,ke=(te=$e,ye=Do((z=v).objectStoreNames),tt={schema:{name:z.name,tables:ye.map(function(nt){return te.objectStore(nt)}).map(function(nt){var Le=nt.keyPath,He=nt.autoIncrement,Xe=ce(Le),Ze={};return He={name:nt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==Le,compound:Xe,keyPath:Le,autoIncrement:He,unique:!0,extractKey:uo(Le)},indexes:Do(nt.indexNames).map(function(ht){return nt.index(ht)}).map(function(wt){var rt=wt.unique,Nt=wt.multiEntry;return Nt={name:wt.name,compound:ce(wt=wt.keyPath),keyPath:wt,unique:rt,multiEntry:Nt,extractKey:uo(wt)},Ze[Ys(wt)]=Nt}),getIndexByKeyPath:function(ht){return Ze[Ys(ht)]}},Ze[":id"]=He.primaryKey,null!=Le&&(Ze[Ys(Le)]=He.primaryKey),He})},hasGetAll:0<ye.length&&"getAll"in te.objectStore(ye[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,tt=($e=tt.schema).tables.map(function V(nt){var Le,Xe=nt.name;return{name:Xe,schema:nt,mutate:function(Ze){var He=Ze.trans,ht=Ze.type,qe=Ze.keys,rt=Ze.values,wt=Ze.range;return new Promise(function(Nt,St){Nt=vn(Nt);var Lt=He.objectStore(Xe),Gt=null==Lt.keyPath,Kt="put"===ht||"add"===ht;if(!Kt&&"delete"!==ht&&"deleteRange"!==ht)throw new Error("Invalid operation type: "+ht);var vt,An=(qe||rt||{length:1}).length;if(qe&&rt&&qe.length!==rt.length)throw new Error("Given keys array must have same length as given values array.");if(0===An)return Nt({numFailures:0,failures:{},results:[],lastResult:void 0});function Rn(ji){++na,kt(ji)}var En=[],Fn=[],na=0;if("deleteRange"===ht){if(4===wt.type)return Nt({numFailures:na,failures:Fn,results:[],lastResult:void 0});En.push(vt=3===wt.type?Lt.clear():Lt.delete(N(wt)))}else{var Vn=(Gt=Kt?Gt?[rt,qe]:[rt,null]:[qe,null])[0],ui=Gt[1];if(Kt)for(var ri=0;ri<An;++ri)En.push(vt=ui&&void 0!==ui[ri]?Lt[ht](Vn[ri],ui[ri]):Lt[ht](Vn[ri])),vt.onerror=Rn;else for(ri=0;ri<An;++ri)En.push(vt=Lt[ht](Vn[ri])),vt.onerror=Rn}function xa(ji){ji=ji.target.result,En.forEach(function(As,ec){return null!=As.error&&(Fn[ec]=As.error)}),Nt({numFailures:na,failures:Fn,results:"delete"===ht?qe:En.map(function(As){return As.result}),lastResult:ji})}vt.onerror=function(ji){Rn(ji),xa(ji)},vt.onsuccess=xa})},getMany:function(Ze){var He=Ze.trans,ht=Ze.keys;return new Promise(function(qe,rt){qe=vn(qe);for(var wt,Nt=He.objectStore(Xe),St=ht.length,Lt=new Array(St),Gt=0,Kt=0,vt=function(En){Lt[(En=En.target)._pos]=En.result,++Kt===Gt&&qe(Lt)},An=ut(rt),Rn=0;Rn<St;++Rn)null!=ht[Rn]&&((wt=Nt.get(ht[Rn]))._pos=Rn,wt.onsuccess=vt,wt.onerror=An,++Gt);0===Gt&&qe(Lt)})},get:function(Ze){var He=Ze.trans,ht=Ze.key;return new Promise(function(qe,rt){qe=vn(qe);var wt=He.objectStore(Xe).get(ht);wt.onsuccess=function(Nt){return qe(Nt.target.result)},wt.onerror=ut(rt)})},query:(Le=ke,function(Ze){return new Promise(function(He,ht){He=vn(He);var qe,rt,wt,Nt=Ze.values,St=Ze.limit,Lt=St===1/0?void 0:St,Kt=(vt=Ze.query).index,vt=vt.range,Gt=(Gt=Ze.trans).objectStore(Xe);if(Kt=Kt.isPrimaryKey?Gt:Gt.index(Kt.name),vt=N(vt),0===St)return He({result:[]});Le?((Lt=Nt?Kt.getAll(vt,Lt):Kt.getAllKeys(vt,Lt)).onsuccess=function(An){return He({result:An.target.result})},Lt.onerror=ut(ht)):(qe=0,rt=!Nt&&"openKeyCursor"in Kt?Kt.openKeyCursor(vt):Kt.openCursor(vt),wt=[],rt.onsuccess=function(An){var Rn=rt.result;return Rn?(wt.push(Nt?Rn.value:Rn.primaryKey),++qe===St?He({result:wt}):void Rn.continue()):He({result:wt})},rt.onerror=ut(ht))})}),openCursor:function(Ze){var He=Ze.trans,ht=Ze.values,qe=Ze.query,rt=Ze.reverse,wt=Ze.unique;return new Promise(function(Nt,St){Nt=vn(Nt);var Kt=qe.index,Lt=qe.range,Gt=He.objectStore(Xe),vt=(Gt=Kt.isPrimaryKey?Gt:Gt.index(Kt.name),Kt=rt?wt?"prevunique":"prev":wt?"nextunique":"next",!ht&&"openKeyCursor"in Gt?Gt.openKeyCursor(N(Lt),Kt):Gt.openCursor(N(Lt),Kt));vt.onerror=ut(St),vt.onsuccess=vn(function(An){var Rn,En,Fn,na,Vn=vt.result;Vn?(Vn.___id=++Qs,Vn.done=!1,Rn=Vn.continue.bind(Vn),En=(En=Vn.continuePrimaryKey)&&En.bind(Vn),Fn=Vn.advance.bind(Vn),na=function(){throw new Error("Cursor not stopped")},Vn.trans=He,Vn.stop=Vn.continue=Vn.continuePrimaryKey=Vn.advance=function(){throw new Error("Cursor not started")},Vn.fail=vn(St),Vn.next=function(){var ui=this,ri=1;return this.start(function(){return ri--?ui.continue():ui.stop()}).then(function(){return ui})},Vn.start=function(ui){function ri(){if(vt.result)try{ui()}catch(ji){Vn.fail(ji)}else Vn.done=!0,Vn.start=function(){throw new Error("Cursor behind last entry")},Vn.stop()}var xa=new Promise(function(ji,As){ji=vn(ji),vt.onerror=ut(As),Vn.fail=As,Vn.stop=function(ec){Vn.stop=Vn.continue=Vn.continuePrimaryKey=Vn.advance=na,ji(ec)}});return vt.onsuccess=vn(function(ji){vt.onsuccess=ri,ri()}),Vn.continue=Rn,Vn.continuePrimaryKey=En,Vn.advance=Fn,ri(),xa},Nt(Vn)):Nt(null)},St)})},count:function(Ze){var He=Ze.query,ht=Ze.trans,qe=He.index,rt=He.range;return new Promise(function(wt,Nt){var St=ht.objectStore(Xe),Lt=qe.isPrimaryKey?St:St.index(qe.name);(Lt=(St=N(rt))?Lt.count(St):Lt.count()).onsuccess=vn(function(Gt){return wt(Gt.target.result)}),Lt.onerror=ut(Nt)})}}}),Se={};return tt.forEach(function(nt){return Se[nt.name]=nt}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(nt){if(!Se[nt])throw new Error("Table '".concat(nt,"' not found"));return Se[nt]},MIN_KEY:-1/0,MAX_KEY:Cs(C),schema:$e}}function Mc(v,N){N=function Za(v,C,S,N){return{dbcore:(N=ho(C,S.IDBKeyRange,N),v.dbcore.reduce(function(z,te){return te=te.create,P(P({},z),te(z))},N))}}(v._middlewares,N.db,v._deps,N),v.core=N.dbcore,v.tables.forEach(function(V){var z=V.name;v.core.schema.tables.some(function(te){return te.name===z})&&(V.core=v.core.table(z),v[z]instanceof v.Table&&(v[z].core=V.core))})}function dl(v,C,S,N){S.forEach(function(V){var z=N[V];C.forEach(function(te){var ye=function $e(ke,tt){return Ne(ke,tt)||(ke=l(ke))&&$e(ke,tt)}(te,V);(!ye||"value"in ye&&void 0===ye.value)&&(te===v.Transaction.prototype||te instanceof v.Transaction?Z(te,V,{get:function(){return this.table(V)},set:function($e){Ue(this,V,{value:$e,writable:!0,configurable:!0,enumerable:!0})}}):te[V]=new v.Table(V,z))})})}function Rc(v,C){C.forEach(function(S){for(var N in S)S[N]instanceof v.Table&&delete S[N]})}function cu(v,C){return v._cfg.version-C._cfg.version}function qt(v,C){var S,N={del:[],add:[],change:[]};for(S in v)C[S]||N.del.push(S);for(S in C){var V=v[S],z=C[S];if(V){var te={name:S,def:z,recreate:!1,del:[],add:[],change:[]};if(""+(V.primKey.keyPath||"")!=""+(z.primKey.keyPath||"")||V.primKey.auto!==z.primKey.auto)te.recreate=!0,N.change.push(te);else{var ye=V.idxByName,$e=z.idxByName,ke=void 0;for(ke in ye)$e[ke]||te.del.push(ke);for(ke in $e){var tt=ye[ke],Se=$e[ke];tt?tt.src!==Se.src&&te.change.push(Se):te.add.push(Se)}(0<te.del.length||0<te.add.length||0<te.change.length)&&N.change.push(te)}}else N.add.push([S,z])}return N}function Zs(v,C,S,N){var V=v.db.createObjectStore(C,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return N.forEach(function(z){return Oc(V,z)}),V}function Ca(v,C){ge(v).forEach(function(S){C.db.objectStoreNames.contains(S)||($t&&console.debug("Dexie: Creating missing table",S),Zs(C,S,v[S].primKey,v[S].indexes))})}function Oc(v,C){v.createIndex(C.name,C.keyPath,{unique:C.unique,multiEntry:C.multi})}function lu(v,C,S){var N={};return ze(C.objectStoreNames,0).forEach(function(V){for(var z=S.objectStore(V),te=qr(Xr(ke=z.keyPath),ke||"",!0,!1,!!z.autoIncrement,ke&&"string"!=typeof ke,!0),ye=[],$e=0;$e<z.indexNames.length;++$e){var ke=(tt=z.index(z.indexNames[$e])).keyPath,tt=qr(tt.name,ke,!!tt.unique,!!tt.multiEntry,!1,ke&&"string"!=typeof ke,!1);ye.push(tt)}N[V]=Co(V,te,ye)}),N}function uu(v,C,S){for(var N=S.db.objectStoreNames,V=0;V<N.length;++V){var z=N[V],te=S.objectStore(z);v._hasGetAll="getAll"in te;for(var ye=0;ye<te.indexNames.length;++ye){var $e=te.indexNames[ye],ke=te.index($e).keyPath,tt="string"==typeof ke?ke:"["+ze(ke).join("+")+"]";!C[z]||(ke=C[z].idxByName[tt])&&(ke.name=$e,delete C[z].idxByName[tt],C[z].idxByName[$e]=ke)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ie.WorkerGlobalScope&&ie instanceof ie.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function hl(v){return v.split(",").map(function(C,S){var N=(C=C.trim()).replace(/([&*]|\+\+)/g,""),V=/^\[/.test(N)?N.match(/^\[(.*)\]$/)[1].split("+"):N;return qr(N,V||null,/\&/.test(C),/\*/.test(C),/\+\+/.test(C),ce(V),0===S)})}var Ds=(ni.prototype._parseStoresSpec=function(v,C){ge(v).forEach(function(S){if(null!==v[S]){var N=hl(v[S]),V=N.shift();if(V.unique=!0,V.multi)throw new Q.Schema("Primary key cannot be multi-valued");N.forEach(function(z){if(z.auto)throw new Q.Schema("Only primary key can be marked as autoIncrement (++)");if(!z.keyPath)throw new Q.Schema("Index must have a name and cannot be an empty string")}),C[S]=Co(S,V,N)}})},ni.prototype.stores=function(S){var C=this.db;this._cfg.storesSource=this._cfg.storesSource?M(this._cfg.storesSource,S):S;var N={},V={};return(S=C._versions).forEach(function(z){M(N,z._cfg.storesSource),V=z._cfg.dbschema={},z._parseStoresSpec(N,V)}),C._dbSchema=V,Rc(C,[C._allTables,C,C.Transaction.prototype]),dl(C,[C._allTables,C,C.Transaction.prototype,this._cfg.tables],ge(V),V),C._storeNames=ge(V),this},ni.prototype.upgrade=function(v){return this._cfg.contentUpgrade=an(this._cfg.contentUpgrade||le,v),this},ni);function ni(){}function Da(v,C){var S=v._dbNamesDB;return S||(S=v._dbNamesDB=new ea(gi,{addons:[],indexedDB:v,IDBKeyRange:C})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function Js(v){return v&&"function"==typeof v.databases}function du(v){return Gn(function(){return Ut.letThrough=!0,v()})}function fl(v){return!("from"in v)}var mr=function(v,C){if(!this){var S=new mr;return v&&"d"in v&&M(S,v),S}M(this,arguments.length?{d:1,from:v,to:1<arguments.length?C:v}:{d:0})};function hu(v,C,S){var N=$n(C,S);if(!isNaN(N)){if(0<N)throw RangeError();if(fl(v))return M(v,{from:C,to:S,d:1});var V=v.l;if(N=v.r,$n(S,v.from)<0)return V?hu(V,C,S):v.l={from:C,to:S,d:1,l:null,r:null},sr(v);if(0<$n(C,v.to))return N?hu(N,C,S):v.r={from:C,to:S,d:1,l:null,r:null},sr(v);$n(C,v.from)<0&&(v.from=C,v.l=null,v.d=N?N.d+1:1),0<$n(S,v.to)&&(v.to=S,v.r=null,v.d=v.l?v.l.d+1:1),S=!v.r,V&&!v.l&&Dr(v,V),N&&S&&Dr(v,N)}}function Dr(v,C){fl(C)||function S(N,$e){var z=$e.from,te=$e.to,ye=$e.l;$e=$e.r,hu(N,z,te),ye&&S(N,ye),$e&&S(N,$e)}(v,C)}function Of(v,C){var S=gd(C),N=S.next();if(N.done)return!1;for(var V=N.value,z=gd(v),te=z.next(V.from),ye=te.value;!N.done&&!te.done;){if($n(ye.from,V.to)<=0&&0<=$n(ye.to,V.from))return!0;$n(V.from,ye.from)<0?V=(N=S.next(ye.from)).value:ye=(te=z.next(V.from)).value}return!1}function gd(v){var C=fl(v)?null:{s:0,n:v};return{next:function(S){for(var N=0<arguments.length;C;)switch(C.s){case 0:if(C.s=1,N)for(;C.n.l&&$n(S,C.n.from)<0;)C={up:C,n:C.n.l,s:1};else for(;C.n.l;)C={up:C,n:C.n.l,s:1};case 1:if(C.s=2,!N||$n(S,C.n.to)<=0)return{value:C.n,done:!1};case 2:if(C.n.r){C.s=3,C={up:C,n:C.n.r,s:0};continue}case 3:C=C.up}return{done:!0}}}}function sr(v){var C,S,N=((null===(C=v.r)||void 0===C?void 0:C.d)||0)-((null===(S=v.l)||void 0===S?void 0:S.d)||0),V=1<N?"r":N<-1?"l":"";V&&(C="r"==V?"l":"r",S=P({},v),v.from=(N=v[V]).from,v.to=N.to,v[V]=N[V],S[V]=N[C],(v[C]=S).d=Pf(S)),v.d=Pf(v)}function Pf(S){var C=S.r;return S=S.l,(C?S?Math.max(C.d,S.d):C.d:S?S.d:0)+1}function zr(v,C){return ge(C).forEach(function(S){v[S]?Dr(v[S],C[S]):v[S]=function N(V){var z,te,ye={};for(z in V)lt(V,z)&&(ye[z]=!(te=V[z])||"object"!=typeof te||st.has(te.constructor)?te:N(te));return ye}(C[S])}),v}function pl(v,C){return v.all||C.all||Object.keys(v).some(function(S){return C[S]&&Of(C[S],v[S])})}Be(mr.prototype,((to={add:function(v){return Dr(this,v),this},addKey:function(v){return hu(this,v,v),this},addKeys:function(v){var C=this;return v.forEach(function(S){return hu(C,S,S)}),this},hasKey:function(v){var C=gd(this).next(v).value;return C&&$n(C.from,v)<=0&&0<=$n(C.to,v)}})[pt]=function(){return gd(this)},to));var Pc={},_d={},kc=!1;function yn(v){zr(_d,v),kc||(kc=!0,setTimeout(function(){kc=!1,Nc(_d,!(_d={}))},0))}function Nc(v,C){void 0===C&&(C=!1);var S=new Set;if(v.all)for(var N=0,V=Object.values(Pc);N<V.length;N++)fo(te=V[N],v,S,C);else for(var z in v){var te,ye=/^idb\:\/\/(.*)\/(.*)\//.exec(z);ye&&(z=ye[1],ye=ye[2],(te=Pc["idb://".concat(z,"/").concat(ye)])&&fo(te,v,S,C))}S.forEach(function($e){return $e()})}function fo(v,C,S,N){for(var V=[],z=0,te=Object.entries(v.queries.query);z<te.length;z++){for(var ye=te[z],$e=ye[0],ke=[],tt=0,Se=ye[1];tt<Se.length;tt++){var nt=Se[tt];pl(C,nt.obsSet)?nt.subscribers.forEach(function(He){return S.add(He)}):N&&ke.push(nt)}N&&V.push([$e,ke])}if(N)for(var Le=0,Xe=V;Le<Xe.length;Le++){var Ze=Xe[Le];v.queries.query[$e=Ze[0]]=ke=Ze[1]}}function vg(v){var C=v._state,S=v._deps.indexedDB;if(C.isBeingOpened||v.idbdb)return C.dbReadyPromise.then(function(){return C.dbOpenError?mn(C.dbOpenError):v});C.isBeingOpened=!0,C.dbOpenError=null,C.openComplete=!1;var N=C.openCanceller,V=Math.round(10*v.verno),z=!1;function te(){if(C.openCanceller!==N)throw new Q.DatabaseClosed("db.open() was cancelled")}var $e,ke=C.dbReadyResolve,tt=null,Se=!1;return Ot.race([N,(typeof navigator>"u"?Ot.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(nt){function Le(){return indexedDB.databases().finally(nt)}$e=setInterval(Le,100),Le()}).finally(function(){return clearInterval($e)}):Promise.resolve()).then(function ye(){return new Ot(function(nt,Le){if(te(),!S)throw new Q.MissingAPI;var Xe=v.name,Ze=C.autoSchema||!V?S.open(Xe):S.open(Xe,V);if(!Ze)throw new Q.MissingAPI;Ze.onerror=ut(Le),Ze.onblocked=vn(v._fireOnBlocked),Ze.onupgradeneeded=vn(function(He){var ht;tt=Ze.transaction,C.autoSchema&&!v._options.allowEmptyDB?(Ze.onerror=kt,tt.abort(),Ze.result.close(),(ht=S.deleteDatabase(Xe)).onsuccess=ht.onerror=vn(function(){Le(new Q.NoSuchDatabase("Database ".concat(Xe," doesnt exist")))})):(tt.onerror=ut(Le),He=He.oldVersion>Math.pow(2,62)?0:He.oldVersion,Se=He<1,v.idbdb=Ze.result,z&&function md(v,C){Ca(v._dbSchema,C),C.db.version%10!=0||C.objectStoreNames.contains("$meta")||C.db.createObjectStore("$meta").add(Math.ceil(C.db.version/10-1),"version");var S=lu(0,v.idbdb,C);uu(v,v._dbSchema,C);for(var N=0,V=qt(S,v._dbSchema).change;N<V.length;N++){var z=function(te){if(te.change.length||te.recreate)return console.warn("Unable to patch indexes of table ".concat(te.name," because it has changes on the type of index or primary key.")),{value:void 0};var ye=C.objectStore(te.name);te.add.forEach(function($e){$t&&console.debug("Dexie upgrade patch: Creating missing index ".concat(te.name,".").concat($e.src)),Oc(ye,$e)})}(V[N]);if("object"==typeof z)return z.value}}(v,tt),function Rf(v,C,S,N){var V=v._dbSchema;S.objectStoreNames.contains("$meta")&&!V.$meta&&(V.$meta=Co("$meta",hl("")[0],[]),v._storeNames.push("$meta"));var z=v._createTransaction("readwrite",v._storeNames,V);z.create(S),z._completion.catch(N);var te=z._reject.bind(z),ye=Ut.transless||Ut;Gn(function(){return Ut.trans=z,Ut.transless=ye,0!==C?(Mc(v,S),ke=C,(($e=z).storeNames.includes("$meta")?$e.table("$meta").get("version").then(function(tt){return tt??ke}):Ot.resolve(ke)).then(function(tt){return nt=tt,Le=z,Ze=[],tt=(Se=v)._versions,He=Se._dbSchema=lu(0,Se.idbdb,Xe=S),0!==(tt=tt.filter(function(ht){return ht._cfg.version>=nt})).length?(tt.forEach(function(ht){Ze.push(function(){var qe=He,rt=ht._cfg.dbschema;uu(Se,qe,Xe),uu(Se,rt,Xe),He=Se._dbSchema=rt;var wt=qt(qe,rt);wt.add.forEach(function(Kt){Zs(Xe,Kt[0],Kt[1].primKey,Kt[1].indexes)}),wt.change.forEach(function(Kt){if(Kt.recreate)throw new Q.Upgrade("Not yet support for changing primary key");var vt=Xe.objectStore(Kt.name);Kt.add.forEach(function(An){return Oc(vt,An)}),Kt.change.forEach(function(An){vt.deleteIndex(An.name),Oc(vt,An)}),Kt.del.forEach(function(An){return vt.deleteIndex(An)})});var Nt=ht._cfg.contentUpgrade;if(Nt&&ht._cfg.version>nt){Mc(Se,Xe),Le._memoizedTables={};var St=Ae(rt);wt.del.forEach(function(Kt){St[Kt]=qe[Kt]}),Rc(Se,[Se.Transaction.prototype]),dl(Se,[Se.Transaction.prototype],ge(St),St),Le.schema=St;var Lt,Gt=hn(Nt);return Gt&&Lo(),wt=Ot.follow(function(){var Kt;(Lt=Nt(Le))&&Gt&&(Kt=xi.bind(null,null),Lt.then(Kt,Kt))}),Lt&&"function"==typeof Lt.then?Ot.resolve(Lt):wt.then(function(){return Lt})}}),Ze.push(function(qe){var rt,wt;rt=ht._cfg.dbschema,[].slice.call((wt=qe).db.objectStoreNames).forEach(function(St){return null==rt[St]&&wt.db.deleteObjectStore(St)}),Rc(Se,[Se.Transaction.prototype]),dl(Se,[Se.Transaction.prototype],Se._storeNames,Se._dbSchema),Le.schema=Se._dbSchema}),Ze.push(function(qe){Se.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Se.idbdb.version/10)===ht._cfg.version?(Se.idbdb.deleteObjectStore("$meta"),delete Se._dbSchema.$meta,Se._storeNames=Se._storeNames.filter(function(rt){return"$meta"!==rt})):qe.objectStore("$meta").put(ht._cfg.version,"version"))})}),function ht(){return Ze.length?Ot.resolve(Ze.shift()(Le.idbtrans)).then(ht):Ot.resolve()}().then(function(){Ca(He,Xe)})):Ot.resolve();var Se,nt,Le,Xe,Ze,He}).catch(te)):(ge(V).forEach(function(tt){Zs(S,tt,V[tt].primKey,V[tt].indexes)}),Mc(v,S),void Ot.follow(function(){return v.on.populate.fire(z)}).catch(te));var $e,ke})}(v,He/10,tt,Le))},Le),Ze.onsuccess=vn(function(){tt=null;var He,ht,qe,rt,wt,Nt=v.idbdb=Ze.result,St=ze(Nt.objectStoreNames);if(0<St.length)try{var Lt=Nt.transaction(1===(rt=St).length?rt[0]:rt,"readonly");if(C.autoSchema)qe=Lt,(He=v).verno=(ht=Nt).version/10,qe=He._dbSchema=lu(0,ht,qe),He._storeNames=ze(ht.objectStoreNames,0),dl(He,[He._allTables],ge(qe),qe);else if(uu(v,v._dbSchema,Lt),((wt=qt(lu(0,(wt=v).idbdb,Lt),wt._dbSchema)).add.length||wt.change.some(function(Gt){return Gt.add.length||Gt.change.length}))&&!z)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Nt.close(),V=Nt.version+1,z=!0,nt(ye());Mc(v,Lt)}catch{}ws.push(v),Nt.onversionchange=vn(function(Gt){C.vcFired=!0,v.on("versionchange").fire(Gt)}),Nt.onclose=vn(function(Gt){v.on("close").fire(Gt)}),Se&&(Lt=Xe,Nt=(wt=v._deps).indexedDB,wt=wt.IDBKeyRange,Js(Nt)||Lt===gi||Da(Nt,wt).put({name:Lt}).catch(le)),nt()},Le)}).catch(function(nt){switch(nt?.name){case"UnknownError":if(0<C.PR1398_maxLoop)return C.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ye();break;case"VersionError":if(0<V)return V=0,ye()}return Ot.reject(nt)})})]).then(function(){return te(),C.onReadyBeingFired=[],Ot.resolve(du(function(){return v.on.ready.fire(v.vip)})).then(function nt(){if(0<C.onReadyBeingFired.length){var Le=C.onReadyBeingFired.reduce(an,le);return C.onReadyBeingFired=[],Ot.resolve(du(function(){return Le(v.vip)})).then(nt)}})}).finally(function(){C.openCanceller===N&&(C.onReadyBeingFired=null,C.isBeingOpened=!1)}).catch(function(nt){C.dbOpenError=nt;try{tt&&tt.abort()}catch{}return N===C.openCanceller&&v._close(),mn(nt)}).finally(function(){C.openComplete=!0,ke()}).then(function(){var nt;return Se&&(nt={},v.tables.forEach(function(Le){Le.schema.indexes.forEach(function(Xe){Xe.name&&(nt["idb://".concat(v.name,"/").concat(Le.name,"/").concat(Xe.name)]=new mr(-1/0,[[[]]]))}),nt["idb://".concat(v.name,"/").concat(Le.name,"/")]=nt["idb://".concat(v.name,"/").concat(Le.name,"/:dels")]=new mr(-1/0,[[[]]])}),Kn(Cn).fire(nt),Nc(nt,!0)),v})}function vd(v){function C(z){return v.next(z)}var S=V(C),N=V(function(z){return v.throw(z)});function V(z){return function($e){var ye=z($e);return $e=ye.value,ye.done?$e:$e&&"function"==typeof $e.then?$e.then(S,N):ce($e)?Promise.all($e).then(S,N):S($e)}}return V(C)()}function yd(v,C,S){for(var N=ce(v)?v.slice():[v],V=0;V<S;++V)N.push(C);return N}var Ta={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return P(P({},v),{table:function(C){var S=v.table(C),N=S.schema,V={},z=[];function te(Se,nt,Le){var Xe=Ys(Se),Ze=V[Xe]=V[Xe]||[],He=null==Se?0:"string"==typeof Se?1:Se.length,ht=0<nt;return ht=P(P({},Le),{name:ht?"".concat(Xe,"(virtual-from:").concat(Le.name,")"):Le.name,lowLevelIndex:Le,isVirtual:ht,keyTail:nt,keyLength:He,extractKey:uo(Se),unique:!ht&&Le.unique}),Ze.push(ht),ht.isPrimaryKey||z.push(ht),1<He&&te(2===He?Se[0]:Se.slice(0,He-1),nt+1,Le),Ze.sort(function(qe,rt){return qe.keyTail-rt.keyTail}),ht}C=te(N.primaryKey.keyPath,0,N.primaryKey),V[":id"]=[C];for(var ye=0,$e=N.indexes;ye<$e.length;ye++){var ke=$e[ye];te(ke.keyPath,0,ke)}function tt(Se){var nt,Le=Se.query.index;return Le.isVirtual?P(P({},Se),{query:{index:Le.lowLevelIndex,range:(nt=Se.query.range,Le=Le.keyTail,{type:1===nt.type?2:nt.type,lower:yd(nt.lower,nt.lowerOpen?v.MAX_KEY:v.MIN_KEY,Le),lowerOpen:!0,upper:yd(nt.upper,nt.upperOpen?v.MIN_KEY:v.MAX_KEY,Le),upperOpen:!0})}}):Se}return P(P({},S),{schema:P(P({},N),{primaryKey:C,indexes:z,getIndexByKeyPath:function(Se){return(Se=V[Ys(Se)])&&Se[0]}}),count:function(Se){return S.count(tt(Se))},query:function(Se){return S.query(tt(Se))},openCursor:function(Se){var nt=Se.query.index,Le=nt.keyTail,Ze=nt.keyLength;return nt.isVirtual?S.openCursor(tt(Se)).then(function(ht){return ht&&function He(ht){return Object.create(ht,{continue:{value:function(qe){null!=qe?ht.continue(yd(qe,Se.reverse?v.MAX_KEY:v.MIN_KEY,Le)):Se.unique?ht.continue(ht.key.slice(0,Ze).concat(Se.reverse?v.MIN_KEY:v.MAX_KEY,Le)):ht.continue()}},continuePrimaryKey:{value:function(qe,rt){ht.continuePrimaryKey(yd(qe,v.MAX_KEY,Le),rt)}},primaryKey:{get:function(){return ht.primaryKey}},key:{get:function(){var qe=ht.key;return 1===Ze?qe[0]:qe.slice(0,Ze)}},value:{get:function(){return ht.value}}})}(ht)}):S.openCursor(Se)}})}})}};function fu(v,C,S,N){return S=S||{},N=N||"",ge(v).forEach(function(V){var z,te,ye;lt(C,V)?(te=C[V],"object"==typeof(z=v[V])&&"object"==typeof te&&z&&te?(ye=Y(z))!==Y(te)?S[N+V]=C[V]:"Object"===ye?fu(z,te,S,N+V+"."):z!==te&&(S[N+V]=C[V]):z!==te&&(S[N+V]=C[V])):S[N+V]=void 0}),ge(C).forEach(function(V){lt(v,V)||(S[N+V]=C[V])}),S}function pu(v,C){return"delete"===C.type?C.keys:C.keys||C.values.map(v.extractKey)}var DD={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return P(P({},v),{table:function(C){var S=v.table(C),N=S.schema.primaryKey;return P(P({},S),{mutate:function(V){var z=Ut.trans,te=z.table(C).hook,ye=te.deleting,$e=te.creating,ke=te.updating;switch(V.type){case"add":if($e.fire===le)break;return z._promise("readwrite",function(){return tt(V)},!0);case"put":if($e.fire===le&&ke.fire===le)break;return z._promise("readwrite",function(){return tt(V)},!0);case"delete":if(ye.fire===le)break;return z._promise("readwrite",function(){return tt(V)},!0);case"deleteRange":if(ye.fire===le)break;return z._promise("readwrite",function(){return function Se(nt,Le,Xe){return S.query({trans:nt,values:!1,query:{index:N,range:Le},limit:Xe}).then(function(Ze){var He=Ze.result;return tt({type:"delete",keys:He,trans:nt}).then(function(ht){return 0<ht.numFailures?Promise.reject(ht.failures[0]):He.length<Xe?{failures:[],numFailures:0,lastResult:void 0}:Se(nt,P(P({},Le),{lower:He[He.length-1],lowerOpen:!0}),Xe)})})}(V.trans,V.range,1e4)},!0)}return S.mutate(V);function tt(Se){var nt,Le,Xe,Ze=Ut.trans,He=Se.keys||pu(N,Se);if(!He)throw new Error("Keys missing");return"delete"!==(Se="add"===Se.type||"put"===Se.type?P(P({},Se),{keys:He}):P({},Se)).type&&(Se.values=ee([],Se.values,!0)),Se.keys&&(Se.keys=ee([],Se.keys,!0)),nt=S,Xe=He,("add"===(Le=Se).type?Promise.resolve([]):nt.getMany({trans:Le.trans,keys:Xe,cache:"immutable"})).then(function(ht){var qe=He.map(function(rt,wt){var Nt,St,Lt,Gt=ht[wt],Kt={onerror:null,onsuccess:null};return"delete"===Se.type?ye.fire.call(Kt,rt,Gt,Ze):"add"===Se.type||void 0===Gt?(Nt=$e.fire.call(Kt,rt,Se.values[wt],Ze),null==rt&&null!=Nt&&(Se.keys[wt]=rt=Nt,N.outbound||xe(Se.values[wt],N.keyPath,rt))):(Nt=fu(Gt,Se.values[wt]),(St=ke.fire.call(Kt,Nt,rt,Gt,Ze))&&(Lt=Se.values[wt],Object.keys(St).forEach(function(vt){lt(Lt,vt)?Lt[vt]=St[vt]:xe(Lt,vt,St[vt])}))),Kt});return S.mutate(Se).then(function(rt){for(var wt=rt.failures,Nt=rt.results,St=rt.numFailures,Lt=(rt=rt.lastResult,0);Lt<He.length;++Lt){var Gt=(Nt||He)[Lt],Kt=qe[Lt];null==Gt?Kt.onerror&&Kt.onerror(wt[Lt]):Kt.onsuccess&&Kt.onsuccess("put"===Se.type&&ht[Lt]?Se.values[Lt]:Gt)}return{failures:wt,results:Nt,numFailures:St,lastResult:rt}}).catch(function(rt){return qe.forEach(function(wt){return wt.onerror&&wt.onerror(rt)}),Promise.reject(rt)})})}}})}})}};function Rb(v,C,S){try{if(!C||C.keys.length<v.length)return null;for(var N=[],V=0,z=0;V<C.keys.length&&z<v.length;++V)0===$n(C.keys[V],v[z])&&(N.push(S?ve(C.values[V]):C.values[V]),++z);return N.length===v.length?N:null}catch{return null}}var Vo={stack:"dbcore",level:-1,create:function(v){return{table:function(C){var S=v.table(C);return P(P({},S),{getMany:function(N){if(!N.cache)return S.getMany(N);var V=Rb(N.keys,N.trans._cache,"clone"===N.cache);return V?Ot.resolve(V):S.getMany(N).then(function(z){return N.trans._cache={keys:N.keys,values:"clone"===N.cache?ve(z):z},z})},mutate:function(N){return"add"!==N.type&&(N.trans._cache=null),S.mutate(N)}})}}}};function kf(v,C){return"readonly"===v.trans.mode&&!!v.subscr&&!v.trans.explicit&&"disabled"!==v.trans.db._options.cache&&!C.schema.primaryKey.outbound}function Nf(v,C){switch(v){case"query":return C.values&&!C.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var bd={stack:"dbcore",level:0,name:"Observability",create:function(v){var C=v.schema.name,S=new mr(v.MIN_KEY,v.MAX_KEY);return P(P({},v),{transaction:function(N,V,z){if(Ut.subscr&&"readonly"!==V)throw new Q.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ut.querier));return v.transaction(N,V,z)},table:function(N){var V=v.table(N),z=V.schema,te=z.primaryKey,Se=z.indexes,ye=te.extractKey,$e=te.outbound,ke=te.autoIncrement&&Se.filter(function(Le){return Le.compound&&Le.keyPath.includes(te.keyPath)}),tt=P(P({},V),{mutate:function(Le){function Xe(vt){return vt="idb://".concat(C,"/").concat(N,"/").concat(vt),rt[vt]||(rt[vt]=new mr)}var Ze,He,ht,qe=Le.trans,rt=Le.mutatedParts||(Le.mutatedParts={}),wt=Xe(""),Nt=Xe(":dels"),St=Le.type,Lt=(Kt="deleteRange"===Le.type?[Le.range]:"delete"===Le.type?[Le.keys]:Le.values.length<50?[pu(te,Le).filter(function(vt){return vt}),Le.values]:[])[0],Gt=Kt[1],Kt=Le.trans._cache;return ce(Lt)?(wt.addKeys(Lt),(Kt="delete"===St||Lt.length===Gt.length?Rb(Lt,Kt):null)||Nt.addKeys(Lt),(Kt||Gt)&&(Ze=Xe,He=Kt,ht=Gt,z.indexes.forEach(function(vt){var An=Ze(vt.name||"");function Rn(Fn){return null!=Fn?vt.extractKey(Fn):null}function En(Fn){return vt.multiEntry&&ce(Fn)?Fn.forEach(function(na){return An.addKey(na)}):An.addKey(Fn)}(He||ht).forEach(function(Fn,ui){var Vn=He&&Rn(He[ui]);0!==$n(Vn,ui=ht&&Rn(ht[ui]))&&(null!=Vn&&En(Vn),null!=ui&&En(ui))})}))):Lt?(Nt.add(Gt={from:Lt.lower,to:Lt.upper}),wt.add(Gt)):(wt.add(S),Nt.add(S),z.indexes.forEach(function(vt){return Xe(vt.name).add(S)})),V.mutate(Le).then(function(vt){return!Lt||"add"!==Le.type&&"put"!==Le.type||(wt.addKeys(vt.results),ke&&ke.forEach(function(An){var Rn=Le.values.map(function(Fn){return An.extractKey(Fn)}),En=An.keyPath.findIndex(function(Fn){return Fn===te.keyPath});vt.results.forEach(function(Fn){return Rn[En]=Fn}),Xe(An.name).addKeys(Rn)})),qe.mutatedParts=zr(qe.mutatedParts||{},rt),vt})}}),nt={get:function(Le){return[te,new mr(Le.key)]},getMany:function(Le){return[te,(new mr).addKeys(Le.keys)]},count:Se=function(Xe){var Ze;return[Xe=(Ze=Xe.query).index,new mr(null!==(Xe=(Ze=Ze.range).lower)&&void 0!==Xe?Xe:v.MIN_KEY,null!==(Ze=Ze.upper)&&void 0!==Ze?Ze:v.MAX_KEY)]},query:Se,openCursor:Se};return ge(nt).forEach(function(Le){tt[Le]=function(Xe){var He=!!(Ze=Ut.subscr),ht=kf(Ut,V)&&Nf(Le,Xe)?Xe.obsSet={}:Ze;if(He){var qe=function(Gt){return Gt="idb://".concat(C,"/").concat(N,"/").concat(Gt),ht[Gt]||(ht[Gt]=new mr)},rt=qe(""),wt=qe(":dels"),Ze=(He=(Ze=nt[Le](Xe))[0],Ze[1]);if(("query"===Le&&He.isPrimaryKey&&!Xe.values?wt:qe(He.name||"")).add(Ze),!He.isPrimaryKey){if("count"!==Le){var Nt="query"===Le&&$e&&Xe.values&&V.query(P(P({},Xe),{values:!1}));return V[Le].apply(this,arguments).then(function(Gt){if("query"===Le){if($e&&Xe.values)return Nt.then(function(Rn){return rt.addKeys(Rn=Rn.result),Gt});var Kt=Xe.values?Gt.result.map(ye):Gt.result;(Xe.values?rt:wt).addKeys(Kt)}else if("openCursor"===Le){var vt=Gt,An=Xe.values;return vt&&Object.create(vt,{key:{get:function(){return wt.addKey(vt.primaryKey),vt.key}},primaryKey:{get:function(){var Rn=vt.primaryKey;return wt.addKey(Rn),Rn}},value:{get:function(){return An&&rt.addKey(vt.primaryKey),vt.value}}})}return Gt})}wt.add(S)}}return V[Le].apply(this,arguments)}}),tt}})}};function Ji(v,C,S){return 0===S.numFailures?C:"deleteRange"===C.type||S.numFailures===(C.keys?C.keys.length:"values"in C&&C.values?C.values.length:1)?null:(C=P({},C),ce(C.keys)&&(C.keys=C.keys.filter(function(V,z){return!(z in S.failures)})),"values"in C&&ce(C.values)&&(C.values=C.values.filter(function(V,z){return!(z in S.failures)})),C)}function bn(v,C){return S=v,(void 0===(N=C).lower||(N.lowerOpen?0<$n(S,N.lower):0<=$n(S,N.lower)))&&(void 0===C.upper||(C.upperOpen?$n(v,C.upper)<0:$n(v,C.upper)<=0));var S,N}function yg(v,C,nt,N,V,z){if(!nt||0===nt.length)return v;var te=C.query.index,ye=te.multiEntry,$e=C.query.range,ke=N.schema.primaryKey.extractKey,tt=te.extractKey,Se=(te.lowLevelIndex||te).extractKey;return(nt=nt.reduce(function(Le,Xe){var Ze=Le,He=[];if("add"===Xe.type||"put"===Xe.type)for(var ht=new mr,qe=Xe.values.length-1;0<=qe;--qe){var rt,wt=Xe.values[qe],Nt=ke(wt);ht.hasKey(Nt)||(rt=tt(wt),(ye&&ce(rt)?rt.some(function(Kt){return bn(Kt,$e)}):bn(rt,$e))&&(ht.addKey(Nt),He.push(wt)))}switch(Xe.type){case"add":Ze=Le.concat(C.values?He:He.map(function(vt){return ke(vt)}));break;case"put":var St=(new mr).addKeys(Xe.values.map(function(vt){return ke(vt)}));Ze=Le.filter(function(vt){return!St.hasKey(C.values?ke(vt):vt)}).concat(C.values?He:He.map(function(vt){return ke(vt)}));break;case"delete":var Lt=(new mr).addKeys(Xe.keys);Ze=Le.filter(function(vt){return!Lt.hasKey(C.values?ke(vt):vt)});break;case"deleteRange":var Gt=Xe.range;Ze=Le.filter(function(vt){return!bn(ke(vt),Gt)})}return Ze},v))===v?v:(nt.sort(function(Le,Xe){return $n(Se(Le),Se(Xe))||$n(ke(Le),ke(Xe))}),C.limit&&C.limit<1/0&&(nt.length>C.limit?nt.length=C.limit:v.length===C.limit&&nt.length<C.limit&&(V.dirty=!0)),z?Object.freeze(nt):nt)}function bg(v,C){return 0===$n(v.lower,C.lower)&&0===$n(v.upper,C.upper)&&!!v.lowerOpen==!!C.lowerOpen&&!!v.upperOpen==!!C.upperOpen}var Ed={stack:"dbcore",level:0,name:"Cache",create:function(v){var C=v.schema.name;return P(P({},v),{transaction:function(S,N,V){var z,te,ye=v.transaction(S,N,V);return"readwrite"===N&&(te=(z=new AbortController).signal,ye.addEventListener("abort",(V=function($e){return function(){if(z.abort(),"readwrite"===N){for(var ke=new Set,tt=0,Se=S;tt<Se.length;tt++){var nt=Se[tt],Le=Pc["idb://".concat(C,"/").concat(nt)];if(Le){var Xe=v.table(nt),Ze=Le.optimisticOps.filter(function(An){return An.trans===ye});if(ye._explicit&&$e&&ye.mutatedParts)for(var He=0,ht=Object.values(Le.queries.query);He<ht.length;He++)for(var qe=0,rt=(St=ht[He]).slice();qe<rt.length;qe++)pl((Lt=rt[qe]).obsSet,ye.mutatedParts)&&(Tt(St,Lt),Lt.subscribers.forEach(function(An){return ke.add(An)}));else if(0<Ze.length){Le.optimisticOps=Le.optimisticOps.filter(function(An){return An.trans!==ye});for(var wt=0,Nt=Object.values(Le.queries.query);wt<Nt.length;wt++)for(var St,Lt,Gt,Kt=0,vt=(St=Nt[wt]).slice();Kt<vt.length;Kt++)null!=(Lt=vt[Kt]).res&&ye.mutatedParts&&($e&&!Lt.dirty?(Gt=Object.isFrozen(Lt.res),Gt=yg(Lt.res,Lt.req,Ze,Xe,Lt,Gt),Lt.dirty?(Tt(St,Lt),Lt.subscribers.forEach(function(An){return ke.add(An)})):Gt!==Lt.res&&(Lt.res=Gt,Lt.promise=Ot.resolve({result:Gt}))):(Lt.dirty&&Tt(St,Lt),Lt.subscribers.forEach(function(An){return ke.add(An)})))}}}ke.forEach(function(An){return An()})}}})(!1),{signal:te}),ye.addEventListener("error",V(!1),{signal:te}),ye.addEventListener("complete",V(!0),{signal:te})),ye},table:function(S){var N=v.table(S),V=N.schema.primaryKey;return P(P({},N),{mutate:function(z){var te=Ut.trans;if(V.outbound||"disabled"===te.db._options.cache||te.explicit)return N.mutate(z);var ye=Pc["idb://".concat(C,"/").concat(S)];return ye?(te=N.mutate(z),"add"!==z.type&&"put"!==z.type||!(50<=z.values.length||pu(V,z).some(function($e){return null==$e}))?(ye.optimisticOps.push(z),z.mutatedParts&&yn(z.mutatedParts),te.then(function($e){0<$e.numFailures&&(Tt(ye.optimisticOps,z),($e=Ji(0,z,$e))&&ye.optimisticOps.push($e),z.mutatedParts&&yn(z.mutatedParts))}),te.catch(function(){Tt(ye.optimisticOps,z),z.mutatedParts&&yn(z.mutatedParts)})):te.then(function($e){var ke=Ji(0,P(P({},z),{values:z.values.map(function(Le,Se){var nt;return xe(Le=null!==(nt=V.keyPath)&&void 0!==nt&&nt.includes(".")?ve(Le):P({},Le),V.keyPath,$e.results[Se]),Le})}),$e);ye.optimisticOps.push(ke),queueMicrotask(function(){return z.mutatedParts&&yn(z.mutatedParts)})}),te):N.mutate(z)},query:function(z){if(!kf(Ut,N)||!Nf("query",z))return N.query(z);var te="immutable"===(null===(ke=Ut.trans)||void 0===ke?void 0:ke.db._options.cache),ye=(Se=Ut).requery,$e=Se.signal,ke=function(Xe,Ze,He,ht){var qe=Pc["idb://".concat(Xe,"/").concat(Ze)];if(!qe)return[];if(!(Ze=qe.queries.query))return[null,!1,qe,null];var rt=Ze[(ht.query?ht.query.index.name:null)||""];if(!rt)return[null,!1,qe,null];var wt=rt.find(function(Nt){return Nt.req.limit===ht.limit&&Nt.req.values===ht.values&&bg(Nt.req.query.range,ht.query.range)});return wt?[wt,!0,qe,rt]:[rt.find(function(Nt){return("limit"in Nt.req?Nt.req.limit:1/0)>=ht.limit&&(!ht.values||Nt.req.values)&&function eo(v,C){return function(S,N,V,z){if(void 0===S)return void 0!==N?-1:0;if(void 0===N)return 1;if(0===(N=$n(S,N))){if(V&&z)return 0;if(V)return 1;if(z)return-1}return N}(v.lower,C.lower,v.lowerOpen,C.lowerOpen)<=0&&0<=function(S,N,V,z){if(void 0===S)return void 0!==N?1:0;if(void 0===N)return-1;if(0===(N=$n(S,N))){if(V&&z)return 0;if(V)return-1;if(z)return 1}return N}(v.upper,C.upper,v.upperOpen,C.upperOpen)}(Nt.req.query.range,ht.query.range)}),!1,qe,rt]}(C,S,0,z),tt=ke[0],Se=ke[1],nt=ke[2],Le=ke[3];return tt&&Se?tt.obsSet=z.obsSet:(Se=N.query(z).then(function(Xe){var Ze=Xe.result;if(tt&&(tt.res=Ze),te){for(var He=0,ht=Ze.length;He<ht;++He)Object.freeze(Ze[He]);Object.freeze(Ze)}else Xe.result=ve(Ze);return Xe}).catch(function(Xe){return Le&&tt&&Tt(Le,tt),Promise.reject(Xe)}),tt={obsSet:z.obsSet,promise:Se,subscribers:new Set,type:"query",req:z,dirty:!1},Le?Le.push(tt):(Le=[tt],(nt=nt||(Pc["idb://".concat(C,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[z.query.index.name||""]=Le)),function Ja(v,C,S,N){v.subscribers.add(S),N.addEventListener("abort",function(){var V,z;v.subscribers.delete(S),0===v.subscribers.size&&(V=v,z=C,setTimeout(function(){0===V.subscribers.size&&Tt(z,V)},3e3))})}(tt,Le,ye,$e),tt.promise.then(function(Xe){return{result:yg(Xe.result,z,nt?.optimisticOps,N,tt,te)}})}})}})}};function Wn(v,C){return new Proxy(v,{get:function(S,N,V){return"db"===N?C:Reflect.get(S,N,V)}})}var ea=(lr.prototype.version=function(v){if(isNaN(v)||v<.1)throw new Q.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new Q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var C=this._versions,S=C.filter(function(N){return N._cfg.version===v})[0];return S||(S=new this.Version(v),C.push(S),C.sort(cu),S.stores({}),this._state.autoSchema=!1,S)},lr.prototype._whenReady=function(v){var C=this;return this.idbdb&&(this._state.openComplete||Ut.letThrough||this._vip)?v():new Ot(function(S,N){if(C._state.openComplete)return N(new Q.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return void N(new Q.DatabaseClosed);C.open().catch(le)}C._state.dbReadyPromise.then(S,N)}).then(v)},lr.prototype.use=function(v){var C=v.stack,S=v.create,N=v.level,V=v.name;return V&&this.unuse({stack:C,name:V}),(v=this._middlewares[C]||(this._middlewares[C]=[])).push({stack:C,create:S,level:N??10,name:V}),v.sort(function(z,te){return z.level-te.level}),this},lr.prototype.unuse=function(v){var C=v.stack,S=v.name,N=v.create;return C&&this._middlewares[C]&&(this._middlewares[C]=this._middlewares[C].filter(function(V){return N?V.create!==N:!!S&&V.name!==S})),this},lr.prototype.open=function(){var v=this;return ci(ir,function(){return vg(v)})},lr.prototype._close=function(){var v=this._state,C=ws.indexOf(this);if(0<=C&&ws.splice(C,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new Ot(function(S){v.dbReadyResolve=S}),v.openCanceller=new Ot(function(S,N){v.cancelOpen=N}))},lr.prototype.close=function(S){var C=(void 0===S?{disableAutoOpen:!0}:S).disableAutoOpen;S=this._state,C?(S.isBeingOpened&&S.cancelOpen(new Q.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new Q.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},lr.prototype.delete=function(v){var C=this;void 0===v&&(v={disableAutoOpen:!0});var S=0<arguments.length&&"object"!=typeof arguments[0],N=this._state;return new Ot(function(V,z){function te(){C.close(v);var ye=C._deps.indexedDB.deleteDatabase(C.name);ye.onsuccess=vn(function(){var $e,ke,tt;ke=C.name,tt=($e=C._deps).indexedDB,$e=$e.IDBKeyRange,Js(tt)||ke===gi||Da(tt,$e).delete(ke).catch(le),V()}),ye.onerror=ut(z),ye.onblocked=C._fireOnBlocked}if(S)throw new Q.InvalidArgument("Invalid closeOptions argument to db.delete()");N.isBeingOpened?N.dbReadyPromise.then(te):te()})},lr.prototype.backendDB=function(){return this.idbdb},lr.prototype.isOpen=function(){return null!==this.idbdb},lr.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&"DatabaseClosed"===v.name},lr.prototype.hasFailed=function(){return null!==this._state.dbOpenError},lr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(lr.prototype,"tables",{get:function(){var v=this;return ge(this._allTables).map(function(C){return v._allTables[C]})},enumerable:!1,configurable:!0}),lr.prototype.transaction=function(){var v=function(C,S,N){var V=arguments.length;if(V<2)throw new Q.InvalidArgument("Too few arguments");for(var z=new Array(V-1);--V;)z[V-1]=arguments[V];return N=z.pop(),[C,Ie(z),N]}.apply(this,arguments);return this._transaction.apply(this,v)},lr.prototype._transaction=function(v,C,S){var N=this,V=Ut.trans;V&&V.db===this&&-1===v.indexOf("!")||(V=null);var z,te,ye=-1!==v.indexOf("?");v=v.replace("!","").replace("?","");try{if(te=C.map(function(ke){if("string"!=typeof(ke=ke instanceof N.Table?ke.name:ke))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return ke}),"r"==v||v===qa)z=qa;else{if("rw"!=v&&v!=Lr)throw new Q.InvalidArgument("Invalid transaction mode: "+v);z=Lr}if(V){if(V.mode===qa&&z===Lr){if(!ye)throw new Q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");V=null}V&&te.forEach(function(ke){if(V&&-1===V.storeNames.indexOf(ke)){if(!ye)throw new Q.SubTransaction("Table "+ke+" not included in parent transaction.");V=null}}),ye&&V&&!V.active&&(V=null)}}catch(ke){return V?V._promise(null,function(tt,Se){Se(ke)}):mn(ke)}var $e=function ke(tt,Se,nt,Le,Xe){return Ot.resolve().then(function(){var Ze=Ut.transless||Ut,He=tt._createTransaction(Se,nt,tt._dbSchema,Le);if(He.explicit=!0,Ze={trans:He,transless:Ze},Le)He.idbtrans=Le.idbtrans;else try{He.create(),He.idbtrans._explicit=!0,tt._state.PR1398_maxLoop=3}catch(rt){return rt.name===U.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return ke(tt,Se,nt,null,Xe)})):mn(rt)}var ht,qe=hn(Xe);return qe&&Lo(),Ze=Ot.follow(function(){var rt;(ht=Xe.call(He,He))&&(qe?(rt=xi.bind(null,null),ht.then(rt,rt)):"function"==typeof ht.next&&"function"==typeof ht.throw&&(ht=vd(ht)))},Ze),(ht&&"function"==typeof ht.then?Ot.resolve(ht).then(function(rt){return He.active?rt:mn(new Q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ze.then(function(){return ht})).then(function(rt){return Le&&He._resolve(),He._completion.then(function(){return rt})}).catch(function(rt){return He._reject(rt),mn(rt)})})}.bind(null,this,z,te,V,S);return V?V._promise(z,$e,"lock"):Ut.trans?ci(Ut.transless,function(){return N._whenReady($e)}):this._whenReady($e)},lr.prototype.table=function(v){if(!lt(this._allTables,v))throw new Q.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},lr);function lr(v,C){var S=this;this._middlewares={},this.verno=0;var N=lr.dependencies;this._options=C=P({addons:lr.addons,autoOpen:!0,indexedDB:N.indexedDB,IDBKeyRange:N.IDBKeyRange,cache:"cloned"},C),this._deps={indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange},N=C.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var V,z,te,ye,$e,ke={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:le,dbReadyPromise:null,cancelOpen:le,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:C.autoOpen};ke.dbReadyPromise=new Ot(function(Se){ke.dbReadyResolve=Se}),ke.openCanceller=new Ot(function(Se,nt){ke.cancelOpen=nt}),this._state=ke,this.name=v,this.on=os(this,"populate","blocked","versionchange","close",{ready:[an,le]}),this.on.ready.subscribe=Re(this.on.ready.subscribe,function(Se){return function(nt,Le){lr.vip(function(){var Xe,Ze=S._state;Ze.openComplete?(Ze.dbOpenError||Ot.resolve().then(nt),Le&&Se(nt)):Ze.onReadyBeingFired?(Ze.onReadyBeingFired.push(nt),Le&&Se(nt)):(Se(nt),Xe=S,Le||Se(function He(){Xe.on.ready.unsubscribe(nt),Xe.on.ready.unsubscribe(He)}))})}}),this.Collection=(V=this,qs(xc.prototype,function(ht,He){this.db=V;var Le=br,Xe=null;if(He)try{Le=He()}catch(qe){Xe=qe}var Ze=ht._ctx;this._ctx={table:He=Ze.table,index:Ze.index,isPrimKey:!Ze.index||He.schema.primKey.keyPath&&Ze.index===He.schema.primKey.name,range:Le,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Xe,or:Ze.or,valueMapper:(ht=He.hook.reading.fire)!==Te?ht:null}})),this.Table=(z=this,qs(Ui.prototype,function(Se,nt,Le){this.db=z,this._tx=Le,this.name=Se,this.schema=nt,this.hook=z._allTables[Se]?z._allTables[Se].hook:os(null,{creating:[Mt,le],reading:[It,Te],updating:[en,le],deleting:[Bt,le]})})),this.Transaction=(te=this,qs(pr.prototype,function(Se,nt,Le,Xe,Ze){var He=this;this.db=te,this.mode=Se,this.storeNames=nt,this.schema=Le,this.chromeTransactionDurability=Xe,this.idbtrans=null,this.on=os(this,"complete","error","abort"),this.parent=Ze||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ot(function(ht,qe){He._resolve=ht,He._reject=qe}),this._completion.then(function(){He.active=!1,He.on.complete.fire()},function(ht){var qe=He.active;return He.active=!1,He.on.error.fire(ht),He.parent?He.parent._reject(ht):qe&&He.idbtrans&&He.idbtrans.abort(),mn(ht)})})),this.Version=(ye=this,qs(Ds.prototype,function(Se){this.db=ye,this._cfg={version:Se,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=($e=this,qs(Oe.prototype,function(Se,nt,Le){if(this.db=$e,this._ctx={table:Se,index:":id"===nt?null:nt,or:Le},this._cmp=this._ascending=$n,this._descending=function(Xe,Ze){return $n(Ze,Xe)},this._max=function(Xe,Ze){return 0<$n(Xe,Ze)?Xe:Ze},this._min=function(Xe,Ze){return $n(Xe,Ze)<0?Xe:Ze},this._IDBKeyRange=$e._deps.IDBKeyRange,!this._IDBKeyRange)throw new Q.MissingAPI})),this.on("versionchange",function(Se){0<Se.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(Se){!Se.newVersion||Se.newVersion<Se.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(Se.oldVersion/10))}),this._maxKey=Cs(C.IDBKeyRange),this._createTransaction=function(Se,nt,Le,Xe){return new S.Transaction(Se,nt,Le,S._options.chromeTransactionDurability,Xe)},this._fireOnBlocked=function(Se){S.on("blocked").fire(Se),ws.filter(function(nt){return nt.name===S.name&&nt!==S&&!nt._state.vcFired}).map(function(nt){return nt.on("versionchange").fire(Se)})},this.use(Vo),this.use(Ed),this.use(bd),this.use(Ta),this.use(DD);var tt=new Proxy(this,{get:function(Se,nt,Le){if("_vip"===nt)return!0;if("table"===nt)return function(Ze){return Wn(S.table(Ze),tt)};var Xe=Reflect.get(Se,nt,Le);return Xe instanceof Ui?Wn(Xe,tt):"tables"===nt?Xe.map(function(Ze){return Wn(Ze,tt)}):"_createTransaction"===nt?function(){return Wn(Xe.apply(this,arguments),tt)}:Xe}});this.vip=tt,N.forEach(function(Se){return Se(S)})}to=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var Aa,mu=(ml.prototype.subscribe=function(v,C,S){return this._subscribe(v&&"function"!=typeof v?v:{next:v,error:C,complete:S})},ml.prototype[to]=function(){return this},ml);function ml(v){this._subscribe=v}try{Aa={indexedDB:ie.indexedDB||ie.mozIndexedDB||ie.webkitIndexedDB||ie.msIndexedDB,IDBKeyRange:ie.IDBKeyRange||ie.webkitIDBKeyRange}}catch{Aa={indexedDB:null,IDBKeyRange:null}}function Ts(v){var C,S=!1,N=new mu(function(V){var te,z=hn(v),ye=!1,$e={},ke={},tt={get closed(){return ye},unsubscribe:function(){ye||(ye=!0,te&&te.abort(),Se&&Kn.storagemutated.unsubscribe(Le))}};V.start&&V.start(tt);var Se=!1,nt=function(){return kn(Xe)},Le=function(Ze){zr($e,Ze),pl(ke,$e)&&nt()},Xe=function(){var Ze,He,ht;!ye&&Aa.indexedDB&&($e={},Ze={},te&&te.abort(),te=new AbortController,ht=function(qe){var rt=yr();try{z&&Lo();var wt=Gn(v,qe);return wt=z?wt.finally(xi):wt}finally{rt&&ai()}}(He={subscr:Ze,signal:te.signal,requery:nt,querier:v,trans:null}),Promise.resolve(ht).then(function(qe){S=!0,C=qe,ye||He.signal.aborted||($e={},function(rt){for(var wt in rt)if(lt(rt,wt))return;return 1}(ke=Ze)||Se||(Kn(Cn,Le),Se=!0),kn(function(){return!ye&&V.next&&V.next(qe)}))},function(qe){S=!1,["DatabaseClosedError","AbortError"].includes(qe?.name)||ye||kn(function(){ye||V.error&&V.error(qe)})}))};return setTimeout(nt,0),tt});return N.hasValue=function(){return S},N.getValue=function(){return C},N}var Bo=ea;function gl(v){var C=ta;try{ta=!0,Kn.storagemutated.fire(v),Nc(v,!0)}finally{ta=C}}Be(Bo,P(P({},oe),{delete:function(v){return new Bo(v,{addons:[]}).delete()},exists:function(v){return new Bo(v,{addons:[]}).open().then(function(C){return C.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return S=(C=Bo.dependencies).indexedDB,C=C.IDBKeyRange,(Js(S)?Promise.resolve(S.databases()).then(function(N){return N.map(function(V){return V.name}).filter(function(V){return V!==gi})}):Da(S,C).toCollection().primaryKeys()).then(v)}catch{return mn(new Q.MissingAPI)}var C,S},defineClass:function(){return function(v){M(this,v)}},ignoreTransaction:function(v){return Ut.trans?ci(Ut.transless,v):v()},vip:du,async:function(v){return function(){try{var C=vd(v.apply(this,arguments));return C&&"function"==typeof C.then?C:Ot.resolve(C)}catch(S){return mn(S)}}},spawn:function(v,C,S){try{var N=vd(v.apply(S,C||[]));return N&&"function"==typeof N.then?N:Ot.resolve(N)}catch(V){return mn(V)}},currentTransaction:{get:function(){return Ut.trans||null}},waitFor:function(v,C){return C=Ot.resolve("function"==typeof v?Bo.ignoreTransaction(v):v).timeout(C||6e4),Ut.trans?Ut.trans.waitFor(C):C},Promise:Ot,debug:{get:function(){return $t},set:function(v){un(v)}},derive:Me,extend:M,props:Be,override:Re,Events:os,on:Kn,liveQuery:Ts,extendObservabilitySet:zr,getByKeyPath:Fe,setByKeyPath:xe,delByKeyPath:function(v,C){"string"==typeof C?xe(v,C,void 0):"length"in C&&[].map.call(C,function(S){xe(v,S,void 0)})},shallowClone:Ae,deepClone:ve,getObjectDiff:fu,cmp:$n,asap:_e,minKey:-1/0,addons:[],connections:ws,errnames:U,dependencies:Aa,cache:Pc,semVer:"4.0.8",version:"4.0.8".split(".").map(function(v){return parseInt(v)}).reduce(function(v,C,S){return v+C/Math.pow(10,2*S)})})),Bo.maxKey=Cs(Bo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Kn(Cn,function(v){ta||(v=new CustomEvent(Nn,{detail:v}),ta=!0,dispatchEvent(v),ta=!1)}),addEventListener(Nn,function(v){v=v.detail,ta||gl(v)}));var Sa,ta=!1,Dn=function(){};return typeof BroadcastChannel<"u"&&((Dn=function(){(Sa=new BroadcastChannel(Nn)).onmessage=function(v){return v.data&&gl(v.data)}})(),"function"==typeof Sa.unref&&Sa.unref(),Kn(Cn,function(v){ta||Sa.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!ea.disableBfCache&&v.persisted){$t&&console.debug("Dexie: handling persisted pagehide"),Sa?.close();for(var C=0,S=ws;C<S.length;C++)S[C].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!ea.disableBfCache&&v.persisted&&($t&&console.debug("Dexie: handling persisted pageshow"),Dn(),gl({all:new mr(-1/0,[[]])}))})),Ot.rejectionMapper=function(v,C){return!v||v instanceof Ge||v instanceof TypeError||v instanceof SyntaxError||!v.name||!J[v.name]?v:(C=new J[v.name](C||v.message,v),"stack"in v&&Z(C,"stack",{get:function(){return this.inner.stack}}),C)},un($t),P(ea,Object.freeze({__proto__:null,Dexie:ea,liveQuery:Ts,Entity:wo,cmp:$n,PropModSymbol:Io,PropModification:Xs,replacePrefix:function(v,C){return new Xs({replacePrefix:[v,C]})},add:function(v){return new Xs({add:v})},remove:function(v){return new Xs({remove:v})},default:ea,RangeSet:mr,mergeRanges:Dr,rangesOverlap:Of}),{default:ea}),ea}()},4412:(Vt,et,P)=>{"use strict";P.d(et,{t:()=>ie});var ee=P(1413);class ie extends ee.B{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const M=super._subscribe(ce);return!M.closed&&ce.next(this._value),M}getValue(){const{hasError:ce,thrownError:M,_value:l}=this;if(ce)throw M;return this._throwIfClosed(),l}next(ce){super.next(this._value=ce)}}},1985:(Vt,et,P)=>{"use strict";P.d(et,{c:()=>lt});var ee=P(7707),ie=P(8359),ge=P(3494),ce=P(1203),M=P(1026),l=P(8071),De=P(9786);let lt=(()=>{class Me{constructor(se){se&&(this._subscribe=se)}lift(se){const ze=new Me;return ze.source=this,ze.operator=se,ze}subscribe(se,ze,Re){const Pe=function Z(Me){return Me&&Me instanceof ee.vU||function Ue(Me){return Me&&(0,l.T)(Me.next)&&(0,l.T)(Me.error)&&(0,l.T)(Me.complete)}(Me)&&(0,ie.Uv)(Me)}(se)?se:new ee.Ms(se,ze,Re);return(0,De.Y)(()=>{const{operator:_e,source:Fe}=this;Pe.add(_e?_e.call(Pe,Fe):Fe?this._subscribe(Pe):this._trySubscribe(Pe))}),Pe}_trySubscribe(se){try{return this._subscribe(se)}catch(ze){se.error(ze)}}forEach(se,ze){return new(ze=Be(ze))((Re,Pe)=>{const _e=new ee.Ms({next:Fe=>{try{se(Fe)}catch(xe){Pe(xe),_e.unsubscribe()}},error:Pe,complete:Re});this.subscribe(_e)})}_subscribe(se){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(se)}[ge.s](){return this}pipe(...se){return(0,ce.m)(se)(this)}toPromise(se){return new(se=Be(se))((ze,Re)=>{let Pe;this.subscribe(_e=>Pe=_e,_e=>Re(_e),()=>ze(Pe))})}}return Me.create=Ne=>new Me(Ne),Me})();function Be(Me){var Ne;return null!==(Ne=Me??M.$.Promise)&&void 0!==Ne?Ne:Promise}},1413:(Vt,et,P)=>{"use strict";P.d(et,{B:()=>De});var ee=P(1985),ie=P(8359);const ce=(0,P(1853).L)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var M=P(7908),l=P(9786);let De=(()=>{class Be extends ee.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const Me=new lt(this,this);return Me.operator=Z,Me}_throwIfClosed(){if(this.closed)throw new ce}next(Z){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Me of this.currentObservers)Me.next(Z)}})}error(Z){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:Me}=this;for(;Me.length;)Me.shift().error(Z)}})}complete(){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:Me,isStopped:Ne,observers:se}=this;return Me||Ne?ie.Kn:(this.currentObservers=null,se.push(Z),new ie.yU(()=>{this.currentObservers=null,(0,M.o)(se,Z)}))}_checkFinalizedStatuses(Z){const{hasError:Me,thrownError:Ne,isStopped:se}=this;Me?Z.error(Ne):se&&Z.complete()}asObservable(){const Z=new ee.c;return Z.source=this,Z}}return Be.create=(Ue,Z)=>new lt(Ue,Z),Be})();class lt extends De{constructor(Ue,Z){super(),this.destination=Ue,this.source=Z}next(Ue){var Z,Me;null===(Me=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===Me||Me.call(Z,Ue)}error(Ue){var Z,Me;null===(Me=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===Me||Me.call(Z,Ue)}complete(){var Ue,Z;null===(Z=null===(Ue=this.destination)||void 0===Ue?void 0:Ue.complete)||void 0===Z||Z.call(Ue)}_subscribe(Ue){var Z,Me;return null!==(Me=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(Ue))&&void 0!==Me?Me:ie.Kn}}},7707:(Vt,et,P)=>{"use strict";P.d(et,{Ms:()=>Re,vU:()=>Me});var ee=P(8071),ie=P(8359),ge=P(1026),ce=P(5334),M=P(5343);const l=Be("C",void 0,void 0);function Be(Ae,We,Ie){return{kind:Ae,value:We,error:Ie}}var Ue=P(9270),Z=P(9786);class Me extends ie.yU{constructor(We){super(),this.isStopped=!1,We?(this.destination=We,(0,ie.Uv)(We)&&We.add(this)):this.destination=xe}static create(We,Ie,st){return new Re(We,Ie,st)}next(We){this.isStopped?Fe(function lt(Ae){return Be("N",Ae,void 0)}(We),this):this._next(We)}error(We){this.isStopped?Fe(function De(Ae){return Be("E",void 0,Ae)}(We),this):(this.isStopped=!0,this._error(We))}complete(){this.isStopped?Fe(l,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(We){this.destination.next(We)}_error(We){try{this.destination.error(We)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function se(Ae,We){return Ne.call(Ae,We)}class ze{constructor(We){this.partialObserver=We}next(We){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(We)}catch(st){Pe(st)}}error(We){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(We)}catch(st){Pe(st)}else Pe(We)}complete(){const{partialObserver:We}=this;if(We.complete)try{We.complete()}catch(Ie){Pe(Ie)}}}class Re extends Me{constructor(We,Ie,st){let Ye;if(super(),(0,ee.T)(We)||!We)Ye={next:We??void 0,error:Ie??void 0,complete:st??void 0};else{let ve;this&&ge.$.useDeprecatedNextContext?(ve=Object.create(We),ve.unsubscribe=()=>this.unsubscribe(),Ye={next:We.next&&se(We.next,ve),error:We.error&&se(We.error,ve),complete:We.complete&&se(We.complete,ve)}):Ye=We}this.destination=new ze(Ye)}}function Pe(Ae){ge.$.useDeprecatedSynchronousErrorHandling?(0,Z.l)(Ae):(0,ce.m)(Ae)}function Fe(Ae,We){const{onStoppedNotification:Ie}=ge.$;Ie&&Ue.f.setTimeout(()=>Ie(Ae,We))}const xe={closed:!0,next:M.l,error:function _e(Ae){throw Ae},complete:M.l}},8359:(Vt,et,P)=>{"use strict";P.d(et,{Kn:()=>l,yU:()=>M,Uv:()=>De});var ee=P(8071);const ge=(0,P(1853).L)(Be=>function(Z){Be(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((Me,Ne)=>`${Ne+1}) ${Me.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var ce=P(7908);class M{constructor(Ue){this.initialTeardown=Ue,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ue;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const se of Z)se.remove(this);else Z.remove(this);const{initialTeardown:Me}=this;if((0,ee.T)(Me))try{Me()}catch(se){Ue=se instanceof ge?se.errors:[se]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const se of Ne)try{lt(se)}catch(ze){Ue=Ue??[],ze instanceof ge?Ue=[...Ue,...ze.errors]:Ue.push(ze)}}if(Ue)throw new ge(Ue)}}add(Ue){var Z;if(Ue&&Ue!==this)if(this.closed)lt(Ue);else{if(Ue instanceof M){if(Ue.closed||Ue._hasParent(this))return;Ue._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(Ue)}}_hasParent(Ue){const{_parentage:Z}=this;return Z===Ue||Array.isArray(Z)&&Z.includes(Ue)}_addParent(Ue){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(Ue),Z):Z?[Z,Ue]:Ue}_removeParent(Ue){const{_parentage:Z}=this;Z===Ue?this._parentage=null:Array.isArray(Z)&&(0,ce.o)(Z,Ue)}remove(Ue){const{_finalizers:Z}=this;Z&&(0,ce.o)(Z,Ue),Ue instanceof M&&Ue._removeParent(this)}}M.EMPTY=(()=>{const Be=new M;return Be.closed=!0,Be})();const l=M.EMPTY;function De(Be){return Be instanceof M||Be&&"closed"in Be&&(0,ee.T)(Be.remove)&&(0,ee.T)(Be.add)&&(0,ee.T)(Be.unsubscribe)}function lt(Be){(0,ee.T)(Be)?Be():Be.unsubscribe()}},1026:(Vt,et,P)=>{"use strict";P.d(et,{$:()=>ee});const ee={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4843:(Vt,et,P)=>{"use strict";P.d(et,{_:()=>ge});var ee=P(9350),ie=P(7707);function ge(ce,M){const l="object"==typeof M;return new Promise((De,lt)=>{const Be=new ie.Ms({next:Ue=>{De(Ue),Be.unsubscribe()},error:lt,complete:()=>{l?De(M.defaultValue):lt(new ee.G)}});ce.subscribe(Be)})}},8793:(Vt,et,P)=>{"use strict";P.d(et,{x:()=>M});var ee=P(6365),ge=P(9326),ce=P(6648);function M(...l){return function ie(){return(0,ee.U)(1)}()((0,ce.H)(l,(0,ge.lI)(l)))}},983:(Vt,et,P)=>{"use strict";P.d(et,{w:()=>ie});const ie=new(P(1985).c)(M=>M.complete())},6648:(Vt,et,P)=>{"use strict";P.d(et,{H:()=>st});var ee=P(8750),ie=P(5225),ge=P(9974),ce=P(4360);function M(Ye,ve=0){return(0,ge.N)((he,Y)=>{he.subscribe((0,ce._)(Y,pt=>(0,ie.N)(Y,Ye,()=>Y.next(pt),ve),()=>(0,ie.N)(Y,Ye,()=>Y.complete(),ve),pt=>(0,ie.N)(Y,Ye,()=>Y.error(pt),ve)))})}function l(Ye,ve=0){return(0,ge.N)((he,Y)=>{Y.add(Ye.schedule(()=>he.subscribe(Y),ve))})}var Be=P(1985),Z=P(4761),Me=P(8071);function se(Ye,ve){if(!Ye)throw new Error("Iterable cannot be null");return new Be.c(he=>{(0,ie.N)(he,ve,()=>{const Y=Ye[Symbol.asyncIterator]();(0,ie.N)(he,ve,()=>{Y.next().then(pt=>{pt.done?he.complete():he.next(pt.value)})},0,!0)})})}var ze=P(5055),Re=P(9858),Pe=P(7441),_e=P(5397),Fe=P(7953),xe=P(591),Ae=P(5196);function st(Ye,ve){return ve?function Ie(Ye,ve){if(null!=Ye){if((0,ze.l)(Ye))return function De(Ye,ve){return(0,ee.Tg)(Ye).pipe(l(ve),M(ve))}(Ye,ve);if((0,Pe.X)(Ye))return function Ue(Ye,ve){return new Be.c(he=>{let Y=0;return ve.schedule(function(){Y===Ye.length?he.complete():(he.next(Ye[Y++]),he.closed||this.schedule())})})}(Ye,ve);if((0,Re.y)(Ye))return function lt(Ye,ve){return(0,ee.Tg)(Ye).pipe(l(ve),M(ve))}(Ye,ve);if((0,Fe.T)(Ye))return se(Ye,ve);if((0,_e.x)(Ye))return function Ne(Ye,ve){return new Be.c(he=>{let Y;return(0,ie.N)(he,ve,()=>{Y=Ye[Z.l](),(0,ie.N)(he,ve,()=>{let pt,Ct;try{({value:pt,done:Ct}=Y.next())}catch(Tt){return void he.error(Tt)}Ct?he.complete():he.next(pt)},0,!0)}),()=>(0,Me.T)(Y?.return)&&Y.return()})}(Ye,ve);if((0,Ae.U)(Ye))return function We(Ye,ve){return se((0,Ae.C)(Ye),ve)}(Ye,ve)}throw(0,xe.L)(Ye)}(Ye,ve):(0,ee.Tg)(Ye)}},8750:(Vt,et,P)=>{"use strict";P.d(et,{Tg:()=>Ne});var ee=P(1635),ie=P(7441),ge=P(9858),ce=P(1985),M=P(5055),l=P(7953),De=P(591),lt=P(5397),Be=P(5196),Ue=P(8071),Z=P(5334),Me=P(3494);function Ne(Ae){if(Ae instanceof ce.c)return Ae;if(null!=Ae){if((0,M.l)(Ae))return function se(Ae){return new ce.c(We=>{const Ie=Ae[Me.s]();if((0,Ue.T)(Ie.subscribe))return Ie.subscribe(We);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,ie.X)(Ae))return function ze(Ae){return new ce.c(We=>{for(let Ie=0;Ie<Ae.length&&!We.closed;Ie++)We.next(Ae[Ie]);We.complete()})}(Ae);if((0,ge.y)(Ae))return function Re(Ae){return new ce.c(We=>{Ae.then(Ie=>{We.closed||(We.next(Ie),We.complete())},Ie=>We.error(Ie)).then(null,Z.m)})}(Ae);if((0,l.T)(Ae))return _e(Ae);if((0,lt.x)(Ae))return function Pe(Ae){return new ce.c(We=>{for(const Ie of Ae)if(We.next(Ie),We.closed)return;We.complete()})}(Ae);if((0,Be.U)(Ae))return function Fe(Ae){return _e((0,Be.C)(Ae))}(Ae)}throw(0,De.L)(Ae)}function _e(Ae){return new ce.c(We=>{(function xe(Ae,We){var Ie,st,Ye,ve;return(0,ee.sH)(this,void 0,void 0,function*(){try{for(Ie=(0,ee.xN)(Ae);!(st=yield Ie.next()).done;)if(We.next(st.value),We.closed)return}catch(he){Ye={error:he}}finally{try{st&&!st.done&&(ve=Ie.return)&&(yield ve.call(Ie))}finally{if(Ye)throw Ye.error}}We.complete()})})(Ae,We).catch(Ie=>We.error(Ie))})}},7786:(Vt,et,P)=>{"use strict";P.d(et,{h:()=>l});var ee=P(6365),ie=P(8750),ge=P(983),ce=P(9326),M=P(6648);function l(...De){const lt=(0,ce.lI)(De),Be=(0,ce.R0)(De,1/0),Ue=De;return Ue.length?1===Ue.length?(0,ie.Tg)(Ue[0]):(0,ee.U)(Be)((0,M.H)(Ue,lt)):ge.w}},4360:(Vt,et,P)=>{"use strict";P.d(et,{_:()=>ie});var ee=P(7707);function ie(ce,M,l,De,lt){return new ge(ce,M,l,De,lt)}class ge extends ee.vU{constructor(M,l,De,lt,Be,Ue){super(M),this.onFinalize=Be,this.shouldUnsubscribe=Ue,this._next=l?function(Z){try{l(Z)}catch(Me){M.error(Me)}}:super._next,this._error=lt?function(Z){try{lt(Z)}catch(Me){M.error(Me)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(Z){M.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var M;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:l}=this;super.unsubscribe(),!l&&(null===(M=this.onFinalize)||void 0===M||M.call(this))}}}},3294:(Vt,et,P)=>{"use strict";P.d(et,{F:()=>ce});var ee=P(3669),ie=P(9974),ge=P(4360);function ce(l,De=ee.D){return l=l??M,(0,ie.N)((lt,Be)=>{let Ue,Z=!0;lt.subscribe((0,ge._)(Be,Me=>{const Ne=De(Me);(Z||!l(Ue,Ne))&&(Z=!1,Ue=Ne,Be.next(Me))}))})}function M(l,De){return l===De}},5964:(Vt,et,P)=>{"use strict";P.d(et,{p:()=>ge});var ee=P(9974),ie=P(4360);function ge(ce,M){return(0,ee.N)((l,De)=>{let lt=0;l.subscribe((0,ie._)(De,Be=>ce.call(M,Be,lt++)&&De.next(Be)))})}},6354:(Vt,et,P)=>{"use strict";P.d(et,{T:()=>ge});var ee=P(9974),ie=P(4360);function ge(ce,M){return(0,ee.N)((l,De)=>{let lt=0;l.subscribe((0,ie._)(De,Be=>{De.next(ce.call(M,Be,lt++))}))})}},6365:(Vt,et,P)=>{"use strict";P.d(et,{U:()=>ge});var ee=P(1397),ie=P(3669);function ge(ce=1/0){return(0,ee.Z)(ie.D,ce)}},1397:(Vt,et,P)=>{"use strict";P.d(et,{Z:()=>lt});var ee=P(6354),ie=P(8750),ge=P(9974),ce=P(5225),M=P(4360),De=P(8071);function lt(Be,Ue,Z=1/0){return(0,De.T)(Ue)?lt((Me,Ne)=>(0,ee.T)((se,ze)=>Ue(Me,se,Ne,ze))((0,ie.Tg)(Be(Me,Ne))),Z):("number"==typeof Ue&&(Z=Ue),(0,ge.N)((Me,Ne)=>function l(Be,Ue,Z,Me,Ne,se,ze,Re){const Pe=[];let _e=0,Fe=0,xe=!1;const Ae=()=>{xe&&!Pe.length&&!_e&&Ue.complete()},We=st=>_e<Me?Ie(st):Pe.push(st),Ie=st=>{se&&Ue.next(st),_e++;let Ye=!1;(0,ie.Tg)(Z(st,Fe++)).subscribe((0,M._)(Ue,ve=>{Ne?.(ve),se?We(ve):Ue.next(ve)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(_e--;Pe.length&&_e<Me;){const ve=Pe.shift();ze?(0,ce.N)(Ue,ze,()=>Ie(ve)):Ie(ve)}Ae()}catch(ve){Ue.error(ve)}}))};return Be.subscribe((0,M._)(Ue,We,()=>{xe=!0,Ae()})),()=>{Re?.()}}(Me,Ne,Be,Z)))}},7647:(Vt,et,P)=>{"use strict";P.d(et,{u:()=>M});var ee=P(8750),ie=P(1413),ge=P(7707),ce=P(9974);function M(De={}){const{connector:lt=(()=>new ie.B),resetOnError:Be=!0,resetOnComplete:Ue=!0,resetOnRefCountZero:Z=!0}=De;return Me=>{let Ne,se,ze,Re=0,Pe=!1,_e=!1;const Fe=()=>{se?.unsubscribe(),se=void 0},xe=()=>{Fe(),Ne=ze=void 0,Pe=_e=!1},Ae=()=>{const We=Ne;xe(),We?.unsubscribe()};return(0,ce.N)((We,Ie)=>{Re++,!_e&&!Pe&&Fe();const st=ze=ze??lt();Ie.add(()=>{Re--,0===Re&&!_e&&!Pe&&(se=l(Ae,Z))}),st.subscribe(Ie),!Ne&&Re>0&&(Ne=new ge.Ms({next:Ye=>st.next(Ye),error:Ye=>{_e=!0,Fe(),se=l(xe,Be,Ye),st.error(Ye)},complete:()=>{Pe=!0,Fe(),se=l(xe,Ue),st.complete()}}),(0,ee.Tg)(We).subscribe(Ne))})(Me)}}function l(De,lt,...Be){if(!0===lt)return void De();if(!1===lt)return;const Ue=new ge.Ms({next:()=>{Ue.unsubscribe(),De()}});return(0,ee.Tg)(lt(...Be)).subscribe(Ue)}},6496:(Vt,et,P)=>{"use strict";P.d(et,{t:()=>M});var ee=P(1413),ie=P(6129);class ge extends ee.B{constructor(De=1/0,lt=1/0,Be=ie.U){super(),this._bufferSize=De,this._windowTime=lt,this._timestampProvider=Be,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=lt===1/0,this._bufferSize=Math.max(1,De),this._windowTime=Math.max(1,lt)}next(De){const{isStopped:lt,_buffer:Be,_infiniteTimeWindow:Ue,_timestampProvider:Z,_windowTime:Me}=this;lt||(Be.push(De),!Ue&&Be.push(Z.now()+Me)),this._trimBuffer(),super.next(De)}_subscribe(De){this._throwIfClosed(),this._trimBuffer();const lt=this._innerSubscribe(De),{_infiniteTimeWindow:Be,_buffer:Ue}=this,Z=Ue.slice();for(let Me=0;Me<Z.length&&!De.closed;Me+=Be?1:2)De.next(Z[Me]);return this._checkFinalizedStatuses(De),lt}_trimBuffer(){const{_bufferSize:De,_timestampProvider:lt,_buffer:Be,_infiniteTimeWindow:Ue}=this,Z=(Ue?1:2)*De;if(De<1/0&&Z<Be.length&&Be.splice(0,Be.length-Z),!Ue){const Me=lt.now();let Ne=0;for(let se=1;se<Be.length&&Be[se]<=Me;se+=2)Ne=se;Ne&&Be.splice(0,Ne+1)}}}var ce=P(7647);function M(l,De,lt){let Be,Ue=!1;return l&&"object"==typeof l?({bufferSize:Be=1/0,windowTime:De=1/0,refCount:Ue=!1,scheduler:lt}=l):Be=l??1/0,(0,ce.u)({connector:()=>new ge(Be,De,lt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ue})}},9172:(Vt,et,P)=>{"use strict";P.d(et,{Z:()=>ce});var ee=P(8793),ie=P(9326),ge=P(9974);function ce(...M){const l=(0,ie.lI)(M);return(0,ge.N)((De,lt)=>{(l?(0,ee.x)(M,De,l):(0,ee.x)(M,De)).subscribe(lt)})}},6129:(Vt,et,P)=>{"use strict";P.d(et,{U:()=>ee});const ee={now:()=>(ee.delegate||Date).now(),delegate:void 0}},9270:(Vt,et,P)=>{"use strict";P.d(et,{f:()=>ee});const ee={setTimeout(ie,ge,...ce){const{delegate:M}=ee;return M?.setTimeout?M.setTimeout(ie,ge,...ce):setTimeout(ie,ge,...ce)},clearTimeout(ie){const{delegate:ge}=ee;return(ge?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},4761:(Vt,et,P)=>{"use strict";P.d(et,{l:()=>ie});const ie=function ee(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Vt,et,P)=>{"use strict";P.d(et,{s:()=>ee});const ee="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Vt,et,P)=>{"use strict";P.d(et,{G:()=>ie});const ie=(0,P(1853).L)(ge=>function(){ge(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Vt,et,P)=>{"use strict";P.d(et,{R0:()=>l,lI:()=>M,ms:()=>ce});var ee=P(8071),ie=P(9470);function ge(De){return De[De.length-1]}function ce(De){return(0,ee.T)(ge(De))?De.pop():void 0}function M(De){return(0,ie.m)(ge(De))?De.pop():void 0}function l(De,lt){return"number"==typeof ge(De)?De.pop():lt}},7908:(Vt,et,P)=>{"use strict";function ee(ie,ge){if(ie){const ce=ie.indexOf(ge);0<=ce&&ie.splice(ce,1)}}P.d(et,{o:()=>ee})},1853:(Vt,et,P)=>{"use strict";function ee(ie){const ce=ie(M=>{Error.call(M),M.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}P.d(et,{L:()=>ee})},9786:(Vt,et,P)=>{"use strict";P.d(et,{Y:()=>ge,l:()=>ce});var ee=P(1026);let ie=null;function ge(M){if(ee.$.useDeprecatedSynchronousErrorHandling){const l=!ie;if(l&&(ie={errorThrown:!1,error:null}),M(),l){const{errorThrown:De,error:lt}=ie;if(ie=null,De)throw lt}}else M()}function ce(M){ee.$.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=M)}},5225:(Vt,et,P)=>{"use strict";function ee(ie,ge,ce,M=0,l=!1){const De=ge.schedule(function(){ce(),l?ie.add(this.schedule(null,M)):this.unsubscribe()},M);if(ie.add(De),!l)return De}P.d(et,{N:()=>ee})},3669:(Vt,et,P)=>{"use strict";function ee(ie){return ie}P.d(et,{D:()=>ee})},7441:(Vt,et,P)=>{"use strict";P.d(et,{X:()=>ee});const ee=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},7953:(Vt,et,P)=>{"use strict";P.d(et,{T:()=>ie});var ee=P(8071);function ie(ge){return Symbol.asyncIterator&&(0,ee.T)(ge?.[Symbol.asyncIterator])}},8071:(Vt,et,P)=>{"use strict";function ee(ie){return"function"==typeof ie}P.d(et,{T:()=>ee})},5055:(Vt,et,P)=>{"use strict";P.d(et,{l:()=>ge});var ee=P(3494),ie=P(8071);function ge(ce){return(0,ie.T)(ce[ee.s])}},5397:(Vt,et,P)=>{"use strict";P.d(et,{x:()=>ge});var ee=P(4761),ie=P(8071);function ge(ce){return(0,ie.T)(ce?.[ee.l])}},9858:(Vt,et,P)=>{"use strict";P.d(et,{y:()=>ie});var ee=P(8071);function ie(ge){return(0,ee.T)(ge?.then)}},5196:(Vt,et,P)=>{"use strict";P.d(et,{C:()=>ge,U:()=>ce});var ee=P(1635),ie=P(8071);function ge(M){return(0,ee.AQ)(this,arguments,function*(){const De=M.getReader();try{for(;;){const{value:lt,done:Be}=yield(0,ee.N3)(De.read());if(Be)return yield(0,ee.N3)(void 0);yield yield(0,ee.N3)(lt)}}finally{De.releaseLock()}})}function ce(M){return(0,ie.T)(M?.getReader)}},9470:(Vt,et,P)=>{"use strict";P.d(et,{m:()=>ie});var ee=P(8071);function ie(ge){return ge&&(0,ee.T)(ge.schedule)}},9974:(Vt,et,P)=>{"use strict";P.d(et,{N:()=>ge,S:()=>ie});var ee=P(8071);function ie(ce){return(0,ee.T)(ce?.lift)}function ge(ce){return M=>{if(ie(M))return M.lift(function(l){try{return ce(l,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Vt,et,P)=>{"use strict";function ee(){}P.d(et,{l:()=>ee})},1203:(Vt,et,P)=>{"use strict";P.d(et,{F:()=>ie,m:()=>ge});var ee=P(3669);function ie(...ce){return ge(ce)}function ge(ce){return 0===ce.length?ee.D:1===ce.length?ce[0]:function(l){return ce.reduce((De,lt)=>lt(De),l)}}},5334:(Vt,et,P)=>{"use strict";P.d(et,{m:()=>ge});var ee=P(1026),ie=P(9270);function ge(ce){ie.f.setTimeout(()=>{const{onUnhandledError:M}=ee.$;if(!M)throw ce;M(ce)})}},591:(Vt,et,P)=>{"use strict";function ee(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(et,{L:()=>ee})},9969:(Vt,et,P)=>{"use strict";P.d(et,{FX:()=>ve,If:()=>ee,K2:()=>l,MA:()=>Me,Os:()=>M,P:()=>se,hZ:()=>ge,i0:()=>ce,iF:()=>De,kY:()=>Ue,kp:()=>ie,sf:()=>st,ui:()=>Ye,wk:()=>lt});var ee=function(he){return he[he.State=0]="State",he[he.Transition=1]="Transition",he[he.Sequence=2]="Sequence",he[he.Group=3]="Group",he[he.Animate=4]="Animate",he[he.Keyframes=5]="Keyframes",he[he.Style=6]="Style",he[he.Trigger=7]="Trigger",he[he.Reference=8]="Reference",he[he.AnimateChild=9]="AnimateChild",he[he.AnimateRef=10]="AnimateRef",he[he.Query=11]="Query",he[he.Stagger=12]="Stagger",he}(ee||{});const ie="*";function ge(he,Y){return{type:ee.Trigger,name:he,definitions:Y,options:{}}}function ce(he,Y=null){return{type:ee.Animate,styles:Y,timings:he}}function M(he,Y=null){return{type:ee.Group,steps:he,options:Y}}function l(he,Y=null){return{type:ee.Sequence,steps:he,options:Y}}function De(he){return{type:ee.Style,styles:he,offset:null}}function lt(he,Y,pt){return{type:ee.State,name:he,styles:Y,options:pt}}function Ue(he,Y,pt=null){return{type:ee.Transition,expr:he,animation:Y,options:pt}}function Me(he=null){return{type:ee.AnimateChild,options:he}}function se(he,Y,pt=null){return{type:ee.Query,selector:he,animation:Y,options:pt}}class st{constructor(Y=0,pt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Y+pt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Y=>Y()),this._onDoneFns=[])}onStart(Y){this._originalOnStartFns.push(Y),this._onStartFns.push(Y)}onDone(Y){this._originalOnDoneFns.push(Y),this._onDoneFns.push(Y)}onDestroy(Y){this._onDestroyFns.push(Y)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Y=>Y()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Y=>Y()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Y){this._position=this.totalTime?Y*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Y){const pt="start"==Y?this._onStartFns:this._onDoneFns;pt.forEach(Ct=>Ct()),pt.length=0}}class Ye{constructor(Y){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Y;let pt=0,Ct=0,Tt=0;const cn=this.players.length;0==cn?queueMicrotask(()=>this._onFinish()):this.players.forEach(Jt=>{Jt.onDone(()=>{++pt==cn&&this._onFinish()}),Jt.onDestroy(()=>{++Ct==cn&&this._onDestroy()}),Jt.onStart(()=>{++Tt==cn&&this._onStart()})}),this.totalTime=this.players.reduce((Jt,hn)=>Math.max(Jt,hn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Y=>Y()),this._onDoneFns=[])}init(){this.players.forEach(Y=>Y.init())}onStart(Y){this._onStartFns.push(Y)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Y=>Y()),this._onStartFns=[])}onDone(Y){this._onDoneFns.push(Y)}onDestroy(Y){this._onDestroyFns.push(Y)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Y=>Y.play())}pause(){this.players.forEach(Y=>Y.pause())}restart(){this.players.forEach(Y=>Y.restart())}finish(){this._onFinish(),this.players.forEach(Y=>Y.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Y=>Y.destroy()),this._onDestroyFns.forEach(Y=>Y()),this._onDestroyFns=[])}reset(){this.players.forEach(Y=>Y.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Y){const pt=Y*this.totalTime;this.players.forEach(Ct=>{const Tt=Ct.totalTime?Math.min(1,pt/Ct.totalTime):1;Ct.setPosition(Tt)})}getPosition(){const Y=this.players.reduce((pt,Ct)=>null===pt||Ct.totalTime>pt.totalTime?Ct:pt,null);return null!=Y?Y.getPosition():0}beforeDestroy(){this.players.forEach(Y=>{Y.beforeDestroy&&Y.beforeDestroy()})}triggerCallback(Y){const pt="start"==Y?this._onStartFns:this._onDoneFns;pt.forEach(Ct=>Ct()),pt.length=0}}const ve="!"},3953:(Vt,et,P)=>{"use strict";function ee(o,s){return Object.is(o,s)}P.d(et,{bc$:()=>x$,iLQ:()=>Fm,sZ2:()=>__,hnV:()=>rV,o8S:()=>Ha,BIS:()=>BT,gRc:()=>xy,Ql9:()=>HI,OM3:()=>Vp,Ocv:()=>g3,Z63:()=>Ma,aKT:()=>So,uvJ:()=>xs,zcH:()=>sa,bkB:()=>uc,$GK:()=>vt,nKC:()=>Dn,zZn:()=>Pi,_q3:()=>ZI,MKu:()=>JI,xe9:()=>Sy,Co$:()=>kS,Vns:()=>Bu,SKi:()=>Ur,Xx1:()=>Ff,Agw:()=>ca,PLl:()=>v_,rOR:()=>P0,sFG:()=>tS,_9s:()=>VE,czy:()=>R_,WPN:()=>rh,kdw:()=>Ig,C4Q:()=>uh,NYb:()=>eV,giA:()=>tV,RxE:()=>zL,c1b:()=>GE,gXe:()=>ra,mal:()=>vh,Tzd:()=>jp,L39:()=>WV,EWP:()=>DR,sbv:()=>pv,Ol2:()=>VS,w6W:()=>ow,QZP:()=>Wr,Rfq:()=>kc,WQX:()=>on,naY:()=>vV,Hps:()=>wS,QuC:()=>Ra,EmA:()=>Md,Udg:()=>KV,HJs:()=>cf,N4e:()=>Vg,vPA:()=>LN,O8t:()=>Yr,An2:()=>Bl,H3F:()=>yy,zAP:()=>iC,H8p:()=>Pg,KH2:()=>Gu,TgB:()=>xu,wOt:()=>qt,WHO:()=>JL,e01:()=>IM,lNU:()=>md,h9k:()=>Yk,$MX:()=>Q0,ZF7:()=>gp,Kcf:()=>W$,e5t:()=>Q$,UyX:()=>q$,cWb:()=>K$,osQ:()=>X$,H5H:()=>Bv,mq5:()=>Uv,JZv:()=>Dr,TL3:()=>mR,LfX:()=>to,plB:()=>Ei,jNT:()=>Nm,zjR:()=>wy,ngT:()=>go,TL$:()=>fp,Tbb:()=>zr,rcV:()=>xl,nM4:()=>RS,Vt3:()=>_v,GFd:()=>PS,OA$:()=>Bc,Jv_:()=>nM,aNF:()=>rM,R7$:()=>E1,BMQ:()=>tx,HbH:()=>ux,ZvI:()=>mx,AVh:()=>lm,vxM:()=>yx,wni:()=>Zw,C6U:()=>Dm,VBU:()=>$b,FsC:()=>Hb,jDH:()=>Wn,G2t:()=>lr,$C:()=>xg,EJ8:()=>Rg,rXU:()=>ch,nrm:()=>Ex,k0s:()=>pa,j41:()=>Fv,RV6:()=>Vv,xGo:()=>yT,Mr5:()=>Ba,KVO:()=>po,kS0:()=>cp,QTQ:()=>yA,bIt:()=>Im,lsd:()=>tI,qSk:()=>aT,XpG:()=>Bx,nI1:()=>Om,bMT:()=>cM,SdG:()=>Jc,NAR:()=>Xu,Y8G:()=>Rv,lJ4:()=>Ec,eq3:()=>ny,NyB:()=>Ux,mGM:()=>eI,sdS:()=>rI,Dyx:()=>kh,Z7z:()=>um,Vm6:()=>bx,Njj:()=>tT,eBV:()=>HP,n$t:()=>nA,xc7:()=>Ov,DNE:()=>uw,C5r:()=>zh,EFF:()=>Kx,JRh:()=>Yu,SpI:()=>Uh,Lme:()=>lI,E5c:()=>Tm,GBs:()=>Jw});let ie=null,ge=!1,ce=1;const M=Symbol("SIGNAL");function l(o){const s=ie;return ie=o,s}const Ue={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Z(o){if(ge)throw new Error("");if(null===ie)return;ie.consumerOnSignalRead(o);const s=ie.nextProducerIndex++;st(ie),s<ie.producerNode.length&&ie.producerNode[s]!==o&&Ie(ie)&&We(ie.producerNode[s],ie.producerIndexOfThis[s]),ie.producerNode[s]!==o&&(ie.producerNode[s]=o,ie.producerIndexOfThis[s]=Ie(ie)?Ae(o,ie,s):0),ie.producerLastReadVersion[s]=o.version}function Ne(o){if((!Ie(o)||o.dirty)&&(o.dirty||o.lastCleanEpoch!==ce)){if(!o.producerMustRecompute(o)&&!Fe(o))return o.dirty=!1,void(o.lastCleanEpoch=ce);o.producerRecomputeValue(o),o.dirty=!1,o.lastCleanEpoch=ce}}function se(o){if(void 0===o.liveConsumerNode)return;const s=ge;ge=!0;try{for(const a of o.liveConsumerNode)a.dirty||Re(a)}finally{ge=s}}function ze(){return!1!==ie?.consumerAllowSignalWrites}function Re(o){o.dirty=!0,se(o),o.consumerMarkedDirty?.(o)}function Pe(o){return o&&(o.nextProducerIndex=0),l(o)}function _e(o,s){if(l(s),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(Ie(o))for(let a=o.nextProducerIndex;a<o.producerNode.length;a++)We(o.producerNode[a],o.producerIndexOfThis[a]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Fe(o){st(o);for(let s=0;s<o.producerNode.length;s++){const a=o.producerNode[s],u=o.producerLastReadVersion[s];if(u!==a.version||(Ne(a),u!==a.version))return!0}return!1}function xe(o){if(st(o),Ie(o))for(let s=0;s<o.producerNode.length;s++)We(o.producerNode[s],o.producerIndexOfThis[s]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function Ae(o,s,a){if(Ye(o),0===o.liveConsumerNode.length&&ve(o))for(let u=0;u<o.producerNode.length;u++)o.producerIndexOfThis[u]=Ae(o.producerNode[u],o,u);return o.liveConsumerIndexOfThis.push(a),o.liveConsumerNode.push(s)-1}function We(o,s){if(Ye(o),1===o.liveConsumerNode.length&&ve(o))for(let u=0;u<o.producerNode.length;u++)We(o.producerNode[u],o.producerIndexOfThis[u]);const a=o.liveConsumerNode.length-1;if(o.liveConsumerNode[s]=o.liveConsumerNode[a],o.liveConsumerIndexOfThis[s]=o.liveConsumerIndexOfThis[a],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,s<o.liveConsumerNode.length){const u=o.liveConsumerIndexOfThis[s],h=o.liveConsumerNode[s];st(h),h.producerIndexOfThis[u]=s}}function Ie(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function st(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}function Ye(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}function ve(o){return void 0!==o.producerNode}function he(o){const s=Object.create(Tt);s.computation=o;const a=()=>{if(Ne(s),Z(s),s.value===Ct)throw s.error;return s.value};return a[M]=s,a}const Y=Symbol("UNSET"),pt=Symbol("COMPUTING"),Ct=Symbol("ERRORED"),Tt={...Ue,value:Y,dirty:!0,error:null,equal:ee,producerMustRecompute:o=>o.value===Y||o.value===pt,producerRecomputeValue(o){if(o.value===pt)throw new Error("Detected cycle in computations.");const s=o.value;o.value=pt;const a=Pe(o);let u;try{u=o.computation()}catch(h){u=Ct,o.error=h}finally{_e(o,a)}s!==Y&&s!==Ct&&u!==Ct&&o.equal(s,u)?o.value=s:(o.value=u,o.version++)}};let Jt=function cn(){throw new Error};function hn(){Jt()}let Ge=null;function U(o,s){ze()||hn(),o.equal(o.value,s)||(o.value=s,function oe(o){o.version++,function Me(){ce++}(),se(o),Ge?.()}(o))}const J={...Ue,equal:ee,value:void 0};const Te=()=>{},It={...Ue,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{null!==o.schedule&&o.schedule(o.ref)},hasRun:!1,cleanupFn:Te};var Mt=P(4412),Bt=P(1413),en=P(8359),rn=P(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const md="https://g.co/ng/security#xss";class qt extends Error{constructor(s,a){super(function Zs(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,a)),this.code=s}}function Ds(o){return{toString:o}.toString()}const Da="__parameters__";function mr(o,s,a){return Ds(()=>{const u=function fl(o){return function(...a){if(o){const u=o(...a);for(const h in u)this[h]=u[h]}}}(s);function h(...p){if(this instanceof h)return u.apply(this,p),this;const g=new h(...p);return E.annotation=g,E;function E(T,O,F){const W=T.hasOwnProperty(Da)?T[Da]:Object.defineProperty(T,Da,{value:[]})[Da];for(;W.length<=F;)W.push(null);return(W[F]=W[F]||[]).push(g),T}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}const Dr=globalThis;function sr(o){for(let s in o)if(o[s]===sr)return s;throw Error("Could not find renamed property on target object.")}function Pf(o,s){for(const a in s)s.hasOwnProperty(a)&&!o.hasOwnProperty(a)&&(o[a]=s[a])}function zr(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(zr).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function pl(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const _d=sr({__forward_ref__:sr});function kc(o){return o.__forward_ref__=kc,o.toString=function(){return zr(this())},o}function yn(o){return Nc(o)?o():o}function Nc(o){return"function"==typeof o&&o.hasOwnProperty(_d)&&o.__forward_ref__===kc}function Wn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function lr(o){return{providers:o.providers||[],imports:o.imports||[]}}function Aa(o){return mu(o,Bo)||mu(o,Sa)}function to(o){return null!==Aa(o)}function mu(o,s){return o.hasOwnProperty(s)?o[s]:null}function Ts(o){return o&&(o.hasOwnProperty(gl)||o.hasOwnProperty(ta))?o[gl]:null}const Bo=sr({\u0275prov:sr}),gl=sr({\u0275inj:sr}),Sa=sr({ngInjectableDef:sr}),ta=sr({ngInjectorDef:sr});class Dn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Wn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function tt(o){return o&&!!o.\u0275providers}const Se=sr({\u0275cmp:sr}),nt=sr({\u0275dir:sr}),Le=sr({\u0275pipe:sr}),Xe=sr({\u0275mod:sr}),Ze=sr({\u0275fac:sr}),He=sr({__NG_ELEMENT_ID__:sr}),ht=sr({__NG_ENV_ID__:sr});function qe(o){return"string"==typeof o?o:null==o?"":String(o)}function Kt(o,s){throw new qt(-201,!1)}var vt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(vt||{});let An;function Rn(){return An}function En(o){const s=An;return An=o,s}function Fn(o,s,a){const u=Aa(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&vt.Optional?null:void 0!==s?s:void Kt()}const ui={},ri="__NG_DI_FLAG__",xa="ngTempTokenPath",As=/\n/gm,Eg="__source";let gu;function tc(o){const s=gu;return gu=o,s}function xP(o,s=vt.Default){if(void 0===gu)throw new qt(-203,!1);return null===gu?Fn(o,void 0,s):gu.get(o,s&vt.Optional?null:void 0,s)}function po(o,s=vt.Default){return(Rn()||xP)(yn(o),s)}function on(o,s=vt.Default){return po(o,_u(s))}function _u(o){return typeof o>"u"||"number"==typeof o?o:(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function wd(o){const s=[];for(let a=0;a<o.length;a++){const u=yn(o[a]);if(Array.isArray(u)){if(0===u.length)throw new qt(900,!1);let h,p=vt.Default;for(let g=0;g<u.length;g++){const E=u[g],T=wg(E);"number"==typeof T?-1===T?h=E.token:p|=T:h=E}s.push(po(h,p))}else s.push(po(u))}return s}function vu(o,s){return o[ri]=s,o.prototype[ri]=s,o}function wg(o){return o[ri]}const Ff=vu(mr("Optional"),8),Ig=vu(mr("SkipSelf"),4);function yu(o,s){return o.hasOwnProperty(Ze)?o[Ze]:null}function bu(o,s){o.forEach(a=>Array.isArray(a)?bu(a,s):s(a))}function Nb(o,s,a){s>=o.length?o.push(a):o.splice(s,0,a)}function Cg(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Ss(o,s,a){let u=Id(o,s);return u>=0?o[1|u]=a:(u=~u,function Lb(o,s,a,u){let h=o.length;if(h==s)o.push(a,u);else if(1===h)o.push(u,o[0]),o[0]=a;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=a,o[s+1]=u}}(o,u,s,a)),u}function Vb(o,s){const a=Id(o,s);if(a>=0)return o[1|a]}function Id(o,s){return function AD(o,s,a){let u=0,h=o.length>>a;for(;h!==u;){const p=u+(h-u>>1),g=o[p<<a];if(s===g)return p<<a;g>s?h=p:u=p+1}return~(h<<a)}(o,s,1)}const nc={},er=[],Ma=new Dn(""),SD=new Dn("",-1),Bb=new Dn("");class Eu{get(s,a=ui){if(a===ui){const u=new Error(`NullInjectorError: No provider for ${zr(s)}!`);throw u.name="NullInjectorError",u}return a}}var Dg=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(Dg||{}),ra=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(ra||{}),vl=function(o){return o[o.None=0]="None",o[o.SignalBased=1]="SignalBased",o[o.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",o}(vl||{});function kP(o,s,a){let u=o.length;for(;;){const h=o.indexOf(s,a);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=s.length;if(h+p===u||o.charCodeAt(h+p)<=32)return h}a=h+1}}function di(o,s,a){let u=0;for(;u<a.length;){const h=a[u];if("number"==typeof h){if(0!==h)break;u++;const p=a[u++],g=a[u++],E=a[u++];o.setAttribute(s,g,E,p)}else{const p=h,g=a[++u];jo(p)?o.setProperty(s,p,g):o.setAttribute(s,p,g),u++}}return u}function Qr(o){return 3===o||4===o||6===o}function jo(o){return 64===o.charCodeAt(0)}function Bn(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?a=h:0===a||Mi(o,a,h,null,-1===a||2===a?s[++u]:null)}}return o}function Mi(o,s,a,u,h){let p=0,g=o.length;if(-1===s)g=-1;else for(;p<o.length;){const E=o[p++];if("number"==typeof E){if(E===s){g=-1;break}if(E>s){g=p-1;break}}}for(;p<o.length;){const E=o[p];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==h&&(o[p+1]=h));if(u===o[p+1])return void(o[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==g&&(o.splice(g,0,s),p=g+1),o.splice(p++,0,a),null!==u&&o.splice(p++,0,u),null!==h&&o.splice(p++,0,h)}const Cd="ng-template";function Tg(o,s,a,u){let h=0;if(u){for(;h<s.length&&"string"==typeof s[h];h+=2)if("class"===s[h]&&-1!==kP(s[h+1].toLowerCase(),a,0))return!0}else if(Vf(o))return!1;if(h=s.indexOf(1,h),h>-1){let p;for(;++h<s.length&&"string"==typeof(p=s[h]);)if(p.toLowerCase()===a)return!0}return!1}function Vf(o){return 4===o.type&&o.value!==Cd}function Fc(o,s,a){return s===(4!==o.type||a?o.value:Cd)}function wu(o,s,a){let u=4;const h=o.attrs,p=null!==h?function Dd(o){for(let s=0;s<o.length;s++)if(Qr(o[s]))return s;return o.length}(h):0;let g=!1;for(let E=0;E<s.length;E++){const T=s[E];if("number"!=typeof T){if(!g)if(4&u){if(u=2|1&u,""!==T&&!Fc(o,T,a)||""===T&&1===s.length){if(gr(u))return!1;g=!0}}else if(8&u){if(null===h||!Tg(o,h,T,a)){if(gr(u))return!1;g=!0}}else{const O=s[++E],F=yl(T,h,Vf(o),a);if(-1===F){if(gr(u))return!1;g=!0;continue}if(""!==O){let W;if(W=F>p?"":h[F+1].toLowerCase(),2&u&&O!==W){if(gr(u))return!1;g=!0}}}}else{if(!g&&!gr(u)&&!gr(T))return!1;if(g&&gr(T))continue;g=!1,u=T|1&u}}return gr(u)||g}function gr(o){return!(1&o)}function yl(o,s,a,u){if(null===s)return-1;let h=0;if(u||!a){let p=!1;for(;h<s.length;){const g=s[h];if(g===o)return h;if(3===g||6===g)p=!0;else{if(1===g||2===g){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===g)break;if(0===g){h+=4;continue}}h+=p?1:2}return-1}return function $o(o,s){let a=o.indexOf(4);if(a>-1)for(a++;a<o.length;){const u=o[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,o)}function Ub(o,s,a=!1){for(let u=0;u<s.length;u++)if(wu(o,s[u],a))return!0;return!1}function jb(o,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function Td(o,s){return o?":not("+s.trim()+")":s}function Ag(o){let s=o[0],a=1,u=2,h="",p=!1;for(;a<o.length;){let g=o[a];if("string"==typeof g)if(2&u){const E=o[++a];h+="["+g+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+g:4&u&&(h+=" "+g);else""!==h&&!gr(g)&&(s+=Td(p,h),h=""),u=g,p=p||!gr(u);a++}return""!==h&&(s+=Td(p,h)),s}function $b(o){return Ds(()=>{const s=Bf(o),a={...s,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===Dg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||ra.Emulated,styles:o.styles||er,_:null,schemas:o.schemas||null,tView:null,id:""};Uf(a);const u=o.dependencies;return a.directiveDefs=xd(u,!1),a.pipeDefs=xd(u,!0),a.id=function RD(o){let s=0;const a=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const h of a)s=Math.imul(31,s)+h.charCodeAt(0)|0;return s+=2147483648,"c"+s}(a),a})}function Sg(o){return Ln(o)||_i(o)}function Sd(o){return null!==o}function xg(o){return Ds(()=>({type:o.type,bootstrap:o.bootstrap||er,declarations:o.declarations||er,imports:o.imports||er,exports:o.exports||er,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Mg(o,s){if(null==o)return nc;const a={};for(const u in o)if(o.hasOwnProperty(u)){const h=o[u];let p,g,E=vl.None;Array.isArray(h)?(E=h[0],p=h[1],g=h[2]??p):(p=h,g=h),s?(a[p]=E!==vl.None?[u,E]:u,s[p]=g):a[p]=u}return a}function Hb(o){return Ds(()=>{const s=Bf(o);return Uf(s),s})}function Rg(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Ln(o){return o[Se]||null}function _i(o){return o[nt]||null}function Ri(o){return o[Le]||null}function Ra(o){const s=Ln(o)||_i(o)||Ri(o);return null!==s&&s.standalone}function $i(o,s){const a=o[Xe]||null;if(!a&&!0===s)throw new Error(`Type ${zr(o)} does not have '\u0275mod' property.`);return a}function Bf(o){const s={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:o.inputs||nc,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||er,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mg(o.inputs,s),outputs:Mg(o.outputs),debugInfo:null}}function Uf(o){o.features?.forEach(s=>s(o))}function xd(o,s){if(!o)return null;const a=s?Ri:Sg;return()=>("function"==typeof o?o():o).map(u=>a(u)).filter(Sd)}function Md(o){return{\u0275providers:o}}function OD(...o){return{\u0275providers:Og(0,o),\u0275fromNgModule:!0}}function Og(o,...s){const a=[],u=new Set;let h;const p=g=>{a.push(g)};return bu(s,g=>{const E=g;Rd(E,p,[],u)&&(h||=[],h.push(E))}),void 0!==h&&zb(h,p),a}function zb(o,s){for(let a=0;a<o.length;a++){const{ngModule:u,providers:h}=o[a];Od(h,p=>{s(p,u)})}}function Rd(o,s,a,u){if(!(o=yn(o)))return!1;let h=null,p=Ts(o);const g=!p&&Ln(o);if(p||g){if(g&&!g.standalone)return!1;h=o}else{const T=o.ngModule;if(p=Ts(T),!p)return!1;h=T}const E=u.has(h);if(g){if(E)return!1;if(u.add(h),g.dependencies){const T="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const O of T)Rd(O,s,a,u)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let O;u.add(h);try{bu(p.imports,F=>{Rd(F,s,a,u)&&(O||=[],O.push(F))})}finally{}void 0!==O&&zb(O,s)}if(!E){const O=yu(h)||(()=>new h);s({provide:h,useFactory:O,deps:er},h),s({provide:Bb,useValue:h,multi:!0},h),s({provide:Ma,useValue:()=>po(h),multi:!0},h)}const T=p.providers;if(null!=T&&!E){const O=o;Od(T,F=>{s(F,O)})}}}return h!==o&&void 0!==o.providers}function Od(o,s){for(let a of o)tt(a)&&(a=a.\u0275providers),Array.isArray(a)?Od(a,s):s(a)}const PD=sr({provide:String,useValue:sr});function Wb(o){return null!==o&&"object"==typeof o&&PD in o}function ia(o){return"function"==typeof o}const Pg=new Dn(""),$f={},qb={};let kg;function Hf(){return void 0===kg&&(kg=new Eu),kg}class xs{}class Iu extends xs{get destroyed(){return this._destroyed}constructor(s,a,u,h){super(),this.parent=a,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Lg(s,g=>this.processProvider(g)),this.records.set(SD,bl(void 0,this)),h.has("environment")&&this.records.set(xs,bl(void 0,this));const p=this.records.get(Pg);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Bb,er,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=l(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of a)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),l(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=tc(this),u=En(void 0);try{return s()}finally{tc(a),En(u)}}get(s,a=ui,u=vt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ht))return s[ht](this);u=_u(u);const p=tc(this),g=En(void 0);try{if(!(u&vt.SkipSelf)){let T=this.records.get(s);if(void 0===T){const O=function ND(o){return"function"==typeof o||"object"==typeof o&&o instanceof Dn}(s)&&Aa(s);T=O&&this.injectableDefInScope(O)?bl(Ng(s),$f):null,this.records.set(s,T)}if(null!=T)return this.hydrate(s,T)}return(u&vt.Self?Hf():this.parent).get(s,a=u&vt.Optional&&a===ui?null:a)}catch(E){if("NullInjectorError"===E.name){if((E[xa]=E[xa]||[]).unshift(zr(s)),p)throw E;return function _l(o,s,a,u){const h=o[xa];throw s[Eg]&&h.unshift(s[Eg]),o.message=function TD(o,s,a,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let h=zr(s);if(Array.isArray(s))h=s.map(zr).join(" -> ");else if("object"==typeof s){let p=[];for(let g in s)if(s.hasOwnProperty(g)){let E=s[g];p.push(g+":"+("string"==typeof E?JSON.stringify(E):zr(E)))}h=`{${p.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${o.replace(As,"\n  ")}`}("\n"+o.message,h,a,u),o.ngTokenPath=h,o[xa]=null,o}(E,s,"R3InjectorError",this.source)}throw E}finally{En(g),tc(p)}}resolveInjectorInitializers(){const s=l(null),a=tc(this),u=En(void 0);try{const p=this.get(Ma,er,vt.Self);for(const g of p)g()}finally{tc(a),En(u),l(s)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(zr(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new qt(205,!1)}processProvider(s){let a=ia(s=yn(s))?s:yn(s&&s.provide);const u=function kD(o){return Wb(o)?bl(void 0,o.useValue):bl(Fg(o),$f)}(s);if(!ia(s)&&!0===s.multi){let h=this.records.get(a);h||(h=bl(void 0,$f,!0),h.factory=()=>wd(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,u)}hydrate(s,a){const u=l(null);try{return a.value===$f&&(a.value=qb,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Qb(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}finally{l(u)}}injectableDefInScope(s){if(!s.providedIn)return!1;const a=yn(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function Ng(o){const s=Aa(o),a=null!==s?s.factory:yu(o);if(null!==a)return a;if(o instanceof Dn)throw new qt(204,!1);if(o instanceof Function)return function zf(o){if(o.length>0)throw new qt(204,!1);const a=function ml(o){return o&&(o[Bo]||o[Sa])||null}(o);return null!==a?()=>a.factory(o):()=>new o}(o);throw new qt(204,!1)}function Fg(o,s,a){let u;if(ia(o)){const h=yn(o);return yu(h)||Ng(h)}if(Wb(o))u=()=>yn(o.useValue);else if(function Pd(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...wd(o.deps||[]));else if(function jf(o){return!(!o||!o.useExisting)}(o))u=()=>po(yn(o.useExisting));else{const h=yn(o&&(o.useClass||o.provide));if(!function Xb(o){return!!o.deps}(o))return yu(h)||Ng(h);u=()=>new h(...wd(o.deps))}return u}function bl(o,s,a=!1){return{factory:o,value:s,multi:a?[]:void 0}}function Lg(o,s){for(const a of o)Array.isArray(a)?Lg(a,s):a&&tt(a)?Lg(a.\u0275providers,s):s(a)}function Vg(o,s){o instanceof Iu&&o.assertNotDestroyed();const u=tc(o),h=En(void 0);try{return s()}finally{tc(u),En(h)}}function Bg(){return void 0!==Rn()||null!=function Ob(){return gu}()}function Gf(o){if(!Bg())throw new qt(-203,!1)}const xr=0,y=1,b=2,D=3,I=4,k=5,j=6,ne=7,re=8,Ee=9,ct=10,ot=11,Dt=12,At=13,Zt=14,fn=15,Sn=16,Zn=17,_r=18,Er=19,To=20,Ar=21,no=22,ii=23,ln=25,Nd=1,Ho=7,rc=9,Br=10;var Vc=function(o){return o[o.None=0]="None",o[o.HasTransplantedViews=2]="HasTransplantedViews",o}(Vc||{});function Cr(o){return Array.isArray(o)&&"object"==typeof o[Nd]}function Mr(o){return Array.isArray(o)&&!0===o[Nd]}function wr(o){return!!(4&o.flags)}function Oa(o){return o.componentOffset>-1}function jg(o){return!(1&~o.flags)}function mo(o){return!!o.template}function Kf(o){return!!(512&o[b])}class GD{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function WD(o,s,a,u){null!==s?s.applyValueToInputSignal(s,u):o[a]=u}function Bc(){return KD}function KD(o){return o.type.prototype.ngOnChanges&&(o.setInput=XD),qD}function qD(){const o=Ld(this),s=o?.current;if(s){const a=o.previous;if(a===nc)o.previous=s;else for(let u in s)a[u]=s[u];o.current=null,this.ngOnChanges(s)}}function XD(o,s,a,u,h){const p=this.declaredInputs[u],g=Ld(o)||function s0(o,s){return o[Qf]=s}(o,{previous:nc,current:null}),E=g.current||(g.current={}),T=g.previous,O=T[p];E[p]=new GD(O&&O.currentValue,a,T===nc),WD(o,s,h,a)}Bc.ngInherit=!0;const Qf="__ngSimpleChanges__";function Ld(o){return o[Qf]||null}const ic=function(o,s,a){},Yf="svg";function ar(o){for(;Array.isArray(o);)o=o[xr];return o}function Vd(o,s){return ar(s[o])}function Hi(o,s){return ar(s[o.index])}function Cu(o,s){return o.data[s]}function Du(o,s){return o[s]}function as(o,s){const a=s[o];return Cr(a)?a:a[xr]}function Tu(o){return!(128&~o[b])}function yi(o,s){return null==s?null:o[s]}function Zf(o){o[Zn]=0}function oc(o){1024&o[b]||(o[b]|=1024,Tu(o)&&jc(o))}function wl(o){return!!(9216&o[b]||o[ii]?.dirty)}function Uc(o){o[ct].changeDetectionScheduler?.notify(7),64&o[b]&&(o[b]|=1024),wl(o)&&jc(o)}function jc(o){o[ct].changeDetectionScheduler?.notify(0);let s=$c(o);for(;null!==s&&!(8192&s[b])&&(s[b]|=8192,Tu(s));)s=$c(s)}function Bd(o,s){if(!(256&~o[b]))throw new qt(911,!1);null===o[Ar]&&(o[Ar]=[]),o[Ar].push(s)}function $c(o){const s=o[D];return Mr(s)?s[D]:s}const Tn={lFrame:oT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let JD=!1;function eT(){return Tn.bindingsEnabled}function Il(){return null!==Tn.skipHydrationRootTNode}function yt(){return Tn.lFrame.lView}function zn(){return Tn.lFrame.tView}function HP(o){return Tn.lFrame.contextLView=o,o[re]}function tT(o){return Tn.lFrame.contextLView=null,o}function Sr(){let o=nT();for(;null!==o&&64===o.type;)o=o.parent;return o}function nT(){return Tn.lFrame.currentTNode}function bi(o,s){const a=Tn.lFrame;a.currentTNode=o,a.isParent=s}function u0(){return Tn.lFrame.isParent}function Au(){Tn.lFrame.isParent=!1}function Qg(){return JD}function oa(o){JD=o}function Oi(){const o=Tn.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function sc(){return Tn.lFrame.bindingIndex}function Pa(){return Tn.lFrame.bindingIndex++}function ls(o){const s=Tn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,a}function iT(o,s){const a=Tn.lFrame;a.bindingIndex=a.bindingRootIndex=o,Zg(s)}function Zg(o){Tn.lFrame.currentDirectiveIndex=o}function np(){return Tn.lFrame.currentQueryIndex}function rp(o){Tn.lFrame.currentQueryIndex=o}function f0(o){const s=o[y];return 2===s.type?s.declTNode:1===s.type?o[k]:null}function Jg(o,s,a){if(a&vt.SkipSelf){let h=s,p=o;for(;!(h=h.parent,null!==h||a&vt.Host||(h=f0(p),null===h||(p=p[Zt],10&h.type))););if(null===h)return!1;s=h,o=p}const u=Tn.lFrame=p0();return u.currentTNode=s,u.lView=o,!0}function Ud(o){const s=p0(),a=o[y];Tn.lFrame=s,s.currentTNode=a.firstChild,s.lView=o,s.tView=a,s.contextLView=o,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function p0(){const o=Tn.lFrame,s=null===o?null:o.child;return null===s?oT(o):s}function oT(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function jd(){const o=Tn.lFrame;return Tn.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const sT=jd;function m0(){const o=jd();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ro(){return Tn.lFrame.selectedIndex}function ac(o){Tn.lFrame.selectedIndex=o}function Rr(){const o=Tn.lFrame;return Cu(o.tView,o.selectedIndex)}function aT(){Tn.lFrame.currentNamespace=Yf}let _0=!0;function Cl(){return _0}function cc(o){_0=o}function Hc(o,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const p=o.data[a].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:O,ngOnDestroy:F}=p;g&&(o.contentHooks??=[]).push(-a,g),E&&((o.contentHooks??=[]).push(a,E),(o.contentCheckHooks??=[]).push(a,E)),T&&(o.viewHooks??=[]).push(-a,T),O&&((o.viewHooks??=[]).push(a,O),(o.viewCheckHooks??=[]).push(a,O)),null!=F&&(o.destroyHooks??=[]).push(a,F)}}function Dl(o,s,a){$d(o,s,3,a)}function e_(o,s,a,u){(3&o[b])===a&&$d(o,s,a,u)}function v0(o,s){let a=o[b];(3&a)===s&&(a&=16383,a+=1,o[b]=a)}function $d(o,s,a,u){const p=u??-1,g=s.length-1;let E=0;for(let T=void 0!==u?65535&o[Zn]:0;T<g;T++)if("number"==typeof s[T+1]){if(E=s[T],null!=u&&E>=u)break}else s[T]<0&&(o[Zn]+=65536),(E<p||-1==p)&&(KP(o,a,s,T),o[Zn]=(4294901760&o[Zn])+T+2),T++}function Hd(o,s){ic(4,o,s);const a=l(null);try{s.call(o)}finally{l(a),ic(5,o,s)}}function KP(o,s,a,u){const h=a[u]<0,p=a[u+1],E=o[h?-a[u]:a[u]];h?o[b]>>14<o[Zn]>>16&&(3&o[b])===s&&(o[b]+=16384,Hd(E,p)):Hd(E,p)}const zd=-1;class ip{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}const b0={};class Su{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){u=_u(u);const h=this.injector.get(s,b0,u);return h!==b0||a===b0?h:this.parentInjector.get(s,a,u)}}function E0(o){return o!==zd}function sp(o){return 32767&o}function ap(o,s){let a=function XP(o){return o>>16}(o),u=s;for(;a>0;)u=u[Zt],a--;return u}let w0=!0;function n_(o){const s=w0;return w0=o,s}const hT=255,r_=5;let i_=0;const zo={};function o_(o,s){const a=fT(o,s);if(-1!==a)return a;const u=s[y];u.firstCreatePass&&(o.injectorIndex=s.length,I0(u.data,o),I0(s,null),I0(u.blueprint,null));const h=Gd(o,s),p=o.injectorIndex;if(E0(h)){const g=sp(h),E=ap(h,s),T=E[y].data;for(let O=0;O<8;O++)s[p+O]=E[g+O]|T[g+O]}return s[p+8]=h,p}function I0(o,s){o.push(0,0,0,0,0,0,0,0,s)}function fT(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Gd(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let a=0,u=null,h=s;for(;null!==h;){if(u=A0(h),null===u)return zd;if(a++,h=h[Zt],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return zd}function C0(o,s,a){!function b$(o,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(He)&&(u=a[He]),null==u&&(u=a[He]=i_++);const h=u&hT;s.data[o+(h>>r_)]|=1<<h}(o,s,a)}function pT(o,s,a){if(a&vt.Optional||void 0!==o)return o;Kt()}function T0(o,s,a,u){if(a&vt.Optional&&void 0===u&&(u=null),!(a&(vt.Self|vt.Host))){const h=o[Ee],p=En(void 0);try{return h?h.get(s,u,a&vt.Optional):Fn(s,u,a&vt.Optional)}finally{En(p)}}return pT(u,0,a)}function mT(o,s,a,u=vt.Default,h){if(null!==o){if(2048&s[b]&&!(u&vt.Self)){const g=function E$(o,s,a,u,h){let p=o,g=s;for(;null!==p&&null!==g&&2048&g[b]&&!(512&g[b]);){const E=gT(p,g,a,u|vt.Self,zo);if(E!==zo)return E;let T=p.parent;if(!T){const O=g[To];if(O){const F=O.get(a,zo,u);if(F!==zo)return F}T=A0(g),g=g[Zt]}p=T}return h}(o,s,a,u,zo);if(g!==zo)return g}const p=gT(o,s,a,u,zo);if(p!==zo)return p}return T0(s,a,u,h)}function gT(o,s,a,u,h){const p=function JP(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(He)?o[He]:void 0;return"number"==typeof s?s>=0?s&hT:ek:s}(a);if("function"==typeof p){if(!Jg(s,o,u))return u&vt.Host?pT(h,0,u):T0(s,a,u,h);try{let g;if(g=p(u),null!=g||u&vt.Optional)return g;Kt()}finally{sT()}}else if("number"==typeof p){let g=null,E=fT(o,s),T=zd,O=u&vt.Host?s[fn][k]:null;for((-1===E||u&vt.SkipSelf)&&(T=-1===E?Gd(o,s):s[E+8],T!==zd&&vT(u,!1)?(g=s[y],E=sp(T),s=ap(T,s)):E=-1);-1!==E;){const F=s[y];if(_T(p,E,F.data)){const W=ZP(E,s,a,g,u,O);if(W!==zo)return W}T=s[E+8],T!==zd&&vT(u,s[y].data[E+8]===O)&&_T(p,E,s)?(g=F,E=sp(T),s=ap(T,s)):E=-1}}return h}function ZP(o,s,a,u,h,p){const g=s[y],E=g.data[o+8],F=s_(E,g,a,null==u?Oa(E)&&w0:u!=g&&!!(3&E.type),h&vt.Host&&p===E);return null!==F?lc(s,g,F,E):zo}function s_(o,s,a,u,h){const p=o.providerIndexes,g=s.data,E=1048575&p,T=o.directiveStart,F=p>>20,de=h?E+F:o.directiveEnd;for(let $=u?E:E+F;$<de;$++){const Qe=g[$];if($<T&&a===Qe||$>=T&&Qe.type===a)return $}if(h){const $=g[T];if($&&mo($)&&$.type===a)return T}return null}function lc(o,s,a,u){let h=o[a];const p=s.data;if(function qP(o){return o instanceof ip}(h)){const g=h;g.resolving&&function St(o,s){throw s&&s.join(" > "),new qt(-200,o)}(function rt(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():qe(o)}(p[a]));const E=n_(g.canSeeViewProviders);g.resolving=!0;const O=g.injectImpl?En(g.injectImpl):null;Jg(o,u,vt.Default);try{h=o[a]=g.factory(void 0,p,o,u),s.firstCreatePass&&a>=u.directiveStart&&function WP(o,s,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(u){const g=KD(s);(a.preOrderHooks??=[]).push(o,g),(a.preOrderCheckHooks??=[]).push(o,g)}h&&(a.preOrderHooks??=[]).push(0-o,h),p&&((a.preOrderHooks??=[]).push(o,p),(a.preOrderCheckHooks??=[]).push(o,p))}(a,p[a],s)}finally{null!==O&&En(O),n_(E),g.resolving=!1,sT()}}return h}function _T(o,s,a){return!!(a[s+(o>>r_)]&1<<o)}function vT(o,s){return!(o&vt.Self||o&vt.Host&&s)}class zi{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return mT(this._tNode,this._lView,s,_u(u),a)}}function ek(){return new zi(Sr(),yt())}function yT(o){return Ds(()=>{const s=o.prototype.constructor,a=s[Ze]||a_(s),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const p=h[Ze]||a_(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function a_(o){return Nc(o)?()=>{const s=a_(yn(o));return s&&s()}:yu(o)}function A0(o){const s=o[y],a=s.type;return 2===a?s.declTNode:1===a?o[k]:null}function cp(o){return function D0(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const a=o.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const p=a[h];if(Qr(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(p===s)return a[h+1];h+=2}}}return null}(Sr(),o)}function DT(o,s=null,a=null,u){const h=TT(o,s,a,u);return h.resolveInjectorInitializers(),h}function TT(o,s=null,a=null,u,h=new Set){const p=[a||er,OD(o)];return u=u||("object"==typeof o?void 0:zr(o)),new Iu(p,s||Hf(),u||null,h)}class Pi{static#e=this.THROW_IF_NOT_FOUND=ui;static#t=this.NULL=new Eu;static create(s,a){if(Array.isArray(s))return DT({name:""},a,s,"");{const u=s.name??"";return DT({name:u},s.parent,s.providers,u)}}static#n=this.\u0275prov=Wn({token:Pi,providedIn:"any",factory:()=>po(SD)});static#r=this.__NG_ELEMENT_ID__=-1}new Dn("").__NG_ELEMENT_ID__=o=>{const s=Sr();if(null===s)throw new qt(204,!1);if(2&s.type)return s.value;if(o&vt.Optional)return null;throw new qt(204,!1)};function O0(o){return o.ngOriginalError}class sa{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&O0(s);for(;a&&O0(a);)a=O0(a);return a||null}}const lp=new Dn("",{providedIn:"root",factory:()=>on(sa).handleError.bind(void 0)});let up=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=sk;static#t=this.__NG_ENV_ID__=a=>a}return o})();class ok extends up{constructor(s){super(),this._lView=s}onDestroy(s){return Bd(this._lView,s),()=>function Gg(o,s){if(null===o[Ar])return;const a=o[Ar].indexOf(s);-1!==a&&o[Ar].splice(a,1)}(this._lView,s)}}function sk(){return new ok(yt())}function lk(){return Qd(Sr(),yt())}function Qd(o,s){return new So(Hi(o,s))}let So=(()=>{class o{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=lk}return o})();function xT(o){return o instanceof So?o.nativeElement:o}let xu=(()=>{class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mt.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=Wn({token:o,providedIn:"root",factory:()=>new o})}return o})();const uc=class uk extends Bt.B{constructor(s=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=s,Bg()&&(this.destroyRef=on(up,{optional:!0})??void 0,this.pendingTasks=on(xu,{optional:!0})??void 0)}emit(s){const a=l(null);try{super.next(s)}finally{l(a)}}subscribe(s,a,u){let h=s,p=a||(()=>null),g=u;if(s&&"object"==typeof s){const T=s;h=T.next?.bind(T),p=T.error?.bind(T),g=T.complete?.bind(T)}this.__isAsync&&(p=this.wrapInTimeout(p),h&&(h=this.wrapInTimeout(h)),g&&(g=this.wrapInTimeout(g)));const E=super.subscribe({next:h,error:p,complete:g});return s instanceof en.yU&&s.add(E),E}wrapInTimeout(s){return a=>{const u=this.pendingTasks?.add();setTimeout(()=>{s(a),void 0!==u&&this.pendingTasks?.remove(u)})}}};function MT(){return this._results[Symbol.iterator]()}class P0{static#e=Symbol.iterator;get changes(){return this._changes??=new uc}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=P0.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=MT)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){this.dirty=!1;const u=function Uo(o){return o.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function OP(o,s,a){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],p=s[u];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(this._results,u,a))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function f_(o){return!(128&~o.flags)}const aa=new Map;let hk=0;const F0="__ngContext__";function Go(o,s){Cr(s)?(o[F0]=s[Er],function T$(o){aa.set(o[Er],o)}(s)):o[F0]=s}function V0(o){return wk(o[Dt])}function LT(o){return wk(o[I])}function wk(o){for(;null!==o&&!Mr(o);)o=o[I];return o}let g_;function fp(o){g_=o}const __=new Dn("",{providedIn:"root",factory:()=>xk}),xk="ng",v_=new Dn(""),ca=new Dn("",{providedIn:"platform",factory:()=>"unknown"}),x$=new Dn(""),BT=new Dn("",{providedIn:"root",factory:()=>function dc(){if(void 0!==g_)return g_;if(typeof document<"u")return document;throw new qt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let HT=()=>null;function zT(o,s,a=!1){return HT(o,s,a)}const Bk=new Dn("",{providedIn:"root",factory:()=>!1});let q0,X0;function mp(o){return function XT(){if(void 0===q0&&(q0=null,Dr.trustedTypes))try{q0=Dr.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return q0}()?.createHTML(o)||o}function $k(o){return function QT(){if(void 0===X0&&(X0=null,Dr.trustedTypes))try{X0=Dr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return X0}()?.createScriptURL(o)||o}class nh{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${md})`}}class U$ extends nh{getTypeName(){return"HTML"}}class j$ extends nh{getTypeName(){return"Style"}}class $$ extends nh{getTypeName(){return"Script"}}class H$ extends nh{getTypeName(){return"URL"}}class z$ extends nh{getTypeName(){return"ResourceURL"}}function xl(o){return o instanceof nh?o.changingThisBreaksApplicationSecurity:o}function gp(o,s){const a=function G$(o){return o instanceof nh&&o.getTypeName()||null}(o);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${md})`)}return a===s}function W$(o){return new U$(o)}function K$(o){return new j$(o)}function q$(o){return new $$(o)}function X$(o){return new H$(o)}function Q$(o){return new z$(o)}class Y${constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(mp(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class Z${constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=mp(s),a}}const eH=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Q0(o){return(o=String(o)).match(eH)?o:"unsafe:"+o}function Ml(o){const s={};for(const a of o.split(","))s[a]=!0;return s}function D_(...o){const s={};for(const a of o)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const zk=Ml("area,br,col,hr,img,wbr"),Gk=Ml("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Wk=Ml("rp,rt"),JT=D_(zk,D_(Gk,Ml("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),D_(Wk,Ml("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),D_(Wk,Gk)),eA=Ml("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kk=D_(eA,Ml("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ml("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tH=Ml("script,style,template");class nH{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0,h=[];for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)h.push(a),a=oH(a);else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let p=iH(a);if(p){a=p;break}a=h.pop()}return this.buf.join("")}startElement(s){const a=qk(s).toLowerCase();if(!JT.hasOwnProperty(a))return this.sanitizedSomething=!0,!tH.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),g=p.name,E=g.toLowerCase();if(!Kk.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=p.value;eA[E]&&(T=Q0(T)),this.buf.push(" ",g,'="',Qk(T),'"')}return this.buf.push(">"),!0}endElement(s){const a=qk(s).toLowerCase();JT.hasOwnProperty(a)&&!zk.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(Qk(s))}}function iH(o){const s=o.nextSibling;if(s&&o!==s.previousSibling)throw Xk(s);return s}function oH(o){const s=o.firstChild;if(s&&function rH(o,s){return(o.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(o,s))throw Xk(s);return s}function qk(o){const s=o.nodeName;return"string"==typeof s?s:"FORM"}function Xk(o){return new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`)}const sH=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,aH=/([^\#-~ |!])/g;function Qk(o){return o.replace(/&/g,"&amp;").replace(sH,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(aH,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Y0;function Yk(o,s){let a=null;try{Y0=Y0||function Hk(o){const s=new Z$(o);return function J$(){try{return!!(new window.DOMParser).parseFromString(mp(""),"text/html")}catch{return!1}}()?new Y$(s):s}(o);let u=s?String(s):"";a=Y0.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=a.innerHTML,a=Y0.getInertBodyElement(u)}while(u!==p);return mp((new nH).sanitizeChildren(tA(a)||a))}finally{if(a){const u=tA(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function tA(o){return"content"in o&&function cH(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var rh=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(rh||{});function Zk(o){const s=Xc();return s?s.sanitize(rh.URL,o)||"":gp(o,"URL")?xl(o):Q0(qe(o))}function Jk(o){const s=Xc();if(s)return $k(s.sanitize(rh.RESOURCE_URL,o)||"");if(gp(o,"ResourceURL"))return $k(xl(o));throw new qt(904,!1)}function nA(o,s,a){return function T_(o,s){return"src"===s&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===s&&("base"===o||"link"===o)?Jk:Zk}(s,a)(o)}function Xc(){const o=yt();return o&&o[ct].sanitizer}function Ms(o){return o instanceof Function?o():o}function Rs(o){return"browser"===(o??on(Pi)).get(ca)}var R_=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(R_||{});let rE;function iE(o,s){return rE(o,s)}function oh(o,s,a,u,h){if(null!=u){let p,g=!1;Mr(u)?p=u:Cr(u)&&(g=!0,u=u[xr]);const E=ar(u);0===o&&null!==a?null==h?Ou(s,a,E):Rl(s,a,E,h||null,!0):1===o&&null!==a?Rl(s,a,E,h||null,!0):2===o?function sh(o,s,a){const u=N_(o,s);u&&function p1(o,s,a,u){o.removeChild(s,a,u)}(o,u,s,a)}(s,E,g):3===o&&s.destroyNode(E),null!=p&&function v1(o,s,a,u,h){const p=a[Ho];p!==ar(a)&&oh(s,o,u,p,h);for(let E=Br;E<a.length;E++){const T=a[E];pE(T[y],T,o,s,u,p)}}(s,o,p,a,h)}}function P_(o,s,a){return o.createElement(s,a)}function aE(o,s){s[ct].changeDetectionScheduler?.notify(8),pE(o,s,s[ot],2,null,null)}function f1(o,s){const a=o[rc],u=s[D];(Cr(u)||s[fn]!==u[D][fn])&&(o[b]|=Vc.HasTransplantedViews),null===a?o[rc]=[s]:a.push(s)}function fA(o,s){const a=o[rc],u=a.indexOf(s);a.splice(u,1)}function k_(o,s){if(o.length<=Br)return;const a=Br+s,u=o[a];if(u){const h=u[Sn];null!==h&&h!==o&&fA(h,u),s>0&&(o[a-1][I]=u[I]);const p=Cg(o,Br+s);!function d1(o,s){aE(o,s),s[xr]=null,s[k]=null}(u[y],u);const g=p[_r];null!==g&&g.detachView(p[y]),u[D]=null,u[I]=null,u[b]&=-129}return u}function cE(o,s){if(!(256&s[b])){const a=s[ot];a.destroyNode&&pE(o,s,a,3,null,null),function hA(o){let s=o[Dt];if(!s)return pA(o[y],o);for(;s;){let a=null;if(Cr(s))a=s[Dt];else{const u=s[Br];u&&(a=u)}if(!a){for(;s&&!s[I]&&s!==o;)Cr(s)&&pA(s[y],s),s=s[D];null===s&&(s=o),Cr(s)&&pA(s[y],s),a=s&&s[I]}s=a}}(s)}}function pA(o,s){if(256&s[b])return;const a=l(null);try{s[b]&=-129,s[b]|=256,s[ii]&&xe(s[ii]),function uE(o,s){let a;if(null!=o&&null!=(a=o.destroyHooks))for(let u=0;u<a.length;u+=2){const h=s[a[u]];if(!(h instanceof ip)){const p=a[u+1];if(Array.isArray(p))for(let g=0;g<p.length;g+=2){const E=h[p[g]],T=p[g+1];ic(4,E,T);try{T.call(E)}finally{ic(5,E,T)}}else{ic(4,h,p);try{p.call(h)}finally{ic(5,h,p)}}}}}(o,s),function lE(o,s){const a=o.cleanup,u=s[ne];if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const g=a[p+3];g>=0?u[g]():u[-g].unsubscribe(),p+=2}else a[p].call(u[a[p+1]]);null!==u&&(s[ne]=null);const h=s[Ar];if(null!==h){s[Ar]=null;for(let p=0;p<h.length;p++)(0,h[p])()}}(o,s),1===s[y].type&&s[ot].destroy();const u=s[Sn];if(null!==u&&Mr(s[D])){u!==s[D]&&fA(u,s);const h=s[_r];null!==h&&h.detachView(o)}!function RT(o){aa.delete(o[Er])}(s)}finally{l(a)}}function dE(o,s,a){return function mA(o,s,a){let u=s;for(;null!==u&&168&u.type;)u=(s=u).parent;if(null===u)return a[xr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:p}=o.data[u.directiveStart+h];if(p===ra.None||p===ra.Emulated)return null}return Hi(u,a)}}(o,s.parent,a)}function Rl(o,s,a,u,h){o.insertBefore(s,a,u,h)}function Ou(o,s,a){o.appendChild(s,a)}function gA(o,s,a,u,h){null!==u?Rl(o,s,a,u,h):Ou(o,s,a)}function N_(o,s){return o.parentNode(s)}function _A(o,s,a){return yp(o,s,a)}let hE,yp=function g1(o,s,a){return 40&o.type?Hi(o,a):null};function ka(o,s,a,u){const h=dE(o,u,s),p=s[ot],E=_A(u.parent||s[k],u,s);if(null!=h)if(Array.isArray(a))for(let T=0;T<a.length;T++)gA(p,h,a[T],E,!1);else gA(p,h,a,E,!1);void 0!==hE&&hE(p,u,s,a,h)}function Ep(o,s){if(null!==s){const a=s.type;if(3&a)return Hi(s,o);if(4&a)return F_(-1,o[s.index]);if(8&a){const u=s.child;if(null!==u)return Ep(o,u);{const h=o[s.index];return Mr(h)?F_(-1,h):ar(h)}}if(32&a)return iE(s,o)()||ar(o[s.index]);{const u=Ol(o,s);return null!==u?Array.isArray(u)?u[0]:Ep($c(o[fn]),u):Ep(o,s.next)}}return null}function Ol(o,s){return null!==s?o[fn][k].projection[s.projection]:null}function F_(o,s){const a=Br+o+1;if(a<s.length){const u=s[a],h=u[y].firstChild;if(null!==h)return Ep(u,h)}return s[Ho]}function fE(o,s,a,u,h,p,g){for(;null!=a;){if(128===a.type){a=a.next;continue}const E=u[a.index],T=a.type;if(g&&0===s&&(E&&Go(ar(E),u),a.flags|=2),32&~a.flags)if(8&T)fE(o,s,a.child,u,h,p,!1),oh(s,o,h,E,p);else if(32&T){const O=iE(a,u);let F;for(;F=O();)oh(s,o,h,F,p);oh(s,o,h,E,p)}else 16&T?vA(o,s,u,a,h,p):oh(s,o,h,E,p);a=g?a.projectionNext:a.next}}function pE(o,s,a,u,h,p){fE(a,u,o.firstChild,s,h,p,!1)}function vA(o,s,a,u,h,p){const g=a[fn],T=g[k].projection[u.projection];if(Array.isArray(T))for(let O=0;O<T.length;O++)oh(s,o,h,T[O],p);else{let O=T;const F=g[D];f_(u)&&(O.flags|=128),fE(o,s,O,F,h,p,!0)}}function b1(o,s,a){""===a?o.removeAttribute(s,"class"):o.setAttribute(s,"class",a)}function ah(o,s,a){const{mergedAttrs:u,classes:h,styles:p}=a;null!==u&&di(o,s,u),null!==h&&b1(o,s,h),null!==p&&function fc(o,s,a){o.setAttribute(s,"style",a)}(o,s,p)}const xn={};function E1(o=1){w1(zn(),yt(),ro()+o,!1)}function w1(o,s,a,u){if(!u)if(3&~s[b]){const p=o.preOrderHooks;null!==p&&e_(s,p,0,a)}else{const p=o.preOrderCheckHooks;null!==p&&Dl(s,p,a)}ac(a)}function ch(o,s=vt.Default){const a=yt();return null===a?po(o,s):mT(Sr(),a,yn(o),s)}function yA(){throw new Error("invalid")}function bA(o,s,a,u,h,p){const g=l(null);try{let E=null;h&vl.SignalBased&&(E=s[u][M]),null!==E&&void 0!==E.transformFn&&(p=E.transformFn(p)),h&vl.HasDecoratorInputTransform&&(p=o.inputTransforms[u].call(s,p)),null!==o.setInput?o.setInput(s,E,p,a,u):WD(s,E,u,p)}finally{l(g)}}function V_(o,s,a,u,h,p,g,E,T,O,F){const W=s.blueprint.slice();return W[xr]=h,W[b]=204|u,(null!==O||o&&2048&o[b])&&(W[b]|=2048),Zf(W),W[D]=W[Zt]=o,W[re]=a,W[ct]=g||o&&o[ct],W[ot]=E||o&&o[ot],W[Ee]=T||o&&o[Ee]||null,W[k]=p,W[Er]=function D$(){return hk++}(),W[j]=F,W[To]=O,W[fn]=2==s.type?o[fn]:W,W}function Pu(o,s,a,u,h){let p=o.data[s];if(null===p)p=function mE(o,s,a,u,h){const p=nT(),g=u0(),T=o.data[s]=function B_(o,s,a,u,h,p){let g=s?s.injectorIndex:-1,E=0;return Il()&&(E|=128),{type:a,index:u,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?p:p&&p.parent,a,s,u,h);return null===o.firstChild&&(o.firstChild=T),null!==p&&(g?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T,T.prev=p)),T}(o,s,a,u,h),function Yg(){return Tn.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=u,p.attrs=h;const g=function Jf(){const o=Tn.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();p.injectorIndex=null===g?-1:g.injectorIndex}return bi(p,!0),p}function wp(o,s,a,u){if(0===a)return-1;const h=s.length;for(let p=0;p<a;p++)s.push(u),o.blueprint.push(u),o.data.push(null);return h}function gE(o,s,a,u,h){const p=ro(),g=2&u;try{ac(-1),g&&s.length>ln&&w1(o,s,ln,!1),ic(g?2:0,h),a(u,h)}finally{ac(p),ic(g?3:1,h)}}function EA(o,s,a){if(wr(s)){const u=l(null);try{const p=s.directiveEnd;for(let g=s.directiveStart;g<p;g++){const E=o.data[g];E.contentQueries&&E.contentQueries(1,a[g],g)}}finally{l(u)}}}function wA(o,s,a){eT()&&(function MH(o,s,a,u){const h=a.directiveStart,p=a.directiveEnd;Oa(a)&&function TA(o,s,a){const u=Hi(s,o),h=IA(a);let g=16;a.signals?g=4096:a.onPush&&(g=64);const E=ku(o,V_(o,h,null,g,u,s,null,o[ct].rendererFactory.createRenderer(u,a),null,null,null));o[s.index]=E}(s,a,o.data[h+a.componentOffset]),o.firstCreatePass||o_(a,s),Go(u,s);const g=a.initialInputs;for(let E=h;E<p;E++){const T=o.data[E],O=lc(s,o,E,a);Go(O,s),null!==g&&R1(0,E-h,O,T,0,g),mo(T)&&(as(a.index,s)[re]=lc(s,o,E,a))}}(o,s,a,Hi(a,s)),!(64&~a.flags)&&x1(o,s,a))}function _E(o,s,a=Hi){const u=s.localNames;if(null!==u){let h=s.index+1;for(let p=0;p<u.length;p+=2){const g=u[p+1],E=-1===g?a(s,o):o[g];o[h++]=E}}}function IA(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Or(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):s}function Or(o,s,a,u,h,p,g,E,T,O,F){const W=ln+u,de=W+h,$=function bH(o,s){const a=[];for(let u=0;u<s;u++)a.push(u<o?null:xn);return a}(W,de),Qe="function"==typeof O?O():O;return $[y]={type:o,blueprint:$,template:a,queries:null,viewQuery:E,declTNode:s,data:$.slice().fill(null,W),bindingStartIndex:W,expandoStartIndex:de,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:T,consts:Qe,incompleteFirstPass:!1,ssrId:F}}let C1=()=>null;function D1(o,s,a,u,h){for(let p in s){if(!s.hasOwnProperty(p))continue;const g=s[p];if(void 0===g)continue;u??={};let E,T=vl.None;Array.isArray(g)?(E=g[0],T=g[1]):E=g;let O=p;if(null!==h){if(!h.hasOwnProperty(p))continue;O=h[p]}0===o?T1(u,a,O,E,T):T1(u,a,O,E)}return u}function T1(o,s,a,u,h){let p;o.hasOwnProperty(a)?(p=o[a]).push(s,u):p=o[a]=[s,u],void 0!==h&&p.push(h)}function us(o,s,a,u,h,p,g,E){const T=Hi(s,a);let F,O=s.inputs;!E&&null!=O&&(F=O[u])?(H_(o,a,F,u,h),Oa(s)&&function S1(o,s){const a=as(s,o);16&a[b]||(a[b]|=64)}(a,s.index)):3&s.type&&(u=function A1(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=g?g(h,s.value||"",u):h,p.setProperty(T,u,h))}function vE(o,s,a,u){if(eT()){const h=null===u?null:{"":-1},p=function RH(o,s){const a=o.directiveRegistry;let u=null,h=null;if(a)for(let p=0;p<a.length;p++){const g=a[p];if(Ub(s,g.selectors,!1))if(u||(u=[]),mo(g))if(null!==g.findHostDirectiveDefs){const E=[];h=h||new Map,g.findHostDirectiveDefs(g,E,h),u.unshift(...E,g),DA(o,s,E.length)}else u.unshift(g),DA(o,s,0);else h=h||new Map,g.findHostDirectiveDefs?.(g,u,h),u.push(g)}return null===u?null:[u,h]}(o,a);let g,E;null===p?g=E=null:[g,E]=p,null!==g&&CA(o,s,a,g,h,E),h&&function Ip(o,s,a){if(s){const u=o.localNames=[];for(let h=0;h<s.length;h+=2){const p=a[s[h+1]];if(null==p)throw new qt(-301,!1);u.push(s[h],p)}}}(a,u,h)}a.mergedAttrs=Bn(a.mergedAttrs,a.attrs)}function CA(o,s,a,u,h,p){for(let O=0;O<u.length;O++)C0(o_(a,s),o,u[O].type);!function la(o,s,a){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+a,o.providerIndexes=s}(a,o.data.length,u.length);for(let O=0;O<u.length;O++){const F=u[O];F.providersResolver&&F.providersResolver(F)}let g=!1,E=!1,T=wp(o,s,u.length,null);for(let O=0;O<u.length;O++){const F=u[O];a.mergedAttrs=Bn(a.mergedAttrs,F.hostAttrs),M1(o,a,s,T,F),OH(T,F,h),null!==F.contentQueries&&(a.flags|=4),(null!==F.hostBindings||null!==F.hostAttrs||0!==F.hostVars)&&(a.flags|=64);const W=F.type.prototype;!g&&(W.ngOnChanges||W.ngOnInit||W.ngDoCheck)&&((o.preOrderHooks??=[]).push(a.index),g=!0),!E&&(W.ngOnChanges||W.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(a.index),E=!0),T++}!function TH(o,s,a){const h=s.directiveEnd,p=o.data,g=s.attrs,E=[];let T=null,O=null;for(let F=s.directiveStart;F<h;F++){const W=p[F],de=a?a.get(W):null,Qe=de?de.outputs:null;T=D1(0,W.inputs,F,T,de?de.inputs:null),O=D1(1,W.outputs,F,O,Qe);const mt=null===T||null===g||Vf(s)?null:AA(T,F,g);E.push(mt)}null!==T&&(T.hasOwnProperty("class")&&(s.flags|=8),T.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=T,s.outputs=O}(o,a,p)}function x1(o,s,a){const u=a.directiveStart,h=a.directiveEnd,p=a.index,g=function h0(){return Tn.lFrame.currentDirectiveIndex}();try{ac(p);for(let E=u;E<h;E++){const T=o.data[E],O=s[E];Zg(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&U_(T,O)}}finally{ac(-1),Zg(g)}}function U_(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function DA(o,s,a){s.componentOffset=a,(o.components??=[]).push(s.index)}function OH(o,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=o;mo(s)&&(a[""]=o)}}function M1(o,s,a,u,h){o.data[u]=h;const p=h.factory||(h.factory=yu(h.type)),g=new ip(p,mo(h),ch);o.blueprint[u]=g,a[u]=g,function SH(o,s,a,u,h){const p=h.hostBindings;if(p){let g=o.hostBindingOpCodes;null===g&&(g=o.hostBindingOpCodes=[]);const E=~s.index;(function xH(o){let s=o.length;for(;s>0;){const a=o[--s];if("number"==typeof a&&a<0)return a}return 0})(g)!=E&&g.push(E),g.push(a,u,p)}}(o,s,u,wp(o,a,h.hostVars,xn),h)}function pc(o,s,a,u,h,p){const g=Hi(o,s);!function j_(o,s,a,u,h,p,g){if(null==p)o.removeAttribute(s,h,a);else{const E=null==g?qe(p):g(p,u||"",h);o.setAttribute(s,h,E,a)}}(s[ot],g,p,o.value,a,u,h)}function R1(o,s,a,u,h,p){const g=p[s];if(null!==g)for(let E=0;E<g.length;)bA(u,a,g[E++],g[E++],g[E++],g[E++])}function AA(o,s,a){let u=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(o.hasOwnProperty(p)){null===u&&(u=[]);const g=o[p];for(let E=0;E<g.length;E+=3)if(g[E]===s){u.push(p,g[E+1],g[E+2],a[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function yE(o,s,a,u){return[o,!0,0,s,null,u,null,a,null,null]}function bE(o,s){const a=o.contentQueries;if(null!==a){const u=l(null);try{for(let h=0;h<a.length;h+=2){const g=a[h+1];if(-1!==g){const E=o.data[g];rp(a[h]),E.contentQueries(2,s[g],g)}}}finally{l(u)}}}function ku(o,s){return o[Dt]?o[At][I]=s:o[Dt]=s,o[At]=s,s}function EE(o,s,a){rp(0);const u=l(null);try{s(o,a)}finally{l(u)}}function Cp(o){return o[ne]??=[]}function Dp(o){return o.cleanup??=[]}function $_(o,s){const a=o[Ee],u=a?a.get(sa,null):null;u&&u.handleError(s)}function H_(o,s,a,u,h){for(let p=0;p<a.length;){const g=a[p++],E=a[p++],T=a[p++];bA(o.data[g],s[g],u,E,T,h)}}function Pl(o,s,a){const u=Vd(s,o);!function sE(o,s,a){o.setValue(s,a)}(o[ot],u,a)}function xA(o,s){const a=as(s,o),u=a[y];!function PH(o,s){for(let a=s.length;a<o.blueprint.length;a++)s.push(o.blueprint[a])}(u,a);const h=a[xr];null!==h&&null===a[j]&&(a[j]=zT(h,a[Ee])),IE(u,a,a[re])}function IE(o,s,a){Ud(s);try{const u=o.viewQuery;null!==u&&EE(1,u,a);const h=o.template;null!==h&&gE(o,s,h,1,a),o.firstCreatePass&&(o.firstCreatePass=!1),s[_r]?.finishViewCreation(o),o.staticContentQueries&&bE(o,s),o.staticViewQueries&&EE(2,o.viewQuery,a);const p=o.components;null!==p&&function O1(o,s){for(let a=0;a<s.length;a++)xA(o,s[a])}(s,p)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[b]&=-5,m0()}}function kl(o,s,a,u){const h=l(null);try{const p=s.tView,T=V_(o,p,a,4096&o[b]?4096:16,null,s,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);T[Sn]=o[s.index];const F=o[_r];return null!==F&&(T[_r]=F.createEmbeddedView(p)),IE(p,T,a),T}finally{l(h)}}function MA(o,s){const a=Br+s;if(a<o.length)return o[a]}function Nu(o,s){return!s||null===s.firstChild||f_(o)}function Fu(o,s,a,u=!0){const h=s[y];if(function vH(o,s,a,u){const h=Br+u,p=a.length;u>0&&(a[h-1][I]=s),u<p-Br?(s[I]=a[h],Nb(a,Br+u,s)):(a.push(s),s[I]=null),s[D]=a;const g=s[Sn];null!==g&&a!==g&&f1(g,s);const E=s[_r];null!==E&&E.insertView(o),Uc(s),s[b]|=128}(h,s,o,a),u){const g=F_(a,o),E=s[ot],T=N_(E,o[Ho]);null!==T&&function h1(o,s,a,u,h,p){u[xr]=h,u[k]=s,pE(o,u,a,1,h,p)}(h,o[k],E,s,T,g)}const p=s[j];null!==p&&null!==p.firstChild&&(p.firstChild=null)}function z_(o,s){const a=k_(o,s);return void 0!==a&&cE(a[y],a),a}function lh(o,s,a,u,h=!1){for(;null!==a;){if(128===a.type){a=h?a.projectionNext:a.next;continue}const p=s[a.index];null!==p&&u.push(ar(p)),Mr(p)&&G_(p,u);const g=a.type;if(8&g)lh(o,s,a.child,u);else if(32&g){const E=iE(a,s);let T;for(;T=E();)u.push(T)}else if(16&g){const E=Ol(s,a);if(Array.isArray(E))u.push(...E);else{const T=$c(s[fn]);lh(T[y],T,E,u,!0)}}a=h?a.projectionNext:a.next}return u}function G_(o,s){for(let a=Br;a<o.length;a++){const u=o[a],h=u[y].firstChild;null!==h&&lh(u[y],u,h,s)}o[Ho]!==o[xr]&&s.push(o[Ho])}let W_=[];const P1={...Ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{jc(o.lView)},consumerOnSignalRead(){this.lView[ii]=this}},N1={...Ue,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{let s=$c(o.lView);for(;s&&!PA(s[y]);)s=$c(s);s&&oc(s)},consumerOnSignalRead(){this.lView[ii]=this}};function PA(o){return 2!==o.type}const F1=100;function CE(o,s=!0,a=0){const u=o[ct],h=u.rendererFactory;h.begin?.();try{!function L1(o,s){const a=Qg();try{oa(!0),AE(o,s);let u=0;for(;wl(o);){if(u===F1)throw new qt(103,!1);u++,AE(o,1)}}finally{oa(a)}}(o,a)}catch(g){throw s&&$_(o,g),g}finally{h.end?.(),u.inlineEffectRunner?.flush()}}function V1(o,s,a,u){const h=s[b];if(!(256&~h))return;s[ct].inlineEffectRunner?.flush(),Ud(s);let E=!0,T=null,O=null;PA(o)?(O=function RA(o){return o[ii]??function K_(o){const s=W_.pop()??Object.create(P1);return s.lView=o,s}(o)}(s),T=Pe(O)):null===function De(){return ie}()?(E=!1,O=function k1(o){const s=o[ii]??Object.create(N1);return s.lView=o,s}(s),T=Pe(O)):s[ii]&&(xe(s[ii]),s[ii]=null);try{Zf(s),function d0(o){return Tn.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==a&&gE(o,s,a,2,u);const F=!(3&~h);if(F){const $=o.preOrderCheckHooks;null!==$&&Dl(s,$,null)}else{const $=o.preOrderHooks;null!==$&&e_(s,$,0,null),v0(s,0)}if(function TE(o){for(let s=V0(o);null!==s;s=LT(s)){if(!(s[b]&Vc.HasTransplantedViews))continue;const a=s[rc];for(let u=0;u<a.length;u++)oc(a[u])}}(s),q_(s,0),null!==o.contentQueries&&bE(o,s),F){const $=o.contentCheckHooks;null!==$&&Dl(s,$)}else{const $=o.contentHooks;null!==$&&e_(s,$,1),v0(s,1)}!function I1(o,s){const a=o.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)ac(~h);else{const p=h,g=a[++u],E=a[++u];iT(g,p),E(2,s[p])}}}finally{ac(-1)}}(o,s);const W=o.components;null!==W&&kA(s,W,0);const de=o.viewQuery;if(null!==de&&EE(2,de,u),F){const $=o.viewCheckHooks;null!==$&&Dl(s,$)}else{const $=o.viewHooks;null!==$&&e_(s,$,2),v0(s,2)}if(!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),s[no]){for(const $ of s[no])$();s[no]=null}s[b]&=-73}catch(F){throw jc(s),F}finally{null!==O&&(_e(O,T),E&&function OA(o){o.lView[ii]!==o&&(o.lView=null,W_.push(o))}(O)),m0()}}function q_(o,s){for(let a=V0(o);null!==a;a=LT(a))for(let u=Br;u<a.length;u++)B1(a[u],s)}function Qc(o,s,a){B1(as(s,o),a)}function B1(o,s){Tu(o)&&AE(o,s)}function AE(o,s){const u=o[y],h=o[b],p=o[ii];let g=!!(0===s&&16&h);if(g||=!!(64&h&&0===s),g||=!!(1024&h),g||=!(!p?.dirty||!Fe(p)),g||=!1,p&&(p.dirty=!1),o[b]&=-9217,g)V1(u,o,u.template,o[re]);else if(8192&h){q_(o,1);const E=u.components;null!==E&&kA(o,E,1)}}function kA(o,s,a){for(let u=0;u<s.length;u++)Qc(o,s[u],a)}function Tp(o,s){const a=Qg()?64:1088;for(o[ct].changeDetectionScheduler?.notify(s);o;){o[b]|=a;const u=$c(o);if(Kf(o)&&!u)return o;o=u}return null}class Ap{get rootNodes(){const s=this._lView,a=s[y];return lh(a,s,a.firstChild,[])}constructor(s,a,u=!0){this._lView=s,this._cdRefInjectingView=a,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[re]}set context(s){this._lView[re]=s}get destroyed(){return!(256&~this._lView[b])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[D];if(Mr(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(k_(s,u),Cg(a,u))}this._attachedToViewContainer=!1}cE(this._lView[y],this._lView)}onDestroy(s){Bd(this._lView,s)}markForCheck(){Tp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[b]&=-129}reattach(){Uc(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,CE(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new qt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const s=Kf(this._lView),a=this._lView[Sn];null!==a&&!s&&fA(a,this._lView),aE(this._lView[y],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new qt(902,!1);this._appRef=s;const a=Kf(this._lView),u=this._lView[Sn];null!==u&&!a&&f1(u,this._lView),Uc(this._lView)}}let uh=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=kH}return o})();const X_=uh,Nl=class extends X_{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,u){const h=kl(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:a,dehydratedView:u});return new Ap(h)}};function kH(){return Q_(Sr(),yt())}function Q_(o,s){return 4&o.type?new Nl(s,o,Qd(o,s)):null}let JA=()=>null;function Lu(o,s){return JA(o,s)}class Bl{}const mh=new Dn("",{providedIn:"root",factory:()=>!1}),Lp=new Dn("");class mN{}class gN{}class _N{resolveComponentFactory(s){throw function iv(o){const s=Error(`No component factory found for ${zr(o)}.`);return s.ngComponent=o,s}(s)}}class Vp{static#e=this.NULL=new _N}class VE{}let tS=(()=>{class o{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function vN(){const o=yt(),a=as(Sr().index,o);return(Cr(a)?a:o)[ot]}()}return o})(),yN=(()=>{class o{static#e=this.\u0275prov=Wn({token:o,providedIn:"root",factory:()=>null})}return o})();const Ul=new Set;function go(o){Ul.has(o)||(Ul.add(o),performance?.mark?.("mark_feature_usage",{detail:{feature:o}}))}function Bp(o){let s=!0;return setTimeout(()=>{s&&(s=!1,o())}),"function"==typeof Dr.requestAnimationFrame&&Dr.requestAnimationFrame(()=>{s&&(s=!1,o())}),()=>{s=!1}}function Up(o){let s=!0;return queueMicrotask(()=>{s&&o()}),()=>{s=!1}}function nS(...o){}class Ur{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uc(!1),this.onMicrotaskEmpty=new uc(!1),this.onStable=new uc(!1),this.onError=new uc(!1),typeof Zone>"u")throw new qt(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.callbackScheduled=!1,function wN(o){const s=()=>{!function EN(o){o.isCheckStableRunning||o.callbackScheduled||(o.callbackScheduled=!0,Zone.root.run(()=>{Bp(()=>{o.callbackScheduled=!1,rS(o),o.isCheckStableRunning=!0,BE(o),o.isCheckStableRunning=!1})}),rS(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,p,g,E)=>{if(function ov(o){return oS(o,"__ignore_ng_zone__")}(E))return a.invokeTask(h,p,g,E);try{return iS(o),a.invokeTask(h,p,g,E)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&s(),IN(o)}},onInvoke:(a,u,h,p,g,E,T)=>{try{return iS(o),a.invoke(h,p,g,E,T)}finally{o.shouldCoalesceRunChangeDetection&&!o.callbackScheduled&&!function YH(o){return oS(o,"__scheduler_tick__")}(E)&&s(),IN(o)}},onHasTask:(a,u,h,p)=>{a.hasTask(h,p),u===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,rS(o),BE(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,u,h,p)=>(a.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ur.isInAngularZone())throw new qt(909,!1)}static assertNotInAngularZone(){if(Ur.isInAngularZone())throw new qt(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,h){const p=this._inner,g=p.scheduleEventTask("NgZoneEvent: "+h,s,QH,nS,nS);try{return p.runTask(g,a,u)}finally{p.cancelTask(g)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const QH={};function BE(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function rS(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&!0===o.callbackScheduled)}function iS(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function IN(o){o._nesting--,BE(o)}class UE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uc,this.onMicrotaskEmpty=new uc,this.onStable=new uc,this.onError=new uc}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,h){return s.apply(a,u)}}function oS(o,s){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0]?.data?.[s]}var Wo=function(o){return o[o.EarlyRead=0]="EarlyRead",o[o.Write=1]="Write",o[o.MixedReadWrite=2]="MixedReadWrite",o[o.Read=3]="Read",o}(Wo||{});const jE={destroy(){}};function jp(o,s){!s&&Gf();const a=s?.injector??on(Pi);return Rs(a)?(go("NgAfterRender"),$E(o,a,!1,s?.phase??Wo.MixedReadWrite)):jE}function vh(o,s){!s&&Gf();const a=s?.injector??on(Pi);return Rs(a)?(go("NgAfterNextRender"),$E(o,a,!0,s?.phase??Wo.MixedReadWrite)):jE}function $E(o,s,a,u){const h=function ZH(o,s){if(o instanceof Function)switch(s){case Wo.EarlyRead:return{earlyRead:o};case Wo.Write:return{write:o};case Wo.MixedReadWrite:return{mixedReadWrite:o};case Wo.Read:return{read:o}}return o}(o,u),p=s.get(HE),g=p.handler??=new DN,E=[],T=[],O=()=>{for(const $ of T)g.unregister($);F()},F=s.get(up).onDestroy(O);let W=0;const de=($,Qe)=>{if(!Qe)return;const mt=a?(...jt)=>{W--,W<1&&O(),Qe(...jt)}:Qe,Pt=Vg(s,()=>new JH($,E,mt));g.register(Pt),T.push(Pt),W++};return de(Wo.EarlyRead,h.earlyRead),de(Wo.Write,h.write),de(Wo.MixedReadWrite,h.mixedReadWrite),de(Wo.Read,h.read),{destroy:O}}class JH{constructor(s,a,u){this.phase=s,this.pipelinedArgs=a,this.callbackFn=u,this.zone=on(Ur),this.errorHandler=on(sa,{optional:!0}),on(Bl,{optional:!0})?.notify(6)}invoke(){try{const s=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,s)}catch(s){this.errorHandler?.handleError(s)}}}class DN{constructor(){this.executingCallbacks=!1,this.buckets={[Wo.EarlyRead]:new Set,[Wo.Write]:new Set,[Wo.MixedReadWrite]:new Set,[Wo.Read]:new Set},this.deferredCallbacks=new Set}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const a of s)a.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let HE=(()=>{class o{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of a)u()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=Wn({token:o,providedIn:"root",factory:()=>new o})}return o})();function Ei(o){return!!$i(o)}function lv(o,s,a){let u=a?o.styles:null,h=a?o.classes:null,p=0;if(null!==s)for(let g=0;g<s.length;g++){const E=s[g];"number"==typeof E?p=E:1==p?h=pl(h,E):2==p&&(u=pl(u,E+": "+s[++g]+";"))}a?o.styles=u:o.stylesWithoutHost=u,a?o.classes=h:o.classesWithoutHost=h}class uv extends Vp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Ln(s);return new yh(a,this.ngModule)}}function AN(o,s){const a=[];for(const u in o){if(!o.hasOwnProperty(u))continue;const h=o[u];if(void 0===h)continue;const p=Array.isArray(h),g=p?h[0]:h;a.push(s?{propName:g,templateName:u,isSignal:!!((p?h[1]:vl.None)&vl.SignalBased)}:{propName:g,templateName:u})}return a}class yh extends gN{get inputs(){const s=this.componentDef,a=s.inputTransforms,u=AN(s.inputs,!0);if(null!==a)for(const h of u)a.hasOwnProperty(h.propName)&&(h.transform=a[h.propName]);return u}get outputs(){return AN(this.componentDef.outputs,!1)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function Tr(o){return o.map(Ag).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,u,h){const p=l(null);try{let g=(h=h||this.ngModule)instanceof xs?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const E=g?new Su(s,g):s,T=E.get(VE,null);if(null===T)throw new qt(407,!1);const O=E.get(yN,null),de={rendererFactory:T,sanitizer:O,inlineEffectRunner:null,afterRenderEventManager:E.get(HE,null),changeDetectionScheduler:E.get(Bl,null)},$=T.createRenderer(null,this.componentDef),Qe=this.componentDef.selectors[0][0]||"div",mt=u?function EH(o,s,a,u){const p=u.get(Bk,!1)||a===ra.ShadowDom,g=o.selectRootElement(s,p);return function wH(o){C1(o)}(g),g}($,u,this.componentDef.encapsulation,E):P_($,Qe,function SN(o){const s=o.toLowerCase();return"svg"===s?Yf:"math"===s?"math":null}(Qe));let Pt=512;this.componentDef.signals?Pt|=4096:this.componentDef.onPush||(Pt|=16);let jt=null;null!==mt&&(jt=zT(mt,E,!0));const Et=Or(0,null,null,1,0,null,null,null,null,null,null),gn=V_(null,Et,null,Pt,null,null,de,$,E,null,jt);let tr,nr;Ud(gn);try{const Fi=this.componentDef;let Mo,lf=null;Fi.findHostDirectiveDefs?(Mo=[],lf=new Map,Fi.findHostDirectiveDefs(Fi,Mo,lf),Mo.push(Fi)):Mo=[Fi];const AR=function MN(o,s){const a=o[y],u=ln;return o[u]=s,Pu(a,u,2,"#host",null)}(gn,mt),ks=function lS(o,s,a,u,h,p,g){const E=h[y];!function zE(o,s,a,u){for(const h of o)s.mergedAttrs=Bn(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(lv(s,s.mergedAttrs,!0),null!==a&&ah(u,a,s))}(u,o,s,g);let T=null;null!==s&&(T=zT(s,h[Ee]));const O=p.rendererFactory.createRenderer(s,a);let F=16;a.signals?F=4096:a.onPush&&(F=64);const W=V_(h,IA(a),null,F,h[o.index],o,p,O,null,null,T);return E.firstCreatePass&&DA(E,o,u.length-1),ku(h,W),h[o.index]=W}(AR,mt,Fi,Mo,gn,de,$);nr=Cu(Et,ln),mt&&function n4(o,s,a,u){if(u)di(o,a,["ng-version","18.1.1"]);else{const{attrs:h,classes:p}=function Ad(o){const s=[],a=[];let u=1,h=2;for(;u<o.length;){let p=o[u];if("string"==typeof p)2===h?""!==p&&s.push(p,o[++u]):8===h&&a.push(p);else{if(!gr(h))break;h=p}u++}return{attrs:s,classes:a}}(s.selectors[0]);h&&di(o,a,h),p&&p.length>0&&b1(o,a,p.join(" "))}}($,Fi,mt,u),void 0!==a&&function r4(o,s,a){const u=o.projection=[];for(let h=0;h<s.length;h++){const p=a[h];u.push(null!=p?Array.from(p):null)}}(nr,this.ngContentSelectors,a),tr=function t4(o,s,a,u,h,p){const g=Sr(),E=h[y],T=Hi(g,h);CA(E,h,g,a,null,u);for(let F=0;F<a.length;F++)Go(lc(h,E,g.directiveStart+F,g),h);x1(E,h,g),T&&Go(T,h);const O=lc(h,E,g.directiveStart+g.componentOffset,g);if(o[re]=h[re]=O,null!==p)for(const F of p)F(O,s);return EA(E,g,h),O}(ks,Fi,Mo,lf,gn,[i4]),IE(Et,gn,null)}finally{m0()}return new xN(this.componentType,tr,Qd(nr,gn),gn,nr)}finally{l(p)}}}class xN extends mN{constructor(s,a,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new Ap(h,void 0,!1),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const p=this._rootLView;H_(p[y],p,h,s,a),this.previousInputValues.set(s,a),Tp(as(this._tNode.index,p),1)}}get injector(){return new zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function i4(){const o=Sr();Hc(yt()[y],o)}let GE=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=o4}return o})();function o4(){return hv(Sr(),yt())}const WE=GE,dv=class extends WE{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Qd(this._hostTNode,this._hostLView)}get injector(){return new zi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Gd(this._hostTNode,this._hostLView);if(E0(s)){const a=ap(s,this._hostLView),u=sp(s);return new zi(a[y].data[u+8],a)}return new zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=$p(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-Br}createEmbeddedView(s,a,u){let h,p;"number"==typeof u?h=u:null!=u&&(h=u.index,p=u.injector);const g=Lu(this._lContainer,s.ssrId),E=s.createEmbeddedViewImpl(a||{},p,g);return this.insertImpl(E,h,Nu(this._hostTNode,g)),E}createComponent(s,a,u,h,p){const g=s&&!function El(o){return"function"==typeof o}(s);let E;if(g)E=a;else{const Qe=a||{};E=Qe.index,u=Qe.injector,h=Qe.projectableNodes,p=Qe.environmentInjector||Qe.ngModuleRef}const T=g?s:new yh(Ln(s)),O=u||this.parentInjector;if(!p&&null==T.ngModule){const mt=(g?O:this.parentInjector).get(xs,null);mt&&(p=mt)}const F=Ln(T.componentType??{}),W=Lu(this._lContainer,F?.id??null),$=T.create(O,h,W?.firstChild??null,p);return this.insertImpl($.hostView,E,Nu(this._hostTNode,W)),$}insert(s,a){return this.insertImpl(s,a,!0)}insertImpl(s,a,u){const h=s._lView;if(function Jn(o){return Mr(o[D])}(h)){const E=this.indexOf(s);if(-1!==E)this.detach(E);else{const T=h[D],O=new dv(T,T[k],T[D]);O.detach(O.indexOf(s))}}const p=this._adjustIndex(a),g=this._lContainer;return Fu(g,h,p,u),s.attachToViewContainerRef(),Nb(KE(g),p,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=$p(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=k_(this._lContainer,a);u&&(Cg(KE(this._lContainer),a),cE(u[y],u))}detach(s){const a=this._adjustIndex(s,-1),u=k_(this._lContainer,a);return u&&null!=Cg(KE(this._lContainer),a)?new Ap(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function $p(o){return o[8]}function KE(o){return o[8]||(o[8]=[])}function hv(o,s){let a;const u=s[o.index];return Mr(u)?a=u:(a=yE(u,s,null,o),s[o.index]=a,ku(s,a)),uS(a,s,o,u),new dv(a,o,s)}let uS=function ON(o,s,a,u){if(o[Ho])return;let h;h=8&a.type?ar(u):function s4(o,s){const a=o[ot],u=a.createComment(""),h=Hi(s,o);return Rl(a,N_(a,h),u,function m1(o,s){return o.nextSibling(s)}(a,h),!1),u}(s,a),o[Ho]=h},dS=()=>!1;class hS{constructor(s){this.queryList=s,this.matches=null}clone(){return new hS(this.queryList)}setDirty(){this.queryList.setDirty()}}class wn{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let p=0;p<u;p++){const g=a.getByIndex(p);h.push(this.queries[g.indexInDeclarationView].clone())}return new wn(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==ES(s,a).matches&&this.queries[a].setDirty()}}class fS{constructor(s,a,u=null){this.flags=a,this.read=u,this.predicate="string"==typeof s?function c4(o){return o.split(",").map(s=>s.trim())}(s):s}}class XE{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,p=this.getByIndex(u).embeddedTView(s,h);p&&(p.indexInDeclarationView=u,null!==a?a.push(p):a=[p])}return null!==a?new XE(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class QE{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new QE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(s,a,kN(a,p)),this.matchTNodeWithReadOption(s,a,s_(a,s,p,!1,!1))}else u===uh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,s_(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===So||h===GE||h===uh&&4&a.type)this.addMatch(a.index,-2);else{const p=s_(a,s,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function kN(o,s){const a=o.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function pS(o,s,a,u){return-1===a?function bh(o,s){return 11&o.type?Qd(o,s):4&o.type?Q_(o,s):null}(s,o):-2===a?function NN(o,s,a){return a===So?Qd(s,o):a===uh?Q_(s,o):a===GE?hv(s,o):void 0}(o,s,u):lc(o,o[y],a,s)}function mS(o,s,a,u){const h=s[_r].queries[u];if(null===h.matches){const p=o.data,g=a.matches,E=[];for(let T=0;null!==g&&T<g.length;T+=2){const O=g[T];E.push(O<0?null:pS(s,p[O],g[T+1],a.metadata.read))}h.matches=E}return h.matches}function YE(o,s,a,u){const h=o.queries.getByIndex(a),p=h.matches;if(null!==p){const g=mS(o,s,h,a);for(let E=0;E<p.length;E+=2){const T=p[E];if(T>0)u.push(g[E/2]);else{const O=p[E+1],F=s[-T];for(let W=Br;W<F.length;W++){const de=F[W];de[Sn]===de[D]&&YE(de[y],de,O,u)}if(null!==F[rc]){const W=F[rc];for(let de=0;de<W.length;de++){const $=W[de];YE($[y],$,O,u)}}}}}return u}function Vu(o,s){return o[_r].queries[s].queryList}function gS(o,s,a){const u=new P0(!(4&~a));return function DH(o,s,a,u){const h=Cp(s);h.push(a),o.firstCreatePass&&Dp(o).push(u,h.length-1)}(o,s,u,u.destroy),(s[_r]??=new wn).queries.push(new hS(u))-1}function vS(o,s,a,u){const h=zn();if(h.firstCreatePass){const p=Sr();yS(h,new fS(s,a,u),p.index),function bS(o,s){const a=o.contentQueries||(o.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(o.queries.length-1,s)}(h,o),!(2&~a)&&(h.staticContentQueries=!0)}return gS(h,yt(),a)}function yS(o,s,a){null===o.queries&&(o.queries=new XE),o.queries.track(new QE(s,a))}function ES(o,s){return o.queries.getByIndex(s)}function FN(o,s){const a=o[y],u=ES(a,s);return u.crossesNgTemplate?YE(a,o,s,[]):mS(a,o,u,s)}function wS(o){return"function"==typeof o&&void 0!==o[M]}function LN(o,s){go("NgSignals");const a=function ae(o){const s=Object.create(J);s.value=o;const a=()=>(Z(s),s.value);return a[M]=s,a}(o),u=a[M];return s?.equal&&(u.equal=s.equal),a.set=h=>U(u,h),a.update=h=>function H(o,s){ze()||hn(),U(o,s(o.value))}(u,h),a.asReadonly=IS.bind(a),a}function IS(){const o=this[M];if(void 0===o.readonlyFn){const s=()=>this();s[M]=o,o.readonlyFn=s}return o.readonlyFn}function JE(o,s){let a;const u=he(()=>{a._dirtyCounter();const h=function l4(o,s){const a=o._lView,u=o._queryIndex;if(void 0===a||void 0===u||4&a[b])return s?void 0:er;const h=Vu(a,u),p=FN(a,u);return h.reset(p,xT),s?h.first:h._changesDetected||void 0===o._flatValue?o._flatValue=h.toArray():o._flatValue}(a,o);if(s&&void 0===h)throw new qt(-951,!1);return h});return a=u[M],a._dirtyCounter=LN(0),a._flatValue=void 0,u}function UN(o,s){return function CS(){return JE(!0,!1)}()}const pv=(UN.required=function u4(o,s){return function fv(){return JE(!0,!0)}()},UN);function _v(o){let s=function KN(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),a=!0;const u=[o];for(;s;){let h;if(mo(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new qt(903,!1);h=s.\u0275dir}if(h){if(a){u.push(h);const g=o;g.inputs=vv(o.inputs),g.inputTransforms=vv(o.inputTransforms),g.declaredInputs=vv(o.declaredInputs),g.outputs=vv(o.outputs);const E=h.hostBindings;E&&xS(o,E);const T=h.viewQuery,O=h.contentQueries;if(T&&Ko(o,T),O&&QN(o,O),qN(o,h),Pf(o.outputs,h.outputs),mo(h)&&h.data.animation){const F=o.data;F.animation=(F.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let g=0;g<p.length;g++){const E=p[g];E&&E.ngInherit&&E(o),E===_v&&(a=!1)}}s=Object.getPrototypeOf(s)}!function XN(o){let s=0,a=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=s+=h.hostVars,h.hostAttrs=Bn(h.hostAttrs,a=Bn(a,h.hostAttrs))}}(u)}function qN(o,s){for(const a in s.inputs){if(!s.inputs.hasOwnProperty(a)||o.inputs.hasOwnProperty(a))continue;const u=s.inputs[a];if(void 0!==u&&(o.inputs[a]=u,o.declaredInputs[a]=s.declaredInputs[a],null!==s.inputTransforms)){const h=Array.isArray(u)?u[0]:u;if(!s.inputTransforms.hasOwnProperty(h))continue;o.inputTransforms??={},o.inputTransforms[h]=s.inputTransforms[h]}}}function vv(o){return o===nc?{}:o===er?[]:o}function Ko(o,s){const a=o.viewQuery;o.viewQuery=a?(u,h)=>{s(u,h),a(u,h)}:s}function QN(o,s){const a=o.contentQueries;o.contentQueries=a?(u,h,p)=>{s(u,h,p),a(u,h,p)}:s}function xS(o,s){const a=o.hostBindings;o.hostBindings=a?(u,h)=>{s(u,h),a(u,h)}:s}function RS(o){const s=a=>{const u=(Array.isArray(o)?o:o()).map(h=>"function"==typeof h?{directive:yn(h),inputs:nc,outputs:nc}:{directive:yn(h.directive),inputs:ZN(h.inputs),outputs:ZN(h.outputs)});null===a.hostDirectives?(a.findHostDirectiveDefs=iw,a.hostDirectives=u):a.hostDirectives.unshift(...u)};return s.ngInherit=!0,s}function iw(o,s,a){if(null!==o.hostDirectives)for(const u of o.hostDirectives){const h=_i(u.directive);JN(h.declaredInputs,u.inputs),iw(h,s,a),a.set(h,u),s.push(h)}}function ZN(o){if(void 0===o||0===o.length)return nc;const s={};for(let a=0;a<o.length;a+=2)s[o[a]]=o[a+1];return s}function JN(o,s){for(const a in s)s.hasOwnProperty(a)&&(o[s[a]]=o[a])}function PS(o){const s=o.inputConfig,a={};for(const u in s)if(s.hasOwnProperty(u)){const h=s[u];Array.isArray(h)&&h[3]&&(a[u]=h[3])}o.inputTransforms=a}class Bu{}class kS{}function ow(o,s){return new NS(o,s??null,[])}class NS extends Bu{constructor(s,a,u){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uv(this);const h=$i(s);this._bootstrapComponents=Ms(h.bootstrap),this._r3Injector=TT(s,a,[{provide:Bu,useValue:this},{provide:Vp,useValue:this.componentFactoryResolver},...u],zr(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class FS extends kS{constructor(s){super(),this.moduleType=s}create(s){return new NS(this.moduleType,s,[])}}class LS extends Bu{constructor(s){super(),this.componentFactoryResolver=new uv(this),this.instance=null;const a=new Iu([...s.providers,{provide:Bu,useValue:this},{provide:Vp,useValue:this.componentFactoryResolver}],s.parent||Hf(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function VS(o,s,a=null){return new LS({providers:o,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}function aw(o){return!!cw(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function cw(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Na(o,s,a){return o[s]=a}function wi(o,s,a){return!Object.is(o[s],a)&&(o[s]=a,!0)}function Gl(o,s,a,u){const h=wi(o,s,a);return wi(o,s+1,u)||h}function qp(o,s,a,u,h,p,g,E,T,O){const F=a+ln,W=s.firstCreatePass?function nF(o,s,a,u,h,p,g,E,T){const O=s.consts,F=Pu(s,o,4,g||null,E||null);vE(s,a,F,yi(O,T)),Hc(s,F);const W=F.tView=Or(2,F,u,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,O,null);return null!==s.queries&&(s.queries.template(s,F),W.queries=s.queries.embeddedTView(F)),F}(F,s,o,u,h,p,g,E,T):s.data[F];bi(W,!1);const de=BS(s,o,W,a);Cl()&&ka(s,o,de,W),Go(de,o);const $=yE(de,o,de,W);return o[F]=$,ku(o,$),function RN(o,s,a){return dS(o,s,a)}($,W,o),jg(W)&&wA(s,o,W),null!=T&&_E(o,W,O),W}function uw(o,s,a,u,h,p,g,E){const T=yt(),O=zn();return qp(T,O,o,s,a,u,h,yi(O.consts,p),g,E),uw}let BS=function US(o,s,a,u){return cc(!0),s[ot].createComment("")};function tx(o,s,a,u){const h=yt();return wi(h,Pa(),s)&&(zn(),pc(Rr(),h,o,s,a,u)),tx}function Uu(o,s,a,u){return wi(o,Pa(),a)?s+qe(a)+u:xn}function vc(o,s,a,u,h,p,g,E){const O=function lw(o,s,a,u,h){const p=Gl(o,s,a,u);return wi(o,s+2,h)||p}(o,sc(),a,h,g);return ls(3),O?s+qe(a)+u+qe(h)+p+qe(g)+E:xn}function bw(o,s){return o<<17|s<<2}function ju(o){return o>>17&32767}function Ew(o){return 2|o}function $u(o){return(131068&o)>>2}function rx(o,s){return-131069&o|s<<2}function ww(o){return 1|o}function ix(o,s,a,u){const h=o[a+1],p=null===s;let g=u?ju(h):$u(h),E=!1;for(;0!==g&&(!1===E||p);){const O=o[g+1];NF(o[g],s)&&(E=!0,o[g+1]=u?ww(O):Ew(O)),g=u?ju(O):$u(O)}E&&(o[a+1]=u?Ew(h):ww(h))}function NF(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Id(o,s)>=0}const Gi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xv(o){return o.substring(Gi.key,Gi.keyEnd)}function sx(o,s){const a=Gi.textEnd;return a===s?-1:(s=Gi.keyEnd=function R4(o,s,a){for(;s<a&&o.charCodeAt(s)>32;)s++;return s}(o,Gi.key=s,a),am(o,s,a))}function am(o,s,a){for(;s<a&&o.charCodeAt(s)<=32;)s++;return s}function Rv(o,s,a){const u=yt();return wi(u,Pa(),s)&&us(zn(),Rr(),u,o,s,u[ot],a,!1),Rv}function cm(o,s,a,u,h){const g=h?"class":"style";H_(o,a,s.inputs[g],g,u)}function Ov(o,s,a){return La(o,s,a,!1),Ov}function lm(o,s){return La(o,s,null,!0),lm}function ux(o){Va(jF,fa,o,!0)}function fa(o,s){for(let a=function ox(o){return function Mv(o){Gi.key=0,Gi.keyEnd=0,Gi.value=0,Gi.valueEnd=0,Gi.textEnd=o.length}(o),sx(o,am(o,0,Gi.textEnd))}(s);a>=0;a=sx(s,a))Ss(o,xv(s),!0)}function La(o,s,a,u){const h=yt(),p=zn(),g=ls(2);p.firstUpdatePass&&Yc(p,o,g,u),s!==xn&&wi(h,g,s)&&kv(p,p.data[ro()],h,h[ot],o,h[g+1]=function $F(o,s){return null==o||""===o||("string"==typeof s?o+=s:"object"==typeof o&&(o=zr(xl(o)))),o}(s,a),u,g)}function Va(o,s,a,u){const h=zn(),p=ls(2);h.firstUpdatePass&&Yc(h,null,p,u);const g=yt();if(a!==xn&&wi(g,p,a)){const E=h.data[ro()];if(px(E,u)&&!dx(h,p)){let T=u?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(a=pl(T,a||"")),cm(h,E,g,a,u)}else!function Pv(o,s,a,u,h,p,g,E){h===xn&&(h=er);let T=0,O=0,F=0<h.length?h[0]:null,W=0<p.length?p[0]:null;for(;null!==F||null!==W;){const de=T<h.length?h[T+1]:void 0,$=O<p.length?p[O+1]:void 0;let mt,Qe=null;F===W?(T+=2,O+=2,de!==$&&(Qe=W,mt=$)):null===W||null!==F&&F<W?(T+=2,Qe=F):(O+=2,Qe=W,mt=$),null!==Qe&&kv(o,s,a,u,Qe,mt,g,E),F=T<h.length?h[T]:null,W=O<p.length?p[O]:null}}(h,E,g,g[ot],g[p+1],g[p+1]=function hx(o,s,a){if(null==a||""===a)return er;const u=[],h=xl(a);if(Array.isArray(h))for(let p=0;p<h.length;p++)o(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&o(u,p,h[p]);else"string"==typeof h&&s(u,h);return u}(o,s,a),u,p)}}function dx(o,s){return s>=o.expandoStartIndex}function Yc(o,s,a,u){const h=o.data;if(null===h[a+1]){const p=h[ro()],g=dx(o,a);px(p,u)&&null===s&&!g&&(s=!1),s=function Cw(o,s,a,u){const h=function tp(o){const s=Tn.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let p=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(a=zu(a=Dw(null,o,s,a,u),s.attrs,u),p=null);else{const g=s.directiveStylingLast;if(-1===g||o[g]!==h)if(a=Dw(h,o,s,a,u),null===p){let T=function BF(o,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==$u(u))return o[ju(u)]}(o,s,u);void 0!==T&&Array.isArray(T)&&(T=Dw(null,o,s,T[1],u),T=zu(T,s.attrs,u),function P4(o,s,a,u){o[ju(a?s.classBindings:s.styleBindings)]=u}(o,s,u,T))}else p=function UF(o,s,a){let u;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)u=zu(u,o[p].hostAttrs,a);return zu(u,s.attrs,a)}(o,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),a}(h,p,s,u),function Hu(o,s,a,u,h,p){let g=p?s.classBindings:s.styleBindings,E=ju(g),T=$u(g);o[u]=a;let F,O=!1;if(Array.isArray(a)?(F=a[1],(null===F||Id(a,F)>0)&&(O=!0)):F=a,h)if(0!==T){const de=ju(o[E+1]);o[u+1]=bw(de,E),0!==de&&(o[de+1]=rx(o[de+1],u)),o[E+1]=function PF(o,s){return 131071&o|s<<17}(o[E+1],u)}else o[u+1]=bw(E,0),0!==E&&(o[E+1]=rx(o[E+1],u)),E=u;else o[u+1]=bw(T,0),0===E?E=u:o[T+1]=rx(o[T+1],u),T=u;O&&(o[u+1]=Ew(o[u+1])),ix(o,F,u,!0),ix(o,F,u,!1),function kF(o,s,a,u,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof s&&Id(p,s)>=0&&(a[u+1]=ww(a[u+1]))}(s,F,o,u,p),g=bw(E,T),p?s.classBindings=g:s.styleBindings=g}(h,p,s,a,g,u)}}function Dw(o,s,a,u,h){let p=null;const g=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<g&&(p=s[E],u=zu(u,p.hostAttrs,h),p!==o);)E++;return null!==o&&(a.directiveStylingLast=E),u}function zu(o,s,a){const u=a?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const g=s[p];"number"==typeof g?h=g:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Ss(o,g,!!a||s[++p]))}return void 0===o?null:o}function jF(o,s,a){const u=String(s);""!==u&&!u.includes(" ")&&Ss(o,u,a)}function kv(o,s,a,u,h,p,g,E){if(!(3&s.type))return;const T=o.data,O=T[E+1],F=function M4(o){return!(1&~o)}(O)?ql(T,s,a,h,$u(O),g):void 0;Nv(F)||(Nv(p)||function OF(o){return!(2&~o)}(O)&&(p=ql(T,null,a,h,E,g)),function y1(o,s,a,u,h){if(s)h?o.addClass(a,u):o.removeClass(a,u);else{let p=-1===u.indexOf("-")?void 0:R_.DashCase;null==h?o.removeStyle(a,u,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=R_.Important),o.setStyle(a,u,h,p))}}(u,g,Vd(ro(),a),h,p))}function ql(o,s,a,u,h,p){const g=null===s;let E;for(;h>0;){const T=o[h],O=Array.isArray(T),F=O?T[1]:T,W=null===F;let de=a[h+1];de===xn&&(de=W?er:void 0);let $=W?Vb(de,u):F===u?de:void 0;if(O&&!Nv($)&&($=Vb(T,u)),Nv($)&&(E=$,g))return E;const Qe=o[h+1];h=g?ju(Qe):$u(Qe)}if(null!==s){let T=p?s.residualClasses:s.residualStyles;null!=T&&(E=Vb(T,u))}return E}function Nv(o){return void 0!==o}function px(o,s){return!!(o.flags&(s?8:16))}function mx(o,s,a){Va(Ss,fa,Uu(yt(),o,s,a),!0)}class ZF{destroy(s){}updateValue(s,a){}swap(s,a){const u=Math.min(s,a),h=Math.max(s,a),p=this.detach(h);if(h-u>1){const g=this.detach(u);this.attach(u,p),this.attach(h,g)}else this.attach(u,p)}move(s,a){this.attach(a,this.detach(s))}}function Tw(o,s,a,u,h){return o===a&&Object.is(s,u)?1:Object.is(h(o,s),h(a,u))?-1:0}function Aw(o,s,a,u){return!(void 0===s||!s.has(u)||(o.attach(a,s.get(u)),s.delete(u),0))}function gx(o,s,a,u,h){if(Aw(o,s,u,a(u,h)))o.updateValue(u,h);else{const p=o.create(u,h);o.attach(u,p)}}function _x(o,s,a,u){const h=new Set;for(let p=s;p<=a;p++)h.add(u(p,o.at(p)));return h}class vx{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const a=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(a)?(this.kvMap.set(s,this._vMap.get(a)),this._vMap.delete(a)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,a){if(this.kvMap.has(s)){let u=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const h=this._vMap;for(;h.has(u);)u=h.get(u);h.set(u,a)}else this.kvMap.set(s,a)}forEach(s){for(let[a,u]of this.kvMap)if(s(u,a),void 0!==this._vMap){const h=this._vMap;for(;h.has(u);)u=h.get(u),s(u,a)}}}function yx(o,s){go("NgControlFlow");const a=yt(),u=Pa(),h=a[u]!==xn?a[u]:-1,p=-1!==h?hm(a,ln+h):void 0;if(wi(a,u,o)){const E=l(null);try{if(void 0!==p&&z_(p,0),-1!==o){const T=ln+o,O=hm(a,T),F=Fh(a[y],T),W=Lu(O,F.tView.ssrId);Fu(O,kl(a,F,s,{dehydratedView:W}),0,Nu(F,W))}}finally{l(E)}}else if(void 0!==p){const E=MA(p,0);void 0!==E&&(E[re]=s)}}class eL{constructor(s,a,u){this.lContainer=s,this.$implicit=a,this.$index=u}get $count(){return this.lContainer.length-Br}}function bx(o){return o}class nL{constructor(s,a,u){this.hasEmptyBlock=s,this.trackByFn=a,this.liveCollection=u}}function um(o,s,a,u,h,p,g,E,T,O,F,W,de){go("NgControlFlow");const $=yt(),Qe=zn(),mt=void 0!==T,Pt=yt(),jt=E?g.bind(Pt[fn][re]):g,Et=new nL(mt,jt);Pt[ln+o]=Et,qp($,Qe,o+1,s,a,u,h,yi(Qe.consts,p)),mt&&qp($,Qe,o+2,T,O,F,W,yi(Qe.consts,de))}class dm extends ZF{constructor(s,a,u){super(),this.lContainer=s,this.hostLView=a,this.templateTNode=u,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Br}at(s){return this.getLView(s)[re].$implicit}attach(s,a){const u=a[j];this.needsIndexUpdate||=s!==this.length,Fu(this.lContainer,a,s,Nu(this.templateTNode,u))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function F4(o,s){return k_(o,s)}(this.lContainer,s)}create(s,a){const u=Lu(this.lContainer,this.templateTNode.tView.ssrId),h=kl(this.hostLView,this.templateTNode,new eL(this.lContainer,a,s),{dehydratedView:u});return this.operationsCounter?.recordCreate(),h}destroy(s){cE(s[y],s),this.operationsCounter?.recordDestroy()}updateValue(s,a){this.getLView(s)[re].$implicit=a}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[re].$index=s}getLView(s){return function Nh(o,s){return MA(o,s)}(this.lContainer,s)}}function kh(o){const s=l(null),a=ro();try{const u=yt(),h=u[y],p=u[a],g=a+1,E=hm(u,g);if(void 0===p.liveCollection){const O=Fh(h,g);p.liveCollection=new dm(E,u,O)}else p.liveCollection.reset();const T=p.liveCollection;if(function JF(o,s,a){let u,h,p=0,g=o.length-1;if(Array.isArray(s)){let T=s.length-1;for(;p<=g&&p<=T;){const O=o.at(p),F=s[p],W=Tw(p,O,p,F,a);if(0!==W){W<0&&o.updateValue(p,F),p++;continue}const de=o.at(g),$=s[T],Qe=Tw(g,de,T,$,a);if(0!==Qe){Qe<0&&o.updateValue(g,$),g--,T--;continue}const mt=a(p,O),Pt=a(g,de),jt=a(p,F);if(Object.is(jt,Pt)){const Et=a(T,$);Object.is(Et,mt)?(o.swap(p,g),o.updateValue(g,$),T--,g--):o.move(g,p),o.updateValue(p,F),p++}else if(u??=new vx,h??=_x(o,p,g,a),Aw(o,u,p,jt))o.updateValue(p,F),p++,g++;else if(h.has(jt))u.set(mt,o.detach(p)),g--;else{const Et=o.create(p,s[p]);o.attach(p,Et),p++,g++}}for(;p<=T;)gx(o,u,a,p,s[p]),p++}else if(null!=s){const T=s[Symbol.iterator]();let O=T.next();for(;!O.done&&p<=g;){const F=o.at(p),W=O.value,de=Tw(p,F,p,W,a);if(0!==de)de<0&&o.updateValue(p,W),p++,O=T.next();else{u??=new vx,h??=_x(o,p,g,a);const $=a(p,W);if(Aw(o,u,p,$))o.updateValue(p,W),p++,g++,O=T.next();else if(h.has($)){const Qe=a(p,F);u.set(Qe,o.detach(p)),g--}else o.attach(p,o.create(p,W)),p++,g++,O=T.next()}}for(;!O.done;)gx(o,u,a,o.length,O.value),O=T.next()}for(;p<=g;)o.destroy(o.detach(g--));u?.forEach(T=>{o.destroy(T)})}(T,o,p.trackByFn),T.updateIndexes(),p.hasEmptyBlock){const O=Pa(),F=0===T.length;if(wi(u,O,F)){const W=a+2,de=hm(u,W);if(F){const $=Fh(h,W),Qe=Lu(de,$.tView.ssrId);Fu(de,kl(u,$,void 0,{dehydratedView:Qe}),0,Nu($,Qe))}else z_(de,0)}}}finally{l(s)}}function hm(o,s){return o[s]}function Fh(o,s){return Cu(o,s)}function Fv(o,s,a,u){const h=yt(),p=zn(),g=ln+o,E=h[ot],T=p.firstCreatePass?function L4(o,s,a,u,h,p){const g=s.consts,T=Pu(s,o,2,u,yi(g,h));return vE(s,a,T,yi(g,p)),null!==T.attrs&&lv(T,T.attrs,!1),null!==T.mergedAttrs&&lv(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(g,p,h,s,a,u):p.data[g],O=wx(p,h,T,E,s,o);h[g]=O;const F=jg(T);return bi(T,!0),ah(E,O,T),!function Eh(o){return!(32&~o.flags)}(T)&&Cl()&&ka(p,h,O,T),0===function BP(){return Tn.lFrame.elementDepthCount}()&&Go(O,h),function UP(){Tn.lFrame.elementDepthCount++}(),F&&(wA(p,h,T),EA(p,T,h)),null!==u&&_E(h,T),Fv}function pa(){let o=Sr();u0()?Au():(o=o.parent,bi(o,!1));const s=o;(function l0(o){return Tn.skipHydrationRootTNode===o})(s)&&function _$(){Tn.skipHydrationRootTNode=null}(),function jP(){Tn.lFrame.elementDepthCount--}();const a=zn();return a.firstCreatePass&&(Hc(a,o),wr(o)&&a.queries.elementEnd(o)),null!=s.classesWithoutHost&&function dT(o){return!!(8&o.flags)}(s)&&cm(a,s,yt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function t_(o){return!!(16&o.flags)}(s)&&cm(a,s,yt(),s.stylesWithoutHost,!1),pa}function Ex(o,s,a,u){return Fv(o,s,a,u),pa(),Ex}let wx=(o,s,a,u,h,p)=>(cc(!0),P_(u,h,function lT(){return Tn.lFrame.currentNamespace}()));function Vv(){return yt()}function Ba(o,s,a){const u=yt();return wi(u,Pa(),s)&&us(zn(),Rr(),u,o,s,u[ot],a,!0),Ba}const Lh=void 0;var cL=["en",[["a","p"],["AM","PM"],Lh],[["AM","PM"],Lh,Lh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Lh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Lh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Lh,"{1} 'at' {0}",Lh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aL(o){const a=Math.floor(Math.abs(o)),u=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let yc={};function Bv(o){const s=function lL(o){return o.toLowerCase().replace(/_/g,"-")}(o);let a=xw(s);if(a)return a;const u=s.split("-")[0];if(a=xw(u),a)return a;if("en"===u)return cL;throw new qt(701,!1)}function Uv(o){return Bv(o)[Gu.PluralCase]}function xw(o){return o in yc||(yc[o]=Dr.ng&&Dr.ng.common&&Dr.ng.common.locales&&Dr.ng.common.locales[o]),yc[o]}var Gu=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Gu||{});const Wu="en-US";let $v=Wu;let Qv=(o,s,a)=>{};function Im(o,s,a,u){const h=yt(),p=zn(),g=Sr();return function zw(o,s,a,u,h,p,g){const E=jg(u),O=o.firstCreatePass&&Dp(o),F=s[re],W=Cp(s);let de=!0;if(3&u.type||g){const mt=Hi(u,s),Pt=g?g(mt):mt,jt=W.length,Et=g?tr=>g(ar(tr[u.index])):u.index;let gn=null;if(!g&&E&&(gn=function Hw(o,s,a,u){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const g=h[p];if(g===a&&h[p+1]===u){const E=s[ne],T=h[p+2];return E.length>T?E[T]:null}"string"==typeof g&&(p+=2)}return null}(o,s,h,u.index)),null!==gn)(gn.__ngLastListenerFn__||gn).__ngNextListenerFn__=p,gn.__ngLastListenerFn__=p,de=!1;else{p=Lx(u,s,F,p),Qv(mt,h,p);const tr=a.listen(Pt,h,p);W.push(p,tr),O&&O.push(h,Et,jt,jt+1)}}else p=Lx(u,s,F,p);const $=u.outputs;let Qe;if(de&&null!==$&&(Qe=$[h])){const mt=Qe.length;if(mt)for(let Pt=0;Pt<mt;Pt+=2){const nr=s[Qe[Pt]][Qe[Pt+1]].subscribe(p),Fi=W.length;W.push(p,nr),O&&O.push(h,u.index,Fi,-(Fi+1))}}}(p,h,h[ot],g,o,s,u),Im}function Gw(o,s,a,u){const h=l(null);try{return ic(6,s,a),!1!==a(u)}catch(p){return $_(o,p),!1}finally{ic(7,s,a),l(h)}}function Lx(o,s,a,u){return function h(p){if(p===Function)return u;Tp(o.componentOffset>-1?as(o.index,s):s,5);let E=Gw(s,a,u,p),T=h.__ngNextListenerFn__;for(;T;)E=Gw(s,a,T,p)&&E,T=T.__ngNextListenerFn__;return E}}function Bx(o=1){return function g0(o){return(Tn.lFrame.contextLView=function cs(o,s){for(;o>0;)s=s[Zt],o--;return s}(o,Tn.lFrame.contextLView))[re]}(o)}function Ww(o,s){let a=null;const u=function xD(o){const s=o.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(o);for(let h=0;h<s.length;h++){const p=s[h];if("*"!==p){if(null===u?Ub(o,p,!0):jb(u,p))return h}else a=h}return a}function Xu(o){const s=yt()[fn][k];if(!s.projection){const u=s.projection=function Lf(o,s){const a=[];for(let u=0;u<o;u++)a.push(s);return a}(o?o.length:1,null),h=u.slice();let p=s.child;for(;null!==p;){if(128!==p.type){const g=o?Ww(p,o):0;null!==g&&(h[g]?h[g].projectionNext=p:u[g]=p,h[g]=p)}p=p.next}}}function Jc(o,s=0,a,u,h,p){const g=yt(),E=zn(),T=u?o+1:null;null!==T&&qp(g,E,T,u,h,p,null,a);const O=Pu(E,ln+o,16,null,a||null);null===O.projection&&(O.projection=s),Au();const W=!g[j]||Il();null===g[fn][k].projection[O.projection]&&null!==T?function el(o,s,a){const u=ln+a,h=s.data[u],p=o[u],g=Lu(p,h.tView.ssrId);Fu(p,kl(o,h,void 0,{dehydratedView:g}),0,Nu(h,g))}(g,E,T):W&&32&~O.flags&&function _1(o,s,a){vA(s[ot],0,s,a,dE(o,a,s),_A(a.parent||s[k],a,s))}(E,g,O)}function Zw(o,s,a,u){vS(o,s,a,u)}function Jw(o,s,a){!function _S(o,s,a){const u=zn();return u.firstCreatePass&&(yS(u,new fS(o,s,a),-1),!(2&~s)&&(u.staticViewQueries=!0)),gS(u,yt(),s)}(o,s,a)}function eI(o){const s=yt(),a=zn(),u=np();rp(u+1);const h=ES(a,u);if(o.dirty&&function ZD(o){return!(4&~o[b])}(s)===!(2&~h.metadata.flags)){if(null===h.matches)o.reset([]);else{const p=FN(s,u);o.reset(p,xT),o.notifyOnChanges()}return!0}return!1}function tI(){return Vu(yt(),np())}function Dm(o,s,a,u,h){!function BN(o,s){const a=o[M];a._lView=yt(),a._queryIndex=s,a._queryList=Vu(a._lView,s),a._queryList.onDirty(()=>a._dirtyCounter.update(u=>u+1))}(s,vS(o,a,u,h))}function Ux(o=1){rp(np()+o)}function rI(o){return Du(function rT(){return Tn.lFrame.contextLView}(),ln+o)}function Kx(o,s=""){const a=yt(),u=zn(),h=o+ln,p=u.firstCreatePass?Pu(u,h,1,s,null):u.data[h],g=aI(u,a,p,s,o);a[h]=g,Cl()&&ka(u,a,g,p),bi(p,!1)}let aI=(o,s,a,u,h)=>(cc(!0),function oE(o,s){return o.createText(s)}(s[ot],u));function Yu(o){return Uh("",o,""),Yu}function Uh(o,s,a){const u=yt(),h=Uu(u,o,s,a);return h!==xn&&Pl(u,ro(),h),Uh}function lI(o,s,a,u,h){const p=yt(),g=function rm(o,s,a,u,h,p){const E=Gl(o,sc(),a,h);return ls(2),E?s+qe(a)+u+qe(h)+p:xn}(p,o,s,a,u,h);return g!==xn&&Pl(p,ro(),g),lI}function Tm(o,s,a,u,h,p,g){const E=yt(),T=vc(E,o,s,a,u,h,p,g);return T!==xn&&Pl(E,ro(),T),Tm}function mI(o,s,a,u,h){if(o=yn(o),Array.isArray(o))for(let p=0;p<o.length;p++)mI(o[p],s,a,u,h);else{const p=zn(),g=yt(),E=Sr();let T=ia(o)?o:yn(o.provide);const O=Fg(o),F=1048575&E.providerIndexes,W=E.directiveStart,de=E.providerIndexes>>20;if(ia(o)||!o.multi){const $=new ip(O,h,ch),Qe=xm(T,s,h?F:F+de,W);-1===Qe?(C0(o_(E,g),p,T),Sm(p,o,s.length),s.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),a.push($),g.push($)):(a[Qe]=$,g[Qe]=$)}else{const $=xm(T,s,F+de,W),Qe=xm(T,s,F,F+de),Pt=Qe>=0&&a[Qe];if(h&&!Pt||!h&&!($>=0&&a[$])){C0(o_(E,g),p,T);const jt=function vI(o,s,a,u,h){const p=new ip(o,a,ch);return p.multi=[],p.index=s,p.componentProviders=0,tM(p,h,u&&!a),p}(h?gI:ey,a.length,h,u,O);!h&&Pt&&(a[Qe].providerFactory=jt),Sm(p,o,s.length,0),s.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),a.push(jt),g.push(jt)}else Sm(p,o,$>-1?$:Qe,tM(a[h?Qe:$],O,!h&&u));!h&&u&&Pt&&a[Qe].componentProviders++}}}function Sm(o,s,a,u){const h=ia(s),p=function Kb(o){return!!o.useClass}(s);if(h||p){const T=(p?yn(s.useClass):s).prototype.ngOnDestroy;if(T){const O=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const F=O.indexOf(a);-1===F?O.push(a,[u,T]):O[F+1].push(u,T)}else O.push(a,T)}}}function tM(o,s,a){return a&&o.componentProviders++,o.multi.push(s)-1}function xm(o,s,a,u){for(let h=a;h<u;h++)if(s[h]===o)return h;return-1}function ey(o,s,a,u){return _I(this.multi,[])}function gI(o,s,a,u){const h=this.multi;let p;if(this.providerFactory){const g=this.providerFactory.componentProviders,E=lc(a,a[y],this.providerFactory.index,u);p=E.slice(0,g),_I(h,p);for(let T=g;T<E.length;T++)p.push(E[T])}else p=[],_I(h,p);return p}function _I(o,s){for(let a=0;a<o.length;a++)s.push((0,o[a])());return s}function nM(o,s=[]){return a=>{a.providersResolver=(u,h)=>function pI(o,s,a){const u=zn();if(u.firstCreatePass){const h=mo(o);mI(a,u.data,u.blueprint,h,!0),mI(s,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,s)}}let yI=(()=>{class o{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=Og(0,a.type),h=u.length>0?VS([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Wn({token:o,providedIn:"environment",factory:()=>new o(po(xs))})}return o})();function rM(o){go("NgStandalone"),o.getStandaloneInjector=s=>s.get(yI).getOrCreateStandaloneInjector(o)}function Ec(o,s,a){const u=Oi()+o,h=yt();return h[u]===xn?Na(h,u,a?s.call(a):s()):function Kp(o,s){return o[s]}(h,u)}function ny(o,s,a,u){return oM(yt(),Oi(),o,s,a,u)}function oM(o,s,a,u,h,p){const g=s+a;return wi(o,g,h)?Na(o,g+1,p?u.call(p,h):u(h)):function Rm(o,s){const a=o[s];return a===xn?void 0:a}(o,g+1)}function Om(o,s){const a=zn();let u;const h=o+ln;a.firstCreatePass?(u=function q4(o,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(o===u.name)return u}}(s,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks??=[]).push(h,u.onDestroy)):u=a.data[h];const p=u.factory||(u.factory=yu(u.type)),E=En(ch);try{const T=n_(!1),O=p();return n_(T),function nI(o,s,a,u){a>=o.data.length&&(o.data[a]=null,o.blueprint[a]=null),s[a]=u}(a,yt(),h,O),O}finally{En(E)}}function cM(o,s,a){const u=o+ln,h=yt(),p=Du(h,u);return function Pm(o,s){return o[y].data[s].pure}(h,u)?oM(h,Oi(),s,p.transform,a,p):p.transform(a)}function zh(o,s){return Q_(o,s)}class zL{constructor(s){this.full=s;const a=s.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}let yy=(()=>{class o{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Wn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();const JL=new Dn(""),IM=new Dn("");let jI,eV=(()=>{class o{constructor(a,u,h){this._ngZone=a,this.registry=u,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,jI||(function nV(o){jI=o}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ur.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==p),a()},u)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}static#e=this.\u0275fac=function(u){return new(u||o)(po(Ur),po(tV),po(IM))};static#t=this.\u0275prov=Wn({token:o,factory:o.\u0275fac})}return o})(),tV=(()=>{class o{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return jI?.findTestabilityInTree(this,a,u)??null}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Wn({token:o,factory:o.\u0275fac,providedIn:"platform"})}return o})();function Nm(o){return!!o&&"function"==typeof o.then}function wy(o){return!!o&&"function"==typeof o.subscribe}const rV=new Dn("");let Xh=(()=>{class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u}),this.appInits=on(rV,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const p=h();if(Nm(p))a.push(p);else if(wy(p)){const g=new Promise((E,T)=>{p.subscribe({complete:E,error:T})});a.push(g)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Wn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Fm=new Dn("");let Ha=(()=>{class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=on(lp),this.afterRenderEffectManager=on(HE),this.zonelessEnabled=on(mh),this.externalTestViews=new Set,this.beforeRender=new Bt.B,this.afterTick=new Bt.B,this.componentTypes=[],this.components=[],this.isStable=on(xu).hasPendingTasks.pipe((0,rn.T)(a=>!a)),this._injector=on(xs)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof gN;if(!this._injector.get(Xh).done)throw!h&&Ra(a),new qt(405,!1);let g;g=h?a:this._injector.get(Vp).resolveComponentFactory(a),this.componentTypes.push(g.componentType);const E=function iV(o){return o.isBoundToModule}(g)?void 0:this._injector.get(Bu),O=g.create(Pi.NULL,[],u||g.selector,E),F=O.location.nativeElement,W=O.injector.get(JL,null);return W?.registerApplication(F),O.onDestroy(()=>{this.detachView(O.hostView),Iy(this.components,O),W?.unregisterApplication(F)}),this._loadComponent(O),O}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new qt(101,!1);const u=l(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1,l(u),this.afterTick.next()}}detectChangesInAttachedViews(a){let u=null;this._injector.destroyed||(u=this._injector.get(VE,null,{optional:!0}));let h=0;const p=this.afterRenderEffectManager;for(;h<10;){const g=0===h;if(a||!g){this.beforeRender.next(g);for(let{_lView:E,notifyErrorHandler:T}of this._views)ki(E,T,g,this.zonelessEnabled)}else u?.begin?.(),u?.end?.();if(h++,p.executeInternalCallbacks(),!this.allViews.some(({_lView:E})=>wl(E))&&(p.execute(),!this.allViews.some(({_lView:E})=>wl(E))))break}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Iy(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(Fm,[]);[...this._bootstrapListeners,...u].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Iy(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new qt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Wn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Iy(o,s){const a=o.indexOf(s);a>-1&&o.splice(a,1)}function ki(o,s,a,u){(a||wl(o))&&CE(o,s,a&&!u?0:1)}class aV{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let HI=(()=>{class o{compileModuleSync(a){return new FS(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),p=Ms($i(a).declarations).reduce((g,E)=>{const T=Ln(E);return T&&g.push(new yh(T)),g},[]);return new aV(u,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Wn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),SM=(()=>{class o{constructor(){this.zone=on(Ur),this.changeDetectionScheduler=on(Bl),this.applicationRef=on(Ha)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Wn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function Yh({ngZoneFactory:o,ignoreChangesOutsideZone:s}){return o??=()=>new Ur(function Zh(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}()),[{provide:Ur,useFactory:o},{provide:Ma,multi:!0,useFactory:()=>{const a=on(SM,{optional:!0});return()=>a.initialize()}},{provide:Ma,multi:!0,useFactory:()=>{const a=on(dV);return()=>{a.initialize()}}},{provide:lp,useFactory:xM},!0===s?{provide:Lp,useValue:!0}:[]]}function xM(){const o=on(Ur),s=on(sa);return a=>o.runOutsideAngular(()=>s.handleError(a))}let dV=(()=>{class o{constructor(){this.subscription=new en.yU,this.initialized=!1,this.zone=on(Ur),this.pendingTasks=on(xu)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ur.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ur.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Wn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),td=(()=>{class o{constructor(){this.appRef=on(Ha),this.taskService=on(xu),this.ngZone=on(Ur),this.zonelessEnabled=on(mh),this.disableScheduling=on(Lp,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new en.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof UE||!this.zoneIsDefined)}notify(a){if(!this.zonelessEnabled&&5===a)return;switch(a){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const u=this.useMicrotaskScheduler?Up:Bp;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Ur.isInAngularZone())}tick(a){if(this.runningTick||this.appRef.destroyed)return;const u=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(a)},void 0,this.schedulerTickApplyArgs)}catch(h){throw this.taskService.remove(u),h}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Up(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(u)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}static#e=this.\u0275fac=function(u){return new(u||o)};static#t=this.\u0275prov=Wn({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const Sy=new Dn("",{providedIn:"root",factory:()=>on(Sy,vt.Optional|vt.SkipSelf)||function fV(){return typeof $localize<"u"&&$localize.locale||Wu}()}),g3=new Dn("",{providedIn:"root",factory:()=>"USD"}),zI=new Dn("");let Zl=null;function vV(){return!1}let xy=(()=>{class o{static#e=this.__NG_ELEMENT_ID__=w3}return o})();function w3(o){return function KI(o,s,a){if(Oa(o)&&!a){const u=as(o.index,s);return new Ap(u,u)}return 175&o.type?new Ap(s[fn],s):null}(Sr(),yt(),!(16&~o))}class ef{constructor(){}supports(s){return aw(s)}create(s){return new IV(s)}}const wV=(o,s)=>s;class IV{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||wV}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,h=0,p=null;for(;a||u;){const g=!u||a&&a.currentIndex<CV(u,h,p)?a:u,E=CV(g,h,p),T=g.currentIndex;if(g===u)h--,u=u._nextRemoved;else if(a=a._next,null==g.previousIndex)h++;else{p||(p=[]);const O=E-h,F=T-h;if(O!=F){for(let de=0;de<O;de++){const $=de<p.length?p[de]:p[de]=0,Qe=$+de;F<=Qe&&Qe<O&&(p[de]=$+1)}p[g.previousIndex]=F-O}}E!==T&&s(g,E,T)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!aw(s))throw new qt(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,g,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)p=s[E],g=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,g)?(u&&(a=this._verifyReinsertion(a,p,g,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,g,E),u=!0),a=a._next}else h=0,function tF(o,s){if(Array.isArray(o))for(let a=0;a<o.length;a++)s(o[a]);else{const a=o[Symbol.iterator]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,E=>{g=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,g)?(u&&(a=this._verifyReinsertion(a,E,g,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,g,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,p,h)):s=this._addAfter(new QI(a,u),p,h),s}_verifyReinsertion(s,a,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new My),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new My),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class QI{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class YI{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class My{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new YI,this.map.set(a,u)),u.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function CV(o,s,a){const u=o.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+s+h}class GM{constructor(){}supports(s){return s instanceof Map||cw(s)}create(){return new WM}}class WM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||cw(s)))throw new qt(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const p=h._prev,g=h._next;return p&&(p._next=g),g&&(g._prev=p),h._next=null,h._prev=null,h}const u=new KM(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class KM{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DV(){return new ZI([new ef])}let ZI=(()=>{class o{static#e=this.\u0275prov=Wn({token:o,providedIn:"root",factory:DV});constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||DV()),deps:[[o,new Ig,new Ff]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new qt(901,!1)}}return o})();function TV(){return new JI([new GM])}let JI=(()=>{class o{static#e=this.\u0275prov=Wn({token:o,providedIn:"root",factory:TV});constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new o(a)}static extend(a){return{provide:o,useFactory:u=>o.create(a,u||TV()),deps:[[o,new Ig,new Ff]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new qt(901,!1)}}return o})();function mR(o){try{const{rootComponent:s,appProviders:a,platformProviders:u}=o,h=function gV(o=[]){if(Zl)return Zl;const s=function RM(o=[],s){return Pi.create({name:s,providers:[{provide:Pg,useValue:"platform"},{provide:zI,useValue:new Set([()=>Zl=null])},...o]})}(o);return Zl=s,function CM(){!function Mn(o){Jt=o}(()=>{throw new qt(600,!1)})}(),function OM(o){o.get(v_,null)?.forEach(a=>a())}(s),s}(u),p=[Yh({}),{provide:Bl,useExisting:td},...a||[]],E=new LS({providers:p,parent:h,debugName:"",runEnvironmentInitializers:!1}).injector,T=E.get(Ur);return T.run(()=>{E.resolveInjectorInitializers();const O=E.get(sa,null);let F;T.runOutsideAngular(()=>{F=T.onError.subscribe({next:$=>{O.handleError($)}})});const W=()=>E.destroy(),de=h.get(zI);return de.add(W),E.onDestroy(()=>{F.unsubscribe(),de.delete(W)}),function sV(o,s,a){try{const u=a();return Nm(u)?u.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(O,T,()=>{const $=E.get(Xh);return $.runInitializers(),$.donePromise.then(()=>{!function fL(o){"string"==typeof o&&($v=o.toLowerCase().replace(/_/g,"-"))}(E.get(Sy,Wu)||Wu);const mt=E.get(Ha);return void 0!==s&&mt.bootstrap(s),mt})})})}catch(s){return Promise.reject(s)}}const iC=new Dn("");function WV(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function KV(o,s=NaN){return isNaN(parseFloat(o))||isNaN(Number(o))?s:Number(o)}function DR(o,s){go("NgSignals");const a=he(o);return s?.equal&&(a[M].equal=s.equal),a}function Yr(o){const s=l(null);try{return o()}finally{l(s)}}const pn=new Dn("",{providedIn:"root",factory:()=>on($m)});let $m=(()=>{class o{static#e=this.\u0275prov=Wn({token:o,providedIn:"root",factory:()=>new Xn})}return o})();class Xn{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=on(xu),this.taskId=null}scheduleEffect(s){if(this.enqueue(s),null===this.taskId){const a=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(a),this.taskId=null})}}enqueue(s){const a=s.creationZone;this.queues.has(a)||this.queues.set(a,new Set);const u=this.queues.get(a);u.has(s)||(this.queuedEffectCount++,u.add(s))}flush(){for(;this.queuedEffectCount>0;)for(const[s,a]of this.queues)null===s?this.flushQueue(a):s.run(()=>this.flushQueue(a))}flushQueue(s){for(const a of s)s.delete(a),this.queuedEffectCount--,a.run()}}class QV{constructor(s,a,u,h,p,g){this.scheduler=s,this.effectFn=a,this.creationZone=u,this.injector=p,this.watcher=function le(o,s,a){const u=Object.create(It);a&&(u.consumerAllowSignalWrites=!0),u.fn=o,u.schedule=s;const h=T=>{u.cleanupFn=T};return u.ref={notify:()=>Re(u),run:()=>{if(null===u.fn)return;if(function lt(){return ge}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(u.dirty=!1,u.hasRun&&!Fe(u))return;u.hasRun=!0;const T=Pe(u);try{u.cleanupFn(),u.cleanupFn=Te,u.fn(h)}finally{_e(u,T)}},cleanup:()=>u.cleanupFn(),destroy:()=>function g(T){(function p(T){return null===T.fn&&null===T.schedule})(T)||(xe(T),T.cleanupFn(),T.fn=null,T.schedule=null,T.cleanupFn=Te)}(u),[M]:u},u.ref}(E=>this.runEffect(E),()=>this.schedule(),g),this.unregisterOnDestroy=h?.onDestroy(()=>this.destroy())}runEffect(s){try{this.effectFn(s)}catch(a){this.injector.get(sa,null,{optional:!0})?.handleError(a)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function Wr(o,s){go("NgSignals"),!s?.injector&&Gf();const a=s?.injector??on(Pi),u=!0!==s?.manualCleanup?a.get(up):null,h=new QV(a.get(pn),o,typeof Zone>"u"?null:Zone.current,u,a,s?.allowSignalWrites??!1),p=a.get(xy,null,{optional:!0});return p&&8&p._lView[b]?(p._lView[no]??=[]).push(h.watcher.notify):h.watcher.notify(),h}function cf(o){const s=Ln(o);if(!s)return null;const a=new yh(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},9556:(Vt,et,P)=>{"use strict";P.d(et,{p4:()=>ee});class ee{ttl;map=new Map;_to=!1;constructor(M){this.ttl=M}has(M){return this.map.has(M)}add(M){this.map.set(M,ge()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,function ie(ce){const M=ge()-ce.ttl,l=ce.map[Symbol.iterator]();for(;;){const De=l.next().value;if(!De)return;if(!(De[1]<M))return;ce.map.delete(De[0])}}(this)},0))}clear(){this.map.clear()}}function ge(){return Date.now()}},9825:(Vt,et,P)=>{"use strict";P.d(et,{K:()=>De,X:()=>Be});var ee=P(6126),ie=P(5520),ge=P(9403),ce=P(6434),M=P(6568),l=P(3896),De=function(){function se(Re,Pe,_e){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry="function"==typeof FinalizationRegistry?new FinalizationRegistry(Fe=>{var xe=Fe.docId,Ae=this.cacheItemByDocId.get(xe);Ae&&(Ae[0].delete(Fe.revisionHeight),0===Ae[0].size&&this.cacheItemByDocId.delete(xe))}):void 0,this.primaryPath=Re,this.changes$=Pe,this.documentCreator=_e,Pe.subscribe(Fe=>{this.tasks.add(()=>{for(var xe=this.cacheItemByDocId,Ae=0;Ae<Fe.length;Ae++){var We=Fe[Ae],Ie=xe.get(We.documentId);if(Ie){var st=We.documentData;st||(st=We.previousDocumentData),Ie[1]=st}}}),this.tasks.size<=1&&(0,ie.vN)().then(()=>{this.processTasks()})})}var ze=se.prototype;return ze.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(_e=>_e()),this.tasks.clear())},ze.getLatestDocumentData=function(Pe){return this.processTasks(),(0,ge.m)(this.cacheItemByDocId,Pe)[1]},ze.getLatestDocumentDataIfExists=function(Pe){this.processTasks();var _e=this.cacheItemByDocId.get(Pe);if(_e)return _e[1]},(0,ee.A)(se,[{key:"getCachedRxDocuments",get:function(){var Re=lt(this);return(0,ce.Ns)(this,"getCachedRxDocuments",Re)}},{key:"getCachedRxDocument",get:function(){var Re=lt(this);return(0,ce.Ns)(this,"getCachedRxDocument",Pe=>Re([Pe])[0])}}])}();function lt(se){var ze=se.primaryPath,Re=se.cacheItemByDocId,Pe=se.registry,_e=l.h.deepFreezeWhenDevMode,Fe=se.documentCreator;return Ae=>{for(var We=new Array(Ae.length),Ie=[],st=0;st<Ae.length;st++){var Ye=Ae[st],ve=Ye[ze],he=(0,M.Wg)(Ye._rev),Y=void 0,pt=void 0,Ct=Re.get(ve);Ct?pt=(Y=Ct[0]).get(he):Re.set(ve,Ct=[Y=new Map,Ye]);var Tt=pt?pt.deref():void 0;Tt||(Ye=_e(Ye),Tt=Fe(Ye),Y.set(he,Z(Tt)),Pe&&Ie.push(Tt)),We[st]=Tt}return Ie.length>0&&Pe&&(se.tasks.add(()=>{for(var cn=0;cn<Ie.length;cn++){var Jt=Ie[cn];Pe.register(Jt,{docId:Jt.primary,revisionHeight:(0,M.Wg)(Jt.revision)})}}),se.tasks.size<=1&&(0,ie.vN)().then(()=>{se.processTasks()})),We}}function Be(se,ze){return(0,se.getCachedRxDocuments)(ze)}var Z="function"==typeof WeakRef?function Me(se){return new WeakRef(se)}:function Ne(se){return{deref:()=>se}}},2284:(Vt,et,P)=>{"use strict";P.d(et,{FX:()=>ge,Xi:()=>ie,r:()=>ee});var ee={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function ie(M,l){ee[M].length>0&&ee[M].forEach(De=>De(l))}function ge(M,l){return Promise.all(ee[M].map(De=>De(l)))}},6706:(Vt,et,P)=>{"use strict";P.d(et,{Hl:()=>Ue,N6:()=>Be});var ee=P(467),ie=P(7650),ge=P(9403),ce=P(8663),M=P(6434),l=P(2060),De=P(6568),lt=P(6893),Be=function(){function Me(se,ze,Re,Pe){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=se,this.primaryPath=ze,this.preWrite=Re,this.postWrite=Pe}var Ne=Me.prototype;return Ne.addWrite=function(ze,Re){var _e=(0,ge.q)(this.queueByDocId,ze[this.primaryPath],()=>[]);return new Promise((xe,Ae)=>{var We={lastKnownDocumentState:ze,modifier:Re,resolve:xe,reject:Ae};(0,ce.ZN)(_e).push(We),this.triggerRun()})},Ne.triggerRun=function(){var se=(0,ee.A)(function*(){var Re=this;if(!0!==this.isRunning&&0!==this.queueByDocId.size){this.isRunning=!0;var Pe=[],_e=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(_e.entries()).map(function(){var xe=(0,ee.A)(function*([Ae,We]){var Ie=function Z(Me){var Ne=Me[0],se=(0,De.Wg)(Ne._rev);return Me.forEach(ze=>{var Re=(0,De.Wg)(ze._rev);Re>se&&(Ne=ze,se=Re)}),Ne}(We.map(ve=>ve.lastKnownDocumentState)),st=Ie;for(var Ye of We)try{st=yield Ye.modifier((0,M.o8)(st))}catch(ve){Ye.reject(ve),Ye.reject=()=>{},Ye.resolve=()=>{}}try{yield Re.preWrite(st,Ie)}catch(ve){return void We.forEach(he=>he.reject(ve))}Pe.push({previous:Ie,document:st})});return function(Ae){return xe.apply(this,arguments)}}()));var Fe=Pe.length>0?yield this.storageInstance.bulkWrite(Pe,"incremental-write"):{error:[]};return yield Promise.all((0,lt.YN)(this.primaryPath,Pe,Fe).map(xe=>{var Ae=xe[this.primaryPath];this.postWrite(xe),(0,ge.m)(_e,Ae).forEach(Ie=>Ie.resolve(xe))})),Fe.error.forEach(xe=>{var Ae=xe.documentId,We=(0,ge.m)(_e,Ae),Ie=(0,ie.sX)(xe);if(Ie){var st=(0,ge.q)(this.queueByDocId,Ae,()=>[]);We.reverse().forEach(ve=>{ve.lastKnownDocumentState=(0,ce.ZN)(Ie.documentInDb),(0,ce.ZN)(st).unshift(ve)})}else{var Ye=(0,ie.cg)(xe);We.forEach(ve=>ve.reject(Ye))}}),this.isRunning=!1,this.triggerRun()}});return function ze(){return se.apply(this,arguments)}}(),Me}();function Ue(Me){var Ne=function(){var se=(0,ee.A)(function*(ze){var Re=(0,l.Xz)(ze);Re._deleted=ze._deleted;var Pe=yield Me(Re),_e=Object.assign({},Pe,{_meta:ze._meta,_attachments:ze._attachments,_rev:ze._rev,_deleted:typeof Pe._deleted<"u"?Pe._deleted:ze._deleted});return typeof _e._deleted>"u"&&(_e._deleted=!1),_e});return function(Re){return se.apply(this,arguments)}}();return Ne}},3896:(Vt,et,P)=>{"use strict";P.d(et,{h:()=>ee});var ee={isDevMode:()=>!1,deepFreezeWhenDevMode:ie=>ie,tunnelErrorMessage:ie=>"RxDB Error-Code "+ie+".\n        Error messages are not included in RxDB core to reduce build size.\n        "}},7176:(Vt,et,P)=>{"use strict";P.d(et,{$r:()=>M,Aj:()=>l,Hb:()=>Re,S7:()=>Ue,Sd:()=>Z,dG:()=>ie,j7:()=>Me,jw:()=>Pe,k_:()=>lt});var ee=P(467);function ie(_e){return _e[_e.length-1]}function M(_e){return Array.isArray(_e)?_e.slice(0):[_e]}function l(_e,Fe){_e=_e.slice(0);for(var xe=[];_e.length;){var Ae=_e.splice(0,Fe);xe.push(Ae)}return xe}function lt(_e){return Array.isArray(_e)}function Ue(_e){return null!=_e}function Z(_e,Fe){var xe=0,Ae=-1;for(var We of _e){if(!Fe(We,Ae+=1))break;xe+=1}return xe}function Me(_e,Fe){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,ee.A)(function*(_e,Fe){var xe=yield Promise.all(_e.map(Fe));return _e.filter((...[,Ae])=>xe[Ae])})).apply(this,arguments)}function Re(_e,Fe){var xe=Fe.length;if(0!==xe){var Ae=_e.length;_e.length=Ae+Fe.length;for(var We=0;We<xe;++We)_e[Ae+We]=Fe[We]}}function Pe(_e){return _e.filter(function(Fe,xe,Ae){return Ae.indexOf(Fe)===xe})}},2060:(Vt,et,P)=>{"use strict";P.d(et,{Fq:()=>ge,MC:()=>ee,Xz:()=>ce,YL:()=>M,o4:()=>ie});var ee=1;function ie(){return{lwt:ee}}function ge(){return""}function ce(Be){return Object.assign({},Be,{_meta:void 0,_deleted:void 0,_rev:void 0})}function M(Be,Ue,Z){if(Ue.length!==Z.length)return!1;for(var Me=0,Ne=Ue.length;Me<Ne;){var se=Ue[Me],ze=Z[Me];if(Me++,se._rev!==ze._rev||se[Be]!==ze[Be])return!1}return!0}},203:(Vt,et,P)=>{"use strict";P.d(et,{S:()=>ge,u:()=>ie});var ee=P(720);function ie(ce){var M=ce.split("-"),l="RxDB";return M.forEach(De=>{l+=(0,ee.Z2)(De)}),l+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+l+" } from 'rxdb/plugins/"+ce+"';\n            addRxPlugin("+l+");\n        ")}function ge(ce){return{name:ce.name,message:ce.message,rxdb:ce.rxdb,parameters:ce.parameters,extensions:ce.extensions,code:ce.code,url:ce.url,stack:ce.stack?ce.stack.replace(/\n/g," \n "):void 0}}},7014:(Vt,et,P)=>{"use strict";P.d(et,{P:()=>ee,Y:()=>ie});var ee={},ie="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93"},6243:(Vt,et,P)=>{"use strict";P.d(et,{V0:()=>Mn});var ee=P(467);Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0}),Object.freeze(["prototype","__proto__","constructor"]);class Be{constructor(be,K){be=this.words=be||[],this.sigBytes=void 0===K?4*be.length:K}toString(be){return(be||Ue).stringify(this)}concat(be){if(this.clamp(),this.sigBytes%4)for(let K=0;K<be.sigBytes;K++)this.words[this.sigBytes+K>>>2]|=(be.words[K>>>2]>>>24-K%4*8&255)<<24-(this.sigBytes+K)%4*8;else for(let K=0;K<be.sigBytes;K+=4)this.words[this.sigBytes+K>>>2]=be.words[K>>>2];return this.sigBytes+=be.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Be([...this.words])}}const Ue={stringify(ae){const be=[];for(let K=0;K<ae.sigBytes;K++){const U=ae.words[K>>>2]>>>24-K%4*8&255;be.push((U>>>4).toString(16),(15&U).toString(16))}return be.join("")}},Me={parse(ae){const be=ae.length,K=[];for(let U=0;U<be;U++)K[U>>>2]|=(255&ae.charCodeAt(U))<<24-U%4*8;return new Be(K,be)}},Ne_parse=ae=>Me.parse(unescape(encodeURIComponent(ae)));class se{constructor(){this._data=new Be,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=16}reset(){this._data=new Be,this._nDataBytes=0}_append(be){"string"==typeof be&&(be=Ne_parse(be)),this._data.concat(be),this._nDataBytes+=be.sigBytes}_doProcessBlock(be,K){}_process(be){let K,U=this._data.sigBytes/(4*this.blockSize);U=be?Math.ceil(U):Math.max((0|U)-this._minBufferSize,0);const H=U*this.blockSize,Q=Math.min(4*H,this._data.sigBytes);if(H){for(let J=0;J<H;J+=this.blockSize)this._doProcessBlock(this._data.words,J);K=this._data.words.splice(0,H),this._data.sigBytes-=Q}return new Be(K,Q)}}class ze extends se{update(be){return this._append(be),this._process(),this}finalize(be){be&&this._append(be)}}const Re=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],Pe=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],_e=[];class Fe extends ze{constructor(){super(...arguments),this._hash=new Be([...Re])}reset(){super.reset(),this._hash=new Be([...Re])}_doProcessBlock(be,K){const U=this._hash.words;let H=U[0],Q=U[1],J=U[2],oe=U[3],le=U[4],Te=U[5],It=U[6],Ft=U[7];for(let Mt=0;Mt<64;Mt++){if(Mt<16)_e[Mt]=0|be[K+Mt];else{const tn=_e[Mt-15],In=_e[Mt-2];_e[Mt]=((tn<<25|tn>>>7)^(tn<<14|tn>>>18)^tn>>>3)+_e[Mt-7]+((In<<15|In>>>17)^(In<<13|In>>>19)^In>>>10)+_e[Mt-16]}const en=H&Q^H&J^Q&J,$t=Ft+((le<<26|le>>>6)^(le<<21|le>>>11)^(le<<7|le>>>25))+(le&Te^~le&It)+Pe[Mt]+_e[Mt];Ft=It,It=Te,Te=le,le=oe+$t|0,oe=J,J=Q,Q=H,H=$t+(((H<<30|H>>>2)^(H<<19|H>>>13)^(H<<10|H>>>22))+en)|0}U[0]=U[0]+H|0,U[1]=U[1]+Q|0,U[2]=U[2]+J|0,U[3]=U[3]+oe|0,U[4]=U[4]+le|0,U[5]=U[5]+Te|0,U[6]=U[6]+It|0,U[7]=U[7]+Ft|0}finalize(be){super.finalize(be);const K=8*this._nDataBytes,U=8*this._data.sigBytes;return this._data.words[U>>>5]|=128<<24-U%32,this._data.words[14+(U+64>>>9<<4)]=Math.floor(K/4294967296),this._data.words[15+(U+64>>>9<<4)]=K,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function Jt(){return(Jt=(0,ee.A)(function*(ae){var be=(new TextEncoder).encode(ae),K=yield crypto.subtle.digest("SHA-256",be);return Array.prototype.map.call(new Uint8Array(K),H=>("00"+H.toString(16)).slice(-2)).join("")})).apply(this,arguments)}var Mn=typeof crypto<"u"&&typeof crypto.subtle<"u"&&"function"==typeof crypto.subtle.digest?function cn(ae){return Jt.apply(this,arguments)}:function Tt(ae){return Promise.resolve(function xe(ae){return(new Fe).finalize(ae).toString()}(ae))}},9403:(Vt,et,P)=>{"use strict";function ee(ge,ce){var M=ge.get(ce);if(typeof M>"u")throw new Error("missing value from map "+ce);return M}function ie(ge,ce,M,l){var De=ge.get(ce);return typeof De>"u"?(De=M(),ge.set(ce,De)):l&&l(De),De}P.d(et,{m:()=>ee,q:()=>ie})},6636:(Vt,et,P)=>{"use strict";function ee(ie,ge){if(ie===ge)return!0;if(ie&&ge&&"object"==typeof ie&&"object"==typeof ge){if(ie.constructor!==ge.constructor)return!1;var ce,M;if(Array.isArray(ie)){if((ce=ie.length)!==ge.length)return!1;for(M=ce;0!=M--;)if(!ee(ie[M],ge[M]))return!1;return!0}if(ie.constructor===RegExp)return ie.source===ge.source&&ie.flags===ge.flags;if(ie.valueOf!==Object.prototype.valueOf)return ie.valueOf()===ge.valueOf();if(ie.toString!==Object.prototype.toString)return ie.toString()===ge.toString();var l=Object.keys(ie);if((ce=l.length)!==Object.keys(ge).length)return!1;for(M=ce;0!=M--;)if(!Object.prototype.hasOwnProperty.call(ge,l[M]))return!1;for(M=ce;0!=M--;){var De=l[M];if(!ee(ie[De],ge[De]))return!1}return!0}return ie!=ie&&ge!=ge}P.d(et,{b:()=>ee})},1744:(Vt,et,P)=>{"use strict";P.d(et,{UU:()=>De,oq:()=>lt});var ee=Re=>{var Pe=typeof Re;return null!==Re&&("object"===Pe||"function"===Pe)},ie=new Set(["__proto__","prototype","constructor"]),ge=new Set("0123456789");function ce(Re){var Pe=[],_e="",Fe="start",xe=!1;for(var Ae of Re)switch(Ae){case"\\":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");xe&&(_e+=Ae),Fe="property",xe=!xe;break;case".":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="property";break}if(xe){xe=!1,_e+=Ae;break}if(ie.has(_e))return[];Pe.push(_e),_e="",Fe="property";break;case"[":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="index";break}if(xe){xe=!1,_e+=Ae;break}if("property"===Fe){if(ie.has(_e))return[];Pe.push(_e),_e=""}Fe="index";break;case"]":if("index"===Fe){Pe.push(Number.parseInt(_e,10)),_e="",Fe="indexEnd";break}if("indexEnd"===Fe)throw new Error("Invalid character after an index");default:if("index"===Fe&&!ge.has(Ae))throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");"start"===Fe&&(Fe="property"),xe&&(xe=!1,_e+="\\"),_e+=Ae}switch(xe&&(_e+="\\"),Fe){case"property":if(ie.has(_e))return[];Pe.push(_e);break;case"index":throw new Error("Index was not closed");case"start":Pe.push("")}return Pe}function M(Re,Pe){if("number"!=typeof Pe&&Array.isArray(Re)){var _e=Number.parseInt(Pe,10);return Number.isInteger(_e)&&Re[_e]===Re[Pe]}return!1}function l(Re,Pe){if(M(Re,Pe))throw new Error("Cannot use string index")}function De(Re,Pe,_e){if(Array.isArray(Pe)&&(Pe=Pe.join(".")),!Pe.includes(".")&&!Pe.includes("["))return Re[Pe];if(!ee(Re)||"string"!=typeof Pe)return void 0===_e?Re:_e;var Fe=ce(Pe);if(0===Fe.length)return _e;for(var xe=0;xe<Fe.length;xe++){var Ae=Fe[xe];if(null==(Re=M(Re,Ae)?xe===Fe.length-1?void 0:null:Re[Ae])){if(xe!==Fe.length-1)return _e;break}}return void 0===Re?_e:Re}function lt(Re,Pe,_e){if(Array.isArray(Pe)&&(Pe=Pe.join(".")),!ee(Re)||"string"!=typeof Pe)return Re;for(var Fe=Re,xe=ce(Pe),Ae=0;Ae<xe.length;Ae++){var We=xe[Ae];l(Re,We),Ae===xe.length-1?Re[We]=_e:ee(Re[We])||(Re[We]="number"==typeof xe[Ae+1]?[]:{}),Re=Re[We]}return Fe}},6434:(Vt,et,P)=>{"use strict";function ee(Ne){return Object.freeze(Ne),Object.getOwnPropertyNames(Ne).forEach(function(se){Object.prototype.hasOwnProperty.call(Ne,se)&&null!==Ne[se]&&("object"==typeof Ne[se]||"function"==typeof Ne[se])&&!Object.isFrozen(Ne[se])&&ee(Ne[se])}),Ne}function ie(Ne){var se=Ne.split("."),ze=se.length;return 1===ze?Re=>Re[Ne]:Re=>{for(var Pe=Re,_e=0;_e<ze;++_e)if(typeof(Pe=Pe[se[_e]])>"u")return Pe;return Pe}}function ce(Ne){var se={};for(var ze in Ne)if(Object.prototype.hasOwnProperty.call(Ne,ze))if("object"==typeof Ne[ze]){var Re=ce(Ne[ze]);for(var Pe in Re)Object.prototype.hasOwnProperty.call(Re,Pe)&&(se[ze+"."+Pe]=Re[Pe])}else se[ze]=Ne[ze];return se}function M(Ne){return Object.assign({},Ne)}function l(Ne){return Object.keys(Ne)[0]}function lt(Ne,se=!1){if(!Ne)return Ne;if(!se&&Array.isArray(Ne))return Ne.sort((Re,Pe)=>"string"==typeof Re&&"string"==typeof Pe?Re.localeCompare(Pe):"object"==typeof Re?1:-1).map(Re=>lt(Re,se));if("object"==typeof Ne&&!Array.isArray(Ne)){var ze={};return Object.keys(Ne).sort((Re,Pe)=>Re.localeCompare(Pe)).forEach(Re=>{ze[Re]=lt(Ne[Re],se)}),ze}return Ne}P.d(et,{FD:()=>M,Ln:()=>l,Ns:()=>Z,SQ:()=>ie,YO:()=>ce,mf:()=>lt,o8:()=>Ue,ol:()=>ee});var Ue=function Be(Ne){if(!Ne||null===Ne||"object"!=typeof Ne)return Ne;if(Array.isArray(Ne)){for(var se=new Array(Ne.length),ze=se.length;ze--;)se[ze]=Be(Ne[ze]);return se}var Re={};for(var Pe in Ne)Re[Pe]=Be(Ne[Pe]);return Re};function Z(Ne,se,ze){return Object.defineProperty(Ne,se,{get:function(){return ze}}),ze}},8663:(Vt,et,P)=>{"use strict";function ie(M,l){if(!M)throw l||(l=""),new Error("ensureNotFalsy() is falsy: "+l);return M}P.d(et,{ZN:()=>ie,bz:()=>ce});var ce={bufferSize:1,refCount:!0}},5520:(Vt,et,P)=>{"use strict";function ee(){return new Promise(se=>setTimeout(se,0))}function ge(se){return se&&"function"==typeof se.then?se:Promise.resolve(se)}P.d(et,{$A:()=>De,Dr:()=>l,Ms:()=>M,Ve:()=>Z,dY:()=>ee,em:()=>lt,h$:()=>Ne,hq:()=>ge,vN:()=>Be});var M=Promise.resolve(!0),l=Promise.resolve(!1),De=Promise.resolve(null),lt=Promise.resolve();function Be(se=1e4){return"function"==typeof requestIdleCallback?new Promise(ze=>{requestIdleCallback(()=>ze(),{timeout:se})}):function ie(se=0){return new Promise(ze=>setTimeout(ze,se))}(0)}var Ue=lt;function Z(se=void 0){return Ue=Ue.then(()=>Be(se))}function Ne(se,ze){return se.reduce((Re,Pe)=>Re.then(Pe),Promise.resolve(ze))}},6568:(Vt,et,P)=>{"use strict";function ie(ce){for(var M="",l=0;l<ce.length;l++){var De=ce[l];if("-"===De)return parseInt(M,10);M+=De}throw new Error("malformatted revision: "+ce)}function ge(ce,M){return(M?ie(M._rev)+1:1)+"-"+ce}P.d(et,{CM:()=>ge,Wg:()=>ie})},6052:(Vt,et,P)=>{"use strict";P.d(et,{o:()=>ee});var ee="15.28.1"},720:(Vt,et,P)=>{"use strict";P.d(et,{L$:()=>M,Z2:()=>ce,ky:()=>De,z3:()=>ie});var ee="abcdefghijklmnopqrstuvwxyz";function ie(Z=10){for(var Me="",Ne=0;Ne<Z;Ne++)Me+=ee.charAt(Math.floor(Math.random()*ee.length));return Me}function ce(Z){return(Z+="").charAt(0).toUpperCase()+Z.substr(1)}function M(Z){for(;"."===Z.charAt(0);)Z=Z.substr(1);for(;"."===Z.slice(-1);)Z=Z.slice(0,-1);return Z}function De(Z){return!(!Z.includes("/")&&!Z.includes("\\"))}},4552:(Vt,et,P)=>{"use strict";P.d(et,{t:()=>ie});var ee=0;function ie(){var ge=Date.now();(ge+=.01)<=ee&&(ge=ee+.01);var ce=parseFloat(ge.toFixed(2));return ee=ce,ce}},6259:(Vt,et,P)=>{"use strict";P.d(et,{Cx:()=>Z,XA:()=>M,n9:()=>Ne});var ee=P(9403),ie=P(4552),ge=P(5520),ce=function(){function se(){this._map=new Map}return se.prototype.getByQuery=function(Pe){var _e=Pe.toString();return(0,ee.q)(this._map,_e,()=>Pe)},se}();function M(){return new ce}function l(se,ze){ze.uncached=!0;var Re=ze.toString();se._map.delete(Re)}function De(se){return se.refCount$.observers.length}var Z=(100,3e4,(Re,Pe)=>{if(!(Pe._map.size<100)){var _e=(0,ie.t)()-3e4,Fe=[],xe=Array.from(Pe._map.values());for(var Ae of xe)if(!(De(Ae)>0)){if(0===Ae._lastEnsureEqual&&Ae._creationTime<_e){l(Pe,Ae);continue}Fe.push(Ae)}var We=Fe.length-100;We<=0||Fe.sort((Ye,ve)=>Ye._lastEnsureEqual-ve._lastEnsureEqual).slice(0,We).forEach(Ye=>l(Pe,Ye))}}),Me=new WeakSet;function Ne(se){Me.has(se)||(Me.add(se),(0,ge.dY)().then(()=>(0,ge.Ve)(200)).then(()=>{se.destroyed||se.cacheReplacementPolicy(se,se._queryCache),Me.delete(se)}))}},997:(Vt,et,P)=>{"use strict";P.d(et,{Cf:()=>De,OK:()=>M,g0:()=>ce,sk:()=>l});var ee=P(7176),ie=P(7650),ge=P(1885),ce="\uffff",M=Number.MIN_SAFE_INTEGER;function l(Ne,se){var ze=se.selector,Re=Ne.indexes?Ne.indexes.slice(0):[];se.index&&(Re=[se.index]);var Pe=!!se.sort.find(Ie=>"desc"===Object.values(Ie)[0]),_e=new Set;Object.keys(ze).forEach(Ie=>{var st=(0,ge.nT)(Ne,Ie);st&&"boolean"===st.type&&Object.prototype.hasOwnProperty.call(ze[Ie],"$eq")&&_e.add(Ie)});var We,xe=se.sort.map(Ie=>Object.keys(Ie)[0]).filter(Ie=>!_e.has(Ie)).join(","),Ae=-1;if(Re.forEach(Ie=>{var st=!0,Ye=!0,ve=Ie.map(Tt=>{var cn=ze[Tt],Jt=cn?Object.keys(cn):[],hn={};return cn&&Jt.length?Jt.forEach(Ge=>{if(De.has(Ge)){var be=function Z(Ne,se){switch(Ne){case"$eq":return{startKey:se,endKey:se,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:se,inclusiveEnd:!0};case"$gte":return{startKey:se,inclusiveStart:!0};case"$lt":return{endKey:se,inclusiveEnd:!1};case"$gt":return{startKey:se,inclusiveStart:!1};default:throw new Error("SNH")}}(Ge,cn[Ge]);hn=Object.assign(hn,be)}}):hn={startKey:Ye?M:ce,endKey:st?ce:M,inclusiveStart:!0,inclusiveEnd:!0},typeof hn.startKey>"u"&&(hn.startKey=M),typeof hn.endKey>"u"&&(hn.endKey=ce),typeof hn.inclusiveStart>"u"&&(hn.inclusiveStart=!0),typeof hn.inclusiveEnd>"u"&&(hn.inclusiveEnd=!0),Ye&&!hn.inclusiveStart&&(Ye=!1),st&&!hn.inclusiveEnd&&(st=!1),hn}),he=ve.map(Tt=>Tt.startKey),Y=ve.map(Tt=>Tt.endKey),pt={index:Ie,startKeys:he,endKeys:Y,inclusiveEnd:st,inclusiveStart:Ye,sortSatisfiedByIndex:!Pe&&xe===Ie.filter(Tt=>!_e.has(Tt)).join(","),selectorSatisfiedByIndex:Ue(Ie,se.selector,he,Y)},Ct=function Me(Ne,se,ze){var Re=0,Pe=Ie=>{Ie>0&&(Re+=Ie)},Fe=(0,ee.Sd)(ze.startKeys,Ie=>Ie!==M&&Ie!==ce);Pe(10*Fe);var xe=(0,ee.Sd)(ze.startKeys,Ie=>Ie!==ce&&Ie!==M);Pe(10*xe);var Ae=(0,ee.Sd)(ze.startKeys,(Ie,st)=>Ie===ze.endKeys[st]);return Pe(10*Ae*1.5),Pe(ze.sortSatisfiedByIndex?5:0),Re}(0,0,pt);(Ct>=Ae||se.index)&&(Ae=Ct,We=pt)}),!We)throw(0,ie.Br)("SNH",{query:se});return We}var De=new Set(["$eq","$gt","$gte","$lt","$lte"]),lt=new Set(["$eq","$gt","$gte"]),Be=new Set(["$eq","$lt","$lte"]);function Ue(Ne,se,ze,Re){if(Object.entries(se).find(([Ge,ae])=>!Ne.includes(Ge)||Object.entries(ae).find(([K,U])=>!De.has(K)))||se.$and||se.$or)return!1;var Fe=[],xe=new Set;for(var[Ae,We]of Object.entries(se)){if(!Ne.includes(Ae))return!1;var Ie=Object.keys(We).filter(Ge=>lt.has(Ge));if(Ie.length>1)return!1;var st=Ie[0];if(st&&xe.add(Ae),"$eq"!==st){if(Fe.length>0)return!1;Fe.push(st)}}var Ye=[],ve=new Set;for(var[he,Y]of Object.entries(se)){if(!Ne.includes(he))return!1;var pt=Object.keys(Y).filter(Ge=>Be.has(Ge));if(pt.length>1)return!1;var Ct=pt[0];if(Ct&&ve.add(he),"$eq"!==Ct){if(Ye.length>0)return!1;Ye.push(Ct)}}var Tt=0;for(var cn of Ne){for(var Jt of[xe,ve]){if(!Jt.has(cn)&&Jt.size>0)return!1;Jt.delete(cn)}if(ze[Tt]!==Re[Tt]&&xe.size>0&&ve.size>0)return!1;Tt++}return!0}},327:(Vt,et,P)=>{"use strict";P.d(et,{a:()=>lt,r:()=>Be});var ee=P(467),ie=P(6636),ge=P(6434),ce=P(2060),M=P(4552),l=P(6568),De=P(6893),lt=function(Z,Me){var Ne=(0,De.on)(Z.newDocumentState),se=(0,De.on)(Z.realMasterState);return(0,ie.b)(Ne,se)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:Z.realMasterState})};function Be(Z,Me,Ne){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,ee.A)(function*(Z,Me,Ne){var se=Z.input.conflictHandler,ze=yield se(Me,"replication-resolve-conflict");if(!ze.isEqual){var Re=Object.assign({},ze.documentData,{_meta:(0,ge.FD)(Ne._meta),_rev:(0,ce.Fq)(),_attachments:(0,ge.FD)(Ne._attachments)});return Re._meta.lwt=(0,M.t)(),Re._rev=(0,l.CM)(yield Z.checkpointKey,Ne),{resolvedDoc:Re,output:ze}}})).apply(this,arguments)}},312:(Vt,et,P)=>{"use strict";P.d(et,{_r:()=>ge,vk:()=>ie});var ee=P(3896);function ie(M){return M.documentData?M.documentData:M.previousDocumentData}function ge(M){switch(M.operation){case"INSERT":return{operation:M.operation,id:M.documentId,doc:M.documentData,previous:null};case"UPDATE":return{operation:M.operation,id:M.documentId,doc:ee.h.deepFreezeWhenDevMode(M.documentData),previous:M.previousDocumentData?M.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:M.operation,id:M.documentId,doc:null,previous:M.previousDocumentData}}}},1318:(Vt,et,P)=>{"use strict";P.d(et,{JY:()=>Me,X3:()=>Pe,vK:()=>Ne,vM:()=>ze});var ee=P(467),ie=P(6434),ge=P(2060),ce=P(4552),M=P(6568),l=P(1885),De=P(2284),lt=P(2104),Be=P(6893),Ue=P(3896),Z=P(7650);function Me(_e,Fe){return Fe=(0,ie.FD)(Fe),Fe=(0,l.pA)(_e,Fe),"string"!=typeof _e.jsonSchema.primaryKey&&(Fe=(0,l.Nq)(_e.primaryPath,_e.jsonSchema,Fe)),Fe._meta=(0,ge.o4)(),Object.prototype.hasOwnProperty.call(Fe,"_deleted")||(Fe._deleted=!1),Object.prototype.hasOwnProperty.call(Fe,"_attachments")||(Fe._attachments={}),Object.prototype.hasOwnProperty.call(Fe,"_rev")||(Fe._rev=(0,ge.Fq)()),Fe}function Ne(_e,Fe){return se.apply(this,arguments)}function se(){return(se=(0,ee.A)(function*(_e,Fe){return Fe.multiInstance=_e.multiInstance,yield _e.storage.createStorageInstance(Fe)})).apply(this,arguments)}function ze(_e,Fe,xe,Ae,We,Ie,st){return Re.apply(this,arguments)}function Re(){return Re=(0,ee.A)(function*(_e,Fe,xe,Ae,We,Ie,st){var ve=(yield(0,lt.WY)(Fe)).filter(Ct=>Ct.data.name===We),he=[];ve.forEach(Ct=>{he.push({collectionName:Ct.data.name,schema:Ct.data.schema,isCollection:!0}),Ct.data.connectedStorages.forEach(Tt=>he.push({collectionName:Tt.collectionName,isCollection:!1,schema:Tt.schema}))});var Y=new Set;if(he=he.filter(Ct=>{var Tt=Ct.collectionName+"||"+Ct.schema.version;return!Y.has(Tt)&&(Y.add(Tt),!0)}),yield Promise.all(he.map(function(){var Ct=(0,ee.A)(function*(Tt){var cn=yield _e.createStorageInstance({collectionName:Tt.collectionName,databaseInstanceToken:xe,databaseName:Ae,multiInstance:!1,options:{},schema:Tt.schema,password:Ie,devMode:Ue.h.isDevMode()});yield cn.remove(),Tt.isCollection&&(yield(0,De.FX)("postRemoveRxCollection",{storage:_e,databaseName:Ae,collectionName:We}))});return function(Tt){return Ct.apply(this,arguments)}}())),st){var pt=ve.map(Ct=>{var Tt=(0,Be.C9)(Ct);return Tt._deleted=!0,Tt._meta.lwt=(0,ce.t)(),Tt._rev=(0,M.CM)(xe,Ct),{previous:Ct,document:Tt}});yield Fe.bulkWrite(pt,"rx-database-remove-collection-all")}}),Re.apply(this,arguments)}function Pe(_e){if(_e.destroyed)throw(0,Z.Br)("COL21",{collection:_e.name,version:_e.schema.version})}},4395:(Vt,et,P)=>{"use strict";P.d(et,{wm:()=>hn,dN:()=>be});var ee=P(467),ie=P(6126),ge=P(5964),ce=P(1397),M=P(6354),l=P(5520),De=P(203),lt=P(8663),Be=P(6434),Ue=P(9403),Z=P(720),Me=P(1318),Ne=P(5672),se=P(7650),ze=P(9825),Re=P(6259),Pe=P(7176),_e=function(){function U(Q){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=Q,this.subs.push(this.collection.database.eventBulks$.pipe((0,ge.p)(J=>J.collectionName===this.collection.name),(0,ge.p)(J=>!J.events[0].isLocal)).subscribe(J=>{this.tasks.add(()=>this._handleChangeEvents(J.events)),this.tasks.size<=1&&(0,l.vN)().then(()=>{this.processTasks()})}))}var H=U.prototype;return H.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(oe=>oe()),this.tasks.clear())},H._handleChangeEvents=function(J){var oe=this.counter;this.counter=this.counter+J.length,J.length>this.limit?this.buffer=J.slice(-1*J.length):((0,Pe.Hb)(this.buffer,J),this.buffer=this.buffer.slice(-1*this.limit));for(var le=oe+1,Te=this.eventCounterMap,It=0;It<J.length;It++)Te.set(J[It],le+It)},H.getCounter=function(){return this.processTasks(),this.counter},H.getBuffer=function(){return this.processTasks(),this.buffer},H.getArrayIndexByPointer=function(J){this.processTasks();var le=this.eventCounterMap.get(this.buffer[0]);return J<le?null:J-le},H.getFrom=function(J){this.processTasks();var oe=[],le=this.getArrayIndexByPointer(J);if(null===le)return null;for(;;){var Te=this.buffer[le];if(le++,!Te)return oe;oe.push(Te)}},H.runFrom=function(J,oe){this.processTasks();var le=this.getFrom(J);if(null===le)throw new Error("out of bounds");le.forEach(Te=>oe(Te))},H.reduceByLastOfDoc=function(J){return this.processTasks(),J.slice(0)},H.destroy=function(){this.tasks.clear(),this.subs.forEach(J=>J.unsubscribe())},U}(),xe=P(2284),Ae=P(5908),We=P(3896),Ie=new WeakMap;var Y=P(6893),pt=P(327),Ct=P(6706),Tt=["pre","post"],cn=["insert","save","remove","create"],Jt=!1,hn=function(){function U(Q,J,oe,le,Te={},It={},Ft={},Mt={},Bt={},en=Re.Cx,rn={},an=pt.a){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=(0,Re.XA)(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=Q,this.name=J,this.schema=oe,this.internalStorageInstance=le,this.instanceCreationOptions=Te,this.migrationStrategies=It,this.methods=Ft,this.attachments=Mt,this.options=Bt,this.cacheReplacementPolicy=en,this.statics=rn,this.conflictHandler=an,function Mn(U){if(!Jt){Jt=!0;var H=Object.getPrototypeOf(U);cn.forEach(Q=>{Tt.map(J=>{var oe=J+(0,Z.Z2)(Q);H[oe]=function(le,Te){return this.addHook(J,Q,le,Te)}})})}}(this.asRxCollection)}var H=U.prototype;return H.prepare=function(){var Q=(0,ee.A)(function*(){var oe=this;this.storageInstance=(0,Y.AM)(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Ct.N6(this.storageInstance,this.schema.primaryPath,(Bt,en)=>(0,Ae.Lt)(this,Bt,en),Bt=>this._runHooks("post","save",Bt));var Te,le=this.database.eventBulks$.pipe((0,ge.p)(Bt=>Bt.collectionName===this.name));this.$=le.pipe((0,ce.Z)(Bt=>Bt.events)),this.checkpoint$=le.pipe((0,M.T)(Bt=>Bt.checkpoint)),this._changeEventBuffer=function Fe(U){return new _e(U)}(this.asRxCollection),this._docCache=new ze.K(this.schema.primaryPath,this.database.eventBulks$.pipe((0,ge.p)(Bt=>Bt.collectionName===this.name&&!Bt.events[0].isLocal),(0,M.T)(Bt=>Bt.events)),Bt=>(Te||(Te=function Ye(U){return(0,Ue.q)(Ie,U,()=>(0,Ae.cM)(function st(U){var H=U.schema.getDocumentPrototype(),Q=function he(U){var H={};return Object.entries(U.methods).forEach(([Q,J])=>{H[Q]=J}),H}(U),oe={};return[H,Q,Ae.ky].forEach(le=>{Object.getOwnPropertyNames(le).forEach(It=>{var Ft=Object.getOwnPropertyDescriptor(le,It),Mt=!0;(It.startsWith("_")||It.endsWith("_")||It.startsWith("$")||It.endsWith("$"))&&(Mt=!1),"function"==typeof Ft.value?Object.defineProperty(oe,It,{get(){return Ft.value.bind(this)},enumerable:Mt,configurable:!1}):(Ft.enumerable=Mt,Ft.configurable=!1,Ft.writable&&(Ft.writable=!1),Object.defineProperty(oe,It,Ft))})}),oe}(U)))}(this.asRxCollection)),function ve(U,H,Q){var J=(0,Ae.Zb)(H,U,We.h.deepFreezeWhenDevMode(Q));return U._runHooksSync("post","create",Q,J),(0,xe.Xi)("postCreateRxDocument",J),J}(this.asRxCollection,Te,Bt)));var It=this.database.internalStore.changeStream().pipe((0,ge.p)(Bt=>{var en=this.name+"-"+this.schema.version;return!!Bt.events.find(an=>"collection"===an.documentData.context&&an.documentData.key===en&&"DELETE"===an.operation)})).subscribe((0,ee.A)(function*(){yield oe.destroy(),yield Promise.all(oe.onRemove.map(Bt=>Bt()))}));this._subs.push(It);var Ft=yield this.database.storageToken,Mt=this.storageInstance.changeStream().subscribe(Bt=>{for(var en=new Array(Bt.events.length),rn=Bt.events,an=this.name,$t=We.h.deepFreezeWhenDevMode,un=0;un<rn.length;un++){var tn=rn[un];en[un]={documentId:tn.documentId,collectionName:an,isLocal:!1,operation:tn.operation,documentData:$t(tn.documentData),previousDocumentData:$t(tn.previousDocumentData)}}this.database.$emit({id:Bt.id,internal:!1,collectionName:this.name,storageToken:Ft,events:en,databaseToken:this.database.token,checkpoint:Bt.checkpoint,context:Bt.context,endTime:Bt.endTime,startTime:Bt.startTime})});return this._subs.push(Mt),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(Bt=>{this.conflictHandler(Bt.input,Bt.context).then(en=>{this.storageInstance.resolveConflictResultionTask({id:Bt.id,output:en})})})),l.em});return function J(){return Q.apply(this,arguments)}}(),H.cleanup=function(J){throw(0,Me.X3)(this),(0,De.u)("cleanup")},H.migrationNeeded=function(){throw(0,De.u)("migration-schema")},H.getMigrationState=function(){throw(0,De.u)("migration-schema")},H.startMigration=function(J=10){return(0,Me.X3)(this),this.getMigrationState().startMigration(J)},H.migratePromise=function(J=10){return this.getMigrationState().migratePromise(J)},H.insert=function(){var Q=(0,ee.A)(function*(oe){(0,Me.X3)(this);var le=yield this.bulkInsert([oe]);return(0,Y.WX)(this,oe[this.schema.primaryPath],oe,le.error[0]),(0,lt.ZN)(le.success[0])});return function J(oe){return Q.apply(this,arguments)}}(),H.bulkInsert=function(){var Q=(0,ee.A)(function*(oe){if((0,Me.X3)(this),0===oe.length)return{success:[],error:[]};var Te,le=this.schema.primaryPath;if(this.hasHooks("pre","insert"))Te=yield Promise.all(oe.map(tn=>{var Pn=(0,Me.JY)(this.schema,tn);return this._runHooks("pre","insert",Pn).then(()=>({document:Pn}))}));else{Te=new Array(oe.length);for(var It=this.schema,Ft=0;Ft<oe.length;Ft++){var Bt=(0,Me.JY)(It,oe[Ft]);Te[Ft]={document:Bt}}}var rn,en=yield this.storageInstance.bulkWrite(Te,"rx-collection-bulk-insert"),an=this,$t={get success(){if(!rn){var tn=(0,Y.YN)(an.schema.primaryPath,Te,en);rn=(0,ze.X)(an._docCache,tn)}return rn},error:en.error};if(this.hasHooks("post","insert")){var un=new Map;Te.forEach(tn=>{var Pn=tn.document;un.set(Pn[le],Pn)}),yield Promise.all($t.success.map(tn=>this._runHooks("post","insert",un.get(tn.primary),tn)))}return $t});return function J(oe){return Q.apply(this,arguments)}}(),H.bulkRemove=function(){var Q=(0,ee.A)(function*(oe){(0,Me.X3)(this);var le=this.schema.primaryPath;if(0===oe.length)return{success:[],error:[]};var Te=yield this.findByIds(oe).exec(),It=[],Ft=new Map;Array.from(Te.values()).forEach($t=>{var un=$t.toMutableJSON(!0);It.push(un),Ft.set($t.primary,un)}),yield Promise.all(It.map($t=>this._runHooks("pre","remove",$t,Te.get($t[this.schema.primaryPath]))));var Mt=It.map($t=>{var un=(0,Be.FD)($t);return un._deleted=!0,{previous:$t,document:un}}),Bt=yield this.storageInstance.bulkWrite(Mt,"rx-collection-bulk-remove"),rn=(0,Y.YN)(this.schema.primaryPath,Mt,Bt).map($t=>$t[le]);return yield Promise.all(rn.map($t=>this._runHooks("post","remove",Ft.get($t),Te.get($t)))),{success:rn.map($t=>(0,Ue.m)(Te,$t)),error:Bt.error}});return function J(oe){return Q.apply(this,arguments)}}(),H.bulkUpsert=function(){var Q=(0,ee.A)(function*(oe){var le=this;(0,Me.X3)(this);var Te=[],It=new Map;oe.forEach(en=>{var rn=(0,Me.JY)(this.schema,en),an=rn[this.schema.primaryPath];if(!an)throw(0,se.Br)("COL3",{primaryPath:this.schema.primaryPath,data:rn,schema:this.schema.jsonSchema});It.set(an,rn),Te.push(rn)});var Ft=yield this.bulkInsert(Te),Mt=Ft.success.slice(0),Bt=[];return yield Promise.all(Ft.error.map(function(){var en=(0,ee.A)(function*(rn){if(409!==rn.status)Bt.push(rn);else{var $t=(0,Ue.m)(It,rn.documentId),un=(0,lt.ZN)(rn.documentInDb),tn=le._docCache.getCachedRxDocuments([un])[0],Pn=yield tn.incrementalModify(()=>$t);Mt.push(Pn)}});return function(rn){return en.apply(this,arguments)}}())),{error:Bt,success:Mt}});return function J(oe){return Q.apply(this,arguments)}}(),H.upsert=function(){var Q=(0,ee.A)(function*(oe){(0,Me.X3)(this);var le=yield this.bulkUpsert([oe]);return(0,Y.WX)(this.asRxCollection,oe[this.schema.primaryPath],oe,le.error[0]),le.success[0]});return function J(oe){return Q.apply(this,arguments)}}(),H.incrementalUpsert=function(J){(0,Me.X3)(this);var oe=(0,Me.JY)(this.schema,J),le=oe[this.schema.primaryPath];if(!le)throw(0,se.Br)("COL4",{data:J});var Te=this._incrementalUpsertQueues.get(le);return Te||(Te=l.em),Te=Te.then(()=>function ae(U,H,Q){var J=U._docCache.getLatestDocumentDataIfExists(H);return J?Promise.resolve({doc:U._docCache.getCachedRxDocuments([J])[0],inserted:!1}):U.findOne(H).exec().then(oe=>oe?{doc:oe,inserted:!1}:U.insert(Q).then(le=>({doc:le,inserted:!0})))}(this,le,oe)).then(It=>It.inserted?It.doc:function Ge(U,H){return U.incrementalModify(Q=>H)}(It.doc,oe)),this._incrementalUpsertQueues.set(le,Te),Te},H.find=function(J){if((0,Me.X3)(this),"string"==typeof J)throw(0,se.Br)("COL5",{queryObj:J});return J||(J=(0,Ne.XX)()),(0,Ne.nd)("find",J,this)},H.findOne=function(J){if((0,Me.X3)(this),"number"==typeof J||Array.isArray(J))throw(0,se.JX)("COL6",{queryObj:J});var oe;if("string"==typeof J)oe=(0,Ne.nd)("findOne",{selector:{[this.schema.primaryPath]:J},limit:1},this);else{if(J||(J=(0,Ne.XX)()),J.limit)throw(0,se.Br)("QU6");(J=(0,Be.FD)(J)).limit=1,oe=(0,Ne.nd)("findOne",J,this)}return oe},H.count=function(J){return(0,Me.X3)(this),J||(J=(0,Ne.XX)()),(0,Ne.nd)("count",J,this)},H.findByIds=function(J){(0,Me.X3)(this);var oe={selector:{[this.schema.primaryPath]:{$in:J.slice(0)}}};return(0,Ne.nd)("findByIds",oe,this)},H.exportJSON=function(){throw(0,De.u)("json-dump")},H.importJSON=function(J){throw(0,De.u)("json-dump")},H.insertCRDT=function(J){throw(0,De.u)("crdt")},H.addHook=function(J,oe,le,Te=!1){if("function"!=typeof le)throw(0,se.JX)("COL7",{key:oe,when:J});if(!Tt.includes(J))throw(0,se.JX)("COL8",{key:oe,when:J});if(!cn.includes(oe))throw(0,se.Br)("COL9",{key:oe});if("post"===J&&"create"===oe&&!0===Te)throw(0,se.Br)("COL10",{when:J,key:oe,parallel:Te});var It=le.bind(this),Ft=Te?"parallel":"series";this.hooks[oe]=this.hooks[oe]||{},this.hooks[oe][J]=this.hooks[oe][J]||{series:[],parallel:[]},this.hooks[oe][J][Ft].push(It)},H.getHooks=function(J,oe){return this.hooks[oe]&&this.hooks[oe][J]?this.hooks[oe][J]:{series:[],parallel:[]}},H.hasHooks=function(J,oe){if(!this.hooks[oe]||!this.hooks[oe][J])return!1;var le=this.getHooks(J,oe);return!!le&&(le.series.length>0||le.parallel.length>0)},H._runHooks=function(J,oe,le,Te){var It=this.getHooks(J,oe);if(!It)return l.em;var Ft=It.series.map(Mt=>()=>Mt(le,Te));return(0,l.h$)(Ft).then(()=>Promise.all(It.parallel.map(Mt=>Mt(le,Te))))},H._runHooksSync=function(J,oe,le,Te){if(this.hasHooks(J,oe)){var It=this.getHooks(J,oe);It&&It.series.forEach(Ft=>Ft(le,Te))}},H.promiseWait=function(J){return new Promise(le=>{var Te=setTimeout(()=>{this.timeouts.delete(Te),le()},J);this.timeouts.add(Te)})},H.destroy=function(){var Q=(0,ee.A)(function*(){return this.destroyed?l.Dr:(yield Promise.all(this.onDestroy.map(oe=>oe())),this.destroyed=!0,Array.from(this.timeouts).forEach(oe=>clearTimeout(oe)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(oe=>oe.unsubscribe()),delete this.database.collections[this.name],(0,xe.FX)("postDestroyRxCollection",this).then(()=>!0))))});return function J(){return Q.apply(this,arguments)}}(),H.remove=function(){var Q=(0,ee.A)(function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(oe=>oe())),yield(0,Me.vM)(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)});return function J(){return Q.apply(this,arguments)}}(),(0,ie.A)(U,[{key:"insert$",get:function(){return this.$.pipe((0,ge.p)(Q=>"INSERT"===Q.operation))}},{key:"update$",get:function(){return this.$.pipe((0,ge.p)(Q=>"UPDATE"===Q.operation))}},{key:"remove$",get:function(){return this.$.pipe((0,ge.p)(Q=>"DELETE"===Q.operation))}},{key:"asRxCollection",get:function(){return this}}])}();function be({database:U,name:H,schema:Q,instanceCreationOptions:J={},migrationStrategies:oe={},autoMigrate:le=!0,statics:Te={},methods:It={},attachments:Ft={},options:Mt={},localDocuments:Bt=!1,cacheReplacementPolicy:en=Re.Cx,conflictHandler:rn=pt.a}){var an={databaseInstanceToken:U.token,databaseName:U.name,collectionName:H,schema:Q.jsonSchema,options:J,multiInstance:U.multiInstance,password:U.password,devMode:We.h.isDevMode()};return(0,xe.Xi)("preCreateRxStorageInstance",an),(0,Me.vK)(U,an).then($t=>{var un=new hn(U,H,Q,$t,J,oe,It,Ft,Mt,en,Te,rn);return un.prepare().then(()=>{Object.entries(Te).forEach(([Pn,In])=>{Object.defineProperty(un,Pn,{get:()=>In.bind(un)})});var tn=l.em;return le&&0!==un.schema.version&&(tn=un.migratePromise()),tn}).then(()=>((0,xe.Xi)("createRxCollection",{collection:un,creator:{name:H,schema:Q,storageInstance:$t,instanceCreationOptions:J,migrationStrategies:oe,methods:It,attachments:Ft,options:Mt,cacheReplacementPolicy:en,localDocuments:Bt,statics:Te}}),un)).catch(tn=>$t.close().then(()=>Promise.reject(tn)))})}},2104:(Vt,et,P)=>{"use strict";P.d(et,{CC:()=>se,Nu:()=>Ue,WY:()=>Re,bD:()=>Ye,bV:()=>he,lz:()=>ze,ol:()=>xe,vV:()=>Ie});var ee=P(467),ie=P(7650),ge=P(1885),ce=P(6893),M=P(720),l=P(2060),De=P(8663),lt=P(6434),Be=P(5672),Ue="collection",Z="storage-token",se=(0,ge.Ud)({version:0,title:"RxInternalDocument",primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Ue,Z,"rx-migration-status","OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function ze(Y,pt){return(0,ge.U)(se,{key:Y,context:pt})}function Re(Y){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,ee.A)(function*(Y){var pt=(0,Be.Ib)(Y.schema,{selector:{context:Ue,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0});return(yield Y.query(pt)).documents})).apply(this,arguments)}var _e="storageToken",Fe=ze(_e,Z);function xe(Y){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,ee.A)(function*(Y){var pt=(0,M.z3)(10),Ct=Y.password?yield Y.hashFunction(JSON.stringify(Y.password)):void 0,cn=[{document:{id:Fe,context:Z,key:_e,data:{rxdbVersion:Y.rxdbVersion,token:pt,instanceToken:Y.token,passwordHash:Ct},_deleted:!1,_meta:(0,l.o4)(),_rev:(0,l.Fq)(),_attachments:{}}}],Jt=yield Y.internalStore.bulkWrite(cn,"internal-add-storage-token");if(!Jt.error[0])return(0,ce.YN)("id",cn,Jt)[0];var hn=(0,De.ZN)(Jt.error[0]);if(hn.isError&&(0,ie.sX)(hn)){var Mn=hn;if(!function We(Y,pt){return!(!Y||pt.includes("beta")&&pt!==Y)&&Y.split(".")[0]===pt.split(".")[0]}(Mn.documentInDb.data.rxdbVersion,Y.rxdbVersion))throw(0,ie.Br)("DM5",{args:{database:Y.name,databaseStateVersion:Mn.documentInDb.data.rxdbVersion,codeVersion:Y.rxdbVersion}});if(Ct&&Ct!==Mn.documentInDb.data.passwordHash)throw(0,ie.Br)("DB1",{passwordHash:Ct,existingPasswordHash:Mn.documentInDb.data.passwordHash});return(0,De.ZN)(Mn.documentInDb)}throw hn})).apply(this,arguments)}function Ie(Y,pt,Ct){return st.apply(this,arguments)}function st(){return(st=(0,ee.A)(function*(Y,pt,Ct){if(Y.schema.version!==Ct.version)throw(0,ie.Br)("SNH",{schema:Ct,version:Y.schema.version,name:Y.name,collection:Y,args:{storageCollectionName:pt}});for(var cn=ze(he(Y.name,Y.schema.jsonSchema),Ue);;){var Jt=yield(0,ce.O5)(Y.database.internalStore,cn),hn=(0,lt.o8)((0,De.ZN)(Jt));if(hn.data.connectedStorages.find(Ge=>Ge.collectionName===pt&&Ge.schema.version===Ct.version))return;hn.data.connectedStorages.push({collectionName:pt,schema:Ct});try{yield(0,ce.mQ)(Y.database.internalStore,{previous:(0,De.ZN)(Jt),document:hn},"add-connected-storage-to-collection")}catch(Ge){if(!(0,ie.sX)(Ge))throw Ge}}})).apply(this,arguments)}function Ye(Y,pt,Ct){return ve.apply(this,arguments)}function ve(){return(ve=(0,ee.A)(function*(Y,pt,Ct){if(Y.schema.version!==Ct.version)throw(0,ie.Br)("SNH",{schema:Ct,version:Y.schema.version,name:Y.name,collection:Y,args:{storageCollectionName:pt}});for(var cn=ze(he(Y.name,Y.schema.jsonSchema),Ue);;){var Jt=yield(0,ce.O5)(Y.database.internalStore,cn),hn=(0,lt.o8)((0,De.ZN)(Jt));if(!hn.data.connectedStorages.find(Ge=>Ge.collectionName===pt&&Ge.schema.version===Ct.version))return;hn.data.connectedStorages=hn.data.connectedStorages.filter(Ge=>Ge.collectionName!==pt);try{yield(0,ce.mQ)(Y.database.internalStore,{previous:(0,De.ZN)(Jt),document:hn},"remove-connected-storage-from-collection")}catch(Ge){if(!(0,ie.sX)(Ge))throw Ge}}})).apply(this,arguments)}function he(Y,pt){return Y+"-"+pt.version}},7396:(Vt,et,P)=>{"use strict";P.d(et,{lB:()=>Y,uh:()=>cn,NI:()=>ae});var ee=P(467),ie=P(6126),ge=function(){this._parallels=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function M(H,Q){if(Q){if(Q._timeoutObj&&clearTimeout(Q._timeoutObj),H._pHM.has(Q)){var J=H._pHM.get(Q);H._hPM.delete(J),H._pHM.delete(Q)}H._iC.delete(Q)}}function l(H){H._tryIR||0===H._iC.size||(H._tryIR=!0,setTimeout(function(){H.isIdle()?setTimeout(function(){H.isIdle()?(function ce(H){0!==H._iC.size&&(H._iC.values().next().value._manRes(),setTimeout(function(){return l(H)},0))}(H),H._tryIR=!1):H._tryIR=!1},0):H._tryIR=!1},0))}ge.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,l(this)},wrapCall:function(Q){var oe,J=this;this.lock();try{oe=Q()}catch(le){throw this.unlock(),le}return oe.then&&"function"==typeof oe.then?oe.then(function(le){return J.unlock(),le}).catch(function(le){throw J.unlock(),le}):(this.unlock(),oe)},requestIdlePromise:function(Q){var J=this;Q=Q||{};var oe,le=new Promise(function(Ft){return oe=Ft});if(le._manRes=function(){M(J,le),oe()},Q.timeout){var It=setTimeout(function(){le._manRes()},Q.timeout);le._timeoutObj=It}return this._iC.add(le),l(this),le},cancelIdlePromise:function(Q){M(this,Q)},requestIdleCallback:function(Q,J){var oe=this._lHN++,le=this.requestIdlePromise(J);return this._hPM.set(oe,le),this._pHM.set(le,oe),le.then(function(){return Q()}),oe},cancelIdleCallback:function(Q){var J=this._hPM.get(Q);this.cancelIdlePromise(J)},clear:function(){var Q=this;this._iC.forEach(function(J){return M(Q,J)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var De=P(6052),lt=P(5520),Be=P(2060),Ue=P(6434),Z=P(8663),Me=P(203),Ne=P(6243),se=P(720),ze=P(7650),Re=P(9182),Pe=P(2284),_e=P(1413),Fe=P(1397),xe=P(4395),Ae=P(6893),We=P(9556),Ie=P(2104),st=P(1318),Ye=P(3896),ve=new Set,Y=function(){function H(J,oe,le,Te,It,Ft,Mt=!1,Bt={},en,rn,an,$t,un){this.idleQueue=new ge,this.rxdbVersion=De.o,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new _e.B,this.observable$=this.eventBulks$.pipe((0,Fe.Z)(tn=>tn.events)),this.storageToken=lt.Dr,this.storageTokenDocument=lt.Dr,this.emittedEventBulkIds=new We.p4(6e4),this.name=J,this.token=oe,this.storage=le,this.instanceCreationOptions=Te,this.password=It,this.multiInstance=Ft,this.eventReduce=Mt,this.options=Bt,this.internalStore=en,this.hashFunction=rn,this.cleanupPolicy=an,this.allowSlowCount=$t,this.reactivity=un,"pseudoInstance"!==this.name&&(this.internalStore=(0,Ae.AM)(this.asRxDatabase,en,Ie.CC),this.storageTokenDocument=(0,Ie.ol)(this.asRxDatabase).catch(tn=>this.startupErrors.push(tn)),this.storageToken=this.storageTokenDocument.then(tn=>tn.data.token).catch(tn=>this.startupErrors.push(tn)))}var Q=H.prototype;return Q.getReactivityFactory=function(){if(!this.reactivity)throw(0,ze.Br)("DB14",{database:this.name});return this.reactivity},Q.$emit=function(oe){this.emittedEventBulkIds.has(oe.id)||(this.emittedEventBulkIds.add(oe.id),this.eventBulks$.next(oe))},Q.removeCollectionDoc=function(){var J=(0,ee.A)(function*(le,Te){var It=yield(0,Ae.O5)(this.internalStore,(0,Ie.lz)((0,Ie.bV)(le,Te),Ie.Nu));if(!It)throw(0,ze.Br)("SNH",{name:le,schema:Te});var Ft=(0,Ae.C9)(It);Ft._deleted=!0,yield this.internalStore.bulkWrite([{document:Ft,previous:It}],"rx-database-remove-collection")});return function oe(le,Te){return J.apply(this,arguments)}}(),Q.addCollections=function(){var J=(0,ee.A)(function*(le){var Te=this,It={},Ft={},Mt=[],Bt={};yield Promise.all(Object.entries(le).map(function(){var an=(0,ee.A)(function*([$t,un]){var tn=$t,Pn=un.schema;It[tn]=Pn;var In=(0,Re.Wq)(Pn,Te.hashFunction);if(Ft[tn]=In,Te.collections[$t])throw(0,ze.Br)("DB3",{name:$t});var Xi=(0,Ie.bV)($t,Pn),Qi={id:(0,Ie.lz)(Xi,Ie.Nu),key:Xi,context:Ie.Nu,data:{name:tn,schemaHash:yield In.hash,schema:In.jsonSchema,version:In.version,connectedStorages:[]},_deleted:!1,_meta:(0,Be.o4)(),_rev:(0,Be.Fq)(),_attachments:{}};Mt.push({document:Qi});var Nr=Object.assign({},un,{name:tn,schema:In,database:Te}),zt=(0,Ue.FD)(un);zt.database=Te,zt.name=$t,(0,Pe.Xi)("preCreateRxCollection",zt),Nr.conflictHandler=zt.conflictHandler,Bt[tn]=Nr});return function($t){return an.apply(this,arguments)}}()));var en=yield this.internalStore.bulkWrite(Mt,"rx-database-add-collection");yield function K(H){return U.apply(this,arguments)}(this),yield Promise.all(en.error.map(function(){var an=(0,ee.A)(function*($t){if(409!==$t.status)throw(0,ze.Br)("DB12",{database:Te.name,writeError:$t});var un=(0,Z.ZN)($t.documentInDb),tn=un.data.name,Pn=Ft[tn];if(un.data.schemaHash!==(yield Pn.hash))throw(0,ze.Br)("DB6",{database:Te.name,collection:tn,previousSchemaHash:un.data.schemaHash,schemaHash:yield Pn.hash,previousSchema:un.data.schema,schema:(0,Z.ZN)(It[tn])})});return function($t){return an.apply(this,arguments)}}()));var rn={};return yield Promise.all(Object.keys(le).map(function(){var an=(0,ee.A)(function*($t){var un=Bt[$t],tn=yield(0,xe.dN)(un);rn[$t]=tn,Te.collections[$t]=tn,Te[$t]||Object.defineProperty(Te,$t,{get:()=>Te.collections[$t]})});return function($t){return an.apply(this,arguments)}}())),rn});return function oe(le){return J.apply(this,arguments)}}(),Q.lockedRun=function(oe){return this.idleQueue.wrapCall(oe)},Q.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},Q.exportJSON=function(oe){throw(0,Me.u)("json-dump")},Q.addState=function(oe){throw(0,Me.u)("state")},Q.importJSON=function(oe){throw(0,Me.u)("json-dump")},Q.backup=function(oe){throw(0,Me.u)("backup")},Q.leaderElector=function(){throw(0,Me.u)("leader-election")},Q.isLeader=function(){throw(0,Me.u)("leader-election")},Q.waitForLeadership=function(){throw(0,Me.u)("leader-election")},Q.migrationStates=function(){throw(0,Me.u)("migration-schema")},Q.destroy=function(){var J=(0,ee.A)(function*(){return this.destroyed||(this.destroyed=!0,yield(0,Pe.FX)("preDestroyRxDatabase",this),this.eventBulks$.complete(),this._subs.map(le=>le.unsubscribe()),"pseudoInstance"===this.name)?lt.Dr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(le=>le()))).then(()=>Promise.all(Object.keys(this.collections).map(le=>this.collections[le]).map(le=>le.destroy()))).then(()=>this.internalStore.close()).then(()=>ve.delete(this.storage.name+"|"+this.name)).then(()=>!0)});return function oe(){return J.apply(this,arguments)}}(),Q.remove=function(){return this.destroy().then(()=>function Jt(H,Q,J){return hn.apply(this,arguments)}(this.name,this.storage,this.password))},(0,ie.A)(H,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function Ct(H,Q,J,oe,le,Te){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,ee.A)(function*(H,Q,J,oe,le,Te){return yield Q.createStorageInstance({databaseInstanceToken:H,databaseName:J,collectionName:Ae.OG,schema:Ie.CC,options:oe,multiInstance:le,password:Te,devMode:Ye.h.isDevMode()})})).apply(this,arguments)}function cn({storage:H,instanceCreationOptions:Q,name:J,password:oe,multiInstance:le=!0,eventReduce:Te=!0,ignoreDuplicate:It=!1,options:Ft={},cleanupPolicy:Mt,allowSlowCount:Bt=!1,localDocuments:en=!1,hashFunction:rn=Ne.V0,reactivity:an}){(0,Pe.Xi)("preCreateRxDatabase",{storage:H,instanceCreationOptions:Q,name:J,password:oe,multiInstance:le,eventReduce:Te,ignoreDuplicate:It,options:Ft,localDocuments:en}),It||function pt(H,Q){if(ve.has(Q.name+"|"+H))throw(0,ze.Br)("DB8",{name:H,storage:Q.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}(J,H),ve.add(H.name+"|"+J);var $t=(0,se.z3)(10);return Ct($t,H,J,Q,le,oe).catch(un=>{throw ve.delete(H.name+"|"+J),un}).then(un=>{var tn=new Y(J,$t,H,Q,oe,le,Te,Ft,un,rn,Mt,Bt,an);return(0,Pe.FX)("createRxDatabase",{database:tn,creator:{storage:H,instanceCreationOptions:Q,name:J,password:oe,multiInstance:le,eventReduce:Te,ignoreDuplicate:It,options:Ft,localDocuments:en}}).then(()=>tn)})}function hn(){return(hn=(0,ee.A)(function*(H,Q,J){var oe=(0,se.z3)(10),le=yield Ct(oe,Q,H,{},!1,J),Te=yield(0,Ie.WY)(le),It=new Set;Te.forEach(Mt=>It.add(Mt.data.name));var Ft=Array.from(It);return yield Promise.all(Ft.map(Mt=>(0,st.vM)(Q,le,oe,H,Mt,J))),yield(0,Pe.FX)("postRemoveRxDatabase",{databaseName:H,storage:Q}),yield le.remove(),Ft})).apply(this,arguments)}function ae(H){return be.apply(this,arguments)}function be(){return(be=(0,ee.A)(function*(H){return(yield H.storageTokenDocument).data.instanceToken===H.token})).apply(this,arguments)}function U(){return(U=(0,ee.A)(function*(H){if(yield H.storageToken,H.startupErrors[0])throw H.startupErrors[0]})).apply(this,arguments)}},5908:(Vt,et,P)=>{"use strict";P.d(et,{Lt:()=>Ye,Zb:()=>Ie,cM:()=>We,ky:()=>Ae});var ee=P(467),ie=P(6354),ge=P(5964),ce=P(9172),M=P(3294),l=P(6496),De=P(8663),lt=P(1744),Be=P(5520),Ue=P(9403),Z=P(6434),Me=P(720),Ne=P(203),se=P(7650),ze=P(2284),Re=P(312),Pe=P(3896),_e=P(1885),Fe=P(6893),xe=P(6706),Ae={get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){if(this.isInstanceOfRxDocument)return this._data[this.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this.$.pipe((0,ie.T)(he=>he._data._deleted))},get deleted$$(){return this.collection.database.getReactivityFactory().fromObservable(this.deleted$,this.getLatest().deleted,this.collection.database)},get deleted(){if(this.isInstanceOfRxDocument)return this._data._deleted},getLatest(){var ve=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(ve)},get $(){return this.collection.$.pipe((0,ge.p)(he=>!he.isLocal),(0,ge.p)(he=>he.documentId===this.primary),(0,ie.T)(he=>(0,Re.vk)(he)),(0,ce.Z)(this.collection._docCache.getLatestDocumentData(this.primary)),(0,M.F)((he,Y)=>he._rev===Y._rev),(0,ie.T)(he=>this.collection._docCache.getCachedRxDocument(he)),(0,l.t)(De.bz))},get $$(){return this.collection.database.getReactivityFactory().fromObservable(this.$,this.getLatest()._data,this.collection.database)},get$(ve){if(Pe.h.isDevMode()){if(ve.includes(".item."))throw(0,se.Br)("DOC1",{path:ve});if(ve===this.primaryPath)throw(0,se.Br)("DOC2");if(this.collection.schema.finalFields.includes(ve))throw(0,se.Br)("DOC3",{path:ve});if(!(0,_e.nT)(this.collection.schema.jsonSchema,ve))throw(0,se.Br)("DOC4",{path:ve})}return this.$.pipe((0,ie.T)(Y=>(0,lt.UU)(Y,ve)),(0,M.F)())},get$$(ve){var he=this.get$(ve);return this.collection.database.getReactivityFactory().fromObservable(he,this.getLatest().get(ve),this.collection.database)},populate(ve){var he=(0,_e.nT)(this.collection.schema.jsonSchema,ve),Y=this.get(ve);if(!Y)return Be.$A;if(!he)throw(0,se.Br)("DOC5",{path:ve});if(!he.ref)throw(0,se.Br)("DOC6",{path:ve,schemaObj:he});var pt=this.collection.database.collections[he.ref];if(!pt)throw(0,se.Br)("DOC7",{ref:he.ref,path:ve,schemaObj:he});return"array"===he.type?pt.findByIds(Y).exec().then(Ct=>{var Tt=Ct.values();return Array.from(Tt)}):pt.findOne(Y).exec()},get(ve){return(0,Ue.q)(this._propertyCache,ve,()=>{var he=(0,lt.UU)(this._data,ve);if("object"!=typeof he||null===he||Array.isArray(he))return Pe.h.deepFreezeWhenDevMode(he);var Y=this;return new Proxy((0,Z.FD)(he),{get(Ct,Tt){if("string"!=typeof Tt)return Ct[Tt];var cn=Tt.charAt(Tt.length-1);if(Tt.endsWith("$$")){var Jt=Tt.slice(0,-2);return Y.get$$((0,Me.L$)(ve+"."+Jt))}if("$"===cn){var hn=Tt.slice(0,-1);return Y.get$((0,Me.L$)(ve+"."+hn))}if("_"===cn){var Mn=Tt.slice(0,-1);return Y.populate((0,Me.L$)(ve+"."+Mn))}return Y.get((0,Me.L$)(ve+"."+Tt))}})})},toJSON(ve=!1){if(ve)return Pe.h.deepFreezeWhenDevMode(this._data);var he=(0,Z.FD)(this._data);return delete he._rev,delete he._attachments,delete he._deleted,delete he._meta,Pe.h.deepFreezeWhenDevMode(he)},toMutableJSON(ve=!1){return(0,Z.o8)(this.toJSON(ve))},update(ve){throw(0,Ne.u)("update")},incrementalUpdate(ve){throw(0,Ne.u)("update")},updateCRDT(ve){throw(0,Ne.u)("crdt")},putAttachment(){throw(0,Ne.u)("attachments")},getAttachment(){throw(0,Ne.u)("attachments")},allAttachments(){throw(0,Ne.u)("attachments")},get allAttachments$(){throw(0,Ne.u)("attachments")},modify(ve,he){var Y=this;return(0,ee.A)(function*(){var pt=Y._data,Ct=yield(0,xe.Hl)(ve)(pt);return Y._saveData(Ct,pt)})()},incrementalModify(ve,he){return this.collection.incrementalWriteQueue.addWrite(this._data,(0,xe.Hl)(ve)).then(Y=>this.collection._docCache.getCachedRxDocument(Y))},patch(ve){var he=this._data,Y=(0,Z.o8)(he);return Object.entries(ve).forEach(([pt,Ct])=>{Y[pt]=Ct}),this._saveData(Y,he)},incrementalPatch(ve){return this.incrementalModify(he=>(Object.entries(ve).forEach(([Y,pt])=>{he[Y]=pt}),he))},_saveData(ve,he){var Y=this;return(0,ee.A)(function*(){if(ve=(0,Z.FD)(ve),Y._data._deleted)throw(0,se.Br)("DOC11",{id:Y.primary,document:Y});yield Ye(Y.collection,ve,he);var pt=[{previous:he,document:ve}],Ct=yield Y.collection.storageInstance.bulkWrite(pt,"rx-document-save-data");return(0,Fe.WX)(Y.collection,Y.primary,ve,Ct.error[0]),yield Y.collection._runHooks("post","save",ve,Y),Y.collection._docCache.getCachedRxDocument((0,Fe.YN)(Y.collection.schema.primaryPath,pt,Ct)[0])})()},remove(){var ve=this,he=this.collection;if(this.deleted)return Promise.reject((0,se.Br)("DOC13",{document:this,id:this.primary}));var pt,Y=(0,Z.FD)(this._data);return he._runHooks("pre","remove",Y,this).then((0,ee.A)(function*(){Y._deleted=!0;var Ct=[{previous:ve._data,document:Y}],Tt=yield he.storageInstance.bulkWrite(Ct,"rx-document-remove");return(0,Fe.WX)(he,ve.primary,Y,Tt.error[0]),(0,Fe.YN)(ve.collection.schema.primaryPath,Ct,Tt)[0]})).then(Ct=>(pt=Ct,this.collection._runHooks("post","remove",Y,this))).then(()=>this.collection._docCache.getCachedRxDocument(pt))},incrementalRemove(){var ve=this;return this.incrementalModify(function(){var he=(0,ee.A)(function*(Y){return yield ve.collection._runHooks("pre","remove",Y,ve),Y._deleted=!0,Y});return function(Y){return he.apply(this,arguments)}}()).then(function(){var he=(0,ee.A)(function*(Y){return yield ve.collection._runHooks("post","remove",Y._data,Y),Y});return function(Y){return he.apply(this,arguments)}}())},destroy(){throw(0,se.Br)("DOC14")}};function We(ve=Ae){var he=function(pt,Ct){this.collection=pt,this._data=Ct,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return he.prototype=ve,he}function Ie(ve,he,Y){var pt=new ve(he,Y);return(0,ze.Xi)("createRxDocument",pt),pt}function Ye(ve,he,Y){return he._meta=Object.assign({},Y._meta,he._meta),Pe.h.isDevMode()&&ve.schema.validateChange(Y,he),ve._runHooks("pre","save",he,Y)}},7650:(Vt,et,P)=>{"use strict";P.d(et,{sX:()=>_e,Br:()=>Re,JX:()=>Pe,cg:()=>xe});var ee=P(6126),ie=P(6719);function ge(Ae){return(ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(We){return We.__proto__||Object.getPrototypeOf(We)})(Ae)}var ce=P(4394);function l(){try{var Ae=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!Ae})()}function lt(Ae){var We="function"==typeof Map?new Map:void 0;return lt=function(st){if(null===st||!function M(Ae){try{return-1!==Function.toString.call(Ae).indexOf("[native code]")}catch{return"function"==typeof Ae}}(st))return st;if("function"!=typeof st)throw new TypeError("Super expression must either be null or a function");if(void 0!==We){if(We.has(st))return We.get(st);We.set(st,Ye)}function Ye(){return function De(Ae,We,Ie){if(l())return Reflect.construct.apply(null,arguments);var st=[null];st.push.apply(st,We);var Ye=new(Ae.bind.apply(Ae,st));return Ie&&(0,ce.A)(Ye,Ie.prototype),Ye}(st,arguments,ge(this).constructor)}return Ye.prototype=Object.create(st.prototype,{constructor:{value:Ye,enumerable:!1,writable:!0,configurable:!0}}),(0,ce.A)(Ye,st)},lt(Ae)}var Be=P(3896);function Z(Ae,We,Ie){return"RxError ("+We+"):\n"+Ae+"\n"+function Ue(Ae){var We="";return 0===Object.keys(Ae).length||(We+="Given parameters: {\n",We+=Object.keys(Ae).map(Ie=>{var st="[object Object]";try{st="errors"===Ie?Ae[Ie].map(Ye=>JSON.stringify(Ye,Object.getOwnPropertyNames(Ye))):JSON.stringify(Ae[Ie],function(Ye,ve){return void 0===ve?null:ve},2)}catch{}return Ie+":"+st}).join("\n"),We+="}"),We}(Ie)}var Me=function(Ae){function We(st,Ye,ve={}){var he,Y=Z(Ye,st,ve);return(he=Ae.call(this,Y)||this).code=st,he.message=Y,he.url=se(st),he.parameters=ve,he.rxdb=!0,he}return(0,ie.A)(We,Ae),We.prototype.toString=function(){return this.message},(0,ee.A)(We,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(lt(Error)),Ne=function(Ae){function We(st,Ye,ve={}){var he,Y=Z(Ye,st,ve);return(he=Ae.call(this,Y)||this).code=st,he.message=Y,he.url=se(st),he.parameters=ve,he.rxdb=!0,he}return(0,ie.A)(We,Ae),We.prototype.toString=function(){return this.message},(0,ee.A)(We,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(lt(TypeError));function se(Ae){return"https://rxdb.info/errors.html?console=errors#"+Ae}function ze(Ae){return"\n You can find out more about this error here: "+se(Ae)+" "}function Re(Ae,We){return new Me(Ae,Be.h.tunnelErrorMessage(Ae)+ze(Ae),We)}function Pe(Ae,We){return new Ne(Ae,Be.h.tunnelErrorMessage(Ae)+ze(Ae),We)}function _e(Ae){return!(!Ae||409!==Ae.status)&&Ae}var Fe={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function xe(Ae){return Re("COL20",{name:Fe[Ae.status],document:Ae.documentId,writeError:Ae})}},5365:(Vt,et,P)=>{"use strict";P.d(et,{Lr:()=>Ug,Xw:()=>UD,_V:()=>BD,dx:()=>Wf});var ee=P(467),ie=P(997),ge=P(1885),ce=P(6434),M=P(7176);class l extends Error{}const Be=Number.MAX_SAFE_INTEGER,Ue=Number.MIN_SAFE_INTEGER,Z=Symbol("missing"),Me=Object.freeze(new Error("mingo: cycle detected while processing object/array")),Ne=Object.getPrototypeOf([]),se=Object.getPrototypeOf({}),Re=/^\[object ([a-zA-Z0-9]+)\]$/;class Pe{}class _e{}const Fe=y=>null===y?Pe:void 0===y?_e:y.constructor,xe=y=>{const b=function Qi(y){const b=new Set,D=I=>{const k=Fe(I);if(Ye.has(k))return Ye.get(k)(I);const j=k===Object?"":k.name;if(J(I.toJSON))return`${j}(${JSON.stringify(I)})`;if(b.has(I))throw Me;b.add(I);try{if(k===Array)return"["+I.map(D).join(",")+"]";if(k!==Object){const[re,Ee]=Pn(I);if(be(I))return`${j}${D([...I,re])}`;I=re}const ne=Object.keys(I);return ne.sort(),`${j}{`+ne.map(re=>`${re}:${D(I[re])}`).join(",")+"}"}finally{b.delete(I)}};return D(y)}(y);let D=0,I=b.length;for(;I;)D=(D<<5)-D^b.charCodeAt(--I);return D>>>0},Ae=new Set(["null","undefined","boolean","number","string","date","regexp"]),We=new Set([_e,Pe,Boolean,String,Number]),Ie=y=>y.toString(),st=y=>`${Fe(y).name}[${y.toString()}]`,Ye=new Map([[Number,Ie],[Boolean,Ie],[RegExp,Ie],[Function,Ie],[Symbol,Ie],[Date,y=>y.toISOString()],[String,JSON.stringify],[Pe,y=>"null"],[_e,y=>"undefined"],[Int8Array,st],[Uint8Array,st],[Uint8ClampedArray,st],[Int16Array,st],[Uint16Array,st],[Int32Array,st],[Uint32Array,st],[Float32Array,st],[Float64Array,st]]);typeof BigInt<"u"&&Ye.set(BigInt,y=>"0x"+y.toString(16)),typeof BigInt64Array<"u"&&Ye.set(BigInt64Array,st),typeof BigUint64Array<"u"&&Ye.set(BigUint64Array,st);const ve={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},he=(y,b)=>{y===Z&&(y=void 0),b===Z&&(b=void 0);const[D,I]=[y,b].map(k=>ve[Tt(k).toLowerCase()]);return D!==I?D-I:1===D||2===D||6===D?y<b?-1:y>b?1:0:In(y,b)?0:y<b?-1:y>b?1:0};function Y(y,b){if(!y)throw new l(b)}const Ct=y=>{if(We.has(Fe(y)))return y;const b=new Set,D=I=>{if(b.has(I))throw Me;const k=Fe(I);if(We.has(k))return I;try{if(be(I))return b.add(I),I.map(D);if(K(I)){b.add(I);const j={};for(const ne in I)j[ne]=D(I[ne]);return j}}finally{b.delete(I)}return k===Date||k===RegExp||(y=>{const b=Object.getPrototypeOf(Fe(y));return b&&"TypedArray"===b.name})(I)?new k(I):I};return D(y)},Tt=y=>Re.exec(Object.prototype.toString.call(y))[1],cn=y=>"boolean"==typeof y,Jt=y=>"string"==typeof y,Mn=y=>!isNaN(y)&&"number"==typeof y,be=Array.isArray,K=y=>{if(!y)return!1;const b=Object.getPrototypeOf(y);return(b===se||null===b)&&"[object Object]"===Object.prototype.toString.call(y)},U=y=>y===Object(y),H=y=>y instanceof Date,Q=y=>y instanceof RegExp,J=y=>"function"==typeof y,oe=y=>null==y,le=(y,b)=>y.includes(b),Te=(y,b)=>!le(y,b),Ft=y=>oe(y)||Jt(y)&&!y||y instanceof Array&&0===y.length||K(y)&&0===Object.keys(y).length,Mt=y=>y===Z,Bt=y=>y instanceof Array?y:[y],en=(y,b)=>!!y&&Object.prototype.hasOwnProperty.call(y,b),rn=(y,b)=>K(y)&&K(b)||be(y)&&be(b);function an(y,b,D){if(D=D||{flatten:!1},Mt(y)||oe(y))return b;if(Mt(b)||oe(b))return y;if(!rn(y,b)){if(D.skipValidation)return b||y;throw Error("mismatched types. must both be array or object")}if(D.skipValidation=!0,be(y)){const I=y,k=b;if(D.flatten){let j=0,ne=0;for(;j<I.length&&ne<k.length;)I[j]=an(I[j++],k[ne++],D);for(;ne<k.length;)I.push(b[ne++])}else Yn(I,k)}else for(const I in b)y[I]=an(y[I],b[I],D);return y}function $t(y,b=xe){const D=new Map;return y.forEach((I,k)=>{const j=Nr(I,b);D.has(j)?D.get(j).some(ne=>In(y[ne],I))||D.get(j).push(k):D.set(j,[k])}),D}function un(y,b=xe){if(y.some(re=>0==re.length))return[];if(1===y.length)return Array.from(y);const D=function zt(y,b,D=he){if(Ft(y))return y;const I=new Array,k=new Array;for(let j=0;j<y.length;j++){const ne=y[j],re=b(ne,j);oe(re)?k.push(ne):I.push([re,ne])}return I.sort((j,ne)=>D(j[0],ne[0])),Yn(k,I.map(j=>j[1]))}(y.map((re,Ee)=>[Ee,re.length]),re=>re[1]),I=y[D[0][0]],k=$t(I,b),j=new Map,ne=new Array;return k.forEach((re,Ee)=>{const ct=re.map(Zt=>I[Zt]),ot=ct.map(Zt=>0),Dt=ct.map(Zt=>[D[0][0],0]);let At=!1;for(let Zt=1;Zt<y.length;Zt++){const[fn,Sn]=D[Zt],Zn=y[fn];if(j.has(Zt)||j.set(Zt,$t(Zn)),j.get(Zt).has(Ee)){const _r=j.get(Zt).get(Ee).map(Er=>Zn[Er]);At=ct.map((Er,To)=>_r.some((Ar,no)=>{const ii=ot[To];return In(Er,Ar)&&(ot[To]++,fn<Dt[To][0]&&(Dt[To]=[fn,j.get(Zt).get(Ee)[no]])),ii<ot[To]})).some(Boolean)}if(!At)return}At&&Yn(ne,ot.map((Zt,fn)=>Zt===y.length-1?[ct[fn],Dt[fn]]:Z).filter(Zt=>Zt!==Z))}),ne.sort((re,Ee)=>{const[ct,[ot,Dt]]=re,[At,[Zt,fn]]=Ee,Sn=he(ot,Zt);return 0!==Sn?Sn:he(Dt,fn)}).map(re=>re[0])}function tn(y,b=0){const D=new Array;return function I(k,j){for(let ne=0,re=k.length;ne<re;ne++)be(k[ne])&&(j>0||j<0)?I(k[ne],Math.max(-1,j-1)):D.push(k[ne])}(y,b),D}const Pn=y=>{let[b,D]=[Object.getPrototypeOf(y),Object.getOwnPropertyNames(y)],I=b;for(;!D.length&&b!==se&&b!==Ne;)I=b,D=Object.getOwnPropertyNames(b),b=Object.getPrototypeOf(b);const k={};return D.forEach(j=>k[j]=y[j]),[k,I]};function In(y,b){const D=[[y,b]];for(;D.length>0;){if([y,b]=D.pop(),y===b)continue;const I=Fe(y);if(I!==Fe(b)||J(y))return!1;if(Ye.has(I)){const k=Ye.get(I);if(k(y)!==k(b))return!1}else{if(I!==Array&&I!==Object)return!1;{const k=Object.keys(y),j=Object.keys(b);if(k.length!==j.length||new Set(k.concat(j)).size!=k.length)return!1;for(const ne of k)D.push([y[ne],b[ne]])}}}return!D.length}function Nr(y,b){return b=b||xe,oe(y)?null:b(y).toString()}function vr(y,b,D=xe){if(y.length<1)return new Map;const I=new Map,k=new Map;for(let j=0;j<y.length;j++){const ne=y[j],re=b(ne,j),Ee=Nr(re,D);if(null===Ee)k.has(null)?k.get(null).push(ne):k.set(null,[ne]);else{const ct=I.has(Ee)?I.get(Ee).find(ot=>In(ot,re)):null;oe(ct)?(k.set(re,[ne]),I.has(Ee)?I.get(Ee).push(re):I.set(Ee,[re])):k.get(ct).push(ne)}}return k}const hr=5e4;function Yn(y,...b){return y instanceof Array?b.reduce((D,I)=>{let k=Math.ceil(I.length/hr),j=0;for(;k-- >0;)Array.prototype.push.apply(D,I.slice(j,j+hr)),j+=hr;return D},y):b.filter(U).reduce((D,I)=>(Object.assign(D,I),D),y)}function ir(y,b){return U(y)?y[b]:void 0}function No(y,b,D){let I=0;const j=Ae.has(Tt(y).toLowerCase())?y:function k(ne,re){let Ee=ne;for(let ct=0;ct<re.length;ct++){const ot=re[ct];if(null===/^\d+$/.exec(ot)&&Ee instanceof Array){if(0===ct&&I>0)break;I+=1;const At=re.slice(ct);Ee=Ee.reduce((Zt,fn)=>{const Sn=k(fn,At);return void 0!==Sn&&Zt.push(Sn),Zt},[]);break}if(Ee=ir(Ee,ot),void 0===Ee)break}return Ee}(y,b.split("."));return j instanceof Array&&D?.unwrapArray?function Ut(y,b){if(b<1)return y;for(;b--&&1===y.length;)y=y[0];return y}(j,I):j}function yo(y,b,D){const I=b.split("."),k=I[0],j=I.slice(1).join("."),ne=null!==/^\d+$/.exec(k),re=I.length>1;let Ee,ct;if(y instanceof Array)if(ne)Ee=ir(y,Number(k)),re&&(Ee=yo(Ee,j,D)),Ee=[Ee];else{Ee=[];for(const ot of y)ct=yo(ot,b,D),D?.preserveMissing?(void 0===ct&&(ct=Z),Ee.push(ct)):void 0!==ct&&Ee.push(ct)}else{if(ct=ir(y,k),re&&(ct=yo(ct,j,D)),void 0===ct)return;Ee=D?.preserveKeys?Object.assign({},y):{},Ee[k]=ct}return Ee}function $s(y){if(y instanceof Array)for(let b=y.length-1;b>=0;b--)y[b]===Z?y.splice(b,1):$s(y[b]);else if(K(y))for(const b in y)en(y,b)&&$s(y[b])}const Ot=/^\d+$/;function Fo(y,b,D,I){const k=b.split("."),j=k[0],ne=k.slice(1).join(".");if(1===k.length)(K(y)||be(y)&&Ot.test(j))&&D(y,j);else{I?.buildGraph&&oe(y[j])&&(y[j]={});const re=y[j];if(!re)return;const Ee=!!(k.length>1&&Ot.test(k[1]));re instanceof Array&&I?.descendArray&&!Ee?re.forEach(ct=>Fo(ct,ne,D,I)):Fo(re,ne,D,I)}}function Hs(y,b,D){Fo(y,b,(I,k)=>{I[k]=J(D)?D(I[k]):D},{buildGraph:!0})}function zs(y,b,D){Fo(y,b,(I,k)=>{if(I instanceof Array){if(/^\d+$/.test(k))I.splice(parseInt(k),1);else if(D&&D.descendArray)for(const j of I)K(j)&&delete j[k]}else K(I)&&delete I[k]},D)}const Wa=/^\$[a-zA-Z0-9_]+$/;function Yi(y){return Wa.test(y)}function Fr(y){if(Ae.has(Tt(y).toLowerCase()))return Q(y)?{$regex:y}:{$eq:y};if(U(y)){if(!Object.keys(y).some(Yi))return{$eq:y};if(en(y,"$regex")){const D=Object.assign({},y);return D.$regex=new RegExp(y.$regex,y.$options),delete D.$options,D}}return y}var yr=P(7650),ai=function(y){return y.CLONE_ALL="CLONE_ALL",y.CLONE_INPUT="CLONE_INPUT",y.CLONE_OUTPUT="CLONE_OUTPUT",y.CLONE_OFF="CLONE_OFF",y}(ai||{});class bo{constructor(b,D,I,k=Date.now()){this._opts=b,this._root=D,this._local=I,this.timestamp=k,this.update(D,I)}static init(b,D,I){return b instanceof bo?new bo(b._opts,oe(b.root)?D:b.root,Object.assign({},b.local,I)):new bo(b,D,I)}update(b,D){var I;return this._root=b,this._local=D&&Object.assign({},D,{variables:Object.assign({},null===(I=this._local)||void 0===I?void 0:I.variables,D?.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:fr.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collation}get processingMode(){var b;return(null===(b=this._opts)||void 0===b?void 0:b.processingMode)||ai.CLONE_OFF}get useStrictMode(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useStrictMode}get scriptEnabled(){var b;return null===(b=this._opts)||void 0===b?void 0:b.scriptEnabled}get useGlobalContext(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useGlobalContext}get hashFunction(){var b;return null===(b=this._opts)||void 0===b?void 0:b.hashFunction}get collectionResolver(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collectionResolver}get jsonSchemaValidator(){var b;return null===(b=this._opts)||void 0===b?void 0:b.jsonSchemaValidator}get variables(){var b;return null===(b=this._opts)||void 0===b?void 0:b.variables}get context(){var b;return null===(b=this._opts)||void 0===b?void 0:b.context}}function Ka(y){return y instanceof bo?y.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:ai.CLONE_OFF},y),{context:y?.context?fr.from(y?.context):fr.init({})}))}var vn=function(y){return y.ACCUMULATOR="accumulator",y.EXPRESSION="expression",y.PIPELINE="pipeline",y.PROJECTION="projection",y.QUERY="query",y.WINDOW="window",y}(vn||{});class fr{constructor(b){this.operators={[vn.ACCUMULATOR]:{},[vn.EXPRESSION]:{},[vn.PIPELINE]:{},[vn.PROJECTION]:{},[vn.QUERY]:{},[vn.WINDOW]:{}};for(const[D,I]of Object.entries(b))this.addOperators(D,I)}static init(b={}){return new fr(b)}static from(b){return new fr(b.operators)}addOperators(b,D){for(const[I,k]of Object.entries(D))this.getOperator(b,I)||(this.operators[b][I]=k);return this}addAccumulatorOps(b){return this.addOperators(vn.ACCUMULATOR,b)}addExpressionOps(b){return this.addOperators(vn.EXPRESSION,b)}addQueryOps(b){return this.addOperators(vn.QUERY,b)}addPipelineOps(b){return this.addOperators(vn.PIPELINE,b)}addProjectionOps(b){return this.addOperators(vn.PROJECTION,b)}addWindowOps(b){return this.addOperators(vn.WINDOW,b)}getOperator(b,D){return b in this.operators&&this.operators[b][D]||null}}const es=fr.init();function Gs(y,b){for(const[D,I]of Object.entries(b)){Y(J(I)&&Yi(D),`'${D}' is not a valid operator`);const k=Eo(y,D,null);Y(!k||I===k,`${D} already exists for '${y}' operators. Cannot change operator function once registered.`)}switch(y){case vn.ACCUMULATOR:es.addAccumulatorOps(b);break;case vn.EXPRESSION:es.addExpressionOps(b);break;case vn.PIPELINE:es.addPipelineOps(b);break;case vn.PROJECTION:es.addProjectionOps(b);break;case vn.QUERY:es.addQueryOps(b);break;case vn.WINDOW:es.addWindowOps(b)}}function Eo(y,b,D){const{context:I,useGlobalContext:k}=D||{},j=I?I.getOperator(y,b):null;return!j&&k?es.getOperator(y,b):j}const Ws={$$ROOT:(y,b,D)=>D.root,$$CURRENT:(y,b,D)=>y,$$REMOVE(y,b,D){},$$NOW:(y,b,D)=>new Date(D.timestamp)},Dc={$$KEEP:(y,b,D)=>y,$$PRUNE(y,b,D){},$$DESCEND(y,b,D){if(!en(b,"$cond"))return y;let I;for(const[k,j]of Object.entries(y))if(U(j)){if(j instanceof Array){const ne=[];for(let re of j)K(re)&&(re=Lo(re,b,D.update(re))),oe(re)||ne.push(re);I=ne}else I=Lo(j,b,D.update(j));oe(I)?delete y[k]:y[k]=I}return y}};function Gn(y,b,D,I){var k;const j=bo.init(I,y);if(Yi(D=D||"")){const ne=Eo(vn.EXPRESSION,D,I);if(ne)return ne(y,b,j);const re=Eo(vn.ACCUMULATOR,D,I);if(re)return y instanceof Array||(y=Gn(y,b,null,j),b=null),Y(y instanceof Array,`'${D}' target must be an array.`),re(y,b,j.update(null,j.local));throw new l(`operator '${D}' is not registered`)}if(Jt(b)&&b.length>0&&"$"===b[0]){if(en(Dc,b))return b;let ne=j.root;const re=b.split(".");if(en(Ws,re[0]))ne=Ws[re[0]](y,null,j),b=b.slice(re[0].length+1);else if("$$"===re[0].slice(0,2)){ne=Object.assign({},j.variables,{this:y},null===(k=j.local)||void 0===k?void 0:k.variables);const Ee=re[0].slice(2);Y(en(ne,Ee),`Use of undefined variable: ${Ee}`),b=b.slice(2)}else b=b.slice(1);return""===b?ne:No(ne,b)}if(be(b))return b.map(ne=>Gn(y,ne,null,j));if(K(b)){const ne={};for(const[re,Ee]of Object.entries(b))if(ne[re]=Gn(y,Ee,re,j),[vn.EXPRESSION,vn.ACCUMULATOR].some(ct=>!!Eo(ct,re,I)))return Y(1===Object.keys(b).length,"Invalid aggregation expression '"+JSON.stringify(b)+"'"),ne[re];return ne}return b}function Lo(y,b,D){const I=Gn(y,b,null,D);return en(Dc,I)?Dc[I](y,b,D):I}function xi(y){return y instanceof kn?y:new kn(y)}function ts(y,b){const D=y.slice(b+1);y.splice(b),Array.prototype.push.apply(y,D)}const ns=new Error;var ci=function(y){return y[y.MAP=0]="MAP",y[y.FILTER=1]="FILTER",y[y.TAKE=2]="TAKE",y[y.DROP=3]="DROP",y}(ci||{});class kn{constructor(b){let D;if(this.iteratees=[],this.yieldedValues=[],this.isDone=!1,b instanceof Function&&(b={next:b}),function al(y){return!!y&&"object"==typeof y&&y?.next instanceof Function}(b)){const I=b;D=()=>{const k=I.next();if(k.done)throw ns;return k.value}}else if(b instanceof Array){const I=b,k=b.length;let j=0;D=()=>{if(j<k)return I[j++];throw ns}}else if(!(b instanceof Function))throw new l("Lazy must be initialized with an array, generator, or function.");this.getNext=function co(y,b,D){let I=!1,k=-1,j=0;return function(ne){try{e:for(;!I;){let re=y();k++;let Ee=-1;const ct=b.length;let ot=!1;for(;++Ee<ct;){const Dt=b[Ee];switch(Dt.action){case ci.MAP:re=Dt.func(re,k);break;case ci.FILTER:if(!Dt.func(re,k))continue e;break;case ci.TAKE:--Dt.count,Dt.count||(ot=!0);break;case ci.DROP:--Dt.count,Dt.count||ts(b,Ee);continue e;default:break e}}if(I=ot,!ne)return{value:re,done:!1};D[j++]=re}}catch(re){if(re!==ns)throw re}return I=!0,{done:I}}}(D,this.iteratees,this.yieldedValues)}push(b,D){return"function"==typeof D?this.iteratees.push({action:b,func:D}):"number"==typeof D&&this.iteratees.push({action:b,count:D}),this}next(){return this.getNext()}map(b){return this.push(ci.MAP,b)}filter(b){return this.push(ci.FILTER,b)}take(b){return b>0?this.push(ci.TAKE,b):this}drop(b){return b>0?this.push(ci.DROP,b):this}transform(b){const D=this;let I;return xi(()=>(I||(I=xi(b(D.value()))),I.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(b){for(;;){const D=this.next();if(D.done)break;if(!1===b(D.value))return!1}return!0}reduce(b,D){let I=this.next();for(void 0===D&&!I.done&&(D=I.value,I=this.next());!I.done;)D=b(D,I.value),I=this.next();return D}size(){return this.reduce((b,D)=>++b,0)}[Symbol.iterator](){return this}}class mn{constructor(b,D){this.pipeline=b,this.options=Ka(D)}stream(b){let D=xi(b);const I=this.options.processingMode;(I==ai.CLONE_ALL||I==ai.CLONE_INPUT)&&D.map(Ct);const k=new Array;if(!Ft(this.pipeline))for(const j of this.pipeline){const ne=Object.keys(j),re=ne[0],Ee=Eo(vn.PIPELINE,re,this.options);Y(1===ne.length&&!!Ee,`invalid pipeline operator ${re}`),k.push(re),D=Ee(D,j[re],this.options)}return(I==ai.CLONE_OUTPUT||I==ai.CLONE_ALL&&un([["$group","$unwind"],k]).length)&&D.map(Ct),D}run(b){return this.stream(b).value()}}class rs{constructor(b,D,I,k){this.source=b,this.predicate=D,this.projection=I,this.options=k,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result||(K(this.projection)&&this.operators.push({$project:this.projection}),this.result=xi(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new mn(this.operators,this.options).stream(this.result))),this.result}fetchAll(){const b=xi([...this.buffer]);return this.buffer=[],function ya(...y){let b=0;return xi(()=>{for(;b<y.length;){const D=y[b].next();if(!D.done)return D;b++}return{done:!0}})}(b,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(b){return this.operators.push({$skip:b}),this}limit(b){return this.operators.push({$limit:b}),this}sort(b){return this.operators.push({$sort:b}),this}collation(b){return this.options=Object.assign(Object.assign({},this.options),{collation:b}),this}next(){if(this.buffer.length>0)return this.buffer.pop();const b=this.fetch().next();return b.done?void 0:b.value}hasNext(){if(this.buffer.length>0)return!0;const b=this.fetch().next();return!b.done&&(this.buffer.push(b.value),!0)}map(b){return this.all().map(b)}forEach(b){this.all().forEach(b)}[Symbol.iterator](){return this.fetchAll()}}class li{constructor(b,D){this.condition=b,this.options=Ka(D),this.compiled=[],this.compile()}compile(){Y(K(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);const b={};for(const[D,I]of Object.entries(this.condition)){if("$where"===D)Object.assign(b,{field:D,expr:I});else if(le(["$and","$or","$nor","$expr","$jsonSchema"],D))this.processOperator(D,D,I);else{Y(!Yi(D),`unknown top level operator: ${D}`);for(const[k,j]of Object.entries(Fr(I)))this.processOperator(D,k,j)}b.field&&this.processOperator(b.field,b.field,b.expr)}}processOperator(b,D,I){const k=Eo(vn.QUERY,D,this.options);if(!k)throw new l(`unknown query operator ${D}`);const j=k(b,I,this.options);this.compiled.push(j)}test(b){for(let D=0,I=this.compiled.length;D<I;D++)if(!this.compiled[D](b))return!1;return!0}find(b,D){return new rs(b,I=>this.test(I),D||{},this.options)}remove(b){return b.reduce((D,I)=>(this.test(I)||D.push(I),D),[])}}const lu=(y,b,D)=>{if(Ft(b)||!K(b))return y;let I=he;const k=D.collation;return K(k)&&Jt(k.locale)&&(I=function hl(y){const b={sensitivity:uu[y.strength||3],caseFirst:"off"===y.caseFirst?"false":y.caseFirst||"false",numeric:y.numericOrdering||!1,ignorePunctuation:"shifted"===y.alternate};!0===(y.caseLevel||!1)&&("base"===b.sensitivity&&(b.sensitivity="case"),"accent"===b.sensitivity&&(b.sensitivity="variant"));const D=new Intl.Collator(y.locale,b);return(I,k)=>{if(!Jt(I)||!Jt(k))return he(I,k);const j=D.compare(I,k);return j<0?-1:j>0?1:0}}(k)),y.transform(j=>{const ne=Object.keys(b);for(const re of ne.reverse()){const Ee=vr(j,ot=>No(ot,re),D.hashFunction),ct=Array.from(Ee.keys()).sort(I);-1===b[re]&&ct.reverse(),ct.reduce((ot,Dt)=>Yn(ot,Ee.get(Dt)),j=[])}return j})},uu={1:"base",2:"accent",3:"variant"};function eo(y){const b=(D,I,k)=>{const j={unwrapArray:!0},ne=Math.max(1,D.split(".").length-1);return re=>{const Ee=No(re,D,j);return y(Ee,I,Object.assign(Object.assign({},k),{depth:ne}))}};return b.op="query",b}function Ja(y){return(b,D,I)=>{const k=Gn(b,D,null,I);return y(...k)}}function Ed(y,b,D){if(In(y,b)||oe(y)&&oe(b))return!0;if(y instanceof Array){const I=In.bind(null,b);return y.some(I)||tn(y,D?.depth).some(I)}return!1}function Wn(y,b,D){return!Ed(y,b,D)}function ea(y,b,D){return oe(y)?b.some(I=>null===I):un([Bt(y),b],D?.hashFunction).length>0}function lr(y,b,D){return!ea(y,b,D)}function Aa(y,b,D){return ye(y,b,(I,k)=>he(I,k)<0)}function to(y,b,D){return ye(y,b,(I,k)=>he(I,k)<=0)}function mu(y,b,D){return ye(y,b,(I,k)=>he(I,k)>0)}function ml(y,b,D){return ye(y,b,(I,k)=>he(I,k)>=0)}function Dn(y){return Yi(y)&&-1===["$and","$or","$nor"].indexOf(y)}function v(y,b,D){if(be(y)&&!Ft(y)){let I=ne=>ne,k=b;Object.keys(b).every(Dn)&&(k={temp:b},I=ne=>({temp:ne}));const j=new li(k,D);for(let ne=0,re=y.length;ne<re;ne++)if(j.test(I(y[ne])))return!0}return!1}const C=y=>null===y,S=y=>Mn(y)&&y>=-2147483648&&y<=2147483647&&-1===y.toString().indexOf("."),N=y=>Mn(y)&&y>=Ue&&y<=Be&&-1===y.toString().indexOf("."),V={array:be,bool:cn,boolean:cn,date:H,decimal:Mn,double:Mn,int:S,long:N,number:Mn,null:C,object:K,regex:Q,regexp:Q,string:Jt,undefined:oe,function:y=>{throw new l("unsupported type key `function`.")},1:Mn,2:Jt,3:K,4:be,6:oe,8:cn,9:H,10:C,11:Q,16:S,18:N,19:Mn};function z(y,b,D){const I=V[b];return!!I&&I(y)}function ye(y,b,D){return Bt(y).some(I=>Tt(I)===Tt(b)&&D(I,b))}Ja(lr);const He=(y,b)=>(D,I,k)=>{Y(be(I),`${y}: expression must be an array.`);const j=Gn(D,I,null,k);return j.some(oe)?null:(Y(j.every(Mn),`${y}: expression must evalue to array of numbers.`),b(j))};He("$bitAnd",y=>y.reduce((b,D)=>b&D,-1)),He("$bitOr",y=>y.reduce((b,D)=>b|D,0)),He("$bitXor",y=>y.reduce((b,D)=>b^D,0)),Ja(Ed),Ja(mu),Ja(ml),Ja(Aa),Ja(to),Ja(Wn);const Eg=(y,b)=>{const D={};return y.split("").forEach((I,k)=>D[I]=b*(k+1)),D};Object.assign(Object.assign(Object.assign({},Eg("ABCDEFGHIKLM",1)),Eg("NOPQRSTUVWXY",-1)),{Z:0});const Dd={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function $o(y,b=Dd){const D=Object.assign({},Dd,b),I=new Set(Object.keys(D));return(k,j,ne)=>{const re=Gn(k,j,null,ne);if(I.has(`${re}`)){const Ee=D[`${re}`];if(Ee instanceof Error)throw new l(`cannot apply $${y.name} to -inf, value must in (-inf,inf)`);return Ee}return y(re)}}$o(Math.acos,{Infinity:1/0,0:new Error}),$o(Math.acosh,{Infinity:1/0,0:new Error}),$o(Math.asin),$o(Math.asinh,{Infinity:1/0,"-Infinity":-1/0}),$o(Math.atan),$o(Math.atanh,{1:1/0,"-1":-1/0}),$o(Math.cos),$o(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const Mg=Math.PI/180,Rg=($o(y=>y*Mg,{Infinity:1/0,"-Infinity":1/0}),180/Math.PI);$o(y=>y*Rg,{Infinity:1/0,"-Infinity":-1/0}),$o(Math.sin),$o(Math.sinh,{"-Infinity":-1/0,Infinity:1/0}),$o(Math.tan),Error;const jf=(y,b,D)=>{if(Ft(b))return y;let I=Object.keys(b),k=!1;ia(b,D);const j=D.idKey;if(le(I,j)){const re=b[j];(0===re||!1===re)&&(I=I.filter(Te.bind(null,[j])),k=0==I.length)}else I.push(j);const ne=bo.init(D);return y.map(re=>Pd(re,b,ne.update(re),I,k))};function Pd(y,b,D,I,k){let j={},ne=!1,re=!1;const Ee=[];k&&Ee.push(D.idKey);for(const ct of I){let ot;const Dt=b[ct];if(ct!==D.idKey&&le([0,!1],Dt)&&(re=!0),ct===D.idKey&&Ft(Dt))ot=y[ct];else if(Jt(Dt))ot=Gn(y,Dt,ct,D);else if(!le([1,!0],Dt))if(Dt instanceof Array)ot=Dt.map(Zt=>{const fn=Gn(y,Zt,null,D);return oe(fn)?null:fn});else{if(!K(Dt)){Ee.push(ct);continue}{const Zt=Dt,fn=Object.keys(Dt),Sn=1==fn.length?fn[0]:"",Zn=Eo(vn.PROJECTION,Sn,D);if(Zn)"$slice"===Sn?Bt(Zt[Sn]).every(Mn)?(ot=Zn(y,Zt[Sn],ct,D),ne=!0):ot=Gn(y,Zt,ct,D):ot=Zn(y,Zt[Sn],ct,D);else if(Yi(Sn))ot=Gn(y,Zt[Sn],Sn,D);else if(en(y,ct)){ia(Zt,D);let _r=y[ct];_r instanceof Array?ot=_r.map(Er=>Pd(Er,Zt,D,fn,!1)):(_r=K(_r)?_r:y,ot=Pd(_r,Zt,D,fn,!1))}else ot=Gn(y,Dt,null,D)}}const At=yo(y,ct,{preserveMissing:!0});void 0!==At&&an(j,At,{flatten:!0}),Te([0,1,!1,!0],Dt)&&(void 0===ot?zs(j,ct,{descendArray:!0}):Hs(j,ct,ot))}if($s(j),(ne||re||k)&&(j=Yn({},y,j),Ee.length>0))for(const ct of Ee)zs(j,ct,{descendArray:!0});return j}function ia(y,b){const D=[!1,!1];for(const[I,k]of Object.entries(y)){if(I===b?.idKey)return;0===k||!1===k?D[0]=!0:(1===k||!0===k)&&(D[1]=!0),Y(!(D[0]&&D[1]),"Projection cannot have a mix of inclusion and exclusion.")}}const Ng=(y,b,D)=>{Y(be(b),"Invalid expression: $and expects value to be an Array.");const I=b.map(k=>new li(k,D));return k=>I.every(j=>j.test(k))},zf=(y,b,D)=>{Y(be(b),"Invalid expression. $or expects value to be an Array");const I=b.map(k=>new li(k,D));return k=>I.some(j=>j.test(k))},kD=(y,b,D)=>{Y(be(b),"Invalid expression. $nor expects value to be an array.");const I=zf("$or",b,D);return k=>!I(k)},Fg=(y,b,D)=>{const I={};I[y]=Fr(b);const k=new li(I,D);return j=>!k.test(j)},bl=eo(Ed),Xb=eo(mu),Qb=eo(ml),ND=eo(ea),Lg=eo(Aa),Vg=eo(to),Bg=eo(Wn),Gf=eo(lr),FD=eo(function Ts(y,b,D){return Bt(y).some(I=>2===b.length&&I%b[0]===b[1])}),Yb=eo(function Bo(y,b,D){const I=Bt(y),k=j=>Jt(j)&&((y,b=!0)=>!!y||b&&""===y)(b.exec(j),D?.useStrictMode);return I.some(k)||tn(I,1).some(k)});eo(function Sa(y,b,D){if(!(be(y)&&be(b)&&y.length&&b.length))return!1;let I=!0;for(const k of b){if(!I)break;I=K(k)&&le(Object.keys(k),"$elemMatch")?v(y,k.$elemMatch,D):k instanceof RegExp?y.some(j=>"string"==typeof j&&k.test(j)):y.some(j=>In(k,j))}return I});const Jb=eo(v),El=eo(function ta(y,b,D){return Array.isArray(y)&&y.length===b}),LD=eo(function gl(y,b,D){return(!1===b||0===b)&&void 0===y||(!0===b||1===b)&&void 0!==y}),VD=eo(function te(y,b,D){return Array.isArray(b)?b.findIndex(I=>z(y,I))>=0:z(y,b)});var e0=!1;function BD(y,b){var D=(0,ge.xQ)(y.primaryKey);b=(0,ce.FD)(b);var I=(0,ce.o8)(b);if("number"!=typeof I.skip&&(I.skip=0),I.selector?(I.selector=I.selector,Object.entries(I.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot)&&(I.selector[ct]={$eq:ot})})):I.selector={},I.index){var k=(0,M.$r)(I.index);k.includes(D)||k.push(D),I.index=k}if(I.sort)I.sort.find(ct=>(0,ce.Ln)(ct)===D)||(I.sort=I.sort.slice(0),I.sort.push({[D]:"asc"}));else if(I.index)I.sort=I.index.map(ct=>({[ct]:"asc"}));else{if(y.indexes){var j=new Set;Object.entries(I.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot||Object.keys(ot).find(At=>ie.Cf.has(At)))&&j.add(ct)});var re,ne=-1;y.indexes.forEach(ct=>{var ot=(0,M.k_)(ct)?ct:[ct],Dt=ot.findIndex(At=>!j.has(At));Dt>0&&Dt>ne&&(ne=Dt,re=ot)}),re&&(I.sort=re.map(ct=>({[ct]:"asc"})))}I.sort||(I.sort=[{[D]:"asc"}])}return I}function UD(y,b){if(!b.sort)throw(0,yr.Br)("SNH",{query:b});var D=[];return b.sort.forEach(k=>{var j=Object.keys(k)[0],ne=Object.values(k)[0];D.push({key:j,direction:ne,getValueFn:(0,ce.SQ)(j)})}),(k,j)=>{for(var ne=0;ne<D.length;++ne){var re=D[ne],Ee=re.getValueFn(k),ct=re.getValueFn(j);if(Ee!==ct)return"asc"===re.direction?he(Ee,ct):he(ct,Ee)}}}function Ug(y,b){if(!b.sort)throw(0,yr.Br)("SNH",{query:b});var D=function t0(y){return e0||(Gs(vn.PIPELINE,{$sort:lu,$project:jf}),Gs(vn.QUERY,{$and:Ng,$eq:bl,$elemMatch:Jb,$exists:LD,$gt:Xb,$gte:Qb,$in:ND,$lt:Lg,$lte:Vg,$ne:Bg,$nin:Gf,$mod:FD,$nor:kD,$not:Fg,$or:zf,$regex:Yb,$size:El,$type:VD}),e0=!0),new li(y)}(b.selector);return k=>D.test(k)}function Wf(y,b){return xr.apply(this,arguments)}function xr(){return(xr=(0,ee.A)(function*(y,b){var D=yield y.exec();return D?Array.isArray(D)?Promise.all(D.map(k=>b(k))):yield b(D):null})).apply(this,arguments)}},5672:(Vt,et,P)=>{"use strict";P.d(et,{Mh:()=>Io,XX:()=>Xs,nd:()=>xc,Ib:()=>au});var ee=P(467),ie=P(6126),ge=P(4412),ce=P(4843),M=P(7786),l=P(5964),De=P(9172),lt=P(1397),Be=P(6354),Ue=P(6496),Z=P(3294),Me=P(4552),Ne=P(5520),se=P(8663),ze=P(6434),Re=P(203),Pe=P(2060),_e=P(7176),Fe=P(7650),xe=P(2284);const Ie=G=>{G.previousResults.unshift(G.changeEvent.doc),G.keyDocumentMap&&G.keyDocumentMap.set(G.changeEvent.id,G.changeEvent.doc)},st=G=>{G.previousResults.push(G.changeEvent.doc),G.keyDocumentMap&&G.keyDocumentMap.set(G.changeEvent.id,G.changeEvent.doc)},Ye=G=>{const Oe=G.previousResults.shift();G.keyDocumentMap&&Oe&&G.keyDocumentMap.delete(Oe[G.queryParams.primaryKey])},ve=G=>{const Oe=G.previousResults.pop();G.keyDocumentMap&&Oe&&G.keyDocumentMap.delete(Oe[G.queryParams.primaryKey])},Tt=G=>{G.keyDocumentMap&&G.keyDocumentMap.delete(G.changeEvent.id);const Oe=G.queryParams.primaryKey,Je=G.previousResults;for(let ut=0;ut<Je.length;ut++)if(Je[ut][Oe]===G.changeEvent.id){Je.splice(ut,1);break}},hn=G=>{const Oe=G.changeEvent.id,Je=G.changeEvent.doc;if(G.keyDocumentMap){if(G.keyDocumentMap.has(Oe))return;G.keyDocumentMap.set(Oe,Je)}else if(G.previousResults.find(kt=>kt[G.queryParams.primaryKey]===Oe))return;!function Ae(G,Oe,Je,ut){var Kn,kt=G.length,Cn=kt-1,Nn=0;if(0===kt)return G.push(Oe),0;for(;ut<=Cn;)Je(Kn=G[Nn=ut+(Cn-ut>>1)],Oe)<=0?ut=Nn+1:Cn=Nn-1;Je(Kn,Oe)<=0&&Nn++,G.splice(Nn,0,Oe)}(G.previousResults,Je,G.queryParams.sortComparator,0)},be=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],K={doNothing:G=>{},insertFirst:Ie,insertLast:st,removeFirstItem:Ye,removeLastItem:ve,removeFirstInsertLast:G=>{Ye(G),st(G)},removeLastInsertFirst:G=>{ve(G),Ie(G)},removeFirstInsertFirst:G=>{Ye(G),Ie(G)},removeLastInsertLast:G=>{ve(G),st(G)},removeExisting:Tt,replaceExisting:G=>{const Oe=G.changeEvent.doc,Je=G.queryParams.primaryKey,ut=G.previousResults;for(let kt=0;kt<ut.length;kt++)if(ut[kt][Je]===G.changeEvent.id){ut[kt]=Oe,G.keyDocumentMap&&G.keyDocumentMap.set(G.changeEvent.id,Oe);break}},alwaysWrong:G=>{const Oe={_id:"wrongHuman"+(new Date).getTime()};G.previousResults.length=0,G.previousResults.push(Oe),G.keyDocumentMap&&(G.keyDocumentMap.clear(),G.keyDocumentMap.set(Oe._id,Oe))},insertAtSortPosition:hn,removeExistingAndInsertAtSortPosition:G=>{Tt(G),hn(G)},runFullQueryAgain:G=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:G=>{throw new Error("Action unknownAction should never be called")}};function H(G){return G?"1":"0"}function Pn(G,Oe){const Je=[];for(let ut=0,kt=G.length;ut<kt;ut+=Oe)Je.push(G.substring(ut,ut+Oe));return Je}!function oe(G=6){let Oe="";for(let kt=0;kt<G;kt++)Oe+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()))}(4);const In=40;function Qi(G){return G.charCodeAt(0)-In}function jn(G){return G[G.length-1]}function yr(G,Oe,Je){if(Array.isArray(Oe)&&(Oe=Oe.join(".")),!function ti(G){const Oe=typeof G;return null!==G&&("object"===Oe||"function"===Oe)}(G)||"string"!=typeof Oe)return void 0===Je?G:Je;const ut=Oe.split(".");if(0===ut.length)return Je;for(let kt=0;kt<ut.length;kt++){const Cn=ut[kt];if(null==(G=ai(G,Cn)?kt===ut.length-1?void 0:null:G[Cn])){if(kt!==ut.length-1)return Je;break}}return void 0===G?Je:G}function ai(G,Oe){if("number"!=typeof Oe&&Array.isArray(G)){const Je=Number.parseInt(Oe,10);return Number.isInteger(Je)&&G[Je]===G[Oe]}return!1}const bo=G=>!!G.queryParams.limit,rs={0:G=>"INSERT"===G.changeEvent.operation,1:G=>"UPDATE"===G.changeEvent.operation,2:G=>"DELETE"===G.changeEvent.operation,3:bo,4:G=>1===G.queryParams.limit,5:G=>!!(G.queryParams.skip&&G.queryParams.skip>0),6:G=>0===G.previousResults.length,7:G=>bo(G)&&G.previousResults.length>=G.queryParams.limit,8:G=>{const Oe=G.previousResults[0];return!(!Oe||Oe[G.queryParams.primaryKey]!==G.changeEvent.id)},9:G=>{const Oe=jn(G.previousResults);return!(!Oe||Oe[G.queryParams.primaryKey]!==G.changeEvent.id)},10:G=>{const Oe=G.queryParams.sortFields,Je=G.changeEvent.previous,ut=G.changeEvent.doc;if(!ut)return!1;if(!Je)return!0;for(let kt=0;kt<Oe.length;kt++){const Cn=Oe[kt];if(yr(Je,Cn)!==yr(ut,Cn))return!0}return!1},11:G=>{const Oe=G.changeEvent.id;if(G.keyDocumentMap)return G.keyDocumentMap.has(Oe);{const Je=G.queryParams.primaryKey,ut=G.previousResults;for(let kt=0;kt<ut.length;kt++)if(ut[kt][Je]===Oe)return!0;return!1}},12:G=>{const Oe=G.changeEvent.previous;if(!Oe)return!1;const Je=G.previousResults[0];return!!Je&&(Je[G.queryParams.primaryKey]===G.changeEvent.id||G.queryParams.sortComparator(Oe,Je)<0)},13:G=>{const Oe=G.changeEvent.previous;if(!Oe)return!1;const Je=jn(G.previousResults);return!!Je&&(Je[G.queryParams.primaryKey]===G.changeEvent.id||G.queryParams.sortComparator(Oe,Je)>0)},14:G=>{const Oe=G.changeEvent.doc;if(!Oe)return!1;const Je=G.previousResults[0];return!!Je&&(Je[G.queryParams.primaryKey]===G.changeEvent.id||G.queryParams.sortComparator(Oe,Je)<0)},15:G=>{const Oe=G.changeEvent.doc;if(!Oe)return!1;const Je=jn(G.previousResults);return!!Je&&(Je[G.queryParams.primaryKey]===G.changeEvent.id||G.queryParams.sortComparator(Oe,Je)>0)},16:G=>{const Oe=G.changeEvent.previous;return!!Oe&&G.queryParams.queryMatcher(Oe)},17:G=>{const Oe=G.changeEvent.doc;return!!Oe&&G.queryParams.queryMatcher(Oe)}};let qa;const Ks=G=>function Yn(G,Oe,Je){let ut=G,kt=G.l;for(;;){if(ut=ut[H(Oe[kt](Je))],"number"==typeof ut||"string"==typeof ut)return ut;kt=ut.l}}(function Lr(){return qa||(qa=function hr(G){const Oe=new Map,ut=2+2*parseInt(G.charAt(0)+G.charAt(1),10),Cn=Pn(G.substring(2,ut),2);for(let Do=0;Do<Cn.length;Do++){const Qs=Cn[Do],Ys=Qs.charAt(0),ho=Qi(Qs.charAt(1));Oe.set(Ys,ho)}const Kn=Pn(G.substring(ut,G.length-3),4);for(let Do=0;Do<Kn.length;Do++){const Qs=Kn[Do],Ys=Qs.charAt(0),ho=Qs.charAt(1),Za=Qs.charAt(2),Mc=Qi(Qs.charAt(3));if(!Oe.has(ho))throw new Error("missing node with id "+ho);if(!Oe.has(Za))throw new Error("missing node with id "+Za);const dl=Oe.get(ho),Rc=Oe.get(Za);Oe.set(Ys,{l:Mc,0:dl,1:Rc})}const pr=G.slice(-3),Vr=pr.charAt(0),qr=pr.charAt(1);return{l:Qi(pr.charAt(2)),0:Oe.get(Vr),1:Oe.get(qr)}}("14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7fae9\xa1bf9\xa2bq9\xa3cg9\xa4ck9\xa5cn9\xa6nd9\xa7np9\xa8nq9\xa9nf9\xaang9\xabnm9\xacnk9\xadmr9\xaems9\xafmt9\xb0mj9\xb1mk9\xb2ml9\xb3mn9\xb4mc8\xb5\xb3{8\xb6\xaf}8\xb7\xb0\xa48\xb8\xb3\xa78\xb9mn8\xba\xb3\xab8\xbb\xb3m8\xbcm\xb44\xbdz\xb24\xbe\xb3w4\xbfz\xb54\xc0\xaf\xb64\xc1\xb0\xb74\xc2\xb3\xba4\xc3\xb3\xb84\xc4m\xb94\xc5v\xa47\xc6yn7\xc7\xc0\xc17\xc8~\x7f7\xc9\xa5\xa47\xca\xc3\xc47\xcb\xa8n7\xcc\xba\xb97\xcd\xad\xb07\xce\xaem7\xcf\xaf\xb07\xd0\xb1m7\xd1\xb3m7\xd2\xbcm5\xd3\xc4m5\xd4\xb9m5\xd5\xbd\xb05\xd6\xbem5\xd7\xbf\xb05\xd8\xc7\xcf5\xd9\xc2m5\xda\xca\xd15\xdb\xb1m5\xdc\xbam5\xdd\xcc\xd15\xde\xd5\xcd2\xdf|\x7f2\xe0\xa1u2\xe1\xa3\xc52\xe2\xd6\xce2\xe3\xa6\xc62\xe4\xa9x2\xe5\xaa\xc62\xe6\xd7\xd82\xe7|\xc82\xe8\xa1\xa22\xe9\xa3\xc92\xea\xa4\xa52\xeb\xd9\xda2\xec\xa6\xcb2\xed\xa9n2\xee\xaan2\xef\xdb\xd02\xf0\xdc\xdd2\xf1\xacn2\xf2\xd2\xd3/\xf3an/\xf4bn/\xf5cn/\xf6\xde\xe2/\xf7\xdf\xe3/\xf8\xe0\xe4/\xf9\xe1\xe5/\xfa\xe6\xeb/\xfb\xe7\xec/\xfc\xe8\xed/\xfd\xe9\xee/\xfe\xcd\xce/\xff\xcf\xd1/\u0100\xf2\xd4,\u0101cn,\u0102\xf6\xef,\u0103\xa4\xf1,\u0104\xfa\xf0,\u0105\xea\xf1,\u0106\xfe\xd0,\u0107\xff\xd1,\u0108ac0\u0109bc0\u010a\xf3\xf50\u010b\xf4\u01010\u010c\xdf\xe10\u010d\xe0\xa40\u010e\xe7\xe90\u010f\xe8\xea0\u0110\xf7\xf90\u0111\xf8\u01030\u0112\xfb\xfd0\u0113\xfc\u01050\u0114m\xd2-\u0115m\u0100-\u0116\xde\xe6-\u0117\u010c\u010e-\u0118\u010d\u010f-\u0119\u0102\u0104-\u011a\u0110\u0112-\u011b\u0111\u0113-\u011c\xb2\xbb-\u011d\xcd\xcf-\u011e\u0106\u0107-\u011f\xb2\xb3-\u0120\u0114\u01083\u0121\u0115\u010a3\u0122\u0116\u01173\u0123\u0119\u011a3\u0124\u0122\u011d(\u0125\u011c\u011f(\u0126\u0123\u011e(\u0127\u0120\u0121+\u0128\u0109\u010b+\u0129\u0124\u0126+\u012a\u0118\u011b+\u012b\u0127\u01281\u012c\u0129\u012a1\u012d\u012c\u012b*\u012e\u0125m*\u012d\u012e.")),qa}(),rs,G);var Is=P(312),cl=P(9403),Ui=P(5365);function or(G,Oe){return Oe.sort&&0!==Oe.sort.length?Oe.sort.map(Je=>Object.keys(Je)[0]):[G]}var os=new WeakMap;function ba(G,Oe){if(!G.collection.database.eventReduce)return{runFullQueryAgain:!0};var Je=function qs(G){return(0,cl.q)(os,G,()=>{var Oe=G.collection,Je=(0,Ui._V)(Oe.storageInstance.schema,(0,ze.o8)(G.mangoQuery)),ut=Oe.schema.primaryPath,kt=(0,Ui.Xw)(Oe.schema.jsonSchema,Je),Nn=(0,Ui.Lr)(Oe.schema.jsonSchema,Je);return{primaryKey:G.collection.schema.primaryPath,skip:Je.skip,limit:Je.limit,sortFields:or(ut,Je),sortComparator:(Vr,qr)=>{var Xr={docA:Vr,docB:qr,rxQuery:G};return kt(Xr.docA,Xr.docB)},queryMatcher:Vr=>Nn({doc:Vr,rxQuery:G}.doc)}})}(G),ut=(0,se.ZN)(G._result).docsData.slice(0),kt=(0,se.ZN)(G._result).docsDataMap,Cn=!1,Kn=Oe.map(pr=>(0,Is._r)(pr)).filter(_e.S7).find(pr=>{var qr=function Xa(G){const Oe=Ks(G);return be[Oe]}({queryParams:Je,changeEvent:pr,previousResults:ut,keyDocumentMap:kt});return"runFullQueryAgain"===qr||("doNothing"!==qr?(Cn=!0,function $n(G,Oe,Je,ut,kt){(0,K[G])({queryParams:Oe,changeEvent:Je,previousResults:ut,keyDocumentMap:kt})}(qr,Je,pr,ut,kt),!1):void 0)});return Kn?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:Cn,newResults:ut}}var Tc=P(6259),Ea=P(9825),wa=function(){return(0,ie.A)(function G(Oe,Je,ut){this.time=(0,Me.t)(),this.collection=Oe,this.count=ut,this.documents=(0,Ea.X)(this.collection._docCache,Je)},[{key:"docsData",get:function(){return(0,ze.Ns)(this,"docsData",this.documents.map(Oe=>Oe._data))}},{key:"docsDataMap",get:function(){var Oe=new Map;return this.documents.forEach(Je=>{Oe.set(Je.primary,Je._data)}),(0,ze.Ns)(this,"docsDataMap",Oe)}},{key:"docsMap",get:function(){for(var Oe=new Map,Je=this.documents,ut=0;ut<Je.length;ut++){var kt=Je[ut];Oe.set(kt.primary,kt)}return(0,ze.Ns)(this,"docsMap",Oe)}}])}(),Ac=P(997),ll=0,Io=function(){function G(Je,ut,kt,Cn={}){this.id=++ll,this._execOverDatabaseCount=0,this._creationTime=(0,Me.t)(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new ge.t(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Ne.Dr,this.op=Je,this.mangoQuery=ut,this.collection=kt,this.other=Cn,ut||(this.mangoQuery={selector:{}}),this.isFindOneByIdQuery=function Ya(G,Oe){if(!Oe.skip&&Oe.selector&&1===Object.keys(Oe.selector).length&&Oe.selector[G]){var Je=Oe.selector[G];if("string"==typeof Je)return Je;if(1===Object.keys(Je).length&&"string"==typeof Je.$eq||1===Object.keys(Je).length&&Array.isArray(Je.$eq)&&!Je.$eq.find(ut=>"string"!=typeof ut))return Je.$eq}return!1}(this.collection.schema.primaryPath,ut)}var Oe=G.prototype;return Oe._setResultData=function(ut){if("number"!=typeof ut){ut instanceof Map&&(ut=Array.from(ut.values()));var kt=new wa(this.collection,ut,ut.length);this._result=kt}else this._result=new wa(this.collection,[],ut)},Oe._execOverDatabase=function(){var Je=(0,ee.A)(function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=(0,Me.t)(),"count"===this.op){var kt=this.getPreparedQuery(),Cn=yield this.collection.storageInstance.count(kt);if("slow"===Cn.mode&&!this.collection.database.allowSlowCount)throw(0,Fe.Br)("QU14",{collection:this.collection,queryObj:this.mangoQuery});return Cn.count}if("findByIds"===this.op){var Nn=(0,se.ZN)(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,Kn=new Map,pr=[];return Nn.forEach(Xr=>{var Co=this.collection._docCache.getLatestDocumentDataIfExists(Xr);if(Co){if(!Co._deleted){var Cs=this.collection._docCache.getCachedRxDocument(Co);Kn.set(Xr,Cs)}}else pr.push(Xr)}),pr.length>0&&(yield this.collection.storageInstance.findDocumentsById(pr,!1)).forEach(Xr=>{var Co=this.collection._docCache.getCachedRxDocument(Xr);Kn.set(Co.primary,Co)}),Kn}var qr=function lo(G){return Zi.apply(this,arguments)}(this);return qr.then(Xr=>(this._lastExecEnd=(0,Me.t)(),Xr))});return function ut(){return Je.apply(this,arguments)}}(),Oe.exec=function(ut){if(ut&&"findOne"!==this.op)throw(0,Fe.Br)("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Qa(this).then(()=>(0,ce._)(this.$)).then(kt=>{if(!kt&&ut)throw(0,Fe.Br)("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return kt})},Oe.toString=function(){var ut=(0,ze.mf)({op:this.op,query:this.mangoQuery,other:this.other},!0),kt=JSON.stringify(ut);return this.toString=()=>kt,kt},Oe.getPreparedQuery=function(){var ut={rxQuery:this,mangoQuery:(0,Ui._V)(this.collection.schema.jsonSchema,this.mangoQuery)};ut.mangoQuery.selector._deleted={$eq:!1},ut.mangoQuery.index&&ut.mangoQuery.index.unshift("_deleted"),(0,xe.Xi)("prePrepareQuery",ut);var kt=au(this.collection.schema.jsonSchema,ut.mangoQuery);return this.getPreparedQuery=()=>kt,kt},Oe.doesDocumentDataMatch=function(ut){return!ut._deleted&&this.queryMatcher(ut)},Oe.remove=function(){return this.exec().then(ut=>Array.isArray(ut)?Promise.all(ut.map(kt=>kt.remove())):ut.remove())},Oe.incrementalRemove=function(){return(0,Ui.dx)(this.asRxQuery,ut=>ut.incrementalRemove())},Oe.update=function(ut){throw(0,Re.u)("update")},Oe.patch=function(ut){return(0,Ui.dx)(this.asRxQuery,kt=>kt.patch(ut))},Oe.incrementalPatch=function(ut){return(0,Ui.dx)(this.asRxQuery,kt=>kt.incrementalPatch(ut))},Oe.modify=function(ut){return(0,Ui.dx)(this.asRxQuery,kt=>kt.modify(ut))},Oe.incrementalModify=function(ut){return(0,Ui.dx)(this.asRxQuery,kt=>kt.incrementalModify(ut))},Oe.where=function(ut){throw(0,Re.u)("query-builder")},Oe.sort=function(ut){throw(0,Re.u)("query-builder")},Oe.skip=function(ut){throw(0,Re.u)("query-builder")},Oe.limit=function(ut){throw(0,Re.u)("query-builder")},(0,ie.A)(G,[{key:"$",get:function(){if(!this._$){var Je=this.collection.$.pipe((0,l.p)(ut=>!ut.isLocal),(0,De.Z)(null),(0,lt.Z)(()=>Qa(this)),(0,Be.T)(()=>this._result),(0,Ue.t)(se.bz),(0,Z.F)((ut,kt)=>!(!ut||ut.time!==(0,se.ZN)(kt).time)),(0,l.p)(ut=>!!ut),(0,Be.T)(ut=>{var kt=(0,se.ZN)(ut);return"count"===this.op?kt.count:"findOne"===this.op?0===kt.documents.length?null:kt.documents[0]:"findByIds"===this.op?kt.docsMap:kt.documents.slice(0)}));this._$=(0,M.h)(Je,this.refCount$.pipe((0,l.p)(()=>!1)))}return this._$}},{key:"$$",get:function(){return this.collection.database.getReactivityFactory().fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var Je=this.collection.schema.jsonSchema,ut=(0,Ui._V)(this.collection.schema.jsonSchema,this.mangoQuery);return(0,ze.Ns)(this,"queryMatcher",(0,Ui.Lr)(Je,ut))}},{key:"asRxQuery",get:function(){return this}}])}();function Xs(){return{selector:{}}}function xc(G,Oe,Je,ut){(0,xe.Xi)("preCreateRxQuery",{op:G,queryObj:Oe,collection:Je,other:ut});var kt=new Io(G,Oe,Je,ut);return kt=function Sc(G){return G.collection._queryCache.getByQuery(G)}(kt),(0,Tc.n9)(Je),kt}function Hn(G){var Oe=G.asRxQuery.collection._changeEventBuffer.getCounter();return G._latestChangeEvent>=Oe}function Qa(G){return G.collection.database.destroyed||Hn(G)?Ne.Dr:(G._ensureEqualQueue=G._ensureEqualQueue.then(()=>function ul(G){if(G._lastEnsureEqual=(0,Me.t)(),G.collection.database.destroyed||Hn(G))return Ne.Dr;var Oe=!1,Je=!1;if(-1===G._latestChangeEvent&&(Je=!0),!Je){var ut=G.asRxQuery.collection._changeEventBuffer.getFrom(G._latestChangeEvent+1);if(null===ut)Je=!0;else{G._latestChangeEvent=G.asRxQuery.collection._changeEventBuffer.getCounter();var kt=G.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(ut);if("count"===G.op){var Cn=(0,se.ZN)(G._result).count,Nn=Cn;kt.forEach(pr=>{var Vr=pr.previousDocumentData&&G.doesDocumentDataMatch(pr.previousDocumentData),qr=G.doesDocumentDataMatch(pr.documentData);!Vr&&qr&&Nn++,Vr&&!qr&&Nn--}),Nn!==Cn&&(Oe=!0,G._setResultData(Nn))}else{var Kn=ba(G,kt);Kn.runFullQueryAgain?Je=!0:Kn.changed&&(Oe=!0,G._setResultData(Kn.newResults))}}}return Je?G._execOverDatabase().then(pr=>(G._latestChangeEvent=G.collection._changeEventBuffer.getCounter(),"number"==typeof pr?((!G._result||pr!==G._result.count)&&(Oe=!0,G._setResultData(pr)),Oe):((!G._result||!(0,Pe.YL)(G.collection.schema.primaryPath,pr,G._result.docsData))&&(Oe=!0,G._setResultData(pr)),Oe))):Promise.resolve(Oe)}(G)),G._ensureEqualQueue)}function au(G,Oe){if(!Oe.sort)throw(0,Fe.Br)("SNH",{query:Oe});return{query:Oe,queryPlan:(0,Ac.sk)(G,Oe)}}function Zi(){return(Zi=(0,ee.A)(function*(G){var Oe=[],Je=G.collection;if(G.isFindOneByIdQuery)if(Array.isArray(G.isFindOneByIdQuery)){var ut=G.isFindOneByIdQuery;if((ut=ut.filter(qr=>{var Xr=G.collection._docCache.getLatestDocumentDataIfExists(qr);return!Xr||(Xr._deleted||Oe.push(Xr),!1)})).length>0){var kt=yield Je.storageInstance.findDocumentsById(ut,!1);(0,_e.Hb)(Oe,kt)}}else{var Cn=G.isFindOneByIdQuery,Nn=G.collection._docCache.getLatestDocumentDataIfExists(Cn);if(!Nn){var Kn=yield Je.storageInstance.findDocumentsById([Cn],!1);Kn[0]&&(Nn=Kn[0])}Nn&&!Nn._deleted&&Oe.push(Nn)}else{var pr=G.getPreparedQuery(),Vr=yield Je.storageInstance.query(pr);Oe=Vr.documents}return Oe})).apply(this,arguments)}},1885:(Vt,et,P)=>{"use strict";P.d(et,{pA:()=>Ae,Nq:()=>Me,Ud:()=>_e,U:()=>ze,uK:()=>xe,Hq:()=>se,xQ:()=>Ne,nT:()=>Z,d1:()=>Re});var ee=P(7650),ie=/\./g,ce=P(720),M=P(1744),l=P(8663),De=P(6434),lt=P(7176);function Z(Ie,st){var Ye=st;return Ye=Ye.replace(ie,".properties."),Ye=(0,ce.L$)(Ye="properties."+Ye),(0,M.UU)(Ie,Ye)}function Me(Ie,st,Ye){if("string"==typeof st.primaryKey)return Ye;var ve=ze(st,Ye),he=Ye[Ie];if(he&&he!==ve)throw(0,ee.Br)("DOC19",{args:{documentData:Ye,existingPrimary:he,newPrimary:ve},schema:st});return Ye[Ie]=ve,Ye}function Ne(Ie){return"string"==typeof Ie?Ie:Ie.key}function se(Ie){var Ye=Z(Ie,Ne(Ie.primaryKey));return(0,l.ZN)(Ye.maxLength)}function ze(Ie,st){if("string"==typeof Ie.primaryKey)return st[Ie.primaryKey];var Ye=Ie.primaryKey;return Ye.fields.map(ve=>{var he=(0,M.UU)(st,ve);if(typeof he>"u")throw(0,ee.Br)("DOC18",{args:{field:ve,documentData:st}});return he}).join(Ye.separator)}function Re(Ie){return(0,De.mf)(Ie,!0)}function _e(Ie){var st=Ne((Ie=(0,De.FD)(Ie)).primaryKey);Ie.properties=(0,De.FD)(Ie.properties),Ie.additionalProperties=!1,Object.prototype.hasOwnProperty.call(Ie,"keyCompression")||(Ie.keyCompression=!1),Ie.indexes=Ie.indexes?Ie.indexes.slice(0):[],Ie.required=Ie.required?Ie.required.slice(0):[],Ie.encrypted=Ie.encrypted?Ie.encrypted.slice(0):[],Ie.properties._rev={type:"string",minLength:1},Ie.properties._attachments={type:"object"},Ie.properties._deleted={type:"boolean"},Ie.properties._meta=Fe,Ie.required=Ie.required?Ie.required.slice(0):[],Ie.required.push("_deleted"),Ie.required.push("_rev"),Ie.required.push("_meta"),Ie.required.push("_attachments");var Ye=xe(Ie);(0,lt.Hb)(Ie.required,Ye),Ie.required=Ie.required.filter(Y=>!Y.includes(".")).filter((Y,pt,Ct)=>Ct.indexOf(Y)===pt),Ie.version=Ie.version||0;var ve=Ie.indexes.map(Y=>{var pt=(0,lt.k_)(Y)?Y.slice(0):[Y];return pt.includes(st)||pt.push(st),"_deleted"!==pt[0]&&pt.unshift("_deleted"),pt});0===ve.length&&ve.push(function Pe(Ie){return["_deleted",Ie]}(st)),ve.push(["_meta.lwt",st]),Ie.internalIndexes&&Ie.internalIndexes.map(Y=>{ve.push(Y)});var he=new Set;return ve.filter(Y=>{var pt=Y.join(",");return!he.has(pt)&&(he.add(pt),!0)}),Ie.indexes=ve,Ie}var Fe={type:"object",properties:{lwt:{type:"number",minimum:P(2060).MC,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function xe(Ie){var st=Object.keys(Ie.properties).filter(ve=>Ie.properties[ve].final),Ye=Ne(Ie.primaryKey);return st.push(Ye),"string"!=typeof Ie.primaryKey&&Ie.primaryKey.fields.forEach(ve=>st.push(ve)),st}function Ae(Ie,st){for(var Ye=Object.keys(Ie.defaultValues),ve=0;ve<Ye.length;++ve){var he=Ye[ve];(!Object.prototype.hasOwnProperty.call(st,he)||typeof st[he]>"u")&&(st[he]=Ie.defaultValues[he])}return st}},9182:(Vt,et,P)=>{"use strict";P.d(et,{NP:()=>Z,Wq:()=>Me,wJ:()=>Be});var ee=P(6126),ie=P(6636),ge=P(6434),ce=P(7176),M=P(7650),l=P(2284),De=P(1885),lt=P(3896),Be=function(){function ze(Pe,_e){this.jsonSchema=Pe,this.hashFunction=_e,this.indexes=function Ue(ze){return(ze.indexes||[]).map(Re=>(0,ce.k_)(Re)?Re:[Re])}(this.jsonSchema),this.primaryPath=(0,De.xQ)(this.jsonSchema.primaryKey),this.finalFields=(0,De.uK)(this.jsonSchema)}var Re=ze.prototype;return Re.validateChange=function(_e,Fe){this.finalFields.forEach(xe=>{if(!(0,ie.b)(_e[xe],Fe[xe]))throw(0,M.Br)("DOC9",{dataBefore:_e,dataAfter:Fe,fieldName:xe,schema:this.jsonSchema})})},Re.getDocumentPrototype=function(){var _e={},Fe=(0,De.nT)(this.jsonSchema,"");return Object.keys(Fe).forEach(xe=>{var Ae=xe;_e.__defineGetter__(xe,function(){if(this.get&&"function"==typeof this.get)return this.get(Ae)}),Object.defineProperty(_e,xe+"$",{get:function(){return this.get$(Ae)},enumerable:!1,configurable:!1}),Object.defineProperty(_e,xe+"$$",{get:function(){return this.get$$(Ae)},enumerable:!1,configurable:!1}),Object.defineProperty(_e,xe+"_",{get:function(){return this.populate(Ae)},enumerable:!1,configurable:!1})}),(0,ge.Ns)(this,"getDocumentPrototype",()=>_e),_e},Re.getPrimaryOfDocumentData=function(_e){return(0,De.U)(this.jsonSchema,_e)},(0,ee.A)(ze,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var Pe={};return Object.entries(this.jsonSchema.properties).filter(([,_e])=>Object.prototype.hasOwnProperty.call(_e,"default")).forEach(([_e,Fe])=>Pe[_e]=Fe.default),(0,ge.Ns)(this,"defaultValues",Pe)}},{key:"hash",get:function(){return(0,ge.Ns)(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function Z(ze){var Pe=0;return new Array(ze.version?ze.version:0).fill(0).map(()=>Pe++)}function Me(ze,Re,Pe=!0){Pe&&(0,l.Xi)("preCreateRxSchema",ze);var _e=(0,De.Ud)(ze);_e=(0,De.d1)(_e),lt.h.deepFreezeWhenDevMode(_e);var Fe=new Be(_e,Re);return(0,l.Xi)("createRxSchema",Fe),Fe}},6893:(Vt,et,P)=>{"use strict";P.d(et,{AM:()=>Tt,C9:()=>pt,ME:()=>Jt,Mu:()=>We,O5:()=>Pe,OG:()=>ze,WX:()=>Ie,YN:()=>ae,gi:()=>st,mQ:()=>Fe,on:()=>Y,p0:()=>Mn,pZ:()=>cn});var ee=P(467),ie=P(3896),ge=P(7650),ce=P(1885),M=P(720),l=P(4552),De=P(8663),lt=P(6434),Be=P(6568),Ue=P(7176),Z=P(2060),Me=P(5672),Ne=P(5365),se=P(2284),ze="_rxdb_internal";function Pe(K,U){return _e.apply(this,arguments)}function _e(){return(_e=(0,ee.A)(function*(K,U){var Q=(yield K.findDocumentsById([U],!1))[0];if(Q)return Q})).apply(this,arguments)}function Fe(K,U,H){return xe.apply(this,arguments)}function xe(){return(xe=(0,ee.A)(function*(K,U,H){var Q=yield K.bulkWrite([U],H);if(Q.error.length>0)throw Q.error[0];return ae((0,ce.xQ)(K.schema.primaryKey),[U],Q)[0]})).apply(this,arguments)}function We(K){return Object.assign({},...K)}function Ie(K,U,H,Q){if(Q)throw 409===Q.status?(0,ge.Br)("CONFLICT",{collection:K.name,id:U,writeError:Q,data:H}):422===Q.status?(0,ge.Br)("VD2",{collection:K.name,id:U,writeError:Q,data:H}):Q}function st(K,U,H,Q,J,oe,le){for(var Pn,Te=!!K.schema.attachments,It=[],Ft=[],Mt=[],en={id:(0,M.z3)(10),events:[],checkpoint:null,context:J,startTime:(0,l.t)(),endTime:0},rn=en.events,an=[],$t=[],un=[],tn=H.size>0,In=Q.length,Xi=function(){var Ut,Nr=Q[Qi],zt=Nr.document,vr=Nr.previous,hr=zt[U],Yn=zt._deleted,jn=vr&&vr._deleted,ir=void 0;if(tn&&(ir=H.get(hr)),ir){if(!vr||vr&&ir._rev!==vr._rev)return Mt.push({isError:!0,status:409,documentId:hr,writeRow:Nr,documentInDb:ir}),1;var Fo=Te?Ye(Nr):Nr;Te&&(Yn?vr&&Object.keys(vr._attachments).forEach(Fr=>{$t.push({documentId:hr,attachmentId:Fr,digest:(0,De.ZN)(vr)._attachments[Fr].digest})}):(Object.entries(zt._attachments).find(([Fr,ti])=>(!(vr?vr._attachments[Fr]:void 0)&&!ti.data&&(Ut={documentId:hr,documentInDb:ir,isError:!0,status:510,writeRow:Nr,attachmentId:Fr}),!0)),Ut||Object.entries(zt._attachments).forEach(([Fr,ti])=>{var yr=vr?vr._attachments[Fr]:void 0;yr?ti.data&&yr.digest!==Fo.document._attachments[Fr].digest&&un.push({documentId:hr,attachmentId:Fr,attachmentData:ti,digest:ti.digest}):an.push({documentId:hr,attachmentId:Fr,attachmentData:ti,digest:ti.digest})}))),Ut?Mt.push(Ut):(Te?(Ft.push(Ye(Fo)),le&&le(zt)):(Ft.push(Fo),le&&le(zt)),Pn=Fo);var Hs=null,zs=null,Wa=null;if(jn&&!Yn)Wa="INSERT",Hs=Te?Y(zt):zt;else if(!vr||jn||Yn){if(!Yn)throw(0,ge.Br)("SNH",{args:{writeRow:Nr}});Wa="DELETE",Hs=(0,De.ZN)(zt),zs=vr}else Wa="UPDATE",Hs=Te?Y(zt):zt,zs=vr;rn.push({documentId:hr,documentData:Hs,previousDocumentData:zs,operation:Wa})}else{var No=!!Yn;if(Te&&Object.entries(zt._attachments).forEach(([Fr,ti])=>{ti.data?an.push({documentId:hr,attachmentId:Fr,attachmentData:ti,digest:ti.digest}):Mt.push(Ut={documentId:hr,isError:!0,status:510,writeRow:Nr,attachmentId:Fr})}),Ut||(Te?(It.push(Ye(Nr)),oe&&oe(zt)):(It.push(Nr),oe&&oe(zt)),Pn=Nr),!No){var yo={documentId:hr,operation:"INSERT",documentData:Te?Y(zt):zt,previousDocumentData:Te&&vr?Y(vr):vr};rn.push(yo)}}},Qi=0;Qi<In;Qi++)Xi();return{bulkInsertDocs:It,bulkUpdateDocs:Ft,newestRow:Pn,errors:Mt,eventBulk:en,attachmentsAdd:an,attachmentsRemove:$t,attachmentsUpdate:un}}function Ye(K){return{previous:K.previous,document:Y(K.document)}}function ve(K){return atob(K).length}function Y(K){if(!K._attachments||0===Object.keys(K._attachments).length)return K;var U=(0,lt.FD)(K);return U._attachments={},Object.entries(K._attachments).forEach(([H,Q])=>{U._attachments[H]=function he(K){var U=K.data;return U?{length:ve(U),digest:K.digest,type:K.type}:K}(Q)}),U}function pt(K){return Object.assign({},K,{_meta:(0,lt.FD)(K._meta)})}var Ct=new WeakMap;function Tt(K,U,H){ie.h.deepFreezeWhenDevMode(H);var Q=(0,ce.xQ)(U.schema.primaryKey),J={originalStorageInstance:U,schema:U.schema,internals:U.internals,collectionName:U.collectionName,databaseName:U.databaseName,options:U.options,bulkWrite(oe,le){for(var Te=K.token,It=new Array(oe.length),Ft=(0,l.t)(),Mt=0;Mt<oe.length;Mt++){var Bt=oe[Mt],en=pt(Bt.document);en._meta.lwt=Ft;var rn=Bt.previous;en._rev=(0,Be.CM)(Te,rn),It[Mt]={document:en,previous:rn}}return(0,se.Xi)("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:It}),K.lockedRun(()=>U.bulkWrite(It,le)).then(an=>{var $t={error:[]},un=ae(Q,It,an);Ct.set($t,un);var tn=0===an.error.length?[]:an.error.filter(In=>!(409!==In.status||In.writeRow.previous||In.writeRow.document._deleted||!(0,De.ZN)(In.documentInDb)._deleted)||($t.error.push(In),!1));if(tn.length>0){var Pn=tn.map(In=>({previous:In.documentInDb,document:Object.assign({},In.writeRow.document,{_rev:(0,Be.CM)(K.token,In.documentInDb)})}));return K.lockedRun(()=>U.bulkWrite(Pn,le)).then(In=>{(0,Ue.Hb)($t.error,In.error);var Xi=ae(Q,Pn,In);return(0,Ue.Hb)(un,Xi),$t})}return $t})},query:oe=>K.lockedRun(()=>U.query(oe)),count:oe=>K.lockedRun(()=>U.count(oe)),findDocumentsById:(oe,le)=>K.lockedRun(()=>U.findDocumentsById(oe,le)),getAttachmentData:(oe,le,Te)=>K.lockedRun(()=>U.getAttachmentData(oe,le,Te)),getChangedDocumentsSince:U.getChangedDocumentsSince?(oe,le)=>K.lockedRun(()=>U.getChangedDocumentsSince((0,De.ZN)(oe),le)):void 0,cleanup:oe=>K.lockedRun(()=>U.cleanup(oe)),remove:()=>(K.storageInstances.delete(J),K.lockedRun(()=>U.remove())),close:()=>(K.storageInstances.delete(J),K.lockedRun(()=>U.close())),changeStream:()=>U.changeStream(),conflictResultionTasks:()=>U.conflictResultionTasks(),resolveConflictResultionTask(oe){if(oe.output.isEqual)return U.resolveConflictResultionTask(oe);var le=Object.assign({},oe.output.documentData,{_meta:(0,Z.o4)(),_rev:(0,Z.Fq)(),_attachments:{}}),Te=(0,lt.FD)(le);return delete Te._meta,delete Te._rev,delete Te._attachments,U.resolveConflictResultionTask({id:oe.id,output:{isEqual:!1,documentData:Te}})}};return K.storageInstances.add(J),J}function cn(K){if(K.schema.keyCompression)throw(0,ge.Br)("UT5",{args:{params:K}});if(Jt(K.schema))throw(0,ge.Br)("UT6",{args:{params:K}});if(K.schema.attachments&&K.schema.attachments.compression)throw(0,ge.Br)("UT7",{args:{params:K}})}function Jt(K){return!!(K.encrypted&&K.encrypted.length>0||K.attachments&&K.attachments.encrypted)}function Mn(K,U,H){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,ee.A)(function*(K,U,H){if(K.getChangedDocumentsSince)return K.getChangedDocumentsSince(U,H);var Q=(0,ce.xQ)(K.schema.primaryKey),J=(0,Me.Ib)(K.schema,function hn(K,U,H){var Q=(0,ce.xQ)(K.schema.primaryKey),J=H?H.lwt:Z.MC;return(0,Ne._V)(K.schema,{selector:{$or:[{"_meta.lwt":{$gt:J}},{"_meta.lwt":{$eq:J},[Q]:{$gt:H&&H?H.id:""}}],"_meta.lwt":{$gte:J}},sort:[{"_meta.lwt":"asc"},{[Q]:"asc"}],skip:0,limit:U})}(K,U,H)),le=(yield K.query(J)).documents,Te=(0,Ue.dG)(le);return{documents:le,checkpoint:Te?{id:Te[Q],lwt:Te._meta.lwt}:H||{id:"",lwt:0}}})).apply(this,arguments)}function ae(K,U,H){var Q=Ct.get(H);if(Q)return Q;var J=[];if(H.error.length>0){for(var oe=new Set,le=0;le<H.error.length;le++)oe.add(H.error[le].documentId);for(var It=0;It<U.length;It++){var Ft=U[It].document;oe.has(Ft[K])||J.push(Y(Ft))}}else{J.length=U.length-H.error.length;for(var Mt=0;Mt<U.length;Mt++)J[Mt]=Y(U[Mt].document)}return J}},467:(Vt,et,P)=>{"use strict";function ee(ge,ce,M,l,De,lt,Be){try{var Ue=ge[lt](Be),Z=Ue.value}catch(Me){return void M(Me)}Ue.done?ce(Z):Promise.resolve(Z).then(l,De)}function ie(ge){return function(){var ce=this,M=arguments;return new Promise(function(l,De){var lt=ge.apply(ce,M);function Be(Z){ee(lt,l,De,Be,Ue,"next",Z)}function Ue(Z){ee(lt,l,De,Be,Ue,"throw",Z)}Be(void 0)})}}P.d(et,{A:()=>ie})},6126:(Vt,et,P)=>{"use strict";function ee(l){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(De){return typeof De}:function(De){return De&&"function"==typeof Symbol&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De})(l)}function ge(l){var De=function ie(l,De){if("object"!=ee(l)||!l)return l;var lt=l[Symbol.toPrimitive];if(void 0!==lt){var Be=lt.call(l,De||"default");if("object"!=ee(Be))return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===De?String:Number)(l)}(l,"string");return"symbol"==ee(De)?De:De+""}function ce(l,De){for(var lt=0;lt<De.length;lt++){var Be=De[lt];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(l,ge(Be.key),Be)}}function M(l,De,lt){return De&&ce(l.prototype,De),lt&&ce(l,lt),Object.defineProperty(l,"prototype",{writable:!1}),l}P.d(et,{A:()=>M})},6719:(Vt,et,P)=>{"use strict";P.d(et,{A:()=>ie});var ee=P(4394);function ie(ge,ce){ge.prototype=Object.create(ce.prototype),ge.prototype.constructor=ge,(0,ee.A)(ge,ce)}},4394:(Vt,et,P)=>{"use strict";function ee(ie,ge){return(ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ce,M){return ce.__proto__=M,ce})(ie,ge)}P.d(et,{A:()=>ee})},1635:(Vt,et,P)=>{"use strict";function ce(Ge,ae){var be={};for(var K in Ge)Object.prototype.hasOwnProperty.call(Ge,K)&&ae.indexOf(K)<0&&(be[K]=Ge[K]);if(null!=Ge&&"function"==typeof Object.getOwnPropertySymbols){var U=0;for(K=Object.getOwnPropertySymbols(Ge);U<K.length;U++)ae.indexOf(K[U])<0&&Object.prototype.propertyIsEnumerable.call(Ge,K[U])&&(be[K[U]]=Ge[K[U]])}return be}function Me(Ge,ae,be,K){return new(be||(be=Promise))(function(H,Q){function J(Te){try{le(K.next(Te))}catch(It){Q(It)}}function oe(Te){try{le(K.throw(Te))}catch(It){Q(It)}}function le(Te){Te.done?H(Te.value):function U(H){return H instanceof be?H:new be(function(Q){Q(H)})}(Te.value).then(J,oe)}le((K=K.apply(Ge,ae||[])).next())})}function Ae(Ge){return this instanceof Ae?(this.v=Ge,this):new Ae(Ge)}function We(Ge,ae,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var U,K=be.apply(Ge,ae||[]),H=[];return U={},J("next"),J("throw"),J("return",function Q(Mt){return function(Bt){return Promise.resolve(Bt).then(Mt,It)}}),U[Symbol.asyncIterator]=function(){return this},U;function J(Mt,Bt){K[Mt]&&(U[Mt]=function(en){return new Promise(function(rn,an){H.push([Mt,en,rn,an])>1||oe(Mt,en)})},Bt&&(U[Mt]=Bt(U[Mt])))}function oe(Mt,Bt){try{!function le(Mt){Mt.value instanceof Ae?Promise.resolve(Mt.value.v).then(Te,It):Ft(H[0][2],Mt)}(K[Mt](Bt))}catch(en){Ft(H[0][3],en)}}function Te(Mt){oe("next",Mt)}function It(Mt){oe("throw",Mt)}function Ft(Mt,Bt){Mt(Bt),H.shift(),H.length&&oe(H[0][0],H[0][1])}}function st(Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,ae=Ge[Symbol.asyncIterator];return ae?ae.call(Ge):(Ge=function Re(Ge){var ae="function"==typeof Symbol&&Symbol.iterator,be=ae&&Ge[ae],K=0;if(be)return be.call(Ge);if(Ge&&"number"==typeof Ge.length)return{next:function(){return Ge&&K>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[K++],done:!Ge}}};throw new TypeError(ae?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ge),be={},K("next"),K("throw"),K("return"),be[Symbol.asyncIterator]=function(){return this},be);function K(H){be[H]=Ge[H]&&function(Q){return new Promise(function(J,oe){!function U(H,Q,J,oe){Promise.resolve(oe).then(function(le){H({value:le,done:J})},Q)}(J,oe,(Q=Ge[H](Q)).done,Q.value)})}}}P.d(et,{AQ:()=>We,N3:()=>Ae,Tt:()=>ce,sH:()=>Me,xN:()=>st}),"function"==typeof SuppressedError&&SuppressedError}},Vt=>{Vt(Vt.s=5639)}]);