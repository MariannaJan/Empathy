(self.webpackChunkEmpathy=self.webpackChunkEmpathy||[]).push([[792],{3093:(Bt,et,R)=>{"use strict";var J=R(1985),re=R(8359),fe=R(7707);!function le(n){n.__load_patch("rxjs",(t,e,r)=>{const o=e.__symbol__,g=Object.defineProperties;r.patchMethod(J.c.prototype,"lift",j=>(X,me)=>{const pe=j.apply(X,me);return pe.operator&&(pe.operator._zone=e.current,r.patchMethod(pe.operator,"call",he=>(ft,bt)=>ft._zone&&ft._zone!==e.current?ft._zone.run(he,ft,bt):he.apply(ft,bt))),pe}),function(){const j=J.c.prototype,me=j[o("_subscribe")]=j._subscribe;g(J.c.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneSource:{value:null,writable:!0,configurable:!0},_zoneSubscribe:{value:null,writable:!0,configurable:!0},source:{configurable:!0,get:function(){return this._zoneSource},set:function(pe){this._zone=e.current,this._zoneSource=pe}},_subscribe:{configurable:!0,get:function(){if(this._zoneSubscribe)return this._zoneSubscribe;if(this.constructor===J.c)return me;const pe=Object.getPrototypeOf(this);return pe&&pe._subscribe},set:function(pe){this._zone=e.current,this._zoneSubscribe=pe?function(){if(this._zone&&this._zone!==e.current){const he=this._zone.run(pe,this,arguments);if("function"==typeof he){const ft=this._zone;return function(){return ft!==e.current?ft.run(he,this,arguments):he.apply(this,arguments)}}return he}return pe.apply(this,arguments)}:pe}},subjectFactory:{get:function(){return this._zoneSubjectFactory},set:function(pe){const he=this._zone;this._zoneSubjectFactory=function(){return he&&he!==e.current?he.run(pe,this,arguments):pe.apply(this,arguments)}}}})}(),g(re.yU.prototype,{_zone:{value:null,writable:!0,configurable:!0},_zoneUnsubscribe:{value:null,writable:!0,configurable:!0},_unsubscribe:{get:function(){if(this._zoneUnsubscribe||this._zoneUnsubscribeCleared)return this._zoneUnsubscribe;const j=Object.getPrototypeOf(this);return j&&j._unsubscribe},set:function(j){this._zone=e.current,j?(this._zoneUnsubscribeCleared=!1,this._zoneUnsubscribe=function(){return this._zone&&this._zone!==e.current?this._zone.run(j,this,arguments):j.apply(this,arguments)}):(this._zoneUnsubscribe=j,this._zoneUnsubscribeCleared=!0)}}}),function(){const j=fe.vU.prototype.next,X=fe.vU.prototype.error,me=fe.vU.prototype.complete;Object.defineProperty(fe.vU.prototype,"destination",{configurable:!0,get:function(){return this._zoneDestination},set:function(pe){this._zone=e.current,this._zoneDestination=pe}}),fe.vU.prototype.next=function(){const he=this._zone;return he&&he!==e.current?he.run(j,this,arguments,"rxjs.Subscriber.next"):j.apply(this,arguments)},fe.vU.prototype.error=function(){const he=this._zone;return he&&he!==e.current?he.run(X,this,arguments,"rxjs.Subscriber.error"):X.apply(this,arguments)},fe.vU.prototype.complete=function(){const he=this._zone;return he&&he!==e.current?he.run(me,this,arguments,"rxjs.Subscriber.complete"):me.call(this)}}()})}(Zone);var L=R(467),l=R(3953),De=R(8071);var Ve=R(6648),Be=R(9326);function Y(...n){const t=(0,Be.lI)(n);return(0,Ve.H)(n,t)}var xe=R(4412);const{isArray:Ne}=Array,{getPrototypeOf:oe,prototype:ze,keys:Re}=Object;function ke(n){if(1===n.length){const t=n[0];if(Ne(t))return{args:t,keys:null};if(function ge(n){return n&&"object"==typeof n&&oe(n)===ze}(t)){const e=Re(t);return{args:e.map(r=>t[r]),keys:e}}}return{args:n,keys:null}}var Fe=R(3669),Me=R(6354);const{isArray:Ae}=Array;function we(n){return(0,Me.T)(t=>function Ke(n,t){return Ae(t)?n(...t):n(t)}(n,t))}function st(n,t){return n.reduce((e,r,o)=>(e[r]=t[o],e),{})}var Qe=R(4360),_e=R(5225);function de(...n){const t=(0,Be.lI)(n),e=(0,Be.ms)(n),{args:r,keys:o}=ke(n);if(0===r.length)return(0,Ve.H)([],t);const c=new J.c(function Q(n,t,e=Fe.D){return r=>{mt(t,()=>{const{length:o}=n,c=new Array(o);let d=o,p=o;for(let g=0;g<o;g++)mt(t,()=>{const I=(0,Ve.H)(n[g],t);let A=!1;I.subscribe((0,Qe._)(r,k=>{c[g]=k,A||(A=!0,p--),p||r.next(e(c.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,t,o?d=>st(o,d):Fe.D));return e?c.pipe(we(e)):c}function mt(n,t,e){n?(0,_e.N)(e,n,t):t()}var Dt=R(9350),At=R(8793),cn=R(8750);function Jt(n){return new J.c(t=>{(0,cn.Tg)(n()).subscribe(t)})}var hn=R(1203);function On(n,t){const e=(0,De.T)(n)?n:()=>n,r=o=>o.error(e());return new J.c(t?o=>t.schedule(r,0,o):r)}var Ge=R(983),se=R(9974);function be(){return(0,se.N)((n,t)=>{let e=null;n._refCount++;const r=(0,Qe._)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const o=n._connection,c=e;e=null,o&&(!c||o===c)&&o.unsubscribe(),t.unsubscribe()});n.subscribe(r),r.closed||(e=n.connect())})}class K extends J.c{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,se.S)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new re.yU;const e=this.getSubject();t.add(this.source.subscribe((0,Qe._)(e,void 0,()=>{this._teardown(),e.complete()},r=>{this._teardown(),e.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=re.yU.EMPTY)}return t}refCount(){return be()(this)}}var B=R(1413);let $=null;function q(){return $}class ie{}const Te=new l.nKC("");let Ct=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(Mt),providedIn:"platform"})}return n})();const Lt=new l.nKC("");let Mt=(()=>{class n extends Ct{constructor(){super(),this._doc=(0,l.WQX)(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return q().getBaseHref(this._doc)}onPopState(e){const r=q().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=q().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,r,o){this._history.pushState(e,r,o)}replaceState(e,r,o){this._history.replaceState(e,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Ut(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function nn(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function on(n){return n&&"?"!==n[0]?"?"+n:n}let an=(()=>{class n{historyGo(e){throw new Error("")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(dn),providedIn:"root"})}return n})();const Ht=new l.nKC("");let dn=(()=>{class n extends an{constructor(e,r){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ut(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+on(this._platformLocation.search),o=this._platformLocation.hash;return o&&e?`${r}${o}`:r}pushState(e,r,o,c){const d=this.prepareExternalUrl(o+on(c));this._platformLocation.pushState(e,r,d)}replaceState(e,r,o,c){const d=this.prepareExternalUrl(o+on(c));this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Ct),l.KVO(Ht,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rn=(()=>{class n extends an{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){const r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=Ut(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,o,c){let d=this.prepareExternalUrl(o+on(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,r,d)}replaceState(e,r,o,c){let d=this.prepareExternalUrl(o+on(c));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Ct),l.KVO(Ht,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),Pn=(()=>{class n{constructor(e){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const r=this._locationStrategy.getBaseHref();this._basePath=function Vr(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(nn(Xi(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+on(r))}normalize(e){return n.stripTrailingSlash(function qi(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Xi(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,r="",o=null){this._locationStrategy.pushState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+on(r)),o)}replaceState(e,r="",o=null){this._locationStrategy.replaceState(o,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+on(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(o=>o(e,r))}subscribe(e,r,o){return this._subject.subscribe({next:e,error:r,complete:o})}static#e=this.normalizeQueryParams=on;static#t=this.joinWithSlash=Ut;static#n=this.stripTrailingSlash=nn;static#r=this.\u0275fac=function(r){return new(r||n)(l.KVO(an))};static#i=this.\u0275prov=l.jDH({token:n,factory:()=>function Cn(){return new Pn((0,l.KVO)(an))}(),providedIn:"root"})}return n})();function Xi(n){return n.replace(/\/index.html$/,"")}const Qr=/\s+/,Io=[];let Es=(()=>{class n{constructor(e,r){this._ngEl=e,this._renderer=r,this.initialClasses=Io,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Qr):Io}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Qr):e}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const r of e)this._updateState(r,!0);else if(null!=e)for(const r of Object.keys(e))this._updateState(r,!!e[r]);this._applyStateDiff()}_updateState(e,r){const o=this.stateMap.get(e);void 0!==o?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(e,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const r=e[0],o=e[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(e,r){(e=e.trim()).length>0&&e.split(Qr).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.sFG))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}return n})(),nl=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(e){if(this._shouldRecreateView(e)){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const o=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,o,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,r,o)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,r,o),get:(e,r,o)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,o)}})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.c1b))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.OA$]})}return n})();function ri(n,t){return new l.wOt(2100,!1)}class ma{createSubscription(t,e){return(0,l.O8t)(()=>t.subscribe({next:e,error:r=>{throw r}}))}dispose(t){(0,l.O8t)(()=>t.unsubscribe())}}class Ks{createSubscription(t,e){return t.then(e,r=>{throw r})}dispose(t){}}const hu=new Ks,rl=new ma;let gr=(()=>{class n{constructor(e){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){if(!this._obj){if(e)try{this.markForCheckOnValueUpdate=!1,this._subscribe(e)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,r=>this._updateLatestValue(e,r))}_selectStrategy(e){if((0,l.jNT)(e))return hu;if((0,l.zjR)(e))return rl;throw ri()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,r){e===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.gRc,16))};static#t=this.\u0275pipe=l.EJ8({name:"async",type:n,pure:!1,standalone:!0})}return n})();const Sr=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let yf=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw ri();return e.replace(Sr,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275pipe=l.EJ8({name:"titlecase",type:n,pure:!0,standalone:!0})}return n})(),Vo=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const Ef="browser";function bd(n){return n===Ef}function Zi(n){return"server"===n}let Gm=(()=>{class n{static#e=this.\u0275prov=(0,l.jDH)({token:n,providedIn:"root",factory:()=>bd((0,l.WQX)(l.Agw))?new Km((0,l.WQX)(Te),window):new Ha})}return n})();class Km{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){const e=function Ji(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const c=o.shadowRoot;if(c){const d=c.getElementById(t)||c.querySelector(`[name="${t}"]`);if(d)return d}o=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,o=e.top+this.window.pageYOffset,c=this.offset();this.window.scrollTo(r-c[0],o-c[1])}}class Ha{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}}function hi(n,t){return(0,se.N)((e,r)=>{let o=null,c=0,d=!1;const p=()=>d&&!o&&r.complete();e.subscribe((0,Qe._)(r,g=>{o?.unsubscribe();let I=0;const A=c++;(0,cn.Tg)(n(g,A)).subscribe(o=(0,Qe._)(r,k=>r.next(t?t(g,k,A,I++):k),()=>{o=null,p()}))},()=>{d=!0,p()}))})}function Yr(n){return n<=0?()=>Ge.w:(0,se.N)((t,e)=>{let r=0;t.subscribe((0,Qe._)(e,o=>{++r<=n&&(e.next(o),n<=r&&e.complete())}))})}var jo=R(9172),jn=R(5964),Ti=R(1397);function Id(n){return(0,se.N)((t,e)=>{let r=!1;t.subscribe((0,Qe._)(e,o=>{r=!0,e.next(o)},()=>{r||e.next(n),e.complete()}))})}function Zm(n=Df){return(0,se.N)((t,e)=>{let r=!1;t.subscribe((0,Qe._)(e,o=>{r=!0,e.next(o)},()=>r?e.complete():e.error(n())))})}function Df(){return new Dt.G}function Dc(n,t){const e=arguments.length>=2;return r=>r.pipe(n?(0,jn.p)((o,c)=>n(o,c,r)):Fe.D,Yr(1),e?Id(t):Zm(()=>new Dt.G))}function Cu(n,t){return(0,De.T)(t)?(0,Ti.Z)(n,t,1):(0,Ti.Z)(n,1)}function _r(n,t,e){const r=(0,De.T)(n)||t||e?{next:n,error:t,complete:e}:n;return r?(0,se.N)((o,c)=>{var d;null===(d=r.subscribe)||void 0===d||d.call(r);let p=!0;o.subscribe((0,Qe._)(c,g=>{var I;null===(I=r.next)||void 0===I||I.call(r,g),c.next(g)},()=>{var g;p=!1,null===(g=r.complete)||void 0===g||g.call(r),c.complete()},g=>{var I;p=!1,null===(I=r.error)||void 0===I||I.call(r,g),c.error(g)},()=>{var g,I;p&&(null===(g=r.unsubscribe)||void 0===g||g.call(r)),null===(I=r.finalize)||void 0===I||I.call(r)}))}):Fe.D}function ll(n){return(0,se.N)((t,e)=>{let c,r=null,o=!1;r=t.subscribe((0,Qe._)(e,void 0,void 0,d=>{c=(0,cn.Tg)(n(d,ll(n)(t))),r?(r.unsubscribe(),r=null,c.subscribe(e)):o=!0})),o&&(r.unsubscribe(),r=null,c.subscribe(e))})}function Dd(n){return n<=0?()=>Ge.w:(0,se.N)((t,e)=>{let r=[];t.subscribe((0,Qe._)(e,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)e.next(o);e.complete()},void 0,()=>{r=null}))})}function Gy(n){return(0,Me.T)(()=>n)}function Td(n){return(0,se.N)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var Jm=R(5343);function xr(n){return(0,se.N)((t,e)=>{(0,cn.Tg)(n).subscribe((0,Qe._)(e,()=>e.complete(),Jm.l)),!e.closed&&t.subscribe(e)})}var Ad=R(6365);class Ky extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class eg extends Ky{static makeCurrent(){!function Z(n){$??=n}(new eg)}onAndCancel(t,e,r){return t.addEventListener(e,r),()=>{t.removeEventListener(e,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function tg(){return Sd=Sd||document.querySelector("base"),Sd?Sd.getAttribute("href"):null}();return null==e?null:function ng(n){return new URL(n,document.baseURI).pathname}(e)}resetBaseElement(){Sd=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Xr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[o,c]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(o.trim()===t)return decodeURIComponent(c)}return null}(document.cookie,t)}}let Sd=null,rg=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const Vn=new l.nKC("");let gi=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(o=>{o.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,r,o){return this._findPluginFor(r).addEventListener(e,r,o)}getZone(){return this._zone}_findPluginFor(e){let r=this._eventNameToPlugin.get(e);if(r)return r;if(r=this._plugins.find(c=>c.supports(e)),!r)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(e,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Vn),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class Ai{constructor(t){this._doc=t}}const Ea="ng-app-id";let Fi=(()=>{class n{constructor(e,r,o,c={}){this.doc=e,this.appId=r,this.nonce=o,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zi(c),this.resetHostNodes()}addStyles(e){for(const r of e)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(e){for(const r of e)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(r=>r.remove()),e.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const r of this.getAllStyles())this.addStyleToHost(e,r)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const r of this.hostNodes)this.addStyleToHost(r,e)}onStyleRemoved(e){const r=this.styleRef;r.get(e)?.elements?.forEach(o=>o.remove()),r.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${Ea}="${this.appId}"]`);if(e?.length){const r=new Map;return e.forEach(o=>{null!=o.textContent&&r.set(o.textContent,o)}),r}return null}changeUsageCount(e,r){const o=this.styleRef;if(o.has(e)){const c=o.get(e);return c.usage+=r,c.usage}return o.set(e,{usage:r,elements:[]}),r}getStyleElement(e,r){const o=this.styleNodesInDOM,c=o?.get(r);if(c?.parentNode===e)return o.delete(r),c.removeAttribute(Ea),c;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(Ea,this.appId),e.appendChild(d),d}}addStyleToHost(e,r){const o=this.getStyleElement(e,r),c=this.styleRef,d=c.get(r)?.elements;d?d.push(o):c.set(r,{elements:[o],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const Tf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Af=/%COMP%/g,pI=new l.nKC("",{providedIn:"root",factory:()=>!0});function Rd(n,t){return t.map(e=>e.replace(Af,n))}let Xy=(()=>{class n{constructor(e,r,o,c,d,p,g,I=null){this.eventManager=e,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=c,this.doc=d,this.platformId=p,this.ngZone=g,this.nonce=I,this.rendererByCompId=new Map,this.platformIsServer=Zi(p),this.defaultRenderer=new Od(e,d,g,this.platformIsServer)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===l.gXe.ShadowDom&&(r={...r,encapsulation:l.gXe.Emulated});const o=this.getOrCreateRenderer(e,r);return o instanceof Yy?o.applyToHost(e):o instanceof Ys&&o.applyStyles(),o}getOrCreateRenderer(e,r){const o=this.rendererByCompId;let c=o.get(r.id);if(!c){const d=this.doc,p=this.ngZone,g=this.eventManager,I=this.sharedStylesHost,A=this.removeStylesOnCompDestroy,k=this.platformIsServer;switch(r.encapsulation){case l.gXe.Emulated:c=new Yy(g,I,r,this.appId,A,d,p,k);break;case l.gXe.ShadowDom:return new kd(g,I,e,r,d,p,this.nonce,k);default:c=new Ys(g,I,r,A,d,p,k)}o.set(r.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(gi),l.KVO(Fi),l.KVO(l.sZ2),l.KVO(pI),l.KVO(Te),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class Od{constructor(t,e,r,o){this.eventManager=t,this.doc=e,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Tf[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Sf(t)?t.content:t).appendChild(e)}insertBefore(t,e,r){t&&(Sf(t)?t.content:t).insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new l.wOt(-5104,!1);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,o){if(o){e=o+":"+e;const c=Tf[o];c?t.setAttributeNS(c,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const o=Tf[r];o?t.removeAttributeNS(o,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,o){o&(l.czy.DashCase|l.czy.Important)?t.style.setProperty(e,r,o&l.czy.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&l.czy.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){null!=t&&(t[e]=r)}setValue(t,e){t.nodeValue=e}listen(t,e,r){if("string"==typeof t&&!(t=q().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(r))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Sf(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class kd extends Od{constructor(t,e,r,o,c,d,p,g){super(t,c,d,g),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const I=Rd(o.id,o.styles);for(const A of I){const k=document.createElement("style");p&&k.setAttribute("nonce",p),k.textContent=A,this.shadowRoot.appendChild(k)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ys extends Od{constructor(t,e,r,o,c,d,p,g){super(t,c,d,p),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o,this.styles=g?Rd(g,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Yy extends Ys{constructor(t,e,r,o,c,d,p,g){const I=o+"-"+r.id;super(t,e,r,c,d,p,g,I),this.contentAttr=function ig(n){return"_ngcontent-%COMP%".replace(Af,n)}(I),this.hostAttr=function qy(n){return"_nghost-%COMP%".replace(Af,n)}(I)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}let og=(()=>{class n extends Ai{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,o){return e.addEventListener(r,o,!1),()=>this.removeEventListener(e,r,o)}removeEventListener(e,r,o){return e.removeEventListener(r,o)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),xf=(()=>{class n extends Ai{constructor(e){super(e),this.delegate=(0,l.WQX)(l.zAP,{optional:!0})}supports(e){return!!this.delegate&&this.delegate.supports(e)}addEventListener(e,r,o){return this.delegate.addEventListener(e,r,o)}removeEventListener(e,r,o){return this.delegate.removeEventListener(e,r,o)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const Zy=["alt","control","meta","shift"],sg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Mf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ts=(()=>{class n extends Ai{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,o){const c=n.parseEventName(r),d=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>q().onAndCancel(e,c.domEventName,d))}static parseEventName(e){const r=e.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const c=n._normalizeKey(r.pop());let d="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),d="code."),Zy.forEach(I=>{const A=r.indexOf(I);A>-1&&(r.splice(A,1),d+=I+".")}),d+=c,0!=r.length||0===c.length)return null;const g={};return g.domEventName=o,g.fullKey=d,g}static matchEventFullKeyCode(e,r){let o=sg[e.key]||e.key,c="";return r.indexOf("code.")>-1&&(o=e.code,c="code."),!(null==o||!o)&&(o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Zy.forEach(d=>{d!==o&&(0,Mf[d])(e)&&(c+=d+".")}),c+=o,c===r)}static eventCallback(e,r,o){return c=>{n.matchEventFullKeyCode(c,e)&&o.runGuarded(()=>r(c))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function Rf(n){return{appProviders:[...dg,...n?.providers??[]],platformProviders:eb}}const eb=[{provide:l.Agw,useValue:Ef},{provide:l.PLl,useValue:function cg(){eg.makeCurrent()},multi:!0},{provide:Te,useFactory:function Jy(){return(0,l.TL$)(document),document},deps:[]}],dg=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function ul(){return new l.zcH},deps:[]},{provide:Vn,useClass:og,multi:!0,deps:[Te,l.SKi,l.Agw]},{provide:Vn,useClass:Ts,multi:!0,deps:[Te]},{provide:Vn,useClass:xf,multi:!0},Xy,Fi,gi,{provide:l._9s,useExisting:Xy},{provide:class Ed{},useClass:rg,deps:[]},[]];let tb=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:function(r){let o=null;return o=r?new(r||n):l.KVO(D),o},providedIn:"root"})}return n})(),D=(()=>{class n extends b{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case l.WPN.NONE:return r;case l.WPN.HTML:return(0,l.ZF7)(r,"HTML")?(0,l.rcV)(r):(0,l.h9k)(this._doc,String(r)).toString();case l.WPN.STYLE:return(0,l.ZF7)(r,"Style")?(0,l.rcV)(r):r;case l.WPN.SCRIPT:if((0,l.ZF7)(r,"Script"))return(0,l.rcV)(r);throw new l.wOt(5200,!1);case l.WPN.URL:return(0,l.ZF7)(r,"URL")?(0,l.rcV)(r):(0,l.$MX)(String(r));case l.WPN.RESOURCE_URL:if((0,l.ZF7)(r,"ResourceURL"))return(0,l.rcV)(r);throw new l.wOt(5201,!1);default:throw new l.wOt(5202,!1)}}bypassSecurityTrustHtml(e){return(0,l.Kcf)(e)}bypassSecurityTrustStyle(e){return(0,l.cWb)(e)}bypassSecurityTrustScript(e){return(0,l.UyX)(e)}bypassSecurityTrustUrl(e){return(0,l.osQ)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.e5t)(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const St="primary",Zt=Symbol("RouteTitle");class fn{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Sn(n){return new fn(n)}function er(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const o={};for(let c=0;c<r.length;c++){const d=r[c],p=n[c];if(":"===d[0])o[d.substring(1)]=p;else if(d!==p.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function wr(n,t){const e=n?To(n):void 0,r=t?To(t):void 0;if(!e||!r||e.length!=r.length)return!1;let o;for(let c=0;c<e.length;c++)if(o=e[c],!Mr(n[o],t[o]))return!1;return!0}function To(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Mr(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((o,c)=>r[c]===o)}return n===t}function to(n){return n.length>0?n[n.length-1]:null}function oi(n){return function lt(n){return!!n&&(n instanceof J.c||(0,De.T)(n.lift)&&(0,De.T)(n.subscribe))}(n)?n:(0,l.jNT)(n)?(0,Ve.H)(Promise.resolve(n)):Y(n)}const ln={exact:function Tc(n,t,e){if(!lo(n.segments,t.segments)||!Tr(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!Tc(n.children[r],t.children[r],e))return!1;return!0},subset:$r},Nd={exact:function Ho(n,t){return wr(n,t)},subset:function Wa(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Mr(n[e],t[e]))},ignored:()=>!0};function Ao(n,t,e){return ln[e.paths](n.root,t.root,e.matrixParams)&&Nd[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function $r(n,t,e){return Ac(n,t,t.segments,e)}function Ac(n,t,e,r){if(n.segments.length>e.length){const o=n.segments.slice(0,e.length);return!(!lo(o,e)||t.hasChildren()||!Tr(o,e,r))}if(n.segments.length===e.length){if(!lo(n.segments,e)||!Tr(n.segments,e,r))return!1;for(const o in t.children)if(!n.children[o]||!$r(n.children[o],t.children[o],r))return!1;return!0}{const o=e.slice(0,n.segments.length),c=e.slice(n.segments.length);return!!(lo(n.segments,o)&&Tr(n.segments,o,r)&&n.children[St])&&Ac(n.children[St],t,c,r)}}function Tr(n,t,e){return t.every((r,o)=>Nd[e](n[o].parameters,r.parameters))}class Pr{constructor(t=new Cr([],{}),e={},r=null){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Sn(this.queryParams),this._queryParamMap}toString(){return sb.serialize(this)}}class Cr{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Nf(this)}}class wa{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Sn(this.parameters),this._parameterMap}toString(){return eO(this)}}function lo(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}let Fd=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>new pg,providedIn:"root"})}return n})();class pg{parse(t){const e=new RB(t);return new Pr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ff(t.root,!0)}`,r=function DB(n){const t=Object.entries(n).map(([e,r])=>Array.isArray(r)?r.map(o=>`${ab(e)}=${ab(o)}`).join("&"):`${ab(e)}=${ab(r)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${r}${"string"==typeof t.fragment?`#${function CB(n){return encodeURI(n)}(t.fragment)}`:""}`}}const sb=new pg;function Nf(n){return n.segments.map(t=>eO(t)).join("/")}function Ff(n,t){if(!n.hasChildren())return Nf(n);if(t){const e=n.children[St]?Ff(n.children[St],!1):"",r=[];return Object.entries(n.children).forEach(([o,c])=>{o!==St&&r.push(`${o}:${Ff(c,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function Pf(n,t){let e=[];return Object.entries(n.children).forEach(([r,o])=>{r===St&&(e=e.concat(t(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==St&&(e=e.concat(t(o,r)))}),e}(n,(r,o)=>o===St?[Ff(n.children[St],!1)]:[`${o}:${Ff(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[St]?`${Nf(n)}/${e[0]}`:`${Nf(n)}/(${e.join("//")})`}}function mg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ab(n){return mg(n).replace(/%3B/gi,";")}function CI(n){return mg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cb(n){return decodeURIComponent(n)}function JR(n){return cb(n.replace(/\+/g,"%20"))}function eO(n){return`${CI(n.path)}${function IB(n){return Object.entries(n).map(([t,e])=>`;${CI(t)}=${CI(e)}`).join("")}(n.parameters)}`}const TB=/^[^\/()?;#]+/;function II(n){const t=n.match(TB);return t?t[0]:""}const AB=/^[^\/()?;=#]+/,DI=/^[^=?&#]+/,xB=/^[^&#]+/;class RB{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cr([],{}):new Cr([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[St]=new Cr(t,e)),r}parseSegment(){const t=II(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(t),new wa(cb(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function SB(n){const t=n.match(AB);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const o=II(this.remaining);o&&(r=o,this.capture(r))}t[cb(e)]=cb(r)}parseQueryParam(t){const e=function TI(n){const t=n.match(DI);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const d=function MB(n){const t=n.match(xB);return t?t[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const o=JR(e),c=JR(r);if(t.hasOwnProperty(o)){let d=t[o];Array.isArray(d)||(d=[d],t[o]=d),d.push(c)}else t[o]=c}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=II(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new l.wOt(4010,!1);let c;r.indexOf(":")>-1?(c=r.slice(0,r.indexOf(":")),this.capture(c),this.capture(":")):t&&(c=St);const d=this.parseChildren();e[c]=1===Object.keys(d).length?d[St]:new Cr([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.wOt(4011,!1)}}function tO(n){return n.segments.length>0?new Cr([],{[St]:n}):n}function AI(n){const t={};for(const[r,o]of Object.entries(n.children)){const c=AI(o);if(r===St&&0===c.segments.length&&c.hasChildren())for(const[d,p]of Object.entries(c.children))t[d]=p;else(c.segments.length>0||c.hasChildren())&&(t[r]=c)}return function SI(n){if(1===n.numberOfChildren&&n.children[St]){const t=n.children[St];return new Cr(n.segments.concat(t.segments),t.children)}return n}(new Cr(n.segments,t))}function Sc(n){return n instanceof Pr}function MI(n){let t;const o=tO(function e(c){const d={};for(const g of c.children){const I=e(g);d[g.outlet]=I}const p=new Cr(c.url,d);return c===n&&(t=p),p}(n.root));return t??o}function RI(n,t,e,r){let o=n;for(;o.parent;)o=o.parent;if(0===t.length)return lb(o,o,o,e,r);const c=function qa(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new OI(!0,0,n);let t=0,e=!1;const r=n.reduce((o,c,d)=>{if("object"==typeof c&&null!=c){if(c.outlets){const p={};return Object.entries(c.outlets).forEach(([g,I])=>{p[g]="string"==typeof I?I.split("/"):I}),[...o,{outlets:p}]}if(c.segmentPath)return[...o,c.segmentPath]}return"string"!=typeof c?[...o,c]:0===d?(c.split("/").forEach((p,g)=>{0==g&&"."===p||(0==g&&""===p?e=!0:".."===p?t++:""!=p&&o.push(p))}),o):[...o,c]},[]);return new OI(e,t,r)}(t);if(c.toRoot())return lb(o,o,new Cr([],{}),e,r);const d=function kI(n,t,e){if(n.isAbsolute)return new Vf(t,!0,0);if(!e)return new Vf(t,!1,NaN);if(null===e.parent)return new Vf(e,!0,0);const r=Lf(n.commands[0])?0:1;return function cr(n,t,e){let r=n,o=t,c=e;for(;c>o;){if(c-=o,r=r.parent,!r)throw new l.wOt(4005,!1);o=r.segments.length}return new Vf(r,!1,o-c)}(e,e.segments.length-1+r,n.numberOfDoubleDots)}(c,o,n),p=d.processChildren?Li(d.segmentGroup,d.index,c.commands):Vd(d.segmentGroup,d.index,c.commands);return lb(o,d.segmentGroup,p,e,r)}function Lf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ld(n){return"object"==typeof n&&null!=n&&n.outlets}function lb(n,t,e,r,o){let d,c={};r&&Object.entries(r).forEach(([g,I])=>{c[g]=Array.isArray(I)?I.map(A=>`${A}`):`${I}`}),d=n===t?e:gg(n,t,e);const p=tO(AI(d));return new Pr(p,c,o)}function gg(n,t,e){const r={};return Object.entries(n.children).forEach(([o,c])=>{r[o]=c===t?e:gg(c,t,e)}),new Cr(n.segments,r)}class OI{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Lf(r[0]))throw new l.wOt(4003,!1);const o=r.find(Ld);if(o&&o!==to(r))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Vf{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Vd(n,t,e){if(n??=new Cr([],{}),0===n.segments.length&&n.hasChildren())return Li(n,t,e);const r=function nO(n,t,e){let r=0,o=t;const c={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=e.length)return c;const d=n.segments[o],p=e[r];if(Ld(p))break;const g=`${p}`,I=r<e.length-1?e[r+1]:null;if(o>0&&void 0===g)break;if(g&&I&&"object"==typeof I&&void 0===I.outlets){if(!PI(g,I,d))return c;r+=2}else{if(!PI(g,{},d))return c;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,t,e),o=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const c=new Cr(n.segments.slice(0,r.pathIndex),{});return c.children[St]=new Cr(n.segments.slice(r.pathIndex),n.children),Li(c,0,o)}return r.match&&0===o.length?new Cr(n.segments,{}):r.match&&!n.hasChildren()?Du(n,t,e):r.match?Li(n,0,o):Du(n,t,e)}function Li(n,t,e){if(0===e.length)return new Cr(n.segments,{});{const r=function ub(n){return Ld(n[0])?n[0].outlets:{[St]:n}}(e),o={};if(Object.keys(r).some(c=>c!==St)&&n.children[St]&&1===n.numberOfChildren&&0===n.children[St].segments.length){const c=Li(n.children[St],t,e);return new Cr(n.segments,c.children)}return Object.entries(r).forEach(([c,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(o[c]=Vd(n.children[c],t,d))}),Object.entries(n.children).forEach(([c,d])=>{void 0===r[c]&&(o[c]=d)}),new Cr(n.segments,o)}}function Du(n,t,e){const r=n.segments.slice(0,t);let o=0;for(;o<e.length;){const c=e[o];if(Ld(c)){const g=Tu(c.outlets);return new Cr(r,g)}if(0===o&&Lf(e[0])){r.push(new wa(n.segments[t].path,os(e[0]))),o++;continue}const d=Ld(c)?c.outlets[St]:`${c}`,p=o<e.length-1?e[o+1]:null;d&&p&&Lf(p)?(r.push(new wa(d,os(p))),o+=2):(r.push(new wa(d,{})),o++)}return new Cr(r,{})}function Tu(n){const t={};return Object.entries(n).forEach(([e,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[e]=Du(new Cr([],{}),0,r))}),t}function os(n){const t={};return Object.entries(n).forEach(([e,r])=>t[e]=`${r}`),t}function PI(n,t,e){return n==e.path&&wr(t,e.parameters)}const Au="imperative";var tr=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(tr||{});class vi{constructor(t,e){this.id=t,this.url=e}}class Bf extends vi{constructor(t,e,r="imperative",o=null){super(t,e),this.type=tr.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Xa extends vi{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r,this.type=tr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ss=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ss||{}),hl=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(hl||{});class xc extends vi{constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o,this.type=tr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Mc extends vi{constructor(t,e,r,o){super(t,e),this.reason=r,this.code=o,this.type=tr.NavigationSkipped}}class Bd extends vi{constructor(t,e,r,o){super(t,e),this.error=r,this.target=o,this.type=tr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class _g extends vi{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=tr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rc extends vi{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=tr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tn extends vi{constructor(t,e,r,o,c){super(t,e),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=c,this.type=tr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vg extends vi{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=tr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class db extends vi{constructor(t,e,r,o){super(t,e),this.urlAfterRedirects=r,this.state=o,this.type=tr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class NI{constructor(t){this.route=t,this.type=tr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class OB{constructor(t){this.route=t,this.type=tr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class rO{constructor(t){this.snapshot=t,this.type=tr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iO{constructor(t){this.snapshot=t,this.type=tr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oO{constructor(t){this.snapshot=t,this.type=tr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FI{constructor(t){this.snapshot=t,this.type=tr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fl{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r,this.type=tr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hb{}class yg{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}}function yi(n){return n.outlet||St}function Su(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class BI{get injector(){return Su(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new bg(this.rootInjector),this.attachRef=null}}let bg=(()=>{class n{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,r){const o=this.getOrCreateContext(e);o.outlet=r,this.contexts.set(e,o)}onChildOutletDestroyed(e){const r=this.getContext(e);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let r=this.getContext(e);return r||(r=new BI(this.rootInjector),this.contexts.set(e,r)),r}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.uvJ))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class cO{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Eg(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Eg(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=wg(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return wg(t,this._root).map(e=>e.value)}}function Eg(n,t){if(n===t.value)return t;for(const e of t.children){const r=Eg(n,e);if(r)return r}return null}function wg(n,t){if(n===t.value)return[t];for(const e of t.children){const r=wg(n,e);if(r.length)return r.unshift(t),r}return[]}class Zs{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Si(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Qa extends cO{constructor(t,e){super(t),this.snapshot=e,mb(this,t)}toString(){return this.snapshot.toString()}}function pb(n){const t=function Ca(n){const c=new jf([],{},{},"",{},St,n,null,{});return new UI("",new Zs(c,[]))}(n),e=new xe.t([new wa("",{})]),r=new xe.t({}),o=new xe.t({}),c=new xe.t({}),d=new xe.t(""),p=new as(e,r,c,d,o,St,n,t.root);return p.snapshot=t.root,new Qa(new Zs(p,[]),t)}class as{constructor(t,e,r,o,c,d,p,g){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=c,this.outlet=d,this.component=p,this._futureSnapshot=g,this.title=this.dataSubject?.pipe((0,Me.T)(I=>I[Zt]))??Y(void 0),this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,Me.T)(t=>Sn(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,Me.T)(t=>Sn(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cg(n,t,e="emptyOnly"){let r;const{routeConfig:o}=n;return r=null===t||"always"!==e&&""!==o?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...n.params},data:{...n.data},resolve:{...n.data,...n._resolvedData??{}}}:{params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.data,...o?.data,...n._resolvedData}},o&&zf(o)&&(r.resolve[Zt]=o.title),r}class jf{get title(){return this.data?.[Zt]}constructor(t,e,r,o,c,d,p,g,I){this.url=t,this.params=e,this.queryParams=r,this.fragment=o,this.data=c,this.outlet=d,this.component=p,this.routeConfig=g,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Sn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Sn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UI extends cO{constructor(t,e){super(e),this.url=t,mb(this,e)}toString(){return Ig(this._root)}}function mb(n,t){t.value._routerState=n,t.children.forEach(e=>mb(n,e))}function Ig(n){const t=n.children.length>0?` { ${n.children.map(Ig).join(", ")} } `:"";return`${n.value}${t}`}function $f(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,wr(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),wr(t.params,e.params)||n.paramsSubject.next(e.params),function vr(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!wr(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),wr(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Hf(n,t){const e=wr(n.params,t.params)&&function fg(n,t){return lo(n,t)&&n.every((e,r)=>wr(e.parameters,t[r].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Hf(n.parent,t.parent))}function zf(n){return"string"==typeof n.title||null===n.title}let gb=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=St,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(bg),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.inputBinder=(0,l.WQX)(Ud,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:r,previousValue:o}=e.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=e;const o=this.location,d=e.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,g=new Dg(e,p,o.injector);this.activated=o.createComponent(d,{index:o.length,injector:g,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}return n})();class Dg{__ngOutletInjector(t){return new Dg(this.route,this.childContexts,t)}constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===as?this.route:t===bg?this.childContexts:this.parent.get(t,e)}}const Ud=new l.nKC("");let _b=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:r}=e,o=de([r.queryParams,r.params,r.data]).pipe(hi(([c,d,p],g)=>(p={...c,...d,...p},0===g?Y(p):Promise.resolve(p)))).subscribe(c=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(e);const d=(0,l.HJs)(r.component);if(d)for(const{templateName:p}of d.inputs)e.activatedComponentRef.setInput(p,c[p]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,o)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function jd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const o=function $I(n,t,e){return t.children.map(r=>{for(const o of e.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return jd(n,r,o);return jd(n,r)})}(n,t,e);return new Zs(r,o)}{if(n.shouldAttach(t.value)){const c=n.retrieve(t.value);if(null!==c){const d=c.route;return d.value._futureSnapshot=t.value,d.children=t.children.map(p=>jd(n,p)),d}}const r=function vb(n){return new as(new xe.t(n.url),new xe.t(n.params),new xe.t(n.queryParams),new xe.t(n.fragment),new xe.t(n.data),n.outlet,n.component,n)}(t.value),o=t.children.map(c=>jd(n,c));return new Zs(r,o)}}class yb{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}}const no="ngNavigationCancelingError";function Ya(n,t){const{redirectTo:e,navigationBehaviorOptions:r}=Sc(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=Nr(!1,ss.Redirect);return o.url=e,o.navigationBehaviorOptions=r,o}function Nr(n,t){const e=new Error(`NavigationCancelingError: ${n||""}`);return e[no]=!0,e.cancellationCode=t,e}function zI(n){return!!n&&n[no]}class GI{constructor(t,e,r,o,c){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=c}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),$f(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const o=Si(e);t.children.forEach(c=>{const d=c.value.outlet;this.deactivateRoutes(c,o[d],r),delete o[d]}),Object.values(o).forEach(c=>{this.deactivateRouteAndItsChildren(c,r)})}deactivateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if(o===c)if(o.component){const d=r.getContext(o.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,r);else c&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,c=Si(t);for(const d of Object.values(c))this.deactivateRouteAndItsChildren(d,o);if(r&&r.outlet){const d=r.outlet.detach(),p=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:d,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),o=r&&t.value.component?r.children:e,c=Si(t);for(const d of Object.values(c))this.deactivateRouteAndItsChildren(d,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,e,r){const o=Si(e);t.children.forEach(c=>{this.activateRoutes(c,o[c.value.outlet],r),this.forwardEvent(new FI(c.value.snapshot))}),t.children.length&&this.forwardEvent(new iO(t.value.snapshot))}activateRoutes(t,e,r){const o=t.value,c=e?e.value:null;if($f(o),o===c)if(o.component){const d=r.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,r);else if(o.component){const d=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const p=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),d.children.onOutletReAttached(p.contexts),d.attachRef=p.componentRef,d.route=p.route.value,d.outlet&&d.outlet.attach(p.componentRef,p.route.value),$f(p.route.value),this.activateChildRoutes(t,null,d.children)}else d.attachRef=null,d.route=o,d.outlet&&d.outlet.activateWith(o,d.injector),this.activateChildRoutes(t,null,d.children)}else this.activateChildRoutes(t,null,r)}}class bb{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class pl{constructor(t,e){this.component=t,this.route=e}}function Za(n,t,e){const r=n._root;return ml(r,t?t._root:null,e,[r.value])}function Oc(n,t){const e=Symbol(),r=t.get(n,e);return r===e?"function"!=typeof n||(0,l.LfX)(n)?t.get(n):n:r}function ml(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=Si(t);return n.children.forEach(d=>{(function Tg(n,t,e,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const c=n.value,d=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(d&&c.routeConfig===d.routeConfig){const g=function Eb(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!lo(n.url,t.url);case"pathParamsOrQueryParamsChange":return!lo(n.url,t.url)||!wr(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hf(n,t)||!wr(n.queryParams,t.queryParams);default:return!Hf(n,t)}}(d,c,c.routeConfig.runGuardsAndResolvers);g?o.canActivateChecks.push(new bb(r)):(c.data=d.data,c._resolvedData=d._resolvedData),ml(n,t,c.component?p?p.children:null:e,r,o),g&&p&&p.outlet&&p.outlet.isActivated&&o.canDeactivateChecks.push(new pl(p.outlet.component,d))}else d&&$d(t,p,o),o.canActivateChecks.push(new bb(r)),ml(n,null,c.component?p?p.children:null:e,r,o)})(d,c[d.value.outlet],e,r.concat([d.value]),o),delete c[d.value.outlet]}),Object.entries(c).forEach(([d,p])=>$d(p,e.getContext(d),o)),o}function $d(n,t,e){const r=Si(n),o=n.value;Object.entries(r).forEach(([c,d])=>{$d(d,o.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new pl(o.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,o))}function Hd(n){return"function"==typeof n}function WI(n){return n instanceof Dt.G||"EmptyError"===n?.name}const Ag=Symbol("INITIAL_VALUE");function Kf(){return hi(n=>de(n.map(t=>t.pipe(Yr(1),(0,jo.Z)(Ag)))).pipe((0,Me.T)(t=>{for(const e of t)if(!0!==e){if(e===Ag)return Ag;if(!1===e||FB(e))return e}return!0}),(0,jn.p)(t=>t!==Ag),Yr(1)))}function FB(n){return Sc(n)||n instanceof yb}function mO(n){return(0,hn.F)(_r(t=>{if("boolean"!=typeof t)throw Ya(0,t)}),(0,Me.T)(t=>!0===t))}class xg{constructor(t){this.segmentGroup=t||null}}class Mg extends Error{constructor(t){super(),this.urlTree=t}}function zo(n){return On(new xg(n))}class XI{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let r=[],o=e.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return Y(r);if(o.numberOfChildren>1||!o.children[St])return On(new l.wOt(4e3,!1));o=o.children[St]}}applyRedirectCommands(t,e,r,o,c){if("string"!=typeof e){const p=e,{queryParams:g,fragment:I,routeConfig:A,url:k,outlet:j,params:X,data:me,title:pe}=o,he=(0,l.N4e)(c,()=>p({params:X,data:me,queryParams:g,fragment:I,routeConfig:A,url:k,outlet:j,title:pe}));if(he instanceof Pr)throw new Mg(he);e=he}const d=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,r);if("/"===e[0])throw new Mg(d);return d}applyRedirectCreateUrlTree(t,e,r,o){const c=this.createSegmentGroup(t,e.root,r,o);return new Pr(c,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return Object.entries(t).forEach(([o,c])=>{if("string"==typeof c&&":"===c[0]){const p=c.substring(1);r[o]=e[p]}else r[o]=c}),r}createSegmentGroup(t,e,r,o){const c=this.createSegments(t,e.segments,r,o);let d={};return Object.entries(e.children).forEach(([p,g])=>{d[p]=this.createSegmentGroup(t,g,r,o)}),new Cr(c,d)}createSegments(t,e,r,o){return e.map(c=>":"===c.path[0]?this.findPosParam(t,c,o):this.findOrReturn(c,r))}findPosParam(t,e,r){const o=r[e.path.substring(1)];if(!o)throw new l.wOt(4001,!1);return o}findOrReturn(t,e){let r=0;for(const o of e){if(o.path===t.path)return e.splice(r),o;r++}return t}}const Gd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ab(n,t,e,r,o){const c=Sb(n,t,e);return c.matched?(r=function sO(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.Ol2)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,r),function qI(n,t,e,r){const o=t.canMatch;return o&&0!==o.length?Y(o.map(d=>{const p=Oc(d,n);return oi(function KI(n){return n&&Hd(n.canMatch)}(p)?p.canMatch(t,e):(0,l.N4e)(n,()=>p(t,e)))})).pipe(Kf(),mO()):Y(!0)}(r,t,e).pipe((0,Me.T)(d=>!0===d?c:{...Gd}))):Y(c)}function Sb(n,t,e){if("**"===t.path)return function QI(n){return{matched:!0,parameters:n.length>0?to(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...Gd}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||er)(e,n,t);if(!o)return{...Gd};const c={};Object.entries(o.posParams??{}).forEach(([p,g])=>{c[p]=g.path});const d=o.consumed.length>0?{...c,...o.consumed[o.consumed.length-1].parameters}:c;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:d,positionalParamSegments:o.posParams??{}}}function xb(n,t,e,r){return e.length>0&&function gO(n,t,e){return e.some(r=>Ja(n,t,r)&&yi(r)!==St)}(n,e,r)?{segmentGroup:new Cr(t,ZI(r,new Cr(e,n.children))),slicedSegments:[]}:0===e.length&&function Og(n,t,e){return e.some(r=>Ja(n,t,r))}(n,e,r)?{segmentGroup:new Cr(n.segments,YI(n,e,r,n.children)),slicedSegments:e}:{segmentGroup:new Cr(n.segments,n.children),slicedSegments:e}}function YI(n,t,e,r){const o={};for(const c of e)if(Ja(n,t,c)&&!r[yi(c)]){const d=new Cr([],{});o[yi(c)]=d}return{...r,...o}}function ZI(n,t){const e={};e[St]=t;for(const r of n)if(""===r.path&&yi(r)!==St){const o=new Cr([],{});e[yi(r)]=o}return e}function Ja(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class eD{}class Vi{constructor(t,e,r,o,c,d,p){this.injector=t,this.configLoader=e,this.rootComponentType=r,this.config=o,this.urlTree=c,this.paramsInheritanceStrategy=d,this.urlSerializer=p,this.applyRedirects=new XI(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new l.wOt(4002,`'${t.segmentGroup}'`)}recognize(){const t=xb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe((0,Me.T)(({children:e,rootSnapshot:r})=>{const o=new Zs(r,e),c=new UI("",o),d=function xI(n,t,e=null,r=null){return RI(MI(n),t,e,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,c.url=this.urlSerializer.serialize(d),{state:c,tree:d}}))}match(t){const e=new jf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),St,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,St,e).pipe((0,Me.T)(r=>({children:r,rootSnapshot:e})),ll(r=>{if(r instanceof Mg)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof xg?this.noMatchError(r):r}))}processSegmentGroup(t,e,r,o,c){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,e,r,c):this.processSegment(t,e,r,r.segments,o,!0,c).pipe((0,Me.T)(d=>d instanceof Zs?[d]:[]))}processChildren(t,e,r,o){const c=[];for(const d of Object.keys(r.children))"primary"===d?c.unshift(d):c.push(d);return(0,Ve.H)(c).pipe(Cu(d=>{const p=r.children[d],g=function fb(n,t){const e=n.filter(r=>yi(r)===t);return e.push(...n.filter(r=>yi(r)!==t)),e}(e,d);return this.processSegmentGroup(t,g,p,d,o)}),function dI(n,t){return(0,se.N)(function zy(n,t,e,r,o){return(c,d)=>{let p=e,g=t,I=0;c.subscribe((0,Qe._)(d,A=>{const k=I++;g=p?n(g,A,k):(p=!0,A),r&&d.next(g)},o&&(()=>{p&&d.next(g),d.complete()})))}}(n,t,arguments.length>=2,!0))}((d,p)=>(d.push(...p),d)),Id(null),function $o(n,t){const e=arguments.length>=2;return r=>r.pipe(n?(0,jn.p)((o,c)=>n(o,c,r)):Fe.D,Dd(1),e?Id(t):Zm(()=>new Dt.G))}(),(0,Ti.Z)(d=>{if(null===d)return zo(r);const p=kg(d);return function vO(n){n.sort((t,e)=>t.value.outlet===St?-1:e.value.outlet===St?1:t.value.outlet.localeCompare(e.value.outlet))}(p),Y(p)}))}processSegment(t,e,r,o,c,d,p){return(0,Ve.H)(e).pipe(Cu(g=>this.processSegmentAgainstRoute(g._injector??t,e,g,r,o,c,d,p).pipe(ll(I=>{if(I instanceof xg)return Y(null);throw I}))),Dc(g=>!!g),ll(g=>{if(WI(g))return function JI(n,t,e){return 0===t.length&&!n.children[e]}(r,o,c)?Y(new eD):zo(r);throw g}))}processSegmentAgainstRoute(t,e,r,o,c,d,p,g){return function _O(n,t,e,r){return!!(yi(n)===r||r!==St&&Ja(t,e,n))&&Sb(t,n,e).matched}(r,o,c,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,o,r,c,d,g):this.allowRedirects&&p?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,r,c,d,g):zo(o):zo(o)}expandSegmentAgainstRouteUsingRedirect(t,e,r,o,c,d,p){const{matched:g,parameters:I,consumedSegments:A,positionalParamSegments:k,remainingSegments:j}=Sb(e,o,c);if(!g)return zo(e);"string"==typeof o.redirectTo&&"/"===o.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const X=new jf(c,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mb(o),yi(o),o.component??o._loadedComponent??null,o,Xf(o)),me=Cg(X,p,this.paramsInheritanceStrategy);X.params=Object.freeze(me.params),X.data=Object.freeze(me.data);const pe=this.applyRedirects.applyRedirectCommands(A,o.redirectTo,k,X,t);return this.applyRedirects.lineralizeSegments(o,pe).pipe((0,Ti.Z)(he=>this.processSegment(t,r,e,he.concat(j),d,!1,p)))}matchSegmentAgainstRoute(t,e,r,o,c,d){const p=Ab(e,r,o,t);return"**"===r.path&&(e.children={}),p.pipe(hi(g=>g.matched?this.getChildConfig(t=r._injector??t,r,o).pipe(hi(({routes:I})=>{const A=r._loadedInjector??t,{parameters:k,consumedSegments:j,remainingSegments:X}=g,me=new jf(j,k,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mb(r),yi(r),r.component??r._loadedComponent??null,r,Xf(r)),pe=Cg(me,d,this.paramsInheritanceStrategy);me.params=Object.freeze(pe.params),me.data=Object.freeze(pe.data);const{segmentGroup:he,slicedSegments:ft}=xb(e,j,X,I);if(0===ft.length&&he.hasChildren())return this.processChildren(A,I,he,me).pipe((0,Me.T)(It=>new Zs(me,It)));if(0===I.length&&0===ft.length)return Y(new Zs(me,[]));const bt=yi(r)===c;return this.processSegment(A,I,he,ft,bt?St:c,!0,me).pipe((0,Me.T)(It=>new Zs(me,It instanceof Zs?[It]:[])))})):zo(e)))}getChildConfig(t,e,r){return e.children?Y({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Y({routes:e._loadedRoutes,injector:e._loadedInjector}):function Sg(n,t,e,r){const o=t.canLoad;return void 0===o||0===o.length?Y(!0):Y(o.map(d=>{const p=Oc(d,n);return oi(function zd(n){return n&&Hd(n.canLoad)}(p)?p.canLoad(t,e):(0,l.N4e)(n,()=>p(t,e)))})).pipe(Kf(),mO())}(t,e,r).pipe((0,Ti.Z)(o=>o?this.configLoader.loadChildren(t,e).pipe(_r(c=>{e._loadedRoutes=c.routes,e._loadedInjector=c.injector})):function Tb(n){return On(Nr(!1,ss.GuardRejected))}())):Y({routes:[],injector:t})}}function tD(n){const t=n.value.routeConfig;return t&&""===t.path}function kg(n){const t=[],e=new Set;for(const r of n){if(!tD(r)){t.push(r);continue}const o=t.find(c=>r.value.routeConfig===c.value.routeConfig);void 0!==o?(o.children.push(...r.children),e.add(o)):t.push(r)}for(const r of e){const o=kg(r.children);t.push(new Zs(r.value,o))}return t.filter(r=>!e.has(r))}function Mb(n){return n.data||{}}function Xf(n){return n.resolve||{}}function Pg(n){const t=n.children.map(e=>Pg(e)).flat();return[n,...t]}function Rb(n){return hi(t=>{const e=n(t);return e?(0,Ve.H)(e).pipe((0,Me.T)(()=>t)):Y(t)})}let iD=(()=>{class n{buildTitle(e){let r,o=e.root;for(;void 0!==o;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(c=>c.outlet===St);return r}getResolvedTitleForRoute(e){return e.data[Zt]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(oD),providedIn:"root"})}return n})(),oD=(()=>{class n extends iD{constructor(e){super(),this.title=e}updateTitle(e){const r=this.buildTitle(e);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(tb))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const qd=new l.nKC("",{providedIn:"root",factory:()=>({})});let Ob=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(r,o){1&r&&l.nrm(0,"router-outlet")},dependencies:[gb],encapsulation:2})}return n})();function kb(n){const t=n.children&&n.children.map(kb),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==St&&(e.component=Ob),e}const Xd=new l.nKC("");let sD=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Y(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const r=oi(e.loadComponent()).pipe((0,Me.T)(xi),_r(c=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=c}),Td(()=>{this.componentLoaders.delete(e)})),o=new K(r,()=>new B.B).pipe(be());return this.componentLoaders.set(e,o),o}loadChildren(e,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Y({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const c=function aD(n,t,e,r){return oi(n.loadChildren()).pipe((0,Me.T)(xi),(0,Ti.Z)(o=>o instanceof l.Co$||Array.isArray(o)?Y(o):(0,Ve.H)(t.compileModuleAsync(o))),(0,Me.T)(o=>{r&&r(n);let c,d,p=!1;return Array.isArray(o)?(d=o,!0):(c=o.create(e).injector,d=c.get(Xd,[],{optional:!0,self:!0}).flat()),{routes:d.map(kb),injector:c}}))}(r,this.compiler,e,this.onLoadEndListener).pipe(Td(()=>{this.childrenLoaders.delete(r)})),d=new K(c,()=>new B.B).pipe(be());return this.childrenLoaders.set(r,d),d}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xi(n){return function cD(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let lD=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(EO),providedIn:"root"})}return n})(),EO=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,r){return e}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const wO=new l.nKC(""),Pb=new l.nKC("");function BB(n,t,e){const r=n.get(Pb),o=n.get(Te);return n.get(l.SKi).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(I=>setTimeout(I));let c;const d=new Promise(I=>{c=I}),p=o.startViewTransition(()=>(c(),function Nb(n){return new Promise(t=>{(0,l.mal)({read:()=>setTimeout(t)},{injector:n})})}(n))),{onViewTransitionCreated:g}=r;return g&&(0,l.N4e)(n,()=>g({transition:p,from:t,to:e})),d})}const Js=new l.nKC("");let Qf=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new B.B,this.transitionAbortSubject=new B.B,this.configLoader=(0,l.WQX)(sD),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(Fd),this.rootContexts=(0,l.WQX)(bg),this.location=(0,l.WQX)(Pn),this.inputBindingEnabled=null!==(0,l.WQX)(Ud,{optional:!0}),this.titleStrategy=(0,l.WQX)(iD),this.options=(0,l.WQX)(qd,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,l.WQX)(lD),this.createViewTransition=(0,l.WQX)(wO,{optional:!0}),this.navigationErrorHandler=(0,l.WQX)(Js,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=o=>this.events.next(new OB(o)),this.configLoader.onLoadStartListener=o=>this.events.next(new NI(o))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:r})}setupNavigations(e,r,o){return this.transitions=new xe.t({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Au,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,jn.p)(c=>0!==c.id),(0,Me.T)(c=>({...c,extractedUrl:this.urlHandlingStrategy.extract(c.rawUrl)})),hi(c=>{let d=!1,p=!1;return Y(c).pipe(hi(g=>{if(this.navigationId>c.id)return this.cancelNavigationTransition(c,"",ss.SupersededByNewNavigation),Ge.w;this.currentTransition=c,this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,targetBrowserUrl:"string"==typeof g.extras.browserUrl?this.urlSerializer.parse(g.extras.browserUrl):g.extras.browserUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const I=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!I&&"reload"!==(g.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const k="";return this.events.next(new Mc(g.id,this.urlSerializer.serialize(g.rawUrl),k,hl.IgnoredSameUrlNavigation)),g.resolve(!1),Ge.w}if(this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Y(g).pipe(hi(k=>{const j=this.transitions?.getValue();return this.events.next(new Bf(k.id,this.urlSerializer.serialize(k.extractedUrl),k.source,k.restoredState)),j!==this.transitions?.getValue()?Ge.w:Promise.resolve(k)}),function yO(n,t,e,r,o,c){return(0,Ti.Z)(d=>function Kd(n,t,e,r,o,c,d="emptyOnly"){return new Vi(n,t,e,r,o,d,c).recognize()}(n,t,e,r,d.extractedUrl,o,c).pipe((0,Me.T)(({state:p,tree:g})=>({...d,targetSnapshot:p,urlAfterRedirects:g}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),_r(k=>{c.targetSnapshot=k.targetSnapshot,c.urlAfterRedirects=k.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:k.urlAfterRedirects};const j=new _g(k.id,this.urlSerializer.serialize(k.extractedUrl),this.urlSerializer.serialize(k.urlAfterRedirects),k.targetSnapshot);this.events.next(j)}));if(I&&this.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){const{id:k,extractedUrl:j,source:X,restoredState:me,extras:pe}=g,he=new Bf(k,this.urlSerializer.serialize(j),X,me);this.events.next(he);const ft=pb(this.rootComponentType).snapshot;return this.currentTransition=c={...g,targetSnapshot:ft,urlAfterRedirects:j,extras:{...pe,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=j,Y(c)}{const k="";return this.events.next(new Mc(g.id,this.urlSerializer.serialize(g.extractedUrl),k,hl.IgnoredByUrlHandlingStrategy)),g.resolve(!1),Ge.w}}),_r(g=>{const I=new Rc(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(I)}),(0,Me.T)(g=>(this.currentTransition=c={...g,guards:Za(g.targetSnapshot,g.currentSnapshot,this.rootContexts)},c)),function Cb(n,t){return(0,Ti.Z)(e=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:c,canDeactivateChecks:d}}=e;return 0===d.length&&0===c.length?Y({...e,guardsResult:!0}):function xu(n,t,e,r){return(0,Ve.H)(n).pipe((0,Ti.Z)(o=>function Db(n,t,e,r,o){const c=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return c&&0!==c.length?Y(c.map(p=>{const g=Su(t)??o,I=Oc(p,g);return oi(function wb(n){return n&&Hd(n.canDeactivate)}(I)?I.canDeactivate(n,t,e,r):(0,l.N4e)(g,()=>I(n,t,e,r))).pipe(Dc())})).pipe(Kf()):Y(!0)}(o.component,o.route,e,t,r)),Dc(o=>!0!==o,!0))}(d,r,o,n).pipe((0,Ti.Z)(p=>p&&function dO(n){return"boolean"==typeof n}(p)?function Ib(n,t,e,r){return(0,Ve.H)(t).pipe(Cu(o=>(0,At.x)(function fO(n,t){return null!==n&&t&&t(new rO(n)),Y(!0)}(o.route.parent,r),function Wf(n,t){return null!==n&&t&&t(new oO(n)),Y(!0)}(o.route,r),function pO(n,t,e){const r=t[t.length-1],c=t.slice(0,t.length-1).reverse().map(d=>function uO(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>Jt(()=>Y(d.guards.map(g=>{const I=Su(d.node)??e,A=Oc(g,I);return oi(function hO(n){return n&&Hd(n.canActivateChild)}(A)?A.canActivateChild(r,n):(0,l.N4e)(I,()=>A(r,n))).pipe(Dc())})).pipe(Kf())));return Y(c).pipe(Kf())}(n,o.path,e),function qf(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Y(!0);const o=r.map(c=>Jt(()=>{const d=Su(t)??e,p=Oc(c,d);return oi(function Gf(n){return n&&Hd(n.canActivate)}(p)?p.canActivate(t,n):(0,l.N4e)(d,()=>p(t,n))).pipe(Dc())}));return Y(o).pipe(Kf())}(n,o.route,e))),Dc(o=>!0!==o,!0))}(r,c,n,t):Y(p)),(0,Me.T)(p=>({...e,guardsResult:p})))})}(this.environmentInjector,g=>this.events.next(g)),_r(g=>{if(c.guardsResult=g.guardsResult,g.guardsResult&&"boolean"!=typeof g.guardsResult)throw Ya(0,g.guardsResult);const I=new Tn(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(I)}),(0,jn.p)(g=>!!g.guardsResult||(this.cancelNavigationTransition(g,"",ss.GuardRejected),!1)),Rb(g=>{if(g.guards.canActivateChecks.length)return Y(g).pipe(_r(I=>{const A=new vg(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(A)}),hi(I=>{let A=!1;return Y(I).pipe(function nD(n,t){return(0,Ti.Z)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=e;if(!o.length)return Y(e);const c=new Set(o.map(g=>g.route)),d=new Set;for(const g of c)if(!d.has(g))for(const I of Pg(g))d.add(I);let p=0;return(0,Ve.H)(d).pipe(Cu(g=>c.has(g)?function Ng(n,t,e,r){const o=n.routeConfig,c=n._resolve;return void 0!==o?.title&&!zf(o)&&(c[Zt]=o.title),function rD(n,t,e,r){const o=To(n);if(0===o.length)return Y({});const c={};return(0,Ve.H)(o).pipe((0,Ti.Z)(d=>function bO(n,t,e,r){const o=Su(t)??r,c=Oc(n,o);return oi(c.resolve?c.resolve(t,e):(0,l.N4e)(o,()=>c(t,e)))}(n[d],t,e,r).pipe(Dc(),_r(p=>{if(p instanceof yb)throw Ya(new pg,p);c[d]=p}))),Dd(1),Gy(c),ll(d=>WI(d)?Ge.w:On(d)))}(c,n,t,r).pipe((0,Me.T)(d=>(n._resolvedData=d,n.data=Cg(n,n.parent,e).resolve,null)))}(g,r,n,t):(g.data=Cg(g,g.parent,n).resolve,Y(void 0))),_r(()=>p++),Dd(1),(0,Ti.Z)(g=>p===d.size?Y(e):Ge.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),_r({next:()=>A=!0,complete:()=>{A||this.cancelNavigationTransition(I,"",ss.NoDataFromResolver)}}))}),_r(I=>{const A=new db(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(A)}))}),Rb(g=>{const I=A=>{const k=[];A.routeConfig?.loadComponent&&!A.routeConfig._loadedComponent&&k.push(this.configLoader.loadComponent(A.routeConfig).pipe(_r(j=>{A.component=j}),(0,Me.T)(()=>{})));for(const j of A.children)k.push(...I(j));return k};return de(I(g.targetSnapshot.root)).pipe(Id(null),Yr(1))}),Rb(()=>this.afterPreactivation()),hi(()=>{const{currentSnapshot:g,targetSnapshot:I}=c,A=this.createViewTransition?.(this.environmentInjector,g.root,I.root);return A?(0,Ve.H)(A).pipe((0,Me.T)(()=>c)):Y(c)}),(0,Me.T)(g=>{const I=function jI(n,t,e){const r=jd(n,t._root,e?e._root:void 0);return new Qa(r,t)}(e.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=c={...g,targetRouterState:I},this.currentNavigation.targetRouterState=I,c}),_r(()=>{this.events.next(new hb)}),((n,t,e,r)=>(0,Me.T)(o=>(new GI(t,o.targetRouterState,o.currentRouterState,e,r).activate(n),o)))(this.rootContexts,e.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),Yr(1),_r({next:g=>{d=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Xa(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),this.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{d=!0}}),xr(this.transitionAbortSubject.pipe(_r(g=>{throw g}))),Td(()=>{!d&&!p&&this.cancelNavigationTransition(c,"",ss.SupersededByNewNavigation),this.currentTransition?.id===c.id&&(this.currentNavigation=null,this.currentTransition=null)}),ll(g=>{if(p=!0,zI(g))this.events.next(new xc(c.id,this.urlSerializer.serialize(c.extractedUrl),g.message,g.cancellationCode)),function HI(n){return zI(n)&&Sc(n.url)}(g)?this.events.next(new yg(g.url,g.navigationBehaviorOptions)):c.resolve(!1);else{const I=new Bd(c.id,this.urlSerializer.serialize(c.extractedUrl),g,c.targetSnapshot??void 0);try{const A=(0,l.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(I));if(A instanceof yb){const{message:k,cancellationCode:j}=Ya(0,A);this.events.next(new xc(c.id,this.urlSerializer.serialize(c.extractedUrl),k,j)),this.events.next(new yg(A.redirectTo,A.navigationBehaviorOptions))}else{this.events.next(I);const k=e.errorHandler(g);c.resolve(!!k)}}catch(A){this.options.resolveNavigationPromiseOnError?c.resolve(!1):c.reject(A)}}return Ge.w}))}))}cancelNavigationTransition(e,r,o){const c=new xc(e.id,this.urlSerializer.serialize(e.extractedUrl),r,o);this.events.next(c),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Yf(n){return n!==Au}let CO=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(uD),providedIn:"root"})}return n})();class IO{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let uD=(()=>{class n extends IO{static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=l.xGo(n)))(o||n)}})();static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DO=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(UB),providedIn:"root"})}return n})(),UB=(()=>{class n extends DO{constructor(){super(...arguments),this.location=(0,l.WQX)(Pn),this.urlSerializer=(0,l.WQX)(Fd),this.options=(0,l.WQX)(qd,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,l.WQX)(lD),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=pb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(r=>{"popstate"===r.type&&e(r.url,r.state)})}handleRouterEvent(e,r){if(e instanceof Bf)this.stateMemento=this.createStateMemento();else if(e instanceof Mc)this.rawUrlTree=r.initialUrl;else if(e instanceof _g){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else e instanceof hb?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):e instanceof xc&&(e.code===ss.GuardRejected||e.code===ss.NoDataFromResolver)?this.restoreHistory(r):e instanceof Bd?this.restoreHistory(r,!0):e instanceof Xa&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,r){const o=e instanceof Pr?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(o,"",d)}else{const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(o,"",c)}}restoreHistory(e,r=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===e.finalUrl&&0===c&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=l.xGo(n)))(o||n)}})();static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Fg=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Fg||{});function TO(n,t){n.events.pipe((0,jn.p)(e=>e instanceof Xa||e instanceof xc||e instanceof Bd||e instanceof Mc),(0,Me.T)(e=>e instanceof Xa||e instanceof Mc?Fg.COMPLETE:e instanceof xc&&(e.code===ss.Redirect||e.code===ss.SupersededByNewNavigation)?Fg.REDIRECTING:Fg.FAILED),(0,jn.p)(e=>e!==Fg.REDIRECTING),Yr(1)).subscribe(()=>{t()})}function jB(n){throw n}const AO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let So=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,l.WQX)(l.H3F),this.stateManager=(0,l.WQX)(DO),this.options=(0,l.WQX)(qd,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,l.WQX)(Qf),this.urlSerializer=(0,l.WQX)(Fd),this.location=(0,l.WQX)(Pn),this.urlHandlingStrategy=(0,l.WQX)(lD),this._events=new B.B,this.errorHandler=this.options.errorHandler||jB,this.navigated=!1,this.routeReuseStrategy=(0,l.WQX)(CO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,l.WQX)(Xd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,l.WQX)(Ud,{optional:!0}),this.eventsSubscription=new re.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(r=>{try{const o=this.navigationTransitions.currentTransition,c=this.navigationTransitions.currentNavigation;if(null!==o&&null!==c)if(this.stateManager.handleRouterEvent(r,c),r instanceof xc&&r.code!==ss.Redirect&&r.code!==ss.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Xa)this.navigated=!0;else if(r instanceof yg){const d=r.navigationBehaviorOptions,p=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),g={browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Yf(o.source),...d};this.scheduleNavigation(p,Au,null,g,{resolve:o.resolve,reject:o.reject,promise:o.promise})}(function Mu(n){return!(n instanceof hb||n instanceof yg)})(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Au,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",r)},0)})}navigateToSyncWithBrowser(e,r,o){const c={replaceUrl:!0},d=o?.navigationId?o:null;if(o){const g={...o};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(c.state=g)}const p=this.parseUrl(e);this.scheduleNavigation(p,r,d,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(kb),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,r={}){const{relativeTo:o,queryParams:c,fragment:d,queryParamsHandling:p,preserveFragment:g}=r,I=g?this.currentUrlTree.fragment:d;let k,A=null;switch(p){case"merge":A={...this.currentUrlTree.queryParams,...c};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=c||null}null!==A&&(A=this.removeEmptyProps(A));try{k=MI(o?o.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||"/"!==e[0][0])&&(e=[]),k=this.currentUrlTree.root}return RI(k,e,A,I??null)}navigateByUrl(e,r={skipLocationChange:!1}){const o=Sc(e)?e:this.parseUrl(e),c=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(c,Au,null,r)}navigate(e,r={skipLocationChange:!1}){return function dD(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new l.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,r){let o;if(o=!0===r?{...AO}:!1===r?{...Qd}:r,Sc(e))return Ao(this.currentUrlTree,e,o);const c=this.parseUrl(e);return Ao(this.currentUrlTree,c,o)}removeEmptyProps(e){return Object.entries(e).reduce((r,[o,c])=>(null!=c&&(r[o]=c),r),{})}scheduleNavigation(e,r,o,c,d){if(this.disposed)return Promise.resolve(!1);let p,g,I;d?(p=d.resolve,g=d.reject,I=d.promise):I=new Promise((k,j)=>{p=k,g=j});const A=this.pendingTasks.add();return TO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(A))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:c,resolve:p,reject:g,promise:I,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),I.catch(k=>Promise.reject(k))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kc=(()=>{class n{constructor(e,r,o,c,d,p){this.router=e,this.route=r,this.tabIndexAttribute=o,this.renderer=c,this.el=d,this.locationStrategy=p,this.href=null,this.onChanges=new B.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const g=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===g||"area"===g,this.isAnchorElement?this.subscription=e.events.subscribe(I=>{I instanceof Xa&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null==e?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Sc(e)||Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,r,o,c,d){const p=this.urlTree;return!!(null===p||this.isAnchorElement&&(0!==e||r||o||c||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(p,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const e=this.urlTree;this.href=null!==e&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;const r=null===this.href?null:(0,l.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(e,r){const o=this.renderer,c=this.el.nativeElement;null!==r?o.setAttribute(c,e,r):o.removeAttribute(c,e)}get urlTree(){return null===this.routerLinkInput?null:Sc(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(So),l.rXU(as),l.kS0("tabindex"),l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(an))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){1&r&&l.bIt("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&r&&l.BMQ("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",l.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",l.L39],replaceUrl:[2,"replaceUrl","replaceUrl",l.L39],routerLink:"routerLink"},standalone:!0,features:[l.GFd,l.OA$]})}return n})();class hD{}let xO=(()=>{class n{constructor(e,r,o,c,d){this.router=e,this.injector=o,this.preloadingStrategy=c,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe((0,jn.p)(e=>e instanceof Xa),Cu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const o=[];for(const c of r){c.providers&&!c._injector&&(c._injector=(0,l.Ol2)(c.providers,e,`Route: ${c.path}`));const d=c._injector??e,p=c._loadedInjector??d;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&o.push(this.preloadConfig(d,c)),(c.children||c._loadedRoutes)&&o.push(this.processRoutes(p,c.children??c._loadedRoutes))}return(0,Ve.H)(o).pipe((0,Ad.U)())}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(e,r):Y(null);const c=o.pipe((0,Ti.Z)(d=>null===d?Y(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??e,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,Ve.H)([c,d]).pipe((0,Ad.U)())}return c})}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(So),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(hD),l.KVO(sD))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Vg=new l.nKC("");let Lb=(()=>{class n{constructor(e,r,o,c,d={}){this.urlSerializer=e,this.transitions=r,this.viewportScroller=o,this.zone=c,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},this.environmentInjector=(0,l.WQX)(l.uvJ),d.scrollPositionRestoration||="disabled",d.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Bf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Xa?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Mc&&e.code===hl.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof fl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){var o=this;this.zone.runOutsideAngular((0,L.A)(function*(){yield new Promise(c=>{setTimeout(()=>{c()}),(0,l.mal)(()=>{c()},{injector:o.environmentInjector})}),o.zone.run(()=>{o.transitions.events.next(new fl(e,"popstate"===o.lastSource?o.store[o.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();function Zf(n){return n.routerState.root}function ea(n,t){return{\u0275kind:n,\u0275providers:t}}function fD(){const n=(0,l.WQX)(l.zZn);return t=>{const e=n.get(l.o8S);if(t!==e.components[0])return;const r=n.get(So),o=n.get(pD);1===n.get(xo)&&r.initialNavigation(),n.get(OO,null,l.$GK.Optional)?.setUpPreloading(),n.get(Vg,null,l.$GK.Optional)?.init(),r.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}const pD=new l.nKC("",{factory:()=>new B.B}),xo=new l.nKC("",{providedIn:"root",factory:()=>1}),OO=new l.nKC("");function zB(n){return ea(0,[{provide:OO,useExisting:xO},{provide:hD,useExisting:n}])}function Ub(){return ea(8,[_b,{provide:Ud,useExisting:_b}])}function PO(n){return ea(9,[{provide:wO,useValue:BB},{provide:Pb,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const gD=new l.nKC("ROUTER_FORROOT_GUARD"),_D=[Pn,{provide:Fd,useClass:pg},So,bg,{provide:as,useFactory:Zf,deps:[So]},sD,[]];let Ug=(()=>{class n{constructor(e){}static forRoot(e,r){return{ngModule:n,providers:[_D,[],{provide:Xd,multi:!0,useValue:e},{provide:gD,useFactory:VO,deps:[[So,new l.Xx1,new l.kdw]]},{provide:qd,useValue:r||{}},r?.useHash?{provide:an,useClass:rn}:{provide:an,useClass:dn},{provide:Vg,useFactory:()=>{const n=(0,l.WQX)(Gm),t=(0,l.WQX)(l.SKi),e=(0,l.WQX)(qd),r=(0,l.WQX)(Qf),o=(0,l.WQX)(Fd);return e.scrollOffset&&n.setOffset(e.scrollOffset),new Lb(o,r,n,t,e)}},r?.preloadingStrategy?zB(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?BO(r):[],r?.bindToComponentInputs?Ub().\u0275providers:[],r?.enableViewTransitions?PO().\u0275providers:[],[{provide:jb,useFactory:fD},{provide:l.iLQ,multi:!0,useExisting:jb}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Xd,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(gD,8))};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();function VO(n){return"guarded"}function BO(n){return["disabled"===n.initialNavigation?ea(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const t=(0,l.WQX)(So);return()=>{t.setUpLocationChangeListener()}}},{provide:xo,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ea(2,[{provide:xo,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:t=>{const e=t.get(Lt,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=t.get(So),c=t.get(pD);TO(o,()=>{r(!0)}),t.get(Qf).afterPreactivation=()=>(r(!0),c.closed?Y(void 0):c),o.initialNavigation()}))}}]).\u0275providers:[]]}const jb=new l.nKC("");let Hb;try{Hb=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Hb=!1}let Yd,fi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?bd(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Hb)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.Agw))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const zb=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function GO(){if(Yd)return Yd;if("object"!=typeof document||!document)return Yd=new Set(zb),Yd;let n=document.createElement("input");return Yd=new Set(zb.filter(t=>(n.setAttribute("type",t),n.type===t))),Yd}let Zd;function Jd(n){return function KO(){if(null==Zd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Zd=!0}))}finally{Zd=Zd||!1}return Zd}()?n:!!n.capture}var Pc=function(n){return n[n.NORMAL=0]="NORMAL",n[n.NEGATED=1]="NEGATED",n[n.INVERTED=2]="INVERTED",n}(Pc||{});let jg,gl,tc;function $g(){if(null==gl){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return gl=!1,gl;if("scrollBehavior"in document.documentElement.style)gl=!0;else{const n=Element.prototype.scrollTo;gl=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return gl}function ep(){if("object"!=typeof document||!document)return Pc.NORMAL;if(null==jg){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),r=e.style;r.width="2px",r.height="1px",n.appendChild(e),document.body.appendChild(n),jg=Pc.NORMAL,0===n.scrollLeft&&(n.scrollLeft=1,jg=0===n.scrollLeft?Pc.NEGATED:Pc.INVERTED),n.remove()}return jg}function zg(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function ta(n){return n.composedPath?n.composedPath()[0]:n.target}function bD(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function nc(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class b1 extends re.yU{constructor(t,e){super()}schedule(t,e=0){return this}}const Zg={setInterval(n,t,...e){const{delegate:r}=Zg;return r?.setInterval?r.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=Zg;return(t?.clearInterval||clearInterval)(n)},delegate:void 0};var VD=R(7908);class BD extends b1{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){var r;if(this.closed)return this;this.state=t;const o=this.id,c=this.scheduler;return null!=o&&(this.id=this.recycleAsyncId(c,o,e)),this.pending=!0,this.delay=e,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(c,this.id,e),this}requestAsyncId(t,e,r=0){return Zg.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,e,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return e;null!=e&&Zg.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let o,r=!1;try{this.work(t)}catch(c){r=!0,o=c||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:r}=e;this.work=this.state=this.scheduler=null,this.pending=!1,(0,VD.o)(r,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}var SU=R(6129);class Vc{constructor(t,e=Vc.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,r){return new this.schedulerActionCtor(this,t).schedule(r,e)}}Vc.now=SU.U.now;class t0 extends Vc{constructor(t,e=Vc.now){super(t,e),this.actions=[],this._active=!1}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let r;this._active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}}const Jg=new t0(BD),E1=Jg;function n0(n,t=Jg){return(0,se.N)((e,r)=>{let o=null,c=null,d=null;const p=()=>{if(o){o.unsubscribe(),o=null;const I=c;c=null,r.next(I)}};function g(){const I=d+n,A=t.now();if(A<I)return o=this.schedule(void 0,I-A),void r.add(o);p()}e.subscribe((0,Qe._)(r,I=>{c=I,d=t.now(),o||(o=t.schedule(g,n),r.add(o))},()=>{p(),r.complete()},void 0,()=>{c=o=null}))})}function UD(n){return(0,jn.p)((t,e)=>n<=e)}var jD=R(3294);function e_(n){return null!=n&&"false"!=`${n}`}function $D(n,t=0){return function w1(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function t_(n){return Array.isArray(n)?n:[n]}function pi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ou(n){return n instanceof l.aKT?n.nativeElement:n}const C1=new Set;let ih,xU=(()=>{class n{constructor(e,r){this._platform=e,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):RU}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function MU(n,t){if(!C1.has(n))try{ih||(ih=document.createElement("style"),t&&ih.setAttribute("nonce",t),ih.setAttribute("type","text/css"),document.head.appendChild(ih)),ih.sheet&&(ih.sheet.insertRule(`@media ${n} {body{ }}`,0),C1.add(n))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(fi),l.KVO(l.BIS,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function RU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let I1=(()=>{class n{constructor(e,r){this._mediaMatcher=e,this._zone=r,this._queries=new Map,this._destroySubject=new B.B}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return ip(t_(e)).some(o=>this._registerQuery(o).mql.matches)}observe(e){let c=de(ip(t_(e)).map(d=>this._registerQuery(d).observable));return c=(0,At.x)(c.pipe(Yr(1)),c.pipe(UD(1),n0(0))),c.pipe((0,Me.T)(d=>{const p={matches:!1,breakpoints:{}};return d.forEach(({matches:g,query:I})=>{p.matches=p.matches||g,p.breakpoints[I]=g}),p}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const r=this._mediaMatcher.matchMedia(e),c={observable:new J.c(d=>{const p=g=>this._zone.run(()=>d.next(g));return r.addListener(p),()=>{r.removeListener(p)}}).pipe((0,jo.Z)(r),(0,Me.T)(({matches:d})=>({query:e,matches:d})),xr(this._destroySubject)),mql:r};return this._queries.set(e,c),c}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(xU),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ip(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function s0(n,t,e){const r=GD(n,t);e=e.trim();const o=r.filter(c=>c!==e);o.length?n.setAttribute(t,o.join(" ")):n.removeAttribute(t)}function GD(n,t){return n.getAttribute(t)?.match(/\S+/g)??[]}class WD{constructor(t,e){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new B.B,this._typeaheadSubscription=re.yU.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=r=>r.disabled,this._pressedLetters=[],this.tabOut=new B.B,this.change=new B.B,t instanceof l.rOR?this._itemChangesSubscription=t.changes.subscribe(r=>this._itemsChanged(r.toArray())):(0,l.Hps)(t)&&(this._effectRef=(0,l.QZP)(()=>this._itemsChanged(t()),{injector:e}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(_r(e=>this._pressedLetters.push(e)),n0(t),(0,jn.p)(()=>this._pressedLetters.length>0),(0,Me.T)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let o=1;o<r.length+1;o++){const c=(this._activeItemIndex+o)%r.length,d=r[c];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(c);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,o=["altKey","ctrlKey","metaKey","shiftKey"].every(c=>!t[c]||this._allowedModifierKeys.indexOf(c)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&o){this.setNextItemActive();break}return;case 38:if(this._vertical&&o){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&o){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&o){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&o){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&o){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&o){const c=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(c>0?c:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&o){const c=this._activeItemIndex+this._pageUpAndDown.delta,d=this._getItemsArray().length;this._setActiveItemByIndex(c<d?c:d-1,-1);break}return;default:return void((o||nc(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t);this._activeItem=e[r]??null,this._activeItemIndex=r}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const o=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[o]))return void this.setActiveItem(o)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return(0,l.Hps)(this._items)?this._items():this._items instanceof l.rOR?this._items.toArray():this._items}_itemsChanged(t){if(this._activeItem){const e=t.indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}}}class kU extends WD{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class T1 extends WD{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let n_=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function r_(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function PU(n){try{return n.frameElement}catch{return null}}(function M1(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===i_(r)||!this.isVisible(r)))return!1;let o=e.nodeName.toLowerCase(),c=i_(e);return e.hasAttribute("contenteditable")?-1!==c:!("iframe"===o||"object"===o||this._platform.WEBKIT&&this._platform.IOS&&!function o_(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===o?!!e.hasAttribute("controls")&&-1!==c:"video"===o?-1!==c&&(null!==c||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function x1(n){return!function c0(n){return function oh(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function a0(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function S1(n){return function l0(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||u0(n))}(e)&&!this.isDisabled(e)&&(r?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(fi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function u0(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function i_(n){if(!u0(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class d0{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,r,o,c=!1,d){this._element=t,this._checker=e,this._ngZone=r,this._document=o,this._injector=d,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,c||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return r?.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=0;r<e.length;r++){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(o)return o}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let r=e.length-1;r>=0;r--){const o=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(o)return o}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?(0,l.mal)(t,{injector:this._injector}):setTimeout(t)}}let qD=(()=>{class n{constructor(e,r,o){this._checker=e,this._ngZone=r,this._injector=(0,l.WQX)(l.zZn),this._document=o}create(e,r=!1){return new d0(e,this._checker,this._ngZone,this._document,r,this._injector)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(n_),l.KVO(l.SKi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function f0(n){return 0===n.buttons||0===n.detail}function p0(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const m0=new l.nKC("cdk-input-modality-detector-options"),YD={ignoreKeys:[18,17,224,91,16]},ku=Jd({passive:!0,capture:!0});let ZD=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,r,o,c){this._platform=e,this._mostRecentTarget=null,this._modality=new xe.t(null),this._lastTouchMs=0,this._onKeydown=d=>{this._options?.ignoreKeys?.some(p=>p===d.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ta(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(f0(d)?"keyboard":"mouse"),this._mostRecentTarget=ta(d))},this._onTouchstart=d=>{p0(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ta(d))},this._options={...YD,...c},this.modalityDetected=this._modality.pipe(UD(1)),this.modalityChanged=this.modalityDetected.pipe((0,jD.F)()),e.isBrowser&&r.runOutsideAngular(()=>{o.addEventListener("keydown",this._onKeydown,ku),o.addEventListener("mousedown",this._onMousedown,ku),o.addEventListener("touchstart",this._onTouchstart,ku)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ku),document.removeEventListener("mousedown",this._onMousedown,ku),document.removeEventListener("touchstart",this._onTouchstart,ku))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(fi),l.KVO(l.SKi),l.KVO(Te),l.KVO(m0,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const O1=new l.nKC("liveAnnouncerElement",{providedIn:"root",factory:function FU(){return null}}),a_=new l.nKC("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let k1=0,JD=(()=>{class n{constructor(e,r,o,c){this._ngZone=r,this._defaultOptions=c,this._document=o,this._liveElement=e||this._createLiveElement()}announce(e,...r){const o=this._defaultOptions;let c,d;return 1===r.length&&"number"==typeof r[0]?d=r[0]:[c,d]=r,this.clear(),clearTimeout(this._previousTimeout),c||(c=o&&o.politeness?o.politeness:"polite"),null==d&&o&&(d=o.duration),this._liveElement.setAttribute("aria-live",c),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(p=>this._currentResolve=p)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",r=this._document.getElementsByClassName(e),o=this._document.createElement("div");for(let c=0;c<r.length;c++)r[c].remove();return o.classList.add(e),o.classList.add("cdk-visually-hidden"),o.setAttribute("aria-atomic","true"),o.setAttribute("aria-live","polite"),o.id="cdk-live-announcer-"+k1++,this._document.body.appendChild(o),o}_exposeAnnouncerToModals(e){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let o=0;o<r.length;o++){const c=r[o],d=c.getAttribute("aria-owns");d?-1===d.indexOf(e)&&c.setAttribute("aria-owns",d+" "+e):c.setAttribute("aria-owns",e)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(O1,8),l.KVO(l.SKi),l.KVO(Te),l.KVO(a_,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sp=function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n}(sp||{});const g0=new l.nKC("cdk-focus-monitor-default-options"),ap=Jd({passive:!0,capture:!0});let Ia=(()=>{class n{constructor(e,r,o,c,d){this._ngZone=e,this._platform=r,this._inputModalityDetector=o,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new B.B,this._rootNodeFocusAndBlurListener=p=>{for(let I=ta(p);I;I=I.parentElement)"focus"===p.type?this._onFocus(p,I):this._onBlur(p,I)},this._document=c,this._detectionMode=d?.detectionMode||sp.IMMEDIATE}monitor(e,r=!1){const o=Ou(e);if(!this._platform.isBrowser||1!==o.nodeType)return Y();const c=function WO(n){if(function Hg(){if(null==tc){const n=typeof document<"u"?document.head:null;tc=!(!n||!n.createShadowRoot&&!n.attachShadow)}return tc}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(o)||this._getDocument(),d=this._elementInfo.get(o);if(d)return r&&(d.checkChildren=!0),d.subject;const p={checkChildren:r,subject:new B.B,rootNode:c};return this._elementInfo.set(o,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(e){const r=Ou(e),o=this._elementInfo.get(r);o&&(o.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(o))}focusVia(e,r,o){const c=Ou(e);c===this._getDocument().activeElement?this._getClosestElementsInfo(c).forEach(([p,g])=>this._originChanged(p,r,g)):(this._setOrigin(r),"function"==typeof c.focus&&c.focus(o))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===sp.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,r){e.classList.toggle("cdk-focused",!!r),e.classList.toggle("cdk-touch-focused","touch"===r),e.classList.toggle("cdk-keyboard-focused","keyboard"===r),e.classList.toggle("cdk-mouse-focused","mouse"===r),e.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,this._detectionMode===sp.IMMEDIATE&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const o=this._elementInfo.get(r),c=ta(e);!o||!o.checkChildren&&r!==c||this._originChanged(r,this._getFocusOrigin(c),o)}_onBlur(e,r){const o=this._elementInfo.get(r);!o||o.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(o,null))}_emitOrigin(e,r){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,o=this._rootNodeFocusListenerCount.get(r)||0;o||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,ap),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,ap)}),this._rootNodeFocusListenerCount.set(r,o+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(xr(this._stopInputModalityDetector)).subscribe(c=>{this._setOrigin(c,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const o=this._rootNodeFocusListenerCount.get(r);o>1?this._rootNodeFocusListenerCount.set(r,o-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ap),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ap),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,o){this._setClasses(e,r),this._emitOrigin(o,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((o,c)=>{(c===e||o.checkChildren&&c.contains(e))&&r.push([c,o])}),r}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:r,mostRecentModality:o}=this._inputModalityDetector;if("mouse"!==o||!r||r===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const c=e.labels;if(c)for(let d=0;d<c.length;d++)if(c[d].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.SKi),l.KVO(fi),l.KVO(ZD),l.KVO(Te,8),l.KVO(g0,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var wl=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(wl||{});const c_="cdk-high-contrast-black-on-white",sh="cdk-high-contrast-white-on-black",l_="cdk-high-contrast-active";let _0=(()=>{class n{constructor(e,r){this._platform=e,this._document=r,this._breakpointSubscription=(0,l.WQX)(I1).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return wl.NONE;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,o=r&&r.getComputedStyle?r.getComputedStyle(e):null,c=(o&&o.backgroundColor||"").replace(/ /g,"");switch(e.remove(),c){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return wl.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return wl.BLACK_ON_WHITE}return wl.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(l_,c_,sh),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();r===wl.BLACK_ON_WHITE?e.add(l_,c_):r===wl.WHITE_ON_BLACK&&e.add(l_,sh)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(fi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const N1=new l.nKC("cdk-dir-doc",{providedIn:"root",factory:function eT(){return(0,l.WQX)(Te)}}),F1=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let rc=(()=>{class n{constructor(e){this.value="ltr",this.change=new l.bkB,e&&(this.value=function L1(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?F1.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(N1,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ah=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const ch=["text"],tT=[[["mat-icon"]],"*"],nT=["mat-icon","*"];function j1(n,t){if(1&n&&l.nrm(0,"mat-pseudo-checkbox",1),2&n){const e=l.XpG();l.Y8G("disabled",e.disabled)("state",e.selected?"checked":"unchecked")}}function u_(n,t){if(1&n&&l.nrm(0,"mat-pseudo-checkbox",3),2&n){const e=l.XpG();l.Y8G("disabled",e.disabled)}}function Pu(n,t){if(1&n&&(l.j41(0,"span",4),l.EFF(1),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.SpI("(",e.group.label,")")}}const y0=["mat-internal-form-field",""],lp=["*"],oT=new l.nKC("mat-sanity-checks",{providedIn:"root",factory:function E0(){return!0}});let Fr=(()=>{class n{constructor(e,r,o){this._sanityChecks=r,this._document=o,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!bD()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(_0),l.KVO(oT,8),l.KVO(Te))};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[ah,ah]})}return n})();class d_{constructor(t,e,r,o,c){this._defaultMatcher=t,this.ngControl=e,this._parentFormGroup=r,this._parentForm=o,this._stateChanges=c,this.errorState=!1}updateErrorState(){const t=this.errorState,e=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,o=this.ngControl?this.ngControl.control:null,c=r?.isErrorState(o,e)??!1;c!==t&&(this.errorState=c,this._stateChanges.next())}}let h_=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var na=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(na||{});class q1{constructor(t,e,r,o=!1){this._renderer=t,this.element=e,this.config=r,this._animationForciblyDisabledThroughCss=o,this.state=na.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const cT=Jd({passive:!0,capture:!0});class ic{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=ta(t);e&&this._events.get(t.type)?.forEach((r,o)=>{(o===e||o.contains(e))&&r.forEach(c=>c.handleEvent(t))})}}addHandler(t,e,r,o){const c=this._events.get(e);if(c){const d=c.get(r);d?d.add(o):c.set(r,new Set([o]))}else this._events.set(e,new Map([[r,new Set([o])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,cT)})}removeHandler(t,e,r){const o=this._events.get(t);if(!o)return;const c=o.get(e);c&&(c.delete(r),0===c.size&&o.delete(e),0===o.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,cT)))}}const f_={enterDuration:225,exitDuration:150},lT=Jd({passive:!0,capture:!0}),C0=["mousedown","touchstart"],I0=["mouseup","mouseleave","touchend","touchcancel"];class Nu{static#e=this._eventManager=new ic;constructor(t,e,r,o){this._target=t,this._ngZone=e,this._platform=o,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,o.isBrowser&&(this._containerElement=Ou(r))}fadeInRipple(t,e,r={}){const o=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),c={...f_,...r.animation};r.centered&&(t=o.left+o.width/2,e=o.top+o.height/2);const d=r.radius||function D0(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),o=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+o*o)}(t,e,o),p=t-o.left,g=e-o.top,I=c.enterDuration,A=document.createElement("div");A.classList.add("mat-ripple-element"),A.style.left=p-d+"px",A.style.top=g-d+"px",A.style.height=2*d+"px",A.style.width=2*d+"px",null!=r.color&&(A.style.backgroundColor=r.color),A.style.transitionDuration=`${I}ms`,this._containerElement.appendChild(A);const k=window.getComputedStyle(A),X=k.transitionDuration,me="none"===k.transitionProperty||"0s"===X||"0s, 0s"===X||0===o.width&&0===o.height,pe=new q1(this,A,r,me);A.style.transform="scale3d(1, 1, 1)",pe.state=na.FADING_IN,r.persistent||(this._mostRecentTransientRipple=pe);let he=null;return!me&&(I||c.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ft=()=>{he&&(he.fallbackTimer=null),clearTimeout(It),this._finishRippleTransition(pe)},bt=()=>this._destroyRipple(pe),It=setTimeout(bt,I+100);A.addEventListener("transitionend",ft),A.addEventListener("transitioncancel",bt),he={onTransitionEnd:ft,onTransitionCancel:bt,fallbackTimer:It}}),this._activeRipples.set(pe,he),(me||!I)&&this._finishRippleTransition(pe),pe}fadeOutRipple(t){if(t.state===na.FADING_OUT||t.state===na.HIDDEN)return;const e=t.element,r={...f_,...t.config.animation};e.style.transitionDuration=`${r.exitDuration}ms`,e.style.opacity="0",t.state=na.FADING_OUT,(t._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ou(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,C0.forEach(r=>{Nu._eventManager.addHandler(this._ngZone,r,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{I0.forEach(e=>{this._triggerElement.addEventListener(e,this,lT)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===na.FADING_IN?this._startFadeOutTransition(t):t.state===na.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:r}=t.config;t.state=na.VISIBLE,!r&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=na.HIDDEN,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),null!==e.fallbackTimer&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){const e=f0(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!p0(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;if(e)for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(t.state===na.VISIBLE||t.config.terminateOnPointerUp&&t.state===na.FADING_IN)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(C0.forEach(e=>Nu._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(I0.forEach(e=>t.removeEventListener(e,this,lT)),this._pointerUpEventsRegistered=!1))}}const T0=new l.nKC("mat-ripple-global-options");let dp=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,r,o,c,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=c||{},this._rippleRenderer=new Nu(this,r,e,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,o){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,{...this.rippleConfig,...o}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(fi),l.rXU(T0,8),l.rXU(l.bc$,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,o){2&r&&l.AVh("mat-ripple-unbounded",o.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}return n})(),hp=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Fr]})}return n})(),uT=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1,this.appearance="full"}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,o){2&r&&l.AVh("mat-pseudo-checkbox-indeterminate","indeterminate"===o.state)("mat-pseudo-checkbox-checked","checked"===o.state)("mat-pseudo-checkbox-disabled",o.disabled)("mat-pseudo-checkbox-minimal","minimal"===o.appearance)("mat-pseudo-checkbox-full","full"===o.appearance)("_mat-animation-noopable","NoopAnimations"===o._animationMode)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},standalone:!0,features:[l.aNF],decls:0,vars:0,template:function(r,o){},styles:['.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-minimal-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-minimal-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox-full{border-color:var(--mat-full-pseudo-checkbox-unselected-icon-color);border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-full-pseudo-checkbox-disabled-unselected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-full-pseudo-checkbox-selected-icon-color);border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-full-pseudo-checkbox-selected-checkmark-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-full-pseudo-checkbox-disabled-selected-icon-color)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-full-pseudo-checkbox-disabled-selected-checkmark-color)}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}'],encapsulation:2,changeDetection:0})}return n})(),p_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr]})}return n})();const m_=new l.nKC("MAT_OPTION_PARENT_COMPONENT"),dT=new l.nKC("MatOptgroup");let A0=0;class Q1{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Il=(()=>{class n{get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=e}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get hideSingleSelectionIndicator(){return!(!this._parent||!this._parent.hideSingleSelectionIndicator)}constructor(e,r,o,c){this._element=e,this._changeDetectorRef=r,this._parent=o,this.group=c,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+A0++,this.onSelectionChange=new l.bkB,this._stateChanges=new B.B}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(e=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}deselect(e=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),e&&this._emitSelectionChangeEvent())}focus(e,r){const o=this._getHostElement();"function"==typeof o.focus&&o.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!nc(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=e)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new Q1(this,e))}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(m_,8),l.rXU(dT,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-option"]],viewQuery:function(r,o){if(1&r&&l.GBs(ch,7),2&r){let c;l.mGM(c=l.lsd())&&(o._text=c.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,o){1&r&&l.bIt("click",function(){return o._selectViaInteraction()})("keydown",function(d){return o._handleKeydown(d)}),2&r&&(l.Mr5("id",o.id),l.BMQ("aria-selected",o.selected)("aria-disabled",o.disabled.toString()),l.AVh("mdc-list-item--selected",o.selected)("mat-mdc-option-multiple",o.multiple)("mat-mdc-option-active",o.active)("mdc-list-item--disabled",o.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",l.L39]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:nT,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,o){1&r&&(l.NAR(tT),l.DNE(0,j1,1,2,"mat-pseudo-checkbox",1),l.SdG(1),l.j41(2,"span",2,0),l.SdG(4,1),l.k0s(),l.DNE(5,u_,1,1,"mat-pseudo-checkbox",3)(6,Pu,2,1,"span",4),l.nrm(7,"div",5)),2&r&&(l.vxM(o.multiple?0:-1),l.R7$(5),l.vxM(o.multiple||!o.selected||o.hideSingleSelectionIndicator?-1:5),l.R7$(),l.vxM(o.group&&o.group._inert?6:-1),l.R7$(),l.Y8G("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},dependencies:[uT,dp],styles:['.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color);font-family:var(--mat-option-label-text-font);line-height:var(--mat-option-label-text-line-height);font-size:var(--mat-option-label-text-size);letter-spacing:var(--mat-option-label-text-tracking);font-weight:var(--mat-option-label-text-weight)}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color)}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color);outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color)}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color)}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}.cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-mdc-option.mdc-list-item--selected:not(.mat-mdc-option-multiple)::after{right:auto;left:16px}.mat-mdc-option-multiple{--mdc-list-list-item-selected-container-color:var(--mdc-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),Lu=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[hp,Fr,p_]})}return n})();const g_={capture:!0},lh=["focus","mousedown","mouseenter","touchstart"],__="mat-ripple-loader-uninitialized",v_="mat-ripple-loader-class-name",fT="mat-ripple-loader-centered",y_="mat-ripple-loader-disabled";let pT=(()=>{class n{constructor(){this._document=(0,l.WQX)(Te,{optional:!0}),this._animationMode=(0,l.WQX)(l.bc$,{optional:!0}),this._globalRippleOptions=(0,l.WQX)(T0,{optional:!0}),this._platform=(0,l.WQX)(fi),this._ngZone=(0,l.WQX)(l.SKi),this._hosts=new Map,this._onInteraction=e=>{const r=ta(e);if(r instanceof HTMLElement){const o=r.closest(`[${__}="${this._globalRippleOptions?.namespace??""}"]`);o&&this._createRipple(o)}},this._ngZone.runOutsideAngular(()=>{for(const e of lh)this._document?.addEventListener(e,this._onInteraction,g_)})}ngOnDestroy(){const e=this._hosts.keys();for(const r of e)this.destroyRipple(r);for(const r of lh)this._document?.removeEventListener(r,this._onInteraction,g_)}configureRipple(e,r){e.setAttribute(__,this._globalRippleOptions?.namespace??""),(r.className||!e.hasAttribute(v_))&&e.setAttribute(v_,r.className||""),r.centered&&e.setAttribute(fT,""),r.disabled&&e.setAttribute(y_,"")}getRipple(e){return this._hosts.get(e)||this._createRipple(e)}setDisabled(e,r){const o=this._hosts.get(e);o?o.disabled=r:r?e.setAttribute(y_,""):e.removeAttribute(y_)}_createRipple(e){if(!this._document)return;const r=this._hosts.get(e);if(r)return r;e.querySelector(".mat-ripple")?.remove();const o=this._document.createElement("span");o.classList.add("mat-ripple",e.getAttribute(v_)),e.append(o);const c=new dp(new l.aKT(o),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return c._isInitialized=!0,c.trigger=e,c.centered=e.hasAttribute(fT),c.disabled=e.hasAttribute(y_),this.attachRipple(e,c),c}attachRipple(e,r){e.removeAttribute(__),this._hosts.set(e,r)}destroyRipple(e){const r=this._hosts.get(e);r&&(r.ngOnDestroy(),this._hosts.delete(e))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Y1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(r,o){2&r&&l.AVh("mdc-form-field--align-end","before"===o.labelPosition)},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[l.aNF],attrs:y0,ngContentSelectors:lp,decls:1,vars:0,template:function(r,o){1&r&&(l.NAR(),l.SdG(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}return n})();const Z1=["*",[["mat-toolbar-row"]]],J1=["*","mat-toolbar-row"];let mT=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}return n})(),ek=(()=>{class n{constructor(e,r,o){this._elementRef=e,this._platform=r,this._document=o}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(fi),l.rXU(Te))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,o,c){if(1&r&&l.wni(c,mT,5),2&r){let d;l.mGM(d=l.lsd())&&(o._toolbarRows=d)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,o){2&r&&(l.HbH(o.color?"mat-"+o.color:""),l.AVh("mat-toolbar-multiple-rows",o._toolbarRows.length>0)("mat-toolbar-single-row",0===o._toolbarRows.length))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[l.aNF],ngContentSelectors:J1,decls:2,vars:0,template:function(r,o){1&r&&(l.NAR(Z1),l.SdG(0),l.SdG(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color);--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color)}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),tk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Fr]})}return n})();function x0(...n){const t=(0,Be.ms)(n),{args:e,keys:r}=ke(n),o=new J.c(c=>{const{length:d}=e;if(!d)return void c.complete();const p=new Array(d);let g=d,I=d;for(let A=0;A<d;A++){let k=!1;(0,cn.Tg)(e[A]).subscribe((0,Qe._)(c,j=>{k||(k=!0,I--),p[A]=j},()=>g--,void 0,()=>{(!g||!k)&&(I||c.next(r?st(r,p):p),c.complete())}))}});return t?o.pipe(we(t)):o}var nk=R(7647);class b_{}class Bc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const o=e.slice(0,r),c=o.toLowerCase(),d=e.slice(r+1).trim();this.maybeSetNormalizedName(o,c),this.headers.has(c)?this.headers.get(c).push(d):this.headers.set(c,[d])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,r)=>{this.setHeaderEntries(r,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,r])=>{this.setHeaderEntries(e,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Bc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Bc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Bc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const o=("a"===t.op?this.headers.get(e):void 0)||[];o.push(...r),this.headers.set(e,o);break;case"d":const c=t.value;if(c){let d=this.headers.get(e);if(!d)return;d=d.filter(p=>-1===c.indexOf(p)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(t,e){const r=(Array.isArray(e)?e:[e]).map(c=>c.toString()),o=t.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(t,o)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class R0{encodeKey(t){return uh(t)}encodeValue(t){return uh(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const fp=/%(\d[a-f0-9])/gi,pp={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function uh(n){return encodeURIComponent(n).replace(fp,(t,e)=>pp[e]??t)}function E_(n){return`${n}`}class Dl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new R0,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gT(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{const c=o.indexOf("="),[d,p]=-1==c?[t.decodeKey(o),""]:[t.decodeKey(o.slice(0,c)),t.decodeValue(o.slice(c+1))],g=e.get(d)||[];g.push(p),e.set(d,g)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e],o=Array.isArray(r)?r.map(E_):[E_(r)];this.map.set(e,o)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const o=t[r];Array.isArray(o)?o.forEach(c=>{e.push({param:r,value:c,op:"a"})}):e.push({param:r,value:o,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Dl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(E_(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const o=r.indexOf(E_(t.value));-1!==o&&r.splice(o,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class w_{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function _T(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ik(n){return typeof Blob<"u"&&n instanceof Blob}function ok(n){return typeof FormData<"u"&&n instanceof FormData}class mp{constructor(t,e,r,o){let c;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function O0(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==r?r:null,c=o):c=r,c&&(this.reportProgress=!!c.reportProgress,this.withCredentials=!!c.withCredentials,c.responseType&&(this.responseType=c.responseType),c.headers&&(this.headers=c.headers),c.context&&(this.context=c.context),c.params&&(this.params=c.params),this.transferCache=c.transferCache),this.headers??=new Bc,this.context??=new w_,this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const p=e.indexOf("?");this.urlWithParams=e+(-1===p?"?":p<e.length-1?"&":"")+d}}else this.params=new Dl,this.urlWithParams=e}serializeBody(){return null===this.body?null:"string"==typeof this.body||_T(this.body)||ik(this.body)||ok(this.body)||function sk(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)?this.body:this.body instanceof Dl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ok(this.body)?null:ik(this.body)?this.body.type||null:_T(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Dl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,c=t.transferCache??this.transferCache,d=void 0!==t.body?t.body:this.body,p=t.withCredentials??this.withCredentials,g=t.reportProgress??this.reportProgress;let I=t.headers||this.headers,A=t.params||this.params;const k=t.context??this.context;return void 0!==t.setHeaders&&(I=Object.keys(t.setHeaders).reduce((j,X)=>j.set(X,t.setHeaders[X]),I)),t.setParams&&(A=Object.keys(t.setParams).reduce((j,X)=>j.set(X,t.setParams[X]),A)),new mp(e,r,d,{params:A,headers:I,context:k,reportProgress:g,responseType:o,withCredentials:p,transferCache:c})}}var vT=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(vT||{});class k0{constructor(t,e=200,r="OK"){this.headers=t.headers||new Bc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class gp extends k0{constructor(t={}){super(t),this.type=vT.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new gp({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function vp(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}let dh=(()=>{class n{constructor(e){this.handler=e}request(e,r,o={}){let c;if(e instanceof mp)c=e;else{let g,I;g=o.headers instanceof Bc?o.headers:new Bc(o.headers),o.params&&(I=o.params instanceof Dl?o.params:new Dl({fromObject:o.params})),c=new mp(e,r,void 0!==o.body?o.body:null,{headers:g,context:o.context,params:I,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}const d=Y(c).pipe(Cu(g=>this.handler.handle(g)));if(e instanceof mp||"events"===o.observe)return d;const p=d.pipe((0,jn.p)(g=>g instanceof gp));switch(o.observe||"body"){case"body":switch(c.responseType){case"arraybuffer":return p.pipe((0,Me.T)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return p.pipe((0,Me.T)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return p.pipe((0,Me.T)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return p.pipe((0,Me.T)(g=>g.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new Dl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,o={}){return this.request("PATCH",e,vp(o,r))}post(e,r,o={}){return this.request("POST",e,vp(o,r))}put(e,r,o={}){return this.request("PUT",e,vp(o,r))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(b_))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const Ok=["*"];let x_;function Cp(n){return function NT(){if(void 0===x_&&(x_=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(x_=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return x_}()?.createHTML(n)||n}function FT(n){return Error(`Unable to find icon with the name "${n}"`)}function xl(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function mh(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class gh{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let Ip=(()=>{class n{constructor(e,r,o,c){this._httpClient=e,this._sanitizer=r,this._errorHandler=c,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=o}addSvgIcon(e,r,o){return this.addSvgIconInNamespace("",e,r,o)}addSvgIconLiteral(e,r,o){return this.addSvgIconLiteralInNamespace("",e,r,o)}addSvgIconInNamespace(e,r,o,c){return this._addSvgIconConfig(e,r,new gh(o,null,c))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,o,c){const d=this._sanitizer.sanitize(l.WPN.HTML,o);if(!d)throw mh(o);const p=Cp(d);return this._addSvgIconConfig(e,r,new gh("",p,c))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,o){return this._addSvgIconSetConfig(e,new gh(r,null,o))}addSvgIconSetLiteralInNamespace(e,r,o){const c=this._sanitizer.sanitize(l.WPN.HTML,r);if(!c)throw mh(r);const d=Cp(c);return this._addSvgIconSetConfig(e,new gh("",d,o))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(l.WPN.RESOURCE_URL,e);if(!r)throw xl(e);const o=this._cachedIconsByUrl.get(r);return o?Y(M_(o)):this._loadSvgIconFromConfig(new gh(e,null)).pipe(_r(c=>this._cachedIconsByUrl.set(r,c)),(0,Me.T)(c=>M_(c)))}getNamedSvgIcon(e,r=""){const o=j0(r,e);let c=this._svgIconConfigs.get(o);if(c)return this._getSvgFromConfig(c);if(c=this._getIconConfigFromResolvers(r,e),c)return this._svgIconConfigs.set(o,c),this._getSvgFromConfig(c);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(e,d):On(FT(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Y(M_(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Me.T)(r=>M_(r)))}_getSvgFromIconSetConfigs(e,r){const o=this._extractIconWithNameFromAnySet(e,r);return o?Y(o):x0(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(ll(p=>{const I=`Loading icon set URL: ${this._sanitizer.sanitize(l.WPN.RESOURCE_URL,d.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(I)),Y(null)})))).pipe((0,Me.T)(()=>{const d=this._extractIconWithNameFromAnySet(e,r);if(!d)throw FT(e);return d}))}_extractIconWithNameFromAnySet(e,r){for(let o=r.length-1;o>=0;o--){const c=r[o];if(c.svgText&&c.svgText.toString().indexOf(e)>-1){const d=this._svgElementFromConfig(c),p=this._extractSvgIconFromSet(d,e,c.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(_r(r=>e.svgText=r),(0,Me.T)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Y(null):this._fetchIcon(e).pipe(_r(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,o){const c=e.querySelector(`[id="${r}"]`);if(!c)return null;const d=c.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,o);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),o);const p=this._svgElementFromString(Cp("<svg></svg>"));return p.appendChild(d),this._setSvgAttributes(p,o)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const o=r.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){const r=this._svgElementFromString(Cp("<svg></svg>")),o=e.attributes;for(let c=0;c<o.length;c++){const{name:d,value:p}=o[c];"id"!==d&&r.setAttribute(d,p)}for(let c=0;c<e.childNodes.length;c++)e.childNodes[c].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[c].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){const{url:r,options:o}=e,c=o?.withCredentials??!1;if(!this._httpClient)throw function Vu(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==r)throw Error(`Cannot fetch icon from URL "${r}".`);const d=this._sanitizer.sanitize(l.WPN.RESOURCE_URL,r);if(!d)throw xl(r);const p=this._inProgressUrlFetches.get(d);if(p)return p;const g=this._httpClient.get(d,{responseType:"text",withCredentials:c}).pipe((0,Me.T)(I=>Cp(I)),Td(()=>this._inProgressUrlFetches.delete(d)),(0,nk.u)());return this._inProgressUrlFetches.set(d,g),g}_addSvgIconConfig(e,r,o){return this._svgIconConfigs.set(j0(e,r),o),this}_addSvgIconSetConfig(e,r){const o=this._iconSetConfigs.get(e);return o?o.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let o=0;o<this._resolvers.length;o++){const c=this._resolvers[o](r,e);if(c)return hj(c)?new gh(c.url,null,c.options):new gh(c,null)}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(dh,8),l.KVO(b),l.KVO(Te,8),l.KVO(l.zcH))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function M_(n){return n.cloneNode(!0)}function j0(n,t){return n+":"+t}function hj(n){return!(!n.url||!n.options)}const Nk=new l.nKC("MAT_ICON_DEFAULT_OPTIONS"),Dp=new l.nKC("mat-icon-location",{providedIn:"root",factory:function $0(){const n=(0,l.WQX)(Te),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),LT=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Fk=LT.map(n=>`[${n}]`).join(", "),Lk=/^url\(['"]?#(.*?)['"]?\)$/;let _h=(()=>{class n{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}constructor(e,r,o,c,d,p){this._elementRef=e,this._iconRegistry=r,this._location=c,this._errorHandler=d,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=re.yU.EMPTY,p&&(p.color&&(this.color=this._defaultColor=p.color),p.fontSet&&(this.fontSet=p.fontSet)),o||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const o=e.childNodes[r];(1!==o.nodeType||"svg"===o.nodeName.toLowerCase())&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),r.forEach(o=>e.classList.add(o)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((o,c)=>{o.forEach(d=>{c.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(Fk),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let c=0;c<r.length;c++)LT.forEach(d=>{const p=r[c],g=p.getAttribute(d),I=g?g.match(Lk):null;if(I){let A=o.get(p);A||(A=[],o.set(p,A)),A.push({name:d,value:I[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,o]=this._splitIconName(e);r&&(this._svgNamespace=r),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,r).pipe(Yr(1)).subscribe(c=>this._setSvgElement(c),c=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${o}! ${c.message}`))})}}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(Ip),l.kS0("aria-hidden"),l.rXU(Dp),l.rXU(l.zcH),l.rXU(Nk,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,o){2&r&&(l.BMQ("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),l.HbH(o.color?"mat-"+o.color:""),l.AVh("mat-icon-inline",o.inline)("mat-icon-no-color","primary"!==o.color&&"accent"!==o.color&&"warn"!==o.color))},inputs:{color:"color",inline:[2,"inline","inline",l.L39],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:Ok,decls:1,vars:0,template:function(r,o){1&r&&(l.NAR(),l.SdG(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),Ml=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Fr]})}return n})();const uo=["mat-button",""],Tp=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],Ap=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],Vk=".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}",Hr=["mat-fab",""],Bk=["mat-icon-button",""],Uk=["*"],UT=new l.nKC("MAT_BUTTON_CONFIG"),z0=[{attribute:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{attribute:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{attribute:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{attribute:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{attribute:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mat-mdc-fab"]},{attribute:"mat-mini-fab",mdcClasses:["mdc-fab","mat-mdc-fab-base","mdc-fab--mini","mat-mdc-mini-fab"]},{attribute:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}];let R_=(()=>{class n{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=e,this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._updateRippleDisabled()}constructor(e,r,o,c){this._elementRef=e,this._platform=r,this._ngZone=o,this._animationMode=c,this._focusMonitor=(0,l.WQX)(Ia),this._rippleLoader=(0,l.WQX)(pT),this._isFab=!1,this._disableRipple=!1,this._disabled=!1;const d=(0,l.WQX)(UT,{optional:!0}),p=e.nativeElement,g=p.classList;this.disabledInteractive=d?.disabledInteractive??!1,this.color=d?.color??null,this._rippleLoader?.configureRipple(p,{className:"mat-mdc-button-ripple"});for(const{attribute:I,mdcClasses:A}of z0)p.hasAttribute(I)&&g.add(...A)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(e="program",r){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return null!=this.ariaDisabled?this.ariaDisabled:!(!this.disabled||!this.disabledInteractive)||null}_getDisabledAttribute(){return!(this.disabledInteractive||!this.disabled)||null}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275dir=l.FsC({type:n,inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",l.L39],disabled:[2,"disabled","disabled",l.L39],ariaDisabled:[2,"aria-disabled","ariaDisabled",l.L39],disabledInteractive:[2,"disabledInteractive","disabledInteractive",l.L39]},features:[l.GFd]})}return n})(),jT=(()=>{class n extends R_{constructor(e,r,o,c){super(e,r,o,c),this._haltDisabledEvents=d=>{this.disabled&&(d.preventDefault(),d.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}_getAriaDisabled(){return null==this.ariaDisabled?this.disabled:this.ariaDisabled}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275dir=l.FsC({type:n,inputs:{tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,l.Udg)(e)]},features:[l.GFd,l.Vt3]})}return n})(),$k=(()=>{class n extends R_{constructor(e,r,o,c){super(e,r,o,c)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(fi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:14,hostBindings:function(r,o){2&r&&(l.BMQ("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),l.HbH(o.color?"mat-"+o.color:""),l.AVh("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[l.Vt3,l.aNF],attrs:uo,ngContentSelectors:Ap,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){1&r&&(l.NAR(Tp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),Ko=(()=>{class n extends jT{constructor(e,r,o,c){super(e,r,o,c)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(fi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:15,hostBindings:function(r,o){2&r&&(l.BMQ("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getDisabledAttribute()),l.HbH(o.color?"mat-"+o.color:""),l.AVh("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton","matAnchor"],standalone:!0,features:[l.Vt3,l.aNF],attrs:uo,ngContentSelectors:Ap,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){1&r&&(l.NAR(Tp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-button-base{text-decoration:none}.mdc-button{-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0);padding:0 8px}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__label{position:relative}.mat-mdc-button{padding:0 var(--mat-text-button-horizontal-padding, 8px);height:var(--mdc-text-button-container-height);font-family:var(--mdc-text-button-label-text-font);font-size:var(--mdc-text-button-label-text-size);letter-spacing:var(--mdc-text-button-label-text-tracking);text-transform:var(--mdc-text-button-label-text-transform);font-weight:var(--mdc-text-button-label-text-weight)}.mat-mdc-button:has(.material-icons,mat-icon,[matButtonIcon]){padding:0 var(--mat-text-button-with-icon-horizontal-padding, 8px)}.mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}[dir=rtl] .mat-mdc-button>.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}.mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-offset, 0);margin-left:var(--mat-text-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon{margin-right:var(--mat-text-button-icon-spacing, 8px);margin-left:var(--mat-text-button-icon-offset, 0)}.mat-mdc-button .mat-ripple-element{background-color:var(--mat-text-button-ripple-color)}.mat-mdc-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-state-layer-color)}.mat-mdc-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-text-button-disabled-state-layer-color)}.mat-mdc-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-hover-state-layer-opacity)}.mat-mdc-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-focus-state-layer-opacity)}.mat-mdc-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-text-button-pressed-state-layer-opacity)}.mat-mdc-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-text-button-touch-target-display)}.mat-mdc-button,.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape)}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color)}.mat-mdc-button[disabled],.mat-mdc-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-text-button-disabled-label-text-color)}.mat-mdc-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-unelevated-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-filled-button-horizontal-padding, 16px);height:var(--mdc-filled-button-container-height);font-family:var(--mdc-filled-button-label-text-font);font-size:var(--mdc-filled-button-label-text-size);letter-spacing:var(--mdc-filled-button-label-text-tracking);text-transform:var(--mdc-filled-button-label-text-transform);font-weight:var(--mdc-filled-button-label-text-weight)}.mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-offset, -4px);margin-left:var(--mat-filled-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon{margin-right:var(--mat-filled-button-icon-spacing, 8px);margin-left:var(--mat-filled-button-icon-offset, -4px)}.mat-mdc-unelevated-button .mat-ripple-element{background-color:var(--mat-filled-button-ripple-color)}.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-state-layer-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-filled-button-disabled-state-layer-color)}.mat-mdc-unelevated-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-hover-state-layer-opacity)}.mat-mdc-unelevated-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-focus-state-layer-opacity)}.mat-mdc-unelevated-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-filled-button-pressed-state-layer-opacity)}.mat-mdc-unelevated-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-filled-button-touch-target-display)}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color);background-color:var(--mdc-filled-button-container-color)}.mat-mdc-unelevated-button,.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape)}.mat-mdc-unelevated-button[disabled],.mat-mdc-unelevated-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-filled-button-disabled-label-text-color);background-color:var(--mdc-filled-button-disabled-container-color)}.mat-mdc-unelevated-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-raised-button{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-protected-button-horizontal-padding, 16px);box-shadow:var(--mdc-protected-button-container-elevation-shadow);height:var(--mdc-protected-button-container-height);font-family:var(--mdc-protected-button-label-text-font);font-size:var(--mdc-protected-button-label-text-size);letter-spacing:var(--mdc-protected-button-label-text-tracking);text-transform:var(--mdc-protected-button-label-text-transform);font-weight:var(--mdc-protected-button-label-text-weight)}.mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-raised-button>.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}.mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-offset, -4px);margin-left:var(--mat-protected-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon{margin-right:var(--mat-protected-button-icon-spacing, 8px);margin-left:var(--mat-protected-button-icon-offset, -4px)}.mat-mdc-raised-button .mat-ripple-element{background-color:var(--mat-protected-button-ripple-color)}.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-state-layer-color)}.mat-mdc-raised-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-protected-button-disabled-state-layer-color)}.mat-mdc-raised-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-hover-state-layer-opacity)}.mat-mdc-raised-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-focus-state-layer-opacity)}.mat-mdc-raised-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-protected-button-pressed-state-layer-opacity)}.mat-mdc-raised-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-protected-button-touch-target-display)}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color);background-color:var(--mdc-protected-button-container-color)}.mat-mdc-raised-button,.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape)}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation-shadow)}.mat-mdc-raised-button:focus{box-shadow:var(--mdc-protected-button-focus-container-elevation-shadow)}.mat-mdc-raised-button:active,.mat-mdc-raised-button:focus:active{box-shadow:var(--mdc-protected-button-pressed-container-elevation-shadow)}.mat-mdc-raised-button[disabled],.mat-mdc-raised-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-protected-button-disabled-label-text-color);background-color:var(--mdc-protected-button-disabled-container-color)}.mat-mdc-raised-button[disabled].mat-mdc-button-disabled,.mat-mdc-raised-button.mat-mdc-button-disabled.mat-mdc-button-disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation-shadow)}.mat-mdc-raised-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 var(--mat-outlined-button-horizontal-padding, 15px);height:var(--mdc-outlined-button-container-height);font-family:var(--mdc-outlined-button-label-text-font);font-size:var(--mdc-outlined-button-label-text-size);letter-spacing:var(--mdc-outlined-button-label-text-tracking);text-transform:var(--mdc-outlined-button-label-text-transform);font-weight:var(--mdc-outlined-button-label-text-weight);border-radius:var(--mdc-outlined-button-container-shape);border-width:var(--mdc-outlined-button-outline-width)}.mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}[dir=rtl] .mat-mdc-outlined-button>.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-offset, -4px);margin-left:var(--mat-outlined-button-icon-spacing, 8px)}[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-right:var(--mat-outlined-button-icon-spacing, 8px);margin-left:var(--mat-outlined-button-icon-offset, -4px)}.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-outlined-button-ripple-color)}.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-state-layer-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-outlined-button-disabled-state-layer-color)}.mat-mdc-outlined-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-hover-state-layer-opacity)}.mat-mdc-outlined-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-focus-state-layer-opacity)}.mat-mdc-outlined-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-outlined-button-pressed-state-layer-opacity)}.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%);display:var(--mat-outlined-button-touch-target-display)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color);border-color:var(--mdc-outlined-button-outline-color)}.mat-mdc-outlined-button[disabled],.mat-mdc-outlined-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-outlined-button-disabled-label-text-color);border-color:var(--mdc-outlined-button-disabled-outline-color)}.mat-mdc-outlined-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-outlined-button .mdc-button__ripple{border-width:var(--mdc-outlined-button-outline-width);border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-button .mdc-button__label,.mat-mdc-button .mat-icon,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-unelevated-button .mat-icon,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-raised-button .mat-icon,.mat-mdc-outlined-button .mdc-button__label,.mat-mdc-outlined-button .mat-icon{z-index:1;position:relative}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px)*-1)}',Vk],encapsulation:2,changeDetection:0})}return n})();const G0=new l.nKC("mat-mdc-fab-default-options",{providedIn:"root",factory:O_});function O_(){return{color:"accent"}}const Sp=O_();let xp=(()=>{class n extends R_{constructor(e,r,o,c,d){super(e,r,o,c),this._options=d,this._isFab=!0,this._options=this._options||Sp,this.color=this._options.color||Sp.color}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(fi),l.rXU(l.SKi),l.rXU(l.bc$,8),l.rXU(G0,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-fab",""]],hostVars:18,hostBindings:function(r,o){2&r&&(l.BMQ("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),l.HbH(o.color?"mat-"+o.color:""),l.AVh("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-unthemed",!o.color)("mat-mdc-button-base",!0)("mdc-fab--extended",o.extended)("mat-mdc-extended-fab",o.extended))},inputs:{extended:[2,"extended","extended",l.L39]},exportAs:["matButton"],standalone:!0,features:[l.GFd,l.Vt3,l.aNF],attrs:Hr,ngContentSelectors:Ap,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){1&r&&(l.NAR(Tp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),K0=(()=>{class n extends Ko{constructor(e,r,o,c,d){super(e,r,o,c),this._options=d,this._isFab=!0,this._options=this._options||Sp,this.color=this._options.color||Sp.color}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(fi),l.rXU(l.SKi),l.rXU(l.bc$,8),l.rXU(G0,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["a","mat-fab",""]],hostVars:19,hostBindings:function(r,o){2&r&&(l.BMQ("disabled",o._getDisabledAttribute())("tabindex",o.disabled&&!o.disabledInteractive?-1:o.tabIndex)("aria-disabled",o._getDisabledAttribute()),l.HbH(o.color?"mat-"+o.color:""),l.AVh("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-unthemed",!o.color)("mat-mdc-button-base",!0)("mdc-fab--extended",o.extended)("mat-mdc-extended-fab",o.extended))},inputs:{extended:[2,"extended","extended",l.L39]},exportAs:["matButton","matAnchor"],standalone:!0,features:[l.GFd,l.Vt3,l.aNF],attrs:Hr,ngContentSelectors:Ap,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){1&r&&(l.NAR(Tp),l.nrm(0,"span",0),l.SdG(1),l.j41(2,"span",1),l.SdG(3,1),l.k0s(),l.SdG(4,2),l.nrm(5,"span",2)(6,"span",3)),2&r&&l.AVh("mdc-button__ripple",!o._isFab)("mdc-fab__ripple",o._isFab)},styles:['.mat-mdc-fab-base{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none;position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1);flex-shrink:0}.mat-mdc-fab-base .mat-mdc-button-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple,.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab-base .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab-base .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-fab-base .mdc-button__label,.mat-mdc-fab-base .mat-icon{z-index:1;position:relative}.mat-mdc-fab-base .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab-base:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab-base._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab-base::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-fab-base[hidden]{display:none}.mat-mdc-fab-base::-moz-focus-inner{padding:0;border:0}.mat-mdc-fab-base:active,.mat-mdc-fab-base:focus{outline:none}.mat-mdc-fab-base:hover{cursor:pointer}.mat-mdc-fab-base>svg{width:100%}.mat-mdc-fab-base .mat-icon,.mat-mdc-fab-base .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab-base .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-fab-base[disabled],.mat-mdc-fab-base[disabled]:focus,.mat-mdc-fab-base.mat-mdc-button-disabled,.mat-mdc-fab-base.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-fab-base.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-fab{background-color:var(--mdc-fab-container-color);border-radius:var(--mdc-fab-container-shape);color:var(--mat-fab-foreground-color, inherit);box-shadow:var(--mdc-fab-container-elevation-shadow)}.mat-mdc-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-touch-target-display)}.mat-mdc-fab .mat-ripple-element{background-color:var(--mat-fab-ripple-color)}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-state-layer-color)}.mat-mdc-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-disabled-state-layer-color)}.mat-mdc-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-hover-state-layer-opacity)}.mat-mdc-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-focus-state-layer-opacity)}.mat-mdc-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-pressed-state-layer-opacity)}.mat-mdc-fab:hover{box-shadow:var(--mdc-fab-hover-container-elevation-shadow)}.mat-mdc-fab:focus{box-shadow:var(--mdc-fab-focus-container-elevation-shadow)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active{box-shadow:var(--mdc-fab-pressed-container-elevation-shadow)}.mat-mdc-fab[disabled],.mat-mdc-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-disabled-state-foreground-color);background-color:var(--mat-fab-disabled-state-container-color)}.mat-mdc-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-mini-fab{width:40px;height:40px;background-color:var(--mdc-fab-small-container-color);border-radius:var(--mdc-fab-small-container-shape);color:var(--mat-fab-small-foreground-color, inherit);box-shadow:var(--mdc-fab-small-container-elevation-shadow)}.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-fab-small-touch-target-display)}.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-fab-small-ripple-color)}.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-state-layer-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-fab-small-disabled-state-layer-color)}.mat-mdc-mini-fab:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-hover-state-layer-opacity)}.mat-mdc-mini-fab.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-focus-state-layer-opacity)}.mat-mdc-mini-fab:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-fab-small-pressed-state-layer-opacity)}.mat-mdc-mini-fab:hover{box-shadow:var(--mdc-fab-small-hover-container-elevation-shadow)}.mat-mdc-mini-fab:focus{box-shadow:var(--mdc-fab-small-focus-container-elevation-shadow)}.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:var(--mdc-fab-small-pressed-container-elevation-shadow)}.mat-mdc-mini-fab[disabled],.mat-mdc-mini-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-fab-small-disabled-state-foreground-color);background-color:var(--mat-fab-small-disabled-state-container-color)}.mat-mdc-mini-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-extended-fab{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;line-height:normal;box-shadow:var(--mdc-extended-fab-container-elevation-shadow);height:var(--mdc-extended-fab-container-height);border-radius:var(--mdc-extended-fab-container-shape);font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-extended-fab:hover{box-shadow:var(--mdc-extended-fab-hover-container-elevation-shadow)}.mat-mdc-extended-fab:focus{box-shadow:var(--mdc-extended-fab-focus-container-elevation-shadow)}.mat-mdc-extended-fab:active,.mat-mdc-extended-fab:focus:active{box-shadow:var(--mdc-extended-fab-pressed-container-elevation-shadow)}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab.mat-mdc-button-disabled{cursor:default;pointer-events:none}.mat-mdc-extended-fab[disabled],.mat-mdc-extended-fab[disabled]:focus,.mat-mdc-extended-fab.mat-mdc-button-disabled,.mat-mdc-extended-fab.mat-mdc-button-disabled:focus{box-shadow:none}.mat-mdc-extended-fab.mat-mdc-button-disabled-interactive{pointer-events:auto}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:-8px;margin-right:12px}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons,[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons{margin-left:12px;margin-right:-8px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),Hk=(()=>{class n extends R_{constructor(e,r,o,c){super(e,r,o,c),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(fi),l.rXU(l.SKi),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["button","mat-icon-button",""]],hostVars:14,hostBindings:function(r,o){2&r&&(l.BMQ("disabled",o._getDisabledAttribute())("aria-disabled",o._getAriaDisabled()),l.HbH(o.color?"mat-"+o.color:""),l.AVh("mat-mdc-button-disabled",o.disabled)("mat-mdc-button-disabled-interactive",o.disabledInteractive)("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-unthemed",!o.color)("mat-mdc-button-base",!0))},exportAs:["matButton"],standalone:!0,features:[l.Vt3,l.aNF],attrs:Bk,ngContentSelectors:Uk,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,o){1&r&&(l.NAR(),l.nrm(0,"span",0),l.SdG(1),l.nrm(2,"span",1)(3,"span",2))},styles:['.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:50%;flex-shrink:0;text-align:center;width:var(--mdc-icon-button-state-layer-size, 48px);height:var(--mdc-icon-button-state-layer-size, 48px);padding:calc(calc(var(--mdc-icon-button-state-layer-size, 48px) - var(--mdc-icon-button-icon-size, 24px)) / 2);font-size:var(--mdc-icon-button-icon-size);color:var(--mdc-icon-button-icon-color);-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mdc-icon-button-disabled-icon-color)}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mdc-icon-button-icon-size);height:var(--mdc-icon-button-icon-size);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color)}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color)}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color)}.mat-mdc-icon-button:hover .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity)}.mat-mdc-icon-button.cdk-program-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused .mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity)}.mat-mdc-icon-button:active .mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity)}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%);display:var(--mat-icon-button-touch-target-display)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',Vk],encapsulation:2,changeDetection:0})}return n})(),Uc=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,hp,Fr]})}return n})();var bi=R(7786);let P_,k_=1;const Rl={};function $T(n){return n in Rl&&(delete Rl[n],!0)}const zk={setImmediate(n){const t=k_++;return Rl[t]=!0,P_||(P_=Promise.resolve()),P_.then(()=>$T(t)&&n()),t},clearImmediate(n){$T(n)}},{setImmediate:zT,clearImmediate:Ol}=zk,kl={setImmediate(...n){const{delegate:t}=kl;return(t?.setImmediate||zT)(...n)},clearImmediate(n){const{delegate:t}=kl;return(t?.clearImmediate||Ol)(n)},delegate:void 0},F_=new class N_ extends t0{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;t=t||r.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw o}}}(class _j extends BD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=kl.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:c}=t;null!=e&&(null===(o=c[c.length-1])||void 0===o?void 0:o.id)!==e&&(kl.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});function vh(n,t){return t?e=>(0,At.x)(t.pipe(Yr(1),function Kk(){return(0,se.N)((n,t)=>{n.subscribe((0,Qe._)(t,Jm.l))})}()),e.pipe(vh(n))):(0,Ti.Z)((e,r)=>(0,cn.Tg)(n(e,r)).pipe(Yr(1),Gy(e)))}var Wk=R(9470);function GT(n=0,t,e=E1){let r=-1;return null!=t&&((0,Wk.m)(t)?e=t:r=t),new J.c(o=>{let c=function qk(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;c<0&&(c=0);let d=0;return e.schedule(function(){o.closed||(o.next(d++),0<=r?this.schedule(void 0,r):o.complete())},c)})}function q0(n,t=Jg){const e=GT(n,t);return vh(()=>e)}class Q0{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class L_ extends Q0{constructor(t,e,r,o,c){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=o,this.projectableNodes=c}}class Mp extends Q0{constructor(t,e,r,o){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r,this.injector=o}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Y0 extends Q0{constructor(t){super(),this.element=t instanceof l.aKT?t.nativeElement:t}}class V_{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof L_?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Mp?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Y0?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class KT extends V_{constructor(t,e,r,o,c){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=o,this.attachDomPortal=d=>{const p=d.element,g=this._document.createComment("dom-portal");p.parentNode.insertBefore(g,p),this.outletElement.appendChild(p),this._attachedPortal=d,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(p,g)})},this._document=c}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let o;return t.viewContainerRef?(o=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>o.destroy())):(o=r.create(t.injector||this._defaultInjector||l.zZn.NULL),this._appRef.attachView(o.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(o.hostView),o.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(o)),this._attachedPortal=t,o}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(o=>this.outletElement.appendChild(o)),r.detectChanges(),this.setDisposeFn(()=>{let o=e.indexOf(r);-1!==o&&e.remove(o)}),this._attachedPortal=t,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Z0=(()=>{class n extends V_{constructor(e,r,o){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.bkB,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");c.setAttachedHost(this),d.parentNode.insertBefore(p,d),this._getRootNode().appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=o}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,c=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=r.createComponent(c,r.length,e.injector||r.injector,e.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.OM3),l.rXU(l.c1b),l.rXU(Te))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[l.Vt3]})}return n})(),Yk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();var En=R(9969),XT=R(7441);const J0=["addListener","removeListener"],eE=["addEventListener","removeEventListener"],Zk=["on","off"];function yh(n,t,e,r){if((0,De.T)(e)&&(r=e,e=void 0),r)return yh(n,t,e).pipe(we(r));const[o,c]=function tE(n){return(0,De.T)(n.addEventListener)&&(0,De.T)(n.removeEventListener)}(n)?eE.map(d=>p=>n[d](t,p,e)):function Jk(n){return(0,De.T)(n.addListener)&&(0,De.T)(n.removeListener)}(n)?J0.map(QT(n,t)):function YT(n){return(0,De.T)(n.on)&&(0,De.T)(n.off)}(n)?Zk.map(QT(n,t)):[];if(!o&&(0,XT.X)(n))return(0,Ti.Z)(d=>yh(d,t,e))((0,cn.Tg)(n));if(!o)throw new TypeError("Invalid event target");return new J.c(d=>{const p=(...g)=>d.next(1<g.length?g:g[0]);return o(p),()=>c(p)})}function QT(n,t){return e=>r=>n[e](t,r)}const Bu={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:r}=Bu;r&&(t=r.requestAnimationFrame,e=r.cancelAnimationFrame);const o=t(c=>{e=void 0,n(c)});return new re.yU(()=>e?.(o))},requestAnimationFrame(...n){const{delegate:t}=Bu;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Bu;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class JT extends t0{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let o;t=t||r.shift();do{if(o=t.execute(t.state,t.delay))break}while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,o){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw o}}}(class ZT extends BD{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t._scheduled||(t._scheduled=Bu.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,r=0){var o;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(t,e,r);const{actions:c}=t;null!=e&&(null===(o=c[c.length-1])||void 0===o?void 0:o.id)!==e&&(Bu.cancelAnimationFrame(e),t._scheduled=void 0)}});function nA(n,t=Jg){return function tA(n){return(0,se.N)((t,e)=>{let r=!1,o=null,c=null,d=!1;const p=()=>{if(c?.unsubscribe(),c=null,r){r=!1;const I=o;o=null,e.next(I)}d&&e.complete()},g=()=>{c=null,d&&e.complete()};t.subscribe((0,Qe._)(e,I=>{r=!0,o=I,c||(0,cn.Tg)(n(I)).subscribe(c=(0,Qe._)(e,p,g))},()=>{d=!0,(!r||!c||c.closed)&&e.complete()}))})}(()=>GT(n,t))}let nE=(()=>{class n{constructor(e,r,o){this._ngZone=e,this._platform=r,this._scrolled=new B.B,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new J.c(r=>{this._globalSubscription||this._addGlobalListener();const o=e>0?this._scrolled.pipe(nA(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{o.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Y()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const o=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe((0,jn.p)(c=>!c||o.indexOf(c)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((o,c)=>{this._scrollableContainsElement(c,e)&&r.push(c)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let o=Ou(r),c=e.getElementRef().nativeElement;do{if(o==c)return!0}while(o=o.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>yh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(l.SKi),l.KVO(fi),l.KVO(Te,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),rE=(()=>{class n{constructor(e,r,o,c){this.elementRef=e,this.scrollDispatcher=r,this.ngZone=o,this.dir=c,this._destroyed=new B.B,this._elementScrolled=new J.c(d=>this.ngZone.runOutsideAngular(()=>yh(this.elementRef.nativeElement,"scroll").pipe(xr(this._destroyed)).subscribe(d)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const r=this.elementRef.nativeElement,o=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=o?e.end:e.start),null==e.right&&(e.right=o?e.start:e.end),null!=e.bottom&&(e.top=r.scrollHeight-r.clientHeight-e.bottom),o&&ep()!=Pc.NORMAL?(null!=e.left&&(e.right=r.scrollWidth-r.clientWidth-e.left),ep()==Pc.INVERTED?e.left=e.right:ep()==Pc.NEGATED&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=r.scrollWidth-r.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const r=this.elementRef.nativeElement;$g()?r.scrollTo(e):(null!=e.top&&(r.scrollTop=e.top),null!=e.left&&(r.scrollLeft=e.left))}measureScrollOffset(e){const r="left",o="right",c=this.elementRef.nativeElement;if("top"==e)return c.scrollTop;if("bottom"==e)return c.scrollHeight-c.clientHeight-c.scrollTop;const d=this.dir&&"rtl"==this.dir.value;return"start"==e?e=d?o:r:"end"==e&&(e=d?r:o),d&&ep()==Pc.INVERTED?e==r?c.scrollWidth-c.clientWidth-c.scrollLeft:c.scrollLeft:d&&ep()==Pc.NEGATED?e==r?c.scrollLeft+c.scrollWidth-c.clientWidth:-c.scrollLeft:e==r?c.scrollLeft:c.scrollWidth-c.clientWidth-c.scrollLeft}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(nE),l.rXU(l.SKi),l.rXU(rc,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}return n})(),B_=(()=>{class n{constructor(e,r,o){this._platform=e,this._change=new B.B,this._changeListener=c=>{this._change.next(c)},this._document=o,r.runOutsideAngular(()=>{if(e.isBrowser){const c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:o}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+o,right:e.left+r,height:o,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),o=e.documentElement,c=o.getBoundingClientRect();return{top:-c.top||e.body.scrollTop||r.scrollY||o.scrollTop||0,left:-c.left||e.body.scrollLeft||r.scrollX||o.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(nA(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(fi),l.KVO(l.SKi),l.KVO(Te,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),U_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})(),oP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[ah,U_,ah,U_]})}return n})();const iE=$g();class Sj{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=pi(-this._previousScrollPosition.left),t.style.top=pi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,o=this._document.body.style,c=r.scrollBehavior||"",d=o.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),iE&&(r.scrollBehavior=o.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),iE&&(r.scrollBehavior=c,o.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class xj{constructor(t,e,r,o){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=o,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe((0,jn.p)(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class sP{enable(){}disable(){}attach(){}}function cA(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function aP(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class Mj{constructor(t,e,r,o){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=o,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:o}=this._viewportRuler.getViewportSize();cA(e,[{width:r,height:o,bottom:o,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Rj=(()=>{class n{constructor(e,r,o,c){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=o,this.noop=()=>new sP,this.close=d=>new xj(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new Sj(this._viewportRuler,this._document),this.reposition=d=>new Mj(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=c}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(nE),l.KVO(B_),l.KVO(l.SKi),l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class oE{constructor(t){if(this.scrollStrategy=new sP,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class Op{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let sE=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),cP=(()=>{class n extends sE{constructor(e,r){super(e),this._ngZone=r,this._keydownListener=o=>{const c=this._attachedOverlays;for(let d=c.length-1;d>-1;d--)if(c[d]._keydownEvents.observers.length>0){const p=c[d]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(l.SKi,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pj=(()=>{class n extends sE{constructor(e,r,o){super(e),this._platform=r,this._ngZone=o,this._cursorStyleIsSet=!1,this._pointerDownListener=c=>{this._pointerDownEventTarget=ta(c)},this._clickListener=c=>{const d=ta(c),p="click"===c.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:d;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let I=g.length-1;I>-1;I--){const A=g[I];if(A._outsidePointerEvents.observers.length<1||!A.hasAttached())continue;if(lA(A.overlayElement,d)||lA(A.overlayElement,p))break;const k=A._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>k.next(c)):k.next(c)}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(fi),l.KVO(l.SKi,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lA(n,t){const e=typeof ShadowRoot<"u"&&ShadowRoot;let r=t;for(;r;){if(r===n)return!0;r=e&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}let j_=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||bD()){const o=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let c=0;c<o.length;c++)o[c].remove()}const r=this._document.createElement("div");r.classList.add(e),bD()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Te),l.KVO(fi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class $_{constructor(t,e,r,o,c,d,p,g,I,A=!1,k){this._portalOutlet=t,this._host=e,this._pane=r,this._config=o,this._ngZone=c,this._keyboardDispatcher=d,this._document=p,this._location=g,this._outsideClickDispatcher=I,this._animationsDisabled=A,this._injector=k,this._backdropElement=null,this._backdropClick=new B.B,this._attachments=new B.B,this._detachments=new B.B,this._locationChanges=re.yU.EMPTY,this._backdropClickHandler=j=>this._backdropClick.next(j),this._backdropTransitionendHandler=j=>{this._disposeBackdrop(j.target)},this._keydownEvents=new B.B,this._outsidePointerEvents=new B.B,this._renders=new B.B,o.scrollStrategy&&(this._scrollStrategy=o.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=o.positionStrategy,this._afterRenderRef=(0,l.O8t)(()=>(0,l.Tzd)(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),(0,l.mal)(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=pi(this._config.width),t.height=pi(this._config.height),t.minWidth=pi(this._config.minWidth),t.minHeight=pi(this._config.minHeight),t.maxWidth=pi(this._config.maxWidth),t.maxHeight=pi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,r){const o=t_(e||[]).filter(c=>!!c);o.length&&(r?t.classList.add(...o):t.classList.remove(...o))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{const t=this._renders.pipe(xr((0,bi.h)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const kp="cdk-overlay-connected-position-bounding-box",uA=/([A-Za-z%]+)$/;class lP{get positions(){return this._preferredPositions}constructor(t,e,r,o,c){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=c,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new B.B,this._resizeSubscription=re.yU.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(kp),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,o=this._containerRect,c=[];let d;for(let p of this._preferredPositions){let g=this._getOriginPoint(t,o,p),I=this._getOverlayPoint(g,e,p),A=this._getOverlayFit(I,e,r,p);if(A.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(p,g);this._canFitWithFlexibleDimensions(A,I,r)?c.push({position:p,origin:g,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(g,p)}):(!d||d.overlayFit.visibleArea<A.visibleArea)&&(d={overlayFit:A,overlayPoint:I,originPoint:g,position:p,overlayRect:e})}if(c.length){let p=null,g=-1;for(const I of c){const A=I.boundingBoxRect.width*I.boundingBoxRect.height*(I.position.weight||1);A>g&&(g=A,p=I)}return this._isPushed=!1,void this._applyPosition(p.position,p.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(d.position,d.originPoint);this._applyPosition(d.position,d.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Pl(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(kp),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,r){let o,c;if("center"==r.originX)o=t.left+t.width/2;else{const d=this._isRtl()?t.right:t.left,p=this._isRtl()?t.left:t.right;o="start"==r.originX?d:p}return e.left<0&&(o-=e.left),c="center"==r.originY?t.top+t.height/2:"top"==r.originY?t.top:t.bottom,e.top<0&&(c-=e.top),{x:o,y:c}}_getOverlayPoint(t,e,r){let o,c;return o="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,c="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+o,y:t.y+c}}_getOverlayFit(t,e,r,o){const c=aE(e);let{x:d,y:p}=t,g=this._getOffset(o,"x"),I=this._getOffset(o,"y");g&&(d+=g),I&&(p+=I);let j=0-p,X=p+c.height-r.height,me=this._subtractOverflows(c.width,0-d,d+c.width-r.width),pe=this._subtractOverflows(c.height,j,X),he=me*pe;return{visibleArea:he,isCompletelyWithinViewport:c.width*c.height===he,fitsInViewportVertically:pe===c.height,fitsInViewportHorizontally:me==c.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const o=r.bottom-e.y,c=r.right-e.x,d=uP(this._overlayRef.getConfig().minHeight),p=uP(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=d&&d<=o)&&(t.fitsInViewportHorizontally||null!=p&&p<=c)}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const o=aE(e),c=this._viewportRect,d=Math.max(t.x+o.width-c.width,0),p=Math.max(t.y+o.height-c.height,0),g=Math.max(c.top-r.top-t.y,0),I=Math.max(c.left-r.left-t.x,0);let A=0,k=0;return A=o.width<=c.width?I||-d:t.x<this._viewportMargin?c.left-r.left-t.x:0,k=o.height<=c.height?g||-p:t.y<this._viewportMargin?c.top-r.top-t.y:0,this._previousPushAmount={x:A,y:k},{x:t.x+A,y:t.y+k}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){const r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!function Nj(n,t){return n===t||n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}(this._lastScrollVisibility,r)){const o=new Op(t,r);this._positionChanges.next(o)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,o=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let c=0;c<e.length;c++)e[c].style.transformOrigin=`${r} ${o}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,o=this._isRtl();let c,d,p,A,k,j;if("top"===e.overlayY)d=t.y,c=r.height-d+this._viewportMargin;else if("bottom"===e.overlayY)p=r.height-t.y+2*this._viewportMargin,c=r.height-p+this._viewportMargin;else{const X=Math.min(r.bottom-t.y+r.top,t.y),me=this._lastBoundingBoxSize.height;c=2*X,d=t.y-X,c>me&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-me/2)}if("end"===e.overlayX&&!o||"start"===e.overlayX&&o)j=r.width-t.x+2*this._viewportMargin,A=t.x-this._viewportMargin;else if("start"===e.overlayX&&!o||"end"===e.overlayX&&o)k=t.x,A=r.right-t.x;else{const X=Math.min(r.right-t.x+r.left,t.x),me=this._lastBoundingBoxSize.width;A=2*X,k=t.x-X,A>me&&!this._isInitialRender&&!this._growAfterOpen&&(k=t.x-me/2)}return{top:d,left:k,bottom:p,right:j,width:A,height:c}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{const c=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;o.height=pi(r.height),o.top=pi(r.top),o.bottom=pi(r.bottom),o.width=pi(r.width),o.left=pi(r.left),o.right=pi(r.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",c&&(o.maxHeight=pi(c)),d&&(o.maxWidth=pi(d))}this._lastBoundingBoxSize=r,Pl(this._boundingBox.style,o)}_resetBoundingBoxStyles(){Pl(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Pl(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},o=this._hasExactPosition(),c=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(o){const A=this._viewportRuler.getViewportScrollPosition();Pl(r,this._getExactOverlayY(e,t,A)),Pl(r,this._getExactOverlayX(e,t,A))}else r.position="static";let p="",g=this._getOffset(e,"x"),I=this._getOffset(e,"y");g&&(p+=`translateX(${g}px) `),I&&(p+=`translateY(${I}px)`),r.transform=p.trim(),d.maxHeight&&(o?r.maxHeight=pi(d.maxHeight):c&&(r.maxHeight="")),d.maxWidth&&(o?r.maxWidth=pi(d.maxWidth):c&&(r.maxWidth="")),Pl(this._pane.style,r)}_getExactOverlayY(t,e,r){let o={top:"",bottom:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),"bottom"===t.overlayY?o.bottom=this._document.documentElement.clientHeight-(c.y+this._overlayRect.height)+"px":o.top=pi(c.y),o}_getExactOverlayX(t,e,r){let d,o={left:"",right:""},c=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(c=this._pushOverlayOnScreen(c,this._overlayRect,r)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?o.right=this._document.documentElement.clientWidth-(c.x+this._overlayRect.width)+"px":o.left=pi(c.x),o}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(o=>o.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:aP(t,r),isOriginOutsideView:cA(t,r),isOverlayClipped:aP(e,r),isOverlayOutsideView:cA(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,o)=>r-Math.max(o,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&t_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.aKT)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Pl(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function uP(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(uA);return e&&"px"!==e?null:parseFloat(t)}return n||null}function aE(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const H_="cdk-global-overlay-wrapper";class hP{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(H_),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:o,height:c,maxWidth:d,maxHeight:p}=r,g=!("100%"!==o&&"100vw"!==o||d&&"100%"!==d&&"100vw"!==d),I=!("100%"!==c&&"100vh"!==c||p&&"100%"!==p&&"100vh"!==p),A=this._xPosition,k=this._xOffset,j="rtl"===this._overlayRef.getConfig().direction;let X="",me="",pe="";g?pe="flex-start":"center"===A?(pe="center",j?me=k:X=k):j?"left"===A||"end"===A?(pe="flex-end",X=k):("right"===A||"start"===A)&&(pe="flex-start",me=k):"left"===A||"start"===A?(pe="flex-start",X=k):("right"===A||"end"===A)&&(pe="flex-end",me=k),t.position=this._cssPosition,t.marginLeft=g?"0":X,t.marginTop=I?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=g?"0":me,e.justifyContent=pe,e.alignItems=I?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(H_),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let fP=(()=>{class n{constructor(e,r,o,c){this._viewportRuler=e,this._document=r,this._platform=o,this._overlayContainer=c}global(){return new hP}flexibleConnectedTo(e){return new lP(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(B_),l.KVO(Te),l.KVO(fi),l.KVO(j_))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),z_=0,Wo=(()=>{class n{constructor(e,r,o,c,d,p,g,I,A,k,j,X){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=o,this._positionBuilder=c,this._keyboardDispatcher=d,this._injector=p,this._ngZone=g,this._document=I,this._directionality=A,this._location=k,this._outsideClickDispatcher=j,this._animationsModuleType=X}create(e){const r=this._createHostElement(),o=this._createPaneElement(r),c=this._createPortalOutlet(o),d=new oE(e);return d.direction=d.direction||this._directionality.value,new $_(c,r,o,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType,this._injector.get(l.uvJ))}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+z_++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.o8S)),new KT(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Rj),l.KVO(j_),l.KVO(l.OM3),l.KVO(fP),l.KVO(cP),l.KVO(l.zZn),l.KVO(l.SKi),l.KVO(Te),l.KVO(rc),l.KVO(Pn),l.KVO(Pj),l.KVO(l.bc$,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const pP=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],dA=new l.nKC("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Wo);return()=>n.scrollStrategies.reposition()}});let G_=(()=>{class n{constructor(e){this.elementRef=e}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0})}return n})(),hA=(()=>{class n{get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(e){this._disposeOnNavigation=e}constructor(e,r,o,c,d){this._overlay=e,this._dir=d,this._backdropSubscription=re.yU.EMPTY,this._attachSubscription=re.yU.EMPTY,this._detachSubscription=re.yU.EMPTY,this._positionSubscription=re.yU.EMPTY,this._disposeOnNavigation=!1,this._ngZone=(0,l.WQX)(l.SKi),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new l.bkB,this.positionChange=new l.bkB,this.attach=new l.bkB,this.detach=new l.bkB,this.overlayKeydown=new l.bkB,this.overlayOutsideClick=new l.bkB,this._templatePortal=new Mp(r,o),this._scrollStrategyFactory=c,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=pP);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),27===r.keyCode&&!this.disableClose&&!nc(r)&&(r.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{const o=this._getOriginElement(),c=ta(r);(!o||o!==c&&!o.contains(c))&&this.overlayOutsideClick.next(r)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),r=new oE({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||0===this.width)&&(r.width=this.width),(this.height||0===this.height)&&(r.height=this.height),(this.minWidth||0===this.minWidth)&&(r.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(e){const r=this.positions.map(o=>({originX:o.originX,originY:o.originY,overlayX:o.overlayX,overlayY:o.overlayY,offsetX:o.offsetX||this.offsetX,offsetY:o.offsetY||this.offsetY,panelClass:o.panelClass||void 0}));return e.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(e),e}_getOrigin(){return this.origin instanceof G_?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof G_?this.origin.elementRef.nativeElement:this.origin instanceof l.aKT?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function aA(n,t=!1){return(0,se.N)((e,r)=>{let o=0;e.subscribe((0,Qe._)(r,c=>{const d=n(c,o++);(d||t)&&r.next(c),!d&&r.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this._ngZone.run(()=>this.positionChange.emit(e)),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Wo),l.rXU(l.C4Q),l.rXU(l.c1b),l.rXU(dA),l.rXU(rc,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",l.L39],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",l.L39],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",l.L39],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",l.L39],push:[2,"cdkConnectedOverlayPush","push",l.L39],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",l.L39]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[l.GFd,l.OA$]})}return n})();const fA={provide:dA,deps:[Wo],useFactory:function mP(n){return()=>n.scrollStrategies.reposition()}};let cE=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[Wo,fA],imports:[ah,Yk,oP,oP]})}return n})();const _P=["mat-menu-item",""],Lj=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],pA=["mat-icon, [matMenuItemIcon]","*"];function mA(n,t){1&n&&(l.qSk(),l.j41(0,"svg",2),l.nrm(1,"polygon",3),l.k0s())}const Uu=["*"];function gA(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",0),l.bIt("keydown",function(o){l.eBV(e);const c=l.XpG();return l.Njj(c._handleKeydown(o))})("click",function(){l.eBV(e);const o=l.XpG();return l.Njj(o.closed.emit("click"))})("@transformMenu.start",function(o){l.eBV(e);const c=l.XpG();return l.Njj(c._onAnimationStart(o))})("@transformMenu.done",function(o){l.eBV(e);const c=l.XpG();return l.Njj(c._onAnimationDone(o))}),l.j41(1,"div",1),l.SdG(2),l.k0s()()}if(2&n){const e=l.XpG();l.HbH(e._classList),l.Y8G("id",e.panelId)("@transformMenu",e._panelAnimationState),l.BMQ("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const lE=new l.nKC("MAT_MENU_PANEL");let uE=(()=>{class n{constructor(e,r,o,c,d){this._elementRef=e,this._document=r,this._focusMonitor=o,this._parentMenu=c,this._changeDetectorRef=d,this.role="menuitem",this.disabled=!1,this.disableRipple=!1,this._hovered=new B.B,this._focused=new B.B,this._highlighted=!1,this._triggersSubmenu=!1,c?.addItem?.(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),r=e.querySelectorAll("mat-icon, .material-icons");for(let o=0;o<r.length;o++)r[o].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(e){this._triggersSubmenu=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(Te),l.rXU(Ia),l.rXU(lE,8),l.rXU(l.gRc))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(r,o){1&r&&l.bIt("click",function(d){return o._checkDisabled(d)})("mouseenter",function(){return o._handleMouseEnter()}),2&r&&(l.BMQ("role",o.role)("tabindex",o._getTabIndex())("aria-disabled",o.disabled)("disabled",o.disabled||null),l.AVh("mat-mdc-menu-item-highlighted",o._highlighted)("mat-mdc-menu-item-submenu-trigger",o._triggersSubmenu))},inputs:{role:"role",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39]},exportAs:["matMenuItem"],standalone:!0,features:[l.GFd,l.aNF],attrs:_P,ngContentSelectors:pA,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(r,o){1&r&&(l.NAR(Lj),l.SdG(0),l.j41(1,"span",0),l.SdG(2,1),l.k0s(),l.nrm(3,"div",1),l.DNE(4,mA,2,0,":svg:svg",2)),2&r&&(l.R7$(3),l.Y8G("matRippleDisabled",o.disableRipple||o.disabled)("matRippleTrigger",o._getHostElement()),l.R7$(),l.vxM(o._triggersSubmenu?4:-1))},dependencies:[dp],encapsulation:2,changeDetection:0})}return n})();const yA=new l.nKC("MatMenuContent"),K_={transformMenu:(0,En.hZ)("transformMenu",[(0,En.wk)("void",(0,En.iF)({opacity:0,transform:"scale(0.8)"})),(0,En.kY)("void => enter",(0,En.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,En.iF)({opacity:1,transform:"scale(1)"}))),(0,En.kY)("* => void",(0,En.i0)("100ms 25ms linear",(0,En.iF)({opacity:0})))]),fadeInItems:(0,En.hZ)("fadeInItems",[(0,En.wk)("showing",(0,En.iF)({opacity:1})),(0,En.kY)("void => *",[(0,En.iF)({opacity:0}),(0,En.i0)("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let vP=0;const yP=new l.nKC("mat-menu-default-options",{providedIn:"root",factory:function hE(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Pp=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}set panelClass(e){const r=this._previousPanelClass,o={...this._classList};r&&r.length&&r.split(" ").forEach(c=>{o[c]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(c=>{o[c]=!0}),this._elementRef.nativeElement.className=""),this._classList=o}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(e,r,o,c){this._elementRef=e,this._changeDetectorRef=c,this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._directDescendantItems=new l.rOR,this._classList={},this._panelAnimationState="void",this._animationDone=new B.B,this.closed=new l.bkB,this.close=this.closed,this.panelId="mat-menu-panel-"+vP++,this._injector=(0,l.WQX)(l.zZn),this.overlayPanelClass=o.overlayPanelClass||"",this._xPosition=o.xPosition,this._yPosition=o.yPosition,this.backdropClass=o.backdropClass,this.overlapTrigger=o.overlapTrigger,this.hasBackdrop=o.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new T1(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe((0,jo.Z)(this._directDescendantItems),hi(e=>(0,bi.h)(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const r=this._keyManager;if("enter"===this._panelAnimationState&&r.activeItem?._hasFocus()){const o=e.toArray(),c=Math.max(0,Math.min(o.length-1,r.activeItemIndex||0));o[c]&&!o[c].disabled?r.setActiveItem(c):r.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusRef?.destroy()}_hovered(){return this._directDescendantItems.changes.pipe((0,jo.Z)(this._directDescendantItems),hi(r=>(0,bi.h)(...r.map(o=>o._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,o=this._keyManager;switch(r){case 27:nc(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===r||40===r)&&o.setFocusOrigin("keyboard"),void o.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._firstItemFocusRef?.destroy(),this._firstItemFocusRef=(0,l.mal)(()=>{let r=null;if(this._directDescendantItems.length&&(r=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!r||!r.contains(document.activeElement)){const o=this._keyManager;o.setFocusOrigin(e).setFirstItemActive(),!o.activeItem&&r&&r.focus()}},{injector:this._injector})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){if(null===this._baseElevation){const p=("function"==typeof getComputedStyle?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mat-menu-base-elevation-level")||"8";this._baseElevation=parseInt(p)}const r=Math.min(this._baseElevation+e,24),o=`${this._elevationPrefix}${r}`,c=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));if(!c||c===this._previousElevation){const d={...this._classList};this._previousElevation&&(d[this._previousElevation]=!1),d[o]=!0,this._previousElevation=o,this._classList=d}}setPositionClasses(e=this.xPosition,r=this.yPosition){this._classList={...this._classList,"mat-menu-before":"before"===e,"mat-menu-after":"after"===e,"mat-menu-above":"above"===r,"mat-menu-below":"below"===r},this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe((0,jo.Z)(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(yP),l.rXU(l.gRc))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-menu"]],contentQueries:function(r,o,c){if(1&r&&(l.wni(c,yA,5),l.wni(c,uE,5),l.wni(c,uE,4)),2&r){let d;l.mGM(d=l.lsd())&&(o.lazyContent=d.first),l.mGM(d=l.lsd())&&(o._allItems=d),l.mGM(d=l.lsd())&&(o.items=d)}},viewQuery:function(r,o){if(1&r&&l.GBs(l.C4Q,5),2&r){let c;l.mGM(c=l.lsd())&&(o.templateRef=c.first)}},hostVars:3,hostBindings:function(r,o){2&r&&l.BMQ("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:[2,"overlapTrigger","overlapTrigger",l.L39],hasBackdrop:[2,"hasBackdrop","hasBackdrop",e=>null==e?null:(0,l.L39)(e)],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"},exportAs:["matMenu"],standalone:!0,features:[l.Jv_([{provide:lE,useExisting:n}]),l.GFd,l.aNF],ngContentSelectors:Uu,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"keydown","click","id"],[1,"mat-mdc-menu-content"]],template:function(r,o){1&r&&(l.NAR(),l.DNE(0,gA,3,7,"ng-template"))},styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;outline:0}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;flex:1;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.mat-mdc-menu-panel.ng-animating:has(.mat-mdc-menu-content:empty){display:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-panel .mat-divider{color:var(--mat-menu-divider-color);margin-bottom:var(--mat-menu-divider-bottom-spacing);margin-top:var(--mat-menu-divider-top-spacing)}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:var(--mat-menu-item-leading-spacing);padding-right:var(--mat-menu-item-trailing-spacing);-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;min-height:48px}[dir=rtl] .mat-mdc-menu-item{padding-right:var(--mat-menu-item-leading-spacing);padding-left:var(--mat-menu-item-trailing-spacing)}.mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-left:var(--mat-menu-item-with-icon-leading-spacing);padding-right:var(--mat-menu-item-with-icon-trailing-spacing)}[dir=rtl] .mat-mdc-menu-item:has(.material-icons,mat-icon,[matButtonIcon]){padding-right:var(--mat-menu-item-with-icon-leading-spacing);padding-left:var(--mat-menu-item-with-icon-trailing-spacing)}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item:focus{outline:0}.mat-mdc-menu-item .mat-icon{flex-shrink:0;margin-right:var(--mat-menu-item-spacing);height:var(--mat-menu-item-icon-size);width:var(--mat-menu-item-icon-size)}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:var(--mat-menu-item-spacing)}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{width:var(--mat-menu-item-icon-size);height:10px;fill:currentColor;padding-left:var(--mat-menu-item-spacing)}[dir=rtl] .mat-mdc-menu-submenu-icon{padding-right:var(--mat-menu-item-spacing);padding-left:0}[dir=rtl] .mat-mdc-menu-submenu-icon polygon{transform:scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[K_.transformMenu,K_.fadeInItems]},changeDetection:0})}return n})();const Da=new l.nKC("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Wo);return()=>n.scrollStrategies.reposition()}}),Ei={provide:Da,deps:[Wo],useFactory:function Np(n){return()=>n.scrollStrategies.reposition()}},Nl=Jd({passive:!0});let ra=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(e,r,o,c,d,p,g,I,A){this._overlay=e,this._element=r,this._viewContainerRef=o,this._menuItemInstance=p,this._dir=g,this._focusMonitor=I,this._ngZone=A,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=re.yU.EMPTY,this._hoverSubscription=re.yU.EMPTY,this._menuCloseSubscription=re.yU.EMPTY,this._changeDetectorRef=(0,l.WQX)(l.gRc),this._handleTouchStart=k=>{p0(k)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.bkB,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.bkB,this.onMenuClose=this.menuClosed,this._scrollStrategy=c,this._parentMaterialMenu=d instanceof Pp?d:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,Nl)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Nl),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const r=this._createOverlay(e),o=r.getConfig(),c=o.positionStrategy;this._setPosition(e,c),o.hasBackdrop=null==e.hasBackdrop?!this.triggersSubmenu():e.hasBackdrop,r.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Pp&&(e._startAnimation(),e._directDescendantItems.changes.pipe(xr(e.close)).subscribe(()=>{c.withLockedPosition(!1).reapplyLastPosition(),c.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof Pp?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe((0,jn.p)(o=>"void"===o.toState),Yr(1),xr(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let r=0,o=e.parentMenu;for(;o;)r++,o=o.parentMenu;e.setElevation(r)}}_setIsMenuOpen(e){e!==this._menuOpen&&(this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e),this._changeDetectorRef.markForCheck())}_createOverlay(e){if(!this._overlayRef){const r=this._getOverlayConfig(e);this._subscribeToPositions(e,r.positionStrategy),this._overlayRef=this._overlay.create(r),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new oE({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,r){e.setPositionClasses&&r.positionChanges.subscribe(o=>{const c="start"===o.connectionPair.overlayX?"after":"before",d="top"===o.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(c,d)):e.setPositionClasses(c,d)})}_setPosition(e,r){let[o,c]="before"===e.xPosition?["end","start"]:["start","end"],[d,p]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[g,I]=[d,p],[A,k]=[o,c],j=0;if(this.triggersSubmenu()){if(k=o="before"===e.xPosition?"start":"end",c=A="end"===o?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const X=this._parentMaterialMenu.items.first;this._parentInnerPadding=X?X._getHostElement().offsetTop:0}j="bottom"===d?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(g="top"===d?"bottom":"top",I="top"===p?"bottom":"top");r.withPositions([{originX:o,originY:g,overlayX:A,overlayY:d,offsetY:j},{originX:c,originY:g,overlayX:k,overlayY:d,offsetY:j},{originX:o,originY:I,overlayX:A,overlayY:p,offsetY:-j},{originX:c,originY:I,overlayX:k,overlayY:p,offsetY:-j}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),o=this._parentMaterialMenu?this._parentMaterialMenu.closed:Y(),c=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe((0,jn.p)(d=>d!==this._menuItemInstance),(0,jn.p)(()=>this._menuOpen)):Y();return(0,bi.h)(e,o,c,r)}_handleMousedown(e){f0(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe((0,jn.p)(e=>e===this._menuItemInstance&&!e.disabled),q0(0,F_)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Pp&&this.menu._isAnimating?this.menu._animationDone.pipe(Yr(1),q0(0,F_),xr(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Mp(e.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Wo),l.rXU(l.aKT),l.rXU(l.c1b),l.rXU(Da),l.rXU(lE,8),l.rXU(uE,10),l.rXU(rc,8),l.rXU(Ia),l.rXU(l.SKi))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],hostVars:3,hostBindings:function(r,o){1&r&&l.bIt("click",function(d){return o._handleClick(d)})("mousedown",function(d){return o._handleMousedown(d)})("keydown",function(d){return o._handleKeydown(d)}),2&r&&l.BMQ("aria-haspopup",o.menu?"menu":null)("aria-expanded",o.menuOpen)("aria-controls",o.menuOpen?o.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:[0,"mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:[0,"matMenuTriggerFor","menu"],menuData:[0,"matMenuTriggerData","menuData"],restoreFocus:[0,"matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"],standalone:!0})}return n})(),bh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[Ei],imports:[Vo,hp,Fr,cE,U_,Fr]})}return n})(),bP=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["main-bar"]],standalone:!0,features:[l.aNF],decls:15,vars:1,consts:[["menu","matMenu"],["routerLink","/game"],[1,"spacer"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item","","routerLink","/game"],["data-test-id","game-entry"],["mat-menu-item","","routerLink","/editor"],["data-test-id","editor-entry"]],template:function(r,o){if(1&r&&(l.j41(0,"mat-toolbar")(1,"span",1),l.EFF(2,"Empathy"),l.k0s(),l.nrm(3,"span",2),l.j41(4,"button",3)(5,"mat-icon"),l.EFF(6,"menu"),l.k0s()(),l.j41(7,"mat-menu",null,0)(9,"button",4)(10,"span",5),l.EFF(11,"Game"),l.k0s()(),l.j41(12,"button",6)(13,"span",7),l.EFF(14,"Editor"),l.k0s()()()()),2&r){const c=l.sdS(8);l.R7$(4),l.Y8G("matMenuTriggerFor",c)}},dependencies:[kc,tk,ek,Ml,_h,Uc,Hk,bh,Pp,uE,ra],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.mat-toolbar[_ngcontent-%COMP%]{background:var(--sys-background)}"]})}return n})(),Fp=(()=>{class n{constructor(){this.title="Empathy"}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-root"]],standalone:!0,features:[l.aNF],decls:3,vars:0,consts:[[1,"container"]],template:function(r,o){1&r&&(l.nrm(0,"main-bar"),l.j41(1,"div",0),l.nrm(2,"router-outlet"),l.k0s())},dependencies:[bP,gb],styles:[".container[_ngcontent-%COMP%] {margin:auto;width:85%}"]})}return n})(),EA=(()=>{class n{constructor(e,r,o,c,d){this.doc=e,this.delegate=r,this.zone=o,this.animationType=c,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=(0,l.WQX)(l.An2,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??R.e(8).then(R.bind(R,8008)).then(r=>r)).catch(r=>{throw new l.wOt(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:o})=>{this._engine=r(this.animationType,this.doc);const c=new o(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(e,r){const o=this.delegate.createRenderer(e,r);if(0===o.\u0275type)return o;"boolean"==typeof o.throwOnSyntheticProps&&(o.throwOnSyntheticProps=!1);const c=new wA(o);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{const p=d.createRenderer(e,r);c.use(p),this.scheduler?.notify(9)}).catch(d=>{c.use(o)}),c}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static#e=this.\u0275fac=function(r){l.QTQ()};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();class wA{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,null!==this.replay){for(const e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,r,o){this.delegate.insertBefore(t,e,r,o)}removeChild(t,e,r){this.delegate.removeChild(t,e,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,o){this.delegate.setAttribute(t,e,r,o)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,o){this.delegate.setStyle(t,e,r,o)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){this.shouldReplay(e)&&this.replay.push(o=>o.setProperty(t,e,r)),this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.shouldReplay(e)&&this.replay.push(o=>o.listen(t,e,r)),this.delegate.listen(t,e,r)}shouldReplay(t){return null!==this.replay&&t.startsWith("@")}}const wP=["*"],CP=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Ci=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"],Lp=new l.nKC("MAT_CARD_CONFIG");let oc=(()=>{class n{constructor(e){this.appearance=e?.appearance||"raised"}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Lp,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(r,o){2&r&&l.AVh("mat-mdc-card-outlined","outlined"===o.appearance)("mdc-card--outlined","outlined"===o.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[l.aNF],ngContentSelectors:wP,decls:1,vars:0,template:function(r,o){1&r&&(l.NAR(),l.SdG(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color);border-color:var(--mdc-elevated-card-container-color);border-radius:var(--mdc-elevated-card-container-shape);box-shadow:var(--mdc-elevated-card-container-elevation)}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color);border-radius:var(--mdc-outlined-card-container-shape);border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),Eh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"],standalone:!0})}return n})(),Fl=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"],standalone:!0})}return n})(),mE=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-subtitle"],["","mat-card-subtitle",""],["","matCardSubtitle",""]],hostAttrs:[1,"mat-mdc-card-subtitle"],standalone:!0})}return n})(),W_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[l.aNF],ngContentSelectors:Ci,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,o){1&r&&(l.NAR(CP),l.SdG(0),l.j41(1,"div",0),l.SdG(2,1),l.k0s(),l.SdG(3,2))},encapsulation:2,changeDetection:0})}return n})(),wh=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-card-footer"]],hostAttrs:[1,"mat-mdc-card-footer"],standalone:!0})}return n})(),q_=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Vo,Fr]})}return n})();var Or=function(n){return n.USER_STATE="user_state",n.STORIES="stories",n.CHAPTERS="chapters",n}(Or||{});const TP={user_state:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},chapters:{type:"array"}},required:["id","name"]}},stories:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},name:{type:"string"},languages:{type:"array"},description:{type:"string"}},required:["id","name","languages"]}},chapters:{schema:{version:0,primaryKey:"id",type:"object",properties:{id:{type:"string",maxLength:100},chapterNumber:{type:"number"},storyId:{type:"string"},name:{type:"string"},language:{type:"string"},is_premium:{type:"boolean"},author:{type:"string"},pages:{type:"array"},description:{type:"string"},empathyName:{type:"string"},sympathyName:{type:"string"}},required:["id","chapterNumber","storyId","name","language","empathyName","sympathyName"]}}},Bp={apiKey:"AIzaSyBnagIv1jnnkGEMASLY3bJIrc5Iuz-Syks",authDomain:"empathy-7224d.firebaseapp.com",projectId:"empathy-7224d",storageBucket:"empathy-7224d.appspot.com",messagingSenderId:"957387697152",appId:"1:957387697152:web:a2fd71b0ac7fc060703ce5",measurementId:"G-WBFW0YBS26"};var Up=R(5505);const ju=Symbol.for("Dexie"),jp=globalThis[ju]||(globalThis[ju]=Up);if(Up.semVer!==jp.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${Up.semVer} and ${jp.semVer}`);var yE=R(9403),qo=R(6434),zp=R(1744),ls=R(7176),oa=R(1885),bE="docs",X_="attachments",MA=new Map,Y_=new Map;function EE(){return(EE=(0,L.A)(function*(n){var t=yield n,r=Y_.get(n)-1;0===r?(t.dexieDb.close(),Y_.delete(n)):Y_.set(n,r)})).apply(this,arguments)}var wE="__";function Gp(n){var t=n.split(".");if(t.length>1)return t.map(r=>Gp(r)).join(".");if(n.startsWith("|")){var e=n.substring(1);return wE+e}return n}function RA(n){var t=n.split(".");return t.length>1?t.map(r=>RA(r)).join("."):n.startsWith(wE)?"|"+n.substring(wE.length):n}function NP(n,t){return t&&(t=CE(t=(0,qo.FD)(t)),n.forEach(e=>{var r=(0,zp.UU)(t,e);(0,zp.oq)(t,e,r?"1":"0")}),t)}function OA(n,t){return t&&(t=IE(t=(0,qo.FD)(t)),n.forEach(e=>{var r=(0,zp.UU)(t,e);(0,zp.oq)(t,e,"1"===r)}),t)}function CE(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>CE(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,r])=>{"object"==typeof r&&(r=CE(r)),t[Gp(e)]=r}),t}}function IE(n){if(!n||"string"==typeof n||"number"==typeof n||"boolean"==typeof n)return n;if(Array.isArray(n))return n.map(e=>IE(e));if("object"==typeof n){var t={};return Object.entries(n).forEach(([e,r])=>{("object"==typeof r||Array.isArray(n))&&(r=IE(r)),t[RA(e)]=r}),t}}function FP(n){var t=[],e=(0,oa.xQ)(n.primaryKey);t.push([e]),t.push(["_deleted",e]),n.indexes&&n.indexes.forEach(c=>{var d=(0,ls.$r)(c);t.push(d)}),t.push(["_meta.lwt",e]),t.push(["_meta.lwt"]);var r=(t=t.map(c=>c.map(d=>Gp(d)))).map(c=>1===c.length?c[0]:"["+c.join("+")+"]");return(r=r.filter((c,d,p)=>p.indexOf(c)===d)).join(", ")}function kA(n,t){return DE.apply(this,arguments)}function DE(){return(DE=(0,L.A)(function*(n,t){var e=yield n;return(yield e.dexieTable.bulkGet(t)).map(o=>OA(e.booleanIndexes,o))})).apply(this,arguments)}function Z_(n,t){return n+"||"+t}function PA(n){var t=new Set,e=[];return n.indexes?(n.indexes.forEach(r=>{(0,ls.$r)(r).forEach(c=>{t.has(c)||(t.add(c),"boolean"===(0,oa.nT)(n,c).type&&e.push(c))})}),e.push("_deleted"),(0,ls.jw)(e)):e}var $u=R(4552),Ta=R(7014),TE=R(6243),si=R(8663),AE=R(997),NA=R(5365);function SE(n){return n===AE.OK?-1/0:n}function xE(n,t,e){return n.includes(t)?e===AE.g0||!0===e?"1":"0":e}function Ih(n,t,e){if(!e){if(typeof window>"u")throw new Error("IDBKeyRange missing");e=window.IDBKeyRange}var r=t.startKeys.map((d,p)=>xE(n,t.index[p],d)).map(SE),o=t.endKeys.map((d,p)=>xE(n,t.index[p],d)).map(SE);return e.bound(r,o,!t.inclusiveStart,!t.inclusiveEnd)}function J_(n,t){return Ll.apply(this,arguments)}function Ll(){return Ll=(0,L.A)(function*(n,t){var e=yield n.internals,r=t.query,o=r.skip?r.skip:0,d=o+(r.limit?r.limit:1/0),p=t.queryPlan,g=!1;p.selectorSatisfiedByIndex||(g=(0,NA.Lr)(n.schema,t.query));var I=Ih(e.booleanIndexes,p,e.dexieDb._options.IDBKeyRange),A=p.index,k=[];if(yield e.dexieDb.transaction("r",e.dexieTable,function(){var X=(0,L.A)(function*(me){var bt,he=me.idbtrans.objectStore(bE);bt="["+A.map(Kt=>Gp(Kt)).join("+")+"]";var It=he.index(bt).openCursor(I);yield new Promise(Kt=>{It.onsuccess=function(yn){var un=yn.target.result;if(un){var Ue=OA(e.booleanIndexes,un.value);(!g||g(Ue))&&k.push(Ue),p.sortSatisfiedByIndex&&k.length===d?Kt():un.continue()}else Kt()}})});return function(me){return X.apply(this,arguments)}}()),!p.sortSatisfiedByIndex){var j=(0,NA.Xw)(n.schema,t.query);k=k.sort(j)}return{documents:k=k.slice(o,d)}}),Ll.apply(this,arguments)}function Vl(){return Vl=(0,L.A)(function*(n,t){var e=yield n.internals,r=t.queryPlan,o=r.index,c=Ih(e.booleanIndexes,r,e.dexieDb._options.IDBKeyRange),d=-1;return yield e.dexieDb.transaction("r",e.dexieTable,function(){var p=(0,L.A)(function*(g){var j,A=g.idbtrans.objectStore(bE);j="["+o.map(me=>Gp(me)).join("+")+"]";var X=A.index(j).count(c);d=yield new Promise((me,pe)=>{X.onsuccess=function(){me(X.result)},X.onerror=he=>pe(he)})});return function(g){return p.apply(this,arguments)}}()),d}),Vl.apply(this,arguments)}var ho=R(6893);const{isArray:Dh}=Array;Promise.resolve(!1);var Mh=Promise.resolve(!0),us=Promise.resolve();function sa(n,t){return n||(n=0),new Promise(function(e){return setTimeout(function(){return e(t)},n)})}function Rh(){return Math.random().toString(36).substring(2)}var ev=0;function Oh(){var n=1e3*Date.now();return n<=ev&&(n=ev+1),ev=n,n}var ME={create:function jA(n){var t={time:Oh(),messagesCallback:null,bc:new BroadcastChannel(n),subFns:[]};return t.bc.onmessage=function(e){t.messagesCallback&&t.messagesCallback(e.data)},t},close:function $A(n){n.bc.close(),n.subFns=[]},onMessage:function Bl(n,t){n.messagesCallback=t},postMessage:function tv(n,t){try{return n.bc.postMessage(t,!1),us}catch(e){return Promise.reject(e)}},canBeUsed:function LP(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&"function"==typeof BroadcastChannel){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}return!1},type:"native",averageResponseTime:function VP(){return 150},microSeconds:Oh},Ul=R(9556);function Wp(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=JSON.parse(JSON.stringify(n));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=45e3),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),n.idb&&"function"==typeof n.idb.onclose&&(t.idb.onclose=n.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=6e4),n.methods&&(t.methods=n.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=12e4),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var sc="messages",nv={durability:"relaxed"};function HA(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function qp(n){n.commit&&n.commit()}function OE(n){n.closed||KA(n).then(function(){return sa(n.options.idb.fallbackInterval)}).then(function(){return OE(n)})}function KA(n){return n.closed||!n.messagesCallback?us:function HP(n,t){var e=n.transaction(sc,"readonly",nv),r=e.objectStore(sc),o=[],c=IDBKeyRange.bound(t+1,1/0);if(r.getAll){var d=r.getAll(c);return new Promise(function(g,I){d.onerror=function(A){return I(A)},d.onsuccess=function(A){g(A.target.result)}})}return new Promise(function(g,I){var A=function p(){try{return c=IDBKeyRange.bound(t+1,1/0),r.openCursor(c)}catch{return r.openCursor()}}();A.onerror=function(k){return I(k)},A.onsuccess=function(k){var j=k.target.result;j?j.value.id<t+1?j.continue(t+1):(o.push(j.value),j.continue()):(qp(e),g(o))}})}(n.db,n.lastCursorId).then(function(t){var e=t.filter(function(r){return!!r}).map(function(r){return r.id>n.lastCursorId&&(n.lastCursorId=r.id),r}).filter(function(r){return function kh(n,t){return!(n.uuid===t.uuid||t.eMIs.has(n.id)||n.data.time<t.messagesCallbackTime)}(r,n)}).sort(function(r,o){return r.time-o.time});return e.forEach(function(r){n.messagesCallback&&(n.eMIs.add(r.id),n.messagesCallback(r.data))}),us})}var kE={create:function GA(n,t){return t=Wp(t),function jP(n){var r=HA().open("pubkey.broadcast-channel-0-"+n);return r.onupgradeneeded=function(o){o.target.result.createObjectStore(sc,{keyPath:"id",autoIncrement:!0})},new Promise(function(o,c){r.onerror=function(d){return c(d)},r.onsuccess=function(){o(r.result)}})}(n).then(function(e){var r={closed:!1,lastCursorId:0,channelName:n,options:t,uuid:Rh(),eMIs:new Ul.p4(2*t.idb.ttl),writeBlockPromise:us,messagesCallback:null,readQueuePromises:[],db:e};return e.onclose=function(){r.closed=!0,t.idb.onclose&&t.idb.onclose()},OE(r),r})},close:function KP(n){n.closed=!0,n.db.close()},onMessage:function WP(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t,KA(n)},postMessage:function WA(n,t){return n.writeBlockPromise=n.writeBlockPromise.then(function(){return function Bi(n,t,e){var o={uuid:t,time:Date.now(),data:e},c=n.transaction([sc],"readwrite",nv);return new Promise(function(d,p){c.oncomplete=function(){return d()},c.onerror=function(I){return p(I)},c.objectStore(sc).add(o),qp(c)})}(n.db,n.uuid,t)}).then(function(){0===function LA(n,t){return Math.floor(Math.random()*(t-n+1)+n)}(0,10)&&function GP(n){return function zA(n,t){var e=Date.now()-t,r=n.transaction(sc,"readonly",nv),o=r.objectStore(sc),c=[];return new Promise(function(d){o.openCursor().onsuccess=function(p){var g=p.target.result;if(g){var I=g.value;I.time<e?(c.push(I),g.continue()):(qp(r),d(c))}else d(c)}})}(n.db,n.options.idb.ttl).then(function(t){return function zP(n,t){if(n.closed)return Promise.resolve([]);var r=n.db.transaction(sc,"readwrite",nv).objectStore(sc);return Promise.all(t.map(function(o){var c=r.delete(o);return new Promise(function(d){c.onsuccess=function(){return d()}})}))}(n,t.map(function(e){return e.id}))})}(n)}),n.writeBlockPromise},canBeUsed:function qA(){return!!HA()},type:"idb",averageResponseTime:function zj(n){return 2*n.idb.fallbackInterval},microSeconds:Oh};function Aa(){var n;if(typeof window>"u")return null;try{n=window.localStorage,n=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return n}function XA(n){return"pubkey.broadcastChannel-"+n}function JA(){var n=Aa();if(!n)return!1;try{var t="__broadcastchannel_check";n.setItem(t,"works"),n.removeItem(t)}catch{return!1}return!0}var XP={create:function xa(n,t){if(t=Wp(t),!JA())throw new Error("BroadcastChannel: localstorage cannot be used");var e=Rh(),r=new Ul.p4(t.localstorage.removeTimeout),o={channelName:n,uuid:e,eMIs:r};return o.listener=function ac(n,t){var e=XA(n),r=function(c){c.key===e&&t(JSON.parse(c.newValue))};return window.addEventListener("storage",r),r}(n,function(c){o.messagesCallback&&c.uuid!==e&&(!c.token||r.has(c.token)||c.data.time&&c.data.time<o.messagesCallbackTime||(r.add(c.token),o.messagesCallback(c.data)))}),o},close:function YA(n){!function Sa(n){window.removeEventListener("storage",n)}(n.listener)},onMessage:function ZA(n,t,e){n.messagesCallbackTime=e,n.messagesCallback=t},postMessage:function QA(n,t){return new Promise(function(e){sa().then(function(){var r=XA(n.channelName),o={token:Rh(),time:Date.now(),data:t,uuid:n.uuid},c=JSON.stringify(o);Aa().setItem(r,c);var d=document.createEvent("Event");d.initEvent("storage",!0,!0),d.key=r,d.newValue=c,window.dispatchEvent(d),e()})})},canBeUsed:JA,type:"localstorage",averageResponseTime:function qP(){var t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?240:120},microSeconds:Oh},eS=Oh,Hu=new Set,ZP={create:function QP(n){var t={time:eS(),name:n,messagesCallback:null};return Hu.add(t),t},close:function tS(n){Hu.delete(n)},onMessage:function rS(n,t){n.messagesCallback=t},postMessage:function YP(n,t){return new Promise(function(e){return setTimeout(function(){Array.from(Hu).forEach(function(o){o.name===n.name&&o!==n&&o.messagesCallback&&o.time<t.time&&o.messagesCallback(t)}),e()},5)})},canBeUsed:function iS(){return!0},type:"simulate",averageResponseTime:function rv(){return 5},microSeconds:eS},VE=[ME,kE,XP],sS=new Set,JP=0,BE=function(t,e){this.id=JP++,sS.add(this),this.name=t,this.options=Wp(e),this.method=function oS(n){var t=[].concat(n.methods,VE).filter(Boolean);if(n.type){if("simulate"===n.type)return ZP;var e=t.find(function(o){return o.type===n.type});if(e)return e;throw new Error("method-type "+n.type+" not found")}n.webWorkerSupport||(t=t.filter(function(o){return"idb"!==o.type}));var r=t.find(function(o){return o.canBeUsed()});if(r)return r;throw new Error("No usable method found in "+JSON.stringify(VE.map(function(o){return o.type})))}(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,function eN(n){var t=n.method.create(n.name,n.options);!function xh(n){return n&&"function"==typeof n.then}(t)?n._state=t:(n._prepP=t,t.then(function(e){n._state=e}))}(this)};function aS(n,t,e){var o={time:n.method.microSeconds(),type:t,data:e};return(n._prepP?n._prepP:us).then(function(){var d=n.method.postMessage(n._state,o);return n._uMP.add(d),d.catch().then(function(){return n._uMP.delete(d)}),d})}function cS(n){return n._addEL.message.length>0||n._addEL.internal.length>0}function lS(n,t,e){n._addEL[t].push(e),function Wj(n){if(!n._iL&&cS(n)){var t=function(o){n._addEL[o.type].forEach(function(c){o.time>=c.time&&c.fn(o.data)})},e=n.method.microSeconds();n._prepP?n._prepP.then(function(){n._iL=!0,n.method.onMessage(n._state,t,e)}):(n._iL=!0,n.method.onMessage(n._state,t,e))}}(n)}function iv(n,t,e){n._addEL[t]=n._addEL[t].filter(function(r){return r!==e}),function tN(n){if(n._iL&&!cS(n)){n._iL=!1;var t=n.method.microSeconds();n.method.onMessage(n._state,null,t)}}(n)}BE._pubkey=!0,BE.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return aS(this,"message",t)},postInternal:function(t){return aS(this,"internal",t)},set onmessage(n){var e={time:this.method.microSeconds(),fn:n};iv(this,"message",this._onML),n&&"function"==typeof n?(this._onML=e,lS(this,"message",e)):this._onML=null},addEventListener:function(t,e){lS(this,t,{time:this.method.microSeconds(),fn:e})},removeEventListener:function(t,e){iv(this,t,this._addEL[t].find(function(o){return o.fn===e}))},close:function(){var t=this;if(!this.closed){sS.delete(this),this.closed=!0;var e=this._prepP?this._prepP:us;return this._onML=null,this._addEL.message=[],e.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(r){return r()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};var Ph=new Map;function jE(n,t,e,r){var o=Ph.get(t);return o||(o={bc:new BE(["RxDB:",n,e].join("|")),refs:new Set},Ph.set(t,o)),o.refs.add(r),o.bc}function ov(n,t){var e=Ph.get(n);if(e&&(e.refs.delete(t),0===e.refs.size))return Ph.delete(n),e.bc.close()}function uS(n,t,e,r){if(t.multiInstance){var o=r||jE(n,t.databaseInstanceToken,e.databaseName,e),c=new B.B,d=j=>{j.storageName===n&&j.databaseName===t.databaseName&&j.collectionName===t.collectionName&&j.version===t.schema.version&&c.next(j.eventBulk)};o.addEventListener("message",d);var p=e.changeStream(),g=!1,I=p.subscribe(j=>{g||o.postMessage({storageName:n,databaseName:t.databaseName,collectionName:t.collectionName,version:t.schema.version,eventBulk:j})});e.changeStream=function(){return c.asObservable().pipe(function Sh(...n){return function Ah(...n){const t=(0,Be.lI)(n),e=(0,Be.R0)(n,1/0);return n=function Th(n){return 1===n.length&&Dh(n[0])?n[0]:n}(n),(0,se.N)((r,o)=>{(0,Ad.U)(e)((0,Ve.H)([r,...n],t)).subscribe(o)})}(...n)}(p))};var A=e.close.bind(e);e.close=(0,L.A)(function*(){return g=!0,I.unsubscribe(),o.removeEventListener("message",d),r||(yield ov(t.databaseInstanceToken,e)),A()});var k=e.remove.bind(e);e.remove=(0,L.A)(function*(){return g=!0,I.unsubscribe(),o.removeEventListener("message",d),r||(yield ov(t.databaseInstanceToken,e)),k()})}}var Ma=R(7650),nN=(0,$u.t)(),sv=!1,rN=function(){function n(e,r,o,c,d,p,g,I){this.changes$=new B.B,this.instanceId=nN++,this.storage=e,this.databaseName=r,this.collectionName=o,this.schema=c,this.internals=d,this.options=p,this.settings=g,this.devMode=I,this.primaryPath=(0,oa.xQ)(this.schema.primaryKey)}var t=n.prototype;return t.bulkWrite=function(){var e=(0,L.A)(function*(o,c){var d=this;Nh(this),!sv&&(!Ta.P.premium||"string"!=typeof Ta.P.premium||(yield(0,TE.V0)(Ta.P.premium))!==Ta.Y)&&console.warn(["-------------- RxDB Open Core RxStorage -------------------------------","You are using the free Dexie.js based RxStorage implementation from RxDB https://rxdb.info/rx-storage-dexie.html?console=dexie ","While this is a great option, we want to let you know that there are faster storage solutions available in our premium plugins.","For professional users and production environments, we highly recommend considering these premium options to enhance performance and reliability."," https://rxdb.info/premium?console=dexie ","If you already purchased premium access you can disable this log by calling the setPremiumFlag() function from rxdb-premium/plugins/shared.","---------------------------------------------------------------------"].join("\n")),sv=!0,o.forEach(j=>{if(!j.document._rev||j.previous&&!j.previous._rev)throw(0,Ma.Br)("SNH",{args:{row:j}})});var p=yield this.internals,g={error:[]};this.devMode&&(o=o.map(j=>{var X=(0,ho.C9)(j.document);return{previous:j.previous,document:X}}));var A,I=o.map(j=>j.document[this.primaryPath]);if(yield p.dexieDb.transaction("rw",p.dexieTable,p.dexieAttachmentsTable,(0,L.A)(function*(){var j=new Map;(yield kA(d.internals,I)).forEach(he=>{var ft=he;return ft&&j.set(ft[d.primaryPath],ft),ft}),A=(0,ho.gi)(d,d.primaryPath,j,o,c),g.error=A.errors;var me=[];A.bulkInsertDocs.forEach(he=>{me.push(he.document)}),A.bulkUpdateDocs.forEach(he=>{me.push(he.document)}),(me=me.map(he=>NP(p.booleanIndexes,he))).length>0&&(yield p.dexieTable.bulkPut(me));var pe=[];A.attachmentsAdd.forEach(he=>{pe.push({id:Z_(he.documentId,he.attachmentId),data:he.attachmentData.data})}),A.attachmentsUpdate.forEach(he=>{pe.push({id:Z_(he.documentId,he.attachmentId),data:he.attachmentData.data})}),yield p.dexieAttachmentsTable.bulkPut(pe),yield p.dexieAttachmentsTable.bulkDelete(A.attachmentsRemove.map(he=>Z_(he.documentId,he.attachmentId)))})),(A=(0,si.ZN)(A)).eventBulk.events.length>0){var k=(0,si.ZN)(A.newestRow).document;A.eventBulk.checkpoint={id:k[this.primaryPath],lwt:k._meta.lwt},A.eventBulk.endTime=(0,$u.t)(),this.changes$.next(A.eventBulk)}return g});return function r(o,c){return e.apply(this,arguments)}}(),t.findDocumentsById=function(){var e=(0,L.A)(function*(o,c){var d=this;Nh(this);var p=yield this.internals,g=[];return yield p.dexieDb.transaction("r",p.dexieTable,(0,L.A)(function*(){(yield kA(d.internals,o)).forEach(A=>{A&&(!A._deleted||c)&&g.push(A)})})),g});return function r(o,c){return e.apply(this,arguments)}}(),t.query=function(r){return Nh(this),J_(this,r)},t.count=function(){var e=(0,L.A)(function*(o){if(o.queryPlan.selectorSatisfiedByIndex){var c=yield function FA(n,t){return Vl.apply(this,arguments)}(this,o);return{count:c,mode:"fast"}}return{count:(yield J_(this,o)).documents.length,mode:"slow"}});return function r(o){return e.apply(this,arguments)}}(),t.changeStream=function(){return Nh(this),this.changes$.asObservable()},t.cleanup=function(){var e=(0,L.A)(function*(o){var c=this;Nh(this);var d=yield this.internals;return yield d.dexieDb.transaction("rw",d.dexieTable,(0,L.A)(function*(){var p=(0,$u.t)()-o,g=yield d.dexieTable.where("_meta.lwt").below(p).toArray(),I=[];g.forEach(A=>{"1"===A._deleted&&I.push(A[c.primaryPath])}),yield d.dexieTable.bulkDelete(I)})),!0});return function r(o){return e.apply(this,arguments)}}(),t.getAttachmentData=function(){var e=(0,L.A)(function*(o,c,d){Nh(this);var p=yield this.internals,g=Z_(o,c);return yield p.dexieDb.transaction("r",p.dexieAttachmentsTable,(0,L.A)(function*(){var I=yield p.dexieAttachmentsTable.get(g);if(I)return I.data;throw new Error("attachment missing documentId: "+o+" attachmentId: "+c)}))});return function r(o,c,d){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,L.A)(function*(){Nh(this);var o=yield this.internals;return yield o.dexieTable.clear(),this.close()});return function r(){return e.apply(this,arguments)}}(),t.close=function(){var r=this;return this.closed||(this.closed=(0,L.A)(function*(){r.changes$.complete(),yield function PP(n){return EE.apply(this,arguments)}(r.internals)})()),this.closed},t.conflictResultionTasks=function(){return new B.B},t.resolveConflictResultionTask=function(){var e=(0,L.A)(function*(o){});return function r(o){return e.apply(this,arguments)}}(),n}();function av(){return(av=(0,L.A)(function*(n,t,e){var r=function kP(n,t,e,r){var o="rxdb-dexie-"+n+"--"+r.version+"--"+t,c=(0,yE.q)(MA,o,()=>{var d=(0,L.A)(function*(){var p=(0,qo.FD)(e);p.autoOpen=!1;var g=new jp(o,p),I={[bE]:FP(r),changes:"++sequence, id",[X_]:"id"};return g.version(1).stores(I),yield g.open(),{dexieDb:g,dexieTable:g[bE],dexieAttachmentsTable:g[X_],booleanIndexes:PA(r)}})();return MA.set(o,c),Y_.set(c,0),d});return c}(t.databaseName,t.collectionName,e,t.schema),o=new rN(n,t.databaseName,t.collectionName,t.schema,r,t.options,e,t.devMode);return yield uS("dexie",t,o),Promise.resolve(o)})).apply(this,arguments)}function Nh(n){if(n.closed)throw new Error("RxStorageInstanceDexie is closed "+n.databaseName+"-"+n.collectionName)}var qj=R(6052),oN=function(){function n(e){this.name="dexie",this.rxdbVersion=qj.o,this.settings=e}return n.prototype.createStorageInstance=function(r){return(0,ho.pZ)(r),function iN(n,t,e){return av.apply(this,arguments)}(this,r,this.settings)},n}();function dS(n={}){return new oN(n)}var cv=R(9182),sN=R(5908),aN=R(5672),$E=R(4395),hS=R(7396),Xp=R(3896),jl=R(2284),HE={RxSchema:cv.wJ.prototype,RxDocument:sN.ky,RxQuery:aN.Mh.prototype,RxCollection:$E.wm.prototype,RxDatabase:hS.lB.prototype},lv=new Set,fS=new Set;function uv(n){if((0,jl.Xi)("preAddRxPlugin",{plugin:n,plugins:lv}),!lv.has(n)){if(fS.has(n.name))throw(0,Ma.Br)("PL3",{name:n.name,plugin:n});if(lv.add(n),fS.add(n.name),!n.rxdb)throw(0,Ma.JX)("PL1",{plugin:n});n.init&&n.init(),n.prototypes&&Object.entries(n.prototypes).forEach(([t,e])=>e(HE[t])),n.overwritable&&Object.assign(Xp.h,n.overwritable),n.hooks&&Object.entries(n.hooks).forEach(([t,e])=>{e.after&&jl.r[t].push(e.after),e.before&&jl.r[t].unshift(e.before)})}}var zE={minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0},fo=R(5520),Qp=R(203),Fh=R(2060),$l=R(6568);function GE(n,t){return n.input.metaInstance.findDocumentsById(t.map(e=>(0,oa.U)(n.input.metaInstance.schema,{itemId:e,isCheckpoint:"0"})),!0).then(e=>{var r={};return Object.values(e).forEach(o=>{r[o.itemId]={docData:o.docData,metaDocument:o}}),r})}function Lh(n,t,e,r){return dv.apply(this,arguments)}function dv(){return(dv=(0,L.A)(function*(n,t,e,r){var o=t[n.primaryPath],c=e?(0,ho.C9)(e):{id:"",isCheckpoint:"0",itemId:o,docData:t,_attachments:{},_deleted:!1,_rev:(0,Fh.Fq)(),_meta:{lwt:0}};return c.docData=t,r&&(c.isResolvedConflict=r),c._meta.lwt=(0,$u.t)(),c.id=(0,oa.U)(n.input.metaInstance.schema,c),c._rev=(0,$l.CM)(yield n.checkpointKey,e),{previous:e,document:c}})).apply(this,arguments)}var cc=R(4843);function hv(n,t){return KE.apply(this,arguments)}function KE(){return(KE=(0,L.A)(function*(n,t){var e=(0,oa.U)(n.input.metaInstance.schema,{isCheckpoint:"1",itemId:t}),o=(yield n.input.metaInstance.findDocumentsById([e],!1))[0];if(n.lastCheckpointDoc[t]=o,o)return o.checkpointData})).apply(this,arguments)}function jc(n,t,e){return pS.apply(this,arguments)}function pS(){return(pS=(0,L.A)(function*(n,t,e){n.checkpointQueue=n.checkpointQueue.then((0,L.A)(function*(){var r=n.lastCheckpointDoc[t];if(e&&!n.events.canceled.getValue()&&(!r||JSON.stringify(r.checkpointData)!==JSON.stringify(e))){var o={id:"",isCheckpoint:"1",itemId:t,_deleted:!1,_attachments:{},checkpointData:e,_meta:(0,Fh.o4)(),_rev:(0,Fh.Fq)()};for(o.id=(0,oa.U)(n.input.metaInstance.schema,o);!n.events.canceled.getValue();){if(r&&(o.checkpointData=(0,ho.Mu)([r.checkpointData,o.checkpointData])),o._meta.lwt=(0,$u.t)(),o._rev=(0,$l.CM)(yield n.checkpointKey,r),n.events.canceled.getValue())return;var c=[{previous:r,document:o}],d=yield n.input.metaInstance.bulkWrite(c,"replication-set-checkpoint"),p=(0,ho.YN)(n.primaryPath,c,d)[0];if(p)return void(n.lastCheckpointDoc[t]=p);var g=d.error[0];if(409!==g.status)throw g;r=(0,si.ZN)(g.documentInDb),o._rev=(0,$l.CM)(yield n.checkpointKey,r)}}})),yield n.checkpointQueue})).apply(this,arguments)}function mS(){return(mS=(0,L.A)(function*(n){return"rx_storage_replication_"+(yield n.hashFunction([n.identifier,n.forkInstance.databaseName,n.forkInstance.collectionName].join("||")))})).apply(this,arguments)}function qE(n,t,e){var r=(0,qo.FD)(n);return t||delete r._attachments,e||(delete r._meta,delete r._rev),r}function gS(n,t){return n.hasAttachments?t.map(e=>{var r=(0,qo.o8)(e.document);return r.docData=(0,ho.on)(r.docData),{document:r,previous:e.previous}}):t}function zu(n){for(;;){if(!n.underlyingPersistentStorage)return n;n=n.underlyingPersistentStorage}}function XE(){return XE=(0,L.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.downstream&&((yield hv(n,"down"))||(yield jc(n,"down",n.input.initialCheckpoint.downstream)));var e=yield n.input.hashFunction(n.input.identifier),r=n.input.replicationHandler,o=0,c=[];function d(pe){n.stats.down.addNewTask=n.stats.down.addNewTask+1;var he={time:o++,task:pe};c.push(he),n.streamQueue.down=n.streamQueue.down.then(()=>{for(var ft=[];c.length>0;){n.events.active.down.next(!0);var bt=(0,si.ZN)(c.shift());if(!(bt.time<g)){if("RESYNC"===bt.task){if(0===ft.length){ft.push(bt.task);break}break}ft.push(bt.task)}}if(0!==ft.length)return"RESYNC"===ft[0]?function I(){return A.apply(this,arguments)}():function k(pe){n.stats.down.downstreamProcessChanges=n.stats.down.downstreamProcessChanges+1;var he=[],ft=null;return pe.forEach(bt=>{if("RESYNC"===bt)throw new Error("SNH");(0,ls.Hb)(he,bt.documents),ft=(0,ho.Mu)([ft,bt.checkpoint])}),me(he,(0,si.ZN)(ft))}(ft)}).then(()=>{n.events.active.down.next(!1),!n.firstSyncDone.down.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.down.next(!0)})}if(d("RESYNC"),!n.events.canceled.getValue()){var p=r.masterChangeStream$.pipe((0,Ti.Z)(function(){var pe=(0,L.A)(function*(he){return yield(0,cc._)(n.events.active.up.pipe((0,jn.p)(ft=>!ft))),he});return function(he){return pe.apply(this,arguments)}}())).subscribe(pe=>{n.stats.down.masterChangeStreamEmit=n.stats.down.masterChangeStreamEmit+1,d(pe)});(0,cc._)(n.events.canceled.pipe((0,jn.p)(pe=>!!pe))).then(()=>p.unsubscribe())}var g=-1;function A(){return(A=(0,L.A)(function*(){if(n.stats.down.downstreamResyncOnce=n.stats.down.downstreamResyncOnce+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>hv(n,"down"));for(var pe=yield n.checkpointQueue,he=[];!n.events.canceled.getValue();){g=o++;var ft=yield r.masterChangesSince(pe,n.input.pullBatchSize);if(0===ft.documents.length||(pe=(0,ho.Mu)([pe,ft.checkpoint]),he.push(me(ft.documents,pe)),ft.documents.length<n.input.pullBatchSize))break}yield Promise.all(he)}})).apply(this,arguments)}var j=fo.em,X={docs:{}};function me(pe,he){var ft=n.primaryPath;return n.stats.down.persistFromMaster=n.stats.down.persistFromMaster+1,pe.forEach(bt=>{X.docs[bt[ft]]=bt}),X.checkpoint=he,j=j.then(()=>{var bt=X.docs;X.docs={};var It=X.checkpoint,Kt=Object.keys(bt);if(n.events.canceled.getValue()||0===Kt.length)return fo.em;var yn=[],un={},Ue={},ue=[];return Promise.all([n.input.forkInstance.findDocumentsById(Kt,!0),GE(n,Kt)]).then(([Ie,je])=>{var We=new Map;return Ie.forEach(it=>We.set(it[ft],it)),Promise.all(Kt.map(function(){var it=(0,L.A)(function*(Ce){var hr=We.get(Ce),ms=hr?qE(hr,n.hasAttachments,!1):void 0,Qo=bt[Ce],Wi=je[Ce];Wi&&hr&&Wi.metaDocument.isResolvedConflict===hr._rev&&(yield n.streamQueue.up);var ei=!(!Wi||!ms)&&(yield n.input.conflictHandler({realMasterState:Wi.docData,newDocumentState:ms},"downstream-check-if-equal-0").then(ti=>ti.isEqual));if(!ei&&Wi&&Wi.docData._rev&&hr&&hr._meta[n.input.identifier]&&(0,$l.Wg)(hr._rev)===hr._meta[n.input.identifier]&&(ei=!0),hr&&Wi&&!1===ei||hr&&!Wi)return fo.em;var Oi=!!ms&&(yield n.input.conflictHandler({realMasterState:Qo,newDocumentState:ms},"downstream-check-if-equal-1").then(ti=>ti.isEqual));if(ms&&Oi)return(!Wi||!1===ei)&&ue.push(yield Lh(n,ms,Wi?Wi.metaDocument:void 0)),fo.em;var Po=Object.assign({},Qo,hr?{_meta:(0,qo.FD)(hr._meta),_attachments:n.hasAttachments&&Qo._attachments?Qo._attachments:{},_rev:(0,Fh.Fq)()}:{_meta:{lwt:(0,$u.t)()},_rev:(0,Fh.Fq)(),_attachments:n.hasAttachments&&Qo._attachments?Qo._attachments:{}});if(Qo._rev){var Os=hr?(0,$l.Wg)(hr._rev)+1:1;Po._meta[n.input.identifier]=Os,n.input.keepMeta&&(Po._rev=Qo._rev)}n.input.keepMeta&&Qo._meta&&(Po._meta=Qo._meta);var ur={previous:hr,document:Po};ur.document._rev=ur.document._rev?ur.document._rev:(0,$l.CM)(e,ur.previous),yn.push(ur),un[Ce]=ur,Ue[Ce]=yield Lh(n,Qo,Wi?Wi.metaDocument:void 0)});return function(Ce){return it.apply(this,arguments)}}()))}).then((0,L.A)(function*(){if(yn.length>0)return n.input.forkInstance.bulkWrite(yn,yield n.downstreamBulkWriteFlag).then(Ie=>{(0,ho.YN)(n.primaryPath,yn,Ie).forEach(We=>{var it=We[ft];n.events.processed.down.next(un[it]),ue.push(Ue[it])}),Ie.error.forEach(We=>{409!==We.status&&n.events.error.next((0,Ma.Br)("RC_PULL",{writeError:We}))})})})).then(()=>{if(ue.length>0)return n.input.metaInstance.bulkWrite(gS(n,ue),"replication-down-write-meta").then(Ie=>{Ie.error.forEach(je=>{n.events.error.next((0,Ma.Br)("RC_PULL",{id:je.documentId,writeError:je}))})})}).then(()=>{jc(n,"down",It)})}).catch(bt=>n.events.error.next(bt)),j}}),XE.apply(this,arguments)}var hN=R(327);function Vh(){return Vh=(0,L.A)(function*(n,t,e,r){if(!e._attachments||r&&!r._attachments)throw new Error("_attachments missing");var o=e[n],c=new Set(r&&r._attachments?Object.keys(r._attachments):[]);return yield Promise.all(Object.entries(e._attachments).map(function(){var d=(0,L.A)(function*([p,g]){if((!c.has(p)||r&&(0,si.ZN)(r._attachments)[p].digest!==g.digest)&&!g.data){var I=yield t.getAttachmentData(o,p,g.digest);g.data=I}});return function(p){return d.apply(this,arguments)}}())),e}),Vh.apply(this,arguments)}function pv(){return pv=(0,L.A)(function*(n){n.input.initialCheckpoint&&n.input.initialCheckpoint.upstream&&((yield hv(n,"up"))||(yield jc(n,"up",n.input.initialCheckpoint.upstream)));var e=n.input.replicationHandler;n.streamQueue.up=n.streamQueue.up.then(()=>I().then(()=>{k()}));var r=0,o=-1,c=[],d=fo.Dr,p={docs:{}},g=n.input.forkInstance.changeStream().subscribe(function(){var X=(0,L.A)(function*(me){if(me.context!==(yield n.downstreamBulkWriteFlag))return n.stats.up.forkChangeStreamEmit=n.stats.up.forkChangeStreamEmit+1,c.push({task:me,time:r++}),n.events.active.up.getValue()||n.events.active.up.next(!0),n.input.waitBeforePersist?n.input.waitBeforePersist().then(()=>k()):k()});return function(me){return X.apply(this,arguments)}}());function I(){return A.apply(this,arguments)}function A(){return A=(0,L.A)(function*(){if(n.stats.up.upstreamInitialSync=n.stats.up.upstreamInitialSync+1,!n.events.canceled.getValue()){n.checkpointQueue=n.checkpointQueue.then(()=>hv(n,"up"));for(var X=yield n.checkpointQueue,me=new Set,pe=function(){var bt=(0,L.A)(function*(){o=r++,me.size>3&&(yield Promise.race(Array.from(me)));var It=yield(0,ho.p0)(n.input.forkInstance,n.input.pushBatchSize,X);if(0===It.documents.length)return 1;X=(0,ho.Mu)([X,It.checkpoint]);var Kt=j(It.documents,(0,si.ZN)(X));me.add(Kt),Kt.catch().then(()=>me.delete(Kt))});return function(){return bt.apply(this,arguments)}}();!n.events.canceled.getValue()&&!(yield pe()););(yield Promise.all(me)).find(bt=>!!bt)?yield I():!n.firstSyncDone.up.getValue()&&!n.events.canceled.getValue()&&n.firstSyncDone.up.next(!0)}}),A.apply(this,arguments)}function k(){n.events.canceled.getValue()||0===c.length?n.events.active.up.next(!1):(n.stats.up.processTasks=n.stats.up.processTasks+1,n.events.active.up.next(!0),n.streamQueue.up=n.streamQueue.up.then(()=>{for(var X=[],me={};c.length>0;){var pe=(0,si.ZN)(c.shift());pe.time<o||((0,ls.Hb)(X,pe.task.events.map(ft=>ft.documentData)),me=(0,ho.Mu)([me,pe.task.checkpoint]))}return(0===X.length?fo.Dr:j(X,me)).then(()=>{0===c.length?n.events.active.up.next(!1):k()})}))}function j(X,me){return n.stats.up.persistToMaster=n.stats.up.persistToMaster+1,X.forEach(pe=>{p.docs[pe[n.primaryPath]]=pe}),p.checkpoint=me,d=d.then((0,L.A)(function*(){if(n.events.canceled.getValue())return!1;var pe=p.docs;p.docs={};var he=p.checkpoint,ft=Object.keys(pe);if(0===ft.length)return!1;var bt=yield GE(n,ft),It={},Kt=[],yn={},un={};if(yield Promise.all(ft.map(function(){var ei=(0,L.A)(function*(Oi){var Po=pe[Oi];un[Oi]=Po;var Os=qE(Po,n.hasAttachments,!!n.input.keepMeta),ur=bt[Oi];ur&&ur.metaDocument.isResolvedConflict!==Po._rev&&(yield n.input.conflictHandler({realMasterState:ur.docData,newDocumentState:Os},"upstream-check-if-equal")).isEqual||ur&&ur.docData._rev&&(0,$l.Wg)(Po._rev)===Po._meta[n.input.identifier]||(Kt.push(Oi),It[Oi]={assumedMasterState:ur?ur.docData:void 0,newDocumentState:Os},yn[Oi]=yield Lh(n,Os,ur?ur.metaDocument:void 0))});return function(Oi){return ei.apply(this,arguments)}}())),0===Kt.length)return!1;var Ue=Object.values(It),ue=new Set,Ie={},je=(0,ls.Aj)(Ue,n.input.pushBatchSize);yield Promise.all(je.map(function(){var ei=(0,L.A)(function*(Oi){n.hasAttachments&&(yield Promise.all(Oi.map(function(){var Os=(0,L.A)(function*(ur){ur.newDocumentState=yield function fv(n,t,e,r){return Vh.apply(this,arguments)}(n.primaryPath,n.input.forkInstance,(0,qo.o8)(ur.newDocumentState),ur.assumedMasterState)});return function(ur){return Os.apply(this,arguments)}}()))),(yield e.masterWrite(Oi)).forEach(Os=>{var ur=Os[n.primaryPath];ue.add(ur),Ie[ur]=Os})});return function(Oi){return ei.apply(this,arguments)}}()));var We=[];if(Kt.forEach(ei=>{ue.has(ei)||(n.events.processed.up.next(It[ei]),We.push(yn[ei]))}),n.events.canceled.getValue())return!1;We.length>0&&(yield n.input.metaInstance.bulkWrite(gS(n,We),"replication-up-write-meta"));var it=!1;if(ue.size>0){n.stats.up.persistToMasterHadConflicts=n.stats.up.persistToMasterHadConflicts+1;var Ce=[],hr={};if(yield Promise.all(Object.entries(Ie).map(([ei,Oi])=>{var Po=It[ei],Os={newDocumentState:Po.newDocumentState,assumedMasterState:Po.assumedMasterState,realMasterState:Oi};return(0,hN.r)(n,Os,un[ei]).then(function(){var ur=(0,L.A)(function*(ti){if(ti){n.events.resolvedConflicts.next({input:Os,output:ti.output}),Ce.push({previous:un[ei],document:ti.resolvedDoc});var xR=bt[ei];hr[ei]=yield Lh(n,(0,si.ZN)(Oi),xR?xR.metaDocument:void 0,ti.resolvedDoc._rev)}});return function(ti){return ur.apply(this,arguments)}}())})),Ce.length>0){it=!0,n.stats.up.persistToMasterConflictWrites=n.stats.up.persistToMasterConflictWrites+1;var ms=yield n.input.forkInstance.bulkWrite(Ce,"replication-up-write-conflict"),Qo=[];(0,ho.YN)(n.primaryPath,Ce,ms).forEach(ei=>{Qo.push(hr[ei[n.primaryPath]])}),Qo.length>0&&(yield n.input.metaInstance.bulkWrite(gS(n,Qo),"replication-up-write-conflict-meta"))}}return jc(n,"up",he),it})).catch(pe=>(n.events.error.next(pe),!1)),d}(0,cc._)(n.events.canceled.pipe((0,jn.p)(X=>!!X))).then(()=>g.unsubscribe())}),pv.apply(this,arguments)}function mv(n){return(0,cc._)(de([n.firstSyncDone.down.pipe((0,jn.p)(t=>!!t)),n.firstSyncDone.up.pipe((0,jn.p)(t=>!!t))])).then(()=>{})}function Bh(n){return Promise.all([n.streamQueue.up,n.streamQueue.down,n.checkpointQueue])}function Gu(){return(Gu=(0,L.A)(function*(n){n.events.canceled.next(!0),n.events.active.up.complete(),n.events.active.down.complete(),n.events.processed.up.complete(),n.events.processed.down.complete(),n.events.resolvedConflicts.complete(),n.events.canceled.complete(),yield n.checkpointQueue})).apply(this,arguments)}var yS=n=>Promise.resolve(n);function bS(n,t){return"_deleted"===n||((t=(0,qo.FD)(t))[n]=!!t._deleted,delete t._deleted),t}function YE(n,t,e){return e.map(r=>{var o=(0,qo.FD)(r);return"_deleted"!==t?(o._deleted=!!o[t],delete o[t]):o._deleted=!!o._deleted,o[n.schema.primaryPath]=(0,oa.U)(n.schema.jsonSchema,o),o})}function ZE(n,t){if(typeof window>"u"||"object"!=typeof window||typeof window.addEventListener>"u"||navigator.onLine)return n.promiseWait(t);var e,r=new Promise(o=>{e=()=>{window.removeEventListener("online",e),o()},window.addEventListener("online",e)});return Promise.race([r,n.promiseWait(t)]).then(()=>{window.removeEventListener("online",e)})}var JE=R(2104),_v=new WeakMap,ES=function(){function n(e,r,o,c,d,p,g,I){var A=this;this.subs=[],this.subjects={received:new B.B,sent:new B.B,error:new B.B,canceled:new xe.t(!1),active:new xe.t(!1)},this.received$=this.subjects.received.asObservable(),this.sent$=this.subjects.sent.asObservable(),this.error$=this.subjects.error.asObservable(),this.canceled$=this.subjects.canceled.asObservable(),this.active$=this.subjects.active.asObservable(),this.onCancel=[],this.callOnStart=void 0,this.remoteEvents$=new B.B,this.replicationIdentifier=e,this.collection=r,this.deletedField=o,this.pull=c,this.push=d,this.live=p,this.retryTime=g,this.autoStart=I,this.metaInfoPromise=(0,L.A)(function*(){var X="rx-replication-meta-"+(yield r.database.hashFunction([A.collection.name,A.replicationIdentifier].join("-"))),me=function lN(n,t){var e=(0,oa.Hq)(n),r={title:"RxReplicationProtocolMetaData",primaryKey:{key:"id",fields:["itemId","isCheckpoint"],separator:"|"},type:"object",version:n.version,additionalProperties:!1,properties:{id:{type:"string",minLength:1,maxLength:e+2},isCheckpoint:{type:"string",enum:["0","1"],minLength:1,maxLength:1},itemId:{type:"string",maxLength:e>4?e:4},checkpointData:{type:"object",additionalProperties:!0},docData:{type:"object",properties:n.properties},isResolvedConflict:{type:"string"}},keyCompression:n.keyCompression,required:["id","isCheckpoint","itemId"]};return t&&(r.encrypted=["docData"]),(0,oa.Ud)(r)}(A.collection.schema.jsonSchema,(0,ho.ME)(A.collection.schema.jsonSchema));return{collectionName:X,schema:me}})(),(0,yE.q)(_v,r,()=>[]).push(this),this.collection.onDestroy.push(()=>this.cancel()),Object.keys(this.subjects).forEach(X=>{Object.defineProperty(this,X+"$",{get:function(){return this.subjects[X].asObservable()}})});var j=new Promise(X=>{this.callOnStart=X});this.startPromise=j}var t=n.prototype;return t.start=function(){var e=(0,L.A)(function*(){var A,o=this;if(!this.isStopped()){var c=this.pull&&this.pull.modifier?this.pull.modifier:yS,d=this.push&&this.push.modifier?this.push.modifier:yS,p=this.collection.database,g=yield this.metaInfoPromise,[I]=yield Promise.all([this.collection.database.storage.createStorageInstance({databaseName:p.name,collectionName:g.collectionName,databaseInstanceToken:p.token,multiInstance:p.multiInstance,options:{},schema:g.schema,password:p.password,devMode:Xp.h.isDevMode()}),(0,JE.vV)(this.collection,g.collectionName,g.schema)]);this.metaInstance=I,this.internalReplicationState=function _S(n){(n=(0,qo.FD)(n)).forkInstance=zu(n.forkInstance),n.metaInstance=zu(n.metaInstance);var t=function WE(n){return mS.apply(this,arguments)}(n),e={primaryPath:(0,oa.xQ)(n.forkInstance.schema.primaryKey),hasAttachments:!!n.forkInstance.schema.attachments,input:n,checkpointKey:t,downstreamBulkWriteFlag:t.then(r=>"replication-downstream-"+r),events:{canceled:new xe.t(!1),active:{down:new xe.t(!0),up:new xe.t(!0)},processed:{down:new B.B,up:new B.B},resolvedConflicts:new B.B,error:new B.B},stats:{down:{addNewTask:0,downstreamProcessChanges:0,downstreamResyncOnce:0,masterChangeStreamEmit:0,persistFromMaster:0},up:{forkChangeStreamEmit:0,persistToMaster:0,persistToMasterConflictWrites:0,persistToMasterHadConflicts:0,processTasks:0,upstreamInitialSync:0}},firstSyncDone:{down:new xe.t(!1),up:new xe.t(!1)},streamQueue:{down:fo.em,up:fo.em},checkpointQueue:fo.em,lastCheckpointDoc:{}};return function dN(n){XE.apply(this,arguments)}(e),function ds(n){pv.apply(this,arguments)}(e),e}({pushBatchSize:this.push&&this.push.batchSize?this.push.batchSize:100,pullBatchSize:this.pull&&this.pull.batchSize?this.pull.batchSize:100,initialCheckpoint:{upstream:this.push?this.push.initialCheckpoint:void 0,downstream:this.pull?this.pull.initialCheckpoint:void 0},forkInstance:this.collection.storageInstance,metaInstance:this.metaInstance,hashFunction:p.hashFunction,identifier:"rxdbreplication"+this.replicationIdentifier,conflictHandler:this.collection.conflictHandler,replicationHandler:{masterChangeStream$:this.remoteEvents$.asObservable().pipe((0,jn.p)(A=>!!this.pull),(0,Ti.Z)(function(){var A=(0,L.A)(function*(k){if("RESYNC"===k)return k;var j=(0,qo.FD)(k);return j.documents=YE(o.collection,o.deletedField,j.documents),j.documents=yield Promise.all(j.documents.map(X=>c(X))),j});return function(k){return A.apply(this,arguments)}}())),masterChangesSince:(A=(0,L.A)(function*(k,j){if(!o.pull)return{checkpoint:null,documents:[]};for(var X=!1,me={};!X&&!o.isStopped();)try{me=yield o.pull.handler(k,j),X=!0}catch(ft){var pe=(0,Ma.Br)("RC_PULL",{checkpoint:k,errors:(0,ls.$r)(ft).map(bt=>(0,Qp.S)(bt)),direction:"pull"});o.subjects.error.next(pe),yield ZE(o.collection,(0,si.ZN)(o.retryTime))}if(o.isStopped())return{checkpoint:null,documents:[]};var he=(0,qo.FD)(me);return he.documents=YE(o.collection,o.deletedField,he.documents),he.documents=yield Promise.all(he.documents.map(ft=>c(ft))),he}),function(j,X){return A.apply(this,arguments)}),masterWrite:function(){var A=(0,L.A)(function*(k){if(!o.push)return[];var j=!1;yield(0,jl.FX)("preReplicationMasterWrite",{rows:k,collection:o.collection});var X=yield Promise.all(k.map(function(){var bt=(0,L.A)(function*(It){return It.newDocumentState=yield d(It.newDocumentState),null===It.newDocumentState?null:(It.assumedMasterState&&(It.assumedMasterState=yield d(It.assumedMasterState)),"_deleted"!==o.deletedField&&(It.newDocumentState=bS(o.deletedField,It.newDocumentState),It.assumedMasterState&&(It.assumedMasterState=bS(o.deletedField,It.assumedMasterState))),It)});return function(It){return bt.apply(this,arguments)}}())),me=X.filter(ls.S7),pe=null;for(0===me.length&&(j=!0,pe=[]);!j&&!o.isStopped();)try{if(pe=yield o.push.handler(me),!Array.isArray(pe))throw(0,Ma.Br)("RC_PUSH_NO_AR",{pushRows:k,direction:"push",args:{result:pe}});j=!0}catch(bt){var he=bt.rxdb?bt:(0,Ma.Br)("RC_PUSH",{pushRows:k,errors:(0,ls.$r)(bt).map(It=>(0,Qp.S)(It)),direction:"push"});o.subjects.error.next(he),yield ZE(o.collection,(0,si.ZN)(o.retryTime))}return o.isStopped()?[]:(yield(0,jl.FX)("preReplicationMasterWriteDocumentsHandle",{result:pe,collection:o.collection}),YE(o.collection,o.deletedField,(0,si.ZN)(pe)))});return function(j){return A.apply(this,arguments)}}()}}),this.subs.push(this.internalReplicationState.events.error.subscribe(A=>{this.subjects.error.next(A)}),this.internalReplicationState.events.processed.down.subscribe(A=>this.subjects.received.next(A.document)),this.internalReplicationState.events.processed.up.subscribe(A=>{this.subjects.sent.next(A.newDocumentState)}),de([this.internalReplicationState.events.active.down,this.internalReplicationState.events.active.up]).subscribe(([A,k])=>{this.subjects.active.next(A||k)})),this.pull&&this.pull.stream$&&this.live&&this.subs.push(this.pull.stream$.subscribe({next:A=>{this.remoteEvents$.next(A)},error:A=>{this.subjects.error.next(A)}})),this.live||(yield mv(this.internalReplicationState),yield Bh(this.internalReplicationState),yield this.cancel()),this.callOnStart()}});return function r(){return e.apply(this,arguments)}}(),t.isStopped=function(){return!!this.subjects.canceled.getValue()},t.awaitInitialReplication=function(){var e=(0,L.A)(function*(){return yield this.startPromise,mv((0,si.ZN)(this.internalReplicationState))});return function r(){return e.apply(this,arguments)}}(),t.awaitInSync=function(){var e=(0,L.A)(function*(){yield this.startPromise,yield mv((0,si.ZN)(this.internalReplicationState));for(var o=2;o>0;)o--,yield this.collection.database.requestIdlePromise(),yield Bh((0,si.ZN)(this.internalReplicationState));return!0});return function r(){return e.apply(this,arguments)}}(),t.reSync=function(){this.remoteEvents$.next("RESYNC")},t.emitEvent=function(r){this.remoteEvents$.next(r)},t.cancel=function(){var e=(0,L.A)(function*(){if(this.isStopped())return fo.Dr;var o=this.onCancel.map(c=>(0,fo.hq)(c()));return this.internalReplicationState&&(yield function vS(n){return Gu.apply(this,arguments)}(this.internalReplicationState)),this.metaInstance&&o.push((0,si.ZN)(this.internalReplicationState).checkpointQueue.then(()=>(0,si.ZN)(this.metaInstance).close())),this.subs.forEach(c=>c.unsubscribe()),this.subjects.canceled.next(!0),this.subjects.active.complete(),this.subjects.canceled.complete(),this.subjects.error.complete(),this.subjects.received.complete(),this.subjects.sent.complete(),Promise.all(o)});return function r(){return e.apply(this,arguments)}}(),t.remove=function(){var e=(0,L.A)(function*(){yield(0,si.ZN)(this.metaInstance).remove();var o=yield this.metaInfoPromise;yield this.cancel(),yield(0,JE.bD)(this.collection,o.collectionName,o.schema)});return function r(){return e.apply(this,arguments)}}(),n}();var CS=fo.Ms;function IS(){return IS=(0,L.A)(function*(n){var t=n.database,e=Object.assign({},zE,t.cleanupPolicy?t.cleanupPolicy:{});yield pN(n,e),!n.destroyed&&(yield Zp(n,e),yield function mN(n,t){return yv.apply(this,arguments)}(n,e))}),IS.apply(this,arguments)}function pN(n,t){return vv.apply(this,arguments)}function vv(){return(vv=(0,L.A)(function*(n,t){yield n.promiseWait(t.minimumCollectionAge),!n.destroyed&&t.waitForLeadership&&(yield n.database.waitForLeadership())})).apply(this,arguments)}function Zp(n,t){return ew.apply(this,arguments)}function ew(){return(ew=(0,L.A)(function*(n,t){for(var e=n.database,r=n.storageInstance,o=!1;!o&&!n.destroyed;){if(t.awaitReplicationsInSync){var c=_v.get(n);c&&(yield Promise.all(c.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(n.destroyed)return;CS=CS.then((0,L.A)(function*(){return!!n.destroyed||(yield e.requestIdlePromise(),r.cleanup(t.minimumDeletedTime))})),o=yield CS}})).apply(this,arguments)}function yv(){return(yv=(0,L.A)(function*(n,t){for(;!n.destroyed;){if(yield n.promiseWait(t.runEach),n.destroyed)return;yield Zp(n,t)}})).apply(this,arguments)}var Ku=fo.Ms;function tw(){return tw=(0,L.A)(function*(n){var t=n.collection,e=t.database,r=Object.assign({},zE,e.cleanupPolicy?e.cleanupPolicy:{});yield pN(t,r),!t.destroyed&&(yield DS(n,r),yield function Zj(n,t){return rw.apply(this,arguments)}(n,r))}),tw.apply(this,arguments)}function DS(n,t){return nw.apply(this,arguments)}function nw(){return(nw=(0,L.A)(function*(n,t){for(var e=n.collection,r=e.database,o=!1;!o&&!e.destroyed;){if(t.awaitReplicationsInSync){var c=_v.get(e);c&&(yield Promise.all(c.map(d=>{if(!d.isStopped())return d.awaitInSync()})))}if(e.destroyed)return;Ku=Ku.then((0,L.A)(function*(){return!!e.destroyed||(yield r.requestIdlePromise(),n._cleanup())})),o=yield Ku}})).apply(this,arguments)}function rw(){return(rw=(0,L.A)(function*(n,t){for(var e=n.collection;!e.destroyed;){if(yield e.promiseWait(t.runEach),e.destroyed)return;yield DS(n,t)}})).apply(this,arguments)}var TS={name:"cleanup",rxdb:!0,prototypes:{RxCollection:n=>{n.cleanup=function(){var t=(0,L.A)(function*(e){var r=Object.assign({},zE,this.database.cleanupPolicy?this.database.cleanupPolicy:{});typeof e>"u"&&(e=r.minimumDeletedTime);for(var o=!1;!o&&!this.destroyed;)o=yield this.storageInstance.cleanup(e)});return function(e){return t.apply(this,arguments)}}()}},hooks:{createRxCollection:{after:n=>{!function Yj(n){IS.apply(this,arguments)}(n.collection)}},createRxState:{after:n=>{!function gN(n){tw.apply(this,arguments)}(n.state)}}}},yN="[object process]"===Object.prototype.toString.call(typeof process<"u"?process:0)?function vN(n){process.on("exit",function(){return n()}),process.on("beforeExit",function(){return n().then(function(){return process.exit()})}),process.on("SIGINT",function(){return n().then(function(){return process.exit()})}),process.on("uncaughtException",function(t){return n().then(function(){console.trace(t),process.exit(101)})})}:function _N(n){if("function"==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){var t=self.close.bind(self);self.close=function(){return n(),t()}}else{if("function"!=typeof window.addEventListener)return;window.addEventListener("beforeunload",function(){n()},!0),window.addEventListener("unload",function(){n()},!0)}},Hl=new Set,iw=!1;function EN(){var n=[];return Hl.forEach(function(t){n.push(t()),Hl.delete(t)}),Promise.all(n)}function zl(n,t){return n.broadcastChannel.postInternal({context:"leader",action:t,token:n.token})}function ow(n){n.isLeader=!0,n._hasLeader=!0;var t=function AS(n){if(function bN(){iw||(iw=!0,yN(EN))}(),"function"!=typeof n)throw new Error("Listener is no function");return Hl.add(n),{remove:function(){return Hl.delete(n)},run:function(){return Hl.delete(n),n()}}}(function(){return n.die()});n._unl.push(t);var e=function(o){"leader"===o.context&&"apply"===o.action&&zl(n,"tell"),"leader"===o.context&&"tell"===o.action&&!n._dpLC&&(n._dpLC=!0,n._dpL(),zl(n,"tell"))};return n.broadcastChannel.addEventListener("internal",e),n._lstns.push(e),zl(n,"tell")}var xS=function(t,e){var r=this;this.broadcastChannel=t,t._befC.push(function(){return r.die()}),this._options=e,this.isLeader=!1,this.isDead=!1,this.token=Rh(),this._lstns=[],this._unl=[],this._dpL=function(){},this._dpLC=!1,this._wKMC={},this.lN="pubkey-bc||"+t.method.type+"||"+t.name};xS.prototype={hasLeader:function(){var t=this;return navigator.locks.query().then(function(e){var r=e.held?e.held.filter(function(o){return o.name===t.lN}):[];return!!(r&&r.length>0)})},awaitLeadership:function(){var t=this;if(!this._wLMP){this._wKMC.c=new AbortController;var e=new Promise(function(r,o){t._wKMC.res=r,t._wKMC.rej=o});this._wLMP=new Promise(function(r){navigator.locks.request(t.lN,{signal:t._wKMC.c.signal},function(){return t._wKMC.c=void 0,ow(t),r(),e}).catch(function(){})})}return this._wLMP},set onduplicate(n){},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this.isLeader=!1),this.isDead=!0,this._wKMC.res&&this._wKMC.res(),this._wKMC.c&&this._wKMC.c.abort("LeaderElectionWebLock.die() called"),zl(this,"death")}};var MS=function(t,e){var r=this;this.broadcastChannel=t,this._options=e,this.isLeader=!1,this._hasLeader=!1,this.isDead=!1,this.token=Rh(),this._aplQ=us,this._aplQC=0,this._unl=[],this._lstns=[],this._dpL=function(){},this._dpLC=!1;var o=function(d){"leader"===d.context&&("death"===d.action&&(r._hasLeader=!1),"tell"===d.action&&(r._hasLeader=!0))};this.broadcastChannel.addEventListener("internal",o),this._lstns.push(o)};MS.prototype={hasLeader:function(){return Promise.resolve(this._hasLeader)},applyOnce:function(t){var e=this;return this.isLeader?sa(0,!0):this.isDead?sa(0,!1):this._aplQC>1?this._aplQ:(this._aplQC=this._aplQC+1,this._aplQ=this._aplQ.then(function(){return function(){if(e.isLeader)return Mh;var d,c=!1,p=new Promise(function(A){d=function(){c=!0,A()}}),g=function(k){"leader"===k.context&&k.token!=e.token&&("apply"===k.action&&k.token>e.token&&d(),"tell"===k.action&&(d(),e._hasLeader=!0))};e.broadcastChannel.addEventListener("internal",g);var I=t?4*e._options.responseTime:e._options.responseTime;return zl(e,"apply").then(function(){return Promise.race([sa(I),p.then(function(){return Promise.reject(new Error)})])}).then(function(){return zl(e,"apply")}).then(function(){return Promise.race([sa(I),p.then(function(){return Promise.reject(new Error)})])}).catch(function(){}).then(function(){return e.broadcastChannel.removeEventListener("internal",g),!c&&ow(e).then(function(){return!0})})}()}).then(function(){e._aplQC=e._aplQC-1}),this._aplQ.then(function(){return e.isLeader}))},awaitLeadership:function(){return this._aLP||(this._aLP=function wN(n){return n.isLeader?us:new Promise(function(t){var e=!1;function r(){e||(e=!0,n.broadcastChannel.removeEventListener("internal",c),t(!0))}n.applyOnce().then(function(){n.isLeader&&r()}),function d(){return sa(n._options.fallbackInterval).then(function(){if(!n.isDead&&!e){if(!n.isLeader)return n.applyOnce(!0).then(function(){n.isLeader?r():d()});r()}})}();var c=function(p){"leader"===p.context&&"death"===p.action&&(n._hasLeader=!1,n.applyOnce().then(function(){n.isLeader&&r()}))};n.broadcastChannel.addEventListener("internal",c),n._lstns.push(c)})}(this)),this._aLP},set onduplicate(n){this._dpL=n},die:function(){var t=this;return this._lstns.forEach(function(e){return t.broadcastChannel.removeEventListener("internal",e)}),this._lstns=[],this._unl.forEach(function(e){return e.remove()}),this._unl=[],this.isLeader&&(this._hasLeader=!1,this.isLeader=!1),this.isDead=!0,zl(this,"death")}};var aw=new WeakMap,IN=new WeakMap;function RS(n){return(0,yE.q)(IN,n,()=>function CN(n,t){if(n._leaderElector)throw new Error("BroadcastChannel already has a leader-elector");t=function sw(n,t){return n||(n={}),(n=JSON.parse(JSON.stringify(n))).fallbackInterval||(n.fallbackInterval=3e3),n.responseTime||(n.responseTime=t.method.averageResponseTime(t.options)),n}(t,n);var e=function VA(){return typeof navigator<"u"&&typeof navigator.locks<"u"&&"function"==typeof navigator.locks.request}()?new xS(n,t):new MS(n,t);return n._befC.push(function(){return e.die()}),n._leaderElector=e,e}(n))}function DN(){var n=jE(this.storage.name,this.token,this.name,this),t=this.destroy.bind(this);this.destroy=function(){return ov(this.token,this),t()};var e=RS(n);return e||(e=RS(n),aw.set(this,e)),this.leaderElector=()=>e,e}function TN(){return!this.multiInstance||this.leaderElector().isLeader}function AN(){return this.multiInstance?this.leaderElector().awaitLeadership().then(()=>!0):fo.Ms}var cw={name:"leader-election",rxdb:!0,prototypes:{RxDatabase:n=>{n.leaderElector=DN,n.isLeader=TN,n.waitForLeadership=AN}},hooks:{preDestroyRxDatabase:{after:function SN(n){var t=aw.get(n);t&&t.die()}}}};const kS={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};var bv,PS=new Uint8Array(16);function RN(){if(!bv&&!(bv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bv(PS)}for(var po=[],Ev=0;Ev<256;++Ev)po.push((Ev+256).toString(16).slice(1));const lw=function kN(n,t,e){if(kS.randomUUID&&!t&&!n)return kS.randomUUID();var r=(n=n||{}).random||(n.rng||RN)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){e=e||0;for(var o=0;o<16;++o)t[e+o]=r[o];return t}return function wv(n,t=0){return(po[n[t+0]]+po[n[t+1]]+po[n[t+2]]+po[n[t+3]]+"-"+po[n[t+4]]+po[n[t+5]]+"-"+po[n[t+6]]+po[n[t+7]]+"-"+po[n[t+8]]+po[n[t+9]]+"-"+po[n[t+10]]+po[n[t+11]]+po[n[t+12]]+po[n[t+13]]+po[n[t+14]]+po[n[t+15]]).toLowerCase()}(r)},uw=function(n){const t=[];let e=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?t[e++]=o:o<2048?(t[e++]=o>>6|192,t[e++]=63&o|128):55296==(64512&o)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&n.charCodeAt(++r)),t[e++]=o>>18|240,t[e++]=o>>12&63|128,t[e++]=o>>6&63|128,t[e++]=63&o|128):(t[e++]=o>>12|224,t[e++]=o>>6&63|128,t[e++]=63&o|128)}return t},dw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const c=n[o],d=o+1<n.length,p=d?n[o+1]:0,g=o+2<n.length,I=g?n[o+2]:0;let j=(15&p)<<2|I>>6,X=63&I;g||(X=64,d||(j=64)),r.push(e[c>>2],e[(3&c)<<4|p>>4],e[j],e[X])}return r.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(uw(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):function(n){const t=[];let e=0,r=0;for(;e<n.length;){const o=n[e++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[e++];t[r++]=String.fromCharCode((31&o)<<6|63&c)}else if(o>239&&o<365){const g=((7&o)<<18|(63&n[e++])<<12|(63&n[e++])<<6|63&n[e++])-65536;t[r++]=String.fromCharCode(55296+(g>>10)),t[r++]=String.fromCharCode(56320+(1023&g))}else{const c=n[e++],d=n[e++];t[r++]=String.fromCharCode((15&o)<<12|(63&c)<<6|63&d)}}return t.join("")}(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const c=e[n.charAt(o++)],p=o<n.length?e[n.charAt(o)]:0;++o;const I=o<n.length?e[n.charAt(o)]:64;++o;const k=o<n.length?e[n.charAt(o)]:64;if(++o,null==c||null==p||null==I||null==k)throw new LS;r.push(c<<2|p>>4),64!==I&&(r.push(p<<4&240|I>>2),64!==k&&r.push(I<<6&192|k))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class LS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const em=function(n){return function(n){const t=uw(n);return dw.encodeByteArray(t,!0)}(n).replace(/\./g,"")},nm=()=>{try{return function BS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&function(n){try{return dw.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null}(n[1]);return t&&JSON.parse(t)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},fw=()=>{var n;return null===(n=nm())||void 0===n?void 0:n.config};class pw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,r)=>{e?this.reject(e):this.resolve(r),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,r))}}}class Wu extends Error{constructor(t,e,r){super(e),this.code=t,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Wu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gw.prototype.create)}}class gw{constructor(t,e,r){this.service=t,this.serviceName=e,this.errors=r}create(t,...e){const r=e[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?function QS(n,t){return n.replace(YS,(e,r)=>{const o=t[r];return null!=o?String(o):`<${r}?>`})}(c,r):"Error";return new Wu(o,`${this.serviceName}: ${d} (${o}).`,r)}}const YS=/\{\$([^}]+)}/g;function Uh(n,t){if(n===t)return!0;const e=Object.keys(n),r=Object.keys(t);for(const o of e){if(!r.includes(o))return!1;const c=n[o],d=t[o];if(yw(c)&&yw(d)){if(!Uh(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!e.includes(o))return!1;return!0}function yw(n){return null!==n&&"object"==typeof n}function Mo(n){return n&&n._delegate?n._delegate:n}class Iv{constructor(t,e,r){this.name=t,this.instanceFactory=e,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qu="[DEFAULT]";class cx{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const r=new pw;if(this.instancesDeferred.set(e,r),this.isInitialized(e)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:e});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const r=this.normalizeInstanceIdentifier(t?.identifier),o=null!==(e=t?.optional)&&void 0!==e&&e;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function ux(n){return"EAGER"===n.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:qu})}catch{}for(const[e,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(e);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(t=qu){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){var t=this;return(0,L.A)(function*(){const e=Array.from(t.instances.values());yield Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(t=qu){return this.instances.has(t)}getOptions(t=qu){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:e});for(const[c,d]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(c)&&d.resolve(o);return o}onInit(t,e){var r;const o=this.normalizeInstanceIdentifier(e),c=null!==(r=this.onInitCallbacks.get(o))&&void 0!==r?r:new Set;c.add(t),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&t(d,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,e){const r=this.onInitCallbacks.get(e);if(r)for(const o of r)try{o(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=t,n===qu?void 0:n),options:e}),this.instances.set(t,r),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(t=qu){return this.component?this.component.multipleInstances?t:qu:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class JN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new cx(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const ww=[];var ir=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ir||{});const dx={debug:ir.DEBUG,verbose:ir.VERBOSE,info:ir.INFO,warn:ir.WARN,error:ir.ERROR,silent:ir.SILENT},eF=ir.INFO,tF={[ir.DEBUG]:"log",[ir.VERBOSE]:"log",[ir.INFO]:"info",[ir.WARN]:"warn",[ir.ERROR]:"error"},nF=(n,t,...e)=>{if(t<n.logLevel)return;const r=(new Date).toISOString(),o=tF[t];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[o](`[${r}]  ${n.name}:`,...e)};class hx{constructor(t){this.name=t,this._logLevel=eF,this._logHandler=nF,this._userLogHandler=null,ww.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ir))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?dx[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ir.DEBUG,...t),this._logHandler(this,ir.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ir.VERBOSE,...t),this._logHandler(this,ir.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ir.INFO,...t),this._logHandler(this,ir.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ir.WARN,...t),this._logHandler(this,ir.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ir.ERROR,...t),this._logHandler(this,ir.ERROR,...t)}}const fx=(n,t)=>t.some(e=>n instanceof e);let Cw,Iw;const gx=new WeakMap,_x=new WeakMap,iF=new WeakMap,Tv=new WeakMap,Dw=new WeakMap;let Tw={get(n,t,e){if(n instanceof IDBTransaction){if("done"===t)return _x.get(n);if("objectStoreNames"===t)return n.objectStoreNames||iF.get(n);if("store"===t)return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Gl(n[t])},set:(n,t,e)=>(n[t]=e,!0),has:(n,t)=>n instanceof IDBTransaction&&("done"===t||"store"===t)||t in n};function aF(n){return"function"==typeof n?function vx(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mx(){return Iw||(Iw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...t){return n.apply(mo(this),t),Gl(gx.get(this))}:function(...t){return Gl(n.apply(mo(this),t))}:function(t,...e){const r=n.call(mo(this),t,...e);return iF.set(r,t.sort?t.sort():[t]),Gl(r)}}(n):(n instanceof IDBTransaction&&function sF(n){if(_x.has(n))return;const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{e(),o()},d=()=>{r(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});_x.set(n,t)}(n),fx(n,function px(){return Cw||(Cw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,Tw):n)}function Gl(n){if(n instanceof IDBRequest)return function oF(n){const t=new Promise((e,r)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{e(Gl(n.result)),o()},d=()=>{r(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",d)});return t.then(e=>{e instanceof IDBCursor&&gx.set(e,n)}).catch(()=>{}),Dw.set(t,n),t}(n);if(Tv.has(n))return Tv.get(n);const t=aF(n);return t!==n&&(Tv.set(n,t),Dw.set(t,n)),t}const mo=n=>Dw.get(n),cF=["get","getKey","getAll","getAllKeys","count"],_$=["put","add","delete","clear"],yx=new Map;function $h(n,t){if(!(n instanceof IDBDatabase)||t in n||"string"!=typeof t)return;if(yx.get(t))return yx.get(t);const e=t.replace(/FromIndex$/,""),r=t!==e,o=_$.includes(e);if(!(e in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!cF.includes(e))return;const c=function(){var d=(0,L.A)(function*(p,...g){const I=this.transaction(p,o?"readwrite":"readonly");let A=I.store;return r&&(A=A.index(g.shift())),(yield Promise.all([A[e](...g),o&&I.done]))[0]});return function(g){return d.apply(this,arguments)}}();return yx.set(t,c),c}!function om(n){Tw=n(Tw)}(n=>({...n,get:(t,e,r)=>$h(t,e)||n.get(t,e,r),has:(t,e)=>!!$h(t,e)||n.has(t,e)}));class lF{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function Aw(n){const t=n.getComponent();return"VERSION"===t?.type}(e)){const r=e.getImmediate();return`${r.library}/${r.version}`}return null}).filter(e=>e).join(" ")}}const Av="@firebase/app",Xu=new hx("@firebase/app"),sm="[DEFAULT]",EF={[Av]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Kl=new Map,zh=new Map,Gh=new Map;function Rw(n,t){try{n.container.addComponent(t)}catch(e){Xu.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Mv(n){const t=n.name;if(Gh.has(t))return Xu.debug(`There were multiple attempts to register component ${t}.`),!1;Gh.set(t,n);for(const e of Kl.values())Rw(e,n);for(const e of zh.values())Rw(e,n);return!0}const Ra=new gw("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class IF{constructor(t,e,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Iv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ra.create("app-deleted",{appName:this._name})}}function Ow(n,t={}){let e=n;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:sm,automaticDataCollectionEnabled:!1},t),o=r.name;if("string"!=typeof o||!o)throw Ra.create("bad-app-name",{appName:String(o)});if(e||(e=fw()),!e)throw Ra.create("no-options");const c=Kl.get(o);if(c){if(Uh(e,c.options)&&Uh(r,c.config))return c;throw Ra.create("duplicate-app",{appName:o})}const d=new JN(o);for(const g of Gh.values())d.addComponent(g);const p=new IF(e,r,d);return Kl.set(o,p),p}function lc(n,t,e){var r;let o=null!==(r=EF[n])&&void 0!==r?r:n;e&&(o+=`-${e}`);const c=o.match(/\s|\//),d=t.match(/\s|\//);if(c||d){const p=[`Unable to register library "${o}" with version "${t}":`];return c&&p.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&p.push("and"),d&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Xu.warn(p.join(" "))}Mv(new Iv(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}const AF="firebase-heartbeat-database",SF=1,am="firebase-heartbeat-store";let kw=null;function Sx(){return kw||(kw=function jh(n,t,{blocked:e,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(n,t),p=Gl(d);return r&&d.addEventListener("upgradeneeded",g=>{r(Gl(d.result),g.oldVersion,g.newVersion,Gl(d.transaction),g)}),e&&d.addEventListener("blocked",g=>e(g.oldVersion,g.newVersion,g)),p.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",I=>o(I.oldVersion,I.newVersion,I))}).catch(()=>{}),p}(AF,SF,{upgrade:(n,t)=>{if(0===t)try{n.createObjectStore(am)}catch(e){console.warn(e)}}}).catch(n=>{throw Ra.create("idb-open",{originalErrorMessage:n.message})})),kw}function Pw(){return(Pw=(0,L.A)(function*(n){try{const e=(yield Sx()).transaction(am),r=yield e.objectStore(am).get(Rx(n));return yield e.done,r}catch(t){if(t instanceof Wu)Xu.warn(t.message);else{const e=Ra.create("idb-get",{originalErrorMessage:t?.message});Xu.warn(e.message)}}})).apply(this,arguments)}function Mx(n,t){return Nw.apply(this,arguments)}function Nw(){return(Nw=(0,L.A)(function*(n,t){try{const r=(yield Sx()).transaction(am,"readwrite");yield r.objectStore(am).put(t,Rx(n)),yield r.done}catch(e){if(e instanceof Wu)Xu.warn(e.message);else{const r=Ra.create("idb-set",{originalErrorMessage:e?.message});Xu.warn(r.message)}}})).apply(this,arguments)}function Rx(n){return`${n.name}!${n.options.appId}`}class RF{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new kF(e),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var t=this;return(0,L.A)(function*(){var e,r;const c=t.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),d=Ox();if((null!=(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(t._heartbeatsCache=yield t._heartbeatsCachePromise,null!=(null===(r=t._heartbeatsCache)||void 0===r?void 0:r.heartbeats)))&&t._heartbeatsCache.lastSentHeartbeatDate!==d&&!t._heartbeatsCache.heartbeats.some(p=>p.date===d))return t._heartbeatsCache.heartbeats.push({date:d,agent:c}),t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter(p=>{const g=new Date(p.date).valueOf();return Date.now()-g<=2592e6}),t._storage.overwrite(t._heartbeatsCache)})()}getHeartbeatsHeader(){var t=this;return(0,L.A)(function*(){var e;if(null===t._heartbeatsCache&&(yield t._heartbeatsCachePromise),null==(null===(e=t._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===t._heartbeatsCache.heartbeats.length)return"";const r=Ox(),{heartbeatsToSend:o,unsentEntries:c}=function OF(n,t=1024){const e=[];let r=n.slice();for(const o of n){const c=e.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),kx(e)>t){c.dates.pop();break}}else if(e.push({agent:o.agent,dates:[o.date]}),kx(e)>t){e.pop();break}r=r.slice(1)}return{heartbeatsToSend:e,unsentEntries:r}}(t._heartbeatsCache.heartbeats),d=em(JSON.stringify({version:2,heartbeats:o}));return t._heartbeatsCache.lastSentHeartbeatDate=r,c.length>0?(t._heartbeatsCache.heartbeats=c,yield t._storage.overwrite(t._heartbeatsCache)):(t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache)),d})()}}function Ox(){return(new Date).toISOString().substring(0,10)}class kF{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,L.A)(function*(){return!!function mw(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function qS(){return new Promise((n,t)=>{try{let e=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),e||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{e=!1},o.onerror=()=>{var c;t((null===(c=o.error)||void 0===c?void 0:c.message)||"")}}catch(e){t(e)}})}().then(()=>!0).catch(()=>!1)})()}read(){var t=this;return(0,L.A)(function*(){if(yield t._canUseIndexedDBPromise){const r=yield function xx(n){return Pw.apply(this,arguments)}(t.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(t){var e=this;return(0,L.A)(function*(){var r;if(yield e._canUseIndexedDBPromise){const c=yield e.read();return Mx(e.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:t.heartbeats})}})()}add(t){var e=this;return(0,L.A)(function*(){var r;if(yield e._canUseIndexedDBPromise){const c=yield e.read();return Mx(e.app,{lastSentHeartbeatDate:null!==(r=t.lastSentHeartbeatDate)&&void 0!==r?r:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...t.heartbeats]})}})()}}function kx(n){return em(JSON.stringify({version:2,heartbeats:n})).length}!function PF(n){Mv(new Iv("platform-logger",t=>new lF(t),"PRIVATE")),Mv(new Iv("heartbeat",t=>new RF(t),"PRIVATE")),lc(Av,"0.10.7",n),lc(Av,"0.10.7","esm2017"),lc("fire-js","")}(""),lc("firebase","10.12.4","app");var Yu,Fw,Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Nx={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function o(Ue,ue,Ie){Ie||(Ie=0);var je=Array(16);if("string"==typeof ue)for(var We=0;16>We;++We)je[We]=ue.charCodeAt(Ie++)|ue.charCodeAt(Ie++)<<8|ue.charCodeAt(Ie++)<<16|ue.charCodeAt(Ie++)<<24;else for(We=0;16>We;++We)je[We]=ue[Ie++]|ue[Ie++]<<8|ue[Ie++]<<16|ue[Ie++]<<24;var it=Ue.g[3],Ce=(ue=Ue.g[0])+(it^(Ie=Ue.g[1])&((We=Ue.g[2])^it))+je[0]+3614090360&4294967295;Ce=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=(Ie=(We=(it=(ue=Ie+(Ce<<7&4294967295|Ce>>>25))+((Ce=it+(We^ue&(Ie^We))+je[1]+3905402710&4294967295)<<12&4294967295|Ce>>>20))+((Ce=We+(Ie^it&(ue^Ie))+je[2]+606105819&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ie+(ue^We&(it^ue))+je[3]+3250441966&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(it^Ie&(We^it))+je[4]+4118548399&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(We^ue&(Ie^We))+je[5]+1200080426&4294967295)<<12&4294967295|Ce>>>20))+((Ce=We+(Ie^it&(ue^Ie))+je[6]+2821735955&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ie+(ue^We&(it^ue))+je[7]+4249261313&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(it^Ie&(We^it))+je[8]+1770035416&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(We^ue&(Ie^We))+je[9]+2336552879&4294967295)<<12&4294967295|Ce>>>20))+((Ce=We+(Ie^it&(ue^Ie))+je[10]+4294925233&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ie+(ue^We&(it^ue))+je[11]+2304563134&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(it^Ie&(We^it))+je[12]+1804603682&4294967295)<<7&4294967295|Ce>>>25))+((Ce=it+(We^ue&(Ie^We))+je[13]+4254626195&4294967295)<<12&4294967295|Ce>>>20))+((Ce=We+(Ie^it&(ue^Ie))+je[14]+2792965006&4294967295)<<17&4294967295|Ce>>>15))+((Ce=Ie+(ue^We&(it^ue))+je[15]+1236535329&4294967295)<<22&4294967295|Ce>>>10))+((Ce=ue+(We^it&(Ie^We))+je[1]+4129170786&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(Ie^We&(ue^Ie))+je[6]+3225465664&4294967295)<<9&4294967295|Ce>>>23))+((Ce=We+(ue^Ie&(it^ue))+je[11]+643717713&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ie+(it^ue&(We^it))+je[0]+3921069994&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(We^it&(Ie^We))+je[5]+3593408605&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(Ie^We&(ue^Ie))+je[10]+38016083&4294967295)<<9&4294967295|Ce>>>23))+((Ce=We+(ue^Ie&(it^ue))+je[15]+3634488961&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ie+(it^ue&(We^it))+je[4]+3889429448&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(We^it&(Ie^We))+je[9]+568446438&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(Ie^We&(ue^Ie))+je[14]+3275163606&4294967295)<<9&4294967295|Ce>>>23))+((Ce=We+(ue^Ie&(it^ue))+je[3]+4107603335&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ie+(it^ue&(We^it))+je[8]+1163531501&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(We^it&(Ie^We))+je[13]+2850285829&4294967295)<<5&4294967295|Ce>>>27))+((Ce=it+(Ie^We&(ue^Ie))+je[2]+4243563512&4294967295)<<9&4294967295|Ce>>>23))+((Ce=We+(ue^Ie&(it^ue))+je[7]+1735328473&4294967295)<<14&4294967295|Ce>>>18))+((Ce=Ie+(it^ue&(We^it))+je[12]+2368359562&4294967295)<<20&4294967295|Ce>>>12))+((Ce=ue+(Ie^We^it)+je[5]+4294588738&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(ue^Ie^We)+je[8]+2272392833&4294967295)<<11&4294967295|Ce>>>21))+((Ce=We+(it^ue^Ie)+je[11]+1839030562&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ie+(We^it^ue)+je[14]+4259657740&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(Ie^We^it)+je[1]+2763975236&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(ue^Ie^We)+je[4]+1272893353&4294967295)<<11&4294967295|Ce>>>21))+((Ce=We+(it^ue^Ie)+je[7]+4139469664&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ie+(We^it^ue)+je[10]+3200236656&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(Ie^We^it)+je[13]+681279174&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(ue^Ie^We)+je[0]+3936430074&4294967295)<<11&4294967295|Ce>>>21))+((Ce=We+(it^ue^Ie)+je[3]+3572445317&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ie+(We^it^ue)+je[6]+76029189&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(Ie^We^it)+je[9]+3654602809&4294967295)<<4&4294967295|Ce>>>28))+((Ce=it+(ue^Ie^We)+je[12]+3873151461&4294967295)<<11&4294967295|Ce>>>21))+((Ce=We+(it^ue^Ie)+je[15]+530742520&4294967295)<<16&4294967295|Ce>>>16))+((Ce=Ie+(We^it^ue)+je[2]+3299628645&4294967295)<<23&4294967295|Ce>>>9))+((Ce=ue+(We^(Ie|~it))+je[0]+4096336452&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(Ie^(ue|~We))+je[7]+1126891415&4294967295)<<10&4294967295|Ce>>>22))+((Ce=We+(ue^(it|~Ie))+je[14]+2878612391&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ie+(it^(We|~ue))+je[5]+4237533241&4294967295)<<21&4294967295|Ce>>>11))+((Ce=ue+(We^(Ie|~it))+je[12]+1700485571&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(Ie^(ue|~We))+je[3]+2399980690&4294967295)<<10&4294967295|Ce>>>22))+((Ce=We+(ue^(it|~Ie))+je[10]+4293915773&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ie+(it^(We|~ue))+je[1]+2240044497&4294967295)<<21&4294967295|Ce>>>11))+((Ce=ue+(We^(Ie|~it))+je[8]+1873313359&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(Ie^(ue|~We))+je[15]+4264355552&4294967295)<<10&4294967295|Ce>>>22))+((Ce=We+(ue^(it|~Ie))+je[6]+2734768916&4294967295)<<15&4294967295|Ce>>>17))+((Ce=Ie+(it^(We|~ue))+je[13]+1309151649&4294967295)<<21&4294967295|Ce>>>11))+((it=(ue=Ie+((Ce=ue+(We^(Ie|~it))+je[4]+4149444226&4294967295)<<6&4294967295|Ce>>>26))+((Ce=it+(Ie^(ue|~We))+je[11]+3174756917&4294967295)<<10&4294967295|Ce>>>22))^((We=it+((Ce=We+(ue^(it|~Ie))+je[2]+718787259&4294967295)<<15&4294967295|Ce>>>17))|~ue))+je[9]+3951481745&4294967295,Ue.g[0]=Ue.g[0]+ue&4294967295,Ue.g[1]=Ue.g[1]+(We+(Ce<<21&4294967295|Ce>>>11))&4294967295,Ue.g[2]=Ue.g[2]+We&4294967295,Ue.g[3]=Ue.g[3]+it&4294967295}function d(Ue,ue){this.h=ue;for(var Ie=[],je=!0,We=Ue.length-1;0<=We;We--){var it=0|Ue[We];je&&it==ue||(Ie[We]=it,je=!1)}this.g=Ie}(function t(Ue,ue){function Ie(){}Ie.prototype=ue.prototype,Ue.D=ue.prototype,Ue.prototype=new Ie,Ue.prototype.constructor=Ue,Ue.C=function(je,We,it){for(var Ce=Array(arguments.length-2),hr=2;hr<arguments.length;hr++)Ce[hr-2]=arguments[hr];return ue.prototype[We].apply(je,Ce)}})(r,function e(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(Ue,ue){void 0===ue&&(ue=Ue.length);for(var Ie=ue-this.blockSize,je=this.B,We=this.h,it=0;it<ue;){if(0==We)for(;it<=Ie;)o(this,Ue,it),it+=this.blockSize;if("string"==typeof Ue){for(;it<ue;)if(je[We++]=Ue.charCodeAt(it++),We==this.blockSize){o(this,je),We=0;break}}else for(;it<ue;)if(je[We++]=Ue[it++],We==this.blockSize){o(this,je),We=0;break}}this.h=We,this.o+=ue},r.prototype.v=function(){var Ue=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);Ue[0]=128;for(var ue=1;ue<Ue.length-8;++ue)Ue[ue]=0;var Ie=8*this.o;for(ue=Ue.length-8;ue<Ue.length;++ue)Ue[ue]=255&Ie,Ie/=256;for(this.u(Ue),Ue=Array(16),ue=Ie=0;4>ue;++ue)for(var je=0;32>je;je+=8)Ue[Ie++]=this.g[ue]>>>je&255;return Ue};var p={};function g(Ue){return-128<=Ue&&128>Ue?function c(Ue,ue){var Ie=p;return Object.prototype.hasOwnProperty.call(Ie,Ue)?Ie[Ue]:Ie[Ue]=ue(Ue)}(Ue,function(ue){return new d([0|ue],0>ue?-1:0)}):new d([0|Ue],0>Ue?-1:0)}function I(Ue){if(isNaN(Ue)||!isFinite(Ue))return k;if(0>Ue)return he(I(-Ue));for(var ue=[],Ie=1,je=0;Ue>=Ie;je++)ue[je]=Ue/Ie|0,Ie*=4294967296;return new d(ue,0)}var k=g(0),j=g(1),X=g(16777216);function me(Ue){if(0!=Ue.h)return!1;for(var ue=0;ue<Ue.g.length;ue++)if(0!=Ue.g[ue])return!1;return!0}function pe(Ue){return-1==Ue.h}function he(Ue){for(var ue=Ue.g.length,Ie=[],je=0;je<ue;je++)Ie[je]=~Ue.g[je];return new d(Ie,~Ue.h).add(j)}function ft(Ue,ue){return Ue.add(he(ue))}function bt(Ue,ue){for(;(65535&Ue[ue])!=Ue[ue];)Ue[ue+1]+=Ue[ue]>>>16,Ue[ue]&=65535,ue++}function It(Ue,ue){this.g=Ue,this.h=ue}function Kt(Ue,ue){if(me(ue))throw Error("division by zero");if(me(Ue))return new It(k,k);if(pe(Ue))return ue=Kt(he(Ue),ue),new It(he(ue.g),he(ue.h));if(pe(ue))return ue=Kt(Ue,he(ue)),new It(he(ue.g),ue.h);if(30<Ue.g.length){if(pe(Ue)||pe(ue))throw Error("slowDivide_ only works with positive integers.");for(var Ie=j,je=ue;0>=je.l(Ue);)Ie=yn(Ie),je=yn(je);var We=un(Ie,1),it=un(je,1);for(je=un(je,2),Ie=un(Ie,2);!me(je);){var Ce=it.add(je);0>=Ce.l(Ue)&&(We=We.add(Ie),it=Ce),je=un(je,1),Ie=un(Ie,1)}return ue=ft(Ue,We.j(ue)),new It(We,ue)}for(We=k;0<=Ue.l(ue);){for(Ie=Math.max(1,Math.floor(Ue.m()/ue.m())),je=48>=(je=Math.ceil(Math.log(Ie)/Math.LN2))?1:Math.pow(2,je-48),Ce=(it=I(Ie)).j(ue);pe(Ce)||0<Ce.l(Ue);)Ce=(it=I(Ie-=je)).j(ue);me(it)&&(it=j),We=We.add(it),Ue=ft(Ue,Ce)}return new It(We,Ue)}function yn(Ue){for(var ue=Ue.g.length+1,Ie=[],je=0;je<ue;je++)Ie[je]=Ue.i(je)<<1|Ue.i(je-1)>>>31;return new d(Ie,Ue.h)}function un(Ue,ue){var Ie=ue>>5;ue%=32;for(var je=Ue.g.length-Ie,We=[],it=0;it<je;it++)We[it]=0<ue?Ue.i(it+Ie)>>>ue|Ue.i(it+Ie+1)<<32-ue:Ue.i(it+Ie);return new d(We,Ue.h)}(n=d.prototype).m=function(){if(pe(this))return-he(this).m();for(var Ue=0,ue=1,Ie=0;Ie<this.g.length;Ie++){var je=this.i(Ie);Ue+=(0<=je?je:4294967296+je)*ue,ue*=4294967296}return Ue},n.toString=function(Ue){if(2>(Ue=Ue||10)||36<Ue)throw Error("radix out of range: "+Ue);if(me(this))return"0";if(pe(this))return"-"+he(this).toString(Ue);for(var ue=I(Math.pow(Ue,6)),Ie=this,je="";;){var We=Kt(Ie,ue).g,it=((0<(Ie=ft(Ie,We.j(ue))).g.length?Ie.g[0]:Ie.h)>>>0).toString(Ue);if(me(Ie=We))return it+je;for(;6>it.length;)it="0"+it;je=it+je}},n.i=function(Ue){return 0>Ue?0:Ue<this.g.length?this.g[Ue]:this.h},n.l=function(Ue){return pe(Ue=ft(this,Ue))?-1:me(Ue)?0:1},n.abs=function(){return pe(this)?he(this):this},n.add=function(Ue){for(var ue=Math.max(this.g.length,Ue.g.length),Ie=[],je=0,We=0;We<=ue;We++){var it=je+(65535&this.i(We))+(65535&Ue.i(We)),Ce=(it>>>16)+(this.i(We)>>>16)+(Ue.i(We)>>>16);je=Ce>>>16,Ie[We]=(Ce&=65535)<<16|(it&=65535)}return new d(Ie,-2147483648&Ie[Ie.length-1]?-1:0)},n.j=function(Ue){if(me(this)||me(Ue))return k;if(pe(this))return pe(Ue)?he(this).j(he(Ue)):he(he(this).j(Ue));if(pe(Ue))return he(this.j(he(Ue)));if(0>this.l(X)&&0>Ue.l(X))return I(this.m()*Ue.m());for(var ue=this.g.length+Ue.g.length,Ie=[],je=0;je<2*ue;je++)Ie[je]=0;for(je=0;je<this.g.length;je++)for(var We=0;We<Ue.g.length;We++){var it=this.i(je)>>>16,Ce=65535&this.i(je),hr=Ue.i(We)>>>16,ms=65535&Ue.i(We);Ie[2*je+2*We]+=Ce*ms,bt(Ie,2*je+2*We),Ie[2*je+2*We+1]+=it*ms,bt(Ie,2*je+2*We+1),Ie[2*je+2*We+1]+=Ce*hr,bt(Ie,2*je+2*We+1),Ie[2*je+2*We+2]+=it*hr,bt(Ie,2*je+2*We+2)}for(je=0;je<ue;je++)Ie[je]=Ie[2*je+1]<<16|Ie[2*je];for(je=ue;je<2*ue;je++)Ie[je]=0;return new d(Ie,0)},n.A=function(Ue){return Kt(this,Ue).h},n.and=function(Ue){for(var ue=Math.max(this.g.length,Ue.g.length),Ie=[],je=0;je<ue;je++)Ie[je]=this.i(je)&Ue.i(je);return new d(Ie,this.h&Ue.h)},n.or=function(Ue){for(var ue=Math.max(this.g.length,Ue.g.length),Ie=[],je=0;je<ue;je++)Ie[je]=this.i(je)|Ue.i(je);return new d(Ie,this.h|Ue.h)},n.xor=function(Ue){for(var ue=Math.max(this.g.length,Ue.g.length),Ie=[],je=0;je<ue;je++)Ie[je]=this.i(je)^Ue.i(je);return new d(Ie,this.h^Ue.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Fw=Nx.Md5=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=I,d.fromString=function A(Ue,ue){if(0==Ue.length)throw Error("number format error: empty string");if(2>(ue=ue||10)||36<ue)throw Error("radix out of range: "+ue);if("-"==Ue.charAt(0))return he(A(Ue.substring(1),ue));if(0<=Ue.indexOf("-"))throw Error('number format error: interior "-" character');for(var Ie=I(Math.pow(ue,8)),je=k,We=0;We<Ue.length;We+=8){var it=Math.min(8,Ue.length-We),Ce=parseInt(Ue.substring(We,We+it),ue);8>it?(it=I(Math.pow(ue,it)),je=je.j(it).add(I(Ce))):je=(je=je.j(Ie)).add(I(Ce))}return je},Yu=Nx.Integer=d}).apply(typeof Rv<"u"?Rv:typeof self<"u"?self:typeof window<"u"?window:{});var FF,Fx,Kh,Lw,kv,Pv,Lx,Nv,Fv,Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},uc={};(function(){var n,t="function"==typeof Object.defineProperties?Object.defineProperty:function(_,x,F){return _==Array.prototype||_==Object.prototype||(_[x]=F.value),_},r=function e(_){_=["object"==typeof globalThis&&globalThis,_,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ov&&Ov];for(var x=0;x<_.length;++x){var F=_[x];if(F&&F.Math==Math)return F}throw Error("Cannot find global object")}(this);!function o(_,x){if(x)e:{var F=r;_=_.split(".");for(var W=0;W<_.length-1;W++){var at=_[W];if(!(at in F))break e;F=F[at]}(x=x(W=F[_=_[_.length-1]]))!=W&&null!=x&&t(F,_,{configurable:!0,writable:!0,value:x})}}("Array.prototype.values",function(_){return _||function(){return function c(_,x){_ instanceof String&&(_+="");var F=0,W=!1,at={next:function(){if(!W&&F<_.length){var gt=F++;return{value:x(gt,_[gt]),done:!1}}return W=!0,{done:!0,value:void 0}}};return at[Symbol.iterator]=function(){return at},at}(this,function(x,F){return F})}});var d=d||{},p=this||self;function g(_){var x=typeof _;return"array"==(x="object"!=x?x:_?Array.isArray(_)?"array":x:"null")||"object"==x&&"number"==typeof _.length}function I(_){var x=typeof _;return"object"==x&&null!=_||"function"==x}function A(_,x,F){return _.call.apply(_.bind,arguments)}function k(_,x,F){if(!_)throw Error();if(2<arguments.length){var W=Array.prototype.slice.call(arguments,2);return function(){var at=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(at,W),_.apply(x,at)}}return function(){return _.apply(x,arguments)}}function j(_,x,F){return(j=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?A:k).apply(null,arguments)}function X(_,x){var F=Array.prototype.slice.call(arguments,1);return function(){var W=F.slice();return W.push.apply(W,arguments),_.apply(this,W)}}function me(_,x){function F(){}F.prototype=x.prototype,_.aa=x.prototype,_.prototype=new F,_.prototype.constructor=_,_.Qb=function(W,at,gt){for(var Qt=Array(arguments.length-2),qr=2;qr<arguments.length;qr++)Qt[qr-2]=arguments[qr];return x.prototype[at].apply(W,Qt)}}function pe(_){const x=_.length;if(0<x){const F=Array(x);for(let W=0;W<x;W++)F[W]=_[W];return F}return[]}function he(_,x){for(let F=1;F<arguments.length;F++){const W=arguments[F];if(g(W)){const at=_.length||0,gt=W.length||0;_.length=at+gt;for(let Qt=0;Qt<gt;Qt++)_[at+Qt]=W[Qt]}else _.push(W)}}function bt(_){return/^[\s\xa0]*$/.test(_)}function It(){var _=p.navigator;return _&&(_=_.userAgent)?_:""}function Kt(_){return Kt[" "](_),_}Kt[" "]=function(){};var yn=!(-1==It().indexOf("Gecko")||-1!=It().toLowerCase().indexOf("webkit")&&-1==It().indexOf("Edge")||-1!=It().indexOf("Trident")||-1!=It().indexOf("MSIE")||-1!=It().indexOf("Edge"));function un(_,x,F){for(const W in _)x.call(F,_[W],W,_)}function ue(_){const x={};for(const F in _)x[F]=_[F];return x}const Ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function je(_,x){let F,W;for(let at=1;at<arguments.length;at++){for(F in W=arguments[at],W)_[F]=W[F];for(let gt=0;gt<Ie.length;gt++)F=Ie[gt],Object.prototype.hasOwnProperty.call(W,F)&&(_[F]=W[F])}}function We(_){var x=1;_=_.split(":");const F=[];for(;0<x&&_.length;)F.push(_.shift()),x--;return _.length&&F.push(_.join(":")),F}function it(_){p.setTimeout(()=>{throw _},0)}function Ce(){var _=Oi;let x=null;return _.g&&(x=_.g,_.g=_.g.next,_.g||(_.h=null),x.next=null),x}var ms=new class ft{constructor(x,F){this.i=x,this.j=F,this.h=0,this.g=null}get(){let x;return 0<this.h?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}(()=>new Qo,_=>_.reset());class Qo{constructor(){this.next=this.g=this.h=null}set(x,F){this.h=x,this.g=F,this.next=null}reset(){this.next=this.g=this.h=null}}let Wi,ei=!1,Oi=new class hr{constructor(){this.h=this.g=null}add(x,F){const W=ms.get();W.set(x,F),this.h?this.h.next=W:this.g=W,this.h=W}},Po=()=>{const _=p.Promise.resolve(void 0);Wi=()=>{_.then(Os)}};var Os=()=>{for(var _;_=Ce();){try{_.h.call(_.g)}catch(F){it(F)}var x=ms;x.j(_),100>x.h&&(x.h++,_.next=x.g,x.g=_)}ei=!1};function ur(){this.s=this.s,this.C=this.C}function ti(_,x){this.type=_,this.g=this.target=x,this.defaultPrevented=!1}ur.prototype.s=!1,ur.prototype.ma=function(){this.s||(this.s=!0,this.N())},ur.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},ti.prototype.h=function(){this.defaultPrevented=!0};var xR=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var _=!1,x=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const F=()=>{};p.addEventListener("test",F,x),p.removeEventListener("test",F,x)}catch{}return _}();function GC(_,x){if(ti.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var F=this.type=_.type,W=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=x,x=_.relatedTarget){if(yn){e:{try{Kt(x.nodeName);var at=!0;break e}catch{}at=!1}at||(x=null)}}else"mouseover"==F?x=_.fromElement:"mouseout"==F&&(x=_.toElement);this.relatedTarget=x,W?(this.clientX=void 0!==W.clientX?W.clientX:W.pageX,this.clientY=void 0!==W.clientY?W.clientY:W.pageY,this.screenX=W.screenX||0,this.screenY=W.screenY||0):(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType="string"==typeof _.pointerType?_.pointerType:c7[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&GC.aa.h.call(this)}}me(GC,ti);var c7={2:"touch",3:"pen",4:"mouse"};GC.prototype.h=function(){GC.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var KC="closure_listenable_"+(1e6*Math.random()|0),l7=0;function u7(_,x,F,W,at){this.listener=_,this.proxy=null,this.src=x,this.type=F,this.capture=!!W,this.ha=at,this.key=++l7,this.da=this.fa=!1}function MR(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function RR(_){this.src=_,this.g={},this.h=0}function Y2(_,x){var F=x.type;if(F in _.g){var gt,W=_.g[F],at=Array.prototype.indexOf.call(W,x,void 0);(gt=0<=at)&&Array.prototype.splice.call(W,at,1),gt&&(MR(x),0==_.g[F].length&&(delete _.g[F],_.h--))}}function Z2(_,x,F,W){for(var at=0;at<_.length;++at){var gt=_[at];if(!gt.da&&gt.listener==x&&gt.capture==!!F&&gt.ha==W)return at}return-1}RR.prototype.add=function(_,x,F,W,at){var gt=_.toString();(_=this.g[gt])||(_=this.g[gt]=[],this.h++);var Qt=Z2(_,x,W,at);return-1<Qt?(x=_[Qt],F||(x.fa=!1)):((x=new u7(x,this.src,gt,!!W,at)).fa=F,_.push(x)),x};var J2="closure_lm_"+(1e6*Math.random()|0),eB={};function s5(_,x,F,W,at){if(W&&W.once)return c5(_,x,F,W,at);if(Array.isArray(x)){for(var gt=0;gt<x.length;gt++)s5(_,x[gt],F,W,at);return null}return F=iB(F),_&&_[KC]?_.K(x,F,I(W)?!!W.capture:!!W,at):a5(_,x,F,!1,W,at)}function a5(_,x,F,W,at,gt){if(!x)throw Error("Invalid event type");var Qt=I(at)?!!at.capture:!!at,qr=nB(_);if(qr||(_[J2]=qr=new RR(_)),(F=qr.add(x,F,W,Qt,gt)).proxy)return F;if(W=function d7(){const x=h7;return function _(F){return x.call(_.src,_.listener,F)}}(),F.proxy=W,W.src=_,W.listener=F,_.addEventListener)xR||(at=Qt),void 0===at&&(at=!1),_.addEventListener(x.toString(),W,at);else if(_.attachEvent)_.attachEvent(u5(x.toString()),W);else{if(!_.addListener||!_.removeListener)throw Error("addEventListener and attachEvent are unavailable.");_.addListener(W)}return F}function c5(_,x,F,W,at){if(Array.isArray(x)){for(var gt=0;gt<x.length;gt++)c5(_,x[gt],F,W,at);return null}return F=iB(F),_&&_[KC]?_.L(x,F,I(W)?!!W.capture:!!W,at):a5(_,x,F,!0,W,at)}function l5(_,x,F,W,at){if(Array.isArray(x))for(var gt=0;gt<x.length;gt++)l5(_,x[gt],F,W,at);else W=I(W)?!!W.capture:!!W,F=iB(F),_&&_[KC]?(_=_.i,(x=String(x).toString())in _.g&&-1<(F=Z2(gt=_.g[x],F,W,at))&&(MR(gt[F]),Array.prototype.splice.call(gt,F,1),0==gt.length&&(delete _.g[x],_.h--))):_&&(_=nB(_))&&(x=_.g[x.toString()],_=-1,x&&(_=Z2(x,F,W,at)),(F=-1<_?x[_]:null)&&tB(F))}function tB(_){if("number"!=typeof _&&_&&!_.da){var x=_.src;if(x&&x[KC])Y2(x.i,_);else{var F=_.type,W=_.proxy;x.removeEventListener?x.removeEventListener(F,W,_.capture):x.detachEvent?x.detachEvent(u5(F),W):x.addListener&&x.removeListener&&x.removeListener(W),(F=nB(x))?(Y2(F,_),0==F.h&&(F.src=null,x[J2]=null)):MR(_)}}}function u5(_){return _ in eB?eB[_]:eB[_]="on"+_}function h7(_,x){if(_.da)_=!0;else{x=new GC(x,this);var F=_.listener,W=_.ha||_.src;_.fa&&tB(_),_=F.call(W,x)}return _}function nB(_){return(_=_[J2])instanceof RR?_:null}var rB="__closure_events_fn_"+(1e9*Math.random()>>>0);function iB(_){return"function"==typeof _?_:(_[rB]||(_[rB]=function(x){return _.handleEvent(x)}),_[rB])}function gs(){ur.call(this),this.i=new RR(this),this.M=this,this.F=null}function ks(_,x){var F,W=_.F;if(W)for(F=[];W;W=W.F)F.push(W);if(_=_.M,W=x.type||x,"string"==typeof x)x=new ti(x,_);else if(x instanceof ti)x.target=x.target||_;else{var at=x;je(x=new ti(W,_),at)}if(at=!0,F)for(var gt=F.length-1;0<=gt;gt--){var Qt=x.g=F[gt];at=OR(Qt,W,!0,x)&&at}if(at=OR(Qt=x.g=_,W,!0,x)&&at,at=OR(Qt,W,!1,x)&&at,F)for(gt=0;gt<F.length;gt++)at=OR(Qt=x.g=F[gt],W,!1,x)&&at}function OR(_,x,F,W){if(!(x=_.i.g[String(x)]))return!0;x=x.concat();for(var at=!0,gt=0;gt<x.length;++gt){var Qt=x[gt];if(Qt&&!Qt.da&&Qt.capture==F){var qr=Qt.listener,Yo=Qt.ha||Qt.src;Qt.fa&&Y2(_.i,Qt),at=!1!==qr.call(Yo,W)&&at}}return at&&!W.defaultPrevented}function d5(_,x,F){if("function"==typeof _)F&&(_=j(_,F));else{if(!_||"function"!=typeof _.handleEvent)throw Error("Invalid listener argument");_=j(_.handleEvent,_)}return 2147483647<Number(x)?-1:p.setTimeout(_,x||0)}function h5(_){_.g=d5(()=>{_.g=null,_.i&&(_.i=!1,h5(_))},_.l);const x=_.h;_.h=null,_.m.apply(null,x)}me(gs,ur),gs.prototype[KC]=!0,gs.prototype.removeEventListener=function(_,x,F,W){l5(this,_,x,F,W)},gs.prototype.N=function(){if(gs.aa.N.call(this),this.i){var x,_=this.i;for(x in _.g){for(var F=_.g[x],W=0;W<F.length;W++)MR(F[W]);delete _.g[x],_.h--}}this.F=null},gs.prototype.K=function(_,x,F,W){return this.i.add(String(_),x,!1,F,W)},gs.prototype.L=function(_,x,F,W){return this.i.add(String(_),x,!0,F,W)};class f7 extends ur{constructor(x,F){super(),this.m=x,this.l=F,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:h5(this)}N(){super.N(),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function WC(_){ur.call(this),this.h=_,this.g={}}me(WC,ur);var f5=[];function p5(_){un(_.g,function(x,F){this.g.hasOwnProperty(F)&&tB(x)},_),_.g={}}WC.prototype.N=function(){WC.aa.N.call(this),p5(this)},WC.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oB=p.JSON.stringify,p7=p.JSON.parse,m7=class{stringify(_){return p.JSON.stringify(_,void 0)}parse(_){return p.JSON.parse(_,void 0)}};function sB(){}function g5(){}sB.prototype.h=null;var qC={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function aB(){ti.call(this,"d")}function cB(){ti.call(this,"c")}me(aB,ti),me(cB,ti);var Um={},_5=null;function kR(){return _5=_5||new gs}function v5(_){ti.call(this,Um.La,_)}function XC(_){const x=kR();ks(x,new v5(x))}function y5(_,x){ti.call(this,Um.STAT_EVENT,_),this.stat=x}function Ps(_){const x=kR();ks(x,new y5(x,_))}function b5(_,x){ti.call(this,Um.Ma,_),this.size=x}function QC(_,x){if("function"!=typeof _)throw Error("Fn must not be null and must be a function");return p.setTimeout(function(){_()},x)}function YC(){this.g=!0}function Ry(_,x,F,W){_.info(function(){return"XMLHTTP TEXT ("+x+"): "+function y7(_,x){if(!_.g)return x;if(!x)return null;try{var F=JSON.parse(x);if(F)for(_=0;_<F.length;_++)if(Array.isArray(F[_])){var W=F[_];if(!(2>W.length)){var at=W[1];if(Array.isArray(at)&&!(1>at.length)){var gt=at[0];if("noop"!=gt&&"stop"!=gt&&"close"!=gt)for(var Qt=1;Qt<at.length;Qt++)at[Qt]=""}}}return oB(F)}catch{return x}}(_,F)+(W?" "+W:"")})}Um.La="serverreachability",me(v5,ti),Um.STAT_EVENT="statevent",me(y5,ti),Um.Ma="timingevent",me(b5,ti),YC.prototype.xa=function(){this.g=!1},YC.prototype.info=function(){};var lB,PR={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},E5={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function NR(){}function mf(_,x,F,W){this.j=_,this.i=x,this.l=F,this.R=W||1,this.U=new WC(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new w5}function w5(){this.i=null,this.g="",this.h=!1}me(NR,sB),NR.prototype.g=function(){return new XMLHttpRequest},NR.prototype.i=function(){return{}},lB=new NR;var C5={},uB={};function dB(_,x,F){_.L=1,_.v=BR(fd(x)),_.m=F,_.P=!0,I5(_,null)}function I5(_,x){_.F=Date.now(),FR(_),_.A=fd(_.v);var F=_.A,W=_.R;Array.isArray(W)||(W=[String(W)]),V5(F.i,"t",W),_.C=0,F=_.j.J,_.h=new w5,_.g=n8(_.j,F?x:null,!_.m),0<_.O&&(_.M=new f7(j(_.Y,_,_.g),_.O)),x=_.U,F=_.g,W=_.ca;var at="readystatechange";Array.isArray(at)||(at&&(f5[0]=at.toString()),at=f5);for(var gt=0;gt<at.length;gt++){var Qt=s5(F,at[gt],W||x.handleEvent,!1,x.h||x);if(!Qt)break;x.g[Qt.key]=Qt}x=_.H?ue(_.H):{},_.m?(_.u||(_.u="POST"),x["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,x)):(_.u="GET",_.g.ea(_.A,_.u,null,x)),XC(),function g7(_,x,F,W,at,gt){_.info(function(){if(_.g)if(gt)for(var Qt="",qr=gt.split("&"),Yo=0;Yo<qr.length;Yo++){var Dr=qr[Yo].split("=");if(1<Dr.length){var _s=Dr[0];Dr=Dr[1];var vs=_s.split("_");Qt=2<=vs.length&&"type"==vs[1]?Qt+(_s+"=")+Dr+"&":Qt+(_s+"=redacted&")}}else Qt=null;else Qt=gt;return"XMLHTTP REQ ("+W+") [attempt "+at+"]: "+x+"\n"+F+"\n"+Qt})}(_.i,_.u,_.A,_.l,_.R,_.m)}function D5(_){return!!_.g&&"GET"==_.u&&2!=_.L&&_.j.Ca}function b7(_,x){var F=_.C,W=x.indexOf("\n",F);return-1==W?uB:(F=Number(x.substring(F,W)),isNaN(F)?C5:(W+=1)+F>x.length?uB:(x=x.slice(W,W+F),_.C=W+F,x))}function FR(_){_.S=Date.now()+_.I,T5(_,_.I)}function T5(_,x){if(null!=_.B)throw Error("WatchDog timer not null");_.B=QC(j(_.ba,_),x)}function hB(_){_.B&&(p.clearTimeout(_.B),_.B=null)}function ZC(_){0==_.j.G||_.J||Z5(_.j,_)}function jm(_){hB(_);var x=_.M;x&&"function"==typeof x.ma&&x.ma(),_.M=null,p5(_.U),_.g&&(x=_.g,_.g=null,x.abort(),x.ma())}function fB(_,x){try{var F=_.j;if(0!=F.G&&(F.g==_||pB(F.h,_)))if(!_.K&&pB(F.h,_)&&3==F.G){try{var W=F.Da.g.parse(x)}catch{W=null}if(Array.isArray(W)&&3==W.length){var at=W;if(0==at[0]){e:if(!F.u){if(F.g){if(!(F.g.F+3e3<_.F))break e;zR(F),$R(F)}vB(F),Ps(18)}}else F.za=at[1],0<F.za-F.T&&37500>at[2]&&F.F&&0==F.v&&!F.C&&(F.C=QC(j(F.Za,F),6e3));if(1>=x5(F.h)&&F.ca){try{F.ca()}catch{}F.ca=void 0}}else Hm(F,11)}else if((_.K||F.g==_)&&zR(F),!bt(x))for(at=F.Da.g.parse(x),x=0;x<at.length;x++){let Dr=at[x];if(F.T=Dr[0],Dr=Dr[1],2==F.G)if("c"==Dr[0]){F.K=Dr[1],F.ia=Dr[2];const _s=Dr[3];null!=_s&&(F.la=_s,F.j.info("VER="+F.la));const vs=Dr[4];null!=vs&&(F.Aa=vs,F.j.info("SVER="+F.Aa));const Py=Dr[5];null!=Py&&"number"==typeof Py&&0<Py&&(F.L=W=1.5*Py,F.j.info("backChannelRequestTimeoutMs_="+W)),W=F;const Qc=_.g;if(Qc){const KR=Qc.g?Qc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(KR){var gt=W.h;gt.g||-1==KR.indexOf("spdy")&&-1==KR.indexOf("quic")&&-1==KR.indexOf("h2")||(gt.j=gt.l,gt.g=new Set,gt.h&&(mB(gt,gt.h),gt.h=null))}if(W.D){const bB=Qc.g?Qc.g.getResponseHeader("X-HTTP-Session-Id"):null;bB&&(W.ya=bB,ai(W.I,W.D,bB))}}F.G=3,F.l&&F.l.ua(),F.ba&&(F.R=Date.now()-_.F,F.j.info("Handshake RTT: "+F.R+"ms"));var Qt=_;if((W=F).qa=t8(W,W.J?W.ia:null,W.W),Qt.K){M5(W.h,Qt);var qr=Qt,Yo=W.L;Yo&&(qr.I=Yo),qr.B&&(hB(qr),FR(qr)),W.g=Qt}else Q5(W);0<F.i.length&&HR(F)}else"stop"!=Dr[0]&&"close"!=Dr[0]||Hm(F,7);else 3==F.G&&("stop"==Dr[0]||"close"==Dr[0]?"stop"==Dr[0]?Hm(F,7):_B(F):"noop"!=Dr[0]&&F.l&&F.l.ta(Dr),F.v=0)}XC()}catch{}}mf.prototype.ca=function(_){_=_.target;const x=this.M;x&&3==pd(_)?x.j():this.Y(_)},mf.prototype.Y=function(_){try{if(_==this.g)e:{const vs=pd(this.g);var x=this.g.Ba();if(this.g.Z(),!(3>vs)&&(3!=vs||this.g&&(this.h.h||this.g.oa()||G5(this.g)))){this.J||4!=vs||7==x||XC(),hB(this);var F=this.g.Z();this.X=F;t:if(D5(this)){var W=G5(this.g);_="";var at=W.length,gt=4==pd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){jm(this),ZC(this);var Qt="";break t}this.h.i=new p.TextDecoder}for(x=0;x<at;x++)this.h.h=!0,_+=this.h.i.decode(W[x],{stream:!(gt&&x==at-1)});W.length=0,this.h.g+=_,this.C=0,Qt=this.h.g}else Qt=this.g.oa();if(this.o=200==F,function _7(_,x,F,W,at,gt,Qt){_.info(function(){return"XMLHTTP RESP ("+W+") [ attempt "+at+"]: "+x+"\n"+F+"\n"+gt+" "+Qt})}(this.i,this.u,this.A,this.l,this.R,vs,F),this.o){if(this.T&&!this.K){t:{if(this.g){var qr,Yo=this.g;if((qr=Yo.g?Yo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bt(qr)){var Dr=qr;break t}}Dr=null}if(!(F=Dr)){this.o=!1,this.s=3,Ps(12),jm(this),ZC(this);break e}Ry(this.i,this.l,F,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fB(this,F)}if(this.P){let Qc;for(F=!0;!this.J&&this.C<Qt.length;){if(Qc=b7(this,Qt),Qc==uB){4==vs&&(this.s=4,Ps(14),F=!1),Ry(this.i,this.l,null,"[Incomplete Response]");break}if(Qc==C5){this.s=4,Ps(15),Ry(this.i,this.l,Qt,"[Invalid Chunk]"),F=!1;break}Ry(this.i,this.l,Qc,null),fB(this,Qc)}if(D5(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=vs||0!=Qt.length||this.h.h||(this.s=1,Ps(16),F=!1),this.o=this.o&&F,F){if(0<Qt.length&&!this.W){this.W=!0;var _s=this.j;_s.g==this&&_s.ba&&!_s.M&&(_s.j.info("Great, no buffering proxy detected. Bytes received: "+Qt.length),yB(_s),_s.M=!0,Ps(11))}}else Ry(this.i,this.l,Qt,"[Invalid Chunked Response]"),jm(this),ZC(this)}else Ry(this.i,this.l,Qt,null),fB(this,Qt);4==vs&&jm(this),this.o&&!this.J&&(4==vs?Z5(this.j,this):(this.o=!1,FR(this)))}else(function L7(_){const x={};_=(_.g&&2<=pd(_)&&_.g.getAllResponseHeaders()||"").split("\r\n");for(let W=0;W<_.length;W++){if(bt(_[W]))continue;var F=We(_[W]);const at=F[0];if("string"!=typeof(F=F[1]))continue;F=F.trim();const gt=x[at]||[];x[at]=gt,gt.push(F)}!function Ue(_,x){for(const F in _)x.call(void 0,_[F],F,_)}(x,function(W){return W.join(", ")})})(this.g),400==F&&0<Qt.indexOf("Unknown SID")?(this.s=3,Ps(12)):(this.s=0,Ps(13)),jm(this),ZC(this)}}}catch{}},mf.prototype.cancel=function(){this.J=!0,jm(this)},mf.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(function v7(_,x){_.info(function(){return"TIMEOUT: "+x})}(this.i,this.A),2!=this.L&&(XC(),Ps(17)),jm(this),this.s=2,ZC(this)):T5(this,this.S-_)};var E7=class{constructor(_,x){this.g=_,this.map=x}};function A5(_){this.l=_||10,_=p.PerformanceNavigationTiming?0<(_=p.performance.getEntriesByType("navigation")).length&&("hq"==_[0].nextHopProtocol||"h2"==_[0].nextHopProtocol):!!(p.chrome&&p.chrome.loadTimes&&p.chrome.loadTimes()&&p.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function S5(_){return!!_.h||!!_.g&&_.g.size>=_.j}function x5(_){return _.h?1:_.g?_.g.size:0}function pB(_,x){return _.h?_.h==x:!!_.g&&_.g.has(x)}function mB(_,x){_.g?_.g.add(x):_.h=x}function M5(_,x){_.h&&_.h==x?_.h=null:_.g&&_.g.has(x)&&_.g.delete(x)}function R5(_){if(null!=_.h)return _.i.concat(_.h.D);if(null!=_.g&&0!==_.g.size){let x=_.i;for(const F of _.g.values())x=x.concat(F.D);return x}return pe(_.i)}function O5(_,x){if(_.forEach&&"function"==typeof _.forEach)_.forEach(x,void 0);else if(g(_)||"string"==typeof _)Array.prototype.forEach.call(_,x,void 0);else for(var F=function C7(_){if(_.na&&"function"==typeof _.na)return _.na();if(!_.V||"function"!=typeof _.V){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(g(_)||"string"==typeof _){var x=[];_=_.length;for(var F=0;F<_;F++)x.push(F);return x}x=[],F=0;for(const W in _)x[F++]=W;return x}}}(_),W=function w7(_){if(_.V&&"function"==typeof _.V)return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if("string"==typeof _)return _.split("");if(g(_)){for(var x=[],F=_.length,W=0;W<F;W++)x.push(_[W]);return x}for(W in x=[],F=0,_)x[F++]=_[W];return x}(_),at=W.length,gt=0;gt<at;gt++)x.call(void 0,W[gt],F&&F[gt],_)}A5.prototype.cancel=function(){if(this.i=R5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const _ of this.g.values())_.cancel();this.g.clear()}};var k5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $m(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof $m){this.h=_.h,LR(this,_.j),this.o=_.o,this.g=_.g,VR(this,_.s),this.l=_.l;var x=_.i,F=new tI;F.i=x.i,x.g&&(F.g=new Map(x.g),F.h=x.h),P5(this,F),this.m=_.m}else _&&(x=String(_).match(k5))?(this.h=!1,LR(this,x[1]||"",!0),this.o=JC(x[2]||""),this.g=JC(x[3]||"",!0),VR(this,x[4]),this.l=JC(x[5]||"",!0),P5(this,x[6]||"",!0),this.m=JC(x[7]||"")):(this.h=!1,this.i=new tI(null,this.h))}function fd(_){return new $m(_)}function LR(_,x,F){_.j=F?JC(x,!0):x,_.j&&(_.j=_.j.replace(/:$/,""))}function VR(_,x){if(x){if(x=Number(x),isNaN(x)||0>x)throw Error("Bad port number "+x);_.s=x}else _.s=null}function P5(_,x,F){x instanceof tI?(_.i=x,function M7(_,x){x&&!_.j&&(gf(_),_.i=null,_.g.forEach(function(F,W){var at=W.toLowerCase();W!=at&&(F5(this,W),V5(this,at,F))},_)),_.j=x}(_.i,_.h)):(F||(x=eI(x,S7)),_.i=new tI(x,_.h))}function ai(_,x,F){_.i.set(x,F)}function BR(_){return ai(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function JC(_,x){return _?x?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function eI(_,x,F){return"string"==typeof _?(_=encodeURI(_).replace(x,D7),F&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function D7(_){return"%"+((_=_.charCodeAt(0))>>4&15).toString(16)+(15&_).toString(16)}$m.prototype.toString=function(){var _=[],x=this.j;x&&_.push(eI(x,N5,!0),":");var F=this.g;return(F||"file"==x)&&(_.push("//"),(x=this.o)&&_.push(eI(x,N5,!0),"@"),_.push(encodeURIComponent(String(F)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(F=this.s)&&_.push(":",String(F))),(F=this.l)&&(this.g&&"/"!=F.charAt(0)&&_.push("/"),_.push(eI(F,"/"==F.charAt(0)?A7:T7,!0))),(F=this.i.toString())&&_.push("?",F),(F=this.m)&&_.push("#",eI(F,x7)),_.join("")};var N5=/[#\/\?@]/g,T7=/[#\?:]/g,A7=/[#\?]/g,S7=/[#\?@]/g,x7=/#/g;function tI(_,x){this.h=this.g=null,this.i=_||null,this.j=!!x}function gf(_){_.g||(_.g=new Map,_.h=0,_.i&&function I7(_,x){if(_){_=_.split("&");for(var F=0;F<_.length;F++){var W=_[F].indexOf("="),at=null;if(0<=W){var gt=_[F].substring(0,W);at=_[F].substring(W+1)}else gt=_[F];x(gt,at?decodeURIComponent(at.replace(/\+/g," ")):"")}}}(_.i,function(x,F){_.add(decodeURIComponent(x.replace(/\+/g," ")),F)}))}function F5(_,x){gf(_),x=Oy(_,x),_.g.has(x)&&(_.i=null,_.h-=_.g.get(x).length,_.g.delete(x))}function L5(_,x){return gf(_),x=Oy(_,x),_.g.has(x)}function V5(_,x,F){F5(_,x),0<F.length&&(_.i=null,_.g.set(Oy(_,x),pe(F)),_.h+=F.length)}function Oy(_,x){return x=String(x),_.j&&(x=x.toLowerCase()),x}function _f(_,x,F,W,at){try{at&&(at.onload=null,at.onerror=null,at.onabort=null,at.ontimeout=null),W(F)}catch{}}function k7(){this.g=new m7}function P7(_,x,F){const W=F||"";try{O5(_,function(at,gt){let Qt=at;I(at)&&(Qt=oB(at)),x.push(W+gt+"="+encodeURIComponent(Qt))})}catch(at){throw x.push(W+"type="+encodeURIComponent("_badmap")),at}}function nI(_){this.l=_.Ub||null,this.j=_.eb||!1}function UR(_,x){gs.call(this),this.D=_,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function B5(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}function rI(_){_.readyState=4,_.l=null,_.j=null,_.v=null,iI(_)}function iI(_){_.onreadystatechange&&_.onreadystatechange.call(_)}function U5(_){let x="";return un(_,function(F,W){x+=W,x+=":",x+=F,x+="\r\n"}),x}function gB(_,x,F){e:{for(W in F){var W=!1;break e}W=!0}W||(F=U5(F),"string"==typeof _?null!=F&&encodeURIComponent(String(F)):ai(_,x,F))}function ki(_){gs.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=tI.prototype).add=function(_,x){gf(this),this.i=null,_=Oy(this,_);var F=this.g.get(_);return F||this.g.set(_,F=[]),F.push(x),this.h+=1,this},n.forEach=function(_,x){gf(this),this.g.forEach(function(F,W){F.forEach(function(at){_.call(x,at,W,this)},this)},this)},n.na=function(){gf(this);const _=Array.from(this.g.values()),x=Array.from(this.g.keys()),F=[];for(let W=0;W<x.length;W++){const at=_[W];for(let gt=0;gt<at.length;gt++)F.push(x[W])}return F},n.V=function(_){gf(this);let x=[];if("string"==typeof _)L5(this,_)&&(x=x.concat(this.g.get(Oy(this,_))));else{_=Array.from(this.g.values());for(let F=0;F<_.length;F++)x=x.concat(_[F])}return x},n.set=function(_,x){return gf(this),this.i=null,L5(this,_=Oy(this,_))&&(this.h-=this.g.get(_).length),this.g.set(_,[x]),this.h+=1,this},n.get=function(_,x){return _&&0<(_=this.V(_)).length?String(_[0]):x},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],x=Array.from(this.g.keys());for(var F=0;F<x.length;F++){var W=x[F];const gt=encodeURIComponent(String(W)),Qt=this.V(W);for(W=0;W<Qt.length;W++){var at=gt;""!==Qt[W]&&(at+="="+encodeURIComponent(String(Qt[W]))),_.push(at)}}return this.i=_.join("&")},me(nI,sB),nI.prototype.g=function(){return new UR(this.l,this.j)},nI.prototype.i=function(_){return function(){return _}}({}),me(UR,gs),(n=UR.prototype).open=function(_,x){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=x,this.readyState=1,iI(this)},n.send=function(_){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const x={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(x.body=_),(this.D||p).fetch(new Request(this.A,x)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,rI(this)),this.readyState=0},n.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,iI(this)),this.g&&(this.readyState=3,iI(this),this.g)))if("arraybuffer"===this.responseType)_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof p.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;B5(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var x=_.value?_.value:new Uint8Array(0);(x=this.v.decode(x,{stream:!_.done}))&&(this.response=this.responseText+=x)}_.done?rI(this):iI(this),3==this.readyState&&B5(this)}},n.Ra=function(_){this.g&&(this.response=this.responseText=_,rI(this))},n.Qa=function(_){this.g&&(this.response=_,rI(this))},n.ga=function(){this.g&&rI(this)},n.setRequestHeader=function(_,x){this.u.append(_,x)},n.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],x=this.h.entries();for(var F=x.next();!F.done;)_.push((F=F.value)[0]+": "+F[1]),F=x.next();return _.join("\r\n")},Object.defineProperty(UR.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(_){this.m=_?"include":"same-origin"}}),me(ki,gs);var N7=/^https?$/i,F7=["POST","PUT"];function j5(_,x){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=x,_.m=5,$5(_),jR(_)}function $5(_){_.A||(_.A=!0,ks(_,"complete"),ks(_,"error"))}function H5(_){if(_.h&&typeof d<"u"&&(!_.v[1]||4!=pd(_)||2!=_.Z()))if(_.u&&4==pd(_))d5(_.Ea,0,_);else if(ks(_,"readystatechange"),4==pd(_)){_.h=!1;try{const Qt=_.Z();e:switch(Qt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var F;if(!(F=x)){var W;if(W=0===Qt){var at=String(_.D).match(k5)[1]||null;!at&&p.self&&p.self.location&&(at=p.self.location.protocol.slice(0,-1)),W=!N7.test(at?at.toLowerCase():"")}F=W}if(F)ks(_,"complete"),ks(_,"success");else{_.m=6;try{var gt=2<pd(_)?_.g.statusText:""}catch{gt=""}_.l=gt+" ["+_.Z()+"]",$5(_)}}finally{jR(_)}}}function jR(_,x){if(_.g){z5(_);const F=_.g,W=_.v[0]?()=>{}:null;_.g=null,_.v=null,x||ks(_,"ready");try{F.onreadystatechange=W}catch{}}}function z5(_){_.I&&(p.clearTimeout(_.I),_.I=null)}function pd(_){return _.g?_.g.readyState:0}function G5(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function oI(_,x,F){return F&&F.internalChannelParams&&F.internalChannelParams[_]||x}function K5(_){this.Aa=0,this.i=[],this.j=new YC,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=oI("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=oI("baseRetryDelayMs",5e3,_),this.cb=oI("retryDelaySeedMs",1e4,_),this.Wa=oI("forwardChannelMaxRetries",2,_),this.wa=oI("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new A5(_&&_.concurrentRequestLimit),this.Da=new k7,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function _B(_){if(W5(_),3==_.G){var x=_.U++,F=fd(_.I);if(ai(F,"SID",_.K),ai(F,"RID",x),ai(F,"TYPE","terminate"),sI(_,F),(x=new mf(_,_.j,x)).L=2,x.v=BR(fd(F)),F=!1,p.navigator&&p.navigator.sendBeacon)try{F=p.navigator.sendBeacon(x.v.toString(),"")}catch{}!F&&p.Image&&((new Image).src=x.v,F=!0),F||(x.g=n8(x.j,null),x.g.ea(x.v)),x.F=Date.now(),FR(x)}e8(_)}function $R(_){_.g&&(yB(_),_.g.cancel(),_.g=null)}function W5(_){$R(_),_.u&&(p.clearTimeout(_.u),_.u=null),zR(_),_.h.cancel(),_.s&&("number"==typeof _.s&&p.clearTimeout(_.s),_.s=null)}function HR(_){if(!S5(_.h)&&!_.s){_.s=!0;var x=_.Ga;Wi||Po(),ei||(Wi(),ei=!0),Oi.add(x,_),_.B=0}}function q5(_,x){var F;F=x?x.l:_.U++;const W=fd(_.I);ai(W,"SID",_.K),ai(W,"RID",F),ai(W,"AID",_.T),sI(_,W),_.m&&_.o&&gB(W,_.m,_.o),F=new mf(_,_.j,F,_.B+1),null===_.m&&(F.H=_.o),x&&(_.i=x.D.concat(_.i)),x=X5(_,F,1e3),F.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),mB(_.h,F),dB(F,W,x)}function sI(_,x){_.H&&un(_.H,function(F,W){ai(x,W,F)}),_.l&&O5({},function(F,W){ai(x,W,F)})}function X5(_,x,F){F=Math.min(_.i.length,F);var W=_.l?j(_.l.Na,_.l,_):null;e:{var at=_.i;let gt=-1;for(;;){const Qt=["count="+F];-1==gt?0<F?(gt=at[0].g,Qt.push("ofs="+gt)):gt=0:Qt.push("ofs="+gt);let qr=!0;for(let Yo=0;Yo<F;Yo++){let Dr=at[Yo].g;const _s=at[Yo].map;if(Dr-=gt,0>Dr)gt=Math.max(0,at[Yo].g-100),qr=!1;else try{P7(_s,Qt,"req"+Dr+"_")}catch{W&&W(_s)}}if(qr){W=Qt.join("&");break e}}}return _=_.i.splice(0,F),x.D=_,W}function Q5(_){if(!_.g&&!_.u){_.Y=1;var x=_.Fa;Wi||Po(),ei||(Wi(),ei=!0),Oi.add(x,_),_.v=0}}function vB(_){return!(_.g||_.u||3<=_.v||(_.Y++,_.u=QC(j(_.Fa,_),J5(_,_.v)),_.v++,0))}function yB(_){null!=_.A&&(p.clearTimeout(_.A),_.A=null)}function Y5(_){_.g=new mf(_,_.j,"rpc",_.Y),null===_.m&&(_.g.H=_.o),_.g.O=0;var x=fd(_.qa);ai(x,"RID","rpc"),ai(x,"SID",_.K),ai(x,"AID",_.T),ai(x,"CI",_.F?"0":"1"),!_.F&&_.ja&&ai(x,"TO",_.ja),ai(x,"TYPE","xmlhttp"),sI(_,x),_.m&&_.o&&gB(x,_.m,_.o),_.L&&(_.g.I=_.L);var F=_.g;_=_.ia,F.L=1,F.v=BR(fd(x)),F.m=null,F.P=!0,I5(F,_)}function zR(_){null!=_.C&&(p.clearTimeout(_.C),_.C=null)}function Z5(_,x){var F=null;if(_.g==x){zR(_),yB(_),_.g=null;var W=2}else{if(!pB(_.h,x))return;F=x.D,M5(_.h,x),W=1}if(0!=_.G)if(x.o)if(1==W){F=x.m?x.m.length:0,x=Date.now()-x.F;var at=_.B;ks(W=kR(),new b5(W,F)),HR(_)}else Q5(_);else if(3==(at=x.s)||0==at&&0<x.X||!(1==W&&function V7(_,x){return!(x5(_.h)>=_.h.j-(_.s?1:0)||(_.s?(_.i=x.D.concat(_.i),0):1==_.G||2==_.G||_.B>=(_.Va?0:_.Wa)||(_.s=QC(j(_.Ga,_,x),J5(_,_.B)),_.B++,0)))}(_,x)||2==W&&vB(_)))switch(F&&0<F.length&&(x=_.h,x.i=x.i.concat(F)),at){case 1:Hm(_,5);break;case 4:Hm(_,10);break;case 3:Hm(_,6);break;default:Hm(_,2)}}function J5(_,x){let F=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(F*=2),F*x}function Hm(_,x){if(_.j.info("Error code "+x),2==x){var F=j(_.fb,_),W=_.Xa;const at=!W;W=new $m(W||"//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||LR(W,"https"),BR(W),at?function R7(_,x){const F=new YC;if(p.Image){const W=new Image;W.onload=X(_f,F,"TestLoadImage: loaded",!0,x,W),W.onerror=X(_f,F,"TestLoadImage: error",!1,x,W),W.onabort=X(_f,F,"TestLoadImage: abort",!1,x,W),W.ontimeout=X(_f,F,"TestLoadImage: timeout",!1,x,W),p.setTimeout(function(){W.ontimeout&&W.ontimeout()},1e4),W.src=_}else x(!1)}(W.toString(),F):function O7(_,x){new YC;const W=new AbortController,at=setTimeout(()=>{W.abort(),_f(0,0,!1,x)},1e4);fetch(_,{signal:W.signal}).then(gt=>{clearTimeout(at),_f(0,0,!!gt.ok,x)}).catch(()=>{clearTimeout(at),_f(0,0,!1,x)})}(W.toString(),F)}else Ps(2);_.G=0,_.l&&_.l.sa(x),e8(_),W5(_)}function e8(_){if(_.G=0,_.ka=[],_.l){const x=R5(_.h);(0!=x.length||0!=_.i.length)&&(he(_.ka,x),he(_.ka,_.i),_.h.i.length=0,pe(_.i),_.i.length=0),_.l.ra()}}function t8(_,x,F){var W=F instanceof $m?fd(F):new $m(F);if(""!=W.g)x&&(W.g=x+"."+W.g),VR(W,W.s);else{var at=p.location;W=at.protocol,x=x?x+"."+at.hostname:at.hostname,at=+at.port;var gt=new $m(null);W&&LR(gt,W),x&&(gt.g=x),at&&VR(gt,at),F&&(gt.l=F),W=gt}return x=_.ya,(F=_.D)&&x&&ai(W,F,x),ai(W,"VER",_.la),sI(_,W),W}function n8(_,x,F){if(x&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return(x=new ki(_.Ca&&!_.pa?new nI({eb:F}):_.pa)).Ha(_.J),x}function r8(){}function GR(){}function Na(_,x){gs.call(this),this.g=new K5(x),this.l=_,this.h=x&&x.messageUrlParams||null,_=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(_?_["X-WebChannel-Content-Type"]=x.messageContentType:_={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.va&&(_?_["X-WebChannel-Client-Profile"]=x.va:_={"X-WebChannel-Client-Profile":x.va}),this.g.S=_,(_=x&&x.Sb)&&!bt(_)&&(this.g.m=_),this.v=x&&x.supportsCrossDomainXhr||!1,this.u=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!bt(x)&&(this.g.D=x,null!==(_=this.h)&&x in _&&x in(_=this.h)&&delete _[x]),this.j=new ky(this)}function i8(_){aB.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var x=_.__sm__;if(x){e:{for(const F in x){_=F;break e}_=void 0}(this.i=_)&&(_=this.i,x=null!==x&&_ in x?x[_]:void 0),this.data=x}else this.data=_}function o8(){cB.call(this),this.status=1}function ky(_){this.g=_}(n=ki.prototype).Ha=function(_){this.J=_},n.ea=function(_,x,F,W){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);x=x?x.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():lB.g(),this.v=function m5(_){return _.h||(_.h=_.i())}(this.o?this.o:lB),this.g.onreadystatechange=j(this.Ea,this);try{this.B=!0,this.g.open(x,String(_),!0),this.B=!1}catch(gt){return void j5(this,gt)}if(_=F||"",F=new Map(this.headers),W)if(Object.getPrototypeOf(W)===Object.prototype)for(var at in W)F.set(at,W[at]);else{if("function"!=typeof W.keys||"function"!=typeof W.get)throw Error("Unknown input type for opt_headers: "+String(W));for(const gt of W.keys())F.set(gt,W.get(gt))}W=Array.from(F.keys()).find(gt=>"content-type"==gt.toLowerCase()),at=p.FormData&&_ instanceof p.FormData,!(0<=Array.prototype.indexOf.call(F7,x,void 0))||W||at||F.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[gt,Qt]of F)this.g.setRequestHeader(gt,Qt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{z5(this),this.u=!0,this.g.send(_),this.u=!1}catch(gt){j5(this,gt)}},n.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,ks(this,"complete"),ks(this,"abort"),jR(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jR(this,!0)),ki.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?H5(this):this.bb())},n.bb=function(){H5(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<pd(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(_){if(this.g){var x=this.g.responseText;return _&&0==x.indexOf(_)&&(x=x.substring(_.length)),p7(x)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=K5.prototype).la=8,n.G=1,n.connect=function(_,x,F,W){Ps(0),this.W=_,this.H=x||{},F&&void 0!==W&&(this.H.OSID=F,this.H.OAID=W),this.F=this.X,this.I=t8(this,null,this.W),HR(this)},n.Ga=function(_){if(this.s)if(this.s=null,1==this.G){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const at=new mf(this,this.j,_);let gt=this.o;if(this.S&&(gt?(gt=ue(gt),je(gt,this.S)):gt=this.S),null!==this.m||this.O||(at.H=gt,gt=null),this.P)e:{for(var x=0,F=0;F<this.i.length;F++){var W=this.i[F];if(void 0===(W="__data__"in W.map&&"string"==typeof(W=W.map.__data__)?W.length:void 0))break;if(4096<(x+=W)){x=F;break e}if(4096===x||F===this.i.length-1){x=F+1;break e}}x=1e3}else x=1e3;x=X5(this,at,x),ai(F=fd(this.I),"RID",_),ai(F,"CVER",22),this.D&&ai(F,"X-HTTP-Session-Id",this.D),sI(this,F),gt&&(this.O?x="headers="+encodeURIComponent(String(U5(gt)))+"&"+x:this.m&&gB(F,this.m,gt)),mB(this.h,at),this.Ua&&ai(F,"TYPE","init"),this.P?(ai(F,"$req",x),ai(F,"SID","null"),at.T=!0,dB(at,F,null)):dB(at,F,x),this.G=2}}else 3==this.G&&(_?q5(this,_):0==this.i.length||S5(this.h)||q5(this))},n.Fa=function(){if(this.u=null,Y5(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=QC(j(this.ab,this),_)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ps(10),$R(this),Y5(this))},n.Za=function(){null!=this.C&&(this.C=null,$R(this),vB(this),Ps(19))},n.fb=function(_){_?(this.j.info("Successfully pinged google.com"),Ps(2)):(this.j.info("Failed to ping google.com"),Ps(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=r8.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},GR.prototype.g=function(_,x){return new Na(_,x)},me(Na,gs),Na.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Na.prototype.close=function(){_B(this.g)},Na.prototype.o=function(_){var x=this.g;if("string"==typeof _){var F={};F.__data__=_,_=F}else this.u&&((F={}).__data__=oB(_),_=F);x.i.push(new E7(x.Ya++,_)),3==x.G&&HR(x)},Na.prototype.N=function(){this.g.l=null,delete this.j,_B(this.g),delete this.g,Na.aa.N.call(this)},me(i8,aB),me(o8,cB),me(ky,r8),ky.prototype.ua=function(){ks(this.g,"a")},ky.prototype.ta=function(_){ks(this.g,new i8(_))},ky.prototype.sa=function(_){ks(this.g,new o8)},ky.prototype.ra=function(){ks(this.g,"b")},GR.prototype.createWebChannel=GR.prototype.g,Na.prototype.send=Na.prototype.o,Na.prototype.open=Na.prototype.m,Na.prototype.close=Na.prototype.close,Fv=uc.createWebChannelTransport=function(){return new GR},Nv=uc.getStatEventTarget=function(){return kR()},Lx=uc.Event=Um,Pv=uc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},PR.NO_ERROR=0,PR.TIMEOUT=8,PR.HTTP_ERROR=6,kv=uc.ErrorCode=PR,E5.COMPLETE="complete",Lw=uc.EventType=E5,g5.EventType=qC,qC.OPEN="a",qC.CLOSE="b",qC.ERROR="c",qC.MESSAGE="d",gs.prototype.listen=gs.prototype.K,Kh=uc.WebChannel=g5,Fx=uc.FetchXmlHttpFactory=nI,ki.prototype.listenOnce=ki.prototype.L,ki.prototype.getLastError=ki.prototype.Ka,ki.prototype.getLastErrorCode=ki.prototype.Ba,ki.prototype.getStatus=ki.prototype.Z,ki.prototype.getResponseJson=ki.prototype.Oa,ki.prototype.getResponseText=ki.prototype.oa,ki.prototype.send=ki.prototype.ea,ki.prototype.setWithCredentials=ki.prototype.Ha,FF=uc.XhrIo=ki}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});const Vw="@firebase/firestore";class Ui{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ui.UNAUTHENTICATED=new Ui(null),Ui.GOOGLE_CREDENTIALS=new Ui("google-credentials-uid"),Ui.FIRST_PARTY=new Ui("first-party-uid"),Ui.MOCK_USER=new Ui("mock-user");let Wl="10.12.3";const Oa=new hx("@firebase/firestore");function cm(){return Oa.logLevel}function Rt(n,...t){if(Oa.logLevel<=ir.DEBUG){const e=t.map(Lv);Oa.debug(`Firestore (${Wl}): ${n}`,...e)}}function Mi(n,...t){if(Oa.logLevel<=ir.ERROR){const e=t.map(Lv);Oa.error(`Firestore (${Wl}): ${n}`,...e)}}function xs(n,...t){if(Oa.logLevel<=ir.WARN){const e=t.map(Lv);Oa.warn(`Firestore (${Wl}): ${n}`,...e)}}function Lv(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function tn(n="Unexpected state"){const t=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: `+n;throw Mi(t),new Error(t)}function en(n,t){n||tn()}function Gt(n,t){return n}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends Wu{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ji{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class Vx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class VF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Ui.UNAUTHENTICATED))}shutdown(){}}class S${constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class BF{constructor(t){this.t=t,this.currentUser=Ui.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let o=this.i;const c=I=>this.i!==o?(o=this.i,e(I)):Promise.resolve();let d=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ji,t.enqueueRetryable(()=>c(this.currentUser))};const p=()=>{const I=d;t.enqueueRetryable((0,L.A)(function*(){yield I.promise,yield c(r.currentUser)}))},g=I=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(I=>g(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?g(I):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ji)}},0),p()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(en("string"==typeof r.accessToken),new Vx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return en(null===t||"string"==typeof t),new Ui(t)}}class Bx{constructor(t,e,r){this.l=t,this.h=e,this.P=r,this.type="FirstParty",this.user=Ui.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class UF{constructor(t,e,r){this.l=t,this.h=e,this.P=r}getToken(){return Promise.resolve(new Bx(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Ui.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ux{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Uw{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const r=c=>{null!=c.error&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,Rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>r(c))};const o=c=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(en("string"==typeof e.token),this.R=e.token,new Ux(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function M$(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}class Vv{static newId(){const e=62*Math.floor(256/62);let r="";for(;r.length<20;){const o=M$(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<e&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(o[c]%62))}return r}}function Mn(n,t){return n<t?-1:n>t?1:0}function Zu(n,t,e){return n.length===t.length&&n.every((r,o)=>e(r,t[o]))}class Kr{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ot(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ot(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ot(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ot(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Kr.fromMillis(Date.now())}static fromDate(t){return Kr.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new Kr(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Mn(this.nanoseconds,t.nanoseconds):Mn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new mn(t)}static min(){return new mn(new Kr(0,0))}static max(){return new mn(new Kr(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hc{constructor(t,e,r){void 0===e?e=0:e>t.length&&tn(),void 0===r?r=t.length-e:r>t.length-e&&tn(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===Hc.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Hc?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let o=0;o<r;o++){const c=t.get(o),d=e.get(o);if(c<d)return-1;if(c>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class nr extends Hc{construct(t,e,r){return new nr(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ot(pt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(o=>o.length>0))}return new nr(e)}static emptyPath(){return new nr([])}}const jF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lr extends Hc{construct(t,e,r){return new Lr(t,e,r)}static isValidIdentifier(t){return jF.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Lr(["__name__"])}static fromServerFormat(t){const e=[];let r="",o=0;const c=()=>{if(0===r.length)throw new Ot(pt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let d=!1;for(;o<t.length;){const p=t[o];if("\\"===p){if(o+1===t.length)throw new Ot(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const g=t[o+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Ot(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=g,o+=2}else"`"===p?(d=!d,o++):"."!==p||d?(r+=p,o++):(c(),o++)}if(c(),d)throw new Ot(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Lr(e)}static emptyPath(){return new Lr([])}}class Yt{constructor(t){this.path=t}static fromPath(t){return new Yt(nr.fromString(t))}static fromName(t){return new Yt(nr.fromString(t).popFirst(5))}static empty(){return new Yt(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===nr.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return nr.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Yt(new nr(t.slice()))}}class hs{constructor(t,e,r){this.readTime=t,this.documentKey=e,this.largestBatchId=r}static min(){return new hs(mn.min(),Yt.empty(),-1)}static max(){return new hs(mn.max(),Yt.empty(),-1)}}function $w(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Yt.comparator(n.documentKey,t.documentKey),0!==e?e:Mn(n.largestBatchId,t.largestBatchId))}const Uv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Ql(n){return jv.apply(this,arguments)}function jv(){return(jv=(0,L.A)(function*(n){if(n.code!==pt.FAILED_PRECONDITION||n.message!==Uv)throw n;Rt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&tn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ut((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(e,c).next(r,o)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ut?e:ut.resolve(e)}catch(e){return ut.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ut.reject(e)}static resolve(t){return new ut((e,r)=>{e(t)})}static reject(t){return new ut((e,r)=>{r(t)})}static waitFor(t){return new ut((e,r)=>{let o=0,c=0,d=!1;t.forEach(p=>{++o,p.next(()=>{++c,d&&c===o&&e()},g=>r(g))}),d=!0,c===o&&e()})}static or(t){let e=ut.resolve(!1);for(const r of t)e=e.next(o=>o?ut.resolve(o):r());return e}static forEach(t,e){const r=[];return t.forEach((o,c)=>{r.push(e.call(this,o,c))}),this.waitFor(r)}static mapArray(t,e){return new ut((r,o)=>{const c=t.length,d=new Array(c);let p=0;for(let g=0;g<c;g++){const I=g;e(t[I]).next(A=>{d[I]=A,++p,p===c&&r(d)},A=>o(A))}})}static doWhile(t,e){return new ut((r,o)=>{const c=()=>{!0===t()?e().next(()=>{c()},o):r()};c()})}}function td(n){return"IndexedDbTransactionError"===n.name}let aa=(()=>{class n{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}return n.oe=-1,n})();function Hv(n){return null==n}function zv(n){return 0===n&&1/n==-1/0}function Yx(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Jl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function ZF(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Wr{constructor(t,e){this.comparator=t,this.root=e||Ro.EMPTY}insert(t,e){return new Wr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Ro.BLACK,null,null))}remove(t){return new Wr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ro.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(0===o)return e+r.left.size;o<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Yw(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Yw(this.root,t,this.comparator,!1)}getReverseIterator(){return new Yw(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Yw(this.root,t,this.comparator,!0)}}class Yw{constructor(t,e,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=e?r(t.key,e):1,e&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(0===c){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ro{constructor(t,e,r,o,c){this.key=t,this.value=e,this.color=r??Ro.RED,this.left=o??Ro.EMPTY,this.right=c??Ro.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,o,c){return new Ro(t??this.key,e??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let o=this;const c=r(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,e,r),null):0===c?o.copy(null,e,null,null,null):o.copy(null,null,null,null,o.right.insert(t,e,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ro.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,o=this;if(e(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,e),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===e(t,o.key)){if(o.right.isEmpty())return Ro.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,e))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ro.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ro.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tn();const t=this.left.check();if(t!==this.right.check())throw tn();return t+(this.isRed()?0:1)}}Ro.EMPTY=null,Ro.RED=!0,Ro.BLACK=!1,Ro.EMPTY=new class{constructor(){this.size=0}get key(){throw tn()}get value(){throw tn()}get color(){throw tn()}get left(){throw tn()}get right(){throw tn()}copy(t,e,r,o,c){return this}insert(t,e,r){return new Ro(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Rn{constructor(t){this.comparator=t,this.data=new Wr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;e(o.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Wh(this.data.getIterator())}getIteratorFrom(t){return new Wh(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Rn)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const o=e.getNext().key,c=r.getNext().key;if(0!==this.comparator(o,c))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Rn(this.comparator);return e.data=t,e}}class Wh{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class go{constructor(t){this.fields=t,t.sort(Lr.comparator)}static empty(){return new go([])}unionWith(t){let e=new Rn(Lr.comparator);for(const r of this.fields)e=e.add(r);for(const r of t)e=e.add(r);return new go(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Zu(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class Zw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Hi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Zw("Invalid base64 string: "+c):c}}(t);return new Hi(e)}static fromUint8Array(t){const e=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(t);return new Hi(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Hi.EMPTY_BYTE_STRING=new Hi("");const V$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eu(n){if(en(!!n),"string"==typeof n){let t=0;const e=V$.exec(n);if(en(!!e),e[1]){let o=e[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Zr(n.seconds),nanos:Zr(n.nanos)}}function Zr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Kc(n){return"string"==typeof n?Hi.fromBase64String(n):Hi.fromUint8Array(n)}function dm(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function hm(n){const t=n.mapValue.fields.__previous_value__;return dm(t)?hm(t):t}function qh(n){const t=eu(n.mapValue.fields.__local_write_time__.timestampValue);return new Kr(t.seconds,t.nanos)}class Zx{constructor(t,e,r,o,c,d,p,g,I){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=I}}class nd{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new nd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof nd&&t.projectId===this.projectId&&t.database===this.database}}const tu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function nu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dm(n)?4:eL(n)?9007199254740991:10:tn()}function Pa(n,t){if(n===t)return!0;const e=nu(n);if(e!==nu(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return qh(n).isEqual(qh(t));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=eu(o.timestampValue),p=eu(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return c=t,Kc(n.bytesValue).isEqual(Kc(c.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(o,c){return Zr(o.geoPointValue.latitude)===Zr(c.geoPointValue.latitude)&&Zr(o.geoPointValue.longitude)===Zr(c.geoPointValue.longitude)}(n,t);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Zr(o.integerValue)===Zr(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Zr(o.doubleValue),p=Zr(c.doubleValue);return d===p?zv(d)===zv(p):isNaN(d)&&isNaN(p)}return!1}(n,t);case 9:return Zu(n.arrayValue.values||[],t.arrayValue.values||[],Pa);case 10:return function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(Yx(d)!==Yx(p))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(void 0===p[g]||!Pa(d[g],p[g])))return!1;return!0}(n,t);default:return tn()}var c}function ru(n,t){return void 0!==(n.values||[]).find(e=>Pa(e,t))}function ca(n,t){if(n===t)return 0;const e=nu(n),r=nu(t);if(e!==r)return Mn(e,r);switch(e){case 0:case 9007199254740991:return 0;case 1:return Mn(n.booleanValue,t.booleanValue);case 2:return function(c,d){const p=Zr(c.integerValue||c.doubleValue),g=Zr(d.integerValue||d.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1}(n,t);case 3:return pm(n.timestampValue,t.timestampValue);case 4:return pm(qh(n),qh(t));case 5:return Mn(n.stringValue,t.stringValue);case 6:return function(c,d){const p=Kc(c),g=Kc(d);return p.compareTo(g)}(n.bytesValue,t.bytesValue);case 7:return function(c,d){const p=c.split("/"),g=d.split("/");for(let I=0;I<p.length&&I<g.length;I++){const A=Mn(p[I],g[I]);if(0!==A)return A}return Mn(p.length,g.length)}(n.referenceValue,t.referenceValue);case 8:return function(c,d){const p=Mn(Zr(c.latitude),Zr(d.latitude));return 0!==p?p:Mn(Zr(c.longitude),Zr(d.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(c,d){const p=c.values||[],g=d.values||[];for(let I=0;I<p.length&&I<g.length;++I){const A=ca(p[I],g[I]);if(A)return A}return Mn(p.length,g.length)}(n.arrayValue,t.arrayValue);case 10:return function(c,d){if(c===tu.mapValue&&d===tu.mapValue)return 0;if(c===tu.mapValue)return 1;if(d===tu.mapValue)return-1;const p=c.fields||{},g=Object.keys(p),I=d.fields||{},A=Object.keys(I);g.sort(),A.sort();for(let k=0;k<g.length&&k<A.length;++k){const j=Mn(g[k],A[k]);if(0!==j)return j;const X=ca(p[g[k]],I[A[k]]);if(0!==X)return X}return Mn(g.length,A.length)}(n.mapValue,t.mapValue);default:throw tn()}}function pm(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Mn(n,t);const e=eu(n),r=eu(t),o=Mn(e.seconds,r.seconds);return 0!==o?o:Mn(e.nanos,r.nanos)}function rd(n){return Xv(n)}function Xv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const r=eu(e);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Kc(n.bytesValue).toBase64():"referenceValue"in n?Yt.fromName(n.referenceValue).toString():"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let r="[",o=!0;for(const c of e.values||[])o?o=!1:r+=",",r+=Xv(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(e){const r=Object.keys(e.fields||{}).sort();let o="{",c=!0;for(const d of r)c?c=!1:o+=",",o+=`${d}:${Xv(e.fields[d])}`;return o+"}"}(n.mapValue):tn()}function Xh(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Jx(n){return!!n&&"integerValue"in n}function mm(n){return!!n&&"arrayValue"in n}function eM(n){return!!n&&"nullValue"in n}function JF(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gm(n){return!!n&&"mapValue"in n}function Qh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Jl(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=Qh(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Qh(n.arrayValue.values[e]);return t}return Object.assign({},n)}function eL(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class _o{constructor(t){this.value=t}static empty(){return new _o({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!gm(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Qh(e)}setAll(t){let e=Lr.emptyPath(),r={},o=[];t.forEach((d,p)=>{if(!e.isImmediateParentOf(p)){const g=this.getFieldsMap(e);this.applyChanges(g,r,o),r={},o=[],e=p.popLast()}d?r[p.lastSegment()]=Qh(d):o.push(p.lastSegment())});const c=this.getFieldsMap(e);this.applyChanges(c,r,o)}delete(t){const e=this.field(t.popLast());gm(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Pa(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=e.mapValue.fields[t.get(r)];gm(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=o),e=o}return e.mapValue.fields}applyChanges(t,e,r){Jl(e,(o,c)=>t[o]=c);for(const o of r)delete t[o]}clone(){return new _o(Qh(this.value))}}function rL(n){const t=[];return Jl(n.fields,(e,r)=>{const o=new Lr([e]);if(gm(r)){const c=rL(r.mapValue).fields;if(0===c.length)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)}),new go(t)}class Jr{constructor(t,e,r,o,c,d,p){this.key=t,this.documentType=e,this.version=r,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Jr(t,0,mn.min(),mn.min(),mn.min(),_o.empty(),0)}static newFoundDocument(t,e,r,o){return new Jr(t,1,e,mn.min(),r,o,0)}static newNoDocument(t,e){return new Jr(t,2,e,mn.min(),mn.min(),_o.empty(),0)}static newUnknownDocument(t,e){return new Jr(t,3,e,mn.min(),mn.min(),_o.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(mn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=_o.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=_o.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Jr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class iu{constructor(t,e){this.position=t,this.inclusive=e}}function tM(n,t,e){let r=0;for(let o=0;o<n.position.length;o++){const c=t[o],d=n.position[o];if(r=c.field.isKeyField()?Yt.comparator(Yt.fromName(d.referenceValue),e.key):ca(d,e.data.field(c.field)),"desc"===c.dir&&(r*=-1),0!==r)break}return r}function iL(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Pa(n.position[e],t.position[e]))return!1;return!0}class Yh{constructor(t,e="asc"){this.field=t,this.dir=e}}function oL(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class sL{}class Qn extends sL{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,r):new aL(t,e,r):"array-contains"===e?new cL(t,r):"in"===e?new oC(t,r):"not-in"===e?new lL(t,r):"array-contains-any"===e?new sM(t,r):new Qn(t,e,r)}static createKeyFieldInFilter(t,e,r){return"in"===e?new iC(t,r):new iM(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(ca(e,this.value)):null!==e&&nu(this.value)===nu(e)&&this.matchesComparison(ca(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return tn()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends sL{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Ir(t,e)}matches(t){return _m(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _m(n){return"and"===n.op}function tC(n){return function nM(n){for(const t of n.filters)if(t instanceof Ir)return!1;return!0}(n)&&_m(n)}function Yv(n){if(n instanceof Qn)return n.field.canonicalString()+n.op.toString()+rd(n.value);if(tC(n))return n.filters.map(t=>Yv(t)).join(",");{const t=n.filters.map(e=>Yv(e)).join(",");return`${n.op}(${t})`}}function nC(n,t){return n instanceof Qn?(r=n,(o=t)instanceof Qn&&r.op===o.op&&r.field.isEqual(o.field)&&Pa(r.value,o.value)):n instanceof Ir?function(r,o){return o instanceof Ir&&r.op===o.op&&r.filters.length===o.filters.length&&r.filters.reduce((c,d,p)=>c&&nC(d,o.filters[p]),!0)}(n,t):void tn();var r,o}function rC(n){return n instanceof Qn?`${(e=n).field.canonicalString()} ${e.op} ${rd(e.value)}`:n instanceof Ir?function(e){return e.op.toString()+" {"+e.getFilters().map(rC).join(" ,")+"}"}(n):"Filter";var e}class aL extends Qn{constructor(t,e,r){super(t,e,r),this.key=Yt.fromName(r.referenceValue)}matches(t){const e=Yt.comparator(t.key,this.key);return this.matchesComparison(e)}}class iC extends Qn{constructor(t,e){super(t,"in",e),this.keys=oM(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class iM extends Qn{constructor(t,e){super(t,"not-in",e),this.keys=oM(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function oM(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>Yt.fromName(r.referenceValue))}class cL extends Qn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return mm(e)&&ru(e.arrayValue,this.value)}}class oC extends Qn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ru(this.value.arrayValue,e)}}class lL extends Qn{constructor(t,e){super(t,"not-in",e)}matches(t){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ru(this.value.arrayValue,e)}}class sM extends Qn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!mm(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>ru(this.value.arrayValue,r))}}class U${constructor(t,e=null,r=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.ue=null}}function sC(n,t=null,e=[],r=[],o=null,c=null,d=null){return new U$(n,t,e,r,o,c,d)}function id(n){const t=Gt(n);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>Yv(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(c=r).field.canonicalString()+c.dir;var c}).join(","),Hv(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(r=>rd(r)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(r=>rd(r)).join(",")),t.ue=e}return t.ue}function vm(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!oL(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!nC(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!iL(n.startAt,t.startAt)&&iL(n.endAt,t.endAt)}function Zv(n){return Yt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class dc{constructor(t,e=null,r=[],o=[],c=null,d="F",p=null,g=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=g,this.ce=null,this.le=null,this.he=null}}function bm(n){return new dc(n)}function cM(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function od(n){return null!==n.collectionGroup}function ou(n){const t=Gt(n);if(null===t.ce){t.ce=[];const e=new Set;for(const c of t.explicitOrderBy)t.ce.push(c),e.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Rn(Lr.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(I=>{I.isInequality()&&(p=p.add(I.field))})}),p})(t).forEach(c=>{e.has(c.canonicalString())||c.isKeyField()||t.ce.push(new Yh(c,r))}),e.has(Lr.keyField().canonicalString())||t.ce.push(new Yh(Lr.keyField(),r))}return t.ce}function vo(n){const t=Gt(n);return t.le||(t.le=function uM(n,t){if("F"===n.limitType)return sC(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(o=>new Yh(o.field,"desc"===o.dir?"asc":"desc"));const e=n.endAt?new iu(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new iu(n.startAt.position,n.startAt.inclusive):null;return sC(n.path,n.collectionGroup,t,n.filters,n.limit,e,r)}}(t,ou(n))),t.le}function Zh(n,t){const e=n.filters.concat([t]);return new dc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Jv(n,t,e){return new dc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Em(n,t){return vm(vo(n),vo(t))&&n.limitType===t.limitType}function lC(n){return`${id(vo(n))}|lt:${n.limitType}`}function sd(n){return`Query(target=${function(e){let r=e.path.canonicalString();return null!==e.collectionGroup&&(r+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(r+=`, filters: [${e.filters.map(o=>rC(o)).join(", ")}]`),Hv(e.limit)||(r+=", limit: "+e.limit),e.orderBy.length>0&&(r+=`, orderBy: [${e.orderBy.map(o=>{return`${(d=o).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),e.startAt&&(r+=", startAt: ",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(o=>rd(o)).join(",")),e.endAt&&(r+=", endAt: ",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(o=>rd(o)).join(",")),`Target(${r})`}(vo(n))}; limitType=${n.limitType})`}function ey(n,t){return t.isFoundDocument()&&function(r,o){const c=o.key.path;return null!==r.collectionGroup?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):Yt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)}(n,t)&&function(r,o){for(const c of ou(r))if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(n,t)&&function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0}(n,t)&&(o=t,!((r=n).startAt&&!function(d,p,g){const I=tM(d,p,g);return d.inclusive?I<=0:I<0}(r.startAt,ou(r),o)||r.endAt&&!function(d,p,g){const I=tM(d,p,g);return d.inclusive?I>=0:I>0}(r.endAt,ou(r),o)));var r,o}function hM(n){return(t,e)=>{let r=!1;for(const o of ou(n)){const c=j$(o,t,e);if(0!==c)return c;r=r||o.field.isKeyField()}return 0}}function j$(n,t,e){const r=n.field.isKeyField()?Yt.comparator(t.key,e.key):function(c,d,p){const g=d.data.field(c),I=p.data.field(c);return null!==g&&null!==I?ca(g,I):tn()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return tn()}}class Wc{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[o,c]of r)if(this.equalsFn(o,t))return c}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),o=this.inner[r];if(void 0===o)return this.inner[r]=[[t,e]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,e]);o.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return 1===r.length?delete this.inner[e]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Jl(this.inner,(e,r)=>{for(const[o,c]of r)t(o,c)})}isEmpty(){return ZF(this.inner)}size(){return this.innerSize}}const $$=new Wr(Yt.comparator);function Ms(){return $$}const uL=new Wr(Yt.comparator);function wm(...n){let t=uL;for(const e of n)t=t.insert(e.key,e);return t}function dL(n){let t=uL;return n.forEach((e,r)=>t=t.insert(e,r.overlayedDocument)),t}function hc(){return Cm()}function fM(){return Cm()}function Cm(){return new Wc(n=>n.toString(),(n,t)=>n.isEqual(t))}const H$=new Wr(Yt.comparator),z$=new Rn(Yt.comparator);function Bn(...n){let t=z$;for(const e of n)t=t.add(e);return t}const G$=new Rn(Mn);function mM(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zv(t)?"-0":t}}function hL(n){return{integerValue:""+n}}function fL(n,t){return function Gw(n){return"number"==typeof n&&Number.isInteger(n)&&!zv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(t)?hL(t):mM(n,t)}class uC{constructor(){this._=void 0}}function K$(n,t,e){return n instanceof Jh?function(o,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&dm(c)&&(c=hm(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(e,t):n instanceof ad?_M(n,t):n instanceof cd?dC(n,t):function(o,c){const d=gM(o,c),p=vM(d)+vM(o.Pe);return Jx(d)&&Jx(o.Pe)?hL(p):mM(o.serializer,p)}(n,t)}function pL(n,t,e){return n instanceof ad?_M(n,t):n instanceof cd?dC(n,t):e}function gM(n,t){return n instanceof Im?Jx(r=t)||(c=r)&&"doubleValue"in c?t:{integerValue:0}:null;var r,c}class Jh extends uC{}class ad extends uC{constructor(t){super(),this.elements=t}}function _M(n,t){const e=mL(t);for(const r of n.elements)e.some(o=>Pa(o,r))||e.push(r);return{arrayValue:{values:e}}}class cd extends uC{constructor(t){super(),this.elements=t}}function dC(n,t){let e=mL(t);for(const r of n.elements)e=e.filter(o=>!Pa(o,r));return{arrayValue:{values:e}}}class Im extends uC{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function vM(n){return Zr(n.integerValue||n.doubleValue)}function mL(n){return mm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class i{constructor(t,e){this.field=t,this.transform=e}}class a{constructor(t,e){this.version=t,this.transformResults=e}}class u{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new u}static exists(t){return new u(void 0,t)}static updateTime(t){return new u(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function h(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class f{}function m(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new kt(n.key,u.none()):new G(n.key,n.data,u.none());{const e=n.data,r=_o.empty();let o=new Rn(Lr.comparator);for(let c of t.fields)if(!o.has(c)){let d=e.field(c);null===d&&c.length>1&&(c=c.popLast(),d=e.field(c)),null===d?r.delete(c):r.set(c,d),o=o.add(c)}return new ce(n.key,r,new go(o.toArray()),u.none())}}function E(n,t,e){n instanceof G?function(o,c,d){const p=o.value.clone(),g=Ye(o.fieldTransforms,c,d.transformResults);p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,t,e):n instanceof ce?function(o,c,d){if(!h(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ye(o.fieldTransforms,c,d.transformResults),g=c.data;g.setAll(ve(o)),g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function T(n,t,e,r){return n instanceof G?function(c,d,p,g){if(!h(c.precondition,d))return p;const I=c.value.clone(),A=_t(c.fieldTransforms,g,d);return I.setAll(A),d.convertToFoundDocument(d.version,I).setHasLocalMutations(),null}(n,t,e,r):n instanceof ce?function(c,d,p,g){if(!h(c.precondition,d))return p;const I=_t(c.fieldTransforms,g,d),A=d.data;return A.setAll(ve(c)),A.setAll(I),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),null===p?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(k=>k.field))}(n,t,e,r):(p=e,h(n.precondition,d=t)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p);var d,p}function M(n,t){let e=null;for(const r of n.fieldTransforms){const o=t.data.field(r.field),c=gM(r.transform,o||null);null!=c&&(null===e&&(e=_o.empty()),e.set(r.field,c))}return e||null}function N(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(o=t.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===o||r&&o&&Zu(r,o,(c,d)=>function s(n,t){return n.field.isEqual(t.field)&&(o=t.transform,(r=n.transform)instanceof ad&&o instanceof ad||r instanceof cd&&o instanceof cd?Zu(r.elements,o.elements,Pa):r instanceof Im&&o instanceof Im?Pa(r.Pe,o.Pe):r instanceof Jh&&o instanceof Jh);var r,o}(c,d))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var r,o}class G extends f{constructor(t,e,r,o=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ce extends f{constructor(t,e,r,o,c=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ve(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function Ye(n,t,e){const r=new Map;en(n.length===e.length);for(let o=0;o<e.length;o++){const c=n[o],d=c.transform,p=t.data.field(c.field);r.set(c.field,pL(d,p,e[o]))}return r}function _t(n,t,e){const r=new Map;for(const o of n){const c=o.transform,d=e.data.field(o.field);r.set(o.field,K$(c,d,t))}return r}class kt extends f{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $t extends f{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wt{constructor(t,e,r,o){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&E(c,t,r[o])}}applyToLocalView(t,e){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(e=T(r,t,e,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(e=T(r,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const r=fM();return this.mutations.forEach(o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=e.has(o.key)?null:p;const g=m(d,p);null!==g&&r.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(mn.min())}),r}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Bn())}isEqual(t){return this.batchId===t.batchId&&Zu(this.mutations,t.mutations,(e,r)=>N(e,r))&&Zu(this.baseMutations,t.baseMutations,(e,r)=>N(e,r))}}class wn{constructor(t,e,r,o){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=o}static from(t,e,r){en(t.mutations.length===r.length);let o=function(){return H$}();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,r[d].version);return new wn(t,e,r,o)}}class Yn{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class zi{constructor(t,e){this.count=t,this.unchangedNames=e}}var lr,Kn;function hC(n){switch(n){default:return tn();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function yM(n){if(void 0===n)return Mi("GRPC error has no .code"),pt.UNKNOWN;switch(n){case lr.OK:return pt.OK;case lr.CANCELLED:return pt.CANCELLED;case lr.UNKNOWN:return pt.UNKNOWN;case lr.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case lr.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case lr.INTERNAL:return pt.INTERNAL;case lr.UNAVAILABLE:return pt.UNAVAILABLE;case lr.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case lr.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case lr.NOT_FOUND:return pt.NOT_FOUND;case lr.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case lr.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case lr.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case lr.ABORTED:return pt.ABORTED;case lr.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case lr.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case lr.DATA_LOSS:return pt.DATA_LOSS;default:return tn()}}(Kn=lr||(lr={}))[Kn.OK=0]="OK",Kn[Kn.CANCELLED=1]="CANCELLED",Kn[Kn.UNKNOWN=2]="UNKNOWN",Kn[Kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kn[Kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kn[Kn.NOT_FOUND=5]="NOT_FOUND",Kn[Kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kn[Kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kn[Kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kn[Kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kn[Kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kn[Kn.ABORTED=10]="ABORTED",Kn[Kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kn[Kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kn[Kn.INTERNAL=13]="INTERNAL",Kn[Kn.UNAVAILABLE=14]="UNAVAILABLE",Kn[Kn.DATA_LOSS=15]="DATA_LOSS";const R8=new Yu([4294967295,4294967295],0);function q$(n){const t=function W$(){return new TextEncoder}().encode(n),e=new Fw;return e.update(t),new Uint8Array(e.digest())}function X$(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Yu([e,r],0),new Yu([o,c],0)]}class gL{constructor(t,e,r){if(this.bitmap=t,this.padding=e,this.hashCount=r,e<0||e>=8)throw new fC(`Invalid padding: ${e}`);if(r<0)throw new fC(`Invalid hash count: ${r}`);if(t.length>0&&0===this.hashCount)throw new fC(`Invalid hash count: ${r}`);if(0===t.length&&0!==e)throw new fC(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=Yu.fromNumber(this.Ie)}Ee(t,e,r){let o=t.add(e.multiply(Yu.fromNumber(r)));return 1===o.compare(R8)&&(o=new Yu([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=q$(t),[r,o]=X$(e);for(let c=0;c<this.hashCount;c++){const d=this.Ee(r,o,c);if(!this.de(d))return!1}return!0}static create(t,e,r){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new gL(c,o,e);return r.forEach(p=>d.insert(p)),d}insert(t){if(0===this.Ie)return;const e=q$(t),[r,o]=X$(e);for(let c=0;c<this.hashCount;c++){const d=this.Ee(r,o,c);this.Ae(d)}}Ae(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class fC extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pC{constructor(t,e,r,o,c){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,e,r){const o=new Map;return o.set(t,mC.createSynthesizedTargetChangeForCurrentChange(t,e,r)),new pC(mn.min(),o,new Wr(Mn),Ms(),Bn())}}class mC{constructor(t,e,r,o,c){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,e,r){return new mC(r,e,Bn(),Bn(),Bn())}}class EM{constructor(t,e,r,o){this.Re=t,this.removedTargetIds=e,this.key=r,this.Ve=o}}class Q${constructor(t,e){this.targetId=t,this.me=e}}class Y${constructor(t,e,r=Hi.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=o}}class Z${constructor(){this.fe=0,this.ge=e4(),this.pe=Hi.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Bn(),e=Bn(),r=Bn();return this.ge.forEach((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:e=e.add(o);break;case 1:r=r.add(o);break;default:tn()}}),new mC(this.pe,this.ye,t,e,r)}ve(){this.we=!1,this.ge=e4()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,en(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class O8{constructor(t){this.Le=t,this.Be=new Map,this.ke=Ms(),this.qe=J$(),this.Qe=new Wr(Mn)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{const r=this.Ge(e);switch(t.state){case 0:this.ze(e)&&r.De(t.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(t.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(r.Ne(),r.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),r.De(t.resumeToken));break;default:tn()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((r,o)=>{this.ze(o)&&e(o)})}He(t){const e=t.targetId,r=t.me.count,o=this.Je(e);if(o){const c=o.target;if(Zv(c))if(0===r){const d=new Yt(c.path);this.Ue(e,d,Jr.newNoDocument(d,mn.min()))}else en(1===r);else{const d=this.Ye(e);if(d!==r){const p=this.Ze(t),g=p?this.Xe(p,t,d):1;0!==g&&(this.je(e),this.Qe=this.Qe.insert(e,2===g?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=e;let d,p;try{d=Kc(r).toUint8Array()}catch(g){if(g instanceof Zw)return xs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new gL(d,o,c)}catch(g){return xs(g instanceof fC?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return 0===p.Ie?null:p}Xe(t,e,r){return e.me.count===r-this.nt(t,e.targetId)?0:2}nt(t,e){const r=this.Le.getRemoteKeysForTarget(e);let o=0;return r.forEach(c=>{const d=this.Le.tt(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.Ue(e,c,null),o++)}),o}rt(t){const e=new Map;this.Be.forEach((c,d)=>{const p=this.Je(d);if(p){if(c.current&&Zv(p.target)){const g=new Yt(p.target.path);null!==this.ke.get(g)||this.it(d,g)||this.Ue(d,g,Jr.newNoDocument(g,t))}c.be&&(e.set(d,c.Ce()),c.ve())}});let r=Bn();this.qe.forEach((c,d)=>{let p=!0;d.forEachWhile(g=>{const I=this.Je(g);return!I||"TargetPurposeLimboResolution"===I.purpose||(p=!1,!1)}),p&&(r=r.add(c))}),this.ke.forEach((c,d)=>d.setReadTime(t));const o=new pC(t,e,this.Qe,this.ke,r);return this.ke=Ms(),this.qe=J$(),this.Qe=new Wr(Mn),o}$e(t,e){if(!this.ze(t))return;const r=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,r),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,r){if(!this.ze(t))return;const o=this.Ge(t);this.it(t,e)?o.Fe(e,1):o.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),r&&(this.ke=this.ke.insert(e,r))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new Z$,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Rn(Mn),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Rt("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Z$),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function J$(){return new Wr(Yt.comparator)}function e4(){return new Wr(Yt.comparator)}const k8={asc:"ASCENDING",desc:"DESCENDING"},P8={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},N8={and:"AND",or:"OR"};class F8{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function _L(n,t){return n.useProto3Json||Hv(t)?t:{value:t}}function ty(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function t4(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function L8(n,t){return ty(n,t.toTimestamp())}function Gi(n){return en(!!n),mn.fromTimestamp(function(e){const r=eu(e);return new Kr(r.seconds,r.nanos)}(n))}function vL(n,t){return yL(n,t).canonicalString()}function yL(n,t){const e=(o=n,new nr(["projects",o.projectId,"databases",o.database])).child("documents");var o;return void 0===t?e:e.child(t)}function n4(n){const t=nr.fromString(n);return en(f4(t)),t}function gC(n,t){return vL(n.databaseId,t.path)}function su(n,t){const e=n4(t);if(e.get(1)!==n.databaseId.projectId)throw new Ot(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ot(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Yt(o4(e))}function r4(n,t){return vL(n.databaseId,t)}function bL(n){return new nr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function o4(n){return en(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function s4(n,t,e){return{name:gC(n,t),fields:e.value.mapValue.fields}}function _C(n,t){let e;if(t instanceof G)e={update:s4(n,t.key,t.value)};else if(t instanceof kt)e={delete:gC(n,t.key)};else if(t instanceof ce)e={update:s4(n,t.key,t.data),updateMask:G8(t.fieldMask)};else{if(!(t instanceof $t))return tn();e={verify:gC(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(c,d){const p=d.transform;if(p instanceof Jh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof ad)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof cd)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Im)return{fieldPath:d.field.canonicalString(),increment:p.Pe};throw tn()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(c=t.precondition).updateTime?{updateTime:L8(n,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:tn()),e;var c}function c4(n,t){return{documents:[r4(n,t.path)]}}function wM(n,t){const e={structuredQuery:{}},r=t.path;let o;null!==t.collectionGroup?(o=r,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),e.structuredQuery.from=[{collectionId:r.lastSegment()}]),e.parent=r4(n,o);const c=function(I){if(0!==I.length)return h4(Ir.create(I,"and"))}(t.filters);c&&(e.structuredQuery.where=c);const d=function(I){if(0!==I.length)return I.map(A=>{return{field:ef((j=A).field),direction:$8(j.dir)};var j})}(t.orderBy);d&&(e.structuredQuery.orderBy=d);const p=_L(n,t.limit);return null!==p&&(e.structuredQuery.limit=p),t.startAt&&(e.structuredQuery.startAt={before:(I=t.startAt).inclusive,values:I.position}),t.endAt&&(e.structuredQuery.endAt=function(I){return{before:!I.inclusive,values:I.position}}(t.endAt)),{_t:e,parent:o};var I}function u4(n){let t=function i4(n){const t=n4(n);return 4===t.length?nr.emptyPath():o4(t)}(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let o=null;if(r>0){en(1===r);const A=e.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];e.where&&(c=function(k){const j=d4(k);return j instanceof Ir&&tC(j)?j.getFilters():[j]}(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(j=>{return new Yh(ny((me=j).field),function(he){switch(he){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(me.direction));var me}));let p=null;e.limit&&(p=function(k){let j;return j="object"==typeof k?k.value:k,Hv(j)?null:j}(e.limit));let g=null;var k;e.startAt&&(g=new iu((k=e.startAt).values||[],!!k.before));let I=null;return e.endAt&&(I=function(k){return new iu(k.values||[],!k.before)}(e.endAt)),function cC(n,t,e,r,o,c,d,p){return new dc(n,t,e,r,o,c,d,p)}(t,o,d,c,p,"F",g,I)}function d4(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const r=ny(e.unaryFilter.field);return Qn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ny(e.unaryFilter.field);return Qn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ny(e.unaryFilter.field);return Qn.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ny(e.unaryFilter.field);return Qn.create(d,"!=",{nullValue:"NULL_VALUE"});default:return tn()}}(n):void 0!==n.fieldFilter?Qn.create(ny((e=n).fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tn()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Ir.create(e.compositeFilter.filters.map(r=>d4(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return tn()}}(e.compositeFilter.op))}(n):tn();var e}function $8(n){return k8[n]}function H8(n){return P8[n]}function z8(n){return N8[n]}function ef(n){return{fieldPath:n.canonicalString()}}function ny(n){return Lr.fromServerFormat(n.fieldPath)}function h4(n){return n instanceof Qn?function(e){if("=="===e.op){if(JF(e.value))return{unaryFilter:{field:ef(e.field),op:"IS_NAN"}};if(eM(e.value))return{unaryFilter:{field:ef(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(JF(e.value))return{unaryFilter:{field:ef(e.field),op:"IS_NOT_NAN"}};if(eM(e.value))return{unaryFilter:{field:ef(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ef(e.field),op:H8(e.op),value:e.value}}}(n):n instanceof Ir?function(e){const r=e.getFilters().map(o=>h4(o));return 1===r.length?r[0]:{compositeFilter:{op:z8(e.op),filters:r}}}(n):tn()}function G8(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function f4(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ld{constructor(t,e,r,o,c=mn.min(),d=mn.min(),p=Hi.EMPTY_BYTE_STRING,g=null){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(t){return new ld(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ld(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class p4{constructor(t){this.ct=t}}function wL(n){const t=u4({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Jv(t,t.limit,"L"):t}class Sm{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(Zr(t.integerValue));else if("doubleValue"in t){const r=Zr(t.doubleValue);isNaN(r)?this.Et(e,13):(this.Et(e,15),zv(r)?e.dt(0):e.dt(r))}else if("timestampValue"in t){let r=t.timestampValue;this.Et(e,20),"string"==typeof r&&(r=eu(r)),e.At(`${r.seconds||""}`),e.dt(r.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(Kc(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const r=t.geoPointValue;this.Et(e,45),e.dt(r.latitude||0),e.dt(r.longitude||0)}else"mapValue"in t?eL(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):tn()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const r=t.fields||{};this.Et(e,55);for(const o of Object.keys(r))this.Rt(o,e),this.It(r[o],e)}wt(t,e){const r=t.values||[];this.Et(e,50);for(const o of r)this.It(o,e)}gt(t,e){this.Et(e,37),Yt.fromName(t).path.forEach(r=>{this.Et(e,60),this.St(r,e)})}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}Sm.bt=new Sm;class J8{constructor(){this._n=new SL}addToCollectionParentIndex(t,e){return this._n.add(e),ut.resolve()}getCollectionParents(t,e){return ut.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return ut.resolve()}deleteFieldIndex(t,e){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,e){return ut.resolve()}getDocumentsMatchingTarget(t,e){return ut.resolve(null)}getIndexType(t,e){return ut.resolve(0)}getFieldIndexes(t,e){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,e){return ut.resolve(hs.min())}getMinOffsetFromCollectionGroup(t,e){return ut.resolve(hs.min())}updateCollectionGroup(t,e,r){return ut.resolve()}updateIndexEntries(t,e){return ut.resolve()}}class SL{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e]||new Rn(nr.comparator),c=!o.has(r);return this.index[e]=o.add(r),c}has(t){const e=t.lastSegment(),r=t.popLast(),o=this.index[e];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Rn(nr.comparator)).toArray()}}new Uint8Array(0);class fs{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new fs(t,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}fs.DEFAULT_COLLECTION_PERCENTILE=10,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fs.DEFAULT=new fs(41943040,fs.DEFAULT_COLLECTION_PERCENTILE,fs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fs.DISABLED=new fs(-1,0,0);class Mm{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new Mm(0)}static Ln(){return new Mm(-1)}}class L4{constructor(){this.changes=new Wc(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Jr.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?ut.resolve(r):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class a6{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class $4{constructor(t,e,r,o){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,e){let r=null;return this.documentOverlayCache.getOverlay(t,e).next(o=>(r=o,this.remoteDocumentCache.getEntry(t,e))).next(o=>(null!==r&&T(r.mutation,o,go.empty(),Kr.now()),o))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.getLocalViewOfDocuments(t,r,Bn()).next(()=>r))}getLocalViewOfDocuments(t,e,r=Bn()){const o=hc();return this.populateOverlays(t,o,e).next(()=>this.computeViews(t,e,o,r).next(c=>{let d=wm();return c.forEach((p,g)=>{d=d.insert(p,g.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const r=hc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,Bn()))}populateOverlays(t,e,r){const o=[];return r.forEach(c=>{e.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(t,o).next(c=>{c.forEach((d,p)=>{e.set(d,p)})})}computeViews(t,e,r,o){let c=Ms();const d=Cm(),p=Cm();return e.forEach((g,I)=>{const A=r.get(I.key);o.has(I.key)&&(void 0===A||A.mutation instanceof ce)?c=c.insert(I.key,I):void 0!==A?(d.set(I.key,A.mutation.getFieldMask()),T(A.mutation,I,A.mutation.getFieldMask(),Kr.now())):d.set(I.key,go.empty())}),this.recalculateAndSaveOverlays(t,c).next(g=>(g.forEach((I,A)=>d.set(I,A)),e.forEach((I,A)=>{var k;return p.set(I,new a6(A,null!==(k=d.get(I))&&void 0!==k?k:null))}),p))}recalculateAndSaveOverlays(t,e){const r=Cm();let o=new Wr((d,p)=>d-p),c=Bn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const p of d)p.keys().forEach(g=>{const I=e.get(g);if(null===I)return;let A=r.get(g)||go.empty();A=p.applyToLocalView(I,A),r.set(g,A);const k=(o.get(p.batchId)||Bn()).add(g);o=o.insert(p.batchId,k)})}).next(()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),I=g.key,A=g.value,k=fM();A.forEach(j=>{if(!c.has(j)){const X=m(e.get(j),r.get(j));null!==X&&k.set(j,X),c=c.add(j)}}),d.push(this.documentOverlayCache.saveOverlays(t,I,k))}return ut.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,e,r,o){return Yt.isDocumentKey((d=e).path)&&null===d.collectionGroup&&0===d.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):od(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,r,o):this.getDocumentsMatchingCollectionQuery(t,e,r,o);var d}getNextDocuments(t,e,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,r,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,r.largestBatchId,o-c.size):ut.resolve(hc());let p=-1,g=c;return d.next(I=>ut.forEach(I,(A,k)=>(p<k.largestBatchId&&(p=k.largestBatchId),c.get(A)?ut.resolve():this.remoteDocumentCache.getEntry(t,A).next(j=>{g=g.insert(A,j)}))).next(()=>this.populateOverlays(t,I,c)).next(()=>this.computeViews(t,g,I,Bn())).next(A=>({batchId:p,changes:dL(A)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Yt(e)).next(r=>{let o=wm();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(t,e,r,o){const c=e.collectionGroup;let d=wm();return this.indexManager.getCollectionParents(t,c).next(p=>ut.forEach(p,g=>{const I=(k=e,j=g.child(c),new dc(j,null,k.explicitOrderBy.slice(),k.filters.slice(),k.limit,k.limitType,k.startAt,k.endAt));var k,j;return this.getDocumentsMatchingCollectionQuery(t,I,r,o).next(A=>{A.forEach((k,j)=>{d=d.insert(k,j)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,e,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,r.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,r,c,o))).next(d=>{c.forEach((g,I)=>{const A=I.getKey();null===d.get(A)&&(d=d.insert(A,Jr.newInvalidDocument(A)))});let p=wm();return d.forEach((g,I)=>{const A=c.get(g);void 0!==A&&T(A.mutation,I,go.empty(),Kr.now()),ey(e,I)&&(p=p.insert(g,I))}),p})}}class c6{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return ut.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,{id:(o=e).id,version:o.version,createTime:Gi(o.createTime)}),ut.resolve();var o}getNamedQuery(t,e){return ut.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,{name:(o=e).name,query:wL(o.bundledQuery),readTime:Gi(o.readTime)}),ut.resolve();var o}}class l6{constructor(){this.overlays=new Wr(Yt.comparator),this.hr=new Map}getOverlay(t,e){return ut.resolve(this.overlays.get(e))}getOverlays(t,e){const r=hc();return ut.forEach(e,o=>this.getOverlay(t,o).next(c=>{null!==c&&r.set(o,c)})).next(()=>r)}saveOverlays(t,e,r){return r.forEach((o,c)=>{this.ht(t,e,c)}),ut.resolve()}removeOverlaysForBatchId(t,e,r){const o=this.hr.get(r);return void 0!==o&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.hr.delete(r)),ut.resolve()}getOverlaysForCollection(t,e,r){const o=hc(),c=e.length+1,d=new Yt(e.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const g=p.getNext().value,I=g.getKey();if(!e.isPrefixOf(I.path))break;I.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return ut.resolve(o)}getOverlaysForCollectionGroup(t,e,r,o){let c=new Wr((I,A)=>I-A);const d=this.overlays.getIterator();for(;d.hasNext();){const I=d.getNext().value;if(I.getKey().getCollectionGroup()===e&&I.largestBatchId>r){let A=c.get(I.largestBatchId);null===A&&(A=hc(),c=c.insert(I.largestBatchId,A)),A.set(I.getKey(),I)}}const p=hc(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((I,A)=>p.set(I,A)),!(p.size()>=o)););return ut.resolve(p)}ht(t,e,r){const o=this.overlays.get(r.key);if(null!==o){const d=this.hr.get(o.largestBatchId).delete(r.key);this.hr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Yn(e,r));let c=this.hr.get(e);void 0===c&&(c=Bn(),this.hr.set(e,c)),this.hr.set(e,c.add(r.key))}}class xL{constructor(){this.Pr=new Rn(Oo.Ir),this.Tr=new Rn(Oo.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const r=new Oo(t,e);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.Ar(new Oo(t,e))}Rr(t,e){t.forEach(r=>this.removeReference(r,e))}Vr(t){const e=new Yt(new nr([])),r=new Oo(e,t),o=new Oo(e,t+1),c=[];return this.Tr.forEachInRange([r,o],d=>{this.Ar(d),c.push(d.key)}),c}mr(){this.Pr.forEach(t=>this.Ar(t))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new Yt(new nr([])),r=new Oo(e,t),o=new Oo(e,t+1);let c=Bn();return this.Tr.forEachInRange([r,o],d=>{c=c.add(d.key)}),c}containsKey(t){const e=new Oo(t,0),r=this.Pr.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class Oo{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return Yt.comparator(t.key,e.key)||Mn(t.pr,e.pr)}static Er(t,e){return Mn(t.pr,e.pr)||Yt.comparator(t.key,e.key)}}class u6{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new Rn(Oo.Ir)}checkEmpty(t){return ut.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,r,o){const c=this.yr;this.yr++;const d=new wt(c,e,r,o);this.mutationQueue.push(d);for(const p of o)this.wr=this.wr.add(new Oo(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return ut.resolve(d)}lookupMutationBatch(t,e){return ut.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const o=this.br(e+1),c=o<0?0:o;return ut.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new Oo(e,0),o=new Oo(e,Number.POSITIVE_INFINITY),c=[];return this.wr.forEachInRange([r,o],d=>{const p=this.Sr(d.pr);c.push(p)}),ut.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Rn(Mn);return e.forEach(o=>{const c=new Oo(o,0),d=new Oo(o,Number.POSITIVE_INFINITY);this.wr.forEachInRange([c,d],p=>{r=r.add(p.pr)})}),ut.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,o=r.length+1;let c=r;Yt.isDocumentKey(c)||(c=c.child(""));const d=new Oo(new Yt(c),0);let p=new Rn(Mn);return this.wr.forEachWhile(g=>{const I=g.key.path;return!!r.isPrefixOf(I)&&(I.length===o&&(p=p.add(g.pr)),!0)},d),ut.resolve(this.Dr(p))}Dr(t){const e=[];return t.forEach(r=>{const o=this.Sr(r);null!==o&&e.push(o)}),e}removeMutationBatch(t,e){en(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let r=this.wr;return ut.forEach(e.mutations,o=>{const c=new Oo(o.key,e.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)}).next(()=>{this.wr=r})}Mn(t){}containsKey(t,e){const r=new Oo(e,0),o=this.wr.firstAfterOrEqual(r);return ut.resolve(e.isEqual(o&&o.key))}performConsistencyCheck(t){return ut.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class d6{constructor(t){this.vr=t,this.docs=new Wr(Yt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const r=e.key,o=this.docs.get(r),c=o?o.size:0,d=this.vr(e);return this.docs=this.docs.insert(r,{document:e.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return ut.resolve(r?r.document.mutableCopy():Jr.newInvalidDocument(e))}getEntries(t,e){let r=Ms();return e.forEach(o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():Jr.newInvalidDocument(o))}),ut.resolve(r)}getDocumentsMatchingQuery(t,e,r,o){let c=Ms();const d=e.path,p=new Yt(d.child("")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:I,value:{document:A}}=g.getNext();if(!d.isPrefixOf(I.path))break;I.path.length>d.length+1||$w(new hs((n=A).readTime,n.key,-1),r)<=0||(o.has(A.key)||ey(e,A))&&(c=c.insert(A.key,A.mutableCopy()))}var n;return ut.resolve(c)}getAllFromCollectionGroup(t,e,r,o){tn()}Fr(t,e){return ut.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new h6(this)}getSize(t){return ut.resolve(this.size)}}class h6 extends L4{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?e.push(this.ar.addEntry(t,o)):this.ar.removeEntry(r)}),ut.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class f6{constructor(t){this.persistence=t,this.Mr=new Wc(e=>id(e),vm),this.lastRemoteSnapshotVersion=mn.min(),this.highestTargetId=0,this.Or=0,this.Nr=new xL,this.targetCount=0,this.Lr=Mm.Nn()}forEachTarget(t,e){return this.Mr.forEach((r,o)=>e(o)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Or&&(this.Or=e),ut.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new Mm(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,ut.resolve()}updateTargetData(t,e){return this.qn(e),ut.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,e,r){let o=0;const c=[];return this.Mr.forEach((d,p)=>{p.sequenceNumber<=e&&null===r.get(p.targetId)&&(this.Mr.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)}),ut.waitFor(c).next(()=>o)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,e){const r=this.Mr.get(e)||null;return ut.resolve(r)}addMatchingKeys(t,e,r){return this.Nr.dr(e,r),ut.resolve()}removeMatchingKeys(t,e,r){this.Nr.Rr(e,r);const o=this.persistence.referenceDelegate,c=[];return o&&e.forEach(d=>{c.push(o.markPotentiallyOrphaned(t,d))}),ut.waitFor(c)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),ut.resolve()}getMatchingKeysForTargetId(t,e){const r=this.Nr.gr(e);return ut.resolve(r)}containsKey(t,e){return ut.resolve(this.Nr.containsKey(e))}}class ML{constructor(t,e){this.Br={},this.overlays={},this.kr=new aa(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new f6(this),this.indexManager=new J8,this.remoteDocumentCache=new d6(r=>this.referenceDelegate.Kr(r)),this.serializer=new p4(e),this.$r=new c6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new l6,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let r=this.Br[t.toKey()];return r||(r=new u6(e,this.referenceDelegate),this.Br[t.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,r){Rt("MemoryPersistence","Starting transaction:",t);const o=new p6(this.kr.next());return this.referenceDelegate.Ur(),r(o).next(c=>this.referenceDelegate.Wr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Gr(t,e){return ut.or(Object.values(this.Br).map(r=>()=>r.containsKey(t,e)))}}class p6 extends HF{constructor(t){super(),this.currentSequenceNumber=t}}class MM{constructor(t){this.persistence=t,this.zr=new xL,this.jr=null}static Hr(t){return new MM(t)}get Jr(){if(this.jr)return this.jr;throw tn()}addReference(t,e,r){return this.zr.addReference(r,e),this.Jr.delete(r.toString()),ut.resolve()}removeReference(t,e,r){return this.zr.removeReference(r,e),this.Jr.add(r.toString()),ut.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),ut.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach(o=>this.Jr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(o=>{o.forEach(c=>this.Jr.add(c.toString()))}).next(()=>r.removeTargetData(t,e))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.Jr,r=>{const o=Yt.fromPath(r);return this.Yr(t,o).next(c=>{c||e.removeEntry(o,mn.min())})}).next(()=>(this.jr=null,e.apply(t)))}updateLimboDocument(t,e){return this.Yr(t,e).next(r=>{r?this.Jr.delete(e.toString()):this.Jr.add(e.toString())})}Kr(t){return 0}Yr(t,e){return ut.or([()=>ut.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class PL{constructor(t,e,r,o){this.targetId=t,this.fromCache=e,this.qi=r,this.Qi=o}static Ki(t,e){let r=Bn(),o=Bn();for(const c of e.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new PL(t,e.fromCache,r,o)}}class g6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class z4{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function WS(){return!function KS(){var n;const t=null===(n=nm())||void 0===n?void 0:n.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function Hx(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}(function $c(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,r,o){const c={result:null};return this.ji(t,e).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Hi(t,e,o,r).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new g6;return this.Ji(t,e,d).next(p=>{if(c.result=p,this.Ui)return this.Yi(t,e,d,p.size)})}).next(()=>c.result)}Yi(t,e,r,o){return r.documentReadCount<this.Wi?(cm()<=ir.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",sd(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ut.resolve()):(cm()<=ir.DEBUG&&Rt("QueryEngine","Query:",sd(e),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Gi*o?(cm()<=ir.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",sd(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,vo(e))):ut.resolve())}ji(t,e){if(cM(e))return ut.resolve(null);let r=vo(e);return this.indexManager.getIndexType(t,r).next(o=>0===o?null:(null!==e.limit&&1===o&&(e=Jv(e,null,"F"),r=vo(e)),this.indexManager.getDocumentsMatchingTarget(t,r).next(c=>{const d=Bn(...c);return this.zi.getDocuments(t,d).next(p=>this.indexManager.getMinOffset(t,r).next(g=>{const I=this.Zi(e,p);return this.Xi(e,I,d,g.readTime)?this.ji(t,Jv(e,null,"F")):this.es(t,I,e,g)}))})))}Hi(t,e,r,o){return cM(e)||o.isEqual(mn.min())?ut.resolve(null):this.zi.getDocuments(t,r).next(c=>{const d=this.Zi(e,c);return this.Xi(e,d,r,o)?ut.resolve(null):(cm()<=ir.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),sd(e)),this.es(t,d,e,function $x(n,t){const e=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=mn.fromTimestamp(1e9===r?new Kr(e+1,0):new Kr(e,r));return new hs(o,Yt.empty(),t)}(o,-1)).next(p=>p))})}Zi(t,e){let r=new Rn(hM(t));return e.forEach((o,c)=>{ey(t,c)&&(r=r.add(c))}),r}Xi(t,e,r,o){if(null===t.limit)return!1;if(r.size!==e.size)return!0;const c="F"===t.limitType?e.last():e.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ji(t,e,r){return cm()<=ir.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",sd(e)),this.zi.getDocumentsMatchingQuery(t,e,hs.min(),r)}es(t,e,r,o){return this.zi.getDocumentsMatchingQuery(t,r,o).next(c=>(e.forEach(d=>{c=c.insert(d.key,d)}),c))}}class _6{constructor(t,e,r,o){this.persistence=t,this.ts=e,this.serializer=o,this.ns=new Wr(Mn),this.rs=new Wc(c=>id(c),vm),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $4(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.ns))}}function K4(n,t){return NL.apply(this,arguments)}function NL(){return(NL=(0,L.A)(function*(n,t){const e=Gt(n);return yield e.persistence.runTransaction("Handle user change","readonly",r=>{let o;return e.mutationQueue.getAllMutationBatches(r).next(c=>(o=c,e._s(t),e.mutationQueue.getAllMutationBatches(r))).next(c=>{const d=[],p=[];let g=Bn();for(const I of o){d.push(I.batchId);for(const A of I.mutations)g=g.add(A.key)}for(const I of c){p.push(I.batchId);for(const A of I.mutations)g=g.add(A.key)}return e.localDocuments.getDocuments(r,g).next(I=>({us:I,removedBatchIds:d,addedBatchIds:p}))})})})).apply(this,arguments)}function W4(n){const t=Gt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Qr.getLastRemoteSnapshotVersion(e))}function b6(n,t){const e=Gt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function cy(n,t,e){return FL.apply(this,arguments)}function FL(){return(FL=(0,L.A)(function*(n,t,e){const r=Gt(n),o=r.ns.get(t),c=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",c,d=>r.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!td(d))throw d;Rt("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}r.ns=r.ns.remove(t),r.rs.delete(o.target)})).apply(this,arguments)}function kM(n,t,e){const r=Gt(n);let o=mn.min(),c=Bn();return r.persistence.runTransaction("Execute query","readwrite",d=>function(g,I,A){const k=Gt(g),j=k.rs.get(A);return void 0!==j?ut.resolve(k.ns.get(j)):k.Qr.getTargetData(I,A)}(r,d,vo(t)).next(p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(d,p.targetId).next(g=>{c=g})}).next(()=>r.ts.getDocumentsMatchingQuery(d,t,e?o:mn.min(),e?c:Bn())).next(p=>(function Y4(n,t,e){let r=n.ss.get(t)||mn.min();e.forEach((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)}),n.ss.set(t,r)}(r,function dM(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(t),p),{documents:p,hs:c})))}class jL{constructor(){this.activeTargetIds=function pM(){return G$}()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class eH{constructor(){this.no=new jL,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,r){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new jL,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class C6{io(t){}shutdown(){}}class tH{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Rt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Rt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let FM=null;function HL(){return null===FM?FM=268435456+Math.round(2147483648*Math.random()):FM++,"0x"+FM.toString(16)}const I6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class D6{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const ps="WebChannelConnection";class T6 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+e.host,this.So=`projects/${o}/databases/${c}`,this.bo="(default)"===this.databaseId.database?`project_id=${o}`:`project_id=${o}&database_id=${c}`}get Do(){return!1}Co(e,r,o,c,d){const p=HL(),g=this.vo(e,r.toUriEncodedString());Rt("RestConnection",`Sending RPC '${e}' ${p}:`,g,o);const I={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(I,c,d),this.Mo(e,g,I,o).then(A=>(Rt("RestConnection",`Received RPC '${e}' ${p}: `,A),A),A=>{throw xs("RestConnection",`RPC '${e}' ${p} failed with error: `,A,"url: ",g,"request:",o),A})}xo(e,r,o,c,d,p){return this.Co(e,r,o,c,d)}Fo(e,r,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Wl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((c,d)=>e[d]=c),o&&o.headers.forEach((c,d)=>e[d]=c)}vo(e,r){return`${this.wo}/v1/${r}:${I6[e]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,e,r,o){const c=HL();return new Promise((d,p)=>{const g=new FF;g.setWithCredentials(!0),g.listenOnce(Lw.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case kv.NO_ERROR:const A=g.getResponseJson();Rt(ps,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(A)),d(A);break;case kv.TIMEOUT:Rt(ps,`RPC '${t}' ${c} timed out`),p(new Ot(pt.DEADLINE_EXCEEDED,"Request time out"));break;case kv.HTTP_ERROR:const k=g.getStatus();if(Rt(ps,`RPC '${t}' ${c} failed with status:`,k,"response text:",g.getResponseText()),k>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const X=j?.error;if(X&&X.status&&X.message){const me=function(he){const ft=he.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(ft)>=0?ft:pt.UNKNOWN}(X.status);p(new Ot(me,X.message))}else p(new Ot(pt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new Ot(pt.UNAVAILABLE,"Connection failed."));break;default:tn()}}finally{Rt(ps,`RPC '${t}' ${c} completed.`)}});const I=JSON.stringify(o);Rt(ps,`RPC '${t}' ${c} sending request:`,o),g.send(e,"POST",I,r,15)})}Oo(t,e,r){const o=HL(),c=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Fv(),p=Nv(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},I=this.longPollingOptions.timeoutSeconds;void 0!==I&&(g.longPollingTimeout=Math.round(1e3*I)),this.useFetchStreams&&(g.xmlHttpFactory=new Fx({})),this.Fo(g.initMessageHeaders,e,r),g.encodeInitMessageHeaders=!0;const A=c.join("");Rt(ps,`Creating RPC '${t}' stream ${o}: ${A}`,g);const k=d.createWebChannel(A,g);let j=!1,X=!1;const me=new D6({lo:he=>{X?Rt(ps,`Not sending because RPC '${t}' stream ${o} is closed:`,he):(j||(Rt(ps,`Opening RPC '${t}' stream ${o} transport.`),k.open(),j=!0),Rt(ps,`RPC '${t}' stream ${o} sending:`,he),k.send(he))},ho:()=>k.close()}),pe=(he,ft,bt)=>{he.listen(ft,It=>{try{bt(It)}catch(Kt){setTimeout(()=>{throw Kt},0)}})};return pe(k,Kh.EventType.OPEN,()=>{X||(Rt(ps,`RPC '${t}' stream ${o} transport opened.`),me.mo())}),pe(k,Kh.EventType.CLOSE,()=>{X||(X=!0,Rt(ps,`RPC '${t}' stream ${o} transport closed`),me.po())}),pe(k,Kh.EventType.ERROR,he=>{X||(X=!0,xs(ps,`RPC '${t}' stream ${o} transport errored:`,he),me.po(new Ot(pt.UNAVAILABLE,"The operation could not be completed")))}),pe(k,Kh.EventType.MESSAGE,he=>{var ft;if(!X){const bt=he.data[0];en(!!bt);const Kt=bt.error||(null===(ft=bt[0])||void 0===ft?void 0:ft.error);if(Kt){Rt(ps,`RPC '${t}' stream ${o} received error:`,Kt);const yn=Kt.status;let un=function(Ie){const je=lr[Ie];if(void 0!==je)return yM(je)}(yn),Ue=Kt.message;void 0===un&&(un=pt.INTERNAL,Ue="Unknown error status: "+yn+" with message "+Kt.message),X=!0,me.po(new Ot(un,Ue)),k.close()}else Rt(ps,`RPC '${t}' stream ${o} received:`,bt),me.yo(bt)}}),pe(p,Lx.STAT_EVENT,he=>{he.stat===Pv.PROXY?Rt(ps,`RPC '${t}' stream ${o} detected buffering proxy`):he.stat===Pv.NOPROXY&&Rt(ps,`RPC '${t}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{me.fo()},0),me}}function LM(){return typeof document<"u"?document:null}function DC(n){return new F8(n,!0)}class zL{constructor(t,e,r=1e3,o=1.5,c=6e4){this.oi=t,this.timerId=e,this.No=r,this.Lo=o,this.Bo=c,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const e=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),o=Math.max(0,e-r);o>0&&Rt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.ko} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,o,()=>(this.Qo=Date.now(),t())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class rH{constructor(t,e,r,o,c,d,p,g){this.oi=t,this.Go=r,this.zo=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new zL(t,e)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}stop(){var t=this;return(0,L.A)(function*(){t.Zo()&&(yield t.close(0))})()}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(t){this.s_(),this.stream.send(t)}r_(){var t=this;return(0,L.A)(function*(){if(t.Xo())return t.close(0)})()}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}close(t,e){var r=this;return(0,L.A)(function*(){r.s_(),r.o_(),r.Yo.cancel(),r.jo++,4!==t?r.Yo.reset():e&&e.code===pt.RESOURCE_EXHAUSTED?(Mi(e.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),r.Yo.Ko()):e&&e.code===pt.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.__(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Ao(e)})()}__(){}auth(){this.state=1;const t=this.a_(this.jo),e=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.jo===e&&this.u_(r,o)},r=>{t(()=>{const o=new Ot(pt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(o)})})}u_(t,e){const r=this.a_(this.jo);this.stream=this.l_(t,e),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(o=>{r(()=>this.c_(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}e_(){var t=this;this.state=5,this.Yo.$o((0,L.A)(function*(){t.state=0,t.start()}))}c_(t){return Rt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}a_(t){return e=>{this.oi.enqueueAndForget(()=>this.jo===t?e():(Rt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A6 extends rH{constructor(t,e,r,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,o,d),this.serializer=c}l_(t,e){return this.connection.Oo("Listen",t,e)}onMessage(t){this.Yo.reset();const e=function B8(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(I=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===I?1:"REMOVE"===I?2:"CURRENT"===I?3:"RESET"===I?4:tn(),o=t.targetChange.targetIds||[],c=function(I,A){return I.useProto3Json?(en(void 0===A||"string"==typeof A),Hi.fromBase64String(A||"")):(en(void 0===A||A instanceof Buffer||A instanceof Uint8Array),Hi.fromUint8Array(A||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&function(I){const A=void 0===I.code?pt.UNKNOWN:yM(I.code);return new Ot(A,I.message||"")}(d);e=new Y$(r,o,c,p||null)}else if("documentChange"in t){const r=t.documentChange,o=su(n,r.document.name),c=Gi(r.document.updateTime),d=r.document.createTime?Gi(r.document.createTime):mn.min(),p=new _o({mapValue:{fields:r.document.fields}}),g=Jr.newFoundDocument(o,c,d,p);e=new EM(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in t){const r=t.documentDelete,o=su(n,r.document),c=r.readTime?Gi(r.readTime):mn.min(),d=Jr.newNoDocument(o,c);e=new EM([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const r=t.documentRemove,o=su(n,r.document);e=new EM([],r.removedTargetIds||[],o,null)}else{if(!("filter"in t))return tn();{const r=t.filter,{count:o=0,unchangedNames:c}=r,d=new zi(o,c);e=new Q$(r.targetId,d)}}var I;return e}(this.serializer,t),r=function(c){if(!("targetChange"in c))return mn.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?mn.min():d.readTime?Gi(d.readTime):mn.min()}(t);return this.listener.h_(e,r)}P_(t){const e={};e.database=bL(this.serializer),e.addTarget=function(c,d){let p;const g=d.target;if(p=Zv(g)?{documents:c4(c,g)}:{query:wM(c,g)._t},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=t4(c,d.resumeToken);const I=_L(c,d.expectedCount);null!==I&&(p.expectedCount=I)}else if(d.snapshotVersion.compareTo(mn.min())>0){p.readTime=ty(c,d.snapshotVersion.toTimestamp());const I=_L(c,d.expectedCount);null!==I&&(p.expectedCount=I)}return p}(this.serializer,t);const r=function j8(n,t){const e=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tn()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.i_(e)}I_(t){const e={};e.database=bL(this.serializer),e.removeTarget=t,this.i_(e)}}class S6 extends rH{constructor(t,e,r,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,o,d),this.serializer=c,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,e){return this.connection.Oo("Write",t,e)}onMessage(t){if(en(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const e=function U8(n,t){return n&&n.length>0?(en(void 0!==t),n.map(e=>function(o,c){let d=Gi(o.updateTime?o.updateTime:c);return d.isEqual(mn.min())&&(d=Gi(c)),new a(d,o.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=Gi(t.commitTime);return this.listener.A_(r,e)}return en(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=bL(this.serializer),this.i_(t)}d_(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>_C(this.serializer,r))};this.i_(e)}}class x6 extends class{}{constructor(t,e,r,o){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=r,this.serializer=o,this.m_=!1}f_(){if(this.m_)throw new Ot(pt.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,e,r,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(t,yL(e,r),o,c,d)).catch(c=>{throw"FirebaseError"===c.name?(c.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ot(pt.UNKNOWN,c.toString())})}xo(t,e,r,o,c){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,p])=>this.connection.xo(t,yL(e,r),o,d,p,c)).catch(d=>{throw"FirebaseError"===d.name?(d.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Ot(pt.UNKNOWN,d.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class M6{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Mi(e),this.y_=!1):Rt("OnlineStateTracker",e)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class R6{constructor(t,e,r,o,c){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=c,this.O_.io(p=>{r.enqueueAndForget((0,L.A)(function*(){var g;sf(d)&&(Rt("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,L.A)(function*(A){const k=Gt(A);k.M_.add(4),yield ly(k),k.N_.set("Unknown"),k.M_.delete(4),yield TC(k)}),function I(A){return g.apply(this,arguments)})(d))}))}),this.N_=new M6(r,o)}}function TC(n){return GL.apply(this,arguments)}function GL(){return(GL=(0,L.A)(function*(n){if(sf(n))for(const t of n.x_)yield t(!0)})).apply(this,arguments)}function ly(n){return KL.apply(this,arguments)}function KL(){return(KL=(0,L.A)(function*(n){for(const t of n.x_)yield t(!1)})).apply(this,arguments)}function VM(n,t){const e=Gt(n);e.F_.has(t.targetId)||(e.F_.set(t.targetId,t),XL(e)?qL(e):hy(e).Xo()&&WL(e,t))}function uy(n,t){const e=Gt(n),r=hy(e);e.F_.delete(t),r.Xo()&&iH(e,t),0===e.F_.size&&(r.Xo()?r.n_():sf(e)&&e.N_.set("Unknown"))}function WL(n,t){if(n.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(mn.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}hy(n).P_(t)}function iH(n,t){n.L_.xe(t),hy(n).I_(t)}function qL(n){n.L_=new O8({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>n.F_.get(t)||null,tt:()=>n.datastore.serializer.databaseId}),hy(n).start(),n.N_.w_()}function XL(n){return sf(n)&&!hy(n).Zo()&&n.F_.size>0}function sf(n){return 0===Gt(n).M_.size}function oH(n){n.L_=void 0}function O6(n){return QL.apply(this,arguments)}function QL(){return(QL=(0,L.A)(function*(n){n.N_.set("Online")})).apply(this,arguments)}function k6(n){return YL.apply(this,arguments)}function YL(){return(YL=(0,L.A)(function*(n){n.F_.forEach((t,e)=>{WL(n,t)})})).apply(this,arguments)}function P6(n,t){return ZL.apply(this,arguments)}function ZL(){return(ZL=(0,L.A)(function*(n,t){oH(n),XL(n)?(n.N_.D_(t),qL(n)):n.N_.set("Unknown")})).apply(this,arguments)}function N6(n,t,e){return JL.apply(this,arguments)}function JL(){return JL=(0,L.A)(function*(n,t,e){if(n.N_.set("Online"),t instanceof Y$&&2===t.state&&t.cause)try{yield(r=(0,L.A)(function*(c,d){const p=d.cause;for(const g of d.targetIds)c.F_.has(g)&&(yield c.remoteSyncer.rejectListen(g,p),c.F_.delete(g),c.L_.removeTarget(g))}),function o(c,d){return r.apply(this,arguments)})(n,t)}catch(r){Rt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield BM(n,r)}else if(t instanceof EM?n.L_.Ke(t):t instanceof Q$?n.L_.He(t):n.L_.We(t),!e.isEqual(mn.min()))try{const r=yield W4(n.localStore);e.compareTo(r)>=0&&(yield function(c,d){const p=c.L_.rt(d);return p.targetChanges.forEach((g,I)=>{if(g.resumeToken.approximateByteSize()>0){const A=c.F_.get(I);A&&c.F_.set(I,A.withResumeToken(g.resumeToken,d))}}),p.targetMismatches.forEach((g,I)=>{const A=c.F_.get(g);if(!A)return;c.F_.set(g,A.withResumeToken(Hi.EMPTY_BYTE_STRING,A.snapshotVersion)),iH(c,g);const k=new ld(A.target,g,I,A.sequenceNumber);WL(c,k)}),c.remoteSyncer.applyRemoteEvent(p)}(n,e))}catch(r){Rt("RemoteStore","Failed to raise snapshot:",r),yield BM(n,r)}var r}),JL.apply(this,arguments)}function BM(n,t,e){return eV.apply(this,arguments)}function eV(){return(eV=(0,L.A)(function*(n,t,e){if(!td(t))throw t;n.M_.add(1),yield ly(n),n.N_.set("Offline"),e||(e=()=>W4(n.localStore)),n.asyncQueue.enqueueRetryable((0,L.A)(function*(){Rt("RemoteStore","Retrying IndexedDB access"),yield e(),n.M_.delete(1),yield TC(n)}))})).apply(this,arguments)}function sH(n,t){return t().catch(e=>BM(n,e,t))}function dy(n){return tV.apply(this,arguments)}function tV(){return(tV=(0,L.A)(function*(n){const t=Gt(n),e=af(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;F6(t);)try{const o=yield b6(t.localStore,r);if(null===o){0===t.v_.length&&e.n_();break}r=o.batchId,L6(t,o)}catch(o){yield BM(t,o)}aH(t)&&cH(t)})).apply(this,arguments)}function F6(n){return sf(n)&&n.v_.length<10}function L6(n,t){n.v_.push(t);const e=af(n);e.Xo()&&e.E_&&e.d_(t.mutations)}function aH(n){return sf(n)&&!af(n).Zo()&&n.v_.length>0}function cH(n){af(n).start()}function V6(n){return nV.apply(this,arguments)}function nV(){return(nV=(0,L.A)(function*(n){af(n).V_()})).apply(this,arguments)}function B6(n){return rV.apply(this,arguments)}function rV(){return(rV=(0,L.A)(function*(n){const t=af(n);for(const e of n.v_)t.d_(e.mutations)})).apply(this,arguments)}function U6(n,t,e){return iV.apply(this,arguments)}function iV(){return(iV=(0,L.A)(function*(n,t,e){const r=n.v_.shift(),o=wn.from(r,t,e);yield sH(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield dy(n)})).apply(this,arguments)}function j6(n,t){return oV.apply(this,arguments)}function oV(){return oV=(0,L.A)(function*(n,t){var e;t&&af(n).E_&&(yield(e=(0,L.A)(function*(o,c){if(hC(p=c.code)&&p!==pt.ABORTED){const d=o.v_.shift();af(o).t_(),yield sH(o,()=>o.remoteSyncer.rejectFailedWrite(d.batchId,c)),yield dy(o)}var p}),function r(o,c){return e.apply(this,arguments)})(n,t)),aH(n)&&cH(n)}),oV.apply(this,arguments)}function lH(n,t){return sV.apply(this,arguments)}function sV(){return(sV=(0,L.A)(function*(n,t){const e=Gt(n);e.asyncQueue.verifyOperationInProgress(),Rt("RemoteStore","RemoteStore received new credentials");const r=sf(e);e.M_.add(3),yield ly(e),r&&e.N_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.M_.delete(3),yield TC(e)})).apply(this,arguments)}function aV(n,t){return cV.apply(this,arguments)}function cV(){return(cV=(0,L.A)(function*(n,t){const e=Gt(n);t?(e.M_.delete(2),yield TC(e)):t||(e.M_.add(2),yield ly(e),e.N_.set("Unknown"))})).apply(this,arguments)}function hy(n){return n.B_||(n.B_=function(e,r,o){const c=Gt(e);return c.f_(),new A6(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{Po:O6.bind(null,n),To:k6.bind(null,n),Ao:P6.bind(null,n),h_:N6.bind(null,n)}),n.x_.push(function(){var t=(0,L.A)(function*(e){e?(n.B_.t_(),XL(n)?qL(n):n.N_.set("Unknown")):(yield n.B_.stop(),oH(n))});return function(e){return t.apply(this,arguments)}}())),n.B_}function af(n){return n.k_||(n.k_=function(e,r,o){const c=Gt(e);return c.f_(),new S6(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{Po:()=>Promise.resolve(),To:V6.bind(null,n),Ao:j6.bind(null,n),R_:B6.bind(null,n),A_:U6.bind(null,n)}),n.x_.push(function(){var t=(0,L.A)(function*(e){e?(n.k_.t_(),yield dy(n)):(yield n.k_.stop(),n.v_.length>0&&(Rt("RemoteStore",`Stopping write stream with ${n.v_.length} pending writes`),n.v_=[]))});return function(e){return t.apply(this,arguments)}}())),n.k_}class lV{constructor(t,e,r,o,c){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,r,o,c){const d=Date.now()+r,p=new lV(t,e,d,o,c);return p.start(r),p}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ot(pt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fy(n,t){if(Mi("AsyncQueue",`${t}: ${n}`),td(n))return new Ot(pt.UNAVAILABLE,`${t}: ${n}`);throw n}class py{constructor(t){this.comparator=t?(e,r)=>t(e,r)||Yt.comparator(e.key,r.key):(e,r)=>Yt.comparator(e.key,r.key),this.keyedMap=wm(),this.sortedSet=new Wr(this.comparator)}static emptySet(t){return new py(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof py)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const o=e.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new py;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class uH{constructor(){this.q_=new Wr(Yt.comparator)}track(t){const e=t.doc.key,r=this.q_.get(e);r?0!==t.type&&3===r.type?this.q_=this.q_.insert(e,t):3===t.type&&1!==r.type?this.q_=this.q_.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.q_=this.q_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.q_=this.q_.remove(e):1===t.type&&2===r.type?this.q_=this.q_.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):tn():this.q_=this.q_.insert(e,t)}Q_(){const t=[];return this.q_.inorderTraversal((e,r)=>{t.push(r)}),t}}class my{constructor(t,e,r,o,c,d,p,g,I){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=I}static fromInitialDocuments(t,e,r,o,c){const d=[];return e.forEach(p=>{d.push({type:0,doc:p})}),new my(t,e,py.emptySet(e),d,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Em(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let o=0;o<e.length;o++)if(e[o].type!==r[o].type||!e[o].doc.isEqual(r[o].doc))return!1;return!0}}class $6{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(t=>t.G_())}}class H6{constructor(){this.queries=new Wc(t=>lC(t),Em),this.onlineState="Unknown",this.z_=new Set}}function uV(n,t){return dV.apply(this,arguments)}function dV(){return(dV=(0,L.A)(function*(n,t){const e=Gt(n);let r=3;const o=t.query;let c=e.queries.get(o);c?!c.W_()&&t.G_()&&(r=2):(c=new $6,r=t.G_()?0:1);try{switch(r){case 0:c.K_=yield e.onListen(o,!0);break;case 1:c.K_=yield e.onListen(o,!1);break;case 2:yield e.onFirstRemoteStoreListen(o)}}catch(d){const p=fy(d,`Initialization of query '${sd(t.query)}' failed`);return void t.onError(p)}e.queries.set(o,c),c.U_.push(t),t.j_(e.onlineState),c.K_&&t.H_(c.K_)&&pV(e)})).apply(this,arguments)}function hV(n,t){return fV.apply(this,arguments)}function fV(){return(fV=(0,L.A)(function*(n,t){const e=Gt(n),r=t.query;let o=3;const c=e.queries.get(r);if(c){const d=c.U_.indexOf(t);d>=0&&(c.U_.splice(d,1),0===c.U_.length?o=t.G_()?0:1:!c.W_()&&t.G_()&&(o=2))}switch(o){case 0:return e.queries.delete(r),e.onUnlisten(r,!0);case 1:return e.queries.delete(r),e.onUnlisten(r,!1);case 2:return e.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function z6(n,t){const e=Gt(n);let r=!1;for(const o of t){const d=e.queries.get(o.query);if(d){for(const p of d.U_)p.H_(o)&&(r=!0);d.K_=o}}r&&pV(e)}function G6(n,t,e){const r=Gt(n),o=r.queries.get(t);if(o)for(const c of o.U_)c.onError(e);r.queries.delete(t)}function pV(n){n.z_.forEach(t=>{t.next()})}var mV,dH;(dH=mV||(mV={})).J_="default",dH.Cache="cache";class gV{constructor(t,e,r){this.query=t,this.Y_=e,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)3!==o.type&&r.push(o);t=new my(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),e=!0):this.ta(t,this.onlineState)&&(this.na(t),e=!0),this.X_=t,e}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let e=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),e=!0),e}ta(t,e){return!t.fromCache||!this.G_()||(!this.options.ra||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ea(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}na(t){t=my.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==mV.Cache}}class pH{constructor(t){this.key=t}}class mH{constructor(t){this.key=t}}class gH{constructor(t,e){this.query=t,this.la=e,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Bn(),this.mutatedKeys=Bn(),this.Ia=hM(t),this.Ta=new py(this.Ia)}get Ea(){return this.la}da(t,e){const r=e?e.Aa:new uH,o=e?e.Ta:this.Ta;let c=e?e.mutatedKeys:this.mutatedKeys,d=o,p=!1;const g="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,I="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal((A,k)=>{const j=o.get(A),X=ey(this.query,k)?k:null,me=!!j&&this.mutatedKeys.has(j.key),pe=!!X&&(X.hasLocalMutations||this.mutatedKeys.has(X.key)&&X.hasCommittedMutations);let he=!1;j&&X?j.data.isEqual(X.data)?me!==pe&&(r.track({type:3,doc:X}),he=!0):this.Ra(j,X)||(r.track({type:2,doc:X}),he=!0,(g&&this.Ia(X,g)>0||I&&this.Ia(X,I)<0)&&(p=!0)):!j&&X?(r.track({type:0,doc:X}),he=!0):j&&!X&&(r.track({type:1,doc:j}),he=!0,(g||I)&&(p=!0)),he&&(X?(d=d.add(X),c=pe?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const A="F"===this.query.limitType?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{Ta:d,Aa:r,Xi:p,mutatedKeys:c}}Ra(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r,o){const c=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const d=t.Aa.Q_();d.sort((A,k)=>function(X,me){const pe=he=>{switch(he){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tn()}};return pe(X)-pe(me)}(A.type,k.type)||this.Ia(A.doc,k.doc)),this.Va(r),o=null!=o&&o;const p=e&&!o?this.ma():[],g=0===this.Pa.size&&this.current&&!o?1:0,I=g!==this.ha;return this.ha=g,0!==d.length||I?{snapshot:new my(this.query,t.Ta,c,d,t.mutatedKeys,0===g,I,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:p}:{fa:p}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new uH,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach(e=>this.la=this.la.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.la=this.la.delete(e)),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Bn(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const e=[];return t.forEach(r=>{this.Pa.has(r)||e.push(new mH(r))}),this.Pa.forEach(r=>{t.has(r)||e.push(new pH(r))}),e}pa(t){this.la=t.hs,this.Pa=Bn();const e=this.da(t.documents);return this.applyChanges(e,!0)}ya(){return my.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class q6{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class X6{constructor(t){this.key=t,this.wa=!1}}class Q6{constructor(t,e,r,o,c,d){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Sa={},this.ba=new Wc(p=>lC(p),Em),this.Da=new Map,this.Ca=new Set,this.va=new Wr(Yt.comparator),this.Fa=new Map,this.Ma=new xL,this.xa={},this.Oa=new Map,this.Na=Mm.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}function Y6(n,t){return _V.apply(this,arguments)}function _V(){return(_V=(0,L.A)(function*(n,t,e=!0){const r=UM(n);let o;const c=r.ba.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.ya()):o=yield _H(r,t,e,!0),o})).apply(this,arguments)}function Z6(n,t){return vV.apply(this,arguments)}function vV(){return(vV=(0,L.A)(function*(n,t){const e=UM(n);yield _H(e,t,!0,!1)})).apply(this,arguments)}function _H(n,t,e,r){return yV.apply(this,arguments)}function yV(){return(yV=(0,L.A)(function*(n,t,e,r){const o=yield function ay(n,t){const e=Gt(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return e.Qr.getTargetData(r,t).next(c=>c?(o=c,ut.resolve(o)):e.Qr.allocateTargetId(r).next(d=>(o=new ld(t,d,"TargetPurposeListen",r.currentSequenceNumber),e.Qr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=e.ns.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(e.ns=e.ns.insert(r.targetId,r),e.rs.set(t,r.targetId)),r})}(n.localStore,vo(t)),c=o.targetId,d=e?n.sharedClientState.addLocalQueryTarget(c):"not-current";let p;return r&&(p=yield function bV(n,t,e,r,o){return EV.apply(this,arguments)}(n,t,c,"current"===d,o.resumeToken)),n.isPrimaryClient&&e&&VM(n.remoteStore,o),p})).apply(this,arguments)}function EV(){return EV=(0,L.A)(function*(n,t,e,r,o){n.Ba=(k,j,X)=>{return(me=(0,L.A)(function*(he,ft,bt,It){let Kt=ft.view.da(bt);Kt.Xi&&(Kt=yield kM(he.localStore,ft.query,!1).then(({documents:ue})=>ft.view.da(ue,Kt)));const yn=It&&It.targetChanges.get(ft.targetId),un=It&&null!=It.targetMismatches.get(ft.targetId),Ue=ft.view.applyChanges(Kt,he.isPrimaryClient,yn,un);return OV(he,ft.targetId,Ue.fa),Ue.snapshot}),function pe(he,ft,bt,It){return me.apply(this,arguments)})(n,k,j,X);var me};const c=yield kM(n.localStore,t,!0),d=new gH(t,c.hs),p=d.da(c.documents),g=mC.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState,o),I=d.applyChanges(p,n.isPrimaryClient,g);OV(n,e,I.fa);const A=new q6(t,e,d);return n.ba.set(t,A),n.Da.has(e)?n.Da.get(e).push(t):n.Da.set(e,[t]),I.snapshot}),EV.apply(this,arguments)}function J6(n,t,e){return wV.apply(this,arguments)}function wV(){return(wV=(0,L.A)(function*(n,t,e){const r=Gt(n),o=r.ba.get(t),c=r.Da.get(o.targetId);if(c.length>1)return r.Da.set(o.targetId,c.filter(d=>!Em(d,t))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield cy(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),e&&uy(r.remoteStore,o.targetId),gy(r,o.targetId)}).catch(Ql))):(gy(r,o.targetId),yield cy(r.localStore,o.targetId,!0))})).apply(this,arguments)}function eG(n,t){return CV.apply(this,arguments)}function CV(){return(CV=(0,L.A)(function*(n,t){const e=Gt(n),r=e.ba.get(t),o=e.Da.get(r.targetId);e.isPrimaryClient&&1===o.length&&(e.sharedClientState.removeLocalQueryTarget(r.targetId),uy(e.remoteStore,r.targetId))})).apply(this,arguments)}function IV(){return(IV=(0,L.A)(function*(n,t,e){const r=function HV(n){const t=Gt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rG.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=iG.bind(null,t),t}(n);try{const o=yield function(d,p){const g=Gt(d),I=Kr.now(),A=p.reduce((X,me)=>X.add(me.key),Bn());let k,j;return g.persistence.runTransaction("Locally write mutations","readwrite",X=>{let me=Ms(),pe=Bn();return g.os.getEntries(X,A).next(he=>{me=he,me.forEach((ft,bt)=>{bt.isValidDocument()||(pe=pe.add(ft))})}).next(()=>g.localDocuments.getOverlayedDocuments(X,me)).next(he=>{k=he;const ft=[];for(const bt of p){const It=M(bt,k.get(bt.key).overlayedDocument);null!=It&&ft.push(new ce(bt.key,It,rL(It.value.mapValue),u.exists(!0)))}return g.mutationQueue.addMutationBatch(X,I,ft,p)}).next(he=>{j=he;const ft=he.applyToLocalDocumentSet(k,pe);return g.documentOverlayCache.saveOverlays(X,he.batchId,ft)})}).then(()=>({batchId:j.batchId,changes:dL(k)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),function(d,p,g){let I=d.xa[d.currentUser.toKey()];I||(I=new Wr(Mn)),I=I.insert(p,g),d.xa[d.currentUser.toKey()]=I}(r,o.batchId,e),yield ud(r,o.changes),yield dy(r.remoteStore)}catch(o){const c=fy(o,"Failed to persist write");e.reject(c)}})).apply(this,arguments)}function vH(n,t){return DV.apply(this,arguments)}function DV(){return(DV=(0,L.A)(function*(n,t){const e=Gt(n);try{const r=yield function y6(n,t){const e=Gt(n),r=t.snapshotVersion;let o=e.ns;return e.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=e.os.newChangeBuffer({trackRemovals:!0});o=e.ns;const p=[];t.targetChanges.forEach((A,k)=>{const j=o.get(k);if(!j)return;p.push(e.Qr.removeMatchingKeys(c,A.removedDocuments,k).next(()=>e.Qr.addMatchingKeys(c,A.addedDocuments,k)));let X=j.withSequenceNumber(c.currentSequenceNumber);var pe,he,ft;null!==t.targetMismatches.get(k)?X=X.withResumeToken(Hi.EMPTY_BYTE_STRING,mn.min()).withLastLimboFreeSnapshotVersion(mn.min()):A.resumeToken.approximateByteSize()>0&&(X=X.withResumeToken(A.resumeToken,r)),o=o.insert(k,X),he=X,ft=A,(0===(pe=j).resumeToken.approximateByteSize()||he.snapshotVersion.toMicroseconds()-pe.snapshotVersion.toMicroseconds()>=3e8||ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0)&&p.push(e.Qr.updateTargetData(c,X))});let g=Ms(),I=Bn();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&p.push(e.persistence.referenceDelegate.updateLimboDocument(c,A))}),p.push(function q4(n,t,e){let r=Bn(),o=Bn();return e.forEach(c=>r=r.add(c)),t.getEntries(n,r).next(c=>{let d=Ms();return e.forEach((p,g)=>{const I=c.get(p);g.isFoundDocument()!==I.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(mn.min())?(t.removeEntry(p,g.readTime),d=d.insert(p,g)):!I.isValidDocument()||g.version.compareTo(I.version)>0||0===g.version.compareTo(I.version)&&I.hasPendingWrites?(t.addEntry(g),d=d.insert(p,g)):Rt("LocalStore","Ignoring outdated watch update for ",p,". Current version:",I.version," Watch version:",g.version)}),{cs:d,ls:o}})}(c,d,t.documentUpdates).next(A=>{g=A.cs,I=A.ls})),!r.isEqual(mn.min())){const A=e.Qr.getLastRemoteSnapshotVersion(c).next(k=>e.Qr.setTargetsMetadata(c,c.currentSequenceNumber,r));p.push(A)}return ut.waitFor(p).next(()=>d.apply(c)).next(()=>e.localDocuments.getLocalViewOfDocuments(c,g,I)).next(()=>g)}).then(c=>(e.ns=o,c))}(e.localStore,t);t.targetChanges.forEach((o,c)=>{const d=e.Fa.get(c);d&&(en(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.wa=!0:o.modifiedDocuments.size>0?en(d.wa):o.removedDocuments.size>0&&(en(d.wa),d.wa=!1))}),yield ud(e,r,t)}catch(r){yield Ql(r)}})).apply(this,arguments)}function yH(n,t,e){const r=Gt(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const o=[];r.ba.forEach((c,d)=>{const p=d.view.j_(t);p.snapshot&&o.push(p.snapshot)}),function(d,p){const g=Gt(d);g.onlineState=p;let I=!1;g.queries.forEach((A,k)=>{for(const j of k.U_)j.j_(p)&&(I=!0)}),I&&pV(g)}(r.eventManager,t),o.length&&r.Sa.h_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function nG(n,t,e){return TV.apply(this,arguments)}function TV(){return(TV=(0,L.A)(function*(n,t,e){const r=Gt(n);r.sharedClientState.updateQueryState(t,"rejected",e);const o=r.Fa.get(t),c=o&&o.key;if(c){let d=new Wr(Yt.comparator);d=d.insert(c,Jr.newNoDocument(c,mn.min()));const p=Bn().add(c),g=new pC(mn.min(),new Map,new Wr(Mn),d,p);yield vH(r,g),r.va=r.va.remove(c),r.Fa.delete(t),kV(r)}else yield cy(r.localStore,t,!1).then(()=>gy(r,t,e)).catch(Ql)})).apply(this,arguments)}function rG(n,t){return AV.apply(this,arguments)}function AV(){return(AV=(0,L.A)(function*(n,t){const e=Gt(n),r=t.batch.batchId;try{const o=yield function v6(n,t){const e=Gt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=t.batch.keys(),c=e.os.newChangeBuffer({trackRemovals:!0});return function(p,g,I,A){const k=I.batch,j=k.keys();let X=ut.resolve();return j.forEach(me=>{X=X.next(()=>A.getEntry(g,me)).next(pe=>{const he=I.docVersions.get(me);en(null!==he),pe.version.compareTo(he)<0&&(k.applyToRemoteDocument(pe,I),pe.isValidDocument()&&(pe.setReadTime(I.commitVersion),A.addEntry(pe)))})}),X.next(()=>p.mutationQueue.removeMutationBatch(g,k))}(e,r,t,c).next(()=>c.apply(r)).next(()=>e.mutationQueue.performConsistencyCheck(r)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(p){let g=Bn();for(let I=0;I<p.mutationResults.length;++I)p.mutationResults[I].transformResults.length>0&&(g=g.add(p.batch.mutations[I].key));return g}(t))).next(()=>e.localDocuments.getDocuments(r,o))})}(e.localStore,t);RV(e,r,null),MV(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield ud(e,o)}catch(o){yield Ql(o)}})).apply(this,arguments)}function iG(n,t,e){return SV.apply(this,arguments)}function SV(){return(SV=(0,L.A)(function*(n,t,e){const r=Gt(n);try{const o=yield function(d,p){const g=Gt(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",I=>{let A;return g.mutationQueue.lookupMutationBatch(I,p).next(k=>(en(null!==k),A=k.keys(),g.mutationQueue.removeMutationBatch(I,k))).next(()=>g.mutationQueue.performConsistencyCheck(I)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(I,A,p)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(I,A)).next(()=>g.localDocuments.getDocuments(I,A))})}(r.localStore,t);RV(r,t,e),MV(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield ud(r,o)}catch(o){yield Ql(o)}})).apply(this,arguments)}function xV(){return(xV=(0,L.A)(function*(n,t){const e=Gt(n);sf(e.remoteStore)||Rt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(d){const p=Gt(d);return p.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>p.mutationQueue.getHighestUnacknowledgedBatchId(g))}(e.localStore);if(-1===r)return void t.resolve();const o=e.Oa.get(r)||[];o.push(t),e.Oa.set(r,o)}catch(r){const o=fy(r,"Initialization of waitForPendingWrites() operation failed");t.reject(o)}})).apply(this,arguments)}function MV(n,t){(n.Oa.get(t)||[]).forEach(e=>{e.resolve()}),n.Oa.delete(t)}function RV(n,t,e){const r=Gt(n);let o=r.xa[r.currentUser.toKey()];if(o){const c=o.get(t);c&&(e?c.reject(e):c.resolve(),o=o.remove(t)),r.xa[r.currentUser.toKey()]=o}}function gy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Da.get(t))n.ba.delete(r),e&&n.Sa.ka(r,e);n.Da.delete(t),n.isPrimaryClient&&n.Ma.Vr(t).forEach(r=>{n.Ma.containsKey(r)||bH(n,r)})}function bH(n,t){n.Ca.delete(t.path.canonicalString());const e=n.va.get(t);null!==e&&(uy(n.remoteStore,e),n.va=n.va.remove(t),n.Fa.delete(e),kV(n))}function OV(n,t,e){for(const r of e)r instanceof pH?(n.Ma.addReference(r.key,t),sG(n,r)):r instanceof mH?(Rt("SyncEngine","Document no longer in limbo: "+r.key),n.Ma.removeReference(r.key,t),n.Ma.containsKey(r.key)||bH(n,r.key)):tn()}function sG(n,t){const e=t.key,r=e.path.canonicalString();n.va.get(e)||n.Ca.has(r)||(Rt("SyncEngine","New document in limbo: "+e),n.Ca.add(r),kV(n))}function kV(n){for(;n.Ca.size>0&&n.va.size<n.maxConcurrentLimboResolutions;){const t=n.Ca.values().next().value;n.Ca.delete(t);const e=new Yt(nr.fromString(t)),r=n.Na.next();n.Fa.set(r,new X6(e)),n.va=n.va.insert(e,r),VM(n.remoteStore,new ld(vo(bm(e.path)),r,"TargetPurposeLimboResolution",aa.oe))}}function ud(n,t,e){return PV.apply(this,arguments)}function PV(){return PV=(0,L.A)(function*(n,t,e){const r=Gt(n),o=[],c=[],d=[];var p;r.ba.isEmpty()||(r.ba.forEach((p,g)=>{d.push(r.Ba(g,t,e).then(I=>{var A;if((I||e)&&r.isPrimaryClient){const k=I?!I.fromCache:null===(A=e?.targetChanges.get(g.targetId))||void 0===A?void 0:A.current;r.sharedClientState.updateQueryState(g.targetId,k?"current":"not-current")}if(I){o.push(I);const k=PL.Ki(g.targetId,I);c.push(k)}}))}),yield Promise.all(d),r.Sa.h_(o),yield(p=(0,L.A)(function*(I,A){const k=Gt(I);try{yield k.persistence.runTransaction("notifyLocalViewChanges","readwrite",j=>ut.forEach(A,X=>ut.forEach(X.qi,me=>k.persistence.referenceDelegate.addReference(j,X.targetId,me)).next(()=>ut.forEach(X.Qi,me=>k.persistence.referenceDelegate.removeReference(j,X.targetId,me)))))}catch(j){if(!td(j))throw j;Rt("LocalStore","Failed to update sequence numbers: "+j)}for(const j of A){const X=j.targetId;if(!j.fromCache){const me=k.ns.get(X),he=me.withLastLimboFreeSnapshotVersion(me.snapshotVersion);k.ns=k.ns.insert(X,he)}}}),function g(I,A){return p.apply(this,arguments)})(r.localStore,c))}),PV.apply(this,arguments)}function aG(n,t){return NV.apply(this,arguments)}function NV(){return(NV=(0,L.A)(function*(n,t){const e=Gt(n);if(!e.currentUser.isEqual(t)){Rt("SyncEngine","User change. New user:",t.toKey());const r=yield K4(e.localStore,t);e.currentUser=t,(c=e).Oa.forEach(p=>{p.forEach(g=>{g.reject(new Ot(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.Oa.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield ud(e,r.us)}var c})).apply(this,arguments)}function cG(n,t){const e=Gt(n),r=e.Fa.get(t);if(r&&r.wa)return Bn().add(r.key);{let o=Bn();const c=e.Da.get(t);if(!c)return o;for(const d of c){const p=e.ba.get(d);o=o.unionWith(p.view.Ea)}return o}}function UM(n){const t=Gt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=vH.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cG.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nG.bind(null,t),t.Sa.h_=z6.bind(null,t.eventManager),t.Sa.ka=G6.bind(null,t.eventManager),t}class _y{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,L.A)(function*(){e.serializer=DC(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return function G4(n,t,e,r){return new _6(n,t,e,r)}(this.persistence,new z4,t.initialUser,this.serializer)}createPersistence(t){return new ML(MM.Hr,this.serializer)}createSharedClientState(t){return new eH}terminate(){var t=this;return(0,L.A)(function*(){var e,r;null===(e=t.gcScheduler)||void 0===e||e.stop(),null===(r=t.indexBackfillerScheduler)||void 0===r||r.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class vy{initialize(t,e){var r=this;return(0,L.A)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>yH(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=aG.bind(null,r.syncEngine),yield aV(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new H6}createDatastore(t){const e=DC(t.databaseInfo.databaseId),r=new T6(t.databaseInfo);return new x6(t.authCredentials,t.appCheckCredentials,r,e)}createRemoteStore(t){return r=this.localStore,o=this.datastore,c=t.asyncQueue,d=e=>yH(this.syncEngine,e,0),p=tH.D()?new tH:new C6,new R6(r,o,c,d,p);var r,o,c,d,p}createSyncEngine(t,e){return function(o,c,d,p,g,I,A){const k=new Q6(o,c,d,p,g,I);return A&&(k.La=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){var t=this;return(0,L.A)(function*(){var e,r;yield(r=(0,L.A)(function*(c){const d=Gt(c);Rt("RemoteStore","RemoteStore shutting down."),d.M_.add(5),yield ly(d),d.O_.shutdown(),d.N_.set("Unknown")}),function o(c){return r.apply(this,arguments)})(t.remoteStore),null===(e=t.datastore)||void 0===e||e.terminate()})()}}class jM{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Mi("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class yG{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,L.A)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw e.lastTransactionError=new Ot(pt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),e.lastTransactionError;const r=yield(o=(0,L.A)(function*(d,p){const g=Gt(d),I={documents:p.map(X=>gC(g.serializer,X))},A=yield g.xo("BatchGetDocuments",g.serializer.databaseId,nr.emptyPath(),I,p.length),k=new Map;A.forEach(X=>{const me=function V8(n,t){return"found"in t?function(r,o){en(!!o.found);const c=su(r,o.found.name),d=Gi(o.found.updateTime),p=o.found.createTime?Gi(o.found.createTime):mn.min(),g=new _o({mapValue:{fields:o.found.fields}});return Jr.newFoundDocument(c,d,p,g)}(n,t):"missing"in t?function(r,o){en(!!o.missing),en(!!o.readTime);const c=su(r,o.missing),d=Gi(o.readTime);return Jr.newNoDocument(c,d)}(n,t):tn()}(g.serializer,X);k.set(me.key.toString(),me)});const j=[];return p.forEach(X=>{const me=k.get(X.toString());en(!!me),j.push(me)}),j}),function c(d,p){return o.apply(this,arguments)})(e.datastore,t);var o;return r.forEach(o=>e.recordVersion(o)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new kt(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,L.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,o)=>{const c=Yt.fromPath(o);t.mutations.push(new $t(c,t.precondition(c)))}),yield(r=(0,L.A)(function*(c,d){const p=Gt(c),g={writes:d.map(I=>_C(p.serializer,I))};yield p.Co("Commit",p.serializer.databaseId,nr.emptyPath(),g)}),function o(c,d){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw tn();e=mn.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Ot(pt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(mn.min())?u.exists(!1):u.updateTime(e):u.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(mn.min()))throw new Ot(pt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return u.updateTime(e)}return u.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class bG{constructor(t,e,r,o,c){this.asyncQueue=t,this.datastore=e,this.options=r,this.updateFunction=o,this.deferred=c,this.Za=r.maxAttempts,this.Yo=new zL(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){var t=this;this.Yo.$o((0,L.A)(function*(){const e=new yG(t.datastore),r=t.tu(e);r&&r.then(o=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(o)}).catch(c=>{t.nu(c)}))}).catch(o=>{t.nu(o)})}))}tu(t){try{const e=this.updateFunction(t);return!Hv(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(t){this.Za>0&&this.ru(t)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(t)}ru(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!hC(e)}return!1}}class EG{constructor(t,e,r,o){var c=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=r,this.databaseInfo=o,this.user=Ui.UNAUTHENTICATED,this.clientId=Vv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,L.A)(function*(p){Rt("FirestoreClient","Received user=",p.uid),yield c.authCredentialListener(p),c.user=p});return function(p){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Rt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ot(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,L.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(r){const o=fy(r,"Failed to shutdown persistence");e.reject(o)}})),e.promise}}function $M(n,t){return GV.apply(this,arguments)}function GV(){return GV=(0,L.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Rt("FirestoreClient","Initializing OfflineComponentProvider");const e=n.configuration;yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var o=(0,L.A)(function*(c){r.isEqual(c)||(yield K4(t.localStore,c),r=c)});return function(c){return o.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),GV.apply(this,arguments)}function KV(n,t){return WV.apply(this,arguments)}function WV(){return(WV=(0,L.A)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield function qV(n){return XV.apply(this,arguments)}(n);Rt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,n.configuration),n.setCredentialChangeListener(r=>lH(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>lH(t.remoteStore,o)),n._onlineComponents=t})).apply(this,arguments)}function XV(){return(XV=(0,L.A)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Rt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield $M(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function DH(n){return"FirebaseError"===n.name?n.code===pt.FAILED_PRECONDITION||n.code===pt.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(e))throw e;xs("Error using user provided cache. Falling back to memory cache: "+e),yield $M(n,new _y)}}else Rt("FirestoreClient","Using default OfflineComponentProvider"),yield $M(n,new _y);return n._offlineComponents})).apply(this,arguments)}function HM(n){return QV.apply(this,arguments)}function QV(){return(QV=(0,L.A)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Rt("FirestoreClient","Using user provided OnlineComponentProvider"),yield KV(n,n._uninitializedComponentsProvider._online)):(Rt("FirestoreClient","Using default OnlineComponentProvider"),yield KV(n,new vy))),n._onlineComponents})).apply(this,arguments)}function YV(n){return HM(n).then(t=>t.syncEngine)}function by(n){return ZV.apply(this,arguments)}function ZV(){return(ZV=(0,L.A)(function*(n){const t=yield HM(n),e=t.eventManager;return e.onListen=Y6.bind(null,t.syncEngine),e.onUnlisten=J6.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Z6.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=eG.bind(null,t.syncEngine),e})).apply(this,arguments)}function RH(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const OH=new Map;function JV(n,t,e){if(!e)throw new Ot(pt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function kH(n){if(!Yt.isDocumentKey(n))throw new Ot(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PH(n){if(Yt.isDocumentKey(n))throw new Ot(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zM(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(r=n).constructor?r.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var r;return"function"==typeof n?"a function":tn()}function Zn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ot(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=zM(n);throw new Ot(pt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}class FH{constructor(t){var e,r;if(void 0===t.host){if(void 0!==t.ssl)throw new Ot(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ot(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function kG(n,t,e,r){if(!0===t&&!0===r)throw new Ot(pt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=RH(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(c){if(void 0!==c.timeoutSeconds){if(isNaN(c.timeoutSeconds))throw new Ot(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Ot(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Ot(pt.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class AC{constructor(t,e,r,o){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ot(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ot(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FH(t),void 0!==t.credentials&&(this._authCredentials=function(r){if(!r)return new VF;switch(r.type){case"firstParty":return new UF(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ot(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const r=OH.get(e);r&&(Rt("ComponentProvider","Removing Datastore"),OH.delete(e),r.terminate())}(this),Promise.resolve()}}class Xo{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Xo(this.firestore,t,this._query)}}class Ki{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new au(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ki(this.firestore,t,this._key)}}class au extends Xo{constructor(t,e,r){super(t,e,bm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ki(this.firestore,null,new Yt(t))}withConverter(t){return new au(this.firestore,t,this._path)}}class FG{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new zL(this,"async_queue_retry"),this.hu=()=>{const e=LM();e&&Rt("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const t=LM();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const e=LM();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise(()=>{});const e=new ji;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.su.push(t),this.Tu()))}Tu(){var t=this;return(0,L.A)(function*(){if(0!==t.su.length){try{yield t.su[0](),t.su.shift(),t.Yo.reset()}catch(e){if(!td(e))throw e;Rt("AsyncQueue","Operation failed with retryable error: "+e)}t.su.length>0&&t.Yo.$o(()=>t.Tu())}})()}Iu(t){const e=this.iu.then(()=>(this.uu=!0,t().catch(r=>{throw this.au=r,this.uu=!1,Mi("INTERNAL UNHANDLED ERROR: ",function(d){let p=d.message||"";return d.stack&&(p=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),p}(r)),r}).then(r=>(this.uu=!1,r))));return this.iu=e,e}enqueueAfterDelay(t,e,r){this.Pu(),this.lu.indexOf(t)>-1&&(e=0);const o=lV.createAndSchedule(this,t,e,r,c=>this.Eu(c));return this._u.push(o),o}Pu(){this.au&&tn()}verifyOperationInProgress(){}du(){var t=this;return(0,L.A)(function*(){let e;do{e=t.iu,yield e}while(e!==t.iu)})()}Au(t){for(const e of this._u)if(e.timerId===t)return!0;return!1}Ru(t){return this.du().then(()=>{this._u.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this._u)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.du()})}Vu(t){this.lu.push(t)}Eu(t){const e=this._u.indexOf(t);this._u.splice(e,1)}}function e2(n){return function(e,r){if("object"!=typeof e||null===e)return!1;const o=e;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(n)}class zr extends AC{constructor(t,e,r,o){super(t,e,r,o),this.type="firestore",this._queue=new FG,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BH(this),this._firestoreClient.terminate()}}function VG(n,t){const e="object"==typeof n?n:function D$(n=sm){const t=Kl.get(n);if(!t&&n===sm&&fw())return Ow();if(!t)throw Ra.create("no-app",{appName:n});return t}(),r="string"==typeof n?n:t||"(default)",o=function wF(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}(e,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=(n=>{const t=(n=>{var t,e;return null===(e=null===(t=nm())||void 0===t?void 0:t.emulatorHosts)||void 0===e?void 0:e[n]})(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(e+1),10);return"["===t[0]?[t.substring(1,e-1),r]:[t.substring(0,e),r]})("firestore");c&&function PG(n,t,e,r={}){var o;const c=(n=Zn(n,AC))._getSettings(),d=`${t}:${e}`;if("firestore.googleapis.com"!==c.host&&c.host!==d&&xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),r.mockUserToken){let p,g;if("string"==typeof r.mockUserToken)p=r.mockUserToken,g=Ui.MOCK_USER;else{p=function VN(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=t||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},n);return[em(JSON.stringify({alg:"none",type:"JWT"})),em(JSON.stringify(d)),""].join(".")}(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new Ot(pt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ui(I)}n._authCredentials=new S$(new Vx(p,g))}}(o,...c)}return o}function Ii(n){return n._firestoreClient||BH(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function BH(n){var t,e,r;const o=n._freezeSettings(),c=(g=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Zx(n._databaseId,g,n._persistenceKey,(A=o).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,RH(A.experimentalLongPollingOptions),A.useFetchStreams));var g,A;n._firestoreClient=new EG(n._authCredentials,n._appCheckCredentials,n._queue,c),null!==(e=o.localCache)&&void 0!==e&&e._offlineComponentProvider&&null!==(r=o.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}function t2(n){return function(e){const r=new ji;return e.asyncQueue.enqueueAndForget((0,L.A)(function*(){return function oG(n,t){return xV.apply(this,arguments)}(yield YV(e),r)})),r.promise}(Ii(n=Zn(n,zr)))}class Om{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Om(Hi.fromBase64String(t))}catch(e){throw new Ot(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Om(Hi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class km{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ot(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Pm{constructor(t){this._methodName=t}}class n2{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ot(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ot(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mn(this._lat,t._lat)||Mn(this._long,t._long)}}const jG=/^__.*__$/;class $G{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new ce(t,this.data,this.fieldMask,e,this.fieldTransforms):new G(t,this.data,e,this.fieldTransforms)}}class $H{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new ce(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function HH(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tn()}}class GM{constructor(t,e,r,o,c,d){this.settings=t,this.databaseId=e,this.serializer=r,this.ignoreUndefinedProperties=o,void 0===c&&this.mu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new GM(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.gu({path:r,yu:!1});return o.wu(t),o}Su(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),o=this.gu({path:r,yu:!1});return o.mu(),o}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return qM(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(HH(this.fu)&&jG.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class HG{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=r||DC(t)}Fu(t,e,r,o=!1){return new GM({fu:t,methodName:e,vu:r,path:Lr.emptyPath(),yu:!1,Cu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nm(n){const t=n._freezeSettings(),e=DC(n._databaseId);return new HG(n._databaseId,!!t.ignoreUndefinedProperties,e)}function KM(n,t,e,r,o,c={}){const d=n.Fu(c.merge||c.mergeFields?2:0,t,e,o);u2("Data must be an object, but it was:",d,r);const p=KH(r,d);let g,I;if(c.merge)g=new go(d.fieldMask),I=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const k of c.mergeFields){const j=MC(t,k,e);if(!d.contains(j))throw new Ot(pt.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);qH(A,j)||A.push(j)}g=new go(A),I=d.fieldTransforms.filter(k=>g.covers(k.field))}else g=null,I=d.fieldTransforms;return new $G(new _o(p),g,I)}class xC extends Pm{_toFieldTransform(t){if(2!==t.fu)throw t.Du(1===t.fu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xC}}class r2 extends Pm{_toFieldTransform(t){return new i(t.path,new Jh)}isEqual(t){return t instanceof r2}}function c2(n,t,e,r){const o=n.Fu(1,t,e);u2("Data must be an object, but it was:",o,r);const c=[],d=_o.empty();Jl(r,(g,I)=>{const A=WM(t,g,e);I=Mo(I);const k=o.Su(A);if(I instanceof xC)c.push(A);else{const j=Fm(I,k);null!=j&&(c.push(A),d.set(A,j))}});const p=new go(c);return new $H(d,p,o.fieldTransforms)}function l2(n,t,e,r,o,c){const d=n.Fu(1,t,e),p=[MC(t,r,e)],g=[o];if(c.length%2!=0)throw new Ot(pt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<c.length;j+=2)p.push(MC(t,c[j])),g.push(c[j+1]);const I=[],A=_o.empty();for(let j=p.length-1;j>=0;--j)if(!qH(I,p[j])){const X=p[j];let me=g[j];me=Mo(me);const pe=d.Su(X);if(me instanceof xC)I.push(X);else{const he=Fm(me,pe);null!=he&&(I.push(X),A.set(X,he))}}const k=new go(I);return new $H(A,k,d.fieldTransforms)}function Fm(n,t){if(WH(n=Mo(n)))return u2("Unsupported field value:",t,n),KH(n,t);if(n instanceof Pm)return function(r,o){if(!HH(o.fu))throw o.Du(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Du(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(r,o){const c=[];let d=0;for(const p of r){let g=Fm(p,o.bu(d));null==g&&(g={nullValue:"NULL_VALUE"}),c.push(g),d++}return{arrayValue:{values:c}}}(n,t)}return function(r,o){if(null===(r=Mo(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return fL(o.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const c=Kr.fromDate(r);return{timestampValue:ty(o.serializer,c)}}if(r instanceof Kr){const c=new Kr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ty(o.serializer,c)}}if(r instanceof n2)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Om)return{bytesValue:t4(o.serializer,r._byteString)};if(r instanceof Ki){const c=o.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw o.Du(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:vL(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Du(`Unsupported field value: ${zM(r)}`)}(n,t)}function KH(n,t){const e={};return ZF(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Jl(n,(r,o)=>{const c=Fm(o,t.pu(r));null!=c&&(e[r]=c)}),{mapValue:{fields:e}}}function WH(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Kr||n instanceof n2||n instanceof Om||n instanceof Ki||n instanceof Pm)}function u2(n,t,e){if(!WH(e)||"object"!=typeof(o=e)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const r=zM(e);throw t.Du("an object"===r?n+" a custom object":n+" "+r)}var o}function MC(n,t,e){if((t=Mo(t))instanceof km)return t._internalPath;if("string"==typeof t)return WM(n,t);throw qM("Field path arguments must be of type string or ",n,!1,void 0,e)}const zG=new RegExp("[~\\*/\\[\\]]");function WM(n,t,e){if(t.search(zG)>=0)throw qM(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new km(...t.split("."))._internalPath}catch{throw qM(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function qM(n,t,e,r,o){const c=r&&!r.isEmpty(),d=void 0!==o;let p=`Function ${t}() called with invalid data`;e&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(c||d)&&(g+=" (found",c&&(g+=` in field ${r}`),d&&(g+=` in document ${o}`),g+=")"),new Ot(pt.INVALID_ARGUMENT,p+n+g)}function qH(n,t){return n.some(e=>e.isEqual(t))}class RC{constructor(t,e,r,o,c){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ki(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new GG(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(XM("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class GG extends RC{data(){return super.data()}}function XM(n,t){return"string"==typeof t?WM(n,t):t instanceof km?t._internalPath:t._delegate._internalPath}function XH(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ot(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class d2{}class OC extends d2{}function Ey(n,t,...e){let r=[];t instanceof d2&&r.push(t),r=r.concat(e),function(c){const d=c.filter(g=>g instanceof wy).length,p=c.filter(g=>g instanceof kC).length;if(d>1||d>0&&p>0)throw new Ot(pt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const o of r)n=o._apply(n);return n}class kC extends OC{constructor(t,e,r){super(),this._field=t,this._op=e,this._value=r,this.type="where"}static _create(t,e,r){return new kC(t,e,r)}_apply(t){const e=this._parse(t);return JH(t._query,e),new Xo(t.firestore,t.converter,Zh(t._query,e))}_parse(t){const e=Nm(t.firestore);return function(c,d,p,g,I,A,k){let j;if(I.isKeyField()){if("array-contains"===A||"array-contains-any"===A)throw new Ot(pt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if("in"===A||"not-in"===A){ZH(k,A);const X=[];for(const me of k)X.push(YH(g,c,me));j={arrayValue:{values:X}}}else j=YH(g,c,k)}else"in"!==A&&"not-in"!==A&&"array-contains-any"!==A||ZH(k,A),j=function GH(n,t,e,r=!1){return Fm(e,n.Fu(r?4:3,t))}(p,"where",k,"in"===A||"not-in"===A);return Qn.create(I,A,j)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}function QM(n,t,e){const r=t,o=XM("where",n);return kC._create(o,r,e)}class wy extends d2{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new wy(t,e)}_parse(t){const e=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return 1===e.length?e[0]:Ir.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(o,c){let d=o;const p=c.getFlattenedFilters();for(const g of p)JH(d,g),d=Zh(d,g)}(t._query,e),new Xo(t.firestore,t.converter,Zh(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class h2 extends OC{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new h2(t,e)}_apply(t){const e=function(o,c,d){if(null!==o.startAt)throw new Ot(pt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ot(pt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yh(c,d)}(t._query,this._field,this._direction);return new Xo(t.firestore,t.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new dc(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(t._query,e))}}function YM(n,t="asc"){const e=t,r=XM("orderBy",n);return h2._create(r,e)}class ZM extends OC{constructor(t,e,r){super(),this.type=t,this._limit=e,this._limitType=r}static _create(t,e,r){return new ZM(t,e,r)}_apply(t){return new Xo(t.firestore,t.converter,Jv(t._query,this._limit,this._limitType))}}function JM(n){return function NH(n,t){if(t<=0)throw new Ot(pt.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}("limit",n),ZM._create("limit",n,"F")}function YH(n,t,e){if("string"==typeof(e=Mo(e))){if(""===e)throw new Ot(pt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!od(t)&&-1!==e.indexOf("/"))throw new Ot(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(nr.fromString(e));if(!Yt.isDocumentKey(r))throw new Ot(pt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xh(n,new Yt(r))}if(e instanceof Ki)return Xh(n,e._key);throw new Ot(pt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${zM(e)}.`)}function ZH(n,t){if(!Array.isArray(n)||0===n.length)throw new Ot(pt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JH(n,t){const e=function(o,c){for(const d of o)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Ot(pt.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class t3{convertValue(t,e="none"){switch(nu(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Kc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw tn()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const r={};return Jl(t,(o,c)=>{r[o]=this.convertValue(c,e)}),r}convertGeoPoint(t){return new n2(Zr(t.latitude),Zr(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=hm(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(qh(t));default:return null}}convertTimestamp(t){const e=eu(t);return new Kr(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=nr.fromString(t);en(f4(r));const o=new nd(r.get(1),r.get(3)),c=new Yt(r.popFirst(5));return o.isEqual(e)||Mi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),c}}function nR(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class KG extends t3{constructor(t){super(),this.firestore=t}convertBytes(t){return new Om(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ki(this.firestore,null,e)}}class Lm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Cy extends RC{constructor(t,e,r,o,c,d){super(t,e,r,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new rR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(XM("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class rR extends Cy{data(t={}){return super.data(t)}}class Iy{constructor(t,e,r,o){this._firestore=t,this._userDataWriter=e,this._snapshot=o,this.metadata=new Lm(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new rR(this._firestore,this._userDataWriter,r.key,r,new Lm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ot(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(p=>({type:"added",doc:new rR(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Lm(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:d++}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(p=>c||3!==p.type).map(p=>{const g=new rR(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Lm(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let I=-1,A=-1;return 0!==p.type&&(I=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),1!==p.type&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:qG(p.type),doc:g,oldIndex:I,newIndex:A}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function qG(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tn()}}class cf extends t3{constructor(t){super(),this.firestore=t}convertBytes(t){return new Om(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ki(this.firestore,null,e)}}function f2(n){n=Zn(n,Xo);const t=Zn(n.firestore,zr),e=Ii(t),r=new cf(t);return XH(n._query),function MH(n,t,e={}){const r=new ji;return n.asyncQueue.enqueueAndForget((0,L.A)(function*(){return function(c,d,p,g,I){const A=new jM({next:j=>{d.enqueueAndForget(()=>hV(c,k)),j.fromCache&&"server"===g.source?I.reject(new Ot(pt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):I.resolve(j)},error:j=>I.reject(j)}),k=new gV(p,A,{includeMetadataChanges:!0,ra:!0});return uV(c,k)}(yield by(n),n.asyncQueue,t,e,r)})),r.promise}(e,n._query).then(o=>new Iy(t,r,n,o))}const i9={maxAttempts:5};class o9{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Nm(t)}set(t,e,r){this._verifyNotCommitted();const o=lf(t,this._firestore),c=nR(o.converter,e,r),d=KM(this._dataReader,"WriteBatch.set",o._key,c,null!==o.converter,r);return this._mutations.push(d.toMutation(o._key,u.none())),this}update(t,e,r,...o){this._verifyNotCommitted();const c=lf(t,this._firestore);let d;return d="string"==typeof(e=Mo(e))||e instanceof km?l2(this._dataReader,"WriteBatch.update",c._key,e,r,o):c2(this._dataReader,"WriteBatch.update",c._key,e),this._mutations.push(d.toMutation(c._key,u.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=lf(t,this._firestore);return this._mutations=this._mutations.concat(new kt(e._key,u.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ot(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function lf(n,t){if((n=Mo(n)).firestore!==t)throw new Ot(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class s9 extends class{constructor(e,r){this._firestore=e,this._transaction=r,this._dataReader=Nm(e)}get(e){const r=lf(e,this._firestore),o=new KG(this._firestore);return this._transaction.lookup([r._key]).then(c=>{if(!c||1!==c.length)return tn();const d=c[0];if(d.isFoundDocument())return new RC(this._firestore,o,d.key,d,r.converter);if(d.isNoDocument())return new RC(this._firestore,o,r._key,null,r.converter);throw tn()})}set(e,r,o){const c=lf(e,this._firestore),d=nR(c.converter,r,o),p=KM(this._dataReader,"Transaction.set",c._key,d,null!==c.converter,o);return this._transaction.set(c._key,p),this}update(e,r,o,...c){const d=lf(e,this._firestore);let p;return p="string"==typeof(r=Mo(r))||r instanceof km?l2(this._dataReader,"Transaction.update",d._key,r,o,c):c2(this._dataReader,"Transaction.update",d._key,r),this._transaction.update(d._key,p),this}delete(e){const r=lf(e,this._firestore);return this._transaction.delete(r._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=lf(t,this._firestore),r=new cf(this._firestore);return super.get(t).then(o=>new Cy(this._firestore,r,e._key,o._document,new Lm(!1,!1),e.converter))}}function n3(n,t,e){n=Zn(n,zr);const r=Object.assign(Object.assign({},i9),e);return function(c){if(c.maxAttempts<1)throw new Ot(pt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(c,d,p){const g=new ji;return c.asyncQueue.enqueueAndForget((0,L.A)(function*(){const I=yield function SH(n){return HM(n).then(t=>t.datastore)}(c);new bG(c.asyncQueue,I,p,d,g).Xa()})),g.promise}(Ii(n),o=>t(new s9(n,o)),r)}!function(t,e=!0){Wl="10.12.4",Mv(new Iv("firestore",(r,{instanceIdentifier:o,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new zr(new BF(r.getProvider("auth-internal")),new Uw(r.getProvider("app-check-internal")),function(I,A){if(!Object.prototype.hasOwnProperty.apply(I.options,["projectId"]))throw new Ot(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nd(I.options.projectId,A)}(d,o),d);return c=Object.assign({useFetchStreams:e},c),p._setSettings(c),p},"PUBLIC").setMultipleInstances(!0)),lc(Vw,"4.6.4",t),lc(Vw,"4.6.4","esm2017")}();var u9=R(6719);function s3(n,t){var e=(0,qo.FD)(t);return delete e[n],e}function d9(n,t){return t[n].toDate().toISOString()}function a3(n,t){return delete(t=(0,qo.FD)(t))[n],t}var m9=function(n){function t(e,r,o,c,d,p=!0,g=5e3,I=!0){var A;return(A=n.call(this,r,o,"_deleted",c,d,p,g,I)||this).firestore=e,A.replicationIdentifierHash=r,A.collection=o,A.pull=c,A.push=d,A.live=p,A.retryTime=g,A.autoStart=I,A}return(0,u9.A)(t,n),t}(ES);function g9(n){var t=n.collection;uv(cw);var r,e=new B.B;n.live=typeof n.live>"u"||n.live,n.waitForLeadership=typeof n.waitForLeadership>"u"||n.waitForLeadership;var o=typeof n.serverTimestampField>"u"?"serverTimestamp":n.serverTimestampField;n.serverTimestampField=o;var c=t.schema.primaryPath;if((0,oa.nT)(t.schema.jsonSchema,o)||o.includes("."))throw(0,Ma.Br)("RC6",{field:o,schema:t.schema.jsonSchema});var I,p=void 0!==n.pull?.filter?(0,ls.$r)(n.pull.filter):[],g=Ey(n.firestore.collection,...p);if(n.pull&&(r={handler:(me,pe)=>(0,L.A)(function*(){var he,ft;if(me){var bt=function h9(n){var t=new Date(n);return Kr.fromDate(t)}(me.serverTimestamp);he=Ey(g,QM(o,">",bt),YM(o,"asc"),JM(pe)),ft=Ey(g,QM(o,"==",bt),QM(c,">",me.id),YM(c,"asc"),JM(pe))}else he=Ey(g,YM(o,"asc"),JM(pe));for(var It=!0,Kt=[];It;)yield t2(n.firestore.database),yield n3(n.firestore.database,function(){var Ie=(0,L.A)(function*(je){Kt=[];var[We,it]=yield Promise.all([f2(he),ft?f2(ft):void 0]);if(!(We.metadata.hasPendingWrites||ft&&(0,si.ZN)(it).metadata.hasPendingWrites)){It=!1,ft&&(Kt=(0,si.ZN)(it).docs);var Ce=pe-Kt.length;if(Ce>0){var hr=We.docs.slice(0,Ce).filter(ms=>!!ms);(0,ls.Hb)(Kt,hr)}}});return function(je){return Ie.apply(this,arguments)}}());if(0===Kt.length)return{checkpoint:me??null,documents:[]};var yn=(0,si.ZN)((0,ls.dG)(Kt)),un=Kt.map(Ie=>function f9(n,t,e){var r=s3(n,e.data());return r[t]=e.id,r}(o,c,Ie));return{documents:un,checkpoint:{id:yn.id,serverTimestamp:d9(o,yn.data())}}})(),batchSize:(0,si.ZN)(n.pull).batchSize,modifier:(0,si.ZN)(n.pull).modifier,stream$:e.asObservable()}),n.push){var A=n.push?.filter;I={handler:me=>(0,L.A)(function*(){void 0!==A&&(me=yield(0,ls.j7)(me,bt=>A(bt.newDocumentState)));var pe={},he=me.map(bt=>{var It=bt.newDocumentState[c];return pe[It]=bt,It});yield t2(n.firestore.database);var ft=[];return yield n3(n.firestore.database,function(){var bt=(0,L.A)(function*(It){ft=[];var yn=yield function p9(n,t){for(var e=[];n.length;){var r=n.splice(0,10);e.push(t(r))}return Promise.all(e).then(o=>o.map(c=>c.docs).flat())}(he,Ie=>f2(Ey(n.firestore.collection,QM(function UG(){return new km("__name__")}(),"in",Ie)))),un={};yn.forEach(Ie=>{var je=s3(o,Ie.data()),We=Ie.id;je[c]=We,un[We]=je});var Ue=function c9(n){return Ii(n=Zn(n,zr)),new o9(n,t=>function PC(n,t){return function(r,o){const c=new ji;return r.asyncQueue.enqueueAndForget((0,L.A)(function*(){return function tG(n,t,e){return IV.apply(this,arguments)}(yield YV(r),o,c)})),c.promise}(Ii(n),t)}(n,t))}(n.firestore.database),ue=!1;yield Promise.all(Object.entries(pe).map(function(){var Ie=(0,L.A)(function*([je,We]){var it=un[je];if(!it||We.assumedMasterState&&!1!==(yield t.conflictHandler({newDocumentState:it,realMasterState:We.assumedMasterState},"replication-firestore-push")).isEqual){ue=!0;var Ce=function LH(n,t,...e){if(n=Mo(n),1===arguments.length&&(t=Vv.newId()),JV("doc","path",t),n instanceof AC){const r=nr.fromString(t,...e);return kH(r),new Ki(n,null,new Yt(r))}{if(!(n instanceof Ki||n instanceof au))throw new Ot(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(t,...e));return kH(r),new Ki(n.firestore,n instanceof au?n.converter:null,new Yt(r))}}(n.firestore.collection,je),hr=(0,qo.FD)(We.newDocumentState);hr[o]=function a9(){return new r2("serverTimestamp")}(),it?Ue.update(Ce,a3(c,hr)):Ue.set(Ce,a3(c,hr))}else ft.push(it)});return function(je){return Ie.apply(this,arguments)}}())),ue&&(yield Ue.commit())});return function(It){return bt.apply(this,arguments)}}()),yield t2(n.firestore.database),ft})(),batchSize:n.push.batchSize,modifier:n.push.modifier}}var k=new m9(n.firestore,n.replicationIdentifier,t,r,I,n.live,n.retryTime,n.autoStart);if(n.live&&n.pull){var j=k.start.bind(k),X=k.cancel.bind(k);k.start=()=>{var pe=function XG(n,...t){var e,r,o;n=Mo(n);let c={includeMetadataChanges:!1,source:"default"},d=0;"object"!=typeof t[d]||e2(t[d])||(c=t[d],d++);const p={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(e2(t[d])){const k=t[d];t[d]=null===(e=k.next)||void 0===e?void 0:e.bind(k),t[d+1]=null===(r=k.error)||void 0===r?void 0:r.bind(k),t[d+2]=null===(o=k.complete)||void 0===o?void 0:o.bind(k)}let g,I,A;if(n instanceof Ki)I=Zn(n.firestore,zr),A=bm(n._key.path),g={next:k=>{t[d]&&t[d](function p2(n,t,e){const r=e.docs.get(t._key),o=new cf(n);return new Cy(n,o,t._key,r,new Lm(e.hasPendingWrites,e.fromCache),t.converter)}(I,n,k))},error:t[d+1],complete:t[d+2]};else{const k=Zn(n,Xo);I=Zn(k.firestore,zr),A=k._query;const j=new cf(I);g={next:X=>{t[d]&&t[d](new Iy(I,j,k,X))},error:t[d+1],complete:t[d+2]},XH(n._query)}return function(j,X,me,pe){const he=new jM(pe),ft=new gV(X,he,me);return j.asyncQueue.enqueueAndForget((0,L.A)(function*(){return uV(yield by(j),ft)})),()=>{he.$a(),j.asyncQueue.enqueueAndForget((0,L.A)(function*(){return hV(yield by(j),ft)}))}}(Ii(I),A,p,g)}(Ey(g,YM(o,"desc"),JM(1)),he=>{k.reSync()},he=>{k.subjects.error.next((0,Ma.Br)("RC_STREAM",{error:(0,Qp.S)(he)}))});return k.cancel=()=>(pe(),X()),j()}}return function wS(n,t){return(n&&t.collection.database.multiInstance?t.collection.database.waitForLeadership():fo.Ms).then(()=>{t.isStopped()||t.autoStart&&t.start()})}(n.waitForLeadership,k),k}let dd=(()=>{class n{constructor(){this.localDb=this.setupLocalDb("local_db",TP),this.firebaseApp=Ow(Bp)}setupLocalDb(e,r){return(0,L.A)(function*(){(0,l.naY)()&&(yield R.e(486).then(R.bind(R,6486)).then(c=>uv(c.RxDBDevModePlugin))),uv(cw),uv(TS);const o=yield(0,hS.uh)({name:e,storage:dS(),eventReduce:!0,cleanupPolicy:{minimumDeletedTime:26784e5,minimumCollectionAge:6e4,runEach:3e5,awaitReplicationsInSync:!0,waitForLeadership:!0}});return yield o.addCollections(r),o})()}addDocument(e,r,o){return this.localDb.then(c=>{const d={...r,id:o||lw()};return c[e].insert(d)}).catch(c=>{throw console.log(`LOL: Error on adding document into ${e}: ${c}`),new Error(`LOL: Error on adding document into ${e}: ${c}`)})}getDocumentsByIds(e,r){return this.localDb.then(o=>o[e].findByIds(r).$).catch(o=>{throw console.log(`LOL: Error on getting document from ${e}: ${o}`),new Error(`LOL: Error on getting document from ${e}: ${o}`)})}getDocumentById(e,r){var o=this;return(0,L.A)(function*(){return(yield o.getDocumentsByIds(e,[r])).pipe((0,Me.T)(d=>d.get(r)))})()}getAllCollectionDocs(e){return this.localDb.then(r=>r[e].find().$).catch(r=>{throw console.log(`LOL: Error on getting document from ${e}: ${r}`),new Error(`LOL: Error on getting document from ${e}: ${r}`)})}updateDocument(e,r,o){var c=this;return(0,L.A)(function*(){return(yield c.localDb)[e].findByIds([r]).exec().then(p=>p.get(r)).then(p=>p.patch(o)).catch(p=>{throw console.log(`LOL: Error on updating document id: ${r} in collection ${e}: ${p}`),new Error(`LOL: Error on updating document id: ${r} in collection ${e}: ${p}`)})})()}deleteDocument(e,r){var o=this;return(0,L.A)(function*(){return(yield o.localDb)[e].findByIds([r]).exec().then(d=>d.get(r)).then(d=>d.remove()).catch(d=>{throw console.log(`LOL: Error on removing document id: ${r} from collection: ${e}`),new Error(`LOL: Error on removing document id: ${r} from collection: ${e}`)})})()}cleanupCollection(e){var r=this;return(0,L.A)(function*(){yield(yield r.localDb)[e].cleanup(0)})()}replicateCollection(e){var r=this;return(0,L.A)(function*(){const o=VG(r.firebaseApp),c=function NG(n,t,...e){if(n=Mo(n),JV("collection","path",t),n instanceof AC){const r=nr.fromString(t,...e);return PH(r),new au(n,null,r)}{if(!(n instanceof Ki||n instanceof au))throw new Ot(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(t,...e));return PH(r),new au(n.firestore,null,r)}}(o,Or.STORIES),p=g9({collection:(yield r.localDb).collections[e],firestore:{projectId:Bp.projectId,database:o,collection:c},pull:{},push:{},live:!0,replicationIdentifier:"Empathy-to-firebase"});return console.log(`LOL: REPLICATION for COLEECTION: ${e}: ${p.replicationIdentifier}`),p})()}getStoryById(e){var r=this;return(0,L.A)(function*(){const o=yield r.getDocumentById(Or.STORIES,e);return console.log(`Story: ${JSON.stringify(o)}`),o})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const _9=(n,t)=>t.id,v9=n=>["/chapters",n];function y9(n,t){if(1&n&&(l.j41(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),l.EFF(3),l.k0s()(),l.j41(4,"mat-card-content"),l.EFF(5),l.k0s()()),2&n){const e=t.$implicit,r=t.$index;l.Y8G("routerLink",l.eq3(4,v9,e.id)),l.R7$(3),l.Lme("",r," ",e.name,""),l.R7$(2),l.SpI(" ",e.description," ")}}let b9=(()=>{class n{constructor(e){this.dbService=e,this.stories$=this.getStories()}getStories(){var e=this;return(0,L.A)(function*(){return yield e.dbService.getAllCollectionDocs(Or.STORIES)})()}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(dd))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-game"]],standalone:!0,features:[l.aNF],decls:6,vars:4,consts:[["appearance","outlined",3,"routerLink"]],template:function(r,o){1&r&&(l.j41(0,"h3"),l.EFF(1,"Stories"),l.k0s(),l.Z7z(2,y9,6,6,"mat-card",0,_9),l.nI1(4,"async"),l.nI1(5,"async")),2&r&&(l.R7$(2),l.Dyx(l.bMT(5,2,l.bMT(4,0,o.stories$))))},dependencies:[Vo,gr,Ug,kc,q_,oc,Fl,W_,Eh],styles:[".mat-mdc-card-content[_ngcontent-%COMP%]:hover{color:red}"]})}return n})(),c3=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.sFG),l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n})}return n})(),Vm=(()=>{class n extends c3{static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=l.xGo(n)))(o||n)}})();static#t=this.\u0275dir=l.FsC({type:n,features:[l.Vt3]})}return n})();const fc=new l.nKC(""),w9={provide:fc,useExisting:(0,l.Rfq)(()=>NC),multi:!0},I9=new l.nKC("");let NC=(()=>{class n extends c3{constructor(e,r,o){super(e,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function C9(){const n=q()?q().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(I9,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){1&r&&l.bIt("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[l.Jv_([w9]),l.Vt3]})}return n})();function uf(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function u3(n){return null!=n&&"number"==typeof n.length}const ko=new l.nKC(""),df=new l.nKC(""),D9=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class qc{static min(t){return function d3(n){return t=>{if(uf(t.value)||uf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function h3(n){return t=>{if(uf(t.value)||uf(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function f3(n){return uf(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function p3(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function m3(n){return uf(n.value)||D9.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function g3(n){return t=>uf(t.value)||!u3(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function _3(n){return t=>u3(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function v3(n){if(!n)return oR;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(uf(r.value))return null;const o=r.value;return t.test(o)?null:{pattern:{requiredPattern:e,actualValue:o}}}}(t)}static nullValidator(t){return null}static compose(t){return I3(t)}static composeAsync(t){return D3(t)}}function oR(n){return null}function y3(n){return null!=n}function b3(n){return(0,l.jNT)(n)?(0,Ve.H)(n):n}function E3(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function w3(n,t){return t.map(e=>e(n))}function C3(n){return n.map(t=>function T9(n){return!n.validate}(t)?t:e=>t.validate(e))}function I3(n){if(!n)return null;const t=n.filter(y3);return 0==t.length?null:function(e){return E3(w3(e,t))}}function g2(n){return null!=n?I3(C3(n)):null}function D3(n){if(!n)return null;const t=n.filter(y3);return 0==t.length?null:function(e){return x0(w3(e,t).map(b3)).pipe((0,Me.T)(E3))}}function _2(n){return null!=n?D3(C3(n)):null}function T3(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function A3(n){return n._rawValidators}function S3(n){return n._rawAsyncValidators}function v2(n){return n?Array.isArray(n)?n:[n]:[]}function sR(n,t){return Array.isArray(n)?n.includes(t):n===t}function x3(n,t){const e=v2(t);return v2(n).forEach(o=>{sR(e,o)||e.push(o)}),e}function M3(n,t){return v2(t).filter(e=>!sR(n,e))}class R3{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=g2(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Rs extends R3{get formDirective(){return null}get path(){return null}}class Xc extends R3{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class O3{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let y2=(()=>{class n extends O3{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Xc,2))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){2&r&&l.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[l.Vt3]})}return n})(),b2=(()=>{class n extends O3{constructor(e){super(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Rs,10))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){2&r&&l.AVh("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[l.Vt3]})}return n})();const FC="VALID",cR="INVALID",Dy="PENDING",LC="DISABLED";class Ty{}class P3 extends Ty{constructor(t,e){super(),this.value=t,this.source=e}}class C2 extends Ty{constructor(t,e){super(),this.pristine=t,this.source=e}}class I2 extends Ty{constructor(t,e){super(),this.touched=t,this.source=e}}class lR extends Ty{constructor(t,e){super(),this.status=t,this.source=e}}class R9 extends Ty{constructor(t){super(),this.source=t}}class O9 extends Ty{constructor(t){super(),this.source=t}}function D2(n){return(uR(n)?n.validators:n)||null}function T2(n,t){return(uR(t)?t.asyncValidators:n)||null}function uR(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function N3(n,t,e){const r=n.controls;if(!(t?Object.keys(r):r).length)throw new l.wOt(1e3,"");if(!r[e])throw new l.wOt(1001,"")}function F3(n,t,e){n._forEachChild((r,o)=>{if(void 0===e[o])throw new l.wOt(1002,"")})}class dR{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,l.EWP)(()=>this.statusReactive()),this.statusReactive=(0,l.vPA)(void 0),this._pristine=(0,l.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,l.vPA)(!0),this._touched=(0,l.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,l.vPA)(!1),this._events=new B.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return(0,l.O8t)(this.statusReactive)}set status(t){(0,l.O8t)(()=>this.statusReactive.set(t))}get valid(){return this.status===FC}get invalid(){return this.status===cR}get pending(){return this.status==Dy}get disabled(){return this.status===LC}get enabled(){return this.status!==LC}get pristine(){return(0,l.O8t)(this.pristineReactive)}set pristine(t){(0,l.O8t)(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return(0,l.O8t)(this.touchedReactive)}set touched(t){(0,l.O8t)(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(x3(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(x3(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(M3(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(M3(t,this._rawAsyncValidators))}hasValidator(t){return sR(this._rawValidators,t)}hasAsyncValidator(t){return sR(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){const e=!1===this.touched;this.touched=!0;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched({...t,sourceControl:r}),e&&!1!==t.emitEvent&&this._events.next(new I2(!0,r))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){const e=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),e&&!1!==t.emitEvent&&this._events.next(new I2(!1,r))}markAsDirty(t={}){const e=!0===this.pristine;this.pristine=!1;const r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty({...t,sourceControl:r}),e&&!1!==t.emitEvent&&this._events.next(new C2(!1,r))}markAsPristine(t={}){const e=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const r=t.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),e&&!1!==t.emitEvent&&this._events.next(new C2(!0,r))}markAsPending(t={}){this.status=Dy;const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new lR(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending({...t,sourceControl:e})}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=LC,this.errors=null,this._forEachChild(o=>{o.disable({...t,onlySelf:!0})}),this._updateValue();const r=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new P3(this.value,r)),this._events.next(new lR(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=FC,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e},this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===FC||this.status===Dy)&&this._runAsyncValidator(r,t.emitEvent)}const e=t.sourceControl??this;!1!==t.emitEvent&&(this._events.next(new P3(this.value,e)),this._events.next(new lR(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity({...t,sourceControl:e})}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?LC:FC}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Dy,this._hasOwnPendingAsyncValidator={emitEvent:!1!==e};const r=b3(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent,this,e.shouldHaveEmitted)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((r,o)=>r&&r._find(o),this)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new lR(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,r)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?LC:this.errors?cR:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Dy)?Dy:this._anyControlsHaveStatus(cR)?cR:FC}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){const r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),o&&this._events.next(new C2(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new I2(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){uR(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function k9(n){return Array.isArray(n)?g2(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function P9(n){return Array.isArray(n)?_2(n):n||null}(this._rawAsyncValidators)}}class VC extends dR{constructor(t,e,r){super(D2(e),T2(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){F3(this,0,t),Object.keys(t).forEach(r=>{N3(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{const o=this.controls[r];o&&o.patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,o)=>{r.reset(t?t[o]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,r]of Object.entries(this.controls))if(this.contains(e)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,r,o)=>((r.enabled||this.disabled)&&(e[o]=r.value),e))}_reduceChildren(t,e){let r=t;return this._forEachChild((o,c)=>{r=e(r,o,c)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}class L3 extends VC{}const Ay=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>hR}),hR="always";function BC(n,t,e=hR){A2(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function F9(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&V3(n,t)})}(n,t),function V9(n,t){const e=(r,o)=>{t.valueAccessor.writeValue(r),o&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function L9(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&V3(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function N9(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function pR(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),gR(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function mR(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function A2(n,t){const e=A3(n);null!==t.validator?n.setValidators(T3(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=S3(n);null!==t.asyncValidator?n.setAsyncValidators(T3(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();mR(t._rawValidators,o),mR(t._rawAsyncValidators,o)}function gR(n,t){let e=!1;if(null!==n){if(null!==t.validator){const o=A3(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(d=>d!==t.validator);c.length!==o.length&&(e=!0,n.setValidators(c))}}if(null!==t.asyncValidator){const o=S3(n);if(Array.isArray(o)&&o.length>0){const c=o.filter(d=>d!==t.asyncValidator);c.length!==o.length&&(e=!0,n.setAsyncValidators(c))}}}const r=()=>{};return mR(t._rawValidators,r),mR(t._rawAsyncValidators,r),e}function V3(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function B3(n,t){A2(n,t)}function U3(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const H9={provide:Rs,useExisting:(0,l.Rfq)(()=>Sy)},UC=Promise.resolve();let Sy=(()=>{class n extends Rs{get submitted(){return(0,l.O8t)(this.submittedReactive)}constructor(e,r,o){super(),this.callSetDisabledState=o,this._submitted=(0,l.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,l.vPA)(!1),this._directives=new Set,this.ngSubmit=new l.bkB,this.form=new VC({},g2(e),_2(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){UC.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),BC(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){UC.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){UC.then(()=>{const r=this._findContainer(e.path),o=new VC({});B3(o,e),r.registerControl(e.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){UC.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){UC.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),U3(this.form,this._directives),this.ngSubmit.emit(e),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(ko,10),l.rXU(df,10),l.rXU(Ay,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){1&r&&l.bIt("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([H9]),l.Vt3]})}return n})();function j3(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function $3(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const jC=class extends dR{constructor(t=null,e,r){super(D2(e),T2(r,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uR(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=$3(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){j3(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){j3(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){$3(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};Promise.resolve();let R2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})();const W9={provide:fc,useExisting:(0,l.Rfq)(()=>O2),multi:!0};let O2=(()=>{class n extends Vm{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=r=>{e(""==r?null:parseFloat(r))}}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=l.xGo(n)))(o||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){1&r&&l.bIt("input",function(d){return o.onChange(d.target.value)})("blur",function(){return o.onTouched()})},features:[l.Jv_([W9]),l.Vt3]})}return n})();const k2=new l.nKC(""),Z9={provide:Rs,useExisting:(0,l.Rfq)(()=>hf)};let hf=(()=>{class n extends Rs{get submitted(){return(0,l.O8t)(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,r,o){super(),this.callSetDisabledState=o,this._submitted=(0,l.EWP)(()=>this._submittedReactive()),this._submittedReactive=(0,l.vPA)(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.bkB,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(gR(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return BC(r,e,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){pR(e.control||null,e,!1),function $9(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this._submittedReactive.set(!0),U3(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new R9(this.control)),"dialog"===e?.target?.method}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new O9(this.form))}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,o=this.form.get(e.path);r!==o&&(pR(r||null,e),(n=>n instanceof jC)(o)&&(BC(o,e,this.callSetDisabledState),e.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);B3(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function B9(n,t){return gR(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){A2(this.form,this),this._oldForm&&gR(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(ko,10),l.rXU(df,10),l.rXU(Ay,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,o){1&r&&l.bIt("submit",function(d){return o.onSubmit(d)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l.Jv_([Z9]),l.Vt3,l.OA$]})}return n})();const tK={provide:Xc,useExisting:(0,l.Rfq)(()=>_R)};let _R=(()=>{class n extends Xc{set isDisabled(e){}static#e=this._ngModelWarningSentOnce=!1;constructor(e,r,o,c,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.name=null,this.update=new l.bkB,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function M2(n,t){if(!t)return null;let e,r,o;return Array.isArray(t),t.forEach(c=>{c.constructor===NC?e=c:function j9(n){return Object.getPrototypeOf(n.constructor)===Vm}(c)?r=c:o=c}),o||r||e||null}(0,c)}ngOnChanges(e){this._added||this._setUpControl(),function x2(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function fR(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(l.rXU(Rs,13),l.rXU(ko,10),l.rXU(df,10),l.rXU(fc,10),l.rXU(k2,8))};static#n=this.\u0275dir=l.FsC({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[l.Jv_([tK]),l.Vt3,l.OA$]})}return n})(),gK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();class az extends dR{constructor(t,e,r){super(D2(e),T2(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){let o=this._adjustIndex(t);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),e&&(this.controls.splice(o,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){F3(this,0,t),t.forEach((r,o)=>{N3(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,o)=>{r.reset(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function cz(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let _K=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,r=null){const o=this._reduceControls(e);let c={};return cz(r)?c=r:null!==r&&(c.validators=r.validator,c.asyncValidators=r.asyncValidator),new VC(o,c)}record(e,r=null){const o=this._reduceControls(e);return new L3(o,r)}control(e,r,o){let c={};return this.useNonNullable?(cz(r)?c=r:(c.validators=r,c.asyncValidators=o),new jC(e,{...c,nonNullable:!0})):new jC(e,r,o)}array(e,r,o){const c=e.map(d=>this._createControl(d));return new az(c,r,o)}_reduceControls(e){const r={};return Object.keys(e).forEach(o=>{r[o]=this._createControl(e[o])}),r}_createControl(e){return e instanceof jC||e instanceof dR?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lz=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:()=>(0,l.WQX)(_K).nonNullable,providedIn:"root"})}return n})(),uz=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:k2,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Ay,useValue:e.callSetDisabledState??hR}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[gK]})}return n})();var vK=R(6496);class yK{constructor(t){this._box=t,this._destroyed=new B.B,this._resizeSubject=new B.B,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(e=>this._resizeSubject.next(e)))}observe(t){return this._elementObservables.has(t)||this._elementObservables.set(t,new J.c(e=>{const r=this._resizeSubject.subscribe(e);return this._resizeObserver?.observe(t,{box:this._box}),()=>{this._resizeObserver?.unobserve(t),r.unsubscribe(),this._elementObservables.delete(t)}}).pipe((0,jn.p)(e=>e.some(r=>r.target===t)),(0,vK.t)({bufferSize:1,refCount:!0}),xr(this._destroyed))),this._elementObservables.get(t)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let bK=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=(0,l.WQX)(l.SKi)}ngOnDestroy(){for(const[,e]of this._observers)e.destroy();this._observers.clear()}observe(e,r){const o=r?.box||"content-box";return this._observers.has(o)||this._observers.set(o,new yK(o)),this._observers.get(o).observe(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EK=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),wK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[EK]})}return n})();const CK=["notch"],IK=["matFormFieldNotchedOutline",""],DK=["*"],TK=["textField"],AK=["iconPrefixContainer"],SK=["textPrefixContainer"],xK=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],MK=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function RK(n,t){1&n&&l.nrm(0,"span",19)}function OK(n,t){if(1&n&&(l.j41(0,"label",18),l.SdG(1,1),l.DNE(2,RK,1,0,"span",19),l.k0s()),2&n){const e=l.XpG(2);l.Y8G("floating",e._shouldLabelFloat())("monitorResize",e._hasOutline())("id",e._labelId),l.BMQ("for",e._control.disableAutomaticLabeling?null:e._control.id),l.R7$(2),l.vxM(!e.hideRequiredMarker&&e._control.required?2:-1)}}function kK(n,t){if(1&n&&l.DNE(0,OK,3,5,"label",18),2&n){const e=l.XpG();l.vxM(e._hasFloatingLabel()?0:-1)}}function PK(n,t){1&n&&l.nrm(0,"div",5)}function NK(n,t){}function FK(n,t){if(1&n&&l.DNE(0,NK,0,0,"ng-template",11),2&n){l.XpG(2);const e=l.sdS(1);l.Y8G("ngTemplateOutlet",e)}}function LK(n,t){if(1&n&&(l.j41(0,"div",7),l.DNE(1,FK,1,1,null,11),l.k0s()),2&n){const e=l.XpG();l.Y8G("matFormFieldNotchedOutlineOpen",e._shouldLabelFloat()),l.R7$(),l.vxM(e._forceDisplayInfixLabel()?-1:1)}}function VK(n,t){1&n&&(l.j41(0,"div",8,2),l.SdG(2,2),l.k0s())}function BK(n,t){1&n&&(l.j41(0,"div",9,3),l.SdG(2,3),l.k0s())}function UK(n,t){}function jK(n,t){if(1&n&&l.DNE(0,UK,0,0,"ng-template",11),2&n){l.XpG();const e=l.sdS(1);l.Y8G("ngTemplateOutlet",e)}}function $K(n,t){1&n&&(l.j41(0,"div",12),l.SdG(1,4),l.k0s())}function HK(n,t){1&n&&(l.j41(0,"div",13),l.SdG(1,5),l.k0s())}function zK(n,t){1&n&&l.nrm(0,"div",14)}function GK(n,t){if(1&n&&(l.j41(0,"div",16),l.SdG(1,6),l.k0s()),2&n){const e=l.XpG();l.Y8G("@transitionMessages",e._subscriptAnimationState)}}function KK(n,t){if(1&n&&(l.j41(0,"mat-hint",20),l.EFF(1),l.k0s()),2&n){const e=l.XpG(2);l.Y8G("id",e._hintLabelId),l.R7$(),l.JRh(e.hintLabel)}}function WK(n,t){if(1&n&&(l.j41(0,"div",17),l.DNE(1,KK,2,2,"mat-hint",20),l.SdG(2,7),l.nrm(3,"div",21),l.SdG(4,8),l.k0s()),2&n){const e=l.XpG();l.Y8G("@transitionMessages",e._subscriptAnimationState),l.R7$(),l.vxM(e.hintLabel?1:-1)}}let vR=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-label"]],standalone:!0})}return n})();const qK=new l.nKC("MatError");let XK=0,dz=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+XK++}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,o){2&r&&(l.Mr5("id",o.id),l.BMQ("align",null),l.AVh("mat-mdc-form-field-hint-end","end"===o.align))},inputs:{align:"align",id:"id"},standalone:!0})}return n})();const QK=new l.nKC("MatPrefix"),YK=new l.nKC("MatSuffix"),hz=new l.nKC("FloatingLabelParent");let fz=(()=>{class n{get floating(){return this._floating}set floating(e){this._floating=e,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(e){this._monitorResize=e,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(e){this._elementRef=e,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,l.WQX)(bK),this._ngZone=(0,l.WQX)(l.SKi),this._parent=(0,l.WQX)(hz),this._resizeSubscription=new re.yU}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function ZK(n){if(null!==n.offsetParent)return n.scrollWidth;const e=n.cloneNode(!0);e.style.setProperty("position","absolute"),e.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(e);const r=e.scrollWidth;return e.remove(),r}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,o){2&r&&l.AVh("mdc-floating-label--float-above",o.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"},standalone:!0})}return n})();const pz="mdc-line-ripple--active",yR="mdc-line-ripple--deactivating";let mz=(()=>{class n{constructor(e,r){this._elementRef=e,this._handleTransitionEnd=o=>{const c=this._elementRef.nativeElement.classList,d=c.contains(yR);"opacity"===o.propertyName&&d&&c.remove(pz,yR)},r.runOutsideAngular(()=>{e.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const e=this._elementRef.nativeElement.classList;e.remove(yR),e.add(pz)}deactivate(){this._elementRef.nativeElement.classList.add(yR)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"],standalone:!0})}return n})(),gz=(()=>{class n{constructor(e,r){this._elementRef=e,this._ngZone=r,this.open=!1}ngAfterViewInit(){const e=this._elementRef.nativeElement.querySelector(".mdc-floating-label");e?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(e.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>e.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(e){this._notch.nativeElement.style.width=this.open&&e?`calc(${e}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,o){if(1&r&&l.GBs(CK,5),2&r){let c;l.mGM(c=l.lsd())&&(o._notch=c.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,o){2&r&&l.AVh("mdc-notched-outline--notched",o.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},standalone:!0,features:[l.aNF],attrs:IK,ngContentSelectors:DK,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,o){1&r&&(l.NAR(),l.nrm(0,"div",1),l.j41(1,"div",2,0),l.SdG(3),l.k0s(),l.nrm(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const JK={transitionMessages:(0,En.hZ)("transitionMessages",[(0,En.wk)("enter",(0,En.iF)({opacity:1,transform:"translateY(0%)"})),(0,En.kY)("void => enter",[(0,En.iF)({opacity:0,transform:"translateY(-5px)"}),(0,En.i0)("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let bR=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n})}return n})();const ER=new l.nKC("MatFormField"),eW=new l.nKC("MAT_FORM_FIELD_DEFAULT_OPTIONS");let _z=0,bz=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=e_(e)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdate=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(e){this._subscriptSizing=e||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(e){this._explicitFormFieldControl=e}constructor(e,r,o,c,d,p,g,I){this._elementRef=e,this._changeDetectorRef=r,this._dir=c,this._platform=d,this._defaults=p,this._animationMode=g,this._labelChild=(0,l.sbv)(vR),this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+_z++,this._hintLabelId="mat-mdc-hint-"+_z++,this._subscriptAnimationState="",this._destroyed=new B.B,this._isFocused=null,this._needsOutlineLabelOffsetUpdate=!1,this._injector=(0,l.WQX)(l.zZn),this.getLabelId=(0,l.EWP)(()=>this._hasFloatingLabel()?this._labelId:null),this._hasFloatingLabel=(0,l.EWP)(()=>!!this._labelChild()),p&&(p.appearance&&(this.appearance=p.appearance),this._hideRequiredMarker=!!p?.hideRequiredMarker,p.color&&(this.color=p.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${e.controlType}`),e.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(xr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(e=>!e._isText),this._hasTextPrefix=!!this._prefixChildren.find(e=>e._isText),this._hasIconSuffix=!!this._suffixChildren.find(e=>!e._isText),this._hasTextSuffix=!!this._suffixChildren.find(e=>e._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,bi.h)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0),(0,l.Tzd)(()=>{this._needsOutlineLabelOffsetUpdate&&(this._needsOutlineLabelOffsetUpdate=!1,this._updateOutlineLabelOffset())},{injector:this._injector}),this._dir.change.pipe(xr(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdate=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(c=>"start"===c.align):null,o=this._hintChildren?this._hintChildren.find(c=>"end"===c.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),o&&e.push(o.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_updateOutlineLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return;const e=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(e.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdate=!0);const r=this._iconPrefixContainer?.nativeElement,o=this._textPrefixContainer?.nativeElement,c=r?.getBoundingClientRect().width??0,d=o?.getBoundingClientRect().width??0;e.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${c+d}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(rc),l.rXU(fi),l.rXU(eW,8),l.rXU(l.bc$,8),l.rXU(Te))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,o,c){if(1&r&&(l.C6U(c,o._labelChild,vR,5),l.wni(c,bR,5),l.wni(c,QK,5),l.wni(c,YK,5),l.wni(c,qK,5),l.wni(c,dz,5)),2&r){let d;l.NyB(),l.mGM(d=l.lsd())&&(o._formFieldControl=d.first),l.mGM(d=l.lsd())&&(o._prefixChildren=d),l.mGM(d=l.lsd())&&(o._suffixChildren=d),l.mGM(d=l.lsd())&&(o._errorChildren=d),l.mGM(d=l.lsd())&&(o._hintChildren=d)}},viewQuery:function(r,o){if(1&r&&(l.GBs(TK,5),l.GBs(AK,5),l.GBs(SK,5),l.GBs(fz,5),l.GBs(gz,5),l.GBs(mz,5)),2&r){let c;l.mGM(c=l.lsd())&&(o._textField=c.first),l.mGM(c=l.lsd())&&(o._iconPrefixContainer=c.first),l.mGM(c=l.lsd())&&(o._textPrefixContainer=c.first),l.mGM(c=l.lsd())&&(o._floatingLabel=c.first),l.mGM(c=l.lsd())&&(o._notchedOutline=c.first),l.mGM(c=l.lsd())&&(o._lineRipple=c.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(r,o){2&r&&l.AVh("mat-mdc-form-field-label-always-float",o._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",o._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",o._hasIconSuffix)("mat-form-field-invalid",o._control.errorState)("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===o._animationMode)("mat-form-field-appearance-fill","fill"==o.appearance)("mat-form-field-appearance-outline","outline"==o.appearance)("mat-form-field-hide-placeholder",o._hasFloatingLabel()&&!o._shouldLabelFloat())("mat-focused",o._control.focused)("mat-primary","accent"!==o.color&&"warn"!==o.color)("mat-accent","accent"===o.color)("mat-warn","warn"===o.color)("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],standalone:!0,features:[l.Jv_([{provide:ER,useExisting:n},{provide:hz,useExisting:n}]),l.aNF],ngContentSelectors:MK,decls:18,vars:21,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,o){if(1&r){const c=l.RV6();l.NAR(xK),l.DNE(0,kK,1,1,"ng-template",null,0,l.C5r),l.j41(2,"div",4,1),l.bIt("click",function(p){return l.eBV(c),l.Njj(o._control.onContainerClick(p))}),l.DNE(4,PK,1,0,"div",5),l.j41(5,"div",6),l.DNE(6,LK,2,2,"div",7)(7,VK,3,0,"div",8)(8,BK,3,0,"div",9),l.j41(9,"div",10),l.DNE(10,jK,1,1,null,11),l.SdG(11),l.k0s(),l.DNE(12,$K,2,0,"div",12)(13,HK,2,0,"div",13),l.k0s(),l.DNE(14,zK,1,0,"div",14),l.k0s(),l.j41(15,"div",15),l.DNE(16,GK,2,1,"div",16)(17,WK,5,2,"div",17),l.k0s()}if(2&r){let c;l.R7$(2),l.AVh("mdc-text-field--filled",!o._hasOutline())("mdc-text-field--outlined",o._hasOutline())("mdc-text-field--no-label",!o._hasFloatingLabel())("mdc-text-field--disabled",o._control.disabled)("mdc-text-field--invalid",o._control.errorState),l.R7$(2),l.vxM(o._hasOutline()||o._control.disabled?-1:4),l.R7$(2),l.vxM(o._hasOutline()?6:-1),l.R7$(),l.vxM(o._hasIconPrefix?7:-1),l.R7$(),l.vxM(o._hasTextPrefix?8:-1),l.R7$(2),l.vxM(!o._hasOutline()||o._forceDisplayInfixLabel()?10:-1),l.R7$(2),l.vxM(o._hasTextSuffix?12:-1),l.R7$(),l.vxM(o._hasIconSuffix?13:-1),l.R7$(),l.vxM(o._hasOutline()?-1:14),l.R7$(),l.AVh("mat-mdc-form-field-subscript-dynamic-size","dynamic"===o.subscriptSizing),l.R7$(),l.vxM("error"===(c=o._getDisplayedMessages())?16:"hint"===c?17:-1)}},dependencies:[fz,gz,nl,mz,dz],styles:['.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color);caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color);caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--disabled .cdk-high-contrast-active .mdc-text-field__input{background-color:Window}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape)}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--outlined{height:56px;overflow:visible;padding-left:16px;padding-right:16px}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape));padding-left:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mdc-outlined-text-field-container-shape) + 4px);padding-left:max(16px,var(--mdc-outlined-text-field-container-shape))}}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.cdk-high-contrast-active .mdc-text-field--disabled .mdc-floating-label{z-index:1}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-filled-text-field-hover-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-filled-text-field-error-hover-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-hover-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mdc-outlined-text-field-error-hover-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-outline-color);border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;width:12px;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}.mdc-notched-outline__notch{flex:0 0 auto;width:auto;max-width:calc(100% - 24px)}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px,var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height);padding-top:var(--mat-form-field-filled-with-label-container-padding-top);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding);padding-bottom:var(--mat-form-field-container-vertical-padding)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color)}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font);line-height:var(--mat-form-field-subscript-text-line-height);font-size:var(--mat-form-field-subscript-text-size);letter-spacing:var(--mat-form-field-subscript-text-tracking);font-weight:var(--mat-form-field-subscript-text-weight)}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color)}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity)}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color)}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color)}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color)}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color)}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color)}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color)}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color)}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color)}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color)}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field:not(.mat-form-field-no-animations).mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[JK.transitionMessages]},changeDetection:0})}return n})(),$C=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,Vo,wK,Fr]})}return n})();const Ez=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],wz=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function rW(n,t){1&n&&(l.j41(0,"span",3),l.SdG(1,1),l.k0s())}function iW(n,t){1&n&&(l.j41(0,"span",6),l.SdG(1,2),l.k0s())}const U2=["*"],wR=new l.nKC("mat-chips-default-options",{providedIn:"root",factory:()=>({separatorKeyCodes:[13]})}),j2=new l.nKC("MatChipAvatar"),$2=new l.nKC("MatChipTrailingIcon"),H2=new l.nKC("MatChipRemove"),CR=new l.nKC("MatChip");let xy=(()=>{class n{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=e}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,r){this._elementRef=e,this._parentChip=r,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this.tabIndex=-1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(CR))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(r,o){1&r&&l.bIt("click",function(d){return o._handleClick(d)})("keydown",function(d){return o._handleKeydown(d)}),2&r&&(l.BMQ("tabindex",o._getTabindex())("disabled",o._getDisabledAttribute())("aria-disabled",o.disabled),l.AVh("mdc-evolution-chip__action--primary",o._isPrimary)("mdc-evolution-chip__action--presentational",!o.isInteractive)("mdc-evolution-chip__action--trailing",!o._isPrimary))},inputs:{isInteractive:"isInteractive",disabled:[2,"disabled","disabled",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?-1:(0,l.Udg)(e)],_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},standalone:!0,features:[l.GFd]})}return n})(),yW=0,ff=(()=>{class n{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(e){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,e)}constructor(e,r,o,c,d,p,g,I){this._changeDetectorRef=e,this._elementRef=r,this._ngZone=o,this._focusMonitor=c,this._globalRippleOptions=g,this._onFocus=new B.B,this._onBlur=new B.B,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+yW++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this.removable=!0,this.highlighted=!1,this.disableRipple=!1,this.disabled=!1,this.tabIndex=-1,this.removed=new l.bkB,this.destroyed=new l.bkB,this.basicChipAttrName="mat-basic-chip",this._rippleLoader=(0,l.WQX)(pT),this._injector=(0,l.WQX)(l.zZn),this._document=d,this._animationsDisabled="NoopAnimations"===p,null!=I&&(this.tabIndex=parseInt(I)??-1),this._monitorFocus(),this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-chip-ripple",disabled:this._isRippleDisabled()})}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,bi.h)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngDoCheck(){this._rippleLoader.setDisabled(this._elementRef.nativeElement,this._isRippleDisabled())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode&&!e.repeat||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(r=>{const o=r._elementRef.nativeElement;return o===e||o.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_getTabIndex(){return this.role?this.disabled?-1:this.tabIndex:null}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const r=null!==e;r!==this._hasFocusInternal&&(this._hasFocusInternal=r,r?this._onFocus.next({chip:this}):(0,l.mal)(()=>this._ngZone.run(()=>this._onBlur.next({chip:this})),{injector:this._injector}))})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(Ia),l.rXU(Te),l.rXU(l.bc$,8),l.rXU(T0,8),l.kS0("tabindex"))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(r,o,c){if(1&r&&(l.wni(c,j2,5),l.wni(c,$2,5),l.wni(c,H2,5),l.wni(c,j2,5),l.wni(c,$2,5),l.wni(c,H2,5)),2&r){let d;l.mGM(d=l.lsd())&&(o.leadingIcon=d.first),l.mGM(d=l.lsd())&&(o.trailingIcon=d.first),l.mGM(d=l.lsd())&&(o.removeIcon=d.first),l.mGM(d=l.lsd())&&(o._allLeadingIcons=d),l.mGM(d=l.lsd())&&(o._allTrailingIcons=d),l.mGM(d=l.lsd())&&(o._allRemoveIcons=d)}},viewQuery:function(r,o){if(1&r&&l.GBs(xy,5),2&r){let c;l.mGM(c=l.lsd())&&(o.primaryAction=c.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:32,hostBindings:function(r,o){1&r&&l.bIt("keydown",function(d){return o._handleKeydown(d)}),2&r&&(l.Mr5("id",o.id),l.BMQ("role",o.role)("tabindex",o._getTabIndex())("aria-label",o.ariaLabel),l.HbH("mat-"+(o.color||"primary")),l.AVh("mdc-evolution-chip",!o._isBasicChip)("mdc-evolution-chip--disabled",o.disabled)("mdc-evolution-chip--with-trailing-action",o._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",o.leadingIcon)("mdc-evolution-chip--with-primary-icon",o.leadingIcon)("mdc-evolution-chip--with-avatar",o.leadingIcon)("mat-mdc-chip-with-avatar",o.leadingIcon)("mat-mdc-chip-highlighted",o.highlighted)("mat-mdc-chip-disabled",o.disabled)("mat-mdc-basic-chip",o._isBasicChip)("mat-mdc-standard-chip",!o._isBasicChip)("mat-mdc-chip-with-trailing-icon",o._hasTrailingIcon())("_mat-animation-noopable",o._animationsDisabled))},inputs:{role:"role",id:"id",ariaLabel:[0,"aria-label","ariaLabel"],ariaDescription:[0,"aria-description","ariaDescription"],value:"value",color:"color",removable:[2,"removable","removable",l.L39],highlighted:[2,"highlighted","highlighted",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],disabled:[2,"disabled","disabled",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?void 0:(0,l.Udg)(e)]},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],standalone:!0,features:[l.Jv_([{provide:CR,useExisting:n}]),l.GFd,l.aNF],ngContentSelectors:wz,decls:8,vars:3,consts:[[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(r,o){1&r&&(l.NAR(Ez),l.nrm(0,"span",0),l.j41(1,"span",1)(2,"span",2),l.DNE(3,rW,2,0,"span",3),l.j41(4,"span",4),l.SdG(5),l.nrm(6,"span",5),l.k0s()()(),l.DNE(7,iW,2,0,"span",6)),2&r&&(l.R7$(2),l.Y8G("isInteractive",!1),l.R7$(),l.vxM(o.leadingIcon?3:-1),l.R7$(4),l.vxM(o._hasTrailingIcon()?7:-1))},dependencies:[xy],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{flex-basis:100%;overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit;overflow-x:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-outline-width);border-radius:var(--mdc-chip-container-shape-radius);box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1;border-style:solid}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-outline-color)}.mdc-evolution-chip__action--primary:not(.mdc-evolution-chip__action--presentational):not(.mdc-ripple-upgraded):focus::before{border-color:var(--mdc-chip-focus-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--primary::before{border-color:var(--mdc-chip-disabled-outline-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary::before{border-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__action--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}.mdc-evolution-chip__text-label{-webkit-user-select:none;user-select:none;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.mat-mdc-standard-chip .mdc-evolution-chip__text-label{font-family:var(--mdc-chip-label-text-font);line-height:var(--mdc-chip-label-text-line-height);font-size:var(--mdc-chip-label-text-size);font-weight:var(--mdc-chip-label-text-weight);letter-spacing:var(--mdc-chip-label-text-tracking)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-selected-label-text-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label,.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color)}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{width:var(--mdc-chip-with-avatar-avatar-size);height:var(--mdc-chip-with-avatar-avatar-size);font-size:var(--mdc-chip-with-avatar-avatar-size)}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:8px;padding-right:4px}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%;height:20px;width:20px}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.cdk-high-contrast-active .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove{opacity:calc(var(--mat-chip-trailing-action-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing.mat-mdc-chip-remove:focus{opacity:calc(var(--mat-chip-trailing-action-focus-opacity)*var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity))}.mat-mdc-standard-chip{border-radius:var(--mdc-chip-container-shape-radius);height:var(--mdc-chip-container-height)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-selected-container-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-flat-disabled-selected-container-color)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius);width:var(--mdc-chip-with-icon-icon-size);height:var(--mdc-chip-with-icon-icon-size);font-size:var(--mdc-chip-with-icon-icon-size)}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color)}.mat-mdc-chip-highlighted{--mdc-chip-with-icon-icon-color:var(--mdc-chip-with-icon-selected-icon-color);--mdc-chip-elevated-container-color:var(--mdc-chip-elevated-selected-container-color);--mdc-chip-label-text-color:var(--mdc-chip-selected-label-text-color);--mdc-chip-outline-width:var(--mdc-chip-flat-selected-outline-width)}.mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color)}.mat-mdc-chip-selected .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color)}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-hover-state-layer-color);opacity:var(--mdc-chip-hover-state-layer-opacity)}.mat-mdc-chip-focus-overlay .mat-mdc-chip-selected:hover,.mat-mdc-chip-highlighted:hover .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-hover-state-layer-color);opacity:var(--mdc-chip-selected-hover-state-layer-opacity)}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-focus-state-layer-color);opacity:var(--mdc-chip-focus-state-layer-opacity)}.mat-mdc-chip-selected.cdk-focused .mat-mdc-chip-focus-overlay,.mat-mdc-chip-highlighted.cdk-focused .mat-mdc-chip-focus-overlay{background:var(--mdc-chip-selected-focus-state-layer-color);opacity:var(--mdc-chip-selected-focus-state-layer-opacity)}.mdc-evolution-chip--disabled:not(.mdc-evolution-chip--selected) .mat-mdc-chip-avatar{opacity:var(--mdc-chip-with-avatar-disabled-avatar-opacity)}.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{opacity:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-opacity)}.mdc-evolution-chip--disabled.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{opacity:var(--mdc-chip-with-icon-disabled-icon-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:var(--mat-chip-disabled-container-opacity)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-trailing-icon-color)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing,.mat-mdc-standard-chip.mat-mdc-chip-highlighted.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mat-chip-selected-disabled-trailing-icon-color)}.mat-mdc-chip-remove{opacity:var(--mat-chip-trailing-action-opacity)}.mat-mdc-chip-remove:focus{opacity:var(--mat-chip-trailing-action-focus-opacity)}.mat-mdc-chip-remove::after{background:var(--mat-chip-trailing-action-state-layer-color)}.mat-mdc-chip-remove:hover::after{opacity:var(--mat-chip-trailing-action-hover-state-layer-opacity)}.mat-mdc-chip-remove:focus::after{opacity:var(--mat-chip-trailing-action-focus-state-layer-opacity)}.mat-mdc-chip-selected .mat-mdc-chip-remove::after,.mat-mdc-chip-highlighted .mat-mdc-chip-remove::after{background:var(--mat-chip-selected-trailing-action-state-layer-color)}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip .mat-ripple.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px)*-1);left:8px;right:8px}.mat-mdc-chip-remove::after{content:"";display:block;opacity:0;position:absolute;top:-2px;bottom:-2px;left:6px;right:6px;border-radius:50%}.mat-mdc-chip-remove .mat-icon{width:18px;height:18px;font-size:18px;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}return n})(),HC=(()=>{class n{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get chipRemovedChanges(){return this._getChipStream(e=>e.removed)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._syncChipsState()}get empty(){return!this._chips||0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,r,o){this._elementRef=e,this._changeDetectorRef=r,this._dir=o,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new B.B,this._defaultRole="presentation",this._disabled=!1,this.tabIndex=0,this._explicitRole=null,this._chipActions=new l.rOR}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,this._changeDetectorRef.markForCheck(),setTimeout(()=>{this.tabIndex=e,this._changeDetectorRef.markForCheck()})}}_getChipStream(e){return this._chips.changes.pipe((0,jo.Z)(null),hi(()=>(0,bi.h)(...this._chips.map(e))))}_originatesFromChip(e){let r=e.target;for(;r&&r!==this._elementRef.nativeElement;){if(r.classList.contains("mat-mdc-chip"))return!0;r=r.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe((0,jo.Z)(this._chips)).subscribe(e=>{const r=[];e.forEach(o=>o._getActions().forEach(c=>r.push(c))),this._chipActions.reset(r),this._chipActions.notifyOnChanges()}),this._keyManager=new T1(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(xr(this._destroyed)).subscribe(({chip:e})=>{const r=e._getSourceAction(document.activeElement);r&&this._keyManager.updateActiveItem(r)}),this._dir?.change.pipe(xr(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe((0,jo.Z)(null),xr(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(xr(this._destroyed)).subscribe(e=>{const o=this._chips.toArray().indexOf(e.chip);this._isValidIndex(o)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=o)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),r=this._chips.toArray()[e];r.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():r.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.gRc),l.rXU(rc,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-chip-set"]],contentQueries:function(r,o,c){if(1&r&&l.wni(c,ff,5),2&r){let d;l.mGM(d=l.lsd())&&(o._chips=d)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(r,o){1&r&&l.bIt("keydown",function(d){return o._handleKeydown(d)}),2&r&&l.BMQ("role",o.role)},inputs:{disabled:[2,"disabled","disabled",l.L39],role:"role",tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)]},standalone:!0,features:[l.GFd,l.aNF],ngContentSelectors:U2,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(r,o){1&r&&(l.NAR(),l.j41(0,"div",0),l.SdG(1),l.k0s())},styles:[".mat-mdc-chip-set{display:flex}.mat-mdc-chip-set:focus{outline:none}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%;margin-left:-8px;margin-right:0}.mat-mdc-chip-set .mdc-evolution-chip{margin:4px 0 4px 8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip-set__chips{margin-left:0;margin-right:-8px}[dir=rtl] .mat-mdc-chip-set .mdc-evolution-chip{margin-left:0;margin-right:8px}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}.mat-mdc-chip-set-stacked .mdc-evolution-chip__graphic{flex-grow:0}.mat-mdc-chip-set-stacked .mdc-evolution-chip__action--primary{flex-basis:100%;justify-content:start}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0})}return n})(),Sz=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[h_,{provide:wR,useValue:{separatorKeyCodes:[13]}}],imports:[Fr,hp,Fr]})}return n})();function DW(n,t){}class DR{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0,this.closeOnOverlayDetachments=!0}}let xz=(()=>{class n extends V_{constructor(e,r,o,c,d,p,g,I){super(),this._elementRef=e,this._focusTrapFactory=r,this._config=c,this._interactivityChecker=d,this._ngZone=p,this._overlayRef=g,this._focusMonitor=I,this._platform=(0,l.WQX)(fi),this._focusTrap=null,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._ariaLabelledByQueue=[],this._changeDetectorRef=(0,l.WQX)(l.gRc),this._injector=(0,l.WQX)(l.zZn),this._isDestroyed=!1,this.attachDomPortal=A=>{this._portalOutlet.hasAttached();const k=this._portalOutlet.attachDomPortal(A);return this._contentAttached(),k},this._document=o,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){const r=this._ariaLabelledByQueue.indexOf(e);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),r}attachTemplatePortal(e){this._portalOutlet.hasAttached();const r=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),r}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,r){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(r)}_focusByCssSelector(e,r){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,r)}_trapFocus(){this._isDestroyed||(0,l.mal)(()=>{const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement()||this._focusDialogContainer();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}},{injector:this._injector})}_restoreFocus(){const e=this._config.restoreFocus;let r=null;if("string"==typeof e?r=this._document.querySelector(e):"boolean"==typeof e?r=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(r=e),this._config.restoreFocus&&r&&"function"==typeof r.focus){const o=zg(),c=this._elementRef.nativeElement;(!o||o===this._document.body||o===c||c.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=zg();return e===r||e.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=zg()))}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(qD),l.rXU(Te,8),l.rXU(DR),l.rXU(n_),l.rXU(l.SKi),l.rXU($_),l.rXU(Ia))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(r,o){if(1&r&&l.GBs(Z0,7),2&r){let c;l.mGM(c=l.lsd())&&(o._portalOutlet=c.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,o){2&r&&l.BMQ("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},standalone:!0,features:[l.Vt3,l.aNF],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,o){1&r&&l.DNE(0,DW,0,0,"ng-template",0)},dependencies:[Z0],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2})}return n})();class z2{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new B.B,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(r=>{27===r.keyCode&&!this.disableClose&&!nc(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})}),this._detachSubscription=t.detachments().subscribe(()=>{!1!==e.closeOnOverlayDetachments&&this.close()})}close(t,e){if(this.containerInstance){const r=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const Mz=new l.nKC("DialogScrollStrategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Wo);return()=>n.scrollStrategies.block()}}),TW=new l.nKC("DialogData"),AW=new l.nKC("DefaultDialogConfig");let xW=0,MW=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}constructor(e,r,o,c,d,p){this._overlay=e,this._injector=r,this._defaultOptions=o,this._parentDialog=c,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new B.B,this._afterOpenedAtThisLevel=new B.B,this._ariaHiddenElements=new Map,this.afterAllClosed=Jt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,jo.Z)(void 0))),this._scrollStrategy=p}open(e,r){(r={...this._defaultOptions||new DR,...r}).id=r.id||"cdk-dialog-"+xW++,r.id&&this.getDialogById(r.id);const c=this._getOverlayConfig(r),d=this._overlay.create(c),p=new z2(d,r),g=this._attachContainer(d,p,r);return p.containerInstance=g,this._attachDialogContent(e,p,g,r),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(p),p.closed.subscribe(()=>this._removeOpenDialog(p,!0)),this.afterOpened.next(p),p}closeAll(){G2(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){G2(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),G2(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const r=new oE({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachContainer(e,r,o){const c=o.injector||o.viewContainerRef?.injector,d=[{provide:DR,useValue:o},{provide:z2,useValue:r},{provide:$_,useValue:e}];let p;o.container?"function"==typeof o.container?p=o.container:(p=o.container.type,d.push(...o.container.providers(o))):p=xz;const g=new L_(p,o.viewContainerRef,l.zZn.create({parent:c||this._injector,providers:d}),o.componentFactoryResolver);return e.attach(g).instance}_attachDialogContent(e,r,o,c){if(e instanceof l.C4Q){const d=this._createInjector(c,r,o,void 0);let p={$implicit:c.data,dialogRef:r};c.templateContext&&(p={...p,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),o.attachTemplatePortal(new Mp(e,null,p,d))}else{const d=this._createInjector(c,r,o,this._injector),p=o.attachComponentPortal(new L_(e,c.viewContainerRef,d,c.componentFactoryResolver));r.componentRef=p,r.componentInstance=p.instance}}_createInjector(e,r,o,c){const d=e.injector||e.viewContainerRef?.injector,p=[{provide:TW,useValue:e.data},{provide:z2,useValue:r}];return e.providers&&("function"==typeof e.providers?p.push(...e.providers(r,e,o)):p.push(...e.providers)),e.direction&&(!d||!d.get(rc,null,{optional:!0}))&&p.push({provide:rc,useValue:{value:e.direction,change:Y()}}),l.zZn.create({parent:d||c,providers:p})}_removeOpenDialog(e,r){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,d)=>{c?d.setAttribute("aria-hidden",c):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let o=r.length-1;o>-1;o--){const c=r[o];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Wo),l.KVO(l.zZn),l.KVO(AW,8),l.KVO(n,12),l.KVO(j_),l.KVO(Mz))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function G2(n,t){let e=n.length;for(;e--;)t(n[e])}function RW(n,t){}class K2{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const W2="mdc-dialog--open",Rz="mdc-dialog--opening",Oz="mdc-dialog--closing";let kz=(()=>{class n extends xz{constructor(e,r,o,c,d,p,g,I,A){super(e,r,o,c,d,p,g,A),this._animationMode=I,this._animationStateChanged=new l.bkB,this._animationsEnabled="NoopAnimations"!==this._animationMode,this._actionSectionCount=0,this._hostElement=this._elementRef.nativeElement,this._enterAnimationDuration=this._animationsEnabled?Nz(this._config.enterAnimationDuration)??150:0,this._exitAnimationDuration=this._animationsEnabled?Nz(this._config.exitAnimationDuration)??75:0,this._animationTimer=null,this._finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)},this._finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})}}_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Pz,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Rz,W2)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(W2),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(W2),this._animationsEnabled?(this._hostElement.style.setProperty(Pz,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Oz)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_clearAnimationClasses(){this._hostElement.classList.remove(Rz,Oz)}_waitForAnimationToComplete(e,r){null!==this._animationTimer&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(r,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{"function"==typeof requestAnimationFrame?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),null!==this._animationTimer&&clearTimeout(this._animationTimer)}attachComponentPortal(e){const r=super.attachComponentPortal(e);return r.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),r}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(qD),l.rXU(Te,8),l.rXU(K2),l.rXU(n_),l.rXU(l.SKi),l.rXU($_),l.rXU(l.bc$,8),l.rXU(Ia))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(r,o){2&r&&(l.Mr5("id",o._config.id),l.BMQ("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),l.AVh("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},standalone:!0,features:[l.Vt3,l.aNF],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(r,o){1&r&&(l.j41(0,"div",0)(1,"div",1),l.DNE(2,RW,0,0,"ng-template",2),l.k0s()())},dependencies:[Z0],styles:['.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 80vw);min-width:var(--mat-dialog-container-min-width, 0)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, 80vw)}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, 0px 11px 15px -7px rgba(0, 0, 0, 0.2), 0px 24px 38px 3px rgba(0, 0, 0, 0.14), 0px 9px 46px 8px rgba(0, 0, 0, 0.12));border-radius:var(--mdc-dialog-container-shape, 4px);background-color:var(--mdc-dialog-container-color, white)}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 0 24px 9px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mdc-dialog-subhead-color, rgba(0, 0, 0, 0.87));font-family:var(--mdc-dialog-subhead-font, Roboto, sans-serif);line-height:var(--mdc-dialog-subhead-line-height, 1.5rem);font-size:var(--mdc-dialog-subhead-size, 1rem);font-weight:var(--mdc-dialog-subhead-weight, 400);letter-spacing:var(--mdc-dialog-subhead-tracking, 0.03125em)}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mdc-dialog-supporting-text-color, rgba(0, 0, 0, 0.6));font-family:var(--mdc-dialog-supporting-text-font, Roboto, sans-serif);line-height:var(--mdc-dialog-supporting-text-line-height, 1.5rem);font-size:var(--mdc-dialog-supporting-text-size, 1rem);font-weight:var(--mdc-dialog-supporting-text-weight, 400);letter-spacing:var(--mdc-dialog-supporting-text-tracking, 0.03125em)}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;min-height:52px;margin:0;padding:8px;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 8px);justify-content:var(--mat-dialog-actions-alignment, start)}.cdk-high-contrast-active .mat-mdc-dialog-actions{border-top-color:CanvasText}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}'],encapsulation:2})}return n})();const Pz="--mat-dialog-transition-duration";function Nz(n){return null==n?null:"number"==typeof n?n:n.endsWith("ms")?$D(n.substring(0,n.length-2)):n.endsWith("s")?1e3*$D(n.substring(0,n.length-1)):"0"===n?0:null}var TR=function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n}(TR||{});class q2{constructor(t,e,r){this._ref=t,this._containerInstance=r,this._afterOpened=new B.B,this._beforeClosed=new B.B,this._state=TR.OPEN,this.disableClose=e.disableClose,this.id=t.id,t.addPanelClass("mat-mdc-dialog-panel"),r._animationStateChanged.pipe((0,jn.p)(o=>"opened"===o.state),Yr(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe((0,jn.p)(o=>"closed"===o.state),Yr(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,bi.h)(this.backdropClick(),this.keydownEvents().pipe((0,jn.p)(o=>27===o.keyCode&&!this.disableClose&&!nc(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),Fz(this,"keydown"===o.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe((0,jn.p)(e=>"closing"===e.state),Yr(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=TR.CLOSING,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=TR.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function Fz(n,t,e){return n._closeInteractionType=t,n.close(e)}const Lz=new l.nKC("MatMdcDialogData"),PW=new l.nKC("mat-mdc-dialog-default-options"),Vz=new l.nKC("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Wo);return()=>n.scrollStrategies.block()}});let FW=0,AR=(()=>{class n{get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}constructor(e,r,o,c,d,p,g,I){this._overlay=e,this._defaultOptions=c,this._scrollStrategy=d,this._parentDialog=p,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new B.B,this._afterOpenedAtThisLevel=new B.B,this.dialogConfigClass=K2,this.afterAllClosed=Jt(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,jo.Z)(void 0))),this._dialog=r.get(MW),this._dialogRefConstructor=q2,this._dialogContainerType=kz,this._dialogDataToken=Lz}open(e,r){let o;(r={...this._defaultOptions||new K2,...r}).id=r.id||"mat-mdc-dialog-"+FW++,r.scrollStrategy=r.scrollStrategy||this._scrollStrategy();const c=this._dialog.open(e,{...r,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:r},{provide:DR,useValue:r}]},templateContext:()=>({dialogRef:o}),providers:(d,p,g)=>(o=new this._dialogRefConstructor(d,r,g),o.updatePosition(r?.position),[{provide:this._dialogContainerType,useValue:g},{provide:this._dialogDataToken,useValue:p.data},{provide:this._dialogRefConstructor,useValue:o}])});return o.componentRef=c.componentRef,o.componentInstance=c.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{const d=this.openDialogs.indexOf(o);d>-1&&(this.openDialogs.splice(d,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(Wo),l.KVO(l.zZn),l.KVO(Pn,8),l.KVO(PW,8),l.KVO(Vz),l.KVO(n,12),l.KVO(j_),l.KVO(l.bc$,8))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),LW=0,Bz=(()=>{class n{constructor(e,r,o){this.dialogRef=e,this._elementRef=r,this._dialog=o,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=zz(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){Fz(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(q2,8),l.rXU(l.aKT),l.rXU(AR))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(r,o){1&r&&l.bIt("click",function(d){return o._onButtonClick(d)}),2&r&&l.BMQ("aria-label",o.ariaLabel||null)("type",o.type)},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],type:"type",dialogResult:[0,"mat-dialog-close","dialogResult"],_matDialogClose:[0,"matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],standalone:!0,features:[l.OA$]})}return n})(),Uz=(()=>{class n{constructor(e,r,o){this._dialogRef=e,this._elementRef=r,this._dialog=o}ngOnInit(){this._dialogRef||(this._dialogRef=zz(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(q2,8),l.rXU(l.aKT),l.rXU(AR))};static#t=this.\u0275dir=l.FsC({type:n,standalone:!0})}return n})(),jz=(()=>{class n extends Uz{constructor(){super(...arguments),this.id="mat-mdc-dialog-title-"+LW++}_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=l.xGo(n)))(o||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(r,o){2&r&&l.Mr5("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],standalone:!0,features:[l.Vt3]})}return n})(),$z=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],standalone:!0,features:[l.nM4([rE])]})}return n})(),Hz=(()=>{class n extends Uz{_onAdd(){this._dialogRef._containerInstance?._updateActionSectionCount?.(1)}_onRemove(){this._dialogRef._containerInstance?._updateActionSectionCount?.(-1)}static#e=this.\u0275fac=(()=>{let e;return function(o){return(e||(e=l.xGo(n)))(o||n)}})();static#t=this.\u0275dir=l.FsC({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-mdc-dialog-actions","mdc-dialog__actions"],hostVars:6,hostBindings:function(r,o){2&r&&l.AVh("mat-mdc-dialog-actions-align-start","start"===o.align)("mat-mdc-dialog-actions-align-center","center"===o.align)("mat-mdc-dialog-actions-align-end","end"===o.align)},inputs:{align:"align"},standalone:!0,features:[l.Vt3]})}return n})();function zz(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?t.find(r=>r.id===e.id):null}let Kz=(()=>{class n{constructor(e){this.data=e}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(Lz))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["delete-confirmation"]],standalone:!0,features:[l.aNF],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-button","","mat-dialog-close",""],["mat-button","","mat-dialog-close","","cdkFocusInitial","",3,"click"]],template:function(r,o){1&r&&(l.j41(0,"h2",0),l.EFF(1,"Delete element"),l.k0s(),l.j41(2,"mat-dialog-content"),l.EFF(3),l.k0s(),l.j41(4,"mat-dialog-actions")(5,"button",1),l.EFF(6,"No"),l.k0s(),l.j41(7,"button",2),l.bIt("click",function(){return o.data.deleteFunction()}),l.EFF(8,"Ok"),l.k0s()()),2&r&&(l.R7$(3),l.E5c(" Do you want to delete ",o.data.name," (ID: ",o.data.id,") from ",o.data.collection,"? "))},dependencies:[Uc,$k,jz,$z,Hz,Bz],changeDetection:0})}return n})();const VW=(n,t)=>t.id,BW=()=>["/story-edit",null],UW=()=>["/chapter-edit",null],jW=n=>["/story-edit",n];function $W(n,t){if(1&n){const e=l.RV6();l.j41(0,"mat-card",3)(1,"mat-card-content"),l.EFF(2),l.k0s(),l.j41(3,"mat-card-footer",4)(4,"mat-chip-set",5)(5,"mat-chip",6)(6,"mat-icon"),l.EFF(7,"edit"),l.k0s(),l.EFF(8," Edit "),l.k0s(),l.j41(9,"mat-chip",7),l.bIt("click",function(){const o=l.eBV(e).$implicit,c=l.XpG();return l.Njj(c.delete(o))}),l.j41(10,"mat-icon"),l.EFF(11,"delete"),l.k0s(),l.EFF(12," Delete "),l.k0s()()()()}if(2&n){const e=t.$implicit,r=t.$index;l.R7$(2),l.Lme("",r," ",e.name,""),l.R7$(3),l.Y8G("routerLink",l.eq3(3,jW,e.id))}}let HW=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.dialog=(0,l.WQX)(AR),this.stories$=this.getStories()}getStories(){var e=this;return(0,L.A)(function*(){return yield e.dbService.getAllCollectionDocs(Or.STORIES)})()}replicate(){this.dbService.replicateCollection(Or.STORIES)}addStory(e){return this.dbService.addDocument(Or.STORIES,e)}delete(e){this.dialog.open(Kz,{data:{id:e.id,name:e.name,collection:Or.STORIES,deleteFunction:()=>this.deleteStory(e)}})}deleteStory(e){console.log(`LOL: Deleting story: ${e.name}: ${e.id}`),this.dbService.deleteDocument(Or.STORIES,e.id)}cleanup(){this.dbService.cleanupCollection(Or.STORIES),this.dbService.cleanupCollection(Or.CHAPTERS),console.log(`LOL: Running ceanup for collections: ${Or.STORIES}, ${Or.CHAPTERS}`)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["editor"]],standalone:!0,features:[l.aNF],decls:23,vars:8,consts:[[1,"flex-container"],["mat-fab","","extended","",1,"button-container",3,"routerLink"],["mat-fab","","extended","",1,"button-container",3,"click"],["appearance","outlined"],[1,"card-footer"],["aria-label","Sory-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(r,o){1&r&&(l.j41(0,"div",0)(1,"a",1)(2,"mat-icon"),l.EFF(3,"add"),l.k0s(),l.EFF(4," Add story "),l.k0s(),l.j41(5,"a",1)(6,"mat-icon"),l.EFF(7,"edit_square"),l.k0s(),l.EFF(8," Chapters "),l.k0s(),l.j41(9,"button",2),l.bIt("click",function(){return o.cleanup()}),l.j41(10,"mat-icon"),l.EFF(11,"cleaning_services"),l.k0s(),l.EFF(12," Cleanup "),l.k0s(),l.j41(13,"button",2),l.bIt("click",function(){return o.replicate()}),l.j41(14,"mat-icon"),l.EFF(15,"sync"),l.k0s(),l.EFF(16," Replicate "),l.k0s()(),l.j41(17,"h3"),l.EFF(18,"Edit story:"),l.k0s(),l.Z7z(19,$W,13,5,"mat-card",3,VW),l.nI1(21,"async"),l.nI1(22,"async")),2&r&&(l.R7$(),l.Y8G("routerLink",l.lJ4(6,BW)),l.R7$(4),l.Y8G("routerLink",l.lJ4(7,UW)),l.R7$(14),l.Dyx(l.bMT(22,4,l.bMT(21,2,o.stories$))))},dependencies:[Vo,gr,Ug,kc,q_,oc,Fl,wh,Ml,_h,Uc,K0,xp,Sz,ff,HC],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;row-gap:15px;flex-wrap:wrap}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:150px}.card-footer[_ngcontent-%COMP%]{padding:16px}"]})}return n})();const zW=(n,t)=>t.id,GW=n=>["/gameboard",n];function KW(n,t){1&n&&(l.j41(0,"h2",0),l.EFF(1),l.k0s()),2&n&&(l.R7$(),l.JRh(t.name))}function WW(n,t){1&n&&(l.j41(0,"mat-icon"),l.EFF(1,"star"),l.k0s())}function qW(n,t){if(1&n&&(l.j41(0,"mat-card",1)(1,"mat-card-header")(2,"mat-card-title"),l.EFF(3),l.DNE(4,WW,2,0,"mat-icon"),l.k0s(),l.j41(5,"mat-card-subtitle"),l.EFF(6),l.k0s()(),l.j41(7,"mat-card-content"),l.EFF(8),l.k0s()()),2&n){const e=t.$implicit;l.Y8G("routerLink",l.eq3(6,GW,e.id)),l.R7$(3),l.Lme(" ",e.chapterNumber,": ",e.name," "),l.R7$(),l.vxM(e.is_premium?4:-1),l.R7$(2),l.JRh(e.author),l.R7$(2),l.JRh(e.description)}}let XW=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.chapters$=this.getChapters(),this.story$=this.getStory()}getChapters(){var e=this;return(0,L.A)(function*(){return(yield e.dbService.getAllCollectionDocs(Or.CHAPTERS)).pipe((0,Me.T)(r=>r.filter(o=>o.storyId==e.storyId).sort((o,c)=>o.chapterNumber-c.chapterNumber)))})()}ngOnInit(){this.story$=this.getStory()}getStory(){var e=this;return(0,L.A)(function*(){return yield e.dbService.getDocumentById(Or.STORIES,e.storyId)})()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-chapters"]],inputs:{storyId:"storyId"},standalone:!0,features:[l.aNF],decls:7,vars:9,consts:[[1,"title"],["appearance","outlined",3,"routerLink"]],template:function(r,o){if(1&r&&(l.DNE(0,KW,2,1,"h2",0),l.nI1(1,"async"),l.nI1(2,"async"),l.Z7z(3,qW,9,8,"mat-card",1,zW),l.nI1(5,"async"),l.nI1(6,"async")),2&r){let c;l.vxM((c=l.bMT(2,3,l.bMT(1,1,o.story$)))?0:-1,c),l.R7$(3),l.Dyx(l.bMT(6,7,l.bMT(5,5,o.chapters$)))}},dependencies:[Vo,gr,Ug,kc,q_,oc,Fl,W_,mE,Eh,Ml,_h],styles:[".title[_ngcontent-%COMP%]{margin-bottom:15px}"]})}return n})();class YW{get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}constructor(t=!1,e,r=!0,o){this._multiple=t,this._emitChanges=r,this.compareWith=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new B.B,e&&e.length&&(t?e.forEach(c=>this._markSelected(c)):this._markSelected(e[0]),this._selectedToEmit.length=0)}select(...t){this._verifyValueAssignment(t),t.forEach(r=>this._markSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(r=>this._unmarkSelected(r));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,r=new Set(t);t.forEach(c=>this._markSelected(c)),e.filter(c=>!r.has(this._getConcreteValue(c,r))).forEach(c=>this._unmarkSelected(c));const o=this._hasQueuedChanges();return this._emitChangeEvent(),o}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){return this._selection.has(this._getConcreteValue(t))}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){t=this._getConcreteValue(t),this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){t=this._getConcreteValue(t),this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}_getConcreteValue(t,e){if(this.compareWith){e=e??this._selection;for(let r of e)if(this.compareWith(t,r))return r;return t}return t}}const ZW=["trigger"],JW=["panel"],eq=[[["mat-select-trigger"]],"*"],tq=["mat-select-trigger","*"];function nq(n,t){if(1&n&&(l.j41(0,"span",4),l.EFF(1),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.JRh(e.placeholder)}}function rq(n,t){1&n&&l.SdG(0)}function iq(n,t){if(1&n&&(l.j41(0,"span",11),l.EFF(1),l.k0s()),2&n){const e=l.XpG(2);l.R7$(),l.JRh(e.triggerValue)}}function oq(n,t){if(1&n&&(l.j41(0,"span",5),l.DNE(1,rq,1,0)(2,iq,2,1,"span",11),l.k0s()),2&n){const e=l.XpG();l.R7$(),l.vxM(e.customTrigger?1:2)}}function sq(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",12,1),l.bIt("@transformPanel.done",function(o){l.eBV(e);const c=l.XpG();return l.Njj(c._panelDoneAnimatingStream.next(o.toState))})("keydown",function(o){l.eBV(e);const c=l.XpG();return l.Njj(c._handleKeydown(o))}),l.SdG(2,1),l.k0s()}if(2&n){const e=l.XpG();l.ZvI("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",e._getPanelTheme(),""),l.Y8G("ngClass",e.panelClass)("@transformPanel","showing"),l.BMQ("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const aq={transformPanelWrap:(0,En.hZ)("transformPanelWrap",[(0,En.kY)("* => void",(0,En.P)("@transformPanel",[(0,En.MA)()],{optional:!0}))]),transformPanel:(0,En.hZ)("transformPanel",[(0,En.wk)("void",(0,En.iF)({opacity:0,transform:"scale(1, 0.8)"})),(0,En.kY)("void => showing",(0,En.i0)("120ms cubic-bezier(0, 0, 0.2, 1)",(0,En.iF)({opacity:1,transform:"scale(1, 1)"}))),(0,En.kY)("* => void",(0,En.i0)("100ms linear",(0,En.iF)({opacity:0})))])};let Wz=0;const qz=new l.nKC("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{const n=(0,l.WQX)(Wo);return()=>n.scrollStrategies.reposition()}}),lq=new l.nKC("MAT_SELECT_CONFIG"),uq={provide:qz,deps:[Wo],useFactory:function cq(n){return()=>n.scrollStrategies.reposition()}},dq=new l.nKC("MatSelectTrigger");class hq{constructor(t,e){this.source=t,this.value=e}}let Xz=(()=>{class n{_scrollOptionIntoView(e){const r=this.options.toArray()[e];if(r){const o=this.panel.nativeElement,c=function hT(n,t,e){if(e.length){let r=t.toArray(),o=e.toArray(),c=0;for(let d=0;d<n+1;d++)r[d].group&&r[d].group===o[c]&&c++;return c}return 0}(e,this.options,this.optionGroups),d=r._getHostElement();o.scrollTop=0===e&&1===c?0:function Fu(n,t,e,r){return n<e?n:n+t>e+r?Math.max(0,n-r+t):e}(d.offsetTop,d.offsetHeight,o.scrollTop,o.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(e){return new hq(this,e)}get focused(){return this._focused||this._panelOpen}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=e,this._syncParentProperties()}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(qc.required)??!1}set required(e){this._required=e,this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=e}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,o,c,d,p,g,I,A,k,j,X,me,pe){this._viewportRuler=e,this._changeDetectorRef=r,this._elementRef=d,this._dir=p,this._parentFormField=A,this.ngControl=k,this._liveAnnouncer=me,this._defaultOptions=pe,this._positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}],this._panelOpen=!1,this._compareWith=(he,ft)=>he===ft,this._uid="mat-select-"+Wz++,this._triggerAriaLabelledBy=null,this._destroy=new B.B,this.stateChanges=new B.B,this.disableAutomaticLabeling=!0,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Wz++,this._panelDoneAnimatingStream=new B.B,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._multiple=!1,this.disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto",this._initialized=new B.B,this.optionSelectionChanges=Jt(()=>{const he=this.options;return he?he.changes.pipe((0,jo.Z)(he),hi(()=>(0,bi.h)(...he.map(ft=>ft.onSelectionChange)))):this._initialized.pipe(hi(()=>this.optionSelectionChanges))}),this.openedChange=new l.bkB,this._openedStream=this.openedChange.pipe((0,jn.p)(he=>he),(0,Me.T)(()=>{})),this._closedStream=this.openedChange.pipe((0,jn.p)(he=>!he),(0,Me.T)(()=>{})),this.selectionChange=new l.bkB,this.valueChange=new l.bkB,this._trackedModal=null,this._skipPredicate=he=>!this.panelOpen&&he.disabled,this.ngControl&&(this.ngControl.valueAccessor=this),null!=pe?.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=pe.typeaheadDebounceInterval),this._errorStateTracker=new d_(c,k,I,g,this.stateChanges),this._scrollStrategyFactory=X,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(j)||0,this.id=this.id}ngOnInit(){this._selectionModel=new YW(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,jD.F)(),xr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen)),this._viewportRuler.change().pipe(xr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(xr(this._destroy)).subscribe(e=>{e.added.forEach(r=>r.select()),e.removed.forEach(r=>r.deselect())}),this.options.changes.pipe((0,jo.Z)(null),xr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),r=this.ngControl;if(e!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?o.setAttribute("aria-labelledby",e):o.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(void 0!==this._previousControl&&null!==r.disabled&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_applyModalPanelOwnership(){const e=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!e)return;const r=`${this.id}-panel`;this._trackedModal&&s0(this._trackedModal,"aria-owns",r),function zD(n,t,e){const r=GD(n,t);e=e.trim(),!r.some(o=>o.trim()===e)&&(r.push(e),n.setAttribute(t,r.join(" ")))}(e,"aria-owns",r),this._trackedModal=e}_clearFromModal(){this._trackedModal&&(s0(this._trackedModal,"aria-owns",`${this.id}-panel`),this._trackedModal=null)}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const r=e.keyCode,o=40===r||38===r||37===r||39===r,c=13===r||32===r,d=this._keyManager;if(!d.isTyping()&&c&&!nc(e)||(this.multiple||e.altKey)&&o)e.preventDefault(),this.open();else if(!this.multiple){const p=this.selected;d.onKeydown(e);const g=this.selected;g&&p!==g&&this._liveAnnouncer.announce(g.viewValue,1e4)}}_handleOpenKeydown(e){const r=this._keyManager,o=e.keyCode,c=40===o||38===o,d=r.isTyping();if(c&&e.altKey)e.preventDefault(),this.close();else if(d||13!==o&&32!==o||!r.activeItem||nc(e))if(!d&&this._multiple&&65===o&&e.ctrlKey){e.preventDefault();const p=this.options.some(g=>!g.disabled&&!g.selected);this.options.forEach(g=>{g.disabled||(p?g.select():g.deselect())})}else{const p=r.activeItemIndex;r.onKeydown(e),this._multiple&&c&&e.shiftKey&&r.activeItem&&r.activeItemIndex!==p&&r.activeItem._selectViaInteraction()}else e.preventDefault(),r.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Yr(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{const r=this._selectOptionByValue(e);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const r=this.options.find(o=>{if(this._selectionModel.isSelected(o))return!1;try{return null!=o.value&&this._compareWith(o.value,e)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_getOverlayWidth(e){return"auto"===this.panelWidth?(e instanceof G_?e.elementRef:e||this._elementRef).nativeElement.getBoundingClientRect().width:null===this.panelWidth?"":this.panelWidth}_syncParentProperties(){if(this.options)for(const e of this.options)e._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new kU(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,bi.h)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(xr(e)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,bi.h)(...this.options.map(r=>r._stateChanges)).pipe(xr(e)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(e,r){const o=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(o!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),r&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),r&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),o!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((r,o)=>this.sortComparator?this.sortComparator(r,o,e):e.indexOf(r)-e.indexOf(o)),this.stateChanges.next()}}_propagateChanges(e){let r;r=this.multiple?this.selected.map(o=>o.value):this.selected?this.selected.value:e,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let e=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){e=r;break}this._keyManager.setActiveItem(e)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let r=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(r+=" "+this.ariaLabelledby),r}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(B_),l.rXU(l.gRc),l.rXU(l.SKi),l.rXU(h_),l.rXU(l.aKT),l.rXU(rc,8),l.rXU(Sy,8),l.rXU(hf,8),l.rXU(ER,8),l.rXU(Xc,10),l.kS0("tabindex"),l.rXU(qz),l.rXU(JD),l.rXU(lq,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-select"]],contentQueries:function(r,o,c){if(1&r&&(l.wni(c,dq,5),l.wni(c,Il,5),l.wni(c,dT,5)),2&r){let d;l.mGM(d=l.lsd())&&(o.customTrigger=d.first),l.mGM(d=l.lsd())&&(o.options=d),l.mGM(d=l.lsd())&&(o.optionGroups=d)}},viewQuery:function(r,o){if(1&r&&(l.GBs(ZW,5),l.GBs(JW,5),l.GBs(hA,5)),2&r){let c;l.mGM(c=l.lsd())&&(o.trigger=c.first),l.mGM(c=l.lsd())&&(o.panel=c.first),l.mGM(c=l.lsd())&&(o._overlayDir=c.first)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,o){1&r&&l.bIt("keydown",function(d){return o._handleKeydown(d)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),2&r&&(l.BMQ("id",o.id)("tabindex",o.disabled?-1:o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-activedescendant",o._getAriaActiveDescendant()),l.AVh("mat-mdc-select-disabled",o.disabled)("mat-mdc-select-invalid",o.errorState)("mat-mdc-select-required",o.required)("mat-mdc-select-empty",o.empty)("mat-mdc-select-multiple",o.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",l.L39],placeholder:"placeholder",required:[2,"required","required",l.L39],multiple:[2,"multiple","multiple",l.L39],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",l.L39],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",l.Udg],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],standalone:!0,features:[l.Jv_([{provide:bR,useExisting:n},{provide:m_,useExisting:n}]),l.GFd,l.OA$,l.aNF],ngContentSelectors:tq,decls:11,vars:8,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"backdropClick","attach","detach","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,o){if(1&r){const c=l.RV6();l.NAR(eq),l.j41(0,"div",2,0),l.bIt("click",function(){return l.eBV(c),l.Njj(o.open())}),l.j41(3,"div",3),l.DNE(4,nq,2,1,"span",4)(5,oq,3,1,"span",5),l.k0s(),l.j41(6,"div",6)(7,"div",7),l.qSk(),l.j41(8,"svg",8),l.nrm(9,"path",9),l.k0s()()()(),l.DNE(10,sq,3,9,"ng-template",10),l.bIt("backdropClick",function(){return l.eBV(c),l.Njj(o.close())})("attach",function(){return l.eBV(c),l.Njj(o._onAttached())})("detach",function(){return l.eBV(c),l.Njj(o.close())})}if(2&r){const c=l.sdS(1);l.R7$(3),l.BMQ("id",o._valueId),l.R7$(),l.vxM(o.empty?4:5),l.R7$(6),l.Y8G("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",o._preferredOverlayOrigin||c)("cdkConnectedOverlayOpen",o.panelOpen)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayWidth",o._overlayWidth)}},dependencies:[G_,hA,Es],styles:['.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color);font-family:var(--mat-select-trigger-text-font);line-height:var(--mat-select-trigger-text-line-height);font-size:var(--mat-select-trigger-text-size);font-weight:var(--mat-select-trigger-text-weight);letter-spacing:var(--mat-select-trigger-text-tracking)}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow)}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color)}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color)}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color)}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color)}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color)}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}.cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .cdk-high-contrast-active .mat-mdc-select-arrow svg{fill:GrayText}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:static;background-color:var(--mat-select-panel-background-color)}.cdk-high-contrast-active div.mat-mdc-select-panel{outline:solid 1px}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}div.mat-mdc-select-panel .mat-mdc-option{--mdc-list-list-item-container-color: var(--mat-select-panel-background-color)}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color)}._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform)}'],encapsulation:2,data:{animation:[aq.transformPanel]},changeDetection:0})}return n})(),Qz=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({providers:[uq],imports:[Vo,cE,Lu,Fr,U_,$C,Lu,Fr]})}return n})();const Yz=Jd({passive:!0});let fq=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ge.w;const r=Ou(e),o=this._monitoredElements.get(r);if(o)return o.subject;const c=new B.B,d="cdk-text-field-autofilled",p=g=>{"cdk-text-field-autofill-start"!==g.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===g.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>c.next({target:g.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>c.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",p,Yz),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:c,unlisten:()=>{r.removeEventListener("animationstart",p,Yz)}}),c}stopMonitoring(e){const r=Ou(e),o=this._monitoredElements.get(r);o&&(o.unlisten(),o.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(fi),l.KVO(l.SKi))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pq=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({})}return n})();const mq=new l.nKC("MAT_INPUT_VALUE_ACCESSOR"),gq=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let _q=0,Zz=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=e_(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(qc.required)??!1}set required(e){this._required=e_(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&GO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(e){this._errorStateTracker.matcher=e}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=e_(e)}get errorState(){return this._errorStateTracker.errorState}set errorState(e){this._errorStateTracker.errorState=e}constructor(e,r,o,c,d,p,g,I,A,k){this._elementRef=e,this._platform=r,this.ngControl=o,this._autofillMonitor=I,this._formField=k,this._uid="mat-input-"+_q++,this.focused=!1,this.stateChanges=new B.B,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(me=>GO().has(me)),this._iOSKeyupListener=me=>{const pe=me.target;!pe.value&&0===pe.selectionStart&&0===pe.selectionEnd&&(pe.setSelectionRange(1,1),pe.setSelectionRange(0,0))};const j=this._elementRef.nativeElement,X=j.nodeName.toLowerCase();this._inputValueAccessor=g||j,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&A.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._errorStateTracker=new d_(p,o,d,c,this.stateChanges),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===X,this._isTextarea="textarea"===X,this._isInFormField=!!k,this._isNativeSelect&&(this.controlType=j.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}updateErrorState(){this._errorStateTracker.updateErrorState()}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_dirtyCheckPlaceholder(){const e=this._getPlaceholder();if(e!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=e,e?r.setAttribute("placeholder",e):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){gq.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(fi),l.rXU(Xc,10),l.rXU(Sy,8),l.rXU(hf,8),l.rXU(h_),l.rXU(mq,10),l.rXU(fq),l.rXU(l.SKi),l.rXU(ER,8))};static#t=this.\u0275dir=l.FsC({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(r,o){1&r&&l.bIt("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),2&r&&(l.Mr5("id",o.id)("disabled",o.disabled)("required",o.required),l.BMQ("name",o.name||null)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required)("id",o.id),l.AVh("mat-input-server",o._isServer)("mat-mdc-form-field-textarea-control",o._isInFormField&&o._isTextarea)("mat-mdc-form-field-input-control",o._isInFormField)("mdc-text-field__input",o._isInFormField)("mat-mdc-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],standalone:!0,features:[l.Jv_([{provide:bR,useExisting:n}]),l.OA$]})}return n})(),Jz=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr,$C,$C,pq,Fr]})}return n})();var hd=function(n){return n.ENGLISH="en",n.POLISH="pl",n}(hd||{});function vq(n,t){if(1&n&&(l.j41(0,"mat-option",5),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e),l.R7$(),l.JRh(e)}}let yq=(()=>{class n{constructor(){this.formBuilder=(0,l.WQX)(lz),this.dbService=(0,l.WQX)(dd),this.router=(0,l.WQX)(So),this.availableLanguages=Object.values(hd),this.storyEditForm=this.formBuilder.group({id:["Save story to add id"],name:["",qc.required],languages:[[],qc.required],description:[""]})}ngOnInit(){this.story&&this.storyEditForm.patchValue({id:this.story.id,name:this.story.name,languages:this.story.languages,description:this.story.description})}save(){var e=this;return(0,L.A)(function*(){const r=yield e.saveStory();e.updateInterface(r,!e.story?.id)})()}saveStory(){var e=this;return(0,L.A)(function*(){const r=e.storyEditForm.value;if(!r.name||!r.languages?.length)throw new Error("LOL Error on saving the story because of the missing required values");const o={name:r.name,languages:r.languages.map(c=>hd[Object.keys(hd)[Object.values(hd).indexOf(c)]]),description:r.description};if(e.story?.id){const c={...o,id:e.story.id};return yield e.editStory(e.story.id,c)}return yield e.addStory(o)})()}addStory(e){return this.dbService.addDocument(Or.STORIES,e)}editStory(e,r){return this.dbService.updateDocument(Or.STORIES,e,r)}updateInterface(e,r=!1){this.story={...this.story,...e,id:e.id},r&&(this.router.navigate(["/story-edit",e.id]),this.storyEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["story-edit-form"]],inputs:{story:"story"},standalone:!0,features:[l.aNF],decls:28,vars:2,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly",""],["matInput","","type","text","formControlName","name"],["multiple","","formControlName","languages"],[3,"value"],["matInput","","placeholder","A short description of the story content","formControlName","description"],[1,"button-container"],["mat-fab","","extended","","routerLink","/editor"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(r,o){1&r&&(l.j41(0,"form",0),l.bIt("ngSubmit",function(){return o.save()}),l.j41(1,"mat-form-field",1)(2,"mat-label"),l.EFF(3,"Story id"),l.k0s(),l.nrm(4,"input",2),l.k0s(),l.j41(5,"mat-form-field")(6,"mat-label"),l.EFF(7,"Story name"),l.k0s(),l.nrm(8,"input",3),l.k0s(),l.j41(9,"mat-form-field")(10,"mat-label"),l.EFF(11,"Languages"),l.k0s(),l.j41(12,"mat-select",4),l.Z7z(13,vq,2,2,"mat-option",5,l.Vm6),l.k0s()(),l.j41(15,"mat-form-field")(16,"mat-label"),l.EFF(17,"Description"),l.k0s(),l.nrm(18,"textarea",6),l.k0s(),l.j41(19,"div",7)(20,"button",8)(21,"mat-icon"),l.EFF(22,"arrow_back"),l.k0s(),l.EFF(23," Back "),l.k0s(),l.j41(24,"button",9)(25,"mat-icon"),l.EFF(26,"save"),l.k0s(),l.EFF(27," Save story "),l.k0s()()()),2&r&&(l.Y8G("formGroup",o.storyEditForm),l.R7$(13),l.Dyx(o.availableLanguages),l.R7$(11),l.Y8G("disabled",!o.storyEditForm.valid))},dependencies:[kc,uz,R2,NC,y2,b2,hf,_R,Qz,bz,vR,Xz,Il,Jz,Zz,$C,Ml,_h,Uc,xp],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between}"]})}return n})();function bq(n,t){1&n&&l.nrm(0,"story-edit-form",0),2&n&&l.Y8G("story",t)}function Eq(n,t){1&n&&l.nrm(0,"story-edit-form")}let wq=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.story$=this.dbService.getDocumentById(Or.STORIES,this.storyId)}ngOnInit(){this.story$=this.dbService.getDocumentById(Or.STORIES,this.storyId)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["story-edit"]],inputs:{storyId:"storyId"},standalone:!0,features:[l.aNF],decls:4,vars:5,consts:[[3,"story"]],template:function(r,o){if(1&r&&(l.DNE(0,bq,1,1,"story-edit-form",0),l.nI1(1,"async"),l.nI1(2,"async"),l.DNE(3,Eq,1,0,"story-edit-form")),2&r){let c;l.vxM((c=l.bMT(2,3,l.bMT(1,1,o.story$)))?0:3,c)}},dependencies:[Vo,gr,yq]})}return n})();const Cq=(n,t)=>t.id,Iq=()=>["/chapter-edit-chooser",null],Dq=n=>["/chapter-edit-chooser",n];function Tq(n,t){if(1&n){const e=l.RV6();l.j41(0,"mat-card",1)(1,"mat-card-content"),l.EFF(2),l.k0s(),l.j41(3,"mat-card-footer",2)(4,"mat-chip-set",3)(5,"mat-chip",4)(6,"mat-icon"),l.EFF(7,"edit"),l.k0s(),l.EFF(8," Edit "),l.k0s(),l.j41(9,"mat-chip",5),l.bIt("click",function(){const o=l.eBV(e).$implicit,c=l.XpG();return l.Njj(c.delete(o))}),l.j41(10,"mat-icon"),l.EFF(11,"delete"),l.k0s(),l.EFF(12," Delete "),l.k0s()()()()}if(2&n){const e=t.$implicit,r=t.$index;l.R7$(2),l.Lme("",r," ",e.name,""),l.R7$(3),l.Y8G("routerLink",l.eq3(3,Dq,e.id))}}let Aq=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.dialog=(0,l.WQX)(AR),this.chapters$=this.getChapters()}getChapters(){var e=this;return(0,L.A)(function*(){return yield e.dbService.getAllCollectionDocs(Or.CHAPTERS)})()}delete(e){var r=this;return(0,L.A)(function*(){r.dialog.open(Kz,{data:{id:e.id,name:e.name,collection:Or.CHAPTERS,deleteFunction:()=>r.deleteChapter(e)}})})()}deleteChapter(e){console.log(`LOL: Deleting chapter: ${e.name}: ${e.id}`),this.dbService.deleteDocument(Or.CHAPTERS,e.id)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["chapter-edit"]],standalone:!0,features:[l.aNF],decls:10,vars:6,consts:[["mat-fab","","extended","",1,"button-container",3,"routerLink"],["appearance","outlined"],[1,"card-footer"],["aria-label","chapter-edit-actions"],[3,"routerLink"],[3,"click"]],template:function(r,o){1&r&&(l.j41(0,"a",0)(1,"mat-icon"),l.EFF(2,"add"),l.k0s(),l.EFF(3," Add chapter\n"),l.k0s(),l.j41(4,"h3"),l.EFF(5,"Chapters"),l.k0s(),l.Z7z(6,Tq,13,5,"mat-card",1,Cq),l.nI1(8,"async"),l.nI1(9,"async")),2&r&&(l.Y8G("routerLink",l.lJ4(5,Iq)),l.R7$(6),l.Dyx(l.bMT(9,3,l.bMT(8,1,o.chapters$))))},dependencies:[Vo,gr,Ug,kc,q_,oc,Fl,wh,Ml,_h,Uc,K0,Sz,ff,HC],styles:[".card-footer[_ngcontent-%COMP%]{padding:16px}"]})}return n})();const Sq=["switch"],xq=["*"];function Mq(n,t){1&n&&(l.j41(0,"div",10),l.qSk(),l.j41(1,"svg",12),l.nrm(2,"path",13),l.k0s(),l.j41(3,"svg",14),l.nrm(4,"path",15),l.k0s()())}const Rq=new l.nKC("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),Oq={provide:fc,useExisting:(0,l.Rfq)(()=>X2),multi:!0};class e5{constructor(t,e){this.source=t,this.checked=e}}let kq=0,X2=(()=>{class n{_createChangeEvent(e){return new e5(this,e)}get buttonId(){return`${this.id||this._uniqueId}-button`}focus(){this._switchElement.nativeElement.focus()}get checked(){return this._checked}set checked(e){this._checked=e,this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(e,r,o,c,d,p){this._elementRef=e,this._focusMonitor=r,this._changeDetectorRef=o,this.defaults=d,this._onChange=g=>{},this._onTouched=()=>{},this._validatorOnChange=()=>{},this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.disabled=!1,this.disableRipple=!1,this.tabIndex=0,this.change=new l.bkB,this.toggleChange=new l.bkB,this.tabIndex=parseInt(c)||0,this.color=d.color||"accent",this._noopAnimations="NoopAnimations"===p,this.id=this._uniqueId="mat-mdc-slide-toggle-"+ ++kq,this.hideIcon=d.hideIcon??!1,this._labelId=this._uniqueId+"-label"}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{"keyboard"===e||"program"===e?(this._focused=!0,this._changeDetectorRef.markForCheck()):e||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnChanges(e){e.required&&this._validatorOnChange()}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(e){this.checked=!!e}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}validate(e){return this.required&&!0!==e.value?{required:!0}:null}registerOnValidatorChange(e){this._validatorOnChange=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new e5(this,this.checked)))}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(Ia),l.rXU(l.gRc),l.kS0("tabindex"),l.rXU(Rq),l.rXU(l.bc$,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-slide-toggle"]],viewQuery:function(r,o){if(1&r&&l.GBs(Sq,5),2&r){let c;l.mGM(c=l.lsd())&&(o._switchElement=c.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:13,hostBindings:function(r,o){2&r&&(l.Mr5("id",o.id),l.BMQ("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),l.HbH(o.color?"mat-"+o.color:""),l.AVh("mat-mdc-slide-toggle-focused",o._focused)("mat-mdc-slide-toggle-checked",o.checked)("_mat-animation-noopable",o._noopAnimations))},inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],required:[2,"required","required",l.L39],color:"color",disabled:[2,"disabled","disabled",l.L39],disableRipple:[2,"disableRipple","disableRipple",l.L39],tabIndex:[2,"tabIndex","tabIndex",e=>null==e?0:(0,l.Udg)(e)],checked:[2,"checked","checked",l.L39],hideIcon:[2,"hideIcon","hideIcon",l.L39]},outputs:{change:"change",toggleChange:"toggleChange"},exportAs:["matSlideToggle"],standalone:!0,features:[l.Jv_([Oq,{provide:ko,useExisting:n,multi:!0}]),l.GFd,l.OA$,l.aNF],ngContentSelectors:xq,decls:13,vars:24,consts:[["switch",""],["mat-internal-form-field","",3,"labelPosition"],["role","switch","type","button",1,"mdc-switch",3,"click","tabIndex","disabled"],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-switch__icons"],[1,"mdc-label",3,"click","for"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(r,o){if(1&r){const c=l.RV6();l.NAR(),l.j41(0,"div",1)(1,"button",2,0),l.bIt("click",function(){return l.eBV(c),l.Njj(o._handleClick())}),l.nrm(3,"div",3),l.j41(4,"div",4)(5,"div",5)(6,"div",6),l.nrm(7,"div",7),l.k0s(),l.j41(8,"div",8),l.nrm(9,"div",9),l.k0s(),l.DNE(10,Mq,5,0,"div",10),l.k0s()()(),l.j41(11,"label",11),l.bIt("click",function(p){return l.eBV(c),l.Njj(p.stopPropagation())}),l.SdG(12),l.k0s()()}if(2&r){const c=l.sdS(2);l.Y8G("labelPosition",o.labelPosition),l.R7$(),l.AVh("mdc-switch--selected",o.checked)("mdc-switch--unselected",!o.checked)("mdc-switch--checked",o.checked)("mdc-switch--disabled",o.disabled),l.Y8G("tabIndex",o.disabled?-1:o.tabIndex)("disabled",o.disabled),l.BMQ("id",o.buttonId)("name",o.name)("aria-label",o.ariaLabel)("aria-labelledby",o._getAriaLabelledBy())("aria-describedby",o.ariaDescribedby)("aria-required",o.required||null)("aria-checked",o.checked),l.R7$(8),l.Y8G("matRippleTrigger",c)("matRippleDisabled",o.disableRipple||o.disabled)("matRippleCentered",!0),l.R7$(),l.vxM(o.hideIcon?-1:10),l.R7$(),l.Y8G("for",o.buttonId),l.BMQ("id",o._labelId)}},dependencies:[dp,Y1],styles:['.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative;width:var(--mdc-switch-track-width)}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%;height:var(--mdc-switch-track-height);border-radius:var(--mdc-switch-track-shape)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%;border-width:var(--mat-switch-track-outline-width);border-color:var(--mat-switch-track-outline-color)}.cdk-high-contrast-active .mdc-switch__track::before,.cdk-high-contrast-active .mdc-switch__track::after{border-color:currentColor}.mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track::after{border-width:var(--mat-switch-selected-track-outline-width);border-color:var(--mat-switch-selected-track-outline-color)}.mdc-switch--disabled .mdc-switch__track::before,.mdc-switch--disabled .mdc-switch__track::after{border-width:var(--mat-switch-disabled-unselected-track-outline-width);border-color:var(--mat-switch-disabled-unselected-track-outline-color)}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0);background:var(--mdc-switch-unselected-track-color)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch--selected .mdc-switch__track::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::before{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch--unselected .mdc-switch__track::before{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch__track::after{transform:translateX(-100%);background:var(--mdc-switch-selected-track-color)}[dir=rtl] .mdc-switch__track::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::after{transform:translateX(0)}.mdc-switch--selected .mdc-switch__track::after{opacity:var(--mat-switch-visible-track-opacity);transition:var(--mat-switch-visible-track-transition)}.mdc-switch--unselected .mdc-switch__track::after{opacity:var(--mat-switch-hidden-track-opacity);transition:var(--mat-switch-hidden-track-transition)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0);width:calc(100% - var(--mdc-switch-handle-width))}[dir=rtl] .mdc-switch__handle-track{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto;transition:width 75ms cubic-bezier(0.4, 0, 0.2, 1),height 75ms cubic-bezier(0.4, 0, 0.2, 1),margin 75ms cubic-bezier(0.4, 0, 0.2, 1);width:var(--mdc-switch-handle-width);height:var(--mdc-switch-handle-height);border-radius:var(--mdc-switch-handle-shape)}[dir=rtl] .mdc-switch__handle{left:auto;right:0}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle{width:var(--mat-switch-unselected-handle-size);height:var(--mat-switch-unselected-handle-size);margin:var(--mat-switch-unselected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--unselected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-unselected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle{width:var(--mat-switch-selected-handle-size);height:var(--mat-switch-selected-handle-size);margin:var(--mat-switch-selected-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch--selected .mdc-switch__handle:has(.mdc-switch__icons){margin:var(--mat-switch-selected-with-icon-handle-horizontal-margin)}.mat-mdc-slide-toggle .mdc-switch__handle:has(.mdc-switch__icons){width:var(--mat-switch-with-icon-handle-size);height:var(--mat-switch-with-icon-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch:not(.mdc-switch--disabled) .mdc-switch__handle{width:var(--mat-switch-pressed-handle-size);height:var(--mat-switch-pressed-handle-size)}.mat-mdc-slide-toggle:active .mdc-switch--selected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-selected-pressed-handle-horizontal-margin)}.mat-mdc-slide-toggle:active .mdc-switch--unselected:not(.mdc-switch--disabled) .mdc-switch__handle{margin:var(--mat-switch-unselected-pressed-handle-horizontal-margin)}.mdc-switch--disabled.mdc-switch--selected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-selected-handle-opacity)}.mdc-switch--disabled.mdc-switch--unselected .mdc-switch__handle::after{opacity:var(--mat-switch-disabled-unselected-handle-opacity)}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}.cdk-high-contrast-active .mdc-switch__handle::before,.cdk-high-contrast-active .mdc-switch__handle::after{border-color:currentColor}.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1;width:var(--mdc-switch-state-layer-size);height:var(--mdc-switch-state-layer-size)}.mdc-switch__ripple::after{content:"";opacity:0}.mdc-switch:disabled .mdc-switch__ripple::after{display:none}.mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:75ms opacity cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-unselected-pressed-state-layer-color);opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background:var(--mdc-switch-selected-pressed-state-layer-color);opacity:var(--mdc-switch-selected-pressed-state-layer-opacity);transition:opacity 75ms linear}.mdc-switch__icons{position:relative;height:100%;width:100%;z-index:1}.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size);fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size);fill:var(--mdc-switch-selected-icon-color)}.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-internal-form-field{color:var(--mat-switch-label-text-color);font-family:var(--mat-switch-label-text-font);line-height:var(--mat-switch-label-text-line-height);font-size:var(--mat-switch-label-text-size);letter-spacing:var(--mat-switch-label-text-tracking);font-weight:var(--mat-switch-label-text-weight)}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}.mat-mdc-slide-toggle .mdc-switch--disabled+label{color:var(--mdc-switch-disabled-label-text-color)}'],encapsulation:2,changeDetection:0})}return n})(),Fq=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[X2,Fr,Fr]})}return n})();function Lq(n,t){if(1&n&&(l.j41(0,"mat-option",4),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e.id),l.R7$(),l.JRh(e.name)}}function Vq(n,t){if(1&n&&(l.j41(0,"mat-option",4),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.Y8G("value",e),l.R7$(),l.JRh(e)}}let Bq=(()=>{class n{constructor(){this.availableLanguages=Object.values(hd),this.formBuilder=(0,l.WQX)(lz),this.dbService=(0,l.WQX)(dd),this.router=(0,l.WQX)(So),this.chapterEditForm=this.formBuilder.group({id:["Save chapter to add id"],name:["",qc.required],story:["",qc.required],chapterNo:[0,qc.required],language:["",qc.required],author:[""],isPremium:[!1],description:[""],empathyName:["empathy",qc.required],sympathyName:["sympathy",qc.required]}),this.stories$=this.dbService.getAllCollectionDocs(Or.STORIES).then(e=>e.pipe((0,Me.T)(r=>r.map(o=>({id:o.id,name:o.name})))))}ngOnInit(){this.chapter?.id&&this.chapterEditForm.patchValue({id:this.chapter?.id,name:this.chapter.name,story:this.chapter.storyId,chapterNo:this.chapter.chapterNumber,language:this.chapter.language,author:this.chapter.author,isPremium:this.chapter.is_premium,description:this.chapter.description,empathyName:this.chapter.empathyName,sympathyName:this.chapter.sympathyName})}save(){var e=this;return(0,L.A)(function*(){const r=yield e.saveChapter();e.updateInterface(r,!e.chapter?.id),console.log(`LOL: Saving chapter: ${JSON.stringify(e.chapterEditForm.value)}`)})()}saveChapter(){var e=this;return(0,L.A)(function*(){const r=e.chapterEditForm.value;if(!(r.name&&r.story&&r.chapterNo&&r.language&&r.empathyName&&r.sympathyName))throw new Error("LOL Error on saving the chapter because of the missing required values");const o={name:r.name,storyId:r.story,chapterNumber:r.chapterNo,language:hd[Object.keys(hd)[Object.values(hd).indexOf(r.language)]],author:r.author,is_premium:r.isPremium,description:r.description,empathyName:r.empathyName,sympathyName:r.sympathyName};if(e.chapter?.id){const c={id:e.chapter.id,...o};return yield e.dbService.updateDocument(Or.CHAPTERS,e.chapter.id,c)}return yield e.dbService.addDocument(Or.CHAPTERS,o)})()}updateInterface(e,r=!1){this.chapter={...this.chapter,...e,id:e.id},r&&(this.router.navigate(["/chapter-edit-chooser",e.id]),this.chapterEditForm.patchValue({id:e.id}))}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["chapter-edit-form"]],inputs:{chapter:"chapter"},standalone:!0,features:[l.aNF],decls:54,vars:6,consts:[[1,"form-container",3,"ngSubmit","formGroup"],["appearance","outline"],["matInput","","type","text","formControlName","id","readonly",""],["formControlName","story"],[3,"value"],["matInput","","type","text","formControlName","name"],[1,"example-full-width"],["matInput","","type","number","formControlName","chapterNo"],["formControlName","language"],["matInput","","type","text","formControlName","empathyName"],["matInput","","type","text","formControlName","sympathyName"],["matInput","","type","text","formControlName","author"],["matInput","","placeholder","A short description of the chapter content","formControlName","description"],["labelPosition","before","formControlName","isPremium"],[1,"button-container"],["mat-fab","","extended","","routerLink","/chapter-edit/null"],["mat-fab","","extended","","type","submit",2,"align-self","flex-start",3,"disabled"]],template:function(r,o){1&r&&(l.j41(0,"form",0),l.bIt("ngSubmit",function(){return o.save()}),l.j41(1,"mat-form-field",1)(2,"mat-label"),l.EFF(3,"Chapter id"),l.k0s(),l.nrm(4,"input",2),l.k0s(),l.j41(5,"mat-form-field")(6,"mat-label"),l.EFF(7,"Story"),l.k0s(),l.j41(8,"mat-select",3),l.Z7z(9,Lq,2,2,"mat-option",4,l.Vm6),l.nI1(11,"async"),l.nI1(12,"async"),l.k0s()(),l.j41(13,"mat-form-field")(14,"mat-label"),l.EFF(15,"Chapter name"),l.k0s(),l.nrm(16,"input",5),l.k0s(),l.j41(17,"mat-form-field",6)(18,"mat-label"),l.EFF(19,"Chapter number"),l.k0s(),l.nrm(20,"input",7),l.k0s(),l.j41(21,"mat-form-field")(22,"mat-label"),l.EFF(23,"Language"),l.k0s(),l.j41(24,"mat-select",8),l.Z7z(25,Vq,2,2,"mat-option",4,l.Vm6),l.k0s()(),l.j41(27,"mat-form-field")(28,"mat-label"),l.EFF(29,"Empathy name"),l.k0s(),l.nrm(30,"input",9),l.k0s(),l.j41(31,"mat-form-field")(32,"mat-label"),l.EFF(33,"Sympathy name"),l.k0s(),l.nrm(34,"input",10),l.k0s(),l.j41(35,"mat-form-field")(36,"mat-label"),l.EFF(37,"Author"),l.k0s(),l.nrm(38,"input",11),l.k0s(),l.j41(39,"mat-form-field")(40,"mat-label"),l.EFF(41,"Description"),l.k0s(),l.nrm(42,"textarea",12),l.k0s(),l.j41(43,"mat-slide-toggle",13),l.EFF(44,"Premium: "),l.k0s(),l.j41(45,"div",14)(46,"button",15)(47,"mat-icon"),l.EFF(48,"arrow_back"),l.k0s(),l.EFF(49," Back to chapters "),l.k0s(),l.j41(50,"button",16)(51,"mat-icon"),l.EFF(52,"save"),l.k0s(),l.EFF(53," Save chapter "),l.k0s()()()),2&r&&(l.Y8G("formGroup",o.chapterEditForm),l.R7$(9),l.Dyx(l.bMT(12,4,l.bMT(11,2,o.stories$))),l.R7$(16),l.Dyx(o.availableLanguages),l.R7$(25),l.Y8G("disabled",!o.chapterEditForm.valid))},dependencies:[Vo,gr,kc,uz,R2,NC,O2,y2,b2,hf,_R,Qz,bz,vR,Xz,Il,Jz,Zz,$C,Ml,_h,Uc,xp,Fq,X2],styles:[".form-container[_ngcontent-%COMP%] {display:flex;flex-direction:column}.button-container[_ngcontent-%COMP%] {display:flex;justify-content:space-between;margin-top:15px}"]})}return n})();function Uq(n,t){1&n&&l.nrm(0,"chapter-edit-form",0),2&n&&l.Y8G("chapter",t)}function jq(n,t){1&n&&l.nrm(0,"chapter-edit-form")}let $q=(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.chapter$=this.dbService.getDocumentById(Or.CHAPTERS,this.chapterId)}ngOnInit(){this.chapter$=this.dbService.getDocumentById(Or.CHAPTERS,this.chapterId)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["chapter-edit-chooser"]],inputs:{chapterId:"chapterId"},standalone:!0,features:[l.aNF],decls:4,vars:5,consts:[[3,"chapter"]],template:function(r,o){if(1&r&&(l.DNE(0,Uq,1,1,"chapter-edit-form",0),l.nI1(1,"async"),l.nI1(2,"async"),l.DNE(3,jq,1,0,"chapter-edit-form")),2&r){let c;l.vxM((c=l.bMT(2,3,l.bMT(1,1,o.chapter$)))?0:3,c)}},dependencies:[Vo,gr,Bq]})}return n})();function Hq(n,t){1&n&&l.nrm(0,"div",2)}const zq=new l.nKC("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let Kq=(()=>{class n{constructor(e,r,o,c,d){this._elementRef=e,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=c,this._isNoopAnimation=!1,this._defaultColor="primary",this._value=0,this._bufferValue=0,this.animationEnd=new l.bkB,this._mode="determinate",this._transitionendHandler=p=>{0===this.animationEnd.observers.length||!p.target||!p.target.classList.contains("mdc-linear-progress__primary-bar")||("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))},this._isNoopAnimation="NoopAnimations"===c,d&&(d.color&&(this.color=this._defaultColor=d.color),this.mode=d.mode||this.mode)}get color(){return this._color||this._defaultColor}set color(e){this._color=e}get value(){return this._value}set value(e){this._value=t5(e||0),this._changeDetectorRef.markForCheck()}get bufferValue(){return this._bufferValue||0}set bufferValue(e){this._bufferValue=t5(e||0),this._changeDetectorRef.markForCheck()}get mode(){return this._mode}set mode(e){this._mode=e,this._changeDetectorRef.markForCheck()}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("transitionend",this._transitionendHandler)})}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._transitionendHandler)}_getPrimaryBarTransform(){return`scaleX(${this._isIndeterminate()?1:this.value/100})`}_getBufferBarFlexBasis(){return`${"buffer"===this.mode?this.bufferValue:100}%`}_isIndeterminate(){return"indeterminate"===this.mode||"query"===this.mode}static#e=this.\u0275fac=function(r){return new(r||n)(l.rXU(l.aKT),l.rXU(l.SKi),l.rXU(l.gRc),l.rXU(l.bc$,8),l.rXU(zq,8))};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["mat-progress-bar"]],hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-mdc-progress-bar","mdc-linear-progress"],hostVars:10,hostBindings:function(r,o){2&r&&(l.BMQ("aria-valuenow",o._isIndeterminate()?null:o.value)("mode",o.mode),l.HbH("mat-"+o.color),l.AVh("_mat-animation-noopable",o._isNoopAnimation)("mdc-linear-progress--animation-ready",!o._isNoopAnimation)("mdc-linear-progress--indeterminate",o._isIndeterminate()))},inputs:{color:"color",value:[2,"value","value",l.Udg],bufferValue:[2,"bufferValue","bufferValue",l.Udg],mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],standalone:!0,features:[l.GFd,l.aNF],decls:7,vars:5,consts:[["aria-hidden","true",1,"mdc-linear-progress__buffer"],[1,"mdc-linear-progress__buffer-bar"],[1,"mdc-linear-progress__buffer-dots"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__primary-bar"],[1,"mdc-linear-progress__bar-inner"],["aria-hidden","true",1,"mdc-linear-progress__bar","mdc-linear-progress__secondary-bar"]],template:function(r,o){1&r&&(l.j41(0,"div",0),l.nrm(1,"div",1),l.DNE(2,Hq,1,0,"div",2),l.k0s(),l.j41(3,"div",3),l.nrm(4,"span",4),l.k0s(),l.j41(5,"div",5),l.nrm(6,"span",4),l.k0s()),2&r&&(l.R7$(),l.xc7("flex-basis",o._getBufferBarFlexBasis()),l.R7$(),l.vxM("buffer"===o.mode?2:-1),l.R7$(),l.xc7("transform",o._getPrimaryBarTransform()))},styles:[".mat-mdc-progress-bar{display:block;text-align:start}.mat-mdc-progress-bar[mode=query]{transform:scaleX(-1)}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-dots,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__secondary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__bar-inner.mdc-linear-progress__bar-inner{animation:none}.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__primary-bar,.mat-mdc-progress-bar._mat-animation-noopable .mdc-linear-progress__buffer-bar{transition:transform 1ms}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid rgba(0,0,0,0);overflow-x:hidden;transition:opacity 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:max(var(--mdc-linear-progress-track-height),var(--mdc-linear-progress-active-indicator-height))}.cdk-high-contrast-active .mdc-linear-progress{outline-color:CanvasText}.mdc-linear-progress__bar{position:absolute;top:0;bottom:0;margin:auto 0;width:100%;animation:none;transform-origin:top left;transition:transform 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);height:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}[dir=rtl] .mdc-linear-progress__bar{right:0;transform-origin:center right}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid;border-color:var(--mdc-linear-progress-active-indicator-color);border-top-width:var(--mdc-linear-progress-active-indicator-height)}.mdc-linear-progress__buffer{display:flex;position:absolute;top:0;bottom:0;margin:auto 0;width:100%;overflow:hidden;height:var(--mdc-linear-progress-track-height);border-radius:var(--mdc-linear-progress-track-shape)}.mdc-linear-progress__buffer-dots{-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");mask-image:url(\"data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='xMinYMin slice'%3E%3Ccircle cx='1' cy='1' r='1'/%3E%3C/svg%3E\");background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear;background-color:var(--mdc-linear-progress-track-color)}.cdk-high-contrast-active .mdc-linear-progress__buffer-dots{background-color:ButtonBorder}[dir=rtl] .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0ms cubic-bezier(0.4, 0, 0.6, 1);background-color:var(--mdc-linear-progress-track-color)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}[dir=rtl] .mdc-linear-progress.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(calc(var(--mdc-linear-progress-track-height) * -2.5))}}@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.205028, 0.057051, 0.57661, 0.453971);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.152313, 0.196432, 0.648374, 1.004315);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.257759, -0.003163, 0.211762, 1.38179);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(-83.67142%)}100%{transform:translateX(-200.611057%)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(-37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(-84.386165%)}100%{transform:translateX(-160.277782%)}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}"],encapsulation:2,changeDetection:0})}return n})();function t5(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let Wq=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=l.$C({type:n});static#n=this.\u0275inj=l.G2t({imports:[Fr]})}return n})(),qq=(()=>{class n{constructor(){this.el=(0,l.WQX)(l.aKT),this.renderer=(0,l.WQX)(l.sFG),this.listeners=[]}ngAfterViewInit(){this.createInteractiveText(this.text)}ngOnDestroy(){this.listeners.forEach(e=>{e&&e()})}createInteractiveText(e){let o=`${e}`;[...o.matchAll(/[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}/g)].forEach(d=>{const p=o.indexOf(d[0]),g=p+d[0].length,I=o.slice(0,p);this.addText(I);const A=o.slice(p,g);this.addRef(A),o=o.slice(g)}),this.addText(o)}addText(e){const r=this.renderer.createText(e);this.renderer.appendChild(this.el.nativeElement,r)}addRef(e){const r=this.renderer.createText(e),o=this.renderer.createElement("span");this.renderer.addClass(o,"ref"),this.renderer.appendChild(o,r),this.renderer.appendChild(this.el.nativeElement,o);const c=this.renderer.listen(o,"click",d=>{console.log(`LOL: Event ${d} for ID: ${e}`)});this.listeners.push(c)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["game-text"]],inputs:{text:"text"},standalone:!0,features:[l.aNF],decls:0,vars:0,template:function(r,o){},styles:[".ref[_ngcontent-%COMP%]{color:red;cursor:pointer}.ref[_ngcontent-%COMP%]:hover{color:green}"]})}return n})();function Xq(n,t){if(1&n&&(l.j41(0,"div",1),l.EFF(1),l.nI1(2,"titlecase"),l.nrm(3,"mat-progress-bar",5),l.EFF(4),l.nI1(5,"titlecase"),l.nrm(6,"mat-progress-bar",5),l.k0s()),2&n){const e=t;l.R7$(),l.SpI(" ",l.bMT(2,8,e.empathyName),": 65 "),l.R7$(2),l.Y8G("mode","determinate")("value",65)("bufferValue",100),l.R7$(),l.SpI(" ",l.bMT(5,10,e.sympathyName),": 100 "),l.R7$(2),l.Y8G("mode","determinate")("value",100)("bufferValue",100)}}const Qq=[{path:"game",component:b9,title:"Home"},{path:"editor",component:HW,title:"Editor"},{path:"chapters/:storyId",component:XW},{path:"story-edit/:storyId",component:wq},{path:"chapter-edit/:chapterId",component:Aq},{path:"chapter-edit-chooser/:chapterId",component:$q},{path:"gameboard/:chapterId",component:(()=>{class n{constructor(){this.dbService=(0,l.WQX)(dd),this.chapter$=this.dbService.getDocumentById(Or.CHAPTERS,this.chapterId),this.text="This defines 5e0f2bd0-2b43-4df3-9542-1d4969e24f87 the ability for a flex item to grow if necessary. It accepts a unitless value that serves as a proportion. It dictates what amount of the available space inside the flex container the item should take up.\n\nIf all items have flex-grow set to 1, the fb506849-9ef5-4771-a1c0-508460bf16ce remaining space in the container will be distributed equally to all children. If one of the children has a value of 2, that child would take up twice as much of the space as either one of the others (or it will try, at least)."}ngOnInit(){this.chapter$=this.dbService.getDocumentById(Or.CHAPTERS,this.chapterId)}lol(e){return()=>console.log(`LOL pipe ${e}`)}buildRefs(e){return()=>{}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=l.VBU({type:n,selectors:[["app-gameboard"]],inputs:{chapterId:"chapterId"},standalone:!0,features:[l.aNF],decls:14,vars:6,consts:[[1,"game-container"],[1,"stats-area"],[1,"text-area",3,"text"],[1,"button-area"],["mat-fab","","extended",""],[3,"mode","value","bufferValue"]],template:function(r,o){if(1&r&&(l.j41(0,"div",0),l.DNE(1,Xq,7,12,"div",1),l.nI1(2,"async"),l.nI1(3,"async"),l.nrm(4,"game-text",2),l.j41(5,"div",3)(6,"button",4),l.EFF(7," Inventory "),l.j41(8,"mat-icon"),l.EFF(9,"business_center"),l.k0s()(),l.j41(10,"button",4),l.EFF(11," Info "),l.j41(12,"mat-icon"),l.EFF(13,"menu_book"),l.k0s()()()()),2&r){let c;l.R7$(),l.vxM((c=l.bMT(3,4,l.bMT(2,2,o.chapter$)))?1:-1,c),l.R7$(3),l.Y8G("text",o.text)}},dependencies:[Vo,gr,yf,Uc,xp,Ml,_h,Wq,Kq,qq],styles:[".game-container[_ngcontent-%COMP%]{height:90vh;display:flex;flex-direction:column;align-content:stretch;justify-content:space-between}.stats-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1}.stats-area[_ngcontent-%COMP%]   mat-progress-bar[_ngcontent-%COMP%]{margin-top:5px;margin-bottom:10px}.text-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:7;outline:2px solid white;padding:15px;font-size:18px;line-height:25px}.button-area[_ngcontent-%COMP%]{flex-basis:0;flex-grow:2;display:flex;flex-wrap:wrap;align-content:center;justify-content:space-around;row-gap:15px}.button-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:150px;height:70px}"]})}return n})()},{path:"",redirectTo:"game",pathMatch:"full"}],My=new J.c(Jm.l),Zq={connector:()=>new B.B};function n5(n,t=Zq){const{connector:e}=t;return(0,se.N)((r,o)=>{const c=e();(0,cn.Tg)(n(function Yq(n){return new J.c(t=>n.subscribe(t))}(c))).subscribe(o),o.add(r.subscribe(c))})}const zC="Service workers are disabled or not supported by this browser";class SR{constructor(t){if(this.serviceWorker=t,t){const r=yh(t,"controllerchange").pipe((0,Me.T)(()=>t.controller)),o=Jt(()=>Y(t.controller)),c=(0,At.x)(o,r);this.worker=c.pipe((0,jn.p)(A=>!!A)),this.registration=this.worker.pipe(hi(()=>t.getRegistration()));const I=yh(t,"message").pipe((0,Me.T)(A=>A.data)).pipe((0,jn.p)(A=>A&&A.type)).pipe(function e7(n){return n?t=>n5(n)(t):t=>function Jq(n,t){const e=(0,De.T)(n)?n:()=>n;return(0,De.T)(t)?n5(t,{connector:e}):r=>new K(r,e)}(new B.B)(t)}());I.connect(),this.events=I}else this.worker=this.events=this.registration=function t7(n){return Jt(()=>On(new Error(n)))}(zC)}postMessage(t,e){return this.worker.pipe(Yr(1),_r(r=>{r.postMessage({action:t,...e})})).toPromise().then(()=>{})}postMessageWithOperation(t,e,r){const o=this.waitForOperationCompleted(r),c=this.postMessage(t,e);return Promise.all([c,o]).then(([,d])=>d)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(t){let e;return e="string"==typeof t?r=>r.type===t:r=>t.includes(r.type),this.events.pipe((0,jn.p)(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(Yr(1))}waitForOperationCompleted(t){return this.eventsOfType("OPERATION_COMPLETED").pipe((0,jn.p)(e=>e.nonce===t),Yr(1),(0,Me.T)(e=>{if(void 0!==e.result)return e.result;throw new Error(e.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let n7=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,this.pushManager=null,this.subscriptionChanges=new B.B,!e.isEnabled)return this.messages=My,this.notificationClicks=My,void(this.subscription=My);this.messages=this.sw.eventsOfType("PUSH").pipe((0,Me.T)(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,Me.T)(o=>o.data)),this.pushManager=this.sw.registration.pipe((0,Me.T)(o=>o.pushManager));const r=this.pushManager.pipe(hi(o=>o.getSubscription()));this.subscription=(0,bi.h)(r,this.subscriptionChanges)}requestSubscription(e){if(!this.sw.isEnabled||null===this.pushManager)return Promise.reject(new Error(zC));const r={userVisibleOnly:!0};let o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),c=new Uint8Array(new ArrayBuffer(o.length));for(let d=0;d<o.length;d++)c[d]=o.charCodeAt(d);return r.applicationServerKey=c,this.pushManager.pipe(hi(d=>d.subscribe(r)),Yr(1)).toPromise().then(d=>(this.subscriptionChanges.next(d),d))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(Yr(1),hi(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(zC))}decodeBase64(e){return atob(e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(SR))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})(),r7=(()=>{class n{get isEnabled(){return this.sw.isEnabled}constructor(e){if(this.sw=e,!e.isEnabled)return this.versionUpdates=My,void(this.unrecoverable=My);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(zC));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(zC));const e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static#e=this.\u0275fac=function(r){return new(r||n)(l.KVO(SR))};static#t=this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}return n})();const r5=new l.nKC("");function i7(n,t,e,r){return()=>{if(!bd(r)||!("serviceWorker"in navigator)||!1===e.enabled)return;const o=n.get(l.SKi),c=n.get(l.o8S);let d;if(o.runOutsideAngular(()=>{const p=navigator.serviceWorker,g=()=>p.controller?.postMessage({action:"INITIALIZE"});p.addEventListener("controllerchange",g),c.onDestroy(()=>{p.removeEventListener("controllerchange",g)})}),"function"==typeof e.registrationStrategy)d=e.registrationStrategy();else{const[p,...g]=(e.registrationStrategy||"registerWhenStable:30000").split(":");switch(p){case"registerImmediately":d=Y(null);break;case"registerWithDelay":d=i5(+g[0]||0);break;case"registerWhenStable":d=g[0]?(0,bi.h)(o5(n),i5(+g[0])):o5(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${e.registrationStrategy}`)}}o.runOutsideAngular(()=>d.pipe(Yr(1)).subscribe(()=>navigator.serviceWorker.register(t,{scope:e.scope}).catch(p=>console.error("Service worker registration failed with:",p))))}}function i5(n){return Y(null).pipe(q0(n))}function o5(n){return n.get(l.o8S).isStable.pipe((0,jn.p)(e=>e))}function o7(n,t){return new SR(bd(t)&&!1!==n.enabled?navigator.serviceWorker:void 0)}class Q2{}(function Iu(n,t){return(0,l.TL3)({rootComponent:n,...Rf(t)})})(Fp,{providers:[function Bg(n,...t){return(0,l.EmA)([{provide:Xd,multi:!0,useValue:n},[],{provide:as,useFactory:Zf,deps:[So]},{provide:l.iLQ,multi:!0,useFactory:fD},t.map(e=>e.\u0275providers)])}(Qq,Ub()),function s7(n,t={}){return(0,l.EmA)([n7,r7,{provide:r5,useValue:n},{provide:Q2,useValue:t},{provide:SR,useFactory:o7,deps:[Q2,l.Agw]},{provide:l.hnV,useFactory:i7,deps:[l.zZn,r5,Q2,l.Agw],multi:!0}])}("ngsw-worker.js",{enabled:!(0,l.naY)(),registrationStrategy:"registerWhenStable:3000"}),function EP(n="animations"){return(0,l.ngT)("NgAsyncAnimations"),(0,l.EmA)([{provide:l._9s,useFactory:(t,e,r)=>new EA(t,e,r,n),deps:[Te,Xy,l.SKi]},{provide:l.bc$,useValue:"noop"===n?"NoopAnimations":"BrowserAnimations"}])}()]}).catch(n=>console.error(n))},5505:function(Bt){Bt.exports=function(){"use strict";var et=function(v,C){return(et=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,P){S.__proto__=P}||function(S,P){for(var V in P)Object.prototype.hasOwnProperty.call(P,V)&&(S[V]=P[V])})(v,C)},R=function(){return(R=Object.assign||function(v){for(var C,S=1,P=arguments.length;S<P;S++)for(var V in C=arguments[S])Object.prototype.hasOwnProperty.call(C,V)&&(v[V]=C[V]);return v}).apply(this,arguments)};function J(v,C,S){if(S||2===arguments.length)for(var P,V=0,H=C.length;V<H;V++)!P&&V in C||((P=P||Array.prototype.slice.call(C,0,V))[V]=C[V]);return v.concat(P||Array.prototype.slice.call(C))}var re=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fe=Object.keys,le=Array.isArray;function L(v,C){return"object"!=typeof C||fe(C).forEach(function(S){v[S]=C[S]}),v}typeof Promise>"u"||re.Promise||(re.Promise=Promise);var l=Object.getPrototypeOf,De={}.hasOwnProperty;function lt(v,C){return De.call(v,C)}function Ve(v,C){"function"==typeof C&&(C=C(l(v))),(typeof Reflect>"u"?fe:Reflect.ownKeys)(C).forEach(function(S){Y(v,S,C[S])})}var Be=Object.defineProperty;function Y(v,C,S,P){Be(v,C,L(S&&lt(S,"get")&&"function"==typeof S.get?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},P))}function xe(v){return{from:function(C){return v.prototype=Object.create(C.prototype),Y(v.prototype,"constructor",v),{extend:Ve.bind(null,v.prototype)}}}}var Ne=Object.getOwnPropertyDescriptor,oe=[].slice;function ze(v,C,S){return oe.call(v,C,S)}function Re(v,C){return C(v)}function ke(v){if(!v)throw new Error("Assertion Failed")}function ge(v){re.setImmediate?setImmediate(v):setTimeout(v,0)}function Fe(v,C){if("string"==typeof C&&lt(v,C))return v[C];if(!C)return v;if("string"!=typeof C){for(var S=[],P=0,V=C.length;P<V;++P){var H=Fe(v,C[P]);S.push(H)}return S}var ee=C.indexOf(".");if(-1!==ee){var ye=v[C.substr(0,ee)];return null==ye?void 0:Fe(ye,C.substr(ee+1))}}function Me(v,C,S){if(v&&void 0!==C&&(!("isFrozen"in Object)||!Object.isFrozen(v)))if("string"!=typeof C&&"length"in C){ke("string"!=typeof S&&"length"in S);for(var P=0,V=C.length;P<V;++P)Me(v,C[P],S[P])}else{var H,ee,ye=C.indexOf(".");-1!==ye?(H=C.substr(0,ye),""===(ee=C.substr(ye+1))?void 0===S?le(v)&&!isNaN(parseInt(H))?v.splice(H,1):delete v[H]:v[H]=S:Me(ye=(ye=v[H])&&lt(v,H)?ye:v[H]={},ee,S)):void 0===S?le(v)&&!isNaN(parseInt(C))?v.splice(C,1):delete v[C]:v[C]=S}}function Ae(v){var C,S={};for(C in v)lt(v,C)&&(S[C]=v[C]);return S}var Ke=[].concat;function we(v){return Ke.apply([],v)}var Co="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(we([8,16,32,64].map(function(v){return["Int","Uint","Float"].map(function(C){return C+v+"Array"})}))).filter(function(v){return re[v]}),st=new Set(Co.map(function(v){return re[v]})),Qe=null;function _e(v){return Qe=new WeakMap,v=function C(S){if(!S||"object"!=typeof S)return S;var P=Qe.get(S);if(P)return P;if(le(S)){Qe.set(S,P=[]);for(var V=0,H=S.length;V<H;++V)P.push(C(S[V]))}else if(st.has(S.constructor))P=S;else{var ee,ye=l(S);for(ee in P=ye===Object.prototype?{}:Object.create(ye),Qe.set(S,P),S)lt(S,ee)&&(P[ee]=C(S[ee]))}return P}(v),Qe=null,v}var de={}.toString;function Q(v){return de.call(v).slice(8,-1)}var mt=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Dt="symbol"==typeof mt?function(v){var C;return null!=v&&(C=v[mt])&&C.apply(v)}:function(){return null};function At(v,C){return 0<=(C=v.indexOf(C))&&v.splice(C,1),0<=C}var cn={};function Jt(v){var C,S,P,V;if(1===arguments.length){if(le(v))return v.slice();if(this===cn&&"string"==typeof v)return[v];if(V=Dt(v)){for(S=[];!(P=V.next()).done;)S.push(P.value);return S}if(null==v)return[v];if("number"!=typeof(C=v.length))return[v];for(S=new Array(C);C--;)S[C]=v[C];return S}for(C=arguments.length,S=new Array(C);C--;)S[C]=arguments[C];return S}var hn=typeof Symbol<"u"?function(v){return"AsyncFunction"===v[Symbol.toStringTag]}:function(){return!1},eo=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Cn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"]),On={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ge(v,C){this.name=v,this.message=C}function se(v,C){return v+". Errors: "+Object.keys(C).map(function(S){return C[S].toString()}).filter(function(S,P,V){return V.indexOf(S)===P}).join("\n")}function be(v,C,S,P){this.failures=C,this.failedKeys=P,this.successCount=S,this.message=se(v,C)}function K(v,C){this.name="BulkError",this.failures=Object.keys(C).map(function(S){return C[S]}),this.failuresByPos=C,this.message=se(v,this.failures)}xe(Ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),xe(be).from(Ge),xe(K).from(Ge);var B=eo.reduce(function(v,C){return v[C]=C+"Error",v},{}),$=Ge,q=eo.reduce(function(v,C){var S=C+"Error";function P(V,H){this.name=S,V?"string"==typeof V?(this.message="".concat(V).concat(H?"\n "+H:""),this.inner=H||null):"object"==typeof V&&(this.message="".concat(V.name," ").concat(V.message),this.inner=V):(this.message=On[C]||S,this.inner=null)}return xe(P).from($),v[C]=P,v},{});q.Syntax=SyntaxError,q.Type=TypeError,q.Range=RangeError;var Z=Cn.reduce(function(v,C){return v[C+"Error"]=q[C],v},{}),ie=eo.reduce(function(v,C){return-1===["Syntax","Type","Range"].indexOf(C)&&(v[C+"Error"]=q[C]),v},{});function ae(){}function Te(v){return v}function Ct(v,C){return null==v||v===Te?C:function(S){return C(v(S))}}function Lt(v,C){return function(){v.apply(this,arguments),C.apply(this,arguments)}}function Mt(v,C){return v===ae?C:function(){var S=v.apply(this,arguments);void 0!==S&&(arguments[0]=S);var P=this.onsuccess,V=this.onerror;this.onsuccess=null,this.onerror=null;var H=C.apply(this,arguments);return P&&(this.onsuccess=this.onsuccess?Lt(P,this.onsuccess):P),V&&(this.onerror=this.onerror?Lt(V,this.onerror):V),void 0!==H?H:S}}function Ut(v,C){return v===ae?C:function(){v.apply(this,arguments);var S=this.onsuccess,P=this.onerror;this.onsuccess=this.onerror=null,C.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?Lt(S,this.onsuccess):S),P&&(this.onerror=this.onerror?Lt(P,this.onerror):P)}}function nn(v,C){return v===ae?C:function(S){var P=v.apply(this,arguments);L(S,P);var V=this.onsuccess,H=this.onerror;return this.onsuccess=null,this.onerror=null,S=C.apply(this,arguments),V&&(this.onsuccess=this.onsuccess?Lt(V,this.onsuccess):V),H&&(this.onerror=this.onerror?Lt(H,this.onerror):H),void 0===P?void 0===S?void 0:S:L(P,S)}}function on(v,C){return v===ae?C:function(){return!1!==C.apply(this,arguments)&&v.apply(this,arguments)}}function an(v,C){return v===ae?C:function(){var S=v.apply(this,arguments);if(S&&"function"==typeof S.then){for(var P=this,V=arguments.length,H=new Array(V);V--;)H[V]=arguments[V];return S.then(function(){return C.apply(P,H)})}return C.apply(this,arguments)}}ie.ModifyError=be,ie.DexieError=Ge,ie.BulkError=K;var Ht=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function dn(v){Ht=v}var Cn,rn={},Pn=100,qi=(eo=(eo=(Co=typeof Promise>"u"?[]:function(){var v=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[v,l(v),v];var C=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[C,l(C),v]}())[1])&&eo.then,(Cn=Co[0])&&Cn.constructor),Xi=!!(Co=Co[2]),Vr=function(v,C){No.push([v,C]),yr&&(queueMicrotask(ni),yr=!1)},zt=!0,yr=!0,fr=[],Jn=[],$n=Te,or={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ae,pgp:!1,env:{},finalize:ae},jt=or,No=[],yo=0,Ns=[];function Pt(v){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var C=this._PSD=jt;if("function"!=typeof v){if(v!==rn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(!1===this._state&&Ls(this,this._value))}this._state=null,this._value=null,++C.ref,function S(P,V){try{V(function(H){if(null===P._state){if(H===P)throw new TypeError("A promise cannot be resolved with itself.");var ee=P._lib&&br();H&&"function"==typeof H.then?S(P,function(ye,$e){H instanceof Pt?H._then(ye,$e):H.then(ye,$e)}):(P._state=!0,P._value=H,Fa(P)),ee&&ci()}},Ls.bind(null,P))}catch(H){Ls(P,H)}}(this,v)}var Fo={get:function(){var v=jt,C=Bs;function S(P,V){var H=this,ee=!v.global&&(v!==jt||C!==Bs),ye=ee&&!Di(),$e=new Pt(function(Pe,tt){Qi(H,new Fs(ro(P,v,ee,ye),ro(V,v,ee,ye),Pe,tt,v))});return this._consoleTask&&($e._consoleTask=this._consoleTask),$e}return S.prototype=rn,S},set:function(v){Y(this,"then",v&&v.prototype===rn?Fo:{get:function(){return v},set:Fo.set})}};function Fs(v,C,S,P,V){this.onFulfilled="function"==typeof v?v:null,this.onRejected="function"==typeof C?C:null,this.resolve=S,this.reject=P,this.psd=V}function Ls(v,C){var S,P;Jn.push(C),null===v._state&&(S=v._lib&&br(),C=$n(C),v._state=!1,v._value=C,P=v,fr.some(function(V){return V._value===P._value})||fr.push(P),Fa(v),S&&ci())}function Fa(v){var C=v._listeners;v._listeners=[];for(var S=0,P=C.length;S<P;++S)Qi(v,C[S]);var V=v._PSD;--V.ref||V.finalize(),0===yo&&(++yo,Vr(function(){0==--yo&&bo()},[]))}function Qi(v,C){if(null!==v._state){var S=v._state?C.onFulfilled:C.onRejected;if(null===S)return(v._state?C.resolve:C.reject)(v._value);++C.psd.ref,++yo,Vr(Br,[S,v,C])}else v._listeners.push(C)}function Br(v,C,S){try{var P,V=C._value;!C._state&&Jn.length&&(Jn=[]),P=Ht&&C._consoleTask?C._consoleTask.run(function(){return v(V)}):v(V),C._state||-1!==Jn.indexOf(V)||function(H){for(var ee=fr.length;ee;)if(fr[--ee]._value===H._value)return fr.splice(ee,1)}(C),S.resolve(P)}catch(H){S.reject(H)}finally{0==--yo&&bo(),--S.psd.ref||S.psd.finalize()}}function ni(){li(or,function(){br()&&ci()})}function br(){var v=zt;return yr=zt=!1,v}function ci(){var v,C,S;do{for(;0<No.length;)for(v=No,No=[],S=v.length,C=0;C<S;++C){var P=v[C];P[0].apply(null,P[1])}}while(0<No.length);yr=zt=!0}function bo(){var v=fr;fr=[],v.forEach(function(P){P._PSD.onunhandled.call(null,P._value,P)});for(var C=Ns.slice(0),S=C.length;S;)C[--S]()}function La(v){return new Pt(rn,!1,v)}function gn(v,C){var S=jt;return function(){var P=br(),V=jt;try{return Jo(S,!0),v.apply(this,arguments)}catch(H){C&&C(H)}finally{Jo(V,!1),P&&ci()}}}Ve(Pt.prototype,{then:Fo,_then:function(v,C){Qi(this,new Fs(null,null,v,C,jt))},catch:function(v){if(1===arguments.length)return this.then(null,v);var C=v,S=arguments[1];return this.then(null,"function"==typeof C?function(P){return(P instanceof C?S:La)(P)}:function(P){return(P&&P.name===C?S:La)(P)})},finally:function(v){return this.then(function(C){return Pt.resolve(v()).then(function(){return C})},function(C){return Pt.resolve(v()).then(function(){return La(C)})})},timeout:function(v,C){var S=this;return v<1/0?new Pt(function(P,V){var H=setTimeout(function(){return V(new q.Timeout(C))},v);S.then(P,V).finally(clearTimeout.bind(null,H))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&Y(Pt.prototype,Symbol.toStringTag,"Dexie.Promise"),or.env=es(),Ve(Pt,{all:function(){var v=Jt.apply(null,arguments).map(la);return new Pt(function(C,S){0===v.length&&C([]);var P=v.length;v.forEach(function(V,H){return Pt.resolve(V).then(function(ee){v[H]=ee,--P||C(v)},S)})})},resolve:function(v){return v instanceof Pt?v:v&&"function"==typeof v.then?new Pt(function(C,S){v.then(C,S)}):new Pt(rn,!0,v)},reject:La,race:function(){var v=Jt.apply(null,arguments).map(la);return new Pt(function(C,S){v.map(function(P){return Pt.resolve(P).then(C,S)})})},PSD:{get:function(){return jt},set:function(v){return jt=v}},totalEchoes:{get:function(){return Bs}},newPSD:Wn,usePSD:li,scheduler:{get:function(){return Vr},set:function(v){Vr=v}},rejectionMapper:{get:function(){return $n},set:function(v){$n=v}},follow:function(v,C){return new Pt(function(S,P){return Wn(function(V,H){var ee=jt;ee.unhandleds=[],ee.onunhandled=H,ee.finalize=Lt(function(){var ye,$e=this;ye=function(){0===$e.unhandleds.length?V():H($e.unhandleds[0])},Ns.push(function Pe(){ye(),Ns.splice(Ns.indexOf(Pe),1)}),++yo,Vr(function(){0==--yo&&bo()},[])},ee.finalize),v()},C,S,P)})}}),qi&&(qi.allSettled&&Y(Pt,"allSettled",function(){var v=Jt.apply(null,arguments).map(la);return new Pt(function(C){0===v.length&&C([]);var S=v.length,P=new Array(S);v.forEach(function(V,H){return Pt.resolve(V).then(function(ee){return P[H]={status:"fulfilled",value:ee}},function(ee){return P[H]={status:"rejected",reason:ee}}).then(function(){return--S||C(P)})})})}),qi.any&&typeof AggregateError<"u"&&Y(Pt,"any",function(){var v=Jt.apply(null,arguments).map(la);return new Pt(function(C,S){0===v.length&&S(new AggregateError([]));var P=v.length,V=new Array(P);v.forEach(function(H,ee){return Pt.resolve(H).then(function(ye){return C(ye)},function(ye){V[ee]=ye,--P||S(new AggregateError(V))})})})}));var pr={awaits:0,echoes:0,id:0},Zo=0,Vs=[],Eo=0,Bs=0,pc=0;function Wn(v,C,S,P){var V=jt,H=Object.create(V);return H.parent=V,H.ref=0,H.global=!1,H.id=++pc,H.env=Xi?{Promise:Pt,PromiseProp:{value:Pt,configurable:!0,writable:!0},all:Pt.all,race:Pt.race,allSettled:Pt.allSettled,any:Pt.any,resolve:Pt.resolve,reject:Pt.reject}:{},C&&L(H,C),++V.ref,H.finalize=function(){--this.parent.ref||this.parent.finalize()},P=li(H,v,S,P),0===H.ref&&H.finalize(),P}function Lo(){return pr.id||(pr.id=++Zo),++pr.awaits,pr.echoes+=Pn,pr.id}function Di(){return!!pr.awaits&&(0==--pr.awaits&&(pr.id=0),pr.echoes=pr.awaits*Pn,!0)}function la(v){return pr.echoes&&v&&v.constructor===qi?(Lo(),v.then(function(C){return Di(),C},function(C){return Di(),pn(C)})):v}function Yc(){var v=Vs[Vs.length-1];Vs.pop(),Jo(v,!1)}function Jo(v,C){var S,P=jt;(C?!pr.echoes||Eo++&&v===jt:!Eo||--Eo&&v===jt)||queueMicrotask(C?function(V){++Bs,pr.echoes&&0!=--pr.echoes||(pr.echoes=pr.awaits=pr.id=0),Vs.push(jt),Jo(V,!0)}.bind(null,v):Yc),v!==jt&&(jt=v,P===or&&(or.env=es()),Xi&&(S=or.env.Promise,C=v.env,(P.global||v.global)&&(Object.defineProperty(re,"Promise",C.PromiseProp),S.all=C.all,S.race=C.race,S.resolve=C.resolve,S.reject=C.reject,C.allSettled&&(S.allSettled=C.allSettled),C.any&&(S.any=C.any))))}function es(){var v=re.Promise;return Xi?{Promise:v,PromiseProp:Object.getOwnPropertyDescriptor(re,"Promise"),all:v.all,race:v.race,allSettled:v.allSettled,any:v.any,resolve:v.resolve,reject:v.reject}:{}}function li(v,C,S,P,V){var H=jt;try{return Jo(v,!0),C(S,P,V)}finally{Jo(H,!1)}}function ro(v,C,S,P){return"function"!=typeof v?v:function(){var V=jt;S&&Lo(),Jo(C,!0);try{return v.apply(this,arguments)}finally{Jo(V,!1),P&&queueMicrotask(Di)}}}function Nn(v){Promise===qi&&0===pr.echoes?0===Eo?v():enqueueNativeMicroTask(v):setTimeout(v,0)}-1===(""+eo).indexOf("[native code]")&&(Lo=Di=ae);var pn=Pt.reject,ui="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ns="String expected.",ys=[],mi="__dbnames",Va="readonly",Ur="readwrite";function Us(v,C){return v?C?function(){return v.apply(this,arguments)&&C.apply(this,arguments)}:v:C}var Er={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Ba(v){return"string"!=typeof v||/\./.test(v)?function(C){return C}:function(C){return void 0===C[v]&&v in C&&delete(C=_e(C))[v],C}}function wo(){throw q.Type()}function Hn(v,C){try{var S=bs(v),P=bs(C);if(S!==P)return"Array"===S?1:"Array"===P?-1:"binary"===S?1:"binary"===P?-1:"string"===S?1:"string"===P?-1:"Date"===S?1:"Date"!==P?NaN:-1;switch(S){case"number":case"Date":case"string":return C<v?1:v<C?-1:0;case"binary":return function(V,H){for(var ee=V.length,ye=H.length,$e=ee<ye?ee:ye,Pe=0;Pe<$e;++Pe)if(V[Pe]!==H[Pe])return V[Pe]<H[Pe]?-1:1;return ee===ye?0:ee<ye?-1:1}(Zc(v),Zc(C));case"Array":return function(V,H){for(var ee=V.length,ye=H.length,$e=ee<ye?ee:ye,Pe=0;Pe<$e;++Pe){var tt=Hn(V[Pe],H[Pe]);if(0!==tt)return tt}return ee===ye?0:ee<ye?-1:1}(v,C)}}catch{}return NaN}function bs(v){var C=typeof v;return"object"!=C?C:ArrayBuffer.isView(v)||"ArrayBuffer"===(v=Q(v))?"binary":v}function Zc(v){return v instanceof Uint8Array?v:ArrayBuffer.isView(v)?new Uint8Array(v.buffer,v.byteOffset,v.byteLength):new Uint8Array(v)}var Pi=(sr.prototype._trans=function(v,C,S){var P=this._tx||jt.trans,V=this.name,H=Ht&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat("readonly"===v?"read":"write"," ").concat(this.name));function ee(Pe,tt,Se){if(!Se.schema[V])throw new q.NotFound("Table "+V+" not part of transaction");return C(Se.idbtrans,Se)}var ye=br();try{var $e=P&&P.db._novip===this.db._novip?P===jt.trans?P._promise(v,ee,S):Wn(function(){return P._promise(v,ee,S)},{trans:P,transless:jt.transless||jt}):function Pe(tt,Se,nt,Le){if(tt.idbdb&&(tt._state.openComplete||jt.letThrough||tt._vip)){var Xe=tt._createTransaction(Se,nt,tt._dbSchema);try{Xe.create(),tt._state.PR1398_maxLoop=3}catch(Ze){return Ze.name===B.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return Pe(tt,Se,nt,Le)})):pn(Ze)}return Xe._promise(Se,function(Ze,He){return Wn(function(){return jt.trans=Xe,Le(Ze,He,Xe)})}).then(function(Ze){if("readwrite"===Se)try{Xe.idbtrans.commit()}catch{}return"readonly"===Se?Ze:Xe._completion.then(function(){return Ze})})}if(tt._state.openComplete)return pn(new q.DatabaseClosed(tt._state.dbOpenError));if(!tt._state.isBeingOpened){if(!tt._state.autoOpen)return pn(new q.DatabaseClosed);tt.open().catch(ae)}return tt._state.dbReadyPromise.then(function(){return Pe(tt,Se,nt,Le)})}(this.db,v,[this.name],ee);return H&&($e._consoleTask=H,$e=$e.catch(function(Pe){return console.trace(Pe),pn(Pe)})),$e}finally{ye&&ci()}},sr.prototype.get=function(v,C){var S=this;return v&&v.constructor===Object?this.where(v).first(C):null==v?pn(new q.Type("Invalid argument to Table.get()")):this._trans("readonly",function(P){return S.core.get({trans:P,key:v}).then(function(V){return S.hook.reading.fire(V)})}).then(C)},sr.prototype.where=function(v){if("string"==typeof v)return new this.db.WhereClause(this,v);if(le(v))return new this.db.WhereClause(this,"[".concat(v.join("+"),"]"));var C=fe(v);if(1===C.length)return this.where(C[0]).equals(v[C[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function($e){if($e.compound&&C.every(function(tt){return 0<=$e.keyPath.indexOf(tt)})){for(var Pe=0;Pe<C.length;++Pe)if(-1===C.indexOf($e.keyPath[Pe]))return!1;return!0}return!1}).sort(function($e,Pe){return $e.keyPath.length-Pe.keyPath.length})[0];if(S&&"\uffff"!==this.db._maxKey){var ee=S.keyPath.slice(0,C.length);return this.where(ee).equals(ee.map(function(Pe){return v[Pe]}))}!S&&Ht&&console.warn("The query ".concat(JSON.stringify(v)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(C.join("+"),"]"));var P=this.schema.idxByName,V=this.db._deps.indexedDB;function H($e,Pe){return 0===V.cmp($e,Pe)}ee=(ye=C.reduce(function(nt,Pe){var tt=nt[0],Se=nt[1],Le=(nt=P[Pe],v[Pe]);return[tt||nt,tt||!nt?Us(Se,nt&&nt.multi?function(Xe){return Xe=Fe(Xe,Pe),le(Xe)&&Xe.some(function(Ze){return H(Le,Ze)})}:function(Xe){return H(Le,Fe(Xe,Pe))}):Se]},[null,null]))[0];var ye=ye[1];return ee?this.where(ee.name).equals(v[ee.keyPath]).filter(ye):S?this.filter(ye):this.where(C).equals("")},sr.prototype.filter=function(v){return this.toCollection().and(v)},sr.prototype.count=function(v){return this.toCollection().count(v)},sr.prototype.offset=function(v){return this.toCollection().offset(v)},sr.prototype.limit=function(v){return this.toCollection().limit(v)},sr.prototype.each=function(v){return this.toCollection().each(v)},sr.prototype.toArray=function(v){return this.toCollection().toArray(v)},sr.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},sr.prototype.orderBy=function(v){return new this.db.Collection(new this.db.WhereClause(this,le(v)?"[".concat(v.join("+"),"]"):v))},sr.prototype.reverse=function(){return this.toCollection().reverse()},sr.prototype.mapToClass=function(v){var C,S=this.db,P=this.name;function V(){return null!==C&&C.apply(this,arguments)||this}(this.schema.mappedClass=v).prototype instanceof wo&&(function($e,Pe){if("function"!=typeof Pe&&null!==Pe)throw new TypeError("Class extends value "+String(Pe)+" is not a constructor or null");function tt(){this.constructor=$e}et($e,Pe),$e.prototype=null===Pe?Object.create(Pe):(tt.prototype=Pe.prototype,new tt)}(V,C=v),Object.defineProperty(V.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),V.prototype.table=function(){return P},v=V);for(var H=new Set,ee=v.prototype;ee;ee=l(ee))Object.getOwnPropertyNames(ee).forEach(function($e){return H.add($e)});function ye($e){if(!$e)return $e;var Pe,tt=Object.create(v.prototype);for(Pe in $e)if(!H.has(Pe))try{tt[Pe]=$e[Pe]}catch{}return tt}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ye,this.hook("reading",ye),v},sr.prototype.defineClass=function(){return this.mapToClass(function(v){L(this,v)})},sr.prototype.add=function(v,C){var S=this,P=this.schema.primKey,H=P.keyPath,ee=v;return H&&P.auto&&(ee=Ba(H)(v)),this._trans("readwrite",function(ye){return S.core.mutate({trans:ye,type:"add",keys:null!=C?[C]:null,values:[ee]})}).then(function(ye){return ye.numFailures?Pt.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if(H)try{Me(v,H,ye)}catch{}return ye})},sr.prototype.update=function(v,C){return"object"!=typeof v||le(v)?this.where(":id").equals(v).modify(C):void 0===(v=Fe(v,this.schema.primKey.keyPath))?pn(new q.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(v).modify(C)},sr.prototype.put=function(v,C){var S=this,P=this.schema.primKey,H=P.keyPath,ee=v;return H&&P.auto&&(ee=Ba(H)(v)),this._trans("readwrite",function(ye){return S.core.mutate({trans:ye,type:"put",values:[ee],keys:null!=C?[C]:null})}).then(function(ye){return ye.numFailures?Pt.reject(ye.failures[0]):ye.lastResult}).then(function(ye){if(H)try{Me(v,H,ye)}catch{}return ye})},sr.prototype.delete=function(v){var C=this;return this._trans("readwrite",function(S){return C.core.mutate({trans:S,type:"delete",keys:[v]})}).then(function(S){return S.numFailures?Pt.reject(S.failures[0]):void 0})},sr.prototype.clear=function(){var v=this;return this._trans("readwrite",function(C){return v.core.mutate({trans:C,type:"deleteRange",range:Er})}).then(function(C){return C.numFailures?Pt.reject(C.failures[0]):void 0})},sr.prototype.bulkGet=function(v){var C=this;return this._trans("readonly",function(S){return C.core.getMany({keys:v,trans:S}).then(function(P){return P.map(function(V){return C.hook.reading.fire(V)})})})},sr.prototype.bulkAdd=function(v,C,S){var P=this,V=Array.isArray(C)?C:void 0,H=(S=S||(V?void 0:C))?S.allKeys:void 0;return this._trans("readwrite",function(ee){var ye=(Pe=P.schema.primKey).auto;if((Pe=Pe.keyPath)&&V)throw new q.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var $e=v.length,Pe=Pe&&ye?v.map(Ba(Pe)):v;return P.core.mutate({trans:ee,type:"add",keys:V,values:Pe,wantResults:H}).then(function(Xe){var Se=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===Se)return H?nt:Le;throw new K("".concat(P.name,".bulkAdd(): ").concat(Se," of ").concat($e," operations failed"),Xe)})})},sr.prototype.bulkPut=function(v,C,S){var P=this,V=Array.isArray(C)?C:void 0,H=(S=S||(V?void 0:C))?S.allKeys:void 0;return this._trans("readwrite",function(ee){var ye=(Pe=P.schema.primKey).auto;if((Pe=Pe.keyPath)&&V)throw new q.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(V&&V.length!==v.length)throw new q.InvalidArgument("Arguments objects and keys must have the same length");var $e=v.length,Pe=Pe&&ye?v.map(Ba(Pe)):v;return P.core.mutate({trans:ee,type:"put",keys:V,values:Pe,wantResults:H}).then(function(Xe){var Se=Xe.numFailures,nt=Xe.results,Le=Xe.lastResult;if(Xe=Xe.failures,0===Se)return H?nt:Le;throw new K("".concat(P.name,".bulkPut(): ").concat(Se," of ").concat($e," operations failed"),Xe)})})},sr.prototype.bulkUpdate=function(v){var C=this,S=this.core,P=v.map(function(ee){return ee.key}),V=v.map(function(ee){return ee.changes}),H=[];return this._trans("readwrite",function(ee){return S.getMany({trans:ee,keys:P,cache:"clone"}).then(function(ye){var $e=[],Pe=[];v.forEach(function(Se,nt){var Le=Se.key,Xe=Se.changes,Ze=ye[nt];if(Ze){for(var He=0,ht=Object.keys(Xe);He<ht.length;He++){var qe=ht[He],rt=Xe[qe];if(qe===C.schema.primKey.keyPath){if(0!==Hn(rt,Le))throw new q.Constraint("Cannot update primary key in bulkUpdate()")}else Me(Ze,qe,rt)}H.push(nt),$e.push(Le),Pe.push(Ze)}});var tt=$e.length;return S.mutate({trans:ee,type:"put",keys:$e,values:Pe,updates:{keys:P,changeSpecs:V}}).then(function(Se){var nt=Se.numFailures,Le=Se.failures;if(0===nt)return tt;for(var Xe=0,Ze=Object.keys(Le);Xe<Ze.length;Xe++){var He,ht=Ze[Xe],qe=H[Number(ht)];null!=qe&&(He=Le[ht],delete Le[ht],Le[qe]=He)}throw new K("".concat(C.name,".bulkUpdate(): ").concat(nt," of ").concat(tt," operations failed"),Le)})})})},sr.prototype.bulkDelete=function(v){var C=this,S=v.length;return this._trans("readwrite",function(P){return C.core.mutate({trans:P,type:"delete",keys:v})}).then(function(ee){var V=ee.numFailures,H=ee.lastResult;if(ee=ee.failures,0===V)return H;throw new K("".concat(C.name,".bulkDelete(): ").concat(V," of ").concat(S," operations failed"),ee)})},sr);function sr(){}function rs(v){function C(ee,ye){if(ye){for(var $e=arguments.length,Pe=new Array($e-1);--$e;)Pe[$e-1]=arguments[$e];return S[ee].subscribe.apply(null,Pe),v}if("string"==typeof ee)return S[ee]}var S={};C.addEventType=H;for(var P=1,V=arguments.length;P<V;++P)H(arguments[P]);return C;function H(ee,ye,$e){if("object"!=typeof ee){var Pe;ye=ye||on;var tt={subscribers:[],fire:$e=$e||ae,subscribe:function(Se){-1===tt.subscribers.indexOf(Se)&&(tt.subscribers.push(Se),tt.fire=ye(tt.fire,Se))},unsubscribe:function(Se){tt.subscribers=tt.subscribers.filter(function(nt){return nt!==Se}),tt.fire=tt.subscribers.reduce(ye,$e)}};return S[ee]=C[ee]=tt}fe(Pe=ee).forEach(function(Se){var nt=Pe[Se];if(le(nt))H(Se,Pe[Se][0],Pe[Se][1]);else{if("asap"!==nt)throw new q.InvalidArgument("Invalid event config");var Le=H(Se,Te,function(){for(var Xe=arguments.length,Ze=new Array(Xe);Xe--;)Ze[Xe]=arguments[Xe];Le.subscribers.forEach(function(He){ge(function(){He.apply(null,Ze)})})})}})}}function js(v,C){return xe(C).from({prototype:v}),C}function ua(v,C){return!(v.filter||v.algorithm||v.or)&&(C?v.justLimit:!v.replayFilter)}function mc(v,C){v.filter=Us(v.filter,C)}function da(v,C,S){var P=v.replayFilter;v.replayFilter=P?function(){return Us(P(),C())}:C,v.justLimit=S&&!P}function ha(v,C){if(v.isPrimKey)return C.primaryKey;var S=C.getIndexByKeyPath(v.index);if(!S)throw new q.Schema("KeyPath "+v.index+" on object store "+C.name+" is not indexed");return S}function gc(v,C,S){var P=ha(v,C.schema);return C.openCursor({trans:S,values:!v.keysOnly,reverse:"prev"===v.dir,unique:!!v.unique,query:{index:P,range:v.range}})}function Jc(v,C,S,P){var V=v.replayFilter?Us(v.filter,v.replayFilter()):v.filter;if(v.or){var H={},ee=function(ye,$e,Pe){var tt,Se;V&&!V($e,Pe,function(nt){return $e.stop(nt)},function(nt){return $e.fail(nt)})||("[object ArrayBuffer]"==(Se=""+(tt=$e.primaryKey))&&(Se=""+new Uint8Array(tt)),lt(H,Se)||(H[Se]=!0,C(ye,$e,Pe)))};return Promise.all([v.or._iterate(ee,S),fa(gc(v,P,S),v.algorithm,ee,!v.keysOnly&&v.valueMapper)])}return fa(gc(v,P,S),Us(v.algorithm,V),C,!v.keysOnly&&v.valueMapper)}function fa(v,C,S,P){var V=gn(P?function(H,ee,ye){return S(P(H),ee,ye)}:S);return v.then(function(H){if(H)return H.start(function(){var ee=function(){return H.continue()};C&&!C(H,function(ye){return ee=ye},function(ye){H.stop(ye),ee=ae},function(ye){H.fail(ye),ee=ae})||V(H.value,H,function(ye){return ee=ye}),ee()})})}Co=Symbol();var $s=(_c.prototype.execute=function(v){if(void 0!==this.add){var C=this.add;if(le(C))return J(J([],le(v)?v:[],!0),C,!0).sort();if("number"==typeof C)return(Number(v)||0)+C;if("bigint"==typeof C)try{return BigInt(v)+C}catch{return BigInt(0)+C}throw new TypeError("Invalid term ".concat(C))}if(void 0!==this.remove){var S=this.remove;if(le(S))return le(v)?v.filter(function(P){return!S.includes(P)}).sort():[];if("number"==typeof S)return Number(v)-S;if("bigint"==typeof S)try{return BigInt(v)-S}catch{return BigInt(0)-S}throw new TypeError("Invalid subtrahend ".concat(S))}return(C=null===(C=this.replacePrefix)||void 0===C?void 0:C[0])&&"string"==typeof v&&v.startsWith(C)?this.replacePrefix[1]+v.substring(C.length):v},_c);function _c(v){Object.assign(this,v)}var vc=(zn.prototype._read=function(v,C){var S=this._ctx;return S.error?S.table._trans(null,pn.bind(null,S.error)):S.table._trans("readonly",v).then(C)},zn.prototype._write=function(v){var C=this._ctx;return C.error?C.table._trans(null,pn.bind(null,C.error)):C.table._trans("readwrite",v,"locked")},zn.prototype._addAlgorithm=function(v){var C=this._ctx;C.algorithm=Us(C.algorithm,v)},zn.prototype._iterate=function(v,C){return Jc(this._ctx,v,C,this._ctx.table.core)},zn.prototype.clone=function(v){var C=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return v&&L(S,v),C._ctx=S,C},zn.prototype.raw=function(){return this._ctx.valueMapper=null,this},zn.prototype.each=function(v){var C=this._ctx;return this._read(function(S){return Jc(C,v,S,C.table.core)})},zn.prototype.count=function(v){var C=this;return this._read(function(S){var P=C._ctx,V=P.table.core;if(ua(P,!0))return V.count({trans:S,query:{index:ha(P,V.schema),range:P.range}}).then(function(ee){return Math.min(ee,P.limit)});var H=0;return Jc(P,function(){return++H,!1},S,V).then(function(){return H})}).then(v)},zn.prototype.sortBy=function(v,C){var S=v.split(".").reverse(),P=S[0],V=S.length-1;function H($e,Pe){return Pe?H($e[S[Pe]],Pe-1):$e[P]}var ee="next"===this._ctx.dir?1:-1;function ye($e,Pe){return($e=H($e,V))<(Pe=H(Pe,V))?-ee:Pe<$e?ee:0}return this.toArray(function($e){return $e.sort(ye)}).then(C)},zn.prototype.toArray=function(v){var C=this;return this._read(function(S){var P=C._ctx;if("next"===P.dir&&ua(P,!0)&&0<P.limit){var V=P.valueMapper,H=ha(P,P.table.core.schema);return P.table.core.query({trans:S,limit:P.limit,values:!0,query:{index:H,range:P.range}}).then(function(ye){return ye=ye.result,V?ye.map(V):ye})}var ee=[];return Jc(P,function(ye){return ee.push(ye)},S,P.table.core).then(function(){return ee})},v)},zn.prototype.offset=function(v){var C=this._ctx;return v<=0||(C.offset+=v,ua(C)?da(C,function(){var S=v;return function(P,V){return 0===S||(1===S?--S:V(function(){P.advance(S),S=0}),!1)}}):da(C,function(){var S=v;return function(){return--S<0}})),this},zn.prototype.limit=function(v){return this._ctx.limit=Math.min(this._ctx.limit,v),da(this._ctx,function(){var C=v;return function(S,P,V){return--C<=0&&P(V),0<=C}},!0),this},zn.prototype.until=function(v,C){return mc(this._ctx,function(S,P,V){return!v(S.value)||(P(V),C)}),this},zn.prototype.first=function(v){return this.limit(1).toArray(function(C){return C[0]}).then(v)},zn.prototype.last=function(v){return this.reverse().first(v)},zn.prototype.filter=function(v){var C;return mc(this._ctx,function(S){return v(S.value)}),(C=this._ctx).isMatch=Us(C.isMatch,v),this},zn.prototype.and=function(v){return this.filter(v)},zn.prototype.or=function(v){return new this.db.WhereClause(this._ctx.table,v,this)},zn.prototype.reverse=function(){return this._ctx.dir="prev"===this._ctx.dir?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},zn.prototype.desc=function(){return this.reverse()},zn.prototype.eachKey=function(v){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(S,P){v(P.key,P)})},zn.prototype.eachUniqueKey=function(v){return this._ctx.unique="unique",this.eachKey(v)},zn.prototype.eachPrimaryKey=function(v){var C=this._ctx;return C.keysOnly=!C.isMatch,this.each(function(S,P){v(P.primaryKey,P)})},zn.prototype.keys=function(v){var C=this._ctx;C.keysOnly=!C.isMatch;var S=[];return this.each(function(P,V){S.push(V.key)}).then(function(){return S}).then(v)},zn.prototype.primaryKeys=function(v){var C=this._ctx;if("next"===C.dir&&ua(C,!0)&&0<C.limit)return this._read(function(P){var V=ha(C,C.table.core.schema);return C.table.core.query({trans:P,values:!1,limit:C.limit,query:{index:V,range:C.range}})}).then(function(P){return P.result}).then(v);C.keysOnly=!C.isMatch;var S=[];return this.each(function(P,V){S.push(V.primaryKey)}).then(function(){return S}).then(v)},zn.prototype.uniqueKeys=function(v){return this._ctx.unique="unique",this.keys(v)},zn.prototype.firstKey=function(v){return this.limit(1).keys(function(C){return C[0]}).then(v)},zn.prototype.lastKey=function(v){return this.reverse().firstKey(v)},zn.prototype.distinct=function(){var v;if(!(v=(v=this._ctx).index&&v.table.schema.idxByName[v.index])||!v.multi)return this;var C={};return mc(this._ctx,function(V){var P=V.primaryKey.toString();return V=lt(C,P),C[P]=!0,!V}),this},zn.prototype.modify=function(v){var C=this,S=this._ctx;return this._write(function(P){var V,H,ee;function ye(He,rt){var qe=rt.failures;Xe+=He-(rt=rt.numFailures);for(var Et=0,Ft=fe(qe);Et<Ft.length;Et++)Le.push(qe[Ft[Et]])}ee="function"==typeof v?v:(V=fe(v),H=V.length,function(He){for(var ht=!1,qe=0;qe<H;++qe){var rt=V[qe],Et=v[rt],Ft=Fe(He,rt);Et instanceof $s?(Me(He,rt,Et.execute(Ft)),ht=!0):Ft!==Et&&(Me(He,rt,Et),ht=!0)}return ht});var $e=S.table.core,Pe=$e.schema.primaryKey,tt=Pe.outbound,Se=Pe.extractKey,nt=C.db._options.modifyChunkSize||200,Le=[],Xe=0,Ze=[];return C.clone().primaryKeys().then(function(He){var qe=ua(S)&&S.limit===1/0&&("function"!=typeof v||v===Ua)&&{index:S.index,range:S.range};return function ht(rt){var Et=Math.min(nt,He.length-rt);return $e.getMany({trans:P,keys:He.slice(rt,rt+Et),cache:"immutable"}).then(function(Ft){for(var xt=[],Vt=[],Wt=tt?[]:null,qt=[],vt=0;vt<Et;++vt){var An=Ft[vt],kn={value:_e(An),primKey:He[rt+vt]};!1!==ee.call(kn,kn.value,kn)&&(null==kn.value?qt.push(He[rt+vt]):tt||0===Hn(Se(An),Se(kn.value))?(Vt.push(kn.value),tt&&Wt.push(He[rt+vt])):(qt.push(He[rt+vt]),xt.push(kn.value)))}return Promise.resolve(0<xt.length&&$e.mutate({trans:P,type:"add",values:xt}).then(function(bn){for(var Ln in bn.failures)qt.splice(parseInt(Ln),1);ye(xt.length,bn)})).then(function(){return(0<Vt.length||qe&&"object"==typeof v)&&$e.mutate({trans:P,type:"put",keys:Wt,values:Vt,criteria:qe,changeSpec:"function"!=typeof v&&v,isAdditionalChunk:0<rt}).then(function(bn){return ye(Vt.length,bn)})}).then(function(){return(0<qt.length||qe&&v===Ua)&&$e.mutate({trans:P,type:"delete",keys:qt,criteria:qe,isAdditionalChunk:0<rt}).then(function(bn){return ye(qt.length,bn)})}).then(function(){return He.length>rt+Et&&ht(rt+nt)})})}(0).then(function(){if(0<Le.length)throw new be("Error modifying one or more objects",Le,Xe,Ze);return He.length})})})},zn.prototype.delete=function(){var v=this._ctx,C=v.range;return ua(v)&&(v.isPrimKey||3===C.type)?this._write(function(S){var V=C;return v.table.core.count({trans:S,query:{index:v.table.core.schema.primaryKey,range:V}}).then(function(H){return v.table.core.mutate({trans:S,type:"deleteRange",range:V}).then(function(ee){var ye=ee.failures;if(ee=ee.numFailures)throw new be("Could not delete some values",Object.keys(ye).map(function($e){return ye[$e]}),H-ee);return H-ee})})}):this.modify(Ua)},zn);function zn(){}var Ua=function(v,C){return C.value=null};function el(v,C){return v<C?-1:v===C?0:1}function cu(v,C){return C<v?-1:v===C?0:1}function io(v,C,S){return(v=v instanceof Oe?new v.Collection(v):v)._ctx.error=new(S||TypeError)(C),v}function Yi(v){return new v.Collection(v,function(){return z("")}).limit(0)}function ja(v,C,S,P){var V,H,ee,ye,$e,Pe,tt,Se=S.length;if(!S.every(function(Xe){return"string"==typeof Xe}))return io(v,ns);function nt(Xe){V="next"===Xe?function(He){return He.toUpperCase()}:function(He){return He.toLowerCase()},H="next"===Xe?function(He){return He.toLowerCase()}:function(He){return He.toUpperCase()},ee="next"===Xe?el:cu;var Ze=S.map(function(He){return{lower:H(He),upper:V(He)}}).sort(function(He,ht){return ee(He.lower,ht.lower)});ye=Ze.map(function(He){return He.upper}),$e=Ze.map(function(He){return He.lower}),tt="next"===(Pe=Xe)?"":P}nt("next"),(v=new v.Collection(v,function(){return is(ye[0],$e[Se-1]+P)}))._ondirectionchange=function(Xe){nt(Xe)};var Le=0;return v._addAlgorithm(function(Xe,Ze,He){var ht=Xe.key;if("string"!=typeof ht)return!1;var qe=H(ht);if(C(qe,$e,Le))return!0;for(var rt=null,Et=Le;Et<Se;++Et){var Ft=function(xt,Vt,Wt,qt,vt,An){for(var kn=Math.min(xt.length,qt.length),bn=-1,Ln=0;Ln<kn;++Ln){var Xs=Vt[Ln];if(Xs!==qt[Ln])return vt(xt[Ln],Wt[Ln])<0?xt.substr(0,Ln)+Wt[Ln]+Wt.substr(Ln+1):vt(xt[Ln],qt[Ln])<0?xt.substr(0,Ln)+qt[Ln]+Wt.substr(Ln+1):0<=bn?xt.substr(0,bn)+Vt[bn]+Wt.substr(bn+1):null;vt(xt[Ln],Xs)<0&&(bn=Ln)}return kn<qt.length&&"next"===An?xt+Wt.substr(xt.length):kn<xt.length&&"prev"===An?xt.substr(0,Wt.length):bn<0?null:xt.substr(0,bn)+qt[bn]+Wt.substr(bn+1)}(ht,qe,ye[Et],$e[Et],ee,Pe);null===Ft&&null===rt?Le=Et+1:(null===rt||0<ee(rt,Ft))&&(rt=Ft)}return Ze(null!==rt?function(){Xe.continue(rt+tt)}:He),!1}),v}function is(v,C,S,P){return{type:2,lower:v,upper:C,lowerOpen:S,upperOpen:P}}function z(v){return{type:1,lower:v,upper:v}}var Oe=(Object.defineProperty(Je.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Je.prototype.between=function(v,C,S,P){S=!1!==S,P=!0===P;try{return 0<this._cmp(v,C)||0===this._cmp(v,C)&&(S||P)&&(!S||!P)?Yi(this):new this.Collection(this,function(){return is(v,C,!S,!P)})}catch{return io(this,ui)}},Je.prototype.equals=function(v){return null==v?io(this,ui):new this.Collection(this,function(){return z(v)})},Je.prototype.above=function(v){return null==v?io(this,ui):new this.Collection(this,function(){return is(v,void 0,!0)})},Je.prototype.aboveOrEqual=function(v){return null==v?io(this,ui):new this.Collection(this,function(){return is(v,void 0,!1)})},Je.prototype.below=function(v){return null==v?io(this,ui):new this.Collection(this,function(){return is(void 0,v,!1,!0)})},Je.prototype.belowOrEqual=function(v){return null==v?io(this,ui):new this.Collection(this,function(){return is(void 0,v)})},Je.prototype.startsWith=function(v){return"string"!=typeof v?io(this,ns):this.between(v,v+"\uffff",!0,!0)},Je.prototype.startsWithIgnoreCase=function(v){return""===v?this.startsWith(v):ja(this,function(C,S){return 0===C.indexOf(S[0])},[v],"\uffff")},Je.prototype.equalsIgnoreCase=function(v){return ja(this,function(C,S){return C===S[0]},[v],"")},Je.prototype.anyOfIgnoreCase=function(){var v=Jt.apply(cn,arguments);return 0===v.length?Yi(this):ja(this,function(C,S){return-1!==S.indexOf(C)},v,"")},Je.prototype.startsWithAnyOfIgnoreCase=function(){var v=Jt.apply(cn,arguments);return 0===v.length?Yi(this):ja(this,function(C,S){return S.some(function(P){return 0===C.indexOf(P)})},v,"\uffff")},Je.prototype.anyOf=function(){var v=this,C=Jt.apply(cn,arguments),S=this._cmp;try{C.sort(S)}catch{return io(this,ui)}if(0===C.length)return Yi(this);var P=new this.Collection(this,function(){return is(C[0],C[C.length-1])});P._ondirectionchange=function(H){C.sort(S="next"===H?v._ascending:v._descending)};var V=0;return P._addAlgorithm(function(H,ee,ye){for(var $e=H.key;0<S($e,C[V]);)if(++V===C.length)return ee(ye),!1;return 0===S($e,C[V])||(ee(function(){H.continue(C[V])}),!1)}),P},Je.prototype.notEqual=function(v){return this.inAnyRange([[-1/0,v],[v,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Je.prototype.noneOf=function(){var v=Jt.apply(cn,arguments);if(0===v.length)return new this.Collection(this);try{v.sort(this._ascending)}catch{return io(this,ui)}var C=v.reduce(function(S,P){return S?S.concat([[S[S.length-1][1],P]]):[[-1/0,P]]},null);return C.push([v[v.length-1],this.db._maxKey]),this.inAnyRange(C,{includeLowers:!1,includeUppers:!1})},Je.prototype.inAnyRange=function(ht,C){var S=this,P=this._cmp,V=this._ascending,H=this._descending,ee=this._min,ye=this._max;if(0===ht.length)return Yi(this);if(!ht.every(function(qe){return void 0!==qe[0]&&void 0!==qe[1]&&V(qe[0],qe[1])<=0}))return io(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",q.InvalidArgument);var tt,$e=!C||!1!==C.includeLowers,Pe=C&&!0===C.includeUppers,Se=V;function nt(qe,rt){return Se(qe[0],rt[0])}try{(tt=ht.reduce(function(qe,rt){for(var Et=0,Ft=qe.length;Et<Ft;++Et){var xt=qe[Et];if(P(rt[0],xt[1])<0&&0<P(rt[1],xt[0])){xt[0]=ee(xt[0],rt[0]),xt[1]=ye(xt[1],rt[1]);break}}return Et===Ft&&qe.push(rt),qe},[])).sort(nt)}catch{return io(this,ui)}var Le=0,Xe=Pe?function(qe){return 0<V(qe,tt[Le][1])}:function(qe){return 0<=V(qe,tt[Le][1])},Ze=$e?function(qe){return 0<H(qe,tt[Le][0])}:function(qe){return 0<=H(qe,tt[Le][0])},He=Xe;return(ht=new this.Collection(this,function(){return is(tt[0][0],tt[tt.length-1][1],!$e,!Pe)}))._ondirectionchange=function(qe){Se="next"===qe?(He=Xe,V):(He=Ze,H),tt.sort(nt)},ht._addAlgorithm(function(qe,rt,Et){for(var Ft,xt=qe.key;He(xt);)if(++Le===tt.length)return rt(Et),!1;return!Xe(Ft=xt)&&!Ze(Ft)||(0===S._cmp(xt,tt[Le][1])||0===S._cmp(xt,tt[Le][0])||rt(function(){qe.continue(Se===V?tt[Le][0]:tt[Le][1])}),!1)}),ht},Je.prototype.startsWithAnyOf=function(){var v=Jt.apply(cn,arguments);return v.every(function(C){return"string"==typeof C})?0===v.length?Yi(this):this.inAnyRange(v.map(function(C){return[C,C+"\uffff"]})):io(this,"startsWithAnyOf() only works with strings")},Je);function Je(){}function dt(v){return gn(function(C){return Nt(C),v(C.target.error),!1})}function Nt(v){v.stopPropagation&&v.stopPropagation(),v.preventDefault&&v.preventDefault()}var In="storagemutated",Fn="x-storagemutated-1",Xn=rs(null,In),mr=(jr.prototype._lock=function(){return ke(!jt.global),++this._reculock,1!==this._reculock||jt.global||(jt.lockOwnerFor=this),this},jr.prototype._unlock=function(){if(ke(!jt.global),0==--this._reculock)for(jt.global||(jt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var v=this._blockedFuncs.shift();try{li(v[1],v[0])}catch{}}return this},jr.prototype._locked=function(){return this._reculock&&jt.lockOwnerFor!==this},jr.prototype.create=function(v){var C=this;if(!this.mode)return this;var S=this.db.idbdb,P=this.db._state.dbOpenError;if(ke(!this.idbtrans),!v&&!S)switch(P&&P.name){case"DatabaseClosedError":throw new q.DatabaseClosed(P);case"MissingAPIError":throw new q.MissingAPI(P.message,P);default:throw new q.OpenFailed(P)}if(!this.active)throw new q.TransactionInactive;return ke(null===this._completion._state),(v=this.idbtrans=v||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=gn(function(V){Nt(V),C._reject(v.error)}),v.onabort=gn(function(V){Nt(V),C.active&&C._reject(new q.Abort(v.error)),C.active=!1,C.on("abort").fire(V)}),v.oncomplete=gn(function(){C.active=!1,C._resolve(),"mutatedParts"in v&&Xn.storagemutated.fire(v.mutatedParts)}),this},jr.prototype._promise=function(v,C,S){var P=this;if("readwrite"===v&&"readwrite"!==this.mode)return pn(new q.ReadOnly("Transaction is readonly"));if(!this.active)return pn(new q.TransactionInactive);if(this._locked())return new Pt(function(H,ee){P._blockedFuncs.push([function(){P._promise(v,C,S).then(H,ee)},jt])});if(S)return Wn(function(){var H=new Pt(function(ee,ye){P._lock();var $e=C(ee,ye,P);$e&&$e.then&&$e.then(ee,ye)});return H.finally(function(){return P._unlock()}),H._lib=!0,H});var V=new Pt(function(H,ee){var ye=C(H,ee,P);ye&&ye.then&&ye.then(H,ee)});return V._lib=!0,V},jr.prototype._root=function(){return this.parent?this.parent._root():this},jr.prototype.waitFor=function(v){var C,S=this._root(),P=Pt.resolve(v);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return P}):(S._waitingFor=P,S._waitingQueue=[],C=S.idbtrans.objectStore(S.storeNames[0]),function H(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(C.get(-1/0).onsuccess=H)}());var V=S._waitingFor;return new Pt(function(H,ee){P.then(function(ye){return S._waitingQueue.push(gn(H.bind(null,ye)))},function(ye){return S._waitingQueue.push(gn(ee.bind(null,ye)))}).finally(function(){S._waitingFor===V&&(S._waitingFor=null)})})},jr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new q.Abort))},jr.prototype.table=function(v){var C=this._memoizedTables||(this._memoizedTables={});if(lt(C,v))return C[v];var S=this.schema[v];if(!S)throw new q.NotFound("Table "+v+" not part of transaction");return(S=new this.db.Table(v,S,this)).core=this.db.core.table(v),C[v]=S},jr);function jr(){}function Xr(v,C,S,P,V,H,ee){return{name:v,keyPath:C,unique:S,multi:P,auto:V,compound:H,src:(S&&!ee?"&":"")+(P?"*":"")+(V?"++":"")+Qr(C)}}function Qr(v){return"string"==typeof v?v:v?"["+[].join.call(v,"+")+"]":""}function Io(v,C,S){return{name:v,primKey:C,indexes:S,mappedClass:null,idxByName:(P=function(V){return[V.name,V]},S.reduce(function(V,H,ee){return(ee=P(H))&&(V[ee[0]]=ee[1]),V},{}))};var P}var Es=function(v){try{return v.only([[]]),Es=function(){return[[]]},[[]]}catch{return Es=function(){return"\uffff"},"\uffff"}};function oo(v){return null==v?function(){}:"string"==typeof v?1===(C=v).split(".").length?function(S){return S[C]}:function(S){return Fe(S,C)}:function(S){return Fe(S,v)};var C}function Do(v){return[].slice.call(v)}var Hs=0;function zs(v){return null==v?":id":"string"==typeof v?v:"[".concat(v.join("+"),"]")}function so(v,C,$e){function P(He){if(3===He.type)return null;if(4===He.type)throw new Error("Cannot convert never type to IDBKeyRange");var Le=He.lower,Xe=He.upper,Ze=He.lowerOpen;return He=He.upperOpen,void 0===Le?void 0===Xe?null:C.upperBound(Xe,!!He):void 0===Xe?C.lowerBound(Le,!!Ze):C.bound(Le,Xe,!!Ze,!!He)}var H,ee,ye,Pe=(ee=$e,ye=Do((H=v).objectStoreNames),tt={schema:{name:H.name,tables:ye.map(function(nt){return ee.objectStore(nt)}).map(function(nt){var Le=nt.keyPath,He=nt.autoIncrement,Xe=le(Le),Ze={};return He={name:nt.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:null==Le,compound:Xe,keyPath:Le,autoIncrement:He,unique:!0,extractKey:oo(Le)},indexes:Do(nt.indexNames).map(function(ht){return nt.index(ht)}).map(function(Et){var rt=Et.unique,Ft=Et.multiEntry;return Ft={name:Et.name,compound:le(Et=Et.keyPath),keyPath:Et,unique:rt,multiEntry:Ft,extractKey:oo(Et)},Ze[zs(Et)]=Ft}),getIndexByKeyPath:function(ht){return Ze[zs(ht)]}},Ze[":id"]=He.primaryKey,null!=Le&&(Ze[zs(Le)]=He.primaryKey),He})},hasGetAll:0<ye.length&&"getAll"in ee.objectStore(ye[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}).hasGetAll,tt=($e=tt.schema).tables.map(function V(nt){var Le,Xe=nt.name;return{name:Xe,schema:nt,mutate:function(Ze){var He=Ze.trans,ht=Ze.type,qe=Ze.keys,rt=Ze.values,Et=Ze.range;return new Promise(function(Ft,xt){Ft=gn(Ft);var Vt=He.objectStore(Xe),Wt=null==Vt.keyPath,qt="put"===ht||"add"===ht;if(!qt&&"delete"!==ht&&"deleteRange"!==ht)throw new Error("Invalid operation type: "+ht);var vt,An=(qe||rt||{length:1}).length;if(qe&&rt&&qe.length!==rt.length)throw new Error("Given keys array must have same length as given values array.");if(0===An)return Ft({numFailures:0,failures:{},results:[],lastResult:void 0});function kn(Ni){++Xs,Nt(Ni)}var bn=[],Ln=[],Xs=0;if("deleteRange"===ht){if(4===Et.type)return Ft({numFailures:Xs,failures:Ln,results:[],lastResult:void 0});bn.push(vt=3===Et.type?Vt.clear():Vt.delete(P(Et)))}else{var Un=(Wt=qt?Wt?[rt,qe]:[rt,null]:[qe,null])[0],di=Wt[1];if(qt)for(var ii=0;ii<An;++ii)bn.push(vt=di&&void 0!==di[ii]?Vt[ht](Un[ii],di[ii]):Vt[ht](Un[ii])),vt.onerror=kn;else for(ii=0;ii<An;++ii)bn.push(vt=Vt[ht](Un[ii])),vt.onerror=kn}function ya(Ni){Ni=Ni.target.result,bn.forEach(function(Is,za){return null!=Is.error&&(Ln[za]=Is.error)}),Ft({numFailures:Xs,failures:Ln,results:"delete"===ht?qe:bn.map(function(Is){return Is.result}),lastResult:Ni})}vt.onerror=function(Ni){kn(Ni),ya(Ni)},vt.onsuccess=ya})},getMany:function(Ze){var He=Ze.trans,ht=Ze.keys;return new Promise(function(qe,rt){qe=gn(qe);for(var Et,Ft=He.objectStore(Xe),xt=ht.length,Vt=new Array(xt),Wt=0,qt=0,vt=function(bn){Vt[(bn=bn.target)._pos]=bn.result,++qt===Wt&&qe(Vt)},An=dt(rt),kn=0;kn<xt;++kn)null!=ht[kn]&&((Et=Ft.get(ht[kn]))._pos=kn,Et.onsuccess=vt,Et.onerror=An,++Wt);0===Wt&&qe(Vt)})},get:function(Ze){var He=Ze.trans,ht=Ze.key;return new Promise(function(qe,rt){qe=gn(qe);var Et=He.objectStore(Xe).get(ht);Et.onsuccess=function(Ft){return qe(Ft.target.result)},Et.onerror=dt(rt)})},query:(Le=Pe,function(Ze){return new Promise(function(He,ht){He=gn(He);var qe,rt,Et,Ft=Ze.values,xt=Ze.limit,Vt=xt===1/0?void 0:xt,qt=(vt=Ze.query).index,vt=vt.range,Wt=(Wt=Ze.trans).objectStore(Xe);if(qt=qt.isPrimaryKey?Wt:Wt.index(qt.name),vt=P(vt),0===xt)return He({result:[]});Le?((Vt=Ft?qt.getAll(vt,Vt):qt.getAllKeys(vt,Vt)).onsuccess=function(An){return He({result:An.target.result})},Vt.onerror=dt(ht)):(qe=0,rt=!Ft&&"openKeyCursor"in qt?qt.openKeyCursor(vt):qt.openCursor(vt),Et=[],rt.onsuccess=function(An){var kn=rt.result;return kn?(Et.push(Ft?kn.value:kn.primaryKey),++qe===xt?He({result:Et}):void kn.continue()):He({result:Et})},rt.onerror=dt(ht))})}),openCursor:function(Ze){var He=Ze.trans,ht=Ze.values,qe=Ze.query,rt=Ze.reverse,Et=Ze.unique;return new Promise(function(Ft,xt){Ft=gn(Ft);var qt=qe.index,Vt=qe.range,Wt=He.objectStore(Xe),vt=(Wt=qt.isPrimaryKey?Wt:Wt.index(qt.name),qt=rt?Et?"prevunique":"prev":Et?"nextunique":"next",!ht&&"openKeyCursor"in Wt?Wt.openKeyCursor(P(Vt),qt):Wt.openCursor(P(Vt),qt));vt.onerror=dt(xt),vt.onsuccess=gn(function(An){var kn,bn,Ln,Xs,Un=vt.result;Un?(Un.___id=++Hs,Un.done=!1,kn=Un.continue.bind(Un),bn=(bn=Un.continuePrimaryKey)&&bn.bind(Un),Ln=Un.advance.bind(Un),Xs=function(){throw new Error("Cursor not stopped")},Un.trans=He,Un.stop=Un.continue=Un.continuePrimaryKey=Un.advance=function(){throw new Error("Cursor not started")},Un.fail=gn(xt),Un.next=function(){var di=this,ii=1;return this.start(function(){return ii--?di.continue():di.stop()}).then(function(){return di})},Un.start=function(di){function ii(){if(vt.result)try{di()}catch(Ni){Un.fail(Ni)}else Un.done=!0,Un.start=function(){throw new Error("Cursor behind last entry")},Un.stop()}var ya=new Promise(function(Ni,Is){Ni=gn(Ni),vt.onerror=dt(Is),Un.fail=Is,Un.stop=function(za){Un.stop=Un.continue=Un.continuePrimaryKey=Un.advance=Xs,Ni(za)}});return vt.onsuccess=gn(function(Ni){vt.onsuccess=ii,ii()}),Un.continue=kn,Un.continuePrimaryKey=bn,Un.advance=Ln,ii(),ya},Ft(Un)):Ft(null)},xt)})},count:function(Ze){var He=Ze.query,ht=Ze.trans,qe=He.index,rt=He.range;return new Promise(function(Et,Ft){var xt=ht.objectStore(Xe),Vt=qe.isPrimaryKey?xt:xt.index(qe.name);(Vt=(xt=P(rt))?Vt.count(xt):Vt.count()).onsuccess=gn(function(Wt){return Et(Wt.target.result)}),Vt.onerror=dt(Ft)})}}}),Se={};return tt.forEach(function(nt){return Se[nt.name]=nt}),{stack:"dbcore",transaction:v.transaction.bind(v),table:function(nt){if(!Se[nt])throw new Error("Table '".concat(nt,"' not found"));return Se[nt]},MIN_KEY:-1/0,MAX_KEY:Es(C),schema:$e}}function yc(v,P){P=function $a(v,C,S,P){return{dbcore:(P=so(C,S.IDBKeyRange,P),v.dbcore.reduce(function(H,ee){return ee=ee.create,R(R({},H),ee(H))},P))}}(v._middlewares,P.db,v._deps,P),v.core=P.dbcore,v.tables.forEach(function(V){var H=V.name;v.core.schema.tables.some(function(ee){return ee.name===H})&&(V.core=v.core.table(H),v[H]instanceof v.Table&&(v[H].core=V.core))})}function tl(v,C,S,P){S.forEach(function(V){var H=P[V];C.forEach(function(ee){var ye=function $e(Pe,tt){return Ne(Pe,tt)||(Pe=l(Pe))&&$e(Pe,tt)}(ee,V);(!ye||"value"in ye&&void 0===ye.value)&&(ee===v.Transaction.prototype||ee instanceof v.Transaction?Y(ee,V,{get:function(){return this.table(V)},set:function($e){Be(this,V,{value:$e,writable:!0,configurable:!0,enumerable:!0})}}):ee[V]=new v.Table(V,H))})})}function bc(v,C){C.forEach(function(S){for(var P in S)S[P]instanceof v.Table&&delete S[P]})}function lu(v,C){return v._cfg.version-C._cfg.version}function Xt(v,C){var S,P={del:[],add:[],change:[]};for(S in v)C[S]||P.del.push(S);for(S in C){var V=v[S],H=C[S];if(V){var ee={name:S,def:H,recreate:!1,del:[],add:[],change:[]};if(""+(V.primKey.keyPath||"")!=""+(H.primKey.keyPath||"")||V.primKey.auto!==H.primKey.auto)ee.recreate=!0,P.change.push(ee);else{var ye=V.idxByName,$e=H.idxByName,Pe=void 0;for(Pe in ye)$e[Pe]||ee.del.push(Pe);for(Pe in $e){var tt=ye[Pe],Se=$e[Pe];tt?tt.src!==Se.src&&ee.change.push(Se):ee.add.push(Se)}(0<ee.del.length||0<ee.add.length||0<ee.change.length)&&P.change.push(ee)}}else P.add.push([S,H])}return P}function Gs(v,C,S,P){var V=v.db.createObjectStore(C,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return P.forEach(function(H){return Ec(V,H)}),V}function pa(v,C){fe(v).forEach(function(S){C.db.objectStoreNames.contains(S)||(Ht&&console.debug("Dexie: Creating missing table",S),Gs(C,S,v[S].primKey,v[S].indexes))})}function Ec(v,C){v.createIndex(C.name,C.keyPath,{unique:C.unique,multiEntry:C.multi})}function uu(v,C,S){var P={};return ze(C.objectStoreNames,0).forEach(function(V){for(var H=S.objectStore(V),ee=Xr(Qr(Pe=H.keyPath),Pe||"",!0,!1,!!H.autoIncrement,Pe&&"string"!=typeof Pe,!0),ye=[],$e=0;$e<H.indexNames.length;++$e){var Pe=(tt=H.index(H.indexNames[$e])).keyPath,tt=Xr(tt.name,Pe,!!tt.unique,!!tt.multiEntry,!1,Pe&&"string"!=typeof Pe,!1);ye.push(tt)}P[V]=Io(V,ee,ye)}),P}function du(v,C,S){for(var P=S.db.objectStoreNames,V=0;V<P.length;++V){var H=P[V],ee=S.objectStore(H);v._hasGetAll="getAll"in ee;for(var ye=0;ye<ee.indexNames.length;++ye){var $e=ee.indexNames[ye],Pe=ee.index($e).keyPath,tt="string"==typeof Pe?Pe:"["+ze(Pe).join("+")+"]";!C[H]||(Pe=C[H].idxByName[tt])&&(Pe.name=$e,delete C[H].idxByName[tt],C[H].idxByName[$e]=Pe)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&re.WorkerGlobalScope&&re instanceof re.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(v._hasGetAll=!1)}function nl(v){return v.split(",").map(function(C,S){var P=(C=C.trim()).replace(/([&*]|\+\+)/g,""),V=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return Xr(P,V||null,/\&/.test(C),/\*/.test(C),/\+\+/.test(C),le(V),0===S)})}var ws=(ri.prototype._parseStoresSpec=function(v,C){fe(v).forEach(function(S){if(null!==v[S]){var P=nl(v[S]),V=P.shift();if(V.unique=!0,V.multi)throw new q.Schema("Primary key cannot be multi-valued");P.forEach(function(H){if(H.auto)throw new q.Schema("Only primary key can be marked as autoIncrement (++)");if(!H.keyPath)throw new q.Schema("Index must have a name and cannot be an empty string")}),C[S]=Io(S,V,P)}})},ri.prototype.stores=function(S){var C=this.db;this._cfg.storesSource=this._cfg.storesSource?L(this._cfg.storesSource,S):S;var P={},V={};return(S=C._versions).forEach(function(H){L(P,H._cfg.storesSource),V=H._cfg.dbschema={},H._parseStoresSpec(P,V)}),C._dbSchema=V,bc(C,[C._allTables,C,C.Transaction.prototype]),tl(C,[C._allTables,C,C.Transaction.prototype,this._cfg.tables],fe(V),V),C._storeNames=fe(V),this},ri.prototype.upgrade=function(v){return this._cfg.contentUpgrade=an(this._cfg.contentUpgrade||ae,v),this},ri);function ri(){}function ma(v,C){var S=v._dbNamesDB;return S||(S=v._dbNamesDB=new Ws(mi,{addons:[],indexedDB:v,IDBKeyRange:C})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function Ks(v){return v&&"function"==typeof v.databases}function hu(v){return Wn(function(){return jt.letThrough=!0,v()})}function rl(v){return!("from"in v)}var gr=function(v,C){if(!this){var S=new gr;return v&&"d"in v&&L(S,v),S}L(this,arguments.length?{d:1,from:v,to:1<arguments.length?C:v}:{d:0})};function fu(v,C,S){var P=Hn(C,S);if(!isNaN(P)){if(0<P)throw RangeError();if(rl(v))return L(v,{from:C,to:S,d:1});var V=v.l;if(P=v.r,Hn(S,v.from)<0)return V?fu(V,C,S):v.l={from:C,to:S,d:1,l:null,r:null},ar(v);if(0<Hn(C,v.to))return P?fu(P,C,S):v.r={from:C,to:S,d:1,l:null,r:null},ar(v);Hn(C,v.from)<0&&(v.from=C,v.l=null,v.d=P?P.d+1:1),0<Hn(S,v.to)&&(v.to=S,v.r=null,v.d=v.l?v.l.d+1:1),S=!v.r,V&&!v.l&&Sr(v,V),P&&S&&Sr(v,P)}}function Sr(v,C){rl(C)||function S(P,$e){var H=$e.from,ee=$e.to,ye=$e.l;$e=$e.r,fu(P,H,ee),ye&&S(P,ye),$e&&S(P,$e)}(v,C)}function yf(v,C){var S=gd(C),P=S.next();if(P.done)return!1;for(var V=P.value,H=gd(v),ee=H.next(V.from),ye=ee.value;!P.done&&!ee.done;){if(Hn(ye.from,V.to)<=0&&0<=Hn(ye.to,V.from))return!0;Hn(V.from,ye.from)<0?V=(P=S.next(ye.from)).value:ye=(ee=H.next(V.from)).value}return!1}function gd(v){var C=rl(v)?null:{s:0,n:v};return{next:function(S){for(var P=0<arguments.length;C;)switch(C.s){case 0:if(C.s=1,P)for(;C.n.l&&Hn(S,C.n.from)<0;)C={up:C,n:C.n.l,s:1};else for(;C.n.l;)C={up:C,n:C.n.l,s:1};case 1:if(C.s=2,!P||Hn(S,C.n.to)<=0)return{value:C.n,done:!1};case 2:if(C.n.r){C.s=3,C={up:C,n:C.n.r,s:0};continue}case 3:C=C.up}return{done:!0}}}}function ar(v){var C,S,P=((null===(C=v.r)||void 0===C?void 0:C.d)||0)-((null===(S=v.l)||void 0===S?void 0:S.d)||0),V=1<P?"r":P<-1?"l":"";V&&(C="r"==V?"l":"r",S=R({},v),v.from=(P=v[V]).from,v.to=P.to,v[V]=P[V],S[V]=P[C],(v[C]=S).d=bf(S)),v.d=bf(v)}function bf(S){var C=S.r;return S=S.l,(C?S?Math.max(C.d,S.d):C.d:S?S.d:0)+1}function Gr(v,C){return fe(C).forEach(function(S){v[S]?Sr(v[S],C[S]):v[S]=function P(V){var H,ee,ye={};for(H in V)lt(V,H)&&(ye[H]=!(ee=V[H])||"object"!=typeof ee||st.has(ee.constructor)?ee:P(ee));return ye}(C[S])}),v}function il(v,C){return v.all||C.all||Object.keys(v).some(function(S){return C[S]&&yf(C[S],v[S])})}Ve(gr.prototype,((eo={add:function(v){return Sr(this,v),this},addKey:function(v){return fu(this,v,v),this},addKeys:function(v){var C=this;return v.forEach(function(S){return fu(C,S,S)}),this},hasKey:function(v){var C=gd(this).next(v).value;return C&&Hn(C.from,v)<=0&&0<=Hn(C.to,v)}})[mt]=function(){return gd(this)},eo));var wc={},_d={},Cc=!1;function _n(v){Gr(_d,v),Cc||(Cc=!0,setTimeout(function(){Cc=!1,Ic(_d,!(_d={}))},0))}function Ic(v,C){void 0===C&&(C=!1);var S=new Set;if(v.all)for(var P=0,V=Object.values(wc);P<V.length;P++)ao(ee=V[P],v,S,C);else for(var H in v){var ee,ye=/^idb\:\/\/(.*)\/(.*)\//.exec(H);ye&&(H=ye[1],ye=ye[2],(ee=wc["idb://".concat(H,"/").concat(ye)])&&ao(ee,v,S,C))}S.forEach(function($e){return $e()})}function ao(v,C,S,P){for(var V=[],H=0,ee=Object.entries(v.queries.query);H<ee.length;H++){for(var ye=ee[H],$e=ye[0],Pe=[],tt=0,Se=ye[1];tt<Se.length;tt++){var nt=Se[tt];il(C,nt.obsSet)?nt.subscribers.forEach(function(He){return S.add(He)}):P&&Pe.push(nt)}P&&V.push([$e,Pe])}if(P)for(var Le=0,Xe=V;Le<Xe.length;Le++){var Ze=Xe[Le];v.queries.query[$e=Ze[0]]=Pe=Ze[1]}}function zm(v){var C=v._state,S=v._deps.indexedDB;if(C.isBeingOpened||v.idbdb)return C.dbReadyPromise.then(function(){return C.dbOpenError?pn(C.dbOpenError):v});C.isBeingOpened=!0,C.dbOpenError=null,C.openComplete=!1;var P=C.openCanceller,V=Math.round(10*v.verno),H=!1;function ee(){if(C.openCanceller!==P)throw new q.DatabaseClosed("db.open() was cancelled")}var $e,Pe=C.dbReadyResolve,tt=null,Se=!1;return Pt.race([P,(typeof navigator>"u"?Pt.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(nt){function Le(){return indexedDB.databases().finally(nt)}$e=setInterval(Le,100),Le()}).finally(function(){return clearInterval($e)}):Promise.resolve()).then(function ye(){return new Pt(function(nt,Le){if(ee(),!S)throw new q.MissingAPI;var Xe=v.name,Ze=C.autoSchema||!V?S.open(Xe):S.open(Xe,V);if(!Ze)throw new q.MissingAPI;Ze.onerror=dt(Le),Ze.onblocked=gn(v._fireOnBlocked),Ze.onupgradeneeded=gn(function(He){var ht;tt=Ze.transaction,C.autoSchema&&!v._options.allowEmptyDB?(Ze.onerror=Nt,tt.abort(),Ze.result.close(),(ht=S.deleteDatabase(Xe)).onsuccess=ht.onerror=gn(function(){Le(new q.NoSuchDatabase("Database ".concat(Xe," doesnt exist")))})):(tt.onerror=dt(Le),He=He.oldVersion>Math.pow(2,62)?0:He.oldVersion,Se=He<1,v.idbdb=Ze.result,H&&function md(v,C){pa(v._dbSchema,C),C.db.version%10!=0||C.objectStoreNames.contains("$meta")||C.db.createObjectStore("$meta").add(Math.ceil(C.db.version/10-1),"version");var S=uu(0,v.idbdb,C);du(v,v._dbSchema,C);for(var P=0,V=Xt(S,v._dbSchema).change;P<V.length;P++){var H=function(ee){if(ee.change.length||ee.recreate)return console.warn("Unable to patch indexes of table ".concat(ee.name," because it has changes on the type of index or primary key.")),{value:void 0};var ye=C.objectStore(ee.name);ee.add.forEach(function($e){Ht&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ee.name,".").concat($e.src)),Ec(ye,$e)})}(V[P]);if("object"==typeof H)return H.value}}(v,tt),function vf(v,C,S,P){var V=v._dbSchema;S.objectStoreNames.contains("$meta")&&!V.$meta&&(V.$meta=Io("$meta",nl("")[0],[]),v._storeNames.push("$meta"));var H=v._createTransaction("readwrite",v._storeNames,V);H.create(S),H._completion.catch(P);var ee=H._reject.bind(H),ye=jt.transless||jt;Wn(function(){return jt.trans=H,jt.transless=ye,0!==C?(yc(v,S),Pe=C,(($e=H).storeNames.includes("$meta")?$e.table("$meta").get("version").then(function(tt){return tt??Pe}):Pt.resolve(Pe)).then(function(tt){return nt=tt,Le=H,Ze=[],tt=(Se=v)._versions,He=Se._dbSchema=uu(0,Se.idbdb,Xe=S),0!==(tt=tt.filter(function(ht){return ht._cfg.version>=nt})).length?(tt.forEach(function(ht){Ze.push(function(){var qe=He,rt=ht._cfg.dbschema;du(Se,qe,Xe),du(Se,rt,Xe),He=Se._dbSchema=rt;var Et=Xt(qe,rt);Et.add.forEach(function(qt){Gs(Xe,qt[0],qt[1].primKey,qt[1].indexes)}),Et.change.forEach(function(qt){if(qt.recreate)throw new q.Upgrade("Not yet support for changing primary key");var vt=Xe.objectStore(qt.name);qt.add.forEach(function(An){return Ec(vt,An)}),qt.change.forEach(function(An){vt.deleteIndex(An.name),Ec(vt,An)}),qt.del.forEach(function(An){return vt.deleteIndex(An)})});var Ft=ht._cfg.contentUpgrade;if(Ft&&ht._cfg.version>nt){yc(Se,Xe),Le._memoizedTables={};var xt=Ae(rt);Et.del.forEach(function(qt){xt[qt]=qe[qt]}),bc(Se,[Se.Transaction.prototype]),tl(Se,[Se.Transaction.prototype],fe(xt),xt),Le.schema=xt;var Vt,Wt=hn(Ft);return Wt&&Lo(),Et=Pt.follow(function(){var qt;(Vt=Ft(Le))&&Wt&&(qt=Di.bind(null,null),Vt.then(qt,qt))}),Vt&&"function"==typeof Vt.then?Pt.resolve(Vt):Et.then(function(){return Vt})}}),Ze.push(function(qe){var rt,Et;rt=ht._cfg.dbschema,[].slice.call((Et=qe).db.objectStoreNames).forEach(function(xt){return null==rt[xt]&&Et.db.deleteObjectStore(xt)}),bc(Se,[Se.Transaction.prototype]),tl(Se,[Se.Transaction.prototype],Se._storeNames,Se._dbSchema),Le.schema=Se._dbSchema}),Ze.push(function(qe){Se.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Se.idbdb.version/10)===ht._cfg.version?(Se.idbdb.deleteObjectStore("$meta"),delete Se._dbSchema.$meta,Se._storeNames=Se._storeNames.filter(function(rt){return"$meta"!==rt})):qe.objectStore("$meta").put(ht._cfg.version,"version"))})}),function ht(){return Ze.length?Pt.resolve(Ze.shift()(Le.idbtrans)).then(ht):Pt.resolve()}().then(function(){pa(He,Xe)})):Pt.resolve();var Se,nt,Le,Xe,Ze,He}).catch(ee)):(fe(V).forEach(function(tt){Gs(S,tt,V[tt].primKey,V[tt].indexes)}),yc(v,S),void Pt.follow(function(){return v.on.populate.fire(H)}).catch(ee));var $e,Pe})}(v,He/10,tt,Le))},Le),Ze.onsuccess=gn(function(){tt=null;var He,ht,qe,rt,Et,Ft=v.idbdb=Ze.result,xt=ze(Ft.objectStoreNames);if(0<xt.length)try{var Vt=Ft.transaction(1===(rt=xt).length?rt[0]:rt,"readonly");if(C.autoSchema)qe=Vt,(He=v).verno=(ht=Ft).version/10,qe=He._dbSchema=uu(0,ht,qe),He._storeNames=ze(ht.objectStoreNames,0),tl(He,[He._allTables],fe(qe),qe);else if(du(v,v._dbSchema,Vt),((Et=Xt(uu(0,(Et=v).idbdb,Vt),Et._dbSchema)).add.length||Et.change.some(function(Wt){return Wt.add.length||Wt.change.length}))&&!H)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Ft.close(),V=Ft.version+1,H=!0,nt(ye());yc(v,Vt)}catch{}ys.push(v),Ft.onversionchange=gn(function(Wt){C.vcFired=!0,v.on("versionchange").fire(Wt)}),Ft.onclose=gn(function(Wt){v.on("close").fire(Wt)}),Se&&(Vt=Xe,Ft=(Et=v._deps).indexedDB,Et=Et.IDBKeyRange,Ks(Ft)||Vt===mi||ma(Ft,Et).put({name:Vt}).catch(ae)),nt()},Le)}).catch(function(nt){switch(nt?.name){case"UnknownError":if(0<C.PR1398_maxLoop)return C.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ye();break;case"VersionError":if(0<V)return V=0,ye()}return Pt.reject(nt)})})]).then(function(){return ee(),C.onReadyBeingFired=[],Pt.resolve(hu(function(){return v.on.ready.fire(v.vip)})).then(function nt(){if(0<C.onReadyBeingFired.length){var Le=C.onReadyBeingFired.reduce(an,ae);return C.onReadyBeingFired=[],Pt.resolve(hu(function(){return Le(v.vip)})).then(nt)}})}).finally(function(){C.openCanceller===P&&(C.onReadyBeingFired=null,C.isBeingOpened=!1)}).catch(function(nt){C.dbOpenError=nt;try{tt&&tt.abort()}catch{}return P===C.openCanceller&&v._close(),pn(nt)}).finally(function(){C.openComplete=!0,Pe()}).then(function(){var nt;return Se&&(nt={},v.tables.forEach(function(Le){Le.schema.indexes.forEach(function(Xe){Xe.name&&(nt["idb://".concat(v.name,"/").concat(Le.name,"/").concat(Xe.name)]=new gr(-1/0,[[[]]]))}),nt["idb://".concat(v.name,"/").concat(Le.name,"/")]=nt["idb://".concat(v.name,"/").concat(Le.name,"/:dels")]=new gr(-1/0,[[[]]])}),Xn(In).fire(nt),Ic(nt,!0)),v})}function vd(v){function C(H){return v.next(H)}var S=V(C),P=V(function(H){return v.throw(H)});function V(H){return function($e){var ye=H($e);return $e=ye.value,ye.done?$e:$e&&"function"==typeof $e.then?$e.then(S,P):le($e)?Promise.all($e).then(S,P):S($e)}}return V(C)()}function yd(v,C,S){for(var P=le(v)?v.slice():[v],V=0;V<S;++V)P.push(C);return P}var ga={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(v){return R(R({},v),{table:function(C){var S=v.table(C),P=S.schema,V={},H=[];function ee(Se,nt,Le){var Xe=zs(Se),Ze=V[Xe]=V[Xe]||[],He=null==Se?0:"string"==typeof Se?1:Se.length,ht=0<nt;return ht=R(R({},Le),{name:ht?"".concat(Xe,"(virtual-from:").concat(Le.name,")"):Le.name,lowLevelIndex:Le,isVirtual:ht,keyTail:nt,keyLength:He,extractKey:oo(Se),unique:!ht&&Le.unique}),Ze.push(ht),ht.isPrimaryKey||H.push(ht),1<He&&ee(2===He?Se[0]:Se.slice(0,He-1),nt+1,Le),Ze.sort(function(qe,rt){return qe.keyTail-rt.keyTail}),ht}C=ee(P.primaryKey.keyPath,0,P.primaryKey),V[":id"]=[C];for(var ye=0,$e=P.indexes;ye<$e.length;ye++){var Pe=$e[ye];ee(Pe.keyPath,0,Pe)}function tt(Se){var nt,Le=Se.query.index;return Le.isVirtual?R(R({},Se),{query:{index:Le.lowLevelIndex,range:(nt=Se.query.range,Le=Le.keyTail,{type:1===nt.type?2:nt.type,lower:yd(nt.lower,nt.lowerOpen?v.MAX_KEY:v.MIN_KEY,Le),lowerOpen:!0,upper:yd(nt.upper,nt.upperOpen?v.MIN_KEY:v.MAX_KEY,Le),upperOpen:!0})}}):Se}return R(R({},S),{schema:R(R({},P),{primaryKey:C,indexes:H,getIndexByKeyPath:function(Se){return(Se=V[zs(Se)])&&Se[0]}}),count:function(Se){return S.count(tt(Se))},query:function(Se){return S.query(tt(Se))},openCursor:function(Se){var nt=Se.query.index,Le=nt.keyTail,Ze=nt.keyLength;return nt.isVirtual?S.openCursor(tt(Se)).then(function(ht){return ht&&function He(ht){return Object.create(ht,{continue:{value:function(qe){null!=qe?ht.continue(yd(qe,Se.reverse?v.MAX_KEY:v.MIN_KEY,Le)):Se.unique?ht.continue(ht.key.slice(0,Ze).concat(Se.reverse?v.MIN_KEY:v.MAX_KEY,Le)):ht.continue()}},continuePrimaryKey:{value:function(qe,rt){ht.continuePrimaryKey(yd(qe,v.MAX_KEY,Le),rt)}},primaryKey:{get:function(){return ht.primaryKey}},key:{get:function(){var qe=ht.key;return 1===Ze?qe[0]:qe.slice(0,Ze)}},value:{get:function(){return ht.value}}})}(ht)}):S.openCursor(Se)}})}})}};function pu(v,C,S,P){return S=S||{},P=P||"",fe(v).forEach(function(V){var H,ee,ye;lt(C,V)?(ee=C[V],"object"==typeof(H=v[V])&&"object"==typeof ee&&H&&ee?(ye=Q(H))!==Q(ee)?S[P+V]=C[V]:"Object"===ye?pu(H,ee,S,P+V+"."):H!==ee&&(S[P+V]=C[V]):H!==ee&&(S[P+V]=C[V])):S[P+V]=void 0}),fe(C).forEach(function(V){lt(v,V)||(S[P+V]=C[V])}),S}function mu(v,C){return"delete"===C.type?C.keys:C.keys||C.values.map(v.extractKey)}var aI={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(v){return R(R({},v),{table:function(C){var S=v.table(C),P=S.schema.primaryKey;return R(R({},S),{mutate:function(V){var H=jt.trans,ee=H.table(C).hook,ye=ee.deleting,$e=ee.creating,Pe=ee.updating;switch(V.type){case"add":if($e.fire===ae)break;return H._promise("readwrite",function(){return tt(V)},!0);case"put":if($e.fire===ae&&Pe.fire===ae)break;return H._promise("readwrite",function(){return tt(V)},!0);case"delete":if(ye.fire===ae)break;return H._promise("readwrite",function(){return tt(V)},!0);case"deleteRange":if(ye.fire===ae)break;return H._promise("readwrite",function(){return function Se(nt,Le,Xe){return S.query({trans:nt,values:!1,query:{index:P,range:Le},limit:Xe}).then(function(Ze){var He=Ze.result;return tt({type:"delete",keys:He,trans:nt}).then(function(ht){return 0<ht.numFailures?Promise.reject(ht.failures[0]):He.length<Xe?{failures:[],numFailures:0,lastResult:void 0}:Se(nt,R(R({},Le),{lower:He[He.length-1],lowerOpen:!0}),Xe)})})}(V.trans,V.range,1e4)},!0)}return S.mutate(V);function tt(Se){var nt,Le,Xe,Ze=jt.trans,He=Se.keys||mu(P,Se);if(!He)throw new Error("Keys missing");return"delete"!==(Se="add"===Se.type||"put"===Se.type?R(R({},Se),{keys:He}):R({},Se)).type&&(Se.values=J([],Se.values,!0)),Se.keys&&(Se.keys=J([],Se.keys,!0)),nt=S,Xe=He,("add"===(Le=Se).type?Promise.resolve([]):nt.getMany({trans:Le.trans,keys:Xe,cache:"immutable"})).then(function(ht){var qe=He.map(function(rt,Et){var Ft,xt,Vt,Wt=ht[Et],qt={onerror:null,onsuccess:null};return"delete"===Se.type?ye.fire.call(qt,rt,Wt,Ze):"add"===Se.type||void 0===Wt?(Ft=$e.fire.call(qt,rt,Se.values[Et],Ze),null==rt&&null!=Ft&&(Se.keys[Et]=rt=Ft,P.outbound||Me(Se.values[Et],P.keyPath,rt))):(Ft=pu(Wt,Se.values[Et]),(xt=Pe.fire.call(qt,Ft,rt,Wt,Ze))&&(Vt=Se.values[Et],Object.keys(xt).forEach(function(vt){lt(Vt,vt)?Vt[vt]=xt[vt]:Me(Vt,vt,xt[vt])}))),qt});return S.mutate(Se).then(function(rt){for(var Et=rt.failures,Ft=rt.results,xt=rt.numFailures,Vt=(rt=rt.lastResult,0);Vt<He.length;++Vt){var Wt=(Ft||He)[Vt],qt=qe[Vt];null==Wt?qt.onerror&&qt.onerror(Et[Vt]):qt.onsuccess&&qt.onsuccess("put"===Se.type&&ht[Vt]?Se.values[Vt]:Wt)}return{failures:Et,results:Ft,numFailures:xt,lastResult:rt}}).catch(function(rt){return qe.forEach(function(Et){return Et.onerror&&Et.onerror(rt)}),Promise.reject(rt)})})}}})}})}};function Ny(v,C,S){try{if(!C||C.keys.length<v.length)return null;for(var P=[],V=0,H=0;V<C.keys.length&&H<v.length;++V)0===Hn(C.keys[V],v[H])&&(P.push(S?_e(C.values[V]):C.values[V]),++H);return P.length===v.length?P:null}catch{return null}}var Vo={stack:"dbcore",level:-1,create:function(v){return{table:function(C){var S=v.table(C);return R(R({},S),{getMany:function(P){if(!P.cache)return S.getMany(P);var V=Ny(P.keys,P.trans._cache,"clone"===P.cache);return V?Pt.resolve(V):S.getMany(P).then(function(H){return P.trans._cache={keys:P.keys,values:"clone"===P.cache?_e(H):H},H})},mutate:function(P){return"add"!==P.type&&(P.trans._cache=null),S.mutate(P)}})}}}};function Ef(v,C){return"readonly"===v.trans.mode&&!!v.subscr&&!v.trans.explicit&&"disabled"!==v.trans.db._options.cache&&!C.schema.primaryKey.outbound}function wf(v,C){switch(v){case"query":return C.values&&!C.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var bd={stack:"dbcore",level:0,name:"Observability",create:function(v){var C=v.schema.name,S=new gr(v.MIN_KEY,v.MAX_KEY);return R(R({},v),{transaction:function(P,V,H){if(jt.subscr&&"readonly"!==V)throw new q.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(jt.querier));return v.transaction(P,V,H)},table:function(P){var V=v.table(P),H=V.schema,ee=H.primaryKey,Se=H.indexes,ye=ee.extractKey,$e=ee.outbound,Pe=ee.autoIncrement&&Se.filter(function(Le){return Le.compound&&Le.keyPath.includes(ee.keyPath)}),tt=R(R({},V),{mutate:function(Le){function Xe(vt){return vt="idb://".concat(C,"/").concat(P,"/").concat(vt),rt[vt]||(rt[vt]=new gr)}var Ze,He,ht,qe=Le.trans,rt=Le.mutatedParts||(Le.mutatedParts={}),Et=Xe(""),Ft=Xe(":dels"),xt=Le.type,Vt=(qt="deleteRange"===Le.type?[Le.range]:"delete"===Le.type?[Le.keys]:Le.values.length<50?[mu(ee,Le).filter(function(vt){return vt}),Le.values]:[])[0],Wt=qt[1],qt=Le.trans._cache;return le(Vt)?(Et.addKeys(Vt),(qt="delete"===xt||Vt.length===Wt.length?Ny(Vt,qt):null)||Ft.addKeys(Vt),(qt||Wt)&&(Ze=Xe,He=qt,ht=Wt,H.indexes.forEach(function(vt){var An=Ze(vt.name||"");function kn(Ln){return null!=Ln?vt.extractKey(Ln):null}function bn(Ln){return vt.multiEntry&&le(Ln)?Ln.forEach(function(Xs){return An.addKey(Xs)}):An.addKey(Ln)}(He||ht).forEach(function(Ln,di){var Un=He&&kn(He[di]);0!==Hn(Un,di=ht&&kn(ht[di]))&&(null!=Un&&bn(Un),null!=di&&bn(di))})}))):Vt?(Ft.add(Wt={from:Vt.lower,to:Vt.upper}),Et.add(Wt)):(Et.add(S),Ft.add(S),H.indexes.forEach(function(vt){return Xe(vt.name).add(S)})),V.mutate(Le).then(function(vt){return!Vt||"add"!==Le.type&&"put"!==Le.type||(Et.addKeys(vt.results),Pe&&Pe.forEach(function(An){var kn=Le.values.map(function(Ln){return An.extractKey(Ln)}),bn=An.keyPath.findIndex(function(Ln){return Ln===ee.keyPath});vt.results.forEach(function(Ln){return kn[bn]=Ln}),Xe(An.name).addKeys(kn)})),qe.mutatedParts=Gr(qe.mutatedParts||{},rt),vt})}}),nt={get:function(Le){return[ee,new gr(Le.key)]},getMany:function(Le){return[ee,(new gr).addKeys(Le.keys)]},count:Se=function(Xe){var Ze;return[Xe=(Ze=Xe.query).index,new gr(null!==(Xe=(Ze=Ze.range).lower)&&void 0!==Xe?Xe:v.MIN_KEY,null!==(Ze=Ze.upper)&&void 0!==Ze?Ze:v.MAX_KEY)]},query:Se,openCursor:Se};return fe(nt).forEach(function(Le){tt[Le]=function(Xe){var He=!!(Ze=jt.subscr),ht=Ef(jt,V)&&wf(Le,Xe)?Xe.obsSet={}:Ze;if(He){var qe=function(Wt){return Wt="idb://".concat(C,"/").concat(P,"/").concat(Wt),ht[Wt]||(ht[Wt]=new gr)},rt=qe(""),Et=qe(":dels"),Ze=(He=(Ze=nt[Le](Xe))[0],Ze[1]);if(("query"===Le&&He.isPrimaryKey&&!Xe.values?Et:qe(He.name||"")).add(Ze),!He.isPrimaryKey){if("count"!==Le){var Ft="query"===Le&&$e&&Xe.values&&V.query(R(R({},Xe),{values:!1}));return V[Le].apply(this,arguments).then(function(Wt){if("query"===Le){if($e&&Xe.values)return Ft.then(function(kn){return rt.addKeys(kn=kn.result),Wt});var qt=Xe.values?Wt.result.map(ye):Wt.result;(Xe.values?rt:Et).addKeys(qt)}else if("openCursor"===Le){var vt=Wt,An=Xe.values;return vt&&Object.create(vt,{key:{get:function(){return Et.addKey(vt.primaryKey),vt.key}},primaryKey:{get:function(){var kn=vt.primaryKey;return Et.addKey(kn),kn}},value:{get:function(){return An&&rt.addKey(vt.primaryKey),vt.value}}})}return Wt})}Et.add(S)}}return V[Le].apply(this,arguments)}}),tt}})}};function Zi(v,C,S){return 0===S.numFailures?C:"deleteRange"===C.type||S.numFailures===(C.keys?C.keys.length:"values"in C&&C.values?C.values.length:1)?null:(C=R({},C),le(C.keys)&&(C.keys=C.keys.filter(function(V,H){return!(H in S.failures)})),"values"in C&&le(C.values)&&(C.values=C.values.filter(function(V,H){return!(H in S.failures)})),C)}function vn(v,C){return S=v,(void 0===(P=C).lower||(P.lowerOpen?0<Hn(S,P.lower):0<=Hn(S,P.lower)))&&(void 0===C.upper||(C.upperOpen?Hn(v,C.upper)<0:Hn(v,C.upper)<=0));var S,P}function Gm(v,C,nt,P,V,H){if(!nt||0===nt.length)return v;var ee=C.query.index,ye=ee.multiEntry,$e=C.query.range,Pe=P.schema.primaryKey.extractKey,tt=ee.extractKey,Se=(ee.lowLevelIndex||ee).extractKey;return(nt=nt.reduce(function(Le,Xe){var Ze=Le,He=[];if("add"===Xe.type||"put"===Xe.type)for(var ht=new gr,qe=Xe.values.length-1;0<=qe;--qe){var rt,Et=Xe.values[qe],Ft=Pe(Et);ht.hasKey(Ft)||(rt=tt(Et),(ye&&le(rt)?rt.some(function(qt){return vn(qt,$e)}):vn(rt,$e))&&(ht.addKey(Ft),He.push(Et)))}switch(Xe.type){case"add":Ze=Le.concat(C.values?He:He.map(function(vt){return Pe(vt)}));break;case"put":var xt=(new gr).addKeys(Xe.values.map(function(vt){return Pe(vt)}));Ze=Le.filter(function(vt){return!xt.hasKey(C.values?Pe(vt):vt)}).concat(C.values?He:He.map(function(vt){return Pe(vt)}));break;case"delete":var Vt=(new gr).addKeys(Xe.keys);Ze=Le.filter(function(vt){return!Vt.hasKey(C.values?Pe(vt):vt)});break;case"deleteRange":var Wt=Xe.range;Ze=Le.filter(function(vt){return!vn(Pe(vt),Wt)})}return Ze},v))===v?v:(nt.sort(function(Le,Xe){return Hn(Se(Le),Se(Xe))||Hn(Pe(Le),Pe(Xe))}),C.limit&&C.limit<1/0&&(nt.length>C.limit?nt.length=C.limit:v.length===C.limit&&nt.length<C.limit&&(V.dirty=!0)),H?Object.freeze(nt):nt)}function Km(v,C){return 0===Hn(v.lower,C.lower)&&0===Hn(v.upper,C.upper)&&!!v.lowerOpen==!!C.lowerOpen&&!!v.upperOpen==!!C.upperOpen}var Ed={stack:"dbcore",level:0,name:"Cache",create:function(v){var C=v.schema.name;return R(R({},v),{transaction:function(S,P,V){var H,ee,ye=v.transaction(S,P,V);return"readwrite"===P&&(ee=(H=new AbortController).signal,ye.addEventListener("abort",(V=function($e){return function(){if(H.abort(),"readwrite"===P){for(var Pe=new Set,tt=0,Se=S;tt<Se.length;tt++){var nt=Se[tt],Le=wc["idb://".concat(C,"/").concat(nt)];if(Le){var Xe=v.table(nt),Ze=Le.optimisticOps.filter(function(An){return An.trans===ye});if(ye._explicit&&$e&&ye.mutatedParts)for(var He=0,ht=Object.values(Le.queries.query);He<ht.length;He++)for(var qe=0,rt=(xt=ht[He]).slice();qe<rt.length;qe++)il((Vt=rt[qe]).obsSet,ye.mutatedParts)&&(At(xt,Vt),Vt.subscribers.forEach(function(An){return Pe.add(An)}));else if(0<Ze.length){Le.optimisticOps=Le.optimisticOps.filter(function(An){return An.trans!==ye});for(var Et=0,Ft=Object.values(Le.queries.query);Et<Ft.length;Et++)for(var xt,Vt,Wt,qt=0,vt=(xt=Ft[Et]).slice();qt<vt.length;qt++)null!=(Vt=vt[qt]).res&&ye.mutatedParts&&($e&&!Vt.dirty?(Wt=Object.isFrozen(Vt.res),Wt=Gm(Vt.res,Vt.req,Ze,Xe,Vt,Wt),Vt.dirty?(At(xt,Vt),Vt.subscribers.forEach(function(An){return Pe.add(An)})):Wt!==Vt.res&&(Vt.res=Wt,Vt.promise=Pt.resolve({result:Wt}))):(Vt.dirty&&At(xt,Vt),Vt.subscribers.forEach(function(An){return Pe.add(An)})))}}}Pe.forEach(function(An){return An()})}}})(!1),{signal:ee}),ye.addEventListener("error",V(!1),{signal:ee}),ye.addEventListener("complete",V(!0),{signal:ee})),ye},table:function(S){var P=v.table(S),V=P.schema.primaryKey;return R(R({},P),{mutate:function(H){var ee=jt.trans;if(V.outbound||"disabled"===ee.db._options.cache||ee.explicit)return P.mutate(H);var ye=wc["idb://".concat(C,"/").concat(S)];return ye?(ee=P.mutate(H),"add"!==H.type&&"put"!==H.type||!(50<=H.values.length||mu(V,H).some(function($e){return null==$e}))?(ye.optimisticOps.push(H),H.mutatedParts&&_n(H.mutatedParts),ee.then(function($e){0<$e.numFailures&&(At(ye.optimisticOps,H),($e=Zi(0,H,$e))&&ye.optimisticOps.push($e),H.mutatedParts&&_n(H.mutatedParts))}),ee.catch(function(){At(ye.optimisticOps,H),H.mutatedParts&&_n(H.mutatedParts)})):ee.then(function($e){var Pe=Zi(0,R(R({},H),{values:H.values.map(function(Le,Se){var nt;return Me(Le=null!==(nt=V.keyPath)&&void 0!==nt&&nt.includes(".")?_e(Le):R({},Le),V.keyPath,$e.results[Se]),Le})}),$e);ye.optimisticOps.push(Pe),queueMicrotask(function(){return H.mutatedParts&&_n(H.mutatedParts)})}),ee):P.mutate(H)},query:function(H){if(!Ef(jt,P)||!wf("query",H))return P.query(H);var ee="immutable"===(null===(Pe=jt.trans)||void 0===Pe?void 0:Pe.db._options.cache),ye=(Se=jt).requery,$e=Se.signal,Pe=function(Xe,Ze,He,ht){var qe=wc["idb://".concat(Xe,"/").concat(Ze)];if(!qe)return[];if(!(Ze=qe.queries.query))return[null,!1,qe,null];var rt=Ze[(ht.query?ht.query.index.name:null)||""];if(!rt)return[null,!1,qe,null];var Et=rt.find(function(Ft){return Ft.req.limit===ht.limit&&Ft.req.values===ht.values&&Km(Ft.req.query.range,ht.query.range)});return Et?[Et,!0,qe,rt]:[rt.find(function(Ft){return("limit"in Ft.req?Ft.req.limit:1/0)>=ht.limit&&(!ht.values||Ft.req.values)&&function Ji(v,C){return function(S,P,V,H){if(void 0===S)return void 0!==P?-1:0;if(void 0===P)return 1;if(0===(P=Hn(S,P))){if(V&&H)return 0;if(V)return 1;if(H)return-1}return P}(v.lower,C.lower,v.lowerOpen,C.lowerOpen)<=0&&0<=function(S,P,V,H){if(void 0===S)return void 0!==P?1:0;if(void 0===P)return-1;if(0===(P=Hn(S,P))){if(V&&H)return 0;if(V)return-1;if(H)return 1}return P}(v.upper,C.upper,v.upperOpen,C.upperOpen)}(Ft.req.query.range,ht.query.range)}),!1,qe,rt]}(C,S,0,H),tt=Pe[0],Se=Pe[1],nt=Pe[2],Le=Pe[3];return tt&&Se?tt.obsSet=H.obsSet:(Se=P.query(H).then(function(Xe){var Ze=Xe.result;if(tt&&(tt.res=Ze),ee){for(var He=0,ht=Ze.length;He<ht;++He)Object.freeze(Ze[He]);Object.freeze(Ze)}else Xe.result=_e(Ze);return Xe}).catch(function(Xe){return Le&&tt&&At(Le,tt),Promise.reject(Xe)}),tt={obsSet:H.obsSet,promise:Se,subscribers:new Set,type:"query",req:H,dirty:!1},Le?Le.push(tt):(Le=[tt],(nt=nt||(wc["idb://".concat(C,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[H.query.index.name||""]=Le)),function Ha(v,C,S,P){v.subscribers.add(S),P.addEventListener("abort",function(){var V,H;v.subscribers.delete(S),0===v.subscribers.size&&(V=v,H=C,setTimeout(function(){0===V.subscribers.size&&At(H,V)},3e3))})}(tt,Le,ye,$e),tt.promise.then(function(Xe){return{result:Gm(Xe.result,H,nt?.optimisticOps,P,tt,ee)}})}})}})}};function qn(v,C){return new Proxy(v,{get:function(S,P,V){return"db"===P?C:Reflect.get(S,P,V)}})}var Ws=(dr.prototype.version=function(v){if(isNaN(v)||v<.1)throw new q.Type("Given version is not a positive number");if(v=Math.round(10*v)/10,this.idbdb||this._state.isBeingOpened)throw new q.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,v);var C=this._versions,S=C.filter(function(P){return P._cfg.version===v})[0];return S||(S=new this.Version(v),C.push(S),C.sort(lu),S.stores({}),this._state.autoSchema=!1,S)},dr.prototype._whenReady=function(v){var C=this;return this.idbdb&&(this._state.openComplete||jt.letThrough||this._vip)?v():new Pt(function(S,P){if(C._state.openComplete)return P(new q.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return void P(new q.DatabaseClosed);C.open().catch(ae)}C._state.dbReadyPromise.then(S,P)}).then(v)},dr.prototype.use=function(v){var C=v.stack,S=v.create,P=v.level,V=v.name;return V&&this.unuse({stack:C,name:V}),(v=this._middlewares[C]||(this._middlewares[C]=[])).push({stack:C,create:S,level:P??10,name:V}),v.sort(function(H,ee){return H.level-ee.level}),this},dr.prototype.unuse=function(v){var C=v.stack,S=v.name,P=v.create;return C&&this._middlewares[C]&&(this._middlewares[C]=this._middlewares[C].filter(function(V){return P?V.create!==P:!!S&&V.name!==S})),this},dr.prototype.open=function(){var v=this;return li(or,function(){return zm(v)})},dr.prototype._close=function(){var v=this._state,C=ys.indexOf(this);if(0<=C&&ys.splice(C,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}v.isBeingOpened||(v.dbReadyPromise=new Pt(function(S){v.dbReadyResolve=S}),v.openCanceller=new Pt(function(S,P){v.cancelOpen=P}))},dr.prototype.close=function(S){var C=(void 0===S?{disableAutoOpen:!0}:S).disableAutoOpen;S=this._state,C?(S.isBeingOpened&&S.cancelOpen(new q.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new q.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},dr.prototype.delete=function(v){var C=this;void 0===v&&(v={disableAutoOpen:!0});var S=0<arguments.length&&"object"!=typeof arguments[0],P=this._state;return new Pt(function(V,H){function ee(){C.close(v);var ye=C._deps.indexedDB.deleteDatabase(C.name);ye.onsuccess=gn(function(){var $e,Pe,tt;Pe=C.name,tt=($e=C._deps).indexedDB,$e=$e.IDBKeyRange,Ks(tt)||Pe===mi||ma(tt,$e).delete(Pe).catch(ae),V()}),ye.onerror=dt(H),ye.onblocked=C._fireOnBlocked}if(S)throw new q.InvalidArgument("Invalid closeOptions argument to db.delete()");P.isBeingOpened?P.dbReadyPromise.then(ee):ee()})},dr.prototype.backendDB=function(){return this.idbdb},dr.prototype.isOpen=function(){return null!==this.idbdb},dr.prototype.hasBeenClosed=function(){var v=this._state.dbOpenError;return v&&"DatabaseClosed"===v.name},dr.prototype.hasFailed=function(){return null!==this._state.dbOpenError},dr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(dr.prototype,"tables",{get:function(){var v=this;return fe(this._allTables).map(function(C){return v._allTables[C]})},enumerable:!1,configurable:!0}),dr.prototype.transaction=function(){var v=function(C,S,P){var V=arguments.length;if(V<2)throw new q.InvalidArgument("Too few arguments");for(var H=new Array(V-1);--V;)H[V-1]=arguments[V];return P=H.pop(),[C,we(H),P]}.apply(this,arguments);return this._transaction.apply(this,v)},dr.prototype._transaction=function(v,C,S){var P=this,V=jt.trans;V&&V.db===this&&-1===v.indexOf("!")||(V=null);var H,ee,ye=-1!==v.indexOf("?");v=v.replace("!","").replace("?","");try{if(ee=C.map(function(Pe){if("string"!=typeof(Pe=Pe instanceof P.Table?Pe.name:Pe))throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Pe}),"r"==v||v===Va)H=Va;else{if("rw"!=v&&v!=Ur)throw new q.InvalidArgument("Invalid transaction mode: "+v);H=Ur}if(V){if(V.mode===Va&&H===Ur){if(!ye)throw new q.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");V=null}V&&ee.forEach(function(Pe){if(V&&-1===V.storeNames.indexOf(Pe)){if(!ye)throw new q.SubTransaction("Table "+Pe+" not included in parent transaction.");V=null}}),ye&&V&&!V.active&&(V=null)}}catch(Pe){return V?V._promise(null,function(tt,Se){Se(Pe)}):pn(Pe)}var $e=function Pe(tt,Se,nt,Le,Xe){return Pt.resolve().then(function(){var Ze=jt.transless||jt,He=tt._createTransaction(Se,nt,tt._dbSchema,Le);if(He.explicit=!0,Ze={trans:He,transless:Ze},Le)He.idbtrans=Le.idbtrans;else try{He.create(),He.idbtrans._explicit=!0,tt._state.PR1398_maxLoop=3}catch(rt){return rt.name===B.InvalidState&&tt.isOpen()&&0<--tt._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),tt.close({disableAutoOpen:!1}),tt.open().then(function(){return Pe(tt,Se,nt,null,Xe)})):pn(rt)}var ht,qe=hn(Xe);return qe&&Lo(),Ze=Pt.follow(function(){var rt;(ht=Xe.call(He,He))&&(qe?(rt=Di.bind(null,null),ht.then(rt,rt)):"function"==typeof ht.next&&"function"==typeof ht.throw&&(ht=vd(ht)))},Ze),(ht&&"function"==typeof ht.then?Pt.resolve(ht).then(function(rt){return He.active?rt:pn(new q.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ze.then(function(){return ht})).then(function(rt){return Le&&He._resolve(),He._completion.then(function(){return rt})}).catch(function(rt){return He._reject(rt),pn(rt)})})}.bind(null,this,H,ee,V,S);return V?V._promise(H,$e,"lock"):jt.trans?li(jt.transless,function(){return P._whenReady($e)}):this._whenReady($e)},dr.prototype.table=function(v){if(!lt(this._allTables,v))throw new q.InvalidTable("Table ".concat(v," does not exist"));return this._allTables[v]},dr);function dr(v,C){var S=this;this._middlewares={},this.verno=0;var P=dr.dependencies;this._options=C=R({addons:dr.addons,autoOpen:!0,indexedDB:P.indexedDB,IDBKeyRange:P.IDBKeyRange,cache:"cloned"},C),this._deps={indexedDB:C.indexedDB,IDBKeyRange:C.IDBKeyRange},P=C.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var V,H,ee,ye,$e,Pe={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ae,dbReadyPromise:null,cancelOpen:ae,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:C.autoOpen};Pe.dbReadyPromise=new Pt(function(Se){Pe.dbReadyResolve=Se}),Pe.openCanceller=new Pt(function(Se,nt){Pe.cancelOpen=nt}),this._state=Pe,this.name=v,this.on=rs(this,"populate","blocked","versionchange","close",{ready:[an,ae]}),this.on.ready.subscribe=Re(this.on.ready.subscribe,function(Se){return function(nt,Le){dr.vip(function(){var Xe,Ze=S._state;Ze.openComplete?(Ze.dbOpenError||Pt.resolve().then(nt),Le&&Se(nt)):Ze.onReadyBeingFired?(Ze.onReadyBeingFired.push(nt),Le&&Se(nt)):(Se(nt),Xe=S,Le||Se(function He(){Xe.on.ready.unsubscribe(nt),Xe.on.ready.unsubscribe(He)}))})}}),this.Collection=(V=this,js(vc.prototype,function(ht,He){this.db=V;var Le=Er,Xe=null;if(He)try{Le=He()}catch(qe){Xe=qe}var Ze=ht._ctx;this._ctx={table:He=Ze.table,index:Ze.index,isPrimKey:!Ze.index||He.schema.primKey.keyPath&&Ze.index===He.schema.primKey.name,range:Le,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Xe,or:Ze.or,valueMapper:(ht=He.hook.reading.fire)!==Te?ht:null}})),this.Table=(H=this,js(Pi.prototype,function(Se,nt,Le){this.db=H,this._tx=Le,this.name=Se,this.schema=nt,this.hook=H._allTables[Se]?H._allTables[Se].hook:rs(null,{creating:[Mt,ae],reading:[Ct,Te],updating:[nn,ae],deleting:[Ut,ae]})})),this.Transaction=(ee=this,js(mr.prototype,function(Se,nt,Le,Xe,Ze){var He=this;this.db=ee,this.mode=Se,this.storeNames=nt,this.schema=Le,this.chromeTransactionDurability=Xe,this.idbtrans=null,this.on=rs(this,"complete","error","abort"),this.parent=Ze||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Pt(function(ht,qe){He._resolve=ht,He._reject=qe}),this._completion.then(function(){He.active=!1,He.on.complete.fire()},function(ht){var qe=He.active;return He.active=!1,He.on.error.fire(ht),He.parent?He.parent._reject(ht):qe&&He.idbtrans&&He.idbtrans.abort(),pn(ht)})})),this.Version=(ye=this,js(ws.prototype,function(Se){this.db=ye,this._cfg={version:Se,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=($e=this,js(Oe.prototype,function(Se,nt,Le){if(this.db=$e,this._ctx={table:Se,index:":id"===nt?null:nt,or:Le},this._cmp=this._ascending=Hn,this._descending=function(Xe,Ze){return Hn(Ze,Xe)},this._max=function(Xe,Ze){return 0<Hn(Xe,Ze)?Xe:Ze},this._min=function(Xe,Ze){return Hn(Xe,Ze)<0?Xe:Ze},this._IDBKeyRange=$e._deps.IDBKeyRange,!this._IDBKeyRange)throw new q.MissingAPI})),this.on("versionchange",function(Se){0<Se.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(Se){!Se.newVersion||Se.newVersion<Se.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(Se.oldVersion/10))}),this._maxKey=Es(C.IDBKeyRange),this._createTransaction=function(Se,nt,Le,Xe){return new S.Transaction(Se,nt,Le,S._options.chromeTransactionDurability,Xe)},this._fireOnBlocked=function(Se){S.on("blocked").fire(Se),ys.filter(function(nt){return nt.name===S.name&&nt!==S&&!nt._state.vcFired}).map(function(nt){return nt.on("versionchange").fire(Se)})},this.use(Vo),this.use(Ed),this.use(bd),this.use(ga),this.use(aI);var tt=new Proxy(this,{get:function(Se,nt,Le){if("_vip"===nt)return!0;if("table"===nt)return function(Ze){return qn(S.table(Ze),tt)};var Xe=Reflect.get(Se,nt,Le);return Xe instanceof Pi?qn(Xe,tt):"tables"===nt?Xe.map(function(Ze){return qn(Ze,tt)}):"_createTransaction"===nt?function(){return qn(Xe.apply(this,arguments),tt)}:Xe}});this.vip=tt,P.forEach(function(Se){return Se(S)})}eo=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable";var _a,gu=(ol.prototype.subscribe=function(v,C,S){return this._subscribe(v&&"function"!=typeof v?v:{next:v,error:C,complete:S})},ol.prototype[eo]=function(){return this},ol);function ol(v){this._subscribe=v}try{_a={indexedDB:re.indexedDB||re.mozIndexedDB||re.webkitIndexedDB||re.msIndexedDB,IDBKeyRange:re.IDBKeyRange||re.webkitIDBKeyRange}}catch{_a={indexedDB:null,IDBKeyRange:null}}function Cs(v){var C,S=!1,P=new gu(function(V){var ee,H=hn(v),ye=!1,$e={},Pe={},tt={get closed(){return ye},unsubscribe:function(){ye||(ye=!0,ee&&ee.abort(),Se&&Xn.storagemutated.unsubscribe(Le))}};V.start&&V.start(tt);var Se=!1,nt=function(){return Nn(Xe)},Le=function(Ze){Gr($e,Ze),il(Pe,$e)&&nt()},Xe=function(){var Ze,He,ht;!ye&&_a.indexedDB&&($e={},Ze={},ee&&ee.abort(),ee=new AbortController,ht=function(qe){var rt=br();try{H&&Lo();var Et=Wn(v,qe);return Et=H?Et.finally(Di):Et}finally{rt&&ci()}}(He={subscr:Ze,signal:ee.signal,requery:nt,querier:v,trans:null}),Promise.resolve(ht).then(function(qe){S=!0,C=qe,ye||He.signal.aborted||($e={},function(rt){for(var Et in rt)if(lt(rt,Et))return;return 1}(Pe=Ze)||Se||(Xn(In,Le),Se=!0),Nn(function(){return!ye&&V.next&&V.next(qe)}))},function(qe){S=!1,["DatabaseClosedError","AbortError"].includes(qe?.name)||ye||Nn(function(){ye||V.error&&V.error(qe)})}))};return setTimeout(nt,0),tt});return P.hasValue=function(){return S},P.getValue=function(){return C},P}var Bo=Ws;function sl(v){var C=qs;try{qs=!0,Xn.storagemutated.fire(v),Ic(v,!0)}finally{qs=C}}Ve(Bo,R(R({},ie),{delete:function(v){return new Bo(v,{addons:[]}).delete()},exists:function(v){return new Bo(v,{addons:[]}).open().then(function(C){return C.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(v){try{return S=(C=Bo.dependencies).indexedDB,C=C.IDBKeyRange,(Ks(S)?Promise.resolve(S.databases()).then(function(P){return P.map(function(V){return V.name}).filter(function(V){return V!==mi})}):ma(S,C).toCollection().primaryKeys()).then(v)}catch{return pn(new q.MissingAPI)}var C,S},defineClass:function(){return function(v){L(this,v)}},ignoreTransaction:function(v){return jt.trans?li(jt.transless,v):v()},vip:hu,async:function(v){return function(){try{var C=vd(v.apply(this,arguments));return C&&"function"==typeof C.then?C:Pt.resolve(C)}catch(S){return pn(S)}}},spawn:function(v,C,S){try{var P=vd(v.apply(S,C||[]));return P&&"function"==typeof P.then?P:Pt.resolve(P)}catch(V){return pn(V)}},currentTransaction:{get:function(){return jt.trans||null}},waitFor:function(v,C){return C=Pt.resolve("function"==typeof v?Bo.ignoreTransaction(v):v).timeout(C||6e4),jt.trans?jt.trans.waitFor(C):C},Promise:Pt,debug:{get:function(){return Ht},set:function(v){dn(v)}},derive:xe,extend:L,props:Ve,override:Re,Events:rs,on:Xn,liveQuery:Cs,extendObservabilitySet:Gr,getByKeyPath:Fe,setByKeyPath:Me,delByKeyPath:function(v,C){"string"==typeof C?Me(v,C,void 0):"length"in C&&[].map.call(C,function(S){Me(v,S,void 0)})},shallowClone:Ae,deepClone:_e,getObjectDiff:pu,cmp:Hn,asap:ge,minKey:-1/0,addons:[],connections:ys,errnames:B,dependencies:_a,cache:wc,semVer:"4.0.8",version:"4.0.8".split(".").map(function(v){return parseInt(v)}).reduce(function(v,C,S){return v+C/Math.pow(10,2*S)})})),Bo.maxKey=Es(Bo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Xn(In,function(v){qs||(v=new CustomEvent(Fn,{detail:v}),qs=!0,dispatchEvent(v),qs=!1)}),addEventListener(Fn,function(v){v=v.detail,qs||sl(v)}));var va,qs=!1,Dn=function(){};return typeof BroadcastChannel<"u"&&((Dn=function(){(va=new BroadcastChannel(Fn)).onmessage=function(v){return v.data&&sl(v.data)}})(),"function"==typeof va.unref&&va.unref(),Xn(In,function(v){qs||va.postMessage(v)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(v){if(!Ws.disableBfCache&&v.persisted){Ht&&console.debug("Dexie: handling persisted pagehide"),va?.close();for(var C=0,S=ys;C<S.length;C++)S[C].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(v){!Ws.disableBfCache&&v.persisted&&(Ht&&console.debug("Dexie: handling persisted pageshow"),Dn(),sl({all:new gr(-1/0,[[]])}))})),Pt.rejectionMapper=function(v,C){return!v||v instanceof Ge||v instanceof TypeError||v instanceof SyntaxError||!v.name||!Z[v.name]?v:(C=new Z[v.name](C||v.message,v),"stack"in v&&Y(C,"stack",{get:function(){return this.inner.stack}}),C)},dn(Ht),R(Ws,Object.freeze({__proto__:null,Dexie:Ws,liveQuery:Cs,Entity:wo,cmp:Hn,PropModSymbol:Co,PropModification:$s,replacePrefix:function(v,C){return new $s({replacePrefix:[v,C]})},add:function(v){return new $s({add:v})},remove:function(v){return new $s({remove:v})},default:Ws,RangeSet:gr,mergeRanges:Sr,rangesOverlap:yf}),{default:Ws}),Ws}()},4412:(Bt,et,R)=>{"use strict";R.d(et,{t:()=>re});var J=R(1413);class re extends J.B{constructor(le){super(),this._value=le}get value(){return this.getValue()}_subscribe(le){const L=super._subscribe(le);return!L.closed&&le.next(this._value),L}getValue(){const{hasError:le,thrownError:L,_value:l}=this;if(le)throw L;return this._throwIfClosed(),l}next(le){super.next(this._value=le)}}},1985:(Bt,et,R)=>{"use strict";R.d(et,{c:()=>lt});var J=R(7707),re=R(8359),fe=R(3494),le=R(1203),L=R(1026),l=R(8071),De=R(9786);let lt=(()=>{class xe{constructor(oe){oe&&(this._subscribe=oe)}lift(oe){const ze=new xe;return ze.source=this,ze.operator=oe,ze}subscribe(oe,ze,Re){const ke=function Y(xe){return xe&&xe instanceof J.vU||function Be(xe){return xe&&(0,l.T)(xe.next)&&(0,l.T)(xe.error)&&(0,l.T)(xe.complete)}(xe)&&(0,re.Uv)(xe)}(oe)?oe:new J.Ms(oe,ze,Re);return(0,De.Y)(()=>{const{operator:ge,source:Fe}=this;ke.add(ge?ge.call(ke,Fe):Fe?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(oe){try{return this._subscribe(oe)}catch(ze){oe.error(ze)}}forEach(oe,ze){return new(ze=Ve(ze))((Re,ke)=>{const ge=new J.Ms({next:Fe=>{try{oe(Fe)}catch(Me){ke(Me),ge.unsubscribe()}},error:ke,complete:Re});this.subscribe(ge)})}_subscribe(oe){var ze;return null===(ze=this.source)||void 0===ze?void 0:ze.subscribe(oe)}[fe.s](){return this}pipe(...oe){return(0,le.m)(oe)(this)}toPromise(oe){return new(oe=Ve(oe))((ze,Re)=>{let ke;this.subscribe(ge=>ke=ge,ge=>Re(ge),()=>ze(ke))})}}return xe.create=Ne=>new xe(Ne),xe})();function Ve(xe){var Ne;return null!==(Ne=xe??L.$.Promise)&&void 0!==Ne?Ne:Promise}},1413:(Bt,et,R)=>{"use strict";R.d(et,{B:()=>De});var J=R(1985),re=R(8359);const le=(0,R(1853).L)(Ve=>function(){Ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var L=R(7908),l=R(9786);let De=(()=>{class Ve extends J.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const xe=new lt(this,this);return xe.operator=Y,xe}_throwIfClosed(){if(this.closed)throw new le}next(Y){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const xe of this.currentObservers)xe.next(Y)}})}error(Y){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:xe}=this;for(;xe.length;)xe.shift().error(Y)}})}complete(){(0,l.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:xe,isStopped:Ne,observers:oe}=this;return xe||Ne?re.Kn:(this.currentObservers=null,oe.push(Y),new re.yU(()=>{this.currentObservers=null,(0,L.o)(oe,Y)}))}_checkFinalizedStatuses(Y){const{hasError:xe,thrownError:Ne,isStopped:oe}=this;xe?Y.error(Ne):oe&&Y.complete()}asObservable(){const Y=new J.c;return Y.source=this,Y}}return Ve.create=(Be,Y)=>new lt(Be,Y),Ve})();class lt extends De{constructor(Be,Y){super(),this.destination=Be,this.source=Y}next(Be){var Y,xe;null===(xe=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===xe||xe.call(Y,Be)}error(Be){var Y,xe;null===(xe=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===xe||xe.call(Y,Be)}complete(){var Be,Y;null===(Y=null===(Be=this.destination)||void 0===Be?void 0:Be.complete)||void 0===Y||Y.call(Be)}_subscribe(Be){var Y,xe;return null!==(xe=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(Be))&&void 0!==xe?xe:re.Kn}}},7707:(Bt,et,R)=>{"use strict";R.d(et,{Ms:()=>Re,vU:()=>xe});var J=R(8071),re=R(8359),fe=R(1026),le=R(5334),L=R(5343);const l=Ve("C",void 0,void 0);function Ve(Ae,Ke,we){return{kind:Ae,value:Ke,error:we}}var Be=R(9270),Y=R(9786);class xe extends re.yU{constructor(Ke){super(),this.isStopped=!1,Ke?(this.destination=Ke,(0,re.Uv)(Ke)&&Ke.add(this)):this.destination=Me}static create(Ke,we,st){return new Re(Ke,we,st)}next(Ke){this.isStopped?Fe(function lt(Ae){return Ve("N",Ae,void 0)}(Ke),this):this._next(Ke)}error(Ke){this.isStopped?Fe(function De(Ae){return Ve("E",void 0,Ae)}(Ke),this):(this.isStopped=!0,this._error(Ke))}complete(){this.isStopped?Fe(l,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ke){this.destination.next(Ke)}_error(Ke){try{this.destination.error(Ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ne=Function.prototype.bind;function oe(Ae,Ke){return Ne.call(Ae,Ke)}class ze{constructor(Ke){this.partialObserver=Ke}next(Ke){const{partialObserver:we}=this;if(we.next)try{we.next(Ke)}catch(st){ke(st)}}error(Ke){const{partialObserver:we}=this;if(we.error)try{we.error(Ke)}catch(st){ke(st)}else ke(Ke)}complete(){const{partialObserver:Ke}=this;if(Ke.complete)try{Ke.complete()}catch(we){ke(we)}}}class Re extends xe{constructor(Ke,we,st){let Qe;if(super(),(0,J.T)(Ke)||!Ke)Qe={next:Ke??void 0,error:we??void 0,complete:st??void 0};else{let _e;this&&fe.$.useDeprecatedNextContext?(_e=Object.create(Ke),_e.unsubscribe=()=>this.unsubscribe(),Qe={next:Ke.next&&oe(Ke.next,_e),error:Ke.error&&oe(Ke.error,_e),complete:Ke.complete&&oe(Ke.complete,_e)}):Qe=Ke}this.destination=new ze(Qe)}}function ke(Ae){fe.$.useDeprecatedSynchronousErrorHandling?(0,Y.l)(Ae):(0,le.m)(Ae)}function Fe(Ae,Ke){const{onStoppedNotification:we}=fe.$;we&&Be.f.setTimeout(()=>we(Ae,Ke))}const Me={closed:!0,next:L.l,error:function ge(Ae){throw Ae},complete:L.l}},8359:(Bt,et,R)=>{"use strict";R.d(et,{Kn:()=>l,yU:()=>L,Uv:()=>De});var J=R(8071);const fe=(0,R(1853).L)(Ve=>function(Y){Ve(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((xe,Ne)=>`${Ne+1}) ${xe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var le=R(7908);class L{constructor(Be){this.initialTeardown=Be,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Be;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const oe of Y)oe.remove(this);else Y.remove(this);const{initialTeardown:xe}=this;if((0,J.T)(xe))try{xe()}catch(oe){Be=oe instanceof fe?oe.errors:[oe]}const{_finalizers:Ne}=this;if(Ne){this._finalizers=null;for(const oe of Ne)try{lt(oe)}catch(ze){Be=Be??[],ze instanceof fe?Be=[...Be,...ze.errors]:Be.push(ze)}}if(Be)throw new fe(Be)}}add(Be){var Y;if(Be&&Be!==this)if(this.closed)lt(Be);else{if(Be instanceof L){if(Be.closed||Be._hasParent(this))return;Be._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(Be)}}_hasParent(Be){const{_parentage:Y}=this;return Y===Be||Array.isArray(Y)&&Y.includes(Be)}_addParent(Be){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(Be),Y):Y?[Y,Be]:Be}_removeParent(Be){const{_parentage:Y}=this;Y===Be?this._parentage=null:Array.isArray(Y)&&(0,le.o)(Y,Be)}remove(Be){const{_finalizers:Y}=this;Y&&(0,le.o)(Y,Be),Be instanceof L&&Be._removeParent(this)}}L.EMPTY=(()=>{const Ve=new L;return Ve.closed=!0,Ve})();const l=L.EMPTY;function De(Ve){return Ve instanceof L||Ve&&"closed"in Ve&&(0,J.T)(Ve.remove)&&(0,J.T)(Ve.add)&&(0,J.T)(Ve.unsubscribe)}function lt(Ve){(0,J.T)(Ve)?Ve():Ve.unsubscribe()}},1026:(Bt,et,R)=>{"use strict";R.d(et,{$:()=>J});const J={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4843:(Bt,et,R)=>{"use strict";R.d(et,{_:()=>fe});var J=R(9350),re=R(7707);function fe(le,L){const l="object"==typeof L;return new Promise((De,lt)=>{const Ve=new re.Ms({next:Be=>{De(Be),Ve.unsubscribe()},error:lt,complete:()=>{l?De(L.defaultValue):lt(new J.G)}});le.subscribe(Ve)})}},8793:(Bt,et,R)=>{"use strict";R.d(et,{x:()=>L});var J=R(6365),fe=R(9326),le=R(6648);function L(...l){return function re(){return(0,J.U)(1)}()((0,le.H)(l,(0,fe.lI)(l)))}},983:(Bt,et,R)=>{"use strict";R.d(et,{w:()=>re});const re=new(R(1985).c)(L=>L.complete())},6648:(Bt,et,R)=>{"use strict";R.d(et,{H:()=>st});var J=R(8750),re=R(5225),fe=R(9974),le=R(4360);function L(Qe,_e=0){return(0,fe.N)((de,Q)=>{de.subscribe((0,le._)(Q,mt=>(0,re.N)(Q,Qe,()=>Q.next(mt),_e),()=>(0,re.N)(Q,Qe,()=>Q.complete(),_e),mt=>(0,re.N)(Q,Qe,()=>Q.error(mt),_e)))})}function l(Qe,_e=0){return(0,fe.N)((de,Q)=>{Q.add(Qe.schedule(()=>de.subscribe(Q),_e))})}var Ve=R(1985),Y=R(4761),xe=R(8071);function oe(Qe,_e){if(!Qe)throw new Error("Iterable cannot be null");return new Ve.c(de=>{(0,re.N)(de,_e,()=>{const Q=Qe[Symbol.asyncIterator]();(0,re.N)(de,_e,()=>{Q.next().then(mt=>{mt.done?de.complete():de.next(mt.value)})},0,!0)})})}var ze=R(5055),Re=R(9858),ke=R(7441),ge=R(5397),Fe=R(7953),Me=R(591),Ae=R(5196);function st(Qe,_e){return _e?function we(Qe,_e){if(null!=Qe){if((0,ze.l)(Qe))return function De(Qe,_e){return(0,J.Tg)(Qe).pipe(l(_e),L(_e))}(Qe,_e);if((0,ke.X)(Qe))return function Be(Qe,_e){return new Ve.c(de=>{let Q=0;return _e.schedule(function(){Q===Qe.length?de.complete():(de.next(Qe[Q++]),de.closed||this.schedule())})})}(Qe,_e);if((0,Re.y)(Qe))return function lt(Qe,_e){return(0,J.Tg)(Qe).pipe(l(_e),L(_e))}(Qe,_e);if((0,Fe.T)(Qe))return oe(Qe,_e);if((0,ge.x)(Qe))return function Ne(Qe,_e){return new Ve.c(de=>{let Q;return(0,re.N)(de,_e,()=>{Q=Qe[Y.l](),(0,re.N)(de,_e,()=>{let mt,Dt;try{({value:mt,done:Dt}=Q.next())}catch(At){return void de.error(At)}Dt?de.complete():de.next(mt)},0,!0)}),()=>(0,xe.T)(Q?.return)&&Q.return()})}(Qe,_e);if((0,Ae.U)(Qe))return function Ke(Qe,_e){return oe((0,Ae.C)(Qe),_e)}(Qe,_e)}throw(0,Me.L)(Qe)}(Qe,_e):(0,J.Tg)(Qe)}},8750:(Bt,et,R)=>{"use strict";R.d(et,{Tg:()=>Ne});var J=R(1635),re=R(7441),fe=R(9858),le=R(1985),L=R(5055),l=R(7953),De=R(591),lt=R(5397),Ve=R(5196),Be=R(8071),Y=R(5334),xe=R(3494);function Ne(Ae){if(Ae instanceof le.c)return Ae;if(null!=Ae){if((0,L.l)(Ae))return function oe(Ae){return new le.c(Ke=>{const we=Ae[xe.s]();if((0,Be.T)(we.subscribe))return we.subscribe(Ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ae);if((0,re.X)(Ae))return function ze(Ae){return new le.c(Ke=>{for(let we=0;we<Ae.length&&!Ke.closed;we++)Ke.next(Ae[we]);Ke.complete()})}(Ae);if((0,fe.y)(Ae))return function Re(Ae){return new le.c(Ke=>{Ae.then(we=>{Ke.closed||(Ke.next(we),Ke.complete())},we=>Ke.error(we)).then(null,Y.m)})}(Ae);if((0,l.T)(Ae))return ge(Ae);if((0,lt.x)(Ae))return function ke(Ae){return new le.c(Ke=>{for(const we of Ae)if(Ke.next(we),Ke.closed)return;Ke.complete()})}(Ae);if((0,Ve.U)(Ae))return function Fe(Ae){return ge((0,Ve.C)(Ae))}(Ae)}throw(0,De.L)(Ae)}function ge(Ae){return new le.c(Ke=>{(function Me(Ae,Ke){var we,st,Qe,_e;return(0,J.sH)(this,void 0,void 0,function*(){try{for(we=(0,J.xN)(Ae);!(st=yield we.next()).done;)if(Ke.next(st.value),Ke.closed)return}catch(de){Qe={error:de}}finally{try{st&&!st.done&&(_e=we.return)&&(yield _e.call(we))}finally{if(Qe)throw Qe.error}}Ke.complete()})})(Ae,Ke).catch(we=>Ke.error(we))})}},7786:(Bt,et,R)=>{"use strict";R.d(et,{h:()=>l});var J=R(6365),re=R(8750),fe=R(983),le=R(9326),L=R(6648);function l(...De){const lt=(0,le.lI)(De),Ve=(0,le.R0)(De,1/0),Be=De;return Be.length?1===Be.length?(0,re.Tg)(Be[0]):(0,J.U)(Ve)((0,L.H)(Be,lt)):fe.w}},4360:(Bt,et,R)=>{"use strict";R.d(et,{_:()=>re});var J=R(7707);function re(le,L,l,De,lt){return new fe(le,L,l,De,lt)}class fe extends J.vU{constructor(L,l,De,lt,Ve,Be){super(L),this.onFinalize=Ve,this.shouldUnsubscribe=Be,this._next=l?function(Y){try{l(Y)}catch(xe){L.error(xe)}}:super._next,this._error=lt?function(Y){try{lt(Y)}catch(xe){L.error(xe)}finally{this.unsubscribe()}}:super._error,this._complete=De?function(){try{De()}catch(Y){L.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var L;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:l}=this;super.unsubscribe(),!l&&(null===(L=this.onFinalize)||void 0===L||L.call(this))}}}},3294:(Bt,et,R)=>{"use strict";R.d(et,{F:()=>le});var J=R(3669),re=R(9974),fe=R(4360);function le(l,De=J.D){return l=l??L,(0,re.N)((lt,Ve)=>{let Be,Y=!0;lt.subscribe((0,fe._)(Ve,xe=>{const Ne=De(xe);(Y||!l(Be,Ne))&&(Y=!1,Be=Ne,Ve.next(xe))}))})}function L(l,De){return l===De}},5964:(Bt,et,R)=>{"use strict";R.d(et,{p:()=>fe});var J=R(9974),re=R(4360);function fe(le,L){return(0,J.N)((l,De)=>{let lt=0;l.subscribe((0,re._)(De,Ve=>le.call(L,Ve,lt++)&&De.next(Ve)))})}},6354:(Bt,et,R)=>{"use strict";R.d(et,{T:()=>fe});var J=R(9974),re=R(4360);function fe(le,L){return(0,J.N)((l,De)=>{let lt=0;l.subscribe((0,re._)(De,Ve=>{De.next(le.call(L,Ve,lt++))}))})}},6365:(Bt,et,R)=>{"use strict";R.d(et,{U:()=>fe});var J=R(1397),re=R(3669);function fe(le=1/0){return(0,J.Z)(re.D,le)}},1397:(Bt,et,R)=>{"use strict";R.d(et,{Z:()=>lt});var J=R(6354),re=R(8750),fe=R(9974),le=R(5225),L=R(4360),De=R(8071);function lt(Ve,Be,Y=1/0){return(0,De.T)(Be)?lt((xe,Ne)=>(0,J.T)((oe,ze)=>Be(xe,oe,Ne,ze))((0,re.Tg)(Ve(xe,Ne))),Y):("number"==typeof Be&&(Y=Be),(0,fe.N)((xe,Ne)=>function l(Ve,Be,Y,xe,Ne,oe,ze,Re){const ke=[];let ge=0,Fe=0,Me=!1;const Ae=()=>{Me&&!ke.length&&!ge&&Be.complete()},Ke=st=>ge<xe?we(st):ke.push(st),we=st=>{oe&&Be.next(st),ge++;let Qe=!1;(0,re.Tg)(Y(st,Fe++)).subscribe((0,L._)(Be,_e=>{Ne?.(_e),oe?Ke(_e):Be.next(_e)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(ge--;ke.length&&ge<xe;){const _e=ke.shift();ze?(0,le.N)(Be,ze,()=>we(_e)):we(_e)}Ae()}catch(_e){Be.error(_e)}}))};return Ve.subscribe((0,L._)(Be,Ke,()=>{Me=!0,Ae()})),()=>{Re?.()}}(xe,Ne,Ve,Y)))}},7647:(Bt,et,R)=>{"use strict";R.d(et,{u:()=>L});var J=R(8750),re=R(1413),fe=R(7707),le=R(9974);function L(De={}){const{connector:lt=(()=>new re.B),resetOnError:Ve=!0,resetOnComplete:Be=!0,resetOnRefCountZero:Y=!0}=De;return xe=>{let Ne,oe,ze,Re=0,ke=!1,ge=!1;const Fe=()=>{oe?.unsubscribe(),oe=void 0},Me=()=>{Fe(),Ne=ze=void 0,ke=ge=!1},Ae=()=>{const Ke=Ne;Me(),Ke?.unsubscribe()};return(0,le.N)((Ke,we)=>{Re++,!ge&&!ke&&Fe();const st=ze=ze??lt();we.add(()=>{Re--,0===Re&&!ge&&!ke&&(oe=l(Ae,Y))}),st.subscribe(we),!Ne&&Re>0&&(Ne=new fe.Ms({next:Qe=>st.next(Qe),error:Qe=>{ge=!0,Fe(),oe=l(Me,Ve,Qe),st.error(Qe)},complete:()=>{ke=!0,Fe(),oe=l(Me,Be),st.complete()}}),(0,J.Tg)(Ke).subscribe(Ne))})(xe)}}function l(De,lt,...Ve){if(!0===lt)return void De();if(!1===lt)return;const Be=new fe.Ms({next:()=>{Be.unsubscribe(),De()}});return(0,J.Tg)(lt(...Ve)).subscribe(Be)}},6496:(Bt,et,R)=>{"use strict";R.d(et,{t:()=>L});var J=R(1413),re=R(6129);class fe extends J.B{constructor(De=1/0,lt=1/0,Ve=re.U){super(),this._bufferSize=De,this._windowTime=lt,this._timestampProvider=Ve,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=lt===1/0,this._bufferSize=Math.max(1,De),this._windowTime=Math.max(1,lt)}next(De){const{isStopped:lt,_buffer:Ve,_infiniteTimeWindow:Be,_timestampProvider:Y,_windowTime:xe}=this;lt||(Ve.push(De),!Be&&Ve.push(Y.now()+xe)),this._trimBuffer(),super.next(De)}_subscribe(De){this._throwIfClosed(),this._trimBuffer();const lt=this._innerSubscribe(De),{_infiniteTimeWindow:Ve,_buffer:Be}=this,Y=Be.slice();for(let xe=0;xe<Y.length&&!De.closed;xe+=Ve?1:2)De.next(Y[xe]);return this._checkFinalizedStatuses(De),lt}_trimBuffer(){const{_bufferSize:De,_timestampProvider:lt,_buffer:Ve,_infiniteTimeWindow:Be}=this,Y=(Be?1:2)*De;if(De<1/0&&Y<Ve.length&&Ve.splice(0,Ve.length-Y),!Be){const xe=lt.now();let Ne=0;for(let oe=1;oe<Ve.length&&Ve[oe]<=xe;oe+=2)Ne=oe;Ne&&Ve.splice(0,Ne+1)}}}var le=R(7647);function L(l,De,lt){let Ve,Be=!1;return l&&"object"==typeof l?({bufferSize:Ve=1/0,windowTime:De=1/0,refCount:Be=!1,scheduler:lt}=l):Ve=l??1/0,(0,le.u)({connector:()=>new fe(Ve,De,lt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Be})}},9172:(Bt,et,R)=>{"use strict";R.d(et,{Z:()=>le});var J=R(8793),re=R(9326),fe=R(9974);function le(...L){const l=(0,re.lI)(L);return(0,fe.N)((De,lt)=>{(l?(0,J.x)(L,De,l):(0,J.x)(L,De)).subscribe(lt)})}},6129:(Bt,et,R)=>{"use strict";R.d(et,{U:()=>J});const J={now:()=>(J.delegate||Date).now(),delegate:void 0}},9270:(Bt,et,R)=>{"use strict";R.d(et,{f:()=>J});const J={setTimeout(re,fe,...le){const{delegate:L}=J;return L?.setTimeout?L.setTimeout(re,fe,...le):setTimeout(re,fe,...le)},clearTimeout(re){const{delegate:fe}=J;return(fe?.clearTimeout||clearTimeout)(re)},delegate:void 0}},4761:(Bt,et,R)=>{"use strict";R.d(et,{l:()=>re});const re=function J(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Bt,et,R)=>{"use strict";R.d(et,{s:()=>J});const J="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(Bt,et,R)=>{"use strict";R.d(et,{G:()=>re});const re=(0,R(1853).L)(fe=>function(){fe(this),this.name="EmptyError",this.message="no elements in sequence"})},9326:(Bt,et,R)=>{"use strict";R.d(et,{R0:()=>l,lI:()=>L,ms:()=>le});var J=R(8071),re=R(9470);function fe(De){return De[De.length-1]}function le(De){return(0,J.T)(fe(De))?De.pop():void 0}function L(De){return(0,re.m)(fe(De))?De.pop():void 0}function l(De,lt){return"number"==typeof fe(De)?De.pop():lt}},7908:(Bt,et,R)=>{"use strict";function J(re,fe){if(re){const le=re.indexOf(fe);0<=le&&re.splice(le,1)}}R.d(et,{o:()=>J})},1853:(Bt,et,R)=>{"use strict";function J(re){const le=re(L=>{Error.call(L),L.stack=(new Error).stack});return le.prototype=Object.create(Error.prototype),le.prototype.constructor=le,le}R.d(et,{L:()=>J})},9786:(Bt,et,R)=>{"use strict";R.d(et,{Y:()=>fe,l:()=>le});var J=R(1026);let re=null;function fe(L){if(J.$.useDeprecatedSynchronousErrorHandling){const l=!re;if(l&&(re={errorThrown:!1,error:null}),L(),l){const{errorThrown:De,error:lt}=re;if(re=null,De)throw lt}}else L()}function le(L){J.$.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=L)}},5225:(Bt,et,R)=>{"use strict";function J(re,fe,le,L=0,l=!1){const De=fe.schedule(function(){le(),l?re.add(this.schedule(null,L)):this.unsubscribe()},L);if(re.add(De),!l)return De}R.d(et,{N:()=>J})},3669:(Bt,et,R)=>{"use strict";function J(re){return re}R.d(et,{D:()=>J})},7441:(Bt,et,R)=>{"use strict";R.d(et,{X:()=>J});const J=re=>re&&"number"==typeof re.length&&"function"!=typeof re},7953:(Bt,et,R)=>{"use strict";R.d(et,{T:()=>re});var J=R(8071);function re(fe){return Symbol.asyncIterator&&(0,J.T)(fe?.[Symbol.asyncIterator])}},8071:(Bt,et,R)=>{"use strict";function J(re){return"function"==typeof re}R.d(et,{T:()=>J})},5055:(Bt,et,R)=>{"use strict";R.d(et,{l:()=>fe});var J=R(3494),re=R(8071);function fe(le){return(0,re.T)(le[J.s])}},5397:(Bt,et,R)=>{"use strict";R.d(et,{x:()=>fe});var J=R(4761),re=R(8071);function fe(le){return(0,re.T)(le?.[J.l])}},9858:(Bt,et,R)=>{"use strict";R.d(et,{y:()=>re});var J=R(8071);function re(fe){return(0,J.T)(fe?.then)}},5196:(Bt,et,R)=>{"use strict";R.d(et,{C:()=>fe,U:()=>le});var J=R(1635),re=R(8071);function fe(L){return(0,J.AQ)(this,arguments,function*(){const De=L.getReader();try{for(;;){const{value:lt,done:Ve}=yield(0,J.N3)(De.read());if(Ve)return yield(0,J.N3)(void 0);yield yield(0,J.N3)(lt)}}finally{De.releaseLock()}})}function le(L){return(0,re.T)(L?.getReader)}},9470:(Bt,et,R)=>{"use strict";R.d(et,{m:()=>re});var J=R(8071);function re(fe){return fe&&(0,J.T)(fe.schedule)}},9974:(Bt,et,R)=>{"use strict";R.d(et,{N:()=>fe,S:()=>re});var J=R(8071);function re(le){return(0,J.T)(le?.lift)}function fe(le){return L=>{if(re(L))return L.lift(function(l){try{return le(l,this)}catch(De){this.error(De)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Bt,et,R)=>{"use strict";function J(){}R.d(et,{l:()=>J})},1203:(Bt,et,R)=>{"use strict";R.d(et,{F:()=>re,m:()=>fe});var J=R(3669);function re(...le){return fe(le)}function fe(le){return 0===le.length?J.D:1===le.length?le[0]:function(l){return le.reduce((De,lt)=>lt(De),l)}}},5334:(Bt,et,R)=>{"use strict";R.d(et,{m:()=>fe});var J=R(1026),re=R(9270);function fe(le){re.f.setTimeout(()=>{const{onUnhandledError:L}=J.$;if(!L)throw le;L(le)})}},591:(Bt,et,R)=>{"use strict";function J(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(et,{L:()=>J})},9969:(Bt,et,R)=>{"use strict";R.d(et,{FX:()=>_e,If:()=>J,K2:()=>l,MA:()=>xe,Os:()=>L,P:()=>oe,hZ:()=>fe,i0:()=>le,iF:()=>De,kY:()=>Be,kp:()=>re,sf:()=>st,ui:()=>Qe,wk:()=>lt});var J=function(de){return de[de.State=0]="State",de[de.Transition=1]="Transition",de[de.Sequence=2]="Sequence",de[de.Group=3]="Group",de[de.Animate=4]="Animate",de[de.Keyframes=5]="Keyframes",de[de.Style=6]="Style",de[de.Trigger=7]="Trigger",de[de.Reference=8]="Reference",de[de.AnimateChild=9]="AnimateChild",de[de.AnimateRef=10]="AnimateRef",de[de.Query=11]="Query",de[de.Stagger=12]="Stagger",de}(J||{});const re="*";function fe(de,Q){return{type:J.Trigger,name:de,definitions:Q,options:{}}}function le(de,Q=null){return{type:J.Animate,styles:Q,timings:de}}function L(de,Q=null){return{type:J.Group,steps:de,options:Q}}function l(de,Q=null){return{type:J.Sequence,steps:de,options:Q}}function De(de){return{type:J.Style,styles:de,offset:null}}function lt(de,Q,mt){return{type:J.State,name:de,styles:Q,options:mt}}function Be(de,Q,mt=null){return{type:J.Transition,expr:de,animation:Q,options:mt}}function xe(de=null){return{type:J.AnimateChild,options:de}}function oe(de,Q,mt=null){return{type:J.Query,selector:de,animation:Q,options:mt}}class st{constructor(Q=0,mt=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=Q+mt}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}onStart(Q){this._originalOnStartFns.push(Q),this._onStartFns.push(Q)}onDone(Q){this._originalOnDoneFns.push(Q),this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(Q=>Q()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(Q){this._position=this.totalTime?Q*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(Q){const mt="start"==Q?this._onStartFns:this._onDoneFns;mt.forEach(Dt=>Dt()),mt.length=0}}class Qe{constructor(Q){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=Q;let mt=0,Dt=0,At=0;const cn=this.players.length;0==cn?queueMicrotask(()=>this._onFinish()):this.players.forEach(Jt=>{Jt.onDone(()=>{++mt==cn&&this._onFinish()}),Jt.onDestroy(()=>{++Dt==cn&&this._onDestroy()}),Jt.onStart(()=>{++At==cn&&this._onStart()})}),this.totalTime=this.players.reduce((Jt,hn)=>Math.max(Jt,hn.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(Q=>Q()),this._onDoneFns=[])}init(){this.players.forEach(Q=>Q.init())}onStart(Q){this._onStartFns.push(Q)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(Q=>Q()),this._onStartFns=[])}onDone(Q){this._onDoneFns.push(Q)}onDestroy(Q){this._onDestroyFns.push(Q)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(Q=>Q.play())}pause(){this.players.forEach(Q=>Q.pause())}restart(){this.players.forEach(Q=>Q.restart())}finish(){this._onFinish(),this.players.forEach(Q=>Q.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(Q=>Q.destroy()),this._onDestroyFns.forEach(Q=>Q()),this._onDestroyFns=[])}reset(){this.players.forEach(Q=>Q.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(Q){const mt=Q*this.totalTime;this.players.forEach(Dt=>{const At=Dt.totalTime?Math.min(1,mt/Dt.totalTime):1;Dt.setPosition(At)})}getPosition(){const Q=this.players.reduce((mt,Dt)=>null===mt||Dt.totalTime>mt.totalTime?Dt:mt,null);return null!=Q?Q.getPosition():0}beforeDestroy(){this.players.forEach(Q=>{Q.beforeDestroy&&Q.beforeDestroy()})}triggerCallback(Q){const mt="start"==Q?this._onStartFns:this._onDoneFns;mt.forEach(Dt=>Dt()),mt.length=0}}const _e="!"},3953:(Bt,et,R)=>{"use strict";function J(i,s){return Object.is(i,s)}R.d(et,{bc$:()=>KB,iLQ:()=>Oa,sZ2:()=>Hg,hnV:()=>Ui,o8S:()=>en,BIS:()=>ED,gRc:()=>Yl,Ql9:()=>Vx,OM3:()=>Dp,Ocv:()=>Yt,Z63:()=>ba,aKT:()=>So,uvJ:()=>Ts,zcH:()=>Js,bkB:()=>ec,$GK:()=>vt,nKC:()=>Dn,zZn:()=>xi,_q3:()=>Wv,MKu:()=>Ri,xe9:()=>Lr,Co$:()=>gA,Vns:()=>Uu,SKi:()=>Hr,Xx1:()=>Cf,Agw:()=>ta,PLl:()=>zg,rOR:()=>Fb,sFG:()=>LT,_9s:()=>$0,czy:()=>r_,WPN:()=>rh,kdw:()=>Xm,C4Q:()=>uh,NYb:()=>kv,giA:()=>Pv,RxE:()=>Ow,c1b:()=>X0,gXe:()=>Qs,mal:()=>xp,Tzd:()=>Sp,L39:()=>fM,EWP:()=>pL,sbv:()=>U_,Ol2:()=>bA,w6W:()=>lE,QZP:()=>dC,Rfq:()=>Cc,WQX:()=>sn,naY:()=>Hx,Hps:()=>iA,QuC:()=>Ea,EmA:()=>Md,Udg:()=>Cm,HJs:()=>vM,N4e:()=>ug,vPA:()=>tP,O8t:()=>gM,An2:()=>xl,H3F:()=>DF,zAP:()=>iM,H8p:()=>og,KH2:()=>zu,TgB:()=>Mu,wOt:()=>Xt,WHO:()=>Kh,e01:()=>Lw,lNU:()=>md,h9k:()=>g1,$MX:()=>Jb,ZF7:()=>rp,Kcf:()=>lU,e5t:()=>fU,UyX:()=>dU,cWb:()=>uU,osQ:()=>hU,H5H:()=>WE,mq5:()=>uN,JZv:()=>Sr,TL3:()=>nM,LfX:()=>eo,plB:()=>bi,jNT:()=>Fv,zjR:()=>Vw,ngT:()=>uo,TL$:()=>ep,Tbb:()=>Gr,rcV:()=>yl,nM4:()=>fA,Vt3:()=>H_,GFd:()=>mA,OA$:()=>Sc,Jv_:()=>ox,aNF:()=>sx,R7$:()=>B1,BMQ:()=>ho,HbH:()=>QA,ZvI:()=>oS,AVh:()=>FE,vxM:()=>Ma,wni:()=>HS,C6U:()=>pw,VBU:()=>Ky,FsC:()=>Wy,jDH:()=>qn,G2t:()=>dr,$C:()=>tg,EJ8:()=>rg,rXU:()=>ch,nrm:()=>HE,k0s:()=>jl,j41:()=>Xp,RV6:()=>GE,xGo:()=>tD,Mr5:()=>Lh,KVO:()=>co,kS0:()=>Xf,QTQ:()=>tT,bIt:()=>NS,lsd:()=>LN,qSk:()=>HI,XpG:()=>uw,nI1:()=>mx,bMT:()=>Tv,SdG:()=>LS,NAR:()=>dw,Y8G:()=>kE,lJ4:()=>lx,eq3:()=>ux,NyB:()=>$c,mGM:()=>fw,sdS:()=>KS,Dyx:()=>dS,Z7z:()=>av,Vm6:()=>sv,Njj:()=>LI,eBV:()=>aO,n$t:()=>VD,xc7:()=>NE,DNE:()=>pE,C5r:()=>vx,EFF:()=>jN,JRh:()=>ZS,SpI:()=>vw,Lme:()=>JS,E5c:()=>ex,GBs:()=>zS});let re=null,fe=!1,le=1;const L=Symbol("SIGNAL");function l(i){const s=re;return re=i,s}const Be={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Y(i){if(fe)throw new Error("");if(null===re)return;re.consumerOnSignalRead(i);const s=re.nextProducerIndex++;st(re),s<re.producerNode.length&&re.producerNode[s]!==i&&we(re)&&Ke(re.producerNode[s],re.producerIndexOfThis[s]),re.producerNode[s]!==i&&(re.producerNode[s]=i,re.producerIndexOfThis[s]=we(re)?Ae(i,re,s):0),re.producerLastReadVersion[s]=i.version}function Ne(i){if((!we(i)||i.dirty)&&(i.dirty||i.lastCleanEpoch!==le)){if(!i.producerMustRecompute(i)&&!Fe(i))return i.dirty=!1,void(i.lastCleanEpoch=le);i.producerRecomputeValue(i),i.dirty=!1,i.lastCleanEpoch=le}}function oe(i){if(void 0===i.liveConsumerNode)return;const s=fe;fe=!0;try{for(const a of i.liveConsumerNode)a.dirty||Re(a)}finally{fe=s}}function ze(){return!1!==re?.consumerAllowSignalWrites}function Re(i){i.dirty=!0,oe(i),i.consumerMarkedDirty?.(i)}function ke(i){return i&&(i.nextProducerIndex=0),l(i)}function ge(i,s){if(l(s),i&&void 0!==i.producerNode&&void 0!==i.producerIndexOfThis&&void 0!==i.producerLastReadVersion){if(we(i))for(let a=i.nextProducerIndex;a<i.producerNode.length;a++)Ke(i.producerNode[a],i.producerIndexOfThis[a]);for(;i.producerNode.length>i.nextProducerIndex;)i.producerNode.pop(),i.producerLastReadVersion.pop(),i.producerIndexOfThis.pop()}}function Fe(i){st(i);for(let s=0;s<i.producerNode.length;s++){const a=i.producerNode[s],u=i.producerLastReadVersion[s];if(u!==a.version||(Ne(a),u!==a.version))return!0}return!1}function Me(i){if(st(i),we(i))for(let s=0;s<i.producerNode.length;s++)Ke(i.producerNode[s],i.producerIndexOfThis[s]);i.producerNode.length=i.producerLastReadVersion.length=i.producerIndexOfThis.length=0,i.liveConsumerNode&&(i.liveConsumerNode.length=i.liveConsumerIndexOfThis.length=0)}function Ae(i,s,a){if(Qe(i),0===i.liveConsumerNode.length&&_e(i))for(let u=0;u<i.producerNode.length;u++)i.producerIndexOfThis[u]=Ae(i.producerNode[u],i,u);return i.liveConsumerIndexOfThis.push(a),i.liveConsumerNode.push(s)-1}function Ke(i,s){if(Qe(i),1===i.liveConsumerNode.length&&_e(i))for(let u=0;u<i.producerNode.length;u++)Ke(i.producerNode[u],i.producerIndexOfThis[u]);const a=i.liveConsumerNode.length-1;if(i.liveConsumerNode[s]=i.liveConsumerNode[a],i.liveConsumerIndexOfThis[s]=i.liveConsumerIndexOfThis[a],i.liveConsumerNode.length--,i.liveConsumerIndexOfThis.length--,s<i.liveConsumerNode.length){const u=i.liveConsumerIndexOfThis[s],h=i.liveConsumerNode[s];st(h),h.producerIndexOfThis[u]=s}}function we(i){return i.consumerIsAlwaysLive||(i?.liveConsumerNode?.length??0)>0}function st(i){i.producerNode??=[],i.producerIndexOfThis??=[],i.producerLastReadVersion??=[]}function Qe(i){i.liveConsumerNode??=[],i.liveConsumerIndexOfThis??=[]}function _e(i){return void 0!==i.producerNode}function de(i){const s=Object.create(At);s.computation=i;const a=()=>{if(Ne(s),Y(s),s.value===Dt)throw s.error;return s.value};return a[L]=s,a}const Q=Symbol("UNSET"),mt=Symbol("COMPUTING"),Dt=Symbol("ERRORED"),At={...Be,value:Q,dirty:!0,error:null,equal:J,producerMustRecompute:i=>i.value===Q||i.value===mt,producerRecomputeValue(i){if(i.value===mt)throw new Error("Detected cycle in computations.");const s=i.value;i.value=mt;const a=ke(i);let u;try{u=i.computation()}catch(h){u=Dt,i.error=h}finally{ge(i,a)}s!==Q&&s!==Dt&&u!==Dt&&i.equal(s,u)?i.value=s:(i.value=u,i.version++)}};let Jt=function cn(){throw new Error};function hn(){Jt()}let Ge=null;function B(i,s){ze()||hn(),i.equal(i.value,s)||(i.value=s,function ie(i){i.version++,function xe(){le++}(),oe(i),Ge?.()}(i))}const Z={...Be,equal:J,value:void 0};const Te=()=>{},Ct={...Be,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:i=>{null!==i.schedule&&i.schedule(i.ref)},hasRun:!1,cleanupFn:Te};var Mt=R(4412),Ut=R(1413),nn=R(8359),on=R(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const md="https://g.co/ng/security#xss";class Xt extends Error{constructor(s,a){super(function Gs(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function ws(i){return{toString:i}.toString()}const ma="__parameters__";function gr(i,s,a){return ws(()=>{const u=function rl(i){return function(...a){if(i){const u=i(...a);for(const h in u)this[h]=u[h]}}}(s);function h(...f){if(this instanceof h)return u.apply(this,f),this;const m=new h(...f);return E.annotation=m,E;function E(T,M,N){const G=T.hasOwnProperty(ma)?T[ma]:Object.defineProperty(T,ma,{value:[]})[ma];for(;G.length<=N;)G.push(null);return(G[N]=G[N]||[]).push(m),T}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}const Sr=globalThis;function ar(i){for(let s in i)if(i[s]===ar)return s;throw Error("Could not find renamed property on target object.")}function bf(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function Gr(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Gr).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function il(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const _d=ar({__forward_ref__:ar});function Cc(i){return i.__forward_ref__=Cc,i.toString=function(){return Gr(this())},i}function _n(i){return Ic(i)?i():i}function Ic(i){return"function"==typeof i&&i.hasOwnProperty(_d)&&i.__forward_ref__===Cc}function qn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function dr(i){return{providers:i.providers||[],imports:i.imports||[]}}function _a(i){return gu(i,Bo)||gu(i,va)}function eo(i){return null!==_a(i)}function gu(i,s){return i.hasOwnProperty(s)?i[s]:null}function Cs(i){return i&&(i.hasOwnProperty(sl)||i.hasOwnProperty(qs))?i[sl]:null}const Bo=ar({\u0275prov:ar}),sl=ar({\u0275inj:ar}),va=ar({ngInjectableDef:ar}),qs=ar({ngInjectorDef:ar});class Dn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=qn({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function tt(i){return i&&!!i.\u0275providers}const Se=ar({\u0275cmp:ar}),nt=ar({\u0275dir:ar}),Le=ar({\u0275pipe:ar}),Xe=ar({\u0275mod:ar}),Ze=ar({\u0275fac:ar}),He=ar({__NG_ELEMENT_ID__:ar}),ht=ar({__NG_ENV_ID__:ar});function qe(i){return"string"==typeof i?i:null==i?"":String(i)}function qt(i,s){throw new Xt(-201,!1)}var vt=function(i){return i[i.Default=0]="Default",i[i.Host=1]="Host",i[i.Self=2]="Self",i[i.SkipSelf=4]="SkipSelf",i[i.Optional=8]="Optional",i}(vt||{});let An;function kn(){return An}function bn(i){const s=An;return An=i,s}function Ln(i,s,a){const u=_a(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:a&vt.Optional?null:void 0!==s?s:void qt()}const di={},ii="__NG_DI_FLAG__",ya="ngTempTokenPath",Is=/\n/gm,Wm="__source";let _u;function Ga(i){const s=_u;return _u=i,s}function WR(i,s=vt.Default){if(void 0===_u)throw new Xt(-203,!1);return null===_u?Ln(i,void 0,s):_u.get(i,s&vt.Optional?null:void 0,s)}function co(i,s=vt.Default){return(kn()||WR)(_n(i),s)}function sn(i,s=vt.Default){return co(i,vu(s))}function vu(i){return typeof i>"u"||"number"==typeof i?i:(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function wd(i){const s=[];for(let a=0;a<i.length;a++){const u=_n(i[a]);if(Array.isArray(u)){if(0===u.length)throw new Xt(900,!1);let h,f=vt.Default;for(let m=0;m<u.length;m++){const E=u[m],T=qm(E);"number"==typeof T?-1===T?h=E.token:f|=T:h=E}s.push(co(h,f))}else s.push(co(u))}return s}function yu(i,s){return i[ii]=s,i.prototype[ii]=s,i}function qm(i){return i[ii]}const Cf=yu(gr("Optional"),8),Xm=yu(gr("SkipSelf"),4);function bu(i,s){return i.hasOwnProperty(Ze)?i[Ze]:null}function Eu(i,s){i.forEach(a=>Array.isArray(a)?Eu(a,s):s(a))}function By(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Qm(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Ds(i,s,a){let u=Cd(i,s);return u>=0?i[1|u]=a:(u=~u,function jy(i,s,a,u){let h=i.length;if(h==s)i.push(a,u);else if(1===h)i.push(u,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>s;)i[h]=i[h-2],h--;i[s]=a,i[s+1]=u}}(i,u,s,a)),u}function $y(i,s){const a=Cd(i,s);if(a>=0)return i[1|a]}function Cd(i,s){return function lI(i,s,a){let u=0,h=i.length>>a;for(;h!==u;){const f=u+(h-u>>1),m=i[f<<a];if(s===m)return f<<a;m>s?h=f:u=f+1}return~(h<<a)}(i,s,1)}const Ka={},rr=[],ba=new Dn(""),uI=new Dn("",-1),Hy=new Dn("");class wu{get(s,a=di){if(a===di){const u=new Error(`NullInjectorError: No provider for ${Gr(s)}!`);throw u.name="NullInjectorError",u}return a}}var Ym=function(i){return i[i.OnPush=0]="OnPush",i[i.Default=1]="Default",i}(Ym||{}),Qs=function(i){return i[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",i}(Qs||{}),cl=function(i){return i[i.None=0]="None",i[i.SignalBased=1]="SignalBased",i[i.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",i}(cl||{});function ZR(i,s,a){let u=i.length;for(;;){const h=i.indexOf(s,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const f=s.length;if(h+f===u||i.charCodeAt(h+f)<=32)return h}a=h+1}}function hi(i,s,a){let u=0;for(;u<a.length;){const h=a[u];if("number"==typeof h){if(0!==h)break;u++;const f=a[u++],m=a[u++],E=a[u++];i.setAttribute(s,m,E,f)}else{const f=h,m=a[++u];jo(f)?i.setProperty(s,f,m):i.setAttribute(s,f,m),u++}}return u}function Yr(i){return 3===i||4===i||6===i}function jo(i){return 64===i.charCodeAt(0)}function jn(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?a=h:0===a||Ti(i,a,h,null,-1===a||2===a?s[++u]:null)}}return i}function Ti(i,s,a,u,h){let f=0,m=i.length;if(-1===s)m=-1;else for(;f<i.length;){const E=i[f++];if("number"==typeof E){if(E===s){m=-1;break}if(E>s){m=f-1;break}}}for(;f<i.length;){const E=i[f];if("number"==typeof E)break;if(E===a){if(null===u)return void(null!==h&&(i[f+1]=h));if(u===i[f+1])return void(i[f+2]=h)}f++,null!==u&&f++,null!==h&&f++}-1!==m&&(i.splice(m,0,s),f=m+1),i.splice(f++,0,a),null!==u&&i.splice(f++,0,u),null!==h&&i.splice(f++,0,h)}const Id="ng-template";function Zm(i,s,a,u){let h=0;if(u){for(;h<s.length&&"string"==typeof s[h];h+=2)if("class"===s[h]&&-1!==ZR(s[h+1].toLowerCase(),a,0))return!0}else if(Df(i))return!1;if(h=s.indexOf(1,h),h>-1){let f;for(;++h<s.length&&"string"==typeof(f=s[h]);)if(f.toLowerCase()===a)return!0}return!1}function Df(i){return 4===i.type&&i.value!==Id}function Dc(i,s,a){return s===(4!==i.type||a?i.value:Id)}function Cu(i,s,a){let u=4;const h=i.attrs,f=null!==h?function Dd(i){for(let s=0;s<i.length;s++)if(Yr(i[s]))return s;return i.length}(h):0;let m=!1;for(let E=0;E<s.length;E++){const T=s[E];if("number"!=typeof T){if(!m)if(4&u){if(u=2|1&u,""!==T&&!Dc(i,T,a)||""===T&&1===s.length){if(_r(u))return!1;m=!0}}else if(8&u){if(null===h||!Zm(i,h,T,a)){if(_r(u))return!1;m=!0}}else{const M=s[++E],N=ll(T,h,Df(i),a);if(-1===N){if(_r(u))return!1;m=!0;continue}if(""!==M){let G;if(G=N>f?"":h[N+1].toLowerCase(),2&u&&M!==G){if(_r(u))return!1;m=!0}}}}else{if(!m&&!_r(u)&&!_r(T))return!1;if(m&&_r(T))continue;m=!1,u=T|1&u}}return _r(u)||m}function _r(i){return!(1&i)}function ll(i,s,a,u){if(null===s)return-1;let h=0;if(u||!a){let f=!1;for(;h<s.length;){const m=s[h];if(m===i)return h;if(3===m||6===m)f=!0;else{if(1===m||2===m){let E=s[++h];for(;"string"==typeof E;)E=s[++h];continue}if(4===m)break;if(0===m){h+=4;continue}}h+=f?1:2}return-1}return function $o(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const u=i[a];if("number"==typeof u)return-1;if(u===s)return a;a++}return-1}(s,i)}function zy(i,s,a=!1){for(let u=0;u<s.length;u++)if(Cu(i,s[u],a))return!0;return!1}function Gy(i,s){e:for(let a=0;a<s.length;a++){const u=s[a];if(i.length===u.length){for(let h=0;h<i.length;h++)if(i[h]!==u[h])continue e;return!0}}return!1}function Td(i,s){return i?":not("+s.trim()+")":s}function Jm(i){let s=i[0],a=1,u=2,h="",f=!1;for(;a<i.length;){let m=i[a];if("string"==typeof m)if(2&u){const E=i[++a];h+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?h+="."+m:4&u&&(h+=" "+m);else""!==h&&!_r(m)&&(s+=Td(f,h),h=""),u=m,f=f||!_r(u);a++}return""!==h&&(s+=Td(f,h)),s}function Ky(i){return ws(()=>{const s=Tf(i),a={...s,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Ym.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||Qs.Emulated,styles:i.styles||rr,_:null,schemas:i.schemas||null,tView:null,id:""};Af(a);const u=i.dependencies;return a.directiveDefs=xd(u,!1),a.pipeDefs=xd(u,!0),a.id=function fI(i){let s=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of a)s=Math.imul(31,s)+h.charCodeAt(0)|0;return s+=2147483648,"c"+s}(a),a})}function eg(i){return Vn(i)||gi(i)}function Sd(i){return null!==i}function tg(i){return ws(()=>({type:i.type,bootstrap:i.bootstrap||rr,declarations:i.declarations||rr,imports:i.imports||rr,exports:i.exports||rr,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function ng(i,s){if(null==i)return Ka;const a={};for(const u in i)if(i.hasOwnProperty(u)){const h=i[u];let f,m,E=cl.None;Array.isArray(h)?(E=h[0],f=h[1],m=h[2]??f):(f=h,m=h),s?(a[f]=E!==cl.None?[u,E]:u,s[f]=m):a[f]=u}return a}function Wy(i){return ws(()=>{const s=Tf(i);return Af(s),s})}function rg(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Vn(i){return i[Se]||null}function gi(i){return i[nt]||null}function Ai(i){return i[Le]||null}function Ea(i){const s=Vn(i)||gi(i)||Ai(i);return null!==s&&s.standalone}function Fi(i,s){const a=i[Xe]||null;if(!a&&!0===s)throw new Error(`Type ${Gr(i)} does not have '\u0275mod' property.`);return a}function Tf(i){const s={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:i.inputs||Ka,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||rr,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ng(i.inputs,s),outputs:ng(i.outputs),debugInfo:null}}function Af(i){i.features?.forEach(s=>s(i))}function xd(i,s){if(!i)return null;const a=s?Ai:eg;return()=>("function"==typeof i?i():i).map(u=>a(u)).filter(Sd)}function Md(i){return{\u0275providers:i}}function pI(...i){return{\u0275providers:ig(0,i),\u0275fromNgModule:!0}}function ig(i,...s){const a=[],u=new Set;let h;const f=m=>{a.push(m)};return Eu(s,m=>{const E=m;Rd(E,f,[],u)&&(h||=[],h.push(E))}),void 0!==h&&qy(h,f),a}function qy(i,s){for(let a=0;a<i.length;a++){const{ngModule:u,providers:h}=i[a];Od(h,f=>{s(f,u)})}}function Rd(i,s,a,u){if(!(i=_n(i)))return!1;let h=null,f=Cs(i);const m=!f&&Vn(i);if(f||m){if(m&&!m.standalone)return!1;h=i}else{const T=i.ngModule;if(f=Cs(T),!f)return!1;h=T}const E=u.has(h);if(m){if(E)return!1;if(u.add(h),m.dependencies){const T="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const M of T)Rd(M,s,a,u)}}else{if(!f)return!1;{if(null!=f.imports&&!E){let M;u.add(h);try{Eu(f.imports,N=>{Rd(N,s,a,u)&&(M||=[],M.push(N))})}finally{}void 0!==M&&qy(M,s)}if(!E){const M=bu(h)||(()=>new h);s({provide:h,useFactory:M,deps:rr},h),s({provide:Hy,useValue:h,multi:!0},h),s({provide:ba,useValue:()=>co(h),multi:!0},h)}const T=f.providers;if(null!=T&&!E){const M=i;Od(T,N=>{s(N,M)})}}}return h!==i&&void 0!==i.providers}function Od(i,s){for(let a of i)tt(a)&&(a=a.\u0275providers),Array.isArray(a)?Od(a,s):s(a)}const mI=ar({provide:String,useValue:ar});function Qy(i){return null!==i&&"object"==typeof i&&mI in i}function Ys(i){return"function"==typeof i}const og=new Dn(""),xf={},Zy={};let sg;function Mf(){return void 0===sg&&(sg=new wu),sg}class Ts{}class Iu extends Ts{get destroyed(){return this._destroyed}constructor(s,a,u,h){super(),this.parent=a,this.source=u,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lg(s,m=>this.processProvider(m)),this.records.set(uI,ul(void 0,this)),h.has("environment")&&this.records.set(Ts,ul(void 0,this));const f=this.records.get(og);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Hy,rr,vt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const s=l(null);try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of a)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),l(s)}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const a=Ga(this),u=bn(void 0);try{return s()}finally{Ga(a),bn(u)}}get(s,a=di,u=vt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(ht))return s[ht](this);u=vu(u);const f=Ga(this),m=bn(void 0);try{if(!(u&vt.SkipSelf)){let T=this.records.get(s);if(void 0===T){const M=function _I(i){return"function"==typeof i||"object"==typeof i&&i instanceof Dn}(s)&&_a(s);T=M&&this.injectableDefInScope(M)?ul(ag(s),xf):null,this.records.set(s,T)}if(null!=T)return this.hydrate(s,T)}return(u&vt.Self?Mf():this.parent).get(s,a=u&vt.Optional&&a===di?null:a)}catch(E){if("NullInjectorError"===E.name){if((E[ya]=E[ya]||[]).unshift(Gr(s)),f)throw E;return function al(i,s,a,u){const h=i[ya];throw s[Wm]&&h.unshift(s[Wm]),i.message=function cI(i,s,a,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=Gr(s);if(Array.isArray(s))h=s.map(Gr).join(" -> ");else if("object"==typeof s){let f=[];for(let m in s)if(s.hasOwnProperty(m)){let E=s[m];f.push(m+":"+("string"==typeof E?JSON.stringify(E):Gr(E)))}h=`{${f.join(", ")}}`}return`${a}${u?"("+u+")":""}[${h}]: ${i.replace(Is,"\n  ")}`}("\n"+i.message,h,a,u),i.ngTokenPath=h,i[ya]=null,i}(E,s,"R3InjectorError",this.source)}throw E}finally{bn(m),Ga(f)}}resolveInjectorInitializers(){const s=l(null),a=Ga(this),u=bn(void 0);try{const f=this.get(ba,rr,vt.Self);for(const m of f)m()}finally{Ga(a),bn(u),l(s)}}toString(){const s=[],a=this.records;for(const u of a.keys())s.push(Gr(u));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xt(205,!1)}processProvider(s){let a=Ys(s=_n(s))?s:_n(s&&s.provide);const u=function gI(i){return Qy(i)?ul(void 0,i.useValue):ul(cg(i),xf)}(s);if(!Ys(s)&&!0===s.multi){let h=this.records.get(a);h||(h=ul(void 0,xf,!0),h.factory=()=>wd(h.multi),this.records.set(a,h)),a=s,h.multi.push(s)}this.records.set(a,u)}hydrate(s,a){const u=l(null);try{return a.value===xf&&(a.value=Zy,a.value=a.factory()),"object"==typeof a.value&&a.value&&function eb(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}finally{l(u)}}injectableDefInScope(s){if(!s.providedIn)return!1;const a=_n(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(s){const a=this._onDestroyHooks.indexOf(s);-1!==a&&this._onDestroyHooks.splice(a,1)}}function ag(i){const s=_a(i),a=null!==s?s.factory:bu(i);if(null!==a)return a;if(i instanceof Dn)throw new Xt(204,!1);if(i instanceof Function)return function Rf(i){if(i.length>0)throw new Xt(204,!1);const a=function ol(i){return i&&(i[Bo]||i[va])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Xt(204,!1)}function cg(i,s,a){let u;if(Ys(i)){const h=_n(i);return bu(h)||ag(h)}if(Qy(i))u=()=>_n(i.useValue);else if(function kd(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...wd(i.deps||[]));else if(function Sf(i){return!(!i||!i.useExisting)}(i))u=()=>co(_n(i.useExisting));else{const h=_n(i&&(i.useClass||i.provide));if(!function Jy(i){return!!i.deps}(i))return bu(h)||ag(h);u=()=>new h(...wd(i.deps))}return u}function ul(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function lg(i,s){for(const a of i)Array.isArray(a)?lg(a,s):a&&tt(a)?lg(a.\u0275providers,s):s(a)}function ug(i,s){i instanceof Iu&&i.assertNotDestroyed();const u=Ga(i),h=bn(void 0);try{return s()}finally{Ga(u),bn(h)}}function dg(){return void 0!==kn()||null!=function Fy(){return _u}()}function Of(i){if(!dg())throw new Xt(-203,!1)}const kr=0,y=1,b=2,D=3,w=4,O=5,U=6,te=7,ne=8,Ee=9,ct=10,ot=11,Tt=12,St=13,Zt=14,fn=15,Sn=16,er=17,vr=18,wr=19,To=20,Mr=21,to=22,oi=23,ln=25,Nd=1,Ho=7,Wa=9,$r=10;var Ac=function(i){return i[i.None=0]="None",i[i.HasTransplantedViews=2]="HasTransplantedViews",i}(Ac||{});function Tr(i){return Array.isArray(i)&&"object"==typeof i[Nd]}function Pr(i){return Array.isArray(i)&&!0===i[Nd]}function Cr(i){return!!(4&i.flags)}function wa(i){return i.componentOffset>-1}function fg(i){return!(1&~i.flags)}function lo(i){return!!i.template}function Pf(i){return!!(512&i[b])}class AI{constructor(s,a,u){this.previousValue=s,this.currentValue=a,this.firstChange=u}isFirstChange(){return this.firstChange}}function SI(i,s,a,u){null!==s?s.applyValueToInputSignal(s,u):i[a]=u}function Sc(){return xI}function xI(i){return i.type.prototype.ngOnChanges&&(i.setInput=RI),MI}function MI(){const i=Ld(this),s=i?.current;if(s){const a=i.previous;if(a===Ka)i.previous=s;else for(let u in s)a[u]=s[u];i.current=null,this.ngOnChanges(s)}}function RI(i,s,a,u,h){const f=this.declaredInputs[u],m=Ld(i)||function lb(i,s){return i[Lf]=s}(i,{previous:Ka,current:null}),E=m.current||(m.current={}),T=m.previous,M=T[f];E[f]=new AI(M&&M.currentValue,a,T===Ka),SI(i,s,h,a)}Sc.ngInherit=!0;const Lf="__ngSimpleChanges__";function Ld(i){return i[Lf]||null}const qa=function(i,s,a){},Vf="svg";function cr(i){for(;Array.isArray(i);)i=i[kr];return i}function Vd(i,s){return cr(s[i])}function Li(i,s){return cr(s[i.index])}function Du(i,s){return i.data[s]}function Tu(i,s){return i[s]}function os(i,s){const a=s[i];return Tr(a)?a:a[kr]}function Au(i){return!(128&~i[b])}function vi(i,s){return null==s?null:i[s]}function Bf(i){i[er]=0}function Xa(i){1024&i[b]||(i[b]|=1024,Au(i)&&Mc(i))}function hl(i){return!!(9216&i[b]||i[oi]?.dirty)}function xc(i){i[ct].changeDetectionScheduler?.notify(7),64&i[b]&&(i[b]|=1024),hl(i)&&Mc(i)}function Mc(i){i[ct].changeDetectionScheduler?.notify(0);let s=Rc(i);for(;null!==s&&!(8192&s[b])&&(s[b]|=8192,Au(s));)s=Rc(s)}function Bd(i,s){if(!(256&~i[b]))throw new Xt(911,!1);null===i[Mr]&&(i[Mr]=[]),i[Mr].push(s)}function Rc(i){const s=i[D];return Pr(s)?s[D]:s}const Tn={lFrame:jI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let NI=!1;function FI(){return Tn.bindingsEnabled}function fl(){return null!==Tn.skipHydrationRootTNode}function yt(){return Tn.lFrame.lView}function Gn(){return Tn.lFrame.tView}function aO(i){return Tn.lFrame.contextLView=i,i[ne]}function LI(i){return Tn.lFrame.contextLView=null,i}function Rr(){let i=VI();for(;null!==i&&64===i.type;)i=i.parent;return i}function VI(){return Tn.lFrame.currentTNode}function yi(i,s){const a=Tn.lFrame;a.currentTNode=i,a.isParent=s}function fb(){return Tn.lFrame.isParent}function Su(){Tn.lFrame.isParent=!1}function wg(){return NI}function Zs(i){NI=i}function Si(){const i=Tn.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Qa(){return Tn.lFrame.bindingIndex}function Ca(){return Tn.lFrame.bindingIndex++}function as(i){const s=Tn.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function UI(i,s){const a=Tn.lFrame;a.bindingIndex=a.bindingRootIndex=i,Ig(s)}function Ig(i){Tn.lFrame.currentDirectiveIndex=i}function Hf(){return Tn.lFrame.currentQueryIndex}function zf(i){Tn.lFrame.currentQueryIndex=i}function gb(i){const s=i[y];return 2===s.type?s.declTNode:1===s.type?i[O]:null}function Dg(i,s,a){if(a&vt.SkipSelf){let h=s,f=i;for(;!(h=h.parent,null!==h||a&vt.Host||(h=gb(f),null===h||(f=f[Zt],10&h.type))););if(null===h)return!1;s=h,i=f}const u=Tn.lFrame=_b();return u.currentTNode=s,u.lView=i,!0}function Ud(i){const s=_b(),a=i[y];Tn.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function _b(){const i=Tn.lFrame,s=null===i?null:i.child;return null===s?jI(i):s}function jI(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function jd(){const i=Tn.lFrame;return Tn.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const $I=jd;function vb(){const i=jd();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function no(){return Tn.lFrame.selectedIndex}function Ya(i){Tn.lFrame.selectedIndex=i}function Nr(){const i=Tn.lFrame;return Du(i.tView,i.selectedIndex)}function HI(){Tn.lFrame.currentNamespace=Vf}let bb=!0;function pl(){return bb}function Za(i){bb=i}function Oc(i,s){for(let a=s.directiveStart,u=s.directiveEnd;a<u;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:M,ngOnDestroy:N}=f;m&&(i.contentHooks??=[]).push(-a,m),E&&((i.contentHooks??=[]).push(a,E),(i.contentCheckHooks??=[]).push(a,E)),T&&(i.viewHooks??=[]).push(-a,T),M&&((i.viewHooks??=[]).push(a,M),(i.viewCheckHooks??=[]).push(a,M)),null!=N&&(i.destroyHooks??=[]).push(a,N)}}function ml(i,s,a){$d(i,s,3,a)}function Tg(i,s,a,u){(3&i[b])===a&&$d(i,s,a,u)}function Eb(i,s){let a=i[b];(3&a)===s&&(a&=16383,a+=1,i[b]=a)}function $d(i,s,a,u){const f=u??-1,m=s.length-1;let E=0;for(let T=void 0!==u?65535&i[er]:0;T<m;T++)if("number"==typeof s[T+1]){if(E=s[T],null!=u&&E>=u)break}else s[T]<0&&(i[er]+=65536),(E<f||-1==f)&&(dO(i,a,s,T),i[er]=(4294901760&i[er])+T+2),T++}function Hd(i,s){qa(4,i,s);const a=l(null);try{s.call(i)}finally{l(a),qa(5,i,s)}}function dO(i,s,a,u){const h=a[u]<0,f=a[u+1],E=i[h?-a[u]:a[u]];h?i[b]>>14<i[er]>>16&&(3&i[b])===s&&(i[b]+=16384,Hd(E,f)):Hd(E,f)}const zd=-1;class Gf{constructor(s,a,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=u}}const Cb={};class xu{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,u){u=vu(u);const h=this.injector.get(s,Cb,u);return h!==Cb||a===Cb?h:this.parentInjector.get(s,a,u)}}function Ib(i){return i!==zd}function Wf(i){return 32767&i}function qf(i,s){let a=function fO(i){return i>>16}(i),u=s;for(;a>0;)u=u[Zt],a--;return u}let Db=!0;function Sg(i){const s=Db;return Db=i,s}const qI=255,xg=5;let Mg=0;const zo={};function Rg(i,s){const a=XI(i,s);if(-1!==a)return a;const u=s[y];u.firstCreatePass&&(i.injectorIndex=s.length,Tb(u.data,i),Tb(s,null),Tb(u.blueprint,null));const h=Gd(i,s),f=i.injectorIndex;if(Ib(h)){const m=Wf(h),E=qf(h,s),T=E[y].data;for(let M=0;M<8;M++)s[f+M]=E[m+M]|T[m+M]}return s[f+8]=h,f}function Tb(i,s){i.push(0,0,0,0,0,0,0,0,s)}function XI(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Gd(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,u=null,h=s;for(;null!==h;){if(u=Mb(h),null===u)return zd;if(a++,h=h[Zt],-1!==u.injectorIndex)return u.injectorIndex|a<<16}return zd}function Ab(i,s,a){!function LB(i,s,a){let u;"string"==typeof a?u=a.charCodeAt(0)||0:a.hasOwnProperty(He)&&(u=a[He]),null==u&&(u=a[He]=Mg++);const h=u&qI;s.data[i+(h>>xg)]|=1<<h}(i,s,a)}function QI(i,s,a){if(a&vt.Optional||void 0!==i)return i;qt()}function xb(i,s,a,u){if(a&vt.Optional&&void 0===u&&(u=null),!(a&(vt.Self|vt.Host))){const h=i[Ee],f=bn(void 0);try{return h?h.get(s,u,a&vt.Optional):Ln(s,u,a&vt.Optional)}finally{bn(f)}}return QI(u,0,a)}function YI(i,s,a,u=vt.Default,h){if(null!==i){if(2048&s[b]&&!(u&vt.Self)){const m=function VB(i,s,a,u,h){let f=i,m=s;for(;null!==f&&null!==m&&2048&m[b]&&!(512&m[b]);){const E=ZI(f,m,a,u|vt.Self,zo);if(E!==zo)return E;let T=f.parent;if(!T){const M=m[To];if(M){const N=M.get(a,zo,u);if(N!==zo)return N}T=Mb(m),m=m[Zt]}f=T}return h}(i,s,a,u,zo);if(m!==zo)return m}const f=ZI(i,s,a,u,zo);if(f!==zo)return f}return xb(s,a,u,h)}function ZI(i,s,a,u,h){const f=function _O(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(He)?i[He]:void 0;return"number"==typeof s?s>=0?s&qI:vO:s}(a);if("function"==typeof f){if(!Dg(s,i,u))return u&vt.Host?QI(h,0,u):xb(s,a,u,h);try{let m;if(m=f(u),null!=m||u&vt.Optional)return m;qt()}finally{$I()}}else if("number"==typeof f){let m=null,E=XI(i,s),T=zd,M=u&vt.Host?s[fn][O]:null;for((-1===E||u&vt.SkipSelf)&&(T=-1===E?Gd(i,s):s[E+8],T!==zd&&eD(u,!1)?(m=s[y],E=Wf(T),s=qf(T,s)):E=-1);-1!==E;){const N=s[y];if(JI(f,E,N.data)){const G=gO(E,s,a,m,u,M);if(G!==zo)return G}T=s[E+8],T!==zd&&eD(u,s[y].data[E+8]===M)&&JI(f,E,s)?(m=N,E=Wf(T),s=qf(T,s)):E=-1}}return h}function gO(i,s,a,u,h,f){const m=s[y],E=m.data[i+8],N=Og(E,m,a,null==u?wa(E)&&Db:u!=m&&!!(3&E.type),h&vt.Host&&f===E);return null!==N?Ja(s,m,N,E):zo}function Og(i,s,a,u,h){const f=i.providerIndexes,m=s.data,E=1048575&f,T=i.directiveStart,N=f>>20,ce=h?E+N:i.directiveEnd;for(let ve=u?E:E+N;ve<ce;ve++){const Ye=m[ve];if(ve<T&&a===Ye||ve>=T&&Ye.type===a)return ve}if(h){const ve=m[T];if(ve&&lo(ve)&&ve.type===a)return T}return null}function Ja(i,s,a,u){let h=i[a];const f=s.data;if(function hO(i){return i instanceof Gf}(h)){const m=h;m.resolving&&function xt(i,s){throw s&&s.join(" > "),new Xt(-200,i)}(function rt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():qe(i)}(f[a]));const E=Sg(m.canSeeViewProviders);m.resolving=!0;const M=m.injectImpl?bn(m.injectImpl):null;Dg(i,u,vt.Default);try{h=i[a]=m.factory(void 0,f,i,u),s.firstCreatePass&&a>=u.directiveStart&&function uO(i,s,a){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:f}=s.type.prototype;if(u){const m=xI(s);(a.preOrderHooks??=[]).push(i,m),(a.preOrderCheckHooks??=[]).push(i,m)}h&&(a.preOrderHooks??=[]).push(0-i,h),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],s)}finally{null!==M&&bn(M),Sg(E),m.resolving=!1,$I()}}return h}function JI(i,s,a){return!!(a[s+(i>>xg)]&1<<i)}function eD(i,s){return!(i&vt.Self||i&vt.Host&&s)}class Vi{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,u){return YI(this._tNode,this._lView,s,vu(u),a)}}function vO(){return new Vi(Rr(),yt())}function tD(i){return ws(()=>{const s=i.prototype.constructor,a=s[Ze]||kg(s),u=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==u;){const f=h[Ze]||kg(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function kg(i){return Ic(i)?()=>{const s=kg(_n(i));return s&&s()}:bu(i)}function Mb(i){const s=i[y],a=s.type;return 2===a?s.declTNode:1===a?i[O]:null}function Xf(i){return function Sb(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const u=a.length;let h=0;for(;h<u;){const f=a[h];if(Yr(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<u&&"string"==typeof a[h];)h++;else{if(f===s)return a[h+1];h+=2}}}return null}(Rr(),i)}function aD(i,s=null,a=null,u){const h=cD(i,s,a,u);return h.resolveInjectorInitializers(),h}function cD(i,s=null,a=null,u,h=new Set){const f=[a||rr,pI(i)];return u=u||("object"==typeof i?void 0:Gr(i)),new Iu(f,s||Mf(),u||null,h)}class xi{static#e=this.THROW_IF_NOT_FOUND=di;static#t=this.NULL=new wu;static create(s,a){if(Array.isArray(s))return aD({name:""},a,s,"");{const u=s.name??"";return aD({name:u},s.parent,s.providers,u)}}static#n=this.\u0275prov=qn({token:xi,providedIn:"any",factory:()=>co(uI)});static#r=this.__NG_ELEMENT_ID__=-1}new Dn("").__NG_ELEMENT_ID__=i=>{const s=Rr();if(null===s)throw new Xt(204,!1);if(2&s.type)return s.value;if(i&vt.Optional)return null;throw new Xt(204,!1)};function Nb(i){return i.ngOriginalError}class Js{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s);this._console.error("ERROR",s),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&Nb(s);for(;a&&Nb(a);)a=Nb(a);return a||null}}const Qf=new Dn("",{providedIn:"root",factory:()=>sn(Js).handleError.bind(void 0)});let Yf=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=IO;static#t=this.__NG_ENV_ID__=a=>a}return i})();class CO extends Yf{constructor(s){super(),this._lView=s}onDestroy(s){return Bd(this._lView,s),()=>function _g(i,s){if(null===i[Mr])return;const a=i[Mr].indexOf(s);-1!==a&&i[Mr].splice(a,1)}(this._lView,s)}}function IO(){return new CO(yt())}function AO(){return Qd(Rr(),yt())}function Qd(i,s){return new So(Li(i,s))}let So=(()=>{class i{constructor(a){this.nativeElement=a}static#e=this.__NG_ELEMENT_ID__=AO}return i})();function dD(i){return i instanceof So?i.nativeElement:i}let Mu=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mt.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275prov=qn({token:i,providedIn:"root",factory:()=>new i})}return i})();const ec=class SO extends Ut.B{constructor(s=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=s,dg()&&(this.destroyRef=sn(Yf,{optional:!0})??void 0,this.pendingTasks=sn(Mu,{optional:!0})??void 0)}emit(s){const a=l(null);try{super.next(s)}finally{l(a)}}subscribe(s,a,u){let h=s,f=a||(()=>null),m=u;if(s&&"object"==typeof s){const T=s;h=T.next?.bind(T),f=T.error?.bind(T),m=T.complete?.bind(T)}this.__isAsync&&(f=this.wrapInTimeout(f),h&&(h=this.wrapInTimeout(h)),m&&(m=this.wrapInTimeout(m)));const E=super.subscribe({next:h,error:f,complete:m});return s instanceof nn.yU&&s.add(E),E}wrapInTimeout(s){return a=>{const u=this.pendingTasks?.add();setTimeout(()=>{s(a),void 0!==u&&this.pendingTasks?.remove(u)})}}};function hD(){return this._results[Symbol.iterator]()}class Fb{static#e=Symbol.iterator;get changes(){return this._changes??=new ec}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const a=Fb.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=hD)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){this.dirty=!1;const u=function Uo(i){return i.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function QR(i,s,a){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let h=i[u],f=s[u];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(this._results,u,a))&&(this._results=u,this.length=u.length,this.last=u[this.length-1],this.first=u[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(s){this._onDirty=s}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Bg(i){return!(128&~i.flags)}const ea=new Map;let MO=0;const Bb="__ngContext__";function Go(i,s){Tr(s)?(i[Bb]=s[wr],function HB(i){ea.set(i[wr],i)}(s)):i[Bb]=s}function jb(i){return UO(i[Tt])}function yD(i){return UO(i[w])}function UO(i){for(;null!==i&&!Pr(i);)i=i[w];return i}let $g;function ep(i){$g=i}const Hg=new Dn("",{providedIn:"root",factory:()=>WO}),WO="ng",zg=new Dn(""),ta=new Dn("",{providedIn:"platform",factory:()=>"unknown"}),KB=new Dn(""),ED=new Dn("",{providedIn:"root",factory:()=>function tc(){if(void 0!==$g)return $g;if(typeof document<"u")return document;throw new Xt(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let DD=()=>null;function TD(i,s,a=!1){return DD(i,s,a)}const r1=new Dn("",{providedIn:"root",factory:()=>!1});let Yb,Zb;function np(i){return function RD(){if(void 0===Yb&&(Yb=null,Sr.trustedTypes))try{Yb=Sr.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Yb}()?.createHTML(i)||i}function a1(i){return function OD(){if(void 0===Zb&&(Zb=null,Sr.trustedTypes))try{Zb=Sr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Zb}()?.createScriptURL(i)||i}class nh{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${md})`}}class rU extends nh{getTypeName(){return"HTML"}}class iU extends nh{getTypeName(){return"Style"}}class oU extends nh{getTypeName(){return"Script"}}class sU extends nh{getTypeName(){return"URL"}}class aU extends nh{getTypeName(){return"ResourceURL"}}function yl(i){return i instanceof nh?i.changingThisBreaksApplicationSecurity:i}function rp(i,s){const a=function cU(i){return i instanceof nh&&i.getTypeName()||null}(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see ${md})`)}return a===s}function lU(i){return new rU(i)}function uU(i){return new iU(i)}function dU(i){return new oU(i)}function hU(i){return new sU(i)}function fU(i){return new aU(i)}class pU{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(np(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class mU{constructor(s){this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(s){const a=this.inertDocument.createElement("template");return a.innerHTML=np(s),a}}const _U=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Jb(i){return(i=String(i)).match(_U)?i:"unsafe:"+i}function bl(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Yg(...i){const s={};for(const a of i)for(const u in a)a.hasOwnProperty(u)&&(s[u]=!0);return s}const l1=bl("area,br,col,hr,img,wbr"),u1=bl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),d1=bl("rp,rt"),ND=Yg(l1,Yg(u1,bl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yg(d1,bl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yg(d1,u1)),FD=bl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),h1=Yg(FD,bl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vU=bl("script,style,template");class yU{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,u=!0,h=[];for(;a;)if(a.nodeType===Node.ELEMENT_NODE?u=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,u&&a.firstChild)h.push(a),a=wU(a);else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let f=EU(a);if(f){a=f;break}a=h.pop()}return this.buf.join("")}startElement(s){const a=f1(s).toLowerCase();if(!ND.hasOwnProperty(a))return this.sanitizedSomething=!0,!vU.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const u=s.attributes;for(let h=0;h<u.length;h++){const f=u.item(h),m=f.name,E=m.toLowerCase();if(!h1.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=f.value;FD[E]&&(T=Jb(T)),this.buf.push(" ",m,'="',m1(T),'"')}return this.buf.push(">"),!0}endElement(s){const a=f1(s).toLowerCase();ND.hasOwnProperty(a)&&!l1.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(m1(s))}}function EU(i){const s=i.nextSibling;if(s&&i!==s.previousSibling)throw p1(s);return s}function wU(i){const s=i.firstChild;if(s&&function bU(i,s){return(i.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}(i,s))throw p1(s);return s}function f1(i){const s=i.nodeName;return"string"==typeof s?s:"FORM"}function p1(i){return new Error(`Failed to sanitize html because the element is clobbered: ${i.outerHTML}`)}const CU=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,IU=/([^\#-~ |!])/g;function m1(i){return i.replace(/&/g,"&amp;").replace(CU,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(IU,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let e0;function g1(i,s){let a=null;try{e0=e0||function c1(i){const s=new mU(i);return function gU(){try{return!!(new window.DOMParser).parseFromString(np(""),"text/html")}catch{return!1}}()?new pU(s):s}(i);let u=s?String(s):"";a=e0.getInertBodyElement(u);let h=5,f=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=f,f=a.innerHTML,a=e0.getInertBodyElement(u)}while(u!==f);return np((new yU).sanitizeChildren(LD(a)||a))}finally{if(a){const u=LD(a)||a;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function LD(i){return"content"in i&&function DU(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var rh=function(i){return i[i.NONE=0]="NONE",i[i.HTML=1]="HTML",i[i.STYLE=2]="STYLE",i[i.SCRIPT=3]="SCRIPT",i[i.URL=4]="URL",i[i.RESOURCE_URL=5]="RESOURCE_URL",i}(rh||{});function _1(i){const s=Vc();return s?s.sanitize(rh.URL,i)||"":rp(i,"URL")?yl(i):Jb(qe(i))}function v1(i){const s=Vc();if(s)return a1(s.sanitize(rh.RESOURCE_URL,i)||"");if(rp(i,"ResourceURL"))return a1(yl(i));throw new Xt(904,!1)}function VD(i,s,a){return function Zg(i,s){return"src"===s&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===s&&("base"===i||"link"===i)?v1:_1}(s,a)(i)}function Vc(){const i=yt();return i&&i[ct].sanitizer}function As(i){return i instanceof Function?i():i}function Ss(i){return"browser"===(i??sn(xi)).get(ta)}var r_=function(i){return i[i.Important=1]="Important",i[i.DashCase=2]="DashCase",i}(r_||{});let a0;function c0(i,s){return a0(i,s)}function oh(i,s,a,u,h){if(null!=u){let f,m=!1;Pr(u)?f=u:Tr(u)&&(m=!0,u=u[kr]);const E=cr(u);0===i&&null!==a?null==h?ku(s,a,E):El(s,a,E,h||null,!0):1===i&&null!==a?El(s,a,E,h||null,!0):2===i?function sh(i,s,a){const u=a_(i,s);u&&function O1(i,s,a,u){i.removeChild(s,a,u)}(i,u,s,a)}(s,E,m):3===i&&s.destroyNode(E),null!=f&&function F1(i,s,a,u,h){const f=a[Ho];f!==cr(a)&&oh(s,i,u,f,h);for(let E=$r;E<a.length;E++){const T=a[E];v0(T[y],T,i,s,u,f)}}(s,i,f,a,h)}}function o_(i,s,a){return i.createElement(s,a)}function d0(i,s){s[ct].changeDetectionScheduler?.notify(8),v0(i,s,s[ot],2,null,null)}function R1(i,s){const a=i[Wa],u=s[D];(Tr(u)||s[fn]!==u[D][fn])&&(i[b]|=Ac.HasTransplantedViews),null===a?i[Wa]=[s]:a.push(s)}function XD(i,s){const a=i[Wa],u=a.indexOf(s);a.splice(u,1)}function s_(i,s){if(i.length<=$r)return;const a=$r+s,u=i[a];if(u){const h=u[Sn];null!==h&&h!==i&&XD(h,u),s>0&&(i[a-1][w]=u[w]);const f=Qm(i,$r+s);!function x1(i,s){d0(i,s),s[kr]=null,s[O]=null}(u[y],u);const m=f[vr];null!==m&&m.detachView(f[y]),u[D]=null,u[w]=null,u[b]&=-129}return u}function h0(i,s){if(!(256&s[b])){const a=s[ot];a.destroyNode&&v0(i,s,a,3,null,null),function qD(i){let s=i[Tt];if(!s)return QD(i[y],i);for(;s;){let a=null;if(Tr(s))a=s[Tt];else{const u=s[$r];u&&(a=u)}if(!a){for(;s&&!s[w]&&s!==i;)Tr(s)&&QD(s[y],s),s=s[D];null===s&&(s=i),Tr(s)&&QD(s[y],s),a=s&&s[w]}s=a}}(s)}}function QD(i,s){if(256&s[b])return;const a=l(null);try{s[b]&=-129,s[b]|=256,s[oi]&&Me(s[oi]),function p0(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let u=0;u<a.length;u+=2){const h=s[a[u]];if(!(h instanceof Gf)){const f=a[u+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const E=h[f[m]],T=f[m+1];qa(4,E,T);try{T.call(E)}finally{qa(5,E,T)}}else{qa(4,h,f);try{f.call(h)}finally{qa(5,h,f)}}}}}(i,s),function f0(i,s){const a=i.cleanup,u=s[te];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const m=a[f+3];m>=0?u[m]():u[-m].unsubscribe(),f+=2}else a[f].call(u[a[f+1]]);null!==u&&(s[te]=null);const h=s[Mr];if(null!==h){s[Mr]=null;for(let f=0;f<h.length;f++)(0,h[f])()}}(i,s),1===s[y].type&&s[ot].destroy();const u=s[Sn];if(null!==u&&Pr(s[D])){u!==s[D]&&XD(u,s);const h=s[vr];null!==h&&h.detachView(i)}!function fD(i){ea.delete(i[wr])}(s)}finally{l(a)}}function m0(i,s,a){return function YD(i,s,a){let u=s;for(;null!==u&&168&u.type;)u=(s=u).parent;if(null===u)return a[kr];{const{componentOffset:h}=u;if(h>-1){const{encapsulation:f}=i.data[u.directiveStart+h];if(f===Qs.None||f===Qs.Emulated)return null}return Li(u,a)}}(i,s.parent,a)}function El(i,s,a,u,h){i.insertBefore(s,a,u,h)}function ku(i,s,a){i.appendChild(s,a)}function ZD(i,s,a,u,h){null!==u?El(i,s,a,u,h):ku(i,s,a)}function a_(i,s){return i.parentNode(s)}function JD(i,s,a){return sp(i,s,a)}let g0,sp=function P1(i,s,a){return 40&i.type?Li(i,a):null};function Ia(i,s,a,u){const h=m0(i,u,s),f=s[ot],E=JD(u.parent||s[O],u,s);if(null!=h)if(Array.isArray(a))for(let T=0;T<a.length;T++)ZD(f,h,a[T],E,!1);else ZD(f,h,a,E,!1);void 0!==g0&&g0(f,u,s,a,h)}function cp(i,s){if(null!==s){const a=s.type;if(3&a)return Li(s,i);if(4&a)return c_(-1,i[s.index]);if(8&a){const u=s.child;if(null!==u)return cp(i,u);{const h=i[s.index];return Pr(h)?c_(-1,h):cr(h)}}if(32&a)return c0(s,i)()||cr(i[s.index]);{const u=wl(i,s);return null!==u?Array.isArray(u)?u[0]:cp(Rc(i[fn]),u):cp(i,s.next)}}return null}function wl(i,s){return null!==s?i[fn][O].projection[s.projection]:null}function c_(i,s){const a=$r+i+1;if(a<s.length){const u=s[a],h=u[y].firstChild;if(null!==h)return cp(u,h)}return s[Ho]}function _0(i,s,a,u,h,f,m){for(;null!=a;){if(128===a.type){a=a.next;continue}const E=u[a.index],T=a.type;if(m&&0===s&&(E&&Go(cr(E),u),a.flags|=2),32&~a.flags)if(8&T)_0(i,s,a.child,u,h,f,!1),oh(s,i,h,E,f);else if(32&T){const M=c0(a,u);let N;for(;N=M();)oh(s,i,h,N,f);oh(s,i,h,E,f)}else 16&T?eT(i,s,u,a,h,f):oh(s,i,h,E,f);a=m?a.projectionNext:a.next}}function v0(i,s,a,u,h,f){_0(a,u,i.firstChild,s,h,f,!1)}function eT(i,s,a,u,h,f){const m=a[fn],T=m[O].projection[u.projection];if(Array.isArray(T))for(let M=0;M<T.length;M++)oh(s,i,h,T[M],f);else{let M=T;const N=m[D];Bg(u)&&(M.flags|=128),_0(i,s,M,N,h,f,!0)}}function V1(i,s,a){""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a)}function ah(i,s,a){const{mergedAttrs:u,classes:h,styles:f}=a;null!==u&&hi(i,s,u),null!==h&&V1(i,s,h),null!==f&&function rc(i,s,a){i.setAttribute(s,"style",a)}(i,s,f)}const xn={};function B1(i=1){U1(Gn(),yt(),no()+i,!1)}function U1(i,s,a,u){if(!u)if(3&~s[b]){const f=i.preOrderHooks;null!==f&&Tg(s,f,0,a)}else{const f=i.preOrderCheckHooks;null!==f&&ml(s,f,a)}Ya(a)}function ch(i,s=vt.Default){const a=yt();return null===a?co(i,s):YI(Rr(),a,_n(i),s)}function tT(){throw new Error("invalid")}function nT(i,s,a,u,h,f){const m=l(null);try{let E=null;h&cl.SignalBased&&(E=s[u][L]),null!==E&&void 0!==E.transformFn&&(f=E.transformFn(f)),h&cl.HasDecoratorInputTransform&&(f=i.inputTransforms[u].call(s,f)),null!==i.setInput?i.setInput(s,E,f,a,u):SI(s,E,u,f)}finally{l(m)}}function u_(i,s,a,u,h,f,m,E,T,M,N){const G=s.blueprint.slice();return G[kr]=h,G[b]=204|u,(null!==M||i&&2048&i[b])&&(G[b]|=2048),Bf(G),G[D]=G[Zt]=i,G[ne]=a,G[ct]=m||i&&i[ct],G[ot]=E||i&&i[ot],G[Ee]=T||i&&i[Ee]||null,G[O]=f,G[wr]=function $B(){return MO++}(),G[U]=N,G[To]=M,G[fn]=2==s.type?i[fn]:G,G}function Pu(i,s,a,u,h){let f=i.data[s];if(null===f)f=function y0(i,s,a,u,h){const f=VI(),m=fb(),T=i.data[s]=function d_(i,s,a,u,h,f){let m=s?s.injectorIndex:-1,E=0;return fl()&&(E|=128),{type:a,index:u,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,a,s,u,h);return null===i.firstChild&&(i.firstChild=T),null!==f&&(m?null==f.child&&null!==T.parent&&(f.child=T):null===f.next&&(f.next=T,T.prev=f)),T}(i,s,a,u,h),function Cg(){return Tn.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=u,f.attrs=h;const m=function Uf(){const i=Tn.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return yi(f,!0),f}function lp(i,s,a,u){if(0===a)return-1;const h=s.length;for(let f=0;f<a;f++)s.push(u),i.blueprint.push(u),i.data.push(null);return h}function b0(i,s,a,u,h){const f=no(),m=2&u;try{Ya(-1),m&&s.length>ln&&U1(i,s,ln,!1),qa(m?2:0,h),a(u,h)}finally{Ya(f),qa(m?3:1,h)}}function rT(i,s,a){if(Cr(s)){const u=l(null);try{const f=s.directiveEnd;for(let m=s.directiveStart;m<f;m++){const E=i.data[m];E.contentQueries&&E.contentQueries(1,a[m],m)}}finally{l(u)}}}function iT(i,s,a){FI()&&(function WU(i,s,a,u){const h=a.directiveStart,f=a.directiveEnd;wa(a)&&function cT(i,s,a){const u=Li(s,i),h=oT(a);let m=16;a.signals?m=4096:a.onPush&&(m=64);const E=Nu(i,u_(i,h,null,m,u,s,null,i[ct].rendererFactory.createRenderer(u,a),null,null,null));i[s.index]=E}(s,a,i.data[h+a.componentOffset]),i.firstCreatePass||Rg(a,s),Go(u,s);const m=a.initialInputs;for(let E=h;E<f;E++){const T=i.data[E],M=Ja(s,i,E,a);Go(M,s),null!==m&&X1(0,E-h,M,T,0,m),lo(T)&&(os(a.index,s)[ne]=Ja(s,i,E,a))}}(i,s,a,Li(a,s)),!(64&~a.flags)&&W1(i,s,a))}function E0(i,s,a=Li){const u=s.localNames;if(null!==u){let h=s.index+1;for(let f=0;f<u.length;f+=2){const m=u[f+1],E=-1===m?a(s,i):i[m];i[h++]=E}}}function oT(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Fr(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):s}function Fr(i,s,a,u,h,f,m,E,T,M,N){const G=ln+u,ce=G+h,ve=function LU(i,s){const a=[];for(let u=0;u<s;u++)a.push(u<i?null:xn);return a}(G,ce),Ye="function"==typeof M?M():M;return ve[y]={type:i,blueprint:ve,template:a,queries:null,viewQuery:E,declTNode:s,data:ve.slice().fill(null,G),bindingStartIndex:G,expandoStartIndex:ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:Ye,incompleteFirstPass:!1,ssrId:N}}let $1=()=>null;function H1(i,s,a,u,h){for(let f in s){if(!s.hasOwnProperty(f))continue;const m=s[f];if(void 0===m)continue;u??={};let E,T=cl.None;Array.isArray(m)?(E=m[0],T=m[1]):E=m;let M=f;if(null!==h){if(!h.hasOwnProperty(f))continue;M=h[f]}0===i?z1(u,a,M,E,T):z1(u,a,M,E)}return u}function z1(i,s,a,u,h){let f;i.hasOwnProperty(a)?(f=i[a]).push(s,u):f=i[a]=[s,u],void 0!==h&&f.push(h)}function cs(i,s,a,u,h,f,m,E){const T=Li(s,a);let N,M=s.inputs;!E&&null!=M&&(N=M[u])?(m_(i,a,N,u,h),wa(s)&&function K1(i,s){const a=os(s,i);16&a[b]||(a[b]|=64)}(a,s.index)):3&s.type&&(u=function G1(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),h=null!=m?m(h,s.value||"",u):h,f.setProperty(T,u,h))}function w0(i,s,a,u){if(FI()){const h=null===u?null:{"":-1},f=function qU(i,s){const a=i.directiveRegistry;let u=null,h=null;if(a)for(let f=0;f<a.length;f++){const m=a[f];if(zy(s,m.selectors,!1))if(u||(u=[]),lo(m))if(null!==m.findHostDirectiveDefs){const E=[];h=h||new Map,m.findHostDirectiveDefs(m,E,h),u.unshift(...E,m),aT(i,s,E.length)}else u.unshift(m),aT(i,s,0);else h=h||new Map,m.findHostDirectiveDefs?.(m,u,h),u.push(m)}return null===u?null:[u,h]}(i,a);let m,E;null===f?m=E=null:[m,E]=f,null!==m&&sT(i,s,a,m,h,E),h&&function up(i,s,a){if(s){const u=i.localNames=[];for(let h=0;h<s.length;h+=2){const f=a[s[h+1]];if(null==f)throw new Xt(-301,!1);u.push(s[h],f)}}}(a,u,h)}a.mergedAttrs=jn(a.mergedAttrs,a.attrs)}function sT(i,s,a,u,h,f){for(let M=0;M<u.length;M++)Ab(Rg(a,s),i,u[M].type);!function na(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}(a,i.data.length,u.length);for(let M=0;M<u.length;M++){const N=u[M];N.providersResolver&&N.providersResolver(N)}let m=!1,E=!1,T=lp(i,s,u.length,null);for(let M=0;M<u.length;M++){const N=u[M];a.mergedAttrs=jn(a.mergedAttrs,N.hostAttrs),q1(i,a,s,T,N),XU(T,N,h),null!==N.contentQueries&&(a.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(a.flags|=64);const G=N.type.prototype;!m&&(G.ngOnChanges||G.ngOnInit||G.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),m=!0),!E&&(G.ngOnChanges||G.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),E=!0),T++}!function HU(i,s,a){const h=s.directiveEnd,f=i.data,m=s.attrs,E=[];let T=null,M=null;for(let N=s.directiveStart;N<h;N++){const G=f[N],ce=a?a.get(G):null,Ye=ce?ce.outputs:null;T=H1(0,G.inputs,N,T,ce?ce.inputs:null),M=H1(1,G.outputs,N,M,Ye);const _t=null===T||null===m||Df(s)?null:lT(T,N,m);E.push(_t)}null!==T&&(T.hasOwnProperty("class")&&(s.flags|=8),T.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=T,s.outputs=M}(i,a,f)}function W1(i,s,a){const u=a.directiveStart,h=a.directiveEnd,f=a.index,m=function mb(){return Tn.lFrame.currentDirectiveIndex}();try{Ya(f);for(let E=u;E<h;E++){const T=i.data[E],M=s[E];Ig(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&h_(T,M)}}finally{Ya(-1),Ig(m)}}function h_(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function aT(i,s,a){s.componentOffset=a,(i.components??=[]).push(s.index)}function XU(i,s,a){if(a){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)a[s.exportAs[u]]=i;lo(s)&&(a[""]=i)}}function q1(i,s,a,u,h){i.data[u]=h;const f=h.factory||(h.factory=bu(h.type)),m=new Gf(f,lo(h),ch);i.blueprint[u]=m,a[u]=m,function GU(i,s,a,u,h){const f=h.hostBindings;if(f){let m=i.hostBindingOpCodes;null===m&&(m=i.hostBindingOpCodes=[]);const E=~s.index;(function KU(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(m)!=E&&m.push(E),m.push(a,u,f)}}(i,s,u,lp(i,a,h.hostVars,xn),h)}function ic(i,s,a,u,h,f){const m=Li(i,s);!function f_(i,s,a,u,h,f,m){if(null==f)i.removeAttribute(s,h,a);else{const E=null==m?qe(f):m(f,u||"",h);i.setAttribute(s,h,E,a)}}(s[ot],m,f,i.value,a,u,h)}function X1(i,s,a,u,h,f){const m=f[s];if(null!==m)for(let E=0;E<m.length;)nT(u,a,m[E++],m[E++],m[E++],m[E++])}function lT(i,s,a){let u=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===u&&(u=[]);const m=i[f];for(let E=0;E<m.length;E+=3)if(m[E]===s){u.push(f,m[E+1],m[E+2],a[h+1]);break}}h+=2}else h+=2;else h+=4}return u}function C0(i,s,a,u){return[i,!0,0,s,null,u,null,a,null,null]}function I0(i,s){const a=i.contentQueries;if(null!==a){const u=l(null);try{for(let h=0;h<a.length;h+=2){const m=a[h+1];if(-1!==m){const E=i.data[m];zf(a[h]),E.contentQueries(2,s[m],m)}}}finally{l(u)}}}function Nu(i,s){return i[Tt]?i[St][w]=s:i[Tt]=s,i[St]=s,s}function D0(i,s,a){zf(0);const u=l(null);try{s(i,a)}finally{l(u)}}function dp(i){return i[te]??=[]}function hp(i){return i.cleanup??=[]}function p_(i,s){const a=i[Ee],u=a?a.get(Js,null):null;u&&u.handleError(s)}function m_(i,s,a,u,h){for(let f=0;f<a.length;){const m=a[f++],E=a[f++],T=a[f++];nT(i.data[m],s[m],u,E,T,h)}}function Cl(i,s,a){const u=Vd(s,i);!function u0(i,s,a){i.setValue(s,a)}(i[ot],u,a)}function dT(i,s){const a=os(s,i),u=a[y];!function QU(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])}(u,a);const h=a[kr];null!==h&&null===a[U]&&(a[U]=TD(h,a[Ee])),A0(u,a,a[ne])}function A0(i,s,a){Ud(s);try{const u=i.viewQuery;null!==u&&D0(1,u,a);const h=i.template;null!==h&&b0(i,s,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),s[vr]?.finishViewCreation(i),i.staticContentQueries&&I0(i,s),i.staticViewQueries&&D0(2,i.viewQuery,a);const f=i.components;null!==f&&function Q1(i,s){for(let a=0;a<s.length;a++)dT(i,s[a])}(s,f)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[b]&=-5,vb()}}function Il(i,s,a,u){const h=l(null);try{const f=s.tView,T=u_(i,f,a,4096&i[b]?4096:16,null,s,null,null,u?.injector??null,u?.embeddedViewInjector??null,u?.dehydratedView??null);T[Sn]=i[s.index];const N=i[vr];return null!==N&&(T[vr]=N.createEmbeddedView(f)),A0(f,T,a),T}finally{l(h)}}function hT(i,s){const a=$r+s;if(a<i.length)return i[a]}function Fu(i,s){return!s||null===s.firstChild||Bg(i)}function Lu(i,s,a,u=!0){const h=s[y];if(function NU(i,s,a,u){const h=$r+u,f=a.length;u>0&&(a[h-1][w]=s),u<f-$r?(s[w]=a[h],By(a,$r+u,s)):(a.push(s),s[w]=null),s[D]=a;const m=s[Sn];null!==m&&a!==m&&R1(m,s);const E=s[vr];null!==E&&E.insertView(i),xc(s),s[b]|=128}(h,s,i,a),u){const m=c_(a,i),E=s[ot],T=a_(E,i[Ho]);null!==T&&function M1(i,s,a,u,h,f){u[kr]=h,u[O]=s,v0(i,u,a,1,h,f)}(h,i[O],E,s,T,m)}const f=s[U];null!==f&&null!==f.firstChild&&(f.firstChild=null)}function g_(i,s){const a=s_(i,s);return void 0!==a&&h0(a[y],a),a}function lh(i,s,a,u,h=!1){for(;null!==a;){if(128===a.type){a=h?a.projectionNext:a.next;continue}const f=s[a.index];null!==f&&u.push(cr(f)),Pr(f)&&__(f,u);const m=a.type;if(8&m)lh(i,s,a.child,u);else if(32&m){const E=c0(a,s);let T;for(;T=E();)u.push(T)}else if(16&m){const E=wl(s,a);if(Array.isArray(E))u.push(...E);else{const T=Rc(s[fn]);lh(T[y],T,E,u,!0)}}a=h?a.projectionNext:a.next}return u}function __(i,s){for(let a=$r;a<i.length;a++){const u=i[a],h=u[y].firstChild;null!==h&&lh(u[y],u,h,s)}i[Ho]!==i[kr]&&s.push(i[Ho])}let v_=[];const Y1={...Be,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{Mc(i.lView)},consumerOnSignalRead(){this.lView[oi]=this}},J1={...Be,consumerIsAlwaysLive:!0,consumerMarkedDirty:i=>{let s=Rc(i.lView);for(;s&&!mT(s[y]);)s=Rc(s);s&&Xa(s)},consumerOnSignalRead(){this.lView[oi]=this}};function mT(i){return 2!==i.type}const ek=100;function S0(i,s=!0,a=0){const u=i[ct],h=u.rendererFactory;h.begin?.();try{!function tk(i,s){const a=wg();try{Zs(!0),R0(i,s);let u=0;for(;hl(i);){if(u===ek)throw new Xt(103,!1);u++,R0(i,1)}}finally{Zs(a)}}(i,a)}catch(m){throw s&&p_(i,m),m}finally{h.end?.(),u.inlineEffectRunner?.flush()}}function nk(i,s,a,u){const h=s[b];if(!(256&~h))return;s[ct].inlineEffectRunner?.flush(),Ud(s);let E=!0,T=null,M=null;mT(i)?(M=function fT(i){return i[oi]??function y_(i){const s=v_.pop()??Object.create(Y1);return s.lView=i,s}(i)}(s),T=ke(M)):null===function De(){return re}()?(E=!1,M=function Z1(i){const s=i[oi]??Object.create(J1);return s.lView=i,s}(s),T=ke(M)):s[oi]&&(Me(s[oi]),s[oi]=null);try{Bf(s),function pb(i){return Tn.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&b0(i,s,a,2,u);const N=!(3&~h);if(N){const ve=i.preOrderCheckHooks;null!==ve&&ml(s,ve,null)}else{const ve=i.preOrderHooks;null!==ve&&Tg(s,ve,0,null),Eb(s,0)}if(function M0(i){for(let s=jb(i);null!==s;s=yD(s)){if(!(s[b]&Ac.HasTransplantedViews))continue;const a=s[Wa];for(let u=0;u<a.length;u++)Xa(a[u])}}(s),b_(s,0),null!==i.contentQueries&&I0(i,s),N){const ve=i.contentCheckHooks;null!==ve&&ml(s,ve)}else{const ve=i.contentHooks;null!==ve&&Tg(s,ve,1),Eb(s,1)}!function j1(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let u=0;u<a.length;u++){const h=a[u];if(h<0)Ya(~h);else{const f=h,m=a[++u],E=a[++u];UI(m,f),E(2,s[f])}}}finally{Ya(-1)}}(i,s);const G=i.components;null!==G&&gT(s,G,0);const ce=i.viewQuery;if(null!==ce&&D0(2,ce,u),N){const ve=i.viewCheckHooks;null!==ve&&ml(s,ve)}else{const ve=i.viewHooks;null!==ve&&Tg(s,ve,2),Eb(s,2)}if(!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[to]){for(const ve of s[to])ve();s[to]=null}s[b]&=-73}catch(N){throw Mc(s),N}finally{null!==M&&(ge(M,T),E&&function pT(i){i.lView[oi]!==i&&(i.lView=null,v_.push(i))}(M)),vb()}}function b_(i,s){for(let a=jb(i);null!==a;a=yD(a))for(let u=$r;u<a.length;u++)rk(a[u],s)}function Bc(i,s,a){rk(os(s,i),a)}function rk(i,s){Au(i)&&R0(i,s)}function R0(i,s){const u=i[y],h=i[b],f=i[oi];let m=!!(0===s&&16&h);if(m||=!!(64&h&&0===s),m||=!!(1024&h),m||=!(!f?.dirty||!Fe(f)),m||=!1,f&&(f.dirty=!1),i[b]&=-9217,m)nk(u,i,u.template,i[ne]);else if(8192&h){b_(i,1);const E=u.components;null!==E&&gT(i,E,1)}}function gT(i,s,a){for(let u=0;u<s.length;u++)Bc(i,s[u],a)}function fp(i,s){const a=wg()?64:1088;for(i[ct].changeDetectionScheduler?.notify(s);i;){i[b]|=a;const u=Rc(i);if(Pf(i)&&!u)return i;i=u}return null}class pp{get rootNodes(){const s=this._lView,a=s[y];return lh(a,s,a.firstChild,[])}constructor(s,a,u=!0){this._lView=s,this._cdRefInjectingView=a,this.notifyErrorHandler=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ne]}set context(s){this._lView[ne]=s}get destroyed(){return!(256&~this._lView[b])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[D];if(Pr(s)){const a=s[8],u=a?a.indexOf(this):-1;u>-1&&(s_(s,u),Qm(a,u))}this._attachedToViewContainer=!1}h0(this._lView[y],this._lView)}onDestroy(s){Bd(this._lView,s)}markForCheck(){fp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[b]&=-129}reattach(){xc(this._lView),this._lView[b]|=128}detectChanges(){this._lView[b]|=1024,S0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Xt(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const s=Pf(this._lView),a=this._lView[Sn];null!==a&&!s&&XD(a,this._lView),d0(this._lView[y],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Xt(902,!1);this._appRef=s;const a=Pf(this._lView),u=this._lView[Sn];null!==u&&!a&&R1(u,this._lView),xc(this._lView)}}let uh=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=YU}return i})();const E_=uh,Dl=class extends E_{constructor(s,a,u){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=u}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,a){return this.createEmbeddedViewImpl(s,a)}createEmbeddedViewImpl(s,a,u){const h=Il(this._declarationLView,this._declarationTContainer,s,{embeddedViewInjector:a,dehydratedView:u});return new pp(h)}};function YU(){return w_(Rr(),yt())}function w_(i,s){return 4&i.type?new Dl(s,i,Qd(i,s)):null}let NT=()=>null;function Vu(i,s){return NT(i,s)}class xl{}const mh=new Dn("",{providedIn:"root",factory:()=>!1}),Ip=new Dn("");class kk{}class Pk{}class Nk{resolveComponentFactory(s){throw function M_(i){const s=Error(`No component factory found for ${Gr(i)}.`);return s.ngComponent=i,s}(s)}}class Dp{static#e=this.NULL=new Nk}class $0{}let LT=(()=>{class i{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function Fk(){const i=yt(),a=os(Rr().index,i);return(Tr(a)?a:i)[ot]}()}return i})(),Lk=(()=>{class i{static#e=this.\u0275prov=qn({token:i,providedIn:"root",factory:()=>null})}return i})();const Ml=new Set;function uo(i){Ml.has(i)||(Ml.add(i),performance?.mark?.("mark_feature_usage",{detail:{feature:i}}))}function Tp(i){let s=!0;return setTimeout(()=>{s&&(s=!1,i())}),"function"==typeof Sr.requestAnimationFrame&&Sr.requestAnimationFrame(()=>{s&&(s=!1,i())}),()=>{s=!1}}function Ap(i){let s=!0;return queueMicrotask(()=>{s&&i()}),()=>{s=!1}}function VT(...i){}class Hr{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ec(!1),this.onMicrotaskEmpty=new ec(!1),this.onStable=new ec(!1),this.onError=new ec(!1),typeof Zone>"u")throw new Xt(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&a,h.shouldCoalesceRunChangeDetection=u,h.callbackScheduled=!1,function Uk(i){const s=()=>{!function Bk(i){i.isCheckStableRunning||i.callbackScheduled||(i.callbackScheduled=!0,Zone.root.run(()=>{Tp(()=>{i.callbackScheduled=!1,BT(i),i.isCheckStableRunning=!0,H0(i),i.isCheckStableRunning=!1})}),BT(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,u,h,f,m,E)=>{if(function R_(i){return jT(i,"__ignore_ng_zone__")}(E))return a.invokeTask(h,f,m,E);try{return UT(i),a.invokeTask(h,f,m,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),jk(i)}},onInvoke:(a,u,h,f,m,E,T)=>{try{return UT(i),a.invoke(h,f,m,E,T)}finally{i.shouldCoalesceRunChangeDetection&&!i.callbackScheduled&&!function pj(i){return jT(i,"__scheduler_tick__")}(E)&&s(),jk(i)}},onHasTask:(a,u,h,f)=>{a.hasTask(h,f),u===h&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,BT(i),H0(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,u,h,f)=>(a.handleError(h,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hr.isInAngularZone())throw new Xt(909,!1)}static assertNotInAngularZone(){if(Hr.isInAngularZone())throw new Xt(909,!1)}run(s,a,u){return this._inner.run(s,a,u)}runTask(s,a,u,h){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+h,s,fj,VT,VT);try{return f.runTask(m,a,u)}finally{f.cancelTask(m)}}runGuarded(s,a,u){return this._inner.runGuarded(s,a,u)}runOutsideAngular(s){return this._outer.run(s)}}const fj={};function H0(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function BT(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&!0===i.callbackScheduled)}function UT(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function jk(i){i._nesting--,H0(i)}class z0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ec,this.onMicrotaskEmpty=new ec,this.onStable=new ec,this.onError=new ec}run(s,a,u){return s.apply(a,u)}runGuarded(s,a,u){return s.apply(a,u)}runOutsideAngular(s){return s()}runTask(s,a,u,h){return s.apply(a,u)}}function jT(i,s){return!(!Array.isArray(i)||1!==i.length)&&!0===i[0]?.data?.[s]}var Ko=function(i){return i[i.EarlyRead=0]="EarlyRead",i[i.Write=1]="Write",i[i.MixedReadWrite=2]="MixedReadWrite",i[i.Read=3]="Read",i}(Ko||{});const G0={destroy(){}};function Sp(i,s){!s&&Of();const a=s?.injector??sn(xi);return Ss(a)?(uo("NgAfterRender"),K0(i,a,!1,s?.phase??Ko.MixedReadWrite)):G0}function xp(i,s){!s&&Of();const a=s?.injector??sn(xi);return Ss(a)?(uo("NgAfterNextRender"),K0(i,a,!0,s?.phase??Ko.MixedReadWrite)):G0}function K0(i,s,a,u){const h=function mj(i,s){if(i instanceof Function)switch(s){case Ko.EarlyRead:return{earlyRead:i};case Ko.Write:return{write:i};case Ko.MixedReadWrite:return{mixedReadWrite:i};case Ko.Read:return{read:i}}return i}(i,u),f=s.get(W0),m=f.handler??=new Hk,E=[],T=[],M=()=>{for(const ve of T)m.unregister(ve);N()},N=s.get(Yf).onDestroy(M);let G=0;const ce=(ve,Ye)=>{if(!Ye)return;const _t=a?(...$t)=>{G--,G<1&&M(),Ye(...$t)}:Ye,kt=ug(s,()=>new gj(ve,E,_t));m.register(kt),T.push(kt),G++};return ce(Ko.EarlyRead,h.earlyRead),ce(Ko.Write,h.write),ce(Ko.MixedReadWrite,h.mixedReadWrite),ce(Ko.Read,h.read),{destroy:M}}class gj{constructor(s,a,u){this.phase=s,this.pipelinedArgs=a,this.callbackFn=u,this.zone=sn(Hr),this.errorHandler=sn(Js,{optional:!0}),sn(xl,{optional:!0})?.notify(6)}invoke(){try{const s=this.zone.runOutsideAngular(()=>this.callbackFn.apply(null,this.pipelinedArgs));this.pipelinedArgs.splice(0,this.pipelinedArgs.length,s)}catch(s){this.errorHandler?.handleError(s)}}}class Hk{constructor(){this.executingCallbacks=!1,this.buckets={[Ko.EarlyRead]:new Set,[Ko.Write]:new Set,[Ko.MixedReadWrite]:new Set,[Ko.Read]:new Set},this.deferredCallbacks=new Set}register(s){(this.executingCallbacks?this.deferredCallbacks:this.buckets[s.phase]).add(s)}unregister(s){this.buckets[s.phase].delete(s),this.deferredCallbacks.delete(s)}execute(){this.executingCallbacks=!0;for(const s of Object.values(this.buckets))for(const a of s)a.invoke();this.executingCallbacks=!1;for(const s of this.deferredCallbacks)this.buckets[s.phase].add(s);this.deferredCallbacks.clear()}destroy(){for(const s of Object.values(this.buckets))s.clear();this.deferredCallbacks.clear()}}let W0=(()=>{class i{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const a=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const u of a)u()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=qn({token:i,providedIn:"root",factory:()=>new i})}return i})();function bi(i){return!!Fi(i)}function N_(i,s,a){let u=a?i.styles:null,h=a?i.classes:null,f=0;if(null!==s)for(let m=0;m<s.length;m++){const E=s[m];"number"==typeof E?f=E:1==f?h=il(h,E):2==f&&(u=il(u,E+": "+s[++m]+";"))}a?i.styles=u:i.stylesWithoutHost=u,a?i.classes=h:i.classesWithoutHost=h}class F_ extends Dp{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=Vn(s);return new vh(a,this.ngModule)}}function Gk(i,s){const a=[];for(const u in i){if(!i.hasOwnProperty(u))continue;const h=i[u];if(void 0===h)continue;const f=Array.isArray(h),m=f?h[0]:h;a.push(s?{propName:m,templateName:u,isSignal:!!((f?h[1]:cl.None)&cl.SignalBased)}:{propName:m,templateName:u})}return a}class vh extends Pk{get inputs(){const s=this.componentDef,a=s.inputTransforms,u=Gk(s.inputs,!0);if(null!==a)for(const h of u)a.hasOwnProperty(h.propName)&&(h.transform=a[h.propName]);return u}get outputs(){return Gk(this.componentDef.outputs,!1)}constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function xr(i){return i.map(Jm).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}create(s,a,u,h){const f=l(null);try{let m=(h=h||this.ngModule)instanceof Ts?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const E=m?new xu(s,m):s,T=E.get($0,null);if(null===T)throw new Xt(407,!1);const M=E.get(Lk,null),ce={rendererFactory:T,sanitizer:M,inlineEffectRunner:null,afterRenderEventManager:E.get(W0,null),changeDetectionScheduler:E.get(xl,null)},ve=T.createRenderer(null,this.componentDef),Ye=this.componentDef.selectors[0][0]||"div",_t=u?function VU(i,s,a,u){const f=u.get(r1,!1)||a===Qs.ShadowDom,m=i.selectRootElement(s,f);return function BU(i){$1(i)}(m),m}(ve,u,this.componentDef.encapsulation,E):o_(ve,Ye,function Kk(i){const s=i.toLowerCase();return"svg"===s?Vf:"math"===s?"math":null}(Ye));let kt=512;this.componentDef.signals?kt|=4096:this.componentDef.onPush||(kt|=16);let $t=null;null!==_t&&($t=TD(_t,E,!0));const wt=Fr(0,null,null,1,0,null,null,null,null,null,null),wn=u_(null,wt,null,kt,null,null,ce,ve,E,null,$t);let Yn,Ar;Ud(wn);try{const zi=this.componentDef;let lr,Kn=null;zi.findHostDirectiveDefs?(lr=[],Kn=new Map,zi.findHostDirectiveDefs(zi,lr,Kn),lr.push(zi)):lr=[zi];const hC=function qk(i,s){const a=i[y],u=ln;return i[u]=s,Pu(a,u,2,"#host",null)}(wn,_t),yM=function GT(i,s,a,u,h,f,m){const E=h[y];!function q0(i,s,a,u){for(const h of i)s.mergedAttrs=jn(s.mergedAttrs,h.hostAttrs);null!==s.mergedAttrs&&(N_(s,s.mergedAttrs,!0),null!==a&&ah(u,a,s))}(u,i,s,m);let T=null;null!==s&&(T=TD(s,h[Ee]));const M=f.rendererFactory.createRenderer(s,a);let N=16;a.signals?N=4096:a.onPush&&(N=64);const G=u_(h,oT(a),null,N,h[i.index],i,f,M,null,null,T);return E.firstCreatePass&&aT(E,i,u.length-1),Nu(h,G),h[i.index]=G}(hC,_t,zi,lr,wn,ce,ve);Ar=Du(wt,ln),_t&&function yj(i,s,a,u){if(u)hi(i,a,["ng-version","18.1.1"]);else{const{attrs:h,classes:f}=function Ad(i){const s=[],a=[];let u=1,h=2;for(;u<i.length;){let f=i[u];if("string"==typeof f)2===h?""!==f&&s.push(f,i[++u]):8===h&&a.push(f);else{if(!_r(h))break;h=f}u++}return{attrs:s,classes:a}}(s.selectors[0]);h&&hi(i,a,h),f&&f.length>0&&V1(i,a,f.join(" "))}}(ve,zi,_t,u),void 0!==a&&function bj(i,s,a){const u=i.projection=[];for(let h=0;h<s.length;h++){const f=a[h];u.push(null!=f?Array.from(f):null)}}(Ar,this.ngContentSelectors,a),Yn=function vj(i,s,a,u,h,f){const m=Rr(),E=h[y],T=Li(m,h);sT(E,h,m,a,null,u);for(let N=0;N<a.length;N++)Go(Ja(h,E,m.directiveStart+N,m),h);W1(E,h,m),T&&Go(T,h);const M=Ja(h,E,m.directiveStart+m.componentOffset,m);if(i[ne]=h[ne]=M,null!==f)for(const N of f)N(M,s);return rT(E,m,h),M}(yM,zi,lr,Kn,wn,[Ej]),A0(wt,wn,null)}finally{vb()}return new Wk(this.componentType,Yn,Qd(Ar,wn),wn,Ar)}finally{l(f)}}}class Wk extends kk{constructor(s,a,u,h,f){super(),this.location=u,this._rootLView=h,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new pp(h,void 0,!1),this.componentType=s}setInput(s,a){const u=this._tNode.inputs;let h;if(null!==u&&(h=u[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),a))return;const f=this._rootLView;m_(f[y],f,h,s,a),this.previousInputValues.set(s,a),fp(os(this._tNode.index,f),1)}}get injector(){return new Vi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function Ej(){const i=Rr();Oc(yt()[y],i)}let X0=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=wj}return i})();function wj(){return V_(Rr(),yt())}const Q0=X0,L_=class extends Q0{constructor(s,a,u){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=u}get element(){return Qd(this._hostTNode,this._hostLView)}get injector(){return new Vi(this._hostTNode,this._hostLView)}get parentInjector(){const s=Gd(this._hostTNode,this._hostLView);if(Ib(s)){const a=qf(s,this._hostLView),u=Wf(s);return new Vi(a[y].data[u+8],a)}return new Vi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=Mp(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-$r}createEmbeddedView(s,a,u){let h,f;"number"==typeof u?h=u:null!=u&&(h=u.index,f=u.injector);const m=Vu(this._lContainer,s.ssrId),E=s.createEmbeddedViewImpl(a||{},f,m);return this.insertImpl(E,h,Fu(this._hostTNode,m)),E}createComponent(s,a,u,h,f){const m=s&&!function dl(i){return"function"==typeof i}(s);let E;if(m)E=a;else{const Ye=a||{};E=Ye.index,u=Ye.injector,h=Ye.projectableNodes,f=Ye.environmentInjector||Ye.ngModuleRef}const T=m?s:new vh(Vn(s)),M=u||this.parentInjector;if(!f&&null==T.ngModule){const _t=(m?M:this.parentInjector).get(Ts,null);_t&&(f=_t)}const N=Vn(T.componentType??{}),G=Vu(this._lContainer,N?.id??null),ve=T.create(M,h,G?.firstChild??null,f);return this.insertImpl(ve.hostView,E,Fu(this._hostTNode,G)),ve}insert(s,a){return this.insertImpl(s,a,!0)}insertImpl(s,a,u){const h=s._lView;if(function tr(i){return Pr(i[D])}(h)){const E=this.indexOf(s);if(-1!==E)this.detach(E);else{const T=h[D],M=new L_(T,T[O],T[D]);M.detach(M.indexOf(s))}}const f=this._adjustIndex(a),m=this._lContainer;return Lu(m,h,f,u),s.attachToViewContainerRef(),By(Y0(m),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=Mp(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),u=s_(this._lContainer,a);u&&(Qm(Y0(this._lContainer),a),h0(u[y],u))}detach(s){const a=this._adjustIndex(s,-1),u=s_(this._lContainer,a);return u&&null!=Qm(Y0(this._lContainer),a)?new pp(u):null}_adjustIndex(s,a=0){return s??this.length+a}};function Mp(i){return i[8]}function Y0(i){return i[8]||(i[8]=[])}function V_(i,s){let a;const u=s[i.index];return Pr(u)?a=u:(a=C0(u,s,null,i),s[i.index]=a,Nu(s,a)),KT(a,s,i,u),new L_(a,i,s)}let KT=function Qk(i,s,a,u){if(i[Ho])return;let h;h=8&a.type?cr(u):function Cj(i,s){const a=i[ot],u=a.createComment(""),h=Li(s,i);return El(a,a_(a,h),u,function k1(i,s){return i.nextSibling(s)}(a,h),!1),u}(s,a),i[Ho]=h},WT=()=>!1;class qT{constructor(s){this.queryList=s,this.matches=null}clone(){return new qT(this.queryList)}setDirty(){this.queryList.setDirty()}}class En{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const u=null!==s.contentQueries?s.contentQueries[0]:a.length,h=[];for(let f=0;f<u;f++){const m=a.getByIndex(f);h.push(this.queries[m.indexInDeclarationView].clone())}return new En(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}finishViewCreation(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==rA(s,a).matches&&this.queries[a].setDirty()}}class XT{constructor(s,a,u=null){this.flags=a,this.read=u,this.predicate="string"==typeof s?function Dj(i){return i.split(",").map(s=>s.trim())}(s):s}}class J0{constructor(s=[]){this.queries=s}elementStart(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let u=0;u<this.length;u++){const h=null!==a?a.length:0,f=this.getByIndex(u).embeddedTView(s,h);f&&(f.indexInDeclarationView=u,null!==a?a.push(f):a=[f])}return null!==a?new J0(a):null}template(s,a){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class eE{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new eE(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1&~this.metadata.flags){const a=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==a;)u=u.parent;return a===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const f=u[h];this.matchTNodeWithReadOption(s,a,Zk(a,f)),this.matchTNodeWithReadOption(s,a,Og(a,s,f,!1,!1))}else u===uh?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,Og(a,s,u,!1,!1))}matchTNodeWithReadOption(s,a,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===So||h===X0||h===uh&&4&a.type)this.addMatch(a.index,-2);else{const f=Og(a,s,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,u)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function Zk(i,s){const a=i.localNames;if(null!==a)for(let u=0;u<a.length;u+=2)if(a[u]===s)return a[u+1];return null}function QT(i,s,a,u){return-1===a?function yh(i,s){return 11&i.type?Qd(i,s):4&i.type?w_(i,s):null}(s,i):-2===a?function Jk(i,s,a){return a===So?Qd(s,i):a===uh?w_(s,i):a===X0?V_(s,i):void 0}(i,s,u):Ja(i,i[y],a,s)}function YT(i,s,a,u){const h=s[vr].queries[u];if(null===h.matches){const f=i.data,m=a.matches,E=[];for(let T=0;null!==m&&T<m.length;T+=2){const M=m[T];E.push(M<0?null:QT(s,f[M],m[T+1],a.metadata.read))}h.matches=E}return h.matches}function tE(i,s,a,u){const h=i.queries.getByIndex(a),f=h.matches;if(null!==f){const m=YT(i,s,h,a);for(let E=0;E<f.length;E+=2){const T=f[E];if(T>0)u.push(m[E/2]);else{const M=f[E+1],N=s[-T];for(let G=$r;G<N.length;G++){const ce=N[G];ce[Sn]===ce[D]&&tE(ce[y],ce,M,u)}if(null!==N[Wa]){const G=N[Wa];for(let ce=0;ce<G.length;ce++){const ve=G[ce];tE(ve[y],ve,M,u)}}}}}return u}function Bu(i,s){return i[vr].queries[s].queryList}function ZT(i,s,a){const u=new Fb(!(4&~a));return function $U(i,s,a,u){const h=dp(s);h.push(a),i.firstCreatePass&&hp(i).push(u,h.length-1)}(i,s,u,u.destroy),(s[vr]??=new En).queries.push(new qT(u))-1}function eA(i,s,a,u){const h=Gn();if(h.firstCreatePass){const f=Rr();tA(h,new XT(s,a,u),f.index),function nA(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(h,i),!(2&~a)&&(h.staticContentQueries=!0)}return ZT(h,yt(),a)}function tA(i,s,a){null===i.queries&&(i.queries=new J0),i.queries.track(new eE(s,a))}function rA(i,s){return i.queries.getByIndex(s)}function eP(i,s){const a=i[y],u=rA(a,s);return u.crossesNgTemplate?tE(a,i,s,[]):YT(a,i,u,s)}function iA(i){return"function"==typeof i&&void 0!==i[L]}function tP(i,s){uo("NgSignals");const a=function se(i){const s=Object.create(Z);s.value=i;const a=()=>(Y(s),s.value);return a[L]=s,a}(i),u=a[L];return s?.equal&&(u.equal=s.equal),a.set=h=>B(u,h),a.update=h=>function $(i,s){ze()||hn(),B(i,s(i.value))}(u,h),a.asReadonly=oA.bind(a),a}function oA(){const i=this[L];if(void 0===i.readonlyFn){const s=()=>this();s[L]=i,i.readonlyFn=s}return i.readonlyFn}function rE(i,s){let a;const u=de(()=>{a._dirtyCounter();const h=function Tj(i,s){const a=i._lView,u=i._queryIndex;if(void 0===a||void 0===u||4&a[b])return s?void 0:rr;const h=Bu(a,u),f=eP(a,u);return h.reset(f,dD),s?h.first:h._changesDetected||void 0===i._flatValue?i._flatValue=h.toArray():i._flatValue}(a,i);if(s&&void 0===h)throw new Xt(-951,!1);return h});return a=u[L],a._dirtyCounter=tP(0),a._flatValue=void 0,u}function iP(i,s){return function sA(){return rE(!0,!1)}()}const U_=(iP.required=function Aj(i,s){return function B_(){return rE(!0,!0)}()},iP);function H_(i){let s=function dP(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const u=[i];for(;s;){let h;if(lo(i))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Xt(903,!1);h=s.\u0275dir}if(h){if(a){u.push(h);const m=i;m.inputs=z_(i.inputs),m.inputTransforms=z_(i.inputTransforms),m.declaredInputs=z_(i.declaredInputs),m.outputs=z_(i.outputs);const E=h.hostBindings;E&&dA(i,E);const T=h.viewQuery,M=h.contentQueries;if(T&&Wo(i,T),M&&pP(i,M),hP(i,h),bf(i.outputs,h.outputs),lo(h)&&h.data.animation){const N=i.data;N.animation=(N.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let m=0;m<f.length;m++){const E=f[m];E&&E.ngInherit&&E(i),E===H_&&(a=!1)}}s=Object.getPrototypeOf(s)}!function fP(i){let s=0,a=null;for(let u=i.length-1;u>=0;u--){const h=i[u];h.hostVars=s+=h.hostVars,h.hostAttrs=jn(h.hostAttrs,a=jn(a,h.hostAttrs))}}(u)}function hP(i,s){for(const a in s.inputs){if(!s.inputs.hasOwnProperty(a)||i.inputs.hasOwnProperty(a))continue;const u=s.inputs[a];if(void 0!==u&&(i.inputs[a]=u,i.declaredInputs[a]=s.declaredInputs[a],null!==s.inputTransforms)){const h=Array.isArray(u)?u[0]:u;if(!s.inputTransforms.hasOwnProperty(h))continue;i.inputTransforms??={},i.inputTransforms[h]=s.inputTransforms[h]}}}function z_(i){return i===Ka?{}:i===rr?[]:i}function Wo(i,s){const a=i.viewQuery;i.viewQuery=a?(u,h)=>{s(u,h),a(u,h)}:s}function pP(i,s){const a=i.contentQueries;i.contentQueries=a?(u,h,f)=>{s(u,h,f),a(u,h,f)}:s}function dA(i,s){const a=i.hostBindings;i.hostBindings=a?(u,h)=>{s(u,h),a(u,h)}:s}function fA(i){const s=a=>{const u=(Array.isArray(i)?i:i()).map(h=>"function"==typeof h?{directive:_n(h),inputs:Ka,outputs:Ka}:{directive:_n(h.directive),inputs:gP(h.inputs),outputs:gP(h.outputs)});null===a.hostDirectives?(a.findHostDirectiveDefs=cE,a.hostDirectives=u):a.hostDirectives.unshift(...u)};return s.ngInherit=!0,s}function cE(i,s,a){if(null!==i.hostDirectives)for(const u of i.hostDirectives){const h=gi(u.directive);_P(h.declaredInputs,u.inputs),cE(h,s,a),a.set(h,u),s.push(h)}}function gP(i){if(void 0===i||0===i.length)return Ka;const s={};for(let a=0;a<i.length;a+=2)s[i[a]]=i[a+1];return s}function _P(i,s){for(const a in s)s.hasOwnProperty(a)&&(i[s[a]]=i[a])}function mA(i){const s=i.inputConfig,a={};for(const u in s)if(s.hasOwnProperty(u)){const h=s[u];Array.isArray(h)&&h[3]&&(a[u]=h[3])}i.inputTransforms=a}class Uu{}class gA{}function lE(i,s){return new _A(i,s??null,[])}class _A extends Uu{constructor(s,a,u){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new F_(this);const h=Fi(s);this._bootstrapComponents=As(h.bootstrap),this._r3Injector=cD(s,a,[{provide:Uu,useValue:this},{provide:Dp,useValue:this.componentFactoryResolver},...u],Gr(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class vA extends gA{constructor(s){super(),this.moduleType=s}create(s){return new _A(this.moduleType,s,[])}}class yA extends Uu{constructor(s){super(),this.componentFactoryResolver=new F_(this),this.instance=null;const a=new Iu([...s.providers,{provide:Uu,useValue:this},{provide:Dp,useValue:this.componentFactoryResolver}],s.parent||Mf(),s.debugName,new Set(["environment"]));this.injector=a,s.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function bA(i,s,a=null){return new yA({providers:i,parent:s,debugName:a,runEnvironmentInitializers:!0}).injector}function dE(i){return!!hE(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function hE(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Da(i,s,a){return i[s]=a}function Ei(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function Nl(i,s,a,u){const h=Ei(i,s,a);return Ei(i,s+1,u)||h}function Fp(i,s,a,u,h,f,m,E,T,M){const N=a+ln,G=s.firstCreatePass?function bP(i,s,a,u,h,f,m,E,T){const M=s.consts,N=Pu(s,i,4,m||null,E||null);w0(s,a,N,vi(M,T)),Oc(s,N);const G=N.tView=Fr(2,N,u,h,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M,null);return null!==s.queries&&(s.queries.template(s,N),G.queries=s.queries.embeddedTView(N)),N}(N,s,i,u,h,f,m,E,T):s.data[N];yi(G,!1);const ce=EA(s,i,G,a);pl()&&Ia(s,i,ce,G),Go(ce,i);const ve=C0(ce,i,ce,G);return i[N]=ve,Nu(i,ve),function Xk(i,s,a){return WT(i,s,a)}(ve,G,i),fg(G)&&iT(s,i,G),null!=T&&E0(i,G,M),G}function pE(i,s,a,u,h,f,m,E){const T=yt(),M=Gn();return Fp(T,M,i,s,a,u,h,vi(M.consts,f),m,E),pE}let EA=function wA(i,s,a,u){return Za(!0),s[ot].createComment("")};function ho(i,s,a,u){const h=yt();return Ei(h,Ca(),s)&&(Gn(),ic(Nr(),h,i,s,a,u)),ho}function Th(i,s,a,u){return Ei(i,Ca(),a)?s+qe(a)+u:xn}function Sh(i,s,a,u,h,f,m,E){const M=function fE(i,s,a,u,h){const f=Nl(i,s,a,u);return Ei(i,s+2,h)||f}(i,Qa(),a,h,m);return as(3),M?s+qe(a)+u+qe(h)+f+qe(m)+E:xn}function tv(i,s){return i<<17|s<<2}function Bl(i){return i>>17&32767}function ME(i){return 2|i}function Ul(i){return(131068&i)>>2}function Wp(i,s){return-131069&i|s<<2}function RE(i){return 1|i}function qp(i,s,a,u){const h=i[a+1],f=null===s;let m=u?Bl(h):Ul(h),E=!1;for(;0!==m&&(!1===E||f);){const M=i[m+1];jP(i[m],s)&&(E=!0,i[m+1]=u?RE(M):ME(M)),m=u?Bl(M):Ul(M)}E&&(i[a+1]=u?ME(h):RE(h))}function jP(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Cd(i,s)>=0}const Bi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function $P(i){return i.substring(Bi.key,Bi.keyEnd)}function zA(i,s){const a=Bi.textEnd;return a===s?-1:(s=Bi.keyEnd=function KA(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,Bi.key=s,a),kh(i,s,a))}function kh(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function kE(i,s,a){const u=yt();return Ei(u,Ca(),s)&&cs(Gn(),Nr(),u,i,s,u[ot],a,!1),kE}function PE(i,s,a,u,h){const m=h?"class":"style";m_(i,a,s.inputs[m],m,u)}function NE(i,s,a){return Sa(i,s,a,!1),NE}function FE(i,s){return Sa(i,s,null,!0),FE}function QA(i){xa(nS,ac,i,!0)}function ac(i,s){for(let a=function zP(i){return function OE(i){Bi.key=0,Bi.keyEnd=0,Bi.value=0,Bi.valueEnd=0,Bi.textEnd=i.length}(i),zA(i,kh(i,0,Bi.textEnd))}(s);a>=0;a=zA(s,a))Ds(i,$P(s),!0)}function Sa(i,s,a,u){const h=yt(),f=Gn(),m=as(2);f.firstUpdatePass&&ZA(f,i,m,u),s!==xn&&Ei(h,m,s)&&rS(f,f.data[no()],h,h[ot],i,h[m+1]=function ZP(i,s){return null==i||""===i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Gr(yl(i)))),i}(s,a),u,m)}function xa(i,s,a,u){const h=Gn(),f=as(2);h.firstUpdatePass&&ZA(h,null,f,u);const m=yt();if(a!==xn&&Ei(m,f,a)){const E=h.data[no()];if(VE(E,u)&&!YA(h,f)){let T=u?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(a=il(T,a||"")),PE(h,E,m,a,u)}else!function YP(i,s,a,u,h,f,m,E){h===xn&&(h=rr);let T=0,M=0,N=0<h.length?h[0]:null,G=0<f.length?f[0]:null;for(;null!==N||null!==G;){const ce=T<h.length?h[T+1]:void 0,ve=M<f.length?f[M+1]:void 0;let _t,Ye=null;N===G?(T+=2,M+=2,ce!==ve&&(Ye=G,_t=ve)):null===G||null!==N&&N<G?(T+=2,Ye=N):(M+=2,Ye=G,_t=ve),null!==Ye&&rS(i,s,a,u,Ye,_t,m,E),N=T<h.length?h[T]:null,G=M<f.length?f[M]:null}}(h,E,m,m[ot],m[f+1],m[f+1]=function QP(i,s,a){if(null==a||""===a)return rr;const u=[],h=yl(a);if(Array.isArray(h))for(let f=0;f<h.length;f++)i(u,h[f],!0);else if("object"==typeof h)for(const f in h)h.hasOwnProperty(f)&&i(u,f,h[f]);else"string"==typeof h&&s(u,h);return u}(i,s,a),u,f)}}function YA(i,s){return s>=i.expandoStartIndex}function ZA(i,s,a,u){const h=i.data;if(null===h[a+1]){const f=h[no()],m=YA(i,a);VE(f,u)&&null===s&&!m&&(s=!1),s=function JA(i,s,a,u){const h=function $f(i){const s=Tn.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(a=Hu(a=LE(null,i,s,a,u),s.attrs,u),f=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==h)if(a=LE(h,i,s,a,u),null===f){let T=function qP(i,s,a){const u=a?s.classBindings:s.styleBindings;if(0!==Ul(u))return i[Bl(u)]}(i,s,u);void 0!==T&&Array.isArray(T)&&(T=LE(null,i,s,T[1],u),T=Hu(T,s.attrs,u),function XP(i,s,a,u){i[Bl(a?s.classBindings:s.styleBindings)]=u}(i,s,u,T))}else f=function eS(i,s,a){let u;const h=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<h;f++)u=Hu(u,i[f].hostAttrs,a);return Hu(u,s.attrs,a)}(i,s,u)}return void 0!==f&&(u?s.residualClasses=f:s.residualStyles=f),a}(h,f,s,u),function UP(i,s,a,u,h,f){let m=f?s.classBindings:s.styleBindings,E=Bl(m),T=Ul(m);i[u]=a;let N,M=!1;if(Array.isArray(a)?(N=a[1],(null===N||Cd(a,N)>0)&&(M=!0)):N=a,h)if(0!==T){const ce=Bl(i[E+1]);i[u+1]=tv(ce,E),0!==ce&&(i[ce+1]=Wp(i[ce+1],u)),i[E+1]=function VP(i,s){return 131071&i|s<<17}(i[E+1],u)}else i[u+1]=tv(E,0),0!==E&&(i[E+1]=Wp(i[E+1],u)),E=u;else i[u+1]=tv(T,0),0===E?E=u:i[T+1]=Wp(i[T+1],u),T=u;M&&(i[u+1]=ME(i[u+1])),qp(i,N,u,!0),qp(i,N,u,!1),function HA(i,s,a,u,h){const f=h?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Cd(f,s)>=0&&(a[u+1]=RE(a[u+1]))}(s,N,i,u,f),m=tv(E,T),f?s.classBindings=m:s.styleBindings=m}(h,f,s,a,m,u)}}function LE(i,s,a,u,h){let f=null;const m=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<m&&(f=s[E],u=Hu(u,f.hostAttrs,h),f!==i);)E++;return null!==i&&(a.directiveStylingLast=E),u}function Hu(i,s,a){const u=a?1:2;let h=-1;if(null!==s)for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?h=m:h===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Ds(i,m,!!a||s[++f]))}return void 0===i?null:i}function nS(i,s,a){const u=String(s);""!==u&&!u.includes(" ")&&Ds(i,u,a)}function rS(i,s,a,u,h,f,m,E){if(!(3&s.type))return;const T=i.data,M=T[E+1],N=function BP(i){return!(1&~i)}(M)?iS(T,s,a,h,Ul(M),m):void 0;rv(N)||(rv(f)||function LP(i){return!(2&~i)}(M)&&(f=iS(T,null,a,h,E,m)),function L1(i,s,a,u,h){if(s)h?i.addClass(a,u):i.removeClass(a,u);else{let f=-1===u.indexOf("-")?void 0:r_.DashCase;null==h?i.removeStyle(a,u,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=r_.Important),i.setStyle(a,u,h,f))}}(u,m,Vd(no(),a),h,f))}function iS(i,s,a,u,h,f){const m=null===s;let E;for(;h>0;){const T=i[h],M=Array.isArray(T),N=M?T[1]:T,G=null===N;let ce=a[h+1];ce===xn&&(ce=G?rr:void 0);let ve=G?$y(ce,u):N===u?ce:void 0;if(M&&!rv(ve)&&(ve=$y(T,u)),rv(ve)&&(E=ve,m))return E;const Ye=i[h+1];h=m?Bl(Ye):Ul(Ye)}if(null!==s){let T=f?s.residualClasses:s.residualStyles;null!=T&&(E=$y(T,u))}return E}function rv(i){return void 0!==i}function VE(i,s){return!!(i.flags&(s?8:16))}function oS(i,s,a){xa(Ds,ac,Th(yt(),i,s,a),!0)}class lS{destroy(s){}updateValue(s,a){}swap(s,a){const u=Math.min(s,a),h=Math.max(s,a),f=this.detach(h);if(h-u>1){const m=this.detach(u);this.attach(u,f),this.attach(h,m)}else this.attach(u,f)}move(s,a){this.attach(a,this.detach(s))}}function iv(i,s,a,u,h){return i===a&&Object.is(s,u)?1:Object.is(h(i,s),h(a,u))?-1:0}function Ph(i,s,a,u){return!(void 0===s||!s.has(u)||(i.attach(a,s.get(u)),s.delete(u),0))}function jE(i,s,a,u,h){if(Ph(i,s,u,a(u,h)))i.updateValue(u,h);else{const f=i.create(u,h);i.attach(u,f)}}function ov(i,s,a,u){const h=new Set;for(let f=s;f<=a;f++)h.add(u(f,i.at(f)));return h}class uS{constructor(){this.kvMap=new Map,this._vMap=void 0}has(s){return this.kvMap.has(s)}delete(s){if(!this.has(s))return!1;const a=this.kvMap.get(s);return void 0!==this._vMap&&this._vMap.has(a)?(this.kvMap.set(s,this._vMap.get(a)),this._vMap.delete(a)):this.kvMap.delete(s),!0}get(s){return this.kvMap.get(s)}set(s,a){if(this.kvMap.has(s)){let u=this.kvMap.get(s);void 0===this._vMap&&(this._vMap=new Map);const h=this._vMap;for(;h.has(u);)u=h.get(u);h.set(u,a)}else this.kvMap.set(s,a)}forEach(s){for(let[a,u]of this.kvMap)if(s(u,a),void 0!==this._vMap){const h=this._vMap;for(;h.has(u);)u=h.get(u),s(u,a)}}}function Ma(i,s){uo("NgControlFlow");const a=yt(),u=Ca(),h=a[u]!==xn?a[u]:-1,f=-1!==h?cv(a,ln+h):void 0;if(Ei(a,u,i)){const E=l(null);try{if(void 0!==f&&g_(f,0),-1!==i){const T=ln+i,M=cv(a,T),N=$E(a[y],T),G=Vu(M,N.tView.ssrId);Lu(M,Il(a,N,s,{dehydratedView:G}),0,Fu(N,G))}}finally{l(E)}}else if(void 0!==f){const E=hT(f,0);void 0!==E&&(E[ne]=s)}}class nN{constructor(s,a,u){this.lContainer=s,this.$implicit=a,this.$index=u}get $count(){return this.lContainer.length-$r}}function sv(i){return i}class iN{constructor(s,a,u){this.hasEmptyBlock=s,this.trackByFn=a,this.liveCollection=u}}function av(i,s,a,u,h,f,m,E,T,M,N,G,ce){uo("NgControlFlow");const ve=yt(),Ye=Gn(),_t=void 0!==T,kt=yt(),$t=E?m.bind(kt[fn][ne]):m,wt=new iN(_t,$t);kt[ln+i]=wt,Fp(ve,Ye,i+1,s,a,u,h,vi(Ye.consts,f)),_t&&Fp(ve,Ye,i+2,T,M,N,G,vi(Ye.consts,ce))}class oN extends lS{constructor(s,a,u){super(),this.lContainer=s,this.hostLView=a,this.templateTNode=u,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-$r}at(s){return this.getLView(s)[ne].$implicit}attach(s,a){const u=a[U];this.needsIndexUpdate||=s!==this.length,Lu(this.lContainer,a,s,Fu(this.templateTNode,u))}detach(s){return this.needsIndexUpdate||=s!==this.length-1,function sN(i,s){return s_(i,s)}(this.lContainer,s)}create(s,a){const u=Vu(this.lContainer,this.templateTNode.tView.ssrId),h=Il(this.hostLView,this.templateTNode,new nN(this.lContainer,a,s),{dehydratedView:u});return this.operationsCounter?.recordCreate(),h}destroy(s){h0(s[y],s),this.operationsCounter?.recordDestroy()}updateValue(s,a){this.getLView(s)[ne].$implicit=a}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let s=0;s<this.length;s++)this.getLView(s)[ne].$index=s}getLView(s){return function aN(i,s){return hT(i,s)}(this.lContainer,s)}}function dS(i){const s=l(null),a=no();try{const u=yt(),h=u[y],f=u[a],m=a+1,E=cv(u,m);if(void 0===f.liveCollection){const M=$E(h,m);f.liveCollection=new oN(E,u,M)}else f.liveCollection.reset();const T=f.liveCollection;if(function tN(i,s,a){let u,h,f=0,m=i.length-1;if(Array.isArray(s)){let T=s.length-1;for(;f<=m&&f<=T;){const M=i.at(f),N=s[f],G=iv(f,M,f,N,a);if(0!==G){G<0&&i.updateValue(f,N),f++;continue}const ce=i.at(m),ve=s[T],Ye=iv(m,ce,T,ve,a);if(0!==Ye){Ye<0&&i.updateValue(m,ve),m--,T--;continue}const _t=a(f,M),kt=a(m,ce),$t=a(f,N);if(Object.is($t,kt)){const wt=a(T,ve);Object.is(wt,_t)?(i.swap(f,m),i.updateValue(m,ve),T--,m--):i.move(m,f),i.updateValue(f,N),f++}else if(u??=new uS,h??=ov(i,f,m,a),Ph(i,u,f,$t))i.updateValue(f,N),f++,m++;else if(h.has($t))u.set(_t,i.detach(f)),m--;else{const wt=i.create(f,s[f]);i.attach(f,wt),f++,m++}}for(;f<=T;)jE(i,u,a,f,s[f]),f++}else if(null!=s){const T=s[Symbol.iterator]();let M=T.next();for(;!M.done&&f<=m;){const N=i.at(f),G=M.value,ce=iv(f,N,f,G,a);if(0!==ce)ce<0&&i.updateValue(f,G),f++,M=T.next();else{u??=new uS,h??=ov(i,f,m,a);const ve=a(f,G);if(Ph(i,u,f,ve))i.updateValue(f,G),f++,m++,M=T.next();else if(h.has(ve)){const Ye=a(f,N);u.set(Ye,i.detach(f)),m--}else i.attach(f,i.create(f,G)),f++,m++,M=T.next()}}for(;!M.done;)jE(i,u,a,i.length,M.value),M=T.next()}for(;f<=m;)i.destroy(i.detach(m--));u?.forEach(T=>{i.destroy(T)})}(T,i,f.trackByFn),T.updateIndexes(),f.hasEmptyBlock){const M=Ca(),N=0===T.length;if(Ei(u,M,N)){const G=a+2,ce=cv(u,G);if(N){const ve=$E(h,G),Ye=Vu(ce,ve.tView.ssrId);Lu(ce,Il(u,ve,void 0,{dehydratedView:Ye}),0,Fu(ve,Ye))}else g_(ce,0)}}}finally{l(s)}}function cv(i,s){return i[s]}function $E(i,s){return Du(i,s)}function Xp(i,s,a,u){const h=yt(),f=Gn(),m=ln+i,E=h[ot],T=f.firstCreatePass?function hS(i,s,a,u,h,f){const m=s.consts,T=Pu(s,i,2,u,vi(m,h));return w0(s,a,T,vi(m,f)),null!==T.attrs&&N_(T,T.attrs,!1),null!==T.mergedAttrs&&N_(T,T.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,T),T}(m,f,h,s,a,u):f.data[m],M=lv(f,h,T,E,s,i);h[m]=M;const N=fg(T);return yi(T,!0),ah(E,M,T),!function bh(i){return!(32&~i.flags)}(T)&&pl()&&Ia(f,h,M,T),0===function rO(){return Tn.lFrame.elementDepthCount}()&&Go(M,h),function iO(){Tn.lFrame.elementDepthCount++}(),N&&(iT(f,h,T),rT(f,T,h)),null!==u&&E0(h,T),Xp}function jl(){let i=Rr();fb()?Su():(i=i.parent,yi(i,!1));const s=i;(function hb(i){return Tn.skipHydrationRootTNode===i})(s)&&function PB(){Tn.skipHydrationRootTNode=null}(),function oO(){Tn.lFrame.elementDepthCount--}();const a=Gn();return a.firstCreatePass&&(Oc(a,i),Cr(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function WI(i){return!!(8&i.flags)}(s)&&PE(a,s,yt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Ag(i){return!!(16&i.flags)}(s)&&PE(a,s,yt(),s.stylesWithoutHost,!1),jl}function HE(i,s,a,u){return Xp(i,s,a,u),jl(),HE}let lv=(i,s,a,u,h,f)=>(Za(!0),o_(u,h,function GI(){return Tn.lFrame.currentNamespace}()));function GE(){return yt()}function Lh(i,s,a){const u=yt();return Ei(u,Ca(),s)&&cs(Gn(),Nr(),u,i,s,u[ot],a,!0),Lh}const cc=void 0;var KE=["en",[["a","p"],["AM","PM"],cc],[["AM","PM"],cc,cc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cc,"{1} 'at' {0}",cc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function hv(i){const a=Math.floor(Math.abs(i)),u=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===u?1:5}];let jc={};function WE(i){const s=function dN(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=qE(s);if(a)return a;const u=s.split("-")[0];if(a=qE(u),a)return a;if("en"===u)return KE;throw new Xt(701,!1)}function uN(i){return WE(i)[zu.PluralCase]}function qE(i){return i in jc||(jc[i]=Sr.ng&&Sr.ng.common&&Sr.ng.common.locales&&Sr.ng.common.locales[i]),jc[i]}var zu=function(i){return i[i.LocaleId=0]="LocaleId",i[i.DayPeriodsFormat=1]="DayPeriodsFormat",i[i.DayPeriodsStandalone=2]="DayPeriodsStandalone",i[i.DaysFormat=3]="DaysFormat",i[i.DaysStandalone=4]="DaysStandalone",i[i.MonthsFormat=5]="MonthsFormat",i[i.MonthsStandalone=6]="MonthsStandalone",i[i.Eras=7]="Eras",i[i.FirstDayOfWeek=8]="FirstDayOfWeek",i[i.WeekendRange=9]="WeekendRange",i[i.DateFormat=10]="DateFormat",i[i.TimeFormat=11]="TimeFormat",i[i.DateTimeFormat=12]="DateTimeFormat",i[i.NumberSymbols=13]="NumberSymbols",i[i.NumberFormats=14]="NumberFormats",i[i.CurrencyCode=15]="CurrencyCode",i[i.CurrencySymbol=16]="CurrencySymbol",i[i.CurrencyName=17]="CurrencyName",i[i.Currencies=18]="Currencies",i[i.Directionality=19]="Directionality",i[i.PluralCase=20]="PluralCase",i[i.ExtraData=21]="ExtraData",i}(zu||{});const Yp="en-US";let pv=Yp;let Ev=(i,s,a)=>{};function NS(i,s,a,u){const h=yt(),f=Gn(),m=Rr();return function lw(i,s,a,u,h,f,m){const E=fg(u),M=i.firstCreatePass&&hp(i),N=s[ne],G=dp(s);let ce=!0;if(3&u.type||m){const _t=Li(u,s),kt=m?m(_t):_t,$t=G.length,wt=m?Yn=>m(cr(Yn[u.index])):u.index;let wn=null;if(!m&&E&&(wn=function kN(i,s,a,u){const h=i.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const m=h[f];if(m===a&&h[f+1]===u){const E=s[te],T=h[f+2];return E.length>T?E[T]:null}"string"==typeof m&&(f+=2)}return null}(i,s,h,u.index)),null!==wn)(wn.__ngLastListenerFn__||wn).__ngNextListenerFn__=f,wn.__ngLastListenerFn__=f,ce=!1;else{f=FS(u,s,N,f),Ev(_t,h,f);const Yn=a.listen(kt,h,f);G.push(f,Yn),M&&M.push(h,wt,$t,$t+1)}}else f=FS(u,s,N,f);const ve=u.outputs;let Ye;if(ce&&null!==ve&&(Ye=ve[h])){const _t=Ye.length;if(_t)for(let kt=0;kt<_t;kt+=2){const Ar=s[Ye[kt]][Ye[kt+1]].subscribe(f),zi=G.length;G.push(f,Ar),M&&M.push(h,u.index,zi,-(zi+1))}}}(f,h,h[ot],m,i,s,u),NS}function Cv(i,s,a,u){const h=l(null);try{return qa(6,s,a),!1!==a(u)}catch(f){return p_(i,f),!1}finally{qa(7,s,a),l(h)}}function FS(i,s,a,u){return function h(f){if(f===Function)return u;fp(i.componentOffset>-1?os(i.index,s):s,5);let E=Cv(s,a,u,f),T=h.__ngNextListenerFn__;for(;T;)E=Cv(s,a,T,f)&&E,T=T.__ngNextListenerFn__;return E}}function uw(i=1){return function yb(i){return(Tn.lFrame.contextLView=function ss(i,s){for(;i>0;)s=s[Zt],i--;return s}(i,Tn.lFrame.contextLView))[ne]}(i)}function PN(i,s){let a=null;const u=function dI(i){const s=i.attrs;if(null!=s){const a=s.indexOf(5);if(!(1&a))return s[a+1]}return null}(i);for(let h=0;h<s.length;h++){const f=s[h];if("*"!==f){if(null===u?zy(i,f,!0):Gy(u,f))return h}else a=h}return a}function dw(i){const s=yt()[fn][O];if(!s.projection){const u=s.projection=function If(i,s){const a=[];for(let u=0;u<i;u++)a.push(s);return a}(i?i.length:1,null),h=u.slice();let f=s.child;for(;null!==f;){if(128!==f.type){const m=i?PN(f,i):0;null!==m&&(h[m]?h[m].projectionNext=f:u[m]=f,h[m]=f)}f=f.next}}}function LS(i,s=0,a,u,h,f){const m=yt(),E=Gn(),T=u?i+1:null;null!==T&&Fp(m,E,T,u,h,f,null,a);const M=Pu(E,ln+i,16,null,a||null);null===M.projection&&(M.projection=s),Su();const G=!m[U]||fl();null===m[fn][O].projection[M.projection]&&null!==T?function NN(i,s,a){const u=ln+a,h=s.data[u],f=i[u],m=Vu(f,h.tView.ssrId);Lu(f,Il(i,h,void 0,{dehydratedView:m}),0,Fu(h,m))}(m,E,T):G&&32&~M.flags&&function N1(i,s,a){eT(s[ot],0,s,a,m0(i,a,s),JD(a.parent||s[O],a,s))}(E,m,M)}function HS(i,s,a,u){eA(i,s,a,u)}function zS(i,s,a){!function JT(i,s,a){const u=Gn();return u.firstCreatePass&&(tA(u,new XT(i,s,a),-1),!(2&~s)&&(u.staticViewQueries=!0)),ZT(u,yt(),s)}(i,s,a)}function fw(i){const s=yt(),a=Gn(),u=Hf();zf(u+1);const h=rA(a,u);if(i.dirty&&function PI(i){return!(4&~i[b])}(s)===!(2&~h.metadata.flags)){if(null===h.matches)i.reset([]);else{const f=eP(s,u);i.reset(f,dD),i.notifyOnChanges()}return!0}return!1}function LN(){return Bu(yt(),Hf())}function pw(i,s,a,u,h){!function rP(i,s){const a=i[L];a._lView=yt(),a._queryIndex=s,a._queryList=Bu(a._lView,s),a._queryList.onDirty(()=>a._dirtyCounter.update(u=>u+1))}(s,eA(i,a,u,h))}function $c(i=1){zf(Hf()+i)}function KS(i){return Tu(function BI(){return Tn.lFrame.contextLView}(),ln+i)}function jN(i,s=""){const a=yt(),u=Gn(),h=i+ln,f=u.firstCreatePass?Pu(u,h,1,s,null):u.data[h],m=rm(u,a,f,s,i);a[h]=m,pl()&&Ia(u,a,m,f),yi(f,!1)}let rm=(i,s,a,u,h)=>(Za(!0),function l0(i,s){return i.createText(s)}(s[ot],u));function ZS(i){return vw("",i,""),ZS}function vw(i,s,a){const u=yt(),h=Th(u,i,s,a);return h!==xn&&Cl(u,no(),h),vw}function JS(i,s,a,u,h){const f=yt(),m=function Ah(i,s,a,u,h,f){const E=Nl(i,Qa(),a,h);return as(2),E?s+qe(a)+u+qe(h)+f:xn}(f,i,s,a,u,h);return m!==xn&&Cl(f,no(),m),JS}function ex(i,s,a,u,h,f,m){const E=yt(),T=Sh(E,i,s,a,u,h,f,m);return T!==xn&&Cl(E,no(),T),ex}function nx(i,s,a,u,h){if(i=_n(i),Array.isArray(i))for(let f=0;f<i.length;f++)nx(i[f],s,a,u,h);else{const f=Gn(),m=yt(),E=Rr();let T=Ys(i)?i:_n(i.provide);const M=cg(i),N=1048575&E.providerIndexes,G=E.directiveStart,ce=E.providerIndexes>>20;if(Ys(i)||!i.multi){const ve=new Gf(M,h,ch),Ye=rx(T,s,h?N:N+ce,G);-1===Ye?(Ab(Rg(E,m),f,T),im(f,i,s.length),s.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),a.push(ve),m.push(ve)):(a[Ye]=ve,m[Ye]=ve)}else{const ve=rx(T,s,N+ce,G),Ye=rx(T,s,N,N+ce),kt=Ye>=0&&a[Ye];if(h&&!kt||!h&&!(ve>=0&&a[ve])){Ab(Rg(E,m),f,T);const $t=function p$(i,s,a,u,h){const f=new Gf(i,a,ch);return f.multi=[],f.index=s,f.componentProviders=0,QN(f,h,u&&!a),f}(h?f$:h$,a.length,h,u,M);!h&&kt&&(a[Ye].providerFactory=$t),im(f,i,s.length,0),s.push(T),E.directiveStart++,E.directiveEnd++,h&&(E.providerIndexes+=1048576),a.push($t),m.push($t)}else im(f,i,ve>-1?ve:Ye,QN(a[h?Ye:ve],M,!h&&u));!h&&u&&kt&&a[Ye].componentProviders++}}}function im(i,s,a,u){const h=Ys(s),f=function Yy(i){return!!i.useClass}(s);if(h||f){const T=(f?_n(s.useClass):s).prototype.ngOnDestroy;if(T){const M=i.destroyHooks||(i.destroyHooks=[]);if(!h&&s.multi){const N=M.indexOf(a);-1===N?M.push(a,[u,T]):M[N+1].push(u,T)}else M.push(a,T)}}}function QN(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function rx(i,s,a,u){for(let h=a;h<u;h++)if(s[h]===i)return h;return-1}function h$(i,s,a,u){return ix(this.multi,[])}function f$(i,s,a,u){const h=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=Ja(a,a[y],this.providerFactory.index,u);f=E.slice(0,m),ix(h,f);for(let T=m;T<E.length;T++)f.push(E[T])}else f=[],ix(h,f);return f}function ix(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function ox(i,s=[]){return a=>{a.providersResolver=(u,h)=>function bw(i,s,a){const u=Gn();if(u.firstCreatePass){const h=lo(i);nx(a,u.data,u.blueprint,h,!0),nx(s,u.data,u.blueprint,h,!1)}}(u,h?h(i):i,s)}}let YN=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a)){const u=ig(0,a.type),h=u.length>0?bA([u],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a,h)}return this.cachedInjectors.get(a)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=qn({token:i,providedIn:"environment",factory:()=>new i(co(Ts))})}return i})();function sx(i){uo("NgStandalone"),i.getStandaloneInjector=s=>s.get(YN).getOrCreateStandaloneInjector(i)}function lx(i,s,a){const u=Si()+i,h=yt();return h[u]===xn?Da(h,u,a?s.call(a):s()):function Np(i,s){return i[s]}(h,u)}function ux(i,s,a,u){return rF(yt(),Si(),i,s,a,u)}function rF(i,s,a,u,h,f){const m=s+a;return Ei(i,m,h)?Da(i,m+1,f?u.call(f,h):u(h)):function Dv(i,s){const a=i[s];return a===xn?void 0:a}(i,m+1)}function mx(i,s){const a=Gn();let u;const h=i+ln;a.firstCreatePass?(u=function gx(i,s){if(s)for(let a=s.length-1;a>=0;a--){const u=s[a];if(i===u.name)return u}}(s,a.pipeRegistry),a.data[h]=u,u.onDestroy&&(a.destroyHooks??=[]).push(h,u.onDestroy)):u=a.data[h];const f=u.factory||(u.factory=bu(u.type)),E=bn(ch);try{const T=Sg(!1),M=f();return Sg(T),function GS(i,s,a,u){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=u}(a,yt(),h,M),M}finally{bn(E)}}function Tv(i,s,a){const u=i+ln,h=yt(),f=Tu(h,u);return function om(i,s){return i[y].data[s].pure}(h,u)?rF(h,Si(),s,f.transform,a,f):f.transform(a)}function vx(i,s){return w_(i,s)}class Ow{constructor(s){this.full=s;const a=s.split(".");this.major=a[0],this.minor=a[1],this.patch=a.slice(2).join(".")}}let DF=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();const Kh=new Dn(""),Lw=new Dn("");let Nv,kv=(()=>{class i{constructor(a,u,h){this._ngZone=a,this.registry=u,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Nv||(function Lx(i){Nv=i}(h),h.addToWindow(u)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hr.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb()}});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(a)||(clearTimeout(u.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,u,h){let f=-1;u&&u>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),a()},u)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,u,h),this._runCallbacksIfReady()}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,u,h){return[]}static#e=this.\u0275fac=function(u){return new(u||i)(co(Hr),co(Pv),co(Lw))};static#t=this.\u0275prov=qn({token:i,factory:i.\u0275fac})}return i})(),Pv=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,u){this._applications.set(a,u)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,u=!0){return Nv?.findTestabilityInTree(this,a,u)??null}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"platform"})}return i})();function Fv(i){return!!i&&"function"==typeof i.then}function Vw(i){return!!i&&"function"==typeof i.subscribe}const Ui=new Dn("");let Wl=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,u)=>{this.resolve=a,this.reject=u}),this.appInits=sn(Ui,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const f=h();if(Fv(f))a.push(f);else if(Vw(f)){const m=new Promise((E,T)=>{f.subscribe({complete:E,error:T})});a.push(m)}}const u=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{u()}).catch(h=>{this.reject(h)}),0===a.length&&u(),this.initialized=!0}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Oa=new Dn("");let en=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=sn(Qf),this.afterRenderEffectManager=sn(W0),this.zonelessEnabled=sn(mh),this.externalTestViews=new Set,this.beforeRender=new Ut.B,this.afterTick=new Ut.B,this.componentTypes=[],this.components=[],this.isStable=sn(Mu).hasPendingTasks.pipe((0,on.T)(a=>!a)),this._injector=sn(Ts)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,u){const h=a instanceof Pk;if(!this._injector.get(Wl).done)throw!h&&Ea(a),new Xt(405,!1);let m;m=h?a:this._injector.get(Dp).resolveComponentFactory(a),this.componentTypes.push(m.componentType);const E=function Rt(i){return i.isBoundToModule}(m)?void 0:this._injector.get(Uu),M=m.create(xi.NULL,[],u||m.selector,E),N=M.location.nativeElement,G=M.injector.get(Kh,null);return G?.registerApplication(N),M.onDestroy(()=>{this.detachView(M.hostView),Bw(this.components,M),G?.unregisterApplication(N)}),this._loadComponent(M),M}tick(){this._tick(!0)}_tick(a){if(this._runningTick)throw new Xt(101,!1);const u=l(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(a)}catch(h){this.internalErrorHandler(h)}finally{this._runningTick=!1,l(u),this.afterTick.next()}}detectChangesInAttachedViews(a){let u=null;this._injector.destroyed||(u=this._injector.get($0,null,{optional:!0}));let h=0;const f=this.afterRenderEffectManager;for(;h<10;){const m=0===h;if(a||!m){this.beforeRender.next(m);for(let{_lView:E,notifyErrorHandler:T}of this._views)Ot(E,T,m,this.zonelessEnabled)}else u?.begin?.(),u?.end?.();if(h++,f.executeInternalCallbacks(),!this.allViews.some(({_lView:E})=>hl(E))&&(f.execute(),!this.allViews.some(({_lView:E})=>hl(E))))break}}attachView(a){const u=a;this._views.push(u),u.attachToAppRef(this)}detachView(a){const u=a;Bw(this._views,u),u.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const u=this._injector.get(Oa,[]);[...this._bootstrapListeners,...u].forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Bw(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Xt(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Bw(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}function Ot(i,s,a,u){(a||hl(i))&&S0(i,s,a&&!u?0:1)}class ji{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let Vx=(()=>{class i{compileModuleSync(a){return new vA(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const u=this.compileModuleSync(a),f=As(Fi(a).declarations).reduce((m,E)=>{const T=Vn(E);return T&&m.push(new vh(T)),m},[]);return new ji(u,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),UF=(()=>{class i{constructor(){this.zone=sn(Hr),this.changeDetectionScheduler=sn(xl),this.applicationRef=sn(en)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Uw({ngZoneFactory:i,ignoreChangesOutsideZone:s}){return i??=()=>new Hr(function Vv(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}()),[{provide:Hr,useFactory:i},{provide:ba,multi:!0,useFactory:()=>{const a=sn(UF,{optional:!0});return()=>a.initialize()}},{provide:ba,multi:!0,useFactory:()=>{const a=sn(Mn);return()=>{a.initialize()}}},{provide:Qf,useFactory:x$},!0===s?{provide:Ip,useValue:!0}:[]]}function x$(){const i=sn(Hr),s=sn(Js);return a=>i.runOutsideAngular(()=>s.handleError(a))}let Mn=(()=>{class i{constructor(){this.subscription=new nn.yU,this.initialized=!1,this.zone=sn(Hr),this.pendingTasks=sn(Mu)}initialize(){if(this.initialized)return;this.initialized=!0;let a=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(a=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Hr.assertNotInAngularZone(),queueMicrotask(()=>{null!==a&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(a),a=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Hr.assertInAngularZone(),a??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Hc=(()=>{class i{constructor(){this.appRef=sn(en),this.taskService=sn(Mu),this.ngZone=sn(Hr),this.zonelessEnabled=sn(mh),this.disableScheduling=sn(Ip,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new nn.yU,this.cancelScheduledCallback=null,this.shouldRefreshViews=!1,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof z0||!this.zoneIsDefined)}notify(a){if(!this.zonelessEnabled&&5===a)return;switch(a){case 3:case 2:case 0:case 4:case 5:case 1:this.shouldRefreshViews=!0}if(!this.shouldScheduleTick())return;const u=this.useMicrotaskScheduler?Ap:Tp;this.pendingRenderTaskId=this.taskService.add(),this.zoneIsDefined?Zone.root.run(()=>{this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}):this.cancelScheduledCallback=u(()=>{this.tick(this.shouldRefreshViews)})}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Hr.isInAngularZone())}tick(a){if(this.runningTick||this.appRef.destroyed)return;const u=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick(a)},void 0,this.schedulerTickApplyArgs)}catch(h){throw this.taskService.remove(u),h}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ap(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(u)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.shouldRefreshViews=!1,this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}static#e=this.\u0275fac=function(u){return new(u||i)};static#t=this.\u0275prov=qn({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const Lr=new Dn("",{providedIn:"root",factory:()=>sn(Lr,vt.Optional|vt.SkipSelf)||function jF(){return typeof $localize<"u"&&$localize.locale||Yp}()}),Yt=new Dn("",{providedIn:"root",factory:()=>"USD"}),jw=new Dn("");let Xl=null;function Hx(){return!1}let Yl=(()=>{class i{static#e=this.__NG_ELEMENT_ID__=Gx}return i})();function Gx(i){return function zw(i,s,a){if(wa(i)&&!a){const u=os(i.index,s);return new pp(u,u)}return 175&i.type?new pp(s[fn],s):null}(Rr(),yt(),!(16&~i))}class Wx{constructor(){}supports(s){return dE(s)}create(s){return new WF(s)}}const KF=(i,s)=>s;class WF{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||KF}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,u=this._removalsHead,h=0,f=null;for(;a||u;){const m=!u||a&&a.currentIndex<Xx(u,h,f)?a:u,E=Xx(m,h,f),T=m.currentIndex;if(m===u)h--,u=u._nextRemoved;else if(a=a._next,null==m.previousIndex)h++;else{f||(f=[]);const M=E-h,N=T-h;if(M!=N){for(let ce=0;ce<M;ce++){const ve=ce<f.length?f[ce]:f[ce]=0,Ye=ve+ce;N<=Ye&&Ye<M&&(f[ce]=ve+1)}f[m.previousIndex]=N-M}}E!==T&&s(m,E,T)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!dE(s))throw new Xt(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,f,m,a=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)f=s[E],m=this._trackByFn(E,f),null!==a&&Object.is(a.trackById,m)?(u&&(a=this._verifyReinsertion(a,f,m,E)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,m,E),u=!0),a=a._next}else h=0,function yP(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[Symbol.iterator]();let u;for(;!(u=a.next()).done;)s(u.value)}}(s,E=>{m=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,m)?(u&&(a=this._verifyReinsertion(a,E,m,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,m,h),u=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,u,h){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,h)):s=this._addAfter(new qF(a,u),f,h),s}_verifyReinsertion(s,a,u,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==f?s=this._reinsertAfter(f,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,f=s._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(s,a,u),this._addToMoves(s,u),s}_moveAfter(s,a,u){return this._unlink(s),this._insertAfter(s,a,u),this._addToMoves(s,u),s}_addAfter(s,a,u){return this._insertAfter(s,a,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,u){const h=null===a?this._itHead:a._next;return s._next=h,s._prev=a,null===h?this._itTail=s:h._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new qx),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,u=s._next;return null===a?this._itHead=u:a._next=u,null===u?this._itTail=a:u._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new qx),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class qF{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XF{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===a||a<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const a=s._prevDup,u=s._nextDup;return null===a?this._head=u:a._nextDup=u,null===u?this._tail=a:u._prevDup=a,null===this._head}}class qx{constructor(){this.map=new Map}put(s){const a=s.trackById;let u=this.map.get(a);u||(u=new XF,this.map.set(a,u)),u.add(s)}get(s,a){const h=this.map.get(s);return h?h.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Xx(i,s,a){const u=i.previousIndex;if(null===u)return u;let h=0;return a&&u<a.length&&(h=a[u]),u+s+h}class Xw{constructor(){}supports(s){return s instanceof Map||hE(s)}create(){return new QF}}class QF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||hE(s)))throw new Xt(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,u),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,u);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let u=a;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const u=s._prev;return a._next=s,a._prev=u,s._prev=a,u&&(u._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,a);const f=h._prev,m=h._next;return f&&(f._next=m),m&&(m._prev=f),h._next=null,h._prev=null,h}const u=new Qx(s);return this._records.set(s,u),u.currentValue=a,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(u=>a(s[u],u))}}class Qx{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Qw(){return new Wv([new Wx])}let Wv=(()=>{class i{static#e=this.\u0275prov=qn({token:i,providedIn:"root",factory:Qw});constructor(a){this.factories=a}static create(a,u){if(null!=u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||Qw()),deps:[[i,new Xm,new Cf]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(null!=u)return u;throw new Xt(901,!1)}}return i})();function qv(){return new Ri([new Xw])}let Ri=(()=>{class i{static#e=this.\u0275prov=qn({token:i,providedIn:"root",factory:qv});constructor(a){this.factories=a}static create(a,u){if(u){const h=u.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:u=>i.create(a,u||qv()),deps:[[i,new Xm,new Cf]]}}find(a){const u=this.factories.find(h=>h.supports(a));if(u)return u;throw new Xt(901,!1)}}return i})();function nM(i){try{const{rootComponent:s,appProviders:a,platformProviders:u}=i,h=function Ql(i=[]){if(Xl)return Xl;const s=function hs(i=[],s){return xi.create({name:s,providers:[{provide:og,useValue:"platform"},{provide:jw,useValue:new Set([()=>Xl=null])},...i]})}(i);return Xl=s,function LF(){!function On(i){Jt=i}(()=>{throw new Xt(600,!1)})}(),function jv(i){i.get(zg,null)?.forEach(a=>a())}(s),s}(u),f=[Uw({}),{provide:xl,useExisting:Hc},...a||[]],E=new yA({providers:f,parent:h,debugName:"",runEnvironmentInitializers:!1}).injector,T=E.get(Hr);return T.run(()=>{E.resolveInjectorInitializers();const M=E.get(Js,null);let N;T.runOutsideAngular(()=>{N=T.onError.subscribe({next:ve=>{M.handleError(ve)}})});const G=()=>E.destroy(),ce=h.get(jw);return ce.add(G),E.onDestroy(()=>{N.unsubscribe(),ce.delete(G)}),function Lv(i,s,a){try{const u=a();return Fv(u)?u.catch(h=>{throw s.runOutsideAngular(()=>i.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(M,T,()=>{const ve=E.get(Wl);return ve.runInitializers(),ve.donePromise.then(()=>{!function _S(i){"string"==typeof i&&(pv=i.toLowerCase().replace(/_/g,"-"))}(E.get(Lr,Yp)||Yp);const _t=E.get(en);return void 0!==s&&_t.bootstrap(s),_t})})})}catch(s){return Promise.reject(s)}}const iM=new Dn("");function fM(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function Cm(i,s=NaN){return isNaN(parseFloat(i))||isNaN(Number(i))?s:Number(i)}function pL(i,s){uo("NgSignals");const a=de(i);return s?.equal&&(a[L].equal=s.equal),a}function gM(i){const s=l(null);try{return i()}finally{l(s)}}const Jh=new Dn("",{providedIn:"root",factory:()=>sn(ad)});let ad=(()=>{class i{static#e=this.\u0275prov=qn({token:i,providedIn:"root",factory:()=>new _M})}return i})();class _M{constructor(){this.queuedEffectCount=0,this.queues=new Map,this.pendingTasks=sn(Mu),this.taskId=null}scheduleEffect(s){if(this.enqueue(s),null===this.taskId){const a=this.taskId=this.pendingTasks.add();queueMicrotask(()=>{this.flush(),this.pendingTasks.remove(a),this.taskId=null})}}enqueue(s){const a=s.creationZone;this.queues.has(a)||this.queues.set(a,new Set);const u=this.queues.get(a);u.has(s)||(this.queuedEffectCount++,u.add(s))}flush(){for(;this.queuedEffectCount>0;)for(const[s,a]of this.queues)null===s?this.flushQueue(a):s.run(()=>this.flushQueue(a))}flushQueue(s){for(const a of s)s.delete(a),this.queuedEffectCount--,a.run()}}class cd{constructor(s,a,u,h,f,m){this.scheduler=s,this.effectFn=a,this.creationZone=u,this.injector=f,this.watcher=function ae(i,s,a){const u=Object.create(Ct);a&&(u.consumerAllowSignalWrites=!0),u.fn=i,u.schedule=s;const h=T=>{u.cleanupFn=T};return u.ref={notify:()=>Re(u),run:()=>{if(null===u.fn)return;if(function lt(){return fe}())throw new Error("Schedulers cannot synchronously execute watches while scheduling.");if(u.dirty=!1,u.hasRun&&!Fe(u))return;u.hasRun=!0;const T=ke(u);try{u.cleanupFn(),u.cleanupFn=Te,u.fn(h)}finally{ge(u,T)}},cleanup:()=>u.cleanupFn(),destroy:()=>function m(T){(function f(T){return null===T.fn&&null===T.schedule})(T)||(Me(T),T.cleanupFn(),T.fn=null,T.schedule=null,T.cleanupFn=Te)}(u),[L]:u},u.ref}(E=>this.runEffect(E),()=>this.schedule(),m),this.unregisterOnDestroy=h?.onDestroy(()=>this.destroy())}runEffect(s){try{this.effectFn(s)}catch(a){this.injector.get(Js,null,{optional:!0})?.handleError(a)}}run(){this.watcher.run()}schedule(){this.scheduler.scheduleEffect(this)}destroy(){this.watcher.destroy(),this.unregisterOnDestroy?.()}}function dC(i,s){uo("NgSignals"),!s?.injector&&Of();const a=s?.injector??sn(xi),u=!0!==s?.manualCleanup?a.get(Yf):null,h=new cd(a.get(Jh),i,typeof Zone>"u"?null:Zone.current,u,a,s?.allowSignalWrites??!1),f=a.get(Yl,null,{optional:!0});return f&&8&f._lView[b]?(f._lView[to]??=[]).push(h.watcher.notify):h.watcher.notify(),h}function vM(i){const s=Vn(i);if(!s)return null;const a=new vh(s);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},9556:(Bt,et,R)=>{"use strict";R.d(et,{p4:()=>J});class J{ttl;map=new Map;_to=!1;constructor(L){this.ttl=L}has(L){return this.map.has(L)}add(L){this.map.set(L,fe()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,function re(le){const L=fe()-le.ttl,l=le.map[Symbol.iterator]();for(;;){const De=l.next().value;if(!De)return;if(!(De[1]<L))return;le.map.delete(De[0])}}(this)},0))}clear(){this.map.clear()}}function fe(){return Date.now()}},9825:(Bt,et,R)=>{"use strict";R.d(et,{K:()=>De,X:()=>Ve});var J=R(6126),re=R(5520),fe=R(9403),le=R(6434),L=R(6568),l=R(3896),De=function(){function oe(Re,ke,ge){this.cacheItemByDocId=new Map,this.tasks=new Set,this.registry="function"==typeof FinalizationRegistry?new FinalizationRegistry(Fe=>{var Me=Fe.docId,Ae=this.cacheItemByDocId.get(Me);Ae&&(Ae[0].delete(Fe.revisionHeight),0===Ae[0].size&&this.cacheItemByDocId.delete(Me))}):void 0,this.primaryPath=Re,this.changes$=ke,this.documentCreator=ge,ke.subscribe(Fe=>{this.tasks.add(()=>{for(var Me=this.cacheItemByDocId,Ae=0;Ae<Fe.length;Ae++){var Ke=Fe[Ae],we=Me.get(Ke.documentId);if(we){var st=Ke.documentData;st||(st=Ke.previousDocumentData),we[1]=st}}}),this.tasks.size<=1&&(0,re.vN)().then(()=>{this.processTasks()})})}var ze=oe.prototype;return ze.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(ge=>ge()),this.tasks.clear())},ze.getLatestDocumentData=function(ke){return this.processTasks(),(0,fe.m)(this.cacheItemByDocId,ke)[1]},ze.getLatestDocumentDataIfExists=function(ke){this.processTasks();var ge=this.cacheItemByDocId.get(ke);if(ge)return ge[1]},(0,J.A)(oe,[{key:"getCachedRxDocuments",get:function(){var Re=lt(this);return(0,le.Ns)(this,"getCachedRxDocuments",Re)}},{key:"getCachedRxDocument",get:function(){var Re=lt(this);return(0,le.Ns)(this,"getCachedRxDocument",ke=>Re([ke])[0])}}])}();function lt(oe){var ze=oe.primaryPath,Re=oe.cacheItemByDocId,ke=oe.registry,ge=l.h.deepFreezeWhenDevMode,Fe=oe.documentCreator;return Ae=>{for(var Ke=new Array(Ae.length),we=[],st=0;st<Ae.length;st++){var Qe=Ae[st],_e=Qe[ze],de=(0,L.Wg)(Qe._rev),Q=void 0,mt=void 0,Dt=Re.get(_e);Dt?mt=(Q=Dt[0]).get(de):Re.set(_e,Dt=[Q=new Map,Qe]);var At=mt?mt.deref():void 0;At||(Qe=ge(Qe),At=Fe(Qe),Q.set(de,Y(At)),ke&&we.push(At)),Ke[st]=At}return we.length>0&&ke&&(oe.tasks.add(()=>{for(var cn=0;cn<we.length;cn++){var Jt=we[cn];ke.register(Jt,{docId:Jt.primary,revisionHeight:(0,L.Wg)(Jt.revision)})}}),oe.tasks.size<=1&&(0,re.vN)().then(()=>{oe.processTasks()})),Ke}}function Ve(oe,ze){return(0,oe.getCachedRxDocuments)(ze)}var Y="function"==typeof WeakRef?function xe(oe){return new WeakRef(oe)}:function Ne(oe){return{deref:()=>oe}}},2284:(Bt,et,R)=>{"use strict";R.d(et,{FX:()=>fe,Xi:()=>re,r:()=>J});var J={preAddRxPlugin:[],preCreateRxDatabase:[],createRxDatabase:[],preCreateRxCollection:[],createRxCollection:[],createRxState:[],postDestroyRxCollection:[],postRemoveRxCollection:[],preCreateRxSchema:[],createRxSchema:[],preCreateRxQuery:[],prePrepareQuery:[],createRxDocument:[],postCreateRxDocument:[],preCreateRxStorageInstance:[],preStorageWrite:[],preMigrateDocument:[],postMigrateDocument:[],preDestroyRxDatabase:[],postRemoveRxDatabase:[],preReplicationMasterWrite:[],preReplicationMasterWriteDocumentsHandle:[]};function re(L,l){J[L].length>0&&J[L].forEach(De=>De(l))}function fe(L,l){return Promise.all(J[L].map(De=>De(l)))}},6706:(Bt,et,R)=>{"use strict";R.d(et,{Hl:()=>Be,N6:()=>Ve});var J=R(467),re=R(7650),fe=R(9403),le=R(8663),L=R(6434),l=R(2060),De=R(6568),lt=R(6893),Ve=function(){function xe(oe,ze,Re,ke){this.queueByDocId=new Map,this.isRunning=!1,this.storageInstance=oe,this.primaryPath=ze,this.preWrite=Re,this.postWrite=ke}var Ne=xe.prototype;return Ne.addWrite=function(ze,Re){var ge=(0,fe.q)(this.queueByDocId,ze[this.primaryPath],()=>[]);return new Promise((Me,Ae)=>{var Ke={lastKnownDocumentState:ze,modifier:Re,resolve:Me,reject:Ae};(0,le.ZN)(ge).push(Ke),this.triggerRun()})},Ne.triggerRun=function(){var oe=(0,J.A)(function*(){var Re=this;if(!0!==this.isRunning&&0!==this.queueByDocId.size){this.isRunning=!0;var ke=[],ge=this.queueByDocId;this.queueByDocId=new Map,yield Promise.all(Array.from(ge.entries()).map(function(){var Me=(0,J.A)(function*([Ae,Ke]){var we=function Y(xe){var Ne=xe[0],oe=(0,De.Wg)(Ne._rev);return xe.forEach(ze=>{var Re=(0,De.Wg)(ze._rev);Re>oe&&(Ne=ze,oe=Re)}),Ne}(Ke.map(_e=>_e.lastKnownDocumentState)),st=we;for(var Qe of Ke)try{st=yield Qe.modifier((0,L.o8)(st))}catch(_e){Qe.reject(_e),Qe.reject=()=>{},Qe.resolve=()=>{}}try{yield Re.preWrite(st,we)}catch(_e){return void Ke.forEach(de=>de.reject(_e))}ke.push({previous:we,document:st})});return function(Ae){return Me.apply(this,arguments)}}()));var Fe=ke.length>0?yield this.storageInstance.bulkWrite(ke,"incremental-write"):{error:[]};return yield Promise.all((0,lt.YN)(this.primaryPath,ke,Fe).map(Me=>{var Ae=Me[this.primaryPath];this.postWrite(Me),(0,fe.m)(ge,Ae).forEach(we=>we.resolve(Me))})),Fe.error.forEach(Me=>{var Ae=Me.documentId,Ke=(0,fe.m)(ge,Ae),we=(0,re.sX)(Me);if(we){var st=(0,fe.q)(this.queueByDocId,Ae,()=>[]);Ke.reverse().forEach(_e=>{_e.lastKnownDocumentState=(0,le.ZN)(we.documentInDb),(0,le.ZN)(st).unshift(_e)})}else{var Qe=(0,re.cg)(Me);Ke.forEach(_e=>_e.reject(Qe))}}),this.isRunning=!1,this.triggerRun()}});return function ze(){return oe.apply(this,arguments)}}(),xe}();function Be(xe){var Ne=function(){var oe=(0,J.A)(function*(ze){var Re=(0,l.Xz)(ze);Re._deleted=ze._deleted;var ke=yield xe(Re),ge=Object.assign({},ke,{_meta:ze._meta,_attachments:ze._attachments,_rev:ze._rev,_deleted:typeof ke._deleted<"u"?ke._deleted:ze._deleted});return typeof ge._deleted>"u"&&(ge._deleted=!1),ge});return function(Re){return oe.apply(this,arguments)}}();return Ne}},3896:(Bt,et,R)=>{"use strict";R.d(et,{h:()=>J});var J={isDevMode:()=>!1,deepFreezeWhenDevMode:re=>re,tunnelErrorMessage:re=>"RxDB Error-Code "+re+".\n        Error messages are not included in RxDB core to reduce build size.\n        "}},7176:(Bt,et,R)=>{"use strict";R.d(et,{$r:()=>L,Aj:()=>l,Hb:()=>Re,S7:()=>Be,Sd:()=>Y,dG:()=>re,j7:()=>xe,jw:()=>ke,k_:()=>lt});var J=R(467);function re(ge){return ge[ge.length-1]}function L(ge){return Array.isArray(ge)?ge.slice(0):[ge]}function l(ge,Fe){ge=ge.slice(0);for(var Me=[];ge.length;){var Ae=ge.splice(0,Fe);Me.push(Ae)}return Me}function lt(ge){return Array.isArray(ge)}function Be(ge){return null!=ge}function Y(ge,Fe){var Me=0,Ae=-1;for(var Ke of ge){if(!Fe(Ke,Ae+=1))break;Me+=1}return Me}function xe(ge,Fe){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,J.A)(function*(ge,Fe){var Me=yield Promise.all(ge.map(Fe));return ge.filter((...[,Ae])=>Me[Ae])})).apply(this,arguments)}function Re(ge,Fe){var Me=Fe.length;if(0!==Me){var Ae=ge.length;ge.length=Ae+Fe.length;for(var Ke=0;Ke<Me;++Ke)ge[Ae+Ke]=Fe[Ke]}}function ke(ge){return ge.filter(function(Fe,Me,Ae){return Ae.indexOf(Fe)===Me})}},2060:(Bt,et,R)=>{"use strict";R.d(et,{Fq:()=>fe,MC:()=>J,Xz:()=>le,YL:()=>L,o4:()=>re});var J=1;function re(){return{lwt:J}}function fe(){return""}function le(Ve){return Object.assign({},Ve,{_meta:void 0,_deleted:void 0,_rev:void 0})}function L(Ve,Be,Y){if(Be.length!==Y.length)return!1;for(var xe=0,Ne=Be.length;xe<Ne;){var oe=Be[xe],ze=Y[xe];if(xe++,oe._rev!==ze._rev||oe[Ve]!==ze[Ve])return!1}return!0}},203:(Bt,et,R)=>{"use strict";R.d(et,{S:()=>fe,u:()=>re});var J=R(720);function re(le){var L=le.split("-"),l="RxDB";return L.forEach(De=>{l+=(0,J.Z2)(De)}),l+="Plugin",new Error("You are using a function which must be overwritten by a plugin.\n        You should either prevent the usage of this function or add the plugin via:\n            import { "+l+" } from 'rxdb/plugins/"+le+"';\n            addRxPlugin("+l+");\n        ")}function fe(le){return{name:le.name,message:le.message,rxdb:le.rxdb,parameters:le.parameters,extensions:le.extensions,code:le.code,url:le.url,stack:le.stack?le.stack.replace(/\n/g," \n "):void 0}}},7014:(Bt,et,R)=>{"use strict";R.d(et,{P:()=>J,Y:()=>re});var J={},re="6da4936d1425ff3a5c44c02342c6daf791d266be3ae8479b8ec59e261df41b93"},6243:(Bt,et,R)=>{"use strict";R.d(et,{V0:()=>On});var J=R(467);Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0}),Object.freeze(["prototype","__proto__","constructor"]);class Ve{constructor(be,K){be=this.words=be||[],this.sigBytes=void 0===K?4*be.length:K}toString(be){return(be||Be).stringify(this)}concat(be){if(this.clamp(),this.sigBytes%4)for(let K=0;K<be.sigBytes;K++)this.words[this.sigBytes+K>>>2]|=(be.words[K>>>2]>>>24-K%4*8&255)<<24-(this.sigBytes+K)%4*8;else for(let K=0;K<be.sigBytes;K+=4)this.words[this.sigBytes+K>>>2]=be.words[K>>>2];return this.sigBytes+=be.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Ve([...this.words])}}const Be={stringify(se){const be=[];for(let K=0;K<se.sigBytes;K++){const B=se.words[K>>>2]>>>24-K%4*8&255;be.push((B>>>4).toString(16),(15&B).toString(16))}return be.join("")}},xe={parse(se){const be=se.length,K=[];for(let B=0;B<be;B++)K[B>>>2]|=(255&se.charCodeAt(B))<<24-B%4*8;return new Ve(K,be)}},Ne_parse=se=>xe.parse(unescape(encodeURIComponent(se)));class oe{constructor(){this._data=new Ve,this._nDataBytes=0,this._minBufferSize=0,this.blockSize=16}reset(){this._data=new Ve,this._nDataBytes=0}_append(be){"string"==typeof be&&(be=Ne_parse(be)),this._data.concat(be),this._nDataBytes+=be.sigBytes}_doProcessBlock(be,K){}_process(be){let K,B=this._data.sigBytes/(4*this.blockSize);B=be?Math.ceil(B):Math.max((0|B)-this._minBufferSize,0);const $=B*this.blockSize,q=Math.min(4*$,this._data.sigBytes);if($){for(let Z=0;Z<$;Z+=this.blockSize)this._doProcessBlock(this._data.words,Z);K=this._data.words.splice(0,$),this._data.sigBytes-=q}return new Ve(K,q)}}class ze extends oe{update(be){return this._append(be),this._process(),this}finalize(be){be&&this._append(be)}}const Re=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ke=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ge=[];class Fe extends ze{constructor(){super(...arguments),this._hash=new Ve([...Re])}reset(){super.reset(),this._hash=new Ve([...Re])}_doProcessBlock(be,K){const B=this._hash.words;let $=B[0],q=B[1],Z=B[2],ie=B[3],ae=B[4],Te=B[5],Ct=B[6],Lt=B[7];for(let Mt=0;Mt<64;Mt++){if(Mt<16)ge[Mt]=0|be[K+Mt];else{const rn=ge[Mt-15],Cn=ge[Mt-2];ge[Mt]=((rn<<25|rn>>>7)^(rn<<14|rn>>>18)^rn>>>3)+ge[Mt-7]+((Cn<<15|Cn>>>17)^(Cn<<13|Cn>>>19)^Cn>>>10)+ge[Mt-16]}const nn=$&q^$&Z^q&Z,Ht=Lt+((ae<<26|ae>>>6)^(ae<<21|ae>>>11)^(ae<<7|ae>>>25))+(ae&Te^~ae&Ct)+ke[Mt]+ge[Mt];Lt=Ct,Ct=Te,Te=ae,ae=ie+Ht|0,ie=Z,Z=q,q=$,$=Ht+((($<<30|$>>>2)^($<<19|$>>>13)^($<<10|$>>>22))+nn)|0}B[0]=B[0]+$|0,B[1]=B[1]+q|0,B[2]=B[2]+Z|0,B[3]=B[3]+ie|0,B[4]=B[4]+ae|0,B[5]=B[5]+Te|0,B[6]=B[6]+Ct|0,B[7]=B[7]+Lt|0}finalize(be){super.finalize(be);const K=8*this._nDataBytes,B=8*this._data.sigBytes;return this._data.words[B>>>5]|=128<<24-B%32,this._data.words[14+(B+64>>>9<<4)]=Math.floor(K/4294967296),this._data.words[15+(B+64>>>9<<4)]=K,this._data.sigBytes=4*this._data.words.length,this._process(),this._hash}}function Jt(){return(Jt=(0,J.A)(function*(se){var be=(new TextEncoder).encode(se),K=yield crypto.subtle.digest("SHA-256",be);return Array.prototype.map.call(new Uint8Array(K),$=>("00"+$.toString(16)).slice(-2)).join("")})).apply(this,arguments)}var On=typeof crypto<"u"&&typeof crypto.subtle<"u"&&"function"==typeof crypto.subtle.digest?function cn(se){return Jt.apply(this,arguments)}:function At(se){return Promise.resolve(function Me(se){return(new Fe).finalize(se).toString()}(se))}},9403:(Bt,et,R)=>{"use strict";function J(fe,le){var L=fe.get(le);if(typeof L>"u")throw new Error("missing value from map "+le);return L}function re(fe,le,L,l){var De=fe.get(le);return typeof De>"u"?(De=L(),fe.set(le,De)):l&&l(De),De}R.d(et,{m:()=>J,q:()=>re})},6636:(Bt,et,R)=>{"use strict";function J(re,fe){if(re===fe)return!0;if(re&&fe&&"object"==typeof re&&"object"==typeof fe){if(re.constructor!==fe.constructor)return!1;var le,L;if(Array.isArray(re)){if((le=re.length)!==fe.length)return!1;for(L=le;0!=L--;)if(!J(re[L],fe[L]))return!1;return!0}if(re.constructor===RegExp)return re.source===fe.source&&re.flags===fe.flags;if(re.valueOf!==Object.prototype.valueOf)return re.valueOf()===fe.valueOf();if(re.toString!==Object.prototype.toString)return re.toString()===fe.toString();var l=Object.keys(re);if((le=l.length)!==Object.keys(fe).length)return!1;for(L=le;0!=L--;)if(!Object.prototype.hasOwnProperty.call(fe,l[L]))return!1;for(L=le;0!=L--;){var De=l[L];if(!J(re[De],fe[De]))return!1}return!0}return re!=re&&fe!=fe}R.d(et,{b:()=>J})},1744:(Bt,et,R)=>{"use strict";R.d(et,{UU:()=>De,oq:()=>lt});var J=Re=>{var ke=typeof Re;return null!==Re&&("object"===ke||"function"===ke)},re=new Set(["__proto__","prototype","constructor"]),fe=new Set("0123456789");function le(Re){var ke=[],ge="",Fe="start",Me=!1;for(var Ae of Re)switch(Ae){case"\\":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");Me&&(ge+=Ae),Fe="property",Me=!Me;break;case".":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="property";break}if(Me){Me=!1,ge+=Ae;break}if(re.has(ge))return[];ke.push(ge),ge="",Fe="property";break;case"[":if("index"===Fe)throw new Error("Invalid character in an index");if("indexEnd"===Fe){Fe="index";break}if(Me){Me=!1,ge+=Ae;break}if("property"===Fe){if(re.has(ge))return[];ke.push(ge),ge=""}Fe="index";break;case"]":if("index"===Fe){ke.push(Number.parseInt(ge,10)),ge="",Fe="indexEnd";break}if("indexEnd"===Fe)throw new Error("Invalid character after an index");default:if("index"===Fe&&!fe.has(Ae))throw new Error("Invalid character in an index");if("indexEnd"===Fe)throw new Error("Invalid character after an index");"start"===Fe&&(Fe="property"),Me&&(Me=!1,ge+="\\"),ge+=Ae}switch(Me&&(ge+="\\"),Fe){case"property":if(re.has(ge))return[];ke.push(ge);break;case"index":throw new Error("Index was not closed");case"start":ke.push("")}return ke}function L(Re,ke){if("number"!=typeof ke&&Array.isArray(Re)){var ge=Number.parseInt(ke,10);return Number.isInteger(ge)&&Re[ge]===Re[ke]}return!1}function l(Re,ke){if(L(Re,ke))throw new Error("Cannot use string index")}function De(Re,ke,ge){if(Array.isArray(ke)&&(ke=ke.join(".")),!ke.includes(".")&&!ke.includes("["))return Re[ke];if(!J(Re)||"string"!=typeof ke)return void 0===ge?Re:ge;var Fe=le(ke);if(0===Fe.length)return ge;for(var Me=0;Me<Fe.length;Me++){var Ae=Fe[Me];if(null==(Re=L(Re,Ae)?Me===Fe.length-1?void 0:null:Re[Ae])){if(Me!==Fe.length-1)return ge;break}}return void 0===Re?ge:Re}function lt(Re,ke,ge){if(Array.isArray(ke)&&(ke=ke.join(".")),!J(Re)||"string"!=typeof ke)return Re;for(var Fe=Re,Me=le(ke),Ae=0;Ae<Me.length;Ae++){var Ke=Me[Ae];l(Re,Ke),Ae===Me.length-1?Re[Ke]=ge:J(Re[Ke])||(Re[Ke]="number"==typeof Me[Ae+1]?[]:{}),Re=Re[Ke]}return Fe}},6434:(Bt,et,R)=>{"use strict";function J(Ne){return Object.freeze(Ne),Object.getOwnPropertyNames(Ne).forEach(function(oe){Object.prototype.hasOwnProperty.call(Ne,oe)&&null!==Ne[oe]&&("object"==typeof Ne[oe]||"function"==typeof Ne[oe])&&!Object.isFrozen(Ne[oe])&&J(Ne[oe])}),Ne}function re(Ne){var oe=Ne.split("."),ze=oe.length;return 1===ze?Re=>Re[Ne]:Re=>{for(var ke=Re,ge=0;ge<ze;++ge)if(typeof(ke=ke[oe[ge]])>"u")return ke;return ke}}function le(Ne){var oe={};for(var ze in Ne)if(Object.prototype.hasOwnProperty.call(Ne,ze))if("object"==typeof Ne[ze]){var Re=le(Ne[ze]);for(var ke in Re)Object.prototype.hasOwnProperty.call(Re,ke)&&(oe[ze+"."+ke]=Re[ke])}else oe[ze]=Ne[ze];return oe}function L(Ne){return Object.assign({},Ne)}function l(Ne){return Object.keys(Ne)[0]}function lt(Ne,oe=!1){if(!Ne)return Ne;if(!oe&&Array.isArray(Ne))return Ne.sort((Re,ke)=>"string"==typeof Re&&"string"==typeof ke?Re.localeCompare(ke):"object"==typeof Re?1:-1).map(Re=>lt(Re,oe));if("object"==typeof Ne&&!Array.isArray(Ne)){var ze={};return Object.keys(Ne).sort((Re,ke)=>Re.localeCompare(ke)).forEach(Re=>{ze[Re]=lt(Ne[Re],oe)}),ze}return Ne}R.d(et,{FD:()=>L,Ln:()=>l,Ns:()=>Y,SQ:()=>re,YO:()=>le,mf:()=>lt,o8:()=>Be,ol:()=>J});var Be=function Ve(Ne){if(!Ne||null===Ne||"object"!=typeof Ne)return Ne;if(Array.isArray(Ne)){for(var oe=new Array(Ne.length),ze=oe.length;ze--;)oe[ze]=Ve(Ne[ze]);return oe}var Re={};for(var ke in Ne)Re[ke]=Ve(Ne[ke]);return Re};function Y(Ne,oe,ze){return Object.defineProperty(Ne,oe,{get:function(){return ze}}),ze}},8663:(Bt,et,R)=>{"use strict";function re(L,l){if(!L)throw l||(l=""),new Error("ensureNotFalsy() is falsy: "+l);return L}R.d(et,{ZN:()=>re,bz:()=>le});var le={bufferSize:1,refCount:!0}},5520:(Bt,et,R)=>{"use strict";function J(){return new Promise(oe=>setTimeout(oe,0))}function fe(oe){return oe&&"function"==typeof oe.then?oe:Promise.resolve(oe)}R.d(et,{$A:()=>De,Dr:()=>l,Ms:()=>L,Ve:()=>Y,dY:()=>J,em:()=>lt,h$:()=>Ne,hq:()=>fe,vN:()=>Ve});var L=Promise.resolve(!0),l=Promise.resolve(!1),De=Promise.resolve(null),lt=Promise.resolve();function Ve(oe=1e4){return"function"==typeof requestIdleCallback?new Promise(ze=>{requestIdleCallback(()=>ze(),{timeout:oe})}):function re(oe=0){return new Promise(ze=>setTimeout(ze,oe))}(0)}var Be=lt;function Y(oe=void 0){return Be=Be.then(()=>Ve(oe))}function Ne(oe,ze){return oe.reduce((Re,ke)=>Re.then(ke),Promise.resolve(ze))}},6568:(Bt,et,R)=>{"use strict";function re(le){for(var L="",l=0;l<le.length;l++){var De=le[l];if("-"===De)return parseInt(L,10);L+=De}throw new Error("malformatted revision: "+le)}function fe(le,L){return(L?re(L._rev)+1:1)+"-"+le}R.d(et,{CM:()=>fe,Wg:()=>re})},6052:(Bt,et,R)=>{"use strict";R.d(et,{o:()=>J});var J="15.28.1"},720:(Bt,et,R)=>{"use strict";R.d(et,{L$:()=>L,Z2:()=>le,ky:()=>De,z3:()=>re});var J="abcdefghijklmnopqrstuvwxyz";function re(Y=10){for(var xe="",Ne=0;Ne<Y;Ne++)xe+=J.charAt(Math.floor(Math.random()*J.length));return xe}function le(Y){return(Y+="").charAt(0).toUpperCase()+Y.substr(1)}function L(Y){for(;"."===Y.charAt(0);)Y=Y.substr(1);for(;"."===Y.slice(-1);)Y=Y.slice(0,-1);return Y}function De(Y){return!(!Y.includes("/")&&!Y.includes("\\"))}},4552:(Bt,et,R)=>{"use strict";R.d(et,{t:()=>re});var J=0;function re(){var fe=Date.now();(fe+=.01)<=J&&(fe=J+.01);var le=parseFloat(fe.toFixed(2));return J=le,le}},6259:(Bt,et,R)=>{"use strict";R.d(et,{Cx:()=>Y,XA:()=>L,n9:()=>Ne});var J=R(9403),re=R(4552),fe=R(5520),le=function(){function oe(){this._map=new Map}return oe.prototype.getByQuery=function(ke){var ge=ke.toString();return(0,J.q)(this._map,ge,()=>ke)},oe}();function L(){return new le}function l(oe,ze){ze.uncached=!0;var Re=ze.toString();oe._map.delete(Re)}function De(oe){return oe.refCount$.observers.length}var Y=(100,3e4,(Re,ke)=>{if(!(ke._map.size<100)){var ge=(0,re.t)()-3e4,Fe=[],Me=Array.from(ke._map.values());for(var Ae of Me)if(!(De(Ae)>0)){if(0===Ae._lastEnsureEqual&&Ae._creationTime<ge){l(ke,Ae);continue}Fe.push(Ae)}var Ke=Fe.length-100;Ke<=0||Fe.sort((Qe,_e)=>Qe._lastEnsureEqual-_e._lastEnsureEqual).slice(0,Ke).forEach(Qe=>l(ke,Qe))}}),xe=new WeakSet;function Ne(oe){xe.has(oe)||(xe.add(oe),(0,fe.dY)().then(()=>(0,fe.Ve)(200)).then(()=>{oe.destroyed||oe.cacheReplacementPolicy(oe,oe._queryCache),xe.delete(oe)}))}},997:(Bt,et,R)=>{"use strict";R.d(et,{Cf:()=>De,OK:()=>L,g0:()=>le,sk:()=>l});var J=R(7176),re=R(7650),fe=R(1885),le="\uffff",L=Number.MIN_SAFE_INTEGER;function l(Ne,oe){var ze=oe.selector,Re=Ne.indexes?Ne.indexes.slice(0):[];oe.index&&(Re=[oe.index]);var ke=!!oe.sort.find(we=>"desc"===Object.values(we)[0]),ge=new Set;Object.keys(ze).forEach(we=>{var st=(0,fe.nT)(Ne,we);st&&"boolean"===st.type&&Object.prototype.hasOwnProperty.call(ze[we],"$eq")&&ge.add(we)});var Ke,Me=oe.sort.map(we=>Object.keys(we)[0]).filter(we=>!ge.has(we)).join(","),Ae=-1;if(Re.forEach(we=>{var st=!0,Qe=!0,_e=we.map(At=>{var cn=ze[At],Jt=cn?Object.keys(cn):[],hn={};return cn&&Jt.length?Jt.forEach(Ge=>{if(De.has(Ge)){var be=function Y(Ne,oe){switch(Ne){case"$eq":return{startKey:oe,endKey:oe,inclusiveEnd:!0,inclusiveStart:!0};case"$lte":return{endKey:oe,inclusiveEnd:!0};case"$gte":return{startKey:oe,inclusiveStart:!0};case"$lt":return{endKey:oe,inclusiveEnd:!1};case"$gt":return{startKey:oe,inclusiveStart:!1};default:throw new Error("SNH")}}(Ge,cn[Ge]);hn=Object.assign(hn,be)}}):hn={startKey:Qe?L:le,endKey:st?le:L,inclusiveStart:!0,inclusiveEnd:!0},typeof hn.startKey>"u"&&(hn.startKey=L),typeof hn.endKey>"u"&&(hn.endKey=le),typeof hn.inclusiveStart>"u"&&(hn.inclusiveStart=!0),typeof hn.inclusiveEnd>"u"&&(hn.inclusiveEnd=!0),Qe&&!hn.inclusiveStart&&(Qe=!1),st&&!hn.inclusiveEnd&&(st=!1),hn}),de=_e.map(At=>At.startKey),Q=_e.map(At=>At.endKey),mt={index:we,startKeys:de,endKeys:Q,inclusiveEnd:st,inclusiveStart:Qe,sortSatisfiedByIndex:!ke&&Me===we.filter(At=>!ge.has(At)).join(","),selectorSatisfiedByIndex:Be(we,oe.selector,de,Q)},Dt=function xe(Ne,oe,ze){var Re=0,ke=we=>{we>0&&(Re+=we)},Fe=(0,J.Sd)(ze.startKeys,we=>we!==L&&we!==le);ke(10*Fe);var Me=(0,J.Sd)(ze.startKeys,we=>we!==le&&we!==L);ke(10*Me);var Ae=(0,J.Sd)(ze.startKeys,(we,st)=>we===ze.endKeys[st]);return ke(10*Ae*1.5),ke(ze.sortSatisfiedByIndex?5:0),Re}(0,0,mt);(Dt>=Ae||oe.index)&&(Ae=Dt,Ke=mt)}),!Ke)throw(0,re.Br)("SNH",{query:oe});return Ke}var De=new Set(["$eq","$gt","$gte","$lt","$lte"]),lt=new Set(["$eq","$gt","$gte"]),Ve=new Set(["$eq","$lt","$lte"]);function Be(Ne,oe,ze,Re){if(Object.entries(oe).find(([Ge,se])=>!Ne.includes(Ge)||Object.entries(se).find(([K,B])=>!De.has(K)))||oe.$and||oe.$or)return!1;var Fe=[],Me=new Set;for(var[Ae,Ke]of Object.entries(oe)){if(!Ne.includes(Ae))return!1;var we=Object.keys(Ke).filter(Ge=>lt.has(Ge));if(we.length>1)return!1;var st=we[0];if(st&&Me.add(Ae),"$eq"!==st){if(Fe.length>0)return!1;Fe.push(st)}}var Qe=[],_e=new Set;for(var[de,Q]of Object.entries(oe)){if(!Ne.includes(de))return!1;var mt=Object.keys(Q).filter(Ge=>Ve.has(Ge));if(mt.length>1)return!1;var Dt=mt[0];if(Dt&&_e.add(de),"$eq"!==Dt){if(Qe.length>0)return!1;Qe.push(Dt)}}var At=0;for(var cn of Ne){for(var Jt of[Me,_e]){if(!Jt.has(cn)&&Jt.size>0)return!1;Jt.delete(cn)}if(ze[At]!==Re[At]&&Me.size>0&&_e.size>0)return!1;At++}return!0}},327:(Bt,et,R)=>{"use strict";R.d(et,{a:()=>lt,r:()=>Ve});var J=R(467),re=R(6636),fe=R(6434),le=R(2060),L=R(4552),l=R(6568),De=R(6893),lt=function(Y,xe){var Ne=(0,De.on)(Y.newDocumentState),oe=(0,De.on)(Y.realMasterState);return(0,re.b)(Ne,oe)?Promise.resolve({isEqual:!0}):Promise.resolve({isEqual:!1,documentData:Y.realMasterState})};function Ve(Y,xe,Ne){return Be.apply(this,arguments)}function Be(){return(Be=(0,J.A)(function*(Y,xe,Ne){var oe=Y.input.conflictHandler,ze=yield oe(xe,"replication-resolve-conflict");if(!ze.isEqual){var Re=Object.assign({},ze.documentData,{_meta:(0,fe.FD)(Ne._meta),_rev:(0,le.Fq)(),_attachments:(0,fe.FD)(Ne._attachments)});return Re._meta.lwt=(0,L.t)(),Re._rev=(0,l.CM)(yield Y.checkpointKey,Ne),{resolvedDoc:Re,output:ze}}})).apply(this,arguments)}},312:(Bt,et,R)=>{"use strict";R.d(et,{_r:()=>fe,vk:()=>re});var J=R(3896);function re(L){return L.documentData?L.documentData:L.previousDocumentData}function fe(L){switch(L.operation){case"INSERT":return{operation:L.operation,id:L.documentId,doc:L.documentData,previous:null};case"UPDATE":return{operation:L.operation,id:L.documentId,doc:J.h.deepFreezeWhenDevMode(L.documentData),previous:L.previousDocumentData?L.previousDocumentData:"UNKNOWN"};case"DELETE":return{operation:L.operation,id:L.documentId,doc:null,previous:L.previousDocumentData}}}},1318:(Bt,et,R)=>{"use strict";R.d(et,{JY:()=>xe,X3:()=>ke,vK:()=>Ne,vM:()=>ze});var J=R(467),re=R(6434),fe=R(2060),le=R(4552),L=R(6568),l=R(1885),De=R(2284),lt=R(2104),Ve=R(6893),Be=R(3896),Y=R(7650);function xe(ge,Fe){return Fe=(0,re.FD)(Fe),Fe=(0,l.pA)(ge,Fe),"string"!=typeof ge.jsonSchema.primaryKey&&(Fe=(0,l.Nq)(ge.primaryPath,ge.jsonSchema,Fe)),Fe._meta=(0,fe.o4)(),Object.prototype.hasOwnProperty.call(Fe,"_deleted")||(Fe._deleted=!1),Object.prototype.hasOwnProperty.call(Fe,"_attachments")||(Fe._attachments={}),Object.prototype.hasOwnProperty.call(Fe,"_rev")||(Fe._rev=(0,fe.Fq)()),Fe}function Ne(ge,Fe){return oe.apply(this,arguments)}function oe(){return(oe=(0,J.A)(function*(ge,Fe){return Fe.multiInstance=ge.multiInstance,yield ge.storage.createStorageInstance(Fe)})).apply(this,arguments)}function ze(ge,Fe,Me,Ae,Ke,we,st){return Re.apply(this,arguments)}function Re(){return Re=(0,J.A)(function*(ge,Fe,Me,Ae,Ke,we,st){var _e=(yield(0,lt.WY)(Fe)).filter(Dt=>Dt.data.name===Ke),de=[];_e.forEach(Dt=>{de.push({collectionName:Dt.data.name,schema:Dt.data.schema,isCollection:!0}),Dt.data.connectedStorages.forEach(At=>de.push({collectionName:At.collectionName,isCollection:!1,schema:At.schema}))});var Q=new Set;if(de=de.filter(Dt=>{var At=Dt.collectionName+"||"+Dt.schema.version;return!Q.has(At)&&(Q.add(At),!0)}),yield Promise.all(de.map(function(){var Dt=(0,J.A)(function*(At){var cn=yield ge.createStorageInstance({collectionName:At.collectionName,databaseInstanceToken:Me,databaseName:Ae,multiInstance:!1,options:{},schema:At.schema,password:we,devMode:Be.h.isDevMode()});yield cn.remove(),At.isCollection&&(yield(0,De.FX)("postRemoveRxCollection",{storage:ge,databaseName:Ae,collectionName:Ke}))});return function(At){return Dt.apply(this,arguments)}}())),st){var mt=_e.map(Dt=>{var At=(0,Ve.C9)(Dt);return At._deleted=!0,At._meta.lwt=(0,le.t)(),At._rev=(0,L.CM)(Me,Dt),{previous:Dt,document:At}});yield Fe.bulkWrite(mt,"rx-database-remove-collection-all")}}),Re.apply(this,arguments)}function ke(ge){if(ge.destroyed)throw(0,Y.Br)("COL21",{collection:ge.name,version:ge.schema.version})}},4395:(Bt,et,R)=>{"use strict";R.d(et,{wm:()=>hn,dN:()=>be});var J=R(467),re=R(6126),fe=R(5964),le=R(1397),L=R(6354),l=R(5520),De=R(203),lt=R(8663),Ve=R(6434),Be=R(9403),Y=R(720),xe=R(1318),Ne=R(5672),oe=R(7650),ze=R(9825),Re=R(6259),ke=R(7176),ge=function(){function B(q){this.subs=[],this.counter=0,this.eventCounterMap=new WeakMap,this.buffer=[],this.limit=100,this.tasks=new Set,this.collection=q,this.subs.push(this.collection.database.eventBulks$.pipe((0,fe.p)(Z=>Z.collectionName===this.collection.name),(0,fe.p)(Z=>!Z.events[0].isLocal)).subscribe(Z=>{this.tasks.add(()=>this._handleChangeEvents(Z.events)),this.tasks.size<=1&&(0,l.vN)().then(()=>{this.processTasks()})}))}var $=B.prototype;return $.processTasks=function(){0!==this.tasks.size&&(Array.from(this.tasks).forEach(ie=>ie()),this.tasks.clear())},$._handleChangeEvents=function(Z){var ie=this.counter;this.counter=this.counter+Z.length,Z.length>this.limit?this.buffer=Z.slice(-1*Z.length):((0,ke.Hb)(this.buffer,Z),this.buffer=this.buffer.slice(-1*this.limit));for(var ae=ie+1,Te=this.eventCounterMap,Ct=0;Ct<Z.length;Ct++)Te.set(Z[Ct],ae+Ct)},$.getCounter=function(){return this.processTasks(),this.counter},$.getBuffer=function(){return this.processTasks(),this.buffer},$.getArrayIndexByPointer=function(Z){this.processTasks();var ae=this.eventCounterMap.get(this.buffer[0]);return Z<ae?null:Z-ae},$.getFrom=function(Z){this.processTasks();var ie=[],ae=this.getArrayIndexByPointer(Z);if(null===ae)return null;for(;;){var Te=this.buffer[ae];if(ae++,!Te)return ie;ie.push(Te)}},$.runFrom=function(Z,ie){this.processTasks();var ae=this.getFrom(Z);if(null===ae)throw new Error("out of bounds");ae.forEach(Te=>ie(Te))},$.reduceByLastOfDoc=function(Z){return this.processTasks(),Z.slice(0)},$.destroy=function(){this.tasks.clear(),this.subs.forEach(Z=>Z.unsubscribe())},B}(),Me=R(2284),Ae=R(5908),Ke=R(3896),we=new WeakMap;var Q=R(6893),mt=R(327),Dt=R(6706),At=["pre","post"],cn=["insert","save","remove","create"],Jt=!1,hn=function(){function B(q,Z,ie,ae,Te={},Ct={},Lt={},Mt={},Ut={},nn=Re.Cx,on={},an=mt.a){this.storageInstance={},this.timeouts=new Set,this.incrementalWriteQueue={},this._incrementalUpsertQueues=new Map,this.synced=!1,this.hooks={},this._subs=[],this._docCache={},this._queryCache=(0,Re.XA)(),this.$={},this.checkpoint$={},this._changeEventBuffer={},this.onDestroy=[],this.destroyed=!1,this.onRemove=[],this.database=q,this.name=Z,this.schema=ie,this.internalStorageInstance=ae,this.instanceCreationOptions=Te,this.migrationStrategies=Ct,this.methods=Lt,this.attachments=Mt,this.options=Ut,this.cacheReplacementPolicy=nn,this.statics=on,this.conflictHandler=an,function On(B){if(!Jt){Jt=!0;var $=Object.getPrototypeOf(B);cn.forEach(q=>{At.map(Z=>{var ie=Z+(0,Y.Z2)(q);$[ie]=function(ae,Te){return this.addHook(Z,q,ae,Te)}})})}}(this.asRxCollection)}var $=B.prototype;return $.prepare=function(){var q=(0,J.A)(function*(){var ie=this;this.storageInstance=(0,Q.AM)(this.database,this.internalStorageInstance,this.schema.jsonSchema),this.incrementalWriteQueue=new Dt.N6(this.storageInstance,this.schema.primaryPath,(Ut,nn)=>(0,Ae.Lt)(this,Ut,nn),Ut=>this._runHooks("post","save",Ut));var Te,ae=this.database.eventBulks$.pipe((0,fe.p)(Ut=>Ut.collectionName===this.name));this.$=ae.pipe((0,le.Z)(Ut=>Ut.events)),this.checkpoint$=ae.pipe((0,L.T)(Ut=>Ut.checkpoint)),this._changeEventBuffer=function Fe(B){return new ge(B)}(this.asRxCollection),this._docCache=new ze.K(this.schema.primaryPath,this.database.eventBulks$.pipe((0,fe.p)(Ut=>Ut.collectionName===this.name&&!Ut.events[0].isLocal),(0,L.T)(Ut=>Ut.events)),Ut=>(Te||(Te=function Qe(B){return(0,Be.q)(we,B,()=>(0,Ae.cM)(function st(B){var $=B.schema.getDocumentPrototype(),q=function de(B){var $={};return Object.entries(B.methods).forEach(([q,Z])=>{$[q]=Z}),$}(B),ie={};return[$,q,Ae.ky].forEach(ae=>{Object.getOwnPropertyNames(ae).forEach(Ct=>{var Lt=Object.getOwnPropertyDescriptor(ae,Ct),Mt=!0;(Ct.startsWith("_")||Ct.endsWith("_")||Ct.startsWith("$")||Ct.endsWith("$"))&&(Mt=!1),"function"==typeof Lt.value?Object.defineProperty(ie,Ct,{get(){return Lt.value.bind(this)},enumerable:Mt,configurable:!1}):(Lt.enumerable=Mt,Lt.configurable=!1,Lt.writable&&(Lt.writable=!1),Object.defineProperty(ie,Ct,Lt))})}),ie}(B)))}(this.asRxCollection)),function _e(B,$,q){var Z=(0,Ae.Zb)($,B,Ke.h.deepFreezeWhenDevMode(q));return B._runHooksSync("post","create",q,Z),(0,Me.Xi)("postCreateRxDocument",Z),Z}(this.asRxCollection,Te,Ut)));var Ct=this.database.internalStore.changeStream().pipe((0,fe.p)(Ut=>{var nn=this.name+"-"+this.schema.version;return!!Ut.events.find(an=>"collection"===an.documentData.context&&an.documentData.key===nn&&"DELETE"===an.operation)})).subscribe((0,J.A)(function*(){yield ie.destroy(),yield Promise.all(ie.onRemove.map(Ut=>Ut()))}));this._subs.push(Ct);var Lt=yield this.database.storageToken,Mt=this.storageInstance.changeStream().subscribe(Ut=>{for(var nn=new Array(Ut.events.length),on=Ut.events,an=this.name,Ht=Ke.h.deepFreezeWhenDevMode,dn=0;dn<on.length;dn++){var rn=on[dn];nn[dn]={documentId:rn.documentId,collectionName:an,isLocal:!1,operation:rn.operation,documentData:Ht(rn.documentData),previousDocumentData:Ht(rn.previousDocumentData)}}this.database.$emit({id:Ut.id,internal:!1,collectionName:this.name,storageToken:Lt,events:nn,databaseToken:this.database.token,checkpoint:Ut.checkpoint,context:Ut.context,endTime:Ut.endTime,startTime:Ut.startTime})});return this._subs.push(Mt),this._subs.push(this.storageInstance.conflictResultionTasks().subscribe(Ut=>{this.conflictHandler(Ut.input,Ut.context).then(nn=>{this.storageInstance.resolveConflictResultionTask({id:Ut.id,output:nn})})})),l.em});return function Z(){return q.apply(this,arguments)}}(),$.cleanup=function(Z){throw(0,xe.X3)(this),(0,De.u)("cleanup")},$.migrationNeeded=function(){throw(0,De.u)("migration-schema")},$.getMigrationState=function(){throw(0,De.u)("migration-schema")},$.startMigration=function(Z=10){return(0,xe.X3)(this),this.getMigrationState().startMigration(Z)},$.migratePromise=function(Z=10){return this.getMigrationState().migratePromise(Z)},$.insert=function(){var q=(0,J.A)(function*(ie){(0,xe.X3)(this);var ae=yield this.bulkInsert([ie]);return(0,Q.WX)(this,ie[this.schema.primaryPath],ie,ae.error[0]),(0,lt.ZN)(ae.success[0])});return function Z(ie){return q.apply(this,arguments)}}(),$.bulkInsert=function(){var q=(0,J.A)(function*(ie){if((0,xe.X3)(this),0===ie.length)return{success:[],error:[]};var Te,ae=this.schema.primaryPath;if(this.hasHooks("pre","insert"))Te=yield Promise.all(ie.map(rn=>{var Pn=(0,xe.JY)(this.schema,rn);return this._runHooks("pre","insert",Pn).then(()=>({document:Pn}))}));else{Te=new Array(ie.length);for(var Ct=this.schema,Lt=0;Lt<ie.length;Lt++){var Ut=(0,xe.JY)(Ct,ie[Lt]);Te[Lt]={document:Ut}}}var on,nn=yield this.storageInstance.bulkWrite(Te,"rx-collection-bulk-insert"),an=this,Ht={get success(){if(!on){var rn=(0,Q.YN)(an.schema.primaryPath,Te,nn);on=(0,ze.X)(an._docCache,rn)}return on},error:nn.error};if(this.hasHooks("post","insert")){var dn=new Map;Te.forEach(rn=>{var Pn=rn.document;dn.set(Pn[ae],Pn)}),yield Promise.all(Ht.success.map(rn=>this._runHooks("post","insert",dn.get(rn.primary),rn)))}return Ht});return function Z(ie){return q.apply(this,arguments)}}(),$.bulkRemove=function(){var q=(0,J.A)(function*(ie){(0,xe.X3)(this);var ae=this.schema.primaryPath;if(0===ie.length)return{success:[],error:[]};var Te=yield this.findByIds(ie).exec(),Ct=[],Lt=new Map;Array.from(Te.values()).forEach(Ht=>{var dn=Ht.toMutableJSON(!0);Ct.push(dn),Lt.set(Ht.primary,dn)}),yield Promise.all(Ct.map(Ht=>this._runHooks("pre","remove",Ht,Te.get(Ht[this.schema.primaryPath]))));var Mt=Ct.map(Ht=>{var dn=(0,Ve.FD)(Ht);return dn._deleted=!0,{previous:Ht,document:dn}}),Ut=yield this.storageInstance.bulkWrite(Mt,"rx-collection-bulk-remove"),on=(0,Q.YN)(this.schema.primaryPath,Mt,Ut).map(Ht=>Ht[ae]);return yield Promise.all(on.map(Ht=>this._runHooks("post","remove",Lt.get(Ht),Te.get(Ht)))),{success:on.map(Ht=>(0,Be.m)(Te,Ht)),error:Ut.error}});return function Z(ie){return q.apply(this,arguments)}}(),$.bulkUpsert=function(){var q=(0,J.A)(function*(ie){var ae=this;(0,xe.X3)(this);var Te=[],Ct=new Map;ie.forEach(nn=>{var on=(0,xe.JY)(this.schema,nn),an=on[this.schema.primaryPath];if(!an)throw(0,oe.Br)("COL3",{primaryPath:this.schema.primaryPath,data:on,schema:this.schema.jsonSchema});Ct.set(an,on),Te.push(on)});var Lt=yield this.bulkInsert(Te),Mt=Lt.success.slice(0),Ut=[];return yield Promise.all(Lt.error.map(function(){var nn=(0,J.A)(function*(on){if(409!==on.status)Ut.push(on);else{var Ht=(0,Be.m)(Ct,on.documentId),dn=(0,lt.ZN)(on.documentInDb),rn=ae._docCache.getCachedRxDocuments([dn])[0],Pn=yield rn.incrementalModify(()=>Ht);Mt.push(Pn)}});return function(on){return nn.apply(this,arguments)}}())),{error:Ut,success:Mt}});return function Z(ie){return q.apply(this,arguments)}}(),$.upsert=function(){var q=(0,J.A)(function*(ie){(0,xe.X3)(this);var ae=yield this.bulkUpsert([ie]);return(0,Q.WX)(this.asRxCollection,ie[this.schema.primaryPath],ie,ae.error[0]),ae.success[0]});return function Z(ie){return q.apply(this,arguments)}}(),$.incrementalUpsert=function(Z){(0,xe.X3)(this);var ie=(0,xe.JY)(this.schema,Z),ae=ie[this.schema.primaryPath];if(!ae)throw(0,oe.Br)("COL4",{data:Z});var Te=this._incrementalUpsertQueues.get(ae);return Te||(Te=l.em),Te=Te.then(()=>function se(B,$,q){var Z=B._docCache.getLatestDocumentDataIfExists($);return Z?Promise.resolve({doc:B._docCache.getCachedRxDocuments([Z])[0],inserted:!1}):B.findOne($).exec().then(ie=>ie?{doc:ie,inserted:!1}:B.insert(q).then(ae=>({doc:ae,inserted:!0})))}(this,ae,ie)).then(Ct=>Ct.inserted?Ct.doc:function Ge(B,$){return B.incrementalModify(q=>$)}(Ct.doc,ie)),this._incrementalUpsertQueues.set(ae,Te),Te},$.find=function(Z){if((0,xe.X3)(this),"string"==typeof Z)throw(0,oe.Br)("COL5",{queryObj:Z});return Z||(Z=(0,Ne.XX)()),(0,Ne.nd)("find",Z,this)},$.findOne=function(Z){if((0,xe.X3)(this),"number"==typeof Z||Array.isArray(Z))throw(0,oe.JX)("COL6",{queryObj:Z});var ie;if("string"==typeof Z)ie=(0,Ne.nd)("findOne",{selector:{[this.schema.primaryPath]:Z},limit:1},this);else{if(Z||(Z=(0,Ne.XX)()),Z.limit)throw(0,oe.Br)("QU6");(Z=(0,Ve.FD)(Z)).limit=1,ie=(0,Ne.nd)("findOne",Z,this)}return ie},$.count=function(Z){return(0,xe.X3)(this),Z||(Z=(0,Ne.XX)()),(0,Ne.nd)("count",Z,this)},$.findByIds=function(Z){(0,xe.X3)(this);var ie={selector:{[this.schema.primaryPath]:{$in:Z.slice(0)}}};return(0,Ne.nd)("findByIds",ie,this)},$.exportJSON=function(){throw(0,De.u)("json-dump")},$.importJSON=function(Z){throw(0,De.u)("json-dump")},$.insertCRDT=function(Z){throw(0,De.u)("crdt")},$.addHook=function(Z,ie,ae,Te=!1){if("function"!=typeof ae)throw(0,oe.JX)("COL7",{key:ie,when:Z});if(!At.includes(Z))throw(0,oe.JX)("COL8",{key:ie,when:Z});if(!cn.includes(ie))throw(0,oe.Br)("COL9",{key:ie});if("post"===Z&&"create"===ie&&!0===Te)throw(0,oe.Br)("COL10",{when:Z,key:ie,parallel:Te});var Ct=ae.bind(this),Lt=Te?"parallel":"series";this.hooks[ie]=this.hooks[ie]||{},this.hooks[ie][Z]=this.hooks[ie][Z]||{series:[],parallel:[]},this.hooks[ie][Z][Lt].push(Ct)},$.getHooks=function(Z,ie){return this.hooks[ie]&&this.hooks[ie][Z]?this.hooks[ie][Z]:{series:[],parallel:[]}},$.hasHooks=function(Z,ie){if(!this.hooks[ie]||!this.hooks[ie][Z])return!1;var ae=this.getHooks(Z,ie);return!!ae&&(ae.series.length>0||ae.parallel.length>0)},$._runHooks=function(Z,ie,ae,Te){var Ct=this.getHooks(Z,ie);if(!Ct)return l.em;var Lt=Ct.series.map(Mt=>()=>Mt(ae,Te));return(0,l.h$)(Lt).then(()=>Promise.all(Ct.parallel.map(Mt=>Mt(ae,Te))))},$._runHooksSync=function(Z,ie,ae,Te){if(this.hasHooks(Z,ie)){var Ct=this.getHooks(Z,ie);Ct&&Ct.series.forEach(Lt=>Lt(ae,Te))}},$.promiseWait=function(Z){return new Promise(ae=>{var Te=setTimeout(()=>{this.timeouts.delete(Te),ae()},Z);this.timeouts.add(Te)})},$.destroy=function(){var q=(0,J.A)(function*(){return this.destroyed?l.Dr:(yield Promise.all(this.onDestroy.map(ie=>ie())),this.destroyed=!0,Array.from(this.timeouts).forEach(ie=>clearTimeout(ie)),this._changeEventBuffer&&this._changeEventBuffer.destroy(),this.database.requestIdlePromise().then(()=>this.storageInstance.close()).then(()=>(this._subs.forEach(ie=>ie.unsubscribe()),delete this.database.collections[this.name],(0,Me.FX)("postDestroyRxCollection",this).then(()=>!0))))});return function Z(){return q.apply(this,arguments)}}(),$.remove=function(){var q=(0,J.A)(function*(){yield this.destroy(),yield Promise.all(this.onRemove.map(ie=>ie())),yield(0,xe.vM)(this.database.storage,this.database.internalStore,this.database.token,this.database.name,this.name,this.database.password,this.database.hashFunction)});return function Z(){return q.apply(this,arguments)}}(),(0,re.A)(B,[{key:"insert$",get:function(){return this.$.pipe((0,fe.p)(q=>"INSERT"===q.operation))}},{key:"update$",get:function(){return this.$.pipe((0,fe.p)(q=>"UPDATE"===q.operation))}},{key:"remove$",get:function(){return this.$.pipe((0,fe.p)(q=>"DELETE"===q.operation))}},{key:"asRxCollection",get:function(){return this}}])}();function be({database:B,name:$,schema:q,instanceCreationOptions:Z={},migrationStrategies:ie={},autoMigrate:ae=!0,statics:Te={},methods:Ct={},attachments:Lt={},options:Mt={},localDocuments:Ut=!1,cacheReplacementPolicy:nn=Re.Cx,conflictHandler:on=mt.a}){var an={databaseInstanceToken:B.token,databaseName:B.name,collectionName:$,schema:q.jsonSchema,options:Z,multiInstance:B.multiInstance,password:B.password,devMode:Ke.h.isDevMode()};return(0,Me.Xi)("preCreateRxStorageInstance",an),(0,xe.vK)(B,an).then(Ht=>{var dn=new hn(B,$,q,Ht,Z,ie,Ct,Lt,Mt,nn,Te,on);return dn.prepare().then(()=>{Object.entries(Te).forEach(([Pn,Cn])=>{Object.defineProperty(dn,Pn,{get:()=>Cn.bind(dn)})});var rn=l.em;return ae&&0!==dn.schema.version&&(rn=dn.migratePromise()),rn}).then(()=>((0,Me.Xi)("createRxCollection",{collection:dn,creator:{name:$,schema:q,storageInstance:Ht,instanceCreationOptions:Z,migrationStrategies:ie,methods:Ct,attachments:Lt,options:Mt,cacheReplacementPolicy:nn,localDocuments:Ut,statics:Te}}),dn)).catch(rn=>Ht.close().then(()=>Promise.reject(rn)))})}},2104:(Bt,et,R)=>{"use strict";R.d(et,{CC:()=>oe,Nu:()=>Be,WY:()=>Re,bD:()=>Qe,bV:()=>de,lz:()=>ze,ol:()=>Me,vV:()=>we});var J=R(467),re=R(7650),fe=R(1885),le=R(6893),L=R(720),l=R(2060),De=R(8663),lt=R(6434),Ve=R(5672),Be="collection",Y="storage-token",oe=(0,fe.Ud)({version:0,title:"RxInternalDocument",primaryKey:{key:"id",fields:["context","key"],separator:"|"},type:"object",properties:{id:{type:"string",maxLength:200},key:{type:"string"},context:{type:"string",enum:[Be,Y,"rx-migration-status","OTHER"]},data:{type:"object",additionalProperties:!0}},indexes:[],required:["key","context","data"],additionalProperties:!1,sharding:{shards:1,mode:"collection"}});function ze(Q,mt){return(0,fe.U)(oe,{key:Q,context:mt})}function Re(Q){return ke.apply(this,arguments)}function ke(){return(ke=(0,J.A)(function*(Q){var mt=(0,Ve.Ib)(Q.schema,{selector:{context:Be,_deleted:{$eq:!1}},sort:[{id:"asc"}],skip:0});return(yield Q.query(mt)).documents})).apply(this,arguments)}var ge="storageToken",Fe=ze(ge,Y);function Me(Q){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,J.A)(function*(Q){var mt=(0,L.z3)(10),Dt=Q.password?yield Q.hashFunction(JSON.stringify(Q.password)):void 0,cn=[{document:{id:Fe,context:Y,key:ge,data:{rxdbVersion:Q.rxdbVersion,token:mt,instanceToken:Q.token,passwordHash:Dt},_deleted:!1,_meta:(0,l.o4)(),_rev:(0,l.Fq)(),_attachments:{}}}],Jt=yield Q.internalStore.bulkWrite(cn,"internal-add-storage-token");if(!Jt.error[0])return(0,le.YN)("id",cn,Jt)[0];var hn=(0,De.ZN)(Jt.error[0]);if(hn.isError&&(0,re.sX)(hn)){var On=hn;if(!function Ke(Q,mt){return!(!Q||mt.includes("beta")&&mt!==Q)&&Q.split(".")[0]===mt.split(".")[0]}(On.documentInDb.data.rxdbVersion,Q.rxdbVersion))throw(0,re.Br)("DM5",{args:{database:Q.name,databaseStateVersion:On.documentInDb.data.rxdbVersion,codeVersion:Q.rxdbVersion}});if(Dt&&Dt!==On.documentInDb.data.passwordHash)throw(0,re.Br)("DB1",{passwordHash:Dt,existingPasswordHash:On.documentInDb.data.passwordHash});return(0,De.ZN)(On.documentInDb)}throw hn})).apply(this,arguments)}function we(Q,mt,Dt){return st.apply(this,arguments)}function st(){return(st=(0,J.A)(function*(Q,mt,Dt){if(Q.schema.version!==Dt.version)throw(0,re.Br)("SNH",{schema:Dt,version:Q.schema.version,name:Q.name,collection:Q,args:{storageCollectionName:mt}});for(var cn=ze(de(Q.name,Q.schema.jsonSchema),Be);;){var Jt=yield(0,le.O5)(Q.database.internalStore,cn),hn=(0,lt.o8)((0,De.ZN)(Jt));if(hn.data.connectedStorages.find(Ge=>Ge.collectionName===mt&&Ge.schema.version===Dt.version))return;hn.data.connectedStorages.push({collectionName:mt,schema:Dt});try{yield(0,le.mQ)(Q.database.internalStore,{previous:(0,De.ZN)(Jt),document:hn},"add-connected-storage-to-collection")}catch(Ge){if(!(0,re.sX)(Ge))throw Ge}}})).apply(this,arguments)}function Qe(Q,mt,Dt){return _e.apply(this,arguments)}function _e(){return(_e=(0,J.A)(function*(Q,mt,Dt){if(Q.schema.version!==Dt.version)throw(0,re.Br)("SNH",{schema:Dt,version:Q.schema.version,name:Q.name,collection:Q,args:{storageCollectionName:mt}});for(var cn=ze(de(Q.name,Q.schema.jsonSchema),Be);;){var Jt=yield(0,le.O5)(Q.database.internalStore,cn),hn=(0,lt.o8)((0,De.ZN)(Jt));if(!hn.data.connectedStorages.find(Ge=>Ge.collectionName===mt&&Ge.schema.version===Dt.version))return;hn.data.connectedStorages=hn.data.connectedStorages.filter(Ge=>Ge.collectionName!==mt);try{yield(0,le.mQ)(Q.database.internalStore,{previous:(0,De.ZN)(Jt),document:hn},"remove-connected-storage-from-collection")}catch(Ge){if(!(0,re.sX)(Ge))throw Ge}}})).apply(this,arguments)}function de(Q,mt){return Q+"-"+mt.version}},7396:(Bt,et,R)=>{"use strict";R.d(et,{lB:()=>Q,uh:()=>cn,NI:()=>se});var J=R(467),re=R(6126),fe=function(){this._parallels=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)||1,this._qC=0,this._iC=new Set,this._lHN=0,this._hPM=new Map,this._pHM=new Map};function L($,q){if(q){if(q._timeoutObj&&clearTimeout(q._timeoutObj),$._pHM.has(q)){var Z=$._pHM.get(q);$._hPM.delete(Z),$._pHM.delete(q)}$._iC.delete(q)}}function l($){$._tryIR||0===$._iC.size||($._tryIR=!0,setTimeout(function(){$.isIdle()?setTimeout(function(){$.isIdle()?(function le($){0!==$._iC.size&&($._iC.values().next().value._manRes(),setTimeout(function(){return l($)},0))}($),$._tryIR=!1):$._tryIR=!1},0):$._tryIR=!1},0))}fe.prototype={isIdle:function(){return this._qC<this._parallels},lock:function(){this._qC++},unlock:function(){this._qC--,l(this)},wrapCall:function(q){var ie,Z=this;this.lock();try{ie=q()}catch(ae){throw this.unlock(),ae}return ie.then&&"function"==typeof ie.then?ie.then(function(ae){return Z.unlock(),ae}).catch(function(ae){throw Z.unlock(),ae}):(this.unlock(),ie)},requestIdlePromise:function(q){var Z=this;q=q||{};var ie,ae=new Promise(function(Lt){return ie=Lt});if(ae._manRes=function(){L(Z,ae),ie()},q.timeout){var Ct=setTimeout(function(){ae._manRes()},q.timeout);ae._timeoutObj=Ct}return this._iC.add(ae),l(this),ae},cancelIdlePromise:function(q){L(this,q)},requestIdleCallback:function(q,Z){var ie=this._lHN++,ae=this.requestIdlePromise(Z);return this._hPM.set(ie,ae),this._pHM.set(ae,ie),ae.then(function(){return q()}),ie},cancelIdleCallback:function(q){var Z=this._hPM.get(q);this.cancelIdlePromise(Z)},clear:function(){var q=this;this._iC.forEach(function(Z){return L(q,Z)}),this._qC=0,this._iC.clear(),this._hPM=new Map,this._pHM=new Map}};var De=R(6052),lt=R(5520),Ve=R(2060),Be=R(6434),Y=R(8663),xe=R(203),Ne=R(6243),oe=R(720),ze=R(7650),Re=R(9182),ke=R(2284),ge=R(1413),Fe=R(1397),Me=R(4395),Ae=R(6893),Ke=R(9556),we=R(2104),st=R(1318),Qe=R(3896),_e=new Set,Q=function(){function $(Z,ie,ae,Te,Ct,Lt,Mt=!1,Ut={},nn,on,an,Ht,dn){this.idleQueue=new fe,this.rxdbVersion=De.o,this.storageInstances=new Set,this._subs=[],this.startupErrors=[],this.onDestroy=[],this.destroyed=!1,this.collections={},this.states={},this.eventBulks$=new ge.B,this.observable$=this.eventBulks$.pipe((0,Fe.Z)(rn=>rn.events)),this.storageToken=lt.Dr,this.storageTokenDocument=lt.Dr,this.emittedEventBulkIds=new Ke.p4(6e4),this.name=Z,this.token=ie,this.storage=ae,this.instanceCreationOptions=Te,this.password=Ct,this.multiInstance=Lt,this.eventReduce=Mt,this.options=Ut,this.internalStore=nn,this.hashFunction=on,this.cleanupPolicy=an,this.allowSlowCount=Ht,this.reactivity=dn,"pseudoInstance"!==this.name&&(this.internalStore=(0,Ae.AM)(this.asRxDatabase,nn,we.CC),this.storageTokenDocument=(0,we.ol)(this.asRxDatabase).catch(rn=>this.startupErrors.push(rn)),this.storageToken=this.storageTokenDocument.then(rn=>rn.data.token).catch(rn=>this.startupErrors.push(rn)))}var q=$.prototype;return q.getReactivityFactory=function(){if(!this.reactivity)throw(0,ze.Br)("DB14",{database:this.name});return this.reactivity},q.$emit=function(ie){this.emittedEventBulkIds.has(ie.id)||(this.emittedEventBulkIds.add(ie.id),this.eventBulks$.next(ie))},q.removeCollectionDoc=function(){var Z=(0,J.A)(function*(ae,Te){var Ct=yield(0,Ae.O5)(this.internalStore,(0,we.lz)((0,we.bV)(ae,Te),we.Nu));if(!Ct)throw(0,ze.Br)("SNH",{name:ae,schema:Te});var Lt=(0,Ae.C9)(Ct);Lt._deleted=!0,yield this.internalStore.bulkWrite([{document:Lt,previous:Ct}],"rx-database-remove-collection")});return function ie(ae,Te){return Z.apply(this,arguments)}}(),q.addCollections=function(){var Z=(0,J.A)(function*(ae){var Te=this,Ct={},Lt={},Mt=[],Ut={};yield Promise.all(Object.entries(ae).map(function(){var an=(0,J.A)(function*([Ht,dn]){var rn=Ht,Pn=dn.schema;Ct[rn]=Pn;var Cn=(0,Re.Wq)(Pn,Te.hashFunction);if(Lt[rn]=Cn,Te.collections[Ht])throw(0,ze.Br)("DB3",{name:Ht});var qi=(0,we.bV)(Ht,Pn),Xi={id:(0,we.lz)(qi,we.Nu),key:qi,context:we.Nu,data:{name:rn,schemaHash:yield Cn.hash,schema:Cn.jsonSchema,version:Cn.version,connectedStorages:[]},_deleted:!1,_meta:(0,Ve.o4)(),_rev:(0,Ve.Fq)(),_attachments:{}};Mt.push({document:Xi});var Vr=Object.assign({},dn,{name:rn,schema:Cn,database:Te}),zt=(0,Be.FD)(dn);zt.database=Te,zt.name=Ht,(0,ke.Xi)("preCreateRxCollection",zt),Vr.conflictHandler=zt.conflictHandler,Ut[rn]=Vr});return function(Ht){return an.apply(this,arguments)}}()));var nn=yield this.internalStore.bulkWrite(Mt,"rx-database-add-collection");yield function K($){return B.apply(this,arguments)}(this),yield Promise.all(nn.error.map(function(){var an=(0,J.A)(function*(Ht){if(409!==Ht.status)throw(0,ze.Br)("DB12",{database:Te.name,writeError:Ht});var dn=(0,Y.ZN)(Ht.documentInDb),rn=dn.data.name,Pn=Lt[rn];if(dn.data.schemaHash!==(yield Pn.hash))throw(0,ze.Br)("DB6",{database:Te.name,collection:rn,previousSchemaHash:dn.data.schemaHash,schemaHash:yield Pn.hash,previousSchema:dn.data.schema,schema:(0,Y.ZN)(Ct[rn])})});return function(Ht){return an.apply(this,arguments)}}()));var on={};return yield Promise.all(Object.keys(ae).map(function(){var an=(0,J.A)(function*(Ht){var dn=Ut[Ht],rn=yield(0,Me.dN)(dn);on[Ht]=rn,Te.collections[Ht]=rn,Te[Ht]||Object.defineProperty(Te,Ht,{get:()=>Te.collections[Ht]})});return function(Ht){return an.apply(this,arguments)}}())),on});return function ie(ae){return Z.apply(this,arguments)}}(),q.lockedRun=function(ie){return this.idleQueue.wrapCall(ie)},q.requestIdlePromise=function(){return this.idleQueue.requestIdlePromise()},q.exportJSON=function(ie){throw(0,xe.u)("json-dump")},q.addState=function(ie){throw(0,xe.u)("state")},q.importJSON=function(ie){throw(0,xe.u)("json-dump")},q.backup=function(ie){throw(0,xe.u)("backup")},q.leaderElector=function(){throw(0,xe.u)("leader-election")},q.isLeader=function(){throw(0,xe.u)("leader-election")},q.waitForLeadership=function(){throw(0,xe.u)("leader-election")},q.migrationStates=function(){throw(0,xe.u)("migration-schema")},q.destroy=function(){var Z=(0,J.A)(function*(){return this.destroyed||(this.destroyed=!0,yield(0,ke.FX)("preDestroyRxDatabase",this),this.eventBulks$.complete(),this._subs.map(ae=>ae.unsubscribe()),"pseudoInstance"===this.name)?lt.Dr:this.requestIdlePromise().then(()=>Promise.all(this.onDestroy.map(ae=>ae()))).then(()=>Promise.all(Object.keys(this.collections).map(ae=>this.collections[ae]).map(ae=>ae.destroy()))).then(()=>this.internalStore.close()).then(()=>_e.delete(this.storage.name+"|"+this.name)).then(()=>!0)});return function ie(){return Z.apply(this,arguments)}}(),q.remove=function(){return this.destroy().then(()=>function Jt($,q,Z){return hn.apply(this,arguments)}(this.name,this.storage,this.password))},(0,re.A)($,[{key:"$",get:function(){return this.observable$}},{key:"asRxDatabase",get:function(){return this}}])}();function Dt($,q,Z,ie,ae,Te){return At.apply(this,arguments)}function At(){return(At=(0,J.A)(function*($,q,Z,ie,ae,Te){return yield q.createStorageInstance({databaseInstanceToken:$,databaseName:Z,collectionName:Ae.OG,schema:we.CC,options:ie,multiInstance:ae,password:Te,devMode:Qe.h.isDevMode()})})).apply(this,arguments)}function cn({storage:$,instanceCreationOptions:q,name:Z,password:ie,multiInstance:ae=!0,eventReduce:Te=!0,ignoreDuplicate:Ct=!1,options:Lt={},cleanupPolicy:Mt,allowSlowCount:Ut=!1,localDocuments:nn=!1,hashFunction:on=Ne.V0,reactivity:an}){(0,ke.Xi)("preCreateRxDatabase",{storage:$,instanceCreationOptions:q,name:Z,password:ie,multiInstance:ae,eventReduce:Te,ignoreDuplicate:Ct,options:Lt,localDocuments:nn}),Ct||function mt($,q){if(_e.has(q.name+"|"+$))throw(0,ze.Br)("DB8",{name:$,storage:q.name,link:"https://rxdb.info/rx-database.html#ignoreduplicate"})}(Z,$),_e.add($.name+"|"+Z);var Ht=(0,oe.z3)(10);return Dt(Ht,$,Z,q,ae,ie).catch(dn=>{throw _e.delete($.name+"|"+Z),dn}).then(dn=>{var rn=new Q(Z,Ht,$,q,ie,ae,Te,Lt,dn,on,Mt,Ut,an);return(0,ke.FX)("createRxDatabase",{database:rn,creator:{storage:$,instanceCreationOptions:q,name:Z,password:ie,multiInstance:ae,eventReduce:Te,ignoreDuplicate:Ct,options:Lt,localDocuments:nn}}).then(()=>rn)})}function hn(){return(hn=(0,J.A)(function*($,q,Z){var ie=(0,oe.z3)(10),ae=yield Dt(ie,q,$,{},!1,Z),Te=yield(0,we.WY)(ae),Ct=new Set;Te.forEach(Mt=>Ct.add(Mt.data.name));var Lt=Array.from(Ct);return yield Promise.all(Lt.map(Mt=>(0,st.vM)(q,ae,ie,$,Mt,Z))),yield(0,ke.FX)("postRemoveRxDatabase",{databaseName:$,storage:q}),yield ae.remove(),Lt})).apply(this,arguments)}function se($){return be.apply(this,arguments)}function be(){return(be=(0,J.A)(function*($){return(yield $.storageTokenDocument).data.instanceToken===$.token})).apply(this,arguments)}function B(){return(B=(0,J.A)(function*($){if(yield $.storageToken,$.startupErrors[0])throw $.startupErrors[0]})).apply(this,arguments)}},5908:(Bt,et,R)=>{"use strict";R.d(et,{Lt:()=>Qe,Zb:()=>we,cM:()=>Ke,ky:()=>Ae});var J=R(467),re=R(6354),fe=R(5964),le=R(9172),L=R(3294),l=R(6496),De=R(8663),lt=R(1744),Ve=R(5520),Be=R(9403),Y=R(6434),xe=R(720),Ne=R(203),oe=R(7650),ze=R(2284),Re=R(312),ke=R(3896),ge=R(1885),Fe=R(6893),Me=R(6706),Ae={get primaryPath(){if(this.isInstanceOfRxDocument)return this.collection.schema.primaryPath},get primary(){if(this.isInstanceOfRxDocument)return this._data[this.primaryPath]},get revision(){if(this.isInstanceOfRxDocument)return this._data._rev},get deleted$(){if(this.isInstanceOfRxDocument)return this.$.pipe((0,re.T)(de=>de._data._deleted))},get deleted$$(){return this.collection.database.getReactivityFactory().fromObservable(this.deleted$,this.getLatest().deleted,this.collection.database)},get deleted(){if(this.isInstanceOfRxDocument)return this._data._deleted},getLatest(){var _e=this.collection._docCache.getLatestDocumentData(this.primary);return this.collection._docCache.getCachedRxDocument(_e)},get $(){return this.collection.$.pipe((0,fe.p)(de=>!de.isLocal),(0,fe.p)(de=>de.documentId===this.primary),(0,re.T)(de=>(0,Re.vk)(de)),(0,le.Z)(this.collection._docCache.getLatestDocumentData(this.primary)),(0,L.F)((de,Q)=>de._rev===Q._rev),(0,re.T)(de=>this.collection._docCache.getCachedRxDocument(de)),(0,l.t)(De.bz))},get $$(){return this.collection.database.getReactivityFactory().fromObservable(this.$,this.getLatest()._data,this.collection.database)},get$(_e){if(ke.h.isDevMode()){if(_e.includes(".item."))throw(0,oe.Br)("DOC1",{path:_e});if(_e===this.primaryPath)throw(0,oe.Br)("DOC2");if(this.collection.schema.finalFields.includes(_e))throw(0,oe.Br)("DOC3",{path:_e});if(!(0,ge.nT)(this.collection.schema.jsonSchema,_e))throw(0,oe.Br)("DOC4",{path:_e})}return this.$.pipe((0,re.T)(Q=>(0,lt.UU)(Q,_e)),(0,L.F)())},get$$(_e){var de=this.get$(_e);return this.collection.database.getReactivityFactory().fromObservable(de,this.getLatest().get(_e),this.collection.database)},populate(_e){var de=(0,ge.nT)(this.collection.schema.jsonSchema,_e),Q=this.get(_e);if(!Q)return Ve.$A;if(!de)throw(0,oe.Br)("DOC5",{path:_e});if(!de.ref)throw(0,oe.Br)("DOC6",{path:_e,schemaObj:de});var mt=this.collection.database.collections[de.ref];if(!mt)throw(0,oe.Br)("DOC7",{ref:de.ref,path:_e,schemaObj:de});return"array"===de.type?mt.findByIds(Q).exec().then(Dt=>{var At=Dt.values();return Array.from(At)}):mt.findOne(Q).exec()},get(_e){return(0,Be.q)(this._propertyCache,_e,()=>{var de=(0,lt.UU)(this._data,_e);if("object"!=typeof de||null===de||Array.isArray(de))return ke.h.deepFreezeWhenDevMode(de);var Q=this;return new Proxy((0,Y.FD)(de),{get(Dt,At){if("string"!=typeof At)return Dt[At];var cn=At.charAt(At.length-1);if(At.endsWith("$$")){var Jt=At.slice(0,-2);return Q.get$$((0,xe.L$)(_e+"."+Jt))}if("$"===cn){var hn=At.slice(0,-1);return Q.get$((0,xe.L$)(_e+"."+hn))}if("_"===cn){var On=At.slice(0,-1);return Q.populate((0,xe.L$)(_e+"."+On))}return Q.get((0,xe.L$)(_e+"."+At))}})})},toJSON(_e=!1){if(_e)return ke.h.deepFreezeWhenDevMode(this._data);var de=(0,Y.FD)(this._data);return delete de._rev,delete de._attachments,delete de._deleted,delete de._meta,ke.h.deepFreezeWhenDevMode(de)},toMutableJSON(_e=!1){return(0,Y.o8)(this.toJSON(_e))},update(_e){throw(0,Ne.u)("update")},incrementalUpdate(_e){throw(0,Ne.u)("update")},updateCRDT(_e){throw(0,Ne.u)("crdt")},putAttachment(){throw(0,Ne.u)("attachments")},getAttachment(){throw(0,Ne.u)("attachments")},allAttachments(){throw(0,Ne.u)("attachments")},get allAttachments$(){throw(0,Ne.u)("attachments")},modify(_e,de){var Q=this;return(0,J.A)(function*(){var mt=Q._data,Dt=yield(0,Me.Hl)(_e)(mt);return Q._saveData(Dt,mt)})()},incrementalModify(_e,de){return this.collection.incrementalWriteQueue.addWrite(this._data,(0,Me.Hl)(_e)).then(Q=>this.collection._docCache.getCachedRxDocument(Q))},patch(_e){var de=this._data,Q=(0,Y.o8)(de);return Object.entries(_e).forEach(([mt,Dt])=>{Q[mt]=Dt}),this._saveData(Q,de)},incrementalPatch(_e){return this.incrementalModify(de=>(Object.entries(_e).forEach(([Q,mt])=>{de[Q]=mt}),de))},_saveData(_e,de){var Q=this;return(0,J.A)(function*(){if(_e=(0,Y.FD)(_e),Q._data._deleted)throw(0,oe.Br)("DOC11",{id:Q.primary,document:Q});yield Qe(Q.collection,_e,de);var mt=[{previous:de,document:_e}],Dt=yield Q.collection.storageInstance.bulkWrite(mt,"rx-document-save-data");return(0,Fe.WX)(Q.collection,Q.primary,_e,Dt.error[0]),yield Q.collection._runHooks("post","save",_e,Q),Q.collection._docCache.getCachedRxDocument((0,Fe.YN)(Q.collection.schema.primaryPath,mt,Dt)[0])})()},remove(){var _e=this,de=this.collection;if(this.deleted)return Promise.reject((0,oe.Br)("DOC13",{document:this,id:this.primary}));var mt,Q=(0,Y.FD)(this._data);return de._runHooks("pre","remove",Q,this).then((0,J.A)(function*(){Q._deleted=!0;var Dt=[{previous:_e._data,document:Q}],At=yield de.storageInstance.bulkWrite(Dt,"rx-document-remove");return(0,Fe.WX)(de,_e.primary,Q,At.error[0]),(0,Fe.YN)(_e.collection.schema.primaryPath,Dt,At)[0]})).then(Dt=>(mt=Dt,this.collection._runHooks("post","remove",Q,this))).then(()=>this.collection._docCache.getCachedRxDocument(mt))},incrementalRemove(){var _e=this;return this.incrementalModify(function(){var de=(0,J.A)(function*(Q){return yield _e.collection._runHooks("pre","remove",Q,_e),Q._deleted=!0,Q});return function(Q){return de.apply(this,arguments)}}()).then(function(){var de=(0,J.A)(function*(Q){return yield _e.collection._runHooks("post","remove",Q._data,Q),Q});return function(Q){return de.apply(this,arguments)}}())},destroy(){throw(0,oe.Br)("DOC14")}};function Ke(_e=Ae){var de=function(mt,Dt){this.collection=mt,this._data=Dt,this._propertyCache=new Map,this.isInstanceOfRxDocument=!0};return de.prototype=_e,de}function we(_e,de,Q){var mt=new _e(de,Q);return(0,ze.Xi)("createRxDocument",mt),mt}function Qe(_e,de,Q){return de._meta=Object.assign({},Q._meta,de._meta),ke.h.isDevMode()&&_e.schema.validateChange(Q,de),_e._runHooks("pre","save",de,Q)}},7650:(Bt,et,R)=>{"use strict";R.d(et,{sX:()=>ge,Br:()=>Re,JX:()=>ke,cg:()=>Me});var J=R(6126),re=R(6719);function fe(Ae){return(fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ke){return Ke.__proto__||Object.getPrototypeOf(Ke)})(Ae)}var le=R(4394);function l(){try{var Ae=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(l=function(){return!!Ae})()}function lt(Ae){var Ke="function"==typeof Map?new Map:void 0;return lt=function(st){if(null===st||!function L(Ae){try{return-1!==Function.toString.call(Ae).indexOf("[native code]")}catch{return"function"==typeof Ae}}(st))return st;if("function"!=typeof st)throw new TypeError("Super expression must either be null or a function");if(void 0!==Ke){if(Ke.has(st))return Ke.get(st);Ke.set(st,Qe)}function Qe(){return function De(Ae,Ke,we){if(l())return Reflect.construct.apply(null,arguments);var st=[null];st.push.apply(st,Ke);var Qe=new(Ae.bind.apply(Ae,st));return we&&(0,le.A)(Qe,we.prototype),Qe}(st,arguments,fe(this).constructor)}return Qe.prototype=Object.create(st.prototype,{constructor:{value:Qe,enumerable:!1,writable:!0,configurable:!0}}),(0,le.A)(Qe,st)},lt(Ae)}var Ve=R(3896);function Y(Ae,Ke,we){return"RxError ("+Ke+"):\n"+Ae+"\n"+function Be(Ae){var Ke="";return 0===Object.keys(Ae).length||(Ke+="Given parameters: {\n",Ke+=Object.keys(Ae).map(we=>{var st="[object Object]";try{st="errors"===we?Ae[we].map(Qe=>JSON.stringify(Qe,Object.getOwnPropertyNames(Qe))):JSON.stringify(Ae[we],function(Qe,_e){return void 0===_e?null:_e},2)}catch{}return we+":"+st}).join("\n"),Ke+="}"),Ke}(we)}var xe=function(Ae){function Ke(st,Qe,_e={}){var de,Q=Y(Qe,st,_e);return(de=Ae.call(this,Q)||this).code=st,de.message=Q,de.url=oe(st),de.parameters=_e,de.rxdb=!0,de}return(0,re.A)(Ke,Ae),Ke.prototype.toString=function(){return this.message},(0,J.A)(Ke,[{key:"name",get:function(){return"RxError ("+this.code+")"}},{key:"typeError",get:function(){return!1}}])}(lt(Error)),Ne=function(Ae){function Ke(st,Qe,_e={}){var de,Q=Y(Qe,st,_e);return(de=Ae.call(this,Q)||this).code=st,de.message=Q,de.url=oe(st),de.parameters=_e,de.rxdb=!0,de}return(0,re.A)(Ke,Ae),Ke.prototype.toString=function(){return this.message},(0,J.A)(Ke,[{key:"name",get:function(){return"RxTypeError ("+this.code+")"}},{key:"typeError",get:function(){return!0}}])}(lt(TypeError));function oe(Ae){return"https://rxdb.info/errors.html?console=errors#"+Ae}function ze(Ae){return"\n You can find out more about this error here: "+oe(Ae)+" "}function Re(Ae,Ke){return new xe(Ae,Ve.h.tunnelErrorMessage(Ae)+ze(Ae),Ke)}function ke(Ae,Ke){return new Ne(Ae,Ve.h.tunnelErrorMessage(Ae)+ze(Ae),Ke)}function ge(Ae){return!(!Ae||409!==Ae.status)&&Ae}var Fe={409:"document write conflict",422:"schema validation error",510:"attachment data missing"};function Me(Ae){return Re("COL20",{name:Fe[Ae.status],document:Ae.documentId,writeError:Ae})}},5365:(Bt,et,R)=>{"use strict";R.d(et,{Lr:()=>hg,Xw:()=>wI,_V:()=>EI,dx:()=>kf});var J=R(467),re=R(997),fe=R(1885),le=R(6434),L=R(7176);class l extends Error{}const Ve=Number.MAX_SAFE_INTEGER,Be=Number.MIN_SAFE_INTEGER,Y=Symbol("missing"),xe=Object.freeze(new Error("mingo: cycle detected while processing object/array")),Ne=Object.getPrototypeOf([]),oe=Object.getPrototypeOf({}),Re=/^\[object ([a-zA-Z0-9]+)\]$/;class ke{}class ge{}const Fe=y=>null===y?ke:void 0===y?ge:y.constructor,Me=y=>{const b=function Xi(y){const b=new Set,D=w=>{const O=Fe(w);if(Qe.has(O))return Qe.get(O)(w);const U=O===Object?"":O.name;if(Z(w.toJSON))return`${U}(${JSON.stringify(w)})`;if(b.has(w))throw xe;b.add(w);try{if(O===Array)return"["+w.map(D).join(",")+"]";if(O!==Object){const[ne,Ee]=Pn(w);if(be(w))return`${U}${D([...w,ne])}`;w=ne}const te=Object.keys(w);return te.sort(),`${U}{`+te.map(ne=>`${ne}:${D(w[ne])}`).join(",")+"}"}finally{b.delete(w)}};return D(y)}(y);let D=0,w=b.length;for(;w;)D=(D<<5)-D^b.charCodeAt(--w);return D>>>0},Ae=new Set(["null","undefined","boolean","number","string","date","regexp"]),Ke=new Set([ge,ke,Boolean,String,Number]),we=y=>y.toString(),st=y=>`${Fe(y).name}[${y.toString()}]`,Qe=new Map([[Number,we],[Boolean,we],[RegExp,we],[Function,we],[Symbol,we],[Date,y=>y.toISOString()],[String,JSON.stringify],[ke,y=>"null"],[ge,y=>"undefined"],[Int8Array,st],[Uint8Array,st],[Uint8ClampedArray,st],[Int16Array,st],[Uint16Array,st],[Int32Array,st],[Uint32Array,st],[Float32Array,st],[Float64Array,st]]);typeof BigInt<"u"&&Qe.set(BigInt,y=>"0x"+y.toString(16)),typeof BigInt64Array<"u"&&Qe.set(BigInt64Array,st),typeof BigUint64Array<"u"&&Qe.set(BigUint64Array,st);const _e={null:0,undefined:0,number:1,string:2,object:3,array:4,boolean:5,date:6,regexp:7,function:8},de=(y,b)=>{y===Y&&(y=void 0),b===Y&&(b=void 0);const[D,w]=[y,b].map(O=>_e[At(O).toLowerCase()]);return D!==w?D-w:1===D||2===D||6===D?y<b?-1:y>b?1:0:Cn(y,b)?0:y<b?-1:y>b?1:0};function Q(y,b){if(!y)throw new l(b)}const Dt=y=>{if(Ke.has(Fe(y)))return y;const b=new Set,D=w=>{if(b.has(w))throw xe;const O=Fe(w);if(Ke.has(O))return w;try{if(be(w))return b.add(w),w.map(D);if(K(w)){b.add(w);const U={};for(const te in w)U[te]=D(w[te]);return U}}finally{b.delete(w)}return O===Date||O===RegExp||(y=>{const b=Object.getPrototypeOf(Fe(y));return b&&"TypedArray"===b.name})(w)?new O(w):w};return D(y)},At=y=>Re.exec(Object.prototype.toString.call(y))[1],cn=y=>"boolean"==typeof y,Jt=y=>"string"==typeof y,On=y=>!isNaN(y)&&"number"==typeof y,be=Array.isArray,K=y=>{if(!y)return!1;const b=Object.getPrototypeOf(y);return(b===oe||null===b)&&"[object Object]"===Object.prototype.toString.call(y)},B=y=>y===Object(y),$=y=>y instanceof Date,q=y=>y instanceof RegExp,Z=y=>"function"==typeof y,ie=y=>null==y,ae=(y,b)=>y.includes(b),Te=(y,b)=>!ae(y,b),Lt=y=>ie(y)||Jt(y)&&!y||y instanceof Array&&0===y.length||K(y)&&0===Object.keys(y).length,Mt=y=>y===Y,Ut=y=>y instanceof Array?y:[y],nn=(y,b)=>!!y&&Object.prototype.hasOwnProperty.call(y,b),on=(y,b)=>K(y)&&K(b)||be(y)&&be(b);function an(y,b,D){if(D=D||{flatten:!1},Mt(y)||ie(y))return b;if(Mt(b)||ie(b))return y;if(!on(y,b)){if(D.skipValidation)return b||y;throw Error("mismatched types. must both be array or object")}if(D.skipValidation=!0,be(y)){const w=y,O=b;if(D.flatten){let U=0,te=0;for(;U<w.length&&te<O.length;)w[U]=an(w[U++],O[te++],D);for(;te<O.length;)w.push(b[te++])}else Jn(w,O)}else for(const w in b)y[w]=an(y[w],b[w],D);return y}function Ht(y,b=Me){const D=new Map;return y.forEach((w,O)=>{const U=Vr(w,b);D.has(U)?D.get(U).some(te=>Cn(y[te],w))||D.get(U).push(O):D.set(U,[O])}),D}function dn(y,b=Me){if(y.some(ne=>0==ne.length))return[];if(1===y.length)return Array.from(y);const D=function zt(y,b,D=de){if(Lt(y))return y;const w=new Array,O=new Array;for(let U=0;U<y.length;U++){const te=y[U],ne=b(te,U);ie(ne)?O.push(te):w.push([ne,te])}return w.sort((U,te)=>D(U[0],te[0])),Jn(O,w.map(U=>U[1]))}(y.map((ne,Ee)=>[Ee,ne.length]),ne=>ne[1]),w=y[D[0][0]],O=Ht(w,b),U=new Map,te=new Array;return O.forEach((ne,Ee)=>{const ct=ne.map(Zt=>w[Zt]),ot=ct.map(Zt=>0),Tt=ct.map(Zt=>[D[0][0],0]);let St=!1;for(let Zt=1;Zt<y.length;Zt++){const[fn,Sn]=D[Zt],er=y[fn];if(U.has(Zt)||U.set(Zt,Ht(er)),U.get(Zt).has(Ee)){const vr=U.get(Zt).get(Ee).map(wr=>er[wr]);St=ct.map((wr,To)=>vr.some((Mr,to)=>{const oi=ot[To];return Cn(wr,Mr)&&(ot[To]++,fn<Tt[To][0]&&(Tt[To]=[fn,U.get(Zt).get(Ee)[to]])),oi<ot[To]})).some(Boolean)}if(!St)return}St&&Jn(te,ot.map((Zt,fn)=>Zt===y.length-1?[ct[fn],Tt[fn]]:Y).filter(Zt=>Zt!==Y))}),te.sort((ne,Ee)=>{const[ct,[ot,Tt]]=ne,[St,[Zt,fn]]=Ee,Sn=de(ot,Zt);return 0!==Sn?Sn:de(Tt,fn)}).map(ne=>ne[0])}function rn(y,b=0){const D=new Array;return function w(O,U){for(let te=0,ne=O.length;te<ne;te++)be(O[te])&&(U>0||U<0)?w(O[te],Math.max(-1,U-1)):D.push(O[te])}(y,b),D}const Pn=y=>{let[b,D]=[Object.getPrototypeOf(y),Object.getOwnPropertyNames(y)],w=b;for(;!D.length&&b!==oe&&b!==Ne;)w=b,D=Object.getOwnPropertyNames(b),b=Object.getPrototypeOf(b);const O={};return D.forEach(U=>O[U]=y[U]),[O,w]};function Cn(y,b){const D=[[y,b]];for(;D.length>0;){if([y,b]=D.pop(),y===b)continue;const w=Fe(y);if(w!==Fe(b)||Z(y))return!1;if(Qe.has(w)){const O=Qe.get(w);if(O(y)!==O(b))return!1}else{if(w!==Array&&w!==Object)return!1;{const O=Object.keys(y),U=Object.keys(b);if(O.length!==U.length||new Set(O.concat(U)).size!=O.length)return!1;for(const te of O)D.push([y[te],b[te]])}}}return!D.length}function Vr(y,b){return b=b||Me,ie(y)?null:b(y).toString()}function yr(y,b,D=Me){if(y.length<1)return new Map;const w=new Map,O=new Map;for(let U=0;U<y.length;U++){const te=y[U],ne=b(te,U),Ee=Vr(ne,D);if(null===Ee)O.has(null)?O.get(null).push(te):O.set(null,[te]);else{const ct=w.has(Ee)?w.get(Ee).find(ot=>Cn(ot,ne)):null;ie(ct)?(O.set(ne,[te]),w.has(Ee)?w.get(Ee).push(ne):w.set(Ee,[ne])):O.get(ct).push(te)}}return O}const fr=5e4;function Jn(y,...b){return y instanceof Array?b.reduce((D,w)=>{let O=Math.ceil(w.length/fr),U=0;for(;O-- >0;)Array.prototype.push.apply(D,w.slice(U,U+fr)),U+=fr;return D},y):b.filter(B).reduce((D,w)=>(Object.assign(D,w),D),y)}function or(y,b){return B(y)?y[b]:void 0}function No(y,b,D){let w=0;const U=Ae.has(At(y).toLowerCase())?y:function O(te,ne){let Ee=te;for(let ct=0;ct<ne.length;ct++){const ot=ne[ct];if(null===/^\d+$/.exec(ot)&&Ee instanceof Array){if(0===ct&&w>0)break;w+=1;const St=ne.slice(ct);Ee=Ee.reduce((Zt,fn)=>{const Sn=O(fn,St);return void 0!==Sn&&Zt.push(Sn),Zt},[]);break}if(Ee=or(Ee,ot),void 0===Ee)break}return Ee}(y,b.split("."));return U instanceof Array&&D?.unwrapArray?function jt(y,b){if(b<1)return y;for(;b--&&1===y.length;)y=y[0];return y}(U,w):U}function yo(y,b,D){const w=b.split("."),O=w[0],U=w.slice(1).join("."),te=null!==/^\d+$/.exec(O),ne=w.length>1;let Ee,ct;if(y instanceof Array)if(te)Ee=or(y,Number(O)),ne&&(Ee=yo(Ee,U,D)),Ee=[Ee];else{Ee=[];for(const ot of y)ct=yo(ot,b,D),D?.preserveMissing?(void 0===ct&&(ct=Y),Ee.push(ct)):void 0!==ct&&Ee.push(ct)}else{if(ct=or(y,O),ne&&(ct=yo(ct,U,D)),void 0===ct)return;Ee=D?.preserveKeys?Object.assign({},y):{},Ee[O]=ct}return Ee}function Ns(y){if(y instanceof Array)for(let b=y.length-1;b>=0;b--)y[b]===Y?y.splice(b,1):Ns(y[b]);else if(K(y))for(const b in y)nn(y,b)&&Ns(y[b])}const Pt=/^\d+$/;function Fo(y,b,D,w){const O=b.split("."),U=O[0],te=O.slice(1).join(".");if(1===O.length)(K(y)||be(y)&&Pt.test(U))&&D(y,U);else{w?.buildGraph&&ie(y[U])&&(y[U]={});const ne=y[U];if(!ne)return;const Ee=!!(O.length>1&&Pt.test(O[1]));ne instanceof Array&&w?.descendArray&&!Ee?ne.forEach(ct=>Fo(ct,te,D,w)):Fo(ne,te,D,w)}}function Fs(y,b,D){Fo(y,b,(w,O)=>{w[O]=Z(D)?D(w[O]):D},{buildGraph:!0})}function Ls(y,b,D){Fo(y,b,(w,O)=>{if(w instanceof Array){if(/^\d+$/.test(O))w.splice(parseInt(O),1);else if(D&&D.descendArray)for(const U of w)K(U)&&delete U[O]}else K(w)&&delete w[O]},D)}const Fa=/^\$[a-zA-Z0-9_]+$/;function Qi(y){return Fa.test(y)}function Br(y){if(Ae.has(At(y).toLowerCase()))return q(y)?{$regex:y}:{$eq:y};if(B(y)){if(!Object.keys(y).some(Qi))return{$eq:y};if(nn(y,"$regex")){const D=Object.assign({},y);return D.$regex=new RegExp(y.$regex,y.$options),delete D.$options,D}}return y}var br=R(7650),ci=function(y){return y.CLONE_ALL="CLONE_ALL",y.CLONE_INPUT="CLONE_INPUT",y.CLONE_OUTPUT="CLONE_OUTPUT",y.CLONE_OFF="CLONE_OFF",y}(ci||{});class bo{constructor(b,D,w,O=Date.now()){this._opts=b,this._root=D,this._local=w,this.timestamp=O,this.update(D,w)}static init(b,D,w){return b instanceof bo?new bo(b._opts,ie(b.root)?D:b.root,Object.assign({},b.local,w)):new bo(b,D,w)}update(b,D){var w;return this._root=b,this._local=D&&Object.assign({},D,{variables:Object.assign({},null===(w=this._local)||void 0===w?void 0:w.variables,D?.variables)}),this}getOptions(){return Object.freeze(Object.assign(Object.assign({},this._opts),{context:pr.from(this._opts.context)}))}get root(){return this._root}get local(){return this._local}get idKey(){return this._opts.idKey}get collation(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collation}get processingMode(){var b;return(null===(b=this._opts)||void 0===b?void 0:b.processingMode)||ci.CLONE_OFF}get useStrictMode(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useStrictMode}get scriptEnabled(){var b;return null===(b=this._opts)||void 0===b?void 0:b.scriptEnabled}get useGlobalContext(){var b;return null===(b=this._opts)||void 0===b?void 0:b.useGlobalContext}get hashFunction(){var b;return null===(b=this._opts)||void 0===b?void 0:b.hashFunction}get collectionResolver(){var b;return null===(b=this._opts)||void 0===b?void 0:b.collectionResolver}get jsonSchemaValidator(){var b;return null===(b=this._opts)||void 0===b?void 0:b.jsonSchemaValidator}get variables(){var b;return null===(b=this._opts)||void 0===b?void 0:b.variables}get context(){var b;return null===(b=this._opts)||void 0===b?void 0:b.context}}function La(y){return y instanceof bo?y.getOptions():Object.freeze(Object.assign(Object.assign({idKey:"_id",scriptEnabled:!0,useStrictMode:!0,useGlobalContext:!0,processingMode:ci.CLONE_OFF},y),{context:y?.context?pr.from(y?.context):pr.init({})}))}var gn=function(y){return y.ACCUMULATOR="accumulator",y.EXPRESSION="expression",y.PIPELINE="pipeline",y.PROJECTION="projection",y.QUERY="query",y.WINDOW="window",y}(gn||{});class pr{constructor(b){this.operators={[gn.ACCUMULATOR]:{},[gn.EXPRESSION]:{},[gn.PIPELINE]:{},[gn.PROJECTION]:{},[gn.QUERY]:{},[gn.WINDOW]:{}};for(const[D,w]of Object.entries(b))this.addOperators(D,w)}static init(b={}){return new pr(b)}static from(b){return new pr(b.operators)}addOperators(b,D){for(const[w,O]of Object.entries(D))this.getOperator(b,w)||(this.operators[b][w]=O);return this}addAccumulatorOps(b){return this.addOperators(gn.ACCUMULATOR,b)}addExpressionOps(b){return this.addOperators(gn.EXPRESSION,b)}addQueryOps(b){return this.addOperators(gn.QUERY,b)}addPipelineOps(b){return this.addOperators(gn.PIPELINE,b)}addProjectionOps(b){return this.addOperators(gn.PROJECTION,b)}addWindowOps(b){return this.addOperators(gn.WINDOW,b)}getOperator(b,D){return b in this.operators&&this.operators[b][D]||null}}const Zo=pr.init();function Vs(y,b){for(const[D,w]of Object.entries(b)){Q(Z(w)&&Qi(D),`'${D}' is not a valid operator`);const O=Eo(y,D,null);Q(!O||w===O,`${D} already exists for '${y}' operators. Cannot change operator function once registered.`)}switch(y){case gn.ACCUMULATOR:Zo.addAccumulatorOps(b);break;case gn.EXPRESSION:Zo.addExpressionOps(b);break;case gn.PIPELINE:Zo.addPipelineOps(b);break;case gn.PROJECTION:Zo.addProjectionOps(b);break;case gn.QUERY:Zo.addQueryOps(b);break;case gn.WINDOW:Zo.addWindowOps(b)}}function Eo(y,b,D){const{context:w,useGlobalContext:O}=D||{},U=w?w.getOperator(y,b):null;return!U&&O?Zo.getOperator(y,b):U}const Bs={$$ROOT:(y,b,D)=>D.root,$$CURRENT:(y,b,D)=>y,$$REMOVE(y,b,D){},$$NOW:(y,b,D)=>new Date(D.timestamp)},pc={$$KEEP:(y,b,D)=>y,$$PRUNE(y,b,D){},$$DESCEND(y,b,D){if(!nn(b,"$cond"))return y;let w;for(const[O,U]of Object.entries(y))if(B(U)){if(U instanceof Array){const te=[];for(let ne of U)K(ne)&&(ne=Lo(ne,b,D.update(ne))),ie(ne)||te.push(ne);w=te}else w=Lo(U,b,D.update(U));ie(w)?delete y[O]:y[O]=w}return y}};function Wn(y,b,D,w){var O;const U=bo.init(w,y);if(Qi(D=D||"")){const te=Eo(gn.EXPRESSION,D,w);if(te)return te(y,b,U);const ne=Eo(gn.ACCUMULATOR,D,w);if(ne)return y instanceof Array||(y=Wn(y,b,null,U),b=null),Q(y instanceof Array,`'${D}' target must be an array.`),ne(y,b,U.update(null,U.local));throw new l(`operator '${D}' is not registered`)}if(Jt(b)&&b.length>0&&"$"===b[0]){if(nn(pc,b))return b;let te=U.root;const ne=b.split(".");if(nn(Bs,ne[0]))te=Bs[ne[0]](y,null,U),b=b.slice(ne[0].length+1);else if("$$"===ne[0].slice(0,2)){te=Object.assign({},U.variables,{this:y},null===(O=U.local)||void 0===O?void 0:O.variables);const Ee=ne[0].slice(2);Q(nn(te,Ee),`Use of undefined variable: ${Ee}`),b=b.slice(2)}else b=b.slice(1);return""===b?te:No(te,b)}if(be(b))return b.map(te=>Wn(y,te,null,U));if(K(b)){const te={};for(const[ne,Ee]of Object.entries(b))if(te[ne]=Wn(y,Ee,ne,U),[gn.EXPRESSION,gn.ACCUMULATOR].some(ct=>!!Eo(ct,ne,w)))return Q(1===Object.keys(b).length,"Invalid aggregation expression '"+JSON.stringify(b)+"'"),te[ne];return te}return b}function Lo(y,b,D){const w=Wn(y,b,null,D);return nn(pc,w)?pc[w](y,b,D):w}function Di(y){return y instanceof Nn?y:new Nn(y)}function Jo(y,b){const D=y.slice(b+1);y.splice(b),Array.prototype.push.apply(y,D)}const es=new Error;var li=function(y){return y[y.MAP=0]="MAP",y[y.FILTER=1]="FILTER",y[y.TAKE=2]="TAKE",y[y.DROP=3]="DROP",y}(li||{});class Nn{constructor(b){let D;if(this.iteratees=[],this.yieldedValues=[],this.isDone=!1,b instanceof Function&&(b={next:b}),function Yc(y){return!!y&&"object"==typeof y&&y?.next instanceof Function}(b)){const w=b;D=()=>{const O=w.next();if(O.done)throw es;return O.value}}else if(b instanceof Array){const w=b,O=b.length;let U=0;D=()=>{if(U<O)return w[U++];throw es}}else if(!(b instanceof Function))throw new l("Lazy must be initialized with an array, generator, or function.");this.getNext=function ro(y,b,D){let w=!1,O=-1,U=0;return function(te){try{e:for(;!w;){let ne=y();O++;let Ee=-1;const ct=b.length;let ot=!1;for(;++Ee<ct;){const Tt=b[Ee];switch(Tt.action){case li.MAP:ne=Tt.func(ne,O);break;case li.FILTER:if(!Tt.func(ne,O))continue e;break;case li.TAKE:--Tt.count,Tt.count||(ot=!0);break;case li.DROP:--Tt.count,Tt.count||Jo(b,Ee);continue e;default:break e}}if(w=ot,!te)return{value:ne,done:!1};D[U++]=ne}}catch(ne){if(ne!==es)throw ne}return w=!0,{done:w}}}(D,this.iteratees,this.yieldedValues)}push(b,D){return"function"==typeof D?this.iteratees.push({action:b,func:D}):"number"==typeof D&&this.iteratees.push({action:b,count:D}),this}next(){return this.getNext()}map(b){return this.push(li.MAP,b)}filter(b){return this.push(li.FILTER,b)}take(b){return b>0?this.push(li.TAKE,b):this}drop(b){return b>0?this.push(li.DROP,b):this}transform(b){const D=this;let w;return Di(()=>(w||(w=Di(b(D.value()))),w.next()))}value(){return this.isDone||(this.isDone=this.getNext(!0).done),this.yieldedValues}each(b){for(;;){const D=this.next();if(D.done)break;if(!1===b(D.value))return!1}return!0}reduce(b,D){let w=this.next();for(void 0===D&&!w.done&&(D=w.value,w=this.next());!w.done;)D=b(D,w.value),w=this.next();return D}size(){return this.reduce((b,D)=>++b,0)}[Symbol.iterator](){return this}}class pn{constructor(b,D){this.pipeline=b,this.options=La(D)}stream(b){let D=Di(b);const w=this.options.processingMode;(w==ci.CLONE_ALL||w==ci.CLONE_INPUT)&&D.map(Dt);const O=new Array;if(!Lt(this.pipeline))for(const U of this.pipeline){const te=Object.keys(U),ne=te[0],Ee=Eo(gn.PIPELINE,ne,this.options);Q(1===te.length&&!!Ee,`invalid pipeline operator ${ne}`),O.push(ne),D=Ee(D,U[ne],this.options)}return(w==ci.CLONE_OUTPUT||w==ci.CLONE_ALL&&dn([["$group","$unwind"],O]).length)&&D.map(Dt),D}run(b){return this.stream(b).value()}}class ts{constructor(b,D,w,O){this.source=b,this.predicate=D,this.projection=w,this.options=O,this.operators=[],this.result=null,this.buffer=[]}fetch(){return this.result||(K(this.projection)&&this.operators.push({$project:this.projection}),this.result=Di(this.source).filter(this.predicate),this.operators.length>0&&(this.result=new pn(this.operators,this.options).stream(this.result))),this.result}fetchAll(){const b=Di([...this.buffer]);return this.buffer=[],function la(...y){let b=0;return Di(()=>{for(;b<y.length;){const D=y[b].next();if(!D.done)return D;b++}return{done:!0}})}(b,this.fetch())}all(){return this.fetchAll().value()}count(){return this.all().length}skip(b){return this.operators.push({$skip:b}),this}limit(b){return this.operators.push({$limit:b}),this}sort(b){return this.operators.push({$sort:b}),this}collation(b){return this.options=Object.assign(Object.assign({},this.options),{collation:b}),this}next(){if(this.buffer.length>0)return this.buffer.pop();const b=this.fetch().next();return b.done?void 0:b.value}hasNext(){if(this.buffer.length>0)return!0;const b=this.fetch().next();return!b.done&&(this.buffer.push(b.value),!0)}map(b){return this.all().map(b)}forEach(b){this.all().forEach(b)}[Symbol.iterator](){return this.fetchAll()}}class ui{constructor(b,D){this.condition=b,this.options=La(D),this.compiled=[],this.compile()}compile(){Q(K(this.condition),`query criteria must be an object: ${JSON.stringify(this.condition)}`);const b={};for(const[D,w]of Object.entries(this.condition)){if("$where"===D)Object.assign(b,{field:D,expr:w});else if(ae(["$and","$or","$nor","$expr","$jsonSchema"],D))this.processOperator(D,D,w);else{Q(!Qi(D),`unknown top level operator: ${D}`);for(const[O,U]of Object.entries(Br(w)))this.processOperator(D,O,U)}b.field&&this.processOperator(b.field,b.field,b.expr)}}processOperator(b,D,w){const O=Eo(gn.QUERY,D,this.options);if(!O)throw new l(`unknown query operator ${D}`);const U=O(b,w,this.options);this.compiled.push(U)}test(b){for(let D=0,w=this.compiled.length;D<w;D++)if(!this.compiled[D](b))return!1;return!0}find(b,D){return new ts(b,w=>this.test(w),D||{},this.options)}remove(b){return b.reduce((D,w)=>(this.test(w)||D.push(w),D),[])}}const uu=(y,b,D)=>{if(Lt(b)||!K(b))return y;let w=de;const O=D.collation;return K(O)&&Jt(O.locale)&&(w=function nl(y){const b={sensitivity:du[y.strength||3],caseFirst:"off"===y.caseFirst?"false":y.caseFirst||"false",numeric:y.numericOrdering||!1,ignorePunctuation:"shifted"===y.alternate};!0===(y.caseLevel||!1)&&("base"===b.sensitivity&&(b.sensitivity="case"),"accent"===b.sensitivity&&(b.sensitivity="variant"));const D=new Intl.Collator(y.locale,b);return(w,O)=>{if(!Jt(w)||!Jt(O))return de(w,O);const U=D.compare(w,O);return U<0?-1:U>0?1:0}}(O)),y.transform(U=>{const te=Object.keys(b);for(const ne of te.reverse()){const Ee=yr(U,ot=>No(ot,ne),D.hashFunction),ct=Array.from(Ee.keys()).sort(w);-1===b[ne]&&ct.reverse(),ct.reduce((ot,Tt)=>Jn(ot,Ee.get(Tt)),U=[])}return U})},du={1:"base",2:"accent",3:"variant"};function Ji(y){const b=(D,w,O)=>{const U={unwrapArray:!0},te=Math.max(1,D.split(".").length-1);return ne=>{const Ee=No(ne,D,U);return y(Ee,w,Object.assign(Object.assign({},O),{depth:te}))}};return b.op="query",b}function Ha(y){return(b,D,w)=>{const O=Wn(b,D,null,w);return y(...O)}}function Ed(y,b,D){if(Cn(y,b)||ie(y)&&ie(b))return!0;if(y instanceof Array){const w=Cn.bind(null,b);return y.some(w)||rn(y,D?.depth).some(w)}return!1}function qn(y,b,D){return!Ed(y,b,D)}function Ws(y,b,D){return ie(y)?b.some(w=>null===w):dn([Ut(y),b],D?.hashFunction).length>0}function dr(y,b,D){return!Ws(y,b,D)}function _a(y,b,D){return ye(y,b,(w,O)=>de(w,O)<0)}function eo(y,b,D){return ye(y,b,(w,O)=>de(w,O)<=0)}function gu(y,b,D){return ye(y,b,(w,O)=>de(w,O)>0)}function ol(y,b,D){return ye(y,b,(w,O)=>de(w,O)>=0)}function Dn(y){return Qi(y)&&-1===["$and","$or","$nor"].indexOf(y)}function v(y,b,D){if(be(y)&&!Lt(y)){let w=te=>te,O=b;Object.keys(b).every(Dn)&&(O={temp:b},w=te=>({temp:te}));const U=new ui(O,D);for(let te=0,ne=y.length;te<ne;te++)if(U.test(w(y[te])))return!0}return!1}const C=y=>null===y,S=y=>On(y)&&y>=-2147483648&&y<=2147483647&&-1===y.toString().indexOf("."),P=y=>On(y)&&y>=Be&&y<=Ve&&-1===y.toString().indexOf("."),V={array:be,bool:cn,boolean:cn,date:$,decimal:On,double:On,int:S,long:P,number:On,null:C,object:K,regex:q,regexp:q,string:Jt,undefined:ie,function:y=>{throw new l("unsupported type key `function`.")},1:On,2:Jt,3:K,4:be,6:ie,8:cn,9:$,10:C,11:q,16:S,18:P,19:On};function H(y,b,D){const w=V[b];return!!w&&w(y)}function ye(y,b,D){return Ut(y).some(w=>At(w)===At(b)&&D(w,b))}Ha(dr);const He=(y,b)=>(D,w,O)=>{Q(be(w),`${y}: expression must be an array.`);const U=Wn(D,w,null,O);return U.some(ie)?null:(Q(U.every(On),`${y}: expression must evalue to array of numbers.`),b(U))};He("$bitAnd",y=>y.reduce((b,D)=>b&D,-1)),He("$bitOr",y=>y.reduce((b,D)=>b|D,0)),He("$bitXor",y=>y.reduce((b,D)=>b^D,0)),Ha(Ed),Ha(gu),Ha(ol),Ha(_a),Ha(eo),Ha(qn);const Wm=(y,b)=>{const D={};return y.split("").forEach((w,O)=>D[w]=b*(O+1)),D};Object.assign(Object.assign(Object.assign({},Wm("ABCDEFGHIKLM",1)),Wm("NOPQRSTUVWXY",-1)),{Z:0});const Dd={undefined:null,null:null,NaN:NaN,Infinity:new Error,"-Infinity":new Error};function $o(y,b=Dd){const D=Object.assign({},Dd,b),w=new Set(Object.keys(D));return(O,U,te)=>{const ne=Wn(O,U,null,te);if(w.has(`${ne}`)){const Ee=D[`${ne}`];if(Ee instanceof Error)throw new l(`cannot apply $${y.name} to -inf, value must in (-inf,inf)`);return Ee}return y(ne)}}$o(Math.acos,{Infinity:1/0,0:new Error}),$o(Math.acosh,{Infinity:1/0,0:new Error}),$o(Math.asin),$o(Math.asinh,{Infinity:1/0,"-Infinity":-1/0}),$o(Math.atan),$o(Math.atanh,{1:1/0,"-1":-1/0}),$o(Math.cos),$o(Math.cosh,{"-Infinity":1/0,Infinity:1/0});const ng=Math.PI/180,rg=($o(y=>y*ng,{Infinity:1/0,"-Infinity":1/0}),180/Math.PI);$o(y=>y*rg,{Infinity:1/0,"-Infinity":-1/0}),$o(Math.sin),$o(Math.sinh,{"-Infinity":-1/0,Infinity:1/0}),$o(Math.tan),Error;const Sf=(y,b,D)=>{if(Lt(b))return y;let w=Object.keys(b),O=!1;Ys(b,D);const U=D.idKey;if(ae(w,U)){const ne=b[U];(0===ne||!1===ne)&&(w=w.filter(Te.bind(null,[U])),O=0==w.length)}else w.push(U);const te=bo.init(D);return y.map(ne=>kd(ne,b,te.update(ne),w,O))};function kd(y,b,D,w,O){let U={},te=!1,ne=!1;const Ee=[];O&&Ee.push(D.idKey);for(const ct of w){let ot;const Tt=b[ct];if(ct!==D.idKey&&ae([0,!1],Tt)&&(ne=!0),ct===D.idKey&&Lt(Tt))ot=y[ct];else if(Jt(Tt))ot=Wn(y,Tt,ct,D);else if(!ae([1,!0],Tt))if(Tt instanceof Array)ot=Tt.map(Zt=>{const fn=Wn(y,Zt,null,D);return ie(fn)?null:fn});else{if(!K(Tt)){Ee.push(ct);continue}{const Zt=Tt,fn=Object.keys(Tt),Sn=1==fn.length?fn[0]:"",er=Eo(gn.PROJECTION,Sn,D);if(er)"$slice"===Sn?Ut(Zt[Sn]).every(On)?(ot=er(y,Zt[Sn],ct,D),te=!0):ot=Wn(y,Zt,ct,D):ot=er(y,Zt[Sn],ct,D);else if(Qi(Sn))ot=Wn(y,Zt[Sn],Sn,D);else if(nn(y,ct)){Ys(Zt,D);let vr=y[ct];vr instanceof Array?ot=vr.map(wr=>kd(wr,Zt,D,fn,!1)):(vr=K(vr)?vr:y,ot=kd(vr,Zt,D,fn,!1))}else ot=Wn(y,Tt,null,D)}}const St=yo(y,ct,{preserveMissing:!0});void 0!==St&&an(U,St,{flatten:!0}),Te([0,1,!1,!0],Tt)&&(void 0===ot?Ls(U,ct,{descendArray:!0}):Fs(U,ct,ot))}if(Ns(U),(te||ne||O)&&(U=Jn({},y,U),Ee.length>0))for(const ct of Ee)Ls(U,ct,{descendArray:!0});return U}function Ys(y,b){const D=[!1,!1];for(const[w,O]of Object.entries(y)){if(w===b?.idKey)return;0===O||!1===O?D[0]=!0:(1===O||!0===O)&&(D[1]=!0),Q(!(D[0]&&D[1]),"Projection cannot have a mix of inclusion and exclusion.")}}const ag=(y,b,D)=>{Q(be(b),"Invalid expression: $and expects value to be an Array.");const w=b.map(O=>new ui(O,D));return O=>w.every(U=>U.test(O))},Rf=(y,b,D)=>{Q(be(b),"Invalid expression. $or expects value to be an Array");const w=b.map(O=>new ui(O,D));return O=>w.some(U=>U.test(O))},gI=(y,b,D)=>{Q(be(b),"Invalid expression. $nor expects value to be an array.");const w=Rf("$or",b,D);return O=>!w(O)},cg=(y,b,D)=>{const w={};w[y]=Br(b);const O=new ui(w,D);return U=>!O.test(U)},ul=Ji(Ed),Jy=Ji(gu),eb=Ji(ol),_I=Ji(Ws),lg=Ji(_a),ug=Ji(eo),dg=Ji(qn),Of=Ji(dr),vI=Ji(function Cs(y,b,D){return Ut(y).some(w=>2===b.length&&w%b[0]===b[1])}),tb=Ji(function Bo(y,b,D){const w=Ut(y),O=U=>Jt(U)&&((y,b=!0)=>!!y||b&&""===y)(b.exec(U),D?.useStrictMode);return w.some(O)||rn(w,1).some(O)});Ji(function va(y,b,D){if(!(be(y)&&be(b)&&y.length&&b.length))return!1;let w=!0;for(const O of b){if(!w)break;w=K(O)&&ae(Object.keys(O),"$elemMatch")?v(y,O.$elemMatch,D):O instanceof RegExp?y.some(U=>"string"==typeof U&&O.test(U)):y.some(U=>Cn(O,U))}return w});const rb=Ji(v),dl=Ji(function qs(y,b,D){return Array.isArray(y)&&y.length===b}),yI=Ji(function sl(y,b,D){return(!1===b||0===b)&&void 0===y||(!0===b||1===b)&&void 0!==y}),bI=Ji(function ee(y,b,D){return Array.isArray(b)?b.findIndex(w=>H(y,w))>=0:H(y,b)});var ib=!1;function EI(y,b){var D=(0,fe.xQ)(y.primaryKey);b=(0,le.FD)(b);var w=(0,le.o8)(b);if("number"!=typeof w.skip&&(w.skip=0),w.selector?(w.selector=w.selector,Object.entries(w.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot)&&(w.selector[ct]={$eq:ot})})):w.selector={},w.index){var O=(0,L.$r)(w.index);O.includes(D)||O.push(D),w.index=O}if(w.sort)w.sort.find(ct=>(0,le.Ln)(ct)===D)||(w.sort=w.sort.slice(0),w.sort.push({[D]:"asc"}));else if(w.index)w.sort=w.index.map(ct=>({[ct]:"asc"}));else{if(y.indexes){var U=new Set;Object.entries(w.selector).forEach(([ct,ot])=>{("object"!=typeof ot||null===ot||Object.keys(ot).find(St=>re.Cf.has(St)))&&U.add(ct)});var ne,te=-1;y.indexes.forEach(ct=>{var ot=(0,L.k_)(ct)?ct:[ct],Tt=ot.findIndex(St=>!U.has(St));Tt>0&&Tt>te&&(te=Tt,ne=ot)}),ne&&(w.sort=ne.map(ct=>({[ct]:"asc"})))}w.sort||(w.sort=[{[D]:"asc"}])}return w}function wI(y,b){if(!b.sort)throw(0,br.Br)("SNH",{query:b});var D=[];return b.sort.forEach(O=>{var U=Object.keys(O)[0],te=Object.values(O)[0];D.push({key:U,direction:te,getValueFn:(0,le.SQ)(U)})}),(O,U)=>{for(var te=0;te<D.length;++te){var ne=D[te],Ee=ne.getValueFn(O),ct=ne.getValueFn(U);if(Ee!==ct)return"asc"===ne.direction?de(Ee,ct):de(ct,Ee)}}}function hg(y,b){if(!b.sort)throw(0,br.Br)("SNH",{query:b});var D=function ob(y){return ib||(Vs(gn.PIPELINE,{$sort:uu,$project:Sf}),Vs(gn.QUERY,{$and:ag,$eq:ul,$elemMatch:rb,$exists:yI,$gt:Jy,$gte:eb,$in:_I,$lt:lg,$lte:ug,$ne:dg,$nin:Of,$mod:vI,$nor:gI,$not:cg,$or:Rf,$regex:tb,$size:dl,$type:bI}),ib=!0),new ui(y)}(b.selector);return O=>D.test(O)}function kf(y,b){return kr.apply(this,arguments)}function kr(){return(kr=(0,J.A)(function*(y,b){var D=yield y.exec();return D?Array.isArray(D)?Promise.all(D.map(O=>b(O))):yield b(D):null})).apply(this,arguments)}},5672:(Bt,et,R)=>{"use strict";R.d(et,{Mh:()=>Co,XX:()=>$s,nd:()=>vc,Ib:()=>cu});var J=R(467),re=R(6126),fe=R(4412),le=R(4843),L=R(7786),l=R(5964),De=R(9172),lt=R(1397),Ve=R(6354),Be=R(6496),Y=R(3294),xe=R(4552),Ne=R(5520),oe=R(8663),ze=R(6434),Re=R(203),ke=R(2060),ge=R(7176),Fe=R(7650),Me=R(2284);const we=z=>{z.previousResults.unshift(z.changeEvent.doc),z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,z.changeEvent.doc)},st=z=>{z.previousResults.push(z.changeEvent.doc),z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,z.changeEvent.doc)},Qe=z=>{const Oe=z.previousResults.shift();z.keyDocumentMap&&Oe&&z.keyDocumentMap.delete(Oe[z.queryParams.primaryKey])},_e=z=>{const Oe=z.previousResults.pop();z.keyDocumentMap&&Oe&&z.keyDocumentMap.delete(Oe[z.queryParams.primaryKey])},At=z=>{z.keyDocumentMap&&z.keyDocumentMap.delete(z.changeEvent.id);const Oe=z.queryParams.primaryKey,Je=z.previousResults;for(let dt=0;dt<Je.length;dt++)if(Je[dt][Oe]===z.changeEvent.id){Je.splice(dt,1);break}},hn=z=>{const Oe=z.changeEvent.id,Je=z.changeEvent.doc;if(z.keyDocumentMap){if(z.keyDocumentMap.has(Oe))return;z.keyDocumentMap.set(Oe,Je)}else if(z.previousResults.find(Nt=>Nt[z.queryParams.primaryKey]===Oe))return;!function Ae(z,Oe,Je,dt){var Xn,Nt=z.length,In=Nt-1,Fn=0;if(0===Nt)return z.push(Oe),0;for(;dt<=In;)Je(Xn=z[Fn=dt+(In-dt>>1)],Oe)<=0?dt=Fn+1:In=Fn-1;Je(Xn,Oe)<=0&&Fn++,z.splice(Fn,0,Oe)}(z.previousResults,Je,z.queryParams.sortComparator,0)},be=["doNothing","insertFirst","insertLast","removeFirstItem","removeLastItem","removeFirstInsertLast","removeLastInsertFirst","removeFirstInsertFirst","removeLastInsertLast","removeExisting","replaceExisting","alwaysWrong","insertAtSortPosition","removeExistingAndInsertAtSortPosition","runFullQueryAgain","unknownAction"],K={doNothing:z=>{},insertFirst:we,insertLast:st,removeFirstItem:Qe,removeLastItem:_e,removeFirstInsertLast:z=>{Qe(z),st(z)},removeLastInsertFirst:z=>{_e(z),we(z)},removeFirstInsertFirst:z=>{Qe(z),we(z)},removeLastInsertLast:z=>{_e(z),st(z)},removeExisting:At,replaceExisting:z=>{const Oe=z.changeEvent.doc,Je=z.queryParams.primaryKey,dt=z.previousResults;for(let Nt=0;Nt<dt.length;Nt++)if(dt[Nt][Je]===z.changeEvent.id){dt[Nt]=Oe,z.keyDocumentMap&&z.keyDocumentMap.set(z.changeEvent.id,Oe);break}},alwaysWrong:z=>{const Oe={_id:"wrongHuman"+(new Date).getTime()};z.previousResults.length=0,z.previousResults.push(Oe),z.keyDocumentMap&&(z.keyDocumentMap.clear(),z.keyDocumentMap.set(Oe._id,Oe))},insertAtSortPosition:hn,removeExistingAndInsertAtSortPosition:z=>{At(z),hn(z)},runFullQueryAgain:z=>{throw new Error("Action runFullQueryAgain must be implemented by yourself")},unknownAction:z=>{throw new Error("Action unknownAction should never be called")}};function $(z){return z?"1":"0"}function Pn(z,Oe){const Je=[];for(let dt=0,Nt=z.length;dt<Nt;dt+=Oe)Je.push(z.substring(dt,dt+Oe));return Je}!function ie(z=6){let Oe="";for(let Nt=0;Nt<z;Nt++)Oe+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()))}(4);const Cn=40;function Xi(z){return z.charCodeAt(0)-Cn}function $n(z){return z[z.length-1]}function br(z,Oe,Je){if(Array.isArray(Oe)&&(Oe=Oe.join(".")),!function ni(z){const Oe=typeof z;return null!==z&&("object"===Oe||"function"===Oe)}(z)||"string"!=typeof Oe)return void 0===Je?z:Je;const dt=Oe.split(".");if(0===dt.length)return Je;for(let Nt=0;Nt<dt.length;Nt++){const In=dt[Nt];if(null==(z=ci(z,In)?Nt===dt.length-1?void 0:null:z[In])){if(Nt!==dt.length-1)return Je;break}}return void 0===z?Je:z}function ci(z,Oe){if("number"!=typeof Oe&&Array.isArray(z)){const Je=Number.parseInt(Oe,10);return Number.isInteger(Je)&&z[Je]===z[Oe]}return!1}const bo=z=>!!z.queryParams.limit,ts={0:z=>"INSERT"===z.changeEvent.operation,1:z=>"UPDATE"===z.changeEvent.operation,2:z=>"DELETE"===z.changeEvent.operation,3:bo,4:z=>1===z.queryParams.limit,5:z=>!!(z.queryParams.skip&&z.queryParams.skip>0),6:z=>0===z.previousResults.length,7:z=>bo(z)&&z.previousResults.length>=z.queryParams.limit,8:z=>{const Oe=z.previousResults[0];return!(!Oe||Oe[z.queryParams.primaryKey]!==z.changeEvent.id)},9:z=>{const Oe=$n(z.previousResults);return!(!Oe||Oe[z.queryParams.primaryKey]!==z.changeEvent.id)},10:z=>{const Oe=z.queryParams.sortFields,Je=z.changeEvent.previous,dt=z.changeEvent.doc;if(!dt)return!1;if(!Je)return!0;for(let Nt=0;Nt<Oe.length;Nt++){const In=Oe[Nt];if(br(Je,In)!==br(dt,In))return!0}return!1},11:z=>{const Oe=z.changeEvent.id;if(z.keyDocumentMap)return z.keyDocumentMap.has(Oe);{const Je=z.queryParams.primaryKey,dt=z.previousResults;for(let Nt=0;Nt<dt.length;Nt++)if(dt[Nt][Je]===Oe)return!0;return!1}},12:z=>{const Oe=z.changeEvent.previous;if(!Oe)return!1;const Je=z.previousResults[0];return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)<0)},13:z=>{const Oe=z.changeEvent.previous;if(!Oe)return!1;const Je=$n(z.previousResults);return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)>0)},14:z=>{const Oe=z.changeEvent.doc;if(!Oe)return!1;const Je=z.previousResults[0];return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)<0)},15:z=>{const Oe=z.changeEvent.doc;if(!Oe)return!1;const Je=$n(z.previousResults);return!!Je&&(Je[z.queryParams.primaryKey]===z.changeEvent.id||z.queryParams.sortComparator(Oe,Je)>0)},16:z=>{const Oe=z.changeEvent.previous;return!!Oe&&z.queryParams.queryMatcher(Oe)},17:z=>{const Oe=z.changeEvent.doc;return!!Oe&&z.queryParams.queryMatcher(Oe)}};let Va;const Us=z=>function Jn(z,Oe,Je){let dt=z,Nt=z.l;for(;;){if(dt=dt[$(Oe[Nt](Je))],"number"==typeof dt||"string"==typeof dt)return dt;Nt=dt.l}}(function Ur(){return Va||(Va=function fr(z){const Oe=new Map,dt=2+2*parseInt(z.charAt(0)+z.charAt(1),10),In=Pn(z.substring(2,dt),2);for(let Do=0;Do<In.length;Do++){const Hs=In[Do],zs=Hs.charAt(0),so=Xi(Hs.charAt(1));Oe.set(zs,so)}const Xn=Pn(z.substring(dt,z.length-3),4);for(let Do=0;Do<Xn.length;Do++){const Hs=Xn[Do],zs=Hs.charAt(0),so=Hs.charAt(1),$a=Hs.charAt(2),yc=Xi(Hs.charAt(3));if(!Oe.has(so))throw new Error("missing node with id "+so);if(!Oe.has($a))throw new Error("missing node with id "+$a);const tl=Oe.get(so),bc=Oe.get($a);Oe.set(zs,{l:yc,0:tl,1:bc})}const mr=z.slice(-3),jr=mr.charAt(0),Xr=mr.charAt(1);return{l:Xi(mr.charAt(2)),0:Oe.get(jr),1:Oe.get(Xr)}}("14a1b,c+d2e5f0g/h.i4j*k-l)m(n6oeh6pnm6qen6ril6snh6tin6ubo9vce9wmh9xns9yne9zmi9{cm9|ad9}cp9~aq9\x7fae9\xa1bf9\xa2bq9\xa3cg9\xa4ck9\xa5cn9\xa6nd9\xa7np9\xa8nq9\xa9nf9\xaang9\xabnm9\xacnk9\xadmr9\xaems9\xafmt9\xb0mj9\xb1mk9\xb2ml9\xb3mn9\xb4mc8\xb5\xb3{8\xb6\xaf}8\xb7\xb0\xa48\xb8\xb3\xa78\xb9mn8\xba\xb3\xab8\xbb\xb3m8\xbcm\xb44\xbdz\xb24\xbe\xb3w4\xbfz\xb54\xc0\xaf\xb64\xc1\xb0\xb74\xc2\xb3\xba4\xc3\xb3\xb84\xc4m\xb94\xc5v\xa47\xc6yn7\xc7\xc0\xc17\xc8~\x7f7\xc9\xa5\xa47\xca\xc3\xc47\xcb\xa8n7\xcc\xba\xb97\xcd\xad\xb07\xce\xaem7\xcf\xaf\xb07\xd0\xb1m7\xd1\xb3m7\xd2\xbcm5\xd3\xc4m5\xd4\xb9m5\xd5\xbd\xb05\xd6\xbem5\xd7\xbf\xb05\xd8\xc7\xcf5\xd9\xc2m5\xda\xca\xd15\xdb\xb1m5\xdc\xbam5\xdd\xcc\xd15\xde\xd5\xcd2\xdf|\x7f2\xe0\xa1u2\xe1\xa3\xc52\xe2\xd6\xce2\xe3\xa6\xc62\xe4\xa9x2\xe5\xaa\xc62\xe6\xd7\xd82\xe7|\xc82\xe8\xa1\xa22\xe9\xa3\xc92\xea\xa4\xa52\xeb\xd9\xda2\xec\xa6\xcb2\xed\xa9n2\xee\xaan2\xef\xdb\xd02\xf0\xdc\xdd2\xf1\xacn2\xf2\xd2\xd3/\xf3an/\xf4bn/\xf5cn/\xf6\xde\xe2/\xf7\xdf\xe3/\xf8\xe0\xe4/\xf9\xe1\xe5/\xfa\xe6\xeb/\xfb\xe7\xec/\xfc\xe8\xed/\xfd\xe9\xee/\xfe\xcd\xce/\xff\xcf\xd1/\u0100\xf2\xd4,\u0101cn,\u0102\xf6\xef,\u0103\xa4\xf1,\u0104\xfa\xf0,\u0105\xea\xf1,\u0106\xfe\xd0,\u0107\xff\xd1,\u0108ac0\u0109bc0\u010a\xf3\xf50\u010b\xf4\u01010\u010c\xdf\xe10\u010d\xe0\xa40\u010e\xe7\xe90\u010f\xe8\xea0\u0110\xf7\xf90\u0111\xf8\u01030\u0112\xfb\xfd0\u0113\xfc\u01050\u0114m\xd2-\u0115m\u0100-\u0116\xde\xe6-\u0117\u010c\u010e-\u0118\u010d\u010f-\u0119\u0102\u0104-\u011a\u0110\u0112-\u011b\u0111\u0113-\u011c\xb2\xbb-\u011d\xcd\xcf-\u011e\u0106\u0107-\u011f\xb2\xb3-\u0120\u0114\u01083\u0121\u0115\u010a3\u0122\u0116\u01173\u0123\u0119\u011a3\u0124\u0122\u011d(\u0125\u011c\u011f(\u0126\u0123\u011e(\u0127\u0120\u0121+\u0128\u0109\u010b+\u0129\u0124\u0126+\u012a\u0118\u011b+\u012b\u0127\u01281\u012c\u0129\u012a1\u012d\u012c\u012b*\u012e\u0125m*\u012d\u012e.")),Va}(),ts,z);var bs=R(312),Zc=R(9403),Pi=R(5365);function sr(z,Oe){return Oe.sort&&0!==Oe.sort.length?Oe.sort.map(Je=>Object.keys(Je)[0]):[z]}var rs=new WeakMap;function ua(z,Oe){if(!z.collection.database.eventReduce)return{runFullQueryAgain:!0};var Je=function js(z){return(0,Zc.q)(rs,z,()=>{var Oe=z.collection,Je=(0,Pi._V)(Oe.storageInstance.schema,(0,ze.o8)(z.mangoQuery)),dt=Oe.schema.primaryPath,Nt=(0,Pi.Xw)(Oe.schema.jsonSchema,Je),Fn=(0,Pi.Lr)(Oe.schema.jsonSchema,Je);return{primaryKey:z.collection.schema.primaryPath,skip:Je.skip,limit:Je.limit,sortFields:sr(dt,Je),sortComparator:(jr,Xr)=>{var Qr={docA:jr,docB:Xr,rxQuery:z};return Nt(Qr.docA,Qr.docB)},queryMatcher:jr=>Fn({doc:jr,rxQuery:z}.doc)}})}(z),dt=(0,oe.ZN)(z._result).docsData.slice(0),Nt=(0,oe.ZN)(z._result).docsDataMap,In=!1,Xn=Oe.map(mr=>(0,bs._r)(mr)).filter(ge.S7).find(mr=>{var Xr=function Ba(z){const Oe=Us(z);return be[Oe]}({queryParams:Je,changeEvent:mr,previousResults:dt,keyDocumentMap:Nt});return"runFullQueryAgain"===Xr||("doNothing"!==Xr?(In=!0,function Hn(z,Oe,Je,dt,Nt){(0,K[z])({queryParams:Oe,changeEvent:Je,previousResults:dt,keyDocumentMap:Nt})}(Xr,Je,mr,dt,Nt),!1):void 0)});return Xn?{runFullQueryAgain:!0}:{runFullQueryAgain:!1,changed:In,newResults:dt}}var mc=R(6259),da=R(9825),ha=function(){return(0,re.A)(function z(Oe,Je,dt){this.time=(0,xe.t)(),this.collection=Oe,this.count=dt,this.documents=(0,da.X)(this.collection._docCache,Je)},[{key:"docsData",get:function(){return(0,ze.Ns)(this,"docsData",this.documents.map(Oe=>Oe._data))}},{key:"docsDataMap",get:function(){var Oe=new Map;return this.documents.forEach(Je=>{Oe.set(Je.primary,Je._data)}),(0,ze.Ns)(this,"docsDataMap",Oe)}},{key:"docsMap",get:function(){for(var Oe=new Map,Je=this.documents,dt=0;dt<Je.length;dt++){var Nt=Je[dt];Oe.set(Nt.primary,Nt)}return(0,ze.Ns)(this,"docsMap",Oe)}}])}(),gc=R(997),Jc=0,Co=function(){function z(Je,dt,Nt,In={}){this.id=++Jc,this._execOverDatabaseCount=0,this._creationTime=(0,xe.t)(),this._lastEnsureEqual=0,this.uncached=!1,this.refCount$=new fe.t(null),this._result=null,this._latestChangeEvent=-1,this._lastExecStart=0,this._lastExecEnd=0,this._ensureEqualQueue=Ne.Dr,this.op=Je,this.mangoQuery=dt,this.collection=Nt,this.other=In,dt||(this.mangoQuery={selector:{}}),this.isFindOneByIdQuery=function ja(z,Oe){if(!Oe.skip&&Oe.selector&&1===Object.keys(Oe.selector).length&&Oe.selector[z]){var Je=Oe.selector[z];if("string"==typeof Je)return Je;if(1===Object.keys(Je).length&&"string"==typeof Je.$eq||1===Object.keys(Je).length&&Array.isArray(Je.$eq)&&!Je.$eq.find(dt=>"string"!=typeof dt))return Je.$eq}return!1}(this.collection.schema.primaryPath,dt)}var Oe=z.prototype;return Oe._setResultData=function(dt){if("number"!=typeof dt){dt instanceof Map&&(dt=Array.from(dt.values()));var Nt=new ha(this.collection,dt,dt.length);this._result=Nt}else this._result=new ha(this.collection,[],dt)},Oe._execOverDatabase=function(){var Je=(0,J.A)(function*(){if(this._execOverDatabaseCount=this._execOverDatabaseCount+1,this._lastExecStart=(0,xe.t)(),"count"===this.op){var Nt=this.getPreparedQuery(),In=yield this.collection.storageInstance.count(Nt);if("slow"===In.mode&&!this.collection.database.allowSlowCount)throw(0,Fe.Br)("QU14",{collection:this.collection,queryObj:this.mangoQuery});return In.count}if("findByIds"===this.op){var Fn=(0,oe.ZN)(this.mangoQuery.selector)[this.collection.schema.primaryPath].$in,Xn=new Map,mr=[];return Fn.forEach(Qr=>{var Io=this.collection._docCache.getLatestDocumentDataIfExists(Qr);if(Io){if(!Io._deleted){var Es=this.collection._docCache.getCachedRxDocument(Io);Xn.set(Qr,Es)}}else mr.push(Qr)}),mr.length>0&&(yield this.collection.storageInstance.findDocumentsById(mr,!1)).forEach(Qr=>{var Io=this.collection._docCache.getCachedRxDocument(Qr);Xn.set(Io.primary,Io)}),Xn}var Xr=function io(z){return Yi.apply(this,arguments)}(this);return Xr.then(Qr=>(this._lastExecEnd=(0,xe.t)(),Qr))});return function dt(){return Je.apply(this,arguments)}}(),Oe.exec=function(dt){if(dt&&"findOne"!==this.op)throw(0,Fe.Br)("QU9",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Ua(this).then(()=>(0,le._)(this.$)).then(Nt=>{if(!Nt&&dt)throw(0,Fe.Br)("QU10",{collection:this.collection.name,query:this.mangoQuery,op:this.op});return Nt})},Oe.toString=function(){var dt=(0,ze.mf)({op:this.op,query:this.mangoQuery,other:this.other},!0),Nt=JSON.stringify(dt);return this.toString=()=>Nt,Nt},Oe.getPreparedQuery=function(){var dt={rxQuery:this,mangoQuery:(0,Pi._V)(this.collection.schema.jsonSchema,this.mangoQuery)};dt.mangoQuery.selector._deleted={$eq:!1},dt.mangoQuery.index&&dt.mangoQuery.index.unshift("_deleted"),(0,Me.Xi)("prePrepareQuery",dt);var Nt=cu(this.collection.schema.jsonSchema,dt.mangoQuery);return this.getPreparedQuery=()=>Nt,Nt},Oe.doesDocumentDataMatch=function(dt){return!dt._deleted&&this.queryMatcher(dt)},Oe.remove=function(){return this.exec().then(dt=>Array.isArray(dt)?Promise.all(dt.map(Nt=>Nt.remove())):dt.remove())},Oe.incrementalRemove=function(){return(0,Pi.dx)(this.asRxQuery,dt=>dt.incrementalRemove())},Oe.update=function(dt){throw(0,Re.u)("update")},Oe.patch=function(dt){return(0,Pi.dx)(this.asRxQuery,Nt=>Nt.patch(dt))},Oe.incrementalPatch=function(dt){return(0,Pi.dx)(this.asRxQuery,Nt=>Nt.incrementalPatch(dt))},Oe.modify=function(dt){return(0,Pi.dx)(this.asRxQuery,Nt=>Nt.modify(dt))},Oe.incrementalModify=function(dt){return(0,Pi.dx)(this.asRxQuery,Nt=>Nt.incrementalModify(dt))},Oe.where=function(dt){throw(0,Re.u)("query-builder")},Oe.sort=function(dt){throw(0,Re.u)("query-builder")},Oe.skip=function(dt){throw(0,Re.u)("query-builder")},Oe.limit=function(dt){throw(0,Re.u)("query-builder")},(0,re.A)(z,[{key:"$",get:function(){if(!this._$){var Je=this.collection.$.pipe((0,l.p)(dt=>!dt.isLocal),(0,De.Z)(null),(0,lt.Z)(()=>Ua(this)),(0,Ve.T)(()=>this._result),(0,Be.t)(oe.bz),(0,Y.F)((dt,Nt)=>!(!dt||dt.time!==(0,oe.ZN)(Nt).time)),(0,l.p)(dt=>!!dt),(0,Ve.T)(dt=>{var Nt=(0,oe.ZN)(dt);return"count"===this.op?Nt.count:"findOne"===this.op?0===Nt.documents.length?null:Nt.documents[0]:"findByIds"===this.op?Nt.docsMap:Nt.documents.slice(0)}));this._$=(0,L.h)(Je,this.refCount$.pipe((0,l.p)(()=>!1)))}return this._$}},{key:"$$",get:function(){return this.collection.database.getReactivityFactory().fromObservable(this.$,void 0,this.collection.database)}},{key:"queryMatcher",get:function(){var Je=this.collection.schema.jsonSchema,dt=(0,Pi._V)(this.collection.schema.jsonSchema,this.mangoQuery);return(0,ze.Ns)(this,"queryMatcher",(0,Pi.Lr)(Je,dt))}},{key:"asRxQuery",get:function(){return this}}])}();function $s(){return{selector:{}}}function vc(z,Oe,Je,dt){(0,Me.Xi)("preCreateRxQuery",{op:z,queryObj:Oe,collection:Je,other:dt});var Nt=new Co(z,Oe,Je,dt);return Nt=function _c(z){return z.collection._queryCache.getByQuery(z)}(Nt),(0,mc.n9)(Je),Nt}function zn(z){var Oe=z.asRxQuery.collection._changeEventBuffer.getCounter();return z._latestChangeEvent>=Oe}function Ua(z){return z.collection.database.destroyed||zn(z)?Ne.Dr:(z._ensureEqualQueue=z._ensureEqualQueue.then(()=>function el(z){if(z._lastEnsureEqual=(0,xe.t)(),z.collection.database.destroyed||zn(z))return Ne.Dr;var Oe=!1,Je=!1;if(-1===z._latestChangeEvent&&(Je=!0),!Je){var dt=z.asRxQuery.collection._changeEventBuffer.getFrom(z._latestChangeEvent+1);if(null===dt)Je=!0;else{z._latestChangeEvent=z.asRxQuery.collection._changeEventBuffer.getCounter();var Nt=z.asRxQuery.collection._changeEventBuffer.reduceByLastOfDoc(dt);if("count"===z.op){var In=(0,oe.ZN)(z._result).count,Fn=In;Nt.forEach(mr=>{var jr=mr.previousDocumentData&&z.doesDocumentDataMatch(mr.previousDocumentData),Xr=z.doesDocumentDataMatch(mr.documentData);!jr&&Xr&&Fn++,jr&&!Xr&&Fn--}),Fn!==In&&(Oe=!0,z._setResultData(Fn))}else{var Xn=ua(z,Nt);Xn.runFullQueryAgain?Je=!0:Xn.changed&&(Oe=!0,z._setResultData(Xn.newResults))}}}return Je?z._execOverDatabase().then(mr=>(z._latestChangeEvent=z.collection._changeEventBuffer.getCounter(),"number"==typeof mr?((!z._result||mr!==z._result.count)&&(Oe=!0,z._setResultData(mr)),Oe):((!z._result||!(0,ke.YL)(z.collection.schema.primaryPath,mr,z._result.docsData))&&(Oe=!0,z._setResultData(mr)),Oe))):Promise.resolve(Oe)}(z)),z._ensureEqualQueue)}function cu(z,Oe){if(!Oe.sort)throw(0,Fe.Br)("SNH",{query:Oe});return{query:Oe,queryPlan:(0,gc.sk)(z,Oe)}}function Yi(){return(Yi=(0,J.A)(function*(z){var Oe=[],Je=z.collection;if(z.isFindOneByIdQuery)if(Array.isArray(z.isFindOneByIdQuery)){var dt=z.isFindOneByIdQuery;if((dt=dt.filter(Xr=>{var Qr=z.collection._docCache.getLatestDocumentDataIfExists(Xr);return!Qr||(Qr._deleted||Oe.push(Qr),!1)})).length>0){var Nt=yield Je.storageInstance.findDocumentsById(dt,!1);(0,ge.Hb)(Oe,Nt)}}else{var In=z.isFindOneByIdQuery,Fn=z.collection._docCache.getLatestDocumentDataIfExists(In);if(!Fn){var Xn=yield Je.storageInstance.findDocumentsById([In],!1);Xn[0]&&(Fn=Xn[0])}Fn&&!Fn._deleted&&Oe.push(Fn)}else{var mr=z.getPreparedQuery(),jr=yield Je.storageInstance.query(mr);Oe=jr.documents}return Oe})).apply(this,arguments)}},1885:(Bt,et,R)=>{"use strict";R.d(et,{pA:()=>Ae,Nq:()=>xe,Ud:()=>ge,U:()=>ze,uK:()=>Me,Hq:()=>oe,xQ:()=>Ne,nT:()=>Y,d1:()=>Re});var J=R(7650),re=/\./g,le=R(720),L=R(1744),l=R(8663),De=R(6434),lt=R(7176);function Y(we,st){var Qe=st;return Qe=Qe.replace(re,".properties."),Qe=(0,le.L$)(Qe="properties."+Qe),(0,L.UU)(we,Qe)}function xe(we,st,Qe){if("string"==typeof st.primaryKey)return Qe;var _e=ze(st,Qe),de=Qe[we];if(de&&de!==_e)throw(0,J.Br)("DOC19",{args:{documentData:Qe,existingPrimary:de,newPrimary:_e},schema:st});return Qe[we]=_e,Qe}function Ne(we){return"string"==typeof we?we:we.key}function oe(we){var Qe=Y(we,Ne(we.primaryKey));return(0,l.ZN)(Qe.maxLength)}function ze(we,st){if("string"==typeof we.primaryKey)return st[we.primaryKey];var Qe=we.primaryKey;return Qe.fields.map(_e=>{var de=(0,L.UU)(st,_e);if(typeof de>"u")throw(0,J.Br)("DOC18",{args:{field:_e,documentData:st}});return de}).join(Qe.separator)}function Re(we){return(0,De.mf)(we,!0)}function ge(we){var st=Ne((we=(0,De.FD)(we)).primaryKey);we.properties=(0,De.FD)(we.properties),we.additionalProperties=!1,Object.prototype.hasOwnProperty.call(we,"keyCompression")||(we.keyCompression=!1),we.indexes=we.indexes?we.indexes.slice(0):[],we.required=we.required?we.required.slice(0):[],we.encrypted=we.encrypted?we.encrypted.slice(0):[],we.properties._rev={type:"string",minLength:1},we.properties._attachments={type:"object"},we.properties._deleted={type:"boolean"},we.properties._meta=Fe,we.required=we.required?we.required.slice(0):[],we.required.push("_deleted"),we.required.push("_rev"),we.required.push("_meta"),we.required.push("_attachments");var Qe=Me(we);(0,lt.Hb)(we.required,Qe),we.required=we.required.filter(Q=>!Q.includes(".")).filter((Q,mt,Dt)=>Dt.indexOf(Q)===mt),we.version=we.version||0;var _e=we.indexes.map(Q=>{var mt=(0,lt.k_)(Q)?Q.slice(0):[Q];return mt.includes(st)||mt.push(st),"_deleted"!==mt[0]&&mt.unshift("_deleted"),mt});0===_e.length&&_e.push(function ke(we){return["_deleted",we]}(st)),_e.push(["_meta.lwt",st]),we.internalIndexes&&we.internalIndexes.map(Q=>{_e.push(Q)});var de=new Set;return _e.filter(Q=>{var mt=Q.join(",");return!de.has(mt)&&(de.add(mt),!0)}),we.indexes=_e,we}var Fe={type:"object",properties:{lwt:{type:"number",minimum:R(2060).MC,maximum:1e15,multipleOf:.01}},additionalProperties:!0,required:["lwt"]};function Me(we){var st=Object.keys(we.properties).filter(_e=>we.properties[_e].final),Qe=Ne(we.primaryKey);return st.push(Qe),"string"!=typeof we.primaryKey&&we.primaryKey.fields.forEach(_e=>st.push(_e)),st}function Ae(we,st){for(var Qe=Object.keys(we.defaultValues),_e=0;_e<Qe.length;++_e){var de=Qe[_e];(!Object.prototype.hasOwnProperty.call(st,de)||typeof st[de]>"u")&&(st[de]=we.defaultValues[de])}return st}},9182:(Bt,et,R)=>{"use strict";R.d(et,{NP:()=>Y,Wq:()=>xe,wJ:()=>Ve});var J=R(6126),re=R(6636),fe=R(6434),le=R(7176),L=R(7650),l=R(2284),De=R(1885),lt=R(3896),Ve=function(){function ze(ke,ge){this.jsonSchema=ke,this.hashFunction=ge,this.indexes=function Be(ze){return(ze.indexes||[]).map(Re=>(0,le.k_)(Re)?Re:[Re])}(this.jsonSchema),this.primaryPath=(0,De.xQ)(this.jsonSchema.primaryKey),this.finalFields=(0,De.uK)(this.jsonSchema)}var Re=ze.prototype;return Re.validateChange=function(ge,Fe){this.finalFields.forEach(Me=>{if(!(0,re.b)(ge[Me],Fe[Me]))throw(0,L.Br)("DOC9",{dataBefore:ge,dataAfter:Fe,fieldName:Me,schema:this.jsonSchema})})},Re.getDocumentPrototype=function(){var ge={},Fe=(0,De.nT)(this.jsonSchema,"");return Object.keys(Fe).forEach(Me=>{var Ae=Me;ge.__defineGetter__(Me,function(){if(this.get&&"function"==typeof this.get)return this.get(Ae)}),Object.defineProperty(ge,Me+"$",{get:function(){return this.get$(Ae)},enumerable:!1,configurable:!1}),Object.defineProperty(ge,Me+"$$",{get:function(){return this.get$$(Ae)},enumerable:!1,configurable:!1}),Object.defineProperty(ge,Me+"_",{get:function(){return this.populate(Ae)},enumerable:!1,configurable:!1})}),(0,fe.Ns)(this,"getDocumentPrototype",()=>ge),ge},Re.getPrimaryOfDocumentData=function(ge){return(0,De.U)(this.jsonSchema,ge)},(0,J.A)(ze,[{key:"version",get:function(){return this.jsonSchema.version}},{key:"defaultValues",get:function(){var ke={};return Object.entries(this.jsonSchema.properties).filter(([,ge])=>Object.prototype.hasOwnProperty.call(ge,"default")).forEach(([ge,Fe])=>ke[ge]=Fe.default),(0,fe.Ns)(this,"defaultValues",ke)}},{key:"hash",get:function(){return(0,fe.Ns)(this,"hash",this.hashFunction(JSON.stringify(this.jsonSchema)))}}])}();function Y(ze){var ke=0;return new Array(ze.version?ze.version:0).fill(0).map(()=>ke++)}function xe(ze,Re,ke=!0){ke&&(0,l.Xi)("preCreateRxSchema",ze);var ge=(0,De.Ud)(ze);ge=(0,De.d1)(ge),lt.h.deepFreezeWhenDevMode(ge);var Fe=new Ve(ge,Re);return(0,l.Xi)("createRxSchema",Fe),Fe}},6893:(Bt,et,R)=>{"use strict";R.d(et,{AM:()=>At,C9:()=>mt,ME:()=>Jt,Mu:()=>Ke,O5:()=>ke,OG:()=>ze,WX:()=>we,YN:()=>se,gi:()=>st,mQ:()=>Fe,on:()=>Q,p0:()=>On,pZ:()=>cn});var J=R(467),re=R(3896),fe=R(7650),le=R(1885),L=R(720),l=R(4552),De=R(8663),lt=R(6434),Ve=R(6568),Be=R(7176),Y=R(2060),xe=R(5672),Ne=R(5365),oe=R(2284),ze="_rxdb_internal";function ke(K,B){return ge.apply(this,arguments)}function ge(){return(ge=(0,J.A)(function*(K,B){var q=(yield K.findDocumentsById([B],!1))[0];if(q)return q})).apply(this,arguments)}function Fe(K,B,$){return Me.apply(this,arguments)}function Me(){return(Me=(0,J.A)(function*(K,B,$){var q=yield K.bulkWrite([B],$);if(q.error.length>0)throw q.error[0];return se((0,le.xQ)(K.schema.primaryKey),[B],q)[0]})).apply(this,arguments)}function Ke(K){return Object.assign({},...K)}function we(K,B,$,q){if(q)throw 409===q.status?(0,fe.Br)("CONFLICT",{collection:K.name,id:B,writeError:q,data:$}):422===q.status?(0,fe.Br)("VD2",{collection:K.name,id:B,writeError:q,data:$}):q}function st(K,B,$,q,Z,ie,ae){for(var Pn,Te=!!K.schema.attachments,Ct=[],Lt=[],Mt=[],nn={id:(0,L.z3)(10),events:[],checkpoint:null,context:Z,startTime:(0,l.t)(),endTime:0},on=nn.events,an=[],Ht=[],dn=[],rn=$.size>0,Cn=q.length,qi=function(){var jt,Vr=q[Xi],zt=Vr.document,yr=Vr.previous,fr=zt[B],Jn=zt._deleted,$n=yr&&yr._deleted,or=void 0;if(rn&&(or=$.get(fr)),or){if(!yr||yr&&or._rev!==yr._rev)return Mt.push({isError:!0,status:409,documentId:fr,writeRow:Vr,documentInDb:or}),1;var Fo=Te?Qe(Vr):Vr;Te&&(Jn?yr&&Object.keys(yr._attachments).forEach(Br=>{Ht.push({documentId:fr,attachmentId:Br,digest:(0,De.ZN)(yr)._attachments[Br].digest})}):(Object.entries(zt._attachments).find(([Br,ni])=>(!(yr?yr._attachments[Br]:void 0)&&!ni.data&&(jt={documentId:fr,documentInDb:or,isError:!0,status:510,writeRow:Vr,attachmentId:Br}),!0)),jt||Object.entries(zt._attachments).forEach(([Br,ni])=>{var br=yr?yr._attachments[Br]:void 0;br?ni.data&&br.digest!==Fo.document._attachments[Br].digest&&dn.push({documentId:fr,attachmentId:Br,attachmentData:ni,digest:ni.digest}):an.push({documentId:fr,attachmentId:Br,attachmentData:ni,digest:ni.digest})}))),jt?Mt.push(jt):(Te?(Lt.push(Qe(Fo)),ae&&ae(zt)):(Lt.push(Fo),ae&&ae(zt)),Pn=Fo);var Fs=null,Ls=null,Fa=null;if($n&&!Jn)Fa="INSERT",Fs=Te?Q(zt):zt;else if(!yr||$n||Jn){if(!Jn)throw(0,fe.Br)("SNH",{args:{writeRow:Vr}});Fa="DELETE",Fs=(0,De.ZN)(zt),Ls=yr}else Fa="UPDATE",Fs=Te?Q(zt):zt,Ls=yr;on.push({documentId:fr,documentData:Fs,previousDocumentData:Ls,operation:Fa})}else{var No=!!Jn;if(Te&&Object.entries(zt._attachments).forEach(([Br,ni])=>{ni.data?an.push({documentId:fr,attachmentId:Br,attachmentData:ni,digest:ni.digest}):Mt.push(jt={documentId:fr,isError:!0,status:510,writeRow:Vr,attachmentId:Br})}),jt||(Te?(Ct.push(Qe(Vr)),ie&&ie(zt)):(Ct.push(Vr),ie&&ie(zt)),Pn=Vr),!No){var yo={documentId:fr,operation:"INSERT",documentData:Te?Q(zt):zt,previousDocumentData:Te&&yr?Q(yr):yr};on.push(yo)}}},Xi=0;Xi<Cn;Xi++)qi();return{bulkInsertDocs:Ct,bulkUpdateDocs:Lt,newestRow:Pn,errors:Mt,eventBulk:nn,attachmentsAdd:an,attachmentsRemove:Ht,attachmentsUpdate:dn}}function Qe(K){return{previous:K.previous,document:Q(K.document)}}function _e(K){return atob(K).length}function Q(K){if(!K._attachments||0===Object.keys(K._attachments).length)return K;var B=(0,lt.FD)(K);return B._attachments={},Object.entries(K._attachments).forEach(([$,q])=>{B._attachments[$]=function de(K){var B=K.data;return B?{length:_e(B),digest:K.digest,type:K.type}:K}(q)}),B}function mt(K){return Object.assign({},K,{_meta:(0,lt.FD)(K._meta)})}var Dt=new WeakMap;function At(K,B,$){re.h.deepFreezeWhenDevMode($);var q=(0,le.xQ)(B.schema.primaryKey),Z={originalStorageInstance:B,schema:B.schema,internals:B.internals,collectionName:B.collectionName,databaseName:B.databaseName,options:B.options,bulkWrite(ie,ae){for(var Te=K.token,Ct=new Array(ie.length),Lt=(0,l.t)(),Mt=0;Mt<ie.length;Mt++){var Ut=ie[Mt],nn=mt(Ut.document);nn._meta.lwt=Lt;var on=Ut.previous;nn._rev=(0,Ve.CM)(Te,on),Ct[Mt]={document:nn,previous:on}}return(0,oe.Xi)("preStorageWrite",{storageInstance:this.originalStorageInstance,rows:Ct}),K.lockedRun(()=>B.bulkWrite(Ct,ae)).then(an=>{var Ht={error:[]},dn=se(q,Ct,an);Dt.set(Ht,dn);var rn=0===an.error.length?[]:an.error.filter(Cn=>!(409!==Cn.status||Cn.writeRow.previous||Cn.writeRow.document._deleted||!(0,De.ZN)(Cn.documentInDb)._deleted)||(Ht.error.push(Cn),!1));if(rn.length>0){var Pn=rn.map(Cn=>({previous:Cn.documentInDb,document:Object.assign({},Cn.writeRow.document,{_rev:(0,Ve.CM)(K.token,Cn.documentInDb)})}));return K.lockedRun(()=>B.bulkWrite(Pn,ae)).then(Cn=>{(0,Be.Hb)(Ht.error,Cn.error);var qi=se(q,Pn,Cn);return(0,Be.Hb)(dn,qi),Ht})}return Ht})},query:ie=>K.lockedRun(()=>B.query(ie)),count:ie=>K.lockedRun(()=>B.count(ie)),findDocumentsById:(ie,ae)=>K.lockedRun(()=>B.findDocumentsById(ie,ae)),getAttachmentData:(ie,ae,Te)=>K.lockedRun(()=>B.getAttachmentData(ie,ae,Te)),getChangedDocumentsSince:B.getChangedDocumentsSince?(ie,ae)=>K.lockedRun(()=>B.getChangedDocumentsSince((0,De.ZN)(ie),ae)):void 0,cleanup:ie=>K.lockedRun(()=>B.cleanup(ie)),remove:()=>(K.storageInstances.delete(Z),K.lockedRun(()=>B.remove())),close:()=>(K.storageInstances.delete(Z),K.lockedRun(()=>B.close())),changeStream:()=>B.changeStream(),conflictResultionTasks:()=>B.conflictResultionTasks(),resolveConflictResultionTask(ie){if(ie.output.isEqual)return B.resolveConflictResultionTask(ie);var ae=Object.assign({},ie.output.documentData,{_meta:(0,Y.o4)(),_rev:(0,Y.Fq)(),_attachments:{}}),Te=(0,lt.FD)(ae);return delete Te._meta,delete Te._rev,delete Te._attachments,B.resolveConflictResultionTask({id:ie.id,output:{isEqual:!1,documentData:Te}})}};return K.storageInstances.add(Z),Z}function cn(K){if(K.schema.keyCompression)throw(0,fe.Br)("UT5",{args:{params:K}});if(Jt(K.schema))throw(0,fe.Br)("UT6",{args:{params:K}});if(K.schema.attachments&&K.schema.attachments.compression)throw(0,fe.Br)("UT7",{args:{params:K}})}function Jt(K){return!!(K.encrypted&&K.encrypted.length>0||K.attachments&&K.attachments.encrypted)}function On(K,B,$){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,J.A)(function*(K,B,$){if(K.getChangedDocumentsSince)return K.getChangedDocumentsSince(B,$);var q=(0,le.xQ)(K.schema.primaryKey),Z=(0,xe.Ib)(K.schema,function hn(K,B,$){var q=(0,le.xQ)(K.schema.primaryKey),Z=$?$.lwt:Y.MC;return(0,Ne._V)(K.schema,{selector:{$or:[{"_meta.lwt":{$gt:Z}},{"_meta.lwt":{$eq:Z},[q]:{$gt:$&&$?$.id:""}}],"_meta.lwt":{$gte:Z}},sort:[{"_meta.lwt":"asc"},{[q]:"asc"}],skip:0,limit:B})}(K,B,$)),ae=(yield K.query(Z)).documents,Te=(0,Be.dG)(ae);return{documents:ae,checkpoint:Te?{id:Te[q],lwt:Te._meta.lwt}:$||{id:"",lwt:0}}})).apply(this,arguments)}function se(K,B,$){var q=Dt.get($);if(q)return q;var Z=[];if($.error.length>0){for(var ie=new Set,ae=0;ae<$.error.length;ae++)ie.add($.error[ae].documentId);for(var Ct=0;Ct<B.length;Ct++){var Lt=B[Ct].document;ie.has(Lt[K])||Z.push(Q(Lt))}}else{Z.length=B.length-$.error.length;for(var Mt=0;Mt<B.length;Mt++)Z[Mt]=Q(B[Mt].document)}return Z}},467:(Bt,et,R)=>{"use strict";function J(fe,le,L,l,De,lt,Ve){try{var Be=fe[lt](Ve),Y=Be.value}catch(xe){return void L(xe)}Be.done?le(Y):Promise.resolve(Y).then(l,De)}function re(fe){return function(){var le=this,L=arguments;return new Promise(function(l,De){var lt=fe.apply(le,L);function Ve(Y){J(lt,l,De,Ve,Be,"next",Y)}function Be(Y){J(lt,l,De,Ve,Be,"throw",Y)}Ve(void 0)})}}R.d(et,{A:()=>re})},6126:(Bt,et,R)=>{"use strict";function J(l){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(De){return typeof De}:function(De){return De&&"function"==typeof Symbol&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De})(l)}function fe(l){var De=function re(l,De){if("object"!=J(l)||!l)return l;var lt=l[Symbol.toPrimitive];if(void 0!==lt){var Ve=lt.call(l,De||"default");if("object"!=J(Ve))return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===De?String:Number)(l)}(l,"string");return"symbol"==J(De)?De:De+""}function le(l,De){for(var lt=0;lt<De.length;lt++){var Ve=De[lt];Ve.enumerable=Ve.enumerable||!1,Ve.configurable=!0,"value"in Ve&&(Ve.writable=!0),Object.defineProperty(l,fe(Ve.key),Ve)}}function L(l,De,lt){return De&&le(l.prototype,De),lt&&le(l,lt),Object.defineProperty(l,"prototype",{writable:!1}),l}R.d(et,{A:()=>L})},6719:(Bt,et,R)=>{"use strict";R.d(et,{A:()=>re});var J=R(4394);function re(fe,le){fe.prototype=Object.create(le.prototype),fe.prototype.constructor=fe,(0,J.A)(fe,le)}},4394:(Bt,et,R)=>{"use strict";function J(re,fe){return(J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(le,L){return le.__proto__=L,le})(re,fe)}R.d(et,{A:()=>J})},1635:(Bt,et,R)=>{"use strict";function xe(Ge,se,be,K){return new(be||(be=Promise))(function($,q){function Z(Te){try{ae(K.next(Te))}catch(Ct){q(Ct)}}function ie(Te){try{ae(K.throw(Te))}catch(Ct){q(Ct)}}function ae(Te){Te.done?$(Te.value):function B($){return $ instanceof be?$:new be(function(q){q($)})}(Te.value).then(Z,ie)}ae((K=K.apply(Ge,se||[])).next())})}function Ae(Ge){return this instanceof Ae?(this.v=Ge,this):new Ae(Ge)}function Ke(Ge,se,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,K=be.apply(Ge,se||[]),$=[];return B={},Z("next"),Z("throw"),Z("return",function q(Mt){return function(Ut){return Promise.resolve(Ut).then(Mt,Ct)}}),B[Symbol.asyncIterator]=function(){return this},B;function Z(Mt,Ut){K[Mt]&&(B[Mt]=function(nn){return new Promise(function(on,an){$.push([Mt,nn,on,an])>1||ie(Mt,nn)})},Ut&&(B[Mt]=Ut(B[Mt])))}function ie(Mt,Ut){try{!function ae(Mt){Mt.value instanceof Ae?Promise.resolve(Mt.value.v).then(Te,Ct):Lt($[0][2],Mt)}(K[Mt](Ut))}catch(nn){Lt($[0][3],nn)}}function Te(Mt){ie("next",Mt)}function Ct(Mt){ie("throw",Mt)}function Lt(Mt,Ut){Mt(Ut),$.shift(),$.length&&ie($[0][0],$[0][1])}}function st(Ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,se=Ge[Symbol.asyncIterator];return se?se.call(Ge):(Ge=function Re(Ge){var se="function"==typeof Symbol&&Symbol.iterator,be=se&&Ge[se],K=0;if(be)return be.call(Ge);if(Ge&&"number"==typeof Ge.length)return{next:function(){return Ge&&K>=Ge.length&&(Ge=void 0),{value:Ge&&Ge[K++],done:!Ge}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ge),be={},K("next"),K("throw"),K("return"),be[Symbol.asyncIterator]=function(){return this},be);function K($){be[$]=Ge[$]&&function(q){return new Promise(function(Z,ie){!function B($,q,Z,ie){Promise.resolve(ie).then(function(ae){$({value:ae,done:Z})},q)}(Z,ie,(q=Ge[$](q)).done,q.value)})}}}R.d(et,{AQ:()=>Ke,N3:()=>Ae,sH:()=>xe,xN:()=>st}),"function"==typeof SuppressedError&&SuppressedError}},Bt=>{Bt(Bt.s=3093)}]);